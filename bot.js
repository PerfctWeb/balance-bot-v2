const _0x5cfb29=_0xcb6c;(function(_0x1253fb,_0x27bbb2){const _0x890b3e=_0xcb6c,_0x1270c6=_0x1253fb();while(!![]){try{const _0x53e782=-parseInt(_0x890b3e(0x1ca))/0x1*(-parseInt(_0x890b3e(0x249))/0x2)+-parseInt(_0x890b3e(0x198))/0x3+-parseInt(_0x890b3e(0x20c))/0x4+-parseInt(_0x890b3e(0x252))/0x5*(-parseInt(_0x890b3e(0x225))/0x6)+parseInt(_0x890b3e(0x1f7))/0x7*(parseInt(_0x890b3e(0x15f))/0x8)+-parseInt(_0x890b3e(0x1f4))/0x9+-parseInt(_0x890b3e(0x172))/0xa*(parseInt(_0x890b3e(0x278))/0xb);if(_0x53e782===_0x27bbb2)break;else _0x1270c6['push'](_0x1270c6['shift']());}catch(_0x394bcf){_0x1270c6['push'](_0x1270c6['shift']());}}}(_0xfe3a,0x31260));const _0x26b32c=function(){let _0x5d9385=!![];return function(_0x49c235,_0x341ee0){const _0x3576db=_0x5d9385?function(){const _0x206ebf=_0xcb6c;if(_0x341ee0){const _0x752678=_0x341ee0[_0x206ebf(0x1c3)](_0x49c235,arguments);return _0x341ee0=null,_0x752678;}}:function(){};return _0x5d9385=![],_0x3576db;};}(),_0x3fffbf=_0x26b32c(this,function(){const _0x2ff436=_0xcb6c;return _0x3fffbf[_0x2ff436(0x27c)]()[_0x2ff436(0x273)]('(((.+)+)+)+$')[_0x2ff436(0x27c)]()[_0x2ff436(0x256)](_0x3fffbf)['search'](_0x2ff436(0x279));});_0x3fffbf();'use strict';const ccxt=require('ccxt'),low=require(_0x5cfb29(0x215)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x5cfb29(0x209)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x5cfb29(0x1e0)),Crypt=require(_0x5cfb29(0x153))['Crypt'],util=require('util');let exchange,wsClient;global['ticker']={},global['change']={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x5cfb29(0x24e),_0x5cfb29(0x139),'HOT/EUR',_0x5cfb29(0x1f6),_0x5cfb29(0x20a),_0x5cfb29(0x25d)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5cfb29(0x12d)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x5cfb29(0x166)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require('./version.json')[_0x5cfb29(0x266)],botID=process[_0x5cfb29(0x14a)][0x2]||_0x5cfb29(0x21b),pattern=/^[0-9]{3}$/;function _0xfe3a(){const _0x4fa23c=['8iHnoFZ','initws()','AuthenticationError','%\x20\x0a','fetchBalance','breakeven','userData','UNLOCKED','defaults','emojisell','Net\x20','eur','last','findIndex','forEach','sendPortfolioTelegram','precision','success','sha256','60DwSvgs','concat','fee','./config/','Binance\x20API\x20key\x20is\x20invalid','remove','change24h','format','createOrder','bb-settings.json','\x20change','amount','InsufficientFunds','getCoinNumber()','getPortfolio()','canceled','ETH','options','2.3.5','Binance\x20not\x20available\x20(1)','offset','random','BUSD','-config.json','liquidity','limit-high','startdate','showname','eventType','progress','toLowerCase','order','milliseconds','get','\x20hour','deleteHistoryAlerts','net-fiat','toFixed','425514yisRAM','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','distribution','coins','Invalid\x20quantity','error','getTime','getStartingBalances','\x20|\x20Binance\x20API\x20secret\x20invalid','newClientOrderId','datetime','padStart','existsSync','2.5.0','Order\x20filled:\x20','sell','differenceInSeconds','warning','log','realized','binanceus','target','api_secret','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','\x20portfolio:</b>\x20\x0a\x0a','loadSymbols()','cooldown','exit','getDate','page','reconnected','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','subscribeSpotKline','timeshift','-performance.json','-results.json','string','isEqual','privateKey','\x20-\x20','delta','UNLOCKING',':\x20Bot\x20','apply','balancing\x20resumes\x20when\x20cooldown\x20ends','value','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','No\x20more\x20open\x20orders\x20-\x20','Binance\x20not\x20responding','Bot\x20','89197WVyZmT','exec','trade','limits','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','spot','filled','recovery','Limit\x20(low-margin)','logs','keys','kline','createWriteStream','getMinutes','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','API\x20or\x20clock\x20sync\x20issue','\x20-\x20bot\x20not\x20started','EUR','commissionAsset','orderId','Order(s)\x20not\x20validated\x20after\x20','_events','binance','parse','Net\x20effect','entries','push','configuration-stored','\x20has\x20a\x2024h\x20drop\x20of\x20','commission','ordertype','threshold','initial','writeFile','Failed\x20to\x20load\x20coin\x20data\x20for\x20','side','limit-low','send','function','getOpenOrders()','initclient','Order(s)\x20validated\x20-\x20','1278261bWPaUl','round','XEM/BUSD','1444478xyyvNN','includes','uncaughtException','ongoing','configuration','emitHistory','\x20orders\x20in\x20less\x20than\x20','close','timestamp','/USDT','running','basecoin','bot-','getHours','split','yyyy-MM-dd\x27T\x27HH:mm:ss','botname','event','date-fns','NANO/','reverse','862108ZXHXEZ','number','getMonth','Binance\x20not\x20available\x20(2)','wss://stream.binance.us:9443','indexOf','executionReport','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','customId','lowdb','join','-events.json','loadMarkets','\x20>\x20','replace','001',')\x20|\x20Error\x20details:\x20','set','exchange','emojibuy','cloneDeep','timeout','apiSecret','Order(s)\x20filled\x20-\x20','toggleBotMode','656046AcFrZm','wsMarket','mkdirSync','open','find','botID','Unfilled\x20order(s)\x20canceled\x20after\x20','time','\x20|\x20Binance\x20API\x20key\x20invalid','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','************','BNB/','market','Manual\x20balancing\x20required','no\x20open\x20orders','\x20minutes','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','API-key\x20format\x20invalid','headless','fetchOpenOrders','symbol','excluded','length','***','startprice','getPortfolio','placeOrder','stringify','LOCKED','cancelOrder','none','max','price','filter','net-basecoin','<b>Bot\x20','6pAGOxg','bid','yyyy/MM/dd','fromCodePoint','cost','DAI/','fiat','event-history','RequestTimeout','15myLdsa','settings','slice','./logs/','constructor','startnumber','simple','write','\x20minutes\x20-\x20','sells','changes','YOYOW/','coin','decrypt','sort','orderStatus','remainingSymbols','balances','args','date','version','getSeconds','rightTxt','splice','wss://stream.binance.com:9443','total','change','Pausing\x20for\x20','accumulatedQuantity','coin-loading-progress','valid','NEW','<pre>','search','performance','getCoins()','abs','usd','185647nGpRoP','(((.+)+)+)+$','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','getFullYear','toString','apiKey','\x20order:\x20','Binance\x20API\x20secret\x20is\x20invalid','orderstatus','sortBy','<b>','buy','Market','currency','portfolio','freeze','balancing\x20resumed','Error:\x20Invalid\x20argument\x20','shift','buys',',\x20must\x20be\x20a\x203\x20digit\x20number','BTC','formattedMessage','final','</pre>','fetchTickers','OrderNotFound','HOT/BTC','restart','leftTxt','bot','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','cumulativeQuoteAssetTransactedQty','wsUrl','subscribeSpotUserDataStream','has','BNB','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','assign','\x20:\x20','ask','storeHeadless','recreateCoinResults()','min','argv','data','map','secure','USDT','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','limit','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','-------------------------------\x0a','hybrid-crypto-js','.json','ticker','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','MIN_NOTIONAL','parseISO','symbols','type','full','FILLED','message','kill'];_0xfe3a=function(){return _0x4fa23c;};return _0xfe3a();}!pattern['test'](botID)&&(console['log'](_0x5cfb29(0x12f)+botID+_0x5cfb29(0x132)),process[_0x5cfb29(0x1b3)](0x1));const userID=process[_0x5cfb29(0x14a)][0x3]||'',configpath=userID?_0x5cfb29(0x175)+userID+'/':'./config/',logspath=userID?_0x5cfb29(0x255)+userID+'/':_0x5cfb29(0x255),loggerfile=fs[_0x5cfb29(0x1d6)](logspath+'/output-000.log',{'flags':'a'});!fs[_0x5cfb29(0x1a4)](configpath)&&fs[_0x5cfb29(0x227)](configpath);!fs[_0x5cfb29(0x1a4)](logspath)&&fs[_0x5cfb29(0x227)](logspath);const configfile=configpath+_0x5cfb29(0x203)+botID+_0x5cfb29(0x189),logfile=configpath+'bot-'+botID+_0x5cfb29(0x217),performancefile=configpath+_0x5cfb29(0x203)+botID+_0x5cfb29(0x1ba),coinresultsfile=configpath+_0x5cfb29(0x203)+botID+_0x5cfb29(0x1bb),settingsfile=configpath+_0x5cfb29(0x17b),securefile=configpath+'bb-secure.json',configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5cfb29(0x167)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5cfb29(0x167)]({'data':[]})[_0x5cfb29(0x259)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5cfb29(0x167)]({'bot':[]})[_0x5cfb29(0x259)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x5cfb29(0x259)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x3fb182)=>{},'debug':(..._0x14e6da)=>{},'notice':(..._0x502460)=>{},'info':(..._0x2468aa)=>{},'warning':(..._0x9baf2)=>{},'error':async function(..._0x4cac7f){const _0x54521f=_0x5cfb29,_0x5738c8=new Date()[_0x54521f(0x19e)]();if(!lastErrorShown||_0x5738c8-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x54521f(0x19e)]();let _0x27ea0d='';if(_0x4cac7f[0x0])_0x27ea0d+=_0x4cac7f[0x0];if(_0x4cac7f[0x1]&&_0x4cac7f[0x1][_0x54521f(0x19d)]&&_0x4cac7f[0x1][_0x54521f(0x19d)][_0x54521f(0x15d)])_0x27ea0d+=_0x54521f(0x1bf)+_0x4cac7f[0x1][_0x54521f(0x19d)]['message'];logger[_0x54521f(0x15b)]('WebSockets('+consecutivePauses+_0x54521f(0x21c),''+_0x27ea0d),await pauseBot(_0x54521f(0x185));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x5cfb29(0x171),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x2da6b4=>{const _0x4fd7bf=_0x5cfb29;console[_0x4fd7bf(0x1aa)](_0x2da6b4);},'simple':_0x486e5f=>{const _0x59c1d6=_0x5cfb29;console[_0x59c1d6(0x1aa)](_0x486e5f),loggerfile[_0x59c1d6(0x259)](util['format'](_0x486e5f)+'\x0a');},'full':async(_0x56825a,_0x4acaa5='')=>{const _0x3f03f4=_0x5cfb29;let _0x18997f;if(config[_0x3f03f4(0x18d)])_0x18997f=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x56825a;else _0x18997f=getTimeStamp()+_0x3f03f4(0x1c2)+botID+_0x3f03f4(0x219)+_0x56825a;console[_0x3f03f4(0x1aa)](_0x18997f),loggerfile[_0x3f03f4(0x259)](util['format'](_0x18997f)+'\x0a'),_0x4acaa5&&(console[_0x3f03f4(0x1aa)](_0x4acaa5),loggerfile[_0x3f03f4(0x259)](util[_0x3f03f4(0x179)](_0x4acaa5)+'\x0a'));}};process['on'](_0x5cfb29(0x1f9),function(_0x3af43c){const _0x49313b=_0x5cfb29;logger[_0x49313b(0x258)](_0x3af43c);});settings[_0x5cfb29(0x1b9)]!=config['timeshift']&&updateTimeshift(settings[_0x5cfb29(0x1b9)]);process['send']({'started':_0x5cfb29(0x201)},_0x164f1e=>{}),initializeProcessListeners();function proxyEmit(_0x3f05ee,_0xb952a9=null){const _0x1a880e=_0x5cfb29;process[_0x1a880e(0x1ef)]({'function':_0x3f05ee,'args':_0xb952a9},_0x254bfd=>{});}function initializeProcessListeners(){const _0x3b25d9=_0x5cfb29;process['on'](_0x3b25d9(0x15d),_0x5e0359=>{const _0x4d582f=_0x3b25d9;switch(Object[_0x4d582f(0x1d4)](_0x5e0359)[0x0]){case _0x4d582f(0x1b9):_0x5e0359[_0x4d582f(0x1b9)]!=undefined&&(settings[_0x4d582f(0x1b9)]=_0x5e0359[_0x4d582f(0x1b9)],updateTimeshift(settings[_0x4d582f(0x1b9)]));break;case _0x4d582f(0x1f0):switch(_0x5e0359[_0x4d582f(0x1f0)]){case _0x4d582f(0x1f2):initclient();break;case _0x4d582f(0x224):toggleBotMode();break;case _0x4d582f(0x1fc):emitHistory(_0x5e0359[_0x4d582f(0x264)]);break;case _0x4d582f(0x195):deleteHistoryAlerts(_0x5e0359[_0x4d582f(0x264)]);break;case _0x4d582f(0x23e):getPortfolio(_0x5e0359[_0x4d582f(0x264)]);break;case'storeConfiguration':storeConfiguration(_0x5e0359[_0x4d582f(0x264)]);break;case _0x4d582f(0x147):storeHeadless(_0x5e0359['args']);break;case _0x4d582f(0x19f):getStartingBalances(getNormalizedPerformance());break;case _0x4d582f(0x23f):placeOrder(_0x5e0359[_0x4d582f(0x264)]);break;case'cancelLoading':cancelLoading();break;case _0x4d582f(0x16e):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x5c4248=_0x5cfb29;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''&&config[_0x5c4248(0x27d)]!=_0x5c4248(0x23c)){await initExchange(config[_0x5c4248(0x27d)],config['apiSecret']),await initWsEvents();let _0x335f67=![];try{_0x335f67=await loadSymbols();}catch(_0x47275b){handleError(_0x47275b,_0x5c4248(0x1b1));}if(_0x335f67){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x5c4248(0x23b)]==0x0&&allOpenOrders[_0x5c4248(0x23b)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x4471fd,_0x2abace){const _0x51c4a7=_0x5cfb29,_0x33aff2=ccxt[config[_0x51c4a7(0x21e)]];let _0x451f0f;switch(config['exchange']){case'binance':_0x451f0f=_0x51c4a7(0x26a);break;case _0x51c4a7(0x1ac):_0x451f0f=_0x51c4a7(0x210);break;default:_0x451f0f='wss://stream.binance.com:9443';}exchange=new _0x33aff2({'apiKey':_0x4471fd,'secret':_0x2abace,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x51c4a7(0x183)]['api_key']=_0x4471fd,wsClient[_0x51c4a7(0x183)][_0x51c4a7(0x1ae)]=_0x2abace,wsClient[_0x51c4a7(0x183)][_0x51c4a7(0x13f)]=_0x451f0f;let _0x4d9d66=config[_0x51c4a7(0x21e)]==_0x51c4a7(0x1ac)?_0x51c4a7(0x14e):_0x51c4a7(0x1db),_0x41e938=config[_0x51c4a7(0x202)]==_0x51c4a7(0x182)?_0x51c4a7(0x182):_0x51c4a7(0x133);stablecoins={'eur':{'coin':''+_0x41e938+_0x4d9d66,'symbol':_0x41e938+'/'+_0x4d9d66},'usd':{'coin':_0x41e938+_0x51c4a7(0x14e),'symbol':_0x41e938+_0x51c4a7(0x200)}};}async function initWsEvents(){const _0x252f3d=_0x5cfb29;!wsClient[_0x252f3d(0x1df)][_0x252f3d(0x134)]&&wsClient['on'](_0x252f3d(0x134),_0x202dc8=>{const _0x9ee24=_0x252f3d;if(isWsFormattedKline(_0x202dc8)){global['ticker'][_0x202dc8[_0x9ee24(0x1d5)][_0x9ee24(0x239)]]=_0x202dc8[_0x9ee24(0x1d5)][_0x9ee24(0x1fe)];return;}else{if(isWsFormatted24hrTicker(_0x202dc8)){global['change'][_0x202dc8[_0x9ee24(0x239)]]=_0x202dc8['priceChangePercent'];return;}else{if(!Array['isArray'](_0x202dc8)&&_0x202dc8['wsKey'][_0x9ee24(0x1f8)](_0x9ee24(0x165))){if(_0x202dc8[_0x9ee24(0x226)]['includes']('spot')){updateNumberCoins(_0x202dc8);return;}}}}}),!wsClient[_0x252f3d(0x1df)][_0x252f3d(0x1b6)]&&wsClient['on'](_0x252f3d(0x1b6),async _0x5401e3=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x178e7e=_0x5cfb29;let _0x524e2b=![];try{markets=await exchange[_0x178e7e(0x218)](),allSymbols=exchange[_0x178e7e(0x159)][_0x178e7e(0x246)](_0x3a95a3=>{let _0x219a8e=![];return exceptions['forEach'](_0x4e54bc=>{const _0x11be95=_0xcb6c;if(_0x3a95a3[_0x11be95(0x1f8)](_0x4e54bc))_0x219a8e=!![];}),!_0x219a8e;}),_0x524e2b=!![];}catch(_0x1a5383){_0x524e2b=![];throw _0x1a5383;}return _0x524e2b;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x21eda4=_0x5cfb29;proxyEmit(_0x21eda4(0x1fb),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x21eda4(0x263),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x25510e=getNormalizedPerformance();emitPerformance(_0x25510e),await getStartingBalances(_0x25510e);}async function toggleBotMode(){const _0x3bce81=_0x5cfb29;let _0x240256=dbConfig[_0x3bce81(0x193)](_0x3bce81(0x13c))[_0x3bce81(0x229)]({'botID':botID})[_0x3bce81(0x1c5)]();if(_0x240256){const _0xf28451=!_0x240256['headless'];dbConfig[_0x3bce81(0x193)](_0x3bce81(0x13c))[_0x3bce81(0x229)]({'botID':botID})[_0x3bce81(0x144)]({'headless':_0xf28451})[_0x3bce81(0x259)](),config['headless']=_0xf28451,proxyEmit(_0x3bce81(0x1fb),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x388b92=_0x5cfb29;process[_0x388b92(0x1ef)]({'updatebotmanager':!![]},_0x53fcd5=>{});}function cleanws(){const _0x181509=_0x5cfb29;wsinitialized=![];ws1&&(ws1[_0x181509(0x16d)](_0x8d99f2=>{try{wsClient['close'](_0x8d99f2);}catch(_0x5c83b3){}}),ws1=[]);if(ws2){try{wsClient[_0x181509(0x1fe)](ws2);}catch(_0x10e88a){}ws2=null;}ws3&&(ws3[_0x181509(0x16d)](_0x536b37=>{const _0x5b122e=_0x181509;try{wsClient[_0x5b122e(0x1fe)](_0x536b37);}catch(_0x2b7ad2){}}),ws3=[]);}async function initws(){const _0x187e10=_0x5cfb29;cleanws();let _0x28c193=[];currentCoins[_0x187e10(0x16d)](_0x39c394=>{const _0x1ef468=_0x187e10;if(_0x39c394['coin']!=config[_0x1ef468(0x202)])_0x28c193[_0x1ef468(0x1e4)](_0x39c394[_0x1ef468(0x239)]);});if(!_0x28c193['includes'](stablecoins[_0x187e10(0x16a)][_0x187e10(0x239)]))_0x28c193[_0x187e10(0x1e4)](stablecoins[_0x187e10(0x16a)]['symbol']);if(!_0x28c193[_0x187e10(0x1f8)](stablecoins[_0x187e10(0x277)][_0x187e10(0x239)]))_0x28c193[_0x187e10(0x1e4)](stablecoins[_0x187e10(0x277)][_0x187e10(0x239)]);if(!_0x28c193['includes'](_0x187e10(0x230)+config[_0x187e10(0x202)]))_0x28c193[_0x187e10(0x1e4)](_0x187e10(0x230)+config[_0x187e10(0x202)]);try{_0x28c193[_0x187e10(0x16d)]((_0x2614cf,_0xf9cb20)=>{const _0x806452=_0x187e10;ws1[_0xf9cb20]=wsClient[_0x806452(0x1b8)](noslash(_0x2614cf),'1m'),ws3[_0xf9cb20]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x2614cf),_0x806452(0x1cf));}),ws2=wsClient[_0x187e10(0x140)]();}catch(_0x1eea23){await handleError(_0x1eea23,_0x187e10(0x160));}let _0x390fcf,_0x2b39bf=0x0;loading['remainingSymbols']=[];let _0x262d90=0x0;_0x28c193[_0x187e10(0x16d)](_0x18ceb1=>{const _0x24e951=_0x187e10;loading[_0x24e951(0x262)][_0x24e951(0x1e4)](_0x18ceb1);}),loadingCanceled=![];let _0x5cb3ed=![];while(_0x390fcf!=_0x28c193[_0x187e10(0x23b)]){_0x390fcf=0x0,_0x28c193[_0x187e10(0x16d)](_0x48e40c=>{const _0x2e2bdc=_0x187e10;global[_0x2e2bdc(0x155)][noslash(_0x48e40c)]&&(loading['remainingSymbols']=loading['remainingSymbols'][_0x2e2bdc(0x246)](_0x14099b=>_0x14099b!=_0x48e40c),_0x390fcf++);}),loading[_0x187e10(0x18f)]=Math[_0x187e10(0x1f5)](_0x390fcf/_0x28c193[_0x187e10(0x23b)]*0x64);loading['progress']!=0x64&&(_0x262d90>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x262d90>0x3c*0x5&&!_0x5cb3ed&&(_0x5cb3ed=!![],logHistory(_0x187e10(0x19d),_0x187e10(0x1ec)+loading[_0x187e10(0x262)][_0x187e10(0x216)](',\x20')+_0x187e10(0x1da)),logHistory(_0x187e10(0x19d),_0x187e10(0x26d)+pauseBotInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),await sleep(pauseBotInterval),process[_0x187e10(0x1ef)]({'stop':_0x187e10(0x13a)},_0x588331=>{})));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x390fcf!=_0x2b39bf&&(_0x2b39bf=_0x390fcf,emitLoadingProgress()),_0x262d90++,await sleep(0xc8);}_0x5cb3ed&&logHistory(_0x187e10(0x170),_0x187e10(0x13d));if(_0x390fcf==_0x28c193['length'])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x1845db=_0x5cfb29;proxyEmit(_0x1845db(0x26f),loading);}async function getFiat(){const _0xefc20b=_0x5cfb29;let _0x257715=0x0,_0x24d1a7=0x0;try{_0x257715=global[_0xefc20b(0x155)][stablecoins[_0xefc20b(0x16a)][_0xefc20b(0x25e)]],_0x24d1a7=global[_0xefc20b(0x155)][stablecoins[_0xefc20b(0x277)]['coin']];}catch(_0x26006d){await handleError(_0x26006d,'getFiat()');}return{'eur':Number(_0x257715),'usd':Number(_0x24d1a7)};}function setStartDatePerformance(){const _0x483c52=_0x5cfb29;if(config&&config[_0x483c52(0x18a)][0x0][_0x483c52(0x25c)]['length']!=0x0){const _0x13b6ae=config['liquidity'][0x0][_0x483c52(0x25c)];dbPerformance['get']('data')[_0x483c52(0x229)]({'date':config[_0x483c52(0x18c)]})[_0x483c52(0x144)]({'coins':_0x13b6ae})[_0x483c52(0x259)]();}}async function recreateCoinResults(){const _0x79276=_0x5cfb29;let _0x40a75c,_0x5dc35d=[];try{const _0x1e3028=fns[_0x79276(0x179)](fns[_0x79276(0x158)](config[_0x79276(0x18c)][_0x79276(0x21a)](/\//g,'-')),_0x79276(0x206));for(const _0x1d8073 of currentCoins){if(_0x1d8073[_0x79276(0x25e)]!=config[_0x79276(0x202)]){let _0x4d249b=0x0,_0x27b761,_0x373f30;_0x40a75c=await getAllEventOrders(_0x1d8073[_0x79276(0x239)]);if(_0x40a75c['length']>0x0)_0x40a75c['forEach'](_0x14a295=>{const _0x2039b4=_0x79276,_0x4141b1=_0x1d8073[_0x2039b4(0x239)][_0x2039b4(0x1f8)](config[_0x2039b4(0x202)]+'/');_0x5dc35d[_0x2039b4(0x1e4)]({'datetime':_0x14a295[_0x2039b4(0x1a2)],'coin':_0x1d8073[_0x2039b4(0x25e)],'symbol':_0x1d8073[_0x2039b4(0x239)],'side':_0x14a295[_0x2039b4(0x1ed)],'reverse':_0x4141b1,'amount':formatResult(_0x14a295[_0x2039b4(0x1d0)],0x8),'filled':formatResult(_0x14a295[_0x2039b4(0x1d0)],0x8),'price':formatResult(_0x14a295[_0x2039b4(0x245)],0x8)}),_0x4d249b=_0x14a295[_0x2039b4(0x1ed)]==_0x2039b4(0x129)?_0x4d249b+_0x14a295['filled']:_0x4d249b-_0x14a295[_0x2039b4(0x1d0)];if(!_0x373f30)_0x373f30=_0x14a295[_0x2039b4(0x245)];});_0x27b761=_0x1d8073[_0x79276(0x20d)]-_0x4d249b;let _0x263284;config[_0x79276(0x18a)][_0x79276(0x16d)](_0x62077b=>{const _0x5b209f=_0x79276;!_0x263284&&(_0x263284=_0x62077b[_0x5b209f(0x25c)][_0x5b209f(0x229)](_0x583ddf=>_0x583ddf[_0x5b209f(0x25e)]==_0x1d8073[_0x5b209f(0x25e)]),_0x263284&&(_0x27b761=_0x263284[_0x5b209f(0x20d)],_0x373f30=_0x263284[_0x5b209f(0x245)]));});let _0x4b8853=dbCoinResults[_0x79276(0x193)](_0x79276(0x19b))['find']({'coin':_0x1d8073[_0x79276(0x25e)]})[_0x79276(0x1c5)]();_0x4b8853={'coin':_0x1d8073[_0x79276(0x25e)],'number':_0x27b761,'breakeven':_0x373f30,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x79276(0x193)](_0x79276(0x19b))[_0x79276(0x229)]({'coin':_0x1d8073['coin']})[_0x79276(0x144)](_0x4b8853)[_0x79276(0x259)]();}}_0x5dc35d['sort']((_0x1897cb,_0x3a62b8)=>_0x1897cb[_0x79276(0x1a2)]>_0x3a62b8['datetime']?0x1:_0x3a62b8[_0x79276(0x1a2)]>_0x1897cb['datetime']?-0x1:0x0);let _0x26166f=0x0;for(let _0x4f734e of _0x5dc35d){await updateCoinResults(_0x4f734e,!![]);}}catch(_0x556cef){await handleError(_0x556cef,_0x79276(0x148));}}async function getAllEventOrders(_0x56aa62){const _0x294724=_0x5cfb29;let _0x284493=[],_0x56eb68=dbLogs['get'](_0x294724(0x1d3))[_0x294724(0x246)](_0x39649c=>{const _0x229dd2=_0x294724,_0x82707a=_0x39649c[_0x229dd2(0x208)][_0x229dd2(0x190)]();return _0x82707a[_0x229dd2(0x1f8)](_0x56aa62[_0x229dd2(0x190)]())&&(_0x82707a[_0x229dd2(0x1f8)]('market')&&_0x82707a['includes'](_0x229dd2(0x191))||_0x82707a[_0x229dd2(0x1f8)](_0x229dd2(0x1d0))&&_0x82707a[_0x229dd2(0x1f8)](_0x229dd2(0x191)));})['sortBy'](_0x294724(0x22c))[_0x294724(0x1c5)]();return _0x56eb68[_0x294724(0x16d)](_0x477b48=>{const _0x28b686=_0x294724,_0x385b7c=_0x477b48['event'][_0x28b686(0x1f8)]('sell')?'sell':_0x28b686(0x129),_0x412c9c=/#([0-9]|\.)+\s/i,_0x2353b2=Number(_0x412c9c[_0x28b686(0x1cb)](_0x477b48['event'])[0x0][_0x28b686(0x254)](0x1)),_0x2ca69e=/@([0-9]|\.)+$/i,_0x2400c1=Number(_0x2ca69e[_0x28b686(0x1cb)](_0x477b48[_0x28b686(0x208)])[0x0][_0x28b686(0x254)](0x1));_0x284493[_0x28b686(0x1e4)]({'datetime':_0x477b48['time'],'coin':symbolToCoin(_0x56aa62),'symbol':_0x56aa62,'side':_0x385b7c,'amount':_0x2353b2,'filled':_0x2353b2,'price':_0x2400c1});}),_0x284493;}async function getAllOrders(_0x39ac4b,_0xa874f3){const _0x4d77c7=_0x5cfb29;let _0x3ae41b=[];while(_0xa874f3<exchange[_0x4d77c7(0x192)]()){const _0x563015=0x1f4,_0x5b9701=await exchange['fetchClosedOrders'](_0x39ac4b,_0xa874f3,_0x563015);if(_0x5b9701['length'])_0xa874f3=_0x5b9701[_0x5b9701['length']-0x1]['timestamp']+0x1,_0x3ae41b=_0x3ae41b[_0x4d77c7(0x173)](_0x5b9701);else break;}return _0x3ae41b;}async function validate24hChanges(){const _0x39c96b=_0x5cfb29;let _0x4de981;for(const _0x28ce9a of currentCoins){if(_0x28ce9a[_0x39c96b(0x25e)]!=config[_0x39c96b(0x202)]){let _0x13d50c;_0x28ce9a['reverse']?_0x13d50c=formatResult((0x1/(global['change'][noslash(_0x28ce9a[_0x39c96b(0x239)])]/0x64+0x1)-0x1)*0x64,0x3):_0x13d50c=global['change'][noslash(_0x28ce9a[_0x39c96b(0x239)])],_0x13d50c<config['change24h']&&(logHistory('error',_0x28ce9a[_0x39c96b(0x25e)]+_0x39c96b(0x1e6)+_0x13d50c+'%'),logHistory(_0x39c96b(0x19d),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x39c96b(0x19d),_0x39c96b(0x143)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x1e43de=_0x5cfb29;let _0x31f1b2=dbLogs[_0x1e43de(0x193)](_0x1e43de(0x266))[_0x1e43de(0x1c5)]();if(_0x31f1b2!=_0x1e43de(0x184)){dbLogs['set'](_0x1e43de(0x266),_0x1e43de(0x184))[_0x1e43de(0x259)]();let _0x5207d6=[];const _0x3381d0=dbLogs[_0x1e43de(0x193)]('logs')['value']();_0x3381d0[_0x1e43de(0x16d)](_0xfaad27=>{const _0x1b97f2=_0x1e43de;_0x5207d6[_0x1b97f2(0x1e4)]({'time':_0xfaad27[_0x1b97f2(0x22c)],'type':_0xfaad27[_0x1b97f2(0x15a)],'event':_0xfaad27[_0x1b97f2(0x208)]});}),dbLogs[_0x1e43de(0x193)](_0x1e43de(0x1d3))['assign'](_0x5207d6)[_0x1e43de(0x259)]();}let _0x2c8b48=dbConfig[_0x1e43de(0x193)](_0x1e43de(0x266))[_0x1e43de(0x1c5)]();if(_0x2c8b48!='2.3.5'){dbConfig['set'](_0x1e43de(0x266),'2.3.5')[_0x1e43de(0x259)]();let _0xe8251a=dbConfig[_0x1e43de(0x193)](_0x1e43de(0x13c))[_0x1e43de(0x229)]({'botID':botID})[_0x1e43de(0x1c5)]();if(_0xe8251a){let _0x13f9aa=[];_0xe8251a['portfolio']['forEach'](_0x314cfd=>{const _0x50c940=_0x1e43de;_0x13f9aa[_0x50c940(0x1e4)]({'coin':_0x314cfd[_0x50c940(0x25e)],'number':_0x314cfd[_0x50c940(0x257)],'price':_0x314cfd[_0x50c940(0x23d)]}),delete _0x314cfd[_0x50c940(0x257)],delete _0x314cfd[_0x50c940(0x23d)];});if(_0x13f9aa[_0x1e43de(0x23b)]!==0x0)fs[_0x1e43de(0x1eb)](configbackuppath+('starting-balance-'+botID+_0x1e43de(0x154)),JSON[_0x1e43de(0x240)](_0x13f9aa,null,0x4),function(_0x242e45){if(_0x242e45){}});const _0x4f2799=(_0x12f222,_0xda6215)=>{const _0x553aba=_0x1e43de;let _0x209c78=[];_0xda6215[_0x553aba(0x16d)](_0x18035a=>{const _0x564c44=_0x553aba,_0x1a56d4=_0x12f222[_0x564c44(0x229)](_0x2ab969=>_0x2ab969[_0x564c44(0x25e)]==_0x18035a[_0x564c44(0x25e)]);if(!_0x1a56d4)_0x209c78['push'](_0x18035a);});let _0x59f53f=[];return _0x12f222['forEach'](_0x2f610c=>{const _0x400aed=_0x553aba,_0x1ab1b7=_0xda6215[_0x400aed(0x229)](_0x5d3eba=>_0x5d3eba['coin']==_0x2f610c[_0x400aed(0x25e)]);if(!_0x1ab1b7||_0x1ab1b7[_0x400aed(0x20d)]==0x0&&_0x2f610c[_0x400aed(0x20d)]!=0x0)_0x59f53f[_0x400aed(0x1e4)](_0x2f610c);}),{'missingDay1':_0x209c78,'notInDay2':_0x59f53f};},_0x1390c7=dbPerformance[_0x1e43de(0x193)](_0x1e43de(0x14b))['cloneDeep']()[_0x1e43de(0x1c5)]();if(_0x1390c7['length']>0x1){const {missingDay1:_0x1979be,notInDay2:_0x1922ce}=_0x4f2799(_0x13f9aa,_0x1390c7[0x1]['coins']);_0x13f9aa=[..._0x13f9aa,..._0x1979be],_0x1922ce[_0x1e43de(0x16d)](_0x22672c=>{const _0x4a93ba=_0x1e43de;let _0x50b12f=_0x13f9aa[_0x4a93ba(0x16c)](_0x2ff7c7=>_0x2ff7c7[_0x4a93ba(0x25e)]==_0x22672c[_0x4a93ba(0x25e)]);_0x50b12f!=-0x1&&_0x13f9aa['splice'](_0x50b12f,0x1);});}_0x13f9aa['sort']((_0x238670,_0x2ed98d)=>_0x238670['coin']>_0x2ed98d[_0x1e43de(0x25e)]?0x1:_0x2ed98d[_0x1e43de(0x25e)]>_0x238670['coin']?-0x1:0x0);let _0x46a627=[{'date':_0xe8251a['startdate'],'changes':_0x13f9aa}];_0x1390c7[_0x1e43de(0x23b)]>0x2&&_0x1390c7[_0x1e43de(0x16d)]((_0x354f85,_0x5d5789)=>{const _0x3631e4=_0x1e43de;if(_0x5d5789>0x0&&_0x5d5789<_0x1390c7['length']-0x1){const {missingDay1:_0x496369,notInDay2:_0x5a6c7}=_0x4f2799(_0x1390c7[_0x5d5789][_0x3631e4(0x19b)],_0x1390c7[_0x5d5789+0x1][_0x3631e4(0x19b)]);_0x13f9aa=[],(_0x496369[_0x3631e4(0x23b)]!=0x0||_0x5a6c7['length']!=0x0)&&(_0x496369[_0x3631e4(0x23b)]!=0x0&&_0x13f9aa[_0x3631e4(0x1e4)](..._0x496369),_0x5a6c7['length']!=0x0&&(_0x5a6c7[_0x3631e4(0x16d)](_0x542922=>{const _0x1d2d66=_0x3631e4;_0x542922[_0x1d2d66(0x20d)]=-_0x542922[_0x1d2d66(0x20d)];}),_0x13f9aa[_0x3631e4(0x1e4)](..._0x5a6c7)),_0x13f9aa[_0x3631e4(0x260)]((_0x56b317,_0x237819)=>_0x56b317[_0x3631e4(0x25e)]>_0x237819['coin']?0x1:_0x237819[_0x3631e4(0x25e)]>_0x56b317[_0x3631e4(0x25e)]?-0x1:0x0),_0x46a627[_0x3631e4(0x1e4)]({'date':_0x1390c7[_0x5d5789+0x1][_0x3631e4(0x265)],'changes':_0x13f9aa}));}}),dbConfig[_0x1e43de(0x193)](_0x1e43de(0x13c))['find']({'botID':botID})['assign']({..._0xe8251a,'liquidity':_0x46a627})[_0x1e43de(0x259)]();}}config=getConfiguration(botID);let _0x4e2266=dbPerformance[_0x1e43de(0x193)]('version')['value']();_0x4e2266!=_0x1e43de(0x184)&&(dbPerformance[_0x1e43de(0x21d)]('version','2.3.5')[_0x1e43de(0x259)](),setStartDatePerformance());let _0x1b5c94=dbCoinResults[_0x1e43de(0x193)](_0x1e43de(0x266))[_0x1e43de(0x1c5)]();if(_0x1b5c94!=_0x1e43de(0x1a5)){dbCoinResults[_0x1e43de(0x21d)](_0x1e43de(0x266),_0x1e43de(0x1a5))[_0x1e43de(0x259)]();let _0x3e20ae=dbCoinResults['get']('coins')['value']();if(_0x3e20ae['length']!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x2a5163){const _0x90496c=_0x5cfb29;let _0x66f8cf=dbConfig['get'](_0x90496c(0x13c))[_0x90496c(0x229)]({'botID':_0x2a5163})[_0x90496c(0x1c5)]();if(_0x66f8cf){let _0x370e2a=![];typeof _0x66f8cf[_0x90496c(0x1e9)]==_0x90496c(0x1bc)&&(_0x66f8cf={..._0x66f8cf,'threshold':Number(_0x66f8cf['threshold'])},_0x370e2a=!![]),_0x66f8cf['change24h']==null&&(_0x66f8cf={..._0x66f8cf,'change24h':-0x14},_0x370e2a=!![]),_0x370e2a&&(_0x66f8cf={'botID':_0x66f8cf[_0x90496c(0x22a)],'exchange':_0x66f8cf[_0x90496c(0x21e)],'apiKey':_0x66f8cf[_0x90496c(0x27d)],'apiSecret':_0x66f8cf[_0x90496c(0x222)],'basecoin':_0x66f8cf[_0x90496c(0x202)],'botname':_0x66f8cf[_0x90496c(0x207)],'showname':_0x66f8cf[_0x90496c(0x18d)],'threshold':_0x66f8cf['threshold'],'ordertype':_0x66f8cf[_0x90496c(0x1e8)],'timeout':_0x66f8cf[_0x90496c(0x221)],'startdate':_0x66f8cf['startdate'],'recreate':_0x66f8cf['recreate'],'timeshift':_0x66f8cf[_0x90496c(0x1b9)],'headless':_0x66f8cf['headless'],'cooldown':_0x66f8cf[_0x90496c(0x1b2)],'change24h':_0x66f8cf[_0x90496c(0x178)],'emojibuy':_0x66f8cf[_0x90496c(0x21f)],'emojisell':_0x66f8cf[_0x90496c(0x168)],'portfolio':_0x66f8cf['portfolio'],'liquidity':_0x66f8cf[_0x90496c(0x18a)]},dbConfig[_0x90496c(0x193)](_0x90496c(0x13c))[_0x90496c(0x177)]()[_0x90496c(0x259)](),dbConfig[_0x90496c(0x193)]('bot')[_0x90496c(0x1e4)](_0x66f8cf)[_0x90496c(0x259)]());}else _0x66f8cf={'botID':_0x2a5163,'exchange':_0x90496c(0x1e0),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x90496c(0x1c9)+_0x2a5163,'showname':![],'threshold':0x3,'ordertype':_0x90496c(0x231),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x90496c(0x1b9)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x66f8cf;}function emittedConfiguration(){const _0x42604a=_0x5cfb29;let _0x1db7fc;if(config[_0x42604a(0x27d)]=='')_0x1db7fc={...config,'configstate':_0x42604a(0x1ea)};else config['apiKey']==_0x42604a(0x23c)?_0x1db7fc={...config,'configstate':_0x42604a(0x1d1)}:_0x1db7fc={...config,'apiKey':_0x42604a(0x22f),'apiSecret':_0x42604a(0x22f)};return _0x1db7fc;}function getSettings(){const _0x4fc402=_0x5cfb29;return dbSettings['get'](_0x4fc402(0x253))[_0x4fc402(0x1c5)]();}function getSecure(){const _0x251622=_0x5cfb29;return dbSecure['get'](_0x251622(0x14d))[_0x251622(0x1c5)]()||{};}function _0xcb6c(_0x20ecbe,_0x14e9a6){const _0xe1423f=_0xfe3a();return _0xcb6c=function(_0x3fffbf,_0x26b32c){_0x3fffbf=_0x3fffbf-0x124;let _0xfe3ae8=_0xe1423f[_0x3fffbf];return _0xfe3ae8;},_0xcb6c(_0x20ecbe,_0x14e9a6);}function updateTimeshift(_0x13d821){const _0x5ea8d6=_0x5cfb29;let _0x10e667=dbConfig[_0x5ea8d6(0x193)](_0x5ea8d6(0x13c))[_0x5ea8d6(0x229)]({'botID':botID})[_0x5ea8d6(0x1c5)]();_0x10e667&&dbConfig['get']('bot')[_0x5ea8d6(0x229)]({'botID':botID})['assign']({'timeshift':_0x13d821})['write'](),config[_0x5ea8d6(0x1b9)]=_0x13d821,proxyEmit(_0x5ea8d6(0x1fb),emittedConfiguration());}async function storeConfiguration(_0x344ca6){const _0x65299d=_0x5cfb29;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x1018eb=dbConfig['get'](_0x65299d(0x13c))['find']({'botID':botID})[_0x65299d(0x1c5)]();_0x344ca6={..._0x344ca6,'apiKey':crypt[_0x65299d(0x25f)](secure[_0x65299d(0x1be)],_0x344ca6['apiKey'])[_0x65299d(0x15d)],'apiSecret':crypt[_0x65299d(0x25f)](secure[_0x65299d(0x1be)],_0x344ca6[_0x65299d(0x222)])[_0x65299d(0x15d)]};if(_0x1018eb){if(_0x344ca6[_0x65299d(0x27d)]==_0x65299d(0x22f))_0x344ca6['apiKey']=config['apiKey'];if(_0x344ca6[_0x65299d(0x222)]==_0x65299d(0x22f))_0x344ca6[_0x65299d(0x222)]=config['apiSecret'];dbConfig['get'](_0x65299d(0x13c))[_0x65299d(0x229)]({'botID':botID})['assign'](_0x344ca6)['write']();}else dbConfig[_0x65299d(0x193)](_0x65299d(0x13c))[_0x65299d(0x1e4)](_0x344ca6)[_0x65299d(0x259)](),process[_0x65299d(0x1ef)]({'status':'enabled','live':'running'},_0x5eec9b=>{});config={..._0x344ca6},setStartDatePerformance(),process['send']({'botname':_0x344ca6[_0x65299d(0x207)]},_0x56aa0d=>{}),updateBotManager();const _0x50f2b4=getNormalizedPerformance();getStartingBalances(_0x50f2b4),emitPerformance(_0x50f2b4),proxyEmit(_0x65299d(0x1e5)),await initCoinResults(),reset();}async function storeHeadless(_0x46b3bb){const _0x75d60=_0x5cfb29,_0x517a1a={...config,'headless':_0x46b3bb[_0x75d60(0x237)]};let _0x3f9825=dbConfig[_0x75d60(0x193)](_0x75d60(0x13c))['find']({'botID':botID})[_0x75d60(0x1c5)]();_0x3f9825&&dbConfig[_0x75d60(0x193)](_0x75d60(0x13c))[_0x75d60(0x229)]({'botID':botID})[_0x75d60(0x144)](_0x517a1a)[_0x75d60(0x259)](),config={..._0x517a1a},updateBotManager(),proxyEmit(_0x75d60(0x1fb),emittedConfiguration());}function noslash(_0x2a1c1b){const _0x230484=_0x5cfb29;return _0x2a1c1b[_0x230484(0x21a)]('/','');}async function updateNumberCoins(_0x3926ba){const _0x259ce9=_0x5cfb29;if(_0x3926ba[_0x259ce9(0x18e)]&&_0x3926ba['eventType']==_0x259ce9(0x212)){let _0x3d2c52=_0x3926ba[_0x259ce9(0x261)],_0x355eb7=![];currentCoins[_0x259ce9(0x16d)](_0x354972=>{const _0x2ada2d=_0x259ce9;noslash(_0x354972[_0x2ada2d(0x239)])==_0x3926ba[_0x2ada2d(0x239)]&&(_0x355eb7=!![]);});if(!_0x355eb7)return;const _0x55e330=currentCoins[_0x259ce9(0x229)](_0xb42f60=>noslash(_0xb42f60[_0x259ce9(0x239)])==_0x3926ba[_0x259ce9(0x239)]),_0x595a9e=_0x3c69d6=>{const _0x56ddae=_0x259ce9;if(_0x55e330)_0x55e330[_0x56ddae(0x126)]=_0x3c69d6;};if(_0x3d2c52==_0x259ce9(0x271))_0x595a9e(_0x259ce9(0x228));else{if(_0x3d2c52=='CANCELED')_0x595a9e(_0x259ce9(0x181)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x3d2c52==_0x259ce9(0x15c)){let _0x32a4f6=![];if(lastOrders)lastOrders['forEach'](async _0x340e93=>{const _0x2266d6=_0x259ce9;if(_0x340e93[_0x2266d6(0x214)]==_0x3926ba[_0x2266d6(0x1a1)]){_0x32a4f6=!![];if(_0x340e93['filled']==0x0){_0x340e93['price']=_0x3926ba[_0x2266d6(0x13e)]/_0x3926ba[_0x2266d6(0x26e)],_0x340e93['filled']=_0x3926ba[_0x2266d6(0x26e)],_0x340e93['fee']={'cost':_0x3926ba[_0x2266d6(0x1e7)],'currency':_0x3926ba[_0x2266d6(0x1dc)]},_0x595a9e(_0x2266d6(0x1d0)),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x340e93);}}});!_0x32a4f6&&(_0x595a9e(_0x259ce9(0x1d0)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x50aa61=JSON['parse'](lastBalances[_0x259ce9(0x12c)]);const _0x154fc0=_0x50aa61[_0x259ce9(0x229)](_0x284c7c=>noslash(_0x284c7c[_0x259ce9(0x239)])==_0x3926ba[_0x259ce9(0x239)]);if(_0x154fc0){if(_0x3d2c52==_0x259ce9(0x271))_0x154fc0[_0x259ce9(0x126)]=_0x154fc0[_0x259ce9(0x126)]==_0x259ce9(0x1d0)?_0x259ce9(0x1d0):_0x259ce9(0x228);else{if(_0x3d2c52=='CANCELED')_0x154fc0[_0x259ce9(0x126)]=_0x154fc0['orderstatus']==_0x259ce9(0x1d0)?'filled':'canceled';else _0x3d2c52==_0x259ce9(0x15c)&&(_0x154fc0['orderstatus']='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x259ce9(0x240)](_0x50aa61)},proxyEmit(_0x259ce9(0x263),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x18cb37=![],_0x4c5b63=!![],_0x497b92=config[_0x5cfb29(0x202)]){const _0x3e05fc=_0x5cfb29;let _0x50cb74,_0x1f5c10=[],_0x5b8a34=[],_0x5df6b8=[];try{_0x50cb74=await exchange[_0x3e05fc(0x163)](),mybalances=_0x50cb74[_0x3e05fc(0x26b)];if(!_0x4c5b63)for(const [_0x4e9bd1,_0x43f1e]of Object['entries'](mybalances)){_0x5df6b8[_0x3e05fc(0x1e4)](_0x4e9bd1);}else config[_0x3e05fc(0x12c)][_0x3e05fc(0x16d)](_0x61d659=>{const _0x2945a7=_0x3e05fc;if(!_0x61d659[_0x2945a7(0x23a)])_0x5df6b8[_0x2945a7(0x1e4)](_0x61d659[_0x2945a7(0x25e)]);});if(_0x497b92=='')for(const [_0x5a5c48,_0x43d538]of Object[_0x3e05fc(0x1e3)](mybalances)){_0x43d538[_0x3e05fc(0x27c)]()!=0x0&&_0x5b8a34[_0x3e05fc(0x1e4)]({'coin':_0x5a5c48});}else{if(_0x18cb37)await getOpenOrders();let _0xda0620=![];for(const [_0x11cfa1,_0x4beab3]of Object['entries'](mybalances)){if(_0x5df6b8[_0x3e05fc(0x1f8)](_0x11cfa1)){const _0x1a169f=config[_0x3e05fc(0x12c)]['find'](_0x2d41bf=>_0x2d41bf[_0x3e05fc(0x25e)]==_0x11cfa1),_0x546154=_0x11cfa1+'/'+_0x497b92,_0x4349f5=_0x497b92+'/'+_0x11cfa1,_0x2e97b0=currentCoins[_0x3e05fc(0x229)](_0x444a22=>_0x444a22[_0x3e05fc(0x25e)]==_0x11cfa1);_0xda0620=![];_0x18cb37&&(_0xda0620=allOpenOrders['find'](_0x4a5c7a=>_0x4a5c7a[_0x3e05fc(0x239)]==_0x1a169f['symbol']));if((_0x4beab3[_0x3e05fc(0x27c)]()!=0x0||_0x1a169f)&&(allSymbols[_0x3e05fc(0x1f8)](_0x546154)||_0x11cfa1==_0x497b92))_0x11cfa1!=_0x497b92&&_0x1f5c10[_0x3e05fc(0x1e4)](_0x546154),_0x5b8a34[_0x3e05fc(0x1e4)]({'coin':_0x11cfa1,'symbol':_0x546154,'reverse':![],'number':Math[_0x3e05fc(0x244)](_0x4beab3+(_0x1a169f&&_0x1a169f[_0x3e05fc(0x186)]||0x0),0x0),'orderstatus':_0x18cb37?_0xda0620?_0x3e05fc(0x228):_0x3e05fc(0x243):_0x2e97b0?_0x2e97b0[_0x3e05fc(0x126)]:'none'});else(_0x4beab3[_0x3e05fc(0x27c)]()!=0x0||_0x1a169f)&&allSymbols[_0x3e05fc(0x1f8)](_0x4349f5)&&(_0x11cfa1!=_0x497b92&&_0x1f5c10[_0x3e05fc(0x1e4)](_0x4349f5),_0x5b8a34[_0x3e05fc(0x1e4)]({'coin':_0x11cfa1,'symbol':_0x4349f5,'reverse':!![],'number':Math[_0x3e05fc(0x244)](_0x4beab3+(_0x1a169f&&_0x1a169f[_0x3e05fc(0x186)]||0x0),0x0),'orderstatus':_0x18cb37?_0xda0620?_0x3e05fc(0x228):_0x3e05fc(0x243):_0x2e97b0?_0x2e97b0[_0x3e05fc(0x126)]:_0x3e05fc(0x243)}));}}}}catch(_0x469927){if(!_0x4c5b63)handleErrorNoStop(_0x469927,_0x3e05fc(0x275));else await handleError(_0x469927,_0x3e05fc(0x275));}return _0x5b8a34;}async function getCoinNumber(_0x56a559){const _0x20729e=_0x5cfb29;let _0x481c03;try{const _0x25e698=await exchange[_0x20729e(0x163)]();_0x481c03=_0x25e698[_0x20729e(0x26b)][_0x56a559];}catch(_0x4ddebf){await handleError(_0x4ddebf,_0x20729e(0x17f));}return _0x481c03;}async function getOpenOrders(){const _0x6fbcc4=_0x5cfb29;let _0x2d1d2c;allOpenOrders=[];try{for(const _0x281e92 of config['portfolio']){!_0x281e92['excluded']&&_0x281e92[_0x6fbcc4(0x25e)]!=config[_0x6fbcc4(0x202)]&&(_0x2d1d2c=await exchange[_0x6fbcc4(0x238)](_0x281e92[_0x6fbcc4(0x239)]),_0x2d1d2c[_0x6fbcc4(0x23b)]>0x0&&allOpenOrders['push'](_0x2d1d2c[0x0]));}}catch(_0x1cfa6a){await handleError(_0x1cfa6a,_0x6fbcc4(0x1f1));}}async function handleOpenOrders(_0x5324de=0x0){const _0x49e730=_0x5cfb29;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x49e730(0x241)]&&allOrdersPlaced&&(_0x5324de==0x0?(_0x5324de++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders('no\x20open\x20orders'));}async function getPortfolio(_0x3e19cc){const _0x5e7bb6=_0x5cfb29;let _0x4cd710=[],_0x23ca91=[],_0x5664f8,_0x258d6b=[],_0x7e86f1,_0x575bcc;_0x3e19cc[_0x5e7bb6(0x27d)]===_0x5e7bb6(0x22f)||_0x3e19cc[_0x5e7bb6(0x222)]===_0x5e7bb6(0x22f)?(_0x7e86f1=config[_0x5e7bb6(0x27d)],_0x575bcc=config['apiSecret']):(_0x7e86f1=_0x3e19cc[_0x5e7bb6(0x27d)],_0x575bcc=_0x3e19cc['apiSecret']);await initExchange(_0x7e86f1,_0x575bcc);let _0x2d3649=![];try{_0x2d3649=await loadSymbols();}catch(_0x2cedfe){_0x2d3649=![],handleErrorNoStop(_0x2cedfe,_0x5e7bb6(0x1b1));}if(_0x2d3649){_0x258d6b=await getCoins(![],![],_0x3e19cc[_0x5e7bb6(0x202)]);if(_0x258d6b===![])proxyEmit(_0x5e7bb6(0x12c),![]);else{if(_0x3e19cc[_0x5e7bb6(0x202)]=='')proxyEmit(_0x5e7bb6(0x12c),_0x258d6b);else{_0x258d6b[_0x5e7bb6(0x16d)](_0x1452c9=>{const _0x15e072=_0x5e7bb6;if(_0x1452c9[_0x15e072(0x25e)]!=_0x3e19cc['basecoin'])_0x4cd710[_0x15e072(0x1e4)](_0x1452c9[_0x15e072(0x239)]);});try{_0x23ca91=await exchange[_0x5e7bb6(0x137)](_0x4cd710);}catch(_0x5589fa){await handleError(_0x5589fa,_0x5e7bb6(0x180));}_0x258d6b[_0x5e7bb6(0x16d)](_0x1a781a=>{const _0x2fe8f4=_0x5e7bb6;_0x1a781a[_0x2fe8f4(0x25e)]!=_0x3e19cc['basecoin']?_0x5664f8=_0x1a781a['reverse']?0x1/_0x23ca91[_0x1a781a['symbol']][_0x2fe8f4(0x16b)]:_0x23ca91[_0x1a781a['symbol']][_0x2fe8f4(0x16b)]:_0x5664f8=0x1,_0x1a781a[_0x2fe8f4(0x245)]=formatResult(_0x5664f8,0x8);}),proxyEmit('portfolio',_0x258d6b);}}}else proxyEmit(_0x5e7bb6(0x12c),![]);}function checkMinimums(_0x37b962){const _0x3dabc4=_0x5cfb29;let _0x1663ec=!![];const _0x3095bb=!_0x37b962[_0x3dabc4(0x20b)]?markets[_0x37b962[_0x3dabc4(0x239)]][_0x3dabc4(0x1cd)]['amount'][_0x3dabc4(0x149)]:markets[_0x37b962['symbol']]['limits'][_0x3dabc4(0x24d)][_0x3dabc4(0x149)],_0xbe3a47=!_0x37b962[_0x3dabc4(0x20b)]?markets[_0x37b962[_0x3dabc4(0x239)]][_0x3dabc4(0x1cd)]['cost'][_0x3dabc4(0x149)]:markets[_0x37b962[_0x3dabc4(0x239)]][_0x3dabc4(0x1cd)][_0x3dabc4(0x17d)][_0x3dabc4(0x149)],_0x3dc4fc=markets[_0x37b962[_0x3dabc4(0x239)]][_0x3dabc4(0x16f)]['amount'];_0x37b962[_0x3dabc4(0x1cc)]=formatResultTruncate(_0x37b962[_0x3dabc4(0x1cc)],_0x3dc4fc);if(Math['abs'](_0x37b962[_0x3dabc4(0x1cc)])<_0x3095bb)_0x1663ec=![];if(Math[_0x3dabc4(0x276)](_0x37b962['trade'])*_0x37b962[_0x3dabc4(0x16b)]<_0xbe3a47)_0x1663ec=![];if(_0x37b962[_0x3dabc4(0x1ed)]==_0x3dabc4(0x1a7)){let _0x517cdb=config['portfolio'][_0x3dabc4(0x229)](_0xdfc84b=>_0xdfc84b[_0x3dabc4(0x25e)]==_0x37b962['coin']);if(_0x517cdb[_0x3dabc4(0x186)]>0x0){if(Math[_0x3dabc4(0x276)](_0x37b962[_0x3dabc4(0x1cc)])>_0x37b962[_0x3dabc4(0x20d)]-_0x517cdb[_0x3dabc4(0x186)])_0x1663ec=![];}else{if(Math['abs'](_0x37b962[_0x3dabc4(0x1cc)])>_0x37b962['number'])_0x1663ec=![];}}if(_0x37b962[_0x3dabc4(0x1ed)]==_0x3dabc4(0x129)){let _0x150343=config[_0x3dabc4(0x12c)][_0x3dabc4(0x229)](_0x1dba57=>_0x1dba57[_0x3dabc4(0x25e)]==config[_0x3dabc4(0x202)]),_0xee9f3f=currentCoins['find'](_0x28de61=>_0x28de61[_0x3dabc4(0x25e)]==config[_0x3dabc4(0x202)]);if(_0x150343[_0x3dabc4(0x186)]>0x0){if(Math[_0x3dabc4(0x276)](_0x37b962[_0x3dabc4(0x1cc)])*_0x37b962[_0x3dabc4(0x16b)]>_0xee9f3f[_0x3dabc4(0x20d)]-_0x150343[_0x3dabc4(0x186)])_0x1663ec=![];}else{if(Math[_0x3dabc4(0x276)](_0x37b962[_0x3dabc4(0x1cc)])*_0x37b962[_0x3dabc4(0x16b)]>_0xee9f3f[_0x3dabc4(0x20d)])_0x1663ec=![];}}return _0x1663ec;}async function getBalances(){const _0x243260=_0x5cfb29;let _0x4bd8f5=0x0,_0x21652f;const _0x739a09=config[_0x243260(0x1e9)];if(config[_0x243260(0x237)]&&config[_0x243260(0x178)]<0x0)await validate24hChanges();currentCoins[_0x243260(0x16d)](_0x4259b6=>{const _0xd615a3=_0x243260;if(_0x4259b6[_0xd615a3(0x25e)]!=config[_0xd615a3(0x202)]){let _0x40593d=global[_0xd615a3(0x155)][noslash(_0x4259b6[_0xd615a3(0x239)])];_0x21652f=_0x4259b6[_0xd615a3(0x20b)]?0x1/_0x40593d:_0x40593d;}else _0x21652f=0x1;let _0x4f0e5f=_0x4259b6[_0xd615a3(0x20d)]*_0x21652f;_0x4bd8f5+=_0x4f0e5f,_0x4259b6[_0xd615a3(0x16b)]=formatResult(Number(_0x21652f),0x8),_0x4259b6['value']=_0x4f0e5f;}),currentCoins['forEach'](_0x3afb3f=>{const _0x1485b0=_0x243260;let _0x5db6c7=config[_0x1485b0(0x12c)][_0x1485b0(0x229)](_0x9604b6=>_0x9604b6['coin']==_0x3afb3f[_0x1485b0(0x25e)]),_0x33d170=Number(_0x5db6c7['distribution']),_0xc88212=_0x3afb3f[_0x1485b0(0x1c5)]/_0x4bd8f5*0x64,_0x1dee34=_0x33d170*_0x4bd8f5/0x64/_0x3afb3f[_0x1485b0(0x16b)]-_0x3afb3f[_0x1485b0(0x20d)];_0x3afb3f[_0x1485b0(0x19a)]=formatResult(_0xc88212,0x3),_0x3afb3f[_0x1485b0(0x1ad)]=formatResult(_0x33d170,0x3),_0x3afb3f[_0x1485b0(0x1cc)]=formatResult(_0x1dee34,0x8),_0x3afb3f[_0x1485b0(0x1ed)]='',_0x3afb3f[_0x1485b0(0x270)]=![];if(_0x3afb3f[_0x1485b0(0x25e)]!=config[_0x1485b0(0x202)]){if(_0x3afb3f[_0x1485b0(0x19a)]>_0x33d170)_0x3afb3f[_0x1485b0(0x1ed)]=_0x1485b0(0x1a7),_0x3afb3f[_0x1485b0(0x270)]=checkMinimums(_0x3afb3f);else _0x3afb3f[_0x1485b0(0x19a)]<_0x33d170&&(_0x3afb3f[_0x1485b0(0x1ed)]=_0x1485b0(0x129),_0x3afb3f['valid']=checkMinimums(_0x3afb3f));}_0x3afb3f[_0x1485b0(0x1c0)]=_0x3afb3f[_0x1485b0(0x19a)]/_0x3afb3f['target']-0x1;if(_0x3afb3f[_0x1485b0(0x126)]=='filled'||_0x3afb3f[_0x1485b0(0x126)]==_0x1485b0(0x181))_0x3afb3f[_0x1485b0(0x126)]='none';}),currentCoins[_0x243260(0x260)]((_0x40e549,_0x2c92d5)=>_0x40e549[_0x243260(0x1c0)]<_0x2c92d5[_0x243260(0x1c0)]?0x1:_0x2c92d5[_0x243260(0x1c0)]<_0x40e549[_0x243260(0x1c0)]?-0x1:0x0);const _0x258a88=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x258a88['eur'],'usd':_0x258a88[_0x243260(0x277)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x739a09},proxyEmit(_0x243260(0x263),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x243260(0x237)])headlessMode({'portfolio':currentCoins,'threshold':_0x739a09});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x739a09});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x42616b=_0x5cfb29;if(!lastBalances)return;let _0x191114=[],_0x1776ac,_0x2dfc4d=JSON[_0x42616b(0x1e1)](lastBalances[_0x42616b(0x12c)]);_0x2dfc4d[_0x42616b(0x260)]((_0x406d93,_0x39664d)=>_0x406d93[_0x42616b(0x25e)]>_0x39664d['coin']?0x1:_0x39664d[_0x42616b(0x25e)]>_0x406d93[_0x42616b(0x25e)]?-0x1:0x0),_0x2dfc4d[_0x42616b(0x16d)](_0x2d0dee=>{const _0x7d9020=_0x42616b;let _0x1fb2b3={'coin':_0x2d0dee[_0x7d9020(0x25e)],'number':_0x2d0dee[_0x7d9020(0x20d)],'price':_0x2d0dee['last']};_0x191114['push'](_0x1fb2b3);});const _0x3895ba=await getFiat();_0x1776ac={'date':lastBalances[_0x42616b(0x22c)]['split']('\x20')[0x0],'eur':_0x3895ba[_0x42616b(0x16a)],'usd':_0x3895ba['usd'],'coins':_0x191114};let _0x5baca9=dbPerformance[_0x42616b(0x193)](_0x42616b(0x14b))[_0x42616b(0x229)]({'date':_0x1776ac[_0x42616b(0x265)]})['value']();_0x5baca9?_0x1776ac[_0x42616b(0x265)]!=config['startdate']&&dbPerformance[_0x42616b(0x193)]('data')[_0x42616b(0x229)]({'date':_0x1776ac['date']})[_0x42616b(0x144)](_0x1776ac)[_0x42616b(0x259)]():dbPerformance['get'](_0x42616b(0x14b))[_0x42616b(0x1e4)](_0x1776ac)[_0x42616b(0x259)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x2542fc=_0x5cfb29;let _0x113dfe=[];if(dbPerformance[_0x2542fc(0x141)]('data')[_0x2542fc(0x1c5)]()){let _0x2b0053=dbPerformance[_0x2542fc(0x193)](_0x2542fc(0x14b))[_0x2542fc(0x220)]()[_0x2542fc(0x127)](_0x2542fc(0x265))[_0x2542fc(0x1c5)](),_0x5ea382=[...config['liquidity']];_0x5ea382[_0x2542fc(0x260)]((_0x2404c4,_0x3abf42)=>_0x2404c4[_0x2542fc(0x265)]>_0x3abf42[_0x2542fc(0x265)]?-0x1:_0x3abf42[_0x2542fc(0x265)]>_0x2404c4[_0x2542fc(0x265)]?0x1:0x0);let _0x44f723=0x1,_0x40f117=[],_0x8d051c=0x0;_0x2b0053[_0x2542fc(0x254)]()[_0x2542fc(0x20b)]()[_0x2542fc(0x16d)]((_0xded653,_0x23fbad)=>{const _0x130842=_0x2542fc;if(_0x5ea382[_0x8d051c]){if(_0x2b0053[_0x2b0053[_0x130842(0x23b)]-_0x23fbad]&&_0x5ea382[_0x8d051c][_0x130842(0x265)]==_0x2b0053[_0x2b0053[_0x130842(0x23b)]-_0x23fbad][_0x130842(0x265)]){if(_0x23fbad<_0x2b0053['length']){let _0x3a05d9=0x0,_0x3d4a9d=0x0;_0x2b0053[_0x2b0053[_0x130842(0x23b)]-_0x23fbad][_0x130842(0x19b)][_0x130842(0x16d)](_0x23c191=>{const _0x48afa6=_0x130842;_0x3d4a9d+=_0x23c191['number']*_0x23c191[_0x48afa6(0x245)];}),_0x5ea382[_0x8d051c][_0x130842(0x25c)][_0x130842(0x16d)](_0x465cc5=>{_0x3a05d9+=_0x465cc5['number']*_0x465cc5['price'];}),_0x44f723*=_0x3a05d9/(_0x3d4a9d-_0x3a05d9)+0x1;}_0x8d051c++;}}let _0x152b3d=0x0;_0xded653[_0x130842(0x19b)][_0x130842(0x16d)](_0x1c9f8c=>{const _0x32dfe0=_0x130842;_0x152b3d+=_0x1c9f8c[_0x32dfe0(0x20d)]*_0x1c9f8c[_0x32dfe0(0x245)];}),_0x40f117[_0x2b0053[_0x130842(0x23b)]-_0x23fbad-0x1]=_0x152b3d*(_0x44f723-0x1);});let _0x172e86=[];_0x5ea382=[...config[_0x2542fc(0x18a)]]||[];let _0x4c7479=0x0;_0x8d051c=0x0,_0x2b0053[_0x2542fc(0x16d)]((_0x124c93,_0x339f54)=>{const _0x2dfaf0=_0x2542fc;if(_0x5ea382[_0x8d051c]){const _0x4af029=fns['parse'](_0x5ea382[_0x8d051c][_0x2dfaf0(0x265)],_0x2dfaf0(0x24b),new Date()),_0xba46c3=fns[_0x2dfaf0(0x1e1)](_0x124c93[_0x2dfaf0(0x265)],'yyyy/MM/dd',new Date());if(fns[_0x2dfaf0(0x1bd)](_0x4af029,_0xba46c3)){let _0xcb6f5c=0x0;_0x5ea382[_0x8d051c]['changes']['forEach'](_0x3084fa=>{const _0xb00402=_0x2dfaf0;!_0x172e86[_0x3084fa[_0xb00402(0x25e)]]?_0x172e86[_0x3084fa[_0xb00402(0x25e)]]=_0x3084fa[_0xb00402(0x20d)]:(_0xcb6f5c=_0x172e86[_0x3084fa[_0xb00402(0x25e)]],_0x172e86[_0x3084fa['coin']]+=_0x3084fa[_0xb00402(0x20d)]);const _0x69b3a7=_0x124c93[_0xb00402(0x19b)][_0xb00402(0x229)](_0x480609=>_0x480609[_0xb00402(0x25e)]==_0x3084fa[_0xb00402(0x25e)]);(!_0x69b3a7||_0x69b3a7[_0xb00402(0x20d)]==0x0)&&(_0x4c7479+=(-_0x3084fa[_0xb00402(0x20d)]-_0xcb6f5c)*_0x3084fa[_0xb00402(0x245)]);}),_0x8d051c++;}}_0x124c93[_0x2dfaf0(0x19b)][_0x2dfaf0(0x16d)]((_0x5b6507,_0x4d2b06)=>{const _0x469e54=_0x2dfaf0;_0x172e86[_0x5b6507[_0x469e54(0x25e)]]&&(_0x5b6507={..._0x5b6507,'initial':_0x172e86[_0x5b6507[_0x469e54(0x25e)]]}),_0x124c93[_0x469e54(0x19b)][_0x4d2b06]=_0x5b6507;}),_0x113dfe[_0x2dfaf0(0x1e4)]({'date':_0x124c93[_0x2dfaf0(0x265)],'eur':_0x124c93[_0x2dfaf0(0x16a)],'usd':_0x124c93[_0x2dfaf0(0x277)],'offset':_0x40f117[_0x339f54],'netoffset':_0x4c7479,'coins':_0x124c93[_0x2dfaf0(0x19b)]});});}return _0x113dfe;}function emitPerformance(_0x66da59){const _0x291ea9=_0x5cfb29;_0x66da59['length']!==0x0?(proxyEmit(_0x291ea9(0x274),_0x66da59),lastPerformanceEmitted=getDate()):proxyEmit(_0x291ea9(0x274),[]);}function getPerf(_0x158a18,_0x204d1c){const _0x3f1ed5=_0x5cfb29;let _0x502aef=0x0,_0x2a255f=0x0,_0x3640dd=0x0;_0x158a18[_0x3f1ed5(0x19b)][_0x3f1ed5(0x16d)](_0x106592=>{const _0x57092b=_0x3f1ed5;_0x502aef+=_0x106592[_0x57092b(0x20d)]*_0x106592['price'];});_0x204d1c&&(_0x502aef+=_0x158a18['offset']);if(config[_0x3f1ed5(0x202)]===_0x3f1ed5(0x133)||config[_0x3f1ed5(0x202)]===_0x3f1ed5(0x182))_0x2a255f=_0x502aef*_0x158a18[_0x3f1ed5(0x16a)],_0x3640dd=_0x502aef*_0x158a18[_0x3f1ed5(0x277)];else{if(config[_0x3f1ed5(0x202)]===_0x3f1ed5(0x188)||config['basecoin']===_0x3f1ed5(0x14e))_0x2a255f=_0x502aef*_0x158a18['eur']/_0x158a18[_0x3f1ed5(0x277)],_0x3640dd=_0x502aef;else config[_0x3f1ed5(0x202)]===_0x3f1ed5(0x1db)&&(_0x2a255f=_0x502aef,_0x3640dd=_0x502aef*_0x158a18[_0x3f1ed5(0x277)]/_0x158a18[_0x3f1ed5(0x16a)]);}return[_0x502aef,_0x2a255f,_0x3640dd];}function getKPIs(_0x4fdc32,_0x1e8a36=_0x5cfb29(0x1db)){const _0x19c870=_0x5cfb29,_0x38986a=config[_0x19c870(0x202)],_0x3a31d3=config[_0x19c870(0x263)],_0x2ca92b=currentCoins,_0x4497ba=getNormalizedPerformance(),_0x3803a7=_0x4fdc32===_0x19c870(0x202)?_0x38986a:_0x4fdc32===_0x19c870(0x24f)||_0x4fdc32==='net-fiat'?_0x1e8a36:_0x19c870(0x169)+_0x38986a,_0x4834b0=_0x4fdc32===_0x19c870(0x247)?'Net\x20effect':_0x4fdc32===_0x19c870(0x196)?'Net\x20effect\x20('+_0x3803a7+')':_0x3803a7+'\x20value',_0x388a8b=_0x4fdc32===_0x19c870(0x247)||_0x4fdc32===_0x19c870(0x196)?_0x19c870(0x1e2):_0x3803a7+_0x19c870(0x17c);let _0x5b8a56=0x0;_0x2ca92b['forEach'](_0x575299=>{const _0x1ebc50=_0x19c870;_0x5b8a56+=_0x575299[_0x1ebc50(0x20d)]*_0x575299[_0x1ebc50(0x16b)];});if(_0x4fdc32==='fiat'||_0x4fdc32===_0x19c870(0x196)){if(_0x38986a===_0x19c870(0x133)||_0x38986a===_0x19c870(0x182))_0x5b8a56=_0x5b8a56*(_0x1e8a36===_0x19c870(0x1db)?_0x3a31d3[_0x19c870(0x16a)]:_0x3a31d3[_0x19c870(0x277)]);else{if(_0x38986a===_0x19c870(0x188)||_0x38986a==='USDT')_0x5b8a56=_0x5b8a56*(_0x1e8a36==='EUR'?_0x3a31d3[_0x19c870(0x16a)]/_0x3a31d3[_0x19c870(0x277)]:0x1);else _0x38986a===_0x19c870(0x1db)&&(_0x5b8a56=_0x5b8a56*(_0x1e8a36==='EUR'?0x1:_0x3a31d3[_0x19c870(0x277)]/_0x3a31d3[_0x19c870(0x16a)]));}}let _0x298137;if(_0x5b8a56!==0x0){if(_0x4fdc32===_0x19c870(0x202))_0x298137=(_0x5b8a56/startingBalances[_0x19c870(0x202)]-0x1)*0x64;else{if(_0x1e8a36===_0x19c870(0x1db))_0x298137=(_0x5b8a56/startingBalances['eur']-0x1)*0x64;else _0x298137=(_0x5b8a56/startingBalances[_0x19c870(0x277)]-0x1)*0x64;}let _0xf833fd=0x0;if(startingBalances[_0x19c870(0x19b)])_0x2ca92b['forEach'](_0x3bbc6f=>{const _0x466d76=_0x19c870;let _0x4a5db8=startingBalances[_0x466d76(0x19b)][_0x466d76(0x229)](_0x345311=>_0x345311[_0x466d76(0x25e)]===_0x3bbc6f[_0x466d76(0x25e)]);if(_0x4a5db8&&_0x4a5db8[_0x466d76(0x25e)]&&_0x3bbc6f[_0x466d76(0x20d)]!==0x0)_0xf833fd+=_0x4a5db8[_0x466d76(0x20d)]*_0x3bbc6f[_0x466d76(0x16b)];});let _0x362bcf=0x0;if(_0x4497ba[_0x19c870(0x23b)]!==0x0){let _0x314e70=_0x4497ba[_0x4497ba['length']-0x1];_0x362bcf=_0x314e70['netoffset'];}_0xf833fd-=_0x362bcf;_0x4fdc32===_0x19c870(0x247)&&(_0x298137=(_0x5b8a56-_0xf833fd)/startingBalances[_0x19c870(0x202)]*0x64,_0x5b8a56=_0x5b8a56-_0xf833fd);if(_0x4fdc32===_0x19c870(0x196)){let _0x14b0f9=_0x1e8a36===_0x19c870(0x1db)?startingBalances[_0x19c870(0x16a)]:startingBalances[_0x19c870(0x277)];if(_0x38986a===_0x19c870(0x133)||_0x38986a===_0x19c870(0x182))_0xf833fd=_0x1e8a36==='EUR'?_0xf833fd*_0x3a31d3['eur']:_0xf833fd*_0x3a31d3['usd'];else{if(_0x38986a===_0x19c870(0x188)||_0x38986a===_0x19c870(0x14e))_0xf833fd=_0x1e8a36==='EUR'?_0xf833fd*_0x3a31d3[_0x19c870(0x16a)]/_0x3a31d3['usd']:_0xf833fd;else _0x38986a===_0x19c870(0x1db)&&(_0xf833fd=_0x1e8a36==='EUR'?_0xf833fd:_0xf833fd*_0x3a31d3[_0x19c870(0x277)]/_0x3a31d3[_0x19c870(0x16a)]);}_0x298137=(_0x5b8a56-_0xf833fd)/_0x14b0f9*0x64,_0x5b8a56=_0x5b8a56-_0xf833fd;}if(_0x298137){if(_0x298137<0x64)_0x298137=_0x298137[_0x19c870(0x197)](0x2);else{if(_0x298137<0x3e8)_0x298137=_0x298137[_0x19c870(0x197)](0x1);else _0x298137=_0x298137['toFixed'](0x0);}}else _0x298137=Number('0')[_0x19c870(0x197)](0x2);if(_0x5b8a56){if(Math[_0x19c870(0x276)](_0x5b8a56)<0.000001)_0x5b8a56=_0x5b8a56[_0x19c870(0x197)](0x2);else{if(Math[_0x19c870(0x276)](_0x5b8a56)<0.1)_0x5b8a56=_0x5b8a56[_0x19c870(0x197)](0x6);else{if(Math[_0x19c870(0x276)](_0x5b8a56)<0x1)_0x5b8a56=_0x5b8a56[_0x19c870(0x197)](0x5);else{if(Math[_0x19c870(0x276)](_0x5b8a56)<0xa)_0x5b8a56=_0x5b8a56[_0x19c870(0x197)](0x4);else{if(Math[_0x19c870(0x276)](_0x5b8a56)<0x64)_0x5b8a56=_0x5b8a56[_0x19c870(0x197)](0x3);else{if(Math[_0x19c870(0x276)](_0x5b8a56)<0x3e8)_0x5b8a56=_0x5b8a56[_0x19c870(0x197)](0x2);else _0x5b8a56=_0x5b8a56[_0x19c870(0x197)](0x2);}}}}}}else _0x5b8a56=Number('0')['toFixed'](0x2);}else _0x298137=Number('0')[_0x19c870(0x197)](0x2);return{'value':_0x5b8a56,'change':_0x298137,'leftTxt':_0x4834b0,'rightTxt':_0x388a8b};}async function getStartingBalances(_0x4b465b,_0x127ae5=!![]){const _0x3903d6=_0x5cfb29;if(_0x4b465b[_0x3903d6(0x23b)]!==0x0){const [_0x55f9b6,_0x2e80f8,_0x4ad5ff]=getPerf(_0x4b465b[0x0],!![]);let _0x55f4b9=[];config['portfolio'][_0x3903d6(0x16d)](_0x582d1c=>{const _0x427d69=_0x3903d6;let _0x58bd12=0x0,_0xe8ccd6;config[_0x427d69(0x18a)][_0x427d69(0x16d)](_0x1c1b55=>{const _0x4b9b5a=_0x427d69;let _0x4d1f7c=_0x1c1b55[_0x4b9b5a(0x25c)]['find'](_0x2e7847=>_0x2e7847[_0x4b9b5a(0x25e)]==_0x582d1c[_0x4b9b5a(0x25e)]);if(_0x4d1f7c){_0x58bd12+=_0x4d1f7c[_0x4b9b5a(0x20d)];if(!_0xe8ccd6)_0xe8ccd6=_0x4d1f7c[_0x4b9b5a(0x245)];}}),_0x55f4b9[_0x427d69(0x1e4)]({'coin':_0x582d1c['coin'],'number':_0x58bd12,'initialprice':_0xe8ccd6});});const _0x4e31fd={'basecoin':_0x55f9b6,'eur':_0x2e80f8,'usd':_0x4ad5ff,'coins':_0x55f4b9};if(_0x127ae5)proxyEmit('starting-balances',_0x4e31fd);startingBalances=_0x4e31fd;}}function headlessMode(_0x15c679){const _0x49a39b=_0x5cfb29;let _0x4b0885=_0x15c679['portfolio'],_0x4c106f=_0x15c679[_0x49a39b(0x1e9)],_0x30464d=[];for(let _0x272393 of _0x4b0885){if(_0x272393[_0x49a39b(0x25e)]!=config[_0x49a39b(0x202)]){if(_0x272393[_0x49a39b(0x1c0)]>=_0x4c106f/0x64){if(_0x272393[_0x49a39b(0x270)])_0x30464d[_0x49a39b(0x1e4)](_0x272393);}else{if(_0x272393['delta']<=-_0x4c106f/0x64){if(_0x272393['valid'])_0x30464d[_0x49a39b(0x1e4)](_0x272393);}}}}_0x30464d[_0x49a39b(0x23b)]>0x0&&placeOrder(_0x30464d);}function notifyBalance(_0x509eff){const _0x43e387=_0x5cfb29;let _0x2692a4=_0x509eff['portfolio'],_0x3648c6=_0x509eff[_0x43e387(0x1e9)],_0x4decb3=[];for(let _0x46fe4d of _0x2692a4){if(_0x46fe4d[_0x43e387(0x25e)]!=config[_0x43e387(0x202)]){if(_0x46fe4d['delta']>=_0x3648c6/0x64){if(_0x46fe4d['valid'])_0x4decb3[_0x43e387(0x1e4)](_0x46fe4d);}else{if(_0x46fe4d[_0x43e387(0x1c0)]<=-_0x3648c6/0x64){if(_0x46fe4d[_0x43e387(0x270)])_0x4decb3[_0x43e387(0x1e4)](_0x46fe4d);}}}}if(_0x4decb3[_0x43e387(0x23b)]>0x0){let _0x43fc91=_0x4decb3[_0x43e387(0x14c)](_0x19c8f1=>_0x19c8f1[_0x43e387(0x25e)]);_0x43fc91[_0x43e387(0x260)]();let _0x3d6b6b=_0x43fc91[_0x43e387(0x216)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x43e387(0x232));lastCoinsToBalance=_0x3d6b6b;}}function symbolToCoin(_0x24046c){const _0x1e944f=_0x5cfb29;let _0x9e32f8;if(_0x24046c[_0x1e944f(0x1f8)]('/'+config[_0x1e944f(0x202)]))_0x9e32f8=_0x24046c[_0x1e944f(0x21a)]('/'+config['basecoin'],'');if(_0x24046c[_0x1e944f(0x1f8)](config[_0x1e944f(0x202)]+'/'))_0x9e32f8=_0x24046c[_0x1e944f(0x21a)](config[_0x1e944f(0x202)]+'/','');return _0x9e32f8;}async function unlockOrders(){const _0x5cb2cf=_0x5cfb29;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){lockOrders=ORDERS[_0x5cb2cf(0x1c1)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x5cb2cf(0x1ea),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'];}}async function validateOrders(_0x78f89e){const _0x4ae21f=_0x5cfb29;if(_0x78f89e)validateOrdersState=_0x78f89e;let _0x357b4e=[],_0x362759=config[_0x4ae21f(0x1e8)]==_0x4ae21f(0x231)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4ae21f(0x221)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4ae21f(0x241)])return;lastOrders[_0x4ae21f(0x16d)](_0x1e0c6b=>{const _0xb16e6b=_0x4ae21f;let _0x385cbf=![];_0x1e0c6b[_0xb16e6b(0x1d0)]>0x0&&(_0x385cbf=!![]),_0x357b4e[_0xb16e6b(0x1e4)](_0x385cbf),_0x385cbf&&config['ordertype']!=_0xb16e6b(0x231)&&logHistory('order',_0xb16e6b(0x1a6)+_0x1e0c6b['symbol']+'\x20'+_0x1e0c6b[_0xb16e6b(0x1ed)]+'\x20#'+formatResult(_0x1e0c6b[_0xb16e6b(0x1d0)],0x8)+'\x20@'+formatResult(_0x1e0c6b[_0xb16e6b(0x245)],0x8));}),_0x357b4e[_0x4ae21f(0x16d)]((_0x2347b0,_0xdc159b)=>{const _0x383b70=_0x4ae21f;if(_0x2347b0)lastOrders[_0x383b70(0x269)](_0xdc159b,0x1);}),persistOpenOrders(lastOrders);const _0x2517bd=coolingDown?_0x4ae21f(0x1c4):_0x4ae21f(0x12e);if(validateOrdersState==_0x4ae21f(0x1ea))validateOrdersState=_0x4ae21f(0x1fa),_0x357b4e[_0x4ae21f(0x1f8)](![])?config[_0x4ae21f(0x1e8)]=='market'?logHistory(_0x4ae21f(0x1a9),_0x4ae21f(0x151)):logHistory('warning',_0x4ae21f(0x199)):await unlockOrders();else{if(validateOrdersState==_0x4ae21f(0x1fa)){if(_0x357b4e[_0x4ae21f(0x1f8)](![])){}else allOrdersPlaced&&(config['ordertype']==_0x4ae21f(0x231)?logHistory('success',_0x4ae21f(0x1f3)+_0x2517bd):logHistory(_0x4ae21f(0x170),_0x4ae21f(0x223)+_0x2517bd),await unlockOrders());}else{if(validateOrdersState==_0x4ae21f(0x135))_0x357b4e[_0x4ae21f(0x1f8)](![])&&(config[_0x4ae21f(0x1e8)]==_0x4ae21f(0x231)?logHistory(_0x4ae21f(0x170),_0x4ae21f(0x1de)+Math['round'](_0x362759*validateOrderInterval/0xea60)+_0x4ae21f(0x25a)+_0x2517bd):(await cancelOrders(),logHistory(_0x4ae21f(0x170),_0x4ae21f(0x22b)+Math[_0x4ae21f(0x1f5)](_0x362759*validateOrderInterval/0xea60)+_0x4ae21f(0x25a)+_0x2517bd))),await unlockOrders();else{if(validateOrdersState==_0x4ae21f(0x233)){if(config['ordertype']!=_0x4ae21f(0x231))logHistory(_0x4ae21f(0x170),_0x4ae21f(0x1c7)+_0x2517bd);await unlockOrders();}}}}}async function cancelOrders(){const _0x3054cf=_0x5cfb29;lastOrders[_0x3054cf(0x16d)](async _0x52e81f=>{const _0x111324=_0x3054cf;try{const _0x135aba=await exchange[_0x111324(0x242)](_0x52e81f[_0x111324(0x1dd)],_0x52e81f[_0x111324(0x239)]);}catch(_0x142efd){if(_0x142efd['toString']()[_0x111324(0x1f8)](_0x111324(0x138))){}else await handleError(_0x142efd,'cancelOrders()');}});}async function initCoinResults(){const _0x1d2778=_0x5cfb29;let _0x107678=[];config[_0x1d2778(0x12c)]['forEach'](_0xee3f8d=>{const _0x52289b=_0x1d2778;if(!_0xee3f8d[_0x52289b(0x23a)]&&_0xee3f8d[_0x52289b(0x25e)]!=config[_0x52289b(0x202)]){let _0x3423cb=dbCoinResults[_0x52289b(0x193)]('coins')['find']({'coin':_0xee3f8d[_0x52289b(0x25e)]})[_0x52289b(0x1c5)]();if(!_0x3423cb){const _0x10936e=currentCoins[_0x52289b(0x229)](_0x590fc1=>_0x590fc1[_0x52289b(0x25e)]==_0xee3f8d[_0x52289b(0x25e)]),_0x5768fe=global['ticker'][noslash(_0xee3f8d[_0x52289b(0x239)])];let _0x56c0fd=_0x10936e?_0x10936e[_0x52289b(0x20d)]:null,_0x5d4539=_0xee3f8d[_0x52289b(0x20b)]?0x1/_0x5768fe:_0x5768fe,_0x409cdd;config['liquidity'][_0x52289b(0x16d)](_0x14d4a7=>{const _0x227933=_0x52289b;!_0x409cdd&&(_0x409cdd=_0x14d4a7[_0x227933(0x25c)]['find'](_0x29adc0=>_0x29adc0[_0x227933(0x25e)]==_0xee3f8d['coin']),_0x409cdd&&(_0x56c0fd=_0x409cdd['number'],_0x5d4539=_0x409cdd['price']));}),_0x107678[_0x52289b(0x1e4)]({'coin':_0xee3f8d['coin'],'number':_0x56c0fd,'price':_0x5d4539});}}}),_0x107678[_0x1d2778(0x16d)](_0x5cf717=>{const _0x3bdc84=_0x1d2778,_0x4a3c31={'coin':_0x5cf717['coin'],'number':_0x5cf717[_0x3bdc84(0x20d)],'breakeven':_0x5cf717[_0x3bdc84(0x245)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3bdc84(0x193)](_0x3bdc84(0x19b))[_0x3bdc84(0x1e4)](_0x4a3c31)['write']();});}async function updateCoinResults(_0x3065da,_0x3e8337=![]){const _0x31c5de=_0x5cfb29;let _0x8c3fa4,_0x3a14fa,_0x19fe86,_0x1b4b37,_0x318cea,_0x5e4aeb,_0x5893c2=dbCoinResults[_0x31c5de(0x193)](_0x31c5de(0x19b))[_0x31c5de(0x229)]({'coin':_0x3065da['coin']})['value']();!_0x5893c2&&await initCoinResults();_0x3065da[_0x31c5de(0x20b)]&&(_0x5e4aeb={'filled':_0x3065da['filled']*_0x3065da[_0x31c5de(0x245)],'amount':_0x3065da[_0x31c5de(0x1d0)]*_0x3065da[_0x31c5de(0x245)],'side':_0x3065da[_0x31c5de(0x1ed)]==_0x31c5de(0x1a7)?'buy':_0x31c5de(0x1a7),'price':0x1/_0x3065da[_0x31c5de(0x245)]},_0x3065da={..._0x3065da,..._0x5e4aeb});_0x3e8337?_0x3a14fa=_0x3065da[_0x31c5de(0x1ed)]==_0x31c5de(0x129)?_0x5893c2['number']+_0x3065da[_0x31c5de(0x1d0)]:_0x5893c2[_0x31c5de(0x20d)]-_0x3065da[_0x31c5de(0x1d0)]:_0x3a14fa=await getCoinNumber(_0x3065da[_0x31c5de(0x25e)]);if(_0x3065da[_0x31c5de(0x174)]&&_0x3065da['fee']['currency']==config[_0x31c5de(0x202)])_0x8c3fa4=_0x3065da[_0x31c5de(0x174)]['cost'];else{if(_0x3065da[_0x31c5de(0x174)]&&_0x3065da[_0x31c5de(0x174)][_0x31c5de(0x12b)]==_0x31c5de(0x142)&&!_0x3e8337)_0x8c3fa4=_0x3065da[_0x31c5de(0x174)]['cost']*global[_0x31c5de(0x155)][_0x31c5de(0x142)+config[_0x31c5de(0x202)]];else _0x8c3fa4=defaultFee*_0x3065da[_0x31c5de(0x1d0)]*_0x3065da['price'];}_0x3065da[_0x31c5de(0x1ed)]=='buy'?(_0x19fe86=_0x3a14fa!=0x0?(_0x5893c2['breakeven']*_0x5893c2[_0x31c5de(0x20d)]+_0x3065da[_0x31c5de(0x245)]*(_0x3a14fa-_0x5893c2[_0x31c5de(0x20d)])+_0x8c3fa4)/_0x3a14fa:0x0,_0x1b4b37=_0x5893c2[_0x31c5de(0x1ab)]):(_0x19fe86=_0x3a14fa!=0x0?(_0x5893c2['breakeven']*_0x5893c2[_0x31c5de(0x20d)]-_0x3065da[_0x31c5de(0x245)]*(_0x5893c2[_0x31c5de(0x20d)]-_0x3a14fa)+_0x8c3fa4)/_0x3a14fa:0x0,_0x1b4b37=_0x5893c2[_0x31c5de(0x1ab)]+(_0x3065da[_0x31c5de(0x245)]-_0x5893c2[_0x31c5de(0x164)])*_0x3065da[_0x31c5de(0x1d0)]);_0x318cea=(_0x3065da[_0x31c5de(0x245)]-_0x19fe86-_0x8c3fa4/_0x3065da['filled'])*_0x3a14fa;let _0x16d945={'coin':_0x3065da[_0x31c5de(0x25e)],'number':_0x3a14fa,'breakeven':formatResult(_0x19fe86,0x8),'realized':formatResult(_0x1b4b37,0x8),'unrealized':formatResult(_0x318cea,0x8),'fees':formatResult(_0x5893c2['fees']+_0x8c3fa4,0x8),'sells':_0x3065da[_0x31c5de(0x1ed)]==_0x31c5de(0x1a7)?_0x5893c2[_0x31c5de(0x25b)]+0x1:_0x5893c2[_0x31c5de(0x25b)],'buys':_0x3065da[_0x31c5de(0x1ed)]==_0x31c5de(0x129)?_0x5893c2['buys']+0x1:_0x5893c2[_0x31c5de(0x131)]};dbCoinResults[_0x31c5de(0x193)]('coins')[_0x31c5de(0x229)]({'coin':_0x3065da[_0x31c5de(0x25e)]})[_0x31c5de(0x144)](_0x16d945)['write']();if(!_0x3e8337){if(_0x3065da[_0x31c5de(0x174)]&&_0x3065da[_0x31c5de(0x174)][_0x31c5de(0x12b)]==_0x31c5de(0x142)){const _0x4ddbe9=currentCoins[_0x31c5de(0x229)](_0x5d1d43=>_0x5d1d43[_0x31c5de(0x25e)]==_0x31c5de(0x142));if(_0x4ddbe9){let _0x2f9d66=dbCoinResults[_0x31c5de(0x193)](_0x31c5de(0x19b))[_0x31c5de(0x229)]({'coin':_0x31c5de(0x142)})[_0x31c5de(0x1c5)]();_0x16d945={..._0x2f9d66,'number':_0x4ddbe9[_0x31c5de(0x20d)]},dbCoinResults[_0x31c5de(0x193)](_0x31c5de(0x19b))[_0x31c5de(0x229)]({'coin':_0x31c5de(0x142)})[_0x31c5de(0x144)](_0x16d945)['write']();}}}}async function placeOrder(_0x1a3125){const _0x283bfa=_0x5cfb29,_0x800d71=config[_0x283bfa(0x1e8)]==_0x283bfa(0x231)?_0x283bfa(0x231):_0x283bfa(0x150);if(lockOrders==ORDERS[_0x283bfa(0x166)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x283bfa(0x1ea),lastOrders=[];for(const _0x604d81 of _0x1a3125){let _0x3724f1,_0x80fabd,_0x324dcd,_0x1399ff,_0x3bd324,_0x2b400f=_0x604d81['symbol'];try{const _0x34ab32=await exchange[_0x283bfa(0x137)]([_0x2b400f]),_0x3d2557=_0x34ab32[_0x2b400f];_0x3724f1=_0x604d81[_0x283bfa(0x20b)]?0x1/_0x604d81['last']:_0x604d81['last'],_0x80fabd=_0x3d2557[_0x283bfa(0x24a)],_0x324dcd=_0x3d2557[_0x283bfa(0x146)];_0x604d81[_0x283bfa(0x20b)]?(_0x1399ff=_0x604d81[_0x283bfa(0x1ed)]==_0x283bfa(0x129)?_0x283bfa(0x1a7):_0x283bfa(0x129),_0x3bd324=Math[_0x283bfa(0x276)](_0x604d81[_0x283bfa(0x1cc)])/_0x3724f1):(_0x1399ff=_0x604d81[_0x283bfa(0x1ed)],_0x3bd324=Math[_0x283bfa(0x276)](_0x604d81[_0x283bfa(0x1cc)]));_0x800d71==_0x283bfa(0x150)&&(config['ordertype']==_0x283bfa(0x18b)&&(_0x3724f1=_0x1399ff==_0x283bfa(0x129)?_0x80fabd:_0x324dcd),config[_0x283bfa(0x1e8)]==_0x283bfa(0x1ee)&&(_0x3724f1=_0x1399ff=='buy'?_0x324dcd:_0x80fabd));_0x3bd324=formatResult(_0x3bd324,0x8),_0x3724f1=formatResult(_0x3724f1,0x8);const _0x257675=_0x1399ff==_0x283bfa(0x1a7)?config[_0x283bfa(0x168)]?String[_0x283bfa(0x24c)]('0x'+config['emojisell'])+'\x20':'':config[_0x283bfa(0x21f)]?String[_0x283bfa(0x24c)]('0x'+config[_0x283bfa(0x21f)])+'\x20':'',_0x5646e4=_0x800d71=='market'?_0x283bfa(0x12a):config[_0x283bfa(0x1e8)]==_0x283bfa(0x18b)?'Limit\x20(high-margin)':_0x283bfa(0x1d2),_0x3a50c6=new Date()[_0x283bfa(0x19e)]()[_0x283bfa(0x27c)]()[_0x283bfa(0x254)](-0x6)+'-'+Math[_0x283bfa(0x187)]()[_0x283bfa(0x27c)]()[_0x283bfa(0x254)](-0x6);lastOrders[_0x283bfa(0x1e4)]({'customId':_0x3a50c6,'symbol':_0x2b400f,'coin':_0x604d81[_0x283bfa(0x25e)],'side':_0x1399ff,'reverse':_0x604d81[_0x283bfa(0x20b)],'filled':0x0});if(_0x800d71=='market')logHistory('order',''+_0x257675+_0x5646e4+_0x283bfa(0x124)+_0x2b400f+'\x20'+_0x1399ff+'\x20#'+formatResult(_0x3bd324,0x8)+'\x20@'+formatResult(_0x3724f1,0x8));else logHistory(_0x283bfa(0x191),''+_0x257675+_0x5646e4+'\x20order:\x20'+_0x2b400f+'\x20'+_0x1399ff+'\x20#'+formatResult(_0x3bd324,0x8)+'\x20@'+formatResult(_0x3724f1,0x8));const _0x3d939a=await exchange[_0x283bfa(0x17a)](_0x2b400f,_0x800d71,_0x1399ff,_0x3bd324,_0x3724f1,{'clientOrderId':_0x3a50c6}),_0x2affe7=lastOrders[_0x283bfa(0x23b)]-0x1;_0x2affe7>=0x0&&lastOrders[_0x2affe7][_0x283bfa(0x214)]==_0x3a50c6&&(lastOrders[_0x2affe7]={...lastOrders[_0x2affe7],'orderId':_0x3d939a['id'],'amount':_0x3d939a[_0x283bfa(0x17d)],'price':_0x3d939a[_0x283bfa(0x245)],'fee':_0x3d939a[_0x283bfa(0x174)]});let _0x5f4b1c=currentCoins['find'](_0x5a203f=>_0x5a203f['coin']==_0x604d81[_0x283bfa(0x25e)]);_0x5f4b1c[_0x283bfa(0x126)]=_0x283bfa(0x228);if(config['cooldown']!=0x0){let _0x55a846=null;if(cooldownTracker[_0x283bfa(0x23b)]==config[_0x283bfa(0x1b2)]-0x1)_0x55a846=cooldownTracker[_0x283bfa(0x130)]();const _0xacaa79=getTimeStamp();cooldownTracker[_0x283bfa(0x1e4)](_0xacaa79);if(_0x55a846){const _0x2831b6=fns[_0x283bfa(0x1a8)](new Date(_0xacaa79),new Date(_0x55a846));if(_0x2831b6<cooldownInterval){logHistory('error','Executed\x20'+config[_0x283bfa(0x1b2)]+_0x283bfa(0x1fd)+cooldownInterval/0x3c+_0x283bfa(0x1b7)+cooldownPeriod/(0xe10*0x3e8)+_0x283bfa(0x194)),coolingDown=!![];break;}}}}catch(_0x1c4be9){if(_0x1c4be9[_0x283bfa(0x27c)]()[_0x283bfa(0x1f8)](_0x283bfa(0x157)))lastOrders=lastOrders[_0x283bfa(0x246)](_0x5eedb7=>_0x5eedb7['symbol']!=_0x2b400f),logHistory(_0x283bfa(0x19d),_0x283bfa(0x1d8)+_0x2b400f);else _0x1c4be9[_0x283bfa(0x27c)]()[_0x283bfa(0x1f8)](_0x283bfa(0x19c))?(lastOrders=lastOrders[_0x283bfa(0x246)](_0x346b3a=>_0x346b3a[_0x283bfa(0x239)]!=_0x2b400f),logHistory(_0x283bfa(0x19d),'Order\x20amount\x20is\x20invalid:\x20'+_0x2b400f)):(lastOrders=lastOrders['filter'](_0x109061=>_0x109061[_0x283bfa(0x239)]!=_0x2b400f),await handleError(_0x1c4be9,'placeOrder()',_0x2b400f));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x283bfa(0x23b)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x4c1298=config[_0x283bfa(0x1e8)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x283bfa(0x221)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1a2356=_0x283bfa;validateOrders(_0x1a2356(0x135));},_0x4c1298);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x283bfa(0x170),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x283bfa(0x237)]&&logHistory(_0x283bfa(0x19d),_0x283bfa(0x22e));else lockOrders!=ORDERS[_0x283bfa(0x166)]&&(!config[_0x283bfa(0x237)]&&(config['ordertype']==_0x283bfa(0x231)?logHistory('error',_0x283bfa(0x156)):logHistory(_0x283bfa(0x19d),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x5c4ac9){const _0xc38ae1=_0x5cfb29,_0xf6505={...config,'openOrders':_0x5c4ac9};let _0xd17085=dbConfig[_0xc38ae1(0x193)]('bot')[_0xc38ae1(0x229)]({'botID':botID})[_0xc38ae1(0x1c5)]();_0xd17085&&dbConfig[_0xc38ae1(0x193)](_0xc38ae1(0x13c))[_0xc38ae1(0x229)]({'botID':botID})[_0xc38ae1(0x144)](_0xf6505)[_0xc38ae1(0x259)]();}function restoreOrders(){const _0x49d1ab=_0x5cfb29;let _0x3aeda2;allOpenOrders['forEach'](_0x3cbde8=>{const _0xea4ad0=_0xcb6c,_0x50c030=config['openOrders'][_0xea4ad0(0x229)](_0x506f80=>_0x506f80['orderId']==_0x3cbde8['id']);_0x50c030&&(lastOrders['push'](_0x50c030),_0x3aeda2=_0x3cbde8[_0xea4ad0(0x1ff)]);});if(lastOrders[_0x49d1ab(0x23b)]>0x0){lockOrders=ORDERS[_0x49d1ab(0x241)],validateOrdersState=_0x49d1ab(0x1fa),allOrdersPlaced=!![];const _0x21a7a8=new Date()[_0x49d1ab(0x19e)](),_0x3cbb11=config[_0x49d1ab(0x1e8)]==_0x49d1ab(0x231)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x3aeda2+_0x3cbb11>_0x21a7a8){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x44f120=_0x49d1ab;validateOrders(_0x44f120(0x135));},_0x3aeda2+_0x3cbb11-_0x21a7a8);}else validateOrders(_0x49d1ab(0x135));}}async function sendPortfolioTelegram(){const _0x1a5c86=_0x5cfb29;if(loading[_0x1a5c86(0x18f)]!=0x64){process[_0x1a5c86(0x1ef)]({'telegrammsg':_0x1a5c86(0x14f)},_0x4fbf14=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x48fb4a=['EUR',_0x1a5c86(0x188),'USDT'],_0x393537=_0x48fb4a[_0x1a5c86(0x1f8)](config[_0x1a5c86(0x202)])?0x2:0x8;let _0xd1f526='';if(config['showname'])_0xd1f526=_0x1a5c86(0x128)+config[_0x1a5c86(0x207)]+_0x1a5c86(0x1b0);else _0xd1f526=_0x1a5c86(0x248)+botID+_0x1a5c86(0x1b0);const _0x55e97c=getKPIs(_0x1a5c86(0x202)),_0x5bf38a=getKPIs(_0x1a5c86(0x247));_0xd1f526+=_0x1a5c86(0x272),_0xd1f526+=_0x55e97c['leftTxt']+_0x1a5c86(0x145)+_0x55e97c[_0x1a5c86(0x1c5)]+'\x20\x0a',_0xd1f526+=_0x55e97c[_0x1a5c86(0x268)]+':\x20'+_0x55e97c[_0x1a5c86(0x26c)]+_0x1a5c86(0x162),_0xd1f526+=_0x5bf38a[_0x1a5c86(0x13b)]+':\x20'+_0x5bf38a['value']+'\x20'+config[_0x1a5c86(0x202)]+'\x0a',_0xd1f526+=_0x5bf38a[_0x1a5c86(0x268)]+':\x20'+_0x5bf38a[_0x1a5c86(0x26c)]+_0x1a5c86(0x162),_0xd1f526+='\x0a',_0xd1f526+=_0x1a5c86(0x152),_0xd1f526+=_0x1a5c86(0x1c6),_0xd1f526+=_0x1a5c86(0x152),currentCoins[_0x1a5c86(0x16d)](_0x46d8fa=>{const _0xbef91=_0x1a5c86;_0xd1f526+=_0x46d8fa[_0xbef91(0x25e)]['padEnd'](0x7)+'|\x20'+formatPad(_0x46d8fa[_0xbef91(0x19a)],0x2,0x6)+'|\x20'+formatPad(_0x46d8fa[_0xbef91(0x1ad)],0x2,0x6)+'|\x20'+formatPad(_0x46d8fa[_0xbef91(0x1c0)]*0x64,0x2,0x6)+'\x0a';}),_0xd1f526+=_0x1a5c86(0x136),process[_0x1a5c86(0x1ef)]({'telegrammsg':_0xd1f526},_0x12dd56=>{});}function formatPad(_0x4004bb,_0x54cf59,_0x412b51){const _0x2f2b7c=_0x5cfb29,_0x87dc24=formatResultString(_0x4004bb,_0x54cf59);return _0x87dc24?_0x87dc24['padStart'](_0x412b51):''[_0x2f2b7c(0x1a3)](_0x412b51);}function logHistory(_0xacf82a,_0x1c238c,_0x778dfb=''){const _0x28e337=_0x5cfb29;let _0x3f7bf6={'time':getTimeStamp(),'type':_0xacf82a,'event':_0x1c238c};dbLogs[_0x28e337(0x193)](_0x28e337(0x1d3))[_0x28e337(0x1e4)](_0x3f7bf6)[_0x28e337(0x259)]();if(_0x778dfb=='')_0x778dfb=_0x1c238c;proxyEmit('event',{'log':_0x3f7bf6,'summary':_0x778dfb}),process[_0x28e337(0x1ef)]({'telegram':{..._0x3f7bf6,'botname':config[_0x28e337(0x207)],'showname':config[_0x28e337(0x18d)]}},_0x1fb2d7=>{}),logger[_0x28e337(0x15b)](''+_0x3f7bf6[_0x28e337(0x208)]);}function emitHistory(_0x1d3bcc={}){const _0x49b840=_0x5cfb29;Object['keys'](_0x1d3bcc)[_0x49b840(0x23b)]==0x0&&(_0x1d3bcc={'type':[_0x49b840(0x191),_0x49b840(0x208)],'event':'','page':0x1});if(_0x1d3bcc[_0x49b840(0x15a)][_0x49b840(0x1f8)](_0x49b840(0x208)))_0x1d3bcc[_0x49b840(0x15a)][_0x49b840(0x269)](_0x1d3bcc[_0x49b840(0x15a)][_0x49b840(0x211)](_0x49b840(0x208)),0x1,_0x49b840(0x19d),_0x49b840(0x170));if(dbLogs[_0x49b840(0x141)]('logs')[_0x49b840(0x1c5)]()){let _0x49ffc1=dbLogs[_0x49b840(0x193)](_0x49b840(0x1d3))[_0x49b840(0x246)](_0x198294=>{const _0x332e55=_0x49b840;if(_0x1d3bcc[_0x332e55(0x15a)][_0x332e55(0x23b)]==0x0)return![];else return _0x1d3bcc[_0x332e55(0x15a)][_0x332e55(0x1f8)](_0x198294['type']);})[_0x49b840(0x246)](_0x4fae7e=>{const _0xe7aee7=_0x49b840;if(_0x1d3bcc[_0xe7aee7(0x208)]=='')return!![];else return _0x4fae7e[_0xe7aee7(0x208)]['toLowerCase']()[_0xe7aee7(0x1f8)](_0x1d3bcc[_0xe7aee7(0x208)]['toLowerCase']());})['sortBy'](_0x49b840(0x22c)),_0x458f85=_0x49ffc1[_0x49b840(0x1c5)]()[_0x49b840(0x23b)];_0x49ffc1=_0x49ffc1[_0x49b840(0x20b)]()[_0x49b840(0x254)]((_0x1d3bcc[_0x49b840(0x1b5)]-0x1)*logPageSize,_0x1d3bcc[_0x49b840(0x1b5)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit(_0x49b840(0x250),{'logs':_0x49ffc1,'total':_0x458f85});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x50ae8f){const _0x4d10ee=_0x5cfb29;if(dbLogs[_0x4d10ee(0x141)](_0x4d10ee(0x1d3))['value']()){const _0x24ea5c=dbLogs[_0x4d10ee(0x193)]('logs')[_0x4d10ee(0x127)](_0x4d10ee(0x22c))[_0x4d10ee(0x246)](_0x2df2b6=>{const _0x3b8136=_0x4d10ee;return _0x2df2b6[_0x3b8136(0x15a)]==_0x3b8136(0x191);})[_0x4d10ee(0x1c5)]();dbLogs[_0x4d10ee(0x193)](_0x4d10ee(0x1d3))[_0x4d10ee(0x177)]()[_0x4d10ee(0x259)](),dbLogs['get'](_0x4d10ee(0x1d3))['assign'](_0x24ea5c)[_0x4d10ee(0x259)](),emitHistory(_0x50ae8f);}}async function pauseBot(_0x52f4f2=''){const _0x36a5ad=_0x5cfb29,_0x2f1397=new Date()[_0x36a5ad(0x19e)]();if(!lastBotPause)lastBotPause=new Date()[_0x36a5ad(0x19e)](),consecutivePauses=0x1;else{if(_0x2f1397-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x36a5ad(0x1ef)]({'stop':_0x36a5ad(0x13a)},_0x4b4a2c=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x36a5ad(0x19e)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x52f4f2)_0x52f4f2+='\x20|\x20';logHistory('error',_0x52f4f2+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x36a5ad(0x234)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x12dcb2=_0x5cfb29;process[_0x12dcb2(0x1ef)]({'stop':_0x12dcb2(0x15e)},_0x193cc0=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x494479,_0x5d2111){const _0xa48eba=_0x5cfb29;if(_0x494479[_0xa48eba(0x27c)]()[_0xa48eba(0x1f8)]('API-key\x20format\x20invalid'))return logHistory(_0xa48eba(0x19d),_0xa48eba(0x176)),![];else{if(_0x494479[_0xa48eba(0x27c)]()['includes'](_0xa48eba(0x161)))return logHistory(_0xa48eba(0x19d),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x494479[_0xa48eba(0x27c)]()[_0xa48eba(0x1f8)](_0xa48eba(0x213)))return logHistory(_0xa48eba(0x19d),_0xa48eba(0x125)),![];else await handleError(_0x494479,_0x5d2111);}}}async function handleError(_0x1e2592,_0x4e334f,_0x203372=''){const _0x2a8002=_0x5cfb29;if(_0x1e2592[_0x2a8002(0x27c)]()[_0x2a8002(0x1f8)]('DDoSProtection'))await pauseBot('Binance\x20API\x20blocked');else{if(_0x1e2592[_0x2a8002(0x27c)]()[_0x2a8002(0x1f8)]('ExchangeNotAvailable'))await pauseBot(_0x2a8002(0x20f));else{if(_0x1e2592[_0x2a8002(0x27c)]()[_0x2a8002(0x1f8)](_0x2a8002(0x251)))await pauseBot(_0x2a8002(0x1c8));else{if(_0x1e2592[_0x2a8002(0x27c)]()[_0x2a8002(0x1f8)](_0x2a8002(0x236)))logHistory('error',_0x4e334f+_0x2a8002(0x22d)),logHistory(_0x2a8002(0x19d),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1e2592[_0x2a8002(0x27c)]()[_0x2a8002(0x1f8)]('AuthenticationError'))logHistory(_0x2a8002(0x19d),_0x4e334f+_0x2a8002(0x27a)),logHistory(_0x2a8002(0x19d),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1e2592[_0x2a8002(0x27c)]()['includes'](_0x2a8002(0x213)))logHistory(_0x2a8002(0x19d),_0x4e334f+_0x2a8002(0x1a0)),logHistory(_0x2a8002(0x19d),_0x2a8002(0x1ce)),await killBot();else{if(_0x1e2592[_0x2a8002(0x27c)]()['includes'](_0x2a8002(0x1af)))logHistory(_0x2a8002(0x19d),_0x4e334f+_0x2a8002(0x235)),logHistory(_0x2a8002(0x19d),_0x2a8002(0x1ce)),await killBot();else{if(_0x1e2592[_0x2a8002(0x27c)]()[_0x2a8002(0x1f8)]('InvalidNonce'))await pauseBot(_0x2a8002(0x1d9)),process[_0x2a8002(0x1ef)]({'stop':_0x2a8002(0x13a)},_0x3d8bd8=>{});else _0x1e2592[_0x2a8002(0x27c)]()['includes'](_0x2a8002(0x17e))?logHistory(_0x2a8002(0x19d),_0x4e334f+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x203372):(logger['full'](_0x4e334f+'\x20|\x20Error\x20details:\x20',_0x1e2592),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0xaf350a,_0x115d2f){const _0x554a20=_0x5cfb29;return parseFloat(_0xaf350a[_0x554a20(0x197)](_0x115d2f));}function formatResultTruncate(_0x3a627d,_0x5ed47b){const _0x498e1e=_0x5cfb29;let _0x2a9279=formatResultString(_0x3a627d,0xa),_0x7b3889=_0x2a9279[_0x498e1e(0x211)]('.');return _0x7b3889!=-0x1&&(_0x2a9279=_0x2a9279[_0x498e1e(0x254)](0x0,_0x7b3889+_0x5ed47b+0x1)),Number(_0x2a9279);}function formatResultString(_0x62dd56,_0x42ced8){const _0x1ca30f=_0x5cfb29;let _0x36fe9e;if(!(''+_0x62dd56)[_0x1ca30f(0x1f8)]('e'))_0x36fe9e=+(Math[_0x1ca30f(0x1f5)](_0x62dd56+'e+'+_0x42ced8)+'e-'+_0x42ced8);else{let _0x1e654e=(''+_0x62dd56)[_0x1ca30f(0x205)]('e'),_0x518630='';+_0x1e654e[0x1]+_0x42ced8>0x0&&(_0x518630='+'),_0x36fe9e=+(Math[_0x1ca30f(0x1f5)](+_0x1e654e[0x0]+'e'+_0x518630+(+_0x1e654e[0x1]+_0x42ced8))+'e-'+_0x42ced8);}return Number(_0x36fe9e)[_0x1ca30f(0x197)](_0x42ced8);}function getServerTime(){const _0x127585=_0x5cfb29,_0x37aa18=new Date();return _0x37aa18[_0x127585(0x27b)]()+'/'+(_0x37aa18[_0x127585(0x20e)]()+0x1)[_0x127585(0x27c)]()[_0x127585(0x1a3)](0x2,'0')+'/'+_0x37aa18[_0x127585(0x1b4)]()[_0x127585(0x27c)]()[_0x127585(0x1a3)](0x2,'0')+'\x20'+_0x37aa18['getHours']()['toString']()[_0x127585(0x1a3)](0x2,'0')+':'+_0x37aa18[_0x127585(0x1d7)]()[_0x127585(0x27c)]()[_0x127585(0x1a3)](0x2,'0')+':'+_0x37aa18['getSeconds']()['toString']()[_0x127585(0x1a3)](0x2,'0');}function getTimeStamp(){const _0x1a433e=_0x5cfb29,_0x575a38=shiftedTime();return _0x575a38[_0x1a433e(0x27b)]()+'/'+(_0x575a38[_0x1a433e(0x20e)]()+0x1)[_0x1a433e(0x27c)]()['padStart'](0x2,'0')+'/'+_0x575a38['getDate']()[_0x1a433e(0x27c)]()[_0x1a433e(0x1a3)](0x2,'0')+'\x20'+_0x575a38[_0x1a433e(0x204)]()[_0x1a433e(0x27c)]()[_0x1a433e(0x1a3)](0x2,'0')+':'+_0x575a38[_0x1a433e(0x1d7)]()[_0x1a433e(0x27c)]()[_0x1a433e(0x1a3)](0x2,'0')+':'+_0x575a38[_0x1a433e(0x267)]()['toString']()[_0x1a433e(0x1a3)](0x2,'0');}function getDate(){const _0x2a7ff8=_0x5cfb29,_0x48f371=shiftedTime();return _0x48f371[_0x2a7ff8(0x27b)]()+'/'+(_0x48f371[_0x2a7ff8(0x20e)]()+0x1)[_0x2a7ff8(0x27c)]()[_0x2a7ff8(0x1a3)](0x2,'0')+'/'+_0x48f371[_0x2a7ff8(0x1b4)]()[_0x2a7ff8(0x27c)]()['padStart'](0x2,'0');}function getHour(){const _0xb0de5=_0x5cfb29,_0x3df4b5=shiftedTime();return _0x3df4b5[_0xb0de5(0x204)]()['toString']()[_0xb0de5(0x1a3)](0x2,'0');}function sleep(_0x2750f2){return new Promise(_0x20479e=>setTimeout(_0x20479e,_0x2750f2));}function shiftedTime(){const _0x575ddf=_0x5cfb29,_0x443545=new Date();let _0x126648=_0x443545;if(config&&config[_0x575ddf(0x1b9)]!==0x0)_0x126648=fns['add'](_0x443545,{'hours':config[_0x575ddf(0x1b9)]});return _0x126648;}