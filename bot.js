const _0xcdcbca=_0x26ef;(function(_0x101958,_0x27bb2e){const _0x1181d3=_0x26ef,_0x344309=_0x101958();while(!![]){try{const _0x56c12d=-parseInt(_0x1181d3(0x1af))/0x1+-parseInt(_0x1181d3(0x166))/0x2+-parseInt(_0x1181d3(0x1a2))/0x3+-parseInt(_0x1181d3(0x1b3))/0x4*(parseInt(_0x1181d3(0x25a))/0x5)+parseInt(_0x1181d3(0xec))/0x6+-parseInt(_0x1181d3(0x20e))/0x7*(parseInt(_0x1181d3(0x1c9))/0x8)+parseInt(_0x1181d3(0xd7))/0x9;if(_0x56c12d===_0x27bb2e)break;else _0x344309['push'](_0x344309['shift']());}catch(_0x44718c){_0x344309['push'](_0x344309['shift']());}}}(_0x2056,0x373f7));const _0x15b4e6=function(){let _0x497d93=!![];return function(_0x50bf8a,_0x7dfd77){const _0x2964ee=_0x497d93?function(){if(_0x7dfd77){const _0x26c15a=_0x7dfd77['apply'](_0x50bf8a,arguments);return _0x7dfd77=null,_0x26c15a;}}:function(){};return _0x497d93=![],_0x2964ee;};}(),_0xcbb6c4=_0x15b4e6(this,function(){const _0x44d642=_0x26ef;return _0xcbb6c4[_0x44d642(0x124)]()[_0x44d642(0xd2)](_0x44d642(0x20c))[_0x44d642(0x124)]()[_0x44d642(0x122)](_0xcbb6c4)[_0x44d642(0xd2)](_0x44d642(0x20c));});_0xcbb6c4();'use strict';const ccxt=require(_0xcdcbca(0x10b)),low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0xcdcbca(0xeb)),Crypt=require(_0xcdcbca(0xd0))[_0xcdcbca(0x21f)],util=require(_0xcdcbca(0xe0)),argv=require(_0xcdcbca(0x182))(process[_0xcdcbca(0x1ae)][_0xcdcbca(0x24a)](0x2))[_0xcdcbca(0x1ae)],path=require(_0xcdcbca(0xe7)),axios=require(_0xcdcbca(0x220));let exchange;global[_0xcdcbca(0x181)]={},global[_0xcdcbca(0x13e)]={};const usdBasecoins=[_0xcdcbca(0x211),_0xcdcbca(0x186),_0xcdcbca(0x15a),_0xcdcbca(0x1b5),'USDC',_0xcdcbca(0x248)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xcdcbca(0xf5)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0xcdcbca(0xe8)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20-\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0xcdcbca(0x109),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0xcdcbca(0x23c))[_0xcdcbca(0x183)],botID=process[_0xcdcbca(0x1ae)][0x2]||_0xcdcbca(0x1fb),pattern=/^[0-9]{3}$/;!pattern[_0xcdcbca(0x240)](botID)&&(console[_0xcdcbca(0xfc)](_0xcdcbca(0x19f)+botID+_0xcdcbca(0xfe)),killBot());const userID=process[_0xcdcbca(0x1ae)][0x3]||'',configpath=userID?_0xcdcbca(0x168)+userID+'/':_0xcdcbca(0x168),logspath=userID?_0xcdcbca(0x176)+userID+'/':'./logs/',loggerfile=fs[_0xcdcbca(0xf4)](logspath+_0xcdcbca(0xff),{'flags':'a'});!fs[_0xcdcbca(0xca)](configpath)&&fs['mkdirSync'](configpath);!fs[_0xcdcbca(0xca)](logspath)&&fs[_0xcdcbca(0x203)](logspath);const configfile=configpath+'bot-'+botID+_0xcdcbca(0x21b),logfile=configpath+_0xcdcbca(0x1a1)+botID+_0xcdcbca(0x19b),performancefile=configpath+_0xcdcbca(0x1a1)+botID+_0xcdcbca(0xdc),coinresultsfile=configpath+_0xcdcbca(0x1a1)+botID+_0xcdcbca(0x198),settingsfile=configpath+_0xcdcbca(0x127),securefile=configpath+_0xcdcbca(0x1a5),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xcdcbca(0x1a4)]({'logs':[],'version':serverversion})[_0xcdcbca(0x19c)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0xcdcbca(0x19c)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xcdcbca(0x1a4)]({'bot':[],'version':serverversion})[_0xcdcbca(0x19c)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xcdcbca(0x1a4)]({'coins':[],'version':serverversion})[_0xcdcbca(0x19c)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0xcdcbca(0x174),'rsaStandard':_0xcdcbca(0x16b)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4669ca=>{const _0x409f6b=_0xcdcbca;console[_0x409f6b(0xfc)](_0x4669ca);},'simple':_0x268d5c=>{const _0x170651=_0xcdcbca;console[_0x170651(0xfc)](_0x268d5c),loggerfile['write'](util[_0x170651(0x219)](_0x268d5c)+'\x0a');},'full':async(_0x2eb586,_0x4881a3='')=>{const _0x3770b1=_0xcdcbca;let _0xc852a9;if(config[_0x3770b1(0x13c)])_0xc852a9=getTimeStamp()+':\x20'+config[_0x3770b1(0x236)]+_0x3770b1(0x1a7)+_0x2eb586;else _0xc852a9=getTimeStamp()+_0x3770b1(0x1a0)+botID+_0x3770b1(0x1a7)+_0x2eb586;console[_0x3770b1(0xfc)](_0xc852a9),loggerfile[_0x3770b1(0x19c)](util[_0x3770b1(0x219)](_0xc852a9)+'\x0a'),_0x4881a3&&(console['log'](_0x4881a3),loggerfile['write'](util[_0x3770b1(0x219)](_0x4881a3)+'\x0a'));},'debug':async(_0x372b36,_0x28c9bf='')=>{const _0xf62962=_0xcdcbca;let _0x5491a5;if(config['showname'])_0x5491a5=getTimeStamp()+':\x20'+config[_0xf62962(0x236)]+_0xf62962(0x1b0)+_0x372b36;else _0x5491a5=getTimeStamp()+_0xf62962(0x1a0)+botID+_0xf62962(0x1b0)+_0x372b36;if(debugging)console[_0xf62962(0xfc)](_0x5491a5);loggerfile[_0xf62962(0x19c)](util[_0xf62962(0x219)](_0x5491a5)+'\x0a');if(_0x28c9bf){if(debugging)console['log'](_0x28c9bf);loggerfile['write'](util[_0xf62962(0x219)](_0x28c9bf)+'\x0a');}}};process['on'](_0xcdcbca(0x1b6),function(_0x28f258){const _0xb1c84=_0xcdcbca;handleError(_0x28f258,_0xb1c84(0x1b6));});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings['timeshift']);settings['onepagemode']!=config[_0xcdcbca(0x1f5)]&&updateOnepagemode(settings[_0xcdcbca(0x1f5)]);(settings[_0xcdcbca(0x1fe)]&&!config[_0xcdcbca(0x1fe)]||!settings[_0xcdcbca(0x1fe)]&&config[_0xcdcbca(0x1fe)])&&updateMarketcapApi(settings[_0xcdcbca(0x1fe)]);process['send']({'started':'running'},_0x151066=>{}),initializeProcessListeners();function proxyEmit(_0x2f6ff3,_0x1185ee=null){const _0xab5d3b=_0xcdcbca;process[_0xab5d3b(0x1f7)]({'function':_0x2f6ff3,'args':_0x1185ee},_0x284802=>{});}function initializeProcessListeners(){const _0x1a9921=_0xcdcbca;process['on'](_0x1a9921(0x18a),_0x56d4cb=>{const _0x1b0e5d=_0x1a9921;switch(Object['keys'](_0x56d4cb)[0x0]){case _0x1b0e5d(0x14a):_0x56d4cb['timeshift']!=undefined&&(settings[_0x1b0e5d(0x14a)]=_0x56d4cb[_0x1b0e5d(0x14a)],updateTimeshift(settings['timeshift']));break;case _0x1b0e5d(0x1f5):_0x56d4cb[_0x1b0e5d(0x1f5)]!=undefined&&(settings['onepagemode']=_0x56d4cb['onepagemode'],updateOnepagemode(settings['onepagemode']));break;case'marketcapApi':_0x56d4cb[_0x1b0e5d(0x1fe)]!=undefined&&(settings[_0x1b0e5d(0x1fe)]=_0x56d4cb[_0x1b0e5d(0x1fe)],updateMarketcapApi(settings[_0x1b0e5d(0x1fe)]));break;case _0x1b0e5d(0x1cd):_0x56d4cb['bots']!=undefined&&(bots=JSON[_0x1b0e5d(0x1de)](_0x56d4cb[_0x1b0e5d(0x1cd)]),proxyEmit(_0x1b0e5d(0x1cd),bots));break;case'function':switch(_0x56d4cb[_0x1b0e5d(0x132)]){case _0x1b0e5d(0x173):initclient();break;case _0x1b0e5d(0x116):toggleBotMode();break;case _0x1b0e5d(0x117):emitHistory(_0x56d4cb[_0x1b0e5d(0x194)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x56d4cb[_0x1b0e5d(0x194)]);break;case'getPortfolio':getPortfolio(_0x56d4cb['args']);break;case _0x1b0e5d(0x1fa):storeConfiguration(_0x56d4cb['args']);break;case _0x1b0e5d(0xe9):storeHeadless(_0x56d4cb[_0x1b0e5d(0x194)]);break;case _0x1b0e5d(0x1b4):storeFiat(_0x56d4cb[_0x1b0e5d(0x194)]);break;case _0x1b0e5d(0x21a):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x1b0e5d(0x1c5):placeOrder(_0x56d4cb[_0x1b0e5d(0x194)]);break;case _0x1b0e5d(0x24d):cancelLoading();break;case _0x1b0e5d(0x14f):showConfig();break;case _0x1b0e5d(0x1dc):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x579782=![]){const _0x2b0061=_0xcdcbca;logger[_0x2b0061(0x111)]('Reset\x20|\x20'+(_0x579782?_0x2b0061(0xf3):_0x2b0061(0x1f4))+'\x20|\x20exchange:\x20'+config[_0x2b0061(0x253)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x579782)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x2b0061(0x1b2)]!=''&&config[_0x2b0061(0x1b2)]!=_0x2b0061(0x1f0)){loadingProgress=0x0;if(_0x579782){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x216541){handleErrorNoStop(_0x216541,_0x2b0061(0x1a3));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x37aeb6=await getCoins();[currentCoins,currentCoinsAll]=_0x37aeb6,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x2b0061(0x111)](_0x2b0061(0x11c)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2b0061(0x12d)]==0x0&&allOpenOrders[_0x2b0061(0x12d)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x301512){const _0x410d4d=_0xcdcbca;let _0x3b2611=![];if(_0x301512)_0x3b2611=!![];let _0x4a9982;_0x3b2611?_0x4a9982=_0x301512['map'](_0x38780d=>_0x38780d['coin']):_0x4a9982=currentCoinsAll['map'](_0x57e0d3=>_0x57e0d3[_0x410d4d(0xe5)]);if(!config[_0x410d4d(0x1fe)]||!_0x3b2611&&!config[_0x410d4d(0x112)]||_0x4a9982[_0x410d4d(0x12d)]==0x0)return;let _0x7f2b82=null;try{_0x7f2b82=await axios['get'](_0x410d4d(0xdf),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x410d4d(0x1fe)]},'params':{'symbol':_0x4a9982[_0x410d4d(0x124)]()}});}catch(_0x14fd7c){_0x7f2b82=null,_0x14fd7c[_0x410d4d(0x124)]()['includes']('status\x20code\x20401')?(config[_0x410d4d(0x1fe)]=![],updateConfig(),proxyEmit(_0x410d4d(0x187),emittedConfiguration()),logHistory(_0x410d4d(0x226),_0x410d4d(0x18c))):(logHistory(_0x410d4d(0x226),_0x410d4d(0x157)+marketCapInterval/(0x3c*0x3e8)+_0x410d4d(0x109)),logger[_0x410d4d(0x111)](_0x410d4d(0x1f6),_0x14fd7c[_0x410d4d(0x124)]()+'\x20-\x20'+_0x14fd7c[_0x410d4d(0x1f9)]));}if(_0x7f2b82){let _0x1981cc=0x0;const _0x2d181e=_0x7f2b82[_0x410d4d(0x103)];_0x4a9982[_0x410d4d(0x22c)](_0x479c9e=>{const _0x1d88c7=_0x410d4d;if(_0x2d181e[_0x1d88c7(0x103)][_0x479c9e][0x0])_0x1981cc+=_0x2d181e['data'][_0x479c9e][0x0][_0x1d88c7(0xf2)][_0x1d88c7(0x211)][_0x1d88c7(0x235)];}),_0x4a9982[_0x410d4d(0x22c)](_0xead3b6=>{const _0x5ab340=_0x410d4d,_0x55693d=_0x2d181e['data'][_0xead3b6][0x0]?_0x2d181e[_0x5ab340(0x103)][_0xead3b6][0x0]['quote']['USD'][_0x5ab340(0x235)]:0x0;if(_0x3b2611){const _0x396658=_0x301512[_0x5ab340(0x153)](_0x2d4d14=>_0x2d4d14['coin']==_0xead3b6);_0x396658&&(_0x396658[_0x5ab340(0x255)]=_0x55693d);}else{const _0x58cc53=currentCoins[_0x5ab340(0x153)](_0x277050=>_0x277050[_0x5ab340(0xe5)]==_0xead3b6);_0x58cc53&&(_0x58cc53[_0x5ab340(0x255)]=_0x55693d);const _0x2b8e5c=currentCoinsAll[_0x5ab340(0x153)](_0x566b56=>_0x566b56[_0x5ab340(0xe5)]==_0xead3b6);_0x2b8e5c&&(_0x2b8e5c[_0x5ab340(0x255)]=_0x55693d);}}),!_0x3b2611&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x58a74e=_0xcdcbca,_0x2d2d83=0x2;let _0x584e84=0x0,_0x112776=0x0,_0x35bfa1=0x0,_0x39e7dd=0x0;config[_0x58a74e(0x18f)][_0x58a74e(0x22c)](_0x2daa77=>{const _0xc2a39=_0x58a74e;if(!_0x2daa77['excluded']){_0x35bfa1++,_0x584e84+=_0x2daa77[_0xc2a39(0xc8)];if(_0x2daa77[_0xc2a39(0xc8)]===-0x1){_0x584e84++;const _0x1dd288=currentCoinsAll[_0xc2a39(0x153)](_0x2d2e43=>_0x2d2e43['coin']==_0x2daa77[_0xc2a39(0xe5)]);_0x1dd288&&(_0x39e7dd+=_0x1dd288[_0xc2a39(0x255)]);}if(_0x2daa77['slider']!==-0x1)_0x112776++;}});let _0x4e8fc4;const _0x4259d1=0x64-_0x584e84,_0x564419=_0x35bfa1-_0x112776;_0x4e8fc4=_0x564419===0x0?_0x584e84:Math[_0x58a74e(0x129)](0x64,_0x584e84),config['portfolio'][_0x58a74e(0x22c)](_0x1acf4e=>{const _0x11c20a=_0x58a74e,_0x268986=currentCoinsAll[_0x11c20a(0x153)](_0x2766d8=>_0x2766d8[_0x11c20a(0xe5)]==_0x1acf4e[_0x11c20a(0xe5)]);_0x268986&&(_0x1acf4e[_0x11c20a(0x255)]=_0x268986[_0x11c20a(0x255)]),!_0x1acf4e[_0x11c20a(0x250)]&&(_0x4e8fc4<=0x64&&(_0x1acf4e[_0x11c20a(0xc8)]===-0x1&&(_0x39e7dd!==0x0&&config[_0x11c20a(0x112)]&&(_0x268986&&(_0x1acf4e[_0x11c20a(0x200)]=(_0x4259d1/(_0x39e7dd/_0x268986[_0x11c20a(0x255)]))[_0x11c20a(0x218)](_0x2d2d83))))));}),updateConfig();}function updateConfig(){const _0x5f0c51=_0xcdcbca;let _0x1391c8=dbConfig[_0x5f0c51(0xbd)](_0x5f0c51(0x195))['find']({'botID':botID})[_0x5f0c51(0x24c)]();_0x1391c8&&dbConfig['get'](_0x5f0c51(0x195))[_0x5f0c51(0x153)]({'botID':botID})['assign'](config)[_0x5f0c51(0x19c)]();}function _0x26ef(_0x13fab1,_0x4d0751){const _0x132fa2=_0x2056();return _0x26ef=function(_0xcbb6c4,_0x15b4e6){_0xcbb6c4=_0xcbb6c4-0xbd;let _0x20564b=_0x132fa2[_0xcbb6c4];return _0x20564b;},_0x26ef(_0x13fab1,_0x4d0751);}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x39009a=_0xcdcbca;exchangeStopped=!![];try{await exchange[_0x39009a(0x210)]();}catch(_0x54b863){await handleError(_0x54b863,_0x39009a(0x1f2));}}async function reloadExchange(){const _0x120cc2=_0xcdcbca;while(lockOrders!=ORDERS[_0x120cc2(0xe8)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x120cc2(0x111)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x44b4e9=config[_0xcdcbca(0x253)],_0x488a4d=config[_0xcdcbca(0x1b2)],_0x1a5f59=config[_0xcdcbca(0x1e4)],_0x4e9ebe=config[_0xcdcbca(0x1a6)]){const _0x12385e=_0xcdcbca;exchange&&await stopExchange();!supportedExchanges()[_0x12385e(0x148)](_0x44b4e9)&&(logHistory(_0x12385e(0x226),_0x12385e(0x158)+_0x44b4e9+_0x12385e(0xd3)),killBot());const _0x4aee44=ccxt[_0x12385e(0xc4)][_0x44b4e9[_0x12385e(0x1cf)]()];exchange=new _0x4aee44({'apiKey':_0x488a4d,'secret':_0x1a5f59,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x12385e(0x179)}});if(_0x4e9ebe)exchange[_0x12385e(0x23a)]=_0x4e9ebe;}function setStableCoins(){const _0x406249=_0xcdcbca;let _0x531df6=config[_0x406249(0x108)]==_0x406249(0x192)?'ETH':config[_0x406249(0x108)]==_0x406249(0x1ac)?_0x406249(0x1ac):_0x406249(0x113),_0x1d49f1=!allSymbols[_0x406249(0x148)](_0x531df6+_0x406249(0x128))?_0x406249(0x1b5):'USD',_0x4f7e32=!allSymbols[_0x406249(0x148)](_0x531df6+_0x406249(0xfd))?_0x1d49f1:_0x406249(0x24b);stablecoins={'eur':{'coin':''+_0x531df6+_0x4f7e32,'symbol':_0x531df6+'/'+_0x4f7e32},'usd':{'coin':''+_0x531df6+_0x1d49f1,'symbol':_0x531df6+'/'+_0x1d49f1}};}async function initwsCcxt(){const _0x28908f=_0xcdcbca;initCycle++;const _0x53aaf4=initCycle;let _0xb4e93f=[];config['portfolio']['forEach'](_0x2e258b=>{const _0x1a05bf=_0x26ef;if(!_0x2e258b[_0x1a05bf(0x250)]&&_0x2e258b[_0x1a05bf(0xe5)]!=config[_0x1a05bf(0x108)])_0xb4e93f[_0x1a05bf(0x251)](_0x2e258b['symbol']);});if(!_0xb4e93f['includes'](stablecoins['eur'][_0x28908f(0x214)]))_0xb4e93f['push'](stablecoins['eur'][_0x28908f(0x214)]);if(!_0xb4e93f[_0x28908f(0x148)](stablecoins[_0x28908f(0x196)]['symbol']))_0xb4e93f[_0x28908f(0x251)](stablecoins['usd'][_0x28908f(0x214)]);if(config[_0x28908f(0x253)]['startsWith'](_0x28908f(0x237))&&config[_0x28908f(0x108)]!=_0x28908f(0x1ac)){if(!_0xb4e93f[_0x28908f(0x148)](_0x28908f(0x228)+config[_0x28908f(0x108)]))_0xb4e93f[_0x28908f(0x251)](_0x28908f(0x228)+config[_0x28908f(0x108)]);}loadCoins(_0xb4e93f),_0xb4e93f=validateSymbols(_0xb4e93f);const _0x958458=async _0x37a05b=>{const _0x248b81=_0x28908f;let _0x1be78a;try{const _0x136c0f=await getTickers(_0x37a05b);Object[_0x248b81(0x15d)](_0x136c0f)['forEach'](_0x242819=>{const _0x3e2fee=_0x248b81;_0x1be78a=_0x242819[0x1][_0x3e2fee(0x214)],global['ticker'][noslash(_0x1be78a)]=_0x242819[0x1][_0x3e2fee(0xd8)],global[_0x3e2fee(0x13e)][_0x1be78a]=_0x242819[0x1][_0x3e2fee(0x1c0)];});}catch(_0xd65c0f){await handleError(_0xd65c0f,'initTickers()',_0x1be78a);}},_0x2d3bc6=async _0x3144c7=>{const _0x2897dc=_0x28908f;while(initCycle==_0x53aaf4){if(!botPaused)try{const _0x3c696d=await exchange['watchTrades'](_0x3144c7);global[_0x2897dc(0x181)][noslash(_0x3c696d[0x0][_0x2897dc(0x214)])]=_0x3c696d[0x0][_0x2897dc(0x215)],await sleep(0x3e8);}catch(_0x3051f5){if(!exchangeStopped)await handleError(_0x3051f5,'watchTrades()',_0x3144c7);}else await sleep(0x64);}},_0x55e4c9=async _0x28eb03=>{const _0x355547=_0x28908f;while(initCycle==_0x53aaf4){if(!botPaused)try{const _0x26562d=await exchange[_0x355547(0x1ab)](_0x28eb03),_0x2f1443=_0x26562d['pop']();global[_0x355547(0x181)][noslash(_0x2f1443['symbol'])]=_0x2f1443[_0x355547(0x215)],await sleep(0x3e8);}catch(_0x3c5dd6){if(!exchangeStopped)await handleError(_0x3c5dd6,_0x355547(0xd9),_0x28eb03[_0x355547(0x124)]());}else await sleep(0x64);}},_0x534d1e=async _0x2535da=>{const _0x3e15ef=_0x28908f;while(initCycle==_0x53aaf4){if(!botPaused){let _0x47b651;try{await sleep(0x3c*0x3e8);const _0x4663ee=await getTickers(_0x2535da);Object[_0x3e15ef(0x15d)](_0x4663ee)[_0x3e15ef(0x22c)](_0x11236f=>{const _0x51776f=_0x3e15ef;_0x47b651=_0x11236f[0x1][_0x51776f(0x214)],global['change'][_0x47b651]=_0x11236f[0x1][_0x51776f(0x1c0)];});}catch(_0x25e1f5){if(!exchangeStopped)await handleError(_0x25e1f5,_0x3e15ef(0x102),_0x47b651);}}else await sleep(0x64);}},_0x23d201=async _0x1e2384=>{while(initCycle==_0x53aaf4){if(!botPaused)try{const _0x1c0c67=await exchange['watchOrders'](_0x1e2384);initCycle==_0x53aaf4&&_0x1c0c67['forEach'](_0x3b14ac=>{updateNumberCoinsCcxt(_0x3b14ac);});}catch(_0x4787c3){if(!exchangeStopped)await handleError(_0x4787c3,'watchOrders()');}else await sleep(0x64);}};_0x958458(_0xb4e93f),_0x534d1e(_0xb4e93f),exchange[_0x28908f(0xe4)]['watchTradesForSymbols']?_0x55e4c9(_0xb4e93f):_0xb4e93f[_0x28908f(0x22c)](_0x594a29=>{_0x2d3bc6(_0x594a29);}),_0xb4e93f[_0x28908f(0x22c)](_0xf627e9=>{_0x23d201(_0xf627e9);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x4173e9){const _0x1534f3=_0xcdcbca;let _0x3fbdae={};try{if(config[_0x1534f3(0x253)]!=_0x1534f3(0x23b))_0x3fbdae=await exchange[_0x1534f3(0xc2)](_0x4173e9);else for(const _0x1ca81b of _0x4173e9){const _0x2409c7=await exchange[_0x1534f3(0x180)](_0x1ca81b);_0x3fbdae[_0x1ca81b]=_0x2409c7;}return _0x3fbdae;}catch(_0x5e2f21){throw _0x5e2f21;}}async function watchTransactions(){const _0x4b44d1=_0xcdcbca;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x236a59=await getCoins(),[_0x51cc37,_0x252a85]=_0x236a59;let _0x372e22=[];currentCoins[_0x4b44d1(0x22c)](_0x181a6e=>{const _0x194774=_0x4b44d1,_0x5986a6=_0x51cc37[_0x194774(0x153)](_0x178539=>_0x178539[_0x194774(0xe5)]==_0x181a6e[_0x194774(0xe5)]);if(_0x5986a6){if(_0x181a6e['number']!=_0x5986a6[_0x194774(0x1dd)]){let _0x2a55e2;if(_0x181a6e[_0x194774(0xe5)]!=config['basecoin']){const _0x408d24=global[_0x194774(0x181)][noslash(_0x181a6e[_0x194774(0x214)])];_0x2a55e2=_0x181a6e[_0x194774(0x105)]?0x1/_0x408d24:_0x408d24;}else _0x2a55e2=0x1;_0x372e22['push']({'coin':_0x181a6e[_0x194774(0xe5)],'symbol':_0x181a6e[_0x194774(0x214)],'price':_0x2a55e2,'number':Number(formatResult(_0x5986a6['number']-_0x181a6e[_0x194774(0x1dd)],0x8)),'basecoinvalue':_0x2a55e2*(_0x5986a6[_0x194774(0x1dd)]-_0x181a6e['number'])});}}});if(_0x372e22[_0x4b44d1(0x12d)]==0x1&&!blockTransactionDetection){if(config[_0x4b44d1(0x159)]){logger[_0x4b44d1(0x111)](_0x4b44d1(0x22f)+_0x372e22[0x0][_0x4b44d1(0x1d1)]+_0x4b44d1(0xce)+lastFees[_0x4b44d1(0x1bf)]);if(lastFees[_0x4b44d1(0x1bf)]==0x0||Math['abs'](_0x372e22[0x0][_0x4b44d1(0x1d1)])>lastFees[_0x4b44d1(0x1bf)]){delete _0x372e22[0x0][_0x4b44d1(0x214)],delete _0x372e22[0x0][_0x4b44d1(0x1d1)];let _0x87530d=[],_0x370023=[...config[_0x4b44d1(0x1be)]]||[],_0x21e05c=config['liquidity'];_0x370023['sort']((_0x53a3d3,_0x802537)=>_0x53a3d3[_0x4b44d1(0x1f8)]>_0x802537[_0x4b44d1(0x1f8)]?-0x1:_0x802537['date']>_0x53a3d3[_0x4b44d1(0x1f8)]?0x1:0x0);const _0x56df92=getDate();if(_0x370023[0x0]){const _0x15eeeb=fns[_0x4b44d1(0x1de)](_0x370023[0x0][_0x4b44d1(0x1f8)],_0x4b44d1(0x130),new Date()),_0x43321b=fns[_0x4b44d1(0x1de)](_0x56df92,_0x4b44d1(0x130),new Date());if(fns[_0x4b44d1(0x18e)](_0x15eeeb,_0x43321b)){_0x87530d=_0x370023[0x0][_0x4b44d1(0x11e)];const _0x1b7d41=_0x87530d[_0x4b44d1(0x153)](_0x478b0d=>_0x478b0d[_0x4b44d1(0xe5)]==_0x372e22[0x0]['coin']);_0x1b7d41?(_0x1b7d41[_0x4b44d1(0x1dd)]+=_0x372e22[0x0][_0x4b44d1(0x1dd)],_0x1b7d41[_0x4b44d1(0x1dd)]==0x0&&(_0x87530d=_0x87530d[_0x4b44d1(0x155)](_0x45a6a5=>{return _0x45a6a5['coin']!=_0x372e22[0x0]['coin'];}))):_0x87530d[_0x4b44d1(0x251)](_0x372e22[0x0]);const _0xa40d08=_0x21e05c[_0x4b44d1(0x153)](_0x17e211=>_0x17e211['date']==_0x56df92);_0xa40d08[_0x4b44d1(0x11e)]=_0x87530d;}else _0x21e05c[_0x4b44d1(0x251)]({'date':_0x56df92,'changes':[_0x372e22[0x0]]});}const _0x1a6d5d=_0x21e05c[_0x4b44d1(0x153)](_0x553419=>_0x553419[_0x4b44d1(0x1f8)]==_0x56df92);if(_0x1a6d5d){let _0xfb779b=!![];_0x1a6d5d[_0x4b44d1(0x11e)][_0x4b44d1(0x22c)](_0x162da6=>{const _0x235360=_0x4b44d1;if(_0x162da6[_0x235360(0x1dd)]!=0x0)_0xfb779b=![];}),_0xfb779b&&(_0x21e05c=_0x21e05c['filter'](_0x4f6a68=>{const _0x3b022e=_0x4b44d1;return _0x4f6a68[_0x3b022e(0x1f8)]!=_0x56df92;}));}let _0x45b6b2=dbConfig[_0x4b44d1(0xbd)]('bot')[_0x4b44d1(0x153)]({'botID':botID})['value']();_0x45b6b2&&(dbConfig['get'](_0x4b44d1(0x195))[_0x4b44d1(0x153)]({'botID':botID})['assign']({'liquidity':_0x21e05c})[_0x4b44d1(0x19c)](),config[_0x4b44d1(0x1be)]=_0x21e05c),logHistory('success',_0x4b44d1(0x1e3)+Math[_0x4b44d1(0x23e)](_0x372e22[0x0][_0x4b44d1(0x1dd)])+'\x20'+_0x372e22[0x0]['coin']+'\x20'+(_0x372e22[0x0]['number']>0x0?_0x4b44d1(0xdd):_0x4b44d1(0x146))+_0x4b44d1(0xde)),proxyEmit(_0x4b44d1(0x187),emittedConfiguration());}else logger['debug'](_0x4b44d1(0x100)+Math[_0x4b44d1(0x23e)](_0x372e22[0x0][_0x4b44d1(0x1dd)])+'\x20'+_0x372e22[0x0][_0x4b44d1(0xe5)]+'\x20'+(_0x372e22[0x0][_0x4b44d1(0x1dd)]>0x0?_0x4b44d1(0xdd):_0x4b44d1(0x146)));transactionDetected=!![];}else logger['debug'](_0x4b44d1(0x1e3)+Math[_0x4b44d1(0x23e)](_0x372e22[0x0][_0x4b44d1(0x1dd)])+'\x20'+_0x372e22[0x0]['coin']+'\x20'+(_0x372e22[0x0]['number']>0x0?_0x4b44d1(0xdd):_0x4b44d1(0x146))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x51cc37,currentCoinsAll=_0x252a85,await sleep(watchTransactionsInterval);}catch(_0x54d502){if(!exchangeStopped)await handleError(_0x54d502,'watchTransactions()');}else await sleep(0x64);}}async function loadSymbols(){const _0x55bc56=_0xcdcbca;try{markets=await exchange[_0x55bc56(0xf8)](),allSymbols=[],Object['entries'](markets)[_0x55bc56(0x22c)](_0x3233c3=>{const _0x262c3b=_0x55bc56;_0x3233c3[0x1]['active']&&_0x3233c3[0x1][_0x262c3b(0x179)]&&allSymbols['push'](_0x3233c3[0x0]);});}catch(_0x4344c4){throw _0x4344c4;}}function validateSymbols(_0x4f746a){const _0x445ec1=_0xcdcbca;let _0x17a760=[];return _0x4f746a[_0x445ec1(0x22c)](_0x4a2927=>{const _0x3afdd3=_0x445ec1;!allSymbols[_0x3afdd3(0x148)](_0x4a2927)?logHistory(_0x3afdd3(0x226),'Invalid\x20symbol:\x20'+_0x4a2927+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x17a760[_0x3afdd3(0x251)](_0x4a2927);}),_0x17a760;}async function initclient(){const _0x5bb43c=_0xcdcbca;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x5bb43c(0x1e6),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x5bb43c(0x150),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x159c7b=getNormalizedPerformance();emitPerformance(_0x159c7b),getStartingBalances(_0x159c7b);}async function toggleBotMode(){const _0x3f284d=_0xcdcbca;let _0x19c80d=dbConfig['get'](_0x3f284d(0x195))[_0x3f284d(0x153)]({'botID':botID})[_0x3f284d(0x24c)]();if(_0x19c80d){const _0x244afc=!_0x19c80d[_0x3f284d(0x1d5)];dbConfig['get'](_0x3f284d(0x195))[_0x3f284d(0x153)]({'botID':botID})['assign']({'headless':_0x244afc})[_0x3f284d(0x19c)](),config[_0x3f284d(0x1d5)]=_0x244afc,proxyEmit(_0x3f284d(0x187),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x19e0c8=_0xcdcbca;process['send']({'updatebotmanager':!![]},_0x14860f=>{}),logger['debug']('Headless:\x20'+config[_0x19e0c8(0x1d5)]);}async function loadCoins(_0x2c70f8){const _0xb31901=_0xcdcbca;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x4843be,_0x1fe467=0x0,_0x4e8f64=0x0;_0x2c70f8['forEach'](_0x5170b=>{const _0x4c0215=_0x26ef;loading[_0x4c0215(0x202)]['push'](_0x5170b);}),loadingCanceled=![];let _0x52a6b5=![];while(_0x4843be!=_0x2c70f8['length']+maxLoadingProgress){_0x4843be=loadingProgress,_0x2c70f8[_0xb31901(0x22c)](_0x4c43c7=>{const _0xb34279=_0xb31901;if(global[_0xb34279(0x181)][noslash(_0x4c43c7)]){loading[_0xb34279(0x202)]=loading[_0xb34279(0x202)][_0xb34279(0x155)](_0x34532c=>_0x34532c!=_0x4c43c7);if(!watchedSymbols[_0xb34279(0x148)](_0x4c43c7))watchedSymbols[_0xb34279(0x251)](_0x4c43c7);_0x4843be++;}}),loading[_0xb31901(0x143)]=Math['round'](_0x4843be/(_0x2c70f8[_0xb31901(0x12d)]+maxLoadingProgress)*0x64);loading[_0xb31901(0x143)]!=0x64&&(_0x4e8f64>0x1e*0x5&&(loading[_0xb31901(0x229)]=!![],emitLoadingProgress()),_0x4e8f64>0x78*0x5&&!_0x52a6b5&&(_0x52a6b5=!![],logHistory(_0xb31901(0x226),_0xb31901(0xcb)+loading[_0xb31901(0x202)][_0xb31901(0x193)](',\x20')+_0xb31901(0x22d)),logHistory(_0xb31901(0x226),_0xb31901(0xc9)+loadCoinsRetryInterval/0xea60+_0xb31901(0xd1)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x20893f=_0xb31901;process[_0x20893f(0x1f7)]({'stop':_0x20893f(0xee)},_0x3a7672=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0xb31901(0xc5)]=!![],emitLoadingProgress();break;}else _0x1fe467!=loading[_0xb31901(0x143)]&&(_0x1fe467=loading[_0xb31901(0x143)],emitLoadingProgress()),_0x4e8f64++,await sleep(0xc8);}_0x4843be==_0x2c70f8[_0xb31901(0x12d)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0xb31901(0x1c7),'live':'running'},_0x2df9b2=>{}),_0x52a6b5&&logHistory('success','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0xd40782=_0xcdcbca;proxyEmit(_0xd40782(0x187),{...emittedConfiguration(),'configstate':_0xd40782(0x11b)});}function emitLoadingProgress(){const _0x132476=_0xcdcbca;proxyEmit(_0x132476(0x1d2),loading);}async function getFiat(){const _0x375d38=_0xcdcbca;let _0x4d56d1=global[_0x375d38(0x181)][stablecoins[_0x375d38(0x232)][_0x375d38(0xe5)]],_0x5d3c1d=global[_0x375d38(0x181)][stablecoins[_0x375d38(0x196)][_0x375d38(0xe5)]];return{'eur':Number(_0x4d56d1),'usd':Number(_0x5d3c1d)};}function _0x2056(){const _0x26f6a1=['indexOf','Limit\x20(low-margin)','datetime','findIndex','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','replace','Market','showname','starting-balance-','change','Saving\x20configuration','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','padEnd','ongoing','progress','-------------------------------\x0a','getFullYear','removed','1\x20-\x20FILLED\x20unknown\x20order:\x20','includes','\x20orders\x20in\x20less\x20than\x20','timeshift','Exception\x20thrown\x20in\x20','Initializing\x20coin\x20results','getPortfolio(2)','success','showConfig','balances','<b>Bot\x20','Net\x20','find','customId','filter','\x20minutes\x20-\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','autoliquidity','TUSD','emojibuy','privateKey','entries','fee','timestamp','net-fiat','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','ask','openOrders','InsufficientFunds','emojisell','20738DTtQbw','side','./config/','Cooldown\x20ended\x20-\x20balancing\x20resumed','cost','RSA-OAEP','placeOrder()','cooldown','1\x20-\x20Validate\x20orders:\x20','offset','valid','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','initclient','sha256','\x20order:\x20','./logs/','\x20portfolio:</b>\x20\x0a\x0a','createOrder','spot','fetchBalance','limit-low','sortBy','BNB','fetchClosedOrders','botID','fetchTicker','ticker','yargs/yargs','version','getAllOrders()','status','BUSD','configuration','getSeconds','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','message','Invalid\x20API\x20key\x20or\x20secret\x20entered','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','sells','isEqual','portfolio','getMonth','full','ETH','join','args','bot','usd','getMinutes','-results.json','startdate','OnMaintenance','-events.json','write','Insufficient\x20funds\x20to\x20execute\x20order:\x20','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','Error:\x20Invalid\x20argument\x20',':\x20Bot\x20','bot-','181266rlrqWs','loadSymbols()','defaults','bb-secure.json','apiPassword','\x20>\x20','getOpenOrders()','initial','Exchange','watchTradesForSymbols','PAXG','exec','argv','20274IOlUdp','\x20>\x20[DEBUG]\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','apiKey','2348vEqnju','storeFiat','USDT','uncaughtException','random','startprice','substring','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','RateLimitExceeded','\x20|\x20','target','liquidity','highest','percentage','\x20value','\x20|\x20Custom\x20ID:\x20','round','decrypt','placeOrder','recreate','enabled','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','3274896ShnbBK','kill','order','Executed\x20','bots','fromCodePoint','toLowerCase','stringify','basecoinvalue','coin-loading-progress','Huobi','coins','headless','yyyy-MM-dd\x27T\x27HH:mm:ss','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','open','1\x20-\x20Unlock\x20orders','ID:\x20','<pre>','sendMetricsTelegram','number','parse','Huobipro','shift','ORDERS.UNLOCKING','sort','Portfolio\x20change\x20detected:\x20','apiSecret','orderstatus','exchanges','\x20network\x20error','add','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','realized','writeFile','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','RETRY\x20-\x20Error\x20in\x20','************','parseISO','***','closed','stopExchange()','fetchOpenOrders','exchange\x20not\x20reloaded','onepagemode','Error\x20details:','send','date','code','storeConfiguration','001','1\x20-\x20Handle\x20open\x20orders','Resetting\x20coin\x20results:\x20','marketcapApi','request-time','distribution','getCoinNumber()','remainingSymbols','mkdirSync','market','2\x20-\x20handling\x20FILLED\x20order:\x20','2.5.0','watchOrders','getCoins()','Resetting\x20bot\x20history','\x20change','unlinkSync','(((.+)+)+)+$','netoffset','7vNmhZO','getDate','close','USD','change24h','watchTrades','symbol','price','time','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','toFixed','format','resetHistory','-config.json','Order\x20filled:\x20','Net\x20effect','canceled','Crypt','axios','filled','assign','amount','Order\x20is\x20invalid:\x20','AuthenticationError','error','logs','BNB/','timeout','leftTxt','1\x20-\x20FILLED\x20known\x20order:\x20','forEach','\x20-\x20bot\x20not\x20started','Limit\x20(high-margin)','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','event-history','RequestTimeout','eur','splice','%\x20(','market_cap','botname','Binance','balancing\x20resumed','Symbol(s):\x20','password','Cryptocom','./version.json','API-key\x20format\x20invalid','abs','Bot\x20','test','cancelOrder','no\x20open\x20orders','LOCKED','breakeven','Error\x20while\x20deleting\x20files:\x20','page','amountToPrecision','USDP','performance','slice','EUR','value','cancelLoading','ORDERS.UNLOCKED','cloneDeep','excluded','push','<b>','exchange','limits','marketcap','2\x20-\x20Validate\x20orders:\x20','colorscheme','keys','sell','610iKFWRm','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','\x20metrics:</b>\x20\x0a\x0a','Cex','get','getHours',':\x20timer\x20>','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','trade','fetchTickers','ordertype','pro','cancel','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','\x20:\x20','slider','Pausing\x20for\x20','existsSync','Failed\x20to\x20load\x20coin\x20data\x20for\x20','min','Trigger:\x20','\x20|\x20highest\x20fee:\x20','Bitget','hybrid-crypto-js','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','search','\x20exchange','configuration-stored','InvalidOrder','getPortfolio(1)','5474682XtivaD','last','watchTradesForSymbols()','set','Unfilled\x20order(s)\x20canceled\x20after\x20','-performance.json','added','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','util','final','limit-high','currency','has','coin','Invalid\x20quantity','path','UNLOCKED','storeHeadless','bid','date-fns','1140228mXuZIs','fees','restart','\x20hour','rightTxt','recent20','quote','exchange\x20reloaded','createWriteStream','freeze','Order\x20amount\x20is\x20invalid:\x20','toUpperCase','loadMarkets','startnumber','type','2.3.5','log','/EUR',',\x20must\x20be\x20a\x203\x20digit\x20number','/output-000.log','Fee\x20discount\x20refund\x20detected:\x20','buy','fetchTickers()','data','0\x20-\x20EXECUTION:\x20','reverse','2\x20-\x20Orders\x20unlocked','OrderNotFound','basecoin','\x20minutes','delta','ccxt','total','InvalidNonce','differenceInSeconds','event','average','debug','marketcapEnabled','BTC','buys','remove','toggleBotMode','emitHistory','NetworkError','running','getTime','loading-canceled','Loading\x20completed','fiat','changes','orderId','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','split','constructor','padStart','toString','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','recovery','bb-settings.json','/USD','max','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','</pre>','threshold','length','Transaction\x20detection\x20unblocked','net-basecoin','yyyy/MM/dd','none','function','ExchangeError','Unknown\x20error\x20occured'];_0x2056=function(){return _0x26f6a1;};return _0x2056();}function capitalize(_0x263080){const _0x303fe6=_0xcdcbca;return _0x263080[_0x303fe6(0x1b9)](0x0,0x1)[_0x303fe6(0xf7)]()+_0x263080['substring'](0x1);}function supportedExchanges(){const _0x334f5c=_0xcdcbca,_0x430083=['ws',_0x334f5c(0xc2),_0x334f5c(0x180),_0x334f5c(0x213),_0x334f5c(0x207),_0x334f5c(0x241),_0x334f5c(0x178),_0x334f5c(0x1f3),_0x334f5c(0x17e),'fetchBalance'];let _0xb173cb=[],_0x5d4e8b=[],_0x2154d5=ccxt[_0x334f5c(0xc4)][_0x334f5c(0x1e6)];_0x2154d5[_0x334f5c(0x22c)](_0x14959a=>{const _0x5625b4=_0x334f5c;try{const _0x2f64d8=new ccxt['pro'][_0x14959a]();_0x5d4e8b[_0x5625b4(0x251)](_0x2f64d8);}catch(_0x3a0398){}}),_0x5d4e8b[_0x334f5c(0x22c)](_0x16e7e3=>{const _0x36bc3c=_0x334f5c;let _0x5b3d39=0x0;_0x430083[_0x36bc3c(0x22c)](_0x580bf2=>{const _0x545f98=_0x36bc3c;_0x580bf2 in _0x16e7e3[_0x545f98(0xe4)]&&_0x16e7e3['has'][_0x580bf2]&&_0x5b3d39++;}),_0x5b3d39==_0x430083[_0x36bc3c(0x12d)]&&_0xb173cb[_0x36bc3c(0x251)](capitalize(_0x16e7e3['id']));});let _0x28a931=[];return _0x2154d5[_0x334f5c(0x22c)](_0x34839c=>{const _0x412d75=_0x334f5c;_0x34839c=capitalize(_0x34839c);if(!_0xb173cb[_0x412d75(0x148)](_0x34839c))_0x28a931['push'](_0x34839c);}),_0xb173cb;}function setStartDatePerformance(){const _0xcc10cf=_0xcdcbca;if(config&&config[_0xcc10cf(0x1be)][0x0][_0xcc10cf(0x11e)][_0xcc10cf(0x12d)]!=0x0){const _0x4cfbaa=config['liquidity'][0x0][_0xcc10cf(0x11e)];dbPerformance[_0xcc10cf(0xbd)](_0xcc10cf(0x103))[_0xcc10cf(0x153)]({'date':config[_0xcc10cf(0x199)]})['assign']({'coins':_0x4cfbaa})['write']();}}async function recreateCoinResults(){const _0x47b295=_0xcdcbca;let _0x4f312f,_0x534a4a=[];try{const _0x1a5af4=fns[_0x47b295(0x219)](fns[_0x47b295(0x1ef)](config[_0x47b295(0x199)]['replace'](/\//g,'-')),_0x47b295(0x1d6));for(const _0x42ab40 of currentCoins){if(_0x42ab40[_0x47b295(0xe5)]!=config[_0x47b295(0x108)]){let _0x5c0da3=0x0,_0x20272f,_0x401fac;_0x4f312f=await getAllEventOrders(_0x42ab40[_0x47b295(0x214)]);if(_0x4f312f[_0x47b295(0x12d)]>0x0)_0x4f312f['forEach'](_0x46b261=>{const _0x409e34=_0x47b295,_0x10f778=_0x42ab40[_0x409e34(0x214)][_0x409e34(0x148)](config[_0x409e34(0x108)]+'/');_0x534a4a[_0x409e34(0x251)]({'datetime':_0x46b261[_0x409e34(0x137)],'coin':_0x42ab40[_0x409e34(0xe5)],'symbol':_0x42ab40[_0x409e34(0x214)],'side':_0x46b261[_0x409e34(0x167)],'reverse':_0x10f778,'amount':formatResult(_0x46b261[_0x409e34(0x221)],0x8),'filled':formatResult(_0x46b261[_0x409e34(0x221)],0x8),'price':formatResult(_0x46b261[_0x409e34(0x215)],0x8)}),_0x5c0da3=_0x46b261[_0x409e34(0x167)]==_0x409e34(0x101)?_0x5c0da3+_0x46b261[_0x409e34(0x221)]:_0x5c0da3-_0x46b261[_0x409e34(0x221)];if(!_0x401fac)_0x401fac=_0x46b261[_0x409e34(0x215)];});_0x20272f=_0x42ab40['number']-_0x5c0da3;let _0x1bdf26;config[_0x47b295(0x1be)][_0x47b295(0x22c)](_0x27b3d9=>{const _0x15a9ba=_0x47b295;!_0x1bdf26&&(_0x1bdf26=_0x27b3d9[_0x15a9ba(0x11e)][_0x15a9ba(0x153)](_0x53f409=>_0x53f409[_0x15a9ba(0xe5)]==_0x42ab40[_0x15a9ba(0xe5)]),_0x1bdf26&&(_0x20272f=_0x1bdf26[_0x15a9ba(0x1dd)],_0x401fac=_0x1bdf26['price']));});let _0x4f0cc1=dbCoinResults[_0x47b295(0xbd)](_0x47b295(0x1d4))[_0x47b295(0x153)]({'coin':_0x42ab40[_0x47b295(0xe5)]})['value']();_0x4f0cc1={'coin':_0x42ab40['coin'],'number':_0x20272f,'breakeven':_0x401fac,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x47b295(0xbd)](_0x47b295(0x1d4))[_0x47b295(0x153)]({'coin':_0x42ab40['coin']})['assign'](_0x4f0cc1)['write']();}}_0x534a4a['sort']((_0x2d1486,_0x5800db)=>_0x2d1486[_0x47b295(0x137)]>_0x5800db[_0x47b295(0x137)]?0x1:_0x5800db[_0x47b295(0x137)]>_0x2d1486['datetime']?-0x1:0x0);let _0x1b3723=0x0;for(let _0x13fae6 of _0x534a4a){await updateCoinResults(_0x13fae6,!![]);}}catch(_0x599771){await handleError(_0x599771,'recreateCoinResults()');}}async function getAllEventOrders(_0x446e5f){const _0x2f6745=_0xcdcbca;let _0x3cb8a3=[],_0x45482=dbLogs['get'](_0x2f6745(0x227))[_0x2f6745(0x155)](_0x2c2640=>{const _0x17ae1e=_0x2f6745,_0x65474b=_0x2c2640['event'][_0x17ae1e(0x1cf)]();return _0x65474b['includes'](_0x446e5f[_0x17ae1e(0x1cf)]())&&(_0x65474b['includes'](_0x17ae1e(0x204))&&_0x65474b[_0x17ae1e(0x148)](_0x17ae1e(0x1cb))||_0x65474b['includes'](_0x17ae1e(0x221))&&_0x65474b[_0x17ae1e(0x148)](_0x17ae1e(0x1cb)));})['sortBy'](_0x2f6745(0x216))[_0x2f6745(0x24c)]();return _0x45482[_0x2f6745(0x22c)](_0x190488=>{const _0x16bb20=_0x2f6745,_0xb7967b=_0x190488[_0x16bb20(0x10f)]['includes'](_0x16bb20(0x259))?_0x16bb20(0x259):'buy',_0x2687af=/#([0-9]|\.)+\s/i,_0x7c2e5e=Number(_0x2687af[_0x16bb20(0x1ad)](_0x190488[_0x16bb20(0x10f)])[0x0]['slice'](0x1)),_0x2f28b9=/@([0-9]|\.)+$/i,_0x54f4c2=Number(_0x2f28b9[_0x16bb20(0x1ad)](_0x190488[_0x16bb20(0x10f)])[0x0][_0x16bb20(0x24a)](0x1));_0x3cb8a3['push']({'datetime':_0x190488[_0x16bb20(0x216)],'coin':symbolToCoin(_0x446e5f),'symbol':_0x446e5f,'side':_0xb7967b,'amount':_0x7c2e5e,'filled':_0x7c2e5e,'price':_0x54f4c2});}),_0x3cb8a3;}async function getAllOrders(_0x24ab8d,_0x4f665d){const _0x450e8b=_0xcdcbca;let _0x312062=[];while(_0x4f665d<exchange['milliseconds']()){const _0x544f3e=0x1f4;try{const _0x5749dc=await exchange[_0x450e8b(0x17e)](_0x24ab8d,_0x4f665d,_0x544f3e);if(_0x5749dc[_0x450e8b(0x12d)])_0x4f665d=_0x5749dc[_0x5749dc[_0x450e8b(0x12d)]-0x1]['timestamp']+0x1,_0x312062=_0x312062['concat'](_0x5749dc);else break;}catch(_0x26c041){await handleError(_0x26c041,_0x450e8b(0x184),_0x24ab8d);}}return _0x312062;}async function validate24hChanges(){const _0x2e8315=_0xcdcbca;for(const _0x3464fe of currentCoins){if(_0x3464fe[_0x2e8315(0xe5)]!=config[_0x2e8315(0x108)]){let _0x573a6f;_0x3464fe['reverse']?_0x573a6f=formatResult((0x1/(global[_0x2e8315(0x13e)][_0x3464fe[_0x2e8315(0x214)]]/0x64+0x1)-0x1)*0x64,0x3):_0x573a6f=global[_0x2e8315(0x13e)][_0x3464fe[_0x2e8315(0x214)]],_0x573a6f<config[_0x2e8315(0x212)]&&(logHistory(_0x2e8315(0x226),_0x3464fe[_0x2e8315(0xe5)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x573a6f+'%'),logHistory(_0x2e8315(0x226),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x2e8315(0x226),_0x2e8315(0x1b1)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x523ad9,_0x3c6a43){const _0x5d5790=_0xcdcbca;if(!_0x523ad9)return!![];const _0x338a12=_0x3c6a43[_0x5d5790(0x121)]('.'),_0x349dcd=_0x523ad9['split']('.');for(var _0x5ed050=0x0;_0x5ed050<_0x349dcd[_0x5d5790(0x12d)];_0x5ed050++){const _0x53a317=~~_0x349dcd[_0x5ed050],_0x40719f=~~_0x338a12[_0x5ed050];if(_0x53a317<_0x40719f)return!![];if(_0x53a317>_0x40719f)return![];}return![];}async function oneTimeMigration(){const _0x3d8f82=_0xcdcbca;let _0x131066=dbLogs[_0x3d8f82(0xbd)](_0x3d8f82(0x183))['value']();if(isOlderVersion(_0x131066,'2.3.5')){let _0x350cf9=[];const _0x180997=dbLogs[_0x3d8f82(0xbd)](_0x3d8f82(0x227))['value']();_0x180997[_0x3d8f82(0x22c)](_0x49497a=>{const _0xb931f8=_0x3d8f82;_0x350cf9[_0xb931f8(0x251)]({'time':_0x49497a[_0xb931f8(0x216)],'type':_0x49497a[_0xb931f8(0xfa)],'event':_0x49497a[_0xb931f8(0x10f)]});}),dbLogs[_0x3d8f82(0xbd)](_0x3d8f82(0x227))[_0x3d8f82(0x222)](_0x350cf9)[_0x3d8f82(0x19c)]();}let _0x277826=dbConfig[_0x3d8f82(0xbd)](_0x3d8f82(0x183))[_0x3d8f82(0x24c)]();if(isOlderVersion(_0x277826,_0x3d8f82(0xfb))){let _0xf1542=dbConfig[_0x3d8f82(0xbd)](_0x3d8f82(0x195))['find']({'botID':botID})['value']();if(_0xf1542){let _0xdec8c5=[];_0xf1542[_0x3d8f82(0x18f)][_0x3d8f82(0x22c)](_0xc044dd=>{const _0x265a96=_0x3d8f82;_0xdec8c5[_0x265a96(0x251)]({'coin':_0xc044dd[_0x265a96(0xe5)],'number':_0xc044dd[_0x265a96(0xf9)],'price':_0xc044dd['startprice']}),delete _0xc044dd[_0x265a96(0xf9)],delete _0xc044dd[_0x265a96(0x1b8)];});if(_0xdec8c5['length']!==0x0)fs[_0x3d8f82(0x1eb)](configbackuppath+(_0x3d8f82(0x13d)+botID+'.json'),JSON['stringify'](_0xdec8c5,null,0x4),function(_0x554215){if(_0x554215){}});const _0x4d1008=(_0x579028,_0x5632aa)=>{let _0x2046a4=[];_0x5632aa['forEach'](_0x5682c1=>{const _0x223b4b=_0x26ef,_0x5041d1=_0x579028[_0x223b4b(0x153)](_0xe6352c=>_0xe6352c['coin']==_0x5682c1['coin']);if(!_0x5041d1)_0x2046a4[_0x223b4b(0x251)](_0x5682c1);});let _0x54487b=[];return _0x579028['forEach'](_0x5c613a=>{const _0x2db02=_0x26ef,_0x5b60b5=_0x5632aa[_0x2db02(0x153)](_0x3faf38=>_0x3faf38[_0x2db02(0xe5)]==_0x5c613a[_0x2db02(0xe5)]);if(!_0x5b60b5||_0x5b60b5[_0x2db02(0x1dd)]==0x0&&_0x5c613a['number']!=0x0)_0x54487b[_0x2db02(0x251)](_0x5c613a);}),{'missingDay1':_0x2046a4,'notInDay2':_0x54487b};},_0x5743a4=dbPerformance['get'](_0x3d8f82(0x103))[_0x3d8f82(0x24f)]()[_0x3d8f82(0x24c)]();if(_0x5743a4[_0x3d8f82(0x12d)]>0x1){const {missingDay1:_0x209a50,notInDay2:_0x2c5c66}=_0x4d1008(_0xdec8c5,_0x5743a4[0x1]['coins']);_0xdec8c5=[..._0xdec8c5,..._0x209a50],_0x2c5c66['forEach'](_0x61b648=>{const _0x23525c=_0x3d8f82;let _0x4d7f27=_0xdec8c5[_0x23525c(0x138)](_0x404948=>_0x404948['coin']==_0x61b648[_0x23525c(0xe5)]);_0x4d7f27!=-0x1&&_0xdec8c5['splice'](_0x4d7f27,0x1);});}_0xdec8c5[_0x3d8f82(0x1e2)]((_0x5e4518,_0x4c4a0a)=>_0x5e4518[_0x3d8f82(0xe5)]>_0x4c4a0a['coin']?0x1:_0x4c4a0a[_0x3d8f82(0xe5)]>_0x5e4518['coin']?-0x1:0x0);let _0x4be766=[{'date':_0xf1542[_0x3d8f82(0x199)],'changes':_0xdec8c5}];_0x5743a4[_0x3d8f82(0x12d)]>0x2&&_0x5743a4[_0x3d8f82(0x22c)]((_0x5c2833,_0x529d54)=>{const _0x10f094=_0x3d8f82;if(_0x529d54>0x0&&_0x529d54<_0x5743a4[_0x10f094(0x12d)]-0x1){const {missingDay1:_0x255bfd,notInDay2:_0xf6c96d}=_0x4d1008(_0x5743a4[_0x529d54][_0x10f094(0x1d4)],_0x5743a4[_0x529d54+0x1]['coins']);_0xdec8c5=[],(_0x255bfd[_0x10f094(0x12d)]!=0x0||_0xf6c96d[_0x10f094(0x12d)]!=0x0)&&(_0x255bfd[_0x10f094(0x12d)]!=0x0&&_0xdec8c5[_0x10f094(0x251)](..._0x255bfd),_0xf6c96d[_0x10f094(0x12d)]!=0x0&&(_0xf6c96d[_0x10f094(0x22c)](_0x306b09=>{const _0x5c52e3=_0x10f094;_0x306b09[_0x5c52e3(0x1dd)]=-_0x306b09[_0x5c52e3(0x1dd)];}),_0xdec8c5['push'](..._0xf6c96d)),_0xdec8c5['sort']((_0x47ad81,_0x1b76c7)=>_0x47ad81[_0x10f094(0xe5)]>_0x1b76c7[_0x10f094(0xe5)]?0x1:_0x1b76c7[_0x10f094(0xe5)]>_0x47ad81[_0x10f094(0xe5)]?-0x1:0x0),_0x4be766['push']({'date':_0x5743a4[_0x529d54+0x1]['date'],'changes':_0xdec8c5}));}}),dbConfig[_0x3d8f82(0xbd)]('bot')[_0x3d8f82(0x153)]({'botID':botID})[_0x3d8f82(0x222)]({..._0xf1542,'liquidity':_0x4be766})[_0x3d8f82(0x19c)]();}}if(isOlderVersion(_0x277826,'2.6.0')){let _0x392021=dbConfig[_0x3d8f82(0xbd)](_0x3d8f82(0x195))[_0x3d8f82(0x153)]({'botID':botID})[_0x3d8f82(0x24c)]();if(_0x392021){const _0x44b4a5=_0x392021[_0x3d8f82(0x253)],_0x158a55=_0x44b4a5?capitalize(_0x44b4a5):'Binance';dbConfig[_0x3d8f82(0xbd)](_0x3d8f82(0x195))[_0x3d8f82(0x153)]({'botID':botID})[_0x3d8f82(0x222)]({'exchange':_0x158a55})[_0x3d8f82(0x19c)]();}}let _0x1657f8=dbPerformance[_0x3d8f82(0xbd)](_0x3d8f82(0x183))[_0x3d8f82(0x24c)]();isOlderVersion(_0x1657f8,'2.3.5')&&setStartDatePerformance();let _0xd6eba=dbCoinResults[_0x3d8f82(0xbd)](_0x3d8f82(0x183))['value']();if(isOlderVersion(_0xd6eba,_0x3d8f82(0x206))){let _0x43c392=dbCoinResults[_0x3d8f82(0xbd)](_0x3d8f82(0x1d4))[_0x3d8f82(0x24c)]();if(_0x43c392[_0x3d8f82(0x12d)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x182efd=_0xcdcbca;dbConfig[_0x182efd(0xda)](_0x182efd(0x183),serverversion)[_0x182efd(0x19c)](),dbPerformance[_0x182efd(0xda)](_0x182efd(0x183),serverversion)[_0x182efd(0x19c)](),dbLogs[_0x182efd(0xda)](_0x182efd(0x183),serverversion)[_0x182efd(0x19c)](),dbCoinResults[_0x182efd(0xda)](_0x182efd(0x183),serverversion)[_0x182efd(0x19c)]();}function getConfiguration(_0x408629){const _0x3bf6c1=_0xcdcbca;let _0xd19b21=dbConfig[_0x3bf6c1(0xbd)](_0x3bf6c1(0x195))[_0x3bf6c1(0x153)]({'botID':_0x408629})[_0x3bf6c1(0x24c)]();if(_0xd19b21){let _0x5ccb64=![];typeof _0xd19b21[_0x3bf6c1(0x12c)]=='string'&&(_0xd19b21={..._0xd19b21,'threshold':Number(_0xd19b21[_0x3bf6c1(0x12c)])},_0x5ccb64=!![]),_0xd19b21[_0x3bf6c1(0x212)]==undefined&&(_0xd19b21={..._0xd19b21,'change24h':-0x14},_0x5ccb64=!![]),_0xd19b21[_0x3bf6c1(0x11d)]==undefined&&(_0xd19b21={..._0xd19b21,'fiat':_0x3bf6c1(0x211)},_0x5ccb64=!![]),_0xd19b21[_0x3bf6c1(0x1f5)]==undefined&&(_0xd19b21={..._0xd19b21,'onepagemode':settings['onepagemode']},_0x5ccb64=!![]),_0xd19b21[_0x3bf6c1(0x257)]==undefined&&(_0xd19b21={..._0xd19b21,'colorscheme':'red_yellow_blue'},_0x5ccb64=!![]),_0xd19b21[_0x3bf6c1(0x159)]==undefined&&(_0xd19b21={..._0xd19b21,'autoliquidity':!![]},_0x5ccb64=!![]),_0xd19b21[_0x3bf6c1(0x1fe)]==undefined&&(_0xd19b21={..._0xd19b21,'marketcapApi':settings[_0x3bf6c1(0x1fe)]?!![]:![]},_0x5ccb64=!![]),_0xd19b21[_0x3bf6c1(0x112)]==undefined&&(_0xd19b21={..._0xd19b21,'marketcapEnabled':![]},_0x5ccb64=!![]),_0x5ccb64&&(_0xd19b21={'botID':_0xd19b21[_0x3bf6c1(0x17f)],'exchange':_0xd19b21['exchange'],'apiKey':_0xd19b21[_0x3bf6c1(0x1b2)],'apiSecret':_0xd19b21[_0x3bf6c1(0x1e4)],'apiPassword':_0xd19b21['apiPassword'],'basecoin':_0xd19b21[_0x3bf6c1(0x108)],'botname':_0xd19b21[_0x3bf6c1(0x236)],'showname':_0xd19b21['showname'],'threshold':_0xd19b21[_0x3bf6c1(0x12c)],'ordertype':_0xd19b21['ordertype'],'timeout':_0xd19b21['timeout'],'fiat':_0xd19b21['fiat'],'startdate':_0xd19b21[_0x3bf6c1(0x199)],'recreate':_0xd19b21[_0x3bf6c1(0x1c6)],'timeshift':_0xd19b21[_0x3bf6c1(0x14a)],'onepagemode':_0xd19b21[_0x3bf6c1(0x1f5)],'headless':_0xd19b21[_0x3bf6c1(0x1d5)],'cooldown':_0xd19b21['cooldown'],'change24h':_0xd19b21['change24h'],'emojibuy':_0xd19b21[_0x3bf6c1(0x15b)],'emojisell':_0xd19b21[_0x3bf6c1(0x165)],'colorscheme':_0xd19b21[_0x3bf6c1(0x257)],'marketcapApi':_0xd19b21[_0x3bf6c1(0x1fe)],'marketcapEnabled':_0xd19b21['marketcapEnabled'],'portfolio':_0xd19b21['portfolio'],'autoliquidity':_0xd19b21[_0x3bf6c1(0x159)],'liquidity':_0xd19b21['liquidity'],'openOrders':_0xd19b21['openOrders']},dbConfig[_0x3bf6c1(0xbd)](_0x3bf6c1(0x195))[_0x3bf6c1(0x115)]()[_0x3bf6c1(0x19c)](),dbConfig[_0x3bf6c1(0xbd)](_0x3bf6c1(0x195))['push'](_0xd19b21)[_0x3bf6c1(0x19c)]());}else _0xd19b21={'botID':_0x408629,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x3bf6c1(0x23f)+_0x408629,'showname':![],'threshold':0x3,'ordertype':_0x3bf6c1(0x204),'timeout':0x14,'fiat':_0x3bf6c1(0x211),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3bf6c1(0x14a)],'onepagemode':settings[_0x3bf6c1(0x1f5)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x3bf6c1(0x1fe)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0xd19b21;}function emittedConfiguration(){const _0x376857=_0xcdcbca;let _0x5d85ac;if(config[_0x376857(0x1b2)]=='')_0x5d85ac={...config,'configstate':_0x376857(0x1a9)};else config[_0x376857(0x1b2)]=='***'?_0x5d85ac={...config,'configstate':_0x376857(0x126)}:(_0x5d85ac={...config,'apiKey':_0x376857(0x1ee),'apiSecret':_0x376857(0x1ee)},config[_0x376857(0x1a6)]&&(_0x5d85ac[_0x376857(0x1a6)]=_0x376857(0x1ee)));return _0x5d85ac;}function getSettings(){const _0x3b9062=_0xcdcbca;return dbSettings['get']('settings')[_0x3b9062(0x24c)]();}function getSecure(){const _0x5df168=_0xcdcbca;return dbSecure[_0x5df168(0xbd)]('secure')[_0x5df168(0x24c)]()||{};}function updateTimeshift(_0x5f2f19){const _0x522e40=_0xcdcbca;let _0x5b85f6=dbConfig[_0x522e40(0xbd)](_0x522e40(0x195))[_0x522e40(0x153)]({'botID':botID})[_0x522e40(0x24c)]();_0x5b85f6&&dbConfig['get']('bot')['find']({'botID':botID})[_0x522e40(0x222)]({'timeshift':_0x5f2f19})[_0x522e40(0x19c)](),config[_0x522e40(0x14a)]=_0x5f2f19,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x60020){const _0x74eadb=_0xcdcbca;let _0xfaf144=dbConfig['get']('bot')['find']({'botID':botID})[_0x74eadb(0x24c)]();_0xfaf144&&dbConfig[_0x74eadb(0xbd)](_0x74eadb(0x195))['find']({'botID':botID})[_0x74eadb(0x222)]({'onepagemode':_0x60020})[_0x74eadb(0x19c)](),config[_0x74eadb(0x1f5)]=_0x60020,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x36c10d){const _0x4b9e08=_0xcdcbca,_0x3f4699=_0x36c10d?!![]:![];let _0x17f1c1=dbConfig[_0x4b9e08(0xbd)](_0x4b9e08(0x195))[_0x4b9e08(0x153)]({'botID':botID})['value']();_0x17f1c1&&dbConfig[_0x4b9e08(0xbd)](_0x4b9e08(0x195))[_0x4b9e08(0x153)]({'botID':botID})[_0x4b9e08(0x222)]({'marketcapApi':_0x3f4699})['write'](),config[_0x4b9e08(0x1fe)]=_0x3f4699,getMarketCap(),proxyEmit(_0x4b9e08(0x187),emittedConfiguration());}async function storeConfiguration(_0x504a0f){const _0xb1ccab=_0xcdcbca;logger[_0xb1ccab(0x111)](_0xb1ccab(0x13f));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug']('Transaction\x20detection\x20blocked');let _0x28d6d9=![],_0x79ee18=![],_0x5ede9a=[];_0x504a0f[_0xb1ccab(0x18f)][_0xb1ccab(0x22c)](_0x3393ae=>{const _0x2e16b1=_0xb1ccab;if(!_0x3393ae[_0x2e16b1(0x250)]&&_0x3393ae[_0x2e16b1(0xe5)]!=_0x504a0f[_0x2e16b1(0x108)])_0x5ede9a[_0x2e16b1(0x251)](_0x3393ae['symbol']);}),_0x5ede9a[_0xb1ccab(0x22c)](_0x690205=>{const _0xfaf518=_0xb1ccab,_0x15ff35=currentCoins[_0xfaf518(0x153)](_0x37f468=>_0x37f468['symbol']==_0x690205);!_0x15ff35&&(_0x28d6d9=!![]);}),currentCoins[_0xb1ccab(0x22c)](_0x536118=>{const _0x120406=_0xb1ccab;if(_0x536118[_0x120406(0xe5)]!=config[_0x120406(0x108)]){const _0xfa75d4=_0x5ede9a[_0x120406(0x153)](_0x19afd1=>_0x19afd1==_0x536118[_0x120406(0x214)]);!_0xfa75d4&&(_0x28d6d9=!![]);}}),_0x504a0f[_0xb1ccab(0x18f)]['forEach'](_0x4b918d=>{const _0x3513f6=_0xb1ccab,_0x42a1b0=config[_0x3513f6(0x18f)][_0x3513f6(0x153)](_0x4f3018=>_0x4f3018['coin']==_0x4b918d[_0x3513f6(0xe5)]);if(_0x42a1b0&&_0x4b918d['offset']!=_0x42a1b0['offset'])_0x79ee18=!![];});let _0x1ad8ea=dbConfig['get']('bot')[_0xb1ccab(0x153)]({'botID':botID})[_0xb1ccab(0x24c)]();_0x504a0f={..._0x504a0f,'apiKey':crypt[_0xb1ccab(0x1c4)](secure[_0xb1ccab(0x15c)],_0x504a0f['apiKey'])[_0xb1ccab(0x18a)],'apiSecret':crypt[_0xb1ccab(0x1c4)](secure[_0xb1ccab(0x15c)],_0x504a0f[_0xb1ccab(0x1e4)])[_0xb1ccab(0x18a)]};_0x504a0f[_0xb1ccab(0x1a6)]&&(_0x504a0f['apiPassword']=crypt[_0xb1ccab(0x1c4)](secure[_0xb1ccab(0x15c)],_0x504a0f[_0xb1ccab(0x1a6)])[_0xb1ccab(0x18a)]);let _0x441b6f=![];if(_0x1ad8ea){_0x504a0f[_0xb1ccab(0x1b2)]==_0xb1ccab(0x1ee)?_0x504a0f[_0xb1ccab(0x1b2)]=config[_0xb1ccab(0x1b2)]:_0x441b6f=!![];_0x504a0f[_0xb1ccab(0x1e4)]==_0xb1ccab(0x1ee)?_0x504a0f['apiSecret']=config[_0xb1ccab(0x1e4)]:_0x441b6f=!![];if(_0x504a0f[_0xb1ccab(0x1a6)]==_0xb1ccab(0x1ee))_0x504a0f[_0xb1ccab(0x1a6)]=config[_0xb1ccab(0x1a6)];else{if(_0x504a0f[_0xb1ccab(0x1a6)])_0x441b6f=!![];}dbConfig['get'](_0xb1ccab(0x195))[_0xb1ccab(0x153)]({'botID':botID})[_0xb1ccab(0x222)](_0x504a0f)[_0xb1ccab(0x19c)]();}else dbConfig[_0xb1ccab(0xbd)]('bot')[_0xb1ccab(0x251)](_0x504a0f)[_0xb1ccab(0x19c)](),_0x441b6f=!![],process['send']({'status':_0xb1ccab(0x1c7),'live':_0xb1ccab(0x119)},_0x372da1=>{});process[_0xb1ccab(0x1f7)]({'botname':_0x504a0f['botname']},_0x5b5093=>{}),config={..._0x504a0f},updateBotManager(),proxyEmit(_0xb1ccab(0xd4)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x441b6f)await reset(!![]);else _0x28d6d9||_0x79ee18?await reset(![]):getBalances();blockTransactionDetection=![],logger['debug'](_0xb1ccab(0x12e));}async function storeHeadless(_0x4d3c92){const _0x56967e=_0xcdcbca,_0x3d34b9={...config,'headless':_0x4d3c92[_0x56967e(0x1d5)]};let _0x7373f=dbConfig[_0x56967e(0xbd)](_0x56967e(0x195))['find']({'botID':botID})[_0x56967e(0x24c)]();_0x7373f&&dbConfig[_0x56967e(0xbd)](_0x56967e(0x195))['find']({'botID':botID})['assign'](_0x3d34b9)['write'](),config={..._0x3d34b9},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0xef5760){const _0x3ed210=_0xcdcbca,_0x80b113={...config,'fiat':_0xef5760};let _0x18a969=dbConfig[_0x3ed210(0xbd)](_0x3ed210(0x195))[_0x3ed210(0x153)]({'botID':botID})[_0x3ed210(0x24c)]();_0x18a969&&dbConfig[_0x3ed210(0xbd)](_0x3ed210(0x195))[_0x3ed210(0x153)]({'botID':botID})[_0x3ed210(0x222)](_0x80b113)[_0x3ed210(0x19c)](),config={..._0x80b113},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x25042c=_0xcdcbca;logger[_0x25042c(0x191)](_0x25042c(0x209));try{if(fs['existsSync'](path[_0x25042c(0x193)](configpath,_0x25042c(0x1a1)+botID+'-events.json')))fs['unlinkSync'](path['join'](configpath,_0x25042c(0x1a1)+botID+_0x25042c(0x19b)));if(fs[_0x25042c(0xca)](path[_0x25042c(0x193)](configpath,_0x25042c(0x1a1)+botID+_0x25042c(0xdc))))fs[_0x25042c(0x20b)](path[_0x25042c(0x193)](configpath,_0x25042c(0x1a1)+botID+_0x25042c(0xdc)));if(fs['existsSync'](path[_0x25042c(0x193)](configpath,_0x25042c(0x1a1)+botID+'-results.json')))fs[_0x25042c(0x20b)](path['join'](configpath,_0x25042c(0x1a1)+botID+_0x25042c(0x198)));}catch(_0x126f4f){if(_0x126f4f)logger['full'](_0x25042c(0x245),_0x126f4f);}const _0x75d9e7=getDate();let _0x504260=[];currentCoins['forEach'](_0x29f67a=>{const _0x433888=_0x25042c;_0x504260[_0x433888(0x251)]({'coin':_0x29f67a['coin'],'number':_0x29f67a['number'],'price':_0x29f67a[_0x433888(0xd8)]});});let _0x3fcac2=dbConfig[_0x25042c(0xbd)](_0x25042c(0x195))[_0x25042c(0x153)]({'botID':botID})['value']();_0x3fcac2&&(dbConfig['get'](_0x25042c(0x195))[_0x25042c(0x153)]({'botID':botID})[_0x25042c(0x222)]({'liquidity':[{'date':_0x75d9e7,'changes':_0x504260}]})[_0x25042c(0x19c)](),config[_0x25042c(0x1be)]=[]),process['send']({'stop':_0x25042c(0xee)},_0x2bcb1b=>{});}function noslash(_0x2d1408){const _0x4547f6=_0xcdcbca;return _0x2d1408[_0x4547f6(0x13a)]('/','');}function updateHighestFee(_0x580384){const _0x2421f1=_0xcdcbca;if(_0x580384[_0x2421f1(0x105)]){let _0x34fd0e={'filled':_0x580384[_0x2421f1(0x221)]*_0x580384[_0x2421f1(0x215)],'amount':_0x580384['filled']*_0x580384[_0x2421f1(0x215)],'side':_0x580384[_0x2421f1(0x167)]=='sell'?_0x2421f1(0x101):_0x2421f1(0x259),'price':0x1/_0x580384[_0x2421f1(0x215)]};_0x580384={..._0x580384,..._0x34fd0e};}const _0x3d65d3=defaultFee*_0x580384[_0x2421f1(0x221)]*_0x580384[_0x2421f1(0x215)];lastFees[_0x2421f1(0xf1)][_0x2421f1(0x12d)]===0x14&&lastFees[_0x2421f1(0xf1)][_0x2421f1(0x1e0)](),lastFees['recent20']['push'](_0x3d65d3),lastFees[_0x2421f1(0x1bf)]=Math[_0x2421f1(0x129)](...lastFees[_0x2421f1(0xf1)]);}async function updateNumberCoinsCcxt(_0x507863){const _0x1730fd=_0xcdcbca;logger['debug'](_0x1730fd(0x104)+_0x507863[_0x1730fd(0x214)]+_0x1730fd(0x1bc)+_0x507863[_0x1730fd(0x185)]+_0x1730fd(0x1bc)+_0x507863[_0x1730fd(0x221)]+'\x20/\x20'+_0x507863[_0x1730fd(0x223)]+'\x20|\x20'+_0x507863['id']);let _0x37f9b3=_0x507863[_0x1730fd(0x185)],_0x18d24d=![];currentCoins[_0x1730fd(0x22c)](_0x9c2b9=>{const _0x387adb=_0x1730fd;_0x9c2b9[_0x387adb(0x214)]==_0x507863['symbol']&&(_0x18d24d=!![]);});if(!_0x18d24d)return;const _0x1fac80=currentCoins[_0x1730fd(0x153)](_0x341856=>_0x341856['symbol']==_0x507863[_0x1730fd(0x214)]),_0x32789=_0x1a5f94=>{const _0x103394=_0x1730fd;if(_0x1fac80)_0x1fac80[_0x103394(0x1e5)]=_0x1a5f94;};if(_0x37f9b3==_0x1730fd(0x1d8))_0x32789(_0x1730fd(0x1d8));else{if(_0x37f9b3==_0x1730fd(0x21e)){_0x32789(_0x1730fd(0x21e));const _0x16bd86=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x16bd86,await getOpenOrders(),handleOpenOrders();}else{if(_0x37f9b3==_0x1730fd(0x1f1)){let _0x20948b=![];if(lastOrders)for(const _0x4a2aab of lastOrders){const _0x2f3ccd=0xc8,_0xcdc0b2=0x1388;let _0x2dfe9b=0x0;while(!_0x4a2aab[_0x1730fd(0x11f)]&&_0x2dfe9b*_0x2f3ccd<_0xcdc0b2){_0x2dfe9b++,await sleep(_0x2f3ccd);}if(_0x2dfe9b>0x0)logger['debug']('Waited\x20'+_0x2dfe9b*_0x2f3ccd/0x3e8+_0x1730fd(0x161));if(_0x4a2aab[_0x1730fd(0x11f)]==_0x507863['id']){logger['debug'](_0x1730fd(0x22b)+_0x507863['id']),_0x20948b=!![];if(_0x4a2aab['filled']==0x0){logger[_0x1730fd(0x111)](_0x1730fd(0x205)+_0x507863['id']);if(_0x507863['average'])_0x4a2aab['price']=_0x507863[_0x1730fd(0x110)];else{if(_0x507863[_0x1730fd(0x215)])_0x4a2aab[_0x1730fd(0x215)]=_0x507863[_0x1730fd(0x215)];else{}}_0x4a2aab[_0x1730fd(0x221)]=_0x507863[_0x1730fd(0x221)],updateHighestFee(_0x4a2aab),_0x32789('filled'),await validateOrders();if(lockOrders==ORDERS[_0x1730fd(0x243)]){const _0x45a39a=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x45a39a;}_0x4a2aab[_0x1730fd(0x15e)]={'currency':_0x507863[_0x1730fd(0x15e)]?_0x507863[_0x1730fd(0x15e)][_0x1730fd(0xe3)]:null,'cost':_0x507863[_0x1730fd(0x15e)]?_0x507863[_0x1730fd(0x15e)][_0x1730fd(0x16a)]:0x0},await updateCoinResults(_0x4a2aab);}}}if(!_0x20948b){logger[_0x1730fd(0x111)](_0x1730fd(0x147)+_0x507863['id']),_0x32789(_0x1730fd(0x221));const _0x406242=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x406242,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x3d38e5=JSON[_0x1730fd(0x1de)](lastBalances['portfolio']);const _0x1b6613=_0x3d38e5[_0x1730fd(0x153)](_0x61ca34=>_0x61ca34[_0x1730fd(0x214)]==_0x507863[_0x1730fd(0x214)]);if(_0x1b6613){if(_0x37f9b3==_0x1730fd(0x1d8))_0x1b6613[_0x1730fd(0x1e5)]=_0x1b6613[_0x1730fd(0x1e5)]=='filled'?_0x1730fd(0x221):_0x1730fd(0x1d8);else{if(_0x37f9b3=='canceled')_0x1b6613[_0x1730fd(0x1e5)]=_0x1b6613[_0x1730fd(0x1e5)]=='filled'?'filled':_0x1730fd(0x21e);else _0x37f9b3==_0x1730fd(0x1f1)&&(_0x1b6613[_0x1730fd(0x1e5)]=_0x1730fd(0x221));}}lastBalances={...lastBalances,'portfolio':JSON[_0x1730fd(0x1d0)](_0x3d38e5)},proxyEmit(_0x1730fd(0x150),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x1860f0=_0xcdcbca;await getOpenOrders();let _0x2df567=![];currentCoins[_0x1860f0(0x22c)](_0x5a504d=>{const _0x4f4bb5=_0x1860f0;_0x2df567=allOpenOrders['find'](_0x288893=>_0x288893[_0x4f4bb5(0x214)]==_0x5a504d['symbol']),_0x5a504d[_0x4f4bb5(0x1e5)]=_0x2df567?_0x4f4bb5(0x1d8):_0x4f4bb5(0x131);});}async function getCoins(_0x2a35be=0x0,_0x24ee44=!![],_0x52920a=config[_0xcdcbca(0x108)]){const _0x5e9407=_0xcdcbca;let _0x1fd76f,_0x5406a9=[],_0x11a363=[],_0x3938ba=[];if(_0x2a35be)await sleep(_0x2a35be);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x1fd76f=await exchange[_0x5e9407(0x17a)](),mybalances=_0x1fd76f[_0x5e9407(0x10c)];for(const [_0x1c1d8e,_0x2a51a6]of Object[_0x5e9407(0x15d)](mybalances)){_0x3938ba[_0x5e9407(0x251)](_0x1c1d8e);}config[_0x5e9407(0x18f)][_0x5e9407(0x22c)](_0x1e36f1=>{const _0x1b9639=_0x5e9407;!_0x3938ba[_0x1b9639(0x148)](_0x1e36f1['coin'])&&(mybalances[_0x1e36f1[_0x1b9639(0xe5)]]=0x0);});if(_0x52920a=='')for(const [_0x403318,_0x4b1a5a]of Object[_0x5e9407(0x15d)](mybalances)){_0x4b1a5a!=0x0&&_0x5406a9[_0x5e9407(0x251)]({'coin':_0x403318});}else for(const [_0x2e2252,_0x360d9f]of Object[_0x5e9407(0x15d)](mybalances)){const _0x252356=config[_0x5e9407(0x18f)]['find'](_0x1b1d67=>_0x1b1d67[_0x5e9407(0xe5)]==_0x2e2252),_0x1b55bb=_0x2e2252+'/'+_0x52920a,_0x34b297=_0x52920a+'/'+_0x2e2252,_0x4de7f5=currentCoins[_0x5e9407(0x153)](_0x30e1b5=>_0x30e1b5[_0x5e9407(0xe5)]==_0x2e2252);if((_0x360d9f!=0x0||_0x252356)&&(allSymbols[_0x5e9407(0x148)](_0x1b55bb)||_0x2e2252==_0x52920a))_0x4de7f5?_0x5406a9[_0x5e9407(0x251)]({..._0x4de7f5,'number':Math[_0x5e9407(0x129)](_0x360d9f+(_0x252356&&_0x252356['offset']||0x0),0x0)}):_0x5406a9[_0x5e9407(0x251)]({'coin':_0x2e2252,'symbol':_0x1b55bb,'reverse':![],'number':Math['max'](_0x360d9f+(_0x252356&&_0x252356[_0x5e9407(0x16f)]||0x0),0x0),'orderstatus':_0x5e9407(0x131)});else{if((_0x360d9f!=0x0||_0x252356)&&allSymbols['includes'](_0x34b297))_0x4de7f5?_0x5406a9[_0x5e9407(0x251)]({..._0x4de7f5,'number':Math['max'](_0x360d9f+(_0x252356&&_0x252356['offset']||0x0),0x0)}):_0x5406a9[_0x5e9407(0x251)]({'coin':_0x2e2252,'symbol':_0x34b297,'reverse':!![],'number':Math[_0x5e9407(0x129)](_0x360d9f+(_0x252356&&_0x252356[_0x5e9407(0x16f)]||0x0),0x0),'orderstatus':'none'});else _0x252356&&_0x5406a9[_0x5e9407(0x251)]({'coin':_0x252356[_0x5e9407(0xe5)],'symbol':_0x252356[_0x5e9407(0x214)],'reverse':_0x252356[_0x5e9407(0x105)],'number':0x0,'orderstatus':_0x5e9407(0x131)});}}}catch(_0x1fcc96){if(!_0x24ee44)handleErrorNoStop(_0x1fcc96,_0x5e9407(0x208));else await handleError(_0x1fcc96,'getCoins()');}return _0x5406a9[_0x5e9407(0x1e2)]((_0x5c8e99,_0x29bf1d)=>_0x5c8e99[_0x5e9407(0x10a)]<_0x29bf1d[_0x5e9407(0x10a)]?0x1:_0x29bf1d[_0x5e9407(0x10a)]<_0x5c8e99['delta']?-0x1:0x0),_0x11a363=cloneDeep(_0x5406a9),_0x5406a9=_0x5406a9[_0x5e9407(0x155)](_0x3e37ef=>{const _0x3a02d5=_0x5e9407,_0x1e4edb=config['portfolio'][_0x3a02d5(0x153)](_0x4ecd4d=>_0x4ecd4d[_0x3a02d5(0xe5)]==_0x3e37ef[_0x3a02d5(0xe5)]);return _0x1e4edb&&!_0x1e4edb[_0x3a02d5(0x250)];}),[_0x5406a9,_0x11a363];}async function getCoinNumber(_0x50dff8){const _0x43ec1f=_0xcdcbca;let _0x480469;try{const _0x29495d=await exchange[_0x43ec1f(0x17a)]();_0x480469=_0x29495d[_0x43ec1f(0x10c)][_0x50dff8];}catch(_0x259923){await handleError(_0x259923,_0x43ec1f(0x201));}return _0x480469;}async function getOpenOrders(){const _0x532bc2=_0xcdcbca;let _0x178f97;allOpenOrders=[];try{for(const _0x1a578a of config['portfolio']){!_0x1a578a[_0x532bc2(0x250)]&&_0x1a578a[_0x532bc2(0xe5)]!=config[_0x532bc2(0x108)]&&(_0x178f97=await exchange[_0x532bc2(0x1f3)](_0x1a578a[_0x532bc2(0x214)]),_0x178f97[_0x532bc2(0x12d)]>0x0&&allOpenOrders[_0x532bc2(0x251)](_0x178f97[0x0]));}}catch(_0x3820c5){await handleError(_0x3820c5,_0x532bc2(0x1a8));}}async function handleOpenOrders(_0x119f3e=0x0){const _0x1fc0e6=_0xcdcbca;allOpenOrders[_0x1fc0e6(0x12d)]==0x0&&lockOrders==ORDERS[_0x1fc0e6(0x243)]&&allOrdersPlaced&&(_0x119f3e==0x0?(logger[_0x1fc0e6(0x111)](_0x1fc0e6(0x1fc)),_0x119f3e++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x1fc0e6(0x111)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x1fc0e6(0x242))));}async function testAPI(_0x4f527c){const _0x3e5f29=_0xcdcbca,_0x4d8c8b=ccxt[_0x3e5f29(0xc4)][_0x4f527c[_0x3e5f29(0x253)]['toLowerCase']()],_0x331285=new _0x4d8c8b({'apiKey':_0x4f527c[_0x3e5f29(0x1b2)],'secret':_0x4f527c[_0x3e5f29(0x1e4)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x3e5f29(0x179)}});if(_0x4f527c[_0x3e5f29(0x1a6)])_0x331285[_0x3e5f29(0x23a)]=_0x4f527c[_0x3e5f29(0x1a6)];try{await _0x331285[_0x3e5f29(0xf8)]();}catch(_0x2d274c){throw _0x2d274c;}}function cloneDeep(_0xbb6bcd){return JSON['parse'](JSON['stringify'](_0xbb6bcd));}async function getPortfolio(_0x246396){const _0x3a1387=_0xcdcbca;let _0x171a63=[],_0x47db51=[],_0x5ffea7=[],_0x5060fb;if(_0x246396['apiKey']!==_0x3a1387(0x1ee)||_0x246396[_0x3a1387(0x1e4)]!=='************'||_0x246396[_0x3a1387(0x1a6)]&&_0x246396['apiPassword']!=='************'){if(config[_0x3a1387(0x253)]){if(_0x246396['apiKey']==_0x3a1387(0x1ee))_0x246396[_0x3a1387(0x1b2)]=config[_0x3a1387(0x1b2)];if(_0x246396['apiSecret']==_0x3a1387(0x1ee))_0x246396['apiSecret']=config['apiSecret'];if(_0x246396['apiPassword']==_0x3a1387(0x1ee))_0x246396[_0x3a1387(0x1a6)]=config[_0x3a1387(0x1a6)];try{await testAPI(_0x246396);}catch(_0x4e2a99){if(_0x4e2a99[_0x3a1387(0x124)]()['includes'](_0x3a1387(0x225))){logger[_0x3a1387(0x111)](_0x3a1387(0x18b)),proxyEmit('portfolio',![]);return;}else{handleError(_0x4e2a99,'getPortfolio(0)');return;}}}await initExchange(_0x246396['exchange'],_0x246396[_0x3a1387(0x1b2)],_0x246396['apiSecret'],_0x246396[_0x3a1387(0x1a6)]);try{await loadSymbols();}catch(_0x3b888e){if(_0x3b888e[_0x3a1387(0x124)]()[_0x3a1387(0x148)](_0x3a1387(0x225))){proxyEmit(_0x3a1387(0x18f),![]);return;}else{handleError(_0x3b888e,_0x3a1387(0xd6));return;}}const _0x57c981=await getCoins(0x0,![],_0x246396['basecoin']);_0x5ffea7=cloneDeep(_0x57c981[0x1]);}else{const _0x1474ea=await getCoins();_0x5ffea7=cloneDeep(_0x1474ea[0x1]);}if(_0x246396['basecoin']=='')proxyEmit(_0x3a1387(0x18f),_0x5ffea7);else{_0x5ffea7[_0x3a1387(0x22c)](_0x556d5c=>{const _0x400c08=_0x3a1387;if(_0x556d5c[_0x400c08(0xe5)]!=_0x246396[_0x400c08(0x108)]&&allSymbols[_0x400c08(0x148)](_0x556d5c[_0x400c08(0x214)]))_0x171a63['push'](_0x556d5c[_0x400c08(0x214)]);});if(_0x171a63[_0x3a1387(0x12d)]==0x0)logHistory('error',_0x3a1387(0xc0));else{try{_0x47db51=await getTickers(_0x171a63);}catch(_0x4be380){if(_0x4be380[_0x3a1387(0x124)]()[_0x3a1387(0x148)](_0x3a1387(0x225))){proxyEmit(_0x3a1387(0x18f),![]);return;}else handleError(_0x4be380,_0x3a1387(0x14d));}_0x5ffea7[_0x3a1387(0x22c)](_0x4b7374=>{const _0x41ae83=_0x3a1387;_0x4b7374['coin']!=_0x246396[_0x41ae83(0x108)]?_0x47db51[_0x4b7374[_0x41ae83(0x214)]]?_0x5060fb=_0x4b7374['reverse']?0x1/_0x47db51[_0x4b7374[_0x41ae83(0x214)]][_0x41ae83(0xd8)]:_0x47db51[_0x4b7374['symbol']]['last']:_0x5060fb=0x0:_0x5060fb=0x1,_0x4b7374['price']=formatResult(_0x5060fb,0x8);}),await getMarketCap(_0x5ffea7),proxyEmit(_0x3a1387(0x18f),_0x5ffea7);}}}function truncateTradeAmount(_0x5f0d1f,_0xbc610){const _0x3f9bb1=_0xcdcbca;let _0x1a2570=0x0;try{_0x1a2570=exchange[_0x3f9bb1(0x247)](_0x5f0d1f,_0xbc610);}catch(_0xde2211){}return _0x1a2570;}function checkMinimums(_0x5d432e){const _0x120882=_0xcdcbca;let _0x529912=!![];const _0x5d32c4=!_0x5d432e[_0x120882(0x105)]?markets[_0x5d432e['symbol']]['limits'][_0x120882(0x223)][_0x120882(0xcc)]:markets[_0x5d432e[_0x120882(0x214)]][_0x120882(0x254)][_0x120882(0x16a)][_0x120882(0xcc)],_0x561200=!_0x5d432e['reverse']?markets[_0x5d432e[_0x120882(0x214)]][_0x120882(0x254)][_0x120882(0x16a)]['min']:markets[_0x5d432e['symbol']][_0x120882(0x254)][_0x120882(0x223)][_0x120882(0xcc)],_0xce76cc=truncateTradeAmount(_0x5d432e[_0x120882(0x214)],_0x5d432e[_0x120882(0xc1)]);_0x5d432e[_0x120882(0xc1)]=_0xce76cc;if(Math[_0x120882(0x23e)](_0xce76cc)<_0x5d32c4)_0x529912=![];if(Math['abs'](_0xce76cc)*_0x5d432e[_0x120882(0xd8)]<_0x561200)_0x529912=![];if(_0x5d432e[_0x120882(0x167)]=='sell'){let _0x55bbbb=config[_0x120882(0x18f)]['find'](_0x2578cf=>_0x2578cf[_0x120882(0xe5)]==_0x5d432e[_0x120882(0xe5)]);if(_0x55bbbb[_0x120882(0x16f)]>0x0){if(Math[_0x120882(0x23e)](_0xce76cc)>_0x5d432e[_0x120882(0x1dd)]-_0x55bbbb['offset'])_0x529912=![];}else{if(Math['abs'](_0xce76cc)>_0x5d432e[_0x120882(0x1dd)])_0x529912=![];}}if(_0x5d432e[_0x120882(0x167)]==_0x120882(0x101)){let _0x189ad7=config[_0x120882(0x18f)]['find'](_0x52b5be=>_0x52b5be['coin']==config[_0x120882(0x108)]),_0x303b08=currentCoins[_0x120882(0x153)](_0x3b6d85=>_0x3b6d85[_0x120882(0xe5)]==config['basecoin']);if(_0x189ad7[_0x120882(0x16f)]>0x0){if(Math['abs'](_0xce76cc)*_0x5d432e[_0x120882(0xd8)]>_0x303b08[_0x120882(0x1dd)]-_0x189ad7['offset'])_0x529912=![];}else{if(Math['abs'](_0xce76cc)*_0x5d432e[_0x120882(0xd8)]>_0x303b08[_0x120882(0x1dd)])_0x529912=![];}}return _0x529912;}async function getBalances(_0xd273f7=!![]){const _0xa60d6a=_0xcdcbca;let _0x238eb7=0x0,_0x4077e1;const _0x51dc8c=config[_0xa60d6a(0x12c)];if(config[_0xa60d6a(0x1d5)]&&config[_0xa60d6a(0x212)]<0x0)await validate24hChanges();currentCoins[_0xa60d6a(0x22c)](_0x2b2ade=>{const _0x209fc9=_0xa60d6a;if(_0x2b2ade[_0x209fc9(0xe5)]!=config[_0x209fc9(0x108)]){let _0xb479b9=global[_0x209fc9(0x181)][noslash(_0x2b2ade[_0x209fc9(0x214)])];_0x4077e1=_0x2b2ade[_0x209fc9(0x105)]?0x1/_0xb479b9:_0xb479b9;}else _0x4077e1=0x1;let _0x165ce3=_0x2b2ade[_0x209fc9(0x1dd)]*_0x4077e1;_0x238eb7+=_0x165ce3,_0x2b2ade[_0x209fc9(0xd8)]=formatResult(Number(_0x4077e1),0x8),_0x2b2ade[_0x209fc9(0x24c)]=_0x165ce3;}),currentCoins[_0xa60d6a(0x22c)](_0x1d1d74=>{const _0x441f91=_0xa60d6a;let _0x33c117=config['portfolio'][_0x441f91(0x153)](_0x3fa855=>_0x3fa855[_0x441f91(0xe5)]==_0x1d1d74['coin']),_0x51be14=Number(_0x33c117['distribution']),_0x34edab=_0x1d1d74[_0x441f91(0x24c)]/_0x238eb7*0x64,_0x406071=_0x51be14*_0x238eb7/0x64/_0x1d1d74['last']-_0x1d1d74['number'];_0x1d1d74['distribution']=formatResult(_0x34edab,0x3),_0x1d1d74[_0x441f91(0x1bd)]=formatResult(_0x51be14,0x3),_0x1d1d74['trade']=formatResult(_0x406071,0x8),_0x1d1d74[_0x441f91(0x167)]='',_0x1d1d74[_0x441f91(0x170)]=![];if(_0x1d1d74['coin']!=config[_0x441f91(0x108)]){if(_0x1d1d74[_0x441f91(0x200)]>_0x51be14)_0x1d1d74[_0x441f91(0x167)]=_0x441f91(0x259),_0x1d1d74[_0x441f91(0x170)]=checkMinimums(_0x1d1d74);else _0x1d1d74['distribution']<_0x51be14&&(_0x1d1d74['side']=_0x441f91(0x101),_0x1d1d74[_0x441f91(0x170)]=checkMinimums(_0x1d1d74));}_0x1d1d74[_0x441f91(0x10a)]=_0x1d1d74[_0x441f91(0x200)]/_0x1d1d74[_0x441f91(0x1bd)]-0x1;if(_0x1d1d74[_0x441f91(0x1e5)]==_0x441f91(0x221)||_0x1d1d74['orderstatus']==_0x441f91(0x21e))_0x1d1d74['orderstatus']=_0x441f91(0x131);}),currentCoins[_0xa60d6a(0x1e2)]((_0x4012a0,_0x18344c)=>_0x4012a0['delta']<_0x18344c[_0xa60d6a(0x10a)]?0x1:_0x18344c[_0xa60d6a(0x10a)]<_0x4012a0[_0xa60d6a(0x10a)]?-0x1:0x0);const _0x5707e8=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5707e8[_0xa60d6a(0x232)],'usd':_0x5707e8[_0xa60d6a(0x196)],'portfolio':JSON[_0xa60d6a(0x1d0)](currentCoins),'threshold':_0x51dc8c},proxyEmit(_0xa60d6a(0x150),{'serverversion':serverversion,'balances':lastBalances});if(_0xd273f7){if(config[_0xa60d6a(0x1d5)])headlessMode({'portfolio':currentCoins,'threshold':_0x51dc8c});else{if(lockOrders==ORDERS[_0xa60d6a(0xe8)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x51dc8c});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x432ae9=getNormalizedPerformance();getStartingBalances(_0x432ae9),emitPerformance(_0x432ae9);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x2f32ca=getNormalizedPerformance();emitPerformance(_0x2f32ca),getStartingBalances(_0x2f32ca),logger[_0xa60d6a(0x111)](_0xa60d6a(0x171));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x596db6=_0xcdcbca;if(!lastBalances)return;let _0x2aea41=[],_0x33aaac,_0x1ba558=JSON[_0x596db6(0x1de)](lastBalances[_0x596db6(0x18f)]);_0x1ba558['sort']((_0x43e746,_0x1b6f57)=>_0x43e746[_0x596db6(0xe5)]>_0x1b6f57[_0x596db6(0xe5)]?0x1:_0x1b6f57[_0x596db6(0xe5)]>_0x43e746['coin']?-0x1:0x0),_0x1ba558[_0x596db6(0x22c)](_0x2c6044=>{const _0x3899c=_0x596db6;let _0x152d6a={'coin':_0x2c6044[_0x3899c(0xe5)],'number':_0x2c6044[_0x3899c(0x1dd)],'price':_0x2c6044['last']};_0x2aea41[_0x3899c(0x251)](_0x152d6a);});const _0x4a3936=await getFiat();_0x33aaac={'date':lastBalances[_0x596db6(0x216)][_0x596db6(0x121)]('\x20')[0x0],'eur':_0x4a3936[_0x596db6(0x232)],'usd':_0x4a3936[_0x596db6(0x196)],'coins':_0x2aea41};let _0x3faea7=dbPerformance[_0x596db6(0xbd)](_0x596db6(0x103))['find']({'date':_0x33aaac['date']})[_0x596db6(0x24c)]();_0x3faea7?_0x33aaac[_0x596db6(0x1f8)]!=config[_0x596db6(0x199)]&&dbPerformance[_0x596db6(0xbd)](_0x596db6(0x103))[_0x596db6(0x153)]({'date':_0x33aaac[_0x596db6(0x1f8)]})[_0x596db6(0x222)](_0x33aaac)[_0x596db6(0x19c)]():dbPerformance[_0x596db6(0xbd)]('data')[_0x596db6(0x251)](_0x33aaac)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x197251=_0xcdcbca;let _0x1563f2=[];if(dbPerformance[_0x197251(0xe4)](_0x197251(0x103))['value']()){let _0x37da6a=dbPerformance[_0x197251(0xbd)](_0x197251(0x103))[_0x197251(0x24f)]()[_0x197251(0x155)](_0x33fd76=>{const _0x4338f9=_0x197251;if(_0x33fd76[_0x4338f9(0x1d4)]['length']==0x0)return![];else return!![];})[_0x197251(0x17c)]('date')[_0x197251(0x24c)](),_0x5f4cfe=[...config['liquidity']];_0x5f4cfe['sort']((_0x4f192e,_0x2be253)=>_0x4f192e[_0x197251(0x1f8)]>_0x2be253[_0x197251(0x1f8)]?-0x1:_0x2be253[_0x197251(0x1f8)]>_0x4f192e[_0x197251(0x1f8)]?0x1:0x0);let _0x159150=0x1,_0x2630f0=[],_0x1b4e0e=0x0;_0x37da6a['slice']()[_0x197251(0x105)]()[_0x197251(0x22c)]((_0x1cc917,_0x1917c3)=>{const _0x139484=_0x197251;if(_0x5f4cfe[_0x1b4e0e]){if(_0x37da6a[_0x37da6a[_0x139484(0x12d)]-_0x1917c3]&&_0x5f4cfe[_0x1b4e0e][_0x139484(0x1f8)]==_0x37da6a[_0x37da6a[_0x139484(0x12d)]-_0x1917c3][_0x139484(0x1f8)]){if(_0x1917c3<_0x37da6a['length']){let _0x186444=0x0,_0x982f1=0x0;_0x37da6a[_0x37da6a[_0x139484(0x12d)]-_0x1917c3]['coins'][_0x139484(0x22c)](_0x2586ba=>{const _0x45f114=_0x139484;_0x982f1+=_0x2586ba[_0x45f114(0x1dd)]*_0x2586ba[_0x45f114(0x215)];}),_0x5f4cfe[_0x1b4e0e]['changes']['forEach'](_0x3a212a=>{const _0x522cc7=_0x139484;_0x186444+=_0x3a212a['number']*_0x3a212a[_0x522cc7(0x215)];}),_0x159150*=_0x186444/(_0x982f1-_0x186444)+0x1;}_0x1b4e0e++;}}let _0x41777c=0x0;_0x1cc917[_0x139484(0x1d4)]['forEach'](_0x1b7b1b=>{const _0x3f0ef7=_0x139484;_0x41777c+=_0x1b7b1b[_0x3f0ef7(0x1dd)]*_0x1b7b1b[_0x3f0ef7(0x215)];}),_0x2630f0[_0x37da6a[_0x139484(0x12d)]-_0x1917c3-0x1]=_0x41777c*(_0x159150-0x1);});let _0x5b72f7=[];_0x5f4cfe=[...config[_0x197251(0x1be)]]||[];let _0x1b7034=0x0;_0x1b4e0e=0x0,_0x37da6a[_0x197251(0x22c)]((_0x299332,_0x27994c)=>{const _0x258679=_0x197251;if(_0x5f4cfe[_0x1b4e0e]){const _0x47c0e8=fns[_0x258679(0x1de)](_0x5f4cfe[_0x1b4e0e][_0x258679(0x1f8)],_0x258679(0x130),new Date()),_0x454364=fns[_0x258679(0x1de)](_0x299332[_0x258679(0x1f8)],_0x258679(0x130),new Date());if(fns['isEqual'](_0x47c0e8,_0x454364)){let _0x5dc06c=0x0;_0x5f4cfe[_0x1b4e0e]['changes'][_0x258679(0x22c)](_0x3026f5=>{const _0x5c1ed0=_0x258679;!_0x5b72f7[_0x3026f5['coin']]?_0x5b72f7[_0x3026f5[_0x5c1ed0(0xe5)]]=_0x3026f5['number']:(_0x5dc06c=_0x5b72f7[_0x3026f5['coin']],_0x5b72f7[_0x3026f5[_0x5c1ed0(0xe5)]]+=_0x3026f5['number']);const _0x75b058=_0x299332[_0x5c1ed0(0x1d4)][_0x5c1ed0(0x153)](_0x221339=>_0x221339[_0x5c1ed0(0xe5)]==_0x3026f5[_0x5c1ed0(0xe5)]);(!_0x75b058||_0x75b058['number']==0x0)&&(_0x1b7034+=(-_0x3026f5[_0x5c1ed0(0x1dd)]-_0x5dc06c)*_0x3026f5[_0x5c1ed0(0x215)]);}),_0x1b4e0e++;}}_0x299332['coins'][_0x258679(0x22c)]((_0x47731a,_0x21aeb3)=>{const _0x2bbbed=_0x258679;_0x5b72f7[_0x47731a[_0x2bbbed(0xe5)]]&&(_0x47731a[_0x2bbbed(0x1a9)]=_0x5b72f7[_0x47731a['coin']]);}),_0x1563f2[_0x258679(0x251)]({'date':_0x299332[_0x258679(0x1f8)],'eur':_0x299332[_0x258679(0x232)],'usd':_0x299332['usd'],'offset':_0x2630f0[_0x27994c],'netoffset':_0x1b7034,'coins':_0x299332[_0x258679(0x1d4)]});});}return _0x1563f2;}function emitPerformance(_0x2e8d8f){const _0x3a98cc=_0xcdcbca;_0x2e8d8f[_0x3a98cc(0x12d)]!==0x0?(proxyEmit(_0x3a98cc(0x249),_0x2e8d8f),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x154f98,_0x1f6093){const _0x4c2dee=_0xcdcbca;let _0x573c60=0x0,_0x1a3550=0x0,_0x54565d=0x0;_0x154f98[_0x4c2dee(0x1d4)][_0x4c2dee(0x22c)](_0x4c2a0c=>{const _0x30c466=_0x4c2dee;_0x573c60+=_0x4c2a0c[_0x30c466(0x1dd)]*_0x4c2a0c[_0x30c466(0x215)];});_0x1f6093&&(_0x573c60+=_0x154f98[_0x4c2dee(0x16f)]);if(config[_0x4c2dee(0x108)]===_0x4c2dee(0x113)||config[_0x4c2dee(0x108)]===_0x4c2dee(0x192)||config[_0x4c2dee(0x108)]===_0x4c2dee(0x1ac))_0x1a3550=_0x573c60*_0x154f98[_0x4c2dee(0x232)],_0x54565d=_0x573c60*_0x154f98[_0x4c2dee(0x196)];else{if(usdBasecoins[_0x4c2dee(0x148)](config[_0x4c2dee(0x108)]))_0x1a3550=_0x573c60*_0x154f98[_0x4c2dee(0x232)]/_0x154f98[_0x4c2dee(0x196)],_0x54565d=_0x573c60;else config['basecoin']===_0x4c2dee(0x24b)&&(_0x1a3550=_0x573c60,_0x54565d=_0x573c60*_0x154f98[_0x4c2dee(0x196)]/_0x154f98[_0x4c2dee(0x232)]);}return[_0x573c60,_0x1a3550,_0x54565d];}function getKPIs(_0x4e42b9,_0x569f11='EUR'){const _0x84eb9c=_0xcdcbca,_0x34fda9=config['basecoin'],_0x305e9d=lastBalances,_0x19aacc=currentCoins,_0x1ff2e6=getNormalizedPerformance(),_0x78c815=_0x4e42b9==='basecoin'?_0x34fda9:_0x4e42b9===_0x84eb9c(0x11d)||_0x4e42b9===_0x84eb9c(0x160)?_0x569f11:_0x84eb9c(0x152)+_0x34fda9,_0x221f42=_0x4e42b9==='net-basecoin'?_0x84eb9c(0x21d):_0x4e42b9===_0x84eb9c(0x160)?_0x84eb9c(0x21d):_0x78c815+_0x84eb9c(0x1c1),_0xfde1cc=_0x4e42b9===_0x84eb9c(0x12f)||_0x4e42b9===_0x84eb9c(0x160)?_0x84eb9c(0x21d):_0x78c815+_0x84eb9c(0x20a);let _0x1eb91e=0x0;_0x19aacc[_0x84eb9c(0x22c)](_0x44d15c=>{const _0xf36d23=_0x84eb9c;_0x1eb91e+=_0x44d15c[_0xf36d23(0x1dd)]*_0x44d15c[_0xf36d23(0xd8)];});if(_0x4e42b9===_0x84eb9c(0x11d)||_0x4e42b9===_0x84eb9c(0x160)){if(_0x34fda9===_0x84eb9c(0x113)||_0x34fda9===_0x84eb9c(0x192)||_0x34fda9===_0x84eb9c(0x1ac))_0x1eb91e=_0x1eb91e*(_0x569f11==='EUR'?_0x305e9d[_0x84eb9c(0x232)]:_0x305e9d['usd']);else{if(usdBasecoins[_0x84eb9c(0x148)](_0x34fda9))_0x1eb91e=_0x1eb91e*(_0x569f11===_0x84eb9c(0x24b)?_0x305e9d[_0x84eb9c(0x232)]/_0x305e9d[_0x84eb9c(0x196)]:0x1);else _0x34fda9==='EUR'&&(_0x1eb91e=_0x1eb91e*(_0x569f11===_0x84eb9c(0x24b)?0x1:_0x305e9d[_0x84eb9c(0x196)]/_0x305e9d[_0x84eb9c(0x232)]));}}let _0x26c1f2;if(_0x1eb91e!==0x0){if(_0x4e42b9==='basecoin')_0x26c1f2=(_0x1eb91e/startingBalances[_0x84eb9c(0x108)]-0x1)*0x64;else{if(_0x569f11===_0x84eb9c(0x24b))_0x26c1f2=(_0x1eb91e/startingBalances[_0x84eb9c(0x232)]-0x1)*0x64;else _0x26c1f2=(_0x1eb91e/startingBalances[_0x84eb9c(0x196)]-0x1)*0x64;}let _0x3b031c=0x0;if(startingBalances['coins'])_0x19aacc['forEach'](_0x208309=>{const _0x320013=_0x84eb9c;let _0x4f641e=startingBalances[_0x320013(0x1d4)][_0x320013(0x153)](_0x364174=>_0x364174[_0x320013(0xe5)]===_0x208309[_0x320013(0xe5)]);if(_0x4f641e&&_0x4f641e[_0x320013(0xe5)]&&_0x208309[_0x320013(0x1dd)]!==0x0)_0x3b031c+=_0x4f641e[_0x320013(0x1dd)]*_0x208309[_0x320013(0xd8)];});let _0x44e7bb=0x0;if(_0x1ff2e6['length']!==0x0){let _0xcc5487=_0x1ff2e6[_0x1ff2e6['length']-0x1];_0x44e7bb=_0xcc5487[_0x84eb9c(0x20d)];}_0x3b031c-=_0x44e7bb;_0x4e42b9===_0x84eb9c(0x12f)&&(_0x26c1f2=(_0x1eb91e-_0x3b031c)/startingBalances['basecoin']*0x64,_0x1eb91e=_0x1eb91e-_0x3b031c);if(_0x4e42b9==='net-fiat'){let _0x31b550=_0x569f11===_0x84eb9c(0x24b)?startingBalances[_0x84eb9c(0x232)]:startingBalances[_0x84eb9c(0x196)];if(_0x34fda9===_0x84eb9c(0x113)||_0x34fda9===_0x84eb9c(0x192)||_0x34fda9===_0x84eb9c(0x1ac))_0x3b031c=_0x569f11==='EUR'?_0x3b031c*_0x305e9d[_0x84eb9c(0x232)]:_0x3b031c*_0x305e9d[_0x84eb9c(0x196)];else{if(usdBasecoins[_0x84eb9c(0x148)](_0x34fda9))_0x3b031c=_0x569f11===_0x84eb9c(0x24b)?_0x3b031c*_0x305e9d[_0x84eb9c(0x232)]/_0x305e9d[_0x84eb9c(0x196)]:_0x3b031c;else _0x34fda9===_0x84eb9c(0x24b)&&(_0x3b031c=_0x569f11==='EUR'?_0x3b031c:_0x3b031c*_0x305e9d[_0x84eb9c(0x196)]/_0x305e9d[_0x84eb9c(0x232)]);}_0x26c1f2=(_0x1eb91e-_0x3b031c)/_0x31b550*0x64,_0x1eb91e=_0x1eb91e-_0x3b031c;}if(_0x26c1f2){if(_0x26c1f2<0x64)_0x26c1f2=_0x26c1f2['toFixed'](0x2);else{if(_0x26c1f2<0x3e8)_0x26c1f2=_0x26c1f2[_0x84eb9c(0x218)](0x1);else _0x26c1f2=_0x26c1f2[_0x84eb9c(0x218)](0x0);}}else _0x26c1f2=Number('0')[_0x84eb9c(0x218)](0x2);if(_0x1eb91e){if(Math[_0x84eb9c(0x23e)](_0x1eb91e)<0.000001)_0x1eb91e=_0x1eb91e[_0x84eb9c(0x218)](0x2);else{if(Math[_0x84eb9c(0x23e)](_0x1eb91e)<0.1)_0x1eb91e=_0x1eb91e[_0x84eb9c(0x218)](0x6);else{if(Math['abs'](_0x1eb91e)<0x1)_0x1eb91e=_0x1eb91e[_0x84eb9c(0x218)](0x5);else{if(Math[_0x84eb9c(0x23e)](_0x1eb91e)<0xa)_0x1eb91e=_0x1eb91e[_0x84eb9c(0x218)](0x4);else{if(Math[_0x84eb9c(0x23e)](_0x1eb91e)<0x64)_0x1eb91e=_0x1eb91e['toFixed'](0x3);else{if(Math[_0x84eb9c(0x23e)](_0x1eb91e)<0x3e8)_0x1eb91e=_0x1eb91e[_0x84eb9c(0x218)](0x2);else _0x1eb91e=_0x1eb91e[_0x84eb9c(0x218)](0x2);}}}}}}else _0x1eb91e=Number('0')[_0x84eb9c(0x218)](0x2);}else _0x26c1f2=Number('0')['toFixed'](0x2);return{'value':_0x1eb91e,'change':_0x26c1f2,'leftTxt':_0x221f42,'rightTxt':_0xfde1cc};}async function getStartingBalances(_0x5206f6,_0x97b2c2=!![]){const _0x207c24=_0xcdcbca;if(_0x5206f6['length']!==0x0){const [_0x375473,_0x56e4ff,_0x43c546]=getPerf(_0x5206f6[0x0],!![]);let _0x5b0935=[];config[_0x207c24(0x18f)][_0x207c24(0x22c)](_0x2d327d=>{const _0xb27e2=_0x207c24;let _0x18446e=0x0,_0x4c7383;config[_0xb27e2(0x1be)][_0xb27e2(0x22c)](_0x135088=>{const _0x48e562=_0xb27e2;let _0x427361=_0x135088[_0x48e562(0x11e)]['find'](_0x1ee6fe=>_0x1ee6fe[_0x48e562(0xe5)]==_0x2d327d[_0x48e562(0xe5)]);if(_0x427361){_0x18446e+=_0x427361[_0x48e562(0x1dd)];if(!_0x4c7383)_0x4c7383=_0x427361[_0x48e562(0x215)];}}),_0x5b0935[_0xb27e2(0x251)]({'coin':_0x2d327d[_0xb27e2(0xe5)],'number':_0x18446e,'initialprice':_0x4c7383});});const _0xa40fc6={'basecoin':_0x375473,'eur':_0x56e4ff,'usd':_0x43c546,'coins':_0x5b0935};if(_0x97b2c2)proxyEmit('starting-balances',_0xa40fc6);startingBalances=_0xa40fc6;}}function headlessMode(_0x525c18){const _0x59519c=_0xcdcbca;let _0x43a160=_0x525c18['portfolio'],_0x59670c=_0x525c18[_0x59519c(0x12c)],_0x4d7dcb=[];for(let _0x30afb2 of _0x43a160){if(_0x30afb2[_0x59519c(0xe5)]!=config[_0x59519c(0x108)]){if(_0x30afb2[_0x59519c(0x10a)]>=_0x59670c/0x64){if(_0x30afb2['valid'])_0x4d7dcb[_0x59519c(0x251)](_0x30afb2);}else{if(_0x30afb2[_0x59519c(0x10a)]<=-_0x59670c/0x64){if(_0x30afb2['valid'])_0x4d7dcb[_0x59519c(0x251)](_0x30afb2);}}}}_0x4d7dcb[_0x59519c(0x12d)]>0x0&&(lockOrders==ORDERS[_0x59519c(0xe8)]&&!coolingDown&&_0x4d7dcb[_0x59519c(0x22c)](_0x15c7ee=>{const _0x1486ce=_0x59519c;logger[_0x1486ce(0x111)](_0x1486ce(0xcd)+_0x15c7ee['coin']+'\x20'+_0x15c7ee[_0x1486ce(0x1dd)]+'\x20'+_0x15c7ee[_0x1486ce(0xd8)]+'\x20'+_0x15c7ee[_0x1486ce(0x200)]+'%\x20'+_0x15c7ee[_0x1486ce(0x1bd)]+'%\x20'+(0x64*_0x15c7ee['delta'])['toFixed'](0x2)+'%\x20('+_0x59670c[_0x1486ce(0x218)](0x2)+'%)');}),placeOrder(_0x4d7dcb));}function notifyBalance(_0x15670c){const _0x3e5f2c=_0xcdcbca;let _0x360bc5=_0x15670c[_0x3e5f2c(0x18f)],_0x31052d=_0x15670c[_0x3e5f2c(0x12c)],_0x878600=[];for(let _0x382b05 of _0x360bc5){if(_0x382b05['coin']!=config[_0x3e5f2c(0x108)]){if(_0x382b05[_0x3e5f2c(0x10a)]>=_0x31052d/0x64){if(_0x382b05[_0x3e5f2c(0x170)])_0x878600['push'](_0x382b05);}else{if(_0x382b05['delta']<=-_0x31052d/0x64){if(_0x382b05[_0x3e5f2c(0x170)])_0x878600[_0x3e5f2c(0x251)](_0x382b05);}}}}if(_0x878600[_0x3e5f2c(0x12d)]>0x0){let _0x12be76=_0x878600['map'](_0x25b34b=>_0x25b34b[_0x3e5f2c(0xe5)]);_0x12be76[_0x3e5f2c(0x1e2)]();let _0x2fb5f3=_0x12be76[_0x3e5f2c(0x193)](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x2fb5f3;}}function symbolToCoin(_0x3d940a){const _0x52a766=_0xcdcbca;let _0x54630a;if(_0x3d940a[_0x52a766(0x148)]('/'+config['basecoin']))_0x54630a=_0x3d940a['replace']('/'+config[_0x52a766(0x108)],'');if(_0x3d940a[_0x52a766(0x148)](config['basecoin']+'/'))_0x54630a=_0x3d940a[_0x52a766(0x13a)](config[_0x52a766(0x108)]+'/','');return _0x54630a;}async function unlockOrders(){const _0x310465=_0xcdcbca;if(allOrdersPlaced&&lockOrders==ORDERS[_0x310465(0x243)]){logger[_0x310465(0x111)](_0x310465(0x1d9)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x1b89ff=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1b89ff,validateOrdersState=_0x310465(0x1a9),persistOpenOrders([]),lockOrders=ORDERS[_0x310465(0xe8)],logger[_0x310465(0x111)](_0x310465(0x106));}}async function validateOrders(_0x2eac0e){const _0x75717e=_0xcdcbca;if(_0x2eac0e)validateOrdersState=_0x2eac0e;logger[_0x75717e(0x111)](_0x75717e(0x16e)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x75717e(0x1e1):_0x75717e(0x24e)));let _0x329484=[],_0x223ae5=config[_0x75717e(0xc3)]==_0x75717e(0x204)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x75717e(0x229)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x75717e(0x243)])return;logger[_0x75717e(0x111)](_0x75717e(0x256)+validateOrdersState),lastOrders[_0x75717e(0x22c)](_0x4b8926=>{const _0x59623f=_0x75717e;let _0x894ae3=![];_0x4b8926[_0x59623f(0x221)]>0x0&&(_0x894ae3=!![]),_0x329484[_0x59623f(0x251)](_0x894ae3),_0x894ae3&&config[_0x59623f(0xc3)]!='market'&&logHistory(_0x59623f(0x1cb),_0x59623f(0x21c)+_0x4b8926[_0x59623f(0x214)]+'\x20'+_0x4b8926[_0x59623f(0x167)]+'\x20#'+formatResult(_0x4b8926[_0x59623f(0x221)],0x8)+'\x20@'+formatResult(_0x4b8926['price'],0x8));}),_0x329484['forEach']((_0x23a3ec,_0x18a837)=>{const _0x56ba1e=_0x75717e;if(_0x23a3ec)lastOrders[_0x56ba1e(0x233)](_0x18a837,0x1);}),persistOpenOrders(lastOrders);const _0x33888c=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x75717e(0x238);if(validateOrdersState==_0x75717e(0x1a9)){validateOrdersState=_0x75717e(0x142);if(_0x329484[_0x75717e(0x148)](![])){if(config[_0x75717e(0xc3)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x329484[_0x75717e(0x148)](![])){}else{if(allOrdersPlaced){if(config[_0x75717e(0xc3)]==_0x75717e(0x204)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x75717e(0xe1))_0x329484[_0x75717e(0x148)](![])&&(config[_0x75717e(0xc3)]==_0x75717e(0x204)?logHistory(_0x75717e(0x14e),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x75717e(0x1c3)](_0x223ae5*validateOrderInterval/0xea60)+_0x75717e(0x156)+_0x33888c):(await cancelOrders(),logHistory('success',_0x75717e(0xdb)+Math[_0x75717e(0x1c3)](_0x223ae5*validateOrderInterval/0xea60)+_0x75717e(0x156)+_0x33888c))),await unlockOrders();else{if(validateOrdersState==_0x75717e(0x242)){if(config['ordertype']!=_0x75717e(0x204))logHistory(_0x75717e(0x14e),'No\x20more\x20open\x20orders\x20-\x20'+_0x33888c);await unlockOrders();}}}}}async function cancelOrders(){const _0x50b4fb=_0xcdcbca;lastOrders[_0x50b4fb(0x22c)](async _0x2026ed=>{const _0x135db9=_0x50b4fb;try{const _0x530217=await exchange[_0x135db9(0x241)](_0x2026ed['orderId'],_0x2026ed['symbol']);}catch(_0x297366){if(_0x297366[_0x135db9(0x124)]()[_0x135db9(0x148)](_0x135db9(0x107))){}else await handleError(_0x297366,'cancelOrders()');}});}async function initCoinResults(_0x115fb8){const _0xc0c779=_0xcdcbca;_0x115fb8?logger['debug'](_0xc0c779(0x1fd)+_0x115fb8):logger['debug'](_0xc0c779(0x14c)),config['portfolio'][_0xc0c779(0x22c)](_0x327aa5=>{const _0x2f4d08=_0xc0c779;if(!_0x327aa5[_0x2f4d08(0x250)]&&_0x327aa5['coin']!=config[_0x2f4d08(0x108)]){const _0x2c9e22=currentCoins[_0x2f4d08(0x153)](_0x847d74=>_0x847d74[_0x2f4d08(0xe5)]==_0x327aa5[_0x2f4d08(0xe5)]),_0x1980d0=global['ticker'][noslash(_0x327aa5['symbol'])];let _0x4ee6ef=_0x2c9e22?_0x2c9e22['number']:null,_0x532ac2=_0x327aa5[_0x2f4d08(0x105)]?0x1/_0x1980d0:_0x1980d0,_0x5c8227;config[_0x2f4d08(0x1be)][_0x2f4d08(0x22c)](_0x2f40d8=>{const _0xcaba78=_0x2f4d08;!_0x5c8227&&(_0x5c8227=_0x2f40d8['changes'][_0xcaba78(0x153)](_0x19739f=>_0x19739f[_0xcaba78(0xe5)]==_0x327aa5['coin']),_0x5c8227&&(_0x4ee6ef=_0x5c8227[_0xcaba78(0x1dd)],_0x532ac2=_0x5c8227[_0xcaba78(0x215)]));});let _0x5da463=dbCoinResults[_0x2f4d08(0xbd)](_0x2f4d08(0x1d4))[_0x2f4d08(0x153)]({'coin':_0x327aa5['coin']})['value']();if(!_0x5da463){const _0x10f904={'coin':_0x327aa5[_0x2f4d08(0xe5)],'number':_0x4ee6ef,'breakeven':_0x532ac2,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2f4d08(0xbd)](_0x2f4d08(0x1d4))[_0x2f4d08(0x251)](_0x10f904)[_0x2f4d08(0x19c)]();}else{if(_0x115fb8&&_0x327aa5[_0x2f4d08(0xe5)]==_0x115fb8){const _0x2ff6a6={'coin':_0x327aa5[_0x2f4d08(0xe5)],'number':_0x4ee6ef,'breakeven':_0x532ac2,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2f4d08(0xbd)](_0x2f4d08(0x1d4))[_0x2f4d08(0x153)]({'coin':_0x327aa5['coin']})['assign'](_0x2ff6a6)[_0x2f4d08(0x19c)]();}}}});}async function updateCoinResults(_0x545dd8,_0x1f0054=![]){const _0x59f57d=_0xcdcbca;let _0x184bb5,_0x8295c4,_0x2c0111,_0x22924d,_0x2bbb0c,_0x2ddcd1,_0x19d949=dbCoinResults[_0x59f57d(0xbd)](_0x59f57d(0x1d4))[_0x59f57d(0x153)]({'coin':_0x545dd8[_0x59f57d(0xe5)]})['value'](),_0x50862d=![];_0x19d949&&Object[_0x59f57d(0x15d)](_0x19d949)[_0x59f57d(0x22c)](([_0x2b5899,_0x49953f])=>{if(_0x49953f==null)_0x50862d=!![];});(!_0x19d949||_0x50862d)&&(await initCoinResults(_0x545dd8['coin']),_0x19d949=dbCoinResults[_0x59f57d(0xbd)]('coins')[_0x59f57d(0x153)]({'coin':_0x545dd8[_0x59f57d(0xe5)]})[_0x59f57d(0x24c)]());_0x545dd8[_0x59f57d(0x105)]&&(_0x2ddcd1={'filled':_0x545dd8[_0x59f57d(0x221)]*_0x545dd8[_0x59f57d(0x215)],'amount':_0x545dd8[_0x59f57d(0x221)]*_0x545dd8['price'],'side':_0x545dd8[_0x59f57d(0x167)]==_0x59f57d(0x259)?_0x59f57d(0x101):_0x59f57d(0x259),'price':0x1/_0x545dd8[_0x59f57d(0x215)]},_0x545dd8={..._0x545dd8,..._0x2ddcd1});_0x1f0054?_0x8295c4=_0x545dd8[_0x59f57d(0x167)]==_0x59f57d(0x101)?_0x19d949[_0x59f57d(0x1dd)]+_0x545dd8[_0x59f57d(0x221)]:_0x19d949[_0x59f57d(0x1dd)]-_0x545dd8[_0x59f57d(0x221)]:_0x8295c4=await getCoinNumber(_0x545dd8[_0x59f57d(0xe5)]);if(_0x545dd8[_0x59f57d(0x15e)]&&_0x545dd8[_0x59f57d(0x15e)][_0x59f57d(0xe3)]==config[_0x59f57d(0x108)])_0x184bb5=Number(_0x545dd8[_0x59f57d(0x15e)][_0x59f57d(0x16a)]);else{if(_0x545dd8[_0x59f57d(0x15e)]&&_0x545dd8[_0x59f57d(0x15e)][_0x59f57d(0xe3)]==_0x59f57d(0x17d)&&!_0x1f0054&&config[_0x59f57d(0x108)]!='PAXG')_0x184bb5=Number(_0x545dd8['fee']['cost'])*global[_0x59f57d(0x181)][_0x59f57d(0x17d)+config['basecoin']];else _0x184bb5=defaultFee*_0x545dd8['filled']*_0x545dd8['price'];}_0x545dd8[_0x59f57d(0x167)]==_0x59f57d(0x101)?(_0x2c0111=_0x8295c4!=0x0?(_0x19d949[_0x59f57d(0x244)]*_0x19d949['number']+_0x545dd8[_0x59f57d(0x215)]*(_0x8295c4-_0x19d949[_0x59f57d(0x1dd)])+_0x184bb5)/_0x8295c4:0x0,_0x22924d=_0x19d949[_0x59f57d(0x1ea)]):(_0x2c0111=_0x8295c4!=0x0?(_0x19d949[_0x59f57d(0x244)]*_0x19d949[_0x59f57d(0x1dd)]-_0x545dd8[_0x59f57d(0x215)]*(_0x19d949[_0x59f57d(0x1dd)]-_0x8295c4)+_0x184bb5)/_0x8295c4:0x0,_0x22924d=_0x19d949['realized']+(_0x545dd8['price']-_0x19d949[_0x59f57d(0x244)])*_0x545dd8[_0x59f57d(0x221)]);_0x2bbb0c=(_0x545dd8[_0x59f57d(0x215)]-_0x2c0111-_0x184bb5/_0x545dd8[_0x59f57d(0x221)])*_0x8295c4;let _0x1641b7={'coin':_0x545dd8[_0x59f57d(0xe5)],'number':_0x8295c4,'breakeven':formatResult(_0x2c0111,0x8),'realized':formatResult(_0x22924d,0x8),'unrealized':formatResult(_0x2bbb0c,0x8),'fees':formatResult(_0x19d949[_0x59f57d(0xed)]+_0x184bb5,0x8),'sells':_0x545dd8[_0x59f57d(0x167)]==_0x59f57d(0x259)?_0x19d949[_0x59f57d(0x18d)]+0x1:_0x19d949[_0x59f57d(0x18d)],'buys':_0x545dd8['side']==_0x59f57d(0x101)?_0x19d949[_0x59f57d(0x114)]+0x1:_0x19d949[_0x59f57d(0x114)]};dbCoinResults[_0x59f57d(0xbd)](_0x59f57d(0x1d4))['find']({'coin':_0x545dd8['coin']})[_0x59f57d(0x222)](_0x1641b7)[_0x59f57d(0x19c)]();if(!_0x1f0054){if(_0x545dd8[_0x59f57d(0x15e)]&&_0x545dd8[_0x59f57d(0x15e)]['currency']=='BNB'){const _0x142ecb=currentCoins[_0x59f57d(0x153)](_0x3a7405=>_0x3a7405[_0x59f57d(0xe5)]==_0x59f57d(0x17d));if(_0x142ecb){let _0x1488a9=dbCoinResults[_0x59f57d(0xbd)](_0x59f57d(0x1d4))[_0x59f57d(0x153)]({'coin':_0x59f57d(0x17d)})['value']();_0x1641b7={..._0x1488a9,'number':_0x142ecb[_0x59f57d(0x1dd)]},dbCoinResults['get'](_0x59f57d(0x1d4))[_0x59f57d(0x153)]({'coin':_0x59f57d(0x17d)})['assign'](_0x1641b7)[_0x59f57d(0x19c)]();}}}}async function placeOrder(_0x4bc5c5){const _0x375999=_0xcdcbca,_0x4492f4=config[_0x375999(0xc3)]==_0x375999(0x204)?'market':'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x375999(0x243)],allOrdersPlaced=![],validateOrdersState=_0x375999(0x1a9);let _0x34e016=![];lastOrders=[];for(const _0x4e099c of _0x4bc5c5){let _0x4625b6,_0x12b2c0,_0x59116b,_0x35e0b4,_0x4aff49,_0x457535=_0x4e099c[_0x375999(0x214)];try{const _0x54c78b=await exchange['fetchTicker'](_0x457535);_0x4625b6=_0x4e099c[_0x375999(0x105)]?0x1/_0x4e099c[_0x375999(0xd8)]:_0x4e099c[_0x375999(0xd8)],_0x12b2c0=_0x54c78b[_0x375999(0xea)],_0x59116b=_0x54c78b[_0x375999(0x162)];_0x4e099c[_0x375999(0x105)]?(_0x35e0b4=_0x4e099c[_0x375999(0x167)]=='buy'?_0x375999(0x259):_0x375999(0x101),_0x4aff49=Math[_0x375999(0x23e)](_0x4e099c['trade'])/_0x4625b6):(_0x35e0b4=_0x4e099c[_0x375999(0x167)],_0x4aff49=Math[_0x375999(0x23e)](_0x4e099c['trade']));_0x4492f4=='limit'&&(config[_0x375999(0xc3)]==_0x375999(0xe2)&&(_0x4625b6=_0x35e0b4==_0x375999(0x101)?_0x12b2c0:_0x59116b),config[_0x375999(0xc3)]==_0x375999(0x17b)&&(_0x4625b6=_0x35e0b4==_0x375999(0x101)?_0x59116b:_0x12b2c0));_0x4aff49=formatResult(_0x4aff49,0x8),_0x4625b6=formatResult(_0x4625b6,0x8);const _0x3b30d8=_0x35e0b4=='sell'?config['emojisell']?String[_0x375999(0x1ce)]('0x'+config[_0x375999(0x165)])+'\x20':'':config[_0x375999(0x15b)]?String[_0x375999(0x1ce)]('0x'+config[_0x375999(0x15b)])+'\x20':'',_0x41db64=_0x4492f4=='market'?_0x375999(0x13b):config[_0x375999(0xc3)]==_0x375999(0xe2)?_0x375999(0x22e):_0x375999(0x136),_0x2a7751=(Math['floor'](Math[_0x375999(0x1b7)]()*0x35a4e900)+0x5f5e100)[_0x375999(0x124)]();lastOrders[_0x375999(0x251)]({'customId':_0x2a7751,'symbol':_0x457535,'coin':_0x4e099c[_0x375999(0xe5)],'amount':_0x4aff49,'price':_0x4625b6,'side':_0x35e0b4,'reverse':_0x4e099c['reverse'],'filled':0x0});if(_0x4492f4==_0x375999(0x204))logHistory(_0x375999(0x1cb),''+_0x3b30d8+_0x41db64+_0x375999(0x175)+_0x457535+'\x20'+_0x35e0b4+'\x20#'+formatResult(_0x4aff49,0x8)+'\x20@'+formatResult(_0x4625b6,0x8));else logHistory(_0x375999(0x1cb),''+_0x3b30d8+_0x41db64+'\x20order:\x20'+_0x457535+'\x20'+_0x35e0b4+'\x20#'+formatResult(_0x4aff49,0x8)+'\x20@'+formatResult(_0x4625b6,0x8));let _0x319aa3;_0x4492f4==_0x375999(0x204)?_0x35e0b4==_0x375999(0x101)&&['Bybit',_0x375999(0xcf),_0x375999(0x25d),_0x375999(0x1d3),_0x375999(0x1df)]['includes'](config[_0x375999(0x253)])?_0x319aa3=await exchange['createOrder'](_0x457535,_0x4492f4,_0x35e0b4,_0x4aff49,_0x4625b6):_0x319aa3=await exchange['createOrder'](_0x457535,_0x4492f4,_0x35e0b4,_0x4aff49,undefined):_0x319aa3=await exchange[_0x375999(0x178)](_0x457535,_0x4492f4,_0x35e0b4,_0x4aff49,_0x4625b6);logger[_0x375999(0x111)](_0x375999(0x1da)+_0x319aa3['id']+_0x375999(0x1c2)+_0x2a7751);const _0x4a52d3=lastOrders[_0x375999(0x12d)]-0x1;if(_0x4a52d3>=0x0&&lastOrders[_0x4a52d3][_0x375999(0x154)]==_0x2a7751){lastOrders[_0x4a52d3][_0x375999(0x11f)]=_0x319aa3['id'];if(_0x319aa3[_0x375999(0x223)])lastOrders[_0x4a52d3][_0x375999(0x223)]=_0x319aa3['amount'];if(_0x319aa3[_0x375999(0x215)])lastOrders[_0x4a52d3][_0x375999(0x215)]=_0x319aa3[_0x375999(0x215)];lastOrders[_0x4a52d3]['fee']=_0x319aa3['fee'];}if(config['cooldown']!=0x0){let _0x37cdf4=null;if(cooldownTracker[_0x375999(0x12d)]==config[_0x375999(0x16d)]-0x1)_0x37cdf4=cooldownTracker[_0x375999(0x1e0)]();const _0x2f7bcf=getTimeStamp();cooldownTracker[_0x375999(0x251)](_0x2f7bcf);if(_0x37cdf4){const _0xf66d1=fns[_0x375999(0x10e)](new Date(_0x2f7bcf),new Date(_0x37cdf4));if(_0xf66d1<cooldownInterval){logHistory(_0x375999(0x226),_0x375999(0x1cc)+config[_0x375999(0x16d)]+_0x375999(0x149)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x375999(0xef)),coolingDown=!![];break;}}}}catch(_0x533e59){if(_0x533e59['toString']()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders[_0x375999(0x155)](_0x106186=>_0x106186['symbol']!=_0x457535),logHistory(_0x375999(0x226),_0x375999(0x125)+_0x457535),_0x34e016=!![];else{if(_0x533e59[_0x375999(0x124)]()[_0x375999(0x148)](_0x375999(0xe6)))lastOrders=lastOrders['filter'](_0x565a55=>_0x565a55[_0x375999(0x214)]!=_0x457535),logHistory(_0x375999(0x226),_0x375999(0xf6)+_0x457535),_0x34e016=!![];else{if(_0x533e59['toString']()['includes'](_0x375999(0xd5)))lastOrders=lastOrders[_0x375999(0x155)](_0x2b3692=>_0x2b3692[_0x375999(0x214)]!=_0x457535),logHistory(_0x375999(0x226),_0x375999(0x224)+_0x457535),logger[_0x375999(0x111)](_0x533e59),_0x34e016=!![];else _0x533e59[_0x375999(0x124)]()[_0x375999(0x148)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x375999(0x155)](_0x5210df=>_0x5210df[_0x375999(0x214)]!=_0x457535),logHistory(_0x375999(0x226),_0x375999(0x125)+_0x457535),_0x34e016=!![]):(lastOrders=lastOrders[_0x375999(0x155)](_0x3a431f=>_0x3a431f[_0x375999(0x214)]!=_0x457535),await handleError(_0x533e59,_0x375999(0x16c),_0x457535));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x375999(0x12d)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x21047c=config[_0x375999(0xc3)]==_0x375999(0x204)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5d8b3b=_0x375999;validateOrders(_0x5d8b3b(0xe1));},_0x21047c);}else unlockOrders();_0x34e016&&config['headless']&&(logHistory(_0x375999(0x226),'Avoiding\x20continuous\x20order\x20attempts'+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x375999(0x169)));}else{if(coolingDown)!config[_0x375999(0x1d5)]&&logHistory(_0x375999(0x226),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x375999(0xe8)]&&(!config['headless']&&(config['ordertype']==_0x375999(0x204)?logHistory(_0x375999(0x226),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x375999(0x226),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x20579f){const _0x5210e8=_0xcdcbca,_0x515c6b={...config,'openOrders':_0x20579f};let _0x189cc3=dbConfig[_0x5210e8(0xbd)](_0x5210e8(0x195))[_0x5210e8(0x153)]({'botID':botID})[_0x5210e8(0x24c)]();_0x189cc3&&dbConfig[_0x5210e8(0xbd)](_0x5210e8(0x195))[_0x5210e8(0x153)]({'botID':botID})[_0x5210e8(0x222)](_0x515c6b)[_0x5210e8(0x19c)]();}function restoreOrders(){const _0x2e2858=_0xcdcbca;let _0x556e4e;config[_0x2e2858(0x163)]&&allOpenOrders['forEach'](_0x633d=>{const _0x5dc3a6=_0x2e2858,_0x3a5d39=config[_0x5dc3a6(0x163)][_0x5dc3a6(0x153)](_0x2cecb9=>_0x2cecb9[_0x5dc3a6(0x11f)]==_0x633d['id']);_0x3a5d39&&(lastOrders['push'](_0x3a5d39),_0x556e4e=_0x633d[_0x5dc3a6(0x15f)]);});if(lastOrders[_0x2e2858(0x12d)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x2e2858(0x142),allOrdersPlaced=!![];const _0x4809e6=new Date()[_0x2e2858(0x11a)](),_0x1fdd6a=config[_0x2e2858(0xc3)]==_0x2e2858(0x204)?validateOrderTimeout*0x3c*0x3e8:config[_0x2e2858(0x229)]*0x3c*0x3e8;if(_0x556e4e+_0x1fdd6a>_0x4809e6){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x331dec=_0x2e2858;validateOrders(_0x331dec(0xe1));},_0x556e4e+_0x1fdd6a-_0x4809e6);}else validateOrders(_0x2e2858(0xe1));}}async function sendMetricsTelegram(){const _0x2c86cf=_0xcdcbca;if(!coinsLoaded){process[_0x2c86cf(0x1f7)]({'telegrammsg':_0x2c86cf(0x12a)},_0x204c30=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x483c05='';if(config[_0x2c86cf(0x13c)])_0x483c05=_0x2c86cf(0x252)+config['botname']+_0x2c86cf(0x25c);else _0x483c05=_0x2c86cf(0x151)+botID+_0x2c86cf(0x25c);const _0x5dcf17=getKPIs(_0x2c86cf(0x108)),_0x4d6a2=getKPIs(_0x2c86cf(0x11d),config[_0x2c86cf(0x11d)]),_0x28d019=getKPIs('net-basecoin'),_0x2bdbba=getKPIs(_0x2c86cf(0x160),config[_0x2c86cf(0x11d)]);_0x483c05+=_0x2c86cf(0x1db),_0x483c05+=_0x5dcf17[_0x2c86cf(0x22a)]+'\x20:\x20'+_0x5dcf17['value']+'\x0a',_0x483c05+=_0x5dcf17[_0x2c86cf(0xf0)]+':\x20'+_0x5dcf17[_0x2c86cf(0x13e)]+'%\x0a',_0x483c05+=_0x4d6a2[_0x2c86cf(0x22a)]+_0x2c86cf(0xc7)+_0x4d6a2['value']+'\x0a',_0x483c05+=_0x4d6a2[_0x2c86cf(0xf0)]+':\x20'+_0x4d6a2[_0x2c86cf(0x13e)]+'%\x0a',_0x483c05+=_0x28d019[_0x2c86cf(0x22a)]+':\x20'+_0x28d019[_0x2c86cf(0x24c)]+'\x20('+config[_0x2c86cf(0x108)]+')\x0a',_0x483c05+=_0x28d019[_0x2c86cf(0xf0)]+':\x20'+_0x28d019[_0x2c86cf(0x13e)]+_0x2c86cf(0x234)+config['basecoin']+')\x0a',_0x483c05+=_0x2bdbba[_0x2c86cf(0x22a)]+':\x20'+_0x2bdbba[_0x2c86cf(0x24c)]+'\x20('+config[_0x2c86cf(0x11d)]+')\x0a',_0x483c05+=_0x2bdbba[_0x2c86cf(0xf0)]+':\x20'+_0x2bdbba['change']+_0x2c86cf(0x234)+config[_0x2c86cf(0x11d)]+')\x0a',_0x483c05+=_0x2c86cf(0x12b),process['send']({'telegrammsg':_0x483c05},_0x59bb96=>{});}async function sendPortfolioTelegram(){const _0x8128f6=_0xcdcbca;if(!coinsLoaded||!currentCoins[0x0][_0x8128f6(0x200)]){process[_0x8128f6(0x1f7)]({'telegrammsg':_0x8128f6(0x12a)},_0x340172=>{});return;}let _0xa9c83b='';if(config[_0x8128f6(0x13c)])_0xa9c83b=_0x8128f6(0x252)+config['botname']+_0x8128f6(0x177);else _0xa9c83b=_0x8128f6(0x151)+botID+_0x8128f6(0x177);_0xa9c83b+=_0x8128f6(0x1db),_0xa9c83b+=_0x8128f6(0x144),_0xa9c83b+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0xa9c83b+=_0x8128f6(0x144),currentCoins[_0x8128f6(0x22c)](_0x1b239d=>{const _0x12171f=_0x8128f6;_0xa9c83b+=_0x1b239d['coin'][_0x12171f(0x141)](0x7)+'|\x20'+formatPad(_0x1b239d[_0x12171f(0x200)],0x2,0x6)+'|\x20'+formatPad(_0x1b239d[_0x12171f(0x1bd)],0x2,0x6)+'|\x20'+formatPad(_0x1b239d[_0x12171f(0x10a)]*0x64,0x2,0x6)+'\x0a';}),_0xa9c83b+=_0x8128f6(0x12b),process[_0x8128f6(0x1f7)]({'telegrammsg':_0xa9c83b},_0x3e139e=>{});}function formatPad(_0x365da3,_0x2e289c,_0x19b571){const _0x1a63a0=_0xcdcbca,_0x77badd=formatResultString(_0x365da3,_0x2e289c);return _0x77badd?_0x77badd[_0x1a63a0(0x123)](_0x19b571):''['padStart'](_0x19b571);}function logHistory(_0x2c647c,_0x5ba886,_0x472626=''){const _0x41f4ba=_0xcdcbca;logger[_0x41f4ba(0x191)](''+_0x5ba886);let _0x4ef48c={'time':getTimeStamp(),'type':_0x2c647c,'event':_0x5ba886};dbLogs['get'](_0x41f4ba(0x227))['push'](_0x4ef48c)[_0x41f4ba(0x19c)]();if(_0x472626=='')_0x472626=_0x5ba886;proxyEmit(_0x41f4ba(0x10f),{'log':_0x4ef48c,'summary':_0x472626}),process[_0x41f4ba(0x1f7)]({'telegram':{..._0x4ef48c,'botname':config[_0x41f4ba(0x236)],'showname':config[_0x41f4ba(0x13c)]}},_0x1dcb5f=>{});}function emitHistory(_0x18706b={}){const _0x5d3598=_0xcdcbca;Object[_0x5d3598(0x258)](_0x18706b)['length']==0x0&&(_0x18706b={'type':['order',_0x5d3598(0x10f)],'event':'','page':0x1});if(_0x18706b[_0x5d3598(0xfa)][_0x5d3598(0x148)](_0x5d3598(0x10f)))_0x18706b[_0x5d3598(0xfa)]['splice'](_0x18706b[_0x5d3598(0xfa)][_0x5d3598(0x135)](_0x5d3598(0x10f)),0x1,'error','warning',_0x5d3598(0x14e));if(dbLogs[_0x5d3598(0xe4)](_0x5d3598(0x227))[_0x5d3598(0x24c)]()){let _0x1ef6c1=dbLogs[_0x5d3598(0xbd)](_0x5d3598(0x227))[_0x5d3598(0x155)](_0x51c3ef=>{const _0x361912=_0x5d3598;if(_0x18706b[_0x361912(0xfa)][_0x361912(0x12d)]==0x0)return![];else return _0x18706b[_0x361912(0xfa)][_0x361912(0x148)](_0x51c3ef[_0x361912(0xfa)]);})[_0x5d3598(0x155)](_0x1ff130=>{const _0x32d744=_0x5d3598;if(_0x18706b[_0x32d744(0x10f)]=='')return!![];else return _0x1ff130[_0x32d744(0x10f)][_0x32d744(0x1cf)]()[_0x32d744(0x148)](_0x18706b[_0x32d744(0x10f)][_0x32d744(0x1cf)]());})['sortBy'](_0x5d3598(0x216)),_0xefff22=_0x1ef6c1[_0x5d3598(0x24c)]()[_0x5d3598(0x12d)];_0x1ef6c1=_0x1ef6c1[_0x5d3598(0x105)]()[_0x5d3598(0x24a)]((_0x18706b['page']-0x1)*logPageSize,_0x18706b[_0x5d3598(0x246)]*logPageSize-0x1)[_0x5d3598(0x105)]()[_0x5d3598(0x24c)](),proxyEmit(_0x5d3598(0x230),{'logs':_0x1ef6c1,'total':_0xefff22});}else proxyEmit(_0x5d3598(0x230),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4c9074){const _0xea3479=_0xcdcbca;if(dbLogs[_0xea3479(0xe4)](_0xea3479(0x227))['value']()){const _0x19e279=dbLogs[_0xea3479(0xbd)](_0xea3479(0x227))[_0xea3479(0x17c)]('time')[_0xea3479(0x155)](_0x26149c=>{const _0x545757=_0xea3479;return _0x26149c[_0x545757(0xfa)]=='order';})[_0xea3479(0x24c)]();dbLogs['get'](_0xea3479(0x227))['remove']()['write'](),dbLogs['get'](_0xea3479(0x227))['assign'](_0x19e279)[_0xea3479(0x19c)](),emitHistory(_0x4c9074);}}async function pauseBot(_0x14eb5d=pauseBotInterval){const _0x46ecd0=_0xcdcbca,_0x1928fc=new Date()['getTime']();if(!lastErrorShown||_0x1928fc-lastErrorShown>=_0x14eb5d){lastErrorShown=_0x1928fc;!lastBotPause?(lastBotPause=_0x1928fc,consecutivePauses=0x1):(_0x1928fc-lastBotPause-_0x14eb5d<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x46ecd0(0x1f7)]({'stop':_0x46ecd0(0xee)},_0x1aaa73=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x46ecd0(0x11a)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x14eb5d),botPaused=![],reset(!![]);}}}async function killBot(){const _0x4a64f1=_0xcdcbca;botPaused=!![],await sleep(0x3e8),process['send']({'stop':_0x4a64f1(0x1ca)},_0x1f5157=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x11129b,_0x401776){const _0xbc961f=_0xcdcbca;if(botPaused)return;const _0x53ee32=config['exchange']||_0xbc961f(0x1aa);if(_0x401776)logger['debug'](_0xbc961f(0x14b)+_0x401776);const _0x5138bd=()=>{const _0x262c32=_0xbc961f;loading[_0x262c32(0x226)]=!![],emitLoadingProgress();};if(_0x11129b[_0xbc961f(0x124)]()['includes'](_0xbc961f(0x23d)))logHistory(_0xbc961f(0x226),_0x53ee32+_0xbc961f(0x217)),_0x5138bd();else{if(_0x11129b[_0xbc961f(0x124)]()[_0xbc961f(0x148)](_0xbc961f(0x172)))logHistory(_0xbc961f(0x226),_0x53ee32+_0xbc961f(0x1c8)),_0x5138bd();else _0x11129b['toString']()[_0xbc961f(0x148)]('AuthenticationError')?(logHistory(_0xbc961f(0x226),_0x53ee32+_0xbc961f(0x19e)),logHistory(_0xbc961f(0x226),_0xbc961f(0x1d7)),_0x5138bd()):await handleError(_0x11129b,null);}}async function handleError(_0x7fad2d,_0x3c1c46,_0x55735d=''){const _0x1e9c93=_0xcdcbca;if(botPaused)return;const _0x4fbb72=config['exchange']||'Exchange';if(_0x3c1c46)logger['debug']('Exception\x20thrown\x20in\x20'+_0x3c1c46);if(_0x7fad2d[_0x1e9c93(0x124)]()[_0x1e9c93(0x148)]('DDoSProtection'))logHistory(_0x1e9c93(0x226),_0x4fbb72+_0x1e9c93(0x140)+pauseBotMsg),logger['debug'](_0x1e9c93(0x1f6),_0x7fad2d),await pauseBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()['includes'](_0x1e9c93(0x1bb)))logHistory('error',_0x4fbb72+_0x1e9c93(0x139)+pauseBotMsg),logger['debug'](_0x1e9c93(0x1f6),_0x7fad2d),await pauseBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()[_0x1e9c93(0x148)]('ExchangeNotAvailable')||_0x7fad2d[_0x1e9c93(0x124)]()['includes'](_0x1e9c93(0x19a)))logHistory(_0x1e9c93(0x226),_0x4fbb72+_0x1e9c93(0x1ec)+pauseBotMsg),await pauseBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()[_0x1e9c93(0x148)](_0x1e9c93(0x231)))logHistory(_0x1e9c93(0x226),_0x4fbb72+_0x1e9c93(0x120)+pauseBotMsg),logger['debug'](_0x1e9c93(0x1f6),_0x7fad2d),await pauseBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()['includes'](_0x1e9c93(0x189)))logHistory(_0x1e9c93(0x226),_0x4fbb72+_0x1e9c93(0x1ba)+pauseBotMsg),logger[_0x1e9c93(0x111)](_0x1e9c93(0x1f6),_0x7fad2d),await pauseBot();else{if(_0x7fad2d['toString']()[_0x1e9c93(0x1cf)]()['includes']('timestamp')||_0x7fad2d[_0x1e9c93(0x124)]()['toLowerCase']()[_0x1e9c93(0x148)](_0x1e9c93(0x1ff)))logHistory('error','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'+pauseBotMsg),logger['debug'](_0x1e9c93(0x1f6),_0x7fad2d[_0x1e9c93(0x124)]()),await pauseBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()[_0x1e9c93(0x148)](_0x1e9c93(0x10d)))logHistory(_0x1e9c93(0x226),_0x4fbb72+_0x1e9c93(0x25b)+pauseBotMsg),logger['debug'](_0x1e9c93(0x1f6),_0x7fad2d),await pauseBot();else{if(_0x7fad2d instanceof ccxt[_0x1e9c93(0x118)])logHistory(_0x1e9c93(0x226),_0x4fbb72+_0x1e9c93(0x1e7)+pauseBotMsg),logger[_0x1e9c93(0x111)]('Error\x20details:',_0x7fad2d),await pauseBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()['includes']('API-key\x20format\x20invalid'))logHistory(_0x1e9c93(0x226),_0x4fbb72+'\x20API\x20key\x20is\x20invalid'),logHistory('error',_0x1e9c93(0x1e9)),await killBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()['includes'](_0x1e9c93(0x172)))logHistory(_0x1e9c93(0x226),_0x4fbb72+'\x20API\x20secret\x20is\x20invalid'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()[_0x1e9c93(0x148)]('AuthenticationError'))logHistory('error',_0x4fbb72+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x1e9c93(0x226),_0x1e9c93(0x1e9)),await killBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()['includes']('PermissionDenied'))logHistory(_0x1e9c93(0x226),_0x4fbb72+_0x1e9c93(0xc6)),logHistory(_0x1e9c93(0x226),_0x1e9c93(0x1e9)),await killBot();else{if(_0x7fad2d[_0x1e9c93(0x124)]()[_0x1e9c93(0x148)](_0x1e9c93(0x164)))logHistory('error',_0x1e9c93(0x19d)+_0x55735d);else{if(_0x7fad2d instanceof ccxt[_0x1e9c93(0x133)]){logHistory(_0x1e9c93(0x226),_0x4fbb72+'\x20exchange\x20error'),logger['debug'](_0x1e9c93(0x1f6),_0x7fad2d);if(_0x55735d)logger['debug'](_0x1e9c93(0x239)+_0x55735d);}else{logHistory('error',_0x1e9c93(0x134)+pauseBotMsg),logger[_0x1e9c93(0x111)](_0x1e9c93(0x1f6),_0x7fad2d);if(_0x55735d)logger[_0x1e9c93(0x111)](_0x1e9c93(0x239)+_0x55735d);await pauseBot();}}}}}}}}}}}}}}}async function withRetry(_0x1b81e2,_0x49ac25){const _0x3d4cb8=_0xcdcbca;let _0x238bc5=![],_0x2454f2=0x0,_0x19625a,_0xe5895d;while(_0x2454f2<maxRetries){try{_0x19625a=await _0x49ac25();break;}catch(_0x701730){_0xe5895d=_0x701730,!_0x238bc5?(_0x238bc5=!![],logger[_0x3d4cb8(0x111)](_0x3d4cb8(0x1ed)+_0x1b81e2+':',_0x701730[_0x3d4cb8(0x124)]())):await sleep(retryInterval);}_0x2454f2++;}if(_0x2454f2==0x0)return _0x19625a;if(_0x2454f2>=maxRetries)throw _0xe5895d;else return logger[_0x3d4cb8(0x111)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x2454f2+'\x20attempts'),_0x19625a;}function formatResult(_0x50a6fd,_0x4702a6){const _0x2bce6f=_0xcdcbca;return parseFloat(_0x50a6fd[_0x2bce6f(0x218)](_0x4702a6));}function formatResultTruncate(_0xff0553,_0x78af2d){const _0x38359b=_0xcdcbca;let _0x36d4be=formatResultString(_0xff0553,0xa),_0x4a4c2e=_0x36d4be[_0x38359b(0x135)]('.');return _0x4a4c2e!=-0x1&&(_0x36d4be=_0x36d4be[_0x38359b(0x24a)](0x0,_0x4a4c2e+_0x78af2d+0x1)),Number(_0x36d4be);}function formatResultString(_0x3dd942,_0x1d0099){const _0x57034d=_0xcdcbca;let _0xab03ee;if(!(''+_0x3dd942)[_0x57034d(0x148)]('e'))_0xab03ee=+(Math['round'](_0x3dd942+'e+'+_0x1d0099)+'e-'+_0x1d0099);else{let _0x5a1801=(''+_0x3dd942)['split']('e'),_0x25b34e='';+_0x5a1801[0x1]+_0x1d0099>0x0&&(_0x25b34e='+'),_0xab03ee=+(Math['round'](+_0x5a1801[0x0]+'e'+_0x25b34e+(+_0x5a1801[0x1]+_0x1d0099))+'e-'+_0x1d0099);}return Number(_0xab03ee)['toFixed'](_0x1d0099);}function getServerTime(){const _0x4db8f0=_0xcdcbca,_0x449d7f=new Date();return _0x449d7f[_0x4db8f0(0x145)]()+'/'+(_0x449d7f[_0x4db8f0(0x190)]()+0x1)[_0x4db8f0(0x124)]()[_0x4db8f0(0x123)](0x2,'0')+'/'+_0x449d7f[_0x4db8f0(0x20f)]()[_0x4db8f0(0x124)]()[_0x4db8f0(0x123)](0x2,'0')+'\x20'+_0x449d7f[_0x4db8f0(0xbe)]()[_0x4db8f0(0x124)]()[_0x4db8f0(0x123)](0x2,'0')+':'+_0x449d7f[_0x4db8f0(0x197)]()[_0x4db8f0(0x124)]()[_0x4db8f0(0x123)](0x2,'0')+':'+_0x449d7f[_0x4db8f0(0x188)]()[_0x4db8f0(0x124)]()[_0x4db8f0(0x123)](0x2,'0');}function getTimeStamp(){const _0x2fef2a=_0xcdcbca,_0x2d99d2=shiftedTime();return _0x2d99d2[_0x2fef2a(0x145)]()+'/'+(_0x2d99d2[_0x2fef2a(0x190)]()+0x1)['toString']()[_0x2fef2a(0x123)](0x2,'0')+'/'+_0x2d99d2[_0x2fef2a(0x20f)]()[_0x2fef2a(0x124)]()['padStart'](0x2,'0')+'\x20'+_0x2d99d2[_0x2fef2a(0xbe)]()['toString']()[_0x2fef2a(0x123)](0x2,'0')+':'+_0x2d99d2[_0x2fef2a(0x197)]()['toString']()[_0x2fef2a(0x123)](0x2,'0')+':'+_0x2d99d2[_0x2fef2a(0x188)]()[_0x2fef2a(0x124)]()[_0x2fef2a(0x123)](0x2,'0');}function getDate(){const _0x4d19bd=_0xcdcbca,_0x37cb51=shiftedTime();return _0x37cb51[_0x4d19bd(0x145)]()+'/'+(_0x37cb51[_0x4d19bd(0x190)]()+0x1)[_0x4d19bd(0x124)]()[_0x4d19bd(0x123)](0x2,'0')+'/'+_0x37cb51[_0x4d19bd(0x20f)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x55dd73=_0xcdcbca,_0x3487a1=shiftedTime();return _0x3487a1[_0x55dd73(0xbe)]()[_0x55dd73(0x124)]()[_0x55dd73(0x123)](0x2,'0');}function sleep(_0x4c0f20){return new Promise(_0x481621=>setTimeout(_0x481621,_0x4c0f20));}function shiftedTime(){const _0x219977=_0xcdcbca,_0x153730=new Date();let _0x657eaf=_0x153730;if(config&&config[_0x219977(0x14a)]!==0x0)_0x657eaf=fns[_0x219977(0x1e8)](_0x153730,{'hours':config[_0x219977(0x14a)]});return _0x657eaf;}function timer(_0x3191f8){const _0x2fb38b=_0xcdcbca,_0x170b88=new Date();!lasttime?console[_0x2fb38b(0xfc)](getTimeStamp()+':\x20timer\x20>',_0x3191f8,_0x170b88):console[_0x2fb38b(0xfc)](getTimeStamp()+_0x2fb38b(0xbf),_0x3191f8,(_0x170b88-lasttime)/0x3e8),lasttime=_0x170b88;}