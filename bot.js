const _0x524f3b=_0x41ab;(function(_0x3d6412,_0x40c4c4){const _0x543489=_0x41ab,_0x2e5b48=_0x3d6412();while(!![]){try{const _0x1ad299=parseInt(_0x543489(0x272))/0x1*(parseInt(_0x543489(0x2e8))/0x2)+-parseInt(_0x543489(0x21f))/0x3+-parseInt(_0x543489(0x2cd))/0x4*(parseInt(_0x543489(0x1ee))/0x5)+-parseInt(_0x543489(0x203))/0x6*(parseInt(_0x543489(0x2b0))/0x7)+parseInt(_0x543489(0x28e))/0x8*(-parseInt(_0x543489(0x35c))/0x9)+parseInt(_0x543489(0x28a))/0xa+parseInt(_0x543489(0x253))/0xb;if(_0x1ad299===_0x40c4c4)break;else _0x2e5b48['push'](_0x2e5b48['shift']());}catch(_0x5ea567){_0x2e5b48['push'](_0x2e5b48['shift']());}}}(_0x1048,0x79bd5));const _0x4ca8e5=function(){let _0x4dbfaa=!![];return function(_0x1b9691,_0x341acd){const _0x56edda=_0x4dbfaa?function(){const _0x3fd9f5=_0x41ab;if(_0x341acd){const _0x142e7b=_0x341acd[_0x3fd9f5(0x252)](_0x1b9691,arguments);return _0x341acd=null,_0x142e7b;}}:function(){};return _0x4dbfaa=![],_0x56edda;};}(),_0x1ebb7f=_0x4ca8e5(this,function(){const _0x5d0a3d=_0x41ab;return _0x1ebb7f[_0x5d0a3d(0x236)]()['search'](_0x5d0a3d(0x369))[_0x5d0a3d(0x236)]()[_0x5d0a3d(0x2b1)](_0x1ebb7f)[_0x5d0a3d(0x303)](_0x5d0a3d(0x369));});_0x1ebb7f();'use strict';const ccxt=require(_0x524f3b(0x2ce)),low=require(_0x524f3b(0x346)),FileSync=require(_0x524f3b(0x287)),fs=require('fs'),fns=require('date-fns'),forge=require(_0x524f3b(0x23b)),util=require(_0x524f3b(0x240)),argv=require(_0x524f3b(0x331))(process[_0x524f3b(0x2a8)][_0x524f3b(0x26a)](0x2))['argv'],path=require('path'),axios=require(_0x524f3b(0x2a7));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x524f3b(0x20f),'BUSD',_0x524f3b(0x282),_0x524f3b(0x230),_0x524f3b(0x32b),_0x524f3b(0x30a)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x524f3b(0x2e9)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x524f3b(0x278)+pauseBotInterval/0xea60+_0x524f3b(0x208),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;function _0x41ab(_0x4ae8d9,_0x35c73c){const _0x501457=_0x1048();return _0x41ab=function(_0x1ebb7f,_0x4ca8e5){_0x1ebb7f=_0x1ebb7f-0x1be;let _0x104883=_0x501457[_0x1ebb7f];return _0x104883;},_0x41ab(_0x4ae8d9,_0x35c73c);}let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x5dc;let enableFiatToggle,prevAmountAtOrder={};const serverversion=require(_0x524f3b(0x29e))[_0x524f3b(0x231)],environment=require(_0x524f3b(0x29e))[_0x524f3b(0x32c)]||_0x524f3b(0x24f),botID=process['argv'][0x2]||_0x524f3b(0x31f),pattern=/^[0-9]{3}$/;!pattern[_0x524f3b(0x29f)](botID)&&(console['log'](_0x524f3b(0x36f)+botID+_0x524f3b(0x2a0)),killBot());const userID=process[_0x524f3b(0x2a8)][0x3]||'',configpath=userID?_0x524f3b(0x20d)+userID+'/':_0x524f3b(0x20d),logspath=userID?_0x524f3b(0x20a)+userID+'/':'./logs/',loggerfile=fs[_0x524f3b(0x211)](logspath+_0x524f3b(0x2d2),{'flags':'a'});!fs[_0x524f3b(0x35f)](configpath)&&fs[_0x524f3b(0x1fa)](configpath);!fs[_0x524f3b(0x35f)](logspath)&&fs[_0x524f3b(0x1fa)](logspath);const configfile=configpath+'bot-'+botID+'-config.json',logfile=configpath+_0x524f3b(0x292)+botID+'-events.json',performancefile=configpath+_0x524f3b(0x292)+botID+_0x524f3b(0x200),coinresultsfile=configpath+_0x524f3b(0x292)+botID+_0x524f3b(0x1e7),settingsfile=configpath+_0x524f3b(0x1c6),securefile=configpath+_0x524f3b(0x286),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x524f3b(0x22c)]({'logs':[],'version':serverversion})[_0x524f3b(0x370)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x524f3b(0x370)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x524f3b(0x370)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x36b0b1=>{console['log'](_0x36b0b1);},'simple':_0x5c1deb=>{const _0x1938ce=_0x524f3b;console['log'](_0x5c1deb),loggerfile['write'](util[_0x1938ce(0x1ff)](_0x5c1deb)+'\x0a');},'full':async(_0x48044c,_0x4757ae='')=>{const _0x5c2614=_0x524f3b;let _0x277f71;if(config[_0x5c2614(0x1e6)])_0x277f71=getTimeStamp()+':\x20'+config['botname']+_0x5c2614(0x28d)+_0x48044c;else _0x277f71=getTimeStamp()+_0x5c2614(0x215)+botID+_0x5c2614(0x28d)+_0x48044c;console['log'](_0x277f71),loggerfile['write'](util['format'](_0x277f71)+'\x0a'),_0x4757ae&&(console[_0x5c2614(0x2e4)](_0x4757ae),loggerfile[_0x5c2614(0x370)](util['format'](_0x4757ae)+'\x0a'));},'debug':async(_0x5a734e,_0x2c6c23='')=>{const _0xa5080e=_0x524f3b;let _0x1dfdc7;if(config[_0xa5080e(0x1e6)])_0x1dfdc7=getTimeStamp()+':\x20'+config['botname']+_0xa5080e(0x33b)+_0x5a734e;else _0x1dfdc7=getTimeStamp()+_0xa5080e(0x215)+botID+_0xa5080e(0x33b)+_0x5a734e;if(debugging)console['log'](_0x1dfdc7);loggerfile['write'](util[_0xa5080e(0x1ff)](_0x1dfdc7)+'\x0a');if(_0x2c6c23){if(debugging)console[_0xa5080e(0x2e4)](_0x2c6c23);loggerfile[_0xa5080e(0x370)](util[_0xa5080e(0x1ff)](_0x2c6c23)+'\x0a');}}};process['on'](_0x524f3b(0x2d8),function(_0x392753){const _0x431382=_0x524f3b;handleError(_0x392753,_0x431382(0x2d8));});settings[_0x524f3b(0x1cb)]!=config[_0x524f3b(0x1cb)]&&updateTimeshift(settings[_0x524f3b(0x1cb)]);settings[_0x524f3b(0x271)]!=config[_0x524f3b(0x271)]&&updateOnepagemode(settings[_0x524f3b(0x271)]);(settings['marketcapApi']&&!config[_0x524f3b(0x285)]||!settings[_0x524f3b(0x285)]&&config[_0x524f3b(0x285)])&&updateMarketcapApi(settings[_0x524f3b(0x285)]);process['send']({'started':'running'},_0x5a769d=>{}),initializeProcessListeners();function proxyEmit(_0x122984,_0x2c0e3c=null){const _0x55c7be=_0x524f3b;process[_0x55c7be(0x2da)]({'function':_0x122984,'args':_0x2c0e3c},_0x1b267f=>{});}function initializeProcessListeners(){const _0x5cca60=_0x524f3b;process['on'](_0x5cca60(0x1c2),_0x5d7c60=>{const _0x4fa0c4=_0x5cca60;switch(Object['keys'](_0x5d7c60)[0x0]){case _0x4fa0c4(0x1cb):_0x5d7c60[_0x4fa0c4(0x1cb)]!=undefined&&(settings[_0x4fa0c4(0x1cb)]=_0x5d7c60['timeshift'],updateTimeshift(settings[_0x4fa0c4(0x1cb)]));break;case _0x4fa0c4(0x271):_0x5d7c60[_0x4fa0c4(0x271)]!=undefined&&(settings['onepagemode']=_0x5d7c60[_0x4fa0c4(0x271)],updateOnepagemode(settings[_0x4fa0c4(0x271)]));break;case _0x4fa0c4(0x285):_0x5d7c60[_0x4fa0c4(0x285)]!=undefined&&(settings[_0x4fa0c4(0x285)]=_0x5d7c60[_0x4fa0c4(0x285)],updateMarketcapApi(settings[_0x4fa0c4(0x285)]));break;case'bots':_0x5d7c60['bots']!=undefined&&(bots=JSON[_0x4fa0c4(0x2f0)](_0x5d7c60[_0x4fa0c4(0x1e9)]),proxyEmit(_0x4fa0c4(0x1e9),bots));break;case _0x4fa0c4(0x301):switch(_0x5d7c60[_0x4fa0c4(0x301)]){case _0x4fa0c4(0x1e8):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x4fa0c4(0x1fd):emitHistory(_0x5d7c60[_0x4fa0c4(0x26c)]);break;case _0x4fa0c4(0x1d6):deleteHistoryAlerts(_0x5d7c60[_0x4fa0c4(0x26c)]);break;case'getPortfolio':getPortfolio(_0x5d7c60[_0x4fa0c4(0x26c)]);break;case _0x4fa0c4(0x296):storeConfiguration(_0x5d7c60['args']);break;case _0x4fa0c4(0x268):storeHeadless(_0x5d7c60[_0x4fa0c4(0x26c)]);break;case _0x4fa0c4(0x2c6):storeFiat(_0x5d7c60[_0x4fa0c4(0x26c)]);break;case _0x4fa0c4(0x266):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x4fa0c4(0x308):placeOrder(_0x5d7c60[_0x4fa0c4(0x26c)]);break;case _0x4fa0c4(0x353):cancelLoading();break;case'showConfig':showConfig();break;case _0x4fa0c4(0x339):sendMetricsTelegram();break;case _0x4fa0c4(0x344):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x5a846c=![]){const _0x3eb4ec=_0x524f3b;logger[_0x3eb4ec(0x34a)](_0x3eb4ec(0x28f)+(_0x5a846c?'exchange\x20reload':'no\x20exchange\x20reloaded')+_0x3eb4ec(0x24c)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x5a846c)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x3eb4ec(0x304)]!=''&&config[_0x3eb4ec(0x304)]!='***'){loadingProgress=0x0;_0x5a846c&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x3eb4ec(0x320),emittedConfiguration()),initialPerformanceStored=![]);const _0x3aaf11=await getCoins();[currentCoins,currentCoinsAll]=_0x3aaf11,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x3eb4ec(0x34a)](_0x3eb4ec(0x25b)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x3eb4ec(0x326)]==0x0&&allOpenOrders[_0x3eb4ec(0x326)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0xf6fa2f=![]){const _0x3e8dc3=_0x524f3b;logger[_0x3e8dc3(0x34a)](_0x3e8dc3(0x279)+(_0xf6fa2f?_0x3e8dc3(0x31c):'complete')+_0x3e8dc3(0x201)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(_0xf6fa2f){getBalances();return;}coinsLoaded=![];if(config[_0x3e8dc3(0x304)]!=''&&config[_0x3e8dc3(0x304)]!=_0x3e8dc3(0x2a3)){loadingProgress=0x1;const _0x171ae=await getCoins();[currentCoins,currentCoinsAll]=_0x171ae,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x3e8dc3(0x34a)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x3e8dc3(0x326)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x2f2e05){const _0x47bb43=_0x524f3b;let _0x11afa8=![];if(_0x2f2e05)_0x11afa8=!![];let _0x484226;_0x11afa8?_0x484226=_0x2f2e05[_0x47bb43(0x290)](_0x1f9bc3=>_0x1f9bc3[_0x47bb43(0x2ae)]):_0x484226=currentCoinsAll[_0x47bb43(0x290)](_0x27eb3f=>_0x27eb3f[_0x47bb43(0x2ae)]);if(!config[_0x47bb43(0x285)]||!_0x11afa8&&!config['marketcapEnabled']||_0x484226[_0x47bb43(0x326)]==0x0)return;let _0x4bb2d9=null;try{_0x4bb2d9=await axios[_0x47bb43(0x1c0)](_0x47bb43(0x329),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x47bb43(0x285)]},'params':{'symbol':_0x484226[_0x47bb43(0x236)]()}});}catch(_0x294f21){_0x4bb2d9=null,_0x294f21[_0x47bb43(0x236)]()[_0x47bb43(0x316)](_0x47bb43(0x336))?(config[_0x47bb43(0x285)]=![],updateConfig(),proxyEmit('configuration',emittedConfiguration()),logHistory(_0x47bb43(0x207),_0x47bb43(0x242))):(logHistory('error','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20'+schedulerInterval/(0x3c*0x3e8)+_0x47bb43(0x208)),logger[_0x47bb43(0x34a)](_0x47bb43(0x254),_0x294f21[_0x47bb43(0x236)]()+_0x47bb43(0x351)+_0x294f21['code']));}if(_0x4bb2d9){let _0x2a192d=0x0;const _0x26e4be=_0x4bb2d9[_0x47bb43(0x35b)];_0x484226[_0x47bb43(0x2a9)](_0x38543d=>{const _0x1b8523=_0x47bb43;if(_0x26e4be[_0x1b8523(0x35b)][_0x38543d][0x0])_0x2a192d+=_0x26e4be[_0x1b8523(0x35b)][_0x38543d][0x0][_0x1b8523(0x347)][_0x1b8523(0x20f)]['market_cap'];}),_0x484226[_0x47bb43(0x2a9)](_0x3b30e5=>{const _0x4d5937=_0x47bb43,_0x47b4ad=_0x26e4be[_0x4d5937(0x35b)][_0x3b30e5][0x0]?_0x26e4be['data'][_0x3b30e5][0x0]['quote'][_0x4d5937(0x20f)][_0x4d5937(0x20c)]:0x0;if(_0x11afa8){const _0x58a6d6=_0x2f2e05[_0x4d5937(0x28c)](_0x168723=>_0x168723[_0x4d5937(0x2ae)]==_0x3b30e5);_0x58a6d6&&(_0x58a6d6[_0x4d5937(0x314)]=_0x47b4ad);}else{const _0x80e874=currentCoins[_0x4d5937(0x28c)](_0x3dd913=>_0x3dd913[_0x4d5937(0x2ae)]==_0x3b30e5);_0x80e874&&(_0x80e874['marketcap']=_0x47b4ad);const _0x3a146f=currentCoinsAll['find'](_0x471776=>_0x471776[_0x4d5937(0x2ae)]==_0x3b30e5);_0x3a146f&&(_0x3a146f[_0x4d5937(0x314)]=_0x47b4ad);}}),!_0x11afa8&&updateTargetDistribution();}}function updateTargetDistribution(){const _0xaf2ca8=_0x524f3b,_0x28f18c=0x2;let _0x412c2e=0x0,_0x2597ee=0x0,_0x31e094=0x0,_0x1fdb79=0x0,_0x3f7875=0x0;config[_0xaf2ca8(0x1ed)][_0xaf2ca8(0x2a9)](_0x322154=>{const _0x169477=_0xaf2ca8;if(!_0x322154[_0x169477(0x2a5)]){_0x31e094++,_0x412c2e+=_0x322154[_0x169477(0x255)];if(_0x322154['slider']===-0x1){_0x412c2e++;const _0x3e12a8=currentCoinsAll[_0x169477(0x28c)](_0x12361b=>_0x12361b[_0x169477(0x2ae)]==_0x322154[_0x169477(0x2ae)]);_0x3e12a8&&(_0x1fdb79+=_0x3e12a8[_0x169477(0x314)],_0x3f7875+=Math['sqrt'](_0x3e12a8[_0x169477(0x314)]));}if(_0x322154['slider']!==-0x1)_0x2597ee++;}});let _0xef3598;const _0x299d6e=0x64-_0x412c2e,_0x5ebbec=_0x31e094-_0x2597ee;_0xef3598=_0x5ebbec===0x0?_0x412c2e:Math[_0xaf2ca8(0x1cc)](0x64,_0x412c2e),config[_0xaf2ca8(0x1ed)][_0xaf2ca8(0x2a9)](_0x33e10b=>{const _0x27e7f3=_0xaf2ca8,_0x5a3818=currentCoinsAll['find'](_0x37e2d=>_0x37e2d['coin']==_0x33e10b[_0x27e7f3(0x2ae)]);_0x5a3818&&(_0x33e10b[_0x27e7f3(0x314)]=_0x5a3818[_0x27e7f3(0x314)]);if(!_0x33e10b[_0x27e7f3(0x2a5)]){if(_0xef3598<=0x64){if(_0x33e10b['slider']===-0x1){if(_0x1fdb79!==0x0&&config[_0x27e7f3(0x2f4)]){if(_0x5a3818){if(config[_0x27e7f3(0x2f4)]=='marketcap')_0x33e10b['distribution']=(_0x299d6e/(_0x1fdb79/_0x5a3818[_0x27e7f3(0x314)]))[_0x27e7f3(0x30e)](_0x28f18c);else config[_0x27e7f3(0x2f4)]==_0x27e7f3(0x350)&&(_0x33e10b['distribution']=(_0x299d6e/(_0x3f7875/Math['sqrt'](_0x5a3818['marketcap'])))[_0x27e7f3(0x30e)](_0x28f18c));}}}}}}),updateConfig();}function updateConfig(){const _0x34554b=_0x524f3b;let _0x3ca181=dbConfig['get'](_0x34554b(0x2d1))[_0x34554b(0x28c)]({'botID':botID})[_0x34554b(0x1d8)]();_0x3ca181&&dbConfig[_0x34554b(0x1c0)](_0x34554b(0x2d1))['find']({'botID':botID})['assign'](config)[_0x34554b(0x370)]();}function logMemory(){const _0x1d935e=_0x524f3b;if(environment!=_0x1d935e(0x2f3))return;const _0x475776=process['memoryUsage']()[_0x1d935e(0x2ab)]/0x400/0x400;logger['debug'](_0x1d935e(0x328)+process[_0x1d935e(0x1ea)]+'\x20uses\x20'+formatResult(_0x475776,0x1)+_0x1d935e(0x355));}async function startScheduler(){const _0x4f01d0=_0x524f3b,_0x5159a2=shiftedTime()[_0x4f01d0(0x2f9)]();getMarketCap(),_0x5159a2==0x1&&logMemory(),(_0x5159a2==0x2||_0x5159a2==0xe)&&loadSymbols(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x1c82d7=![]){const _0x20cf70=_0x524f3b;logger[_0x20cf70(0x34a)]('Initiating\x20bot\x20restart');if(!_0x1c82d7)while(lockOrders!=ORDERS[_0x20cf70(0x2e9)]||coolingDown){await sleep(0x3e8);}process[_0x20cf70(0x2da)]({'stop':'restart'},_0x1d69b1=>{});}async function initExchange(_0x1ca9f5=config[_0x524f3b(0x302)],_0x3d41f3=config['apiKey'],_0x45cfa2=config[_0x524f3b(0x34c)],_0x33d082=config[_0x524f3b(0x2f8)]){const _0x2f92b7=_0x524f3b;if(exchange){logger[_0x2f92b7(0x34a)](_0x2f92b7(0x1f0));return;}logger[_0x2f92b7(0x34a)](_0x2f92b7(0x1cd));!supportedExchanges()['includes'](_0x1ca9f5)&&(logHistory(_0x2f92b7(0x207),_0x2f92b7(0x23f)+_0x1ca9f5+_0x2f92b7(0x210)),killBot());const _0xac740c=ccxt['pro'][_0x1ca9f5[_0x2f92b7(0x2df)]()];exchange=new _0xac740c({'apiKey':_0x3d41f3,'secret':_0x45cfa2,'options':{'defaultType':'spot'}});if(_0x33d082)exchange[_0x2f92b7(0x270)]=_0x33d082;}function updateExchange(_0x4cc894,_0x47cfb9,_0xc246b8=null){const _0x15112e=_0x524f3b;exchange[_0x15112e(0x304)]=_0x4cc894,exchange[_0x15112e(0x34c)]=_0x47cfb9,exchange['apiPassword']=_0xc246b8,logger[_0x15112e(0x34a)](_0x15112e(0x2de));}function setStableCoins(){const _0x30e74d=_0x524f3b;let _0x1179a1=config[_0x30e74d(0x345)]==_0x30e74d(0x31d)?_0x30e74d(0x31d):config['basecoin']==_0x30e74d(0x2b7)?_0x30e74d(0x2b7):'BTC',_0x146d11=allSymbols[_0x30e74d(0x316)](_0x1179a1+_0x30e74d(0x1c3))?_0x30e74d(0x20f):allSymbols[_0x30e74d(0x316)](_0x1179a1+_0x30e74d(0x2bf))?'USDT':'EUR',_0x38bfb3=allSymbols[_0x30e74d(0x316)](_0x1179a1+'/EUR')?_0x30e74d(0x2c7):_0x146d11;enableFiatToggle=!![],_0x146d11==_0x30e74d(0x2c7)&&(enableFiatToggle=![],storeFiat('EUR')),_0x38bfb3!=_0x30e74d(0x2c7)&&(enableFiatToggle=![],storeFiat(_0x30e74d(0x20f))),stablecoins={'eur':{'coin':''+_0x1179a1+_0x38bfb3,'symbol':_0x1179a1+'/'+_0x38bfb3},'usd':{'coin':''+_0x1179a1+_0x146d11,'symbol':_0x1179a1+'/'+_0x146d11}};}async function initwsCcxt(){const _0x224837=_0x524f3b;initCycle++;const _0x3ad757=initCycle;let _0x1d62d3=[];config[_0x224837(0x1ed)][_0x224837(0x2a9)](_0x4782bf=>{const _0x4c6121=_0x224837;if(!_0x4782bf[_0x4c6121(0x2a5)]&&_0x4782bf[_0x4c6121(0x2ae)]!=config[_0x4c6121(0x345)])_0x1d62d3[_0x4c6121(0x359)](_0x4782bf['symbol']);});if(!_0x1d62d3[_0x224837(0x316)](stablecoins['eur'][_0x224837(0x2b9)]))_0x1d62d3[_0x224837(0x359)](stablecoins[_0x224837(0x246)][_0x224837(0x2b9)]);if(!_0x1d62d3[_0x224837(0x316)](stablecoins[_0x224837(0x289)][_0x224837(0x2b9)]))_0x1d62d3[_0x224837(0x359)](stablecoins[_0x224837(0x289)][_0x224837(0x2b9)]);if(config['exchange'][_0x224837(0x1f8)](_0x224837(0x31b))&&config[_0x224837(0x345)]!='PAXG'){if(!_0x1d62d3[_0x224837(0x316)](_0x224837(0x2d0)+config[_0x224837(0x345)]))_0x1d62d3[_0x224837(0x359)](_0x224837(0x2d0)+config[_0x224837(0x345)]);}loadCoins(_0x1d62d3),_0x1d62d3=validateSymbols(_0x1d62d3);const _0x1f8b30=async _0x31f8b3=>{const _0x5a1472=_0x224837;let _0x525557;try{const _0x4c7457=await getTickers(_0x31f8b3);Object[_0x5a1472(0x216)](_0x4c7457)['forEach'](_0x95e868=>{const _0x3768ef=_0x5a1472;_0x525557=_0x95e868[0x1][_0x3768ef(0x2b9)],gTicker[noslash(_0x525557)]=_0x95e868[0x1][_0x3768ef(0x21d)],gChange[_0x525557]=_0x95e868[0x1][_0x3768ef(0x1ca)];});}catch(_0x186561){await handleError(_0x186561,'initTickers()',_0x525557);}},_0x3a0f12=async _0x43b113=>{const _0x12d3b4=_0x224837;while(initCycle==_0x3ad757){if(!botPaused)try{const _0x44c768=await exchange[_0x12d3b4(0x311)](_0x43b113);gTicker[noslash(_0x44c768[0x0][_0x12d3b4(0x2b9)])]=_0x44c768[0x0][_0x12d3b4(0x1ce)];}catch(_0x204cb7){if(!exchangeStopped)await handleError(_0x204cb7,_0x12d3b4(0x374),_0x43b113);}else await sleep(0x64);}},_0x2c5eeb=async _0x114d12=>{const _0x306c0f=_0x224837;while(initCycle==_0x3ad757){if(!botPaused)try{const _0x404790=await exchange[_0x306c0f(0x27e)](_0x114d12),_0x1d8596=_0x404790[_0x306c0f(0x238)]();gTicker[noslash(_0x1d8596[_0x306c0f(0x2b9)])]=_0x1d8596[_0x306c0f(0x1ce)];}catch(_0x3f002a){if(!exchangeStopped)await handleError(_0x3f002a,'watchTradesForSymbols()',_0x114d12[_0x306c0f(0x236)]());}else await sleep(0x64);}},_0x290b0e=async _0x44f009=>{const _0x255faa=_0x224837;while(initCycle==_0x3ad757){if(!botPaused){let _0x473301;try{await sleep(0x3c*0x3e8);const _0x7e2aca=await getTickers(_0x44f009);Object[_0x255faa(0x216)](_0x7e2aca)['forEach'](_0x103f00=>{const _0x122571=_0x255faa;_0x473301=_0x103f00[0x1][_0x122571(0x2b9)],gChange[_0x473301]=_0x103f00[0x1][_0x122571(0x1ca)];});}catch(_0x186c13){if(!exchangeStopped)await handleError(_0x186c13,'fetchTickers()',_0x473301);}}else await sleep(0x64);}},_0x53c598=async _0x5d0c65=>{const _0x5b8d8b=_0x224837;while(initCycle==_0x3ad757){if(!botPaused)try{const _0x354b16=await exchange[_0x5b8d8b(0x2e7)](_0x5d0c65);initCycle==_0x3ad757&&_0x354b16['forEach'](_0x38d808=>{updateNumberCoinsCcxt(_0x38d808);});}catch(_0x384e9e){if(!exchangeStopped)await handleError(_0x384e9e,_0x5b8d8b(0x262));}else await sleep(0x64);}};_0x1f8b30(_0x1d62d3),_0x290b0e(_0x1d62d3),exchange['has']['watchTradesForSymbols']&&!(config[_0x224837(0x302)]=='Bybit'&&_0x1d62d3[_0x224837(0x326)]>0xa)?_0x2c5eeb(_0x1d62d3):_0x1d62d3[_0x224837(0x2a9)](_0x5dfa06=>{_0x3a0f12(_0x5dfa06);}),_0x1d62d3['forEach'](_0x3ea623=>{_0x53c598(_0x3ea623);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x14d0b4){const _0x256501=_0x524f3b;let _0x3d0193={};try{if(config[_0x256501(0x302)]!=_0x256501(0x23d))_0x3d0193=await exchange[_0x256501(0x259)](_0x14d0b4);else for(const _0x7c7b15 of _0x14d0b4){const _0x246d94=await exchange[_0x256501(0x1d3)](_0x7c7b15);_0x3d0193[_0x7c7b15]=_0x246d94;}return _0x3d0193;}catch(_0x334792){throw _0x334792;}}function setBlockTransactionDetection(_0x4520e6){const _0x1c44f9=_0x524f3b;blockTransactionDetection=_0x4520e6,logger[_0x1c44f9(0x34a)]('Block\x20transaction\x20detection:\x20'+blockTransactionDetection);}async function detectLiquidityChange(_0x2ffcb2=0x0){const _0x1978e4=_0x524f3b;transactionDetectionOngoing=!![];try{const _0x5d261f=await getCoins(_0x2ffcb2),[_0x4d3dc9,_0x5b766d]=_0x5d261f;let _0x5923b4=[];currentCoins[_0x1978e4(0x2a9)](_0x4c591a=>{const _0x4c4192=_0x1978e4,_0x2bc2b7=_0x4d3dc9[_0x4c4192(0x28c)](_0x1c0797=>_0x1c0797[_0x4c4192(0x2ae)]==_0x4c591a['coin']);if(_0x2bc2b7){if(_0x4c591a[_0x4c4192(0x1bf)]!=_0x2bc2b7[_0x4c4192(0x1bf)]){let _0x26a527;if(_0x4c591a[_0x4c4192(0x2ae)]!=config[_0x4c4192(0x345)]){const _0x1dbabe=gTicker[noslash(_0x4c591a[_0x4c4192(0x2b9)])];_0x26a527=_0x4c591a['reverse']?0x1/_0x1dbabe:_0x1dbabe;}else _0x26a527=0x1;_0x5923b4[_0x4c4192(0x359)]({'coin':_0x4c591a[_0x4c4192(0x2ae)],'symbol':_0x4c591a[_0x4c4192(0x2b9)],'price':_0x26a527,'number':Number(formatResult(_0x2bc2b7[_0x4c4192(0x1bf)]-_0x4c591a[_0x4c4192(0x1bf)],0x8)),'basecoinvalue':_0x26a527*(_0x2bc2b7['number']-_0x4c591a['number'])});}}});if(_0x5923b4[_0x1978e4(0x326)]>0x0&&!blockTransactionDetection)for(const _0xfcc060 of _0x5923b4){if(config[_0x1978e4(0x204)]){logger[_0x1978e4(0x34a)](_0x1978e4(0x36d)+_0xfcc060[_0x1978e4(0x27f)]+_0x1978e4(0x1f5)+lastFees[_0x1978e4(0x371)]);if(lastFees[_0x1978e4(0x371)]==0x0||Math[_0x1978e4(0x1e2)](_0xfcc060[_0x1978e4(0x27f)])>lastFees['highest']*0x3){if(config[_0x1978e4(0x204)]==_0x1978e4(0x33c)){delete _0xfcc060['symbol'],delete _0xfcc060[_0x1978e4(0x27f)];let _0x2993de=[],_0x4d455a=[...config['liquidity']]||[],_0x15a480=config[_0x1978e4(0x30f)];_0x4d455a[_0x1978e4(0x232)]((_0x59c634,_0x1f127b)=>_0x59c634[_0x1978e4(0x2ff)]>_0x1f127b[_0x1978e4(0x2ff)]?-0x1:_0x1f127b[_0x1978e4(0x2ff)]>_0x59c634['date']?0x1:0x0);const _0x3f12a7=getDate();if(_0x4d455a[0x0]){const _0x3dc30f=fns[_0x1978e4(0x2f0)](_0x4d455a[0x0][_0x1978e4(0x2ff)],_0x1978e4(0x1e5),new Date()),_0x4c3fef=fns['parse'](_0x3f12a7,_0x1978e4(0x1e5),new Date());if(fns[_0x1978e4(0x249)](_0x3dc30f,_0x4c3fef)){_0x2993de=_0x4d455a[0x0][_0x1978e4(0x32f)];const _0xb26a4e=_0x2993de[_0x1978e4(0x28c)](_0x120f48=>_0x120f48[_0x1978e4(0x2ae)]==_0xfcc060[_0x1978e4(0x2ae)]);_0xb26a4e?(_0xb26a4e[_0x1978e4(0x1bf)]+=_0xfcc060[_0x1978e4(0x1bf)],_0xb26a4e[_0x1978e4(0x1bf)]==0x0&&(_0x2993de=_0x2993de['filter'](_0x5cb1fa=>{const _0xccaf69=_0x1978e4;return _0x5cb1fa[_0xccaf69(0x2ae)]!=_0xfcc060[_0xccaf69(0x2ae)];}))):_0x2993de[_0x1978e4(0x359)](_0xfcc060);const _0x36c2ba=_0x15a480[_0x1978e4(0x28c)](_0x193a46=>_0x193a46[_0x1978e4(0x2ff)]==_0x3f12a7);_0x36c2ba[_0x1978e4(0x32f)]=_0x2993de;}else _0x15a480['push']({'date':_0x3f12a7,'changes':[_0xfcc060]});}const _0xfca8cb=_0x15a480[_0x1978e4(0x28c)](_0x556871=>_0x556871[_0x1978e4(0x2ff)]==_0x3f12a7);if(_0xfca8cb){let _0x588177=!![];_0xfca8cb[_0x1978e4(0x32f)][_0x1978e4(0x2a9)](_0x554763=>{if(_0x554763['number']!=0x0)_0x588177=![];}),_0x588177&&(_0x15a480=_0x15a480['filter'](_0xaf1a37=>{const _0x539a65=_0x1978e4;return _0xaf1a37[_0x539a65(0x2ff)]!=_0x3f12a7;}));}let _0x2c1797=dbConfig['get'](_0x1978e4(0x2d1))[_0x1978e4(0x28c)]({'botID':botID})[_0x1978e4(0x1d8)]();_0x2c1797&&(dbConfig[_0x1978e4(0x1c0)]('bot')['find']({'botID':botID})[_0x1978e4(0x354)]({'liquidity':_0x15a480})[_0x1978e4(0x370)](),config[_0x1978e4(0x30f)]=_0x15a480);logHistory(_0x1978e4(0x324),_0x1978e4(0x293)+Math[_0x1978e4(0x1e2)](_0xfcc060[_0x1978e4(0x1bf)])+'\x20'+_0xfcc060[_0x1978e4(0x2ae)]+'\x20'+(_0xfcc060[_0x1978e4(0x1bf)]>0x0?_0x1978e4(0x23a):_0x1978e4(0x363))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit(_0x1978e4(0x320),emittedConfiguration());const _0x449d5c=getNormalizedPerformance();emitPerformance(_0x449d5c),getStartingBalances(_0x449d5c),logger[_0x1978e4(0x34a)](_0x1978e4(0x356));}else config['autoliquidity']==_0x1978e4(0x20b)&&(config[_0x1978e4(0x368)]?(await storeHeadless({'headless':![]}),logHistory('success','Portfolio\x20change\x20detected:\x20'+Math['abs'](_0xfcc060[_0x1978e4(0x1bf)])+'\x20'+_0xfcc060[_0x1978e4(0x2ae)]+'\x20'+(_0xfcc060['number']>0x0?'added':_0x1978e4(0x363))+_0x1978e4(0x1d7))):logger[_0x1978e4(0x34a)]('Portfolio\x20change\x20detected:\x20'+Math['abs'](_0xfcc060[_0x1978e4(0x1bf)])+'\x20'+_0xfcc060[_0x1978e4(0x2ae)]+'\x20'+(_0xfcc060[_0x1978e4(0x1bf)]>0x0?'added':'removed')+_0x1978e4(0x202)));}else logger[_0x1978e4(0x34a)](_0x1978e4(0x21e)+Math[_0x1978e4(0x1e2)](_0xfcc060[_0x1978e4(0x1bf)])+'\x20'+_0xfcc060['coin']+'\x20'+(_0xfcc060[_0x1978e4(0x1bf)]>0x0?_0x1978e4(0x23a):_0x1978e4(0x363)));}else logger[_0x1978e4(0x34a)]('Portfolio\x20change\x20detected:\x20'+Math[_0x1978e4(0x1e2)](_0xfcc060['number'])+'\x20'+_0xfcc060[_0x1978e4(0x2ae)]+'\x20'+(_0xfcc060[_0x1978e4(0x1bf)]>0x0?_0x1978e4(0x23a):_0x1978e4(0x363))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x4d3dc9,currentCoinsAll=_0x5b766d;}catch(_0x321b9c){if(!exchangeStopped)await handleError(_0x321b9c,_0x1978e4(0x1fb));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x401b67=_0x524f3b;logger[_0x401b67(0x34a)](_0x401b67(0x34f));try{markets=await exchange[_0x401b67(0x1ef)]();}catch(_0x467b2f){logger['debug'](_0x401b67(0x335)+_0x467b2f['toString']());if(markets){}else logHistory(_0x401b67(0x207),_0x401b67(0x322)),logHistory(_0x401b67(0x207),_0x401b67(0x261)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),logger[_0x401b67(0x34a)](_0x401b67(0x254),_0x467b2f),loading[_0x401b67(0x1f2)]=!![],emitLoadingProgress(),await sleep(loadCoinsRetryInterval),restartBot();}allSymbols=[],Object[_0x401b67(0x216)](markets)[_0x401b67(0x2a9)](_0x183b33=>{const _0x45768c=_0x401b67;_0x183b33[0x1][_0x45768c(0x34e)]&&_0x183b33[0x1][_0x45768c(0x297)]&&allSymbols['push'](_0x183b33[0x0]);});}function validateSymbols(_0x12ece6){const _0x20212e=_0x524f3b;let _0x457d23=[];return _0x12ece6[_0x20212e(0x2a9)](_0x1acb8b=>{const _0xa4579=_0x20212e;!allSymbols[_0xa4579(0x316)](_0x1acb8b)?logHistory(_0xa4579(0x207),'Invalid\x20symbol:\x20'+_0x1acb8b+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x457d23[_0xa4579(0x359)](_0x1acb8b);}),_0x457d23;}async function initclient(){const _0x5ccbef=_0x524f3b;proxyEmit(_0x5ccbef(0x320),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x5ccbef(0x1cf),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5147c6=getNormalizedPerformance();emitPerformance(_0x5147c6),getStartingBalances(_0x5147c6);}async function toggleBotMode(){const _0x3492ef=_0x524f3b;let _0x399c5c=dbConfig[_0x3492ef(0x1c0)](_0x3492ef(0x2d1))[_0x3492ef(0x28c)]({'botID':botID})[_0x3492ef(0x1d8)]();if(_0x399c5c){const _0x5cfcdf=!_0x399c5c[_0x3492ef(0x368)];dbConfig['get'](_0x3492ef(0x2d1))[_0x3492ef(0x28c)]({'botID':botID})[_0x3492ef(0x354)]({'headless':_0x5cfcdf})[_0x3492ef(0x370)](),config[_0x3492ef(0x368)]=_0x5cfcdf,proxyEmit(_0x3492ef(0x320),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2bab12=_0x524f3b;process[_0x2bab12(0x2da)]({'updatebotmanager':!![]},_0x42336b=>{}),logger['debug'](_0x2bab12(0x277)+config['headless']);}async function loadCoins(_0x440ac8){const _0xdd39e6=_0x524f3b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x4d366b,_0x2314ec=0x0,_0x7cc2ff=0x0;_0x440ac8[_0xdd39e6(0x2a9)](_0xaff00c=>{const _0x55583f=_0xdd39e6;loading[_0x55583f(0x212)][_0x55583f(0x359)](_0xaff00c);}),loadingCanceled=![];let _0x4e28fe=![];while(_0x4d366b!=_0x440ac8[_0xdd39e6(0x326)]+maxLoadingProgress){_0x4d366b=loadingProgress,_0x440ac8[_0xdd39e6(0x2a9)](_0x460183=>{const _0x2c4479=_0xdd39e6;if(gTicker[noslash(_0x460183)]){loading[_0x2c4479(0x212)]=loading[_0x2c4479(0x212)][_0x2c4479(0x1dc)](_0x1094a9=>_0x1094a9!=_0x460183);if(!watchedSymbols[_0x2c4479(0x316)](_0x460183))watchedSymbols[_0x2c4479(0x359)](_0x460183);_0x4d366b++;}}),loading[_0xdd39e6(0x26b)]=Math[_0xdd39e6(0x2ed)](_0x4d366b/(_0x440ac8['length']+maxLoadingProgress)*0x64);loading[_0xdd39e6(0x26b)]!=0x64&&(_0x7cc2ff>0x1e*0x5&&(loading[_0xdd39e6(0x37b)]=!![],emitLoadingProgress()),_0x7cc2ff>0x78*0x5&&!_0x4e28fe&&(_0x4e28fe=!![],logHistory(_0xdd39e6(0x207),_0xdd39e6(0x313)+loading['remainingSymbols'][_0xdd39e6(0x1d2)](',\x20')+_0xdd39e6(0x2f1)),logHistory(_0xdd39e6(0x207),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0xdd39e6(0x214)),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0xdd39e6(0x1f2)]=!![],emitLoadingProgress();break;}else _0x2314ec!=loading[_0xdd39e6(0x26b)]&&(_0x2314ec=loading[_0xdd39e6(0x26b)],emitLoadingProgress()),_0x7cc2ff++,await sleep(0xc8);}_0x4d366b==_0x440ac8[_0xdd39e6(0x326)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0xdd39e6(0x2da)]({'status':_0xdd39e6(0x223),'live':_0xdd39e6(0x280)},_0x361f3e=>{}),_0x4e28fe&&logHistory(_0xdd39e6(0x324),_0xdd39e6(0x235)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1630d6=_0x524f3b;proxyEmit(_0x1630d6(0x320),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x5e05e0=_0x524f3b;let _0x4611d8=gTicker[stablecoins[_0x5e05e0(0x246)][_0x5e05e0(0x2ae)]],_0x38c0b2=gTicker[stablecoins[_0x5e05e0(0x289)][_0x5e05e0(0x2ae)]];return{'eur':Number(_0x4611d8),'usd':Number(_0x38c0b2)};}function capitalize(_0x245abe){const _0x880f80=_0x524f3b;return _0x245abe[_0x880f80(0x237)](0x0,0x1)['toUpperCase']()+_0x245abe[_0x880f80(0x237)](0x1);}function supportedExchanges(){const _0x2a0880=_0x524f3b,_0xabba48=['ws','fetchTickers',_0x2a0880(0x1d3),_0x2a0880(0x311),_0x2a0880(0x2e7),'cancelOrder',_0x2a0880(0x2c8),_0x2a0880(0x244),'fetchBalance'];let _0x5ea078=[],_0x11e124=[],_0x260a05=ccxt[_0x2a0880(0x299)][_0x2a0880(0x213)];_0x260a05[_0x2a0880(0x2a9)](_0x5051a3=>{const _0x129f42=_0x2a0880;try{const _0x395541=new ccxt[(_0x129f42(0x299))][_0x5051a3]();_0x11e124[_0x129f42(0x359)](_0x395541);}catch(_0x1af698){}}),_0x11e124['forEach'](_0x14dea6=>{const _0x2b94d3=_0x2a0880;let _0x30ae41=0x0;_0xabba48[_0x2b94d3(0x2a9)](_0x56b8b8=>{const _0x232c4b=_0x2b94d3;_0x56b8b8 in _0x14dea6[_0x232c4b(0x226)]&&_0x14dea6[_0x232c4b(0x226)][_0x56b8b8]&&_0x30ae41++;}),_0x30ae41==_0xabba48[_0x2b94d3(0x326)]&&_0x5ea078[_0x2b94d3(0x359)](capitalize(_0x14dea6['id']));});let _0x231963=[];return _0x260a05[_0x2a0880(0x2a9)](_0x32fc7a=>{const _0x28a151=_0x2a0880;_0x32fc7a=capitalize(_0x32fc7a);if(!_0x5ea078[_0x28a151(0x316)](_0x32fc7a))_0x231963[_0x28a151(0x359)](_0x32fc7a);}),_0x5ea078;}function setStartDatePerformance(){const _0x46ab3b=_0x524f3b;if(config&&config[_0x46ab3b(0x30f)][0x0][_0x46ab3b(0x32f)][_0x46ab3b(0x326)]!=0x0){const _0x1c8c55=config['liquidity'][0x0]['changes'];dbPerformance[_0x46ab3b(0x1c0)](_0x46ab3b(0x35b))[_0x46ab3b(0x28c)]({'date':config[_0x46ab3b(0x348)]})[_0x46ab3b(0x354)]({'coins':_0x1c8c55})[_0x46ab3b(0x370)]();}}async function recreateCoinResults(){const _0xd2ab91=_0x524f3b;recreationNeeded=![];let _0x5ba91d,_0x3ad659=[];try{for(const _0x537385 of currentCoins){if(_0x537385[_0xd2ab91(0x2ae)]!=config[_0xd2ab91(0x345)]){let _0x1a9de1=0x0,_0x87c0b1,_0x1f72c0;_0x5ba91d=await getAllEventOrders(_0x537385[_0xd2ab91(0x2b9)]);if(_0x5ba91d[_0xd2ab91(0x326)]>0x0)_0x5ba91d[_0xd2ab91(0x2a9)](_0x15afa4=>{const _0x20c00f=_0xd2ab91,_0x463e4d=_0x537385[_0x20c00f(0x2b9)]['includes'](config['basecoin']+'/');_0x3ad659['push']({'datetime':_0x15afa4[_0x20c00f(0x380)],'coin':_0x537385[_0x20c00f(0x2ae)],'symbol':_0x537385[_0x20c00f(0x2b9)],'side':_0x15afa4[_0x20c00f(0x1c1)],'reverse':_0x463e4d,'amount':formatResult(_0x15afa4[_0x20c00f(0x2ee)],0x8),'filled':formatResult(_0x15afa4['filled'],0x8),'price':formatResult(_0x15afa4[_0x20c00f(0x1ce)],0x8)}),_0x1a9de1=_0x15afa4[_0x20c00f(0x1c1)]=='buy'?_0x1a9de1+_0x15afa4['filled']:_0x1a9de1-_0x15afa4[_0x20c00f(0x2ee)];if(!_0x1f72c0)_0x1f72c0=_0x15afa4[_0x20c00f(0x1ce)];});_0x87c0b1=_0x537385[_0xd2ab91(0x1bf)]-_0x1a9de1;let _0x497ffe;config[_0xd2ab91(0x30f)][_0xd2ab91(0x2a9)](_0x8dde11=>{const _0x350318=_0xd2ab91;!_0x497ffe&&(_0x497ffe=_0x8dde11['changes'][_0x350318(0x28c)](_0x45a2ea=>_0x45a2ea[_0x350318(0x2ae)]==_0x537385[_0x350318(0x2ae)]),_0x497ffe&&(_0x87c0b1=_0x497ffe[_0x350318(0x1bf)],_0x1f72c0=_0x497ffe[_0x350318(0x1ce)]));});let _0x165195=dbCoinResults['get']('coins')['find']({'coin':_0x537385[_0xd2ab91(0x2ae)]})[_0xd2ab91(0x1d8)]();_0x165195={'coin':_0x537385['coin'],'number':_0x87c0b1,'breakeven':_0x1f72c0,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0xd2ab91(0x1c0)]('coins')[_0xd2ab91(0x28c)]({'coin':_0x537385['coin']})[_0xd2ab91(0x354)](_0x165195)[_0xd2ab91(0x370)]();}}_0x3ad659[_0xd2ab91(0x232)]((_0x3f1f5d,_0x1d20e6)=>_0x3f1f5d['datetime']>_0x1d20e6['datetime']?0x1:_0x1d20e6[_0xd2ab91(0x380)]>_0x3f1f5d[_0xd2ab91(0x380)]?-0x1:0x0);let _0x45eb49=0x0;for(let _0x45cae6 of _0x3ad659){await updateCoinResults(_0x45cae6,!![]);}}catch(_0xa7e553){await handleError(_0xa7e553,'recreateCoinResults()');}}async function getAllEventOrders(_0x3f1312){const _0x8a6765=_0x524f3b;let _0xc0e5f2=[],_0x3a4251=dbLogs[_0x8a6765(0x1c0)](_0x8a6765(0x34b))[_0x8a6765(0x1dc)](_0x5dada8=>{const _0x54ec69=_0x8a6765,_0x1276fb=_0x5dada8['event'][_0x54ec69(0x2df)]();return _0x1276fb[_0x54ec69(0x316)](_0x3f1312[_0x54ec69(0x2df)]())&&(_0x1276fb[_0x54ec69(0x316)]('market')&&_0x1276fb[_0x54ec69(0x316)](_0x54ec69(0x2e0))||_0x1276fb['includes']('filled')&&_0x1276fb[_0x54ec69(0x316)](_0x54ec69(0x2e0)));})['sortBy'](_0x8a6765(0x229))[_0x8a6765(0x1d8)]();return _0x3a4251[_0x8a6765(0x2a9)](_0x46360e=>{const _0x224212=_0x8a6765,_0x390674=_0x46360e[_0x224212(0x1be)][_0x224212(0x316)]('sell')?'sell':'buy',_0x40027d=/#([0-9]|\.)+\s/i,_0x3f06ee=Number(_0x40027d[_0x224212(0x306)](_0x46360e['event'])[0x0][_0x224212(0x26a)](0x1)),_0x471b28=/@([0-9]|\.)+$/i,_0x264179=Number(_0x471b28[_0x224212(0x306)](_0x46360e[_0x224212(0x1be)])[0x0][_0x224212(0x26a)](0x1));_0xc0e5f2[_0x224212(0x359)]({'datetime':_0x46360e[_0x224212(0x229)],'coin':symbolToCoin(_0x3f1312),'symbol':_0x3f1312,'side':_0x390674,'amount':_0x3f06ee,'filled':_0x3f06ee,'price':_0x264179});}),_0xc0e5f2;}async function validate24hChanges(){const _0x26c8bd=_0x524f3b;for(const _0x727005 of currentCoins){if(_0x727005[_0x26c8bd(0x2ae)]!=config['basecoin']){let _0x451e4f;_0x727005[_0x26c8bd(0x1da)]?_0x451e4f=formatResult((0x1/(gChange[_0x727005[_0x26c8bd(0x2b9)]]/0x64+0x1)-0x1)*0x64,0x3):_0x451e4f=gChange[_0x727005[_0x26c8bd(0x2b9)]],_0x451e4f<config['change24h']&&(logHistory(_0x26c8bd(0x207),_0x727005[_0x26c8bd(0x2ae)]+_0x26c8bd(0x221)+_0x451e4f+'%'),logHistory(_0x26c8bd(0x207),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error',_0x26c8bd(0x245)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x59061e,_0x497d0c){const _0x383978=_0x524f3b;if(!_0x59061e)return!![];const _0x9c91eb=_0x497d0c['split']('.'),_0x5698c9=_0x59061e['split']('.');for(var _0x28a650=0x0;_0x28a650<_0x5698c9[_0x383978(0x326)];_0x28a650++){const _0x11c964=~~_0x5698c9[_0x28a650],_0x59a232=~~_0x9c91eb[_0x28a650];if(_0x11c964<_0x59a232)return!![];if(_0x11c964>_0x59a232)return![];}return![];}async function oneTimeMigration(){const _0x532a6a=_0x524f3b;let _0xe22a2e=dbLogs[_0x532a6a(0x1c0)]('version')['value']();if(isOlderVersion(_0xe22a2e,_0x532a6a(0x1f7))){let _0x2e23ff=[];const _0xe2eafa=dbLogs[_0x532a6a(0x1c0)]('logs')[_0x532a6a(0x1d8)]();_0xe2eafa['forEach'](_0x183ef2=>{const _0x103b2e=_0x532a6a;_0x2e23ff[_0x103b2e(0x359)]({'time':_0x183ef2['time'],'type':_0x183ef2[_0x103b2e(0x1d0)],'event':_0x183ef2[_0x103b2e(0x1be)]});}),dbLogs[_0x532a6a(0x1c0)](_0x532a6a(0x34b))[_0x532a6a(0x354)](_0x2e23ff)['write']();}let _0x3d3344=dbConfig[_0x532a6a(0x1c0)](_0x532a6a(0x231))['value']();if(isOlderVersion(_0x3d3344,'2.3.5')){let _0x4f3c5d=dbConfig['get'](_0x532a6a(0x2d1))['find']({'botID':botID})[_0x532a6a(0x1d8)]();if(_0x4f3c5d){let _0x55c867=[];_0x4f3c5d[_0x532a6a(0x1ed)][_0x532a6a(0x2a9)](_0xdc7647=>{const _0xe6e76b=_0x532a6a;_0x55c867['push']({'coin':_0xdc7647[_0xe6e76b(0x2ae)],'number':_0xdc7647[_0xe6e76b(0x33e)],'price':_0xdc7647[_0xe6e76b(0x1fc)]}),delete _0xdc7647['startnumber'],delete _0xdc7647['startprice'];});if(_0x55c867[_0x532a6a(0x326)]!==0x0)fs[_0x532a6a(0x1c7)](configbackuppath+(_0x532a6a(0x2e5)+botID+_0x532a6a(0x263)),JSON['stringify'](_0x55c867,null,0x4),function(_0x2d23c7){if(_0x2d23c7){}});const _0x1ed010=(_0x4804e4,_0x400223)=>{const _0x2fd2e0=_0x532a6a;let _0x12ea07=[];_0x400223[_0x2fd2e0(0x2a9)](_0x8a6329=>{const _0x3ee316=_0x2fd2e0,_0x362338=_0x4804e4['find'](_0x4af24b=>_0x4af24b['coin']==_0x8a6329[_0x3ee316(0x2ae)]);if(!_0x362338)_0x12ea07[_0x3ee316(0x359)](_0x8a6329);});let _0x48b11c=[];return _0x4804e4[_0x2fd2e0(0x2a9)](_0x52bcc7=>{const _0x3f0b14=_0x2fd2e0,_0x48c81b=_0x400223[_0x3f0b14(0x28c)](_0x383253=>_0x383253[_0x3f0b14(0x2ae)]==_0x52bcc7[_0x3f0b14(0x2ae)]);if(!_0x48c81b||_0x48c81b[_0x3f0b14(0x1bf)]==0x0&&_0x52bcc7[_0x3f0b14(0x1bf)]!=0x0)_0x48b11c[_0x3f0b14(0x359)](_0x52bcc7);}),{'missingDay1':_0x12ea07,'notInDay2':_0x48b11c};},_0x4c8988=dbPerformance[_0x532a6a(0x1c0)]('data')[_0x532a6a(0x31e)]()[_0x532a6a(0x1d8)]();if(_0x4c8988[_0x532a6a(0x326)]>0x1){const {missingDay1:_0x223631,notInDay2:_0x501f90}=_0x1ed010(_0x55c867,_0x4c8988[0x1][_0x532a6a(0x250)]);_0x55c867=[..._0x55c867,..._0x223631],_0x501f90['forEach'](_0x257493=>{const _0x469148=_0x532a6a;let _0x423f6=_0x55c867[_0x469148(0x366)](_0x54db43=>_0x54db43[_0x469148(0x2ae)]==_0x257493[_0x469148(0x2ae)]);_0x423f6!=-0x1&&_0x55c867[_0x469148(0x317)](_0x423f6,0x1);});}_0x55c867[_0x532a6a(0x232)]((_0x598e6d,_0x372e7e)=>_0x598e6d[_0x532a6a(0x2ae)]>_0x372e7e['coin']?0x1:_0x372e7e[_0x532a6a(0x2ae)]>_0x598e6d['coin']?-0x1:0x0);let _0x5bbc0b=[{'date':_0x4f3c5d[_0x532a6a(0x348)],'changes':_0x55c867}];_0x4c8988[_0x532a6a(0x326)]>0x2&&_0x4c8988[_0x532a6a(0x2a9)]((_0x1c37f3,_0x72dec3)=>{const _0x21cfb1=_0x532a6a;if(_0x72dec3>0x0&&_0x72dec3<_0x4c8988[_0x21cfb1(0x326)]-0x1){const {missingDay1:_0x8c280e,notInDay2:_0x518671}=_0x1ed010(_0x4c8988[_0x72dec3][_0x21cfb1(0x250)],_0x4c8988[_0x72dec3+0x1]['coins']);_0x55c867=[],(_0x8c280e[_0x21cfb1(0x326)]!=0x0||_0x518671['length']!=0x0)&&(_0x8c280e['length']!=0x0&&_0x55c867[_0x21cfb1(0x359)](..._0x8c280e),_0x518671[_0x21cfb1(0x326)]!=0x0&&(_0x518671[_0x21cfb1(0x2a9)](_0x21eb68=>{const _0xc1de39=_0x21cfb1;_0x21eb68[_0xc1de39(0x1bf)]=-_0x21eb68['number'];}),_0x55c867[_0x21cfb1(0x359)](..._0x518671)),_0x55c867[_0x21cfb1(0x232)]((_0x13af71,_0x373d19)=>_0x13af71[_0x21cfb1(0x2ae)]>_0x373d19[_0x21cfb1(0x2ae)]?0x1:_0x373d19[_0x21cfb1(0x2ae)]>_0x13af71['coin']?-0x1:0x0),_0x5bbc0b[_0x21cfb1(0x359)]({'date':_0x4c8988[_0x72dec3+0x1]['date'],'changes':_0x55c867}));}}),dbConfig[_0x532a6a(0x1c0)](_0x532a6a(0x2d1))['find']({'botID':botID})[_0x532a6a(0x354)]({..._0x4f3c5d,'liquidity':_0x5bbc0b})[_0x532a6a(0x370)]();}}if(isOlderVersion(_0x3d3344,_0x532a6a(0x352))){let _0x50f1bc=dbConfig[_0x532a6a(0x1c0)](_0x532a6a(0x2d1))['find']({'botID':botID})[_0x532a6a(0x1d8)]();if(_0x50f1bc){const _0x2ee0fe=_0x50f1bc[_0x532a6a(0x302)],_0x3a43df=_0x2ee0fe?capitalize(_0x2ee0fe):_0x532a6a(0x31b);dbConfig[_0x532a6a(0x1c0)](_0x532a6a(0x2d1))[_0x532a6a(0x28c)]({'botID':botID})['assign']({'exchange':_0x3a43df})[_0x532a6a(0x370)]();}}if(isOlderVersion(_0x3d3344,_0x532a6a(0x382))){let _0x1b9cec=dbConfig[_0x532a6a(0x1c0)](_0x532a6a(0x2d1))['find']({'botID':botID})[_0x532a6a(0x1d8)]();if(_0x1b9cec){const _0x46b158=_0x1b9cec[_0x532a6a(0x2f4)],_0x4ff441=_0x46b158?'marketcap':![];dbConfig[_0x532a6a(0x1c0)]('bot')[_0x532a6a(0x28c)]({'botID':botID})[_0x532a6a(0x354)]({'marketcapEnabled':_0x4ff441})[_0x532a6a(0x370)]();}}if(isOlderVersion(_0x3d3344,_0x532a6a(0x1e0))){let _0x4bb937=dbConfig[_0x532a6a(0x1c0)](_0x532a6a(0x2d1))[_0x532a6a(0x28c)]({'botID':botID})[_0x532a6a(0x1d8)]();if(_0x4bb937){const _0x268c0b=_0x4bb937['autoliquidity'],_0x95f959=_0x268c0b?_0x532a6a(0x33c):![];dbConfig[_0x532a6a(0x1c0)]('bot')[_0x532a6a(0x28c)]({'botID':botID})[_0x532a6a(0x354)]({'autoliquidity':_0x95f959})[_0x532a6a(0x370)]();}}let _0x59743e=dbPerformance['get'](_0x532a6a(0x231))[_0x532a6a(0x1d8)]();isOlderVersion(_0x59743e,_0x532a6a(0x1f7))&&setStartDatePerformance();let _0x35bb67=dbCoinResults[_0x532a6a(0x1c0)](_0x532a6a(0x231))[_0x532a6a(0x1d8)]();if(isOlderVersion(_0x35bb67,_0x532a6a(0x379))){let _0x52f1fc=dbCoinResults[_0x532a6a(0x1c0)](_0x532a6a(0x250))[_0x532a6a(0x1d8)]();if(_0x52f1fc[_0x532a6a(0x326)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function _0x1048(){const _0x3eba19=['toString','substring','pop','enableFiatToggle','added','node-forge','pki','Cryptocom','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','util','1\x20-\x20Unlock\x20orders','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','valid','fetchOpenOrders','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','eur','botID','1\x20-\x20partially\x20FILLED\x20unknown\x20order:\x20','isEqual','portfolio1','decrypt','\x20|\x20exchange:\x20','Network\x20error\x20details:','red_yellow_blue','production','coins','getMinutes','apply','18326077uNkSNT','Error\x20details:','slider','net-fiat','BNB','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','fetchTickers','amountToPrecision','Loading\x20completed','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','LOCKED','\x20/\x20','%\x20(','Invalid\x20quantity','Pausing\x20for\x20','watchOrders()','.json','average','offset','resetHistory','keys','storeHeadless','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','slice','progress','args','DDoSProtection','RETRY\x20-\x20Error\x20in\x20','Resetting\x20coin\x20results:\x20','password','onepagemode','1crxqWg','differenceInSeconds','min',':\x20timer\x20>','rightTxt','Headless:\x20','\x20>\x20pausing\x20bot\x20for\x20','Resuming\x20(','net-basecoin','stringify','add','ongoing','watchTradesForSymbols','basecoinvalue','running','privateKey','TUSD','ORDERS.UNLOCKING','openOrders','marketcapApi','bb-secure.json','lowdb/adapters/FileSync','API-key\x20format\x20invalid','usd','9057980IpDmYD','Net\x20','find','\x20>\x20','4808UKHDaQ','Reset\x20|\x20','map','Error\x20while\x20deleting\x20files:\x20','bot-','Portfolio\x20change\x20detected:\x20','0\x20-\x20EXECUTION:\x20','\x20minutes\x20-\x20','storeConfiguration','spot','buy','pro','UNLOCKING','2\x20-\x20handling\x20FILLED\x20order:\x20','1\x20-\x20FILLED\x20unknown\x20order:\x20','padStart','./version.json','test',',\x20must\x20be\x20a\x203\x20digit\x20number','Invalid\x20trigger:\x20','cancelOrders()','***','indexOf','excluded','open','axios','argv','forEach','1\x20-\x20Validate\x20orders:\x20','heapUsed','RequestTimeout','Initializing\x20coin\x20results','coin','BTC','2142175ByYOqs','constructor','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','token\x20is\x20expired','</pre>','closed','random','PAXG','none','symbol','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','floor','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','market','customId','/USDT','ExchangeError','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','threshold','padEnd','realized','limit-low','storeFiat','EUR','createOrder','-------------------------------\x0a','No\x20more\x20open\x20orders\x20-\x20','Unknown\x20error\x20-\x20check\x20logs','getDate','2925748OXjuEy','ccxt','timestamp','BNB/','bot','/output-000.log','cooldown','botname','Huobi','sell','limit','uncaughtException','Market','send','\x20API\x20secret\x20is\x20invalid','unlinkSync','\x20portfolio:</b>\x20\x0a\x0a','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)','toLowerCase','order','Insufficient\x20funds\x20to\x20execute\x20order:\x20','InvalidNonce','\x20orders\x20in\x20less\x20than\x20','log','starting-balance-','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','watchOrders','1464538AAMXKF','UNLOCKED','Net\x20effect','orderstatus','getSeconds','round','filled','shift','parse','\x20-\x20bot\x20not\x20started','placeOrder()','staging','marketcapEnabled','\x20>\x20details:','sha256','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','apiPassword','getHours','recent20','cancelOrder','Manual\x20balancing\x20required','Error\x20details\x20(0):','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','date','\x20|\x20lock\x20orders:\x20','function','exchange','search','apiKey','privateKeyFromPem','exec','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','placeOrder','\x20change','USDP','buys','getMonth','fiat','toFixed','liquidity','InvalidOrder','watchTrades','recovery','Failed\x20to\x20load\x20coin\x20data\x20for\x20','marketcap','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','includes','splice','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','ID:\x20','full','Binance','quick','ETH','cloneDeep','001','configuration','canceled','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','RSA-OAEP','success','replace','length','final','process\x20','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','\x20value','USDC','environment','getCoinNumber()','currency','changes','Valid\x20trigger:\x20','yargs/yargs','Avoiding\x20continuous\x20order\x20attempts','Order(s)\x20not\x20validated\x20after\x20','InsufficientFunds','Error\x20in\x20loadSymbols():\x20','status\x20code\x20401','\x20exchange\x20error:\x20','performance','sendMetricsTelegram','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20>\x20[DEBUG]\x20','update-liquidity','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','startnumber','settings','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','remove','target','breakeven','sendPortfolioTelegram','basecoin','lowdb','quote','startdate','Order\x20is\x20invalid:\x20','debug','logs','apiSecret','Order\x20amount\x20is\x20invalid:\x20','active','Loading\x20symbols','marketcapsqrt','\x20-\x20','2.6.0','cancelLoading','assign','\x20MB','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','fromCodePoint','<b>Bot\x20','push','sells','data','11709vJEzFX','OnMaintenance','page','existsSync','Saving\x20configuration','AuthenticationError','string','removed','NetworkError','bid','findIndex','\x20attempts','headless','(((.+)+)+)+$','warning','secure','kill','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','decode64','Error:\x20Invalid\x20argument\x20','write','highest','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','leftTxt','watchTrades()','emojibuy','change24h','Cex','Symbol(s):\x20','2.5.0','limits','timeout','set','Error\x20in\x20testAPI():\x20','<b>','getCoins()','datetime','distribution','2.6.22','event','number','get','side','message','/USD','-events.json','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','bb-settings.json','writeFile','Exchange\x20error\x20details:','ordertype','percentage','timeshift','max','Initializing\x20exchange','price','balances','type','limit-high','join','fetchTicker','1\x20-\x20partially\x20FILLED\x20known\x20order:\x20','trade','deleteHistoryAlerts','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','value','Unknown\x20error:\x20','reverse','fee','filter','initial','starting-balances','total','2.6.23','\x20metrics:</b>\x20\x0a\x0a','abs','configuration-stored','getFullYear','yyyy/MM/dd','showname','-results.json','initclient','bots','pid','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','getTime','portfolio','5TgidEi','loadMarkets','Initializing\x20exchange:\x20already\x20done','request-time','cancel','\x20order:\x20','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','\x20|\x20highest\x20fee:\x20','portfolio2','2.3.5','startsWith','create','mkdirSync','detectLiquidityChange()','startprice','emitHistory','\x20|\x20Custom\x20ID:\x20','format','-performance.json',')\x20|\x20exchange:\x20','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','12bOGkCx','autoliquidity','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','delta','error','\x20minutes','RateLimitExceeded','./logs/','switch-manual','market_cap','./config/','Exchange','USD','\x20exchange','createWriteStream','remainingSymbols','exchanges','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again',':\x20Bot\x20','entries','2\x20-\x20Handled\x20open\x20orders','sortBy','\x20|\x20','1\x20-\x20FILLED\x20known\x20order:\x20','colorscheme','cost','last','Fee\x20discount\x20refund\x20detected:\x20','2040123tqvmZi','1\x20-\x20Handle\x20open\x20orders','\x20has\x20a\x2024h\x20drop\x20of\x20','status','enabled','orderId','getOpenOrders()','has','\x20:\x20','************','time','change','no\x20open\x20orders','defaults','amount','fetchBalance','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','USDT','version','sort','ORDERS.LOCKED','emojisell','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'];_0x1048=function(){return _0x3eba19;};return _0x1048();}function updateFileVersions(){const _0x205f62=_0x524f3b;dbConfig[_0x205f62(0x37c)](_0x205f62(0x231),serverversion)[_0x205f62(0x370)](),dbPerformance[_0x205f62(0x37c)](_0x205f62(0x231),serverversion)[_0x205f62(0x370)](),dbLogs[_0x205f62(0x37c)]('version',serverversion)[_0x205f62(0x370)](),dbCoinResults[_0x205f62(0x37c)]('version',serverversion)[_0x205f62(0x370)]();}function getConfiguration(_0x5dca2e){const _0x2c9b81=_0x524f3b;let _0x313ceb=dbConfig[_0x2c9b81(0x1c0)](_0x2c9b81(0x2d1))[_0x2c9b81(0x28c)]({'botID':_0x5dca2e})[_0x2c9b81(0x1d8)]();if(_0x313ceb){let _0x24cfc6=![];typeof _0x313ceb['threshold']==_0x2c9b81(0x362)&&(_0x313ceb={..._0x313ceb,'threshold':Number(_0x313ceb[_0x2c9b81(0x2c2)])},_0x24cfc6=!![]),_0x313ceb['change24h']==undefined&&(_0x313ceb={..._0x313ceb,'change24h':-0x14},_0x24cfc6=!![]),_0x313ceb['fiat']==undefined&&(_0x313ceb={..._0x313ceb,'fiat':_0x2c9b81(0x20f)},_0x24cfc6=!![]),_0x313ceb['onepagemode']==undefined&&(_0x313ceb={..._0x313ceb,'onepagemode':settings['onepagemode']},_0x24cfc6=!![]),_0x313ceb['colorscheme']==undefined&&(_0x313ceb={..._0x313ceb,'colorscheme':'red_yellow_blue'},_0x24cfc6=!![]),_0x313ceb[_0x2c9b81(0x204)]==undefined&&(_0x313ceb={..._0x313ceb,'autoliquidity':_0x2c9b81(0x33c)},_0x24cfc6=!![]),_0x313ceb[_0x2c9b81(0x285)]==undefined&&(_0x313ceb={..._0x313ceb,'marketcapApi':settings[_0x2c9b81(0x285)]?!![]:![]},_0x24cfc6=!![]),_0x313ceb['marketcapEnabled']==undefined&&(_0x313ceb={..._0x313ceb,'marketcapEnabled':![]},_0x24cfc6=!![]),_0x24cfc6&&(_0x313ceb={'botID':_0x313ceb[_0x2c9b81(0x247)],'exchange':_0x313ceb[_0x2c9b81(0x302)],'apiKey':_0x313ceb[_0x2c9b81(0x304)],'apiSecret':_0x313ceb['apiSecret'],'apiPassword':_0x313ceb[_0x2c9b81(0x2f8)],'basecoin':_0x313ceb[_0x2c9b81(0x345)],'botname':_0x313ceb[_0x2c9b81(0x2d4)],'showname':_0x313ceb['showname'],'threshold':_0x313ceb[_0x2c9b81(0x2c2)],'ordertype':_0x313ceb[_0x2c9b81(0x1c9)],'timeout':_0x313ceb[_0x2c9b81(0x37b)],'fiat':_0x313ceb['fiat'],'startdate':_0x313ceb[_0x2c9b81(0x348)],'recreate':_0x313ceb['recreate'],'timeshift':_0x313ceb['timeshift'],'onepagemode':_0x313ceb[_0x2c9b81(0x271)],'headless':_0x313ceb[_0x2c9b81(0x368)],'cooldown':_0x313ceb[_0x2c9b81(0x2d3)],'change24h':_0x313ceb[_0x2c9b81(0x376)],'emojibuy':_0x313ceb['emojibuy'],'emojisell':_0x313ceb[_0x2c9b81(0x234)],'colorscheme':_0x313ceb[_0x2c9b81(0x21b)],'marketcapApi':_0x313ceb[_0x2c9b81(0x285)],'marketcapEnabled':_0x313ceb[_0x2c9b81(0x2f4)],'portfolio':_0x313ceb[_0x2c9b81(0x1ed)],'autoliquidity':_0x313ceb[_0x2c9b81(0x204)],'liquidity':_0x313ceb[_0x2c9b81(0x30f)],'openOrders':_0x313ceb['openOrders']},dbConfig['get'](_0x2c9b81(0x2d1))[_0x2c9b81(0x341)]()[_0x2c9b81(0x370)](),dbConfig['get'](_0x2c9b81(0x2d1))[_0x2c9b81(0x359)](_0x313ceb)[_0x2c9b81(0x370)]());}else _0x313ceb={'botID':_0x5dca2e,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x5dca2e,'showname':![],'threshold':0x3,'ordertype':_0x2c9b81(0x2bd),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x2c9b81(0x1cb)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x2c9b81(0x24e),'marketcapApi':settings[_0x2c9b81(0x285)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x2c9b81(0x33c),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x313ceb;}function emittedConfiguration(){const _0x2bcf80=_0x524f3b;let _0x1c2e79;if(config[_0x2bcf80(0x304)]=='')_0x1c2e79={...config,'configstate':'initial'};else config['apiKey']==_0x2bcf80(0x2a3)?_0x1c2e79={...config,'configstate':_0x2bcf80(0x312)}:(_0x1c2e79={...config,'apiKey':_0x2bcf80(0x228),'apiSecret':'************'},config[_0x2bcf80(0x2f8)]&&(_0x1c2e79['apiPassword']='************'));return _0x1c2e79[_0x2bcf80(0x239)]=enableFiatToggle,_0x1c2e79;}function getSettings(){const _0x543edf=_0x524f3b;return dbSettings[_0x543edf(0x1c0)](_0x543edf(0x33f))['value']();}function getSecure(){const _0xc0a40c=_0x524f3b;return dbSecure[_0xc0a40c(0x1c0)](_0xc0a40c(0x36b))['value']()||{};}function updateTimeshift(_0xce184){const _0x572306=_0x524f3b;let _0x1398eb=dbConfig['get']('bot')[_0x572306(0x28c)]({'botID':botID})['value']();_0x1398eb&&dbConfig[_0x572306(0x1c0)](_0x572306(0x2d1))['find']({'botID':botID})['assign']({'timeshift':_0xce184})[_0x572306(0x370)](),config[_0x572306(0x1cb)]=_0xce184,proxyEmit(_0x572306(0x320),emittedConfiguration());}function updateOnepagemode(_0x521bd9){const _0x1cb408=_0x524f3b;let _0x1afe4e=dbConfig[_0x1cb408(0x1c0)](_0x1cb408(0x2d1))[_0x1cb408(0x28c)]({'botID':botID})[_0x1cb408(0x1d8)]();_0x1afe4e&&dbConfig[_0x1cb408(0x1c0)](_0x1cb408(0x2d1))[_0x1cb408(0x28c)]({'botID':botID})[_0x1cb408(0x354)]({'onepagemode':_0x521bd9})[_0x1cb408(0x370)](),config[_0x1cb408(0x271)]=_0x521bd9,proxyEmit(_0x1cb408(0x320),emittedConfiguration());}function updateMarketcapApi(_0x109300){const _0x5170f0=_0x524f3b,_0x2645ea=_0x109300?!![]:![];let _0x29c7b2=dbConfig[_0x5170f0(0x1c0)](_0x5170f0(0x2d1))[_0x5170f0(0x28c)]({'botID':botID})[_0x5170f0(0x1d8)]();_0x29c7b2&&dbConfig[_0x5170f0(0x1c0)](_0x5170f0(0x2d1))[_0x5170f0(0x28c)]({'botID':botID})['assign']({'marketcapApi':_0x2645ea})[_0x5170f0(0x370)](),config[_0x5170f0(0x285)]=_0x2645ea,getMarketCap(),proxyEmit(_0x5170f0(0x320),emittedConfiguration());}async function storeConfiguration(_0x425891){const _0x29488f=_0x524f3b;logger['debug'](_0x29488f(0x360));if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x73a655=![],_0x9341cf=![],_0x4d794d=[];_0x425891['portfolio'][_0x29488f(0x2a9)](_0x5399f0=>{const _0x57ed35=_0x29488f;if(!_0x5399f0[_0x57ed35(0x2a5)]&&_0x5399f0[_0x57ed35(0x2ae)]!=_0x425891[_0x57ed35(0x345)])_0x4d794d[_0x57ed35(0x359)](_0x5399f0['symbol']);}),_0x4d794d[_0x29488f(0x2a9)](_0xc40e8e=>{const _0x1b8694=_0x29488f,_0x5de22a=currentCoins[_0x1b8694(0x28c)](_0x3d2bcc=>_0x3d2bcc[_0x1b8694(0x2b9)]==_0xc40e8e);!_0x5de22a&&(_0x73a655=!![]);}),currentCoins[_0x29488f(0x2a9)](_0x1db642=>{const _0x307853=_0x29488f;if(_0x1db642[_0x307853(0x2ae)]!=config[_0x307853(0x345)]){const _0x5bfeb2=_0x4d794d[_0x307853(0x28c)](_0x142c47=>_0x142c47==_0x1db642['symbol']);!_0x5bfeb2&&(_0x73a655=!![]);}}),_0x425891[_0x29488f(0x1ed)][_0x29488f(0x2a9)](_0x3e20e1=>{const _0x49733b=_0x29488f,_0xf956db=config['portfolio'][_0x49733b(0x28c)](_0x288114=>_0x288114[_0x49733b(0x2ae)]==_0x3e20e1['coin']);if(_0xf956db&&_0x3e20e1[_0x49733b(0x265)]!=_0xf956db[_0x49733b(0x265)])_0x9341cf=!![];});let _0x195806=dbConfig[_0x29488f(0x1c0)]('bot')[_0x29488f(0x28c)]({'botID':botID})['value']();_0x425891={..._0x425891,'apiKey':decryptRSA(secure[_0x29488f(0x281)],_0x425891[_0x29488f(0x304)]),'apiSecret':decryptRSA(secure[_0x29488f(0x281)],_0x425891['apiSecret'])};_0x425891[_0x29488f(0x2f8)]&&(_0x425891['apiPassword']=decryptRSA(secure[_0x29488f(0x281)],_0x425891['apiPassword']));let _0x236961=![];if(_0x195806){_0x425891['apiKey']==_0x29488f(0x228)?_0x425891['apiKey']=config[_0x29488f(0x304)]:_0x236961=!![];_0x425891[_0x29488f(0x34c)]=='************'?_0x425891['apiSecret']=config[_0x29488f(0x34c)]:_0x236961=!![];if(_0x425891[_0x29488f(0x2f8)]==_0x29488f(0x228))_0x425891[_0x29488f(0x2f8)]=config[_0x29488f(0x2f8)];else{if(_0x425891[_0x29488f(0x2f8)])_0x236961=!![];}dbConfig[_0x29488f(0x1c0)](_0x29488f(0x2d1))[_0x29488f(0x28c)]({'botID':botID})[_0x29488f(0x354)](_0x425891)[_0x29488f(0x370)]();}else dbConfig[_0x29488f(0x1c0)](_0x29488f(0x2d1))[_0x29488f(0x359)](_0x425891)[_0x29488f(0x370)](),_0x236961=!![],process[_0x29488f(0x2da)]({'status':_0x29488f(0x223),'live':'running'},_0x59b1f2=>{});process[_0x29488f(0x2da)]({'botname':_0x425891[_0x29488f(0x2d4)]},_0x29472c=>{}),config={..._0x425891},updateBotManager(),proxyEmit(_0x29488f(0x1e3)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x236961)!_0x195806?await reset(!![]):getBalances();else _0x73a655||_0x9341cf?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x36b45b){const _0x3acb77=_0x524f3b,_0x56872c={...config,'headless':_0x36b45b[_0x3acb77(0x368)]};let _0x284713=dbConfig['get'](_0x3acb77(0x2d1))[_0x3acb77(0x28c)]({'botID':botID})['value']();_0x284713&&dbConfig[_0x3acb77(0x1c0)](_0x3acb77(0x2d1))[_0x3acb77(0x28c)]({'botID':botID})[_0x3acb77(0x354)](_0x56872c)[_0x3acb77(0x370)](),config={..._0x56872c},updateBotManager(),proxyEmit(_0x3acb77(0x320),emittedConfiguration());}async function storeFiat(_0x59cbf4){const _0x49a9ce=_0x524f3b,_0x2d632e={...config,'fiat':_0x59cbf4};let _0x571218=dbConfig[_0x49a9ce(0x1c0)](_0x49a9ce(0x2d1))['find']({'botID':botID})[_0x49a9ce(0x1d8)]();_0x571218&&dbConfig[_0x49a9ce(0x1c0)]('bot')[_0x49a9ce(0x28c)]({'botID':botID})[_0x49a9ce(0x354)](_0x2d632e)['write'](),config={..._0x2d632e},proxyEmit(_0x49a9ce(0x320),emittedConfiguration());}function resetHistory(){const _0x2a54b3=_0x524f3b;logger[_0x2a54b3(0x31a)]('Resetting\x20bot\x20history');try{if(fs['existsSync'](path['join'](configpath,_0x2a54b3(0x292)+botID+_0x2a54b3(0x1c4))))fs[_0x2a54b3(0x2dc)](path[_0x2a54b3(0x1d2)](configpath,_0x2a54b3(0x292)+botID+_0x2a54b3(0x1c4)));if(fs[_0x2a54b3(0x35f)](path['join'](configpath,_0x2a54b3(0x292)+botID+'-performance.json')))fs['unlinkSync'](path[_0x2a54b3(0x1d2)](configpath,'bot-'+botID+'-performance.json'));if(fs[_0x2a54b3(0x35f)](path[_0x2a54b3(0x1d2)](configpath,_0x2a54b3(0x292)+botID+_0x2a54b3(0x1e7))))fs['unlinkSync'](path[_0x2a54b3(0x1d2)](configpath,_0x2a54b3(0x292)+botID+_0x2a54b3(0x1e7)));}catch(_0x1110e7){if(_0x1110e7)logger[_0x2a54b3(0x31a)](_0x2a54b3(0x291),_0x1110e7);}const _0x38f926=getDate();let _0x44a830=[];currentCoins['forEach'](_0x1b549a=>{const _0x356d00=_0x2a54b3;_0x44a830[_0x356d00(0x359)]({'coin':_0x1b549a['coin'],'number':_0x1b549a[_0x356d00(0x1bf)],'price':_0x1b549a['last']});});let _0xfadef5=dbConfig[_0x2a54b3(0x1c0)](_0x2a54b3(0x2d1))['find']({'botID':botID})[_0x2a54b3(0x1d8)]();_0xfadef5&&(dbConfig[_0x2a54b3(0x1c0)](_0x2a54b3(0x2d1))[_0x2a54b3(0x28c)]({'botID':botID})['assign']({'liquidity':[{'date':_0x38f926,'changes':_0x44a830}]})[_0x2a54b3(0x370)](),config[_0x2a54b3(0x30f)]=[]),restartBot(!![]);}function noslash(_0x56c567){const _0x2debb0=_0x524f3b;return _0x56c567[_0x2debb0(0x325)]('/','');}function updateHighestFee(_0x6a716f){const _0x33c772=_0x524f3b;if(_0x6a716f['reverse']){let _0x24c460={'filled':_0x6a716f['filled']*_0x6a716f[_0x33c772(0x1ce)],'amount':_0x6a716f[_0x33c772(0x2ee)]*_0x6a716f['price'],'side':_0x6a716f[_0x33c772(0x1c1)]==_0x33c772(0x2d6)?_0x33c772(0x298):_0x33c772(0x2d6),'price':0x1/_0x6a716f[_0x33c772(0x1ce)]};_0x6a716f={..._0x6a716f,..._0x24c460};}const _0x464bb9=defaultFee*_0x6a716f['filled']*_0x6a716f[_0x33c772(0x1ce)];lastFees['recent20']['length']===0x14&&lastFees['recent20'][_0x33c772(0x2ef)](),lastFees[_0x33c772(0x2fa)][_0x33c772(0x359)](_0x464bb9),lastFees[_0x33c772(0x371)]=Math['max'](...lastFees[_0x33c772(0x2fa)]);}async function updateNumberCoinsCcxt(_0x46ec7c){const _0x128f15=_0x524f3b;logger[_0x128f15(0x34a)](_0x128f15(0x294)+_0x46ec7c[_0x128f15(0x2b9)]+'\x20|\x20'+_0x46ec7c['status']+'\x20|\x20'+_0x46ec7c[_0x128f15(0x2ee)]+_0x128f15(0x25e)+_0x46ec7c[_0x128f15(0x22d)]+_0x128f15(0x219)+_0x46ec7c['id']);let _0x4ebe6b=_0x46ec7c[_0x128f15(0x222)],_0x5f3213=![];currentCoins[_0x128f15(0x2a9)](_0x393c46=>{const _0x4ea703=_0x128f15;_0x393c46[_0x4ea703(0x2b9)]==_0x46ec7c[_0x4ea703(0x2b9)]&&(_0x5f3213=!![]);});if(!_0x5f3213)return;const _0x45491f=currentCoins[_0x128f15(0x28c)](_0x12a0ec=>_0x12a0ec[_0x128f15(0x2b9)]==_0x46ec7c['symbol']),_0x4b173c=_0x2c4f5b=>{const _0x2fe1e4=_0x128f15;if(_0x45491f)_0x45491f[_0x2fe1e4(0x2eb)]=_0x2c4f5b;};let _0x53fb60=![];for(const _0x18e6c2 of lastOrders){const _0x6f6e94=0x64,_0x107da5=0x1388;let _0x32637d=0x0;while(!_0x18e6c2[_0x128f15(0x224)]&&_0x32637d*_0x6f6e94<_0x107da5){_0x32637d++,await sleep(_0x6f6e94);}if(_0x32637d>0x0)logger[_0x128f15(0x34a)]('Waited\x20'+_0x32637d*_0x6f6e94/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');_0x18e6c2[_0x128f15(0x224)]==_0x46ec7c['id']&&(_0x53fb60=!![]);}if(_0x4ebe6b==_0x128f15(0x2a6)){_0x4b173c(_0x128f15(0x2a6));if(_0x46ec7c['filled']>0x0){if(_0x53fb60){setBlockTransactionDetection(!![]),logger[_0x128f15(0x34a)](_0x128f15(0x1d4)+_0x46ec7c['id']);const _0x4aee22=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4aee22,setBlockTransactionDetection(![]);}else logger[_0x128f15(0x34a)](_0x128f15(0x248)+_0x46ec7c['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x4ebe6b==_0x128f15(0x321)){_0x4b173c(_0x128f15(0x321));const _0xc0254d=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xc0254d,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x4ebe6b==_0x128f15(0x2b5)){if(lastOrders)for(const _0x4f7c3f of lastOrders){if(_0x4f7c3f[_0x128f15(0x224)]==_0x46ec7c['id']){logger[_0x128f15(0x34a)](_0x128f15(0x21a)+_0x46ec7c['id']),_0x53fb60=!![];if(_0x4f7c3f[_0x128f15(0x2ee)]==0x0){setBlockTransactionDetection(!![]),logger[_0x128f15(0x34a)](_0x128f15(0x29b)+_0x46ec7c['id']);if(_0x46ec7c[_0x128f15(0x264)])_0x4f7c3f[_0x128f15(0x1ce)]=_0x46ec7c[_0x128f15(0x264)];else{if(_0x46ec7c[_0x128f15(0x1ce)])_0x4f7c3f['price']=_0x46ec7c[_0x128f15(0x1ce)];else{}}_0x4f7c3f[_0x128f15(0x2ee)]=_0x46ec7c['filled'],updateHighestFee(_0x4f7c3f),_0x4b173c('filled'),await validateOrders();if(lockOrders==ORDERS[_0x128f15(0x25d)]){const _0x1df7b1=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1df7b1,setBlockTransactionDetection(![]);}_0x4f7c3f[_0x128f15(0x1db)]={'currency':_0x46ec7c[_0x128f15(0x1db)]?_0x46ec7c[_0x128f15(0x1db)]['currency']:null,'cost':_0x46ec7c['fee']?_0x46ec7c['fee'][_0x128f15(0x21c)]:0x0},await updateCoinResults(_0x4f7c3f);}}}!_0x53fb60&&(logger['debug'](_0x128f15(0x29c)+_0x46ec7c['id']),_0x4b173c('filled'),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x440b35=JSON['parse'](lastBalances[_0x128f15(0x1ed)]);const _0x25b9ca=_0x440b35[_0x128f15(0x28c)](_0x475e2c=>_0x475e2c['symbol']==_0x46ec7c[_0x128f15(0x2b9)]);if(_0x25b9ca){if(_0x4ebe6b==_0x128f15(0x2a6))_0x25b9ca[_0x128f15(0x2eb)]=_0x25b9ca['orderstatus']==_0x128f15(0x2ee)?'filled':_0x128f15(0x2a6);else{if(_0x4ebe6b==_0x128f15(0x321))_0x25b9ca[_0x128f15(0x2eb)]=_0x25b9ca['orderstatus']=='filled'?_0x128f15(0x2ee):_0x128f15(0x321);else _0x4ebe6b==_0x128f15(0x2b5)&&(_0x25b9ca[_0x128f15(0x2eb)]=_0x128f15(0x2ee));}}lastBalances={...lastBalances,'portfolio':JSON[_0x128f15(0x27b)](_0x440b35)},proxyEmit(_0x128f15(0x1cf),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x3bc0c0=_0x524f3b;await getOpenOrders();let _0x45f127=![];currentCoins[_0x3bc0c0(0x2a9)](_0x22280e=>{const _0x2bfb80=_0x3bc0c0;_0x45f127=allOpenOrders[_0x2bfb80(0x28c)](_0x17062b=>_0x17062b[_0x2bfb80(0x2b9)]==_0x22280e[_0x2bfb80(0x2b9)]),_0x22280e[_0x2bfb80(0x2eb)]=_0x45f127?'open':_0x2bfb80(0x2b8);});}async function getCoins(_0x4de1d8=0x0,_0x210e85=!![],_0x506963=config[_0x524f3b(0x345)]){const _0x2a1436=_0x524f3b;let _0x4fcb5d,_0x10439f=[],_0x3231f6=[],_0x3e19ed=[];if(_0x4de1d8)await sleep(_0x4de1d8);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x4fcb5d=await exchange[_0x2a1436(0x22e)](),mybalances=_0x4fcb5d[_0x2a1436(0x1df)];for(const [_0x3c9e26,_0x1c2f8f]of Object[_0x2a1436(0x216)](mybalances)){_0x3e19ed[_0x2a1436(0x359)](_0x3c9e26);}config[_0x2a1436(0x1ed)][_0x2a1436(0x2a9)](_0x5c22a4=>{const _0x4996f8=_0x2a1436;!_0x3e19ed[_0x4996f8(0x316)](_0x5c22a4[_0x4996f8(0x2ae)])&&(mybalances[_0x5c22a4[_0x4996f8(0x2ae)]]=0x0);});if(_0x506963=='')for(const [_0x5820b5,_0x12f8b9]of Object[_0x2a1436(0x216)](mybalances)){_0x12f8b9!=0x0&&_0x10439f[_0x2a1436(0x359)]({'coin':_0x5820b5});}else for(const [_0x34d977,_0x255540]of Object[_0x2a1436(0x216)](mybalances)){const _0x107c77=config[_0x2a1436(0x1ed)]['find'](_0x4c3ed5=>_0x4c3ed5[_0x2a1436(0x2ae)]==_0x34d977),_0x28d813=_0x34d977+'/'+_0x506963,_0x36ee8f=_0x506963+'/'+_0x34d977,_0x556632=currentCoins[_0x2a1436(0x28c)](_0x4e3832=>_0x4e3832[_0x2a1436(0x2ae)]==_0x34d977);if((_0x255540!=0x0||_0x107c77)&&(allSymbols[_0x2a1436(0x316)](_0x28d813)||_0x34d977==_0x506963))_0x556632?_0x10439f['push']({..._0x556632,'number':Math[_0x2a1436(0x1cc)](_0x255540+(_0x107c77&&_0x107c77['offset']||0x0),0x0)}):_0x10439f[_0x2a1436(0x359)]({'coin':_0x34d977,'symbol':_0x28d813,'reverse':![],'number':Math[_0x2a1436(0x1cc)](_0x255540+(_0x107c77&&_0x107c77['offset']||0x0),0x0),'orderstatus':'none'});else{if((_0x255540!=0x0||_0x107c77)&&allSymbols[_0x2a1436(0x316)](_0x36ee8f))_0x556632?_0x10439f['push']({..._0x556632,'number':Math[_0x2a1436(0x1cc)](_0x255540+(_0x107c77&&_0x107c77[_0x2a1436(0x265)]||0x0),0x0)}):_0x10439f['push']({'coin':_0x34d977,'symbol':_0x36ee8f,'reverse':!![],'number':Math['max'](_0x255540+(_0x107c77&&_0x107c77[_0x2a1436(0x265)]||0x0),0x0),'orderstatus':'none'});else _0x107c77&&_0x10439f[_0x2a1436(0x359)]({'coin':_0x107c77[_0x2a1436(0x2ae)],'symbol':_0x107c77[_0x2a1436(0x2b9)],'reverse':_0x107c77['reverse'],'number':0x0,'orderstatus':_0x2a1436(0x2b8)});}}}catch(_0x105256){if(!_0x210e85)handleErrorNoStop(_0x105256,'getCoins()');else await handleError(_0x105256,_0x2a1436(0x37f));}return _0x10439f[_0x2a1436(0x232)]((_0x30d795,_0x2d36b0)=>_0x30d795[_0x2a1436(0x206)]<_0x2d36b0['delta']?0x1:_0x2d36b0[_0x2a1436(0x206)]<_0x30d795[_0x2a1436(0x206)]?-0x1:0x0),_0x3231f6=cloneDeep(_0x10439f),_0x10439f=_0x10439f[_0x2a1436(0x1dc)](_0x19e879=>{const _0x106d85=_0x2a1436,_0x4991b7=config[_0x106d85(0x1ed)][_0x106d85(0x28c)](_0x3dbd0d=>_0x3dbd0d[_0x106d85(0x2ae)]==_0x19e879[_0x106d85(0x2ae)]);return _0x4991b7&&!_0x4991b7[_0x106d85(0x2a5)];}),[_0x10439f,_0x3231f6];}async function getCoinNumber(_0x43d0f0){const _0x169fac=_0x524f3b;let _0x34d704;try{const _0x7d11c9=await exchange[_0x169fac(0x22e)]();_0x34d704=_0x7d11c9['total'][_0x43d0f0];}catch(_0xfb0e22){await handleError(_0xfb0e22,_0x169fac(0x32d));}return _0x34d704;}async function getOpenOrders(){const _0x29d9cd=_0x524f3b;let _0x531cb0;allOpenOrders=[];try{for(const _0x59c293 of config['portfolio']){!_0x59c293[_0x29d9cd(0x2a5)]&&_0x59c293[_0x29d9cd(0x2ae)]!=config[_0x29d9cd(0x345)]&&(_0x531cb0=await exchange['fetchOpenOrders'](_0x59c293[_0x29d9cd(0x2b9)]),_0x531cb0['length']>0x0&&allOpenOrders[_0x29d9cd(0x359)](_0x531cb0[0x0]));}}catch(_0x4433b1){await handleError(_0x4433b1,_0x29d9cd(0x225));}}async function handleOpenOrders(_0x4cf876=0x0){const _0x39edfc=_0x524f3b;allOpenOrders[_0x39edfc(0x326)]==0x0&&lockOrders==ORDERS[_0x39edfc(0x25d)]&&allOrdersPlaced&&(_0x4cf876==0x0?(logger['debug'](_0x39edfc(0x220)),_0x4cf876++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x39edfc(0x34a)](_0x39edfc(0x217)),validateOrders(_0x39edfc(0x22b))));}async function testAPI(_0x259a80){const _0x5f3e36=_0x524f3b,_0x4aea56=ccxt[_0x5f3e36(0x299)][_0x259a80['exchange'][_0x5f3e36(0x2df)]()],_0x435fb3=new _0x4aea56({'apiKey':_0x259a80[_0x5f3e36(0x304)],'secret':_0x259a80[_0x5f3e36(0x34c)],'options':{'defaultType':_0x5f3e36(0x297)}});if(_0x259a80[_0x5f3e36(0x2f8)])_0x435fb3[_0x5f3e36(0x270)]=_0x259a80['apiPassword'];try{await _0x435fb3[_0x5f3e36(0x22e)]();}catch(_0x2a6332){logger[_0x5f3e36(0x34a)](_0x5f3e36(0x37d)+_0x2a6332[_0x5f3e36(0x236)]());throw _0x2a6332;}}function cloneDeep(_0x2ec74c){const _0x56732b=_0x524f3b;return JSON[_0x56732b(0x2f0)](JSON['stringify'](_0x2ec74c));}async function getPortfolio(_0x33b535){const _0x5ca464=_0x524f3b;let _0x5da420=[],_0x4b6a68=[],_0x55027f=[],_0x159cf0;_0x33b535['apiKey']=decryptRSA(secure['privateKey'],_0x33b535[_0x5ca464(0x304)]),_0x33b535[_0x5ca464(0x34c)]=decryptRSA(secure['privateKey'],_0x33b535[_0x5ca464(0x34c)]);if(_0x33b535[_0x5ca464(0x2f8)])_0x33b535['apiPassword']=decryptRSA(secure[_0x5ca464(0x281)],_0x33b535['apiPassword']);if(_0x33b535['apiKey']!=='************'||_0x33b535['apiSecret']!=='************'||_0x33b535['apiPassword']&&_0x33b535[_0x5ca464(0x2f8)]!==_0x5ca464(0x228)){if(config[_0x5ca464(0x302)]){if(_0x33b535['apiKey']==_0x5ca464(0x228))_0x33b535[_0x5ca464(0x304)]=config[_0x5ca464(0x304)];if(_0x33b535[_0x5ca464(0x34c)]==_0x5ca464(0x228))_0x33b535[_0x5ca464(0x34c)]=config[_0x5ca464(0x34c)];if(_0x33b535[_0x5ca464(0x2f8)]==_0x5ca464(0x228))_0x33b535['apiPassword']=config[_0x5ca464(0x2f8)];}try{await testAPI(_0x33b535);}catch(_0x50a7b8){if(_0x50a7b8['toString']()[_0x5ca464(0x316)](_0x5ca464(0x361))){logHistory(_0x5ca464(0x207),_0x5ca464(0x269)),proxyEmit(_0x5ca464(0x24a),![]);return;}else{logHistory(_0x5ca464(0x207),_0x5ca464(0x2cb)),logger[_0x5ca464(0x34a)](_0x5ca464(0x2fd),_0x50a7b8),proxyEmit('portfolio1',![]);return;}}exchange?updateExchange(_0x33b535[_0x5ca464(0x304)],_0x33b535[_0x5ca464(0x34c)],_0x33b535[_0x5ca464(0x2f8)]):await initExchange(_0x33b535[_0x5ca464(0x302)],_0x33b535['apiKey'],_0x33b535[_0x5ca464(0x34c)],_0x33b535['apiPassword']);await loadSymbols();const _0x29ede0=await getCoins(0x0,![],_0x33b535['basecoin']);_0x55027f=cloneDeep(_0x29ede0[0x1]);}else{const _0x57340c=await getCoins();_0x55027f=cloneDeep(_0x57340c[0x1]);}if(_0x33b535[_0x5ca464(0x345)]=='')proxyEmit(_0x5ca464(0x24a),!![]),proxyEmit(_0x5ca464(0x1f6),_0x55027f);else{_0x55027f[_0x5ca464(0x2a9)](_0x4fa841=>{const _0x50f4d4=_0x5ca464;if(_0x4fa841[_0x50f4d4(0x2ae)]!=_0x33b535['basecoin']&&allSymbols[_0x50f4d4(0x316)](_0x4fa841['symbol']))_0x5da420[_0x50f4d4(0x359)](_0x4fa841['symbol']);});if(_0x5da420[_0x5ca464(0x326)]==0x0)logHistory(_0x5ca464(0x207),_0x5ca464(0x22f));else{try{_0x4b6a68=await getTickers(_0x5da420);}catch(_0x1a6b1e){logHistory(_0x5ca464(0x207),_0x5ca464(0x2cb)),logger[_0x5ca464(0x34a)]('Error\x20details\x20(1):',_0x1a6b1e),proxyEmit(_0x5ca464(0x24a),![]);return;}_0x55027f[_0x5ca464(0x2a9)](_0x238a94=>{const _0xb2874f=_0x5ca464;_0x238a94[_0xb2874f(0x2ae)]!=_0x33b535[_0xb2874f(0x345)]?_0x4b6a68[_0x238a94[_0xb2874f(0x2b9)]]?_0x159cf0=_0x238a94[_0xb2874f(0x1da)]?0x1/_0x4b6a68[_0x238a94[_0xb2874f(0x2b9)]][_0xb2874f(0x21d)]:_0x4b6a68[_0x238a94[_0xb2874f(0x2b9)]][_0xb2874f(0x21d)]:_0x159cf0=0x0:_0x159cf0=0x1,_0x238a94[_0xb2874f(0x1ce)]=formatResult(_0x159cf0,0x8);}),await getMarketCap(_0x55027f),proxyEmit(_0x5ca464(0x24a),!![]),proxyEmit(_0x5ca464(0x1f6),_0x55027f);}}}function truncateTradeAmount(_0x53e45f,_0x227a8c){const _0x494074=_0x524f3b;let _0x36d34f=0x0;try{_0x36d34f=exchange[_0x494074(0x25a)](_0x53e45f,_0x227a8c);}catch(_0x3b4aa4){}return _0x36d34f;}function checkMinimums(_0xc422c0){const _0x1cf76b=_0x524f3b;let _0x378fcf=!![];const _0x520ac7=!_0xc422c0[_0x1cf76b(0x1da)]?markets[_0xc422c0[_0x1cf76b(0x2b9)]][_0x1cf76b(0x37a)][_0x1cf76b(0x22d)][_0x1cf76b(0x274)]:markets[_0xc422c0[_0x1cf76b(0x2b9)]][_0x1cf76b(0x37a)][_0x1cf76b(0x21c)][_0x1cf76b(0x274)],_0x874d74=!_0xc422c0[_0x1cf76b(0x1da)]?markets[_0xc422c0[_0x1cf76b(0x2b9)]][_0x1cf76b(0x37a)]['cost']['min']:markets[_0xc422c0['symbol']]['limits']['amount'][_0x1cf76b(0x274)],_0x1e20d7=truncateTradeAmount(_0xc422c0['symbol'],_0xc422c0[_0x1cf76b(0x1d5)]);_0xc422c0[_0x1cf76b(0x1d5)]=_0x1e20d7;if(Math[_0x1cf76b(0x1e2)](_0x1e20d7)<_0x520ac7)_0x378fcf=![];if(Math[_0x1cf76b(0x1e2)](_0x1e20d7)*_0xc422c0[_0x1cf76b(0x21d)]<_0x874d74)_0x378fcf=![];if(_0xc422c0[_0x1cf76b(0x1c1)]=='sell'){let _0x1e1172=config[_0x1cf76b(0x1ed)][_0x1cf76b(0x28c)](_0x43e7a6=>_0x43e7a6[_0x1cf76b(0x2ae)]==_0xc422c0['coin']);if(_0x1e1172[_0x1cf76b(0x265)]>0x0){if(Math[_0x1cf76b(0x1e2)](_0x1e20d7)>_0xc422c0[_0x1cf76b(0x1bf)]-_0x1e1172[_0x1cf76b(0x265)])_0x378fcf=![];}else{if(Math[_0x1cf76b(0x1e2)](_0x1e20d7)>_0xc422c0[_0x1cf76b(0x1bf)])_0x378fcf=![];}}if(_0xc422c0[_0x1cf76b(0x1c1)]==_0x1cf76b(0x298)){let _0x639416=config['portfolio'][_0x1cf76b(0x28c)](_0x58fca4=>_0x58fca4[_0x1cf76b(0x2ae)]==config['basecoin']),_0x1957fa=currentCoins[_0x1cf76b(0x28c)](_0x14b001=>_0x14b001['coin']==config[_0x1cf76b(0x345)]);if(_0x639416[_0x1cf76b(0x265)]>0x0){if(Math['abs'](_0x1e20d7)*_0xc422c0[_0x1cf76b(0x21d)]>_0x1957fa[_0x1cf76b(0x1bf)]-_0x639416[_0x1cf76b(0x265)])_0x378fcf=![];}else{if(Math[_0x1cf76b(0x1e2)](_0x1e20d7)*_0xc422c0[_0x1cf76b(0x21d)]>_0x1957fa[_0x1cf76b(0x1bf)])_0x378fcf=![];}}return _0x378fcf;}async function getBalances(_0x3a9b18=!![]){const _0x29f9e6=_0x524f3b;let _0x49b2df=0x0,_0x2cbd03;const _0x480279=config[_0x29f9e6(0x2c2)];if(config[_0x29f9e6(0x368)]&&config[_0x29f9e6(0x376)]<0x0)await validate24hChanges();currentCoins[_0x29f9e6(0x2a9)](_0x2f4fb4=>{const _0x53c303=_0x29f9e6;if(_0x2f4fb4[_0x53c303(0x2ae)]!=config[_0x53c303(0x345)]){let _0x51392c=gTicker[noslash(_0x2f4fb4[_0x53c303(0x2b9)])];_0x2cbd03=_0x2f4fb4['reverse']?0x1/_0x51392c:_0x51392c;}else _0x2cbd03=0x1;let _0x19e2aa=_0x2f4fb4[_0x53c303(0x1bf)]*_0x2cbd03;_0x49b2df+=_0x19e2aa,_0x2f4fb4['last']=formatResult(Number(_0x2cbd03),0x8),_0x2f4fb4[_0x53c303(0x1d8)]=_0x19e2aa;}),currentCoins[_0x29f9e6(0x2a9)](_0x2877f6=>{const _0x38683a=_0x29f9e6;let _0x3e9fc4=config[_0x38683a(0x1ed)][_0x38683a(0x28c)](_0x161355=>_0x161355[_0x38683a(0x2ae)]==_0x2877f6[_0x38683a(0x2ae)]),_0x1c048c=Number(_0x3e9fc4[_0x38683a(0x381)]),_0x45b500=_0x2877f6[_0x38683a(0x1d8)]/_0x49b2df*0x64,_0x214aca=_0x1c048c*_0x49b2df/0x64/_0x2877f6[_0x38683a(0x21d)]-_0x2877f6[_0x38683a(0x1bf)];_0x2877f6[_0x38683a(0x381)]=formatResult(_0x45b500,0x3),_0x2877f6[_0x38683a(0x342)]=formatResult(_0x1c048c,0x3),_0x2877f6['trade']=formatResult(_0x214aca,0x8),_0x2877f6[_0x38683a(0x1c1)]='',_0x2877f6[_0x38683a(0x243)]=![];if(_0x2877f6[_0x38683a(0x2ae)]!=config['basecoin']){if(_0x2877f6[_0x38683a(0x381)]>_0x1c048c)_0x2877f6[_0x38683a(0x1c1)]=_0x38683a(0x2d6),_0x2877f6[_0x38683a(0x243)]=checkMinimums(_0x2877f6);else _0x2877f6['distribution']<_0x1c048c&&(_0x2877f6[_0x38683a(0x1c1)]=_0x38683a(0x298),_0x2877f6['valid']=checkMinimums(_0x2877f6));}_0x2877f6[_0x38683a(0x206)]=_0x2877f6[_0x38683a(0x381)]/_0x2877f6['target']-0x1;if(_0x2877f6[_0x38683a(0x2eb)]=='filled'||_0x2877f6[_0x38683a(0x2eb)]=='canceled')_0x2877f6[_0x38683a(0x2eb)]=_0x38683a(0x2b8);}),currentCoins[_0x29f9e6(0x232)]((_0x357455,_0x52c4a7)=>_0x357455['delta']<_0x52c4a7[_0x29f9e6(0x206)]?0x1:_0x52c4a7[_0x29f9e6(0x206)]<_0x357455[_0x29f9e6(0x206)]?-0x1:0x0);const _0x4a1fb0=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4a1fb0[_0x29f9e6(0x246)],'usd':_0x4a1fb0['usd'],'portfolio':JSON[_0x29f9e6(0x27b)](currentCoins),'threshold':_0x480279},proxyEmit(_0x29f9e6(0x1cf),{'serverversion':serverversion,'balances':lastBalances});if(_0x3a9b18){if(config[_0x29f9e6(0x368)])headlessMode({'portfolio':currentCoins,'threshold':_0x480279});else{if(lockOrders==ORDERS[_0x29f9e6(0x2e9)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x480279});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x540668=getNormalizedPerformance();getStartingBalances(_0x540668),emitPerformance(_0x540668);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1ed534=_0x524f3b;if(!lastBalances)return;let _0x4f19c1=[],_0xda36a1,_0x49b472=JSON['parse'](lastBalances['portfolio']);_0x49b472[_0x1ed534(0x232)]((_0x70580a,_0x3b47ba)=>_0x70580a[_0x1ed534(0x2ae)]>_0x3b47ba[_0x1ed534(0x2ae)]?0x1:_0x3b47ba['coin']>_0x70580a[_0x1ed534(0x2ae)]?-0x1:0x0),_0x49b472[_0x1ed534(0x2a9)](_0x41214d=>{const _0x3aed17=_0x1ed534;let _0x374bd1={'coin':_0x41214d['coin'],'number':_0x41214d['number'],'price':_0x41214d[_0x3aed17(0x21d)]};_0x4f19c1[_0x3aed17(0x359)](_0x374bd1);});const _0x1ee195=await getFiat();_0xda36a1={'date':lastBalances[_0x1ed534(0x229)]['split']('\x20')[0x0],'eur':_0x1ee195[_0x1ed534(0x246)],'usd':_0x1ee195['usd'],'coins':_0x4f19c1};let _0x9c2364=dbPerformance[_0x1ed534(0x1c0)]('data')[_0x1ed534(0x28c)]({'date':_0xda36a1['date']})[_0x1ed534(0x1d8)]();_0x9c2364?_0xda36a1[_0x1ed534(0x2ff)]!=config[_0x1ed534(0x348)]&&dbPerformance[_0x1ed534(0x1c0)](_0x1ed534(0x35b))[_0x1ed534(0x28c)]({'date':_0xda36a1[_0x1ed534(0x2ff)]})[_0x1ed534(0x354)](_0xda36a1)[_0x1ed534(0x370)]():dbPerformance[_0x1ed534(0x1c0)]('data')[_0x1ed534(0x359)](_0xda36a1)[_0x1ed534(0x370)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3af3f8=_0x524f3b;let _0x5c3d00=[];if(dbPerformance[_0x3af3f8(0x226)](_0x3af3f8(0x35b))[_0x3af3f8(0x1d8)]()){let _0x4f01a7=dbPerformance[_0x3af3f8(0x1c0)]('data')[_0x3af3f8(0x31e)]()['filter'](_0x5060d3=>{const _0x3269ed=_0x3af3f8;if(_0x5060d3['coins'][_0x3269ed(0x326)]==0x0)return![];else return!![];})[_0x3af3f8(0x218)](_0x3af3f8(0x2ff))[_0x3af3f8(0x1d8)](),_0x5b81e7=[...config[_0x3af3f8(0x30f)]];_0x5b81e7['sort']((_0x26ea7d,_0x1802c0)=>_0x26ea7d[_0x3af3f8(0x2ff)]>_0x1802c0[_0x3af3f8(0x2ff)]?-0x1:_0x1802c0[_0x3af3f8(0x2ff)]>_0x26ea7d[_0x3af3f8(0x2ff)]?0x1:0x0);let _0x272fe4=0x1,_0x4c2d5e=[],_0x4cb3be=0x0;_0x4f01a7[_0x3af3f8(0x26a)]()[_0x3af3f8(0x1da)]()['forEach']((_0xd93731,_0x5a4900)=>{const _0x5a3690=_0x3af3f8;if(_0x5b81e7[_0x4cb3be]){if(_0x4f01a7[_0x4f01a7[_0x5a3690(0x326)]-_0x5a4900]&&_0x5b81e7[_0x4cb3be][_0x5a3690(0x2ff)]==_0x4f01a7[_0x4f01a7[_0x5a3690(0x326)]-_0x5a4900][_0x5a3690(0x2ff)]){if(_0x5a4900<_0x4f01a7[_0x5a3690(0x326)]){let _0x5a9664=0x0,_0x397409=0x0;_0x4f01a7[_0x4f01a7[_0x5a3690(0x326)]-_0x5a4900]['coins'][_0x5a3690(0x2a9)](_0x5f23f8=>{const _0x149246=_0x5a3690;_0x397409+=_0x5f23f8[_0x149246(0x1bf)]*_0x5f23f8['price'];}),_0x5b81e7[_0x4cb3be][_0x5a3690(0x32f)]['forEach'](_0xcafadf=>{const _0x1d5e3b=_0x5a3690;_0x5a9664+=_0xcafadf[_0x1d5e3b(0x1bf)]*_0xcafadf[_0x1d5e3b(0x1ce)];}),_0x272fe4*=_0x5a9664/(_0x397409-_0x5a9664)+0x1;}_0x4cb3be++;}}let _0x2e8221=0x0;_0xd93731['coins'][_0x5a3690(0x2a9)](_0x451c5a=>{const _0x33c450=_0x5a3690;_0x2e8221+=_0x451c5a[_0x33c450(0x1bf)]*_0x451c5a['price'];}),_0x4c2d5e[_0x4f01a7[_0x5a3690(0x326)]-_0x5a4900-0x1]=_0x2e8221*(_0x272fe4-0x1);});let _0x41a493=[];_0x5b81e7=[...config['liquidity']]||[];let _0x27361c=0x0;_0x4cb3be=0x0,_0x4f01a7['forEach']((_0x3105a7,_0x18bc8a)=>{const _0x583e22=_0x3af3f8;if(_0x5b81e7[_0x4cb3be]){const _0x52f7ec=fns[_0x583e22(0x2f0)](_0x5b81e7[_0x4cb3be][_0x583e22(0x2ff)],_0x583e22(0x1e5),new Date()),_0x229e87=fns[_0x583e22(0x2f0)](_0x3105a7[_0x583e22(0x2ff)],_0x583e22(0x1e5),new Date());if(fns[_0x583e22(0x249)](_0x52f7ec,_0x229e87)){let _0x5aa116=0x0;_0x5b81e7[_0x4cb3be][_0x583e22(0x32f)]['forEach'](_0x532bf8=>{const _0x36a00a=_0x583e22;!_0x41a493[_0x532bf8[_0x36a00a(0x2ae)]]?_0x41a493[_0x532bf8[_0x36a00a(0x2ae)]]=_0x532bf8['number']:(_0x5aa116=_0x41a493[_0x532bf8[_0x36a00a(0x2ae)]],_0x41a493[_0x532bf8[_0x36a00a(0x2ae)]]+=_0x532bf8[_0x36a00a(0x1bf)]);const _0x380730=_0x3105a7['coins'][_0x36a00a(0x28c)](_0xee34c5=>_0xee34c5['coin']==_0x532bf8[_0x36a00a(0x2ae)]);(!_0x380730||_0x380730[_0x36a00a(0x1bf)]==0x0)&&(_0x27361c+=(-_0x532bf8[_0x36a00a(0x1bf)]-_0x5aa116)*_0x532bf8['price']);}),_0x4cb3be++;}}_0x3105a7[_0x583e22(0x250)][_0x583e22(0x2a9)]((_0x55536e,_0x2b1a6f)=>{const _0x58f59e=_0x583e22;_0x41a493[_0x55536e[_0x58f59e(0x2ae)]]&&(_0x55536e['initial']=_0x41a493[_0x55536e['coin']]);}),_0x5c3d00[_0x583e22(0x359)]({'date':_0x3105a7[_0x583e22(0x2ff)],'eur':_0x3105a7[_0x583e22(0x246)],'usd':_0x3105a7[_0x583e22(0x289)],'offset':_0x4c2d5e[_0x18bc8a],'netoffset':_0x27361c,'coins':_0x3105a7[_0x583e22(0x250)]});});}return _0x5c3d00;}function emitPerformance(_0x1032b4){const _0x41967c=_0x524f3b;_0x1032b4[_0x41967c(0x326)]!==0x0?(proxyEmit('performance',_0x1032b4),lastPerformanceEmitted=getDate()):proxyEmit(_0x41967c(0x338),[]);}function getPerf(_0x3a2756,_0x1926fd){const _0x292303=_0x524f3b;let _0xa99ab5=0x0,_0x1c33f6=0x0,_0x533d94=0x0;_0x3a2756[_0x292303(0x250)][_0x292303(0x2a9)](_0x228b6e=>{const _0x3fd66e=_0x292303;_0xa99ab5+=_0x228b6e[_0x3fd66e(0x1bf)]*_0x228b6e['price'];});_0x1926fd&&(_0xa99ab5+=_0x3a2756['offset']);if(config[_0x292303(0x345)]===_0x292303(0x2af)||config[_0x292303(0x345)]===_0x292303(0x31d)||config[_0x292303(0x345)]===_0x292303(0x2b7))_0x1c33f6=_0xa99ab5*_0x3a2756['eur'],_0x533d94=_0xa99ab5*_0x3a2756[_0x292303(0x289)];else{if(usdBasecoins[_0x292303(0x316)](config[_0x292303(0x345)]))_0x1c33f6=_0xa99ab5*_0x3a2756['eur']/_0x3a2756[_0x292303(0x289)],_0x533d94=_0xa99ab5;else config[_0x292303(0x345)]===_0x292303(0x2c7)&&(_0x1c33f6=_0xa99ab5,_0x533d94=_0xa99ab5*_0x3a2756[_0x292303(0x289)]/_0x3a2756[_0x292303(0x246)]);}return[_0xa99ab5,_0x1c33f6,_0x533d94];}function getKPIs(_0xbd5f3e,_0x562689=_0x524f3b(0x2c7)){const _0x4f8df9=_0x524f3b,_0x345f8b=config[_0x4f8df9(0x345)],_0x36de0c=lastBalances,_0xc0a4df=currentCoins,_0x1697f3=getNormalizedPerformance(),_0x85dc4b=_0xbd5f3e===_0x4f8df9(0x345)?_0x345f8b:_0xbd5f3e===_0x4f8df9(0x30d)||_0xbd5f3e===_0x4f8df9(0x256)?_0x562689:_0x4f8df9(0x28b)+_0x345f8b,_0x5c067e=_0xbd5f3e===_0x4f8df9(0x27a)?_0x4f8df9(0x2ea):_0xbd5f3e===_0x4f8df9(0x256)?'Net\x20effect':_0x85dc4b+_0x4f8df9(0x32a),_0x1ffe9f=_0xbd5f3e===_0x4f8df9(0x27a)||_0xbd5f3e===_0x4f8df9(0x256)?_0x4f8df9(0x2ea):_0x85dc4b+_0x4f8df9(0x309);let _0x76697e=0x0;_0xc0a4df[_0x4f8df9(0x2a9)](_0x282c02=>{const _0x248e6e=_0x4f8df9;_0x76697e+=_0x282c02[_0x248e6e(0x1bf)]*_0x282c02['last'];});if(_0xbd5f3e===_0x4f8df9(0x30d)||_0xbd5f3e===_0x4f8df9(0x256)){if(_0x345f8b===_0x4f8df9(0x2af)||_0x345f8b===_0x4f8df9(0x31d)||_0x345f8b===_0x4f8df9(0x2b7))_0x76697e=_0x76697e*(_0x562689===_0x4f8df9(0x2c7)?_0x36de0c['eur']:_0x36de0c[_0x4f8df9(0x289)]);else{if(usdBasecoins['includes'](_0x345f8b))_0x76697e=_0x76697e*(_0x562689===_0x4f8df9(0x2c7)?_0x36de0c[_0x4f8df9(0x246)]/_0x36de0c[_0x4f8df9(0x289)]:0x1);else _0x345f8b==='EUR'&&(_0x76697e=_0x76697e*(_0x562689===_0x4f8df9(0x2c7)?0x1:_0x36de0c[_0x4f8df9(0x289)]/_0x36de0c[_0x4f8df9(0x246)]));}}let _0xf794be;if(_0x76697e!==0x0){if(_0xbd5f3e===_0x4f8df9(0x345))_0xf794be=(_0x76697e/startingBalances[_0x4f8df9(0x345)]-0x1)*0x64;else{if(_0x562689===_0x4f8df9(0x2c7))_0xf794be=(_0x76697e/startingBalances[_0x4f8df9(0x246)]-0x1)*0x64;else _0xf794be=(_0x76697e/startingBalances[_0x4f8df9(0x289)]-0x1)*0x64;}let _0x481a2c=0x0;if(startingBalances[_0x4f8df9(0x250)])_0xc0a4df[_0x4f8df9(0x2a9)](_0x32bdbe=>{const _0x4b2eb9=_0x4f8df9;let _0x29ba83=startingBalances[_0x4b2eb9(0x250)][_0x4b2eb9(0x28c)](_0xe218b2=>_0xe218b2['coin']===_0x32bdbe['coin']);if(_0x29ba83&&_0x29ba83[_0x4b2eb9(0x2ae)]&&_0x32bdbe['number']!==0x0)_0x481a2c+=_0x29ba83['number']*_0x32bdbe[_0x4b2eb9(0x21d)];});let _0x162efa=0x0;if(_0x1697f3[_0x4f8df9(0x326)]!==0x0){let _0x4f7e04=_0x1697f3[_0x1697f3[_0x4f8df9(0x326)]-0x1];_0x162efa=_0x4f7e04['netoffset'];}_0x481a2c-=_0x162efa;_0xbd5f3e===_0x4f8df9(0x27a)&&(_0xf794be=(_0x76697e-_0x481a2c)/startingBalances[_0x4f8df9(0x345)]*0x64,_0x76697e=_0x76697e-_0x481a2c);if(_0xbd5f3e===_0x4f8df9(0x256)){let _0x441b5c=_0x562689===_0x4f8df9(0x2c7)?startingBalances['eur']:startingBalances[_0x4f8df9(0x289)];if(_0x345f8b===_0x4f8df9(0x2af)||_0x345f8b===_0x4f8df9(0x31d)||_0x345f8b===_0x4f8df9(0x2b7))_0x481a2c=_0x562689===_0x4f8df9(0x2c7)?_0x481a2c*_0x36de0c[_0x4f8df9(0x246)]:_0x481a2c*_0x36de0c['usd'];else{if(usdBasecoins[_0x4f8df9(0x316)](_0x345f8b))_0x481a2c=_0x562689===_0x4f8df9(0x2c7)?_0x481a2c*_0x36de0c[_0x4f8df9(0x246)]/_0x36de0c[_0x4f8df9(0x289)]:_0x481a2c;else _0x345f8b===_0x4f8df9(0x2c7)&&(_0x481a2c=_0x562689===_0x4f8df9(0x2c7)?_0x481a2c:_0x481a2c*_0x36de0c['usd']/_0x36de0c['eur']);}_0xf794be=(_0x76697e-_0x481a2c)/_0x441b5c*0x64,_0x76697e=_0x76697e-_0x481a2c;}if(_0xf794be){if(_0xf794be<0x64)_0xf794be=_0xf794be['toFixed'](0x2);else{if(_0xf794be<0x3e8)_0xf794be=_0xf794be['toFixed'](0x1);else _0xf794be=_0xf794be[_0x4f8df9(0x30e)](0x0);}}else _0xf794be=Number('0')['toFixed'](0x2);if(_0x76697e){if(Math[_0x4f8df9(0x1e2)](_0x76697e)<0.000001)_0x76697e=_0x76697e[_0x4f8df9(0x30e)](0x2);else{if(Math[_0x4f8df9(0x1e2)](_0x76697e)<0.1)_0x76697e=_0x76697e['toFixed'](0x6);else{if(Math['abs'](_0x76697e)<0x1)_0x76697e=_0x76697e[_0x4f8df9(0x30e)](0x5);else{if(Math[_0x4f8df9(0x1e2)](_0x76697e)<0xa)_0x76697e=_0x76697e[_0x4f8df9(0x30e)](0x4);else{if(Math[_0x4f8df9(0x1e2)](_0x76697e)<0x64)_0x76697e=_0x76697e[_0x4f8df9(0x30e)](0x3);else{if(Math[_0x4f8df9(0x1e2)](_0x76697e)<0x3e8)_0x76697e=_0x76697e['toFixed'](0x2);else _0x76697e=_0x76697e[_0x4f8df9(0x30e)](0x2);}}}}}}else _0x76697e=Number('0')[_0x4f8df9(0x30e)](0x2);}else _0xf794be=Number('0')[_0x4f8df9(0x30e)](0x2);return{'value':_0x76697e,'change':_0xf794be,'leftTxt':_0x5c067e,'rightTxt':_0x1ffe9f};}async function getStartingBalances(_0x30f540,_0x10d3e8=!![]){const _0x2b4a56=_0x524f3b;if(_0x30f540[_0x2b4a56(0x326)]!==0x0){const [_0xed5af4,_0x3b2f82,_0xe655c9]=getPerf(_0x30f540[0x0],!![]);let _0x197cd9=[];config[_0x2b4a56(0x1ed)][_0x2b4a56(0x2a9)](_0x2adb54=>{const _0x45870d=_0x2b4a56;let _0x44ffde=0x0,_0x1809f7;config['liquidity'][_0x45870d(0x2a9)](_0x45c01d=>{const _0x190110=_0x45870d;let _0x4f1792=_0x45c01d['changes'][_0x190110(0x28c)](_0x5007a4=>_0x5007a4['coin']==_0x2adb54[_0x190110(0x2ae)]);if(_0x4f1792){_0x44ffde+=_0x4f1792[_0x190110(0x1bf)];if(!_0x1809f7)_0x1809f7=_0x4f1792['price'];}}),_0x197cd9[_0x45870d(0x359)]({'coin':_0x2adb54[_0x45870d(0x2ae)],'number':_0x44ffde,'initialprice':_0x1809f7});});const _0x11607f={'basecoin':_0xed5af4,'eur':_0x3b2f82,'usd':_0xe655c9,'coins':_0x197cd9};if(_0x10d3e8)proxyEmit(_0x2b4a56(0x1de),_0x11607f);startingBalances=_0x11607f;}}function headlessMode(_0x2fe925){const _0x4cdecc=_0x524f3b;let _0x3ba451=_0x2fe925[_0x4cdecc(0x1ed)],_0x48af4a=_0x2fe925['threshold'],_0xbea355=[];for(let _0xdf09e3 of _0x3ba451){if(_0xdf09e3[_0x4cdecc(0x2ae)]!=config[_0x4cdecc(0x345)]){if(_0xdf09e3[_0x4cdecc(0x206)]>=_0x48af4a/0x64){if(_0xdf09e3[_0x4cdecc(0x243)])_0xbea355[_0x4cdecc(0x359)](_0xdf09e3);}else{if(_0xdf09e3[_0x4cdecc(0x206)]<=-_0x48af4a/0x64){if(_0xdf09e3['valid'])_0xbea355[_0x4cdecc(0x359)](_0xdf09e3);}}}}_0xbea355[_0x4cdecc(0x326)]>0x0&&(lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&_0xbea355[_0x4cdecc(0x2a9)](_0x579003=>{const _0x2c9648=_0x4cdecc;_0x579003[_0x2c9648(0x1bf)]!=prevAmountAtOrder[_0x579003['coin']]?logger[_0x2c9648(0x34a)](_0x2c9648(0x330)+_0x579003['coin']+'\x20'+_0x579003['number']+'\x20'+_0x579003[_0x2c9648(0x21d)]+'\x20'+_0x579003['distribution']+'%\x20'+_0x579003[_0x2c9648(0x342)]+'%\x20'+(0x64*_0x579003[_0x2c9648(0x206)])[_0x2c9648(0x30e)](0x2)+_0x2c9648(0x25f)+_0x48af4a['toFixed'](0x2)+'%)'):logger[_0x2c9648(0x34a)](_0x2c9648(0x2a1)+_0x579003[_0x2c9648(0x2ae)]+'\x20'+_0x579003[_0x2c9648(0x1bf)]+'\x20'+_0x579003[_0x2c9648(0x21d)]+'\x20'+_0x579003['distribution']+'%\x20'+_0x579003[_0x2c9648(0x342)]+'%\x20'+(0x64*_0x579003[_0x2c9648(0x206)])[_0x2c9648(0x30e)](0x2)+'%\x20('+_0x48af4a[_0x2c9648(0x30e)](0x2)+'%)'),prevAmountAtOrder[_0x579003[_0x2c9648(0x2ae)]]=_0x579003['number'];}),placeOrder(_0xbea355));}function notifyBalance(_0x11fb43){const _0x284349=_0x524f3b;let _0xe83248=_0x11fb43[_0x284349(0x1ed)],_0x23e2e6=_0x11fb43['threshold'],_0x257987=[];for(let _0x42e80f of _0xe83248){if(_0x42e80f[_0x284349(0x2ae)]!=config['basecoin']){if(_0x42e80f[_0x284349(0x206)]>=_0x23e2e6/0x64){if(_0x42e80f[_0x284349(0x243)])_0x257987['push'](_0x42e80f);}else{if(_0x42e80f[_0x284349(0x206)]<=-_0x23e2e6/0x64){if(_0x42e80f[_0x284349(0x243)])_0x257987[_0x284349(0x359)](_0x42e80f);}}}}if(_0x257987[_0x284349(0x326)]>0x0){let _0x3a6bcc=_0x257987['map'](_0x27b17e=>_0x27b17e[_0x284349(0x2ae)]);_0x3a6bcc[_0x284349(0x232)]();let _0xbc07c6=_0x3a6bcc['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x284349(0x2fc));lastCoinsToBalance=_0xbc07c6;}}function symbolToCoin(_0x10f520){const _0x3db8fe=_0x524f3b;let _0x25e8a6;if(_0x10f520[_0x3db8fe(0x316)]('/'+config[_0x3db8fe(0x345)]))_0x25e8a6=_0x10f520[_0x3db8fe(0x325)]('/'+config[_0x3db8fe(0x345)],'');if(_0x10f520[_0x3db8fe(0x316)](config['basecoin']+'/'))_0x25e8a6=_0x10f520[_0x3db8fe(0x325)](config[_0x3db8fe(0x345)]+'/','');return _0x25e8a6;}async function unlockOrders(){const _0x35a493=_0x524f3b;if(allOrdersPlaced&&lockOrders==ORDERS[_0x35a493(0x25d)]){logger[_0x35a493(0x34a)](_0x35a493(0x241)),lockOrders=ORDERS[_0x35a493(0x29a)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x215fb6=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x215fb6,setBlockTransactionDetection(![]),validateOrdersState=_0x35a493(0x1dd),persistOpenOrders([]),lockOrders=ORDERS[_0x35a493(0x2e9)],logger[_0x35a493(0x34a)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x49b877){const _0x49258c=_0x524f3b;if(_0x49b877)validateOrdersState=_0x49b877;logger[_0x49258c(0x34a)](_0x49258c(0x2aa)+validateOrdersState+_0x49258c(0x300)+(lockOrders==0x1?_0x49258c(0x233):lockOrders==0x2?_0x49258c(0x283):'ORDERS.UNLOCKED'));let _0x1ffcf6=[],_0x28c7b6=config[_0x49258c(0x1c9)]==_0x49258c(0x2bd)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x49258c(0x37b)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x49258c(0x25d)])return;logger[_0x49258c(0x34a)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x49258c(0x2a9)](_0x70dbdb=>{const _0x1446ee=_0x49258c;let _0xe8b723=![];_0x70dbdb[_0x1446ee(0x2ee)]>0x0&&(_0xe8b723=!![]),_0x1ffcf6[_0x1446ee(0x359)](_0xe8b723),_0xe8b723&&config[_0x1446ee(0x1c9)]!=_0x1446ee(0x2bd)&&logHistory(_0x1446ee(0x2e0),'Order\x20filled:\x20'+_0x70dbdb[_0x1446ee(0x2b9)]+'\x20'+_0x70dbdb[_0x1446ee(0x1c1)]+'\x20#'+formatResult(_0x70dbdb[_0x1446ee(0x2ee)],0x8)+'\x20@'+formatResult(_0x70dbdb[_0x1446ee(0x1ce)],0x8));}),_0x1ffcf6[_0x49258c(0x2a9)]((_0x2d22fd,_0x31ea51)=>{const _0x3eecc0=_0x49258c;if(_0x2d22fd)lastOrders[_0x3eecc0(0x317)](_0x31ea51,0x1);}),persistOpenOrders(lastOrders);const _0x2eafc5=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':'balancing\x20resumed';if(validateOrdersState==_0x49258c(0x1dd)){validateOrdersState=_0x49258c(0x27d);if(_0x1ffcf6[_0x49258c(0x316)](![])){if(config[_0x49258c(0x1c9)]==_0x49258c(0x2bd)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x49258c(0x27d)){if(_0x1ffcf6[_0x49258c(0x316)](![])){}else{if(allOrdersPlaced){if(config[_0x49258c(0x1c9)]==_0x49258c(0x2bd)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x49258c(0x327))_0x1ffcf6[_0x49258c(0x316)](![])&&(config[_0x49258c(0x1c9)]==_0x49258c(0x2bd)?logHistory(_0x49258c(0x324),_0x49258c(0x333)+Math[_0x49258c(0x2ed)](_0x28c7b6*validateOrderInterval/0xea60)+_0x49258c(0x295)+_0x2eafc5):(await cancelOrders(),logHistory(_0x49258c(0x324),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x28c7b6*validateOrderInterval/0xea60)+_0x49258c(0x295)+_0x2eafc5))),await unlockOrders();else{if(validateOrdersState==_0x49258c(0x22b)){if(config[_0x49258c(0x1c9)]!=_0x49258c(0x2bd))logHistory(_0x49258c(0x324),_0x49258c(0x2ca)+_0x2eafc5);await unlockOrders();}}}}}async function cancelOrders(){const _0x211ada=_0x524f3b;lastOrders[_0x211ada(0x2a9)](async _0x55b136=>{const _0x55feb0=_0x211ada;try{const _0x16c24b=await exchange[_0x55feb0(0x2fb)](_0x55b136[_0x55feb0(0x224)],_0x55b136[_0x55feb0(0x2b9)]);}catch(_0x189d27){if(_0x189d27[_0x55feb0(0x236)]()[_0x55feb0(0x316)]('OrderNotFound')){}else await handleError(_0x189d27,_0x55feb0(0x2a2));}});}async function initCoinResults(_0x2ab7aa){const _0x550c3e=_0x524f3b;_0x2ab7aa?logger[_0x550c3e(0x34a)](_0x550c3e(0x26f)+_0x2ab7aa):logger[_0x550c3e(0x34a)](_0x550c3e(0x2ad)),config['portfolio'][_0x550c3e(0x2a9)](_0x2ac44f=>{const _0x25a01e=_0x550c3e;if(!_0x2ac44f[_0x25a01e(0x2a5)]&&_0x2ac44f['coin']!=config[_0x25a01e(0x345)]){const _0xe491a0=currentCoins[_0x25a01e(0x28c)](_0x12cd74=>_0x12cd74[_0x25a01e(0x2ae)]==_0x2ac44f[_0x25a01e(0x2ae)]),_0x242297=gTicker[noslash(_0x2ac44f[_0x25a01e(0x2b9)])];let _0x59097b=_0xe491a0?_0xe491a0[_0x25a01e(0x1bf)]:null,_0x2f784a=_0x2ac44f[_0x25a01e(0x1da)]?0x1/_0x242297:_0x242297,_0xf7a6a6;config[_0x25a01e(0x30f)]['forEach'](_0x44d8ee=>{const _0x4b7ebb=_0x25a01e;!_0xf7a6a6&&(_0xf7a6a6=_0x44d8ee[_0x4b7ebb(0x32f)][_0x4b7ebb(0x28c)](_0x51c3e6=>_0x51c3e6[_0x4b7ebb(0x2ae)]==_0x2ac44f[_0x4b7ebb(0x2ae)]),_0xf7a6a6&&(_0x59097b=_0xf7a6a6['number'],_0x2f784a=_0xf7a6a6[_0x4b7ebb(0x1ce)]));});let _0x1b873b=dbCoinResults[_0x25a01e(0x1c0)](_0x25a01e(0x250))[_0x25a01e(0x28c)]({'coin':_0x2ac44f[_0x25a01e(0x2ae)]})[_0x25a01e(0x1d8)]();if(!_0x1b873b){const _0x3d7965={'coin':_0x2ac44f[_0x25a01e(0x2ae)],'number':_0x59097b,'breakeven':_0x2f784a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x25a01e(0x1c0)](_0x25a01e(0x250))[_0x25a01e(0x359)](_0x3d7965)['write']();}else{if(_0x2ab7aa&&_0x2ac44f['coin']==_0x2ab7aa){const _0x3589cf={'coin':_0x2ac44f['coin'],'number':_0x59097b,'breakeven':_0x2f784a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x25a01e(0x1c0)](_0x25a01e(0x250))['find']({'coin':_0x2ac44f['coin']})[_0x25a01e(0x354)](_0x3589cf)[_0x25a01e(0x370)]();}}}});}async function updateCoinResults(_0x60d601,_0x386c9a=![]){const _0x531064=_0x524f3b;let _0x3a4994,_0x48dd6b,_0x307d5d,_0x2df72b,_0x449583,_0x3f380f,_0x9cbc06=dbCoinResults[_0x531064(0x1c0)](_0x531064(0x250))['find']({'coin':_0x60d601[_0x531064(0x2ae)]})['value'](),_0x5ec66f=![];_0x9cbc06&&Object[_0x531064(0x216)](_0x9cbc06)[_0x531064(0x2a9)](([_0x5816f2,_0x173878])=>{if(_0x173878==null)_0x5ec66f=!![];});(!_0x9cbc06||_0x5ec66f)&&(await initCoinResults(_0x60d601[_0x531064(0x2ae)]),_0x9cbc06=dbCoinResults[_0x531064(0x1c0)]('coins')[_0x531064(0x28c)]({'coin':_0x60d601[_0x531064(0x2ae)]})['value']());_0x60d601[_0x531064(0x1da)]&&(_0x3f380f={'filled':_0x60d601[_0x531064(0x2ee)]*_0x60d601[_0x531064(0x1ce)],'amount':_0x60d601[_0x531064(0x2ee)]*_0x60d601['price'],'side':_0x60d601[_0x531064(0x1c1)]==_0x531064(0x2d6)?'buy':_0x531064(0x2d6),'price':0x1/_0x60d601[_0x531064(0x1ce)]},_0x60d601={..._0x60d601,..._0x3f380f});_0x386c9a?_0x48dd6b=_0x60d601['side']==_0x531064(0x298)?_0x9cbc06[_0x531064(0x1bf)]+_0x60d601['filled']:_0x9cbc06['number']-_0x60d601[_0x531064(0x2ee)]:_0x48dd6b=await getCoinNumber(_0x60d601[_0x531064(0x2ae)]);if(_0x60d601['fee']&&_0x60d601['fee']['currency']==config[_0x531064(0x345)])_0x3a4994=Number(_0x60d601[_0x531064(0x1db)][_0x531064(0x21c)]);else{if(_0x60d601['fee']&&_0x60d601[_0x531064(0x1db)][_0x531064(0x32e)]==_0x531064(0x257)&&!_0x386c9a&&config[_0x531064(0x345)]!=_0x531064(0x2b7))_0x3a4994=Number(_0x60d601[_0x531064(0x1db)]['cost'])*gTicker[_0x531064(0x257)+config['basecoin']];else _0x3a4994=defaultFee*_0x60d601['filled']*_0x60d601[_0x531064(0x1ce)];}_0x60d601[_0x531064(0x1c1)]==_0x531064(0x298)?(_0x307d5d=_0x48dd6b!=0x0?(_0x9cbc06['breakeven']*_0x9cbc06[_0x531064(0x1bf)]+_0x60d601['price']*(_0x48dd6b-_0x9cbc06['number'])+_0x3a4994)/_0x48dd6b:0x0,_0x2df72b=_0x9cbc06[_0x531064(0x2c4)]):(_0x307d5d=_0x48dd6b!=0x0?(_0x9cbc06[_0x531064(0x343)]*_0x9cbc06[_0x531064(0x1bf)]-_0x60d601[_0x531064(0x1ce)]*(_0x9cbc06[_0x531064(0x1bf)]-_0x48dd6b)+_0x3a4994)/_0x48dd6b:0x0,_0x2df72b=_0x9cbc06[_0x531064(0x2c4)]+(_0x60d601[_0x531064(0x1ce)]-_0x9cbc06[_0x531064(0x343)])*_0x60d601[_0x531064(0x2ee)]);_0x449583=(_0x60d601[_0x531064(0x1ce)]-_0x307d5d-_0x3a4994/_0x60d601[_0x531064(0x2ee)])*_0x48dd6b;let _0x5335bf={'coin':_0x60d601[_0x531064(0x2ae)],'number':_0x48dd6b,'breakeven':formatResult(_0x307d5d,0x8),'realized':formatResult(_0x2df72b,0x8),'unrealized':formatResult(_0x449583,0x8),'fees':formatResult(_0x9cbc06['fees']+_0x3a4994,0x8),'sells':_0x60d601[_0x531064(0x1c1)]==_0x531064(0x2d6)?_0x9cbc06[_0x531064(0x35a)]+0x1:_0x9cbc06[_0x531064(0x35a)],'buys':_0x60d601[_0x531064(0x1c1)]=='buy'?_0x9cbc06[_0x531064(0x30b)]+0x1:_0x9cbc06['buys']};dbCoinResults['get'](_0x531064(0x250))[_0x531064(0x28c)]({'coin':_0x60d601[_0x531064(0x2ae)]})[_0x531064(0x354)](_0x5335bf)[_0x531064(0x370)]();if(!_0x386c9a){if(_0x60d601['fee']&&_0x60d601['fee']['currency']==_0x531064(0x257)){const _0x132e0e=currentCoins['find'](_0x2c4dd4=>_0x2c4dd4[_0x531064(0x2ae)]==_0x531064(0x257));if(_0x132e0e){let _0x2d1807=dbCoinResults[_0x531064(0x1c0)](_0x531064(0x250))[_0x531064(0x28c)]({'coin':_0x531064(0x257)})[_0x531064(0x1d8)]();_0x5335bf={..._0x2d1807,'number':_0x132e0e[_0x531064(0x1bf)]},dbCoinResults[_0x531064(0x1c0)](_0x531064(0x250))['find']({'coin':_0x531064(0x257)})[_0x531064(0x354)](_0x5335bf)[_0x531064(0x370)]();}}}}async function placeOrder(_0xf0e2e4){const _0x379a9d=_0x524f3b,_0x4cb4b5=config[_0x379a9d(0x1c9)]==_0x379a9d(0x2bd)?_0x379a9d(0x2bd):'limit';if(lockOrders==ORDERS[_0x379a9d(0x2e9)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x379a9d(0x25d)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x379a9d(0x1dd);let _0x5602be=![];lastOrders=[];for(const _0x4fd99d of _0xf0e2e4){let _0x22d9c1,_0x54ef52,_0x515cec,_0x1b5b5b,_0x4e0f2c,_0x3a891d=_0x4fd99d[_0x379a9d(0x2b9)];try{const _0x370210=await exchange[_0x379a9d(0x1d3)](_0x3a891d);_0x22d9c1=_0x4fd99d[_0x379a9d(0x1da)]?0x1/_0x4fd99d[_0x379a9d(0x21d)]:_0x4fd99d[_0x379a9d(0x21d)],_0x54ef52=_0x370210[_0x379a9d(0x365)],_0x515cec=_0x370210['ask'];_0x4fd99d['reverse']?(_0x1b5b5b=_0x4fd99d['side']==_0x379a9d(0x298)?_0x379a9d(0x2d6):_0x379a9d(0x298),_0x4e0f2c=Math['abs'](_0x4fd99d[_0x379a9d(0x1d5)])/_0x22d9c1):(_0x1b5b5b=_0x4fd99d[_0x379a9d(0x1c1)],_0x4e0f2c=Math[_0x379a9d(0x1e2)](_0x4fd99d[_0x379a9d(0x1d5)]));_0x4cb4b5==_0x379a9d(0x2d7)&&(config['ordertype']=='limit-high'&&(_0x22d9c1=_0x1b5b5b==_0x379a9d(0x298)?_0x54ef52:_0x515cec),config[_0x379a9d(0x1c9)]==_0x379a9d(0x2c5)&&(_0x22d9c1=_0x1b5b5b==_0x379a9d(0x298)?_0x515cec:_0x54ef52));_0x4e0f2c=formatResult(_0x4e0f2c,0x8),_0x22d9c1=formatResult(_0x22d9c1,0x8);const _0x2b36de=_0x1b5b5b==_0x379a9d(0x2d6)?config['emojisell']?String[_0x379a9d(0x357)]('0x'+config[_0x379a9d(0x234)])+'\x20':'':config[_0x379a9d(0x375)]?String[_0x379a9d(0x357)]('0x'+config['emojibuy'])+'\x20':'',_0x298729=_0x4cb4b5==_0x379a9d(0x2bd)?_0x379a9d(0x2d9):config['ordertype']==_0x379a9d(0x1d1)?'Limit\x20(high-margin)':'Limit\x20(low-margin)',_0x56945b=(Math[_0x379a9d(0x2bb)](Math[_0x379a9d(0x2b6)]()*0x35a4e900)+0x5f5e100)[_0x379a9d(0x236)]();lastOrders['push']({'customId':_0x56945b,'symbol':_0x3a891d,'coin':_0x4fd99d[_0x379a9d(0x2ae)],'amount':_0x4e0f2c,'price':_0x22d9c1,'side':_0x1b5b5b,'reverse':_0x4fd99d[_0x379a9d(0x1da)],'filled':0x0});if(_0x4cb4b5==_0x379a9d(0x2bd))logHistory(_0x379a9d(0x2e0),''+_0x2b36de+_0x298729+_0x379a9d(0x1f3)+_0x3a891d+'\x20'+_0x1b5b5b+'\x20#'+formatResult(_0x4e0f2c,0x8)+'\x20@'+formatResult(_0x22d9c1,0x8));else logHistory('order',''+_0x2b36de+_0x298729+_0x379a9d(0x1f3)+_0x3a891d+'\x20'+_0x1b5b5b+'\x20#'+formatResult(_0x4e0f2c,0x8)+'\x20@'+formatResult(_0x22d9c1,0x8));let _0x5a7a2e;_0x4cb4b5=='market'?_0x1b5b5b==_0x379a9d(0x298)&&['Bybit','Bitget',_0x379a9d(0x377),_0x379a9d(0x2d5),'Huobipro']['includes'](config[_0x379a9d(0x302)])?_0x5a7a2e=await exchange['createOrder'](_0x3a891d,_0x4cb4b5,_0x1b5b5b,_0x4e0f2c,_0x22d9c1):_0x5a7a2e=await exchange[_0x379a9d(0x2c8)](_0x3a891d,_0x4cb4b5,_0x1b5b5b,_0x4e0f2c,undefined):_0x5a7a2e=await exchange[_0x379a9d(0x2c8)](_0x3a891d,_0x4cb4b5,_0x1b5b5b,_0x4e0f2c,_0x22d9c1);logger['debug'](_0x379a9d(0x319)+_0x5a7a2e['id']+_0x379a9d(0x1fe)+_0x56945b);const _0x3c46ba=lastOrders[_0x379a9d(0x326)]-0x1;if(_0x3c46ba>=0x0&&lastOrders[_0x3c46ba][_0x379a9d(0x2be)]==_0x56945b){lastOrders[_0x3c46ba][_0x379a9d(0x224)]=_0x5a7a2e['id'];if(_0x5a7a2e[_0x379a9d(0x22d)])lastOrders[_0x3c46ba]['amount']=_0x5a7a2e['amount'];if(_0x5a7a2e[_0x379a9d(0x1ce)])lastOrders[_0x3c46ba][_0x379a9d(0x1ce)]=_0x5a7a2e[_0x379a9d(0x1ce)];lastOrders[_0x3c46ba][_0x379a9d(0x1db)]=_0x5a7a2e[_0x379a9d(0x1db)];}if(config[_0x379a9d(0x2d3)]!=0x0){let _0x4d8617=null;if(cooldownTracker[_0x379a9d(0x326)]==config[_0x379a9d(0x2d3)]-0x1)_0x4d8617=cooldownTracker['shift']();const _0x2aafbf=getTimeStamp();cooldownTracker[_0x379a9d(0x359)](_0x2aafbf);if(_0x4d8617){const _0x128eb1=fns[_0x379a9d(0x273)](new Date(_0x2aafbf),new Date(_0x4d8617));if(_0x128eb1<cooldownInterval){logHistory(_0x379a9d(0x207),'Executed\x20'+config[_0x379a9d(0x2d3)]+_0x379a9d(0x2e3)+cooldownInterval/0x3c+_0x379a9d(0x340)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x5682be){if(_0x5682be[_0x379a9d(0x236)]()[_0x379a9d(0x316)]('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x5f046f=>_0x5f046f[_0x379a9d(0x2b9)]!=_0x3a891d),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x3a891d),_0x5602be=!![];else{if(_0x5682be[_0x379a9d(0x236)]()['includes'](_0x379a9d(0x260)))lastOrders=lastOrders[_0x379a9d(0x1dc)](_0x1fbd08=>_0x1fbd08[_0x379a9d(0x2b9)]!=_0x3a891d),logHistory('error',_0x379a9d(0x34d)+_0x3a891d),_0x5602be=!![];else{if(_0x5682be['toString']()[_0x379a9d(0x316)](_0x379a9d(0x310)))lastOrders=lastOrders['filter'](_0x4174fc=>_0x4174fc[_0x379a9d(0x2b9)]!=_0x3a891d),logHistory(_0x379a9d(0x207),_0x379a9d(0x349)+_0x3a891d),logger[_0x379a9d(0x34a)](_0x5682be),_0x5602be=!![];else _0x5682be[_0x379a9d(0x236)]()[_0x379a9d(0x316)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders['filter'](_0x5768a1=>_0x5768a1[_0x379a9d(0x2b9)]!=_0x3a891d),logHistory(_0x379a9d(0x207),_0x379a9d(0x33a)+_0x3a891d),_0x5602be=!![]):(lastOrders=lastOrders[_0x379a9d(0x1dc)](_0x254eeb=>_0x254eeb[_0x379a9d(0x2b9)]!=_0x3a891d),await handleError(_0x5682be,_0x379a9d(0x2f2),_0x3a891d));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x379a9d(0x326)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x1ab21e=config[_0x379a9d(0x1c9)]==_0x379a9d(0x2bd)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x1ab21e);}else unlockOrders();_0x5602be&&config[_0x379a9d(0x368)]&&(logHistory(_0x379a9d(0x207),_0x379a9d(0x332)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x379a9d(0x324),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config['headless']&&logHistory(_0x379a9d(0x207),_0x379a9d(0x1c5));else lockOrders!=ORDERS[_0x379a9d(0x2e9)]&&(!config[_0x379a9d(0x368)]&&(config[_0x379a9d(0x1c9)]==_0x379a9d(0x2bd)?logHistory(_0x379a9d(0x207),_0x379a9d(0x2ba)):logHistory(_0x379a9d(0x207),_0x379a9d(0x2fe))));}}function persistOpenOrders(_0x5bcf78){const _0x54dd29=_0x524f3b,_0xcfe587={...config,'openOrders':_0x5bcf78};let _0x482626=dbConfig[_0x54dd29(0x1c0)](_0x54dd29(0x2d1))[_0x54dd29(0x28c)]({'botID':botID})[_0x54dd29(0x1d8)]();_0x482626&&dbConfig[_0x54dd29(0x1c0)](_0x54dd29(0x2d1))[_0x54dd29(0x28c)]({'botID':botID})['assign'](_0xcfe587)[_0x54dd29(0x370)]();}function restoreOrders(){const _0x46cae6=_0x524f3b;let _0x1453f4;config[_0x46cae6(0x284)]&&allOpenOrders['forEach'](_0x4a1c8e=>{const _0xc788c9=_0x46cae6,_0x47f033=config[_0xc788c9(0x284)]['find'](_0x500984=>_0x500984[_0xc788c9(0x224)]==_0x4a1c8e['id']);_0x47f033&&(lastOrders[_0xc788c9(0x359)](_0x47f033),_0x1453f4=_0x4a1c8e['timestamp']);});if(lastOrders[_0x46cae6(0x326)]>0x0){lockOrders=ORDERS[_0x46cae6(0x25d)],validateOrdersState=_0x46cae6(0x27d),allOrdersPlaced=!![];const _0x2b96bb=new Date()[_0x46cae6(0x1ec)](),_0x590e9e=config[_0x46cae6(0x1c9)]==_0x46cae6(0x2bd)?validateOrderTimeout*0x3c*0x3e8:config[_0x46cae6(0x37b)]*0x3c*0x3e8;if(_0x1453f4+_0x590e9e>_0x2b96bb){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x14d931=_0x46cae6;validateOrders(_0x14d931(0x327));},_0x1453f4+_0x590e9e-_0x2b96bb);}else validateOrders(_0x46cae6(0x327));}}async function sendMetricsTelegram(){const _0x13ce4c=_0x524f3b;if(!coinsLoaded){process[_0x13ce4c(0x2da)]({'telegrammsg':_0x13ce4c(0x2e6)},_0x23d6f9=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x5804a1='';if(config[_0x13ce4c(0x1e6)])_0x5804a1=_0x13ce4c(0x37e)+config[_0x13ce4c(0x2d4)]+_0x13ce4c(0x1e1);else _0x5804a1=_0x13ce4c(0x358)+botID+_0x13ce4c(0x1e1);const _0x5b31d9=getKPIs(_0x13ce4c(0x345)),_0x563152=getKPIs(_0x13ce4c(0x30d),config['fiat']),_0x348f4a=getKPIs(_0x13ce4c(0x27a)),_0x146430=getKPIs(_0x13ce4c(0x256),config['fiat']);_0x5804a1+='<pre>',_0x5804a1+=_0x5b31d9[_0x13ce4c(0x373)]+_0x13ce4c(0x227)+_0x5b31d9[_0x13ce4c(0x1d8)]+'\x0a',_0x5804a1+=_0x5b31d9[_0x13ce4c(0x276)]+':\x20'+_0x5b31d9[_0x13ce4c(0x22a)]+'%\x0a',_0x5804a1+=_0x563152[_0x13ce4c(0x373)]+_0x13ce4c(0x227)+_0x563152[_0x13ce4c(0x1d8)]+'\x0a',_0x5804a1+=_0x563152['rightTxt']+':\x20'+_0x563152[_0x13ce4c(0x22a)]+'%\x0a',_0x5804a1+=_0x348f4a['leftTxt']+':\x20'+_0x348f4a['value']+'\x20('+config[_0x13ce4c(0x345)]+')\x0a',_0x5804a1+=_0x348f4a[_0x13ce4c(0x276)]+':\x20'+_0x348f4a['change']+_0x13ce4c(0x25f)+config[_0x13ce4c(0x345)]+')\x0a',_0x5804a1+=_0x146430['leftTxt']+':\x20'+_0x146430[_0x13ce4c(0x1d8)]+'\x20('+config[_0x13ce4c(0x30d)]+')\x0a',_0x5804a1+=_0x146430[_0x13ce4c(0x276)]+':\x20'+_0x146430['change']+_0x13ce4c(0x25f)+config[_0x13ce4c(0x30d)]+')\x0a',_0x5804a1+='</pre>',process['send']({'telegrammsg':_0x5804a1},_0x3d7d35=>{});}async function sendPortfolioTelegram(){const _0x3a4d56=_0x524f3b;if(!coinsLoaded||!currentCoins[0x0][_0x3a4d56(0x381)]){process[_0x3a4d56(0x2da)]({'telegrammsg':_0x3a4d56(0x2e6)},_0x116414=>{});return;}let _0x26299a='';if(config[_0x3a4d56(0x1e6)])_0x26299a=_0x3a4d56(0x37e)+config[_0x3a4d56(0x2d4)]+_0x3a4d56(0x2dd);else _0x26299a=_0x3a4d56(0x358)+botID+_0x3a4d56(0x2dd);_0x26299a+='<pre>',_0x26299a+=_0x3a4d56(0x2c9),_0x26299a+=_0x3a4d56(0x315),_0x26299a+='-------------------------------\x0a',currentCoins[_0x3a4d56(0x2a9)](_0x78cc09=>{const _0x4c2b01=_0x3a4d56;_0x26299a+=_0x78cc09[_0x4c2b01(0x2ae)][_0x4c2b01(0x2c3)](0x7)+'|\x20'+formatPad(_0x78cc09['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x78cc09['target'],0x2,0x6)+'|\x20'+formatPad(_0x78cc09[_0x4c2b01(0x206)]*0x64,0x2,0x6)+'\x0a';}),_0x26299a+=_0x3a4d56(0x2b4),process['send']({'telegrammsg':_0x26299a},_0xc592a6=>{});}function formatPad(_0x39b97d,_0x14916e,_0x269566){const _0x3fd525=_0x524f3b,_0x337c22=formatResultString(_0x39b97d,_0x14916e);return _0x337c22?_0x337c22['padStart'](_0x269566):''[_0x3fd525(0x29d)](_0x269566);}function logHistory(_0x4e4d94,_0x49cc33,_0x5c074d=''){const _0x1030d3=_0x524f3b;logger[_0x1030d3(0x31a)](''+_0x49cc33);let _0x51832c={'time':getTimeStamp(),'type':_0x4e4d94,'event':_0x49cc33};dbLogs[_0x1030d3(0x1c0)](_0x1030d3(0x34b))[_0x1030d3(0x359)](_0x51832c)[_0x1030d3(0x370)]();if(_0x5c074d=='')_0x5c074d=_0x49cc33;proxyEmit(_0x1030d3(0x1be),{'log':_0x51832c,'summary':_0x5c074d}),process[_0x1030d3(0x2da)]({'telegram':{..._0x51832c,'botname':config['botname'],'showname':config['showname']}},_0x428891=>{});}function emitHistory(_0x5827e0={}){const _0x4738d5=_0x524f3b;Object[_0x4738d5(0x267)](_0x5827e0)[_0x4738d5(0x326)]==0x0&&(_0x5827e0={'type':[_0x4738d5(0x2e0),'event'],'event':'','page':0x1});if(_0x5827e0[_0x4738d5(0x1d0)][_0x4738d5(0x316)](_0x4738d5(0x1be)))_0x5827e0['type']['splice'](_0x5827e0[_0x4738d5(0x1d0)]['indexOf'](_0x4738d5(0x1be)),0x1,_0x4738d5(0x207),_0x4738d5(0x36a),'success');if(dbLogs[_0x4738d5(0x226)]('logs')[_0x4738d5(0x1d8)]()){let _0x38a7f0=dbLogs['get'](_0x4738d5(0x34b))[_0x4738d5(0x1dc)](_0x5f0dc5=>{const _0x115050=_0x4738d5;if(_0x5827e0['type'][_0x115050(0x326)]==0x0)return![];else return _0x5827e0[_0x115050(0x1d0)][_0x115050(0x316)](_0x5f0dc5['type']);})[_0x4738d5(0x1dc)](_0x3ccf88=>{const _0x384960=_0x4738d5;if(_0x5827e0[_0x384960(0x1be)]=='')return!![];else return _0x3ccf88[_0x384960(0x1be)][_0x384960(0x2df)]()[_0x384960(0x316)](_0x5827e0[_0x384960(0x1be)][_0x384960(0x2df)]());})['sortBy'](_0x4738d5(0x229)),_0xdb6bbc=_0x38a7f0[_0x4738d5(0x1d8)]()[_0x4738d5(0x326)];_0x38a7f0=_0x38a7f0[_0x4738d5(0x1da)]()[_0x4738d5(0x26a)]((_0x5827e0[_0x4738d5(0x35e)]-0x1)*logPageSize,_0x5827e0[_0x4738d5(0x35e)]*logPageSize-0x1)['reverse']()[_0x4738d5(0x1d8)](),proxyEmit('event-history',{'logs':_0x38a7f0,'total':_0xdb6bbc});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x788840){const _0x24bf9c=_0x524f3b;if(dbLogs['has']('logs')[_0x24bf9c(0x1d8)]()){const _0x170b1f=dbLogs[_0x24bf9c(0x1c0)](_0x24bf9c(0x34b))[_0x24bf9c(0x218)](_0x24bf9c(0x229))[_0x24bf9c(0x1dc)](_0x19ef92=>{return _0x19ef92['type']=='order';})['value']();dbLogs['get'](_0x24bf9c(0x34b))[_0x24bf9c(0x341)]()['write'](),dbLogs[_0x24bf9c(0x1c0)](_0x24bf9c(0x34b))['assign'](_0x170b1f)[_0x24bf9c(0x370)](),emitHistory(_0x788840);}}async function pauseBot(_0x1d3aa8=pauseBotIntervalShort,_0x8efe54,_0xd89039,_0xf853c0=![]){const _0x31a295=_0x524f3b,_0x163a5a=new Date()[_0x31a295(0x1ec)]();if(!lastErrorShown||_0x163a5a-lastErrorShown>=_0x1d3aa8){lastErrorShown=_0x163a5a;if(!lastBotPause)lastBotPause=_0x163a5a,consecutivePauses=0x1;else{if(_0x163a5a-lastBotPause-_0x1d3aa8<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0xf853c0){logHistory(_0x31a295(0x207),_0x8efe54+_0x31a295(0x25c)),await killBot();return;}else logHistory('error',_0x8efe54+pauseBotMsg),_0x1d3aa8=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x163a5a;}_0xd89039?logger['debug']('('+consecutivePauses+')\x20'+_0x8efe54+_0x31a295(0x2f5),_0xd89039):logger[_0x31a295(0x34a)]('('+consecutivePauses+')\x20'+_0x8efe54);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x1d3aa8),botPaused=![],_0x1d3aa8==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x5a7bfc=_0x524f3b;botPaused=!![],await sleep(0x3e8),process[_0x5a7bfc(0x2da)]({'stop':_0x5a7bfc(0x36c)},_0x542779=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x3d740b,_0x48b965){const _0x254966=_0x524f3b;if(botPaused)return;const _0x391908=config[_0x254966(0x302)]||_0x254966(0x20e);if(_0x48b965)logger[_0x254966(0x34a)]('Exception\x20thrown\x20in\x20'+_0x48b965);const _0x3c7d62=()=>{const _0xf25894=_0x254966;loading[_0xf25894(0x207)]=!![],emitLoadingProgress();};if(_0x3d740b['toString']()[_0x254966(0x316)](_0x254966(0x288)))logHistory(_0x254966(0x207),_0x391908+_0x254966(0x33d)),_0x3c7d62();else{if(_0x3d740b[_0x254966(0x236)]()[_0x254966(0x316)](_0x254966(0x2f7)))logHistory(_0x254966(0x207),_0x391908+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x3c7d62();else _0x3d740b[_0x254966(0x236)]()[_0x254966(0x316)]('AuthenticationError')?(logHistory(_0x254966(0x207),_0x391908+_0x254966(0x372)),logHistory(_0x254966(0x207),_0x254966(0x2c1)),_0x3c7d62()):await handleError(_0x3d740b,null);}}async function handleError(_0x1f0e7e,_0x5d0b9c,_0x591ea2=''){const _0x55aaa9=_0x524f3b;if(botPaused)return;let _0x2e94be;const _0xde16c=config[_0x55aaa9(0x302)]||'Exchange';if(_0x5d0b9c)logger['debug']('Exception\x20thrown\x20in\x20'+_0x5d0b9c);if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)](_0x55aaa9(0x26d)))_0x2e94be=_0xde16c+_0x55aaa9(0x1f4),await pauseBot(undefined,_0x2e94be,_0x1f0e7e);else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)](_0x55aaa9(0x209)))_0x2e94be=_0xde16c+_0x55aaa9(0x2b2),await pauseBot(undefined,_0x2e94be,_0x1f0e7e);else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)]('ExchangeNotAvailable')||_0x1f0e7e[_0x55aaa9(0x236)]()['includes'](_0x55aaa9(0x35d)))_0x2e94be=_0xde16c+_0x55aaa9(0x307),await pauseBot(undefined,_0x2e94be,_0x1f0e7e[_0x55aaa9(0x236)]());else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)](_0x55aaa9(0x2ac)))_0x2e94be=_0xde16c+_0x55aaa9(0x318),await pauseBot(undefined,_0x2e94be,_0x1f0e7e[_0x55aaa9(0x236)]());else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))_0x2e94be=_0xde16c+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x2e94be,_0x1f0e7e[_0x55aaa9(0x236)]());else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x2df)]()[_0x55aaa9(0x316)](_0x55aaa9(0x2cf))||_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x2df)]()['includes'](_0x55aaa9(0x1f1)))_0x2e94be=_0x55aaa9(0x2bc),await pauseBot(undefined,_0x2e94be,_0x1f0e7e[_0x55aaa9(0x236)]());else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)](_0x55aaa9(0x2e2)))_0x2e94be=_0xde16c+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)',await pauseBot(undefined,_0x2e94be,_0x1f0e7e[_0x55aaa9(0x236)]());else{if(_0x1f0e7e instanceof ccxt[_0x55aaa9(0x364)])_0x2e94be=_0xde16c+'\x20network\x20error:\x20'+_0x1f0e7e['toString'](),logger[_0x55aaa9(0x34a)](_0x55aaa9(0x24d),_0x1f0e7e),await pauseBot(undefined,_0x2e94be,_0x1f0e7e);else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)]('API-key\x20format\x20invalid'))logHistory(_0x55aaa9(0x207),_0xde16c+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x55aaa9(0x207),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)](_0x55aaa9(0x2f7)))logHistory('error',_0xde16c+_0x55aaa9(0x2db)),logHistory('error',_0x55aaa9(0x205)),await killBot();else{if(_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)](_0x55aaa9(0x361))&&_0x1f0e7e[_0x55aaa9(0x236)]()[_0x55aaa9(0x316)](_0x55aaa9(0x2b3)))_0x2e94be=_0xde16c+_0x55aaa9(0x1eb),await pauseBot(undefined,_0x2e94be,_0x1f0e7e,!![]);else{if(_0x1f0e7e['toString']()[_0x55aaa9(0x316)]('AuthenticationError'))config['apiPassword']?_0x2e94be=_0xde16c+_0x55aaa9(0x258):_0x2e94be=_0xde16c+_0x55aaa9(0x23e),logHistory(_0x55aaa9(0x207),_0x2e94be),logHistory('error',_0x55aaa9(0x205)),await killBot();else{if(_0x1f0e7e['toString']()[_0x55aaa9(0x316)]('PermissionDenied'))logHistory(_0x55aaa9(0x207),_0xde16c+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions'),logHistory(_0x55aaa9(0x207),_0x55aaa9(0x205)),await killBot();else{if(_0x1f0e7e['toString']()[_0x55aaa9(0x316)](_0x55aaa9(0x334)))logHistory(_0x55aaa9(0x207),_0x55aaa9(0x2e1)+_0x591ea2);else{if(_0x1f0e7e instanceof ccxt[_0x55aaa9(0x2c0)]){_0x2e94be=_0xde16c+_0x55aaa9(0x337)+_0x1f0e7e[_0x55aaa9(0x236)](),logHistory('error',_0x2e94be),logger[_0x55aaa9(0x34a)](_0x55aaa9(0x1c8),_0x1f0e7e);if(_0x591ea2)logger[_0x55aaa9(0x34a)](_0x55aaa9(0x378)+_0x591ea2);await pauseBot(undefined,_0x2e94be,_0x1f0e7e);}else{_0x2e94be=_0x55aaa9(0x1d9)+_0x1f0e7e['toString'](),logHistory(_0x55aaa9(0x207),_0x2e94be),logger['debug'](_0x2e94be+'\x20>\x20details:',_0x1f0e7e);if(_0x591ea2)logger['debug'](_0x55aaa9(0x378)+_0x591ea2);await pauseBot(undefined,_0x2e94be);}}}}}}}}}}}}}}}}function decryptRSA(_0x132f07,_0x4b6536){const _0x269e3b=_0x524f3b,_0x330215=forge[_0x269e3b(0x23c)][_0x269e3b(0x305)](_0x132f07),_0x5bf866=_0x330215[_0x269e3b(0x24b)](forge[_0x269e3b(0x240)][_0x269e3b(0x36e)](_0x4b6536),_0x269e3b(0x323),{'md':forge['md'][_0x269e3b(0x2f6)][_0x269e3b(0x1f9)](),'mgf1':{'md':forge['md'][_0x269e3b(0x2f6)]['create']()}});return _0x5bf866;}async function withRetry(_0x552717,_0x3f5945){const _0x48eb1e=_0x524f3b;let _0x5e331d=![],_0x4ed171=0x0,_0x45996f,_0x35c686;while(_0x4ed171<maxRetries){try{_0x45996f=await _0x3f5945();break;}catch(_0x5dd26a){_0x35c686=_0x5dd26a,!_0x5e331d?(_0x5e331d=!![],logger[_0x48eb1e(0x34a)](_0x48eb1e(0x26e)+_0x552717+':',_0x5dd26a[_0x48eb1e(0x236)]())):await sleep(retryInterval);}_0x4ed171++;}if(_0x4ed171==0x0)return _0x45996f;if(_0x4ed171>=maxRetries)throw _0x35c686;else return logger[_0x48eb1e(0x34a)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x4ed171+_0x48eb1e(0x367)),_0x45996f;}function formatResult(_0x180fcb,_0x2e8de0){const _0x32b69b=_0x524f3b;return parseFloat(_0x180fcb[_0x32b69b(0x30e)](_0x2e8de0));}function formatResultTruncate(_0x2ddd80,_0x226860){const _0x43ab08=_0x524f3b;let _0x430f00=formatResultString(_0x2ddd80,0xa),_0x5a2cea=_0x430f00[_0x43ab08(0x2a4)]('.');return _0x5a2cea!=-0x1&&(_0x430f00=_0x430f00[_0x43ab08(0x26a)](0x0,_0x5a2cea+_0x226860+0x1)),Number(_0x430f00);}function formatResultString(_0xca0a7,_0x3ef466){const _0x1b7737=_0x524f3b;let _0x521f51;if(!(''+_0xca0a7)['includes']('e'))_0x521f51=+(Math['round'](_0xca0a7+'e+'+_0x3ef466)+'e-'+_0x3ef466);else{let _0x437588=(''+_0xca0a7)['split']('e'),_0x2d916a='';+_0x437588[0x1]+_0x3ef466>0x0&&(_0x2d916a='+'),_0x521f51=+(Math[_0x1b7737(0x2ed)](+_0x437588[0x0]+'e'+_0x2d916a+(+_0x437588[0x1]+_0x3ef466))+'e-'+_0x3ef466);}return Number(_0x521f51)[_0x1b7737(0x30e)](_0x3ef466);}function getServerTime(){const _0xc80234=_0x524f3b,_0x321312=new Date();return _0x321312[_0xc80234(0x1e4)]()+'/'+(_0x321312['getMonth']()+0x1)['toString']()[_0xc80234(0x29d)](0x2,'0')+'/'+_0x321312[_0xc80234(0x2cc)]()[_0xc80234(0x236)]()[_0xc80234(0x29d)](0x2,'0')+'\x20'+_0x321312[_0xc80234(0x2f9)]()['toString']()['padStart'](0x2,'0')+':'+_0x321312['getMinutes']()[_0xc80234(0x236)]()[_0xc80234(0x29d)](0x2,'0')+':'+_0x321312[_0xc80234(0x2ec)]()[_0xc80234(0x236)]()[_0xc80234(0x29d)](0x2,'0');}function getTimeStamp(){const _0x4253cf=_0x524f3b,_0x506cea=shiftedTime();return _0x506cea[_0x4253cf(0x1e4)]()+'/'+(_0x506cea[_0x4253cf(0x30c)]()+0x1)[_0x4253cf(0x236)]()['padStart'](0x2,'0')+'/'+_0x506cea[_0x4253cf(0x2cc)]()[_0x4253cf(0x236)]()[_0x4253cf(0x29d)](0x2,'0')+'\x20'+_0x506cea[_0x4253cf(0x2f9)]()[_0x4253cf(0x236)]()[_0x4253cf(0x29d)](0x2,'0')+':'+_0x506cea[_0x4253cf(0x251)]()[_0x4253cf(0x236)]()[_0x4253cf(0x29d)](0x2,'0')+':'+_0x506cea[_0x4253cf(0x2ec)]()[_0x4253cf(0x236)]()['padStart'](0x2,'0');}function getDate(){const _0x380059=_0x524f3b,_0x44d68c=shiftedTime();return _0x44d68c[_0x380059(0x1e4)]()+'/'+(_0x44d68c['getMonth']()+0x1)[_0x380059(0x236)]()[_0x380059(0x29d)](0x2,'0')+'/'+_0x44d68c[_0x380059(0x2cc)]()['toString']()[_0x380059(0x29d)](0x2,'0');}function getHour(){const _0xa01935=_0x524f3b,_0x2fcdcc=shiftedTime();return _0x2fcdcc['getHours']()[_0xa01935(0x236)]()[_0xa01935(0x29d)](0x2,'0');}function sleep(_0x230b0c){return new Promise(_0x5b3af8=>setTimeout(_0x5b3af8,_0x230b0c));}function shiftedTime(){const _0x485427=_0x524f3b,_0x5264f2=new Date();let _0x79b728=_0x5264f2;if(config&&config[_0x485427(0x1cb)]!==0x0)_0x79b728=fns[_0x485427(0x27c)](_0x5264f2,{'hours':config[_0x485427(0x1cb)]});return _0x79b728;}function timer(_0x4157e7){const _0x544202=_0x524f3b,_0x624583=new Date();!lasttime?console['log'](getTimeStamp()+_0x544202(0x275),_0x4157e7,_0x624583):console[_0x544202(0x2e4)](getTimeStamp()+_0x544202(0x275),_0x4157e7,(_0x624583-lasttime)/0x3e8),lasttime=_0x624583;}