const _0x3c42e7=_0x3ee1;(function(_0x531622,_0x5b7e61){const _0x1a4332=_0x3ee1,_0xa42489=_0x531622();while(!![]){try{const _0x54cc81=-parseInt(_0x1a4332(0x14b))/0x1+-parseInt(_0x1a4332(0x196))/0x2+parseInt(_0x1a4332(0x1fc))/0x3+-parseInt(_0x1a4332(0x20b))/0x4+parseInt(_0x1a4332(0x19d))/0x5*(parseInt(_0x1a4332(0x141))/0x6)+parseInt(_0x1a4332(0x166))/0x7*(-parseInt(_0x1a4332(0x1b8))/0x8)+parseInt(_0x1a4332(0x193))/0x9;if(_0x54cc81===_0x5b7e61)break;else _0xa42489['push'](_0xa42489['shift']());}catch(_0x5d2a4){_0xa42489['push'](_0xa42489['shift']());}}}(_0xb754,0xafec7));const _0x2f5dae=function(){let _0x3e0712=!![];return function(_0x470063,_0x4fc257){const _0x41dba4=_0x3e0712?function(){const _0x356c02=_0x3ee1;if(_0x4fc257){const _0x1fa9b5=_0x4fc257[_0x356c02(0x11f)](_0x470063,arguments);return _0x4fc257=null,_0x1fa9b5;}}:function(){};return _0x3e0712=![],_0x41dba4;};}(),_0x5a0f43=_0x2f5dae(this,function(){const _0x3a6812=_0x3ee1;return _0x5a0f43[_0x3a6812(0x13c)]()[_0x3a6812(0x19c)](_0x3a6812(0x19f))[_0x3a6812(0x13c)]()[_0x3a6812(0x12f)](_0x5a0f43)[_0x3a6812(0x19c)](_0x3a6812(0x19f));});_0x5a0f43();'use strict';const ccxt=require(_0x3c42e7(0x145)),low=require(_0x3c42e7(0x1f1)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x3c42e7(0x127)),{WebsocketClient,DefaultLogger}=require(_0x3c42e7(0x18d)),Crypt=require('hybrid-crypto-js')['Crypt'];let exchange,wsClient;global[_0x3c42e7(0x175)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![];const serverversion=require('./version.json')[_0x3c42e7(0x15d)],botID=process[_0x3c42e7(0x13b)][0x2]||_0x3c42e7(0x13f),pattern=/^[0-9]{3}$/;if(!pattern[_0x3c42e7(0x16f)](botID))return console[_0x3c42e7(0x1ec)](_0x3c42e7(0x1be)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x3c42e7(0x1cd)](0x1);const configpath=_0x3c42e7(0x19b);!fs['existsSync'](configpath)&&fs[_0x3c42e7(0x1c8)](configpath);const configfile=configpath+_0x3c42e7(0x17f)+botID+_0x3c42e7(0x14c),logfile=configpath+_0x3c42e7(0x17f)+botID+_0x3c42e7(0x16e),performancefile=configpath+_0x3c42e7(0x17f)+botID+_0x3c42e7(0x1e6),coinresultsfile=configpath+_0x3c42e7(0x17f)+botID+_0x3c42e7(0x168),settingsfile=configpath+_0x3c42e7(0x12e),securefile=configpath+_0x3c42e7(0x1b9),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3c42e7(0x169)]({'logs':[]})[_0x3c42e7(0x173)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x3c42e7(0x169)]({'data':[]})['write']();function _0x3ee1(_0x237d69,_0xffb833){const _0xf9c676=_0xb754();return _0x3ee1=function(_0x5a0f43,_0x2f5dae){_0x5a0f43=_0x5a0f43-0x10f;let _0xb75458=_0xf9c676[_0x5a0f43];return _0xb75458;},_0x3ee1(_0x237d69,_0xffb833);}const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x3c42e7(0x169)]({'bot':[]})[_0x3c42e7(0x173)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3c42e7(0x169)]({'coins':[]})[_0x3c42e7(0x173)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x3c42e7(0x1f9),'symbol':_0x3c42e7(0x1a2)},'usd':{'coin':_0x3c42e7(0x209),'symbol':_0x3c42e7(0x13e)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x52c2d9)=>{},'debug':(..._0x2b78be)=>{},'notice':(..._0x176eec)=>{},'info':(..._0x429fd2)=>{},'warning':(..._0x4054ef)=>{},'error':async function(..._0x557bdd){const _0x1b75a7=_0x3c42e7,_0x31fa6e=new Date()[_0x1b75a7(0x1fa)]();if(!lastErrorShown||_0x31fa6e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime'](),logHistory(_0x1b75a7(0x129),_0x1b75a7(0x191)+consecutivePauses+')\x20|\x20Binance\x20exchange\x20is\x20not\x20available');let _0x38ddab='';if(_0x557bdd[0x0])_0x38ddab+=_0x557bdd[0x0];if(_0x557bdd[0x1]&&_0x557bdd[0x1]['error']&&_0x557bdd[0x1][_0x1b75a7(0x129)][_0x1b75a7(0x128)])_0x38ddab+=_0x1b75a7(0x144)+_0x557bdd[0x1][_0x1b75a7(0x129)][_0x1b75a7(0x128)];logging(_0x1b75a7(0x191)+consecutivePauses+_0x1b75a7(0x1c0),''+_0x38ddab),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x3c42e7(0x1bb),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings[_0x3c42e7(0x215)]!=config[_0x3c42e7(0x215)]&&updateTimeshift(settings[_0x3c42e7(0x215)]);process[_0x3c42e7(0x1c3)]({'started':'running'}),initializeProcessListeners();function proxyEmit(_0x52d818,_0x13d5b1=null){const _0x415857=_0x3c42e7;process[_0x415857(0x1c3)]({'function':_0x52d818,'args':_0x13d5b1});}function initializeProcessListeners(){process['on']('message',_0x16d51e=>{const _0x131c53=_0x3ee1;switch(Object[_0x131c53(0x11c)](_0x16d51e)[0x0]){case _0x131c53(0x215):_0x16d51e[_0x131c53(0x215)]!=undefined&&(settings[_0x131c53(0x215)]=_0x16d51e['timeshift'],updateTimeshift(settings[_0x131c53(0x215)]));break;case'function':switch(_0x16d51e[_0x131c53(0x132)]){case'initclient':initclient();break;case'emitHistory':emitHistory(_0x16d51e[_0x131c53(0x1e3)]);break;case _0x131c53(0x1ca):getPortfolio(_0x16d51e[_0x131c53(0x1e3)]);break;case'storeConfiguration':storeConfiguration(_0x16d51e[_0x131c53(0x1e3)]);break;case _0x131c53(0x1c1):storeHeadless(_0x16d51e[_0x131c53(0x1e3)]);break;case _0x131c53(0x1c6):getStartingBalances();break;case _0x131c53(0x17d):placeOrder(_0x16d51e[_0x131c53(0x1e3)]);break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x57ca0e=_0x3c42e7;if(pidBalances)clearTimeout(pidBalances);if(config[_0x57ca0e(0x177)]!=''){await initExchange(config['apiKey'],config[_0x57ca0e(0x139)]);let _0x3134c2=await loadSymbols();_0x3134c2&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x3e4ba8,_0x1d7ee6){const _0x4abfa3=_0x3c42e7,_0x694470=ccxt[config[_0x4abfa3(0x11b)]];let _0x2a1332;switch(config['exchange']){case _0x4abfa3(0x18d):_0x2a1332=_0x4abfa3(0x197);break;case _0x4abfa3(0x1bc):_0x2a1332='wss://stream.binance.us:9443';break;default:_0x2a1332=_0x4abfa3(0x197);}exchange=new _0x694470({'apiKey':_0x3e4ba8,'secret':_0x1d7ee6,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x3e4ba8,'api_secret':_0x1d7ee6,'beautify':!![],'wsUrl':_0x2a1332},logger),config[_0x4abfa3(0x11b)]=='binanceus'&&(stablecoins={'eur':{'coin':'BTCBUSD','symbol':_0x4abfa3(0x1f7)},'usd':{'coin':_0x4abfa3(0x209),'symbol':_0x4abfa3(0x13e)}});}async function loadSymbols(){const _0x1cb9d7=_0x3c42e7;let _0x5dbdd0;try{markets=await exchange[_0x1cb9d7(0x203)](),allSymbols=exchange['symbols'][_0x1cb9d7(0x1ae)](_0x22f970=>{const _0x4ae016=_0x1cb9d7;return!_0x22f970[_0x4ae016(0x1f5)](_0x4ae016(0x1d6));}),_0x5dbdd0=!![];}catch(_0x4ed9cd){await handleError(_0x4ed9cd,_0x1cb9d7(0x214)),_0x5dbdd0=![];}return _0x5dbdd0;}async function initbot(){const _0x115bee=_0x3c42e7;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x287e6b=dbCoinResults[_0x115bee(0x1f8)]('coins')[_0x115bee(0x189)]();if(_0x287e6b[_0x115bee(0x1c2)]==0x0)await resetCoinResults();}async function initclient(){proxyEmit('configuration',emittedConfiguration());while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x137b5d=_0x3c42e7;wsinitialized=![];ws1&&(ws1['forEach'](_0x2cda5a=>{const _0x3be780=_0x3ee1;try{wsClient[_0x3be780(0x1ab)](_0x2cda5a);}catch(_0x3af357){}}),ws1=[]);if(ws2){try{wsClient[_0x137b5d(0x1ab)](ws2);}catch(_0x28bcfc){}ws2=null;}}async function initws(){const _0x4053df=_0x3c42e7;cleanws();let _0x59760f=[];currentCoins[_0x4053df(0x146)](_0x21464c=>{const _0x371bcd=_0x4053df;if(_0x21464c[_0x371bcd(0x18b)]!=config['basecoin'])_0x59760f['push'](noslash(_0x21464c[_0x371bcd(0x178)]));});if(!_0x59760f['includes'](stablecoins[_0x4053df(0x140)][_0x4053df(0x18b)]))_0x59760f[_0x4053df(0x1f6)](stablecoins[_0x4053df(0x140)]['coin']);if(!_0x59760f['includes'](stablecoins[_0x4053df(0x12d)][_0x4053df(0x18b)]))_0x59760f[_0x4053df(0x1f6)](stablecoins['usd']['coin']);if(!_0x59760f[_0x4053df(0x1f5)](_0x4053df(0x1d3)+config['basecoin']))_0x59760f['push'](_0x4053df(0x1d3)+config[_0x4053df(0x195)]);try{_0x59760f[_0x4053df(0x146)]((_0x3c981c,_0x1e6dac)=>{const _0x36cedd=_0x4053df;ws1[_0x1e6dac]=wsClient[_0x36cedd(0x154)](_0x3c981c,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x4053df(0x1ba),_0x31c1c6=>{const _0x5695bc=_0x4053df;if(!Array[_0x5695bc(0x180)](_0x31c1c6)&&!_0x31c1c6[_0x5695bc(0x204)][_0x5695bc(0x1f5)]('userData')){if(_0x31c1c6['eventType']==='kline'){global[_0x5695bc(0x175)][_0x31c1c6[_0x5695bc(0x1db)][_0x5695bc(0x178)]]=_0x31c1c6[_0x5695bc(0x1db)][_0x5695bc(0x121)];return;}}else{if(!Array[_0x5695bc(0x180)](_0x31c1c6)&&_0x31c1c6[_0x5695bc(0x204)][_0x5695bc(0x1f5)](_0x5695bc(0x1bd))){if(_0x31c1c6[_0x5695bc(0x13a)][_0x5695bc(0x1f5)](_0x5695bc(0x17c))){updateNumberCoins(_0x31c1c6);return;}}}}),wsClient['on'](_0x4053df(0x1a9),async _0x564e3b=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x4ce31d){await handleError(_0x4ce31d,'initws()');}let _0x3d8d5e;while(_0x3d8d5e!=currentCoins['length']-0x1){_0x3d8d5e=0x0,currentCoins['forEach'](_0x34bb81=>{const _0x1ee664=_0x4053df;if(_0x34bb81['coin']!=config[_0x1ee664(0x195)]&&global['ticker'][noslash(_0x34bb81[_0x1ee664(0x178)])])_0x3d8d5e++;});let _0x26eee2=Math[_0x4053df(0x1de)](_0x3d8d5e/(currentCoins[_0x4053df(0x1c2)]-0x1)*0x64);proxyEmit(_0x4053df(0x126),_0x26eee2),await sleep(0xc8);}wsinitialized=!![];}async function getFiat(){const _0x57f36a=_0x3c42e7;let _0x464a01=0x0,_0x5eb962=0x0;try{_0x464a01=global[_0x57f36a(0x175)][stablecoins[_0x57f36a(0x140)][_0x57f36a(0x18b)]],_0x5eb962=global[_0x57f36a(0x175)][stablecoins['usd']['coin']];}catch(_0x159210){await handleError(_0x159210,_0x57f36a(0x176));}return{'eur':Number(_0x464a01),'usd':Number(_0x5eb962)};}async function setStartDatePerformance(_0x5cc2b6){const _0x16562c=_0x3c42e7,_0x56ffdc=fns[_0x16562c(0x18a)](new Date(_0x5cc2b6[_0x16562c(0x143)]),_0x16562c(0x1f3));let _0x22d57f=[];_0x22d57f[stablecoins[_0x16562c(0x140)]['coin']]=await getCloses(stablecoins[_0x16562c(0x140)]['symbol'],new Date(_0x5cc2b6['startdate']),0x1),_0x22d57f[stablecoins[_0x16562c(0x12d)][_0x16562c(0x18b)]]=await getCloses(stablecoins['usd'][_0x16562c(0x178)],new Date(_0x5cc2b6[_0x16562c(0x143)]),0x1);let _0x49e847,_0x1e80b9=[];_0x5cc2b6[_0x16562c(0x12b)][_0x16562c(0x146)](_0x16128c=>{const _0x312acd=_0x16562c;!_0x16128c[_0x312acd(0x111)]&&_0x1e80b9[_0x312acd(0x1f6)]({'coin':_0x16128c[_0x312acd(0x18b)],'number':_0x16128c[_0x312acd(0x113)],'price':_0x16128c[_0x312acd(0x1ac)]});}),_0x49e847={'date':_0x56ffdc,'eur':_0x22d57f[stablecoins[_0x16562c(0x140)]['coin']][0x0],'usd':_0x22d57f[stablecoins[_0x16562c(0x12d)]['coin']][0x0],'coins':_0x1e80b9};let _0x26ae56=dbPerformance[_0x16562c(0x1f8)](_0x16562c(0x14f))[_0x16562c(0x131)]({'date':_0x56ffdc})[_0x16562c(0x189)]();_0x26ae56?dbPerformance['get'](_0x16562c(0x14f))[_0x16562c(0x131)]({'date':_0x56ffdc})[_0x16562c(0x1f2)](_0x49e847)[_0x16562c(0x173)]():dbPerformance[_0x16562c(0x1f8)](_0x16562c(0x14f))['push'](_0x49e847)['write'](),_0x26ae56=dbPerformance['get'](_0x16562c(0x14f))[_0x16562c(0x1e8)]('date')['value'](),_0x26ae56[_0x16562c(0x146)](_0x171321=>{const _0x53d82d=_0x16562c;_0x171321['date']<_0x56ffdc&&dbPerformance[_0x53d82d(0x1f8)](_0x53d82d(0x14f))[_0x53d82d(0x13d)]({'date':_0x171321[_0x53d82d(0x1b6)]})[_0x53d82d(0x173)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x3af1df){const _0x43563e=_0x3c42e7;let _0x452fe8,_0x567731=[];logHistory(_0x43563e(0x142),_0x43563e(0x171)),_0x3af1df[_0x43563e(0x12b)][_0x43563e(0x146)](_0x1dbd64=>{const _0x4026dc=_0x43563e;if(_0x1dbd64['coin']!=config[_0x4026dc(0x195)]&&!_0x1dbd64[_0x4026dc(0x111)])_0x567731['push']({'coin':_0x1dbd64[_0x4026dc(0x18b)],'symbol':_0x1dbd64['symbol']});});let _0x3c4bc7=[];try{const _0xe7570b=fns['format'](fns['parseISO'](_0x3af1df[_0x43563e(0x143)]['replace'](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x1f233a of _0x567731){if(_0x1f233a[_0x43563e(0x18b)]!=config[_0x43563e(0x195)])_0x452fe8=await exchange[_0x43563e(0x1cc)](_0x1f233a[_0x43563e(0x178)],Date[_0x43563e(0x1e0)](_0xe7570b));_0x452fe8[_0x43563e(0x146)](_0x538222=>{const _0x3c8130=_0x43563e,_0x68192c=_0x1f233a[_0x3c8130(0x178)][_0x3c8130(0x1f5)](config[_0x3c8130(0x195)]+'/'),_0xc89f12=fns[_0x3c8130(0x18a)](fns['parseISO'](_0x538222[_0x3c8130(0x15f)]),_0x3c8130(0x160)),_0x364095=fns[_0x3c8130(0x18a)](fns[_0x3c8130(0x194)](_0x538222[_0x3c8130(0x15f)]),_0x3c8130(0x1f3));let _0x59473d;if(_0x538222[_0x3c8130(0x1ea)]=='buy'&&_0x68192c==![])_0x59473d=_0x538222['amount'];if(_0x538222['side']=='buy'&&_0x68192c==!![])_0x59473d=-_0x538222[_0x3c8130(0x212)]*_0x538222[_0x3c8130(0x183)];if(_0x538222['side']==_0x3c8130(0x1c9)&&_0x68192c==![])_0x59473d=-_0x538222[_0x3c8130(0x212)];if(_0x538222['side']==_0x3c8130(0x1c9)&&_0x68192c==!![])_0x59473d=_0x538222['amount']*_0x538222[_0x3c8130(0x183)];_0x3c4bc7['push']({'timestamp':_0xc89f12,'date':_0x364095,'coin':_0x1f233a['coin'],'symbol':_0x1f233a[_0x3c8130(0x178)],'type':_0x538222[_0x3c8130(0x12c)],'side':_0x538222['side'],'reverse':_0x68192c,'amount':formatResult(_0x538222[_0x3c8130(0x15e)],0x8),'filled':formatResult(_0x538222[_0x3c8130(0x15e)],0x8),'coinamount':formatResult(_0x59473d,0x8),'price':formatResult(_0x538222[_0x3c8130(0x183)],0x8)});let _0x29ffde;if(_0x538222[_0x3c8130(0x1ea)]==_0x3c8130(0x17e)&&_0x68192c==![])_0x29ffde=-_0x538222[_0x3c8130(0x212)]*_0x538222['price'];if(_0x538222[_0x3c8130(0x1ea)]==_0x3c8130(0x17e)&&_0x68192c==!![])_0x29ffde=_0x538222[_0x3c8130(0x212)];if(_0x538222[_0x3c8130(0x1ea)]=='sell'&&_0x68192c==![])_0x29ffde=_0x538222[_0x3c8130(0x212)]*_0x538222['price'];if(_0x538222[_0x3c8130(0x1ea)]==_0x3c8130(0x1c9)&&_0x68192c==!![])_0x29ffde=-_0x538222[_0x3c8130(0x212)];_0x3c4bc7['push']({'date':_0x364095,'coin':config[_0x3c8130(0x195)],'coinamount':formatResult(_0x29ffde,0x8)});});}_0x3c4bc7[_0x43563e(0x182)]((_0x1fe379,_0x45f320)=>_0x1fe379['timestamp']>_0x45f320[_0x43563e(0x137)]?0x1:_0x45f320[_0x43563e(0x137)]>_0x1fe379[_0x43563e(0x137)]?-0x1:0x0),dbLogs[_0x43563e(0x1f8)](_0x43563e(0x115))[_0x43563e(0x13d)]()[_0x43563e(0x173)](),_0x3c4bc7[_0x43563e(0x146)](_0x59a541=>{const _0x5bb7cb=_0x43563e;let _0xe14243;_0x59a541[_0x5bb7cb(0x18b)]!=config['basecoin']&&(_0xe14243={'time':_0x59a541[_0x5bb7cb(0x137)],'type':'order','event':_0x5bb7cb(0x174)+_0x59a541[_0x5bb7cb(0x178)]+'\x20'+_0x59a541[_0x5bb7cb(0x1ea)]+'\x20#'+_0x59a541[_0x5bb7cb(0x212)]+'\x20@'+_0x59a541['price']},dbLogs[_0x5bb7cb(0x1f8)]('logs')[_0x5bb7cb(0x1f6)](_0xe14243)[_0x5bb7cb(0x173)]());});const _0x16b140=fns['eachDayOfInterval']({'start':new Date(_0x3af1df[_0x43563e(0x143)]),'end':new Date()})[_0x43563e(0x1ef)](_0x3de09e=>fns[_0x43563e(0x18a)](_0x3de09e,_0x43563e(0x1f3)));let _0x1f5bdc=[];_0x3af1df['portfolio']['forEach'](_0x5bf7b2=>{const _0x263430=_0x43563e;if(!_0x5bf7b2[_0x263430(0x111)]){_0x1f5bdc[_0x5bf7b2[_0x263430(0x18b)]]=[];let _0x47c8ef=_0x5bf7b2[_0x263430(0x113)];_0x16b140['forEach']((_0x4b7056,_0x12e3e6)=>{const _0x48adb5=_0x263430;let _0x2f3c18=_0x3c4bc7[_0x48adb5(0x1ae)](_0x5c3855=>_0x5c3855[_0x48adb5(0x18b)]==_0x5bf7b2[_0x48adb5(0x18b)]&&_0x5c3855['date']==_0x4b7056);if(_0x2f3c18[_0x48adb5(0x1c2)]!=0x0){let _0x3e0925=_0x2f3c18[_0x48adb5(0x1ad)]((_0x24708f,_0x5c86c5)=>{const _0x232aa6=_0x48adb5;return _0x24708f+=_0x5c86c5[_0x232aa6(0x1b7)],_0x24708f;},0x0);_0x47c8ef+=_0x3e0925;}_0x1f5bdc[_0x5bf7b2[_0x48adb5(0x18b)]][_0x4b7056]=_0x47c8ef;});}});const _0x402dda=[..._0x567731];_0x402dda[_0x43563e(0x1f6)]({'coin':stablecoins[_0x43563e(0x140)][_0x43563e(0x18b)],'symbol':stablecoins[_0x43563e(0x140)][_0x43563e(0x178)]}),_0x402dda[_0x43563e(0x1f6)]({'coin':stablecoins[_0x43563e(0x12d)][_0x43563e(0x18b)],'symbol':stablecoins[_0x43563e(0x12d)][_0x43563e(0x178)]});let _0x3b0983=[];for(const _0x185112 of _0x402dda){_0x3b0983[_0x185112[_0x43563e(0x18b)]]=await getCloses(_0x185112[_0x43563e(0x178)],new Date(_0x3af1df[_0x43563e(0x143)]));}dbPerformance[_0x43563e(0x1f8)](_0x43563e(0x14f))[_0x43563e(0x13d)]()[_0x43563e(0x173)](),_0x16b140[_0x43563e(0x146)]((_0xef49e0,_0x47ff9f)=>{const _0x48100c=_0x43563e;let _0x3d8e07,_0x3620e9=[];_0x47ff9f==0x0?(_0x3af1df[_0x48100c(0x12b)]['forEach'](_0xfe2a39=>{const _0x2222b9=_0x48100c;!_0xfe2a39['excluded']&&_0x3620e9[_0x2222b9(0x1f6)]({'coin':_0xfe2a39[_0x2222b9(0x18b)],'number':_0xfe2a39['startnumber'],'price':_0xfe2a39[_0x2222b9(0x1ac)]});}),_0x3d8e07={'date':_0xef49e0,'eur':_0x3b0983[stablecoins['eur']['coin']][_0x47ff9f],'usd':_0x3b0983[stablecoins[_0x48100c(0x12d)]['coin']][_0x47ff9f],'coins':_0x3620e9}):(_0x3af1df[_0x48100c(0x12b)][_0x48100c(0x146)](_0x9d2fc1=>{const _0x164150=_0x48100c;!_0x9d2fc1[_0x164150(0x111)]&&_0x3620e9[_0x164150(0x1f6)]({'coin':_0x9d2fc1[_0x164150(0x18b)],'number':_0x1f5bdc[_0x9d2fc1[_0x164150(0x18b)]][_0xef49e0],'price':_0x9d2fc1[_0x164150(0x18b)]==config[_0x164150(0x195)]?0x1:_0x3b0983[_0x9d2fc1['coin']][_0x47ff9f]});}),_0x3d8e07={'date':_0xef49e0,'eur':_0x3b0983[stablecoins[_0x48100c(0x140)][_0x48100c(0x18b)]][_0x47ff9f],'usd':_0x3b0983[stablecoins['usd'][_0x48100c(0x18b)]][_0x47ff9f],'coins':_0x3620e9}),dbPerformance[_0x48100c(0x1f8)](_0x48100c(0x14f))[_0x48100c(0x1f6)](_0x3d8e07)['write']();}),emitPerformance(),await resetCoinResults();for(let _0x414095 of _0x3c4bc7){_0x414095['coin']!=config[_0x43563e(0x195)]&&await updateCoinResults(_0x414095);}logHistory('success',_0x43563e(0x16d));}catch(_0x5f25c8){await handleError(_0x5f25c8,_0x43563e(0x1ff));}}async function getCloses(_0x340fbe,_0x4ae77c,_0x183b9c=undefined){const _0x388d00=_0x3c42e7,_0x4804a2='1d';let _0x3e52b8,_0x184996;const _0x2fece3=fns[_0x388d00(0x157)](new Date(),_0x4ae77c)+0x1;try{const _0x21c30a=exchange[_0x388d00(0x1d8)]()-_0x2fece3*0x18*0xe10*0x3e8;_0x3e52b8=await exchange[_0x388d00(0x16b)](_0x340fbe,_0x4804a2,_0x21c30a,_0x183b9c),_0x184996=await exchange['fetchTickers'](_0x340fbe);}catch(_0x4d6929){await handleError(_0x4d6929,_0x388d00(0x18e));}let _0xe3d0a=ohlcvToCloses(_0x3e52b8);return _0xe3d0a[_0x388d00(0x1f6)](_0x184996[_0x340fbe][_0x388d00(0x1a5)]),_0xe3d0a;}function ohlcvToCloses(_0x415d93){const _0x2e2f57=_0x3c42e7;let _0x227c44=[];return _0x415d93[_0x2e2f57(0x146)](function(_0xcf8d43){const _0x16ee89=_0x2e2f57;_0x227c44[_0x16ee89(0x1f6)](_0xcf8d43[0x4]);}),_0x227c44;}function getConfiguration(_0x3ac339){const _0x52b79d=_0x3c42e7;let _0x6b4588=dbConfig['get'](_0x52b79d(0x1b5))['find']({'botID':_0x3ac339})['value']();if(_0x6b4588){let _0x1a8193=![];!_0x6b4588[_0x52b79d(0x11b)]&&(_0x6b4588={..._0x6b4588,'exchange':'binance'},_0x1a8193=!![]),!_0x6b4588[_0x52b79d(0x195)]&&(_0x6b4588={..._0x6b4588,'basecoin':_0x52b79d(0x1e4)},_0x1a8193=!![]),!_0x6b4588[_0x52b79d(0x14d)]&&(_0x6b4588={..._0x6b4588,'ordertype':_0x52b79d(0x1b2)},_0x1a8193=!![]),!_0x6b4588[_0x52b79d(0x1c7)]&&(_0x6b4588={..._0x6b4588,'timeout':0x14},_0x1a8193=!![]),!_0x6b4588['emojibuy']&&(_0x6b4588={..._0x6b4588,'emojibuy':''},_0x1a8193=!![]),!_0x6b4588['emojisell']&&(_0x6b4588={..._0x6b4588,'emojisell':''},_0x1a8193=!![]),!_0x6b4588[_0x52b79d(0x206)]&&(_0x6b4588={..._0x6b4588,'showname':![]},_0x1a8193=!![]),_0x1a8193&&(_0x6b4588={'botID':_0x6b4588[_0x52b79d(0x16c)],'exchange':_0x6b4588[_0x52b79d(0x11b)],'apiKey':_0x6b4588[_0x52b79d(0x177)],'apiSecret':_0x6b4588[_0x52b79d(0x139)],'basecoin':_0x6b4588['basecoin'],'botname':_0x6b4588[_0x52b79d(0x217)],'showname':_0x6b4588[_0x52b79d(0x206)],'threshold':_0x6b4588['threshold'],'ordertype':_0x6b4588[_0x52b79d(0x14d)],'timeout':_0x6b4588[_0x52b79d(0x1c7)],'startdate':_0x6b4588[_0x52b79d(0x143)],'recreate':_0x6b4588[_0x52b79d(0x1d1)],'timeshift':_0x6b4588[_0x52b79d(0x215)],'headless':_0x6b4588[_0x52b79d(0x187)],'cooldown':_0x6b4588['cooldown'],'emojibuy':_0x6b4588[_0x52b79d(0x1b0)],'emojisell':_0x6b4588[_0x52b79d(0x190)],'portfolio':_0x6b4588[_0x52b79d(0x12b)]},dbConfig[_0x52b79d(0x1f8)]('bot')[_0x52b79d(0x13d)]()[_0x52b79d(0x173)](),dbConfig[_0x52b79d(0x1f8)]('bot')['push'](_0x6b4588)[_0x52b79d(0x173)]());}else _0x6b4588={'botID':_0x3ac339,'exchange':_0x52b79d(0x18d),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x52b79d(0x1a4)+_0x3ac339,'showname':![],'threshold':'3','ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x52b79d(0x215)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x6b4588;}function emittedConfiguration(){const _0x21c369=_0x3c42e7;let _0x3a2f29;return config['apiKey']==''?_0x3a2f29=config:_0x3a2f29={...config,'apiKey':_0x21c369(0x151),'apiSecret':_0x21c369(0x151)},_0x3a2f29;}function getSettings(){const _0xdd4588=_0x3c42e7;return dbSettings[_0xdd4588(0x1f8)](_0xdd4588(0x15a))[_0xdd4588(0x189)]();}function getSecure(){const _0x4dd789=_0x3c42e7;return dbSecure[_0x4dd789(0x1f8)]('secure')[_0x4dd789(0x189)]()||{};}function updateTimeshift(_0x514c77){const _0x5cdfc9=_0x3c42e7;let _0x2ffc45=dbConfig[_0x5cdfc9(0x1f8)](_0x5cdfc9(0x1b5))[_0x5cdfc9(0x131)]({'botID':botID})[_0x5cdfc9(0x189)]();_0x2ffc45&&dbConfig['get']('bot')[_0x5cdfc9(0x131)]({'botID':botID})[_0x5cdfc9(0x1f2)]({'timeshift':_0x514c77})[_0x5cdfc9(0x173)](),config['timeshift']=_0x514c77,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x9fde0){const _0x344108=_0x3c42e7;let _0x17cf6b=dbConfig[_0x344108(0x1f8)](_0x344108(0x1b5))[_0x344108(0x131)]({'botID':botID})['value']();_0x9fde0={..._0x9fde0,'apiKey':crypt[_0x344108(0x1fd)](secure['privateKey'],_0x9fde0[_0x344108(0x177)])['message'],'apiSecret':crypt[_0x344108(0x1fd)](secure[_0x344108(0x1eb)],_0x9fde0[_0x344108(0x139)])['message']};if(_0x17cf6b){if(_0x9fde0[_0x344108(0x177)]=='************')_0x9fde0[_0x344108(0x177)]=config[_0x344108(0x177)];if(_0x9fde0[_0x344108(0x139)]==_0x344108(0x151))_0x9fde0[_0x344108(0x139)]=config[_0x344108(0x139)];dbConfig[_0x344108(0x1f8)](_0x344108(0x1b5))[_0x344108(0x131)]({'botID':botID})[_0x344108(0x1f2)](_0x9fde0)[_0x344108(0x173)]();}else dbConfig[_0x344108(0x1f8)](_0x344108(0x1b5))['push'](_0x9fde0)['write'](),process[_0x344108(0x1c3)]({'status':_0x344108(0x11e),'live':_0x344108(0x185)});config={..._0x9fde0};if(config[_0x344108(0x1d1)])await recreateHistory(config);else await setStartDatePerformance(config);process['send']({'botname':_0x9fde0['botname']}),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x5798de){const _0x49af87=_0x3c42e7,_0x1654a8={...config,'headless':_0x5798de[_0x49af87(0x187)]};let _0x10b6bc=dbConfig[_0x49af87(0x1f8)](_0x49af87(0x1b5))[_0x49af87(0x131)]({'botID':botID})[_0x49af87(0x189)]();_0x10b6bc&&dbConfig[_0x49af87(0x1f8)](_0x49af87(0x1b5))[_0x49af87(0x131)]({'botID':botID})[_0x49af87(0x1f2)](_0x1654a8)[_0x49af87(0x173)](),config={..._0x1654a8},proxyEmit(_0x49af87(0x1fb),emittedConfiguration());}function noslash(_0x8c7063){const _0x41a136=_0x3c42e7;return _0x8c7063[_0x41a136(0x1bf)]('/','');}function updateNumberCoins(_0x18365d){const _0x11a7f5=_0x3c42e7;_0x18365d[_0x11a7f5(0x124)]&&_0x18365d[_0x11a7f5(0x124)]==_0x11a7f5(0x20a)&&_0x18365d[_0x11a7f5(0x1a0)]['forEach'](_0x206969=>{const _0x5bf26b=_0x11a7f5;let _0x425318=currentCoins[_0x5bf26b(0x131)](_0x50a583=>_0x50a583[_0x5bf26b(0x18b)]==_0x206969[_0x5bf26b(0x1d0)]);if(_0x425318)_0x425318[_0x5bf26b(0x17a)]=Number(_0x206969[_0x5bf26b(0x15c)]);}),_0x18365d['eventType']&&_0x18365d[_0x11a7f5(0x124)]==_0x11a7f5(0x1f4)&&(_0x18365d[_0x11a7f5(0x167)]==_0x11a7f5(0x20e)&&_0x18365d[_0x11a7f5(0x1d5)]=='FILLED'&&lastOrders[_0x11a7f5(0x146)](_0x94b7c9=>{const _0x30c320=_0x11a7f5;if(_0x94b7c9['orderId']==_0x18365d[_0x30c320(0x205)]){if(_0x94b7c9[_0x30c320(0x110)])_0x94b7c9['filled']=_0x18365d[_0x30c320(0x1dd)]*_0x94b7c9[_0x30c320(0x183)];else _0x94b7c9['filled']=_0x18365d[_0x30c320(0x1dd)];}}));}async function getCoins(_0x2375d7=!![],_0x3bc838=config['basecoin']){const _0x1376d2=_0x3c42e7;let _0x1e25e4,_0x1b66a8=[],_0x355d59=[],_0xf1f676=[];try{_0x1e25e4=await exchange[_0x1376d2(0x11a)](),mybalances=_0x1e25e4[_0x1376d2(0x130)];if(!_0x2375d7)for(const [_0x5cad35,_0x4d7b08]of Object[_0x1376d2(0x1d4)](mybalances)){_0xf1f676[_0x1376d2(0x1f6)](_0x5cad35);}else config['portfolio'][_0x1376d2(0x146)](_0x43e194=>{const _0x281d10=_0x1376d2;if(!_0x43e194['excluded'])_0xf1f676[_0x281d10(0x1f6)](_0x43e194[_0x281d10(0x18b)]);});if(_0x3bc838=='')for(const [_0x4ab321,_0x226aed]of Object[_0x1376d2(0x1d4)](mybalances)){_0x226aed['toString']()!=0x0&&_0x355d59[_0x1376d2(0x1f6)]({'coin':_0x4ab321});}else for(const [_0x41764a,_0x2902c5]of Object[_0x1376d2(0x1d4)](mybalances)){if(_0xf1f676[_0x1376d2(0x1f5)](_0x41764a)){if((_0x2902c5[_0x1376d2(0x13c)]()!=0x0||config['portfolio'][_0x1376d2(0x131)](_0x1ff415=>_0x1ff415[_0x1376d2(0x18b)]==_0x41764a))&&(allSymbols['includes'](_0x41764a+'/'+_0x3bc838)||_0x41764a==_0x3bc838))_0x355d59[_0x1376d2(0x1f6)]({'coin':_0x41764a,'symbol':_0x41764a+'/'+_0x3bc838,'reverse':![],'number':_0x2902c5}),_0x41764a!=_0x3bc838&&_0x1b66a8[_0x1376d2(0x1f6)](_0x41764a+'/'+_0x3bc838);else(_0x2902c5[_0x1376d2(0x13c)]()!=0x0||config['portfolio'][_0x1376d2(0x131)](_0x31d879=>_0x31d879[_0x1376d2(0x18b)]==_0x41764a))&&allSymbols[_0x1376d2(0x1f5)](_0x3bc838+'/'+_0x41764a)&&(_0x355d59[_0x1376d2(0x1f6)]({'coin':_0x41764a,'symbol':_0x3bc838+'/'+_0x41764a,'reverse':!![],'number':_0x2902c5}),_0x41764a!=_0x3bc838&&_0x1b66a8[_0x1376d2(0x1f6)](_0x3bc838+'/'+_0x41764a));}}}catch(_0x152046){if(!_0x2375d7){if(_0x152046[_0x1376d2(0x13c)]()[_0x1376d2(0x1f5)](_0x1376d2(0x1cf)))return logHistory(_0x1376d2(0x129),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x152046[_0x1376d2(0x13c)]()[_0x1376d2(0x1f5)](_0x1376d2(0x1dc)))return logHistory('error','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x152046[_0x1376d2(0x13c)]()[_0x1376d2(0x1f5)](_0x1376d2(0x153)))return logHistory(_0x1376d2(0x129),_0x1376d2(0x116)),![];else await handleError(_0x152046,_0x1376d2(0x1d9));}}}else await handleError(_0x152046,_0x1376d2(0x1d9));}return _0x355d59;}async function getPortfolio(_0x3a4995){const _0x83c5a0=_0x3c42e7;let _0x6dfc1d=[],_0x15cc02=[],_0x3dd8fc,_0x34ef0e=[],_0x52760a,_0x3dfc9d;_0x3a4995['apiKey']===_0x83c5a0(0x151)||_0x3a4995[_0x83c5a0(0x139)]===_0x83c5a0(0x151)?(_0x52760a=config['apiKey'],_0x3dfc9d=config[_0x83c5a0(0x139)]):(_0x52760a=_0x3a4995[_0x83c5a0(0x177)],_0x3dfc9d=_0x3a4995[_0x83c5a0(0x139)]);await initExchange(_0x52760a,_0x3dfc9d);let _0x3b24f8=await loadSymbols();if(_0x3b24f8){_0x34ef0e=await getCoins(![],_0x3a4995[_0x83c5a0(0x195)]);if(_0x34ef0e===![])proxyEmit('portfolio',![]);else{if(_0x3a4995['basecoin']=='')proxyEmit(_0x83c5a0(0x12b),_0x34ef0e);else{_0x34ef0e['forEach'](_0x1356a0=>{const _0x1edf5e=_0x83c5a0;_0x6dfc1d[_0x1edf5e(0x1f6)](_0x1356a0[_0x1edf5e(0x178)]);});try{_0x15cc02=await exchange[_0x83c5a0(0x11d)](_0x6dfc1d);}catch(_0x317f0b){await handleError(_0x317f0b,_0x83c5a0(0x20f));}_0x34ef0e[_0x83c5a0(0x146)](_0x207d00=>{const _0x1d1433=_0x83c5a0;_0x207d00['coin']!=_0x3a4995[_0x1d1433(0x195)]?_0x3dd8fc=_0x207d00[_0x1d1433(0x110)]?0x1/_0x15cc02[_0x207d00[_0x1d1433(0x178)]]['last']:_0x15cc02[_0x207d00['symbol']][_0x1d1433(0x1a5)]:_0x3dd8fc=0x1,_0x207d00['price']=formatResult(_0x3dd8fc,0x8);}),proxyEmit(_0x83c5a0(0x12b),_0x34ef0e);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x15e1c6){const _0x2efe07=_0x3c42e7;let _0x219a84=!![];const _0x33a44e=!_0x15e1c6[_0x2efe07(0x110)]?markets[_0x15e1c6[_0x2efe07(0x178)]][_0x2efe07(0x216)][_0x2efe07(0x212)][_0x2efe07(0x1ed)]:markets[_0x15e1c6['symbol']][_0x2efe07(0x216)][_0x2efe07(0x208)][_0x2efe07(0x1ed)],_0x3fb416=!_0x15e1c6[_0x2efe07(0x110)]?markets[_0x15e1c6[_0x2efe07(0x178)]][_0x2efe07(0x216)][_0x2efe07(0x208)][_0x2efe07(0x1ed)]:markets[_0x15e1c6['symbol']][_0x2efe07(0x216)][_0x2efe07(0x212)][_0x2efe07(0x1ed)];if(Math[_0x2efe07(0x120)](_0x15e1c6[_0x2efe07(0x17b)])<_0x33a44e)_0x219a84=![];if(Math[_0x2efe07(0x120)](_0x15e1c6[_0x2efe07(0x17b)])*_0x15e1c6[_0x2efe07(0x1a5)]<_0x3fb416)_0x219a84=![];return _0x219a84;}async function getBalances(){const _0x2a65c9=_0x3c42e7;let _0x1eab4f=0x0,_0x2c09f3;const _0x40f74e=config[_0x2a65c9(0x1c4)];currentCoins[_0x2a65c9(0x146)](_0x31e649=>{const _0x2f3566=_0x2a65c9;if(_0x31e649[_0x2f3566(0x18b)]!=config[_0x2f3566(0x195)]){let _0x105c89=global[_0x2f3566(0x175)][noslash(_0x31e649[_0x2f3566(0x178)])];_0x2c09f3=_0x31e649['reverse']?0x1/_0x105c89:_0x105c89;}else _0x2c09f3=0x1;let _0x39a073=_0x31e649['number']*_0x2c09f3;_0x1eab4f+=_0x39a073,_0x31e649[_0x2f3566(0x1a5)]=formatResult(Number(_0x2c09f3),0x8),_0x31e649[_0x2f3566(0x189)]=_0x39a073;}),currentCoins['forEach'](_0x16266e=>{const _0x52ad7a=_0x2a65c9;let _0x52397c=config['portfolio'][_0x52ad7a(0x131)](_0x2c4a80=>_0x2c4a80[_0x52ad7a(0x18b)]==_0x16266e[_0x52ad7a(0x18b)]),_0x340f82=Number(_0x52397c[_0x52ad7a(0x118)]),_0xa97325=_0x16266e[_0x52ad7a(0x189)]/_0x1eab4f*0x64,_0x1fc6af=_0x340f82*_0x1eab4f/0x64/_0x16266e[_0x52ad7a(0x1a5)]-_0x16266e[_0x52ad7a(0x17a)];_0x16266e[_0x52ad7a(0x118)]=formatResult(_0xa97325,0x3),_0x16266e[_0x52ad7a(0x159)]=formatResult(_0x340f82,0x3),_0x16266e[_0x52ad7a(0x17b)]=formatResult(_0x1fc6af,0x8),_0x16266e[_0x52ad7a(0x1ea)]='',_0x16266e[_0x52ad7a(0x1a7)]='';if(_0x16266e['coin']!=config[_0x52ad7a(0x195)]){if(_0x16266e[_0x52ad7a(0x118)]>_0x340f82)_0x16266e['side']=_0x52ad7a(0x1c9),_0x16266e[_0x52ad7a(0x1a7)]=checkMinimums(_0x16266e);else _0x16266e['distribution']<_0x340f82&&(_0x16266e[_0x52ad7a(0x1ea)]=_0x52ad7a(0x17e),_0x16266e['valid']=checkMinimums(_0x16266e));}_0x16266e[_0x52ad7a(0x1e5)]=_0x16266e[_0x52ad7a(0x118)]/_0x16266e[_0x52ad7a(0x159)]-0x1;}),currentCoins['sort']((_0x121b0c,_0x793e29)=>_0x121b0c[_0x2a65c9(0x1e5)]<_0x793e29[_0x2a65c9(0x1e5)]?0x1:_0x793e29[_0x2a65c9(0x1e5)]<_0x121b0c[_0x2a65c9(0x1e5)]?-0x1:0x0);const _0x5c9d36=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5c9d36[_0x2a65c9(0x140)],'usd':_0x5c9d36[_0x2a65c9(0x12d)],'portfolio':JSON[_0x2a65c9(0x210)](currentCoins),'threshold':_0x40f74e},proxyEmit(_0x2a65c9(0x1a0),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x2a65c9(0x187)])headlessMode({'portfolio':currentCoins,'threshold':_0x40f74e});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x35b4a9=_0x3c42e7;if(!lastBalances)return;let _0x4f8c55=await getStartingBalances(![]),_0x473dd9=[],_0x5a61f2=[],_0x1c62f2;JSON['parse'](lastBalances[_0x35b4a9(0x12b)])[_0x35b4a9(0x146)](_0x135a9a=>{const _0x1264a9=_0x35b4a9;let _0x3e4e5c={'coin':_0x135a9a[_0x1264a9(0x18b)],'number':_0x135a9a[_0x1264a9(0x17a)],'price':_0x135a9a[_0x1264a9(0x1a5)]};_0x473dd9[_0x1264a9(0x1f6)](_0x3e4e5c);if(!_0x4f8c55[_0x1264a9(0x1d7)]||!_0x4f8c55[_0x1264a9(0x1d7)][_0x1264a9(0x131)](_0x4ca8ec=>_0x4ca8ec[_0x1264a9(0x18b)]==_0x135a9a[_0x1264a9(0x18b)]&&_0x4ca8ec[_0x1264a9(0x17a)]!=0x0))_0x5a61f2[_0x1264a9(0x1f6)](_0x3e4e5c);});const _0x4e07e5=await getFiat();_0x1c62f2={'date':lastBalances[_0x35b4a9(0x1b1)][_0x35b4a9(0x198)]('\x20')[0x0],'eur':_0x4e07e5['eur'],'usd':_0x4e07e5[_0x35b4a9(0x12d)],'coins':_0x473dd9};let _0x2953d4=dbPerformance[_0x35b4a9(0x1f8)](_0x35b4a9(0x14f))['find']({'date':_0x1c62f2[_0x35b4a9(0x1b6)]})['value']();_0x2953d4?dbPerformance[_0x35b4a9(0x1f8)](_0x35b4a9(0x14f))['find']({'date':_0x1c62f2[_0x35b4a9(0x1b6)]})[_0x35b4a9(0x1f2)](_0x1c62f2)['write']():dbPerformance['get'](_0x35b4a9(0x14f))[_0x35b4a9(0x1f6)](_0x1c62f2)['write'](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x5ed2f8=_0x3c42e7;if(dbPerformance[_0x5ed2f8(0x1df)]('data')['value']()){let _0x24538b=dbPerformance[_0x5ed2f8(0x1f8)]('data')[_0x5ed2f8(0x1e8)]('date')['value']();proxyEmit(_0x5ed2f8(0x20c),_0x24538b),lastPerformanceEmitted=getDate();}else proxyEmit(_0x5ed2f8(0x20c),[]);}async function getStartingBalances(_0x271051=!![]){const _0xce43fa=_0x3c42e7;let _0x47a85f=dbPerformance[_0xce43fa(0x1f8)]('data')[_0xce43fa(0x131)]({'date':config[_0xce43fa(0x143)]})[_0xce43fa(0x189)]();config[_0xce43fa(0x177)]!=''&&!_0x47a85f&&(await setStartDatePerformance(config),_0x47a85f=dbPerformance[_0xce43fa(0x1f8)](_0xce43fa(0x14f))[_0xce43fa(0x131)]({'date':config[_0xce43fa(0x143)]})[_0xce43fa(0x189)]());if(config[_0xce43fa(0x177)]==''||!_0x47a85f)return{};let _0x2d56fc=0x0,_0x1162ed=0x0,_0x1cde6a=0x0,_0x1ca897=[],_0x4af4a9=0x0;config[_0xce43fa(0x12b)][_0xce43fa(0x146)](_0x67f209=>{const _0x528254=_0xce43fa;if(!_0x67f209[_0x528254(0x111)]){_0x1ca897[_0x4af4a9]={'coin':_0x67f209['coin'],'symbol':_0x67f209[_0x528254(0x178)],'number':_0x67f209[_0x528254(0x113)],'price':_0x67f209[_0x528254(0x1ac)]},_0x2d56fc+=_0x67f209[_0x528254(0x1ac)]*_0x67f209['startnumber'];if(config[_0x528254(0x195)]==_0x528254(0x1e4))_0x1162ed+=_0x67f209[_0x528254(0x1ac)]*_0x67f209['startnumber']*_0x47a85f[_0x528254(0x140)],_0x1cde6a+=_0x67f209[_0x528254(0x1ac)]*_0x67f209[_0x528254(0x113)]*_0x47a85f[_0x528254(0x12d)];else{if(config[_0x528254(0x195)]==_0x528254(0x133)||config[_0x528254(0x195)]==_0x528254(0x147)||config[_0x528254(0x195)]==_0x528254(0x122))_0x1162ed+=_0x67f209[_0x528254(0x1ac)]*_0x67f209['startnumber']*_0x47a85f[_0x528254(0x140)]/_0x47a85f[_0x528254(0x12d)],_0x1cde6a+=_0x67f209[_0x528254(0x1ac)]*_0x67f209[_0x528254(0x113)];else config[_0x528254(0x195)]==_0x528254(0x1fe)&&(_0x1162ed+=_0x67f209['startprice']*_0x67f209[_0x528254(0x113)],_0x1cde6a+=_0x67f209[_0x528254(0x1ac)]*_0x67f209[_0x528254(0x113)]*_0x47a85f['usd']/_0x47a85f['eur']);}_0x4af4a9++;}});let _0x56ce5f={'basecoin':_0x2d56fc,'eur':_0x1162ed,'usd':_0x1cde6a,'coins':_0x1ca897};if(_0x271051)proxyEmit(_0xce43fa(0x200),_0x56ce5f);return _0x56ce5f;}function _0xb754(){const _0xe05fd0=['Signature\x20for\x20this\x20request\x20is\x20not\x20valid','subscribeSpotKline','order','\x20>\x20','differenceInCalendarDays','event','target','settings','indexOf','availableBalance','version','filled','datetime','yyyy/MM/dd\x20HH:mm:ss','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','ExchangeNotAvailable','getMinutes','differenceInSeconds','restart','7ZuXOaM','orderType','-results.json','defaults','limit-low','fetchOHLCV','botID','Performance\x20recreation\x20completed\x20successfully','-events.json','test','page','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','cancelOrder','write','Order:\x20','ticker','getFiat()','apiKey','symbol','padStart','number','trade','spot','placeOrder','buy','bot-','isArray','\x20order:\x20','sort','price','cooldown','running','bid','headless','ask','value','format','coin',':\x20Bot\x20','binance','getCloses()','breakeven','emojisell','WebSockets(','slice','31775958BYwlCU','parseISO','basecoin','2484656pCoTtr','wss://stream.binance.com:9443','split','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','Limit\x20(low-margin)','./config/','search','15MDolxS','Limit\x20(high-margin)','(((.+)+)+)+$','balances','getSeconds','BTC/EUR','\x20|\x20Unknown\x20error\x20occured','Bot\x20','last','fee','valid','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','reconnected','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','closeWs','startprice','reduce','filter','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','emojibuy','time','market','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','limit','bot','date','coinamount','10305368GhgfqA','bb-secure.json','formattedMessage','sha256','binanceus','userData','Error:\x20Invalid\x20argument\x20','replace',')\x20|\x20Error\x20details:\x20','storeHeadless','length','send','threshold','Order(s)\x20filled\x20-\x20balancing\x20resumed','getStartingBalances','timeout','mkdirSync','sell','getPortfolio','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','fetchOrders','exit','OrderNotFound','API-key\x20format\x20invalid','asset','recreate','toLowerCase','BNB','entries','orderStatus','DAI/','coins','milliseconds','getCoins()','limit-high','kline','AuthenticationError','accumulatedQuantity','round','has','parse','cancelOrder()','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','args','BTC','delta','-performance.json','DDoSProtection','sortBy','getDate','side','privateKey','log','min','currency','map','\x20hour','lowdb','assign','yyyy/MM/dd','executionReport','includes','push','BTC/BUSD','get','BTCEUR','getTime','configuration','3484323vQKLEj','decrypt','EUR','recreateHistory()','starting-balances','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','createOrder','loadMarkets','wsKey','orderId','showname','RequestTimeout','cost','BTCUSDT','outboundAccountPosition','2488176juccOj','performance','Order\x20filled:\x20','LIMIT','getPortfolio()','stringify','buys','amount','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','loadSymbols()','timeshift','limits','botname','Order(s)\x20validated\x20-\x20balancing\x20resumed','reverse','excluded','\x20minutes\x20-\x20balancing\x20resumed','startnumber','\x20|\x20Error\x20details:\x20','logs','Binance\x20API\x20secret\x20is\x20invalid','Order\x20amount\x20is\x20invalid:\x20','distribution','event-history','fetchBalance','exchange','keys','fetchTickers','enabled','apply','abs','close','USDC','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','eventType','realized','coin-loading-progress','date-fns','message','error','toFixed','portfolio','type','usd','bb-settings.json','constructor','total','find','function','BUSD','kill','InvalidNonce','sells','timestamp','MIN_NOTIONAL','apiSecret','wsMarket','argv','toString','remove','BTC/USDT','001','eur','544254GAYrGw','success','startdate','\x20-\x20','ccxt','forEach','USDT','getHours','\x20orders\x20in\x20less\x20than\x20','splice','1091104pkVrMe','-config.json','ordertype','getFullYear','data','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','************','InsufficientFunds'];_0xb754=function(){return _0xe05fd0;};return _0xb754();}function headlessMode(_0x11a745){const _0x484719=_0x3c42e7;let _0x2a0c0c=_0x11a745[_0x484719(0x12b)],_0x21c24c=_0x11a745[_0x484719(0x1c4)],_0x41b2d2=[];for(let _0x3eb275 of _0x2a0c0c){if(_0x3eb275['coin']!=config['basecoin']){if(_0x3eb275[_0x484719(0x118)]/_0x3eb275[_0x484719(0x159)]-0x1>=_0x21c24c/0x64){if(_0x3eb275[_0x484719(0x1a7)])_0x41b2d2[_0x484719(0x1f6)](_0x3eb275);}else{if(_0x3eb275[_0x484719(0x118)]/_0x3eb275[_0x484719(0x159)]-0x1<=-_0x21c24c/0x64){if(_0x3eb275['valid'])_0x41b2d2[_0x484719(0x1f6)](_0x3eb275);}}}}_0x41b2d2[_0x484719(0x1c2)]>0x0&&placeOrder(_0x41b2d2);}function symbolToCoin(_0x2d7cdb){const _0x13e522=_0x3c42e7;let _0x1c2266;if(_0x2d7cdb[_0x13e522(0x1f5)]('/'+config[_0x13e522(0x195)]))_0x1c2266=_0x2d7cdb[_0x13e522(0x1bf)]('/'+config['basecoin'],'');if(_0x2d7cdb['includes'](config['basecoin']+'/'))_0x1c2266=_0x2d7cdb['replace'](config[_0x13e522(0x195)]+'/','');return _0x1c2266;}async function validateOrders(_0x18576f=0x0){const _0x504c61=_0x3c42e7;let _0x2e33be=[],_0x5d24d4=config[_0x504c61(0x14d)]==_0x504c61(0x1b2)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x504c61(0x1c7)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x504c61(0x146)](_0x181fa4=>{const _0x67f5b7=_0x504c61;let _0x3f23e2=previousCoins[_0x67f5b7(0x131)](_0x92aa4=>_0x92aa4[_0x67f5b7(0x18b)]==symbolToCoin(_0x181fa4[_0x67f5b7(0x178)])),_0x49434f=currentCoins[_0x67f5b7(0x131)](_0x230937=>_0x230937[_0x67f5b7(0x18b)]==symbolToCoin(_0x181fa4[_0x67f5b7(0x178)])),_0x1a332b,_0x299392;_0x181fa4[_0x67f5b7(0x1ea)]=='buy'&&!_0x181fa4[_0x67f5b7(0x110)]||_0x181fa4[_0x67f5b7(0x1ea)]=='sell'&&_0x181fa4['reverse']?(_0x1a332b=_0x3f23e2[_0x67f5b7(0x17a)]+0.9*_0x181fa4['filled'],_0x299392=_0x3f23e2['number']+1.1*_0x181fa4[_0x67f5b7(0x15e)]):(_0x1a332b=_0x3f23e2['number']-1.1*_0x181fa4[_0x67f5b7(0x15e)],_0x299392=_0x3f23e2[_0x67f5b7(0x17a)]-0.9*_0x181fa4[_0x67f5b7(0x15e)]);const _0x2cf12d=_0x181fa4['filled']!=0x0&&_0x49434f['number']>=_0x1a332b&&_0x49434f[_0x67f5b7(0x17a)]<=_0x299392;_0x2e33be[_0x67f5b7(0x1f6)](_0x2cf12d);if(_0x2cf12d&&config[_0x67f5b7(0x14d)]!=_0x67f5b7(0x1b2)){if(_0x181fa4[_0x67f5b7(0x110)])logHistory(_0x67f5b7(0x155),_0x67f5b7(0x20d)+_0x181fa4[_0x67f5b7(0x178)]+'\x20'+_0x181fa4[_0x67f5b7(0x1ea)]+'\x20#'+formatResult(_0x181fa4[_0x67f5b7(0x15e)]/_0x181fa4[_0x67f5b7(0x183)],0x8)+'\x20@'+formatResult(_0x181fa4['price'],0x8));else logHistory(_0x67f5b7(0x155),'Order\x20filled:\x20'+_0x181fa4['symbol']+'\x20'+_0x181fa4[_0x67f5b7(0x1ea)]+'\x20#'+formatResult(_0x181fa4[_0x67f5b7(0x15e)],0x8)+'\x20@'+formatResult(_0x181fa4['price'],0x8));}}),_0x2e33be[_0x504c61(0x146)]((_0x4835ff,_0x5a9c37)=>{const _0x4a94ec=_0x504c61;if(_0x4835ff)lastOrders[_0x4a94ec(0x14a)](_0x5a9c37,0x1);});if(_0x18576f<_0x5d24d4&&_0x2e33be[_0x504c61(0x1f5)](![])){if(_0x18576f==0x0){config[_0x504c61(0x14d)]==_0x504c61(0x1b2)?logHistory(_0x504c61(0x129),_0x504c61(0x1cb)):logHistory('error',_0x504c61(0x123));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x18576f);},0xa*0x3e8);}else{(_0x18576f==0x1||_0x18576f==Math[_0x504c61(0x1de)](_0x5d24d4/0x2)||_0x18576f==_0x5d24d4-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x18576f);},validateOrderInterval);}}else{lockOrders=![];if(_0x18576f>0x0&&!_0x2e33be[_0x504c61(0x1f5)](![]))config[_0x504c61(0x14d)]==_0x504c61(0x1b2)?logHistory(_0x504c61(0x142),_0x504c61(0x10f)):logHistory(_0x504c61(0x142),_0x504c61(0x1c5));else _0x18576f>0x0&&_0x2e33be['includes'](![])&&(config['ordertype']==_0x504c61(0x1b2)?logHistory(_0x504c61(0x142),'Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x5d24d4*validateOrderInterval/0xea60)+_0x504c61(0x112)):(lastOrders[_0x504c61(0x146)](async _0x24004f=>{const _0x2cf35b=_0x504c61;try{const _0x552196=await exchange[_0x2cf35b(0x172)](_0x24004f[_0x2cf35b(0x205)],_0x24004f['symbol']);}catch(_0x3d6083){if(_0x3d6083[_0x2cf35b(0x13c)]()[_0x2cf35b(0x1f5)](_0x2cf35b(0x1ce))){}else await handleError(_0x3d6083,_0x2cf35b(0x1e1));}}),logHistory(_0x504c61(0x142),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x504c61(0x1de)](_0x5d24d4*validateOrderInterval/0xea60)+_0x504c61(0x112))));}}async function resetCoinResults(){const _0x19622e=_0x3c42e7;dbCoinResults['get']('coins')[_0x19622e(0x13d)]()['write']();let _0x5b1b10=await getStartingBalances(![]);_0x5b1b10['coins'][_0x19622e(0x146)](_0x232364=>{const _0x35c100=_0x19622e,_0x88d27d=_0x232364['symbol'][_0x35c100(0x1f5)](config['basecoin']+'/');if(_0x232364[_0x35c100(0x18b)]!=config[_0x35c100(0x195)]){let _0x5b9327={'coin':_0x232364[_0x35c100(0x18b)],'number':_0x232364[_0x35c100(0x17a)],'breakeven':_0x232364[_0x35c100(0x183)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x35c100(0x1f8)](_0x35c100(0x1d7))['push'](_0x5b9327)[_0x35c100(0x173)]();}});}async function updateCoinResults(_0x2a0cc9){const _0x5840d3=_0x3c42e7;let _0x30224c,_0x41dc86,_0x51c779,_0x3f9d7b,_0x412a41,_0x10e5b4,_0x30f0ed=dbCoinResults['get'](_0x5840d3(0x1d7))['find']({'coin':_0x2a0cc9[_0x5840d3(0x18b)]})[_0x5840d3(0x189)]();if(!_0x30f0ed)return;if(_0x2a0cc9[_0x5840d3(0x1a6)]&&_0x2a0cc9['fee']['currency']==config['basecoin'])_0x30224c=_0x2a0cc9[_0x5840d3(0x1a6)]['cost'];else{if(_0x2a0cc9['fee']&&_0x2a0cc9[_0x5840d3(0x1a6)][_0x5840d3(0x1ee)]=='BNB')_0x30224c=_0x2a0cc9['fee'][_0x5840d3(0x208)]*global[_0x5840d3(0x175)][_0x5840d3(0x1d3)+config[_0x5840d3(0x195)]];else _0x30224c=0.001*_0x2a0cc9['filled'];}const _0x125a28=_0x2a0cc9[_0x5840d3(0x178)][_0x5840d3(0x1f5)](config[_0x5840d3(0x195)]+'/');_0x125a28&&(_0x10e5b4={'coin':_0x2a0cc9[_0x5840d3(0x18b)],'symbol':_0x2a0cc9['symbol'],'filled':_0x2a0cc9[_0x5840d3(0x15e)]*_0x2a0cc9[_0x5840d3(0x183)],'side':_0x2a0cc9[_0x5840d3(0x1ea)]==_0x5840d3(0x1c9)?_0x5840d3(0x17e):_0x5840d3(0x1c9),'price':0x1/_0x2a0cc9[_0x5840d3(0x183)]},_0x2a0cc9={..._0x10e5b4});_0x2a0cc9[_0x5840d3(0x1ea)]==_0x5840d3(0x17e)?_0x51c779=(_0x30f0ed[_0x5840d3(0x18f)]*_0x30f0ed['number']+_0x2a0cc9[_0x5840d3(0x183)]*_0x2a0cc9['filled'])/(_0x30f0ed['number']+_0x2a0cc9[_0x5840d3(0x15e)]):_0x51c779=(_0x30f0ed[_0x5840d3(0x18f)]*_0x30f0ed[_0x5840d3(0x17a)]-_0x2a0cc9[_0x5840d3(0x183)]*_0x2a0cc9[_0x5840d3(0x15e)])/(_0x30f0ed[_0x5840d3(0x17a)]-_0x2a0cc9[_0x5840d3(0x15e)]);_0x2a0cc9[_0x5840d3(0x1ea)]==_0x5840d3(0x17e)?_0x3f9d7b=_0x30f0ed[_0x5840d3(0x125)]:_0x3f9d7b=_0x30f0ed[_0x5840d3(0x125)]+(_0x2a0cc9[_0x5840d3(0x183)]-_0x30f0ed['breakeven'])*_0x2a0cc9[_0x5840d3(0x15e)];_0x41dc86=_0x2a0cc9['side']==_0x5840d3(0x1c9)?_0x30f0ed[_0x5840d3(0x17a)]-_0x2a0cc9[_0x5840d3(0x15e)]:_0x30f0ed[_0x5840d3(0x17a)]+_0x2a0cc9[_0x5840d3(0x15e)],_0x412a41=(_0x2a0cc9[_0x5840d3(0x183)]-_0x51c779)*_0x41dc86;let _0x4b2843={'coin':_0x2a0cc9[_0x5840d3(0x18b)],'number':_0x41dc86,'breakeven':formatResult(_0x51c779,0x8),'realized':formatResult(_0x3f9d7b,0x8),'unrealized':formatResult(_0x412a41,0x8),'fees':formatResult(_0x30f0ed['fees']+_0x30224c,0x8),'sells':_0x2a0cc9['side']==_0x5840d3(0x1c9)?_0x30f0ed['sells']+0x1:_0x30f0ed[_0x5840d3(0x136)],'buys':_0x2a0cc9[_0x5840d3(0x1ea)]=='buy'?_0x30f0ed[_0x5840d3(0x211)]+0x1:_0x30f0ed[_0x5840d3(0x211)]};dbCoinResults[_0x5840d3(0x1f8)]('coins')['find']({'coin':_0x2a0cc9[_0x5840d3(0x18b)]})[_0x5840d3(0x1f2)](_0x4b2843)['write']();}async function placeOrder(_0x55efbd){const _0x59bb97=_0x3c42e7,_0x5c1f04=config[_0x59bb97(0x14d)]==_0x59bb97(0x1b2)?_0x59bb97(0x1b2):'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x59bb97(0x1e0)](JSON['stringify'](currentCoins));for(const _0x2be0b0 of _0x55efbd){let _0xd68f77,_0x291608,_0x5670ee,_0x608a77,_0x1c731e,_0x35cab4=_0x2be0b0['symbol'];try{const _0x2aea72=await exchange['fetchTickers'](_0x35cab4),_0x3e5e04=_0x2aea72[_0x35cab4];_0xd68f77=_0x3e5e04['last'],_0x291608=_0x3e5e04[_0x59bb97(0x186)],_0x5670ee=_0x3e5e04[_0x59bb97(0x188)];_0x2be0b0[_0x59bb97(0x110)]?(_0x608a77=_0x2be0b0[_0x59bb97(0x1ea)]==_0x59bb97(0x17e)?_0x59bb97(0x1c9):'buy',_0x1c731e=Math[_0x59bb97(0x120)](_0x2be0b0[_0x59bb97(0x17b)])/_0xd68f77):(_0x608a77=_0x2be0b0[_0x59bb97(0x1ea)],_0x1c731e=Math['abs'](_0x2be0b0[_0x59bb97(0x17b)]));_0x5c1f04==_0x59bb97(0x1b4)&&(config[_0x59bb97(0x14d)]=='limit-high'&&(_0xd68f77=_0x608a77==_0x59bb97(0x17e)?_0x291608:_0x5670ee),config[_0x59bb97(0x14d)]==_0x59bb97(0x16a)&&(_0xd68f77=_0x608a77==_0x59bb97(0x17e)?_0x5670ee:_0x291608));_0x1c731e=formatResult(_0x1c731e,0x8),_0xd68f77=formatResult(_0xd68f77,0x8);const _0x2d60ab=await exchange[_0x59bb97(0x202)](_0x35cab4,_0x5c1f04,_0x608a77,_0x1c731e,_0xd68f77);lastOrders[_0x59bb97(0x1f6)]({'orderId':_0x2d60ab['id'],'symbol':_0x35cab4,'side':_0x608a77,'reverse':_0x2be0b0['reverse'],'amount':_0x2be0b0[_0x59bb97(0x110)]?_0x2d60ab[_0x59bb97(0x212)]*_0x2d60ab[_0x59bb97(0x183)]:_0x2d60ab[_0x59bb97(0x212)],'filled':_0x2be0b0[_0x59bb97(0x110)]?_0x2d60ab['filled']*_0x2d60ab[_0x59bb97(0x183)]:_0x2d60ab[_0x59bb97(0x15e)],'price':_0x2d60ab[_0x59bb97(0x183)]});const _0x2a8069=_0x608a77==_0x59bb97(0x1c9)?config[_0x59bb97(0x190)]?String['fromCodePoint']('0x'+config[_0x59bb97(0x190)])+'\x20':'':config[_0x59bb97(0x1b0)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x51bde2=_0x5c1f04==_0x59bb97(0x1b2)?'Market':config['ordertype']==_0x59bb97(0x1da)?_0x59bb97(0x19e):_0x59bb97(0x19a);if(_0x5c1f04==_0x59bb97(0x1b2))logHistory(_0x59bb97(0x155),''+_0x2a8069+_0x51bde2+'\x20order:\x20'+_0x35cab4+'\x20'+_0x608a77+'\x20#'+formatResult(_0x2d60ab[_0x59bb97(0x15e)],0x8)+'\x20@'+formatResult(_0x2d60ab[_0x59bb97(0x183)],0x8));else logHistory('order',''+_0x2a8069+_0x51bde2+_0x59bb97(0x181)+_0x35cab4+'\x20'+_0x608a77+'\x20#'+formatResult(_0x2d60ab['amount'],0x8)+'\x20@'+formatResult(_0x2d60ab[_0x59bb97(0x183)],0x8));_0x2d60ab[_0x59bb97(0x18b)]=_0x2be0b0[_0x59bb97(0x18b)],await updateCoinResults(_0x2d60ab);if(config[_0x59bb97(0x184)]!=0x0){let _0x4891d1=null;if(cooldownTracker[_0x59bb97(0x1c2)]==config[_0x59bb97(0x184)]-0x1)_0x4891d1=cooldownTracker['shift']();const _0x172d43=getTimeStamp();cooldownTracker[_0x59bb97(0x1f6)](_0x172d43);if(_0x4891d1){const _0x426795=fns[_0x59bb97(0x164)](new Date(_0x172d43),new Date(_0x4891d1));_0x426795<cooldownInterval&&(logHistory(_0x59bb97(0x129),'Executed\x20'+config['cooldown']+_0x59bb97(0x149)+cooldownInterval/0x3c+_0x59bb97(0x1af)+cooldownPeriod/(0xe10*0x3e8)+_0x59bb97(0x1f0)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x20e54a){if(_0x20e54a['toString']()[_0x59bb97(0x1f5)](_0x59bb97(0x138)))logHistory(_0x59bb97(0x129),_0x59bb97(0x201)+_0x35cab4);else{if(_0x20e54a['toString']()['includes']('Invalid\x20quantity'))logHistory(_0x59bb97(0x129),_0x59bb97(0x117)+_0x35cab4);else await handleError(_0x20e54a,'placeOrder()');}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x59bb97(0x187)]&&(config[_0x59bb97(0x14d)]=='market'?logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x59bb97(0x129),_0x59bb97(0x1a8)));else coolingDown&&(!config[_0x59bb97(0x187)]&&logHistory('error',_0x59bb97(0x1b3)));}}function logHistory(_0x3ab2b8,_0x249eb7,_0x1e0ad2=''){const _0x404300=_0x3c42e7;let _0x4abead={'time':getTimeStamp(),'type':_0x3ab2b8,'event':_0x249eb7,'botname':config['botname'],'showname':config['showname']};dbLogs[_0x404300(0x1f8)](_0x404300(0x115))[_0x404300(0x1f6)](_0x4abead)[_0x404300(0x173)]();if(_0x1e0ad2=='')_0x1e0ad2=_0x249eb7;proxyEmit(_0x404300(0x158),{'log':_0x4abead,'summary':_0x1e0ad2}),process[_0x404300(0x1c3)]({'telegram':_0x4abead}),logging(''+_0x4abead['event']);}function emitHistory(_0x5bb53c={}){const _0x2b8859=_0x3c42e7;Object[_0x2b8859(0x11c)](_0x5bb53c)[_0x2b8859(0x1c2)]==0x0&&(_0x5bb53c={'type':['order',_0x2b8859(0x158)],'event':'','page':0x1});if(_0x5bb53c[_0x2b8859(0x12c)][_0x2b8859(0x1f5)](_0x2b8859(0x158)))_0x5bb53c[_0x2b8859(0x12c)][_0x2b8859(0x14a)](_0x5bb53c['type'][_0x2b8859(0x15b)](_0x2b8859(0x158)),0x1,'error','success');if(dbLogs[_0x2b8859(0x1df)](_0x2b8859(0x115))[_0x2b8859(0x189)]()){let _0x5af182=dbLogs[_0x2b8859(0x1f8)](_0x2b8859(0x115))['filter'](_0x4b5741=>{const _0x102fc8=_0x2b8859;if(_0x5bb53c[_0x102fc8(0x12c)]['length']==0x0)return![];else return _0x5bb53c[_0x102fc8(0x12c)][_0x102fc8(0x1f5)](_0x4b5741[_0x102fc8(0x12c)]);})[_0x2b8859(0x1ae)](_0x9b0093=>{const _0x419618=_0x2b8859;if(_0x5bb53c['event']=='')return!![];else return _0x9b0093['event']['toLowerCase']()[_0x419618(0x1f5)](_0x5bb53c[_0x419618(0x158)][_0x419618(0x1d2)]());})[_0x2b8859(0x1e8)](_0x2b8859(0x1b1)),_0x2df962=_0x5af182[_0x2b8859(0x189)]()[_0x2b8859(0x1c2)];_0x5af182=_0x5af182[_0x2b8859(0x110)]()[_0x2b8859(0x192)]((_0x5bb53c[_0x2b8859(0x170)]-0x1)*logPageSize,_0x5bb53c[_0x2b8859(0x170)]*logPageSize-0x1)['reverse']()[_0x2b8859(0x189)](),proxyEmit(_0x2b8859(0x119),{'logs':_0x5af182,'total':_0x2df962});}else proxyEmit('event-history',{'logs':[],'total':0x0});}async function pauseBot(_0x2ec90e){const _0x38ef39=_0x3c42e7,_0x49671c=new Date()[_0x38ef39(0x1fa)]();if(!lastBotPause)lastBotPause=new Date()[_0x38ef39(0x1fa)](),consecutivePauses=0x1;else{if(_0x49671c-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x38ef39(0x1c3)]({'stop':_0x38ef39(0x165)});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x38ef39(0x1fa)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x38ef39(0x129),'Pausing\x20bot\x20for\x205\x20minutes\x20('+consecutivePauses+')'),await sleep(_0x2ec90e),botPaused=![],reset();}}async function handleError(_0x4aad4b,_0x2521e8,_0x2d2b47=''){const _0x3e2b67=_0x3c42e7;if(_0x4aad4b[_0x3e2b67(0x13c)]()[_0x3e2b67(0x1f5)](_0x3e2b67(0x1e7)))logHistory('error',_0x2521e8+'\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)'),await pauseBot(pauseBotInterval);else{if(_0x4aad4b[_0x3e2b67(0x13c)]()[_0x3e2b67(0x1f5)](_0x3e2b67(0x162)))logHistory(_0x3e2b67(0x129),_0x2521e8+'\x20|\x20Binance\x20exchange\x20is\x20not\x20available'),await pauseBot(pauseBotInterval);else{if(_0x4aad4b[_0x3e2b67(0x13c)]()[_0x3e2b67(0x1f5)](_0x3e2b67(0x207)))logHistory(_0x3e2b67(0x129),_0x2521e8+_0x3e2b67(0x161)),await pauseBot(pauseBotInterval);else{if(_0x4aad4b[_0x3e2b67(0x13c)]()[_0x3e2b67(0x1f5)](_0x3e2b67(0x1cf)))logHistory('error',_0x2521e8+_0x3e2b67(0x150)),logHistory(_0x3e2b67(0x129),_0x3e2b67(0x1e2)),process[_0x3e2b67(0x1c3)]({'stop':_0x3e2b67(0x134)});else{if(_0x4aad4b[_0x3e2b67(0x13c)]()[_0x3e2b67(0x1f5)](_0x3e2b67(0x1dc)))logHistory('error',_0x2521e8+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x3e2b67(0x129),_0x3e2b67(0x1e2)),process[_0x3e2b67(0x1c3)]({'stop':_0x3e2b67(0x134)});else{if(_0x4aad4b['toString']()[_0x3e2b67(0x1f5)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x3e2b67(0x129),_0x2521e8+_0x3e2b67(0x199)),logHistory(_0x3e2b67(0x129),_0x3e2b67(0x1e2)),process[_0x3e2b67(0x1c3)]({'stop':_0x3e2b67(0x134)});else{if(_0x4aad4b[_0x3e2b67(0x13c)]()[_0x3e2b67(0x1f5)](_0x3e2b67(0x213)))logHistory('error',_0x2521e8+_0x3e2b67(0x1aa)),logHistory(_0x3e2b67(0x129),_0x3e2b67(0x1e2)),process[_0x3e2b67(0x1c3)]({'stop':_0x3e2b67(0x134)});else{if(_0x4aad4b[_0x3e2b67(0x13c)]()['includes'](_0x3e2b67(0x135)))logHistory(_0x3e2b67(0x129),_0x2521e8+'\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured'),await pauseBot(pauseBotInterval),process[_0x3e2b67(0x1c3)]({'stop':_0x3e2b67(0x165)});else _0x4aad4b[_0x3e2b67(0x13c)]()[_0x3e2b67(0x1f5)](_0x3e2b67(0x152))?logHistory(_0x3e2b67(0x129),_0x2521e8+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logHistory(_0x3e2b67(0x129),_0x2521e8+_0x3e2b67(0x1a3)),logging(_0x2521e8+_0x3e2b67(0x114),_0x4aad4b),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x10af8f,_0x8f9e6b){const _0xb91494=_0x3c42e7;return parseFloat(_0x10af8f[_0xb91494(0x12a)](_0x8f9e6b));}function logging(_0x5f40ab,_0x4dc59b=''){const _0x37e745=_0x3c42e7;if(config[_0x37e745(0x206)])console[_0x37e745(0x1ec)](getTimeStamp()+':\x20'+config[_0x37e745(0x217)]+_0x37e745(0x156)+_0x5f40ab,_0x4dc59b);else console[_0x37e745(0x1ec)](getTimeStamp()+_0x37e745(0x18c)+botID+'\x20>\x20'+_0x5f40ab,_0x4dc59b);}function getServerTime(){const _0x42e89d=_0x3c42e7,_0x4f4a01=new Date();return _0x4f4a01[_0x42e89d(0x14e)]()+'/'+(_0x4f4a01['getMonth']()+0x1)[_0x42e89d(0x13c)]()[_0x42e89d(0x179)](0x2,'0')+'/'+_0x4f4a01['getDate']()[_0x42e89d(0x13c)]()['padStart'](0x2,'0')+'\x20'+_0x4f4a01[_0x42e89d(0x148)]()[_0x42e89d(0x13c)]()[_0x42e89d(0x179)](0x2,'0')+':'+_0x4f4a01['getMinutes']()['toString']()['padStart'](0x2,'0')+':'+_0x4f4a01[_0x42e89d(0x1a1)]()[_0x42e89d(0x13c)]()[_0x42e89d(0x179)](0x2,'0');}function getTimeStamp(){const _0x58d14e=_0x3c42e7,_0x5f1361=shiftedTime();return _0x5f1361[_0x58d14e(0x14e)]()+'/'+(_0x5f1361['getMonth']()+0x1)['toString']()[_0x58d14e(0x179)](0x2,'0')+'/'+_0x5f1361['getDate']()[_0x58d14e(0x13c)]()[_0x58d14e(0x179)](0x2,'0')+'\x20'+_0x5f1361[_0x58d14e(0x148)]()[_0x58d14e(0x13c)]()[_0x58d14e(0x179)](0x2,'0')+':'+_0x5f1361[_0x58d14e(0x163)]()[_0x58d14e(0x13c)]()[_0x58d14e(0x179)](0x2,'0')+':'+_0x5f1361[_0x58d14e(0x1a1)]()[_0x58d14e(0x13c)]()[_0x58d14e(0x179)](0x2,'0');}function getDate(){const _0x46706f=_0x3c42e7,_0x316cf0=shiftedTime();return _0x316cf0['getFullYear']()+'/'+(_0x316cf0['getMonth']()+0x1)[_0x46706f(0x13c)]()[_0x46706f(0x179)](0x2,'0')+'/'+_0x316cf0[_0x46706f(0x1e9)]()[_0x46706f(0x13c)]()[_0x46706f(0x179)](0x2,'0');}function getHour(){const _0x217d2e=_0x3c42e7,_0x155857=shiftedTime();return _0x155857[_0x217d2e(0x148)]()[_0x217d2e(0x13c)]()[_0x217d2e(0x179)](0x2,'0');}function sleep(_0x2b9567){return new Promise(_0x121364=>setTimeout(_0x121364,_0x2b9567));}function shiftedTime(){const _0x2d84a9=_0x3c42e7,_0xda5415=new Date();let _0x32f753=_0xda5415;if(config&&config[_0x2d84a9(0x215)]!==0x0)_0x32f753=fns['add'](_0xda5415,{'hours':config['timeshift']});return _0x32f753;}