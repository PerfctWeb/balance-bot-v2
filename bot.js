const _0x38761b=_0x4422;(function(_0x681c03,_0x242cbb){const _0x3c9b48=_0x4422,_0x13fe69=_0x681c03();while(!![]){try{const _0x569120=-parseInt(_0x3c9b48(0x262))/0x1+-parseInt(_0x3c9b48(0x280))/0x2*(-parseInt(_0x3c9b48(0x29e))/0x3)+parseInt(_0x3c9b48(0x1ff))/0x4+parseInt(_0x3c9b48(0x243))/0x5*(-parseInt(_0x3c9b48(0x1a6))/0x6)+parseInt(_0x3c9b48(0x286))/0x7*(-parseInt(_0x3c9b48(0x2c5))/0x8)+parseInt(_0x3c9b48(0x206))/0x9+parseInt(_0x3c9b48(0x181))/0xa;if(_0x569120===_0x242cbb)break;else _0x13fe69['push'](_0x13fe69['shift']());}catch(_0x16bafd){_0x13fe69['push'](_0x13fe69['shift']());}}}(_0x55f2,0x75c99));const _0x135deb=function(){let _0x4390e6=!![];return function(_0x2226ce,_0x23bfed){const _0x40ee55=_0x4390e6?function(){const _0x794fbc=_0x4422;if(_0x23bfed){const _0x572db5=_0x23bfed[_0x794fbc(0x188)](_0x2226ce,arguments);return _0x23bfed=null,_0x572db5;}}:function(){};return _0x4390e6=![],_0x40ee55;};}(),_0x3c2672=_0x135deb(this,function(){const _0x2ac0fd=_0x4422;return _0x3c2672[_0x2ac0fd(0x2a3)]()[_0x2ac0fd(0x1f7)](_0x2ac0fd(0x1ee))[_0x2ac0fd(0x2a3)]()[_0x2ac0fd(0x288)](_0x3c2672)[_0x2ac0fd(0x1f7)](_0x2ac0fd(0x1ee));});_0x3c2672();'use strict';const ccxt=require(_0x38761b(0x258))['pro'],low=require(_0x38761b(0x2d5)),FileSync=require(_0x38761b(0x2dc)),fs=require('fs'),fns=require(_0x38761b(0x2cc)),Crypt=require(_0x38761b(0x184))[_0x38761b(0x183)],util=require('util'),argv=require(_0x38761b(0x273))(process[_0x38761b(0x16e)][_0x38761b(0x1a9)](0x2))[_0x38761b(0x16e)],path=require(_0x38761b(0x2a5));let exchange;global[_0x38761b(0x18f)]={},global['change']={};const exceptions={'binance':[_0x38761b(0x1d5),_0x38761b(0x1eb),_0x38761b(0x219),_0x38761b(0x1b0),'YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x38761b(0x18e)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x38761b(0x22f)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require('./version.json')[_0x38761b(0x24e)],botID=process[_0x38761b(0x16e)][0x2]||_0x38761b(0x1d6),pattern=/^[0-9]{3}$/;!pattern[_0x38761b(0x25c)](botID)&&(console[_0x38761b(0x292)]('Error:\x20Invalid\x20argument\x20'+botID+_0x38761b(0x17d)),killBot());const userID=process[_0x38761b(0x16e)][0x3]||'',configpath=userID?_0x38761b(0x1cf)+userID+'/':_0x38761b(0x1cf),logspath=userID?'./logs/'+userID+'/':_0x38761b(0x25d),loggerfile=fs[_0x38761b(0x253)](logspath+_0x38761b(0x2be),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x38761b(0x2d6)](configpath);!fs[_0x38761b(0x28e)](logspath)&&fs[_0x38761b(0x2d6)](logspath);const configfile=configpath+_0x38761b(0x2d1)+botID+'-config.json',logfile=configpath+_0x38761b(0x2d1)+botID+_0x38761b(0x24f),performancefile=configpath+_0x38761b(0x2d1)+botID+_0x38761b(0x2d4),coinresultsfile=configpath+_0x38761b(0x2d1)+botID+_0x38761b(0x282),settingsfile=configpath+_0x38761b(0x1bb),securefile=configpath+_0x38761b(0x2a8),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x38761b(0x1de)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x38761b(0x1cc)]({'data':[],'version':serverversion})[_0x38761b(0x1de)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x38761b(0x1cc)]({'bot':[],'version':serverversion})[_0x38761b(0x1de)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x38761b(0x1cc)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x38761b(0x1c3),'rsaStandard':_0x38761b(0x1d1)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1b6033=>{const _0x20a452=_0x38761b;console[_0x20a452(0x292)](_0x1b6033);},'simple':_0x127e40=>{const _0x35e6e3=_0x38761b;console['log'](_0x127e40),loggerfile[_0x35e6e3(0x1de)](util[_0x35e6e3(0x2ad)](_0x127e40)+'\x0a');},'full':async(_0x4ea2fe,_0x13762b='')=>{const _0x32b69c=_0x38761b;let _0x301aa7;if(config[_0x32b69c(0x26c)])_0x301aa7=getTimeStamp()+':\x20'+config[_0x32b69c(0x201)]+_0x32b69c(0x235)+_0x4ea2fe;else _0x301aa7=getTimeStamp()+_0x32b69c(0x268)+botID+_0x32b69c(0x235)+_0x4ea2fe;console[_0x32b69c(0x292)](_0x301aa7),loggerfile['write'](util['format'](_0x301aa7)+'\x0a'),_0x13762b&&(console[_0x32b69c(0x292)](_0x13762b),loggerfile['write'](util['format'](_0x13762b)+'\x0a'));},'debug':async(_0x542cea,_0xdb00c5='')=>{const _0x20e933=_0x38761b;let _0x358dad;if(config[_0x20e933(0x26c)])_0x358dad=getTimeStamp()+':\x20'+config[_0x20e933(0x201)]+_0x20e933(0x1ad)+_0x542cea;else _0x358dad=getTimeStamp()+_0x20e933(0x268)+botID+'\x20>\x20[DEBUG]\x20'+_0x542cea;if(debugging)console[_0x20e933(0x292)](_0x358dad);loggerfile['write'](util[_0x20e933(0x2ad)](_0x358dad)+'\x0a');if(_0xdb00c5){if(debugging)console[_0x20e933(0x292)](_0xdb00c5);loggerfile[_0x20e933(0x1de)](util['format'](_0xdb00c5)+'\x0a');}}};process['on'](_0x38761b(0x2d7),function(_0x2b943e){const _0x50439d=_0x38761b;logger[_0x50439d(0x2da)](_0x2b943e);});settings[_0x38761b(0x26f)]!=config[_0x38761b(0x26f)]&&updateTimeshift(settings[_0x38761b(0x26f)]);settings[_0x38761b(0x178)]!=config[_0x38761b(0x178)]&&updateOnepagemode(settings[_0x38761b(0x178)]);process[_0x38761b(0x203)]({'started':'running'},_0x2b4604=>{}),initializeProcessListeners();function proxyEmit(_0x15719e,_0x433f89=null){const _0x421154=_0x38761b;process[_0x421154(0x203)]({'function':_0x15719e,'args':_0x433f89},_0x4a66f1=>{});}function initializeProcessListeners(){const _0x1b7799=_0x38761b;process['on'](_0x1b7799(0x250),_0x19e74c=>{const _0x34e17f=_0x1b7799;switch(Object['keys'](_0x19e74c)[0x0]){case _0x34e17f(0x26f):_0x19e74c['timeshift']!=undefined&&(settings[_0x34e17f(0x26f)]=_0x19e74c[_0x34e17f(0x26f)],updateTimeshift(settings[_0x34e17f(0x26f)]));break;case _0x34e17f(0x178):_0x19e74c[_0x34e17f(0x178)]!=undefined&&(settings[_0x34e17f(0x178)]=_0x19e74c[_0x34e17f(0x178)],updateOnepagemode(settings['onepagemode']));break;case _0x34e17f(0x25b):_0x19e74c['bots']!=undefined&&(bots=JSON[_0x34e17f(0x1ef)](_0x19e74c[_0x34e17f(0x25b)]),proxyEmit(_0x34e17f(0x25b),bots));break;case _0x34e17f(0x275):switch(_0x19e74c[_0x34e17f(0x275)]){case _0x34e17f(0x2ae):initclient();break;case _0x34e17f(0x1d7):toggleBotMode();break;case _0x34e17f(0x1af):emitHistory(_0x19e74c[_0x34e17f(0x1e2)]);break;case _0x34e17f(0x1f5):deleteHistoryAlerts(_0x19e74c[_0x34e17f(0x1e2)]);break;case _0x34e17f(0x23a):getPortfolio(_0x19e74c[_0x34e17f(0x1e2)]);break;case _0x34e17f(0x299):storeConfiguration(_0x19e74c[_0x34e17f(0x1e2)]);break;case _0x34e17f(0x25a):storeHeadless(_0x19e74c[_0x34e17f(0x1e2)]);break;case'storeFiat':storeFiat(_0x19e74c[_0x34e17f(0x1e2)]);break;case'resetHistory':resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x34e17f(0x230):placeOrder(_0x19e74c['args']);break;case _0x34e17f(0x28d):cancelLoading();break;case _0x34e17f(0x21d):showConfig();break;case _0x34e17f(0x242):sendMetricsTelegram();break;case _0x34e17f(0x189):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x4e3913=null,_0x3965ed=![]){const _0x1aae8d=_0x38761b;logger[_0x1aae8d(0x1dc)](_0x1aae8d(0x2c1)+(_0x4e3913&&_0x4e3913['length']>0x0?'additional\x20symbols\x20'+_0x4e3913[_0x1aae8d(0x1d2)](','):_0x1aae8d(0x21e))+'\x20|\x20'+(_0x3965ed?_0x1aae8d(0x1ae):'exchange\x20not\x20reloaded'));if(pidBalances)clearTimeout(pidBalances);if(!_0x3965ed)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x1aae8d(0x226)]!=''&&config[_0x1aae8d(0x226)]!=_0x1aae8d(0x233)){if(_0x3965ed){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x18f62a){handleErrorNoStop(_0x18f62a,_0x1aae8d(0x272));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x4e3913);const _0x4f05cf=await getCoins();[currentCoins,currentCoinsAll]=_0x4f05cf,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x1aae8d(0x2bd)]==0x0&&allOpenOrders[_0x1aae8d(0x2bd)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x2733a0=_0x38761b;exchangeStopped=!![],await exchange[_0x2733a0(0x177)]();}async function reloadExchange(){const _0x3363f2=_0x38761b;logger['debug'](_0x3363f2(0x26e));while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x3363f2(0x1dc)](_0x3363f2(0x200)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x39c081=config[_0x38761b(0x185)],_0x35c37d=config[_0x38761b(0x226)],_0x3dc9b1=config[_0x38761b(0x287)],_0x4b48d0=config[_0x38761b(0x2e7)]){const _0x24205d=_0x38761b;exchange&&await stopExchange();!supportedExchanges()[_0x24205d(0x274)](_0x39c081)&&(logHistory('error','Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x39c081+_0x24205d(0x285)),killBot());const _0x9918e2=ccxt[_0x39c081['toLowerCase']()];exchange=new _0x9918e2({'apiKey':_0x35c37d,'secret':_0x3dc9b1,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x4b48d0)exchange[_0x24205d(0x2e7)]=_0x4b48d0;}function setStableCoins(){const _0x106130=_0x38761b;let _0x4b1282=config[_0x106130(0x259)]=='ETH'?_0x106130(0x22d):_0x106130(0x208),_0x5008a2=!allSymbols['includes'](_0x4b1282+_0x106130(0x247))?_0x106130(0x270):_0x106130(0x22b),_0x5b7dd4=!allSymbols[_0x106130(0x274)](_0x4b1282+_0x106130(0x210))?_0x5008a2:_0x106130(0x24a);stablecoins={'eur':{'coin':''+_0x4b1282+_0x5b7dd4,'symbol':_0x4b1282+'/'+_0x5b7dd4},'usd':{'coin':''+_0x4b1282+_0x5008a2,'symbol':_0x4b1282+'/'+_0x5008a2}};}async function initwsCcxt(_0x24d123){const _0x2e6b16=_0x38761b;_0x24d123==null&&(_0x24d123=[],config[_0x2e6b16(0x276)][_0x2e6b16(0x194)](_0x13b6ee=>{const _0x276044=_0x2e6b16;if(!_0x13b6ee[_0x276044(0x213)]&&_0x13b6ee[_0x276044(0x1e7)]!=config['basecoin'])_0x24d123[_0x276044(0x1db)](_0x13b6ee[_0x276044(0x16f)]);}));if(!_0x24d123[_0x2e6b16(0x274)](stablecoins[_0x2e6b16(0x1fc)]['symbol']))_0x24d123[_0x2e6b16(0x1db)](stablecoins[_0x2e6b16(0x1fc)]['symbol']);if(!_0x24d123[_0x2e6b16(0x274)](stablecoins[_0x2e6b16(0x24b)][_0x2e6b16(0x16f)]))_0x24d123[_0x2e6b16(0x1db)](stablecoins[_0x2e6b16(0x24b)]['symbol']);if(!_0x24d123['includes'](_0x2e6b16(0x1a3)+config[_0x2e6b16(0x259)]))_0x24d123[_0x2e6b16(0x1db)]('BNB/'+config[_0x2e6b16(0x259)]);loadCoins(_0x24d123);const _0x5b66ad=async _0x130853=>{const _0x32ea19=_0x2e6b16,_0x549e7b=await exchange['fetchTicker'](_0x130853);global['ticker'][noslash(_0x549e7b[_0x32ea19(0x16f)])]=_0x549e7b[_0x32ea19(0x222)];while(!![]){if(!botPaused)try{const _0x29a877=await exchange[_0x32ea19(0x1e5)](_0x130853);global[_0x32ea19(0x18f)][noslash(_0x29a877[0x0][_0x32ea19(0x16f)])]=_0x29a877[0x0][_0x32ea19(0x29a)],await sleep(0x3e8);}catch(_0x321e2a){if(!exchangeStopped)await handleError(_0x321e2a,_0x32ea19(0x1e5),_0x130853);}else await sleep(0x3e8);}},_0x2efe67=async _0x52a13c=>{const _0x547989=_0x2e6b16;while(!![]){if(!botPaused)try{const _0x1d0b36=await exchange['fetchTicker'](_0x52a13c);global['change'][_0x1d0b36['symbol']]=_0x1d0b36[_0x547989(0x27e)],await sleep(0x3c*0x3e8);}catch(_0x2a4409){if(!exchangeStopped)await handleError(_0x2a4409,_0x547989(0x1a4),_0x52a13c);}else await sleep(0x3e8);}},_0x46e927=async()=>{const _0xe3a287=_0x2e6b16;while(!![]){if(!botPaused)try{const _0x25e415=await exchange['watchOrders']();_0x25e415[_0xe3a287(0x194)](_0x5287b0=>{updateNumberCoinsCcxt(_0x5287b0);});}catch(_0x1219cc){if(!exchangeStopped)await handleError(_0x1219cc,_0xe3a287(0x196));}else await sleep(0x3e8);}};_0x24d123[_0x2e6b16(0x194)](async _0x32a835=>{_0x5b66ad(_0x32a835),_0x2efe67(_0x32a835);}),!wsEventsSet&&(wsEventsSet=!![],_0x46e927(),watchTransactions());}async function watchTransactions(){const _0x4ca1f2=_0x38761b;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x1c033f=await getCoins(),[_0x15d0ce,_0x19e83c]=_0x1c033f;let _0x15c65c=[];currentCoins[_0x4ca1f2(0x194)](_0x2fb922=>{const _0x1957d2=_0x4ca1f2,_0x338c6f=_0x15d0ce[_0x1957d2(0x2e3)](_0x28d6fc=>_0x28d6fc[_0x1957d2(0x1e7)]==_0x2fb922[_0x1957d2(0x1e7)]);_0x338c6f&&(_0x2fb922[_0x1957d2(0x212)]!=_0x338c6f[_0x1957d2(0x212)]&&_0x15c65c[_0x1957d2(0x1db)]({'coin':_0x2fb922[_0x1957d2(0x1e7)],'symbol':_0x2fb922[_0x1957d2(0x16f)],'number':Number(formatResult(_0x338c6f['number']-_0x2fb922[_0x1957d2(0x212)],0x8))}));});if(_0x15c65c['length']==0x1&&!blockTransactionDetection){logger[_0x4ca1f2(0x1dc)](_0x4ca1f2(0x2de)+lastFees[_0x4ca1f2(0x296)]+_0x4ca1f2(0x22c)+lastFees[_0x4ca1f2(0x2bb)]);if(!lastFees[_0x4ca1f2(0x296)]||_0x15c65c[0x0][_0x4ca1f2(0x1e7)]!=lastFees[_0x4ca1f2(0x296)]||_0x15c65c[0x0][_0x4ca1f2(0x212)]>lastFees[_0x4ca1f2(0x2bb)]){let _0x2baca8;if(_0x15c65c[0x0][_0x4ca1f2(0x1e7)]!=config['basecoin']){let _0x254e4d=global[_0x4ca1f2(0x18f)][noslash(_0x15c65c[0x0]['symbol'])];_0x2baca8=_0x15c65c[0x0]['reverse']?0x1/_0x254e4d:_0x254e4d;}else _0x2baca8=0x1;_0x15c65c[0x0]['price']=_0x2baca8,delete _0x15c65c[0x0][_0x4ca1f2(0x16f)];let _0x47c62a=[],_0x25c433=[...config['liquidity']]||[],_0x53de16=config[_0x4ca1f2(0x289)];_0x25c433[_0x4ca1f2(0x229)]((_0x3c8ba1,_0x234faa)=>_0x3c8ba1['date']>_0x234faa[_0x4ca1f2(0x2b8)]?-0x1:_0x234faa[_0x4ca1f2(0x2b8)]>_0x3c8ba1[_0x4ca1f2(0x2b8)]?0x1:0x0);const _0x44e274=getDate();if(_0x25c433[0x0]){const _0x421e35=fns['parse'](_0x25c433[0x0][_0x4ca1f2(0x2b8)],_0x4ca1f2(0x249),new Date()),_0x45a2f6=fns[_0x4ca1f2(0x1ef)](_0x44e274,_0x4ca1f2(0x249),new Date());if(fns[_0x4ca1f2(0x239)](_0x421e35,_0x45a2f6)){_0x47c62a=_0x25c433[0x0][_0x4ca1f2(0x2db)];const _0x7eded6=_0x47c62a[_0x4ca1f2(0x2e3)](_0x481a9d=>_0x481a9d[_0x4ca1f2(0x1e7)]==_0x15c65c[0x0][_0x4ca1f2(0x1e7)]);_0x7eded6?(_0x7eded6[_0x4ca1f2(0x212)]+=_0x15c65c[0x0][_0x4ca1f2(0x212)],_0x7eded6[_0x4ca1f2(0x212)]==0x0&&(_0x47c62a=_0x47c62a[_0x4ca1f2(0x29d)](_0x5ba76f=>{const _0x36d634=_0x4ca1f2;return _0x5ba76f[_0x36d634(0x1e7)]!=_0x15c65c[0x0][_0x36d634(0x1e7)];}))):_0x47c62a['push'](_0x15c65c[0x0]);const _0x4164c9=_0x53de16[_0x4ca1f2(0x2e3)](_0x5255af=>_0x5255af[_0x4ca1f2(0x2b8)]==_0x44e274);_0x4164c9[_0x4ca1f2(0x2db)]=_0x47c62a;}else _0x53de16[_0x4ca1f2(0x1db)]({'date':_0x44e274,'changes':[_0x15c65c[0x0]]});}const _0x4e38ab=_0x53de16[_0x4ca1f2(0x2e3)](_0x4bbf9b=>_0x4bbf9b[_0x4ca1f2(0x2b8)]==_0x44e274);if(_0x4e38ab){let _0x3b2e4c=!![];_0x4e38ab[_0x4ca1f2(0x2db)][_0x4ca1f2(0x194)](_0x488800=>{const _0x2838bc=_0x4ca1f2;if(_0x488800[_0x2838bc(0x212)]!=0x0)_0x3b2e4c=![];}),_0x3b2e4c&&(_0x53de16=_0x53de16['filter'](_0x22e069=>{const _0xfb5913=_0x4ca1f2;return _0x22e069[_0xfb5913(0x2b8)]!=_0x44e274;}));}let _0x49c495=dbConfig[_0x4ca1f2(0x1e3)](_0x4ca1f2(0x195))[_0x4ca1f2(0x2e3)]({'botID':botID})[_0x4ca1f2(0x1c5)]();_0x49c495&&(dbConfig[_0x4ca1f2(0x1e3)](_0x4ca1f2(0x195))[_0x4ca1f2(0x2e3)]({'botID':botID})[_0x4ca1f2(0x237)]({'liquidity':_0x53de16})[_0x4ca1f2(0x1de)](),config[_0x4ca1f2(0x289)]=_0x53de16),logHistory(_0x4ca1f2(0x266),_0x4ca1f2(0x2e6)+Math[_0x4ca1f2(0x26a)](_0x15c65c[0x0][_0x4ca1f2(0x212)])+'\x20'+_0x15c65c[0x0][_0x4ca1f2(0x1e7)]+'\x20'+(_0x15c65c[0x0][_0x4ca1f2(0x212)]>0x0?_0x4ca1f2(0x269):_0x4ca1f2(0x1da))+_0x4ca1f2(0x260)),proxyEmit('configuration',emittedConfiguration());}else logger[_0x4ca1f2(0x1dc)](_0x4ca1f2(0x19e)+Math[_0x4ca1f2(0x26a)](_0x15c65c[0x0][_0x4ca1f2(0x212)])+'\x20'+_0x15c65c[0x0][_0x4ca1f2(0x1e7)]+'\x20'+(_0x15c65c[0x0][_0x4ca1f2(0x212)]>0x0?_0x4ca1f2(0x269):_0x4ca1f2(0x1da)));transactionDetected=!![],currentCoins=_0x15d0ce,currentCoinsAll=_0x19e83c;}await sleep(watchTransactionsInterval);}catch(_0x2a2b1e){if(!exchangeStopped)await handleError(_0x2a2b1e,_0x4ca1f2(0x1b1));}else await sleep(0x3e8);}}async function loadSymbols(_0x8ce60d=config['exchange'],_0x5058ea=![]){const _0x5afc55=_0x38761b;if(allSymbols&&!_0x5058ea)return;try{markets=await exchange[_0x5afc55(0x18d)](),allSymbols=exchange[_0x5afc55(0x1aa)]['filter'](_0x831ce9=>{const _0x3d1683=_0x5afc55;let _0x25dd78=![];const _0x34e6e7=exceptions[_0x8ce60d['toLowerCase']()]||[];return _0x34e6e7[_0x3d1683(0x194)](_0x46eef5=>{const _0x365dff=_0x3d1683;if(_0x831ce9[_0x365dff(0x274)](_0x46eef5))_0x25dd78=!![];}),!_0x25dd78;});}catch(_0x43bbfb){throw _0x43bbfb;}}async function initclient(){const _0x2b6b5e=_0x38761b;emitLoadingProgress(),proxyEmit(_0x2b6b5e(0x2b9),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x9400f0=getNormalizedPerformance();emitPerformance(_0x9400f0),getStartingBalances(_0x9400f0);}async function toggleBotMode(){const _0x13eb97=_0x38761b;let _0x54730f=dbConfig[_0x13eb97(0x1e3)](_0x13eb97(0x195))[_0x13eb97(0x2e3)]({'botID':botID})[_0x13eb97(0x1c5)]();if(_0x54730f){const _0x2737e7=!_0x54730f[_0x13eb97(0x240)];dbConfig[_0x13eb97(0x1e3)](_0x13eb97(0x195))[_0x13eb97(0x2e3)]({'botID':botID})[_0x13eb97(0x237)]({'headless':_0x2737e7})[_0x13eb97(0x1de)](),config['headless']=_0x2737e7,proxyEmit(_0x13eb97(0x2b9),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x443100=_0x38761b;process[_0x443100(0x203)]({'updatebotmanager':!![]},_0x3abce7=>{});}async function loadCoins(_0x13d693){const _0x4c84a2=_0x38761b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x355ae9,_0xc3bdf7=0x0,_0x2a0036=0x0;_0x13d693[_0x4c84a2(0x194)](_0x27ae63=>{const _0x4c8ecb=_0x4c84a2;loading[_0x4c8ecb(0x264)][_0x4c8ecb(0x1db)](_0x27ae63);}),loadingCanceled=![];let _0x21b97a=![];while(_0x355ae9!=_0x13d693[_0x4c84a2(0x2bd)]){_0x355ae9=0x0,_0x13d693['forEach'](_0x4dc540=>{const _0xeaf5f1=_0x4c84a2;if(global[_0xeaf5f1(0x18f)][noslash(_0x4dc540)]){loading['remainingSymbols']=loading[_0xeaf5f1(0x264)][_0xeaf5f1(0x29d)](_0x336bf9=>_0x336bf9!=_0x4dc540);if(!watchedSymbols[_0xeaf5f1(0x274)](_0x4dc540))watchedSymbols['push'](_0x4dc540);_0x355ae9++;}}),loading[_0x4c84a2(0x1b4)]=Math[_0x4c84a2(0x291)](_0x355ae9/_0x13d693['length']*0x64);loading[_0x4c84a2(0x1b4)]!=0x64&&(_0x2a0036>0x1e*0x5&&(loading[_0x4c84a2(0x2b2)]=!![],emitLoadingProgress()),_0x2a0036>0x78*0x5&&!_0x21b97a&&(loading[_0x4c84a2(0x2cf)]=!![],emitLoadingProgress(),_0x21b97a=!![],logHistory(_0x4c84a2(0x1f4),_0x4c84a2(0x1a5)+loading[_0x4c84a2(0x264)][_0x4c84a2(0x1d2)](',\x20')+_0x4c84a2(0x293)),logHistory('error',_0x4c84a2(0x17f)+loadCoinsRetryInterval/0xea60+_0x4c84a2(0x20b)),pidCoinReloading=setTimeout(()=>{const _0xd08a3f=_0x4c84a2;process[_0xd08a3f(0x203)]({'stop':_0xd08a3f(0x23b)},_0x474f56=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x355ae9!=_0xc3bdf7&&(_0xc3bdf7=_0x355ae9,emitLoadingProgress()),_0x2a0036++,await sleep(0xc8);}_0x355ae9==_0x13d693[_0x4c84a2(0x2bd)]&&(coinsLoaded=!![],process[_0x4c84a2(0x203)]({'status':_0x4c84a2(0x28a),'live':_0x4c84a2(0x170)},_0x134948=>{}),_0x21b97a&&logHistory(_0x4c84a2(0x266),_0x4c84a2(0x216)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x56d71c=_0x38761b;proxyEmit(_0x56d71c(0x2b9),{...emittedConfiguration(),'configstate':_0x56d71c(0x1fd)});}function emitLoadingProgress(){const _0xc6292f=_0x38761b;proxyEmit(_0xc6292f(0x199),loading);}async function getFiat(){const _0x2a61ba=_0x38761b;let _0xc610a3=global['ticker'][stablecoins[_0x2a61ba(0x1fc)][_0x2a61ba(0x1e7)]],_0xd2c220=global[_0x2a61ba(0x18f)][stablecoins[_0x2a61ba(0x24b)][_0x2a61ba(0x1e7)]];return{'eur':Number(_0xc610a3),'usd':Number(_0xd2c220)};}function capitalize(_0x1b636b){const _0x115baf=_0x38761b;return _0x1b636b[_0x115baf(0x1f6)](0x0,0x1)[_0x115baf(0x1ec)]()+_0x1b636b[_0x115baf(0x1f6)](0x1);}function supportedExchanges(){const _0xf0c46a=_0x38761b,_0xe81b33=['ws',_0xf0c46a(0x1a4),_0xf0c46a(0x2c8),_0xf0c46a(0x1e5),_0xf0c46a(0x196),_0xf0c46a(0x2d8),_0xf0c46a(0x28c),_0xf0c46a(0x1d4),_0xf0c46a(0x1ab),_0xf0c46a(0x20a)];let _0x61ba93=[],_0x1e8d10=[],_0x1b11bb=ccxt['exchanges'];_0x1b11bb[_0xf0c46a(0x194)](_0x26487f=>{const _0x5e2c08=_0xf0c46a;try{const _0x2b8c73=new ccxt[_0x26487f]();if(_0x2b8c73[_0x5e2c08(0x2b3)]['ws'])_0x1e8d10[_0x5e2c08(0x1db)](_0x2b8c73);}catch(_0x331258){}}),_0x1e8d10[_0xf0c46a(0x194)](_0x3ca13d=>{const _0x5e56f4=_0xf0c46a;let _0x39a9da=0x0;_0xe81b33[_0x5e56f4(0x194)](_0x5d182f=>{const _0x4468c3=_0x5e56f4;_0x5d182f in _0x3ca13d[_0x4468c3(0x2b3)]&&_0x3ca13d[_0x4468c3(0x2b3)][_0x5d182f]&&_0x39a9da++;}),_0x39a9da==_0xe81b33[_0x5e56f4(0x2bd)]&&_0x61ba93[_0x5e56f4(0x1db)](capitalize(_0x3ca13d['id']));});let _0x5597a0=[];return _0x1b11bb[_0xf0c46a(0x194)](_0x26b812=>{const _0xeb9200=_0xf0c46a;_0x26b812=capitalize(_0x26b812);if(!_0x61ba93[_0xeb9200(0x274)](_0x26b812))_0x5597a0['push'](_0x26b812);}),_0x61ba93;}function setStartDatePerformance(){const _0x4b0b80=_0x38761b;if(config&&config[_0x4b0b80(0x289)][0x0][_0x4b0b80(0x2db)][_0x4b0b80(0x2bd)]!=0x0){const _0x50a07e=config[_0x4b0b80(0x289)][0x0][_0x4b0b80(0x2db)];dbPerformance[_0x4b0b80(0x1e3)](_0x4b0b80(0x298))['find']({'date':config['startdate']})['assign']({'coins':_0x50a07e})[_0x4b0b80(0x1de)]();}}async function recreateCoinResults(){const _0xaae057=_0x38761b;let _0x5b8db1,_0x36f457=[];try{const _0x31f345=fns[_0xaae057(0x2ad)](fns['parseISO'](config['startdate'][_0xaae057(0x21f)](/\//g,'-')),_0xaae057(0x2c7));for(const _0x1b2ecc of currentCoins){if(_0x1b2ecc['coin']!=config[_0xaae057(0x259)]){let _0x1d9f24=0x0,_0x2198dd,_0x4abcce;_0x5b8db1=await getAllEventOrders(_0x1b2ecc[_0xaae057(0x16f)]);if(_0x5b8db1['length']>0x0)_0x5b8db1[_0xaae057(0x194)](_0x3c6b77=>{const _0x2056ca=_0xaae057,_0x687d48=_0x1b2ecc[_0x2056ca(0x16f)][_0x2056ca(0x274)](config[_0x2056ca(0x259)]+'/');_0x36f457[_0x2056ca(0x1db)]({'datetime':_0x3c6b77[_0x2056ca(0x193)],'coin':_0x1b2ecc[_0x2056ca(0x1e7)],'symbol':_0x1b2ecc['symbol'],'side':_0x3c6b77[_0x2056ca(0x1c4)],'reverse':_0x687d48,'amount':formatResult(_0x3c6b77['filled'],0x8),'filled':formatResult(_0x3c6b77[_0x2056ca(0x267)],0x8),'price':formatResult(_0x3c6b77[_0x2056ca(0x29a)],0x8)}),_0x1d9f24=_0x3c6b77[_0x2056ca(0x1c4)]==_0x2056ca(0x18c)?_0x1d9f24+_0x3c6b77[_0x2056ca(0x267)]:_0x1d9f24-_0x3c6b77[_0x2056ca(0x267)];if(!_0x4abcce)_0x4abcce=_0x3c6b77[_0x2056ca(0x29a)];});_0x2198dd=_0x1b2ecc['number']-_0x1d9f24;let _0x3b9652;config[_0xaae057(0x289)][_0xaae057(0x194)](_0x390a0a=>{const _0x21dd71=_0xaae057;!_0x3b9652&&(_0x3b9652=_0x390a0a[_0x21dd71(0x2db)][_0x21dd71(0x2e3)](_0x3a41e5=>_0x3a41e5['coin']==_0x1b2ecc[_0x21dd71(0x1e7)]),_0x3b9652&&(_0x2198dd=_0x3b9652[_0x21dd71(0x212)],_0x4abcce=_0x3b9652[_0x21dd71(0x29a)]));});let _0x9a14a4=dbCoinResults[_0xaae057(0x1e3)](_0xaae057(0x2e4))['find']({'coin':_0x1b2ecc[_0xaae057(0x1e7)]})[_0xaae057(0x1c5)]();_0x9a14a4={'coin':_0x1b2ecc[_0xaae057(0x1e7)],'number':_0x2198dd,'breakeven':_0x4abcce,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0xaae057(0x2e4))[_0xaae057(0x2e3)]({'coin':_0x1b2ecc['coin']})[_0xaae057(0x237)](_0x9a14a4)[_0xaae057(0x1de)]();}}_0x36f457[_0xaae057(0x229)]((_0x4b4b50,_0x4feb1a)=>_0x4b4b50[_0xaae057(0x193)]>_0x4feb1a[_0xaae057(0x193)]?0x1:_0x4feb1a[_0xaae057(0x193)]>_0x4b4b50[_0xaae057(0x193)]?-0x1:0x0);let _0x41ebda=0x0;for(let _0x26c887 of _0x36f457){await updateCoinResults(_0x26c887,!![]);}}catch(_0x564176){await handleError(_0x564176,'recreateCoinResults()');}}async function getAllEventOrders(_0x32c219){const _0x54ad20=_0x38761b;let _0x860b0d=[],_0x49fcc9=dbLogs[_0x54ad20(0x1e3)]('logs')['filter'](_0x1f8f9d=>{const _0x406bb9=_0x54ad20,_0x4866c7=_0x1f8f9d['event']['toLowerCase']();return _0x4866c7[_0x406bb9(0x274)](_0x32c219[_0x406bb9(0x1c6)]())&&(_0x4866c7[_0x406bb9(0x274)](_0x406bb9(0x263))&&_0x4866c7[_0x406bb9(0x274)](_0x406bb9(0x1f8))||_0x4866c7[_0x406bb9(0x274)]('filled')&&_0x4866c7[_0x406bb9(0x274)](_0x406bb9(0x1f8)));})[_0x54ad20(0x197)](_0x54ad20(0x29c))[_0x54ad20(0x1c5)]();return _0x49fcc9[_0x54ad20(0x194)](_0x18bcee=>{const _0x51bde0=_0x54ad20,_0x37fd96=_0x18bcee[_0x51bde0(0x248)][_0x51bde0(0x274)](_0x51bde0(0x2d3))?_0x51bde0(0x2d3):_0x51bde0(0x18c),_0x11de47=/#([0-9]|\.)+\s/i,_0x9b852e=Number(_0x11de47[_0x51bde0(0x23c)](_0x18bcee[_0x51bde0(0x248)])[0x0][_0x51bde0(0x1a9)](0x1)),_0x4ab60e=/@([0-9]|\.)+$/i,_0x1ebd50=Number(_0x4ab60e['exec'](_0x18bcee[_0x51bde0(0x248)])[0x0]['slice'](0x1));_0x860b0d['push']({'datetime':_0x18bcee[_0x51bde0(0x29c)],'coin':symbolToCoin(_0x32c219),'symbol':_0x32c219,'side':_0x37fd96,'amount':_0x9b852e,'filled':_0x9b852e,'price':_0x1ebd50});}),_0x860b0d;}async function getAllOrders(_0x54a5e3,_0x4efe49){const _0x1b78e2=_0x38761b;let _0x3e2159=[];while(_0x4efe49<exchange[_0x1b78e2(0x20e)]()){const _0x29b92c=0x1f4,_0x56cb64=await exchange[_0x1b78e2(0x1ab)](_0x54a5e3,_0x4efe49,_0x29b92c);if(_0x56cb64[_0x1b78e2(0x2bd)])_0x4efe49=_0x56cb64[_0x56cb64['length']-0x1][_0x1b78e2(0x26d)]+0x1,_0x3e2159=_0x3e2159[_0x1b78e2(0x18a)](_0x56cb64);else break;}return _0x3e2159;}async function validate24hChanges(){const _0x2eba68=_0x38761b;for(const _0x4ca360 of currentCoins){if(_0x4ca360[_0x2eba68(0x1e7)]!=config[_0x2eba68(0x259)]){let _0x25a83c;_0x4ca360['reverse']?_0x25a83c=formatResult((0x1/(global['change'][noslash(_0x4ca360[_0x2eba68(0x16f)])]/0x64+0x1)-0x1)*0x64,0x3):_0x25a83c=global[_0x2eba68(0x2b1)][noslash(_0x4ca360['symbol'])],_0x25a83c<config['change24h']&&(logHistory(_0x2eba68(0x1f4),_0x4ca360[_0x2eba68(0x1e7)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x25a83c+'%'),logHistory(_0x2eba68(0x1f4),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x2eba68(0x1f4),_0x2eba68(0x1f0)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x278f68,_0x41dc0a){const _0x2a7ec4=_0x38761b;if(!_0x278f68)return!![];const _0x12ee6d=_0x41dc0a[_0x2a7ec4(0x1ca)]('.'),_0x5457f1=_0x278f68[_0x2a7ec4(0x1ca)]('.');for(var _0x1608b8=0x0;_0x1608b8<_0x5457f1[_0x2a7ec4(0x2bd)];_0x1608b8++){const _0x2d1a18=~~_0x5457f1[_0x1608b8],_0x29f29c=~~_0x12ee6d[_0x1608b8];if(_0x2d1a18<_0x29f29c)return!![];if(_0x2d1a18>_0x29f29c)return![];}return![];}async function oneTimeMigration(){const _0x1dbe8a=_0x38761b;let _0x3c111c=dbLogs[_0x1dbe8a(0x1e3)]('version')[_0x1dbe8a(0x1c5)]();if(isOlderVersion(_0x3c111c,_0x1dbe8a(0x191))){let _0x18ba1b=[];const _0x5004e5=dbLogs[_0x1dbe8a(0x1e3)](_0x1dbe8a(0x25e))[_0x1dbe8a(0x1c5)]();_0x5004e5[_0x1dbe8a(0x194)](_0x16ace0=>{const _0x4f3341=_0x1dbe8a;_0x18ba1b[_0x4f3341(0x1db)]({'time':_0x16ace0[_0x4f3341(0x29c)],'type':_0x16ace0[_0x4f3341(0x187)],'event':_0x16ace0['event']});}),dbLogs[_0x1dbe8a(0x1e3)](_0x1dbe8a(0x25e))[_0x1dbe8a(0x237)](_0x18ba1b)['write']();}let _0x5b88dc=dbConfig[_0x1dbe8a(0x1e3)]('version')[_0x1dbe8a(0x1c5)]();if(isOlderVersion(_0x5b88dc,_0x1dbe8a(0x191))){let _0x326213=dbConfig[_0x1dbe8a(0x1e3)]('bot')[_0x1dbe8a(0x2e3)]({'botID':botID})[_0x1dbe8a(0x1c5)]();if(_0x326213){let _0x1ba15c=[];_0x326213['portfolio']['forEach'](_0x2ceafe=>{const _0x151200=_0x1dbe8a;_0x1ba15c[_0x151200(0x1db)]({'coin':_0x2ceafe[_0x151200(0x1e7)],'number':_0x2ceafe[_0x151200(0x1ea)],'price':_0x2ceafe[_0x151200(0x27d)]}),delete _0x2ceafe[_0x151200(0x1ea)],delete _0x2ceafe[_0x151200(0x27d)];});if(_0x1ba15c[_0x1dbe8a(0x2bd)]!==0x0)fs[_0x1dbe8a(0x244)](configbackuppath+(_0x1dbe8a(0x17c)+botID+'.json'),JSON['stringify'](_0x1ba15c,null,0x4),function(_0x41be81){if(_0x41be81){}});const _0x4ae18c=(_0x47d773,_0x8fa815)=>{const _0x4e02ac=_0x1dbe8a;let _0x5630f8=[];_0x8fa815[_0x4e02ac(0x194)](_0x1cdf9e=>{const _0x1dfe0a=_0x4e02ac,_0x510d69=_0x47d773[_0x1dfe0a(0x2e3)](_0x5627c=>_0x5627c['coin']==_0x1cdf9e[_0x1dfe0a(0x1e7)]);if(!_0x510d69)_0x5630f8[_0x1dfe0a(0x1db)](_0x1cdf9e);});let _0x18f67f=[];return _0x47d773[_0x4e02ac(0x194)](_0x5ae2fa=>{const _0x405b22=_0x4e02ac,_0x522f57=_0x8fa815[_0x405b22(0x2e3)](_0x240e68=>_0x240e68[_0x405b22(0x1e7)]==_0x5ae2fa[_0x405b22(0x1e7)]);if(!_0x522f57||_0x522f57[_0x405b22(0x212)]==0x0&&_0x5ae2fa[_0x405b22(0x212)]!=0x0)_0x18f67f[_0x405b22(0x1db)](_0x5ae2fa);}),{'missingDay1':_0x5630f8,'notInDay2':_0x18f67f};},_0x522c83=dbPerformance['get'](_0x1dbe8a(0x298))['cloneDeep']()[_0x1dbe8a(0x1c5)]();if(_0x522c83[_0x1dbe8a(0x2bd)]>0x1){const {missingDay1:_0x59454d,notInDay2:_0x3c4d81}=_0x4ae18c(_0x1ba15c,_0x522c83[0x1][_0x1dbe8a(0x2e4)]);_0x1ba15c=[..._0x1ba15c,..._0x59454d],_0x3c4d81[_0x1dbe8a(0x194)](_0x3b2325=>{const _0x101210=_0x1dbe8a;let _0x24847c=_0x1ba15c['findIndex'](_0x3e4e52=>_0x3e4e52[_0x101210(0x1e7)]==_0x3b2325[_0x101210(0x1e7)]);_0x24847c!=-0x1&&_0x1ba15c[_0x101210(0x1fe)](_0x24847c,0x1);});}_0x1ba15c['sort']((_0x1a41f9,_0x2e0f39)=>_0x1a41f9[_0x1dbe8a(0x1e7)]>_0x2e0f39[_0x1dbe8a(0x1e7)]?0x1:_0x2e0f39[_0x1dbe8a(0x1e7)]>_0x1a41f9[_0x1dbe8a(0x1e7)]?-0x1:0x0);let _0x4c31d6=[{'date':_0x326213['startdate'],'changes':_0x1ba15c}];_0x522c83['length']>0x2&&_0x522c83[_0x1dbe8a(0x194)]((_0x350b23,_0x4f991e)=>{const _0x158c01=_0x1dbe8a;if(_0x4f991e>0x0&&_0x4f991e<_0x522c83[_0x158c01(0x2bd)]-0x1){const {missingDay1:_0x45665e,notInDay2:_0x359cef}=_0x4ae18c(_0x522c83[_0x4f991e][_0x158c01(0x2e4)],_0x522c83[_0x4f991e+0x1][_0x158c01(0x2e4)]);_0x1ba15c=[],(_0x45665e['length']!=0x0||_0x359cef[_0x158c01(0x2bd)]!=0x0)&&(_0x45665e['length']!=0x0&&_0x1ba15c[_0x158c01(0x1db)](..._0x45665e),_0x359cef[_0x158c01(0x2bd)]!=0x0&&(_0x359cef['forEach'](_0x92b105=>{const _0x412254=_0x158c01;_0x92b105[_0x412254(0x212)]=-_0x92b105[_0x412254(0x212)];}),_0x1ba15c[_0x158c01(0x1db)](..._0x359cef)),_0x1ba15c[_0x158c01(0x229)]((_0x3b7b2b,_0x3d053d)=>_0x3b7b2b['coin']>_0x3d053d['coin']?0x1:_0x3d053d[_0x158c01(0x1e7)]>_0x3b7b2b[_0x158c01(0x1e7)]?-0x1:0x0),_0x4c31d6[_0x158c01(0x1db)]({'date':_0x522c83[_0x4f991e+0x1][_0x158c01(0x2b8)],'changes':_0x1ba15c}));}}),dbConfig[_0x1dbe8a(0x1e3)](_0x1dbe8a(0x195))[_0x1dbe8a(0x2e3)]({'botID':botID})['assign']({..._0x326213,'liquidity':_0x4c31d6})[_0x1dbe8a(0x1de)]();}}if(isOlderVersion(_0x5b88dc,_0x1dbe8a(0x176))){let _0x7b52c6=dbConfig[_0x1dbe8a(0x1e3)](_0x1dbe8a(0x195))[_0x1dbe8a(0x2e3)]({'botID':botID})['value']();if(_0x7b52c6){const _0x18524e=_0x7b52c6[_0x1dbe8a(0x185)],_0x3df709=_0x18524e?capitalize(_0x18524e):'Binance';dbConfig[_0x1dbe8a(0x1e3)](_0x1dbe8a(0x195))[_0x1dbe8a(0x2e3)]({'botID':botID})[_0x1dbe8a(0x237)]({'exchange':_0x3df709})[_0x1dbe8a(0x1de)]();}}let _0x58ca5d=dbPerformance[_0x1dbe8a(0x1e3)](_0x1dbe8a(0x24e))['value']();isOlderVersion(_0x58ca5d,'2.3.5')&&setStartDatePerformance();let _0x28f34f=dbCoinResults[_0x1dbe8a(0x1e3)](_0x1dbe8a(0x24e))[_0x1dbe8a(0x1c5)]();if(isOlderVersion(_0x28f34f,_0x1dbe8a(0x2cb))){let _0x58bb7e=dbCoinResults[_0x1dbe8a(0x1e3)](_0x1dbe8a(0x2e4))[_0x1dbe8a(0x1c5)]();if(_0x58bb7e[_0x1dbe8a(0x2bd)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0xcfc959=_0x38761b;dbConfig[_0xcfc959(0x1a7)](_0xcfc959(0x24e),serverversion)[_0xcfc959(0x1de)](),dbPerformance['set'](_0xcfc959(0x24e),serverversion)['write'](),dbLogs['set']('version',serverversion)[_0xcfc959(0x1de)](),dbCoinResults[_0xcfc959(0x1a7)](_0xcfc959(0x24e),serverversion)['write']();}function getConfiguration(_0x8e61cd){const _0x29eeb8=_0x38761b;let _0x8853=dbConfig[_0x29eeb8(0x1e3)](_0x29eeb8(0x195))[_0x29eeb8(0x2e3)]({'botID':_0x8e61cd})['value']();if(_0x8853){let _0x1e012e=![];typeof _0x8853[_0x29eeb8(0x1d3)]==_0x29eeb8(0x209)&&(_0x8853={..._0x8853,'threshold':Number(_0x8853[_0x29eeb8(0x1d3)])},_0x1e012e=!![]),_0x8853[_0x29eeb8(0x2a1)]==null&&(_0x8853={..._0x8853,'change24h':-0x14},_0x1e012e=!![]),!_0x8853[_0x29eeb8(0x192)]&&(_0x8853={..._0x8853,'fiat':_0x29eeb8(0x22b)},_0x1e012e=!![]),!_0x8853[_0x29eeb8(0x178)]&&(_0x8853={..._0x8853,'onepagemode':settings[_0x29eeb8(0x178)]},_0x1e012e=!![]),_0x1e012e&&(_0x8853={'botID':_0x8853[_0x29eeb8(0x2cd)],'exchange':_0x8853[_0x29eeb8(0x185)],'apiKey':_0x8853['apiKey'],'apiSecret':_0x8853[_0x29eeb8(0x287)],'apiPassword':_0x8853['apiPassword'],'basecoin':_0x8853[_0x29eeb8(0x259)],'botname':_0x8853[_0x29eeb8(0x201)],'showname':_0x8853[_0x29eeb8(0x26c)],'threshold':_0x8853[_0x29eeb8(0x1d3)],'ordertype':_0x8853[_0x29eeb8(0x238)],'timeout':_0x8853['timeout'],'fiat':_0x8853[_0x29eeb8(0x192)],'startdate':_0x8853['startdate'],'recreate':_0x8853[_0x29eeb8(0x20d)],'timeshift':_0x8853['timeshift'],'onepagemode':_0x8853[_0x29eeb8(0x178)],'headless':_0x8853[_0x29eeb8(0x240)],'cooldown':_0x8853[_0x29eeb8(0x1d8)],'change24h':_0x8853[_0x29eeb8(0x2a1)],'emojibuy':_0x8853[_0x29eeb8(0x1a1)],'emojisell':_0x8853[_0x29eeb8(0x198)],'portfolio':_0x8853[_0x29eeb8(0x276)],'liquidity':_0x8853[_0x29eeb8(0x289)],'openOrders':_0x8853[_0x29eeb8(0x2a9)]},dbConfig[_0x29eeb8(0x1e3)](_0x29eeb8(0x195))[_0x29eeb8(0x1a0)]()[_0x29eeb8(0x1de)](),dbConfig['get'](_0x29eeb8(0x195))[_0x29eeb8(0x1db)](_0x8853)[_0x29eeb8(0x1de)]());}else _0x8853={'botID':_0x8e61cd,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x29eeb8(0x1dd)+_0x8e61cd,'showname':![],'threshold':0x3,'ordertype':_0x29eeb8(0x263),'timeout':0x14,'fiat':_0x29eeb8(0x22b),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x29eeb8(0x26f)],'onepagemode':settings[_0x29eeb8(0x178)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x8853;}function emittedConfiguration(){const _0xbf84dd=_0x38761b;let _0x2748c4;if(config[_0xbf84dd(0x226)]=='')_0x2748c4={...config,'configstate':_0xbf84dd(0x241)};else config[_0xbf84dd(0x226)]=='***'?_0x2748c4={...config,'configstate':_0xbf84dd(0x2ca)}:(_0x2748c4={...config,'apiKey':_0xbf84dd(0x2a2),'apiSecret':_0xbf84dd(0x2a2)},config[_0xbf84dd(0x2e7)]&&(_0x2748c4[_0xbf84dd(0x2e7)]=_0xbf84dd(0x2a2)));return _0x2748c4;}function getSettings(){const _0x36be3f=_0x38761b;return dbSettings[_0x36be3f(0x1e3)](_0x36be3f(0x294))[_0x36be3f(0x1c5)]();}function getSecure(){return dbSecure['get']('secure')['value']()||{};}function updateTimeshift(_0x389a4f){const _0x66929a=_0x38761b;let _0x5e672b=dbConfig[_0x66929a(0x1e3)]('bot')[_0x66929a(0x2e3)]({'botID':botID})[_0x66929a(0x1c5)]();_0x5e672b&&dbConfig['get']('bot')[_0x66929a(0x2e3)]({'botID':botID})[_0x66929a(0x237)]({'timeshift':_0x389a4f})[_0x66929a(0x1de)](),config[_0x66929a(0x26f)]=_0x389a4f,proxyEmit(_0x66929a(0x2b9),emittedConfiguration());}function updateOnepagemode(_0x455e80){const _0x68f54d=_0x38761b;let _0x5caeec=dbConfig[_0x68f54d(0x1e3)]('bot')[_0x68f54d(0x2e3)]({'botID':botID})[_0x68f54d(0x1c5)]();_0x5caeec&&dbConfig[_0x68f54d(0x1e3)](_0x68f54d(0x195))[_0x68f54d(0x2e3)]({'botID':botID})[_0x68f54d(0x237)]({'onepagemode':_0x455e80})['write'](),config['onepagemode']=_0x455e80,proxyEmit(_0x68f54d(0x2b9),emittedConfiguration());}async function storeConfiguration(_0x4d2342){const _0x2bcee2=_0x38761b;logger[_0x2bcee2(0x1dc)](_0x2bcee2(0x16c)),blockTransactionDetection=!![],logger[_0x2bcee2(0x1dc)](_0x2bcee2(0x2aa));let _0x369939=[],_0x2164f3=![],_0x2ea9d9=[];_0x4d2342[_0x2bcee2(0x276)][_0x2bcee2(0x194)](_0xf7a616=>{const _0x58e5b8=_0x2bcee2;if(!_0xf7a616['excluded']&&_0xf7a616[_0x58e5b8(0x1e7)]!=_0x4d2342[_0x58e5b8(0x259)])_0x2ea9d9[_0x58e5b8(0x1db)](_0xf7a616['symbol']);}),_0x2ea9d9['forEach'](_0x1240b7=>{const _0x4841bb=_0x2bcee2,_0x4f6eb9=watchedSymbols[_0x4841bb(0x274)](_0x1240b7);!_0x4f6eb9&&_0x369939[_0x4841bb(0x1db)](_0x1240b7);});_0x369939['length']>0x0?_0x2164f3=!![]:currentCoins[_0x2bcee2(0x194)](_0x113da1=>{const _0xc3c8df=_0x2bcee2;if(_0x113da1[_0xc3c8df(0x1e7)]!=config[_0xc3c8df(0x259)]){const _0x5b4ca3=_0x2ea9d9[_0xc3c8df(0x2e3)](_0x12a842=>_0x12a842==_0x113da1['symbol']);!_0x5b4ca3&&(_0x2164f3=!![]);}});let _0x245c43=dbConfig[_0x2bcee2(0x1e3)](_0x2bcee2(0x195))[_0x2bcee2(0x2e3)]({'botID':botID})[_0x2bcee2(0x1c5)]();_0x4d2342={..._0x4d2342,'apiKey':crypt[_0x2bcee2(0x2b6)](secure[_0x2bcee2(0x290)],_0x4d2342['apiKey'])[_0x2bcee2(0x250)],'apiSecret':crypt[_0x2bcee2(0x2b6)](secure[_0x2bcee2(0x290)],_0x4d2342['apiSecret'])[_0x2bcee2(0x250)]};_0x4d2342['apiPassword']&&(_0x4d2342[_0x2bcee2(0x2e7)]=crypt[_0x2bcee2(0x2b6)](secure[_0x2bcee2(0x290)],_0x4d2342[_0x2bcee2(0x2e7)])[_0x2bcee2(0x250)]);let _0x4b8573=![];_0x245c43?(_0x4d2342['apiKey']==_0x2bcee2(0x2a2)?_0x4d2342['apiKey']=config[_0x2bcee2(0x226)]:_0x4b8573=!![],_0x4d2342['apiSecret']==_0x2bcee2(0x2a2)?_0x4d2342[_0x2bcee2(0x287)]=config[_0x2bcee2(0x287)]:_0x4b8573=!![],_0x4d2342['apiPassword']==_0x2bcee2(0x2a2)?_0x4d2342['apiPassword']=config[_0x2bcee2(0x2e7)]:_0x4b8573=!![],dbConfig[_0x2bcee2(0x1e3)]('bot')[_0x2bcee2(0x2e3)]({'botID':botID})[_0x2bcee2(0x237)](_0x4d2342)['write']()):(dbConfig[_0x2bcee2(0x1e3)]('bot')[_0x2bcee2(0x1db)](_0x4d2342)[_0x2bcee2(0x1de)](),_0x4b8573=!![],process[_0x2bcee2(0x203)]({'status':_0x2bcee2(0x28a),'live':'running'},_0x568a23=>{}));config={..._0x4d2342},setStartDatePerformance(),process[_0x2bcee2(0x203)]({'botname':_0x4d2342['botname']},_0x4a19a3=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x2bcee2(0x27c)),await initCoinResults();if(_0x4b8573)await reset(_0x369939,!![]);else{if(_0x2164f3)await reset(_0x369939,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x2bcee2(0x1dc)](_0x2bcee2(0x16d));}async function storeHeadless(_0x12d01e){const _0x354da1=_0x38761b,_0x15e96a={...config,'headless':_0x12d01e[_0x354da1(0x240)]};let _0x34836b=dbConfig[_0x354da1(0x1e3)]('bot')[_0x354da1(0x2e3)]({'botID':botID})['value']();_0x34836b&&dbConfig[_0x354da1(0x1e3)](_0x354da1(0x195))[_0x354da1(0x2e3)]({'botID':botID})[_0x354da1(0x237)](_0x15e96a)[_0x354da1(0x1de)](),config={..._0x15e96a},updateBotManager(),proxyEmit(_0x354da1(0x2b9),emittedConfiguration());}async function storeFiat(_0xd6861a){const _0x5c44c4=_0x38761b,_0x2fdb7a={...config,'fiat':_0xd6861a};let _0x30422e=dbConfig[_0x5c44c4(0x1e3)](_0x5c44c4(0x195))['find']({'botID':botID})[_0x5c44c4(0x1c5)]();_0x30422e&&dbConfig[_0x5c44c4(0x1e3)]('bot')['find']({'botID':botID})[_0x5c44c4(0x237)](_0x2fdb7a)[_0x5c44c4(0x1de)](),config={..._0x2fdb7a},proxyEmit(_0x5c44c4(0x2b9),emittedConfiguration());}function resetHistory(){const _0x473bd3=_0x38761b;logger['full']('Resetting\x20bot\x20history');try{if(fs[_0x473bd3(0x28e)](path['join'](configpath,'bot-'+botID+'-events.json')))fs[_0x473bd3(0x19a)](path[_0x473bd3(0x1d2)](configpath,_0x473bd3(0x2d1)+botID+_0x473bd3(0x24f)));if(fs[_0x473bd3(0x28e)](path[_0x473bd3(0x1d2)](configpath,_0x473bd3(0x2d1)+botID+_0x473bd3(0x2d4))))fs[_0x473bd3(0x19a)](path[_0x473bd3(0x1d2)](configpath,_0x473bd3(0x2d1)+botID+'-performance.json'));if(fs['existsSync'](path[_0x473bd3(0x1d2)](configpath,_0x473bd3(0x2d1)+botID+_0x473bd3(0x282))))fs[_0x473bd3(0x19a)](path[_0x473bd3(0x1d2)](configpath,_0x473bd3(0x2d1)+botID+_0x473bd3(0x282)));}catch(_0xc9cfd3){if(_0xc9cfd3)logger['full'](_0x473bd3(0x2a6),_0xc9cfd3);}const _0x2b1024=getDate();let _0x12ee69=[];currentCoins['forEach'](_0xb86174=>{const _0x20810d=_0x473bd3;_0x12ee69[_0x20810d(0x1db)]({'coin':_0xb86174['coin'],'number':_0xb86174[_0x20810d(0x212)],'price':_0xb86174[_0x20810d(0x222)]});});let _0x14b216=dbConfig['get'](_0x473bd3(0x195))['find']({'botID':botID})['value']();_0x14b216&&(dbConfig[_0x473bd3(0x1e3)](_0x473bd3(0x195))['find']({'botID':botID})[_0x473bd3(0x237)]({'liquidity':[{'date':_0x2b1024,'changes':_0x12ee69}]})[_0x473bd3(0x1de)](),config[_0x473bd3(0x289)]=[]),process[_0x473bd3(0x203)]({'stop':_0x473bd3(0x23b)},_0x32b8b8=>{});}function noslash(_0x3409e3){const _0x2f72ff=_0x38761b;return _0x3409e3[_0x2f72ff(0x21f)]('/','');}function updateHighestFee(_0x3cf543,_0x560a54){const _0x126403=_0x38761b;lastFees[_0x126403(0x296)]=_0x3cf543,lastFees[_0x126403(0x228)][_0x126403(0x2bd)]===0x14&&lastFees[_0x126403(0x228)][_0x126403(0x19f)](),lastFees[_0x126403(0x228)]['push'](_0x560a54),lastFees['highest']=Math[_0x126403(0x257)](...lastFees[_0x126403(0x228)]);}async function updateNumberCoinsCcxt(_0x359560){const _0x46395e=_0x38761b;logger[_0x46395e(0x1dc)](_0x46395e(0x1ce)+_0x359560[_0x46395e(0x16f)]+_0x46395e(0x261)+_0x359560[_0x46395e(0x2df)]+'\x20|\x20'+_0x359560['id']+_0x46395e(0x261)+_0x359560[_0x46395e(0x1cd)]);let _0x39bf2b=_0x359560['status'],_0x1f243f=![];currentCoins[_0x46395e(0x194)](_0x140881=>{const _0x3129d2=_0x46395e;_0x140881[_0x3129d2(0x16f)]==_0x359560[_0x3129d2(0x16f)]&&(_0x1f243f=!![]);});if(!_0x1f243f)return;const _0x4bae65=currentCoins[_0x46395e(0x2e3)](_0x2985bb=>_0x2985bb[_0x46395e(0x16f)]==_0x359560[_0x46395e(0x16f)]),_0x351b0d=_0x2247e9=>{const _0x3159a5=_0x46395e;if(_0x4bae65)_0x4bae65[_0x3159a5(0x2c3)]=_0x2247e9;};if(_0x39bf2b==_0x46395e(0x2c6))_0x351b0d(_0x46395e(0x2c6));else{if(_0x39bf2b==_0x46395e(0x172)){_0x351b0d(_0x46395e(0x172));const _0x7340ab=await getCoins();[currentCoins,currentCoinsAll]=_0x7340ab,await getOpenOrders(),handleOpenOrders();}else{if(_0x39bf2b==_0x46395e(0x182)){logger[_0x46395e(0x1dc)](_0x46395e(0x231)+_0x359560[_0x46395e(0x16f)]+'\x20|\x20'+_0x359560[_0x46395e(0x267)]+_0x46395e(0x261)+_0x359560['id']+_0x46395e(0x261)+_0x359560['clientOrderId']);let _0x5af26a=![];if(lastOrders)lastOrders[_0x46395e(0x194)](async _0x14998a=>{const _0x3a6ad9=_0x46395e;if(_0x14998a[_0x3a6ad9(0x2c4)]==_0x359560[_0x3a6ad9(0x1cd)]){logger[_0x3a6ad9(0x1dc)](_0x3a6ad9(0x2e5)+_0x359560[_0x3a6ad9(0x1cd)]),_0x5af26a=!![];if(_0x14998a[_0x3a6ad9(0x267)]==0x0){logger[_0x3a6ad9(0x1dc)](_0x3a6ad9(0x217)+_0x359560[_0x3a6ad9(0x1cd)]),_0x14998a[_0x3a6ad9(0x29a)]=_0x359560[_0x3a6ad9(0x17e)],_0x14998a[_0x3a6ad9(0x267)]=_0x359560[_0x3a6ad9(0x267)],_0x14998a[_0x3a6ad9(0x1e8)]={'currency':_0x359560[_0x3a6ad9(0x1e8)]?_0x359560['fee'][_0x3a6ad9(0x296)]:null,'cost':_0x359560[_0x3a6ad9(0x1e8)]?_0x359560[_0x3a6ad9(0x1e8)][_0x3a6ad9(0x284)]:0x0},updateHighestFee(_0x14998a['fee'][_0x3a6ad9(0x296)],_0x14998a[_0x3a6ad9(0x1e8)][_0x3a6ad9(0x284)]),_0x351b0d(_0x3a6ad9(0x267)),await validateOrders();if(lockOrders==ORDERS[_0x3a6ad9(0x2b7)]){const _0x5ac0ad=await getCoins();[currentCoins,currentCoinsAll]=_0x5ac0ad;}await updateCoinResults(_0x14998a);}}});if(!_0x5af26a){logger['debug'](_0x46395e(0x1d0)+_0x359560['id']),_0x351b0d(_0x46395e(0x267));const _0x3f7ee3=await getCoins();[currentCoins,currentCoinsAll]=_0x3f7ee3,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1a5fef=JSON[_0x46395e(0x1ef)](lastBalances[_0x46395e(0x276)]);const _0x5353bb=_0x1a5fef[_0x46395e(0x2e3)](_0x564352=>_0x564352[_0x46395e(0x16f)]==_0x359560[_0x46395e(0x16f)]);if(_0x5353bb){if(_0x39bf2b==_0x46395e(0x2c6))_0x5353bb[_0x46395e(0x2c3)]=_0x5353bb['orderstatus']==_0x46395e(0x267)?'filled':_0x46395e(0x2c6);else{if(_0x39bf2b==_0x46395e(0x172))_0x5353bb[_0x46395e(0x2c3)]=_0x5353bb['orderstatus']==_0x46395e(0x267)?_0x46395e(0x267):_0x46395e(0x172);else _0x39bf2b==_0x46395e(0x182)&&(_0x5353bb[_0x46395e(0x2c3)]=_0x46395e(0x267));}}lastBalances={...lastBalances,'portfolio':JSON[_0x46395e(0x265)](_0x1a5fef)},proxyEmit(_0x46395e(0x179),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x8e59af=_0x38761b;await getOpenOrders();let _0x386606=![];currentCoins[_0x8e59af(0x194)](_0xb6b87=>{const _0x521054=_0x8e59af;_0x386606=allOpenOrders['find'](_0x4d7d17=>_0x4d7d17['symbol']==_0xb6b87[_0x521054(0x16f)]),_0xb6b87[_0x521054(0x2c3)]=_0x386606?_0x521054(0x2c6):_0x521054(0x22e);});}async function getCoins(_0x186acb=!![],_0x5399ae=config[_0x38761b(0x259)]){const _0x3f0ae1=_0x38761b;let _0x562e1b,_0x54545c=[],_0x3bdcd3=[],_0x4d76ff=[],_0x409cd4=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x562e1b=await exchange[_0x3f0ae1(0x20a)](),mybalances=_0x562e1b[_0x3f0ae1(0x22a)];for(const [_0x5e98d3,_0x2bd192]of Object[_0x3f0ae1(0x180)](mybalances)){_0x409cd4[_0x3f0ae1(0x1db)](_0x5e98d3);}if(_0x5399ae=='')for(const [_0x36318a,_0x436199]of Object['entries'](mybalances)){_0x436199[_0x3f0ae1(0x2a3)]()!=0x0&&_0x3bdcd3[_0x3f0ae1(0x1db)]({'coin':_0x36318a});}else{let _0x4dd470=![];for(const [_0x5dbec2,_0x340c08]of Object[_0x3f0ae1(0x180)](mybalances)){if(_0x409cd4[_0x3f0ae1(0x274)](_0x5dbec2)){const _0x185136=config[_0x3f0ae1(0x276)][_0x3f0ae1(0x2e3)](_0x14156b=>_0x14156b[_0x3f0ae1(0x1e7)]==_0x5dbec2),_0xb55c65=_0x5dbec2+'/'+_0x5399ae,_0x116494=_0x5399ae+'/'+_0x5dbec2,_0x199f8d=currentCoins[_0x3f0ae1(0x2e3)](_0x266653=>_0x266653['coin']==_0x5dbec2);_0x4dd470=![];if((_0x340c08['toString']()!=0x0||_0x185136)&&(allSymbols['includes'](_0xb55c65)||_0x5dbec2==_0x5399ae))_0x5dbec2!=_0x5399ae&&_0x54545c['push'](_0xb55c65),_0x3bdcd3[_0x3f0ae1(0x1db)]({'coin':_0x5dbec2,'symbol':_0xb55c65,'reverse':![],'number':Math['max'](_0x340c08+(_0x185136&&_0x185136[_0x3f0ae1(0x2e0)]||0x0),0x0),'orderstatus':_0x199f8d?_0x199f8d[_0x3f0ae1(0x2c3)]:_0x3f0ae1(0x22e)});else(_0x340c08[_0x3f0ae1(0x2a3)]()!=0x0||_0x185136)&&allSymbols[_0x3f0ae1(0x274)](_0x116494)&&(_0x5dbec2!=_0x5399ae&&_0x54545c[_0x3f0ae1(0x1db)](_0x116494),_0x3bdcd3[_0x3f0ae1(0x1db)]({'coin':_0x5dbec2,'symbol':_0x116494,'reverse':!![],'number':Math[_0x3f0ae1(0x257)](_0x340c08+(_0x185136&&_0x185136[_0x3f0ae1(0x2e0)]||0x0),0x0),'orderstatus':_0x199f8d?_0x199f8d[_0x3f0ae1(0x2c3)]:_0x3f0ae1(0x22e)}));}}}}catch(_0x19d5e7){if(!_0x186acb)handleErrorNoStop(_0x19d5e7,_0x3f0ae1(0x252));else await handleError(_0x19d5e7,_0x3f0ae1(0x252));}return _0x4d76ff=cloneDeep(_0x3bdcd3),_0x3bdcd3=_0x3bdcd3[_0x3f0ae1(0x29d)](_0x259953=>{const _0x44dfd5=_0x3f0ae1,_0x342e6f=config['portfolio'][_0x44dfd5(0x2e3)](_0x9c6d08=>_0x9c6d08[_0x44dfd5(0x1e7)]==_0x259953[_0x44dfd5(0x1e7)]);return _0x342e6f&&!_0x342e6f[_0x44dfd5(0x213)];}),[_0x3bdcd3,_0x4d76ff];}async function getCoinNumber(_0x54b624){const _0xa84bc9=_0x38761b;let _0x33234c;try{const _0x6ad423=await exchange['fetchBalance']();_0x33234c=_0x6ad423[_0xa84bc9(0x22a)][_0x54b624];}catch(_0x4be3b7){await handleError(_0x4be3b7,'getCoinNumber()');}return _0x33234c;}async function getOpenOrders(){const _0x1713c4=_0x38761b;let _0x23213a;allOpenOrders=[];try{for(const _0x57f2dd of config[_0x1713c4(0x276)]){!_0x57f2dd[_0x1713c4(0x213)]&&_0x57f2dd['coin']!=config[_0x1713c4(0x259)]&&(_0x23213a=await exchange[_0x1713c4(0x1d4)](_0x57f2dd[_0x1713c4(0x16f)]),_0x23213a[_0x1713c4(0x2bd)]>0x0&&allOpenOrders[_0x1713c4(0x1db)](_0x23213a[0x0]));}}catch(_0x4740f6){await handleError(_0x4740f6,_0x1713c4(0x283));}}async function handleOpenOrders(_0x5d626a=0x0){const _0x3e23fe=_0x38761b;allOpenOrders[_0x3e23fe(0x2bd)]==0x0&&lockOrders==ORDERS[_0x3e23fe(0x2b7)]&&allOrdersPlaced&&(_0x5d626a==0x0?(logger[_0x3e23fe(0x1dc)]('1\x20-\x20Handle\x20open\x20orders'),_0x5d626a++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3e23fe(0x1dc)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x3e23fe(0x174))));}async function testAPI(_0x15c608){const _0x25adc6=_0x38761b,_0x32cbff=ccxt[_0x15c608[_0x25adc6(0x185)][_0x25adc6(0x1c6)]()],_0x4d327d=new _0x32cbff({'apiKey':_0x15c608[_0x25adc6(0x226)],'secret':_0x15c608[_0x25adc6(0x287)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x15c608[_0x25adc6(0x2e7)])_0x4d327d[_0x25adc6(0x2e7)]=_0x15c608[_0x25adc6(0x2e7)];try{await _0x4d327d[_0x25adc6(0x18d)]();}catch(_0x469ebf){throw _0x469ebf;}}function cloneDeep(_0x3427a3){const _0x8409b9=_0x38761b;return JSON['parse'](JSON[_0x8409b9(0x265)](_0x3427a3));}async function getPortfolio(_0x4f228f){const _0x3a7841=_0x38761b;let _0x82369=[],_0x4f0343=[],_0xf9ac6a=[],_0x5cb697;if(_0x4f228f[_0x3a7841(0x226)]!==_0x3a7841(0x2a2)||_0x4f228f[_0x3a7841(0x287)]!==_0x3a7841(0x2a2)||_0x4f228f[_0x3a7841(0x2e7)]&&_0x4f228f[_0x3a7841(0x2e7)]!==_0x3a7841(0x2a2)){if(config[_0x3a7841(0x185)]){if(_0x4f228f[_0x3a7841(0x226)]==_0x3a7841(0x2a2))_0x4f228f[_0x3a7841(0x226)]=config[_0x3a7841(0x226)];if(_0x4f228f[_0x3a7841(0x287)]==_0x3a7841(0x2a2))_0x4f228f[_0x3a7841(0x287)]=config[_0x3a7841(0x287)];if(_0x4f228f[_0x3a7841(0x2e7)]=='************')_0x4f228f[_0x3a7841(0x2e7)]=config[_0x3a7841(0x2e7)];try{await testAPI(_0x4f228f);}catch(_0x59c88d){if(_0x59c88d['toString']()[_0x3a7841(0x274)](_0x3a7841(0x29b))){logger[_0x3a7841(0x1dc)](_0x3a7841(0x1c9)),proxyEmit(_0x3a7841(0x276),![]);return;}else{handleError(_0x59c88d,'getPortfolio(0)');return;}}}await initExchange(_0x4f228f[_0x3a7841(0x185)],_0x4f228f['apiKey'],_0x4f228f[_0x3a7841(0x287)],_0x4f228f[_0x3a7841(0x2e7)]);try{await loadSymbols(_0x4f228f[_0x3a7841(0x185)],!![]);}catch(_0x281848){if(_0x281848['toString']()['includes'](_0x3a7841(0x29b))){proxyEmit(_0x3a7841(0x276),![]);return;}else{handleError(_0x281848,_0x3a7841(0x1ac));return;}}const _0x36bf80=await getCoins(![],_0x4f228f['basecoin']);_0xf9ac6a=cloneDeep(_0x36bf80[0x1]);}else _0xf9ac6a=cloneDeep(currentCoinsAll);if(_0x4f228f[_0x3a7841(0x259)]=='')proxyEmit(_0x3a7841(0x276),_0xf9ac6a);else{_0xf9ac6a['forEach'](_0x52512d=>{const _0x45da21=_0x3a7841;if(_0x52512d[_0x45da21(0x1e7)]!=_0x4f228f['basecoin'])_0x82369[_0x45da21(0x1db)](_0x52512d[_0x45da21(0x16f)]);});try{_0x4f0343=await exchange['fetchTickers'](_0x82369);}catch(_0xa032f6){if(_0xa032f6['toString']()[_0x3a7841(0x274)](_0x3a7841(0x29b))){proxyEmit(_0x3a7841(0x276),![]);return;}else{handleError(_0xa032f6,_0x3a7841(0x19c));return;}}_0xf9ac6a['forEach'](_0x40df11=>{const _0x4b66ba=_0x3a7841;_0x40df11[_0x4b66ba(0x1e7)]!=_0x4f228f[_0x4b66ba(0x259)]?_0x5cb697=_0x40df11['reverse']?0x1/_0x4f0343[_0x40df11[_0x4b66ba(0x16f)]][_0x4b66ba(0x222)]:_0x4f0343[_0x40df11[_0x4b66ba(0x16f)]]['last']:_0x5cb697=0x1,_0x40df11[_0x4b66ba(0x29a)]=formatResult(_0x5cb697,0x8);}),proxyEmit(_0x3a7841(0x276),_0xf9ac6a);}}function checkMinimums(_0x3e1c24){const _0x3cdcf3=_0x38761b;let _0x168762=!![];const _0x502085=!_0x3e1c24['reverse']?markets[_0x3e1c24['symbol']]['limits'][_0x3cdcf3(0x1c7)][_0x3cdcf3(0x2ce)]:markets[_0x3e1c24['symbol']]['limits'][_0x3cdcf3(0x284)][_0x3cdcf3(0x2ce)],_0xb206c4=!_0x3e1c24[_0x3cdcf3(0x1fa)]?markets[_0x3e1c24[_0x3cdcf3(0x16f)]]['limits']['cost'][_0x3cdcf3(0x2ce)]:markets[_0x3e1c24['symbol']][_0x3cdcf3(0x1d9)][_0x3cdcf3(0x1c7)][_0x3cdcf3(0x2ce)],_0x57a89e=markets[_0x3e1c24[_0x3cdcf3(0x16f)]][_0x3cdcf3(0x1b5)][_0x3cdcf3(0x1c7)];_0x3e1c24[_0x3cdcf3(0x21a)]=formatResultTruncate(_0x3e1c24['trade'],_0x57a89e);if(Math['abs'](_0x3e1c24['trade'])<_0x502085)_0x168762=![];if(Math[_0x3cdcf3(0x26a)](_0x3e1c24[_0x3cdcf3(0x21a)])*_0x3e1c24[_0x3cdcf3(0x222)]<_0xb206c4)_0x168762=![];if(_0x3e1c24[_0x3cdcf3(0x1c4)]==_0x3cdcf3(0x2d3)){let _0x1a8c13=config['portfolio'][_0x3cdcf3(0x2e3)](_0xb5e7b7=>_0xb5e7b7[_0x3cdcf3(0x1e7)]==_0x3e1c24[_0x3cdcf3(0x1e7)]);if(_0x1a8c13['offset']>0x0){if(Math['abs'](_0x3e1c24[_0x3cdcf3(0x21a)])>_0x3e1c24['number']-_0x1a8c13['offset'])_0x168762=![];}else{if(Math[_0x3cdcf3(0x26a)](_0x3e1c24[_0x3cdcf3(0x21a)])>_0x3e1c24[_0x3cdcf3(0x212)])_0x168762=![];}}if(_0x3e1c24[_0x3cdcf3(0x1c4)]=='buy'){let _0x1e023d=config[_0x3cdcf3(0x276)][_0x3cdcf3(0x2e3)](_0x3cade2=>_0x3cade2['coin']==config['basecoin']),_0x268a75=currentCoins[_0x3cdcf3(0x2e3)](_0x2ed76=>_0x2ed76[_0x3cdcf3(0x1e7)]==config[_0x3cdcf3(0x259)]);if(_0x1e023d[_0x3cdcf3(0x2e0)]>0x0){if(Math[_0x3cdcf3(0x26a)](_0x3e1c24[_0x3cdcf3(0x21a)])*_0x3e1c24[_0x3cdcf3(0x222)]>_0x268a75['number']-_0x1e023d[_0x3cdcf3(0x2e0)])_0x168762=![];}else{if(Math[_0x3cdcf3(0x26a)](_0x3e1c24[_0x3cdcf3(0x21a)])*_0x3e1c24['last']>_0x268a75['number'])_0x168762=![];}}return _0x168762;}async function getBalances(){const _0x375f16=_0x38761b;let _0x2dfca0=0x0,_0xee0b42;const _0x57e8fd=config[_0x375f16(0x1d3)];if(config[_0x375f16(0x240)]&&config[_0x375f16(0x2a1)]<0x0)await validate24hChanges();currentCoins[_0x375f16(0x194)](_0xb0d73f=>{const _0x1cf4a9=_0x375f16;if(_0xb0d73f[_0x1cf4a9(0x1e7)]!=config[_0x1cf4a9(0x259)]){let _0x4bc2d5=global[_0x1cf4a9(0x18f)][noslash(_0xb0d73f[_0x1cf4a9(0x16f)])];_0xee0b42=_0xb0d73f[_0x1cf4a9(0x1fa)]?0x1/_0x4bc2d5:_0x4bc2d5;}else _0xee0b42=0x1;let _0xa4ff6f=_0xb0d73f[_0x1cf4a9(0x212)]*_0xee0b42;_0x2dfca0+=_0xa4ff6f,_0xb0d73f['last']=formatResult(Number(_0xee0b42),0x8),_0xb0d73f[_0x1cf4a9(0x1c5)]=_0xa4ff6f;}),currentCoins[_0x375f16(0x194)](_0x41d891=>{const _0x55c170=_0x375f16;let _0x16a1a1=config[_0x55c170(0x276)][_0x55c170(0x2e3)](_0x16eeb1=>_0x16eeb1[_0x55c170(0x1e7)]==_0x41d891[_0x55c170(0x1e7)]),_0x35759b=Number(_0x16a1a1['distribution']),_0x1f8325=_0x41d891[_0x55c170(0x1c5)]/_0x2dfca0*0x64,_0x1fe0ba=_0x35759b*_0x2dfca0/0x64/_0x41d891['last']-_0x41d891[_0x55c170(0x212)];_0x41d891[_0x55c170(0x186)]=formatResult(_0x1f8325,0x3),_0x41d891['target']=formatResult(_0x35759b,0x3),_0x41d891['trade']=formatResult(_0x1fe0ba,0x8),_0x41d891[_0x55c170(0x1c4)]='',_0x41d891[_0x55c170(0x1b9)]=![];if(_0x41d891[_0x55c170(0x1e7)]!=config[_0x55c170(0x259)]){if(_0x41d891[_0x55c170(0x186)]>_0x35759b)_0x41d891[_0x55c170(0x1c4)]=_0x55c170(0x2d3),_0x41d891[_0x55c170(0x1b9)]=checkMinimums(_0x41d891);else _0x41d891[_0x55c170(0x186)]<_0x35759b&&(_0x41d891['side']=_0x55c170(0x18c),_0x41d891['valid']=checkMinimums(_0x41d891));}_0x41d891['delta']=_0x41d891['distribution']/_0x41d891[_0x55c170(0x173)]-0x1;if(_0x41d891['orderstatus']==_0x55c170(0x267)||_0x41d891[_0x55c170(0x2c3)]=='canceled')_0x41d891[_0x55c170(0x2c3)]=_0x55c170(0x22e);}),currentCoins[_0x375f16(0x229)]((_0x2b0697,_0xa278a8)=>_0x2b0697['delta']<_0xa278a8[_0x375f16(0x279)]?0x1:_0xa278a8[_0x375f16(0x279)]<_0x2b0697[_0x375f16(0x279)]?-0x1:0x0);const _0x16869c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x16869c[_0x375f16(0x1fc)],'usd':_0x16869c['usd'],'portfolio':JSON[_0x375f16(0x265)](currentCoins),'threshold':_0x57e8fd},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x375f16(0x240)])headlessMode({'portfolio':currentCoins,'threshold':_0x57e8fd});else{if(lockOrders==ORDERS[_0x375f16(0x22f)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x57e8fd});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x7b5ef3=getNormalizedPerformance();getStartingBalances(_0x7b5ef3),emitPerformance(_0x7b5ef3);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x4eb5a2=getNormalizedPerformance();emitPerformance(_0x4eb5a2),getStartingBalances(_0x4eb5a2),logger['debug'](_0x375f16(0x232));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x38b23a=_0x38761b;if(!lastBalances)return;let _0x3fb5c2=[],_0x51e0c9,_0x6d781a=JSON['parse'](lastBalances[_0x38b23a(0x276)]);_0x6d781a[_0x38b23a(0x229)]((_0x1a8aea,_0x51cb43)=>_0x1a8aea[_0x38b23a(0x1e7)]>_0x51cb43[_0x38b23a(0x1e7)]?0x1:_0x51cb43[_0x38b23a(0x1e7)]>_0x1a8aea[_0x38b23a(0x1e7)]?-0x1:0x0),_0x6d781a['forEach'](_0x27a53c=>{const _0xa429fe=_0x38b23a;let _0x511578={'coin':_0x27a53c['coin'],'number':_0x27a53c[_0xa429fe(0x212)],'price':_0x27a53c[_0xa429fe(0x222)]};_0x3fb5c2[_0xa429fe(0x1db)](_0x511578);});const _0x11e1b6=await getFiat();_0x51e0c9={'date':lastBalances[_0x38b23a(0x29c)][_0x38b23a(0x1ca)]('\x20')[0x0],'eur':_0x11e1b6[_0x38b23a(0x1fc)],'usd':_0x11e1b6[_0x38b23a(0x24b)],'coins':_0x3fb5c2};let _0x164403=dbPerformance[_0x38b23a(0x1e3)]('data')[_0x38b23a(0x2e3)]({'date':_0x51e0c9[_0x38b23a(0x2b8)]})[_0x38b23a(0x1c5)]();_0x164403?_0x51e0c9[_0x38b23a(0x2b8)]!=config['startdate']&&dbPerformance[_0x38b23a(0x1e3)]('data')['find']({'date':_0x51e0c9[_0x38b23a(0x2b8)]})['assign'](_0x51e0c9)[_0x38b23a(0x1de)]():dbPerformance[_0x38b23a(0x1e3)]('data')[_0x38b23a(0x1db)](_0x51e0c9)[_0x38b23a(0x1de)](),lastPerformanceStored=getHour();}function _0x4422(_0x10baec,_0x55661a){const _0x75c02=_0x55f2();return _0x4422=function(_0x3c2672,_0x135deb){_0x3c2672=_0x3c2672-0x16c;let _0x55f244=_0x75c02[_0x3c2672];return _0x55f244;},_0x4422(_0x10baec,_0x55661a);}function getNormalizedPerformance(){const _0x4c1d3a=_0x38761b;let _0x2319e6=[];if(dbPerformance[_0x4c1d3a(0x2b3)](_0x4c1d3a(0x298))['value']()){let _0x4ad52a=dbPerformance[_0x4c1d3a(0x1e3)](_0x4c1d3a(0x298))['cloneDeep']()[_0x4c1d3a(0x197)](_0x4c1d3a(0x2b8))[_0x4c1d3a(0x1c5)](),_0x11b2ea=[...config['liquidity']];_0x11b2ea[_0x4c1d3a(0x229)]((_0x522206,_0xfff9ed)=>_0x522206[_0x4c1d3a(0x2b8)]>_0xfff9ed['date']?-0x1:_0xfff9ed['date']>_0x522206[_0x4c1d3a(0x2b8)]?0x1:0x0);let _0x2e415c=0x1,_0x58a0f4=[],_0x5757a3=0x0;_0x4ad52a[_0x4c1d3a(0x1a9)]()[_0x4c1d3a(0x1fa)]()[_0x4c1d3a(0x194)]((_0x5613ec,_0x2e3f3b)=>{const _0x15a4f4=_0x4c1d3a;if(_0x11b2ea[_0x5757a3]){if(_0x4ad52a[_0x4ad52a[_0x15a4f4(0x2bd)]-_0x2e3f3b]&&_0x11b2ea[_0x5757a3][_0x15a4f4(0x2b8)]==_0x4ad52a[_0x4ad52a['length']-_0x2e3f3b][_0x15a4f4(0x2b8)]){if(_0x2e3f3b<_0x4ad52a[_0x15a4f4(0x2bd)]){let _0x4027b7=0x0,_0x3d138d=0x0;_0x4ad52a[_0x4ad52a['length']-_0x2e3f3b][_0x15a4f4(0x2e4)][_0x15a4f4(0x194)](_0x2e51c6=>{const _0x1ceacb=_0x15a4f4;_0x3d138d+=_0x2e51c6['number']*_0x2e51c6[_0x1ceacb(0x29a)];}),_0x11b2ea[_0x5757a3][_0x15a4f4(0x2db)][_0x15a4f4(0x194)](_0x39dbf4=>{const _0x514292=_0x15a4f4;_0x4027b7+=_0x39dbf4[_0x514292(0x212)]*_0x39dbf4[_0x514292(0x29a)];}),_0x2e415c*=_0x4027b7/(_0x3d138d-_0x4027b7)+0x1;}_0x5757a3++;}}let _0x3007c2=0x0;_0x5613ec[_0x15a4f4(0x2e4)][_0x15a4f4(0x194)](_0x246e38=>{const _0x361c11=_0x15a4f4;_0x3007c2+=_0x246e38[_0x361c11(0x212)]*_0x246e38[_0x361c11(0x29a)];}),_0x58a0f4[_0x4ad52a[_0x15a4f4(0x2bd)]-_0x2e3f3b-0x1]=_0x3007c2*(_0x2e415c-0x1);});let _0x474aed=[];_0x11b2ea=[...config[_0x4c1d3a(0x289)]]||[];let _0x2a4086=0x0;_0x5757a3=0x0,_0x4ad52a[_0x4c1d3a(0x194)]((_0x52ef5d,_0x56d7e6)=>{const _0x11c4a8=_0x4c1d3a;if(_0x11b2ea[_0x5757a3]){const _0x5a6692=fns['parse'](_0x11b2ea[_0x5757a3]['date'],_0x11c4a8(0x249),new Date()),_0x3d6f60=fns[_0x11c4a8(0x1ef)](_0x52ef5d[_0x11c4a8(0x2b8)],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x5a6692,_0x3d6f60)){let _0x4be6f3=0x0;_0x11b2ea[_0x5757a3][_0x11c4a8(0x2db)]['forEach'](_0x563407=>{const _0x5450a4=_0x11c4a8;!_0x474aed[_0x563407[_0x5450a4(0x1e7)]]?_0x474aed[_0x563407['coin']]=_0x563407[_0x5450a4(0x212)]:(_0x4be6f3=_0x474aed[_0x563407[_0x5450a4(0x1e7)]],_0x474aed[_0x563407[_0x5450a4(0x1e7)]]+=_0x563407[_0x5450a4(0x212)]);const _0x211923=_0x52ef5d[_0x5450a4(0x2e4)]['find'](_0x9cbe8f=>_0x9cbe8f[_0x5450a4(0x1e7)]==_0x563407[_0x5450a4(0x1e7)]);(!_0x211923||_0x211923[_0x5450a4(0x212)]==0x0)&&(_0x2a4086+=(-_0x563407[_0x5450a4(0x212)]-_0x4be6f3)*_0x563407['price']);}),_0x5757a3++;}}_0x52ef5d[_0x11c4a8(0x2e4)][_0x11c4a8(0x194)]((_0x68e17f,_0x2d827c)=>{const _0x39a2b9=_0x11c4a8;_0x474aed[_0x68e17f[_0x39a2b9(0x1e7)]]&&(_0x68e17f[_0x39a2b9(0x241)]=_0x474aed[_0x68e17f[_0x39a2b9(0x1e7)]]);}),_0x2319e6[_0x11c4a8(0x1db)]({'date':_0x52ef5d[_0x11c4a8(0x2b8)],'eur':_0x52ef5d[_0x11c4a8(0x1fc)],'usd':_0x52ef5d[_0x11c4a8(0x24b)],'offset':_0x58a0f4[_0x56d7e6],'netoffset':_0x2a4086,'coins':_0x52ef5d['coins']});});}return _0x2319e6;}function emitPerformance(_0x1eda1e){const _0xa74af1=_0x38761b;_0x1eda1e[_0xa74af1(0x2bd)]!==0x0?(proxyEmit(_0xa74af1(0x1f9),_0x1eda1e),lastPerformanceEmitted=getDate()):proxyEmit(_0xa74af1(0x1f9),[]);}function getPerf(_0x5b8f6e,_0x13d480){const _0x2711f7=_0x38761b;let _0x4fd762=0x0,_0x5de7e2=0x0,_0x5aa882=0x0;_0x5b8f6e['coins'][_0x2711f7(0x194)](_0xbb7090=>{const _0x33035a=_0x2711f7;_0x4fd762+=_0xbb7090['number']*_0xbb7090[_0x33035a(0x29a)];});_0x13d480&&(_0x4fd762+=_0x5b8f6e['offset']);if(config[_0x2711f7(0x259)]==='BTC'||config['basecoin']==='ETH')_0x5de7e2=_0x4fd762*_0x5b8f6e[_0x2711f7(0x1fc)],_0x5aa882=_0x4fd762*_0x5b8f6e[_0x2711f7(0x24b)];else{if(config[_0x2711f7(0x259)]==='BUSD'||config['basecoin']==='USDT'||config[_0x2711f7(0x259)]==='USD')_0x5de7e2=_0x4fd762*_0x5b8f6e['eur']/_0x5b8f6e[_0x2711f7(0x24b)],_0x5aa882=_0x4fd762;else config[_0x2711f7(0x259)]===_0x2711f7(0x24a)&&(_0x5de7e2=_0x4fd762,_0x5aa882=_0x4fd762*_0x5b8f6e[_0x2711f7(0x24b)]/_0x5b8f6e[_0x2711f7(0x1fc)]);}return[_0x4fd762,_0x5de7e2,_0x5aa882];}function getKPIs(_0x2da06e,_0x1b0003=_0x38761b(0x24a)){const _0x523867=_0x38761b,_0x21b5f3=config[_0x523867(0x259)],_0x2450bf=lastBalances,_0x18d0b4=currentCoins,_0x6952b6=getNormalizedPerformance(),_0x4450db=_0x2da06e===_0x523867(0x259)?_0x21b5f3:_0x2da06e===_0x523867(0x192)||_0x2da06e===_0x523867(0x256)?_0x1b0003:'Net\x20'+_0x21b5f3,_0x4740e1=_0x2da06e===_0x523867(0x277)?_0x523867(0x1e9):_0x2da06e===_0x523867(0x256)?_0x523867(0x1e9):_0x4450db+_0x523867(0x1a8),_0x527642=_0x2da06e==='net-basecoin'||_0x2da06e==='net-fiat'?_0x523867(0x1e9):_0x4450db+'\x20change';let _0x86862c=0x0;_0x18d0b4['forEach'](_0x4c9ff4=>{const _0x37a8af=_0x523867;_0x86862c+=_0x4c9ff4[_0x37a8af(0x212)]*_0x4c9ff4['last'];});if(_0x2da06e===_0x523867(0x192)||_0x2da06e==='net-fiat'){if(_0x21b5f3==='BTC'||_0x21b5f3===_0x523867(0x22d))_0x86862c=_0x86862c*(_0x1b0003===_0x523867(0x24a)?_0x2450bf[_0x523867(0x1fc)]:_0x2450bf[_0x523867(0x24b)]);else{if(_0x21b5f3==='BUSD'||_0x21b5f3===_0x523867(0x270)||_0x21b5f3==='USD')_0x86862c=_0x86862c*(_0x1b0003==='EUR'?_0x2450bf[_0x523867(0x1fc)]/_0x2450bf[_0x523867(0x24b)]:0x1);else _0x21b5f3===_0x523867(0x24a)&&(_0x86862c=_0x86862c*(_0x1b0003==='EUR'?0x1:_0x2450bf[_0x523867(0x24b)]/_0x2450bf[_0x523867(0x1fc)]));}}let _0x727001;if(_0x86862c!==0x0){if(_0x2da06e===_0x523867(0x259))_0x727001=(_0x86862c/startingBalances['basecoin']-0x1)*0x64;else{if(_0x1b0003===_0x523867(0x24a))_0x727001=(_0x86862c/startingBalances[_0x523867(0x1fc)]-0x1)*0x64;else _0x727001=(_0x86862c/startingBalances['usd']-0x1)*0x64;}let _0x51286a=0x0;if(startingBalances['coins'])_0x18d0b4[_0x523867(0x194)](_0x123dc0=>{const _0x50b1c6=_0x523867;let _0x5efb0c=startingBalances[_0x50b1c6(0x2e4)]['find'](_0x5761fa=>_0x5761fa['coin']===_0x123dc0[_0x50b1c6(0x1e7)]);if(_0x5efb0c&&_0x5efb0c[_0x50b1c6(0x1e7)]&&_0x123dc0['number']!==0x0)_0x51286a+=_0x5efb0c[_0x50b1c6(0x212)]*_0x123dc0[_0x50b1c6(0x222)];});let _0x54b367=0x0;if(_0x6952b6[_0x523867(0x2bd)]!==0x0){let _0xa8fb06=_0x6952b6[_0x6952b6[_0x523867(0x2bd)]-0x1];_0x54b367=_0xa8fb06[_0x523867(0x1c1)];}_0x51286a-=_0x54b367;_0x2da06e===_0x523867(0x277)&&(_0x727001=(_0x86862c-_0x51286a)/startingBalances['basecoin']*0x64,_0x86862c=_0x86862c-_0x51286a);if(_0x2da06e===_0x523867(0x256)){let _0x2c6bf3=_0x1b0003==='EUR'?startingBalances[_0x523867(0x1fc)]:startingBalances['usd'];if(_0x21b5f3===_0x523867(0x208)||_0x21b5f3==='ETH')_0x51286a=_0x1b0003===_0x523867(0x24a)?_0x51286a*_0x2450bf[_0x523867(0x1fc)]:_0x51286a*_0x2450bf[_0x523867(0x24b)];else{if(_0x21b5f3==='BUSD'||_0x21b5f3===_0x523867(0x270)||_0x21b5f3==='USD')_0x51286a=_0x1b0003==='EUR'?_0x51286a*_0x2450bf[_0x523867(0x1fc)]/_0x2450bf[_0x523867(0x24b)]:_0x51286a;else _0x21b5f3===_0x523867(0x24a)&&(_0x51286a=_0x1b0003==='EUR'?_0x51286a:_0x51286a*_0x2450bf[_0x523867(0x24b)]/_0x2450bf['eur']);}_0x727001=(_0x86862c-_0x51286a)/_0x2c6bf3*0x64,_0x86862c=_0x86862c-_0x51286a;}if(_0x727001){if(_0x727001<0x64)_0x727001=_0x727001[_0x523867(0x24d)](0x2);else{if(_0x727001<0x3e8)_0x727001=_0x727001[_0x523867(0x24d)](0x1);else _0x727001=_0x727001[_0x523867(0x24d)](0x0);}}else _0x727001=Number('0')[_0x523867(0x24d)](0x2);if(_0x86862c){if(Math['abs'](_0x86862c)<0.000001)_0x86862c=_0x86862c[_0x523867(0x24d)](0x2);else{if(Math['abs'](_0x86862c)<0.1)_0x86862c=_0x86862c[_0x523867(0x24d)](0x6);else{if(Math[_0x523867(0x26a)](_0x86862c)<0x1)_0x86862c=_0x86862c['toFixed'](0x5);else{if(Math[_0x523867(0x26a)](_0x86862c)<0xa)_0x86862c=_0x86862c['toFixed'](0x4);else{if(Math[_0x523867(0x26a)](_0x86862c)<0x64)_0x86862c=_0x86862c['toFixed'](0x3);else{if(Math[_0x523867(0x26a)](_0x86862c)<0x3e8)_0x86862c=_0x86862c['toFixed'](0x2);else _0x86862c=_0x86862c[_0x523867(0x24d)](0x2);}}}}}}else _0x86862c=Number('0')[_0x523867(0x24d)](0x2);}else _0x727001=Number('0')[_0x523867(0x24d)](0x2);return{'value':_0x86862c,'change':_0x727001,'leftTxt':_0x4740e1,'rightTxt':_0x527642};}async function getStartingBalances(_0x1d63d9,_0x1265d4=!![]){const _0x37c55c=_0x38761b;if(_0x1d63d9[_0x37c55c(0x2bd)]!==0x0){const [_0x4c2804,_0x563ded,_0xaed8c4]=getPerf(_0x1d63d9[0x0],!![]);let _0x5f551d=[];config[_0x37c55c(0x276)][_0x37c55c(0x194)](_0x5127c4=>{const _0x467c57=_0x37c55c;let _0x55ebd9=0x0,_0xddc0f4;config[_0x467c57(0x289)]['forEach'](_0x4ff8cf=>{const _0xc41d40=_0x467c57;let _0x5390b7=_0x4ff8cf[_0xc41d40(0x2db)][_0xc41d40(0x2e3)](_0x595936=>_0x595936[_0xc41d40(0x1e7)]==_0x5127c4['coin']);if(_0x5390b7){_0x55ebd9+=_0x5390b7[_0xc41d40(0x212)];if(!_0xddc0f4)_0xddc0f4=_0x5390b7[_0xc41d40(0x29a)];}}),_0x5f551d[_0x467c57(0x1db)]({'coin':_0x5127c4[_0x467c57(0x1e7)],'number':_0x55ebd9,'initialprice':_0xddc0f4});});const _0x4726c9={'basecoin':_0x4c2804,'eur':_0x563ded,'usd':_0xaed8c4,'coins':_0x5f551d};if(_0x1265d4)proxyEmit(_0x37c55c(0x255),_0x4726c9);startingBalances=_0x4726c9;}}function headlessMode(_0x4503cd){const _0x3074d5=_0x38761b;let _0x49d58b=_0x4503cd[_0x3074d5(0x276)],_0x23fe7f=_0x4503cd['threshold'],_0x2264f9=[];for(let _0x20e549 of _0x49d58b){if(_0x20e549[_0x3074d5(0x1e7)]!=config[_0x3074d5(0x259)]){if(_0x20e549[_0x3074d5(0x279)]>=_0x23fe7f/0x64){if(_0x20e549['valid'])_0x2264f9[_0x3074d5(0x1db)](_0x20e549);}else{if(_0x20e549[_0x3074d5(0x279)]<=-_0x23fe7f/0x64){if(_0x20e549[_0x3074d5(0x1b9)])_0x2264f9['push'](_0x20e549);}}}}_0x2264f9['length']>0x0&&placeOrder(_0x2264f9);}function notifyBalance(_0x420053){const _0x37142d=_0x38761b;let _0x59542f=_0x420053[_0x37142d(0x276)],_0xac4b29=_0x420053[_0x37142d(0x1d3)],_0x1d9e2a=[];for(let _0x183843 of _0x59542f){if(_0x183843[_0x37142d(0x1e7)]!=config[_0x37142d(0x259)]){if(_0x183843[_0x37142d(0x279)]>=_0xac4b29/0x64){if(_0x183843[_0x37142d(0x1b9)])_0x1d9e2a[_0x37142d(0x1db)](_0x183843);}else{if(_0x183843[_0x37142d(0x279)]<=-_0xac4b29/0x64){if(_0x183843[_0x37142d(0x1b9)])_0x1d9e2a[_0x37142d(0x1db)](_0x183843);}}}}if(_0x1d9e2a['length']>0x0){let _0xb67a6e=_0x1d9e2a[_0x37142d(0x190)](_0x766bcb=>_0x766bcb[_0x37142d(0x1e7)]);_0xb67a6e[_0x37142d(0x229)]();let _0xba6ed3=_0xb67a6e[_0x37142d(0x1d2)](',\x20');if(!lastCoinsToBalance)logHistory(_0x37142d(0x1ed),'Manual\x20balancing\x20required');lastCoinsToBalance=_0xba6ed3;}}function symbolToCoin(_0x44c088){const _0x31bf9b=_0x38761b;let _0x390496;if(_0x44c088[_0x31bf9b(0x274)]('/'+config[_0x31bf9b(0x259)]))_0x390496=_0x44c088[_0x31bf9b(0x21f)]('/'+config[_0x31bf9b(0x259)],'');if(_0x44c088[_0x31bf9b(0x274)](config[_0x31bf9b(0x259)]+'/'))_0x390496=_0x44c088['replace'](config[_0x31bf9b(0x259)]+'/','');return _0x390496;}async function unlockOrders(){const _0x94655a=_0x38761b;if(allOrdersPlaced&&lockOrders==ORDERS[_0x94655a(0x2b7)]){logger[_0x94655a(0x1dc)](_0x94655a(0x2ab)),lockOrders=ORDERS[_0x94655a(0x2ba)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x3cf8ce=await getCoins();[currentCoins,currentCoinsAll]=_0x3cf8ce,validateOrdersState=_0x94655a(0x241),persistOpenOrders([]),lockOrders=ORDERS[_0x94655a(0x22f)],logger['debug'](_0x94655a(0x1c0));}}async function validateOrders(_0x41445a){const _0x1a5fea=_0x38761b;if(_0x41445a)validateOrdersState=_0x41445a;logger[_0x1a5fea(0x1dc)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x1a5fea(0x1bc):lockOrders==0x2?_0x1a5fea(0x1f2):_0x1a5fea(0x1b2)));let _0x9285f4=[],_0x4b9403=config[_0x1a5fea(0x238)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x1a5fea(0x2b2)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x1a5fea(0x2b7)])return;logger['debug'](_0x1a5fea(0x220)+validateOrdersState),lastOrders[_0x1a5fea(0x194)](_0x46624d=>{const _0x55d6a9=_0x1a5fea;let _0x44d87d=![];_0x46624d['filled']>0x0&&(_0x44d87d=!![]),_0x9285f4[_0x55d6a9(0x1db)](_0x44d87d),_0x44d87d&&config[_0x55d6a9(0x238)]!=_0x55d6a9(0x263)&&logHistory(_0x55d6a9(0x1f8),'Order\x20filled:\x20'+_0x46624d[_0x55d6a9(0x16f)]+'\x20'+_0x46624d[_0x55d6a9(0x1c4)]+'\x20#'+formatResult(_0x46624d[_0x55d6a9(0x267)],0x8)+'\x20@'+formatResult(_0x46624d[_0x55d6a9(0x29a)],0x8));}),_0x9285f4['forEach']((_0x5397c2,_0x574cea)=>{const _0x546bfd=_0x1a5fea;if(_0x5397c2)lastOrders[_0x546bfd(0x1fe)](_0x574cea,0x1);}),persistOpenOrders(lastOrders);const _0x141b90=coolingDown?_0x1a5fea(0x171):_0x1a5fea(0x214);if(validateOrdersState==_0x1a5fea(0x241)){validateOrdersState=_0x1a5fea(0x26b);if(_0x9285f4[_0x1a5fea(0x274)](![])){if(config['ordertype']=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x9285f4[_0x1a5fea(0x274)](![])){}else{if(allOrdersPlaced){if(config[_0x1a5fea(0x238)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x1a5fea(0x2e1))_0x9285f4['includes'](![])&&(config[_0x1a5fea(0x238)]=='market'?logHistory(_0x1a5fea(0x266),_0x1a5fea(0x1c2)+Math['round'](_0x4b9403*validateOrderInterval/0xea60)+_0x1a5fea(0x2c2)+_0x141b90):(await cancelOrders(),logHistory(_0x1a5fea(0x266),_0x1a5fea(0x215)+Math[_0x1a5fea(0x291)](_0x4b9403*validateOrderInterval/0xea60)+_0x1a5fea(0x2c2)+_0x141b90))),await unlockOrders();else{if(validateOrdersState==_0x1a5fea(0x174)){if(config['ordertype']!=_0x1a5fea(0x263))logHistory(_0x1a5fea(0x266),'No\x20more\x20open\x20orders\x20-\x20'+_0x141b90);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x20c01b=>{const _0x385fd5=_0x4422;try{const _0x1558b4=await exchange[_0x385fd5(0x2d8)](_0x20c01b[_0x385fd5(0x204)],_0x20c01b[_0x385fd5(0x16f)]);}catch(_0x48edd1){if(_0x48edd1['toString']()[_0x385fd5(0x274)](_0x385fd5(0x2d9))){}else await handleError(_0x48edd1,_0x385fd5(0x2dd));}});}async function initCoinResults(){const _0x4b69f3=_0x38761b;let _0x301318=[];config[_0x4b69f3(0x276)][_0x4b69f3(0x194)](_0x5c2845=>{const _0xeb638c=_0x4b69f3;if(!_0x5c2845[_0xeb638c(0x213)]&&_0x5c2845[_0xeb638c(0x1e7)]!=config[_0xeb638c(0x259)]){let _0x4845d6=dbCoinResults['get'](_0xeb638c(0x2e4))[_0xeb638c(0x2e3)]({'coin':_0x5c2845[_0xeb638c(0x1e7)]})[_0xeb638c(0x1c5)]();if(!_0x4845d6){const _0x1e5c56=currentCoins['find'](_0x26279a=>_0x26279a['coin']==_0x5c2845[_0xeb638c(0x1e7)]),_0x3cb2d3=global[_0xeb638c(0x18f)][noslash(_0x5c2845[_0xeb638c(0x16f)])];let _0x24c68e=_0x1e5c56?_0x1e5c56['number']:null,_0xe25c29=_0x5c2845[_0xeb638c(0x1fa)]?0x1/_0x3cb2d3:_0x3cb2d3,_0x3beaee;config['liquidity']['forEach'](_0x42304d=>{const _0x2a60c6=_0xeb638c;!_0x3beaee&&(_0x3beaee=_0x42304d[_0x2a60c6(0x2db)][_0x2a60c6(0x2e3)](_0x11c983=>_0x11c983[_0x2a60c6(0x1e7)]==_0x5c2845[_0x2a60c6(0x1e7)]),_0x3beaee&&(_0x24c68e=_0x3beaee['number'],_0xe25c29=_0x3beaee[_0x2a60c6(0x29a)]));}),_0x301318['push']({'coin':_0x5c2845['coin'],'number':_0x24c68e,'price':_0xe25c29});}}}),_0x301318[_0x4b69f3(0x194)](_0x2cdb4d=>{const _0x370d4f=_0x4b69f3,_0x53f407={'coin':_0x2cdb4d['coin'],'number':_0x2cdb4d['number'],'breakeven':_0x2cdb4d['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x370d4f(0x1e3)](_0x370d4f(0x2e4))['push'](_0x53f407)[_0x370d4f(0x1de)]();});}async function updateCoinResults(_0x569550,_0x1f2ba1=![]){const _0x42cf08=_0x38761b;let _0x399689,_0x24bdb8,_0x1f40ff,_0x23a114,_0x148904,_0x59dead,_0x1e366d=dbCoinResults['get'](_0x42cf08(0x2e4))[_0x42cf08(0x2e3)]({'coin':_0x569550[_0x42cf08(0x1e7)]})[_0x42cf08(0x1c5)]();!_0x1e366d&&await initCoinResults();_0x569550['reverse']&&(_0x59dead={'filled':_0x569550[_0x42cf08(0x267)]*_0x569550[_0x42cf08(0x29a)],'amount':_0x569550[_0x42cf08(0x267)]*_0x569550['price'],'side':_0x569550[_0x42cf08(0x1c4)]=='sell'?_0x42cf08(0x18c):_0x42cf08(0x2d3),'price':0x1/_0x569550[_0x42cf08(0x29a)]},_0x569550={..._0x569550,..._0x59dead});_0x1f2ba1?_0x24bdb8=_0x569550[_0x42cf08(0x1c4)]==_0x42cf08(0x18c)?_0x1e366d[_0x42cf08(0x212)]+_0x569550[_0x42cf08(0x267)]:_0x1e366d[_0x42cf08(0x212)]-_0x569550[_0x42cf08(0x267)]:_0x24bdb8=await getCoinNumber(_0x569550['coin']);if(_0x569550[_0x42cf08(0x1e8)]&&_0x569550[_0x42cf08(0x1e8)][_0x42cf08(0x296)]==config[_0x42cf08(0x259)])_0x399689=_0x569550[_0x42cf08(0x1e8)][_0x42cf08(0x284)];else{if(_0x569550['fee']&&_0x569550['fee'][_0x42cf08(0x296)]==_0x42cf08(0x2b0)&&!_0x1f2ba1)_0x399689=_0x569550['fee'][_0x42cf08(0x284)]*global[_0x42cf08(0x18f)][_0x42cf08(0x2b0)+config[_0x42cf08(0x259)]];else _0x399689=defaultFee*_0x569550[_0x42cf08(0x267)]*_0x569550['price'];}_0x569550[_0x42cf08(0x1c4)]==_0x42cf08(0x18c)?(_0x1f40ff=_0x24bdb8!=0x0?(_0x1e366d[_0x42cf08(0x2b5)]*_0x1e366d[_0x42cf08(0x212)]+_0x569550['price']*(_0x24bdb8-_0x1e366d[_0x42cf08(0x212)])+_0x399689)/_0x24bdb8:0x0,_0x23a114=_0x1e366d[_0x42cf08(0x2af)]):(_0x1f40ff=_0x24bdb8!=0x0?(_0x1e366d[_0x42cf08(0x2b5)]*_0x1e366d[_0x42cf08(0x212)]-_0x569550[_0x42cf08(0x29a)]*(_0x1e366d['number']-_0x24bdb8)+_0x399689)/_0x24bdb8:0x0,_0x23a114=_0x1e366d[_0x42cf08(0x2af)]+(_0x569550[_0x42cf08(0x29a)]-_0x1e366d[_0x42cf08(0x2b5)])*_0x569550[_0x42cf08(0x267)]);_0x148904=(_0x569550[_0x42cf08(0x29a)]-_0x1f40ff-_0x399689/_0x569550['filled'])*_0x24bdb8;let _0x1d26d8={'coin':_0x569550[_0x42cf08(0x1e7)],'number':_0x24bdb8,'breakeven':formatResult(_0x1f40ff,0x8),'realized':formatResult(_0x23a114,0x8),'unrealized':formatResult(_0x148904,0x8),'fees':formatResult(_0x1e366d[_0x42cf08(0x1f3)]+_0x399689,0x8),'sells':_0x569550[_0x42cf08(0x1c4)]==_0x42cf08(0x2d3)?_0x1e366d[_0x42cf08(0x246)]+0x1:_0x1e366d[_0x42cf08(0x246)],'buys':_0x569550[_0x42cf08(0x1c4)]==_0x42cf08(0x18c)?_0x1e366d[_0x42cf08(0x1fb)]+0x1:_0x1e366d['buys']};dbCoinResults[_0x42cf08(0x1e3)](_0x42cf08(0x2e4))[_0x42cf08(0x2e3)]({'coin':_0x569550[_0x42cf08(0x1e7)]})[_0x42cf08(0x237)](_0x1d26d8)[_0x42cf08(0x1de)]();if(!_0x1f2ba1){if(_0x569550['fee']&&_0x569550[_0x42cf08(0x1e8)][_0x42cf08(0x296)]=='BNB'){const _0x5a1529=currentCoins[_0x42cf08(0x2e3)](_0x10606b=>_0x10606b[_0x42cf08(0x1e7)]==_0x42cf08(0x2b0));if(_0x5a1529){let _0x23ee20=dbCoinResults[_0x42cf08(0x1e3)](_0x42cf08(0x2e4))[_0x42cf08(0x2e3)]({'coin':_0x42cf08(0x2b0)})['value']();_0x1d26d8={..._0x23ee20,'number':_0x5a1529['number']},dbCoinResults[_0x42cf08(0x1e3)](_0x42cf08(0x2e4))['find']({'coin':_0x42cf08(0x2b0)})[_0x42cf08(0x237)](_0x1d26d8)[_0x42cf08(0x1de)]();}}}}async function placeOrder(_0x4f3606){const _0x5d945c=_0x38761b,_0x3a61e1=config['ordertype']=='market'?'market':_0x5d945c(0x23e);if(lockOrders==ORDERS[_0x5d945c(0x22f)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5d945c(0x2b7)],allOrdersPlaced=![],validateOrdersState=_0x5d945c(0x241);let _0x52b07d=![];lastOrders=[];for(const _0xe98d57 of _0x4f3606){let _0x37c98d,_0xe2d48,_0x415a7a,_0x549ba6,_0x98845b,_0x269386=_0xe98d57[_0x5d945c(0x16f)];try{const _0x597cdb=await exchange[_0x5d945c(0x2c8)](_0x269386);_0x37c98d=_0xe98d57[_0x5d945c(0x1fa)]?0x1/_0xe98d57[_0x5d945c(0x222)]:_0xe98d57[_0x5d945c(0x222)],_0xe2d48=_0x597cdb['bid'],_0x415a7a=_0x597cdb[_0x5d945c(0x1a2)];_0xe98d57[_0x5d945c(0x1fa)]?(_0x549ba6=_0xe98d57[_0x5d945c(0x1c4)]==_0x5d945c(0x18c)?_0x5d945c(0x2d3):_0x5d945c(0x18c),_0x98845b=Math['abs'](_0xe98d57[_0x5d945c(0x21a)])/_0x37c98d):(_0x549ba6=_0xe98d57[_0x5d945c(0x1c4)],_0x98845b=Math[_0x5d945c(0x26a)](_0xe98d57[_0x5d945c(0x21a)]));_0x3a61e1==_0x5d945c(0x23e)&&(config[_0x5d945c(0x238)]==_0x5d945c(0x295)&&(_0x37c98d=_0x549ba6==_0x5d945c(0x18c)?_0xe2d48:_0x415a7a),config['ordertype']==_0x5d945c(0x224)&&(_0x37c98d=_0x549ba6=='buy'?_0x415a7a:_0xe2d48));_0x98845b=formatResult(_0x98845b,0x8),_0x37c98d=formatResult(_0x37c98d,0x8);const _0x10fb92=_0x549ba6=='sell'?config[_0x5d945c(0x198)]?String[_0x5d945c(0x27a)]('0x'+config[_0x5d945c(0x198)])+'\x20':'':config[_0x5d945c(0x1a1)]?String[_0x5d945c(0x27a)]('0x'+config['emojibuy'])+'\x20':'',_0x42737b=_0x3a61e1==_0x5d945c(0x263)?_0x5d945c(0x1e4):config['ordertype']==_0x5d945c(0x295)?_0x5d945c(0x23d):_0x5d945c(0x1be),_0x582ad5=new Date()['getTime']()[_0x5d945c(0x2a3)]()[_0x5d945c(0x1a9)](-0x6)+'-'+Math[_0x5d945c(0x28f)]()['toString']()[_0x5d945c(0x1a9)](-0x6);lastOrders['push']({'customId':_0x582ad5,'symbol':_0x269386,'coin':_0xe98d57['coin'],'side':_0x549ba6,'reverse':_0xe98d57[_0x5d945c(0x1fa)],'filled':0x0});if(_0x3a61e1==_0x5d945c(0x263))logHistory('order',''+_0x10fb92+_0x42737b+_0x5d945c(0x297)+_0x269386+'\x20'+_0x549ba6+'\x20#'+formatResult(_0x98845b,0x8)+'\x20@'+formatResult(_0x37c98d,0x8));else logHistory(_0x5d945c(0x1f8),''+_0x10fb92+_0x42737b+_0x5d945c(0x297)+_0x269386+'\x20'+_0x549ba6+'\x20#'+formatResult(_0x98845b,0x8)+'\x20@'+formatResult(_0x37c98d,0x8));const _0x95ad93=await exchange[_0x5d945c(0x28c)](_0x269386,_0x3a61e1,_0x549ba6,_0x98845b,_0x37c98d,{'clientOrderId':_0x582ad5}),_0x574095=lastOrders[_0x5d945c(0x2bd)]-0x1;_0x574095>=0x0&&lastOrders[_0x574095][_0x5d945c(0x2c4)]==_0x582ad5&&(lastOrders[_0x574095]={...lastOrders[_0x574095],'orderId':_0x95ad93['id'],'amount':_0x95ad93[_0x5d945c(0x1c7)],'price':_0x95ad93[_0x5d945c(0x29a)],'fee':_0x95ad93[_0x5d945c(0x1e8)]});if(config[_0x5d945c(0x1d8)]!=0x0){let _0x127116=null;if(cooldownTracker[_0x5d945c(0x2bd)]==config['cooldown']-0x1)_0x127116=cooldownTracker[_0x5d945c(0x19f)]();const _0x3ce150=getTimeStamp();cooldownTracker[_0x5d945c(0x1db)](_0x3ce150);if(_0x127116){const _0x38a4b4=fns['differenceInSeconds'](new Date(_0x3ce150),new Date(_0x127116));if(_0x38a4b4<cooldownInterval){logHistory('error','Executed\x20'+config[_0x5d945c(0x1d8)]+_0x5d945c(0x2a7)+cooldownInterval/0x3c+_0x5d945c(0x1e1)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x2383f0){if(_0x2383f0[_0x5d945c(0x2a3)]()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders[_0x5d945c(0x29d)](_0x5c02d0=>_0x5c02d0['symbol']!=_0x269386),logHistory(_0x5d945c(0x1f4),_0x5d945c(0x18b)+_0x269386),_0x52b07d=!![];else _0x2383f0[_0x5d945c(0x2a3)]()[_0x5d945c(0x274)](_0x5d945c(0x21c))?(lastOrders=lastOrders[_0x5d945c(0x29d)](_0x260bd4=>_0x260bd4['symbol']!=_0x269386),logHistory(_0x5d945c(0x1f4),_0x5d945c(0x175)+_0x269386),_0x52b07d=!![]):(lastOrders=lastOrders[_0x5d945c(0x29d)](_0x569b61=>_0x569b61[_0x5d945c(0x16f)]!=_0x269386),await handleError(_0x2383f0,'placeOrder()',_0x269386));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5d945c(0x2bd)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x22b670=config[_0x5d945c(0x238)]==_0x5d945c(0x263)?validateOrderTimeout*0x3c*0x3e8:config[_0x5d945c(0x2b2)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xd4beb4=_0x5d945c;validateOrders(_0xd4beb4(0x2e1));},_0x22b670);}else unlockOrders();_0x52b07d&&config[_0x5d945c(0x240)]&&await pauseBot('Avoiding\x20continuous\x20order\x20attempts'),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x5d945c(0x2bf)));}else{if(coolingDown)!config[_0x5d945c(0x240)]&&logHistory(_0x5d945c(0x1f4),_0x5d945c(0x29f));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x5d945c(0x240)]&&(config[_0x5d945c(0x238)]==_0x5d945c(0x263)?logHistory(_0x5d945c(0x1f4),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x5d945c(0x1f4),_0x5d945c(0x1c8))));}}function _0x55f2(){const _0x20f143=['getMonth','recreate','milliseconds','Unknown\x20error\x20occured','/EUR','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','number','excluded','balancing\x20resumed','Unfilled\x20order(s)\x20canceled\x20after\x20','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','3\x20-\x20handling\x20FILLED\x20order:\x20','\x20API\x20key\x20is\x20invalid','XEM/BUSD','trade','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','Invalid\x20quantity','showConfig','no\x20additional\x20symbols','replace','2\x20-\x20Validate\x20orders:\x20','\x20API\x20secret\x20is\x20invalid','last','indexOf','limit-low','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','apiKey','\x20|\x20Error\x20details:\x20','recent20','sort','total','USD','\x20|\x20highest:\x20','ETH','none','UNLOCKED','placeOrder','1\x20-\x20FILLED:\x20','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','***','getDate','\x20>\x20','\x20portfolio:</b>\x20\x0a\x0a','assign','ordertype','isEqual','getPortfolio','restart','exec','Limit\x20(high-margin)','limit','InvalidNonce','headless','initial','sendMetricsTelegram','704135MeXMpg','writeFile','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','sells','/USD','event','yyyy/MM/dd','EUR','usd','<b>Bot\x20','toFixed','version','-events.json','message','\x20metrics:</b>\x20\x0a\x0a','getCoins()','createWriteStream','keys','starting-balances','net-fiat','max','ccxt','basecoin','storeHeadless','bots','test','./logs/','logs','API-key\x20format\x20invalid','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x20|\x20','656206NRXtsD','market','remainingSymbols','stringify','success','filled',':\x20Bot\x20','added','abs','ongoing','showname','timestamp','Initiating\x20exchange\x20reload','timeshift','USDT','padStart','loadSymbols()','yargs/yargs','includes','function','portfolio','net-basecoin','getHours','delta','fromCodePoint','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','configuration-stored','startprice','percentage','getFullYear','158wlTxnX','getTime','-results.json','getOpenOrders()','cost','\x20exchange','7LAktRM','apiSecret','constructor','liquidity','enabled','event-history','createOrder','cancelLoading','existsSync','random','privateKey','round','log','\x20-\x20bot\x20not\x20started','settings','limit-high','currency','\x20order:\x20','data','storeConfiguration','price','AuthenticationError','time','filter','16041omTtrD','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','<b>','change24h','************','toString','\x20closed\x20the\x20connection','path','Error\x20while\x20deleting\x20files:\x20','\x20orders\x20in\x20less\x20than\x20','bb-secure.json','openOrders','Transaction\x20detection\x20blocked','1\x20-\x20Unlock\x20orders','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','format','initclient','realized','BNB','change','timeout','has','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','breakeven','decrypt','LOCKED','date','configuration','UNLOCKING','highest','timer:','length','/output-000.log','Cooldown\x20ended\x20-\x20balancing\x20resumed','%\x20(','Reset\x20|\x20','\x20minutes\x20-\x20','orderstatus','customId','2134312WZYygU','open','yyyy-MM-dd\x27T\x27HH:mm:ss','fetchTicker','getMinutes','recovery','2.5.0','date-fns','botID','min','cancel','page','bot-','\x20:\x20','sell','-performance.json','lowdb','mkdirSync','uncaughtException','cancelOrder','OrderNotFound','simple','changes','lowdb/adapters/FileSync','cancelOrders()','Fees\x20|\x20currency:\x20','status','offset','final','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','find','coins','2\x20-\x20FILLED\x20known\x20order:\x20','Portfolio\x20change\x20detected:\x20','apiPassword','Saving\x20configuration','Transaction\x20detection\x20unblocked','argv','symbol','running','balancing\x20resumes\x20when\x20cooldown\x20ends','canceled','target','no\x20open\x20orders','Order\x20amount\x20is\x20invalid:\x20','2.6.0','close','onepagemode','balances','\x20minutes','full','starting-balance-',',\x20must\x20be\x20a\x203\x20digit\x20number','average','Pausing\x20for\x20','entries','6263300xNKxmE','closed','Crypt','hybrid-crypto-js','exchange','distribution','type','apply','sendPortfolioTelegram','concat','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','buy','loadMarkets','freeze','ticker','map','2.3.5','fiat','datetime','forEach','bot','watchOrders','sortBy','emojisell','coin-loading-progress','unlinkSync','\x20not\x20available','getPortfolio(2)','</pre>','Fee\x20discount\x20refund\x20detected:\x20','shift','remove','emojibuy','ask','BNB/','fetchTickers','Failed\x20to\x20load\x20coin\x20data\x20for\x20','12jgxAWj','set','\x20value','slice','symbols','fetchClosedOrders','getPortfolio(1)','\x20>\x20[DEBUG]\x20','exchange\x20reloaded','emitHistory','NANO/','watchTransactions','ORDERS.UNLOCKED','ExchangeNotAvailable','progress','precision','leftTxt','getSeconds','rightTxt','valid','<pre>','bb-settings.json','ORDERS.LOCKED','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Limit\x20(low-margin)','-------------------------------\x0a','2\x20-\x20Orders\x20unlocked','netoffset','Order(s)\x20not\x20validated\x20after\x20','sha256','side','value','toLowerCase','amount','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Invalid\x20API\x20key\x20or\x20secret\x20entered','split','InsufficientFunds','defaults','clientOrderId','0\x20-\x20EXECUTION:\x20','./config/','2\x20-\x20FILLED\x20unknown\x20order:\x20','RSA-OAEP','join','threshold','fetchOpenOrders','DAI/','001','toggleBotMode','cooldown','limits','removed','push','debug','Bot\x20','write','DDoSProtection','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','args','get','Market','watchTrades','Exchange','coin','fee','Net\x20effect','startnumber','HOT/BTC','toUpperCase','warning','(((.+)+)+)+$','parse','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','kill','ORDERS.UNLOCKING','fees','error','deleteHistoryAlerts','substring','search','order','performance','reverse','buys','eur','loading-canceled','splice','2264932HQmbZW','Executing\x20exchange\x20reload','botname','padEnd','send','orderId','add','649170bGsrmf','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','BTC','string','fetchBalance','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'];_0x55f2=function(){return _0x20f143;};return _0x55f2();}function persistOpenOrders(_0x20e41e){const _0x2514cf=_0x38761b,_0x56bcff={...config,'openOrders':_0x20e41e};let _0x1c497b=dbConfig['get'](_0x2514cf(0x195))['find']({'botID':botID})[_0x2514cf(0x1c5)]();_0x1c497b&&dbConfig[_0x2514cf(0x1e3)](_0x2514cf(0x195))['find']({'botID':botID})[_0x2514cf(0x237)](_0x56bcff)[_0x2514cf(0x1de)]();}function restoreOrders(){const _0x538b3f=_0x38761b;let _0x41a35a;config[_0x538b3f(0x2a9)]&&allOpenOrders[_0x538b3f(0x194)](_0x55416a=>{const _0x11b317=_0x538b3f,_0x48662c=config[_0x11b317(0x2a9)][_0x11b317(0x2e3)](_0x49be4c=>_0x49be4c[_0x11b317(0x204)]==_0x55416a['id']);_0x48662c&&(lastOrders['push'](_0x48662c),_0x41a35a=_0x55416a['timestamp']);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x538b3f(0x2b7)],validateOrdersState=_0x538b3f(0x26b),allOrdersPlaced=!![];const _0x405571=new Date()[_0x538b3f(0x281)](),_0x419dae=config['ordertype']==_0x538b3f(0x263)?validateOrderTimeout*0x3c*0x3e8:config[_0x538b3f(0x2b2)]*0x3c*0x3e8;if(_0x41a35a+_0x419dae>_0x405571){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x48a4b0=_0x538b3f;validateOrders(_0x48a4b0(0x2e1));},_0x41a35a+_0x419dae-_0x405571);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x5287bf=_0x38761b;if(!coinsLoaded){process[_0x5287bf(0x203)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x37cf04=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x251fc2='';if(config[_0x5287bf(0x26c)])_0x251fc2=_0x5287bf(0x2a0)+config[_0x5287bf(0x201)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x251fc2=_0x5287bf(0x24c)+botID+_0x5287bf(0x251);const _0x1038dc=getKPIs('basecoin'),_0x239ff5=getKPIs('fiat',config[_0x5287bf(0x192)]),_0x46106d=getKPIs('net-basecoin'),_0x26987b=getKPIs(_0x5287bf(0x256),config['fiat']);_0x251fc2+=_0x5287bf(0x1ba),_0x251fc2+=_0x1038dc[_0x5287bf(0x1b6)]+'\x20:\x20'+_0x1038dc[_0x5287bf(0x1c5)]+'\x0a',_0x251fc2+=_0x1038dc[_0x5287bf(0x1b8)]+':\x20'+_0x1038dc[_0x5287bf(0x2b1)]+'%\x0a',_0x251fc2+=_0x239ff5[_0x5287bf(0x1b6)]+_0x5287bf(0x2d2)+_0x239ff5[_0x5287bf(0x1c5)]+'\x0a',_0x251fc2+=_0x239ff5[_0x5287bf(0x1b8)]+':\x20'+_0x239ff5[_0x5287bf(0x2b1)]+'%\x0a',_0x251fc2+=_0x46106d[_0x5287bf(0x1b6)]+':\x20'+_0x46106d[_0x5287bf(0x1c5)]+'\x20('+config['basecoin']+')\x0a',_0x251fc2+=_0x46106d[_0x5287bf(0x1b8)]+':\x20'+_0x46106d[_0x5287bf(0x2b1)]+_0x5287bf(0x2c0)+config[_0x5287bf(0x259)]+')\x0a',_0x251fc2+=_0x26987b[_0x5287bf(0x1b6)]+':\x20'+_0x26987b['value']+'\x20('+config[_0x5287bf(0x192)]+')\x0a',_0x251fc2+=_0x26987b[_0x5287bf(0x1b8)]+':\x20'+_0x26987b[_0x5287bf(0x2b1)]+'%\x20('+config[_0x5287bf(0x192)]+')\x0a',_0x251fc2+='</pre>',process[_0x5287bf(0x203)]({'telegrammsg':_0x251fc2},_0x29a783=>{});}async function sendPortfolioTelegram(){const _0x42783c=_0x38761b;if(!coinsLoaded){process[_0x42783c(0x203)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x407e30=>{});return;}let _0x16f7aa='';if(config[_0x42783c(0x26c)])_0x16f7aa=_0x42783c(0x2a0)+config[_0x42783c(0x201)]+_0x42783c(0x236);else _0x16f7aa='<b>Bot\x20'+botID+_0x42783c(0x236);_0x16f7aa+=_0x42783c(0x1ba),_0x16f7aa+=_0x42783c(0x1bf),_0x16f7aa+=_0x42783c(0x1e0),_0x16f7aa+=_0x42783c(0x1bf),currentCoins['forEach'](_0x28d15c=>{const _0x8d0da=_0x42783c;_0x16f7aa+=_0x28d15c[_0x8d0da(0x1e7)][_0x8d0da(0x202)](0x7)+'|\x20'+formatPad(_0x28d15c['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x28d15c[_0x8d0da(0x173)],0x2,0x6)+'|\x20'+formatPad(_0x28d15c[_0x8d0da(0x279)]*0x64,0x2,0x6)+'\x0a';}),_0x16f7aa+=_0x42783c(0x19d),process[_0x42783c(0x203)]({'telegrammsg':_0x16f7aa},_0x183d4a=>{});}function formatPad(_0x14952b,_0x4a8059,_0x5a1c0a){const _0xd584f7=_0x38761b,_0x30d545=formatResultString(_0x14952b,_0x4a8059);return _0x30d545?_0x30d545['padStart'](_0x5a1c0a):''[_0xd584f7(0x271)](_0x5a1c0a);}function logHistory(_0x4e0ae8,_0x43ff55,_0x549a32=''){const _0x57c24d=_0x38761b;let _0x2e8e1a={'time':getTimeStamp(),'type':_0x4e0ae8,'event':_0x43ff55};dbLogs['get'](_0x57c24d(0x25e))[_0x57c24d(0x1db)](_0x2e8e1a)[_0x57c24d(0x1de)]();if(_0x549a32=='')_0x549a32=_0x43ff55;proxyEmit('event',{'log':_0x2e8e1a,'summary':_0x549a32}),process['send']({'telegram':{..._0x2e8e1a,'botname':config['botname'],'showname':config['showname']}},_0x4d850a=>{}),logger[_0x57c24d(0x17b)](''+_0x2e8e1a[_0x57c24d(0x248)]);}function emitHistory(_0x1970d3={}){const _0x314f35=_0x38761b;Object[_0x314f35(0x254)](_0x1970d3)['length']==0x0&&(_0x1970d3={'type':[_0x314f35(0x1f8),_0x314f35(0x248)],'event':'','page':0x1});if(_0x1970d3['type'][_0x314f35(0x274)](_0x314f35(0x248)))_0x1970d3[_0x314f35(0x187)]['splice'](_0x1970d3['type'][_0x314f35(0x223)](_0x314f35(0x248)),0x1,_0x314f35(0x1f4),_0x314f35(0x1ed),_0x314f35(0x266));if(dbLogs[_0x314f35(0x2b3)](_0x314f35(0x25e))['value']()){let _0x3d3ffc=dbLogs['get'](_0x314f35(0x25e))[_0x314f35(0x29d)](_0x4df271=>{const _0xeedd24=_0x314f35;if(_0x1970d3[_0xeedd24(0x187)]['length']==0x0)return![];else return _0x1970d3['type'][_0xeedd24(0x274)](_0x4df271['type']);})['filter'](_0xba7d38=>{const _0x5eeb07=_0x314f35;if(_0x1970d3[_0x5eeb07(0x248)]=='')return!![];else return _0xba7d38['event'][_0x5eeb07(0x1c6)]()['includes'](_0x1970d3[_0x5eeb07(0x248)][_0x5eeb07(0x1c6)]());})[_0x314f35(0x197)](_0x314f35(0x29c)),_0x351e95=_0x3d3ffc[_0x314f35(0x1c5)]()[_0x314f35(0x2bd)];_0x3d3ffc=_0x3d3ffc[_0x314f35(0x1fa)]()[_0x314f35(0x1a9)]((_0x1970d3[_0x314f35(0x2d0)]-0x1)*logPageSize,_0x1970d3[_0x314f35(0x2d0)]*logPageSize-0x1)[_0x314f35(0x1fa)]()[_0x314f35(0x1c5)](),proxyEmit(_0x314f35(0x28b),{'logs':_0x3d3ffc,'total':_0x351e95});}else proxyEmit(_0x314f35(0x28b),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2b2454){const _0x4e1f63=_0x38761b;if(dbLogs[_0x4e1f63(0x2b3)](_0x4e1f63(0x25e))['value']()){const _0x3c1839=dbLogs['get'](_0x4e1f63(0x25e))[_0x4e1f63(0x197)](_0x4e1f63(0x29c))[_0x4e1f63(0x29d)](_0x2b6dc1=>{const _0x13c28e=_0x4e1f63;return _0x2b6dc1[_0x13c28e(0x187)]==_0x13c28e(0x1f8);})[_0x4e1f63(0x1c5)]();dbLogs[_0x4e1f63(0x1e3)](_0x4e1f63(0x25e))[_0x4e1f63(0x1a0)]()['write'](),dbLogs[_0x4e1f63(0x1e3)](_0x4e1f63(0x25e))[_0x4e1f63(0x237)](_0x3c1839)['write'](),emitHistory(_0x2b2454);}}async function pauseBot(_0x1823ae=''){const _0x3a2b8d=_0x38761b,_0x2b340d=new Date()['getTime']();if(!lastErrorShown||_0x2b340d-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x2b340d;!lastBotPause?(lastBotPause=_0x2b340d,consecutivePauses=0x1):(_0x2b340d-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x3a2b8d(0x203)]({'stop':_0x3a2b8d(0x23b)},_0x2eaf8f=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x3a2b8d(0x281)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x1823ae)_0x1823ae+=_0x3a2b8d(0x261);logHistory('error',_0x1823ae+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x3a2b8d(0x17a)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x42753c=_0x38761b;process[_0x42753c(0x203)]({'stop':_0x42753c(0x1f1)},_0x5f3b5c=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x12eb2e,_0x368c31){const _0x233eab=_0x38761b;if(_0x12eb2e[_0x233eab(0x2a3)]()['includes'](_0x233eab(0x25f)))return logHistory(_0x233eab(0x1f4),config['exchange']+_0x233eab(0x21b)),![];else{if(_0x12eb2e[_0x233eab(0x2a3)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x233eab(0x1f4),config['exchange']+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0x12eb2e[_0x233eab(0x2a3)]()[_0x233eab(0x274)](_0x233eab(0x29b)))return logHistory(_0x233eab(0x1f4),config[_0x233eab(0x185)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x233eab(0x1f4),_0x233eab(0x207)),![];else await handleError(_0x12eb2e,_0x368c31);}}}async function handleError(_0x36eb18,_0x3a2cbc,_0x2c26fd=''){const _0x4203c2=_0x38761b,_0x53c583=config['exchange']||_0x4203c2(0x1e6);if(_0x36eb18[_0x4203c2(0x2a3)]()['includes'](_0x4203c2(0x1df)))await pauseBot(config[_0x4203c2(0x185)]+_0x4203c2(0x2ac));else{if(_0x36eb18[_0x4203c2(0x2a3)]()[_0x4203c2(0x274)](_0x4203c2(0x1b3)))await pauseBot(config[_0x4203c2(0x185)]+_0x4203c2(0x19b));else{if(_0x36eb18[_0x4203c2(0x2a3)]()[_0x4203c2(0x274)]('RequestTimeout'))await pauseBot(config[_0x4203c2(0x185)]+'\x20not\x20responding');else{if(_0x36eb18['toString']()[_0x4203c2(0x274)](_0x4203c2(0x225)))await pauseBot(config[_0x4203c2(0x185)]+_0x4203c2(0x2a4));else{if(_0x36eb18[_0x4203c2(0x2a3)]()['includes'](_0x4203c2(0x211)))logHistory(_0x4203c2(0x1f4),_0x3a2cbc+_0x4203c2(0x245)),logHistory(_0x4203c2(0x1f4),_0x4203c2(0x2b4)),await killBot();else{if(_0x36eb18['toString']()[_0x4203c2(0x274)](_0x4203c2(0x23f)))logHistory(_0x4203c2(0x1f4),_0x3a2cbc+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x4203c2(0x1f4),_0x4203c2(0x2b4)),await killBot();else{if(_0x36eb18[_0x4203c2(0x2a3)]()['includes'](_0x4203c2(0x25f)))logHistory(_0x4203c2(0x1f4),_0x3a2cbc+_0x4203c2(0x261)+config[_0x4203c2(0x185)]+_0x4203c2(0x218)),logHistory('error',_0x4203c2(0x2b4)),await killBot();else{if(_0x36eb18[_0x4203c2(0x2a3)]()[_0x4203c2(0x274)](_0x4203c2(0x27b)))logHistory(_0x4203c2(0x1f4),_0x3a2cbc+_0x4203c2(0x261)+config[_0x4203c2(0x185)]+_0x4203c2(0x221)),logHistory(_0x4203c2(0x1f4),_0x4203c2(0x2b4)),await killBot();else{if(_0x36eb18[_0x4203c2(0x2a3)]()[_0x4203c2(0x274)](_0x4203c2(0x29b)))logHistory(_0x4203c2(0x1f4),_0x3a2cbc+_0x4203c2(0x261)+config[_0x4203c2(0x185)]+_0x4203c2(0x1bd)),logHistory(_0x4203c2(0x1f4),_0x4203c2(0x2b4)),await killBot();else _0x36eb18[_0x4203c2(0x2a3)]()['includes'](_0x4203c2(0x1cb))?logHistory('error',_0x3a2cbc+_0x4203c2(0x2e2)+_0x2c26fd):(logger[_0x4203c2(0x17b)](_0x3a2cbc+_0x4203c2(0x227),_0x36eb18),await pauseBot(_0x4203c2(0x20f)));}}}}}}}}}function formatResult(_0x94f8ea,_0x548f45){const _0xe6d598=_0x38761b;return parseFloat(_0x94f8ea[_0xe6d598(0x24d)](_0x548f45));}function formatResultTruncate(_0x1d1991,_0x41a01e){const _0x3c99d4=_0x38761b;let _0x31d0c6=formatResultString(_0x1d1991,0xa),_0x36cea4=_0x31d0c6[_0x3c99d4(0x223)]('.');return _0x36cea4!=-0x1&&(_0x31d0c6=_0x31d0c6[_0x3c99d4(0x1a9)](0x0,_0x36cea4+_0x41a01e+0x1)),Number(_0x31d0c6);}function formatResultString(_0xa40261,_0x3200b9){const _0x22debb=_0x38761b;let _0x4ab3c6;if(!(''+_0xa40261)[_0x22debb(0x274)]('e'))_0x4ab3c6=+(Math[_0x22debb(0x291)](_0xa40261+'e+'+_0x3200b9)+'e-'+_0x3200b9);else{let _0xf02b6b=(''+_0xa40261)[_0x22debb(0x1ca)]('e'),_0x4516cd='';+_0xf02b6b[0x1]+_0x3200b9>0x0&&(_0x4516cd='+'),_0x4ab3c6=+(Math[_0x22debb(0x291)](+_0xf02b6b[0x0]+'e'+_0x4516cd+(+_0xf02b6b[0x1]+_0x3200b9))+'e-'+_0x3200b9);}return Number(_0x4ab3c6)[_0x22debb(0x24d)](_0x3200b9);}function getServerTime(){const _0x3c01dc=_0x38761b,_0x215f2e=new Date();return _0x215f2e['getFullYear']()+'/'+(_0x215f2e['getMonth']()+0x1)[_0x3c01dc(0x2a3)]()['padStart'](0x2,'0')+'/'+_0x215f2e['getDate']()[_0x3c01dc(0x2a3)]()[_0x3c01dc(0x271)](0x2,'0')+'\x20'+_0x215f2e[_0x3c01dc(0x278)]()['toString']()[_0x3c01dc(0x271)](0x2,'0')+':'+_0x215f2e[_0x3c01dc(0x2c9)]()[_0x3c01dc(0x2a3)]()[_0x3c01dc(0x271)](0x2,'0')+':'+_0x215f2e[_0x3c01dc(0x1b7)]()[_0x3c01dc(0x2a3)]()[_0x3c01dc(0x271)](0x2,'0');}function getTimeStamp(){const _0x490c91=_0x38761b,_0x2fb8f7=shiftedTime();return _0x2fb8f7[_0x490c91(0x27f)]()+'/'+(_0x2fb8f7[_0x490c91(0x20c)]()+0x1)[_0x490c91(0x2a3)]()[_0x490c91(0x271)](0x2,'0')+'/'+_0x2fb8f7[_0x490c91(0x234)]()['toString']()[_0x490c91(0x271)](0x2,'0')+'\x20'+_0x2fb8f7[_0x490c91(0x278)]()[_0x490c91(0x2a3)]()[_0x490c91(0x271)](0x2,'0')+':'+_0x2fb8f7[_0x490c91(0x2c9)]()[_0x490c91(0x2a3)]()[_0x490c91(0x271)](0x2,'0')+':'+_0x2fb8f7[_0x490c91(0x1b7)]()[_0x490c91(0x2a3)]()['padStart'](0x2,'0');}function getDate(){const _0x4ba4c7=_0x38761b,_0x185eeb=shiftedTime();return _0x185eeb[_0x4ba4c7(0x27f)]()+'/'+(_0x185eeb['getMonth']()+0x1)[_0x4ba4c7(0x2a3)]()[_0x4ba4c7(0x271)](0x2,'0')+'/'+_0x185eeb[_0x4ba4c7(0x234)]()[_0x4ba4c7(0x2a3)]()[_0x4ba4c7(0x271)](0x2,'0');}function getHour(){const _0xa08b18=_0x38761b,_0x2e54f7=shiftedTime();return _0x2e54f7[_0xa08b18(0x278)]()[_0xa08b18(0x2a3)]()[_0xa08b18(0x271)](0x2,'0');}function sleep(_0xbdc180){return new Promise(_0x3bce48=>setTimeout(_0x3bce48,_0xbdc180));}function shiftedTime(){const _0x241e04=_0x38761b,_0x29343e=new Date();let _0x451930=_0x29343e;if(config&&config[_0x241e04(0x26f)]!==0x0)_0x451930=fns[_0x241e04(0x205)](_0x29343e,{'hours':config[_0x241e04(0x26f)]});return _0x451930;}function timer(_0x310262){const _0xf7d2a6=_0x38761b,_0xc6f90e=new Date();!lasttime?console[_0xf7d2a6(0x292)](_0xf7d2a6(0x2bc),_0x310262,_0xc6f90e):console[_0xf7d2a6(0x292)](_0xf7d2a6(0x2bc),_0x310262,(_0xc6f90e-lasttime)/0x3e8),lasttime=_0xc6f90e;}