const _0xd0c847=_0x31f7;(function(_0x3c8833,_0x260cbd){const _0x2c91fe=_0x31f7,_0x40e8b7=_0x3c8833();while(!![]){try{const _0x12c424=parseInt(_0x2c91fe(0x154))/0x1+-parseInt(_0x2c91fe(0x138))/0x2*(-parseInt(_0x2c91fe(0x143))/0x3)+parseInt(_0x2c91fe(0x20e))/0x4+parseInt(_0x2c91fe(0x229))/0x5*(parseInt(_0x2c91fe(0x1be))/0x6)+-parseInt(_0x2c91fe(0x1cf))/0x7+-parseInt(_0x2c91fe(0x221))/0x8*(parseInt(_0x2c91fe(0x1ec))/0x9)+-parseInt(_0x2c91fe(0xf2))/0xa;if(_0x12c424===_0x260cbd)break;else _0x40e8b7['push'](_0x40e8b7['shift']());}catch(_0x195b00){_0x40e8b7['push'](_0x40e8b7['shift']());}}}(_0x715c,0xc8c9d));const _0x4afa10=function(){let _0x1cc4cb=!![];return function(_0x2447df,_0x345908){const _0x4a320f=_0x1cc4cb?function(){if(_0x345908){const _0x8ccaae=_0x345908['apply'](_0x2447df,arguments);return _0x345908=null,_0x8ccaae;}}:function(){};return _0x1cc4cb=![],_0x4a320f;};}(),_0x2eb52d=_0x4afa10(this,function(){const _0x19ccbe=_0x31f7;return _0x2eb52d[_0x19ccbe(0x1ea)]()[_0x19ccbe(0x1f7)]('(((.+)+)+)+$')[_0x19ccbe(0x1ea)]()[_0x19ccbe(0x1f8)](_0x2eb52d)[_0x19ccbe(0x1f7)](_0x19ccbe(0xd7));});_0x2eb52d();'use strict';const ccxt=require(_0xd0c847(0x1b4))[_0xd0c847(0x144)],low=require(_0xd0c847(0x214)),FileSync=require(_0xd0c847(0x208)),fs=require('fs'),fns=require(_0xd0c847(0x11a)),Crypt=require(_0xd0c847(0x181))[_0xd0c847(0x194)],util=require(_0xd0c847(0xe3)),argv=require(_0xd0c847(0x1e5))(process[_0xd0c847(0x199)][_0xd0c847(0x15d)](0x2))['argv'],path=require('path');let exchange;global[_0xd0c847(0xea)]={},global[_0xd0c847(0x1cd)]={};const exceptions={'binance':[_0xd0c847(0x135),_0xd0c847(0x20f),_0xd0c847(0x127),_0xd0c847(0x1b0),_0xd0c847(0x224)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xd0c847(0x200)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0xd0c847(0x191)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];function _0x715c(){const _0x14784b=['cost','exchange\x20reloaded','sell','loadSymbols()','unlinkSync','2.3.5','cancelOrder','bb-settings.json','join','message','EUR','event','Unknown\x20error\x20occured','sha256','2\x20-\x20Handled\x20open\x20orders','1\x20-\x20Validate\x20orders:\x20','filter','cloneDeep','hybrid-crypto-js','-performance.json','restart','No\x20more\x20open\x20orders\x20-\x20','timeshift','liquidity','closed','change24h','Error\x20while\x20deleting\x20files:\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','event-history','\x20orders\x20in\x20less\x20than\x20','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','API-key\x20format\x20invalid','keys','isEqual','UNLOCKED','%\x20(','startnumber','Crypt','round','full','total','configuration','argv','cancelOrders()','MIN_NOTIONAL','Unfilled\x20order(s)\x20canceled\x20after\x20','BNB','2\x20-\x20Orders\x20unlocked','padEnd','getCoins()',',\x20must\x20be\x20a\x203\x20digit\x20number','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','remove','recent20','watchOrders','2\x20-\x20FILLED\x20unknown\x20order:\x20','stringify','price','privateKey','\x20>\x20','sortBy','2\x20-\x20Validate\x20orders:\x20','\x20not\x20available','./config/','001','NANO/','Net\x20effect','symbols','fetchTickers','ccxt','test','2.6.0','Order\x20filled:\x20','apiPassword','Market','limit','find','headless','timestamp','750yUDpIE','timer:','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','BNB/','must\x20be\x20greater\x20than\x20minimum\x20amount','Executed\x20','Exchange','password','onepagemode','entries','fromCodePoint','parse','getHours','clientOrderId','filled','change','mkdirSync','3002398MnzLOv','cancelLoading','has','assign','apiSecret','splice','fees','Limit\x20(high-margin)','/backup/','bot','getDate','fiat','openOrders','\x20API\x20key\x20is\x20invalid','order','format','Pausing\x20for\x20','watchTrades','date','forEach','performance','add','yargs/yargs','Manual\x20balancing\x20required','ORDERS.UNLOCKING','get','USD','toString','LOCKED','81GCvzrh','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','percentage','parseISO','padStart','datetime','AuthenticationError','threshold','startdate','OrderNotFound','search','constructor','replace','ask','uncaughtException','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','Failed\x20to\x20load\x20coin\x20data\x20for\x20','changes','number','freeze','realized','customId','emitHistory','Resetting\x20bot\x20history','value','breakeven','1\x20-\x20FILLED:\x20','lowdb/adapters/FileSync','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20:\x20','3\x20-\x20handling\x20FILLED\x20order:\x20','no\x20additional\x20symbols','Error:\x20Invalid\x20argument\x20','2622216qwhfmt','HOT/BTC','ORDERS.UNLOCKED','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','balancing\x20resumed','type','lowdb','set','netoffset','delta','botID','function','./logs/','page','simple','close','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','balances','sort','830744tYPhkI','fee','2.5.0','YOYOW/','getSeconds','limit-high','currency','InsufficientFunds','61055CEJpOc','getTime','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','apiKey','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','orderId','starting-balances','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','\x20API\x20secret\x20is\x20invalid','secure','************','getMonth','debug','indexOf','none','progress','watchTransactions','Order\x20amount\x20is\x20invalid:\x20','buy','eur','\x20change','toFixed','yyyy-MM-dd\x27T\x27HH:mm:ss','DDoSProtection','BUSD','initclient','write','open','decrypt','exchange\x20not\x20reloaded','side','split','bb-secure.json','bots','showConfig','configuration-stored','getOpenOrders()','usd','\x20portfolio:</b>\x20\x0a\x0a','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','average','log','final','deleteHistoryAlerts','(((.+)+)+)+$','getMinutes','map','sendMetricsTelegram','error','version','***','RequestTimeout','removed','exchange','enabled','kill','util','data','valid','resetHistory','Fees\x20|\x20currency:\x20','\x20minutes','reverse','ticker','BTC','startprice','timeout','time','\x20has\x20a\x2024h\x20drop\x20of\x20','Fee\x20discount\x20refund\x20detected:\x20','initial','12461650EfcQLz','getFullYear','rightTxt','fetchOpenOrders','coins','target','<b>Bot\x20','startsWith','\x20|\x20','bot-','abs','success','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','buys','Bot\x20','ongoing','getPortfolio(1)','exchanges','toUpperCase','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','trade','limit-low','fetchBalance','leftTxt','includes','status','./version.json','last','push','args',':\x20Bot\x20','getStartingBalances','writeFile','market','highest','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','Net\x20','Initiating\x20exchange\x20reload','cancel','date-fns','showname','fetchClosedOrders','distribution','0\x20-\x20EXECUTION:\x20','<b>','\x20|\x20highest:\x20','limits','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','getPortfolio(2)','.json','findIndex','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','XEM/BUSD','\x20hour','Avoiding\x20continuous\x20order\x20attempts','-------------------------------\x0a','botname','RSA-OAEP','remainingSymbols','Saving\x20configuration','storeHeadless','-results.json','2\x20-\x20FILLED\x20known\x20order:\x20','toLowerCase','createWriteStream','shift','DAI/','</pre>','Order(s)\x20not\x20validated\x20after\x20','2493466OeGDHj','loading-canceled','Limit\x20(low-margin)','defaults','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','no\x20open\x20orders','substring','send','fetchTicker','running','coin','3eVzmSb','pro','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','emojibuy','orderstatus','amount','ETH','basecoin','ordertype','canceled','getCoinNumber()','differenceInSeconds','symbol','Transaction\x20detection\x20unblocked','emojisell','\x20>\x20[DEBUG]\x20','yyyy/MM/dd','3433RJaVqJ','Invalid\x20API\x20key\x20or\x20secret\x20entered','/USD','length','excluded','max','portfolio','existsSync','USDT','slice','\x20not\x20responding','\x20metrics:</b>\x20\x0a\x0a','net-fiat','\x20order:\x20','loadMarkets','exec','-events.json','logs','offset','net-basecoin','createOrder','cooldown','milliseconds','\x20minutes\x20-\x20','storeConfiguration','min','/output-000.log'];_0x715c=function(){return _0x14784b;};return _0x715c();}const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0xd0c847(0x10c))[_0xd0c847(0xdc)],botID=process[_0xd0c847(0x199)][0x2]||_0xd0c847(0x1af),pattern=/^[0-9]{3}$/;!pattern[_0xd0c847(0x1b5)](botID)&&(console[_0xd0c847(0xd4)](_0xd0c847(0x20d)+botID+_0xd0c847(0x1a1)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0xd0c847(0x1ae)+userID+'/':_0xd0c847(0x1ae),logspath=userID?_0xd0c847(0x21a)+userID+'/':'./logs/',loggerfile=fs[_0xd0c847(0x133)](logspath+_0xd0c847(0x16e),{'flags':'a'});!fs[_0xd0c847(0x15b)](configpath)&&fs[_0xd0c847(0x1ce)](configpath);!fs[_0xd0c847(0x15b)](logspath)&&fs[_0xd0c847(0x1ce)](logspath);const configfile=configpath+_0xd0c847(0xfb)+botID+'-config.json',logfile=configpath+'bot-'+botID+_0xd0c847(0x164),performancefile=configpath+_0xd0c847(0xfb)+botID+'-performance.json',coinresultsfile=configpath+_0xd0c847(0xfb)+botID+'-results.json',settingsfile=configpath+_0xd0c847(0x176),securefile=configpath+_0xd0c847(0xcb),configbackuppath=configpath+_0xd0c847(0x1d7),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xd0c847(0x13b)]({'logs':[],'version':serverversion})[_0xd0c847(0xc5)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xd0c847(0x13b)]({'data':[],'version':serverversion})[_0xd0c847(0xc5)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xd0c847(0x13b)]({'bot':[],'version':serverversion})[_0xd0c847(0xc5)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xd0c847(0x13b)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0xd0c847(0x17c),'rsaStandard':_0xd0c847(0x12c)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x49819b=>{const _0x576e8e=_0xd0c847;console[_0x576e8e(0xd4)](_0x49819b);},'simple':_0x332f6b=>{const _0x28db7a=_0xd0c847;console[_0x28db7a(0xd4)](_0x332f6b),loggerfile[_0x28db7a(0xc5)](util[_0x28db7a(0x1de)](_0x332f6b)+'\x0a');},'full':async(_0x3f6beb,_0x160e5b='')=>{const _0x336625=_0xd0c847;let _0x5d3225;if(config[_0x336625(0x11b)])_0x5d3225=getTimeStamp()+':\x20'+config[_0x336625(0x12b)]+_0x336625(0x1aa)+_0x3f6beb;else _0x5d3225=getTimeStamp()+_0x336625(0x110)+botID+_0x336625(0x1aa)+_0x3f6beb;console[_0x336625(0xd4)](_0x5d3225),loggerfile[_0x336625(0xc5)](util[_0x336625(0x1de)](_0x5d3225)+'\x0a'),_0x160e5b&&(console['log'](_0x160e5b),loggerfile[_0x336625(0xc5)](util[_0x336625(0x1de)](_0x160e5b)+'\x0a'));},'debug':async(_0x4db122,_0x33e323='')=>{const _0x1732c2=_0xd0c847;let _0x553af6;if(config[_0x1732c2(0x11b)])_0x553af6=getTimeStamp()+':\x20'+config[_0x1732c2(0x12b)]+_0x1732c2(0x152)+_0x4db122;else _0x553af6=getTimeStamp()+_0x1732c2(0x110)+botID+'\x20>\x20[DEBUG]\x20'+_0x4db122;if(debugging)console[_0x1732c2(0xd4)](_0x553af6);loggerfile[_0x1732c2(0xc5)](util[_0x1732c2(0x1de)](_0x553af6)+'\x0a');if(_0x33e323){if(debugging)console[_0x1732c2(0xd4)](_0x33e323);loggerfile[_0x1732c2(0xc5)](util[_0x1732c2(0x1de)](_0x33e323)+'\x0a');}}};process['on'](_0xd0c847(0x1fb),function(_0x221c8b){const _0x3ef5b8=_0xd0c847;logger[_0x3ef5b8(0x21c)](_0x221c8b);});settings[_0xd0c847(0x185)]!=config[_0xd0c847(0x185)]&&updateTimeshift(settings[_0xd0c847(0x185)]);settings[_0xd0c847(0x1c6)]!=config['onepagemode']&&updateOnepagemode(settings[_0xd0c847(0x1c6)]);process['send']({'started':'running'},_0x1b0c32=>{}),initializeProcessListeners();function proxyEmit(_0x26fa87,_0x1decfd=null){const _0x175bab=_0xd0c847;process[_0x175bab(0x13f)]({'function':_0x26fa87,'args':_0x1decfd},_0x33a90a=>{});}function initializeProcessListeners(){const _0x3525ba=_0xd0c847;process['on'](_0x3525ba(0x178),_0x14d485=>{const _0x10385b=_0x3525ba;switch(Object['keys'](_0x14d485)[0x0]){case _0x10385b(0x185):_0x14d485[_0x10385b(0x185)]!=undefined&&(settings['timeshift']=_0x14d485[_0x10385b(0x185)],updateTimeshift(settings['timeshift']));break;case'onepagemode':_0x14d485[_0x10385b(0x1c6)]!=undefined&&(settings[_0x10385b(0x1c6)]=_0x14d485[_0x10385b(0x1c6)],updateOnepagemode(settings[_0x10385b(0x1c6)]));break;case _0x10385b(0xcc):_0x14d485[_0x10385b(0xcc)]!=undefined&&(bots=JSON['parse'](_0x14d485[_0x10385b(0xcc)]),proxyEmit(_0x10385b(0xcc),bots));break;case _0x10385b(0x219):switch(_0x14d485[_0x10385b(0x219)]){case _0x10385b(0xc4):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x10385b(0x203):emitHistory(_0x14d485['args']);break;case _0x10385b(0xd6):deleteHistoryAlerts(_0x14d485[_0x10385b(0x10f)]);break;case'getPortfolio':getPortfolio(_0x14d485[_0x10385b(0x10f)]);break;case _0x10385b(0x16c):storeConfiguration(_0x14d485[_0x10385b(0x10f)]);break;case _0x10385b(0x12f):storeHeadless(_0x14d485[_0x10385b(0x10f)]);break;case'storeFiat':storeFiat(_0x14d485['args']);break;case _0x10385b(0xe6):resetHistory();break;case _0x10385b(0x111):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x14d485[_0x10385b(0x10f)]);break;case _0x10385b(0x1d0):cancelLoading();break;case _0x10385b(0xcd):showConfig();break;case _0x10385b(0xda):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x558cb1=null,_0x1289ed=![]){const _0x4bef26=_0xd0c847;logger[_0x4bef26(0x235)]('Reset\x20|\x20'+(_0x558cb1&&_0x558cb1[_0x4bef26(0x157)]>0x0?'additional\x20symbols\x20'+_0x558cb1[_0x4bef26(0x177)](','):_0x4bef26(0x20c))+_0x4bef26(0xfa)+(_0x1289ed?_0x4bef26(0x170):_0x4bef26(0xc8)));if(pidBalances)clearTimeout(pidBalances);if(!_0x1289ed)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x4bef26(0x22c)]!=''&&config[_0x4bef26(0x22c)]!=_0x4bef26(0xdd)){if(_0x1289ed){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x502d07){handleErrorNoStop(_0x502d07,_0x4bef26(0x172));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x558cb1);const _0x348211=await getCoins();[currentCoins,currentCoinsAll]=_0x348211,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x4bef26(0x157)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x58a591=_0xd0c847;exchangeStopped=!![],await exchange[_0x58a591(0x21d)]();}async function reloadExchange(){const _0x25c15f=_0xd0c847;logger[_0x25c15f(0x235)](_0x25c15f(0x118));while(lockOrders!=ORDERS[_0x25c15f(0x191)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x25c15f(0x235)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x3aacc2=config['exchange'],_0x2aa78e=config['apiKey'],_0x124e28=config['apiSecret'],_0x4e4caf=config['apiPassword']){const _0xee4759=_0xd0c847;exchange&&await stopExchange();!supportedExchanges()[_0xee4759(0x10a)](_0x3aacc2)&&(logHistory(_0xee4759(0xdb),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x3aacc2+'\x20exchange'),killBot());const _0x1aa6ba=ccxt[_0x3aacc2[_0xee4759(0x132)]()];exchange=new _0x1aa6ba({'apiKey':_0x2aa78e,'secret':_0x124e28,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});if(_0x4e4caf)exchange[_0xee4759(0x1c5)]=_0x4e4caf;}function setStableCoins(){const _0x412daf=_0xd0c847;let _0x4f277f=config['basecoin']==_0x412daf(0x149)?'ETH':_0x412daf(0xeb),_0x4970da=!allSymbols[_0x412daf(0x10a)](_0x4f277f+_0x412daf(0x156))?_0x412daf(0x15c):_0x412daf(0x1e9),_0x206361=!allSymbols[_0x412daf(0x10a)](_0x4f277f+'/EUR')?_0x4970da:_0x412daf(0x179);stablecoins={'eur':{'coin':''+_0x4f277f+_0x206361,'symbol':_0x4f277f+'/'+_0x206361},'usd':{'coin':''+_0x4f277f+_0x4970da,'symbol':_0x4f277f+'/'+_0x4970da}};}async function initwsCcxt(_0x594cc5){const _0x444a30=_0xd0c847;_0x594cc5==null&&(_0x594cc5=[],config[_0x444a30(0x15a)][_0x444a30(0x1e2)](_0x1ae104=>{const _0x9eb0de=_0x444a30;if(!_0x1ae104[_0x9eb0de(0x158)]&&_0x1ae104['coin']!=config[_0x9eb0de(0x14a)])_0x594cc5[_0x9eb0de(0x10e)](_0x1ae104['symbol']);}));if(!_0x594cc5[_0x444a30(0x10a)](stablecoins['eur']['symbol']))_0x594cc5[_0x444a30(0x10e)](stablecoins[_0x444a30(0xbe)][_0x444a30(0x14f)]);if(!_0x594cc5['includes'](stablecoins[_0x444a30(0xd0)]['symbol']))_0x594cc5['push'](stablecoins[_0x444a30(0xd0)][_0x444a30(0x14f)]);if(config['exchange'][_0x444a30(0xf9)]('Binance')){if(!_0x594cc5[_0x444a30(0x10a)](_0x444a30(0x1c1)+config[_0x444a30(0x14a)]))_0x594cc5[_0x444a30(0x10e)](_0x444a30(0x1c1)+config['basecoin']);}loadCoins(_0x594cc5);const _0x21cc5e=async _0x2f1749=>{const _0x17c5b8=_0x444a30,_0x4912a9=await exchange['fetchTicker'](_0x2f1749);global[_0x17c5b8(0xea)][noslash(_0x4912a9[_0x17c5b8(0x14f)])]=_0x4912a9[_0x17c5b8(0x10d)];while(!![]){if(!botPaused)try{const _0x42c4ad=await exchange[_0x17c5b8(0x1e0)](_0x2f1749);global[_0x17c5b8(0xea)][noslash(_0x42c4ad[0x0]['symbol'])]=_0x42c4ad[0x0][_0x17c5b8(0x1a8)],await sleep(0x3e8);}catch(_0x5ac6ab){if(!exchangeStopped)await handleError(_0x5ac6ab,_0x17c5b8(0x1e0),_0x2f1749);}else await sleep(0x3e8);}},_0x24da5e=async _0x2c98a6=>{const _0x213596=_0x444a30;while(!![]){if(!botPaused)try{const _0x2ddf5f=await exchange[_0x213596(0x140)](_0x2c98a6);global['change'][_0x2ddf5f[_0x213596(0x14f)]]=_0x2ddf5f[_0x213596(0x1ef)],await sleep(0x3c*0x3e8);}catch(_0x32a1bc){if(!exchangeStopped)await handleError(_0x32a1bc,_0x213596(0x1b3),_0x2c98a6);}else await sleep(0x3e8);}},_0x23b268=async()=>{const _0x50d6d1=_0x444a30;while(!![]){if(!botPaused)try{const _0x3d0fc9=await exchange[_0x50d6d1(0x1a5)]();_0x3d0fc9[_0x50d6d1(0x1e2)](_0x45a7f2=>{updateNumberCoinsCcxt(_0x45a7f2);});}catch(_0x43cc2b){if(!exchangeStopped)await handleError(_0x43cc2b,_0x50d6d1(0x1a5));}else await sleep(0x3e8);}};_0x594cc5[_0x444a30(0x1e2)](async _0x58b0ef=>{_0x21cc5e(_0x58b0ef),_0x24da5e(_0x58b0ef);}),!wsEventsSet&&(wsEventsSet=!![],_0x23b268(),watchTransactions());}async function watchTransactions(){const _0x4554ad=_0xd0c847;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x33abdf=await getCoins(),[_0x3a70b8,_0x244d99]=_0x33abdf;let _0x8eee89=[];currentCoins[_0x4554ad(0x1e2)](_0x428150=>{const _0x35862e=_0x4554ad,_0x2cd5b0=_0x3a70b8['find'](_0x3ea502=>_0x3ea502[_0x35862e(0x142)]==_0x428150[_0x35862e(0x142)]);_0x2cd5b0&&(_0x428150['number']!=_0x2cd5b0[_0x35862e(0x1ff)]&&_0x8eee89[_0x35862e(0x10e)]({'coin':_0x428150[_0x35862e(0x142)],'symbol':_0x428150[_0x35862e(0x14f)],'number':Number(formatResult(_0x2cd5b0[_0x35862e(0x1ff)]-_0x428150[_0x35862e(0x1ff)],0x8))}));});if(_0x8eee89[_0x4554ad(0x157)]==0x1&&!blockTransactionDetection){logger['debug'](_0x4554ad(0xe7)+lastFees[_0x4554ad(0x227)]+_0x4554ad(0x120)+lastFees[_0x4554ad(0x114)]);if(!lastFees['currency']||_0x8eee89[0x0][_0x4554ad(0x142)]!=lastFees['currency']||_0x8eee89[0x0][_0x4554ad(0x1ff)]>lastFees[_0x4554ad(0x114)]){let _0x21750c;if(_0x8eee89[0x0][_0x4554ad(0x142)]!=config[_0x4554ad(0x14a)]){let _0x123868=global[_0x4554ad(0xea)][noslash(_0x8eee89[0x0][_0x4554ad(0x14f)])];_0x21750c=_0x8eee89[0x0][_0x4554ad(0xe9)]?0x1/_0x123868:_0x123868;}else _0x21750c=0x1;_0x8eee89[0x0][_0x4554ad(0x1a8)]=_0x21750c,delete _0x8eee89[0x0]['symbol'];let _0x391e9b=[],_0x2fbdcf=[...config['liquidity']]||[],_0xb406bb=config[_0x4554ad(0x186)];_0x2fbdcf['sort']((_0x4ccf9d,_0x28747f)=>_0x4ccf9d[_0x4554ad(0x1e1)]>_0x28747f['date']?-0x1:_0x28747f['date']>_0x4ccf9d['date']?0x1:0x0);const _0x199e76=getDate();if(_0x2fbdcf[0x0]){const _0x251892=fns[_0x4554ad(0x1c9)](_0x2fbdcf[0x0][_0x4554ad(0x1e1)],_0x4554ad(0x153),new Date()),_0x372402=fns['parse'](_0x199e76,'yyyy/MM/dd',new Date());if(fns[_0x4554ad(0x190)](_0x251892,_0x372402)){_0x391e9b=_0x2fbdcf[0x0][_0x4554ad(0x1fe)];const _0x7d8002=_0x391e9b[_0x4554ad(0x1bb)](_0x53cb65=>_0x53cb65[_0x4554ad(0x142)]==_0x8eee89[0x0][_0x4554ad(0x142)]);_0x7d8002?(_0x7d8002[_0x4554ad(0x1ff)]+=_0x8eee89[0x0][_0x4554ad(0x1ff)],_0x7d8002[_0x4554ad(0x1ff)]==0x0&&(_0x391e9b=_0x391e9b[_0x4554ad(0x17f)](_0x34ec7a=>{const _0xa90dae=_0x4554ad;return _0x34ec7a['coin']!=_0x8eee89[0x0][_0xa90dae(0x142)];}))):_0x391e9b[_0x4554ad(0x10e)](_0x8eee89[0x0]);const _0x440bfd=_0xb406bb['find'](_0x229160=>_0x229160[_0x4554ad(0x1e1)]==_0x199e76);_0x440bfd['changes']=_0x391e9b;}else _0xb406bb[_0x4554ad(0x10e)]({'date':_0x199e76,'changes':[_0x8eee89[0x0]]});}const _0x1c57db=_0xb406bb['find'](_0x259c05=>_0x259c05[_0x4554ad(0x1e1)]==_0x199e76);if(_0x1c57db){let _0x29f604=!![];_0x1c57db[_0x4554ad(0x1fe)][_0x4554ad(0x1e2)](_0x1a6545=>{const _0x5f1d5c=_0x4554ad;if(_0x1a6545[_0x5f1d5c(0x1ff)]!=0x0)_0x29f604=![];}),_0x29f604&&(_0xb406bb=_0xb406bb[_0x4554ad(0x17f)](_0x1761eb=>{return _0x1761eb['date']!=_0x199e76;}));}let _0x4cd3f6=dbConfig[_0x4554ad(0x1e8)]('bot')[_0x4554ad(0x1bb)]({'botID':botID})[_0x4554ad(0x205)]();_0x4cd3f6&&(dbConfig[_0x4554ad(0x1e8)](_0x4554ad(0x1d8))[_0x4554ad(0x1bb)]({'botID':botID})[_0x4554ad(0x1d2)]({'liquidity':_0xb406bb})[_0x4554ad(0xc5)](),config[_0x4554ad(0x186)]=_0xb406bb),logHistory(_0x4554ad(0xfd),'Portfolio\x20change\x20detected:\x20'+Math[_0x4554ad(0xfc)](_0x8eee89[0x0][_0x4554ad(0x1ff)])+'\x20'+_0x8eee89[0x0][_0x4554ad(0x142)]+'\x20'+(_0x8eee89[0x0]['number']>0x0?'added':_0x4554ad(0xdf))+_0x4554ad(0x116)),proxyEmit(_0x4554ad(0x198),emittedConfiguration());}else logger[_0x4554ad(0x235)](_0x4554ad(0xf0)+Math[_0x4554ad(0xfc)](_0x8eee89[0x0][_0x4554ad(0x1ff)])+'\x20'+_0x8eee89[0x0][_0x4554ad(0x142)]+'\x20'+(_0x8eee89[0x0][_0x4554ad(0x1ff)]>0x0?'added':_0x4554ad(0xdf)));transactionDetected=!![],currentCoins=_0x3a70b8,currentCoinsAll=_0x244d99;}await sleep(watchTransactionsInterval);}catch(_0x3e04a1){if(!exchangeStopped)await handleError(_0x3e04a1,_0x4554ad(0x239));}else await sleep(0x3e8);}}async function loadSymbols(_0x4d8892=config[_0xd0c847(0xe0)],_0x13f220=![]){const _0x4425de=_0xd0c847;if(allSymbols&&!_0x13f220)return;try{markets=await exchange[_0x4425de(0x162)](),allSymbols=exchange[_0x4425de(0x1b2)]['filter'](_0x5e04ee=>{const _0x4ec2a8=_0x4425de;let _0x4cdacb=![];const _0x1fe9a9=exceptions[_0x4d8892[_0x4ec2a8(0x132)]()]||[];return _0x1fe9a9[_0x4ec2a8(0x1e2)](_0x4e7e05=>{const _0x4e69ad=_0x4ec2a8;if(_0x5e04ee[_0x4e69ad(0x10a)](_0x4e7e05))_0x4cdacb=!![];}),!_0x4cdacb;});}catch(_0xd54ecc){throw _0xd54ecc;}}async function initclient(){const _0x3b23ff=_0xd0c847;emitLoadingProgress(),proxyEmit(_0x3b23ff(0x198),emittedConfiguration()),proxyEmit(_0x3b23ff(0x103),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3b23ff(0x21f),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xd42228=getNormalizedPerformance();emitPerformance(_0xd42228),getStartingBalances(_0xd42228);}async function toggleBotMode(){const _0x208757=_0xd0c847;let _0x6b489c=dbConfig[_0x208757(0x1e8)](_0x208757(0x1d8))[_0x208757(0x1bb)]({'botID':botID})['value']();if(_0x6b489c){const _0x42b7b7=!_0x6b489c[_0x208757(0x1bc)];dbConfig['get']('bot')['find']({'botID':botID})[_0x208757(0x1d2)]({'headless':_0x42b7b7})[_0x208757(0xc5)](),config['headless']=_0x42b7b7,proxyEmit(_0x208757(0x198),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x5553d9=>{});}async function loadCoins(_0x213b9c){const _0x443423=_0xd0c847;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x2c3ffa,_0x1dc459=0x0,_0x2a380f=0x0;_0x213b9c['forEach'](_0x506405=>{const _0x344094=_0x31f7;loading[_0x344094(0x12d)][_0x344094(0x10e)](_0x506405);}),loadingCanceled=![];let _0x3e16cc=![];while(_0x2c3ffa!=_0x213b9c['length']){_0x2c3ffa=0x0,_0x213b9c[_0x443423(0x1e2)](_0x52ccd4=>{const _0x5298ef=_0x443423;if(global[_0x5298ef(0xea)][noslash(_0x52ccd4)]){loading[_0x5298ef(0x12d)]=loading['remainingSymbols'][_0x5298ef(0x17f)](_0x2c7e7d=>_0x2c7e7d!=_0x52ccd4);if(!watchedSymbols['includes'](_0x52ccd4))watchedSymbols['push'](_0x52ccd4);_0x2c3ffa++;}}),loading['progress']=Math[_0x443423(0x195)](_0x2c3ffa/_0x213b9c[_0x443423(0x157)]*0x64);loading[_0x443423(0x238)]!=0x64&&(_0x2a380f>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x2a380f>0x78*0x5&&!_0x3e16cc&&(loading['cancel']=!![],emitLoadingProgress(),_0x3e16cc=!![],logHistory('error',_0x443423(0x1fd)+loading[_0x443423(0x12d)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x443423(0xdb),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x443423(0x1ee)),pidCoinReloading=setTimeout(()=>{const _0x5e24dd=_0x443423;process[_0x5e24dd(0x13f)]({'stop':'restart'},_0x232645=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x443423(0x119)]=!![],emitLoadingProgress();break;}else _0x2c3ffa!=_0x1dc459&&(_0x1dc459=_0x2c3ffa,emitLoadingProgress()),_0x2a380f++,await sleep(0xc8);}_0x2c3ffa==_0x213b9c[_0x443423(0x157)]&&(coinsLoaded=!![],process[_0x443423(0x13f)]({'status':_0x443423(0xe1),'live':'running'},_0x152a59=>{}),_0x3e16cc&&logHistory(_0x443423(0xfd),_0x443423(0xd2)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4078fd=_0xd0c847;proxyEmit(_0x4078fd(0x198),{...emittedConfiguration(),'configstate':_0x4078fd(0x139)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x208609=_0xd0c847;let _0x13d619=global[_0x208609(0xea)][stablecoins['eur'][_0x208609(0x142)]],_0x560a50=global[_0x208609(0xea)][stablecoins[_0x208609(0xd0)][_0x208609(0x142)]];return{'eur':Number(_0x13d619),'usd':Number(_0x560a50)};}function capitalize(_0x104018){const _0x53d202=_0xd0c847;return _0x104018[_0x53d202(0x13e)](0x0,0x1)[_0x53d202(0x104)]()+_0x104018[_0x53d202(0x13e)](0x1);}function supportedExchanges(){const _0x298b68=_0xd0c847,_0x3645f3=['ws','fetchTickers',_0x298b68(0x140),_0x298b68(0x1e0),_0x298b68(0x1a5),'cancelOrder',_0x298b68(0x168),'fetchOpenOrders',_0x298b68(0x11c),_0x298b68(0x108)];let _0x3271da=[],_0x47dc37=[],_0x1370eb=ccxt[_0x298b68(0x103)];_0x1370eb['forEach'](_0x310ccb=>{const _0xcc552c=_0x298b68;try{const _0x3dd63a=new ccxt[_0x310ccb]();if(_0x3dd63a[_0xcc552c(0x1d1)]['ws'])_0x47dc37[_0xcc552c(0x10e)](_0x3dd63a);}catch(_0x46f811){}}),_0x47dc37['forEach'](_0x350549=>{const _0x174801=_0x298b68;let _0x2fcc25=0x0;_0x3645f3[_0x174801(0x1e2)](_0x1d41d5=>{const _0x5ac07b=_0x174801;_0x1d41d5 in _0x350549[_0x5ac07b(0x1d1)]&&_0x350549['has'][_0x1d41d5]&&_0x2fcc25++;}),_0x2fcc25==_0x3645f3['length']&&_0x3271da[_0x174801(0x10e)](capitalize(_0x350549['id']));});let _0x2fdb06=[];return _0x1370eb[_0x298b68(0x1e2)](_0x451ce1=>{const _0x40e0e7=_0x298b68;_0x451ce1=capitalize(_0x451ce1);if(!_0x3271da[_0x40e0e7(0x10a)](_0x451ce1))_0x2fdb06[_0x40e0e7(0x10e)](_0x451ce1);}),_0x3271da;}function setStartDatePerformance(){const _0x4ec237=_0xd0c847;if(config&&config[_0x4ec237(0x186)][0x0][_0x4ec237(0x1fe)]['length']!=0x0){const _0x5e2976=config[_0x4ec237(0x186)][0x0]['changes'];dbPerformance[_0x4ec237(0x1e8)](_0x4ec237(0xe4))['find']({'date':config[_0x4ec237(0x1f5)]})[_0x4ec237(0x1d2)]({'coins':_0x5e2976})[_0x4ec237(0xc5)]();}}async function recreateCoinResults(){const _0x241bb5=_0xd0c847;let _0x5a3b99,_0x1d8b6e=[];try{const _0x163875=fns[_0x241bb5(0x1de)](fns[_0x241bb5(0x1f0)](config[_0x241bb5(0x1f5)][_0x241bb5(0x1f9)](/\//g,'-')),_0x241bb5(0xc1));for(const _0x4681d7 of currentCoins){if(_0x4681d7[_0x241bb5(0x142)]!=config[_0x241bb5(0x14a)]){let _0x10517b=0x0,_0x500e44,_0x1cdf5a;_0x5a3b99=await getAllEventOrders(_0x4681d7[_0x241bb5(0x14f)]);if(_0x5a3b99['length']>0x0)_0x5a3b99[_0x241bb5(0x1e2)](_0x6f20e4=>{const _0x247dd8=_0x241bb5,_0x335453=_0x4681d7[_0x247dd8(0x14f)][_0x247dd8(0x10a)](config[_0x247dd8(0x14a)]+'/');_0x1d8b6e[_0x247dd8(0x10e)]({'datetime':_0x6f20e4['datetime'],'coin':_0x4681d7[_0x247dd8(0x142)],'symbol':_0x4681d7[_0x247dd8(0x14f)],'side':_0x6f20e4['side'],'reverse':_0x335453,'amount':formatResult(_0x6f20e4[_0x247dd8(0x1cc)],0x8),'filled':formatResult(_0x6f20e4['filled'],0x8),'price':formatResult(_0x6f20e4[_0x247dd8(0x1a8)],0x8)}),_0x10517b=_0x6f20e4[_0x247dd8(0xc9)]==_0x247dd8(0xbd)?_0x10517b+_0x6f20e4[_0x247dd8(0x1cc)]:_0x10517b-_0x6f20e4[_0x247dd8(0x1cc)];if(!_0x1cdf5a)_0x1cdf5a=_0x6f20e4[_0x247dd8(0x1a8)];});_0x500e44=_0x4681d7[_0x241bb5(0x1ff)]-_0x10517b;let _0x177523;config['liquidity'][_0x241bb5(0x1e2)](_0x2378d3=>{const _0x3799c2=_0x241bb5;!_0x177523&&(_0x177523=_0x2378d3[_0x3799c2(0x1fe)]['find'](_0x3ba15c=>_0x3ba15c[_0x3799c2(0x142)]==_0x4681d7[_0x3799c2(0x142)]),_0x177523&&(_0x500e44=_0x177523[_0x3799c2(0x1ff)],_0x1cdf5a=_0x177523[_0x3799c2(0x1a8)]));});let _0x207607=dbCoinResults['get'](_0x241bb5(0xf6))[_0x241bb5(0x1bb)]({'coin':_0x4681d7[_0x241bb5(0x142)]})[_0x241bb5(0x205)]();_0x207607={'coin':_0x4681d7[_0x241bb5(0x142)],'number':_0x500e44,'breakeven':_0x1cdf5a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x241bb5(0x1e8)](_0x241bb5(0xf6))[_0x241bb5(0x1bb)]({'coin':_0x4681d7['coin']})[_0x241bb5(0x1d2)](_0x207607)['write']();}}_0x1d8b6e[_0x241bb5(0x220)]((_0xf50a00,_0x5ded4a)=>_0xf50a00['datetime']>_0x5ded4a[_0x241bb5(0x1f2)]?0x1:_0x5ded4a['datetime']>_0xf50a00[_0x241bb5(0x1f2)]?-0x1:0x0);let _0x3cd5d6=0x0;for(let _0x8a7d8d of _0x1d8b6e){await updateCoinResults(_0x8a7d8d,!![]);}}catch(_0x4a231a){await handleError(_0x4a231a,'recreateCoinResults()');}}async function getAllEventOrders(_0x1e2b28){const _0x1817b3=_0xd0c847;let _0x3a6cc2=[],_0x1f253f=dbLogs['get'](_0x1817b3(0x165))[_0x1817b3(0x17f)](_0x3e9261=>{const _0x21d5a6=_0x1817b3,_0x2abff8=_0x3e9261[_0x21d5a6(0x17a)][_0x21d5a6(0x132)]();return _0x2abff8[_0x21d5a6(0x10a)](_0x1e2b28[_0x21d5a6(0x132)]())&&(_0x2abff8[_0x21d5a6(0x10a)](_0x21d5a6(0x113))&&_0x2abff8[_0x21d5a6(0x10a)](_0x21d5a6(0x1dd))||_0x2abff8['includes'](_0x21d5a6(0x1cc))&&_0x2abff8[_0x21d5a6(0x10a)](_0x21d5a6(0x1dd)));})['sortBy'](_0x1817b3(0xee))[_0x1817b3(0x205)]();return _0x1f253f[_0x1817b3(0x1e2)](_0x42c21d=>{const _0x35d001=_0x1817b3,_0x5efba0=_0x42c21d[_0x35d001(0x17a)][_0x35d001(0x10a)](_0x35d001(0x171))?_0x35d001(0x171):'buy',_0x51c92c=/#([0-9]|\.)+\s/i,_0x19b8ee=Number(_0x51c92c[_0x35d001(0x163)](_0x42c21d[_0x35d001(0x17a)])[0x0][_0x35d001(0x15d)](0x1)),_0x14de5b=/@([0-9]|\.)+$/i,_0x29f94c=Number(_0x14de5b['exec'](_0x42c21d[_0x35d001(0x17a)])[0x0][_0x35d001(0x15d)](0x1));_0x3a6cc2[_0x35d001(0x10e)]({'datetime':_0x42c21d[_0x35d001(0xee)],'coin':symbolToCoin(_0x1e2b28),'symbol':_0x1e2b28,'side':_0x5efba0,'amount':_0x19b8ee,'filled':_0x19b8ee,'price':_0x29f94c});}),_0x3a6cc2;}async function getAllOrders(_0x2ccfc4,_0x383ac9){const _0x3d7adc=_0xd0c847;let _0x507f44=[];while(_0x383ac9<exchange[_0x3d7adc(0x16a)]()){const _0x212e65=0x1f4,_0x1ef9f7=await exchange[_0x3d7adc(0x11c)](_0x2ccfc4,_0x383ac9,_0x212e65);if(_0x1ef9f7[_0x3d7adc(0x157)])_0x383ac9=_0x1ef9f7[_0x1ef9f7[_0x3d7adc(0x157)]-0x1][_0x3d7adc(0x1bd)]+0x1,_0x507f44=_0x507f44['concat'](_0x1ef9f7);else break;}return _0x507f44;}async function validate24hChanges(){const _0xd86ad=_0xd0c847;for(const _0x386c73 of currentCoins){if(_0x386c73[_0xd86ad(0x142)]!=config[_0xd86ad(0x14a)]){let _0x1ea2cb;_0x386c73[_0xd86ad(0xe9)]?_0x1ea2cb=formatResult((0x1/(global[_0xd86ad(0x1cd)][noslash(_0x386c73[_0xd86ad(0x14f)])]/0x64+0x1)-0x1)*0x64,0x3):_0x1ea2cb=global[_0xd86ad(0x1cd)][noslash(_0x386c73[_0xd86ad(0x14f)])],_0x1ea2cb<config[_0xd86ad(0x188)]&&(logHistory(_0xd86ad(0xdb),_0x386c73['coin']+_0xd86ad(0xef)+_0x1ea2cb+'%'),logHistory(_0xd86ad(0xdb),_0xd86ad(0x21e)),logHistory(_0xd86ad(0xdb),_0xd86ad(0x1fc)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0xd72eb1,_0x477d25){const _0x389506=_0xd0c847;if(!_0xd72eb1)return!![];const _0x25b50b=_0x477d25[_0x389506(0xca)]('.'),_0x2fd434=_0xd72eb1[_0x389506(0xca)]('.');for(var _0x1112a3=0x0;_0x1112a3<_0x2fd434[_0x389506(0x157)];_0x1112a3++){const _0x4db197=~~_0x2fd434[_0x1112a3],_0x457d7a=~~_0x25b50b[_0x1112a3];if(_0x4db197<_0x457d7a)return!![];if(_0x4db197>_0x457d7a)return![];}return![];}async function oneTimeMigration(){const _0x145911=_0xd0c847;let _0x2b7160=dbLogs[_0x145911(0x1e8)]('version')['value']();if(isOlderVersion(_0x2b7160,_0x145911(0x174))){let _0xf4e1a9=[];const _0xa58e1=dbLogs[_0x145911(0x1e8)](_0x145911(0x165))[_0x145911(0x205)]();_0xa58e1['forEach'](_0x56bd65=>{const _0x291e8d=_0x145911;_0xf4e1a9[_0x291e8d(0x10e)]({'time':_0x56bd65[_0x291e8d(0xee)],'type':_0x56bd65[_0x291e8d(0x213)],'event':_0x56bd65[_0x291e8d(0x17a)]});}),dbLogs[_0x145911(0x1e8)](_0x145911(0x165))[_0x145911(0x1d2)](_0xf4e1a9)[_0x145911(0xc5)]();}let _0xa14eb4=dbConfig['get'](_0x145911(0xdc))[_0x145911(0x205)]();if(isOlderVersion(_0xa14eb4,_0x145911(0x174))){let _0x1e630a=dbConfig[_0x145911(0x1e8)]('bot')[_0x145911(0x1bb)]({'botID':botID})[_0x145911(0x205)]();if(_0x1e630a){let _0x300ae9=[];_0x1e630a[_0x145911(0x15a)][_0x145911(0x1e2)](_0x29953e=>{const _0x1d503f=_0x145911;_0x300ae9[_0x1d503f(0x10e)]({'coin':_0x29953e['coin'],'number':_0x29953e[_0x1d503f(0x193)],'price':_0x29953e['startprice']}),delete _0x29953e[_0x1d503f(0x193)],delete _0x29953e[_0x1d503f(0xec)];});if(_0x300ae9[_0x145911(0x157)]!==0x0)fs[_0x145911(0x112)](configbackuppath+('starting-balance-'+botID+_0x145911(0x124)),JSON[_0x145911(0x1a7)](_0x300ae9,null,0x4),function(_0x2ec751){if(_0x2ec751){}});const _0x1969c8=(_0xf7af17,_0x30a88a)=>{const _0x5afa21=_0x145911;let _0x8268c7=[];_0x30a88a[_0x5afa21(0x1e2)](_0x361e3a=>{const _0x2581bb=_0x5afa21,_0x33d9e7=_0xf7af17[_0x2581bb(0x1bb)](_0x3cb1ed=>_0x3cb1ed[_0x2581bb(0x142)]==_0x361e3a[_0x2581bb(0x142)]);if(!_0x33d9e7)_0x8268c7['push'](_0x361e3a);});let _0x148648=[];return _0xf7af17[_0x5afa21(0x1e2)](_0x5d4bf4=>{const _0x2b337a=_0x5afa21,_0x3e8b4d=_0x30a88a['find'](_0x26e042=>_0x26e042['coin']==_0x5d4bf4[_0x2b337a(0x142)]);if(!_0x3e8b4d||_0x3e8b4d[_0x2b337a(0x1ff)]==0x0&&_0x5d4bf4[_0x2b337a(0x1ff)]!=0x0)_0x148648[_0x2b337a(0x10e)](_0x5d4bf4);}),{'missingDay1':_0x8268c7,'notInDay2':_0x148648};},_0x1631e2=dbPerformance[_0x145911(0x1e8)](_0x145911(0xe4))[_0x145911(0x180)]()[_0x145911(0x205)]();if(_0x1631e2[_0x145911(0x157)]>0x1){const {missingDay1:_0x1ff388,notInDay2:_0x3f28a1}=_0x1969c8(_0x300ae9,_0x1631e2[0x1][_0x145911(0xf6)]);_0x300ae9=[..._0x300ae9,..._0x1ff388],_0x3f28a1[_0x145911(0x1e2)](_0x4c74c7=>{const _0x2213ea=_0x145911;let _0xd2c3f8=_0x300ae9[_0x2213ea(0x125)](_0x42e4e1=>_0x42e4e1[_0x2213ea(0x142)]==_0x4c74c7[_0x2213ea(0x142)]);_0xd2c3f8!=-0x1&&_0x300ae9[_0x2213ea(0x1d4)](_0xd2c3f8,0x1);});}_0x300ae9['sort']((_0xff874e,_0x3614c1)=>_0xff874e[_0x145911(0x142)]>_0x3614c1[_0x145911(0x142)]?0x1:_0x3614c1[_0x145911(0x142)]>_0xff874e[_0x145911(0x142)]?-0x1:0x0);let _0x3f2f40=[{'date':_0x1e630a[_0x145911(0x1f5)],'changes':_0x300ae9}];_0x1631e2[_0x145911(0x157)]>0x2&&_0x1631e2[_0x145911(0x1e2)]((_0x396a37,_0x1dfcb6)=>{const _0x3b285d=_0x145911;if(_0x1dfcb6>0x0&&_0x1dfcb6<_0x1631e2[_0x3b285d(0x157)]-0x1){const {missingDay1:_0x1edb13,notInDay2:_0x411ca0}=_0x1969c8(_0x1631e2[_0x1dfcb6][_0x3b285d(0xf6)],_0x1631e2[_0x1dfcb6+0x1][_0x3b285d(0xf6)]);_0x300ae9=[],(_0x1edb13[_0x3b285d(0x157)]!=0x0||_0x411ca0[_0x3b285d(0x157)]!=0x0)&&(_0x1edb13[_0x3b285d(0x157)]!=0x0&&_0x300ae9[_0x3b285d(0x10e)](..._0x1edb13),_0x411ca0[_0x3b285d(0x157)]!=0x0&&(_0x411ca0[_0x3b285d(0x1e2)](_0x281d49=>{const _0x574790=_0x3b285d;_0x281d49[_0x574790(0x1ff)]=-_0x281d49[_0x574790(0x1ff)];}),_0x300ae9[_0x3b285d(0x10e)](..._0x411ca0)),_0x300ae9[_0x3b285d(0x220)]((_0x1dc494,_0x1ec40c)=>_0x1dc494[_0x3b285d(0x142)]>_0x1ec40c[_0x3b285d(0x142)]?0x1:_0x1ec40c[_0x3b285d(0x142)]>_0x1dc494[_0x3b285d(0x142)]?-0x1:0x0),_0x3f2f40[_0x3b285d(0x10e)]({'date':_0x1631e2[_0x1dfcb6+0x1][_0x3b285d(0x1e1)],'changes':_0x300ae9}));}}),dbConfig[_0x145911(0x1e8)](_0x145911(0x1d8))['find']({'botID':botID})[_0x145911(0x1d2)]({..._0x1e630a,'liquidity':_0x3f2f40})[_0x145911(0xc5)]();}}if(isOlderVersion(_0xa14eb4,_0x145911(0x1b6))){let _0x59d706=dbConfig['get'](_0x145911(0x1d8))[_0x145911(0x1bb)]({'botID':botID})[_0x145911(0x205)]();if(_0x59d706){const _0x31bf86=_0x59d706[_0x145911(0xe0)],_0xfb0bcd=_0x31bf86?capitalize(_0x31bf86):'Binance';dbConfig[_0x145911(0x1e8)](_0x145911(0x1d8))[_0x145911(0x1bb)]({'botID':botID})[_0x145911(0x1d2)]({'exchange':_0xfb0bcd})['write']();}}let _0x19a99f=dbPerformance[_0x145911(0x1e8)](_0x145911(0xdc))['value']();isOlderVersion(_0x19a99f,_0x145911(0x174))&&setStartDatePerformance();let _0x5eadad=dbCoinResults[_0x145911(0x1e8)](_0x145911(0xdc))[_0x145911(0x205)]();if(isOlderVersion(_0x5eadad,_0x145911(0x223))){let _0xd7ac1f=dbCoinResults[_0x145911(0x1e8)]('coins')['value']();if(_0xd7ac1f[_0x145911(0x157)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0xb20eb3=_0xd0c847;dbConfig[_0xb20eb3(0x215)](_0xb20eb3(0xdc),serverversion)[_0xb20eb3(0xc5)](),dbPerformance[_0xb20eb3(0x215)](_0xb20eb3(0xdc),serverversion)['write'](),dbLogs[_0xb20eb3(0x215)](_0xb20eb3(0xdc),serverversion)['write'](),dbCoinResults[_0xb20eb3(0x215)](_0xb20eb3(0xdc),serverversion)[_0xb20eb3(0xc5)]();}function _0x31f7(_0x1f6e06,_0x384c54){const _0x2cac6e=_0x715c();return _0x31f7=function(_0x2eb52d,_0x4afa10){_0x2eb52d=_0x2eb52d-0xbc;let _0x715c0e=_0x2cac6e[_0x2eb52d];return _0x715c0e;},_0x31f7(_0x1f6e06,_0x384c54);}function getConfiguration(_0x1e7c40){const _0x261c60=_0xd0c847;let _0x2dd9c7=dbConfig[_0x261c60(0x1e8)]('bot')['find']({'botID':_0x1e7c40})[_0x261c60(0x205)]();if(_0x2dd9c7){let _0x11a129=![];typeof _0x2dd9c7[_0x261c60(0x1f4)]=='string'&&(_0x2dd9c7={..._0x2dd9c7,'threshold':Number(_0x2dd9c7[_0x261c60(0x1f4)])},_0x11a129=!![]),_0x2dd9c7[_0x261c60(0x188)]==null&&(_0x2dd9c7={..._0x2dd9c7,'change24h':-0x14},_0x11a129=!![]),!_0x2dd9c7[_0x261c60(0x1da)]&&(_0x2dd9c7={..._0x2dd9c7,'fiat':_0x261c60(0x1e9)},_0x11a129=!![]),!_0x2dd9c7[_0x261c60(0x1c6)]&&(_0x2dd9c7={..._0x2dd9c7,'onepagemode':settings[_0x261c60(0x1c6)]},_0x11a129=!![]),_0x11a129&&(_0x2dd9c7={'botID':_0x2dd9c7[_0x261c60(0x218)],'exchange':_0x2dd9c7['exchange'],'apiKey':_0x2dd9c7[_0x261c60(0x22c)],'apiSecret':_0x2dd9c7[_0x261c60(0x1d3)],'apiPassword':_0x2dd9c7[_0x261c60(0x1b8)],'basecoin':_0x2dd9c7[_0x261c60(0x14a)],'botname':_0x2dd9c7[_0x261c60(0x12b)],'showname':_0x2dd9c7['showname'],'threshold':_0x2dd9c7[_0x261c60(0x1f4)],'ordertype':_0x2dd9c7[_0x261c60(0x14b)],'timeout':_0x2dd9c7[_0x261c60(0xed)],'fiat':_0x2dd9c7['fiat'],'startdate':_0x2dd9c7[_0x261c60(0x1f5)],'recreate':_0x2dd9c7['recreate'],'timeshift':_0x2dd9c7[_0x261c60(0x185)],'onepagemode':_0x2dd9c7['onepagemode'],'headless':_0x2dd9c7[_0x261c60(0x1bc)],'cooldown':_0x2dd9c7[_0x261c60(0x169)],'change24h':_0x2dd9c7[_0x261c60(0x188)],'emojibuy':_0x2dd9c7[_0x261c60(0x146)],'emojisell':_0x2dd9c7[_0x261c60(0x151)],'portfolio':_0x2dd9c7['portfolio'],'liquidity':_0x2dd9c7[_0x261c60(0x186)],'openOrders':_0x2dd9c7[_0x261c60(0x1db)]},dbConfig[_0x261c60(0x1e8)](_0x261c60(0x1d8))['remove']()[_0x261c60(0xc5)](),dbConfig[_0x261c60(0x1e8)](_0x261c60(0x1d8))[_0x261c60(0x10e)](_0x2dd9c7)[_0x261c60(0xc5)]());}else _0x2dd9c7={'botID':_0x1e7c40,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x261c60(0x100)+_0x1e7c40,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x261c60(0x185)],'onepagemode':settings[_0x261c60(0x1c6)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2dd9c7;}function emittedConfiguration(){const _0x26d36b=_0xd0c847;let _0x4edf77;if(config[_0x26d36b(0x22c)]=='')_0x4edf77={...config,'configstate':_0x26d36b(0xf1)};else config[_0x26d36b(0x22c)]==_0x26d36b(0xdd)?_0x4edf77={...config,'configstate':'recovery'}:(_0x4edf77={...config,'apiKey':_0x26d36b(0x233),'apiSecret':_0x26d36b(0x233)},config[_0x26d36b(0x1b8)]&&(_0x4edf77[_0x26d36b(0x1b8)]=_0x26d36b(0x233)));return _0x4edf77;}function getSettings(){const _0x3f415e=_0xd0c847;return dbSettings['get']('settings')[_0x3f415e(0x205)]();}function getSecure(){const _0x50c4bb=_0xd0c847;return dbSecure['get'](_0x50c4bb(0x232))['value']()||{};}function updateTimeshift(_0x5565e0){const _0x25eaed=_0xd0c847;let _0x14f4a2=dbConfig[_0x25eaed(0x1e8)](_0x25eaed(0x1d8))[_0x25eaed(0x1bb)]({'botID':botID})['value']();_0x14f4a2&&dbConfig[_0x25eaed(0x1e8)](_0x25eaed(0x1d8))[_0x25eaed(0x1bb)]({'botID':botID})[_0x25eaed(0x1d2)]({'timeshift':_0x5565e0})['write'](),config['timeshift']=_0x5565e0,proxyEmit(_0x25eaed(0x198),emittedConfiguration());}function updateOnepagemode(_0x2e8e03){const _0x502fa0=_0xd0c847;let _0x1d1f52=dbConfig['get'](_0x502fa0(0x1d8))[_0x502fa0(0x1bb)]({'botID':botID})[_0x502fa0(0x205)]();_0x1d1f52&&dbConfig[_0x502fa0(0x1e8)]('bot')[_0x502fa0(0x1bb)]({'botID':botID})[_0x502fa0(0x1d2)]({'onepagemode':_0x2e8e03})['write'](),config[_0x502fa0(0x1c6)]=_0x2e8e03,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x52ef27){const _0x2cebbb=_0xd0c847;logger['debug'](_0x2cebbb(0x12e)),blockTransactionDetection=!![],logger[_0x2cebbb(0x235)]('Transaction\x20detection\x20blocked');let _0xbb4d0e=[],_0x3e81e7=![],_0x322cde=[];_0x52ef27[_0x2cebbb(0x15a)][_0x2cebbb(0x1e2)](_0x42559d=>{const _0x574d89=_0x2cebbb;if(!_0x42559d['excluded']&&_0x42559d[_0x574d89(0x142)]!=_0x52ef27[_0x574d89(0x14a)])_0x322cde['push'](_0x42559d['symbol']);}),_0x322cde[_0x2cebbb(0x1e2)](_0x15333a=>{const _0x1905e6=_0x2cebbb,_0xdebd9b=watchedSymbols[_0x1905e6(0x10a)](_0x15333a);!_0xdebd9b&&_0xbb4d0e[_0x1905e6(0x10e)](_0x15333a);});_0xbb4d0e[_0x2cebbb(0x157)]>0x0?_0x3e81e7=!![]:currentCoins['forEach'](_0x2aaf0b=>{const _0x33856e=_0x2cebbb;if(_0x2aaf0b[_0x33856e(0x142)]!=config[_0x33856e(0x14a)]){const _0x1f42d6=_0x322cde[_0x33856e(0x1bb)](_0x36331b=>_0x36331b==_0x2aaf0b[_0x33856e(0x14f)]);!_0x1f42d6&&(_0x3e81e7=!![]);}});let _0x4319d8=dbConfig[_0x2cebbb(0x1e8)]('bot')['find']({'botID':botID})['value']();_0x52ef27={..._0x52ef27,'apiKey':crypt[_0x2cebbb(0xc7)](secure[_0x2cebbb(0x1a9)],_0x52ef27['apiKey'])['message'],'apiSecret':crypt[_0x2cebbb(0xc7)](secure[_0x2cebbb(0x1a9)],_0x52ef27['apiSecret'])[_0x2cebbb(0x178)]};_0x52ef27[_0x2cebbb(0x1b8)]&&(_0x52ef27[_0x2cebbb(0x1b8)]=crypt[_0x2cebbb(0xc7)](secure[_0x2cebbb(0x1a9)],_0x52ef27[_0x2cebbb(0x1b8)])['message']);let _0x51e6cc=![];_0x4319d8?(_0x52ef27[_0x2cebbb(0x22c)]==_0x2cebbb(0x233)?_0x52ef27[_0x2cebbb(0x22c)]=config[_0x2cebbb(0x22c)]:_0x51e6cc=!![],_0x52ef27[_0x2cebbb(0x1d3)]==_0x2cebbb(0x233)?_0x52ef27[_0x2cebbb(0x1d3)]=config['apiSecret']:_0x51e6cc=!![],_0x52ef27[_0x2cebbb(0x1b8)]==_0x2cebbb(0x233)?_0x52ef27[_0x2cebbb(0x1b8)]=config[_0x2cebbb(0x1b8)]:_0x51e6cc=!![],dbConfig[_0x2cebbb(0x1e8)](_0x2cebbb(0x1d8))[_0x2cebbb(0x1bb)]({'botID':botID})[_0x2cebbb(0x1d2)](_0x52ef27)[_0x2cebbb(0xc5)]()):(dbConfig[_0x2cebbb(0x1e8)](_0x2cebbb(0x1d8))[_0x2cebbb(0x10e)](_0x52ef27)[_0x2cebbb(0xc5)](),_0x51e6cc=!![],process['send']({'status':_0x2cebbb(0xe1),'live':_0x2cebbb(0x141)},_0x184db4=>{}));config={..._0x52ef27},setStartDatePerformance(),process[_0x2cebbb(0x13f)]({'botname':_0x52ef27[_0x2cebbb(0x12b)]},_0x59edc5=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x2cebbb(0xce)),await initCoinResults();if(_0x51e6cc)await reset(_0xbb4d0e,!![]);else{if(_0x3e81e7)await reset(_0xbb4d0e,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger['debug'](_0x2cebbb(0x150));}async function storeHeadless(_0x51083f){const _0x152367=_0xd0c847,_0x39a507={...config,'headless':_0x51083f[_0x152367(0x1bc)]};let _0x18154d=dbConfig[_0x152367(0x1e8)](_0x152367(0x1d8))[_0x152367(0x1bb)]({'botID':botID})[_0x152367(0x205)]();_0x18154d&&dbConfig[_0x152367(0x1e8)](_0x152367(0x1d8))[_0x152367(0x1bb)]({'botID':botID})[_0x152367(0x1d2)](_0x39a507)[_0x152367(0xc5)](),config={..._0x39a507},updateBotManager(),proxyEmit(_0x152367(0x198),emittedConfiguration());}async function storeFiat(_0x112cd5){const _0x2b9cab=_0xd0c847,_0x299233={...config,'fiat':_0x112cd5};let _0x36c9cc=dbConfig['get'](_0x2b9cab(0x1d8))[_0x2b9cab(0x1bb)]({'botID':botID})['value']();_0x36c9cc&&dbConfig[_0x2b9cab(0x1e8)](_0x2b9cab(0x1d8))[_0x2b9cab(0x1bb)]({'botID':botID})[_0x2b9cab(0x1d2)](_0x299233)[_0x2b9cab(0xc5)](),config={..._0x299233},proxyEmit(_0x2b9cab(0x198),emittedConfiguration());}function resetHistory(){const _0x5c0155=_0xd0c847;logger[_0x5c0155(0x196)](_0x5c0155(0x204));try{if(fs[_0x5c0155(0x15b)](path['join'](configpath,_0x5c0155(0xfb)+botID+_0x5c0155(0x164))))fs[_0x5c0155(0x173)](path[_0x5c0155(0x177)](configpath,'bot-'+botID+_0x5c0155(0x164)));if(fs[_0x5c0155(0x15b)](path[_0x5c0155(0x177)](configpath,_0x5c0155(0xfb)+botID+_0x5c0155(0x182))))fs[_0x5c0155(0x173)](path['join'](configpath,_0x5c0155(0xfb)+botID+_0x5c0155(0x182)));if(fs['existsSync'](path[_0x5c0155(0x177)](configpath,'bot-'+botID+_0x5c0155(0x130))))fs[_0x5c0155(0x173)](path[_0x5c0155(0x177)](configpath,_0x5c0155(0xfb)+botID+'-results.json'));}catch(_0x3e86b3){if(_0x3e86b3)logger[_0x5c0155(0x196)](_0x5c0155(0x189),_0x3e86b3);}const _0x932046=getDate();let _0x18e6d2=[];currentCoins[_0x5c0155(0x1e2)](_0x110211=>{const _0xd58668=_0x5c0155;_0x18e6d2[_0xd58668(0x10e)]({'coin':_0x110211[_0xd58668(0x142)],'number':_0x110211[_0xd58668(0x1ff)],'price':_0x110211[_0xd58668(0x10d)]});});let _0xf1087=dbConfig['get'](_0x5c0155(0x1d8))[_0x5c0155(0x1bb)]({'botID':botID})[_0x5c0155(0x205)]();_0xf1087&&(dbConfig[_0x5c0155(0x1e8)](_0x5c0155(0x1d8))[_0x5c0155(0x1bb)]({'botID':botID})['assign']({'liquidity':[{'date':_0x932046,'changes':_0x18e6d2}]})[_0x5c0155(0xc5)](),config[_0x5c0155(0x186)]=[]),process[_0x5c0155(0x13f)]({'stop':_0x5c0155(0x183)},_0x424fda=>{});}function noslash(_0xf4b5e){const _0x181b8e=_0xd0c847;return _0xf4b5e[_0x181b8e(0x1f9)]('/','');}function updateHighestFee(_0x1052eb,_0x229e33){const _0xc6d7a=_0xd0c847;lastFees[_0xc6d7a(0x227)]=_0x1052eb,lastFees[_0xc6d7a(0x1a4)][_0xc6d7a(0x157)]===0x14&&lastFees[_0xc6d7a(0x1a4)][_0xc6d7a(0x134)](),lastFees['recent20'][_0xc6d7a(0x10e)](_0x229e33),lastFees[_0xc6d7a(0x114)]=Math['max'](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x3b6b08){const _0x267c5a=_0xd0c847;logger[_0x267c5a(0x235)](_0x267c5a(0x11e)+_0x3b6b08[_0x267c5a(0x14f)]+'\x20|\x20'+_0x3b6b08[_0x267c5a(0x10b)]+_0x267c5a(0xfa)+_0x3b6b08['id']+_0x267c5a(0xfa)+_0x3b6b08[_0x267c5a(0x1cb)]);let _0x597b01=_0x3b6b08[_0x267c5a(0x10b)],_0x3313be=![];currentCoins['forEach'](_0x519135=>{const _0x335aa8=_0x267c5a;_0x519135['symbol']==_0x3b6b08[_0x335aa8(0x14f)]&&(_0x3313be=!![]);});if(!_0x3313be)return;const _0x578070=currentCoins[_0x267c5a(0x1bb)](_0x174022=>_0x174022[_0x267c5a(0x14f)]==_0x3b6b08['symbol']),_0x10f322=_0x1f3d4c=>{const _0x43480e=_0x267c5a;if(_0x578070)_0x578070[_0x43480e(0x147)]=_0x1f3d4c;};if(_0x597b01==_0x267c5a(0xc6))_0x10f322(_0x267c5a(0xc6));else{if(_0x597b01==_0x267c5a(0x14c)){_0x10f322(_0x267c5a(0x14c));const _0x347da7=await getCoins();[currentCoins,currentCoinsAll]=_0x347da7,await getOpenOrders(),handleOpenOrders();}else{if(_0x597b01==_0x267c5a(0x187)){logger[_0x267c5a(0x235)](_0x267c5a(0x207)+_0x3b6b08[_0x267c5a(0x14f)]+_0x267c5a(0xfa)+_0x3b6b08[_0x267c5a(0x1cc)]+_0x267c5a(0xfa)+_0x3b6b08['id']+_0x267c5a(0xfa)+_0x3b6b08[_0x267c5a(0x1cb)]);let _0x2c1c05=![];if(lastOrders)lastOrders[_0x267c5a(0x1e2)](async _0x3a5ef7=>{const _0x1d38ac=_0x267c5a;if(_0x3a5ef7[_0x1d38ac(0x202)]==_0x3b6b08[_0x1d38ac(0x1cb)]){logger[_0x1d38ac(0x235)](_0x1d38ac(0x131)+_0x3b6b08[_0x1d38ac(0x1cb)]),_0x2c1c05=!![];if(_0x3a5ef7[_0x1d38ac(0x1cc)]==0x0){logger['debug'](_0x1d38ac(0x20b)+_0x3b6b08[_0x1d38ac(0x1cb)]);_0x3b6b08[_0x1d38ac(0xd3)]?_0x3a5ef7[_0x1d38ac(0x1a8)]=_0x3b6b08[_0x1d38ac(0xd3)]:_0x3a5ef7['price']=_0x3b6b08[_0x1d38ac(0x1a8)];_0x3a5ef7['filled']=_0x3b6b08[_0x1d38ac(0x1cc)],_0x3a5ef7['fee']={'currency':_0x3b6b08[_0x1d38ac(0x222)]?_0x3b6b08[_0x1d38ac(0x222)][_0x1d38ac(0x227)]:null,'cost':_0x3b6b08[_0x1d38ac(0x222)]?_0x3b6b08['fee'][_0x1d38ac(0x16f)]:0x0},updateHighestFee(_0x3a5ef7[_0x1d38ac(0x222)][_0x1d38ac(0x227)],_0x3a5ef7['fee'][_0x1d38ac(0x16f)]),_0x10f322(_0x1d38ac(0x1cc)),await validateOrders();if(lockOrders==ORDERS[_0x1d38ac(0x1eb)]){const _0x42af96=await getCoins();[currentCoins,currentCoinsAll]=_0x42af96;}await updateCoinResults(_0x3a5ef7);}}});if(!_0x2c1c05){logger['debug'](_0x267c5a(0x1a6)+_0x3b6b08['id']),_0x10f322(_0x267c5a(0x1cc));const _0x5069e7=await getCoins();[currentCoins,currentCoinsAll]=_0x5069e7,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0xd24f4a=JSON[_0x267c5a(0x1c9)](lastBalances[_0x267c5a(0x15a)]);const _0x51143d=_0xd24f4a[_0x267c5a(0x1bb)](_0x260b04=>_0x260b04[_0x267c5a(0x14f)]==_0x3b6b08[_0x267c5a(0x14f)]);if(_0x51143d){if(_0x597b01==_0x267c5a(0xc6))_0x51143d[_0x267c5a(0x147)]=_0x51143d['orderstatus']==_0x267c5a(0x1cc)?_0x267c5a(0x1cc):_0x267c5a(0xc6);else{if(_0x597b01==_0x267c5a(0x14c))_0x51143d['orderstatus']=_0x51143d['orderstatus']=='filled'?_0x267c5a(0x1cc):'canceled';else _0x597b01==_0x267c5a(0x187)&&(_0x51143d[_0x267c5a(0x147)]=_0x267c5a(0x1cc));}}lastBalances={...lastBalances,'portfolio':JSON[_0x267c5a(0x1a7)](_0xd24f4a)},proxyEmit(_0x267c5a(0x21f),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x556460=_0xd0c847;await getOpenOrders();let _0x493f6d=![];currentCoins[_0x556460(0x1e2)](_0x5df916=>{const _0x14acaf=_0x556460;_0x493f6d=allOpenOrders[_0x14acaf(0x1bb)](_0x558f99=>_0x558f99[_0x14acaf(0x14f)]==_0x5df916[_0x14acaf(0x14f)]),_0x5df916[_0x14acaf(0x147)]=_0x493f6d?_0x14acaf(0xc6):_0x14acaf(0x237);});}async function getCoins(_0x6fd8eb=!![],_0x4632a=config['basecoin']){const _0x2fea5f=_0xd0c847;let _0x44faa3,_0x44a86b=[],_0x431517=[],_0xc1e028=[],_0x12387b=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x44faa3=await exchange['fetchBalance'](),mybalances=_0x44faa3[_0x2fea5f(0x197)];for(const [_0x215b6a,_0x48b6d4]of Object[_0x2fea5f(0x1c7)](mybalances)){_0x12387b[_0x2fea5f(0x10e)](_0x215b6a);}if(_0x4632a=='')for(const [_0x59b60a,_0x5a728d]of Object[_0x2fea5f(0x1c7)](mybalances)){_0x5a728d['toString']()!=0x0&&_0x431517['push']({'coin':_0x59b60a});}else{let _0x547885=![];for(const [_0x41df0e,_0x5c3e2c]of Object[_0x2fea5f(0x1c7)](mybalances)){if(_0x12387b[_0x2fea5f(0x10a)](_0x41df0e)){const _0x5265f1=config[_0x2fea5f(0x15a)]['find'](_0x5f093b=>_0x5f093b['coin']==_0x41df0e),_0x402e3f=_0x41df0e+'/'+_0x4632a,_0x4f3e29=_0x4632a+'/'+_0x41df0e,_0x1b5d20=currentCoins[_0x2fea5f(0x1bb)](_0x2b399=>_0x2b399[_0x2fea5f(0x142)]==_0x41df0e);_0x547885=![];if((_0x5c3e2c[_0x2fea5f(0x1ea)]()!=0x0||_0x5265f1)&&(allSymbols[_0x2fea5f(0x10a)](_0x402e3f)||_0x41df0e==_0x4632a))_0x41df0e!=_0x4632a&&_0x44a86b[_0x2fea5f(0x10e)](_0x402e3f),_0x431517['push']({'coin':_0x41df0e,'symbol':_0x402e3f,'reverse':![],'number':Math['max'](_0x5c3e2c+(_0x5265f1&&_0x5265f1[_0x2fea5f(0x166)]||0x0),0x0),'orderstatus':_0x1b5d20?_0x1b5d20[_0x2fea5f(0x147)]:_0x2fea5f(0x237)});else(_0x5c3e2c[_0x2fea5f(0x1ea)]()!=0x0||_0x5265f1)&&allSymbols[_0x2fea5f(0x10a)](_0x4f3e29)&&(_0x41df0e!=_0x4632a&&_0x44a86b[_0x2fea5f(0x10e)](_0x4f3e29),_0x431517[_0x2fea5f(0x10e)]({'coin':_0x41df0e,'symbol':_0x4f3e29,'reverse':!![],'number':Math[_0x2fea5f(0x159)](_0x5c3e2c+(_0x5265f1&&_0x5265f1[_0x2fea5f(0x166)]||0x0),0x0),'orderstatus':_0x1b5d20?_0x1b5d20[_0x2fea5f(0x147)]:'none'}));}}}}catch(_0x155813){if(!_0x6fd8eb)handleErrorNoStop(_0x155813,_0x2fea5f(0x1a0));else await handleError(_0x155813,_0x2fea5f(0x1a0));}return _0xc1e028=cloneDeep(_0x431517),_0x431517=_0x431517[_0x2fea5f(0x17f)](_0x186b5c=>{const _0x134f2f=_0x2fea5f,_0x22883f=config['portfolio'][_0x134f2f(0x1bb)](_0x5aefd9=>_0x5aefd9[_0x134f2f(0x142)]==_0x186b5c[_0x134f2f(0x142)]);return _0x22883f&&!_0x22883f[_0x134f2f(0x158)];}),[_0x431517,_0xc1e028];}async function getCoinNumber(_0x238ddc){const _0x3b523d=_0xd0c847;let _0x347d1d;try{const _0x298ec5=await exchange[_0x3b523d(0x108)]();_0x347d1d=_0x298ec5[_0x3b523d(0x197)][_0x238ddc];}catch(_0x314d07){await handleError(_0x314d07,_0x3b523d(0x14d));}return _0x347d1d;}async function getOpenOrders(){const _0x4c0162=_0xd0c847;let _0x155962;allOpenOrders=[];try{for(const _0x4ffc4e of config[_0x4c0162(0x15a)]){!_0x4ffc4e[_0x4c0162(0x158)]&&_0x4ffc4e[_0x4c0162(0x142)]!=config[_0x4c0162(0x14a)]&&(_0x155962=await exchange[_0x4c0162(0xf5)](_0x4ffc4e[_0x4c0162(0x14f)]),_0x155962[_0x4c0162(0x157)]>0x0&&allOpenOrders[_0x4c0162(0x10e)](_0x155962[0x0]));}}catch(_0xd0aeb9){await handleError(_0xd0aeb9,_0x4c0162(0xcf));}}async function handleOpenOrders(_0x463a60=0x0){const _0x165c7e=_0xd0c847;allOpenOrders[_0x165c7e(0x157)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x463a60==0x0?(logger[_0x165c7e(0x235)]('1\x20-\x20Handle\x20open\x20orders'),_0x463a60++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x165c7e(0x235)](_0x165c7e(0x17d)),validateOrders(_0x165c7e(0x13d))));}async function testAPI(_0x762475){const _0x3acd0c=_0xd0c847,_0xed884f=ccxt[_0x762475[_0x3acd0c(0xe0)][_0x3acd0c(0x132)]()],_0x2b1322=new _0xed884f({'apiKey':_0x762475[_0x3acd0c(0x22c)],'secret':_0x762475['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});if(_0x762475['apiPassword'])_0x2b1322[_0x3acd0c(0x1c5)]=_0x762475['apiPassword'];try{await _0x2b1322[_0x3acd0c(0x162)]();}catch(_0x4df539){throw _0x4df539;}}function cloneDeep(_0x20bf26){const _0x50b46e=_0xd0c847;return JSON[_0x50b46e(0x1c9)](JSON[_0x50b46e(0x1a7)](_0x20bf26));}async function getPortfolio(_0x10a47a){const _0x1c56fc=_0xd0c847;let _0x583375=[],_0x5b0461=[],_0x421373=[],_0x53a410;if(_0x10a47a[_0x1c56fc(0x22c)]!==_0x1c56fc(0x233)||_0x10a47a['apiSecret']!==_0x1c56fc(0x233)||_0x10a47a[_0x1c56fc(0x1b8)]&&_0x10a47a[_0x1c56fc(0x1b8)]!==_0x1c56fc(0x233)){if(config[_0x1c56fc(0xe0)]){if(_0x10a47a['apiKey']==_0x1c56fc(0x233))_0x10a47a[_0x1c56fc(0x22c)]=config[_0x1c56fc(0x22c)];if(_0x10a47a['apiSecret']==_0x1c56fc(0x233))_0x10a47a[_0x1c56fc(0x1d3)]=config[_0x1c56fc(0x1d3)];if(_0x10a47a[_0x1c56fc(0x1b8)]=='************')_0x10a47a[_0x1c56fc(0x1b8)]=config[_0x1c56fc(0x1b8)];try{await testAPI(_0x10a47a);}catch(_0x125589){if(_0x125589[_0x1c56fc(0x1ea)]()[_0x1c56fc(0x10a)](_0x1c56fc(0x1f3))){logger[_0x1c56fc(0x235)](_0x1c56fc(0x155)),proxyEmit('portfolio',![]);return;}else{handleError(_0x125589,'getPortfolio(0)');return;}}}await initExchange(_0x10a47a[_0x1c56fc(0xe0)],_0x10a47a[_0x1c56fc(0x22c)],_0x10a47a[_0x1c56fc(0x1d3)],_0x10a47a['apiPassword']);try{await loadSymbols(_0x10a47a[_0x1c56fc(0xe0)],!![]);}catch(_0xe7f723){if(_0xe7f723[_0x1c56fc(0x1ea)]()[_0x1c56fc(0x10a)](_0x1c56fc(0x1f3))){proxyEmit(_0x1c56fc(0x15a),![]);return;}else{handleError(_0xe7f723,_0x1c56fc(0x102));return;}}const _0x1fa59b=await getCoins(![],_0x10a47a[_0x1c56fc(0x14a)]);_0x421373=cloneDeep(_0x1fa59b[0x1]);}else _0x421373=cloneDeep(currentCoinsAll);if(_0x10a47a[_0x1c56fc(0x14a)]=='')proxyEmit(_0x1c56fc(0x15a),_0x421373);else{_0x421373[_0x1c56fc(0x1e2)](_0xd1e8f1=>{const _0x135da3=_0x1c56fc;if(_0xd1e8f1[_0x135da3(0x142)]!=_0x10a47a[_0x135da3(0x14a)])_0x583375[_0x135da3(0x10e)](_0xd1e8f1[_0x135da3(0x14f)]);});try{_0x5b0461=await exchange[_0x1c56fc(0x1b3)](_0x583375);}catch(_0x4c21ad){if(_0x4c21ad[_0x1c56fc(0x1ea)]()[_0x1c56fc(0x10a)]('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x4c21ad,_0x1c56fc(0x123));return;}}_0x421373[_0x1c56fc(0x1e2)](_0x4f8702=>{const _0x1373cf=_0x1c56fc;_0x4f8702['coin']!=_0x10a47a['basecoin']?_0x53a410=_0x4f8702['reverse']?0x1/_0x5b0461[_0x4f8702['symbol']][_0x1373cf(0x10d)]:_0x5b0461[_0x4f8702[_0x1373cf(0x14f)]][_0x1373cf(0x10d)]:_0x53a410=0x1,_0x4f8702[_0x1373cf(0x1a8)]=formatResult(_0x53a410,0x8);}),proxyEmit(_0x1c56fc(0x15a),_0x421373);}}function truncateTradeAmount(_0x1a7a95,_0x3427f8){let _0x2e386f=0x0;try{_0x2e386f=exchange['amountToPrecision'](_0x1a7a95,_0x3427f8);}catch(_0x43c0a4){}return _0x2e386f;}function checkMinimums(_0x20408b){const _0x52f1a3=_0xd0c847;let _0x26bb81=!![];const _0x20e3d4=!_0x20408b[_0x52f1a3(0xe9)]?markets[_0x20408b[_0x52f1a3(0x14f)]][_0x52f1a3(0x121)][_0x52f1a3(0x148)][_0x52f1a3(0x16d)]:markets[_0x20408b[_0x52f1a3(0x14f)]][_0x52f1a3(0x121)][_0x52f1a3(0x16f)][_0x52f1a3(0x16d)],_0x1dfa63=!_0x20408b[_0x52f1a3(0xe9)]?markets[_0x20408b['symbol']][_0x52f1a3(0x121)][_0x52f1a3(0x16f)][_0x52f1a3(0x16d)]:markets[_0x20408b[_0x52f1a3(0x14f)]]['limits'][_0x52f1a3(0x148)]['min'],_0xffed03=truncateTradeAmount(_0x20408b['symbol'],_0x20408b[_0x52f1a3(0x106)]);_0x20408b[_0x52f1a3(0x106)]=_0xffed03;if(Math['abs'](_0xffed03)<_0x20e3d4)_0x26bb81=![];if(Math['abs'](_0xffed03)*_0x20408b[_0x52f1a3(0x10d)]<_0x1dfa63)_0x26bb81=![];if(_0x20408b[_0x52f1a3(0xc9)]==_0x52f1a3(0x171)){let _0x43f32b=config[_0x52f1a3(0x15a)][_0x52f1a3(0x1bb)](_0x5cb605=>_0x5cb605[_0x52f1a3(0x142)]==_0x20408b[_0x52f1a3(0x142)]);if(_0x43f32b['offset']>0x0){if(Math['abs'](_0xffed03)>_0x20408b[_0x52f1a3(0x1ff)]-_0x43f32b[_0x52f1a3(0x166)])_0x26bb81=![];}else{if(Math[_0x52f1a3(0xfc)](_0xffed03)>_0x20408b[_0x52f1a3(0x1ff)])_0x26bb81=![];}}if(_0x20408b[_0x52f1a3(0xc9)]==_0x52f1a3(0xbd)){let _0x2d07ce=config[_0x52f1a3(0x15a)][_0x52f1a3(0x1bb)](_0x57f01f=>_0x57f01f[_0x52f1a3(0x142)]==config[_0x52f1a3(0x14a)]),_0x4f1ecd=currentCoins['find'](_0x38381b=>_0x38381b['coin']==config[_0x52f1a3(0x14a)]);if(_0x2d07ce['offset']>0x0){if(Math['abs'](_0xffed03)*_0x20408b[_0x52f1a3(0x10d)]>_0x4f1ecd[_0x52f1a3(0x1ff)]-_0x2d07ce[_0x52f1a3(0x166)])_0x26bb81=![];}else{if(Math[_0x52f1a3(0xfc)](_0xffed03)*_0x20408b[_0x52f1a3(0x10d)]>_0x4f1ecd[_0x52f1a3(0x1ff)])_0x26bb81=![];}}return _0x26bb81;}async function getBalances(){const _0x40a399=_0xd0c847;let _0x5b46c5=0x0,_0x128de0;const _0x223ce5=config[_0x40a399(0x1f4)];if(config[_0x40a399(0x1bc)]&&config[_0x40a399(0x188)]<0x0)await validate24hChanges();currentCoins[_0x40a399(0x1e2)](_0x21bacf=>{const _0x462ee9=_0x40a399;if(_0x21bacf[_0x462ee9(0x142)]!=config[_0x462ee9(0x14a)]){let _0x144fe0=global[_0x462ee9(0xea)][noslash(_0x21bacf['symbol'])];_0x128de0=_0x21bacf[_0x462ee9(0xe9)]?0x1/_0x144fe0:_0x144fe0;}else _0x128de0=0x1;let _0x596ed7=_0x21bacf[_0x462ee9(0x1ff)]*_0x128de0;_0x5b46c5+=_0x596ed7,_0x21bacf[_0x462ee9(0x10d)]=formatResult(Number(_0x128de0),0x8),_0x21bacf[_0x462ee9(0x205)]=_0x596ed7;}),currentCoins[_0x40a399(0x1e2)](_0x1b8468=>{const _0x27182e=_0x40a399;let _0x588fbb=config[_0x27182e(0x15a)]['find'](_0x199a38=>_0x199a38[_0x27182e(0x142)]==_0x1b8468[_0x27182e(0x142)]),_0x33ea35=Number(_0x588fbb['distribution']),_0x12308c=_0x1b8468[_0x27182e(0x205)]/_0x5b46c5*0x64,_0x56fc0b=_0x33ea35*_0x5b46c5/0x64/_0x1b8468['last']-_0x1b8468[_0x27182e(0x1ff)];_0x1b8468['distribution']=formatResult(_0x12308c,0x3),_0x1b8468[_0x27182e(0xf7)]=formatResult(_0x33ea35,0x3),_0x1b8468['trade']=formatResult(_0x56fc0b,0x8),_0x1b8468[_0x27182e(0xc9)]='',_0x1b8468[_0x27182e(0xe5)]=![];if(_0x1b8468[_0x27182e(0x142)]!=config['basecoin']){if(_0x1b8468[_0x27182e(0x11d)]>_0x33ea35)_0x1b8468[_0x27182e(0xc9)]=_0x27182e(0x171),_0x1b8468['valid']=checkMinimums(_0x1b8468);else _0x1b8468[_0x27182e(0x11d)]<_0x33ea35&&(_0x1b8468[_0x27182e(0xc9)]=_0x27182e(0xbd),_0x1b8468[_0x27182e(0xe5)]=checkMinimums(_0x1b8468));}_0x1b8468[_0x27182e(0x217)]=_0x1b8468[_0x27182e(0x11d)]/_0x1b8468[_0x27182e(0xf7)]-0x1;if(_0x1b8468[_0x27182e(0x147)]==_0x27182e(0x1cc)||_0x1b8468[_0x27182e(0x147)]=='canceled')_0x1b8468[_0x27182e(0x147)]=_0x27182e(0x237);}),currentCoins['sort']((_0x2c75fb,_0x48f1f1)=>_0x2c75fb[_0x40a399(0x217)]<_0x48f1f1[_0x40a399(0x217)]?0x1:_0x48f1f1['delta']<_0x2c75fb[_0x40a399(0x217)]?-0x1:0x0);const _0x53c392=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x53c392[_0x40a399(0xbe)],'usd':_0x53c392['usd'],'portfolio':JSON[_0x40a399(0x1a7)](currentCoins),'threshold':_0x223ce5},proxyEmit(_0x40a399(0x21f),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x40a399(0x1bc)])headlessMode({'portfolio':currentCoins,'threshold':_0x223ce5});else{if(lockOrders==ORDERS[_0x40a399(0x191)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x223ce5});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x4402dd=getNormalizedPerformance();getStartingBalances(_0x4402dd),emitPerformance(_0x4402dd);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x5c40b0=getNormalizedPerformance();emitPerformance(_0x5c40b0),getStartingBalances(_0x5c40b0),logger['debug'](_0x40a399(0x115));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1b2695=_0xd0c847;if(!lastBalances)return;let _0x2f0b7d=[],_0x4bff80,_0xf050f4=JSON['parse'](lastBalances[_0x1b2695(0x15a)]);_0xf050f4[_0x1b2695(0x220)]((_0xf06670,_0x2f2985)=>_0xf06670[_0x1b2695(0x142)]>_0x2f2985['coin']?0x1:_0x2f2985[_0x1b2695(0x142)]>_0xf06670[_0x1b2695(0x142)]?-0x1:0x0),_0xf050f4[_0x1b2695(0x1e2)](_0x129dce=>{const _0x524295=_0x1b2695;let _0x43a29f={'coin':_0x129dce[_0x524295(0x142)],'number':_0x129dce[_0x524295(0x1ff)],'price':_0x129dce[_0x524295(0x10d)]};_0x2f0b7d[_0x524295(0x10e)](_0x43a29f);});const _0x445cb2=await getFiat();_0x4bff80={'date':lastBalances[_0x1b2695(0xee)][_0x1b2695(0xca)]('\x20')[0x0],'eur':_0x445cb2['eur'],'usd':_0x445cb2[_0x1b2695(0xd0)],'coins':_0x2f0b7d};let _0xbb0ceb=dbPerformance[_0x1b2695(0x1e8)](_0x1b2695(0xe4))[_0x1b2695(0x1bb)]({'date':_0x4bff80['date']})[_0x1b2695(0x205)]();_0xbb0ceb?_0x4bff80[_0x1b2695(0x1e1)]!=config['startdate']&&dbPerformance['get'](_0x1b2695(0xe4))[_0x1b2695(0x1bb)]({'date':_0x4bff80[_0x1b2695(0x1e1)]})['assign'](_0x4bff80)['write']():dbPerformance[_0x1b2695(0x1e8)]('data')['push'](_0x4bff80)[_0x1b2695(0xc5)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x195cfa=_0xd0c847;let _0x4cfb07=[];if(dbPerformance[_0x195cfa(0x1d1)](_0x195cfa(0xe4))['value']()){let _0x539576=dbPerformance[_0x195cfa(0x1e8)]('data')[_0x195cfa(0x180)]()[_0x195cfa(0x1ab)]('date')[_0x195cfa(0x205)](),_0x579ab5=[...config[_0x195cfa(0x186)]];_0x579ab5['sort']((_0x3d6619,_0x583388)=>_0x3d6619[_0x195cfa(0x1e1)]>_0x583388['date']?-0x1:_0x583388[_0x195cfa(0x1e1)]>_0x3d6619[_0x195cfa(0x1e1)]?0x1:0x0);let _0x1841fa=0x1,_0xabffba=[],_0x3446fc=0x0;_0x539576[_0x195cfa(0x15d)]()['reverse']()[_0x195cfa(0x1e2)]((_0x5b44ad,_0x92c253)=>{const _0x145cd8=_0x195cfa;if(_0x579ab5[_0x3446fc]){if(_0x539576[_0x539576[_0x145cd8(0x157)]-_0x92c253]&&_0x579ab5[_0x3446fc][_0x145cd8(0x1e1)]==_0x539576[_0x539576['length']-_0x92c253][_0x145cd8(0x1e1)]){if(_0x92c253<_0x539576[_0x145cd8(0x157)]){let _0x544a01=0x0,_0x37d502=0x0;_0x539576[_0x539576[_0x145cd8(0x157)]-_0x92c253][_0x145cd8(0xf6)]['forEach'](_0x502577=>{const _0x249878=_0x145cd8;_0x37d502+=_0x502577[_0x249878(0x1ff)]*_0x502577[_0x249878(0x1a8)];}),_0x579ab5[_0x3446fc]['changes'][_0x145cd8(0x1e2)](_0x41bd73=>{const _0x419d26=_0x145cd8;_0x544a01+=_0x41bd73['number']*_0x41bd73[_0x419d26(0x1a8)];}),_0x1841fa*=_0x544a01/(_0x37d502-_0x544a01)+0x1;}_0x3446fc++;}}let _0x5e2da9=0x0;_0x5b44ad[_0x145cd8(0xf6)][_0x145cd8(0x1e2)](_0x38d7ad=>{const _0x498243=_0x145cd8;_0x5e2da9+=_0x38d7ad['number']*_0x38d7ad[_0x498243(0x1a8)];}),_0xabffba[_0x539576['length']-_0x92c253-0x1]=_0x5e2da9*(_0x1841fa-0x1);});let _0x1583d5=[];_0x579ab5=[...config[_0x195cfa(0x186)]]||[];let _0x31bd7f=0x0;_0x3446fc=0x0,_0x539576[_0x195cfa(0x1e2)]((_0x231d79,_0x150657)=>{const _0x61c71=_0x195cfa;if(_0x579ab5[_0x3446fc]){const _0x45b048=fns[_0x61c71(0x1c9)](_0x579ab5[_0x3446fc][_0x61c71(0x1e1)],_0x61c71(0x153),new Date()),_0x47eff4=fns['parse'](_0x231d79['date'],_0x61c71(0x153),new Date());if(fns[_0x61c71(0x190)](_0x45b048,_0x47eff4)){let _0x5a11f4=0x0;_0x579ab5[_0x3446fc][_0x61c71(0x1fe)][_0x61c71(0x1e2)](_0x54d84f=>{const _0x377d43=_0x61c71;!_0x1583d5[_0x54d84f[_0x377d43(0x142)]]?_0x1583d5[_0x54d84f[_0x377d43(0x142)]]=_0x54d84f['number']:(_0x5a11f4=_0x1583d5[_0x54d84f['coin']],_0x1583d5[_0x54d84f[_0x377d43(0x142)]]+=_0x54d84f[_0x377d43(0x1ff)]);const _0x3f70e8=_0x231d79[_0x377d43(0xf6)]['find'](_0x527387=>_0x527387[_0x377d43(0x142)]==_0x54d84f[_0x377d43(0x142)]);(!_0x3f70e8||_0x3f70e8[_0x377d43(0x1ff)]==0x0)&&(_0x31bd7f+=(-_0x54d84f[_0x377d43(0x1ff)]-_0x5a11f4)*_0x54d84f['price']);}),_0x3446fc++;}}_0x231d79['coins']['forEach']((_0x3b42fb,_0x40a3a0)=>{const _0x1e0029=_0x61c71;_0x1583d5[_0x3b42fb['coin']]&&(_0x3b42fb[_0x1e0029(0xf1)]=_0x1583d5[_0x3b42fb[_0x1e0029(0x142)]]);}),_0x4cfb07[_0x61c71(0x10e)]({'date':_0x231d79[_0x61c71(0x1e1)],'eur':_0x231d79['eur'],'usd':_0x231d79['usd'],'offset':_0xabffba[_0x150657],'netoffset':_0x31bd7f,'coins':_0x231d79['coins']});});}return _0x4cfb07;}function emitPerformance(_0x3c1e27){const _0x3189e3=_0xd0c847;_0x3c1e27[_0x3189e3(0x157)]!==0x0?(proxyEmit(_0x3189e3(0x1e3),_0x3c1e27),lastPerformanceEmitted=getDate()):proxyEmit(_0x3189e3(0x1e3),[]);}function getPerf(_0x1297b6,_0x4c2992){const _0x3e1ed6=_0xd0c847;let _0x3ffce6=0x0,_0x24fa45=0x0,_0x5977c8=0x0;_0x1297b6[_0x3e1ed6(0xf6)][_0x3e1ed6(0x1e2)](_0x5b213b=>{const _0x23fe6b=_0x3e1ed6;_0x3ffce6+=_0x5b213b[_0x23fe6b(0x1ff)]*_0x5b213b['price'];});_0x4c2992&&(_0x3ffce6+=_0x1297b6[_0x3e1ed6(0x166)]);if(config[_0x3e1ed6(0x14a)]===_0x3e1ed6(0xeb)||config[_0x3e1ed6(0x14a)]===_0x3e1ed6(0x149))_0x24fa45=_0x3ffce6*_0x1297b6['eur'],_0x5977c8=_0x3ffce6*_0x1297b6['usd'];else{if(config[_0x3e1ed6(0x14a)]===_0x3e1ed6(0xc3)||config['basecoin']==='USDT'||config[_0x3e1ed6(0x14a)]===_0x3e1ed6(0x1e9))_0x24fa45=_0x3ffce6*_0x1297b6[_0x3e1ed6(0xbe)]/_0x1297b6['usd'],_0x5977c8=_0x3ffce6;else config['basecoin']===_0x3e1ed6(0x179)&&(_0x24fa45=_0x3ffce6,_0x5977c8=_0x3ffce6*_0x1297b6[_0x3e1ed6(0xd0)]/_0x1297b6[_0x3e1ed6(0xbe)]);}return[_0x3ffce6,_0x24fa45,_0x5977c8];}function getKPIs(_0x94602b,_0x4e9f9d=_0xd0c847(0x179)){const _0x1d5e01=_0xd0c847,_0x4f6747=config[_0x1d5e01(0x14a)],_0x1acc37=lastBalances,_0x523a4a=currentCoins,_0x3479c4=getNormalizedPerformance(),_0x2775ff=_0x94602b===_0x1d5e01(0x14a)?_0x4f6747:_0x94602b===_0x1d5e01(0x1da)||_0x94602b===_0x1d5e01(0x160)?_0x4e9f9d:_0x1d5e01(0x117)+_0x4f6747,_0x1c66f2=_0x94602b===_0x1d5e01(0x167)?'Net\x20effect':_0x94602b===_0x1d5e01(0x160)?_0x1d5e01(0x1b1):_0x2775ff+'\x20value',_0x30e6e2=_0x94602b===_0x1d5e01(0x167)||_0x94602b==='net-fiat'?_0x1d5e01(0x1b1):_0x2775ff+_0x1d5e01(0xbf);let _0x5c2c61=0x0;_0x523a4a[_0x1d5e01(0x1e2)](_0x1e5c88=>{const _0x4d8a65=_0x1d5e01;_0x5c2c61+=_0x1e5c88[_0x4d8a65(0x1ff)]*_0x1e5c88['last'];});if(_0x94602b===_0x1d5e01(0x1da)||_0x94602b==='net-fiat'){if(_0x4f6747===_0x1d5e01(0xeb)||_0x4f6747===_0x1d5e01(0x149))_0x5c2c61=_0x5c2c61*(_0x4e9f9d===_0x1d5e01(0x179)?_0x1acc37[_0x1d5e01(0xbe)]:_0x1acc37[_0x1d5e01(0xd0)]);else{if(_0x4f6747===_0x1d5e01(0xc3)||_0x4f6747===_0x1d5e01(0x15c)||_0x4f6747===_0x1d5e01(0x1e9))_0x5c2c61=_0x5c2c61*(_0x4e9f9d===_0x1d5e01(0x179)?_0x1acc37[_0x1d5e01(0xbe)]/_0x1acc37[_0x1d5e01(0xd0)]:0x1);else _0x4f6747===_0x1d5e01(0x179)&&(_0x5c2c61=_0x5c2c61*(_0x4e9f9d===_0x1d5e01(0x179)?0x1:_0x1acc37[_0x1d5e01(0xd0)]/_0x1acc37[_0x1d5e01(0xbe)]));}}let _0x2ab237;if(_0x5c2c61!==0x0){if(_0x94602b===_0x1d5e01(0x14a))_0x2ab237=(_0x5c2c61/startingBalances[_0x1d5e01(0x14a)]-0x1)*0x64;else{if(_0x4e9f9d==='EUR')_0x2ab237=(_0x5c2c61/startingBalances[_0x1d5e01(0xbe)]-0x1)*0x64;else _0x2ab237=(_0x5c2c61/startingBalances['usd']-0x1)*0x64;}let _0x1e3145=0x0;if(startingBalances[_0x1d5e01(0xf6)])_0x523a4a[_0x1d5e01(0x1e2)](_0x5e400b=>{const _0x1ee9b2=_0x1d5e01;let _0x486a9f=startingBalances[_0x1ee9b2(0xf6)][_0x1ee9b2(0x1bb)](_0x414157=>_0x414157['coin']===_0x5e400b[_0x1ee9b2(0x142)]);if(_0x486a9f&&_0x486a9f[_0x1ee9b2(0x142)]&&_0x5e400b[_0x1ee9b2(0x1ff)]!==0x0)_0x1e3145+=_0x486a9f['number']*_0x5e400b[_0x1ee9b2(0x10d)];});let _0x4e404f=0x0;if(_0x3479c4[_0x1d5e01(0x157)]!==0x0){let _0x15ca28=_0x3479c4[_0x3479c4['length']-0x1];_0x4e404f=_0x15ca28[_0x1d5e01(0x216)];}_0x1e3145-=_0x4e404f;_0x94602b===_0x1d5e01(0x167)&&(_0x2ab237=(_0x5c2c61-_0x1e3145)/startingBalances['basecoin']*0x64,_0x5c2c61=_0x5c2c61-_0x1e3145);if(_0x94602b===_0x1d5e01(0x160)){let _0x2b0d18=_0x4e9f9d===_0x1d5e01(0x179)?startingBalances[_0x1d5e01(0xbe)]:startingBalances['usd'];if(_0x4f6747===_0x1d5e01(0xeb)||_0x4f6747===_0x1d5e01(0x149))_0x1e3145=_0x4e9f9d===_0x1d5e01(0x179)?_0x1e3145*_0x1acc37[_0x1d5e01(0xbe)]:_0x1e3145*_0x1acc37['usd'];else{if(_0x4f6747===_0x1d5e01(0xc3)||_0x4f6747===_0x1d5e01(0x15c)||_0x4f6747===_0x1d5e01(0x1e9))_0x1e3145=_0x4e9f9d===_0x1d5e01(0x179)?_0x1e3145*_0x1acc37[_0x1d5e01(0xbe)]/_0x1acc37['usd']:_0x1e3145;else _0x4f6747==='EUR'&&(_0x1e3145=_0x4e9f9d==='EUR'?_0x1e3145:_0x1e3145*_0x1acc37[_0x1d5e01(0xd0)]/_0x1acc37[_0x1d5e01(0xbe)]);}_0x2ab237=(_0x5c2c61-_0x1e3145)/_0x2b0d18*0x64,_0x5c2c61=_0x5c2c61-_0x1e3145;}if(_0x2ab237){if(_0x2ab237<0x64)_0x2ab237=_0x2ab237[_0x1d5e01(0xc0)](0x2);else{if(_0x2ab237<0x3e8)_0x2ab237=_0x2ab237['toFixed'](0x1);else _0x2ab237=_0x2ab237['toFixed'](0x0);}}else _0x2ab237=Number('0')[_0x1d5e01(0xc0)](0x2);if(_0x5c2c61){if(Math['abs'](_0x5c2c61)<0.000001)_0x5c2c61=_0x5c2c61[_0x1d5e01(0xc0)](0x2);else{if(Math['abs'](_0x5c2c61)<0.1)_0x5c2c61=_0x5c2c61[_0x1d5e01(0xc0)](0x6);else{if(Math[_0x1d5e01(0xfc)](_0x5c2c61)<0x1)_0x5c2c61=_0x5c2c61[_0x1d5e01(0xc0)](0x5);else{if(Math[_0x1d5e01(0xfc)](_0x5c2c61)<0xa)_0x5c2c61=_0x5c2c61['toFixed'](0x4);else{if(Math[_0x1d5e01(0xfc)](_0x5c2c61)<0x64)_0x5c2c61=_0x5c2c61[_0x1d5e01(0xc0)](0x3);else{if(Math[_0x1d5e01(0xfc)](_0x5c2c61)<0x3e8)_0x5c2c61=_0x5c2c61[_0x1d5e01(0xc0)](0x2);else _0x5c2c61=_0x5c2c61['toFixed'](0x2);}}}}}}else _0x5c2c61=Number('0')['toFixed'](0x2);}else _0x2ab237=Number('0')[_0x1d5e01(0xc0)](0x2);return{'value':_0x5c2c61,'change':_0x2ab237,'leftTxt':_0x1c66f2,'rightTxt':_0x30e6e2};}async function getStartingBalances(_0x786140,_0x1d3f6e=!![]){const _0x5d442d=_0xd0c847;if(_0x786140[_0x5d442d(0x157)]!==0x0){const [_0x151887,_0x3892ef,_0x32652d]=getPerf(_0x786140[0x0],!![]);let _0x2c30e8=[];config[_0x5d442d(0x15a)]['forEach'](_0x1c2519=>{const _0x57bf16=_0x5d442d;let _0xe701cb=0x0,_0x550991;config[_0x57bf16(0x186)]['forEach'](_0x20a402=>{const _0x11e39d=_0x57bf16;let _0xde8d03=_0x20a402[_0x11e39d(0x1fe)]['find'](_0x3c1f17=>_0x3c1f17[_0x11e39d(0x142)]==_0x1c2519['coin']);if(_0xde8d03){_0xe701cb+=_0xde8d03[_0x11e39d(0x1ff)];if(!_0x550991)_0x550991=_0xde8d03['price'];}}),_0x2c30e8[_0x57bf16(0x10e)]({'coin':_0x1c2519[_0x57bf16(0x142)],'number':_0xe701cb,'initialprice':_0x550991});});const _0x5a6ed1={'basecoin':_0x151887,'eur':_0x3892ef,'usd':_0x32652d,'coins':_0x2c30e8};if(_0x1d3f6e)proxyEmit(_0x5d442d(0x22f),_0x5a6ed1);startingBalances=_0x5a6ed1;}}function headlessMode(_0x42858f){const _0x48134b=_0xd0c847;let _0x3ebe4e=_0x42858f[_0x48134b(0x15a)],_0x1d10b1=_0x42858f[_0x48134b(0x1f4)],_0x4d70ef=[];for(let _0x3117b7 of _0x3ebe4e){if(_0x3117b7[_0x48134b(0x142)]!=config['basecoin']){if(_0x3117b7[_0x48134b(0x217)]>=_0x1d10b1/0x64){if(_0x3117b7[_0x48134b(0xe5)])_0x4d70ef[_0x48134b(0x10e)](_0x3117b7);}else{if(_0x3117b7[_0x48134b(0x217)]<=-_0x1d10b1/0x64){if(_0x3117b7[_0x48134b(0xe5)])_0x4d70ef[_0x48134b(0x10e)](_0x3117b7);}}}}_0x4d70ef['length']>0x0&&placeOrder(_0x4d70ef);}function notifyBalance(_0xf5a9de){const _0x33eb73=_0xd0c847;let _0x32597f=_0xf5a9de[_0x33eb73(0x15a)],_0x48040a=_0xf5a9de[_0x33eb73(0x1f4)],_0x54859e=[];for(let _0x5782a9 of _0x32597f){if(_0x5782a9[_0x33eb73(0x142)]!=config[_0x33eb73(0x14a)]){if(_0x5782a9[_0x33eb73(0x217)]>=_0x48040a/0x64){if(_0x5782a9['valid'])_0x54859e[_0x33eb73(0x10e)](_0x5782a9);}else{if(_0x5782a9[_0x33eb73(0x217)]<=-_0x48040a/0x64){if(_0x5782a9[_0x33eb73(0xe5)])_0x54859e[_0x33eb73(0x10e)](_0x5782a9);}}}}if(_0x54859e[_0x33eb73(0x157)]>0x0){let _0xc690cd=_0x54859e[_0x33eb73(0xd9)](_0x2a6bfb=>_0x2a6bfb[_0x33eb73(0x142)]);_0xc690cd['sort']();let _0x580d21=_0xc690cd['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x33eb73(0x1e6));lastCoinsToBalance=_0x580d21;}}function symbolToCoin(_0x1743ca){const _0x127bc4=_0xd0c847;let _0x529390;if(_0x1743ca['includes']('/'+config[_0x127bc4(0x14a)]))_0x529390=_0x1743ca[_0x127bc4(0x1f9)]('/'+config[_0x127bc4(0x14a)],'');if(_0x1743ca['includes'](config[_0x127bc4(0x14a)]+'/'))_0x529390=_0x1743ca['replace'](config[_0x127bc4(0x14a)]+'/','');return _0x529390;}async function unlockOrders(){const _0x38d043=_0xd0c847;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x113642=await getCoins();[currentCoins,currentCoinsAll]=_0x113642,validateOrdersState=_0x38d043(0xf1),persistOpenOrders([]),lockOrders=ORDERS[_0x38d043(0x191)],logger['debug'](_0x38d043(0x19e));}}async function validateOrders(_0x559046){const _0x49cdb5=_0xd0c847;if(_0x559046)validateOrdersState=_0x559046;logger[_0x49cdb5(0x235)](_0x49cdb5(0x17e)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x49cdb5(0x1e7):_0x49cdb5(0x210)));let _0x205035=[],_0x4601e3=config[_0x49cdb5(0x14b)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x49cdb5(0xed)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x49cdb5(0x1eb)])return;logger[_0x49cdb5(0x235)](_0x49cdb5(0x1ac)+validateOrdersState),lastOrders['forEach'](_0x3c2e96=>{const _0x320d7b=_0x49cdb5;let _0x2a49ba=![];_0x3c2e96[_0x320d7b(0x1cc)]>0x0&&(_0x2a49ba=!![]),_0x205035[_0x320d7b(0x10e)](_0x2a49ba),_0x2a49ba&&config['ordertype']!=_0x320d7b(0x113)&&logHistory(_0x320d7b(0x1dd),_0x320d7b(0x1b7)+_0x3c2e96[_0x320d7b(0x14f)]+'\x20'+_0x3c2e96[_0x320d7b(0xc9)]+'\x20#'+formatResult(_0x3c2e96[_0x320d7b(0x1cc)],0x8)+'\x20@'+formatResult(_0x3c2e96[_0x320d7b(0x1a8)],0x8));}),_0x205035[_0x49cdb5(0x1e2)]((_0x2f9b91,_0x1ec2b9)=>{if(_0x2f9b91)lastOrders['splice'](_0x1ec2b9,0x1);}),persistOpenOrders(lastOrders);const _0x181412=coolingDown?_0x49cdb5(0x209):_0x49cdb5(0x212);if(validateOrdersState==_0x49cdb5(0xf1)){validateOrdersState=_0x49cdb5(0x101);if(_0x205035[_0x49cdb5(0x10a)](![])){if(config[_0x49cdb5(0x14b)]==_0x49cdb5(0x113)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x49cdb5(0x101)){if(_0x205035['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x49cdb5(0x14b)]==_0x49cdb5(0x113)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x49cdb5(0xd5))_0x205035[_0x49cdb5(0x10a)](![])&&(config[_0x49cdb5(0x14b)]==_0x49cdb5(0x113)?logHistory(_0x49cdb5(0xfd),_0x49cdb5(0x137)+Math[_0x49cdb5(0x195)](_0x4601e3*validateOrderInterval/0xea60)+_0x49cdb5(0x16b)+_0x181412):(await cancelOrders(),logHistory(_0x49cdb5(0xfd),_0x49cdb5(0x19c)+Math[_0x49cdb5(0x195)](_0x4601e3*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x181412))),await unlockOrders();else{if(validateOrdersState==_0x49cdb5(0x13d)){if(config[_0x49cdb5(0x14b)]!='market')logHistory(_0x49cdb5(0xfd),_0x49cdb5(0x184)+_0x181412);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x31b2ec=>{const _0x2d8c8d=_0x31f7;try{const _0x178281=await exchange[_0x2d8c8d(0x175)](_0x31b2ec[_0x2d8c8d(0x22e)],_0x31b2ec['symbol']);}catch(_0x3941cd){if(_0x3941cd[_0x2d8c8d(0x1ea)]()[_0x2d8c8d(0x10a)](_0x2d8c8d(0x1f6))){}else await handleError(_0x3941cd,_0x2d8c8d(0x19a));}});}async function initCoinResults(){const _0x199c0c=_0xd0c847;let _0x3ee60b=[];config['portfolio'][_0x199c0c(0x1e2)](_0x26a248=>{const _0x258d5a=_0x199c0c;if(!_0x26a248['excluded']&&_0x26a248[_0x258d5a(0x142)]!=config[_0x258d5a(0x14a)]){let _0x8b6a68=dbCoinResults[_0x258d5a(0x1e8)](_0x258d5a(0xf6))[_0x258d5a(0x1bb)]({'coin':_0x26a248[_0x258d5a(0x142)]})['value']();if(!_0x8b6a68){const _0x30f7bd=currentCoins[_0x258d5a(0x1bb)](_0x2c4217=>_0x2c4217[_0x258d5a(0x142)]==_0x26a248[_0x258d5a(0x142)]),_0x4bf407=global['ticker'][noslash(_0x26a248[_0x258d5a(0x14f)])];let _0x2b9be9=_0x30f7bd?_0x30f7bd[_0x258d5a(0x1ff)]:null,_0x509666=_0x26a248[_0x258d5a(0xe9)]?0x1/_0x4bf407:_0x4bf407,_0x56d329;config['liquidity']['forEach'](_0x5b0ebd=>{const _0x1cec45=_0x258d5a;!_0x56d329&&(_0x56d329=_0x5b0ebd[_0x1cec45(0x1fe)]['find'](_0x4f2d27=>_0x4f2d27[_0x1cec45(0x142)]==_0x26a248[_0x1cec45(0x142)]),_0x56d329&&(_0x2b9be9=_0x56d329[_0x1cec45(0x1ff)],_0x509666=_0x56d329[_0x1cec45(0x1a8)]));}),_0x3ee60b[_0x258d5a(0x10e)]({'coin':_0x26a248['coin'],'number':_0x2b9be9,'price':_0x509666});}}}),_0x3ee60b[_0x199c0c(0x1e2)](_0x56efc9=>{const _0x1a3b80=_0x199c0c,_0x2bd829={'coin':_0x56efc9['coin'],'number':_0x56efc9[_0x1a3b80(0x1ff)],'breakeven':_0x56efc9[_0x1a3b80(0x1a8)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x1a3b80(0xf6))[_0x1a3b80(0x10e)](_0x2bd829)[_0x1a3b80(0xc5)]();});}async function updateCoinResults(_0x2b9fcd,_0x1ce6da=![]){const _0x2d793e=_0xd0c847;let _0x293a5d,_0x2f9381,_0x1c95aa,_0x12f621,_0x475057,_0xf42037,_0x9767fe=dbCoinResults[_0x2d793e(0x1e8)](_0x2d793e(0xf6))[_0x2d793e(0x1bb)]({'coin':_0x2b9fcd[_0x2d793e(0x142)]})[_0x2d793e(0x205)]();!_0x9767fe&&await initCoinResults();_0x2b9fcd[_0x2d793e(0xe9)]&&(_0xf42037={'filled':_0x2b9fcd['filled']*_0x2b9fcd[_0x2d793e(0x1a8)],'amount':_0x2b9fcd['filled']*_0x2b9fcd[_0x2d793e(0x1a8)],'side':_0x2b9fcd['side']==_0x2d793e(0x171)?_0x2d793e(0xbd):_0x2d793e(0x171),'price':0x1/_0x2b9fcd['price']},_0x2b9fcd={..._0x2b9fcd,..._0xf42037});_0x1ce6da?_0x2f9381=_0x2b9fcd[_0x2d793e(0xc9)]==_0x2d793e(0xbd)?_0x9767fe[_0x2d793e(0x1ff)]+_0x2b9fcd[_0x2d793e(0x1cc)]:_0x9767fe['number']-_0x2b9fcd[_0x2d793e(0x1cc)]:_0x2f9381=await getCoinNumber(_0x2b9fcd[_0x2d793e(0x142)]);if(_0x2b9fcd[_0x2d793e(0x222)]&&_0x2b9fcd['fee'][_0x2d793e(0x227)]==config[_0x2d793e(0x14a)])_0x293a5d=_0x2b9fcd[_0x2d793e(0x222)]['cost'];else{if(_0x2b9fcd['fee']&&_0x2b9fcd[_0x2d793e(0x222)][_0x2d793e(0x227)]==_0x2d793e(0x19d)&&!_0x1ce6da)_0x293a5d=_0x2b9fcd[_0x2d793e(0x222)][_0x2d793e(0x16f)]*global['ticker'][_0x2d793e(0x19d)+config[_0x2d793e(0x14a)]];else _0x293a5d=defaultFee*_0x2b9fcd[_0x2d793e(0x1cc)]*_0x2b9fcd[_0x2d793e(0x1a8)];}_0x2b9fcd[_0x2d793e(0xc9)]==_0x2d793e(0xbd)?(_0x1c95aa=_0x2f9381!=0x0?(_0x9767fe[_0x2d793e(0x206)]*_0x9767fe[_0x2d793e(0x1ff)]+_0x2b9fcd[_0x2d793e(0x1a8)]*(_0x2f9381-_0x9767fe[_0x2d793e(0x1ff)])+_0x293a5d)/_0x2f9381:0x0,_0x12f621=_0x9767fe[_0x2d793e(0x201)]):(_0x1c95aa=_0x2f9381!=0x0?(_0x9767fe[_0x2d793e(0x206)]*_0x9767fe[_0x2d793e(0x1ff)]-_0x2b9fcd[_0x2d793e(0x1a8)]*(_0x9767fe[_0x2d793e(0x1ff)]-_0x2f9381)+_0x293a5d)/_0x2f9381:0x0,_0x12f621=_0x9767fe[_0x2d793e(0x201)]+(_0x2b9fcd['price']-_0x9767fe[_0x2d793e(0x206)])*_0x2b9fcd[_0x2d793e(0x1cc)]);_0x475057=(_0x2b9fcd['price']-_0x1c95aa-_0x293a5d/_0x2b9fcd['filled'])*_0x2f9381;let _0x1b8a1d={'coin':_0x2b9fcd[_0x2d793e(0x142)],'number':_0x2f9381,'breakeven':formatResult(_0x1c95aa,0x8),'realized':formatResult(_0x12f621,0x8),'unrealized':formatResult(_0x475057,0x8),'fees':formatResult(_0x9767fe[_0x2d793e(0x1d5)]+_0x293a5d,0x8),'sells':_0x2b9fcd['side']==_0x2d793e(0x171)?_0x9767fe['sells']+0x1:_0x9767fe['sells'],'buys':_0x2b9fcd[_0x2d793e(0xc9)]==_0x2d793e(0xbd)?_0x9767fe['buys']+0x1:_0x9767fe[_0x2d793e(0xff)]};dbCoinResults[_0x2d793e(0x1e8)](_0x2d793e(0xf6))['find']({'coin':_0x2b9fcd[_0x2d793e(0x142)]})['assign'](_0x1b8a1d)[_0x2d793e(0xc5)]();if(!_0x1ce6da){if(_0x2b9fcd['fee']&&_0x2b9fcd[_0x2d793e(0x222)][_0x2d793e(0x227)]==_0x2d793e(0x19d)){const _0x156322=currentCoins[_0x2d793e(0x1bb)](_0x16945e=>_0x16945e[_0x2d793e(0x142)]==_0x2d793e(0x19d));if(_0x156322){let _0x2f6c6b=dbCoinResults[_0x2d793e(0x1e8)](_0x2d793e(0xf6))[_0x2d793e(0x1bb)]({'coin':_0x2d793e(0x19d)})[_0x2d793e(0x205)]();_0x1b8a1d={..._0x2f6c6b,'number':_0x156322[_0x2d793e(0x1ff)]},dbCoinResults['get'](_0x2d793e(0xf6))[_0x2d793e(0x1bb)]({'coin':'BNB'})[_0x2d793e(0x1d2)](_0x1b8a1d)['write']();}}}}async function placeOrder(_0x16e613){const _0x32bfc0=_0xd0c847,_0x270a67=config[_0x32bfc0(0x14b)]==_0x32bfc0(0x113)?_0x32bfc0(0x113):_0x32bfc0(0x1ba);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x32bfc0(0x1eb)],allOrdersPlaced=![],validateOrdersState=_0x32bfc0(0xf1);let _0x140a4f=![];lastOrders=[];for(const _0x157bd9 of _0x16e613){let _0xe56d1f,_0x491f91,_0x56a1c6,_0x39f959,_0x542379,_0x23da1d=_0x157bd9[_0x32bfc0(0x14f)];try{const _0x18c828=await exchange['fetchTicker'](_0x23da1d);_0xe56d1f=_0x157bd9[_0x32bfc0(0xe9)]?0x1/_0x157bd9[_0x32bfc0(0x10d)]:_0x157bd9[_0x32bfc0(0x10d)],_0x491f91=_0x18c828['bid'],_0x56a1c6=_0x18c828[_0x32bfc0(0x1fa)];_0x157bd9[_0x32bfc0(0xe9)]?(_0x39f959=_0x157bd9[_0x32bfc0(0xc9)]==_0x32bfc0(0xbd)?_0x32bfc0(0x171):_0x32bfc0(0xbd),_0x542379=Math[_0x32bfc0(0xfc)](_0x157bd9['trade'])/_0xe56d1f):(_0x39f959=_0x157bd9[_0x32bfc0(0xc9)],_0x542379=Math[_0x32bfc0(0xfc)](_0x157bd9[_0x32bfc0(0x106)]));_0x270a67==_0x32bfc0(0x1ba)&&(config[_0x32bfc0(0x14b)]=='limit-high'&&(_0xe56d1f=_0x39f959==_0x32bfc0(0xbd)?_0x491f91:_0x56a1c6),config[_0x32bfc0(0x14b)]==_0x32bfc0(0x107)&&(_0xe56d1f=_0x39f959=='buy'?_0x56a1c6:_0x491f91));_0x542379=formatResult(_0x542379,0x8),_0xe56d1f=formatResult(_0xe56d1f,0x8);const _0x287a99=_0x39f959==_0x32bfc0(0x171)?config['emojisell']?String[_0x32bfc0(0x1c8)]('0x'+config[_0x32bfc0(0x151)])+'\x20':'':config[_0x32bfc0(0x146)]?String[_0x32bfc0(0x1c8)]('0x'+config['emojibuy'])+'\x20':'',_0x2dbd5c=_0x270a67==_0x32bfc0(0x113)?_0x32bfc0(0x1b9):config[_0x32bfc0(0x14b)]==_0x32bfc0(0x226)?_0x32bfc0(0x1d6):_0x32bfc0(0x13a),_0xfa19b7=new Date()[_0x32bfc0(0x22a)]()['toString']()[_0x32bfc0(0x15d)](-0x6)+'-'+Math['random']()['toString']()[_0x32bfc0(0x15d)](-0x6);lastOrders['push']({'customId':_0xfa19b7,'symbol':_0x23da1d,'coin':_0x157bd9[_0x32bfc0(0x142)],'side':_0x39f959,'reverse':_0x157bd9[_0x32bfc0(0xe9)],'filled':0x0});if(_0x270a67==_0x32bfc0(0x113))logHistory(_0x32bfc0(0x1dd),''+_0x287a99+_0x2dbd5c+_0x32bfc0(0x161)+_0x23da1d+'\x20'+_0x39f959+'\x20#'+formatResult(_0x542379,0x8)+'\x20@'+formatResult(_0xe56d1f,0x8));else logHistory(_0x32bfc0(0x1dd),''+_0x287a99+_0x2dbd5c+_0x32bfc0(0x161)+_0x23da1d+'\x20'+_0x39f959+'\x20#'+formatResult(_0x542379,0x8)+'\x20@'+formatResult(_0xe56d1f,0x8));const _0x564060=await exchange[_0x32bfc0(0x168)](_0x23da1d,_0x270a67,_0x39f959,_0x542379,_0xe56d1f,{'clientOrderId':_0xfa19b7}),_0x9ee745=lastOrders[_0x32bfc0(0x157)]-0x1;_0x9ee745>=0x0&&lastOrders[_0x9ee745][_0x32bfc0(0x202)]==_0xfa19b7&&(lastOrders[_0x9ee745]={...lastOrders[_0x9ee745],'orderId':_0x564060['id'],'amount':_0x564060[_0x32bfc0(0x148)],'price':_0x564060['price'],'fee':_0x564060['fee']});if(config['cooldown']!=0x0){let _0x472b39=null;if(cooldownTracker[_0x32bfc0(0x157)]==config[_0x32bfc0(0x169)]-0x1)_0x472b39=cooldownTracker['shift']();const _0x27fef3=getTimeStamp();cooldownTracker[_0x32bfc0(0x10e)](_0x27fef3);if(_0x472b39){const _0xb89d0e=fns[_0x32bfc0(0x14e)](new Date(_0x27fef3),new Date(_0x472b39));if(_0xb89d0e<cooldownInterval){logHistory(_0x32bfc0(0xdb),_0x32bfc0(0x1c3)+config['cooldown']+_0x32bfc0(0x18c)+cooldownInterval/0x3c+_0x32bfc0(0x22b)+cooldownPeriod/(0xe10*0x3e8)+_0x32bfc0(0x128)),coolingDown=!![];break;}}}}catch(_0x4e8493){if(_0x4e8493[_0x32bfc0(0x1ea)]()[_0x32bfc0(0x10a)](_0x32bfc0(0x19b)))lastOrders=lastOrders[_0x32bfc0(0x17f)](_0x24a181=>_0x24a181[_0x32bfc0(0x14f)]!=_0x23da1d),logHistory(_0x32bfc0(0xdb),_0x32bfc0(0x1a2)+_0x23da1d),_0x140a4f=!![];else{if(_0x4e8493['toString']()[_0x32bfc0(0x10a)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x32bfc0(0x17f)](_0x5937a0=>_0x5937a0[_0x32bfc0(0x14f)]!=_0x23da1d),logHistory(_0x32bfc0(0xdb),_0x32bfc0(0xbc)+_0x23da1d),_0x140a4f=!![];else _0x4e8493['toString']()['includes'](_0x32bfc0(0x1c2))?(lastOrders=lastOrders[_0x32bfc0(0x17f)](_0x525257=>_0x525257['symbol']!=_0x23da1d),logHistory(_0x32bfc0(0xdb),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x23da1d),_0x140a4f=!![]):(lastOrders=lastOrders['filter'](_0xc96683=>_0xc96683[_0x32bfc0(0x14f)]!=_0x23da1d),await handleError(_0x4e8493,'placeOrder()',_0x23da1d));}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x32bfc0(0x157)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x4e9fd0=config['ordertype']==_0x32bfc0(0x113)?validateOrderTimeout*0x3c*0x3e8:config[_0x32bfc0(0xed)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x4053c0=_0x32bfc0;validateOrders(_0x4053c0(0xd5));},_0x4e9fd0);}else unlockOrders();_0x140a4f&&config['headless']&&await pauseBot(_0x32bfc0(0x129)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x32bfc0(0xfd),_0x32bfc0(0x18a)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x32bfc0(0x230));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x32bfc0(0x1bc)]&&(config[_0x32bfc0(0x14b)]==_0x32bfc0(0x113)?logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x32bfc0(0xdb),_0x32bfc0(0xfe))));}}function persistOpenOrders(_0x6a3dff){const _0x429c18=_0xd0c847,_0x5c3c3b={...config,'openOrders':_0x6a3dff};let _0x480cf1=dbConfig['get'](_0x429c18(0x1d8))[_0x429c18(0x1bb)]({'botID':botID})[_0x429c18(0x205)]();_0x480cf1&&dbConfig['get']('bot')[_0x429c18(0x1bb)]({'botID':botID})['assign'](_0x5c3c3b)['write']();}function restoreOrders(){const _0x1296f2=_0xd0c847;let _0x590bd5;config[_0x1296f2(0x1db)]&&allOpenOrders[_0x1296f2(0x1e2)](_0x15c516=>{const _0x1f0aed=_0x1296f2,_0x47e021=config[_0x1f0aed(0x1db)][_0x1f0aed(0x1bb)](_0x4c4c5d=>_0x4c4c5d[_0x1f0aed(0x22e)]==_0x15c516['id']);_0x47e021&&(lastOrders[_0x1f0aed(0x10e)](_0x47e021),_0x590bd5=_0x15c516[_0x1f0aed(0x1bd)]);});if(lastOrders[_0x1296f2(0x157)]>0x0){lockOrders=ORDERS[_0x1296f2(0x1eb)],validateOrdersState=_0x1296f2(0x101),allOrdersPlaced=!![];const _0x206824=new Date()[_0x1296f2(0x22a)](),_0x17251d=config[_0x1296f2(0x14b)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x590bd5+_0x17251d>_0x206824){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x590bd5+_0x17251d-_0x206824);}else validateOrders(_0x1296f2(0xd5));}}async function sendMetricsTelegram(){const _0x57ccab=_0xd0c847;if(!coinsLoaded){process[_0x57ccab(0x13f)]({'telegrammsg':_0x57ccab(0x22d)},_0x301938=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3aed7f='';if(config[_0x57ccab(0x11b)])_0x3aed7f='<b>'+config[_0x57ccab(0x12b)]+_0x57ccab(0x15f);else _0x3aed7f=_0x57ccab(0xf8)+botID+_0x57ccab(0x15f);const _0x417d44=getKPIs(_0x57ccab(0x14a)),_0x320475=getKPIs(_0x57ccab(0x1da),config[_0x57ccab(0x1da)]),_0x43b876=getKPIs(_0x57ccab(0x167)),_0xd3ba94=getKPIs(_0x57ccab(0x160),config[_0x57ccab(0x1da)]);_0x3aed7f+='<pre>',_0x3aed7f+=_0x417d44[_0x57ccab(0x109)]+_0x57ccab(0x20a)+_0x417d44[_0x57ccab(0x205)]+'\x0a',_0x3aed7f+=_0x417d44[_0x57ccab(0xf4)]+':\x20'+_0x417d44[_0x57ccab(0x1cd)]+'%\x0a',_0x3aed7f+=_0x320475['leftTxt']+'\x20:\x20'+_0x320475[_0x57ccab(0x205)]+'\x0a',_0x3aed7f+=_0x320475[_0x57ccab(0xf4)]+':\x20'+_0x320475[_0x57ccab(0x1cd)]+'%\x0a',_0x3aed7f+=_0x43b876[_0x57ccab(0x109)]+':\x20'+_0x43b876['value']+'\x20('+config[_0x57ccab(0x14a)]+')\x0a',_0x3aed7f+=_0x43b876[_0x57ccab(0xf4)]+':\x20'+_0x43b876[_0x57ccab(0x1cd)]+'%\x20('+config['basecoin']+')\x0a',_0x3aed7f+=_0xd3ba94[_0x57ccab(0x109)]+':\x20'+_0xd3ba94[_0x57ccab(0x205)]+'\x20('+config[_0x57ccab(0x1da)]+')\x0a',_0x3aed7f+=_0xd3ba94[_0x57ccab(0xf4)]+':\x20'+_0xd3ba94[_0x57ccab(0x1cd)]+_0x57ccab(0x192)+config[_0x57ccab(0x1da)]+')\x0a',_0x3aed7f+=_0x57ccab(0x136),process[_0x57ccab(0x13f)]({'telegrammsg':_0x3aed7f},_0x4ff3fc=>{});}async function sendPortfolioTelegram(){const _0x98972e=_0xd0c847;if(!coinsLoaded){process[_0x98972e(0x13f)]({'telegrammsg':_0x98972e(0x22d)},_0x8912b=>{});return;}let _0x5f2451='';if(config['showname'])_0x5f2451=_0x98972e(0x11f)+config[_0x98972e(0x12b)]+_0x98972e(0xd1);else _0x5f2451=_0x98972e(0xf8)+botID+_0x98972e(0xd1);_0x5f2451+='<pre>',_0x5f2451+=_0x98972e(0x12a),_0x5f2451+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x5f2451+=_0x98972e(0x12a),currentCoins[_0x98972e(0x1e2)](_0x565678=>{const _0x387740=_0x98972e;_0x5f2451+=_0x565678['coin'][_0x387740(0x19f)](0x7)+'|\x20'+formatPad(_0x565678['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x565678[_0x387740(0xf7)],0x2,0x6)+'|\x20'+formatPad(_0x565678[_0x387740(0x217)]*0x64,0x2,0x6)+'\x0a';}),_0x5f2451+=_0x98972e(0x136),process[_0x98972e(0x13f)]({'telegrammsg':_0x5f2451},_0x2e3d7e=>{});}function formatPad(_0x1d6b75,_0x19d631,_0x34c088){const _0x4eaa90=_0xd0c847,_0x151f30=formatResultString(_0x1d6b75,_0x19d631);return _0x151f30?_0x151f30['padStart'](_0x34c088):''[_0x4eaa90(0x1f1)](_0x34c088);}function logHistory(_0x99c492,_0x52b5cc,_0x40e9d4=''){const _0x4ef01c=_0xd0c847;let _0x3c2874={'time':getTimeStamp(),'type':_0x99c492,'event':_0x52b5cc};dbLogs[_0x4ef01c(0x1e8)]('logs')[_0x4ef01c(0x10e)](_0x3c2874)[_0x4ef01c(0xc5)]();if(_0x40e9d4=='')_0x40e9d4=_0x52b5cc;proxyEmit(_0x4ef01c(0x17a),{'log':_0x3c2874,'summary':_0x40e9d4}),process[_0x4ef01c(0x13f)]({'telegram':{..._0x3c2874,'botname':config[_0x4ef01c(0x12b)],'showname':config['showname']}},_0x4998ed=>{}),logger[_0x4ef01c(0x196)](''+_0x3c2874[_0x4ef01c(0x17a)]);}function emitHistory(_0x5e3bc1={}){const _0x46d282=_0xd0c847;Object[_0x46d282(0x18f)](_0x5e3bc1)[_0x46d282(0x157)]==0x0&&(_0x5e3bc1={'type':[_0x46d282(0x1dd),'event'],'event':'','page':0x1});if(_0x5e3bc1[_0x46d282(0x213)][_0x46d282(0x10a)](_0x46d282(0x17a)))_0x5e3bc1[_0x46d282(0x213)]['splice'](_0x5e3bc1['type']['indexOf'](_0x46d282(0x17a)),0x1,_0x46d282(0xdb),'warning',_0x46d282(0xfd));if(dbLogs[_0x46d282(0x1d1)]('logs')[_0x46d282(0x205)]()){let _0x3e0cac=dbLogs[_0x46d282(0x1e8)](_0x46d282(0x165))[_0x46d282(0x17f)](_0x94a79d=>{const _0x1cad0a=_0x46d282;if(_0x5e3bc1[_0x1cad0a(0x213)][_0x1cad0a(0x157)]==0x0)return![];else return _0x5e3bc1[_0x1cad0a(0x213)][_0x1cad0a(0x10a)](_0x94a79d[_0x1cad0a(0x213)]);})[_0x46d282(0x17f)](_0x452133=>{const _0x2a5a3c=_0x46d282;if(_0x5e3bc1[_0x2a5a3c(0x17a)]=='')return!![];else return _0x452133[_0x2a5a3c(0x17a)][_0x2a5a3c(0x132)]()[_0x2a5a3c(0x10a)](_0x5e3bc1[_0x2a5a3c(0x17a)]['toLowerCase']());})[_0x46d282(0x1ab)]('time'),_0x27bcfd=_0x3e0cac['value']()['length'];_0x3e0cac=_0x3e0cac['reverse']()['slice']((_0x5e3bc1[_0x46d282(0x21b)]-0x1)*logPageSize,_0x5e3bc1[_0x46d282(0x21b)]*logPageSize-0x1)[_0x46d282(0xe9)]()[_0x46d282(0x205)](),proxyEmit(_0x46d282(0x18b),{'logs':_0x3e0cac,'total':_0x27bcfd});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x232fbd){const _0x251f70=_0xd0c847;if(dbLogs[_0x251f70(0x1d1)](_0x251f70(0x165))['value']()){const _0x14665c=dbLogs['get']('logs')[_0x251f70(0x1ab)](_0x251f70(0xee))[_0x251f70(0x17f)](_0x2f8820=>{const _0x55fdbb=_0x251f70;return _0x2f8820[_0x55fdbb(0x213)]==_0x55fdbb(0x1dd);})[_0x251f70(0x205)]();dbLogs['get'](_0x251f70(0x165))[_0x251f70(0x1a3)]()[_0x251f70(0xc5)](),dbLogs[_0x251f70(0x1e8)](_0x251f70(0x165))[_0x251f70(0x1d2)](_0x14665c)[_0x251f70(0xc5)](),emitHistory(_0x232fbd);}}async function pauseBot(_0x1ad671=''){const _0x29da27=_0xd0c847,_0x14cc38=new Date()[_0x29da27(0x22a)]();if(!lastErrorShown||_0x14cc38-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x14cc38;!lastBotPause?(lastBotPause=_0x14cc38,consecutivePauses=0x1):(_0x14cc38-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':_0x29da27(0x183)},_0x7282ea=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x29da27(0x22a)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x1ad671)_0x1ad671+=_0x29da27(0xfa);logHistory(_0x29da27(0xdb),_0x1ad671+_0x29da27(0x1df)+pauseBotInterval/0xea60+_0x29da27(0xe8)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x423870=_0xd0c847;process[_0x423870(0x13f)]({'stop':_0x423870(0xe2)},_0x2679e4=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x51b38f,_0x55133e){const _0x795a5c=_0xd0c847;if(_0x51b38f['toString']()[_0x795a5c(0x10a)](_0x795a5c(0x18e)))return logHistory(_0x795a5c(0xdb),config[_0x795a5c(0xe0)]+_0x795a5c(0x1c0)),![];else{if(_0x51b38f[_0x795a5c(0x1ea)]()[_0x795a5c(0x10a)](_0x795a5c(0x145)))return logHistory(_0x795a5c(0xdb),config[_0x795a5c(0xe0)]+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0x51b38f[_0x795a5c(0x1ea)]()['includes'](_0x795a5c(0x1f3)))return logHistory(_0x795a5c(0xdb),config[_0x795a5c(0xe0)]+_0x795a5c(0x211)),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x51b38f,_0x55133e);}}}async function handleError(_0x741f20,_0x5ec18f,_0x43e3c1=''){const _0x5d0e02=_0xd0c847,_0xb6fe30=config[_0x5d0e02(0xe0)]||_0x5d0e02(0x1c4);if(_0x741f20[_0x5d0e02(0x1ea)]()['includes'](_0x5d0e02(0xc2)))await pauseBot(config[_0x5d0e02(0xe0)]+_0x5d0e02(0x126));else{if(_0x741f20['toString']()[_0x5d0e02(0x10a)]('ExchangeNotAvailable'))await pauseBot(config[_0x5d0e02(0xe0)]+_0x5d0e02(0x1ad));else{if(_0x741f20[_0x5d0e02(0x1ea)]()[_0x5d0e02(0x10a)](_0x5d0e02(0xde)))await pauseBot(config[_0x5d0e02(0xe0)]+_0x5d0e02(0x15e));else{if(_0x741f20[_0x5d0e02(0x1ea)]()[_0x5d0e02(0x10a)](_0x5d0e02(0x122)))await pauseBot(config[_0x5d0e02(0xe0)]+'\x20closed\x20the\x20connection');else{if(_0x741f20[_0x5d0e02(0x1ea)]()[_0x5d0e02(0x10a)](_0x5d0e02(0x18d)))logHistory(_0x5d0e02(0xdb),_0x5ec18f+'\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x5d0e02(0x1ed)),await killBot();else{if(_0x741f20[_0x5d0e02(0x1ea)]()[_0x5d0e02(0x10a)]('InvalidNonce'))logHistory('error',_0x5ec18f+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x5d0e02(0xdb),_0x5d0e02(0x1ed)),await killBot();else{if(_0x741f20[_0x5d0e02(0x1ea)]()[_0x5d0e02(0x10a)](_0x5d0e02(0x18e)))logHistory('error',_0x5ec18f+'\x20|\x20'+config['exchange']+_0x5d0e02(0x1dc)),logHistory('error',_0x5d0e02(0x1ed)),await killBot();else{if(_0x741f20[_0x5d0e02(0x1ea)]()[_0x5d0e02(0x10a)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x5d0e02(0xdb),_0x5ec18f+_0x5d0e02(0xfa)+config[_0x5d0e02(0xe0)]+_0x5d0e02(0x231)),logHistory('error',_0x5d0e02(0x1ed)),await killBot();else{if(_0x741f20[_0x5d0e02(0x1ea)]()[_0x5d0e02(0x10a)]('AuthenticationError'))logHistory(_0x5d0e02(0xdb),_0x5ec18f+_0x5d0e02(0xfa)+config[_0x5d0e02(0xe0)]+_0x5d0e02(0x13c)),logHistory(_0x5d0e02(0xdb),_0x5d0e02(0x1ed)),await killBot();else _0x741f20[_0x5d0e02(0x1ea)]()[_0x5d0e02(0x10a)](_0x5d0e02(0x228))?logHistory('error',_0x5ec18f+_0x5d0e02(0x105)+_0x43e3c1):(logger[_0x5d0e02(0x196)](_0x5ec18f+'\x20|\x20Error\x20details:\x20',_0x741f20),await pauseBot(_0x5d0e02(0x17b)));}}}}}}}}}function formatResult(_0x32a68a,_0x3a8f19){const _0x2934ef=_0xd0c847;return parseFloat(_0x32a68a[_0x2934ef(0xc0)](_0x3a8f19));}function formatResultTruncate(_0x1d9310,_0x5c9574){const _0x2cf45f=_0xd0c847;let _0x6a21b3=formatResultString(_0x1d9310,0xa),_0x2ae629=_0x6a21b3[_0x2cf45f(0x236)]('.');return _0x2ae629!=-0x1&&(_0x6a21b3=_0x6a21b3[_0x2cf45f(0x15d)](0x0,_0x2ae629+_0x5c9574+0x1)),Number(_0x6a21b3);}function formatResultString(_0x486d32,_0x465882){const _0x148805=_0xd0c847;let _0x40405a;if(!(''+_0x486d32)[_0x148805(0x10a)]('e'))_0x40405a=+(Math['round'](_0x486d32+'e+'+_0x465882)+'e-'+_0x465882);else{let _0x19f2df=(''+_0x486d32)[_0x148805(0xca)]('e'),_0x23de99='';+_0x19f2df[0x1]+_0x465882>0x0&&(_0x23de99='+'),_0x40405a=+(Math[_0x148805(0x195)](+_0x19f2df[0x0]+'e'+_0x23de99+(+_0x19f2df[0x1]+_0x465882))+'e-'+_0x465882);}return Number(_0x40405a)[_0x148805(0xc0)](_0x465882);}function getServerTime(){const _0x28fb77=_0xd0c847,_0x274d73=new Date();return _0x274d73[_0x28fb77(0xf3)]()+'/'+(_0x274d73['getMonth']()+0x1)['toString']()[_0x28fb77(0x1f1)](0x2,'0')+'/'+_0x274d73['getDate']()[_0x28fb77(0x1ea)]()[_0x28fb77(0x1f1)](0x2,'0')+'\x20'+_0x274d73[_0x28fb77(0x1ca)]()[_0x28fb77(0x1ea)]()[_0x28fb77(0x1f1)](0x2,'0')+':'+_0x274d73[_0x28fb77(0xd8)]()[_0x28fb77(0x1ea)]()[_0x28fb77(0x1f1)](0x2,'0')+':'+_0x274d73[_0x28fb77(0x225)]()['toString']()[_0x28fb77(0x1f1)](0x2,'0');}function getTimeStamp(){const _0x208c8d=_0xd0c847,_0x1dc0b4=shiftedTime();return _0x1dc0b4[_0x208c8d(0xf3)]()+'/'+(_0x1dc0b4[_0x208c8d(0x234)]()+0x1)[_0x208c8d(0x1ea)]()['padStart'](0x2,'0')+'/'+_0x1dc0b4[_0x208c8d(0x1d9)]()[_0x208c8d(0x1ea)]()[_0x208c8d(0x1f1)](0x2,'0')+'\x20'+_0x1dc0b4[_0x208c8d(0x1ca)]()['toString']()[_0x208c8d(0x1f1)](0x2,'0')+':'+_0x1dc0b4['getMinutes']()[_0x208c8d(0x1ea)]()[_0x208c8d(0x1f1)](0x2,'0')+':'+_0x1dc0b4[_0x208c8d(0x225)]()[_0x208c8d(0x1ea)]()[_0x208c8d(0x1f1)](0x2,'0');}function getDate(){const _0x16ae7f=_0xd0c847,_0x660060=shiftedTime();return _0x660060['getFullYear']()+'/'+(_0x660060[_0x16ae7f(0x234)]()+0x1)['toString']()[_0x16ae7f(0x1f1)](0x2,'0')+'/'+_0x660060[_0x16ae7f(0x1d9)]()['toString']()[_0x16ae7f(0x1f1)](0x2,'0');}function getHour(){const _0xb6991f=_0xd0c847,_0x397c93=shiftedTime();return _0x397c93['getHours']()[_0xb6991f(0x1ea)]()['padStart'](0x2,'0');}function sleep(_0x2d1e0a){return new Promise(_0x678cec=>setTimeout(_0x678cec,_0x2d1e0a));}function shiftedTime(){const _0x4aefef=_0xd0c847,_0x232903=new Date();let _0x51975e=_0x232903;if(config&&config[_0x4aefef(0x185)]!==0x0)_0x51975e=fns[_0x4aefef(0x1e4)](_0x232903,{'hours':config['timeshift']});return _0x51975e;}function timer(_0x20e6c2){const _0x24ae2e=_0xd0c847,_0x1a6151=new Date();!lasttime?console['log'](_0x24ae2e(0x1bf),_0x20e6c2,_0x1a6151):console[_0x24ae2e(0xd4)](_0x24ae2e(0x1bf),_0x20e6c2,(_0x1a6151-lasttime)/0x3e8),lasttime=_0x1a6151;}