const _0x21e4bc=_0x2199;(function(_0x375cfc,_0x559670){const _0x35e543=_0x2199,_0x2691af=_0x375cfc();while(!![]){try{const _0x56fdd1=-parseInt(_0x35e543(0x1d4))/0x1*(parseInt(_0x35e543(0x181))/0x2)+parseInt(_0x35e543(0x1a2))/0x3*(-parseInt(_0x35e543(0x10e))/0x4)+parseInt(_0x35e543(0x20a))/0x5*(parseInt(_0x35e543(0x127))/0x6)+parseInt(_0x35e543(0x17a))/0x7+-parseInt(_0x35e543(0x16d))/0x8+-parseInt(_0x35e543(0x125))/0x9*(parseInt(_0x35e543(0x158))/0xa)+parseInt(_0x35e543(0x1b2))/0xb;if(_0x56fdd1===_0x559670)break;else _0x2691af['push'](_0x2691af['shift']());}catch(_0xe6075e){_0x2691af['push'](_0x2691af['shift']());}}}(_0x3804,0xdd191));const _0x3cc767=function(){let _0x14dfc2=!![];return function(_0x5bdf2b,_0x435584){const _0x311640=_0x14dfc2?function(){const _0x37f011=_0x2199;if(_0x435584){const _0x470989=_0x435584[_0x37f011(0x1db)](_0x5bdf2b,arguments);return _0x435584=null,_0x470989;}}:function(){};return _0x14dfc2=![],_0x311640;};}(),_0x3608db=_0x3cc767(this,function(){const _0x5600cb=_0x2199;return _0x3608db[_0x5600cb(0x168)]()['search']('(((.+)+)+)+$')[_0x5600cb(0x168)]()[_0x5600cb(0x176)](_0x3608db)[_0x5600cb(0x1d7)](_0x5600cb(0x186));});_0x3608db();function _0x2199(_0xd48db8,_0x784783){const _0x489102=_0x3804();return _0x2199=function(_0x3608db,_0x3cc767){_0x3608db=_0x3608db-0xfd;let _0x3804da=_0x489102[_0x3608db];return _0x3804da;},_0x2199(_0xd48db8,_0x784783);}'use strict';const ccxt=require(_0x21e4bc(0x1af)),low=require('lowdb'),FileSync=require(_0x21e4bc(0x1f2)),fs=require('fs'),fns=require(_0x21e4bc(0x1a0)),{WebsocketClient,DefaultLogger}=require('binance'),Crypt=require('hybrid-crypto-js')[_0x21e4bc(0x202)];let exchange,wsClient;global[_0x21e4bc(0x14f)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x21e4bc(0x1b3))[_0x21e4bc(0x19e)],botID=process[_0x21e4bc(0x162)][0x2]||_0x21e4bc(0x183),pattern=/^[0-9]{3}$/;if(!pattern[_0x21e4bc(0x193)](botID))return console[_0x21e4bc(0x150)](_0x21e4bc(0x18d)+botID+_0x21e4bc(0x1f3)),process[_0x21e4bc(0x1cd)](0x1);const userID=process['argv'][0x3]||'',configpath=userID?_0x21e4bc(0x1c2)+userID+'/':_0x21e4bc(0x1c2);!fs[_0x21e4bc(0x1ec)](configpath)&&fs[_0x21e4bc(0x133)](configpath);const configfile=configpath+_0x21e4bc(0x180)+botID+'-config.json',logfile=configpath+_0x21e4bc(0x180)+botID+_0x21e4bc(0x1b5),performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+'bot-'+botID+_0x21e4bc(0x169),settingsfile=configpath+_0x21e4bc(0x194),securefile=configpath+_0x21e4bc(0x1cc),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x21e4bc(0x1f0)]({'logs':[]})[_0x21e4bc(0x149)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x21e4bc(0x1f0)]({'data':[]})[_0x21e4bc(0x149)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x21e4bc(0x1f0)]({'bot':[]})[_0x21e4bc(0x149)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x21e4bc(0x1f0)]({'coins':[]})[_0x21e4bc(0x149)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x21e4bc(0x164),'symbol':_0x21e4bc(0x18a)},'usd':{'coin':_0x21e4bc(0x1dd),'symbol':_0x21e4bc(0x116)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x4572a4)=>{},'debug':(..._0xf53c88)=>{},'notice':(..._0x493437)=>{},'info':(..._0x17f2e8)=>{},'warning':(..._0x1fd97d)=>{},'error':async function(..._0x5dc641){const _0x3edaeb=_0x21e4bc,_0x5cc587=new Date()[_0x3edaeb(0x1d0)]();if(!lastErrorShown||_0x5cc587-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime'](),logHistory('error',_0x3edaeb(0x167)+consecutivePauses+')\x20|\x20Binance\x20exchange\x20is\x20not\x20available');let _0xbbf917='';if(_0x5dc641[0x0])_0xbbf917+=_0x5dc641[0x0];if(_0x5dc641[0x1]&&_0x5dc641[0x1][_0x3edaeb(0x1c3)]&&_0x5dc641[0x1][_0x3edaeb(0x1c3)][_0x3edaeb(0x20b)])_0xbbf917+=_0x3edaeb(0x190)+_0x5dc641[0x1][_0x3edaeb(0x1c3)][_0x3edaeb(0x20b)];logging(_0x3edaeb(0x167)+consecutivePauses+_0x3edaeb(0x201),''+_0xbbf917),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x21e4bc(0x1bc),'rsaStandard':_0x21e4bc(0x1bf)});let settings=getSettings(),secure=getSecure();config=getConfiguration(botID);settings['timeshift']!=config[_0x21e4bc(0x184)]&&updateTimeshift(settings['timeshift']);process[_0x21e4bc(0x14c)]({'started':_0x21e4bc(0x140)}),initializeProcessListeners();function proxyEmit(_0x3918a8,_0x30f8cc=null){const _0x2188f2=_0x21e4bc;process[_0x2188f2(0x14c)]({'function':_0x3918a8,'args':_0x30f8cc});}function initializeProcessListeners(){const _0x2f49e4=_0x21e4bc;process['on'](_0x2f49e4(0x20b),_0x5293d8=>{const _0x57848c=_0x2f49e4;switch(Object[_0x57848c(0x113)](_0x5293d8)[0x0]){case _0x57848c(0x184):_0x5293d8[_0x57848c(0x184)]!=undefined&&(settings[_0x57848c(0x184)]=_0x5293d8['timeshift'],updateTimeshift(settings[_0x57848c(0x184)]));break;case _0x57848c(0x155):switch(_0x5293d8['function']){case _0x57848c(0x1f7):initclient();break;case'emitHistory':emitHistory(_0x5293d8[_0x57848c(0x14d)]);break;case _0x57848c(0x203):getPortfolio(_0x5293d8[_0x57848c(0x14d)]);break;case _0x57848c(0x12f):storeConfiguration(_0x5293d8[_0x57848c(0x14d)]);break;case _0x57848c(0x1c1):storeHeadless(_0x5293d8[_0x57848c(0x14d)]);break;case _0x57848c(0x18b):getStartingBalances();break;case'placeOrder':placeOrder(_0x5293d8['args']);break;case _0x57848c(0x16f):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x1b8ead=_0x21e4bc;if(pidBalances)clearTimeout(pidBalances);if(config[_0x1b8ead(0x20d)]!=''){await initExchange(config[_0x1b8ead(0x20d)],config[_0x1b8ead(0x1df)]);let _0x245bf4=await loadSymbols();_0x245bf4&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0xbf9305,_0x40cbf3){const _0x56e8c7=_0x21e4bc,_0x243c0f=ccxt[config[_0x56e8c7(0x191)]];let _0x468c0b;switch(config['exchange']){case _0x56e8c7(0x10f):_0x468c0b=_0x56e8c7(0x147);break;case _0x56e8c7(0x120):_0x468c0b='wss://stream.binance.us:9443';break;default:_0x468c0b=_0x56e8c7(0x147);}exchange=new _0x243c0f({'apiKey':_0xbf9305,'secret':_0x40cbf3,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0xbf9305,'api_secret':_0x40cbf3,'beautify':!![],'wsUrl':_0x468c0b},logger),config[_0x56e8c7(0x191)]==_0x56e8c7(0x120)&&(stablecoins={'eur':{'coin':'BTCBUSD','symbol':_0x56e8c7(0x19f)},'usd':{'coin':_0x56e8c7(0x1dd),'symbol':_0x56e8c7(0x116)}});}async function loadSymbols(){const _0x2c983d=_0x21e4bc;let _0x307c3e;try{markets=await exchange['loadMarkets']();const _0x4d8113=[_0x2c983d(0x15a),_0x2c983d(0x136),_0x2c983d(0x1ab)];allSymbols=exchange[_0x2c983d(0x1dc)][_0x2c983d(0x1c4)](_0xa4aaf9=>{const _0x477b7b=_0x2c983d;let _0x22b88c=![];return _0x4d8113[_0x477b7b(0xfd)](_0x511b59=>{const _0xb6b6eb=_0x477b7b;if(_0xa4aaf9[_0xb6b6eb(0x197)](_0x511b59))_0x22b88c=!![];}),!_0x22b88c;}),_0x307c3e=!![];}catch(_0x2baf9b){await handleError(_0x2baf9b,'loadSymbols()'),_0x307c3e=![];}return _0x307c3e;}async function initbot(){const _0x1d5ad=_0x21e4bc;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x29d125=dbCoinResults[_0x1d5ad(0x182)](_0x1d5ad(0x11e))[_0x1d5ad(0x15e)]();if(_0x29d125[_0x1d5ad(0x204)]==0x0)await resetCoinResults();}async function initclient(){const _0x360574=_0x21e4bc;proxyEmit(_0x360574(0x1b4),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitPerformance(),emitHistory(),await getStartingBalances();}function cleanws(){const _0x5b9fe2=_0x21e4bc;wsinitialized=![];ws1&&(ws1[_0x5b9fe2(0xfd)](_0x2f90f5=>{const _0xd1b1ef=_0x5b9fe2;try{wsClient[_0xd1b1ef(0x207)](_0x2f90f5);}catch(_0x766b30){}}),ws1=[]);if(ws2){try{wsClient['closeWs'](ws2);}catch(_0x276387){}ws2=null;}}async function initws(){const _0x4e64e4=_0x21e4bc;cleanws();let _0x49f9bb=[];currentCoins[_0x4e64e4(0xfd)](_0x4df892=>{const _0x5e9c96=_0x4e64e4;if(_0x4df892[_0x5e9c96(0x1fd)]!=config[_0x5e9c96(0x165)])_0x49f9bb[_0x5e9c96(0x142)](noslash(_0x4df892[_0x5e9c96(0x177)]));});if(!_0x49f9bb[_0x4e64e4(0x197)](stablecoins[_0x4e64e4(0x1aa)][_0x4e64e4(0x1fd)]))_0x49f9bb['push'](stablecoins[_0x4e64e4(0x1aa)]['coin']);if(!_0x49f9bb[_0x4e64e4(0x197)](stablecoins['usd'][_0x4e64e4(0x1fd)]))_0x49f9bb[_0x4e64e4(0x142)](stablecoins[_0x4e64e4(0x209)]['coin']);if(!_0x49f9bb['includes'](_0x4e64e4(0x170)+config[_0x4e64e4(0x165)]))_0x49f9bb[_0x4e64e4(0x142)](_0x4e64e4(0x170)+config[_0x4e64e4(0x165)]);try{_0x49f9bb[_0x4e64e4(0xfd)]((_0x26d82a,_0x3ec946)=>{ws1[_0x3ec946]=wsClient['subscribeSpotKline'](_0x26d82a,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x4e64e4(0x111),_0x403d3f=>{const _0x45b5be=_0x4e64e4;if(!Array['isArray'](_0x403d3f)&&!_0x403d3f[_0x45b5be(0x18c)][_0x45b5be(0x197)](_0x45b5be(0xfe))){if(_0x403d3f['eventType']===_0x45b5be(0x1e1)){global[_0x45b5be(0x14f)][_0x403d3f[_0x45b5be(0x1e1)][_0x45b5be(0x177)]]=_0x403d3f['kline']['close'];return;}}else{if(!Array[_0x45b5be(0x10b)](_0x403d3f)&&_0x403d3f[_0x45b5be(0x18c)][_0x45b5be(0x197)](_0x45b5be(0xfe))){if(_0x403d3f[_0x45b5be(0x1cb)][_0x45b5be(0x197)](_0x45b5be(0x19a))){updateNumberCoins(_0x403d3f);return;}}}}),wsClient['on'](_0x4e64e4(0x124),async _0x30332a=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x49b63a){await handleError(_0x49b63a,_0x4e64e4(0xff));}let _0x34380d,_0x4a9f54=0x0;loading[_0x4e64e4(0x195)]=[];let _0xc67ed1=0x0;currentCoins[_0x4e64e4(0xfd)](_0x44a05b=>{const _0x294b66=_0x4e64e4;if(_0x44a05b[_0x294b66(0x1fd)]!=config[_0x294b66(0x165)])loading[_0x294b66(0x195)]['push'](_0x44a05b[_0x294b66(0x177)]);}),loadingCanceled=![];while(_0x34380d!=currentCoins[_0x4e64e4(0x204)]-0x1){_0x34380d=0x0,currentCoins[_0x4e64e4(0xfd)](_0x21aece=>{const _0x3f8b24=_0x4e64e4;_0x21aece[_0x3f8b24(0x1fd)]!=config[_0x3f8b24(0x165)]&&global[_0x3f8b24(0x14f)][noslash(_0x21aece[_0x3f8b24(0x177)])]&&(loading[_0x3f8b24(0x195)]=loading['remainingSymbols'][_0x3f8b24(0x1c4)](_0x22719e=>_0x22719e!=_0x21aece['symbol']),_0x34380d++);}),loading[_0x4e64e4(0x11a)]=Math[_0x4e64e4(0x138)](_0x34380d/(currentCoins[_0x4e64e4(0x204)]-0x1)*0x64);_0xc67ed1>0x1e*0x5&&(loading[_0x4e64e4(0x123)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x4e64e4(0x104)]=!![],emitLoadingProgress();break;}else _0x34380d!=_0x4a9f54&&(_0x4a9f54=_0x34380d,emitLoadingProgress()),_0xc67ed1++,await sleep(0xc8);}if(_0x34380d==currentCoins['length']-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x210a06=_0x21e4bc;proxyEmit(_0x210a06(0x1ba),loading);}async function getFiat(){const _0xf81664=_0x21e4bc;let _0x222d15=0x0,_0x2f3eda=0x0;try{_0x222d15=global['ticker'][stablecoins[_0xf81664(0x1aa)][_0xf81664(0x1fd)]],_0x2f3eda=global[_0xf81664(0x14f)][stablecoins[_0xf81664(0x209)][_0xf81664(0x1fd)]];}catch(_0x37f79e){await handleError(_0x37f79e,'getFiat()');}return{'eur':Number(_0x222d15),'usd':Number(_0x2f3eda)};}async function setStartDatePerformance(_0x400474){const _0x7b45a6=_0x21e4bc,_0x14cf49=fns[_0x7b45a6(0x13f)](new Date(_0x400474[_0x7b45a6(0x160)]),'yyyy/MM/dd');let _0x4ebccf=[];_0x4ebccf[stablecoins[_0x7b45a6(0x1aa)]['coin']]=await getCloses(stablecoins[_0x7b45a6(0x1aa)][_0x7b45a6(0x177)],new Date(_0x400474['startdate']),0x1),_0x4ebccf[stablecoins[_0x7b45a6(0x209)][_0x7b45a6(0x1fd)]]=await getCloses(stablecoins[_0x7b45a6(0x209)][_0x7b45a6(0x177)],new Date(_0x400474['startdate']),0x1);let _0x39a824,_0x3d15c9=[];_0x400474[_0x7b45a6(0x20c)]['forEach'](_0x3d2dc5=>{const _0x3149e3=_0x7b45a6;!_0x3d2dc5[_0x3149e3(0x144)]&&_0x3d15c9['push']({'coin':_0x3d2dc5[_0x3149e3(0x1fd)],'number':_0x3d2dc5[_0x3149e3(0x132)],'price':_0x3d2dc5[_0x3149e3(0x1c8)]});}),_0x39a824={'date':_0x14cf49,'eur':_0x4ebccf[stablecoins[_0x7b45a6(0x1aa)][_0x7b45a6(0x1fd)]][0x0],'usd':_0x4ebccf[stablecoins['usd']['coin']][0x0],'coins':_0x3d15c9};let _0x2a8d15=dbPerformance[_0x7b45a6(0x182)]('data')['find']({'date':_0x14cf49})[_0x7b45a6(0x15e)]();_0x2a8d15?dbPerformance[_0x7b45a6(0x182)](_0x7b45a6(0x139))[_0x7b45a6(0x101)]({'date':_0x14cf49})[_0x7b45a6(0x19c)](_0x39a824)[_0x7b45a6(0x149)]():dbPerformance['get']('data')['push'](_0x39a824)[_0x7b45a6(0x149)](),_0x2a8d15=dbPerformance[_0x7b45a6(0x182)](_0x7b45a6(0x139))[_0x7b45a6(0x208)](_0x7b45a6(0x14a))[_0x7b45a6(0x15e)](),_0x2a8d15[_0x7b45a6(0xfd)](_0x250482=>{const _0x54f1a2=_0x7b45a6;_0x250482['date']<_0x14cf49&&dbPerformance[_0x54f1a2(0x182)](_0x54f1a2(0x139))[_0x54f1a2(0x10a)]({'date':_0x250482[_0x54f1a2(0x14a)]})[_0x54f1a2(0x149)]();}),await storePerformance(),emitPerformance();}async function recreateHistory(_0x246a48){const _0xd23fd7=_0x21e4bc;let _0x2fd6b0,_0x17b2bd=[];logHistory('success',_0xd23fd7(0x163)),_0x246a48[_0xd23fd7(0x20c)][_0xd23fd7(0xfd)](_0x499cee=>{const _0x13f2e3=_0xd23fd7;if(_0x499cee[_0x13f2e3(0x1fd)]!=config[_0x13f2e3(0x165)]&&!_0x499cee[_0x13f2e3(0x144)])_0x17b2bd[_0x13f2e3(0x142)]({'coin':_0x499cee['coin'],'symbol':_0x499cee['symbol']});});let _0x4a9ac3=[];try{const _0x58e327=fns[_0xd23fd7(0x13f)](fns[_0xd23fd7(0x12a)](_0x246a48[_0xd23fd7(0x160)][_0xd23fd7(0x200)](/\//g,'-')),_0xd23fd7(0x196));for(const _0x598e11 of _0x17b2bd){if(_0x598e11[_0xd23fd7(0x1fd)]!=config[_0xd23fd7(0x165)])_0x2fd6b0=await exchange[_0xd23fd7(0x153)](_0x598e11[_0xd23fd7(0x177)],Date[_0xd23fd7(0x1c7)](_0x58e327));_0x2fd6b0[_0xd23fd7(0xfd)](_0x13e54f=>{const _0x3b3608=_0xd23fd7,_0x2788eb=_0x598e11[_0x3b3608(0x177)]['includes'](config[_0x3b3608(0x165)]+'/'),_0x2f4d5e=fns['format'](fns['parseISO'](_0x13e54f[_0x3b3608(0x119)]),_0x3b3608(0x1ee)),_0x35784d=fns['format'](fns['parseISO'](_0x13e54f[_0x3b3608(0x119)]),'yyyy/MM/dd');let _0x76c8a8;if(_0x13e54f[_0x3b3608(0x1e2)]==_0x3b3608(0x16c)&&_0x2788eb==![])_0x76c8a8=_0x13e54f[_0x3b3608(0x17f)];if(_0x13e54f['side']==_0x3b3608(0x16c)&&_0x2788eb==!![])_0x76c8a8=-_0x13e54f[_0x3b3608(0x17f)]*_0x13e54f['price'];if(_0x13e54f['side']==_0x3b3608(0x1ad)&&_0x2788eb==![])_0x76c8a8=-_0x13e54f[_0x3b3608(0x17f)];if(_0x13e54f['side']==_0x3b3608(0x1ad)&&_0x2788eb==!![])_0x76c8a8=_0x13e54f[_0x3b3608(0x17f)]*_0x13e54f['price'];_0x4a9ac3['push']({'timestamp':_0x2f4d5e,'date':_0x35784d,'coin':_0x598e11[_0x3b3608(0x1fd)],'symbol':_0x598e11[_0x3b3608(0x177)],'type':_0x13e54f[_0x3b3608(0x1ca)],'side':_0x13e54f[_0x3b3608(0x1e2)],'reverse':_0x2788eb,'amount':formatResult(_0x13e54f[_0x3b3608(0x1ae)],0x8),'filled':formatResult(_0x13e54f['filled'],0x8),'coinamount':formatResult(_0x76c8a8,0x8),'price':formatResult(_0x13e54f[_0x3b3608(0x1ef)],0x8)});let _0x41c2c7;if(_0x13e54f[_0x3b3608(0x1e2)]==_0x3b3608(0x16c)&&_0x2788eb==![])_0x41c2c7=-_0x13e54f[_0x3b3608(0x17f)]*_0x13e54f[_0x3b3608(0x1ef)];if(_0x13e54f[_0x3b3608(0x1e2)]==_0x3b3608(0x16c)&&_0x2788eb==!![])_0x41c2c7=_0x13e54f[_0x3b3608(0x17f)];if(_0x13e54f[_0x3b3608(0x1e2)]=='sell'&&_0x2788eb==![])_0x41c2c7=_0x13e54f['amount']*_0x13e54f[_0x3b3608(0x1ef)];if(_0x13e54f[_0x3b3608(0x1e2)]==_0x3b3608(0x1ad)&&_0x2788eb==!![])_0x41c2c7=-_0x13e54f[_0x3b3608(0x17f)];_0x4a9ac3['push']({'date':_0x35784d,'coin':config['basecoin'],'coinamount':formatResult(_0x41c2c7,0x8)});});}_0x4a9ac3[_0xd23fd7(0x13a)]((_0x3b519d,_0xb84089)=>_0x3b519d[_0xd23fd7(0x107)]>_0xb84089[_0xd23fd7(0x107)]?0x1:_0xb84089[_0xd23fd7(0x107)]>_0x3b519d[_0xd23fd7(0x107)]?-0x1:0x0),dbLogs['get'](_0xd23fd7(0x12e))[_0xd23fd7(0x10a)]()[_0xd23fd7(0x149)](),_0x4a9ac3[_0xd23fd7(0xfd)](_0x1fee09=>{const _0x1168b3=_0xd23fd7;let _0x17297f;_0x1fee09[_0x1168b3(0x1fd)]!=config[_0x1168b3(0x165)]&&(_0x17297f={'time':_0x1fee09['timestamp'],'type':_0x1168b3(0x11b),'event':_0x1168b3(0x1a6)+_0x1fee09[_0x1168b3(0x177)]+'\x20'+_0x1fee09[_0x1168b3(0x1e2)]+'\x20#'+_0x1fee09[_0x1168b3(0x17f)]+'\x20@'+_0x1fee09[_0x1168b3(0x1ef)]},dbLogs['get']('logs')['push'](_0x17297f)[_0x1168b3(0x149)]());});const _0x147607=fns['eachDayOfInterval']({'start':new Date(_0x246a48['startdate']),'end':new Date()})[_0xd23fd7(0x128)](_0x4fc7c4=>fns['format'](_0x4fc7c4,'yyyy/MM/dd'));let _0x4c180f=[];_0x246a48[_0xd23fd7(0x20c)][_0xd23fd7(0xfd)](_0x31c359=>{const _0x28926c=_0xd23fd7;if(!_0x31c359[_0x28926c(0x144)]){_0x4c180f[_0x31c359[_0x28926c(0x1fd)]]=[];let _0x466a97=_0x31c359[_0x28926c(0x132)];_0x147607[_0x28926c(0xfd)]((_0x11fa47,_0x58bc58)=>{const _0xfe46d9=_0x28926c;let _0xee8c38=_0x4a9ac3[_0xfe46d9(0x1c4)](_0x358ca6=>_0x358ca6[_0xfe46d9(0x1fd)]==_0x31c359[_0xfe46d9(0x1fd)]&&_0x358ca6[_0xfe46d9(0x14a)]==_0x11fa47);if(_0xee8c38[_0xfe46d9(0x204)]!=0x0){let _0x115fd9=_0xee8c38[_0xfe46d9(0x1e8)]((_0x45361e,_0x43b8d7)=>{return _0x45361e+=_0x43b8d7['coinamount'],_0x45361e;},0x0);_0x466a97+=_0x115fd9;}_0x4c180f[_0x31c359[_0xfe46d9(0x1fd)]][_0x11fa47]=_0x466a97;});}});const _0x330a25=[..._0x17b2bd];_0x330a25['push']({'coin':stablecoins[_0xd23fd7(0x1aa)][_0xd23fd7(0x1fd)],'symbol':stablecoins[_0xd23fd7(0x1aa)][_0xd23fd7(0x177)]}),_0x330a25['push']({'coin':stablecoins[_0xd23fd7(0x209)][_0xd23fd7(0x1fd)],'symbol':stablecoins['usd'][_0xd23fd7(0x177)]});let _0x46da7b=[];for(const _0x3f2927 of _0x330a25){_0x46da7b[_0x3f2927[_0xd23fd7(0x1fd)]]=await getCloses(_0x3f2927[_0xd23fd7(0x177)],new Date(_0x246a48[_0xd23fd7(0x160)]));}dbPerformance[_0xd23fd7(0x182)]('data')[_0xd23fd7(0x10a)]()[_0xd23fd7(0x149)](),_0x147607['forEach']((_0x2b4e31,_0x23df0c)=>{const _0x25fa55=_0xd23fd7;let _0x53fba6,_0x39ad07=[];_0x23df0c==0x0?(_0x246a48[_0x25fa55(0x20c)][_0x25fa55(0xfd)](_0x278c22=>{const _0x485bf8=_0x25fa55;!_0x278c22[_0x485bf8(0x144)]&&_0x39ad07[_0x485bf8(0x142)]({'coin':_0x278c22[_0x485bf8(0x1fd)],'number':_0x278c22['startnumber'],'price':_0x278c22[_0x485bf8(0x1c8)]});}),_0x53fba6={'date':_0x2b4e31,'eur':_0x46da7b[stablecoins[_0x25fa55(0x1aa)][_0x25fa55(0x1fd)]][_0x23df0c],'usd':_0x46da7b[stablecoins[_0x25fa55(0x209)][_0x25fa55(0x1fd)]][_0x23df0c],'coins':_0x39ad07}):(_0x246a48[_0x25fa55(0x20c)]['forEach'](_0xf83c1=>{const _0x4624db=_0x25fa55;!_0xf83c1[_0x4624db(0x144)]&&_0x39ad07[_0x4624db(0x142)]({'coin':_0xf83c1[_0x4624db(0x1fd)],'number':_0x4c180f[_0xf83c1[_0x4624db(0x1fd)]][_0x2b4e31],'price':_0xf83c1['coin']==config[_0x4624db(0x165)]?0x1:_0x46da7b[_0xf83c1[_0x4624db(0x1fd)]][_0x23df0c]});}),_0x53fba6={'date':_0x2b4e31,'eur':_0x46da7b[stablecoins['eur'][_0x25fa55(0x1fd)]][_0x23df0c],'usd':_0x46da7b[stablecoins['usd'][_0x25fa55(0x1fd)]][_0x23df0c],'coins':_0x39ad07}),dbPerformance[_0x25fa55(0x182)](_0x25fa55(0x139))[_0x25fa55(0x142)](_0x53fba6)[_0x25fa55(0x149)]();}),emitPerformance(),await resetCoinResults();for(let _0x3bfdf2 of _0x4a9ac3){_0x3bfdf2[_0xd23fd7(0x1fd)]!=config[_0xd23fd7(0x165)]&&await updateCoinResults(_0x3bfdf2);}logHistory(_0xd23fd7(0x1d9),_0xd23fd7(0x1f1));}catch(_0x37b3a6){await handleError(_0x37b3a6,_0xd23fd7(0x1c0));}}async function getCloses(_0x6158c9,_0xd59d5b,_0x14eef5=undefined){const _0x21a48a=_0x21e4bc,_0x12219c='1d';let _0xc1bb1a,_0x5301f1;const _0x47dfc9=fns[_0x21a48a(0x103)](new Date(),_0xd59d5b)+0x1;try{const _0x5e1fcd=exchange['milliseconds']()-_0x47dfc9*0x18*0xe10*0x3e8;_0xc1bb1a=await exchange[_0x21a48a(0x148)](_0x6158c9,_0x12219c,_0x5e1fcd,_0x14eef5),_0x5301f1=await exchange['fetchTickers'](_0x6158c9);}catch(_0xf9b2da){await handleError(_0xf9b2da,_0x21a48a(0x131));}let _0x3e97bb=ohlcvToCloses(_0xc1bb1a);return _0x3e97bb[_0x21a48a(0x142)](_0x5301f1[_0x6158c9][_0x21a48a(0x129)]),_0x3e97bb;}function ohlcvToCloses(_0x21d675){const _0x40f2d7=_0x21e4bc;let _0x2838b8=[];return _0x21d675[_0x40f2d7(0xfd)](function(_0x43a5bc){const _0x2a2376=_0x40f2d7;_0x2838b8[_0x2a2376(0x142)](_0x43a5bc[0x4]);}),_0x2838b8;}function getConfiguration(_0x2bb800){const _0x8be684=_0x21e4bc;let _0x145203=dbConfig[_0x8be684(0x182)](_0x8be684(0x10c))[_0x8be684(0x101)]({'botID':_0x2bb800})[_0x8be684(0x15e)]();if(_0x145203){let _0x53f326=![];!_0x145203['exchange']&&(_0x145203={..._0x145203,'exchange':_0x8be684(0x10f)},_0x53f326=!![]),!_0x145203[_0x8be684(0x165)]&&(_0x145203={..._0x145203,'basecoin':_0x8be684(0x1a9)},_0x53f326=!![]),!_0x145203['ordertype']&&(_0x145203={..._0x145203,'ordertype':_0x8be684(0x1ea)},_0x53f326=!![]),!_0x145203['timeout']&&(_0x145203={..._0x145203,'timeout':0x14},_0x53f326=!![]),!_0x145203[_0x8be684(0x1e3)]&&(_0x145203={..._0x145203,'emojibuy':''},_0x53f326=!![]),!_0x145203['emojisell']&&(_0x145203={..._0x145203,'emojisell':''},_0x53f326=!![]),!_0x145203[_0x8be684(0x1e0)]&&(_0x145203={..._0x145203,'showname':![]},_0x53f326=!![]),_0x53f326&&(_0x145203={'botID':_0x145203[_0x8be684(0x1a1)],'exchange':_0x145203[_0x8be684(0x191)],'apiKey':_0x145203['apiKey'],'apiSecret':_0x145203[_0x8be684(0x1df)],'basecoin':_0x145203['basecoin'],'botname':_0x145203[_0x8be684(0x1ce)],'showname':_0x145203[_0x8be684(0x1e0)],'threshold':_0x145203[_0x8be684(0x12b)],'ordertype':_0x145203[_0x8be684(0x1a3)],'timeout':_0x145203['timeout'],'startdate':_0x145203[_0x8be684(0x160)],'recreate':_0x145203[_0x8be684(0x157)],'timeshift':_0x145203[_0x8be684(0x184)],'headless':_0x145203['headless'],'cooldown':_0x145203[_0x8be684(0x1e5)],'emojibuy':_0x145203['emojibuy'],'emojisell':_0x145203[_0x8be684(0x1a5)],'portfolio':_0x145203['portfolio']},dbConfig['get'](_0x8be684(0x10c))[_0x8be684(0x10a)]()[_0x8be684(0x149)](),dbConfig[_0x8be684(0x182)](_0x8be684(0x10c))[_0x8be684(0x142)](_0x145203)[_0x8be684(0x149)]());}else _0x145203={'botID':_0x2bb800,'exchange':_0x8be684(0x10f),'apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x2bb800,'showname':![],'threshold':'3','ordertype':_0x8be684(0x1ea),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x8be684(0x184)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[]};return _0x145203;}function emittedConfiguration(){const _0x57c32e=_0x21e4bc;let _0x10bc8c;return config[_0x57c32e(0x20d)]==''?_0x10bc8c=config:_0x10bc8c={...config,'apiKey':_0x57c32e(0x188),'apiSecret':_0x57c32e(0x188)},_0x10bc8c;}function getSettings(){const _0x1f7f83=_0x21e4bc;return dbSettings[_0x1f7f83(0x182)](_0x1f7f83(0x171))[_0x1f7f83(0x15e)]();}function getSecure(){const _0x2cca19=_0x21e4bc;return dbSecure[_0x2cca19(0x182)](_0x2cca19(0x1fe))[_0x2cca19(0x15e)]()||{};}function updateTimeshift(_0x391d87){const _0x5658bd=_0x21e4bc;let _0x174a69=dbConfig[_0x5658bd(0x182)](_0x5658bd(0x10c))[_0x5658bd(0x101)]({'botID':botID})[_0x5658bd(0x15e)]();_0x174a69&&dbConfig[_0x5658bd(0x182)](_0x5658bd(0x10c))[_0x5658bd(0x101)]({'botID':botID})[_0x5658bd(0x19c)]({'timeshift':_0x391d87})['write'](),config['timeshift']=_0x391d87,proxyEmit(_0x5658bd(0x1b4),emittedConfiguration());}async function storeConfiguration(_0x44a497){const _0xfb92a9=_0x21e4bc;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x229922=dbConfig[_0xfb92a9(0x182)]('bot')['find']({'botID':botID})['value']();_0x44a497={..._0x44a497,'apiKey':crypt['decrypt'](secure[_0xfb92a9(0x15b)],_0x44a497[_0xfb92a9(0x20d)])[_0xfb92a9(0x20b)],'apiSecret':crypt['decrypt'](secure[_0xfb92a9(0x15b)],_0x44a497[_0xfb92a9(0x1df)])['message']};if(_0x229922){if(_0x44a497[_0xfb92a9(0x20d)]==_0xfb92a9(0x188))_0x44a497[_0xfb92a9(0x20d)]=config[_0xfb92a9(0x20d)];if(_0x44a497['apiSecret']==_0xfb92a9(0x188))_0x44a497['apiSecret']=config[_0xfb92a9(0x1df)];dbConfig[_0xfb92a9(0x182)](_0xfb92a9(0x10c))[_0xfb92a9(0x101)]({'botID':botID})['assign'](_0x44a497)['write']();}else dbConfig[_0xfb92a9(0x182)](_0xfb92a9(0x10c))[_0xfb92a9(0x142)](_0x44a497)['write'](),process[_0xfb92a9(0x14c)]({'status':_0xfb92a9(0x1d8),'live':_0xfb92a9(0x140)});config={..._0x44a497};if(config[_0xfb92a9(0x157)])await recreateHistory(config);else await setStartDatePerformance(config);process['send']({'botname':_0x44a497['botname']}),proxyEmit(_0xfb92a9(0x11d)),reset();}async function storeHeadless(_0x9cb83b){const _0x5b2437=_0x21e4bc,_0x3a81a6={...config,'headless':_0x9cb83b['headless']};let _0x371c58=dbConfig['get'](_0x5b2437(0x10c))[_0x5b2437(0x101)]({'botID':botID})['value']();_0x371c58&&dbConfig[_0x5b2437(0x182)]('bot')['find']({'botID':botID})['assign'](_0x3a81a6)[_0x5b2437(0x149)](),config={..._0x3a81a6},proxyEmit(_0x5b2437(0x1b4),emittedConfiguration());}function noslash(_0x472beb){const _0x1f1c8d=_0x21e4bc;return _0x472beb[_0x1f1c8d(0x200)]('/','');}function updateNumberCoins(_0x16595a){const _0x59e573=_0x21e4bc;_0x16595a[_0x59e573(0x17d)]&&_0x16595a['eventType']==_0x59e573(0x13c)&&_0x16595a[_0x59e573(0x1b7)][_0x59e573(0xfd)](_0x3cc906=>{const _0x5a462c=_0x59e573;let _0x2cb116=currentCoins['find'](_0x289369=>_0x289369[_0x5a462c(0x1fd)]==_0x3cc906[_0x5a462c(0x154)]),_0x2c91fe=config[_0x5a462c(0x20c)][_0x5a462c(0x101)](_0x590ed6=>_0x590ed6['coin']==_0x3cc906[_0x5a462c(0x154)]);if(_0x2cb116&&_0x2c91fe)_0x2cb116[_0x5a462c(0x15c)]=Math['max'](Number(_0x3cc906[_0x5a462c(0x185)])+(_0x2c91fe[_0x5a462c(0x18e)]||0x0),0x0);});if(_0x16595a[_0x59e573(0x17d)]&&_0x16595a['eventType']==_0x59e573(0x12c)){if(_0x16595a['orderType']==_0x59e573(0x10d)&&_0x16595a[_0x59e573(0x115)]==_0x59e573(0x15d)){if(lastOrders)lastOrders['forEach'](_0x1977e2=>{const _0x17d2a7=_0x59e573;if(_0x1977e2['orderId']==_0x16595a['orderId']){if(_0x1977e2[_0x17d2a7(0x187)])_0x1977e2['filled']=_0x16595a['accumulatedQuantity']*_0x1977e2[_0x17d2a7(0x1ef)];else _0x1977e2[_0x17d2a7(0x1ae)]=_0x16595a['accumulatedQuantity'];}});}}}async function getCoins(_0x5aab8e=!![],_0x533c5f=config[_0x21e4bc(0x165)]){const _0xd1c212=_0x21e4bc;let _0x4cba1d,_0x51ea70=[],_0x1ff565=[],_0x1d5232=[];try{_0x4cba1d=await exchange[_0xd1c212(0x121)](),mybalances=_0x4cba1d[_0xd1c212(0x172)];if(!_0x5aab8e)for(const [_0x5094fd,_0x32a45c]of Object[_0xd1c212(0x1d2)](mybalances)){_0x1d5232[_0xd1c212(0x142)](_0x5094fd);}else config[_0xd1c212(0x20c)]['forEach'](_0x457226=>{const _0x379f6b=_0xd1c212;if(!_0x457226['excluded'])_0x1d5232[_0x379f6b(0x142)](_0x457226[_0x379f6b(0x1fd)]);});if(_0x533c5f=='')for(const [_0x22f234,_0xbf022d]of Object[_0xd1c212(0x1d2)](mybalances)){_0xbf022d[_0xd1c212(0x168)]()!=0x0&&_0x1ff565[_0xd1c212(0x142)]({'coin':_0x22f234});}else for(const [_0xca38dd,_0x25df4a]of Object[_0xd1c212(0x1d2)](mybalances)){if(_0x1d5232['includes'](_0xca38dd)){const _0x123759=config['portfolio'][_0xd1c212(0x101)](_0x5511f1=>_0x5511f1[_0xd1c212(0x1fd)]==_0xca38dd);if((_0x25df4a[_0xd1c212(0x168)]()!=0x0||_0x123759)&&(allSymbols[_0xd1c212(0x197)](_0xca38dd+'/'+_0x533c5f)||_0xca38dd==_0x533c5f))_0x1ff565[_0xd1c212(0x142)]({'coin':_0xca38dd,'symbol':_0xca38dd+'/'+_0x533c5f,'reverse':![],'number':Math[_0xd1c212(0x13d)](_0x25df4a+(_0x123759&&_0x123759['offset']||0x0),0x0)}),_0xca38dd!=_0x533c5f&&_0x51ea70[_0xd1c212(0x142)](_0xca38dd+'/'+_0x533c5f);else(_0x25df4a[_0xd1c212(0x168)]()!=0x0||_0x123759)&&allSymbols[_0xd1c212(0x197)](_0x533c5f+'/'+_0xca38dd)&&(_0x1ff565[_0xd1c212(0x142)]({'coin':_0xca38dd,'symbol':_0x533c5f+'/'+_0xca38dd,'reverse':!![],'number':Math[_0xd1c212(0x13d)](_0x25df4a+(_0x123759&&_0x123759[_0xd1c212(0x18e)]||0x0),0x0)}),_0xca38dd!=_0x533c5f&&_0x51ea70[_0xd1c212(0x142)](_0x533c5f+'/'+_0xca38dd));}}}catch(_0xec85cd){if(!_0x5aab8e){if(_0xec85cd[_0xd1c212(0x168)]()[_0xd1c212(0x197)](_0xd1c212(0x135)))return logHistory(_0xd1c212(0x1c3),_0xd1c212(0x100)),![];else{if(_0xec85cd[_0xd1c212(0x168)]()[_0xd1c212(0x197)](_0xd1c212(0x173)))return logHistory('error',_0xd1c212(0x130)),![];else{if(_0xec85cd['toString']()[_0xd1c212(0x197)](_0xd1c212(0x17b)))return logHistory(_0xd1c212(0x1c3),_0xd1c212(0x152)),![];else await handleError(_0xec85cd,'getCoins()');}}}else await handleError(_0xec85cd,_0xd1c212(0x13b));}return _0x1ff565;}async function getPortfolio(_0x3a111d){const _0x566157=_0x21e4bc;let _0x4a3ad8=[],_0x3836cc=[],_0x38e95c,_0x5560ad=[],_0x5262f0,_0x4f567c;_0x3a111d[_0x566157(0x20d)]==='************'||_0x3a111d[_0x566157(0x1df)]==='************'?(_0x5262f0=config['apiKey'],_0x4f567c=config[_0x566157(0x1df)]):(_0x5262f0=_0x3a111d['apiKey'],_0x4f567c=_0x3a111d[_0x566157(0x1df)]);await initExchange(_0x5262f0,_0x4f567c);let _0x1bf3ae=await loadSymbols();if(_0x1bf3ae){_0x5560ad=await getCoins(![],_0x3a111d[_0x566157(0x165)]);if(_0x5560ad===![])proxyEmit(_0x566157(0x20c),![]);else{if(_0x3a111d[_0x566157(0x165)]=='')proxyEmit('portfolio',_0x5560ad);else{_0x5560ad['forEach'](_0x43927c=>{const _0x2a90dc=_0x566157;_0x4a3ad8[_0x2a90dc(0x142)](_0x43927c['symbol']);});try{_0x3836cc=await exchange[_0x566157(0x13e)](_0x4a3ad8);}catch(_0x44ac71){await handleError(_0x44ac71,_0x566157(0x1e7));}_0x5560ad[_0x566157(0xfd)](_0x213007=>{const _0x1e6b2b=_0x566157;_0x213007[_0x1e6b2b(0x1fd)]!=_0x3a111d['basecoin']?_0x38e95c=_0x213007['reverse']?0x1/_0x3836cc[_0x213007[_0x1e6b2b(0x177)]]['last']:_0x3836cc[_0x213007[_0x1e6b2b(0x177)]][_0x1e6b2b(0x129)]:_0x38e95c=0x1,_0x213007[_0x1e6b2b(0x1ef)]=formatResult(_0x38e95c,0x8);}),proxyEmit(_0x566157(0x20c),_0x5560ad);}}}else proxyEmit(_0x566157(0x20c),![]);}function _0x3804(){const _0x1d69e7=['privateKey','number','FILLED','value','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','startdate','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','argv','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','BTCEUR','basecoin','toLowerCase','WebSockets(','toString','-results.json','Market','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','buy','8071120ZtegwG','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','cancelLoading','BNB','settings','total','AuthenticationError','USDC','has','constructor','symbol','limit','distribution','6708296nlzpmp','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','eventType','min','amount','bot-','13452ETPXfP','get','001','timeshift','availableBalance','(((.+)+)+)+$','reverse','************','Order(s)\x20filled\x20-\x20balancing\x20resumed','BTC/EUR','getStartingBalances','wsKey','Error:\x20Invalid\x20argument\x20','offset','limit-high','\x20-\x20','exchange','shift','test','bb-settings.json','remainingSymbols','yyyy-MM-dd\x27T\x27HH:mm:ss','includes','Pausing\x20bot\x20for\x205\x20minutes\x20(','stringify','spot','headless','assign','orderId','version','BTC/BUSD','date-fns','botID','332844WDduZE','ordertype','Executed\x20','emojisell','Order:\x20','getMonth','MIN_NOTIONAL','BTC','eur','HOT/EUR','Order(s)\x20validated\x20-\x20balancing\x20resumed','sell','filled','ccxt','\x20minutes\x20-\x20balancing\x20resumed','createOrder','33163141ZDPYEI','./version.json','configuration','-events.json','Order\x20amount\x20is\x20invalid:\x20','balances','getDate','currency','coin-loading-progress','cost','sha256',':\x20Bot\x20','differenceInSeconds','RSA-OAEP','recreateHistory()','storeHeadless','./config/','error','filter','abs','realized','parse','startprice','Invalid\x20quantity','type','wsMarket','bb-secure.json','exit','botname','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','getTime','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','entries','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','11YVyXBh','BUSD','Order\x20filled:\x20','search','enabled','success','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','apply','symbols','BTCUSDT','Order(s)\x20not\x20validated\x20after\x20','apiSecret','showname','kline','side','emojibuy','event','cooldown','OrderNotFound','getPortfolio()','reduce','indexOf','market','getMinutes','existsSync','DDoSProtection','yyyy/MM/dd\x20HH:mm:ss','price','defaults','Performance\x20recreation\x20completed\x20successfully','lowdb/adapters/FileSync',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','\x20hour','delta','initclient','Limit\x20(high-margin)','fees','limit-low','Unfilled\x20order(s)\x20canceled\x20after\x20','RequestTimeout','coin','secure','sells','replace',')\x20|\x20Error\x20details:\x20','Crypt','getPortfolio','length','slice','EUR','closeWs','sortBy','usd','245HstxpN','message','portfolio','apiKey','getHours','limits','forEach','userData','initws()','Binance\x20API\x20key\x20is\x20invalid','find','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','differenceInCalendarDays','cancel','splice','page','timestamp','time','bid','remove','isArray','bot','LIMIT','64UpzRtM','binance','valid','formattedMessage','target','keys','\x20|\x20Unknown\x20error\x20occured','orderStatus','BTC/USDT','\x20>\x20','performance','datetime','progress','order','kill','configuration-stored','coins','getFullYear','binanceus','fetchBalance','getSeconds','timeout','reconnected','328995Fkwdqo','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','77298XRcyob','map','last','parseISO','threshold','executionReport','restart','logs','storeConfiguration','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','getCloses()','startnumber','mkdirSync','USDT','API-key\x20format\x20invalid','HOT/BTC','padStart','round','data','sort','getCoins()','outboundAccountPosition','max','fetchTickers','format','running','buys','push','split','excluded','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','trade','wss://stream.binance.com:9443','fetchOHLCV','write','date','fee','send','args','\x20order:\x20','ticker','log','ExchangeNotAvailable','Binance\x20API\x20secret\x20is\x20invalid','fetchOrders','asset','function','breakeven','recreate','230fNQvAb','InsufficientFunds','DAI/'];_0x3804=function(){return _0x1d69e7;};return _0x3804();}function checkMinimums(_0x1d54e7){const _0x238082=_0x21e4bc;let _0x200fc9=!![];const _0x2a48d7=!_0x1d54e7[_0x238082(0x187)]?markets[_0x1d54e7['symbol']][_0x238082(0x20f)][_0x238082(0x17f)][_0x238082(0x17e)]:markets[_0x1d54e7[_0x238082(0x177)]][_0x238082(0x20f)]['cost']['min'],_0x1a73dd=!_0x1d54e7[_0x238082(0x187)]?markets[_0x1d54e7[_0x238082(0x177)]][_0x238082(0x20f)][_0x238082(0x1bb)][_0x238082(0x17e)]:markets[_0x1d54e7[_0x238082(0x177)]][_0x238082(0x20f)][_0x238082(0x17f)][_0x238082(0x17e)];if(Math[_0x238082(0x1c5)](_0x1d54e7[_0x238082(0x146)])<_0x2a48d7)_0x200fc9=![];if(Math[_0x238082(0x1c5)](_0x1d54e7[_0x238082(0x146)])*_0x1d54e7[_0x238082(0x129)]<_0x1a73dd)_0x200fc9=![];return _0x200fc9;}async function getBalances(){const _0x4efd86=_0x21e4bc;let _0x72be8=0x0,_0x6e2cc4;const _0x106df4=config[_0x4efd86(0x12b)];currentCoins[_0x4efd86(0xfd)](_0x2c256f=>{const _0x5d68bf=_0x4efd86;if(_0x2c256f[_0x5d68bf(0x1fd)]!=config['basecoin']){let _0x57e813=global[_0x5d68bf(0x14f)][noslash(_0x2c256f[_0x5d68bf(0x177)])];_0x6e2cc4=_0x2c256f[_0x5d68bf(0x187)]?0x1/_0x57e813:_0x57e813;}else _0x6e2cc4=0x1;let _0x27c4f1=_0x2c256f[_0x5d68bf(0x15c)]*_0x6e2cc4;_0x72be8+=_0x27c4f1,_0x2c256f[_0x5d68bf(0x129)]=formatResult(Number(_0x6e2cc4),0x8),_0x2c256f[_0x5d68bf(0x15e)]=_0x27c4f1;}),currentCoins[_0x4efd86(0xfd)](_0x40da18=>{const _0xc68dd5=_0x4efd86;let _0x1b7c48=config[_0xc68dd5(0x20c)][_0xc68dd5(0x101)](_0x38447a=>_0x38447a[_0xc68dd5(0x1fd)]==_0x40da18['coin']),_0x38ffd9=Number(_0x1b7c48['distribution']),_0xd6b595=_0x40da18[_0xc68dd5(0x15e)]/_0x72be8*0x64,_0x2363c8=_0x38ffd9*_0x72be8/0x64/_0x40da18[_0xc68dd5(0x129)]-_0x40da18[_0xc68dd5(0x15c)];_0x40da18[_0xc68dd5(0x179)]=formatResult(_0xd6b595,0x3),_0x40da18['target']=formatResult(_0x38ffd9,0x3),_0x40da18[_0xc68dd5(0x146)]=formatResult(_0x2363c8,0x8),_0x40da18[_0xc68dd5(0x1e2)]='',_0x40da18['valid']='';if(_0x40da18[_0xc68dd5(0x1fd)]!=config['basecoin']){if(_0x40da18[_0xc68dd5(0x179)]>_0x38ffd9)_0x40da18[_0xc68dd5(0x1e2)]=_0xc68dd5(0x1ad),_0x40da18[_0xc68dd5(0x110)]=checkMinimums(_0x40da18);else _0x40da18[_0xc68dd5(0x179)]<_0x38ffd9&&(_0x40da18[_0xc68dd5(0x1e2)]=_0xc68dd5(0x16c),_0x40da18[_0xc68dd5(0x110)]=checkMinimums(_0x40da18));}_0x40da18['delta']=_0x40da18[_0xc68dd5(0x179)]/_0x40da18[_0xc68dd5(0x112)]-0x1;}),currentCoins['sort']((_0x1ca31e,_0x30376c)=>_0x1ca31e[_0x4efd86(0x1f6)]<_0x30376c[_0x4efd86(0x1f6)]?0x1:_0x30376c[_0x4efd86(0x1f6)]<_0x1ca31e[_0x4efd86(0x1f6)]?-0x1:0x0);const _0x4e5e9d=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4e5e9d[_0x4efd86(0x1aa)],'usd':_0x4e5e9d['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x106df4},proxyEmit(_0x4efd86(0x1b7),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x4efd86(0x19b)])headlessMode({'portfolio':currentCoins,'threshold':_0x106df4});!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance());lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance());if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4a527c=_0x21e4bc;if(!lastBalances)return;let _0x10e99f=await getStartingBalances(![]),_0x42abd2=[],_0x455d89;JSON['parse'](lastBalances[_0x4a527c(0x20c)])[_0x4a527c(0xfd)](_0x19c3d3=>{const _0x40a6de=_0x4a527c;let _0x5ea011={'coin':_0x19c3d3[_0x40a6de(0x1fd)],'number':_0x19c3d3[_0x40a6de(0x15c)],'price':_0x19c3d3['last']};_0x42abd2[_0x40a6de(0x142)](_0x5ea011);});const _0x189fad=await getFiat();_0x455d89={'date':lastBalances[_0x4a527c(0x108)][_0x4a527c(0x143)]('\x20')[0x0],'eur':_0x189fad[_0x4a527c(0x1aa)],'usd':_0x189fad[_0x4a527c(0x209)],'coins':_0x42abd2};let _0x901856=dbPerformance['get']('data')[_0x4a527c(0x101)]({'date':_0x455d89['date']})[_0x4a527c(0x15e)]();_0x901856?dbPerformance[_0x4a527c(0x182)]('data')[_0x4a527c(0x101)]({'date':_0x455d89[_0x4a527c(0x14a)]})[_0x4a527c(0x19c)](_0x455d89)[_0x4a527c(0x149)]():dbPerformance[_0x4a527c(0x182)](_0x4a527c(0x139))[_0x4a527c(0x142)](_0x455d89)[_0x4a527c(0x149)](),lastPerformanceStored=getHour();}function emitPerformance(){const _0x57dd64=_0x21e4bc;if(dbPerformance[_0x57dd64(0x175)](_0x57dd64(0x139))[_0x57dd64(0x15e)]()){let _0xbb2201=dbPerformance[_0x57dd64(0x182)]('data')[_0x57dd64(0x208)](_0x57dd64(0x14a))[_0x57dd64(0x15e)]();proxyEmit(_0x57dd64(0x118),_0xbb2201),lastPerformanceEmitted=getDate();}else proxyEmit(_0x57dd64(0x118),[]);}async function getStartingBalances(_0x4453b6=!![]){const _0x28d823=_0x21e4bc;let _0x5d465c=dbPerformance[_0x28d823(0x182)](_0x28d823(0x139))['find']({'date':config[_0x28d823(0x160)]})['value']();config[_0x28d823(0x20d)]!=''&&!_0x5d465c&&(await setStartDatePerformance(config),_0x5d465c=dbPerformance[_0x28d823(0x182)]('data')[_0x28d823(0x101)]({'date':config[_0x28d823(0x160)]})[_0x28d823(0x15e)]());if(config['apiKey']==''||!_0x5d465c)return{};let _0x4a706a=0x0,_0x35ccd2=0x0,_0x2a9e68=0x0,_0x5cf8ec=[],_0x39282c=0x0;config['portfolio'][_0x28d823(0xfd)](_0x2f2521=>{const _0x4a47bd=_0x28d823;if(!_0x2f2521[_0x4a47bd(0x144)]){_0x5cf8ec[_0x39282c]={'coin':_0x2f2521[_0x4a47bd(0x1fd)],'symbol':_0x2f2521['symbol'],'number':_0x2f2521['startnumber'],'price':_0x2f2521['startprice']},_0x4a706a+=_0x2f2521['startprice']*_0x2f2521['startnumber'];if(config[_0x4a47bd(0x165)]=='BTC')_0x35ccd2+=_0x2f2521[_0x4a47bd(0x1c8)]*_0x2f2521[_0x4a47bd(0x132)]*_0x5d465c[_0x4a47bd(0x1aa)],_0x2a9e68+=_0x2f2521[_0x4a47bd(0x1c8)]*_0x2f2521[_0x4a47bd(0x132)]*_0x5d465c[_0x4a47bd(0x209)];else{if(config[_0x4a47bd(0x165)]==_0x4a47bd(0x1d5)||config[_0x4a47bd(0x165)]==_0x4a47bd(0x134)||config[_0x4a47bd(0x165)]==_0x4a47bd(0x174))_0x35ccd2+=_0x2f2521['startprice']*_0x2f2521['startnumber']*_0x5d465c[_0x4a47bd(0x1aa)]/_0x5d465c[_0x4a47bd(0x209)],_0x2a9e68+=_0x2f2521[_0x4a47bd(0x1c8)]*_0x2f2521['startnumber'];else config[_0x4a47bd(0x165)]==_0x4a47bd(0x206)&&(_0x35ccd2+=_0x2f2521[_0x4a47bd(0x1c8)]*_0x2f2521['startnumber'],_0x2a9e68+=_0x2f2521[_0x4a47bd(0x1c8)]*_0x2f2521[_0x4a47bd(0x132)]*_0x5d465c['usd']/_0x5d465c[_0x4a47bd(0x1aa)]);}_0x39282c++;}});let _0xdc0a77={'basecoin':_0x4a706a,'eur':_0x35ccd2,'usd':_0x2a9e68,'coins':_0x5cf8ec};if(_0x4453b6)proxyEmit('starting-balances',_0xdc0a77);return _0xdc0a77;}function headlessMode(_0x123514){const _0x3c38fb=_0x21e4bc;let _0x2469a8=_0x123514[_0x3c38fb(0x20c)],_0x18c962=_0x123514[_0x3c38fb(0x12b)],_0x2579f0=[];for(let _0x15d6ad of _0x2469a8){if(_0x15d6ad[_0x3c38fb(0x1fd)]!=config['basecoin']){if(_0x15d6ad['distribution']/_0x15d6ad[_0x3c38fb(0x112)]-0x1>=_0x18c962/0x64){if(_0x15d6ad['valid'])_0x2579f0['push'](_0x15d6ad);}else{if(_0x15d6ad[_0x3c38fb(0x179)]/_0x15d6ad['target']-0x1<=-_0x18c962/0x64){if(_0x15d6ad[_0x3c38fb(0x110)])_0x2579f0['push'](_0x15d6ad);}}}}_0x2579f0[_0x3c38fb(0x204)]>0x0&&placeOrder(_0x2579f0);}function symbolToCoin(_0x107a2c){const _0x28fe71=_0x21e4bc;let _0x3214b7;if(_0x107a2c[_0x28fe71(0x197)]('/'+config[_0x28fe71(0x165)]))_0x3214b7=_0x107a2c[_0x28fe71(0x200)]('/'+config[_0x28fe71(0x165)],'');if(_0x107a2c[_0x28fe71(0x197)](config[_0x28fe71(0x165)]+'/'))_0x3214b7=_0x107a2c[_0x28fe71(0x200)](config[_0x28fe71(0x165)]+'/','');return _0x3214b7;}async function validateOrders(_0x266170=0x0){const _0x34ab97=_0x21e4bc;let _0x14e1d4=[],_0x50ad89=config['ordertype']==_0x34ab97(0x1ea)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x34ab97(0x123)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x34ab97(0xfd)](_0x5dbdb0=>{const _0x306929=_0x34ab97;let _0x56ec21=previousCoins[_0x306929(0x101)](_0x5b6d67=>_0x5b6d67['coin']==symbolToCoin(_0x5dbdb0[_0x306929(0x177)])),_0x50fd45=currentCoins[_0x306929(0x101)](_0x5cb6a1=>_0x5cb6a1[_0x306929(0x1fd)]==symbolToCoin(_0x5dbdb0[_0x306929(0x177)])),_0x42bd4b,_0x2c9db0;_0x5dbdb0[_0x306929(0x1e2)]=='buy'&&!_0x5dbdb0[_0x306929(0x187)]||_0x5dbdb0[_0x306929(0x1e2)]==_0x306929(0x1ad)&&_0x5dbdb0['reverse']?(_0x42bd4b=_0x56ec21[_0x306929(0x15c)]+0.9*_0x5dbdb0[_0x306929(0x1ae)],_0x2c9db0=_0x56ec21[_0x306929(0x15c)]+1.1*_0x5dbdb0[_0x306929(0x1ae)]):(_0x42bd4b=_0x56ec21[_0x306929(0x15c)]-1.1*_0x5dbdb0[_0x306929(0x1ae)],_0x2c9db0=_0x56ec21[_0x306929(0x15c)]-0.9*_0x5dbdb0[_0x306929(0x1ae)]);const _0x5114b0=_0x5dbdb0[_0x306929(0x1ae)]!=0x0&&_0x50fd45['number']>=_0x42bd4b&&_0x50fd45[_0x306929(0x15c)]<=_0x2c9db0;_0x14e1d4[_0x306929(0x142)](_0x5114b0);if(_0x5114b0&&config[_0x306929(0x1a3)]!=_0x306929(0x1ea)){if(_0x5dbdb0[_0x306929(0x187)])logHistory(_0x306929(0x11b),_0x306929(0x1d6)+_0x5dbdb0[_0x306929(0x177)]+'\x20'+_0x5dbdb0['side']+'\x20#'+formatResult(_0x5dbdb0['filled']/_0x5dbdb0['price'],0x8)+'\x20@'+formatResult(_0x5dbdb0[_0x306929(0x1ef)],0x8));else logHistory(_0x306929(0x11b),_0x306929(0x1d6)+_0x5dbdb0['symbol']+'\x20'+_0x5dbdb0[_0x306929(0x1e2)]+'\x20#'+formatResult(_0x5dbdb0['filled'],0x8)+'\x20@'+formatResult(_0x5dbdb0[_0x306929(0x1ef)],0x8));}}),_0x14e1d4[_0x34ab97(0xfd)]((_0x43771f,_0x4a3d37)=>{if(_0x43771f)lastOrders['splice'](_0x4a3d37,0x1);});if(_0x266170<_0x50ad89&&_0x14e1d4[_0x34ab97(0x197)](![])){if(_0x266170==0x0){config['ordertype']==_0x34ab97(0x1ea)?logHistory('error',_0x34ab97(0x102)):logHistory(_0x34ab97(0x1c3),_0x34ab97(0x126));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x266170);},0xa*0x3e8);}else{(_0x266170==0x1||_0x266170==Math[_0x34ab97(0x138)](_0x50ad89/0x2)||_0x266170==_0x50ad89-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x266170);},validateOrderInterval);}}else{lockOrders=![];if(_0x266170>0x0&&!_0x14e1d4['includes'](![]))config['ordertype']==_0x34ab97(0x1ea)?logHistory(_0x34ab97(0x1d9),_0x34ab97(0x1ac)):logHistory(_0x34ab97(0x1d9),_0x34ab97(0x189));else _0x266170>0x0&&_0x14e1d4['includes'](![])&&(config[_0x34ab97(0x1a3)]=='market'?logHistory(_0x34ab97(0x1d9),_0x34ab97(0x1de)+Math[_0x34ab97(0x138)](_0x50ad89*validateOrderInterval/0xea60)+_0x34ab97(0x1b0)):(lastOrders[_0x34ab97(0xfd)](async _0x1649cb=>{const _0x310602=_0x34ab97;try{const _0x14fac0=await exchange['cancelOrder'](_0x1649cb[_0x310602(0x19d)],_0x1649cb['symbol']);}catch(_0x256cc4){if(_0x256cc4[_0x310602(0x168)]()[_0x310602(0x197)](_0x310602(0x1e6))){}else await handleError(_0x256cc4,'cancelOrder()');}}),logHistory('success',_0x34ab97(0x1fb)+Math[_0x34ab97(0x138)](_0x50ad89*validateOrderInterval/0xea60)+_0x34ab97(0x1b0))));}}async function resetCoinResults(){const _0x1fa0bb=_0x21e4bc;dbCoinResults[_0x1fa0bb(0x182)](_0x1fa0bb(0x11e))[_0x1fa0bb(0x10a)]()['write']();let _0x13eae5=await getStartingBalances(![]);_0x13eae5['coins'][_0x1fa0bb(0xfd)](_0x18522c=>{const _0x20114c=_0x1fa0bb,_0x3a7061=_0x18522c[_0x20114c(0x177)][_0x20114c(0x197)](config['basecoin']+'/');if(_0x18522c[_0x20114c(0x1fd)]!=config['basecoin']){let _0x1c31e7={'coin':_0x18522c[_0x20114c(0x1fd)],'number':_0x18522c[_0x20114c(0x15c)],'breakeven':_0x18522c[_0x20114c(0x1ef)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x20114c(0x182)](_0x20114c(0x11e))[_0x20114c(0x142)](_0x1c31e7)[_0x20114c(0x149)]();}});}async function updateCoinResults(_0x2110c7){const _0x13b62e=_0x21e4bc;let _0x5934ec,_0x2b58fc,_0x1f8cb7,_0x276b0e,_0x184a0b,_0x11a59f,_0x564850=dbCoinResults[_0x13b62e(0x182)]('coins')[_0x13b62e(0x101)]({'coin':_0x2110c7[_0x13b62e(0x1fd)]})[_0x13b62e(0x15e)]();if(!_0x564850)return;if(_0x2110c7[_0x13b62e(0x14b)]&&_0x2110c7['fee'][_0x13b62e(0x1b9)]==config[_0x13b62e(0x165)])_0x5934ec=_0x2110c7[_0x13b62e(0x14b)][_0x13b62e(0x1bb)];else{if(_0x2110c7[_0x13b62e(0x14b)]&&_0x2110c7[_0x13b62e(0x14b)]['currency']=='BNB')_0x5934ec=_0x2110c7[_0x13b62e(0x14b)][_0x13b62e(0x1bb)]*global[_0x13b62e(0x14f)][_0x13b62e(0x170)+config['basecoin']];else _0x5934ec=0.001*_0x2110c7[_0x13b62e(0x1ae)];}const _0xe91e6a=_0x2110c7['symbol']['includes'](config[_0x13b62e(0x165)]+'/');_0xe91e6a&&(_0x11a59f={'coin':_0x2110c7[_0x13b62e(0x1fd)],'symbol':_0x2110c7[_0x13b62e(0x177)],'filled':_0x2110c7[_0x13b62e(0x1ae)]*_0x2110c7[_0x13b62e(0x1ef)],'side':_0x2110c7[_0x13b62e(0x1e2)]==_0x13b62e(0x1ad)?_0x13b62e(0x16c):_0x13b62e(0x1ad),'price':0x1/_0x2110c7[_0x13b62e(0x1ef)]},_0x2110c7={..._0x11a59f});_0x2110c7[_0x13b62e(0x1e2)]==_0x13b62e(0x16c)?_0x1f8cb7=(_0x564850[_0x13b62e(0x156)]*_0x564850['number']+_0x2110c7[_0x13b62e(0x1ef)]*_0x2110c7[_0x13b62e(0x1ae)])/(_0x564850[_0x13b62e(0x15c)]+_0x2110c7[_0x13b62e(0x1ae)]):_0x1f8cb7=(_0x564850['breakeven']*_0x564850['number']-_0x2110c7[_0x13b62e(0x1ef)]*_0x2110c7[_0x13b62e(0x1ae)])/(_0x564850[_0x13b62e(0x15c)]-_0x2110c7[_0x13b62e(0x1ae)]);_0x2110c7[_0x13b62e(0x1e2)]==_0x13b62e(0x16c)?_0x276b0e=_0x564850[_0x13b62e(0x1c6)]:_0x276b0e=_0x564850['realized']+(_0x2110c7[_0x13b62e(0x1ef)]-_0x564850[_0x13b62e(0x156)])*_0x2110c7[_0x13b62e(0x1ae)];_0x2b58fc=_0x2110c7[_0x13b62e(0x1e2)]=='sell'?_0x564850[_0x13b62e(0x15c)]-_0x2110c7[_0x13b62e(0x1ae)]:_0x564850[_0x13b62e(0x15c)]+_0x2110c7[_0x13b62e(0x1ae)],_0x184a0b=(_0x2110c7[_0x13b62e(0x1ef)]-_0x1f8cb7)*_0x2b58fc;let _0x4bf28b={'coin':_0x2110c7[_0x13b62e(0x1fd)],'number':_0x2b58fc,'breakeven':formatResult(_0x1f8cb7,0x8),'realized':formatResult(_0x276b0e,0x8),'unrealized':formatResult(_0x184a0b,0x8),'fees':formatResult(_0x564850[_0x13b62e(0x1f9)]+_0x5934ec,0x8),'sells':_0x2110c7[_0x13b62e(0x1e2)]=='sell'?_0x564850[_0x13b62e(0x1ff)]+0x1:_0x564850['sells'],'buys':_0x2110c7[_0x13b62e(0x1e2)]==_0x13b62e(0x16c)?_0x564850[_0x13b62e(0x141)]+0x1:_0x564850[_0x13b62e(0x141)]};dbCoinResults[_0x13b62e(0x182)]('coins')[_0x13b62e(0x101)]({'coin':_0x2110c7['coin']})[_0x13b62e(0x19c)](_0x4bf28b)[_0x13b62e(0x149)]();}async function placeOrder(_0x511868){const _0x5545e0=_0x21e4bc,_0x5089c3=config[_0x5545e0(0x1a3)]==_0x5545e0(0x1ea)?'market':_0x5545e0(0x178);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x5545e0(0x199)](currentCoins));for(const _0x3b32bf of _0x511868){let _0x47b1f4,_0x1e6c07,_0x108a60,_0x457dca,_0x4bcba4,_0x4de3a9=_0x3b32bf[_0x5545e0(0x177)];try{const _0x59b484=await exchange['fetchTickers'](_0x4de3a9),_0x4ec6cf=_0x59b484[_0x4de3a9];_0x47b1f4=_0x4ec6cf[_0x5545e0(0x129)],_0x1e6c07=_0x4ec6cf[_0x5545e0(0x109)],_0x108a60=_0x4ec6cf['ask'];_0x3b32bf['reverse']?(_0x457dca=_0x3b32bf['side']==_0x5545e0(0x16c)?_0x5545e0(0x1ad):_0x5545e0(0x16c),_0x4bcba4=Math[_0x5545e0(0x1c5)](_0x3b32bf[_0x5545e0(0x146)])/_0x47b1f4):(_0x457dca=_0x3b32bf[_0x5545e0(0x1e2)],_0x4bcba4=Math[_0x5545e0(0x1c5)](_0x3b32bf[_0x5545e0(0x146)]));_0x5089c3==_0x5545e0(0x178)&&(config[_0x5545e0(0x1a3)]==_0x5545e0(0x18f)&&(_0x47b1f4=_0x457dca=='buy'?_0x1e6c07:_0x108a60),config[_0x5545e0(0x1a3)]==_0x5545e0(0x1fa)&&(_0x47b1f4=_0x457dca=='buy'?_0x108a60:_0x1e6c07));_0x4bcba4=formatResult(_0x4bcba4,0x8),_0x47b1f4=formatResult(_0x47b1f4,0x8);const _0x23fa55=await exchange[_0x5545e0(0x1b1)](_0x4de3a9,_0x5089c3,_0x457dca,_0x4bcba4,_0x47b1f4);lastOrders[_0x5545e0(0x142)]({'orderId':_0x23fa55['id'],'symbol':_0x4de3a9,'side':_0x457dca,'reverse':_0x3b32bf['reverse'],'amount':_0x3b32bf[_0x5545e0(0x187)]?_0x23fa55[_0x5545e0(0x17f)]*_0x23fa55[_0x5545e0(0x1ef)]:_0x23fa55['amount'],'filled':_0x3b32bf[_0x5545e0(0x187)]?_0x23fa55[_0x5545e0(0x1ae)]*_0x23fa55['price']:_0x23fa55[_0x5545e0(0x1ae)],'price':_0x23fa55[_0x5545e0(0x1ef)]});const _0x792081=_0x457dca==_0x5545e0(0x1ad)?config[_0x5545e0(0x1a5)]?String['fromCodePoint']('0x'+config[_0x5545e0(0x1a5)])+'\x20':'':config[_0x5545e0(0x1e3)]?String['fromCodePoint']('0x'+config['emojibuy'])+'\x20':'',_0x209a29=_0x5089c3==_0x5545e0(0x1ea)?_0x5545e0(0x16a):config[_0x5545e0(0x1a3)]=='limit-high'?_0x5545e0(0x1f8):'Limit\x20(low-margin)';if(_0x5089c3==_0x5545e0(0x1ea))logHistory(_0x5545e0(0x11b),''+_0x792081+_0x209a29+_0x5545e0(0x14e)+_0x4de3a9+'\x20'+_0x457dca+'\x20#'+formatResult(_0x23fa55[_0x5545e0(0x1ae)],0x8)+'\x20@'+formatResult(_0x23fa55[_0x5545e0(0x1ef)],0x8));else logHistory(_0x5545e0(0x11b),''+_0x792081+_0x209a29+_0x5545e0(0x14e)+_0x4de3a9+'\x20'+_0x457dca+'\x20#'+formatResult(_0x23fa55[_0x5545e0(0x17f)],0x8)+'\x20@'+formatResult(_0x23fa55[_0x5545e0(0x1ef)],0x8));_0x23fa55[_0x5545e0(0x1fd)]=_0x3b32bf[_0x5545e0(0x1fd)],await updateCoinResults(_0x23fa55);if(config[_0x5545e0(0x1e5)]!=0x0){let _0x435d76=null;if(cooldownTracker[_0x5545e0(0x204)]==config['cooldown']-0x1)_0x435d76=cooldownTracker[_0x5545e0(0x192)]();const _0xab433e=getTimeStamp();cooldownTracker[_0x5545e0(0x142)](_0xab433e);if(_0x435d76){const _0x50e34b=fns[_0x5545e0(0x1be)](new Date(_0xab433e),new Date(_0x435d76));_0x50e34b<cooldownInterval&&(logHistory(_0x5545e0(0x1c3),_0x5545e0(0x1a4)+config[_0x5545e0(0x1e5)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x5545e0(0x1f4)+cooldownPeriod/(0xe10*0x3e8)+_0x5545e0(0x1f5)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x2213f2){if(_0x2213f2[_0x5545e0(0x168)]()[_0x5545e0(0x197)](_0x5545e0(0x1a8)))logHistory(_0x5545e0(0x1c3),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x4de3a9);else{if(_0x2213f2['toString']()[_0x5545e0(0x197)](_0x5545e0(0x1c9)))logHistory(_0x5545e0(0x1c3),_0x5545e0(0x1b6)+_0x4de3a9);else await handleError(_0x2213f2,'placeOrder()');}}}if(lastOrders[_0x5545e0(0x204)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x5545e0(0x19b)]&&(config['ordertype']=='market'?logHistory(_0x5545e0(0x1c3),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x5545e0(0x1c3),_0x5545e0(0x161)));else coolingDown&&(!config[_0x5545e0(0x19b)]&&logHistory(_0x5545e0(0x1c3),_0x5545e0(0x145)));}}function logHistory(_0x431f6e,_0x3240fd,_0x4710a2=''){const _0x5a98dc=_0x21e4bc;let _0x44a929={'time':getTimeStamp(),'type':_0x431f6e,'event':_0x3240fd,'botname':config[_0x5a98dc(0x1ce)],'showname':config['showname']};dbLogs['get']('logs')[_0x5a98dc(0x142)](_0x44a929)[_0x5a98dc(0x149)]();if(_0x4710a2=='')_0x4710a2=_0x3240fd;proxyEmit(_0x5a98dc(0x1e4),{'log':_0x44a929,'summary':_0x4710a2}),process[_0x5a98dc(0x14c)]({'telegram':_0x44a929}),logging(''+_0x44a929[_0x5a98dc(0x1e4)]);}function emitHistory(_0xa27c72={}){const _0x1f36cb=_0x21e4bc;Object[_0x1f36cb(0x113)](_0xa27c72)[_0x1f36cb(0x204)]==0x0&&(_0xa27c72={'type':[_0x1f36cb(0x11b),_0x1f36cb(0x1e4)],'event':'','page':0x1});if(_0xa27c72['type'][_0x1f36cb(0x197)]('event'))_0xa27c72['type'][_0x1f36cb(0x105)](_0xa27c72[_0x1f36cb(0x1ca)][_0x1f36cb(0x1e9)](_0x1f36cb(0x1e4)),0x1,_0x1f36cb(0x1c3),_0x1f36cb(0x1d9));if(dbLogs[_0x1f36cb(0x175)](_0x1f36cb(0x12e))[_0x1f36cb(0x15e)]()){let _0x467f78=dbLogs[_0x1f36cb(0x182)](_0x1f36cb(0x12e))[_0x1f36cb(0x1c4)](_0x46c106=>{const _0x22f8dd=_0x1f36cb;if(_0xa27c72[_0x22f8dd(0x1ca)][_0x22f8dd(0x204)]==0x0)return![];else return _0xa27c72['type'][_0x22f8dd(0x197)](_0x46c106['type']);})[_0x1f36cb(0x1c4)](_0x5d3fea=>{const _0x3aa653=_0x1f36cb;if(_0xa27c72[_0x3aa653(0x1e4)]=='')return!![];else return _0x5d3fea[_0x3aa653(0x1e4)][_0x3aa653(0x166)]()['includes'](_0xa27c72[_0x3aa653(0x1e4)][_0x3aa653(0x166)]());})['sortBy']('time'),_0x23794b=_0x467f78['value']()[_0x1f36cb(0x204)];_0x467f78=_0x467f78[_0x1f36cb(0x187)]()[_0x1f36cb(0x205)]((_0xa27c72[_0x1f36cb(0x106)]-0x1)*logPageSize,_0xa27c72[_0x1f36cb(0x106)]*logPageSize-0x1)[_0x1f36cb(0x187)]()[_0x1f36cb(0x15e)](),proxyEmit('event-history',{'logs':_0x467f78,'total':_0x23794b});}else proxyEmit('event-history',{'logs':[],'total':0x0});}async function pauseBot(_0x515850){const _0x4f9f1d=_0x21e4bc,_0x542f58=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x4f9f1d(0x1d0)](),consecutivePauses=0x1;else{if(_0x542f58-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process['send']({'stop':_0x4f9f1d(0x12d)});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x4f9f1d(0x1d0)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x4f9f1d(0x1c3),_0x4f9f1d(0x198)+consecutivePauses+')'),await sleep(_0x515850),botPaused=![],reset();}}async function handleError(_0x9aedc2,_0x279494,_0x22683f=''){const _0x57cffd=_0x21e4bc;if(_0x9aedc2['toString']()[_0x57cffd(0x197)](_0x57cffd(0x1ed)))logHistory(_0x57cffd(0x1c3),_0x279494+_0x57cffd(0x16b)),await pauseBot(pauseBotInterval);else{if(_0x9aedc2[_0x57cffd(0x168)]()['includes'](_0x57cffd(0x151)))logHistory(_0x57cffd(0x1c3),_0x279494+_0x57cffd(0x1da)),await pauseBot(pauseBotInterval);else{if(_0x9aedc2['toString']()[_0x57cffd(0x197)](_0x57cffd(0x1fc)))logHistory(_0x57cffd(0x1c3),_0x279494+_0x57cffd(0x15f)),await pauseBot(pauseBotInterval);else{if(_0x9aedc2[_0x57cffd(0x168)]()[_0x57cffd(0x197)]('API-key\x20format\x20invalid'))logHistory(_0x57cffd(0x1c3),_0x279494+_0x57cffd(0x1d3)),logHistory('error',_0x57cffd(0x1d1)),process[_0x57cffd(0x14c)]({'stop':'kill'});else{if(_0x9aedc2[_0x57cffd(0x168)]()[_0x57cffd(0x197)](_0x57cffd(0x173)))logHistory(_0x57cffd(0x1c3),_0x279494+_0x57cffd(0x16e)),logHistory(_0x57cffd(0x1c3),_0x57cffd(0x1d1)),process['send']({'stop':'kill'});else{if(_0x9aedc2['toString']()['includes'](_0x57cffd(0x17b)))logHistory('error',_0x279494+'\x20|\x20Binance\x20API\x20secret\x20is\x20invalid'),logHistory(_0x57cffd(0x1c3),_0x57cffd(0x1d1)),process[_0x57cffd(0x14c)]({'stop':_0x57cffd(0x11c)});else{if(_0x9aedc2[_0x57cffd(0x168)]()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x57cffd(0x1c3),_0x279494+'\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x57cffd(0x1d1)),process['send']({'stop':_0x57cffd(0x11c)});else{if(_0x9aedc2[_0x57cffd(0x168)]()[_0x57cffd(0x197)]('InvalidNonce'))logHistory(_0x57cffd(0x1c3),_0x279494+_0x57cffd(0x1cf)),await pauseBot(pauseBotInterval),process[_0x57cffd(0x14c)]({'stop':_0x57cffd(0x12d)});else _0x9aedc2[_0x57cffd(0x168)]()[_0x57cffd(0x197)](_0x57cffd(0x159))?logHistory(_0x57cffd(0x1c3),_0x279494+_0x57cffd(0x17c)):(logHistory(_0x57cffd(0x1c3),_0x279494+_0x57cffd(0x114)),logging(_0x279494+'\x20|\x20Error\x20details:\x20',_0x9aedc2),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x39f49e,_0x2cc1be){return parseFloat(_0x39f49e['toFixed'](_0x2cc1be));}function logging(_0x57a259,_0x4fe57a=''){const _0x1587c0=_0x21e4bc;if(config['showname'])console[_0x1587c0(0x150)](getTimeStamp()+':\x20'+config[_0x1587c0(0x1ce)]+_0x1587c0(0x117)+_0x57a259,_0x4fe57a);else console['log'](getTimeStamp()+_0x1587c0(0x1bd)+botID+'\x20>\x20'+_0x57a259,_0x4fe57a);}function getServerTime(){const _0x59f6cf=_0x21e4bc,_0x4d71da=new Date();return _0x4d71da[_0x59f6cf(0x11f)]()+'/'+(_0x4d71da[_0x59f6cf(0x1a7)]()+0x1)[_0x59f6cf(0x168)]()[_0x59f6cf(0x137)](0x2,'0')+'/'+_0x4d71da['getDate']()[_0x59f6cf(0x168)]()[_0x59f6cf(0x137)](0x2,'0')+'\x20'+_0x4d71da[_0x59f6cf(0x20e)]()[_0x59f6cf(0x168)]()[_0x59f6cf(0x137)](0x2,'0')+':'+_0x4d71da[_0x59f6cf(0x1eb)]()[_0x59f6cf(0x168)]()[_0x59f6cf(0x137)](0x2,'0')+':'+_0x4d71da[_0x59f6cf(0x122)]()[_0x59f6cf(0x168)]()[_0x59f6cf(0x137)](0x2,'0');}function getTimeStamp(){const _0xb4c0aa=_0x21e4bc,_0x387cf1=shiftedTime();return _0x387cf1[_0xb4c0aa(0x11f)]()+'/'+(_0x387cf1[_0xb4c0aa(0x1a7)]()+0x1)[_0xb4c0aa(0x168)]()[_0xb4c0aa(0x137)](0x2,'0')+'/'+_0x387cf1[_0xb4c0aa(0x1b8)]()[_0xb4c0aa(0x168)]()[_0xb4c0aa(0x137)](0x2,'0')+'\x20'+_0x387cf1['getHours']()[_0xb4c0aa(0x168)]()[_0xb4c0aa(0x137)](0x2,'0')+':'+_0x387cf1[_0xb4c0aa(0x1eb)]()[_0xb4c0aa(0x168)]()[_0xb4c0aa(0x137)](0x2,'0')+':'+_0x387cf1['getSeconds']()[_0xb4c0aa(0x168)]()[_0xb4c0aa(0x137)](0x2,'0');}function getDate(){const _0x17dc90=_0x21e4bc,_0x4aa71d=shiftedTime();return _0x4aa71d[_0x17dc90(0x11f)]()+'/'+(_0x4aa71d['getMonth']()+0x1)['toString']()[_0x17dc90(0x137)](0x2,'0')+'/'+_0x4aa71d[_0x17dc90(0x1b8)]()['toString']()[_0x17dc90(0x137)](0x2,'0');}function getHour(){const _0x28ec59=_0x21e4bc,_0x54b522=shiftedTime();return _0x54b522[_0x28ec59(0x20e)]()[_0x28ec59(0x168)]()[_0x28ec59(0x137)](0x2,'0');}function sleep(_0x5a6744){return new Promise(_0x157037=>setTimeout(_0x157037,_0x5a6744));}function shiftedTime(){const _0x36624e=_0x21e4bc,_0x38b362=new Date();let _0x539948=_0x38b362;if(config&&config['timeshift']!==0x0)_0x539948=fns['add'](_0x38b362,{'hours':config[_0x36624e(0x184)]});return _0x539948;}