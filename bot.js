const _0x335b4e=_0x3605;(function(_0x15181e,_0x1a2b41){const _0x2b580b=_0x3605,_0x55dde0=_0x15181e();while(!![]){try{const _0x3154e0=parseInt(_0x2b580b(0x217))/0x1+-parseInt(_0x2b580b(0x1ba))/0x2+-parseInt(_0x2b580b(0x125))/0x3+parseInt(_0x2b580b(0x15f))/0x4+-parseInt(_0x2b580b(0x1d3))/0x5+parseInt(_0x2b580b(0xf7))/0x6+parseInt(_0x2b580b(0xfa))/0x7*(-parseInt(_0x2b580b(0x1a4))/0x8);if(_0x3154e0===_0x1a2b41)break;else _0x55dde0['push'](_0x55dde0['shift']());}catch(_0x4e7022){_0x55dde0['push'](_0x55dde0['shift']());}}}(_0xd810,0x8805c));const _0x4af6da=function(){let _0x3acacb=!![];return function(_0x705ccb,_0x3b1b22){const _0x10b215=_0x3acacb?function(){const _0x2a3c33=_0x3605;if(_0x3b1b22){const _0x413e9c=_0x3b1b22[_0x2a3c33(0x162)](_0x705ccb,arguments);return _0x3b1b22=null,_0x413e9c;}}:function(){};return _0x3acacb=![],_0x10b215;};}(),_0x1f4b1c=_0x4af6da(this,function(){const _0x7706b4=_0x3605;return _0x1f4b1c[_0x7706b4(0x1ec)]()['search'](_0x7706b4(0x224))[_0x7706b4(0x1ec)]()[_0x7706b4(0x152)](_0x1f4b1c)['search'](_0x7706b4(0x224));});_0x1f4b1c();'use strict';const ccxt=require(_0x335b4e(0x143)),low=require('lowdb'),FileSync=require(_0x335b4e(0x200)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x335b4e(0xa2))[_0x335b4e(0x1be)],util=require('util'),argv=require(_0x335b4e(0x1dd))(process[_0x335b4e(0x1e2)]['slice'](0x2))[_0x335b4e(0x1e2)],path=require(_0x335b4e(0x1e3)),axios=require('axios');let exchange;global[_0x335b4e(0x1ee)]={},global[_0x335b4e(0x210)]={};const usdBasecoins=[_0x335b4e(0x194),_0x335b4e(0xa8),_0x335b4e(0x8b),_0x335b4e(0xc4),_0x335b4e(0x21f),_0x335b4e(0x20c)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x335b4e(0x177)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x335b4e(0xd4)+pauseBotInterval/0xea60+_0x335b4e(0xfc),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x335b4e(0xea))[_0x335b4e(0x1da)],botID=process[_0x335b4e(0x1e2)][0x2]||_0x335b4e(0x8c),pattern=/^[0-9]{3}$/;!pattern[_0x335b4e(0x10a)](botID)&&(console[_0x335b4e(0xba)](_0x335b4e(0x155)+botID+_0x335b4e(0x12b)),killBot());const userID=process[_0x335b4e(0x1e2)][0x3]||'',configpath=userID?'./config/'+userID+'/':'./config/',logspath=userID?_0x335b4e(0x134)+userID+'/':_0x335b4e(0x134),loggerfile=fs[_0x335b4e(0x7c)](logspath+_0x335b4e(0x11f),{'flags':'a'});!fs[_0x335b4e(0x1db)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x335b4e(0x1db)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+'bot-'+botID+_0x335b4e(0x1f2),logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+_0x335b4e(0x187)+botID+_0x335b4e(0x94),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+_0x335b4e(0x1ea),securefile=configpath+_0x335b4e(0x11e),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x335b4e(0xb0)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x335b4e(0xb2)]({'data':[],'version':serverversion})[_0x335b4e(0xb0)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x335b4e(0xb2)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x335b4e(0xdd),'rsaStandard':_0x335b4e(0xda)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x8c007e=>{const _0x46c192=_0x335b4e;console[_0x46c192(0xba)](_0x8c007e);},'simple':_0x149136=>{const _0x2b09ea=_0x335b4e;console[_0x2b09ea(0xba)](_0x149136),loggerfile[_0x2b09ea(0xb0)](util[_0x2b09ea(0x1cb)](_0x149136)+'\x0a');},'full':async(_0x28f421,_0x579105='')=>{const _0x3326a6=_0x335b4e;let _0x2c43a0;if(config[_0x3326a6(0x1cc)])_0x2c43a0=getTimeStamp()+':\x20'+config[_0x3326a6(0x20f)]+_0x3326a6(0x1a9)+_0x28f421;else _0x2c43a0=getTimeStamp()+':\x20Bot\x20'+botID+_0x3326a6(0x1a9)+_0x28f421;console['log'](_0x2c43a0),loggerfile[_0x3326a6(0xb0)](util[_0x3326a6(0x1cb)](_0x2c43a0)+'\x0a'),_0x579105&&(console[_0x3326a6(0xba)](_0x579105),loggerfile[_0x3326a6(0xb0)](util[_0x3326a6(0x1cb)](_0x579105)+'\x0a'));},'debug':async(_0x51aa98,_0x47c823='')=>{const _0x594eae=_0x335b4e;let _0x2db188;if(config[_0x594eae(0x1cc)])_0x2db188=getTimeStamp()+':\x20'+config[_0x594eae(0x20f)]+'\x20>\x20[DEBUG]\x20'+_0x51aa98;else _0x2db188=getTimeStamp()+_0x594eae(0xb1)+botID+_0x594eae(0x81)+_0x51aa98;if(debugging)console['log'](_0x2db188);loggerfile[_0x594eae(0xb0)](util[_0x594eae(0x1cb)](_0x2db188)+'\x0a');if(_0x47c823){if(debugging)console[_0x594eae(0xba)](_0x47c823);loggerfile[_0x594eae(0xb0)](util['format'](_0x47c823)+'\x0a');}}};process['on']('uncaughtException',function(_0x202e79){const _0x49f8b8=_0x335b4e;handleError(_0x202e79,_0x49f8b8(0xa5));});settings[_0x335b4e(0x1e7)]!=config['timeshift']&&updateTimeshift(settings['timeshift']);settings[_0x335b4e(0x195)]!=config[_0x335b4e(0x195)]&&updateOnepagemode(settings[_0x335b4e(0x195)]);(settings[_0x335b4e(0x97)]&&!config[_0x335b4e(0x97)]||!settings[_0x335b4e(0x97)]&&config[_0x335b4e(0x97)])&&updateMarketcapApi(settings['marketcapApi']);process['send']({'started':_0x335b4e(0x225)},_0x38e2da=>{}),initializeProcessListeners();function proxyEmit(_0x522733,_0x3b1ce9=null){const _0x39f507=_0x335b4e;process[_0x39f507(0x112)]({'function':_0x522733,'args':_0x3b1ce9},_0x50ae9d=>{});}function initializeProcessListeners(){const _0x49de17=_0x335b4e;process['on'](_0x49de17(0xe0),_0x3d7129=>{const _0x5bcb00=_0x49de17;switch(Object[_0x5bcb00(0x1fc)](_0x3d7129)[0x0]){case _0x5bcb00(0x1e7):_0x3d7129[_0x5bcb00(0x1e7)]!=undefined&&(settings[_0x5bcb00(0x1e7)]=_0x3d7129[_0x5bcb00(0x1e7)],updateTimeshift(settings[_0x5bcb00(0x1e7)]));break;case _0x5bcb00(0x195):_0x3d7129[_0x5bcb00(0x195)]!=undefined&&(settings[_0x5bcb00(0x195)]=_0x3d7129[_0x5bcb00(0x195)],updateOnepagemode(settings[_0x5bcb00(0x195)]));break;case _0x5bcb00(0x97):_0x3d7129[_0x5bcb00(0x97)]!=undefined&&(settings[_0x5bcb00(0x97)]=_0x3d7129['marketcapApi'],updateMarketcapApi(settings[_0x5bcb00(0x97)]));break;case _0x5bcb00(0xf8):_0x3d7129[_0x5bcb00(0xf8)]!=undefined&&(bots=JSON[_0x5bcb00(0x99)](_0x3d7129[_0x5bcb00(0xf8)]),proxyEmit('bots',bots));break;case _0x5bcb00(0x21d):switch(_0x3d7129[_0x5bcb00(0x21d)]){case _0x5bcb00(0xc0):initclient();break;case _0x5bcb00(0xc5):toggleBotMode();break;case'emitHistory':emitHistory(_0x3d7129[_0x5bcb00(0x19a)]);break;case _0x5bcb00(0x16e):deleteHistoryAlerts(_0x3d7129[_0x5bcb00(0x19a)]);break;case'getPortfolio':getPortfolio(_0x3d7129[_0x5bcb00(0x19a)]);break;case'storeConfiguration':storeConfiguration(_0x3d7129[_0x5bcb00(0x19a)]);break;case'storeHeadless':storeHeadless(_0x3d7129[_0x5bcb00(0x19a)]);break;case _0x5bcb00(0x136):storeFiat(_0x3d7129[_0x5bcb00(0x19a)]);break;case _0x5bcb00(0x186):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x5bcb00(0x220):placeOrder(_0x3d7129[_0x5bcb00(0x19a)]);break;case'cancelLoading':cancelLoading();break;case _0x5bcb00(0x1e8):showConfig();break;case _0x5bcb00(0x1ed):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);function _0xd810(){const _0x3b9eb8=['Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','Resetting\x20bot\x20history','error','keys','-results.json','Transaction\x20detection\x20blocked','fetchClosedOrders','lowdb/adapters/FileSync','getPortfolio(0)','InvalidOrder','/EUR','recreateCoinResults()','restart','performance','password','floor','push','Waited\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','USDP','timestamp','min','botname','change','average','getAllOrders()','getDate','pro','2\x20-\x20handling\x20FILLED\x20order:\x20','Trigger:\x20','586889tiNOBd','amountToPrecision','\x20change','2.5.0','limit-low','UNLOCKED','function','progress','USDC','placeOrder','watchOrders()','exec','replace','(((.+)+)+)+$','running','Order\x20is\x20invalid:\x20','createWriteStream','Huobi','Net\x20','time','liquidity','\x20>\x20[DEBUG]\x20','type','logs','recent20','privateKey','startprice','2\x20-\x20Handled\x20open\x20orders','ExchangeNotAvailable','Order\x20filled:\x20','Transaction\x20detection\x20unblocked','TUSD','001','threshold','filled','getPortfolio(1)','getFullYear','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','includes','Cex','-performance.json','BNB/','entries','marketcapApi','<pre>','parse','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','Exception\x20thrown\x20in\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','stopExchange()','reverse','total','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','Invalid\x20API\x20key\x20or\x20secret\x20entered','hybrid-crypto-js','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','InsufficientFunds','uncaughtException','sort','added','BUSD','round','\x20:\x20','\x20exchange','openOrders','\x20|\x20lock\x20orders:\x20','warning','getTime','write',':\x20Bot\x20','defaults','-------------------------------\x0a','EUR','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','secure','Binance','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','log','toLowerCase','active','order','fiat','cost','initclient','Bybit','1\x20-\x20FILLED\x20unknown\x20order:\x20','Manual\x20balancing\x20required','USDT','toggleBotMode','cancelOrder','findIndex','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','code','milliseconds','InvalidNonce','Order\x20amount\x20is\x20invalid:\x20','yyyy/MM/dd','1\x20-\x20FILLED\x20known\x20order:\x20','split','getCoins()','LOCKED','amount','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','\x20-\x20pausing\x20bot\x20for\x20','1\x20-\x20Handle\x20open\x20orders','quote','Market','</pre>','NetworkError','RSA-OAEP','string','orderstatus','sha256','limit-high','portfolio','message','\x20-\x20bot\x20not\x20started','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','AuthenticationError','RequestTimeout','basecoin','ETH',':\x20timer\x20>','fetchTicker','fees','./version.json','starting-balance-','Pausing\x20for\x20','decrypt','valid','data','Unfilled\x20order(s)\x20canceled\x20after\x20','cooldown','watchTrades','remainingSymbols','orderId','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','none','3260178qJfCcC','bots','colorscheme','7hEdZYE','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','\x20minutes','ORDERS.UNLOCKING','padEnd','writeFile','\x20/\x20','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','2\x20-\x20Validate\x20orders:\x20','limits','change24h','BTC','open','red_yellow_blue','configuration','percentage','test','\x20minutes\x20-\x20','max','buy','Avoiding\x20continuous\x20order\x20attempts','getHours','get','createOrder','send','emojisell','***','assign','apiPassword','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','Net\x20effect','final','substring','stringify','ORDERS.UNLOCKED','find','bb-secure.json','/output-000.log','datetime','\x20|\x20highest\x20fee:\x20','no\x20open\x20orders','target','has','2462883TSczvV','market_cap','Invalid\x20quantity','leftTxt','exchanges','marketcap',',\x20must\x20be\x20a\x203\x20digit\x20number','cancel','customId','enabled','indexOf','\x20API\x20key\x20is\x20invalid','autoliquidity','startsWith','delta','./logs/','last','storeFiat','join','toUpperCase','loadMarkets','status','random','number','filter','debug','Headless:\x20','buys','currency','Reset\x20|\x20','ccxt','Bot\x20','Bitget','Symbol(s):\x20','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','changes','API-key\x20format\x20invalid','************','PermissionDenied','watchOrders','marketcapEnabled','apiKey','realized','forEach','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','constructor','padStart','loadSymbols()','Error:\x20Invalid\x20argument\x20','eur','slice','date','Unknown\x20error\x20occured','ORDERS.LOCKED','ongoing','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','3569036pnJDQp','UNLOCKING','toFixed','apply','fee','fetchTickers','exchange','\x20|\x20','startdate','\x20metrics:</b>\x20\x0a\x0a','getMinutes','Invalid\x20symbol:\x20','DDoSProtection','fromCodePoint','exchange\x20not\x20reloaded','deleteHistoryAlerts','offset','set','limit','removed','sells','abs','unlinkSync','isEqual','freeze','coin-loading-progress','\x20value','trade','value','parseISO','getMonth','Loading\x20completed','net-basecoin','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','price','\x20API\x20secret\x20is\x20invalid','watchTransactions()','balancing\x20resumed','slider','resetHistory','bot-','spot','OrderNotFound','getSeconds','PAXG','1\x20-\x20Validate\x20orders:\x20','\x20hour','usd','2\x20-\x20Orders\x20unlocked','page','cloneDeep','0\x20-\x20EXECUTION:\x20','sell','USD','onepagemode','timeout','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','\x20order:\x20','event','args','excluded','coin','pop','basecoinvalue','rightTxt','\x20|\x20exchange:\x20','<b>','ask','distribution','823000BlnqHX','emojibuy','No\x20more\x20open\x20orders\x20-\x20','ExchangeError','Limit\x20(low-margin)','\x20>\x20','fetchTickers()','netoffset','\x20orders\x20in\x20less\x20than\x20','length','\x20|\x20Custom\x20ID:\x20','\x20network\x20error','highest','\x20attempts','watchTradesForSymbols()','headless','breakeven','Error\x20while\x20deleting\x20files:\x20','Resetting\x20coin\x20results:\x20','apiSecret','symbol','RETRY\x20-\x20Problem\x20resolved\x20after\x20','819878PnaLsE','watchTrades()','<b>Bot\x20','Portfolio\x20change\x20detected:\x20','Crypt','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','RETRY\x20-\x20Error\x20in\x20','startnumber','Cryptocom','Insufficient\x20funds\x20to\x20execute\x20order:\x20','net-fiat','%\x20(','recreate','Executing\x20exchange\x20reload','success','BNB','watchTradesForSymbols','format','showname','Exchange','add','botID','placeOrder()','Error\x20details:','map','657940flZZgc','coins','ordertype','closed','fetchBalance','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20-\x20','version','existsSync','2.3.5','yargs/yargs','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','splice','Initializing\x20coin\x20results','canceled','argv','path','-events.json','MIN_NOTIONAL','balances','timeshift','showConfig','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','bb-settings.json','initial','toString','sendMetricsTelegram','ticker','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','side','-config.json','market','full','bot','shift','sortBy','loading-canceled'];_0xd810=function(){return _0x3b9eb8;};return _0xd810();}async function reset(_0x4d28ff=![]){const _0x2b04a5=_0x335b4e;logger[_0x2b04a5(0x13e)](_0x2b04a5(0x142)+(_0x4d28ff?'exchange\x20reloaded':_0x2b04a5(0x16d))+_0x2b04a5(0x1a0)+config[_0x2b04a5(0x165)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x4d28ff)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x2b04a5(0x14e)]!=''&&config['apiKey']!=_0x2b04a5(0x114)){loadingProgress=0x0;if(_0x4d28ff){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x5b5aa8){handleErrorNoStop(_0x5b5aa8,_0x2b04a5(0x154));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0xb3eb91=await getCoins();[currentCoins,currentCoinsAll]=_0xb3eb91,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x2b04a5(0x13e)](_0x2b04a5(0x17e)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x2b04a5(0x1ad)]==0x0&&allOpenOrders[_0x2b04a5(0x1ad)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x3b5f5c){const _0x56de36=_0x335b4e;let _0x33c724=![];if(_0x3b5f5c)_0x33c724=!![];let _0x15dfa2;_0x33c724?_0x15dfa2=_0x3b5f5c['map'](_0x269088=>_0x269088['coin']):_0x15dfa2=currentCoinsAll[_0x56de36(0x1d2)](_0x1ce0e8=>_0x1ce0e8[_0x56de36(0x19c)]);if(!config[_0x56de36(0x97)]||!_0x33c724&&!config[_0x56de36(0x14d)]||_0x15dfa2[_0x56de36(0x1ad)]==0x0)return;let _0x20f69e=null;try{_0x20f69e=await axios[_0x56de36(0x110)](_0x56de36(0xb6),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x56de36(0x97)]},'params':{'symbol':_0x15dfa2['toString']()}});}catch(_0x9af5cf){_0x20f69e=null,_0x9af5cf['toString']()[_0x56de36(0x92)]('status\x20code\x20401')?(config[_0x56de36(0x97)]=![],updateConfig(),proxyEmit(_0x56de36(0x108),emittedConfiguration()),logHistory('error',_0x56de36(0xf5))):(logHistory(_0x56de36(0x1fb),_0x56de36(0x15c)+marketCapInterval/(0x3c*0x3e8)+_0x56de36(0xfc)),logger['debug'](_0x56de36(0x1d1),_0x9af5cf[_0x56de36(0x1ec)]()+_0x56de36(0x1d9)+_0x9af5cf[_0x56de36(0xc9)]));}if(_0x20f69e){let _0x29af0f=0x0;const _0x7c18ba=_0x20f69e['data'];_0x15dfa2[_0x56de36(0x150)](_0x594001=>{const _0x16a1a7=_0x56de36;if(_0x7c18ba[_0x16a1a7(0xef)][_0x594001][0x0])_0x29af0f+=_0x7c18ba['data'][_0x594001][0x0]['quote'][_0x16a1a7(0x194)][_0x16a1a7(0x126)];}),_0x15dfa2[_0x56de36(0x150)](_0x32bd6d=>{const _0x1e4049=_0x56de36,_0x1a84c9=_0x7c18ba['data'][_0x32bd6d][0x0]?_0x7c18ba['data'][_0x32bd6d][0x0][_0x1e4049(0xd6)][_0x1e4049(0x194)][_0x1e4049(0x126)]:0x0;if(_0x33c724){const _0x26c861=_0x3b5f5c['find'](_0x5e1a60=>_0x5e1a60[_0x1e4049(0x19c)]==_0x32bd6d);_0x26c861&&(_0x26c861['marketcap']=_0x1a84c9);}else{const _0x4c7406=currentCoins['find'](_0x39aefb=>_0x39aefb[_0x1e4049(0x19c)]==_0x32bd6d);_0x4c7406&&(_0x4c7406[_0x1e4049(0x12a)]=_0x1a84c9);const _0x370981=currentCoinsAll[_0x1e4049(0x11d)](_0x1e51e7=>_0x1e51e7[_0x1e4049(0x19c)]==_0x32bd6d);_0x370981&&(_0x370981[_0x1e4049(0x12a)]=_0x1a84c9);}}),!_0x33c724&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x2f5bb6=_0x335b4e,_0x55d5da=0x2;let _0xe75209=0x0,_0x41ad9d=0x0,_0x4f9945=0x0,_0x9c39af=0x0;config[_0x2f5bb6(0xdf)][_0x2f5bb6(0x150)](_0x41308c=>{const _0x38a190=_0x2f5bb6;if(!_0x41308c[_0x38a190(0x19b)]){_0x4f9945++,_0xe75209+=_0x41308c[_0x38a190(0x185)];if(_0x41308c[_0x38a190(0x185)]===-0x1){_0xe75209++;const _0x5e8d8a=currentCoinsAll[_0x38a190(0x11d)](_0x5375c5=>_0x5375c5[_0x38a190(0x19c)]==_0x41308c[_0x38a190(0x19c)]);_0x5e8d8a&&(_0x9c39af+=_0x5e8d8a[_0x38a190(0x12a)]);}if(_0x41308c[_0x38a190(0x185)]!==-0x1)_0x41ad9d++;}});let _0x44ad5b;const _0x5dee38=0x64-_0xe75209,_0x56e54f=_0x4f9945-_0x41ad9d;_0x44ad5b=_0x56e54f===0x0?_0xe75209:Math['max'](0x64,_0xe75209),config[_0x2f5bb6(0xdf)][_0x2f5bb6(0x150)](_0xcdb678=>{const _0x7946f=_0x2f5bb6,_0x525296=currentCoinsAll[_0x7946f(0x11d)](_0x3f5f5b=>_0x3f5f5b[_0x7946f(0x19c)]==_0xcdb678[_0x7946f(0x19c)]);_0x525296&&(_0xcdb678[_0x7946f(0x12a)]=_0x525296[_0x7946f(0x12a)]),!_0xcdb678[_0x7946f(0x19b)]&&(_0x44ad5b<=0x64&&(_0xcdb678[_0x7946f(0x185)]===-0x1&&(_0x9c39af!==0x0&&config['marketcapEnabled']&&(_0x525296&&(_0xcdb678[_0x7946f(0x1a3)]=(_0x5dee38/(_0x9c39af/_0x525296[_0x7946f(0x12a)]))[_0x7946f(0x161)](_0x55d5da))))));}),updateConfig();}function updateConfig(){const _0x451214=_0x335b4e;let _0x4b27cd=dbConfig[_0x451214(0x110)](_0x451214(0x1f5))['find']({'botID':botID})['value']();_0x4b27cd&&dbConfig[_0x451214(0x110)](_0x451214(0x1f5))[_0x451214(0x11d)]({'botID':botID})[_0x451214(0x115)](config)[_0x451214(0xb0)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x44b98a=_0x335b4e;exchangeStopped=!![];try{await exchange['close']();}catch(_0x101836){await handleError(_0x101836,_0x44b98a(0x9d));}}async function reloadExchange(){const _0x21017f=_0x335b4e;while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x21017f(0x13e)](_0x21017f(0x1c7)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x5b2141=config[_0x335b4e(0x165)],_0x25f305=config[_0x335b4e(0x14e)],_0x2485d0=config[_0x335b4e(0x1b7)],_0x1470bb=config[_0x335b4e(0x116)]){const _0x5bca99=_0x335b4e;exchange&&await stopExchange();!supportedExchanges()[_0x5bca99(0x92)](_0x5b2141)&&(logHistory(_0x5bca99(0x1fb),_0x5bca99(0xb9)+_0x5b2141+_0x5bca99(0xab)),killBot());const _0x3716eb=ccxt[_0x5bca99(0x214)][_0x5b2141[_0x5bca99(0xbb)]()];exchange=new _0x3716eb({'apiKey':_0x25f305,'secret':_0x2485d0,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5bca99(0x188)}});if(_0x1470bb)exchange[_0x5bca99(0x207)]=_0x1470bb;}function setStableCoins(){const _0xa49b8c=_0x335b4e;let _0x4d0c32=config['basecoin']==_0xa49b8c(0xe6)?'ETH':config[_0xa49b8c(0xe5)]==_0xa49b8c(0x18b)?_0xa49b8c(0x18b):'BTC',_0x3447d6=!allSymbols['includes'](_0x4d0c32+'/USD')?'USDT':_0xa49b8c(0x194),_0x37aadc=!allSymbols[_0xa49b8c(0x92)](_0x4d0c32+_0xa49b8c(0x203))?_0x3447d6:'EUR';stablecoins={'eur':{'coin':''+_0x4d0c32+_0x37aadc,'symbol':_0x4d0c32+'/'+_0x37aadc},'usd':{'coin':''+_0x4d0c32+_0x3447d6,'symbol':_0x4d0c32+'/'+_0x3447d6}};}async function initwsCcxt(){const _0x1c520f=_0x335b4e;initCycle++;const _0x44b53f=initCycle;let _0x8d2b16=[];config[_0x1c520f(0xdf)][_0x1c520f(0x150)](_0x343fce=>{const _0x4469c1=_0x1c520f;if(!_0x343fce[_0x4469c1(0x19b)]&&_0x343fce[_0x4469c1(0x19c)]!=config[_0x4469c1(0xe5)])_0x8d2b16[_0x4469c1(0x209)](_0x343fce['symbol']);});if(!_0x8d2b16[_0x1c520f(0x92)](stablecoins['eur']['symbol']))_0x8d2b16[_0x1c520f(0x209)](stablecoins['eur'][_0x1c520f(0x1b8)]);if(!_0x8d2b16[_0x1c520f(0x92)](stablecoins['usd'][_0x1c520f(0x1b8)]))_0x8d2b16[_0x1c520f(0x209)](stablecoins['usd'][_0x1c520f(0x1b8)]);if(config[_0x1c520f(0x165)][_0x1c520f(0x132)](_0x1c520f(0xb8))&&config['basecoin']!=_0x1c520f(0x18b)){if(!_0x8d2b16[_0x1c520f(0x92)](_0x1c520f(0x95)+config['basecoin']))_0x8d2b16[_0x1c520f(0x209)](_0x1c520f(0x95)+config['basecoin']);}loadCoins(_0x8d2b16),_0x8d2b16=validateSymbols(_0x8d2b16);const _0xa33210=async _0x51afa9=>{const _0x5167c0=_0x1c520f;let _0x1ee461;try{const _0x5f320f=await getTickers(_0x51afa9);Object[_0x5167c0(0x96)](_0x5f320f)['forEach'](_0x578de7=>{const _0x3041fb=_0x5167c0;_0x1ee461=_0x578de7[0x1][_0x3041fb(0x1b8)],global[_0x3041fb(0x1ee)][noslash(_0x1ee461)]=_0x578de7[0x1][_0x3041fb(0x135)],global[_0x3041fb(0x210)][_0x1ee461]=_0x578de7[0x1][_0x3041fb(0x109)];});}catch(_0x584f0f){await handleError(_0x584f0f,'initTickers()',_0x1ee461);}},_0x1ee2e1=async _0x32cd62=>{const _0x1a4f02=_0x1c520f;while(initCycle==_0x44b53f){if(!botPaused)try{const _0x27fb72=await exchange[_0x1a4f02(0xf2)](_0x32cd62);global[_0x1a4f02(0x1ee)][noslash(_0x27fb72[0x0][_0x1a4f02(0x1b8)])]=_0x27fb72[0x0][_0x1a4f02(0x181)],await sleep(0x3e8);}catch(_0x1c334c){if(!exchangeStopped)await handleError(_0x1c334c,_0x1a4f02(0x1bb),_0x32cd62);}else await sleep(0x64);}},_0x20f0e4=async _0x3b077a=>{const _0x5d5c55=_0x1c520f;while(initCycle==_0x44b53f){if(!botPaused)try{const _0x1e64c8=await exchange[_0x5d5c55(0x1ca)](_0x3b077a),_0x10fe9d=_0x1e64c8[_0x5d5c55(0x19d)]();global[_0x5d5c55(0x1ee)][noslash(_0x10fe9d[_0x5d5c55(0x1b8)])]=_0x10fe9d['price'],await sleep(0x3e8);}catch(_0x5e1c9d){if(!exchangeStopped)await handleError(_0x5e1c9d,_0x5d5c55(0x1b2),_0x3b077a[_0x5d5c55(0x1ec)]());}else await sleep(0x64);}},_0x432671=async _0x29be39=>{const _0x1ec88b=_0x1c520f;while(initCycle==_0x44b53f){if(!botPaused){let _0x3f98e5;try{await sleep(0x3c*0x3e8);const _0x4f1bdf=await getTickers(_0x29be39);Object[_0x1ec88b(0x96)](_0x4f1bdf)[_0x1ec88b(0x150)](_0x38228f=>{const _0x533af0=_0x1ec88b;_0x3f98e5=_0x38228f[0x1][_0x533af0(0x1b8)],global[_0x533af0(0x210)][_0x3f98e5]=_0x38228f[0x1]['percentage'];});}catch(_0x1a8f49){if(!exchangeStopped)await handleError(_0x1a8f49,_0x1ec88b(0x1aa),_0x3f98e5);}}else await sleep(0x64);}},_0x53936b=async _0x3c0969=>{const _0x176bdb=_0x1c520f;while(initCycle==_0x44b53f){if(!botPaused)try{const _0x210fe1=await exchange[_0x176bdb(0x14c)](_0x3c0969);initCycle==_0x44b53f&&_0x210fe1[_0x176bdb(0x150)](_0x567ea1=>{updateNumberCoinsCcxt(_0x567ea1);});}catch(_0x1d6b08){if(!exchangeStopped)await handleError(_0x1d6b08,_0x176bdb(0x221));}else await sleep(0x64);}};_0xa33210(_0x8d2b16),_0x432671(_0x8d2b16),exchange[_0x1c520f(0x124)][_0x1c520f(0x1ca)]?_0x20f0e4(_0x8d2b16):_0x8d2b16['forEach'](_0x4d1c93=>{_0x1ee2e1(_0x4d1c93);}),_0x8d2b16[_0x1c520f(0x150)](_0x4ca180=>{_0x53936b(_0x4ca180);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x3a20b9){const _0x5a25be=_0x335b4e;let _0x40ca80={};try{if(config[_0x5a25be(0x165)]!=_0x5a25be(0x1c2))_0x40ca80=await exchange[_0x5a25be(0x164)](_0x3a20b9);else for(const _0x28672f of _0x3a20b9){const _0x383002=await exchange[_0x5a25be(0xe8)](_0x28672f);_0x40ca80[_0x28672f]=_0x383002;}return _0x40ca80;}catch(_0x4d8269){throw _0x4d8269;}}async function watchTransactions(){const _0xdd5271=_0x335b4e;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x5f4bdc=await getCoins(),[_0x100241,_0x9f2f7d]=_0x5f4bdc;let _0x1b3c10=[];currentCoins[_0xdd5271(0x150)](_0x4f639a=>{const _0x28725f=_0xdd5271,_0x136de1=_0x100241[_0x28725f(0x11d)](_0x210f59=>_0x210f59[_0x28725f(0x19c)]==_0x4f639a[_0x28725f(0x19c)]);if(_0x136de1){if(_0x4f639a[_0x28725f(0x13c)]!=_0x136de1[_0x28725f(0x13c)]){let _0x34205f;if(_0x4f639a[_0x28725f(0x19c)]!=config[_0x28725f(0xe5)]){const _0x1e852e=global[_0x28725f(0x1ee)][noslash(_0x4f639a['symbol'])];_0x34205f=_0x4f639a[_0x28725f(0x9e)]?0x1/_0x1e852e:_0x1e852e;}else _0x34205f=0x1;_0x1b3c10[_0x28725f(0x209)]({'coin':_0x4f639a['coin'],'symbol':_0x4f639a[_0x28725f(0x1b8)],'price':_0x34205f,'number':Number(formatResult(_0x136de1[_0x28725f(0x13c)]-_0x4f639a[_0x28725f(0x13c)],0x8)),'basecoinvalue':_0x34205f*(_0x136de1[_0x28725f(0x13c)]-_0x4f639a[_0x28725f(0x13c)])});}}});if(_0x1b3c10[_0xdd5271(0x1ad)]==0x1&&!blockTransactionDetection){if(config[_0xdd5271(0x131)]){logger[_0xdd5271(0x13e)](_0xdd5271(0x151)+_0x1b3c10[0x0][_0xdd5271(0x19e)]+_0xdd5271(0x121)+lastFees[_0xdd5271(0x1b0)]);if(lastFees[_0xdd5271(0x1b0)]==0x0||Math[_0xdd5271(0x174)](_0x1b3c10[0x0][_0xdd5271(0x19e)])>lastFees['highest']){delete _0x1b3c10[0x0][_0xdd5271(0x1b8)],delete _0x1b3c10[0x0][_0xdd5271(0x19e)];let _0x18b3e3=[],_0x4ec36b=[...config[_0xdd5271(0x80)]]||[],_0x69d4af=config[_0xdd5271(0x80)];_0x4ec36b[_0xdd5271(0xa6)]((_0x3ce187,_0x438e84)=>_0x3ce187[_0xdd5271(0x158)]>_0x438e84[_0xdd5271(0x158)]?-0x1:_0x438e84[_0xdd5271(0x158)]>_0x3ce187[_0xdd5271(0x158)]?0x1:0x0);const _0x3754e7=getDate();if(_0x4ec36b[0x0]){const _0x327929=fns[_0xdd5271(0x99)](_0x4ec36b[0x0][_0xdd5271(0x158)],_0xdd5271(0xcd),new Date()),_0x591d74=fns[_0xdd5271(0x99)](_0x3754e7,_0xdd5271(0xcd),new Date());if(fns[_0xdd5271(0x176)](_0x327929,_0x591d74)){_0x18b3e3=_0x4ec36b[0x0][_0xdd5271(0x148)];const _0x2a9539=_0x18b3e3[_0xdd5271(0x11d)](_0x410e81=>_0x410e81[_0xdd5271(0x19c)]==_0x1b3c10[0x0]['coin']);_0x2a9539?(_0x2a9539[_0xdd5271(0x13c)]+=_0x1b3c10[0x0][_0xdd5271(0x13c)],_0x2a9539['number']==0x0&&(_0x18b3e3=_0x18b3e3[_0xdd5271(0x13d)](_0x5eecbf=>{const _0x4c0a2a=_0xdd5271;return _0x5eecbf['coin']!=_0x1b3c10[0x0][_0x4c0a2a(0x19c)];}))):_0x18b3e3[_0xdd5271(0x209)](_0x1b3c10[0x0]);const _0x362e27=_0x69d4af[_0xdd5271(0x11d)](_0x277a9f=>_0x277a9f[_0xdd5271(0x158)]==_0x3754e7);_0x362e27[_0xdd5271(0x148)]=_0x18b3e3;}else _0x69d4af['push']({'date':_0x3754e7,'changes':[_0x1b3c10[0x0]]});}const _0x39589d=_0x69d4af[_0xdd5271(0x11d)](_0x33fab9=>_0x33fab9[_0xdd5271(0x158)]==_0x3754e7);if(_0x39589d){let _0x577cb8=!![];_0x39589d[_0xdd5271(0x148)][_0xdd5271(0x150)](_0x3761f6=>{const _0x2a49b9=_0xdd5271;if(_0x3761f6[_0x2a49b9(0x13c)]!=0x0)_0x577cb8=![];}),_0x577cb8&&(_0x69d4af=_0x69d4af[_0xdd5271(0x13d)](_0xc52ee8=>{return _0xc52ee8['date']!=_0x3754e7;}));}let _0x4ebebc=dbConfig[_0xdd5271(0x110)](_0xdd5271(0x1f5))[_0xdd5271(0x11d)]({'botID':botID})[_0xdd5271(0x17b)]();_0x4ebebc&&(dbConfig['get'](_0xdd5271(0x1f5))['find']({'botID':botID})[_0xdd5271(0x115)]({'liquidity':_0x69d4af})[_0xdd5271(0xb0)](),config[_0xdd5271(0x80)]=_0x69d4af),logHistory(_0xdd5271(0x1c8),'Portfolio\x20change\x20detected:\x20'+Math[_0xdd5271(0x174)](_0x1b3c10[0x0][_0xdd5271(0x13c)])+'\x20'+_0x1b3c10[0x0][_0xdd5271(0x19c)]+'\x20'+(_0x1b3c10[0x0][_0xdd5271(0x13c)]>0x0?'added':_0xdd5271(0x172))+_0xdd5271(0xe2)),proxyEmit(_0xdd5271(0x108),emittedConfiguration());}else logger['debug']('Fee\x20discount\x20refund\x20detected:\x20'+Math[_0xdd5271(0x174)](_0x1b3c10[0x0][_0xdd5271(0x13c)])+'\x20'+_0x1b3c10[0x0]['coin']+'\x20'+(_0x1b3c10[0x0][_0xdd5271(0x13c)]>0x0?_0xdd5271(0xa7):_0xdd5271(0x172)));transactionDetected=!![];}else logger['debug'](_0xdd5271(0x1bd)+Math[_0xdd5271(0x174)](_0x1b3c10[0x0][_0xdd5271(0x13c)])+'\x20'+_0x1b3c10[0x0][_0xdd5271(0x19c)]+'\x20'+(_0x1b3c10[0x0]['number']>0x0?_0xdd5271(0xa7):_0xdd5271(0x172))+_0xdd5271(0x1e9));}currentCoins=_0x100241,currentCoinsAll=_0x9f2f7d,await sleep(watchTransactionsInterval);}catch(_0x4965ad){if(!exchangeStopped)await handleError(_0x4965ad,_0xdd5271(0x183));}else await sleep(0x64);}}function _0x3605(_0x3970e2,_0x54078d){const _0x1a54fc=_0xd810();return _0x3605=function(_0x1f4b1c,_0x4af6da){_0x1f4b1c=_0x1f4b1c-0x7c;let _0xd81056=_0x1a54fc[_0x1f4b1c];return _0xd81056;},_0x3605(_0x3970e2,_0x54078d);}async function loadSymbols(){const _0x483457=_0x335b4e;try{markets=await exchange[_0x483457(0x139)](),allSymbols=[],Object[_0x483457(0x96)](markets)[_0x483457(0x150)](_0x2b5526=>{const _0xb977de=_0x483457;_0x2b5526[0x1][_0xb977de(0xbc)]&&_0x2b5526[0x1][_0xb977de(0x188)]&&allSymbols[_0xb977de(0x209)](_0x2b5526[0x0]);});}catch(_0x2a3347){throw _0x2a3347;}}function validateSymbols(_0x47d4a2){const _0x24b399=_0x335b4e;let _0xd2e406=[];return _0x47d4a2[_0x24b399(0x150)](_0x3cfff8=>{const _0x3432fe=_0x24b399;!allSymbols[_0x3432fe(0x92)](_0x3cfff8)?logHistory(_0x3432fe(0x1fb),_0x3432fe(0x16a)+_0x3cfff8+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0xd2e406[_0x3432fe(0x209)](_0x3cfff8);}),_0xd2e406;}async function initclient(){const _0x54e04a=_0x335b4e;proxyEmit(_0x54e04a(0x108),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xa43ca4=getNormalizedPerformance();emitPerformance(_0xa43ca4),getStartingBalances(_0xa43ca4);}async function toggleBotMode(){const _0x15545d=_0x335b4e;let _0x422459=dbConfig[_0x15545d(0x110)](_0x15545d(0x1f5))['find']({'botID':botID})[_0x15545d(0x17b)]();if(_0x422459){const _0x493f0b=!_0x422459['headless'];dbConfig['get']('bot')[_0x15545d(0x11d)]({'botID':botID})['assign']({'headless':_0x493f0b})[_0x15545d(0xb0)](),config[_0x15545d(0x1b3)]=_0x493f0b,proxyEmit(_0x15545d(0x108),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5c16ed=_0x335b4e;process[_0x5c16ed(0x112)]({'updatebotmanager':!![]},_0x54183e=>{}),logger['debug'](_0x5c16ed(0x13f)+config[_0x5c16ed(0x1b3)]);}async function loadCoins(_0x7bb7fa){const _0x2a49eb=_0x335b4e;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x189d3c,_0x39cc0f=0x0,_0x4e38fe=0x0;_0x7bb7fa[_0x2a49eb(0x150)](_0x368b84=>{const _0x3849f1=_0x2a49eb;loading['remainingSymbols'][_0x3849f1(0x209)](_0x368b84);}),loadingCanceled=![];let _0x40c391=![];while(_0x189d3c!=_0x7bb7fa[_0x2a49eb(0x1ad)]+maxLoadingProgress){_0x189d3c=loadingProgress,_0x7bb7fa[_0x2a49eb(0x150)](_0x58ca8c=>{const _0x33ef78=_0x2a49eb;if(global[_0x33ef78(0x1ee)][noslash(_0x58ca8c)]){loading[_0x33ef78(0xf3)]=loading[_0x33ef78(0xf3)][_0x33ef78(0x13d)](_0x4f75c0=>_0x4f75c0!=_0x58ca8c);if(!watchedSymbols[_0x33ef78(0x92)](_0x58ca8c))watchedSymbols[_0x33ef78(0x209)](_0x58ca8c);_0x189d3c++;}}),loading['progress']=Math[_0x2a49eb(0xa9)](_0x189d3c/(_0x7bb7fa['length']+maxLoadingProgress)*0x64);loading['progress']!=0x64&&(_0x4e38fe>0x1e*0x5&&(loading[_0x2a49eb(0x196)]=!![],emitLoadingProgress()),_0x4e38fe>0x78*0x5&&!_0x40c391&&(_0x40c391=!![],logHistory(_0x2a49eb(0x1fb),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x2a49eb(0xf3)][_0x2a49eb(0x137)](',\x20')+_0x2a49eb(0xe1)),logHistory(_0x2a49eb(0x1fb),_0x2a49eb(0xec)+loadCoinsRetryInterval/0xea60+_0x2a49eb(0xa3)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x583b14=_0x2a49eb;process[_0x583b14(0x112)]({'stop':_0x583b14(0x205)},_0x4d10f5=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x2a49eb(0x12c)]=!![],emitLoadingProgress();break;}else _0x39cc0f!=loading[_0x2a49eb(0x21e)]&&(_0x39cc0f=loading[_0x2a49eb(0x21e)],emitLoadingProgress()),_0x4e38fe++,await sleep(0xc8);}_0x189d3c==_0x7bb7fa['length']+maxLoadingProgress&&(coinsLoaded=!![],process[_0x2a49eb(0x112)]({'status':_0x2a49eb(0x12e),'live':'running'},_0x57285d=>{}),_0x40c391&&logHistory(_0x2a49eb(0x1c8),_0x2a49eb(0x101)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1da6a5=_0x335b4e;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x1da6a5(0x1f8)});}function emitLoadingProgress(){const _0x5b21a4=_0x335b4e;proxyEmit(_0x5b21a4(0x178),loading);}async function getFiat(){const _0x5c988d=_0x335b4e;let _0x26ccf0=global['ticker'][stablecoins[_0x5c988d(0x156)]['coin']],_0x5f1620=global[_0x5c988d(0x1ee)][stablecoins[_0x5c988d(0x18e)][_0x5c988d(0x19c)]];return{'eur':Number(_0x26ccf0),'usd':Number(_0x5f1620)};}function capitalize(_0x171459){const _0x425ebe=_0x335b4e;return _0x171459[_0x425ebe(0x11a)](0x0,0x1)[_0x425ebe(0x138)]()+_0x171459[_0x425ebe(0x11a)](0x1);}function supportedExchanges(){const _0x519aa3=_0x335b4e,_0x2514cb=['ws',_0x519aa3(0x164),'fetchTicker',_0x519aa3(0xf2),_0x519aa3(0x14c),'cancelOrder',_0x519aa3(0x111),'fetchOpenOrders',_0x519aa3(0x1ff),_0x519aa3(0x1d7)];let _0x3d02ec=[],_0x713dcd=[],_0x5c624e=ccxt[_0x519aa3(0x214)][_0x519aa3(0x129)];_0x5c624e[_0x519aa3(0x150)](_0x305e72=>{const _0x191d50=_0x519aa3;try{const _0x256691=new ccxt[(_0x191d50(0x214))][_0x305e72]();_0x713dcd[_0x191d50(0x209)](_0x256691);}catch(_0x56d9d8){}}),_0x713dcd[_0x519aa3(0x150)](_0x4dc9e1=>{const _0x58bcd8=_0x519aa3;let _0x492a21=0x0;_0x2514cb[_0x58bcd8(0x150)](_0xe59249=>{_0xe59249 in _0x4dc9e1['has']&&_0x4dc9e1['has'][_0xe59249]&&_0x492a21++;}),_0x492a21==_0x2514cb[_0x58bcd8(0x1ad)]&&_0x3d02ec[_0x58bcd8(0x209)](capitalize(_0x4dc9e1['id']));});let _0x5b3a3f=[];return _0x5c624e[_0x519aa3(0x150)](_0x2b7e96=>{const _0x18a9fb=_0x519aa3;_0x2b7e96=capitalize(_0x2b7e96);if(!_0x3d02ec[_0x18a9fb(0x92)](_0x2b7e96))_0x5b3a3f[_0x18a9fb(0x209)](_0x2b7e96);}),_0x3d02ec;}function setStartDatePerformance(){const _0x217f05=_0x335b4e;if(config&&config[_0x217f05(0x80)][0x0][_0x217f05(0x148)][_0x217f05(0x1ad)]!=0x0){const _0x261a32=config[_0x217f05(0x80)][0x0][_0x217f05(0x148)];dbPerformance[_0x217f05(0x110)](_0x217f05(0xef))[_0x217f05(0x11d)]({'date':config[_0x217f05(0x167)]})['assign']({'coins':_0x261a32})['write']();}}async function recreateCoinResults(){const _0x19c48d=_0x335b4e;let _0x762040,_0x520cb7=[];try{const _0x3788c1=fns[_0x19c48d(0x1cb)](fns[_0x19c48d(0x17c)](config['startdate'][_0x19c48d(0x223)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x2c7a8d of currentCoins){if(_0x2c7a8d[_0x19c48d(0x19c)]!=config[_0x19c48d(0xe5)]){let _0x4d0038=0x0,_0x514ef8,_0x566c5a;_0x762040=await getAllEventOrders(_0x2c7a8d[_0x19c48d(0x1b8)]);if(_0x762040[_0x19c48d(0x1ad)]>0x0)_0x762040[_0x19c48d(0x150)](_0x3de0a1=>{const _0x161026=_0x19c48d,_0x2c70b3=_0x2c7a8d[_0x161026(0x1b8)][_0x161026(0x92)](config['basecoin']+'/');_0x520cb7['push']({'datetime':_0x3de0a1[_0x161026(0x120)],'coin':_0x2c7a8d[_0x161026(0x19c)],'symbol':_0x2c7a8d[_0x161026(0x1b8)],'side':_0x3de0a1[_0x161026(0x1f1)],'reverse':_0x2c70b3,'amount':formatResult(_0x3de0a1[_0x161026(0x8e)],0x8),'filled':formatResult(_0x3de0a1[_0x161026(0x8e)],0x8),'price':formatResult(_0x3de0a1[_0x161026(0x181)],0x8)}),_0x4d0038=_0x3de0a1['side']==_0x161026(0x10d)?_0x4d0038+_0x3de0a1[_0x161026(0x8e)]:_0x4d0038-_0x3de0a1[_0x161026(0x8e)];if(!_0x566c5a)_0x566c5a=_0x3de0a1[_0x161026(0x181)];});_0x514ef8=_0x2c7a8d[_0x19c48d(0x13c)]-_0x4d0038;let _0x12992a;config['liquidity'][_0x19c48d(0x150)](_0xd736cb=>{const _0x3a10a2=_0x19c48d;!_0x12992a&&(_0x12992a=_0xd736cb[_0x3a10a2(0x148)]['find'](_0x4973a8=>_0x4973a8[_0x3a10a2(0x19c)]==_0x2c7a8d['coin']),_0x12992a&&(_0x514ef8=_0x12992a[_0x3a10a2(0x13c)],_0x566c5a=_0x12992a[_0x3a10a2(0x181)]));});let _0x4c0f1a=dbCoinResults['get'](_0x19c48d(0x1d4))[_0x19c48d(0x11d)]({'coin':_0x2c7a8d[_0x19c48d(0x19c)]})[_0x19c48d(0x17b)]();_0x4c0f1a={'coin':_0x2c7a8d[_0x19c48d(0x19c)],'number':_0x514ef8,'breakeven':_0x566c5a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x19c48d(0x110)](_0x19c48d(0x1d4))[_0x19c48d(0x11d)]({'coin':_0x2c7a8d[_0x19c48d(0x19c)]})[_0x19c48d(0x115)](_0x4c0f1a)[_0x19c48d(0xb0)]();}}_0x520cb7[_0x19c48d(0xa6)]((_0x1b4760,_0x81968f)=>_0x1b4760[_0x19c48d(0x120)]>_0x81968f[_0x19c48d(0x120)]?0x1:_0x81968f[_0x19c48d(0x120)]>_0x1b4760[_0x19c48d(0x120)]?-0x1:0x0);let _0x2ce08b=0x0;for(let _0x10e391 of _0x520cb7){await updateCoinResults(_0x10e391,!![]);}}catch(_0x582bde){await handleError(_0x582bde,_0x19c48d(0x204));}}async function getAllEventOrders(_0x15dd44){const _0x27a43d=_0x335b4e;let _0x442414=[],_0x555ceb=dbLogs['get'](_0x27a43d(0x83))[_0x27a43d(0x13d)](_0x4cc2a1=>{const _0x32952f=_0x27a43d,_0x3d0d57=_0x4cc2a1[_0x32952f(0x199)][_0x32952f(0xbb)]();return _0x3d0d57['includes'](_0x15dd44[_0x32952f(0xbb)]())&&(_0x3d0d57['includes'](_0x32952f(0x1f3))&&_0x3d0d57['includes'](_0x32952f(0xbd))||_0x3d0d57[_0x32952f(0x92)](_0x32952f(0x8e))&&_0x3d0d57['includes'](_0x32952f(0xbd)));})['sortBy'](_0x27a43d(0x7f))[_0x27a43d(0x17b)]();return _0x555ceb['forEach'](_0x907206=>{const _0x5925d0=_0x27a43d,_0x214681=_0x907206['event'][_0x5925d0(0x92)](_0x5925d0(0x193))?_0x5925d0(0x193):'buy',_0x541ce8=/#([0-9]|\.)+\s/i,_0x358294=Number(_0x541ce8[_0x5925d0(0x222)](_0x907206[_0x5925d0(0x199)])[0x0][_0x5925d0(0x157)](0x1)),_0x1518cc=/@([0-9]|\.)+$/i,_0x942f58=Number(_0x1518cc[_0x5925d0(0x222)](_0x907206[_0x5925d0(0x199)])[0x0][_0x5925d0(0x157)](0x1));_0x442414[_0x5925d0(0x209)]({'datetime':_0x907206[_0x5925d0(0x7f)],'coin':symbolToCoin(_0x15dd44),'symbol':_0x15dd44,'side':_0x214681,'amount':_0x358294,'filled':_0x358294,'price':_0x942f58});}),_0x442414;}async function getAllOrders(_0x5b2fa1,_0x3d7e09){const _0x14cb59=_0x335b4e;let _0x4028d3=[];while(_0x3d7e09<exchange[_0x14cb59(0xca)]()){const _0x2a2de8=0x1f4;try{const _0x481007=await exchange[_0x14cb59(0x1ff)](_0x5b2fa1,_0x3d7e09,_0x2a2de8);if(_0x481007['length'])_0x3d7e09=_0x481007[_0x481007[_0x14cb59(0x1ad)]-0x1]['timestamp']+0x1,_0x4028d3=_0x4028d3['concat'](_0x481007);else break;}catch(_0x36bad7){await handleError(_0x36bad7,_0x14cb59(0x212),_0x5b2fa1);}}return _0x4028d3;}async function validate24hChanges(){const _0x49819f=_0x335b4e;for(const _0x17542b of currentCoins){if(_0x17542b['coin']!=config[_0x49819f(0xe5)]){let _0x3ad993;_0x17542b[_0x49819f(0x9e)]?_0x3ad993=formatResult((0x1/(global[_0x49819f(0x210)][_0x17542b[_0x49819f(0x1b8)]]/0x64+0x1)-0x1)*0x64,0x3):_0x3ad993=global[_0x49819f(0x210)][_0x17542b[_0x49819f(0x1b8)]],_0x3ad993<config[_0x49819f(0x104)]&&(logHistory('error',_0x17542b['coin']+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x3ad993+'%'),logHistory(_0x49819f(0x1fb),_0x49819f(0x9a)),logHistory('error','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x32c53e,_0x3b5a5e){const _0x2fdc14=_0x335b4e;if(!_0x32c53e)return!![];const _0x1f9a38=_0x3b5a5e[_0x2fdc14(0xcf)]('.'),_0x2ca81e=_0x32c53e[_0x2fdc14(0xcf)]('.');for(var _0x4deda1=0x0;_0x4deda1<_0x2ca81e[_0x2fdc14(0x1ad)];_0x4deda1++){const _0x4e5851=~~_0x2ca81e[_0x4deda1],_0x1337c0=~~_0x1f9a38[_0x4deda1];if(_0x4e5851<_0x1337c0)return!![];if(_0x4e5851>_0x1337c0)return![];}return![];}async function oneTimeMigration(){const _0x48044c=_0x335b4e;let _0x48c09f=dbLogs[_0x48044c(0x110)](_0x48044c(0x1da))[_0x48044c(0x17b)]();if(isOlderVersion(_0x48c09f,_0x48044c(0x1dc))){let _0x100976=[];const _0x14fd82=dbLogs[_0x48044c(0x110)](_0x48044c(0x83))[_0x48044c(0x17b)]();_0x14fd82[_0x48044c(0x150)](_0x4076a1=>{const _0x30195f=_0x48044c;_0x100976[_0x30195f(0x209)]({'time':_0x4076a1[_0x30195f(0x7f)],'type':_0x4076a1[_0x30195f(0x82)],'event':_0x4076a1['event']});}),dbLogs[_0x48044c(0x110)](_0x48044c(0x83))[_0x48044c(0x115)](_0x100976)[_0x48044c(0xb0)]();}let _0x3a239a=dbConfig[_0x48044c(0x110)](_0x48044c(0x1da))[_0x48044c(0x17b)]();if(isOlderVersion(_0x3a239a,'2.3.5')){let _0x5808cb=dbConfig[_0x48044c(0x110)](_0x48044c(0x1f5))['find']({'botID':botID})[_0x48044c(0x17b)]();if(_0x5808cb){let _0x462e13=[];_0x5808cb[_0x48044c(0xdf)][_0x48044c(0x150)](_0x1817cb=>{const _0x30febb=_0x48044c;_0x462e13['push']({'coin':_0x1817cb['coin'],'number':_0x1817cb[_0x30febb(0x1c1)],'price':_0x1817cb[_0x30febb(0x86)]}),delete _0x1817cb[_0x30febb(0x1c1)],delete _0x1817cb[_0x30febb(0x86)];});if(_0x462e13[_0x48044c(0x1ad)]!==0x0)fs[_0x48044c(0xff)](configbackuppath+(_0x48044c(0xeb)+botID+'.json'),JSON[_0x48044c(0x11b)](_0x462e13,null,0x4),function(_0xc65a15){if(_0xc65a15){}});const _0x569638=(_0x5174b7,_0x4fe956)=>{const _0x3bde42=_0x48044c;let _0x20f9e5=[];_0x4fe956['forEach'](_0x161e8d=>{const _0x30c952=_0x3605,_0x342934=_0x5174b7['find'](_0xb0bde5=>_0xb0bde5[_0x30c952(0x19c)]==_0x161e8d[_0x30c952(0x19c)]);if(!_0x342934)_0x20f9e5['push'](_0x161e8d);});let _0x53bbfe=[];return _0x5174b7[_0x3bde42(0x150)](_0x5cc835=>{const _0x3321a8=_0x3bde42,_0x4ece84=_0x4fe956[_0x3321a8(0x11d)](_0x429493=>_0x429493[_0x3321a8(0x19c)]==_0x5cc835[_0x3321a8(0x19c)]);if(!_0x4ece84||_0x4ece84[_0x3321a8(0x13c)]==0x0&&_0x5cc835['number']!=0x0)_0x53bbfe[_0x3321a8(0x209)](_0x5cc835);}),{'missingDay1':_0x20f9e5,'notInDay2':_0x53bbfe};},_0xa40c23=dbPerformance['get'](_0x48044c(0xef))[_0x48044c(0x191)]()[_0x48044c(0x17b)]();if(_0xa40c23[_0x48044c(0x1ad)]>0x1){const {missingDay1:_0x37bf6f,notInDay2:_0x3bb7a2}=_0x569638(_0x462e13,_0xa40c23[0x1][_0x48044c(0x1d4)]);_0x462e13=[..._0x462e13,..._0x37bf6f],_0x3bb7a2[_0x48044c(0x150)](_0x9b4d14=>{const _0x27a8ee=_0x48044c;let _0x5ee99c=_0x462e13[_0x27a8ee(0xc7)](_0x37146a=>_0x37146a[_0x27a8ee(0x19c)]==_0x9b4d14[_0x27a8ee(0x19c)]);_0x5ee99c!=-0x1&&_0x462e13[_0x27a8ee(0x1df)](_0x5ee99c,0x1);});}_0x462e13[_0x48044c(0xa6)]((_0x191cf3,_0x293fc3)=>_0x191cf3['coin']>_0x293fc3[_0x48044c(0x19c)]?0x1:_0x293fc3['coin']>_0x191cf3[_0x48044c(0x19c)]?-0x1:0x0);let _0x28a53c=[{'date':_0x5808cb[_0x48044c(0x167)],'changes':_0x462e13}];_0xa40c23[_0x48044c(0x1ad)]>0x2&&_0xa40c23[_0x48044c(0x150)]((_0x276841,_0x6f0b6e)=>{const _0x1fa2c8=_0x48044c;if(_0x6f0b6e>0x0&&_0x6f0b6e<_0xa40c23[_0x1fa2c8(0x1ad)]-0x1){const {missingDay1:_0x4fca3f,notInDay2:_0x5488ac}=_0x569638(_0xa40c23[_0x6f0b6e][_0x1fa2c8(0x1d4)],_0xa40c23[_0x6f0b6e+0x1]['coins']);_0x462e13=[],(_0x4fca3f[_0x1fa2c8(0x1ad)]!=0x0||_0x5488ac[_0x1fa2c8(0x1ad)]!=0x0)&&(_0x4fca3f['length']!=0x0&&_0x462e13['push'](..._0x4fca3f),_0x5488ac[_0x1fa2c8(0x1ad)]!=0x0&&(_0x5488ac[_0x1fa2c8(0x150)](_0xbdb859=>{const _0x5c2604=_0x1fa2c8;_0xbdb859['number']=-_0xbdb859[_0x5c2604(0x13c)];}),_0x462e13[_0x1fa2c8(0x209)](..._0x5488ac)),_0x462e13[_0x1fa2c8(0xa6)]((_0x445dc5,_0x4e0ac8)=>_0x445dc5[_0x1fa2c8(0x19c)]>_0x4e0ac8[_0x1fa2c8(0x19c)]?0x1:_0x4e0ac8[_0x1fa2c8(0x19c)]>_0x445dc5[_0x1fa2c8(0x19c)]?-0x1:0x0),_0x28a53c[_0x1fa2c8(0x209)]({'date':_0xa40c23[_0x6f0b6e+0x1]['date'],'changes':_0x462e13}));}}),dbConfig[_0x48044c(0x110)](_0x48044c(0x1f5))[_0x48044c(0x11d)]({'botID':botID})['assign']({..._0x5808cb,'liquidity':_0x28a53c})[_0x48044c(0xb0)]();}}if(isOlderVersion(_0x3a239a,'2.6.0')){let _0xd53222=dbConfig[_0x48044c(0x110)](_0x48044c(0x1f5))[_0x48044c(0x11d)]({'botID':botID})[_0x48044c(0x17b)]();if(_0xd53222){const _0x5dc67e=_0xd53222['exchange'],_0x1b663f=_0x5dc67e?capitalize(_0x5dc67e):_0x48044c(0xb8);dbConfig[_0x48044c(0x110)]('bot')['find']({'botID':botID})[_0x48044c(0x115)]({'exchange':_0x1b663f})[_0x48044c(0xb0)]();}}let _0x21bb6c=dbPerformance['get']('version')['value']();isOlderVersion(_0x21bb6c,'2.3.5')&&setStartDatePerformance();let _0x4be048=dbCoinResults[_0x48044c(0x110)]('version')[_0x48044c(0x17b)]();if(isOlderVersion(_0x4be048,_0x48044c(0x21a))){let _0x3efa4b=dbCoinResults[_0x48044c(0x110)](_0x48044c(0x1d4))[_0x48044c(0x17b)]();if(_0x3efa4b[_0x48044c(0x1ad)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x29fce1=_0x335b4e;dbConfig[_0x29fce1(0x170)](_0x29fce1(0x1da),serverversion)[_0x29fce1(0xb0)](),dbPerformance[_0x29fce1(0x170)]('version',serverversion)[_0x29fce1(0xb0)](),dbLogs[_0x29fce1(0x170)](_0x29fce1(0x1da),serverversion)['write'](),dbCoinResults[_0x29fce1(0x170)](_0x29fce1(0x1da),serverversion)[_0x29fce1(0xb0)]();}function getConfiguration(_0x101cfe){const _0x9d0711=_0x335b4e;let _0x2ca51e=dbConfig[_0x9d0711(0x110)](_0x9d0711(0x1f5))['find']({'botID':_0x101cfe})[_0x9d0711(0x17b)]();if(_0x2ca51e){let _0x10f3f7=![];typeof _0x2ca51e['threshold']==_0x9d0711(0xdb)&&(_0x2ca51e={..._0x2ca51e,'threshold':Number(_0x2ca51e[_0x9d0711(0x8d)])},_0x10f3f7=!![]),_0x2ca51e['change24h']==undefined&&(_0x2ca51e={..._0x2ca51e,'change24h':-0x14},_0x10f3f7=!![]),_0x2ca51e[_0x9d0711(0xbe)]==undefined&&(_0x2ca51e={..._0x2ca51e,'fiat':_0x9d0711(0x194)},_0x10f3f7=!![]),_0x2ca51e[_0x9d0711(0x195)]==undefined&&(_0x2ca51e={..._0x2ca51e,'onepagemode':settings[_0x9d0711(0x195)]},_0x10f3f7=!![]),_0x2ca51e[_0x9d0711(0xf9)]==undefined&&(_0x2ca51e={..._0x2ca51e,'colorscheme':_0x9d0711(0x107)},_0x10f3f7=!![]),_0x2ca51e[_0x9d0711(0x131)]==undefined&&(_0x2ca51e={..._0x2ca51e,'autoliquidity':!![]},_0x10f3f7=!![]),_0x2ca51e[_0x9d0711(0x97)]==undefined&&(_0x2ca51e={..._0x2ca51e,'marketcapApi':settings[_0x9d0711(0x97)]?!![]:![]},_0x10f3f7=!![]),_0x2ca51e[_0x9d0711(0x14d)]==undefined&&(_0x2ca51e={..._0x2ca51e,'marketcapEnabled':![]},_0x10f3f7=!![]),_0x10f3f7&&(_0x2ca51e={'botID':_0x2ca51e[_0x9d0711(0x1cf)],'exchange':_0x2ca51e[_0x9d0711(0x165)],'apiKey':_0x2ca51e['apiKey'],'apiSecret':_0x2ca51e[_0x9d0711(0x1b7)],'apiPassword':_0x2ca51e[_0x9d0711(0x116)],'basecoin':_0x2ca51e[_0x9d0711(0xe5)],'botname':_0x2ca51e[_0x9d0711(0x20f)],'showname':_0x2ca51e['showname'],'threshold':_0x2ca51e[_0x9d0711(0x8d)],'ordertype':_0x2ca51e[_0x9d0711(0x1d5)],'timeout':_0x2ca51e[_0x9d0711(0x196)],'fiat':_0x2ca51e[_0x9d0711(0xbe)],'startdate':_0x2ca51e['startdate'],'recreate':_0x2ca51e[_0x9d0711(0x1c6)],'timeshift':_0x2ca51e['timeshift'],'onepagemode':_0x2ca51e[_0x9d0711(0x195)],'headless':_0x2ca51e[_0x9d0711(0x1b3)],'cooldown':_0x2ca51e[_0x9d0711(0xf1)],'change24h':_0x2ca51e[_0x9d0711(0x104)],'emojibuy':_0x2ca51e[_0x9d0711(0x1a5)],'emojisell':_0x2ca51e['emojisell'],'colorscheme':_0x2ca51e[_0x9d0711(0xf9)],'marketcapApi':_0x2ca51e[_0x9d0711(0x97)],'marketcapEnabled':_0x2ca51e['marketcapEnabled'],'portfolio':_0x2ca51e['portfolio'],'autoliquidity':_0x2ca51e[_0x9d0711(0x131)],'liquidity':_0x2ca51e[_0x9d0711(0x80)],'openOrders':_0x2ca51e['openOrders']},dbConfig[_0x9d0711(0x110)](_0x9d0711(0x1f5))['remove']()[_0x9d0711(0xb0)](),dbConfig[_0x9d0711(0x110)](_0x9d0711(0x1f5))['push'](_0x2ca51e)[_0x9d0711(0xb0)]());}else _0x2ca51e={'botID':_0x101cfe,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x9d0711(0x144)+_0x101cfe,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x9d0711(0x194),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x9d0711(0x1e7)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x9d0711(0x97)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x2ca51e;}function emittedConfiguration(){const _0x3161b0=_0x335b4e;let _0x18bb13;if(config[_0x3161b0(0x14e)]=='')_0x18bb13={...config,'configstate':'initial'};else config[_0x3161b0(0x14e)]==_0x3161b0(0x114)?_0x18bb13={...config,'configstate':'recovery'}:(_0x18bb13={...config,'apiKey':_0x3161b0(0x14a),'apiSecret':'************'},config[_0x3161b0(0x116)]&&(_0x18bb13[_0x3161b0(0x116)]=_0x3161b0(0x14a)));return _0x18bb13;}function getSettings(){const _0x248cb3=_0x335b4e;return dbSettings[_0x248cb3(0x110)]('settings')[_0x248cb3(0x17b)]();}function getSecure(){const _0x455ef8=_0x335b4e;return dbSecure[_0x455ef8(0x110)](_0x455ef8(0xb7))[_0x455ef8(0x17b)]()||{};}function updateTimeshift(_0x43854a){const _0x3247b3=_0x335b4e;let _0x472ff1=dbConfig[_0x3247b3(0x110)]('bot')['find']({'botID':botID})[_0x3247b3(0x17b)]();_0x472ff1&&dbConfig[_0x3247b3(0x110)](_0x3247b3(0x1f5))[_0x3247b3(0x11d)]({'botID':botID})['assign']({'timeshift':_0x43854a})[_0x3247b3(0xb0)](),config[_0x3247b3(0x1e7)]=_0x43854a,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x3b71f0){const _0x1e69bd=_0x335b4e;let _0x2e7037=dbConfig[_0x1e69bd(0x110)]('bot')[_0x1e69bd(0x11d)]({'botID':botID})[_0x1e69bd(0x17b)]();_0x2e7037&&dbConfig['get'](_0x1e69bd(0x1f5))[_0x1e69bd(0x11d)]({'botID':botID})[_0x1e69bd(0x115)]({'onepagemode':_0x3b71f0})['write'](),config[_0x1e69bd(0x195)]=_0x3b71f0,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0xd3144c){const _0x59213b=_0x335b4e,_0x306858=_0xd3144c?!![]:![];let _0x104b35=dbConfig['get'](_0x59213b(0x1f5))[_0x59213b(0x11d)]({'botID':botID})['value']();_0x104b35&&dbConfig[_0x59213b(0x110)]('bot')[_0x59213b(0x11d)]({'botID':botID})['assign']({'marketcapApi':_0x306858})[_0x59213b(0xb0)](),config[_0x59213b(0x97)]=_0x306858,getMarketCap(),proxyEmit(_0x59213b(0x108),emittedConfiguration());}async function storeConfiguration(_0x28ffb7){const _0x2b8a00=_0x335b4e;logger[_0x2b8a00(0x13e)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug'](_0x2b8a00(0x1fe));let _0x2bac98=![],_0x1f650a=![],_0x58be5c=[];_0x28ffb7[_0x2b8a00(0xdf)][_0x2b8a00(0x150)](_0x2f6b95=>{const _0x33974d=_0x2b8a00;if(!_0x2f6b95['excluded']&&_0x2f6b95[_0x33974d(0x19c)]!=_0x28ffb7[_0x33974d(0xe5)])_0x58be5c['push'](_0x2f6b95[_0x33974d(0x1b8)]);}),_0x58be5c['forEach'](_0xeb72f0=>{const _0x37aac4=_0x2b8a00,_0x5a94d1=currentCoins[_0x37aac4(0x11d)](_0x234dfd=>_0x234dfd[_0x37aac4(0x1b8)]==_0xeb72f0);!_0x5a94d1&&(_0x2bac98=!![]);}),currentCoins[_0x2b8a00(0x150)](_0x4e85b5=>{const _0x5d7004=_0x2b8a00;if(_0x4e85b5['coin']!=config[_0x5d7004(0xe5)]){const _0x33666e=_0x58be5c[_0x5d7004(0x11d)](_0xffcc1c=>_0xffcc1c==_0x4e85b5[_0x5d7004(0x1b8)]);!_0x33666e&&(_0x2bac98=!![]);}}),_0x28ffb7[_0x2b8a00(0xdf)][_0x2b8a00(0x150)](_0x3ba592=>{const _0x23a830=_0x2b8a00,_0x588b8c=config[_0x23a830(0xdf)]['find'](_0x53d7f4=>_0x53d7f4[_0x23a830(0x19c)]==_0x3ba592['coin']);if(_0x588b8c&&_0x3ba592[_0x23a830(0x16f)]!=_0x588b8c[_0x23a830(0x16f)])_0x1f650a=!![];});let _0x337663=dbConfig['get'](_0x2b8a00(0x1f5))[_0x2b8a00(0x11d)]({'botID':botID})[_0x2b8a00(0x17b)]();_0x28ffb7={..._0x28ffb7,'apiKey':crypt[_0x2b8a00(0xed)](secure[_0x2b8a00(0x85)],_0x28ffb7[_0x2b8a00(0x14e)])['message'],'apiSecret':crypt[_0x2b8a00(0xed)](secure['privateKey'],_0x28ffb7[_0x2b8a00(0x1b7)])[_0x2b8a00(0xe0)]};_0x28ffb7['apiPassword']&&(_0x28ffb7[_0x2b8a00(0x116)]=crypt[_0x2b8a00(0xed)](secure[_0x2b8a00(0x85)],_0x28ffb7[_0x2b8a00(0x116)])[_0x2b8a00(0xe0)]);let _0x20f623=![];if(_0x337663){_0x28ffb7[_0x2b8a00(0x14e)]==_0x2b8a00(0x14a)?_0x28ffb7['apiKey']=config['apiKey']:_0x20f623=!![];_0x28ffb7[_0x2b8a00(0x1b7)]==_0x2b8a00(0x14a)?_0x28ffb7[_0x2b8a00(0x1b7)]=config[_0x2b8a00(0x1b7)]:_0x20f623=!![];if(_0x28ffb7[_0x2b8a00(0x116)]==_0x2b8a00(0x14a))_0x28ffb7[_0x2b8a00(0x116)]=config[_0x2b8a00(0x116)];else{if(_0x28ffb7[_0x2b8a00(0x116)])_0x20f623=!![];}dbConfig[_0x2b8a00(0x110)](_0x2b8a00(0x1f5))['find']({'botID':botID})[_0x2b8a00(0x115)](_0x28ffb7)[_0x2b8a00(0xb0)]();}else dbConfig['get'](_0x2b8a00(0x1f5))[_0x2b8a00(0x209)](_0x28ffb7)[_0x2b8a00(0xb0)](),_0x20f623=!![],process[_0x2b8a00(0x112)]({'status':_0x2b8a00(0x12e),'live':'running'},_0x297655=>{});process[_0x2b8a00(0x112)]({'botname':_0x28ffb7[_0x2b8a00(0x20f)]},_0x1ac1f8=>{}),config={..._0x28ffb7},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x20f623)await reset(!![]);else _0x2bac98||_0x1f650a?await reset(![]):getBalances();blockTransactionDetection=![],logger['debug'](_0x2b8a00(0x8a));}async function storeHeadless(_0x457061){const _0x1be158=_0x335b4e,_0x5ce293={...config,'headless':_0x457061['headless']};let _0x1b9964=dbConfig[_0x1be158(0x110)](_0x1be158(0x1f5))[_0x1be158(0x11d)]({'botID':botID})[_0x1be158(0x17b)]();_0x1b9964&&dbConfig[_0x1be158(0x110)](_0x1be158(0x1f5))[_0x1be158(0x11d)]({'botID':botID})[_0x1be158(0x115)](_0x5ce293)[_0x1be158(0xb0)](),config={..._0x5ce293},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x1c0f2d){const _0x211616=_0x335b4e,_0x1a49d8={...config,'fiat':_0x1c0f2d};let _0x650e8a=dbConfig[_0x211616(0x110)]('bot')[_0x211616(0x11d)]({'botID':botID})[_0x211616(0x17b)]();_0x650e8a&&dbConfig[_0x211616(0x110)]('bot')[_0x211616(0x11d)]({'botID':botID})['assign'](_0x1a49d8)[_0x211616(0xb0)](),config={..._0x1a49d8},proxyEmit(_0x211616(0x108),emittedConfiguration());}function resetHistory(){const _0x60b131=_0x335b4e;logger[_0x60b131(0x1f4)](_0x60b131(0x1fa));try{if(fs[_0x60b131(0x1db)](path[_0x60b131(0x137)](configpath,_0x60b131(0x187)+botID+_0x60b131(0x1e4))))fs[_0x60b131(0x175)](path[_0x60b131(0x137)](configpath,_0x60b131(0x187)+botID+'-events.json'));if(fs['existsSync'](path['join'](configpath,'bot-'+botID+'-performance.json')))fs[_0x60b131(0x175)](path[_0x60b131(0x137)](configpath,_0x60b131(0x187)+botID+_0x60b131(0x94)));if(fs[_0x60b131(0x1db)](path['join'](configpath,_0x60b131(0x187)+botID+_0x60b131(0x1fd))))fs[_0x60b131(0x175)](path[_0x60b131(0x137)](configpath,_0x60b131(0x187)+botID+_0x60b131(0x1fd)));}catch(_0x558bbf){if(_0x558bbf)logger['full'](_0x60b131(0x1b5),_0x558bbf);}const _0x57a5c5=getDate();let _0x5a962d=[];currentCoins['forEach'](_0x22f7e0=>{const _0x44960c=_0x60b131;_0x5a962d[_0x44960c(0x209)]({'coin':_0x22f7e0[_0x44960c(0x19c)],'number':_0x22f7e0['number'],'price':_0x22f7e0['last']});});let _0xe78ec8=dbConfig[_0x60b131(0x110)](_0x60b131(0x1f5))['find']({'botID':botID})[_0x60b131(0x17b)]();_0xe78ec8&&(dbConfig[_0x60b131(0x110)]('bot')['find']({'botID':botID})[_0x60b131(0x115)]({'liquidity':[{'date':_0x57a5c5,'changes':_0x5a962d}]})[_0x60b131(0xb0)](),config[_0x60b131(0x80)]=[]),process['send']({'stop':_0x60b131(0x205)},_0x20d033=>{});}function noslash(_0x283b10){const _0x4819aa=_0x335b4e;return _0x283b10[_0x4819aa(0x223)]('/','');}function updateHighestFee(_0xc8c36b){const _0x23a5d5=_0x335b4e;if(_0xc8c36b['reverse']){let _0x4df036={'filled':_0xc8c36b[_0x23a5d5(0x8e)]*_0xc8c36b[_0x23a5d5(0x181)],'amount':_0xc8c36b['filled']*_0xc8c36b[_0x23a5d5(0x181)],'side':_0xc8c36b[_0x23a5d5(0x1f1)]==_0x23a5d5(0x193)?_0x23a5d5(0x10d):_0x23a5d5(0x193),'price':0x1/_0xc8c36b[_0x23a5d5(0x181)]};_0xc8c36b={..._0xc8c36b,..._0x4df036};}const _0x5324c1=defaultFee*_0xc8c36b[_0x23a5d5(0x8e)]*_0xc8c36b[_0x23a5d5(0x181)];lastFees[_0x23a5d5(0x84)][_0x23a5d5(0x1ad)]===0x14&&lastFees[_0x23a5d5(0x84)][_0x23a5d5(0x1f6)](),lastFees[_0x23a5d5(0x84)]['push'](_0x5324c1),lastFees['highest']=Math['max'](...lastFees[_0x23a5d5(0x84)]);}async function updateNumberCoinsCcxt(_0x451631){const _0x537fed=_0x335b4e;logger[_0x537fed(0x13e)](_0x537fed(0x192)+_0x451631['symbol']+_0x537fed(0x166)+_0x451631[_0x537fed(0x13a)]+'\x20|\x20'+_0x451631[_0x537fed(0x8e)]+_0x537fed(0x100)+_0x451631[_0x537fed(0xd2)]+_0x537fed(0x166)+_0x451631['id']);let _0x57d501=_0x451631[_0x537fed(0x13a)],_0x3a27ef=![];currentCoins[_0x537fed(0x150)](_0x5d51d1=>{const _0x2ad463=_0x537fed;_0x5d51d1[_0x2ad463(0x1b8)]==_0x451631[_0x2ad463(0x1b8)]&&(_0x3a27ef=!![]);});if(!_0x3a27ef)return;const _0x511022=currentCoins[_0x537fed(0x11d)](_0x44bd18=>_0x44bd18[_0x537fed(0x1b8)]==_0x451631[_0x537fed(0x1b8)]),_0x51f2af=_0x967eaa=>{const _0x4d3052=_0x537fed;if(_0x511022)_0x511022[_0x4d3052(0xdc)]=_0x967eaa;};if(_0x57d501==_0x537fed(0x106))_0x51f2af(_0x537fed(0x106));else{if(_0x57d501==_0x537fed(0x1e1)){_0x51f2af('canceled');const _0x5242db=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x5242db,await getOpenOrders(),handleOpenOrders();}else{if(_0x57d501==_0x537fed(0x1d6)){let _0x3fe42d=![];if(lastOrders)for(const _0x15936a of lastOrders){const _0x4233d5=0xc8,_0x671b11=0x1388;let _0x443c5f=0x0;while(!_0x15936a[_0x537fed(0xf4)]&&_0x443c5f*_0x4233d5<_0x671b11){_0x443c5f++,await sleep(_0x4233d5);}if(_0x443c5f>0x0)logger[_0x537fed(0x13e)](_0x537fed(0x20a)+_0x443c5f*_0x4233d5/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x15936a['orderId']==_0x451631['id']){logger[_0x537fed(0x13e)](_0x537fed(0xce)+_0x451631['id']),_0x3fe42d=!![];if(_0x15936a[_0x537fed(0x8e)]==0x0){logger[_0x537fed(0x13e)](_0x537fed(0x215)+_0x451631['id']);if(_0x451631[_0x537fed(0x211)])_0x15936a['price']=_0x451631['average'];else{if(_0x451631[_0x537fed(0x181)])_0x15936a[_0x537fed(0x181)]=_0x451631[_0x537fed(0x181)];else{}}_0x15936a[_0x537fed(0x8e)]=_0x451631[_0x537fed(0x8e)],updateHighestFee(_0x15936a),_0x51f2af(_0x537fed(0x8e)),await validateOrders();if(lockOrders==ORDERS[_0x537fed(0xd1)]){const _0x2166c5=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2166c5;}_0x15936a[_0x537fed(0x163)]={'currency':_0x451631[_0x537fed(0x163)]?_0x451631[_0x537fed(0x163)][_0x537fed(0x141)]:null,'cost':_0x451631[_0x537fed(0x163)]?_0x451631[_0x537fed(0x163)][_0x537fed(0xbf)]:0x0},await updateCoinResults(_0x15936a);}}}if(!_0x3fe42d){logger[_0x537fed(0x13e)](_0x537fed(0xc2)+_0x451631['id']),_0x51f2af(_0x537fed(0x8e));const _0x1bb84c=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1bb84c,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x24075d=JSON[_0x537fed(0x99)](lastBalances[_0x537fed(0xdf)]);const _0x28e484=_0x24075d['find'](_0x980aa9=>_0x980aa9[_0x537fed(0x1b8)]==_0x451631[_0x537fed(0x1b8)]);if(_0x28e484){if(_0x57d501==_0x537fed(0x106))_0x28e484['orderstatus']=_0x28e484[_0x537fed(0xdc)]==_0x537fed(0x8e)?_0x537fed(0x8e):_0x537fed(0x106);else{if(_0x57d501==_0x537fed(0x1e1))_0x28e484[_0x537fed(0xdc)]=_0x28e484[_0x537fed(0xdc)]=='filled'?_0x537fed(0x8e):_0x537fed(0x1e1);else _0x57d501=='closed'&&(_0x28e484['orderstatus']=_0x537fed(0x8e));}}lastBalances={...lastBalances,'portfolio':JSON[_0x537fed(0x11b)](_0x24075d)},proxyEmit(_0x537fed(0x1e6),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x277a49=_0x335b4e;await getOpenOrders();let _0xf3a458=![];currentCoins[_0x277a49(0x150)](_0x529132=>{const _0x21b494=_0x277a49;_0xf3a458=allOpenOrders[_0x21b494(0x11d)](_0x29c8d4=>_0x29c8d4[_0x21b494(0x1b8)]==_0x529132[_0x21b494(0x1b8)]),_0x529132[_0x21b494(0xdc)]=_0xf3a458?_0x21b494(0x106):_0x21b494(0xf6);});}async function getCoins(_0x13e982=0x0,_0x63627e=!![],_0x3b9c4f=config[_0x335b4e(0xe5)]){const _0x1328a7=_0x335b4e;let _0x3eca91,_0x3b619f=[],_0x4d675e=[],_0x7d8b66=[];if(_0x13e982)await sleep(_0x13e982);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x3eca91=await exchange['fetchBalance'](),mybalances=_0x3eca91[_0x1328a7(0x9f)];for(const [_0x5d4d8a,_0x12d264]of Object[_0x1328a7(0x96)](mybalances)){_0x7d8b66['push'](_0x5d4d8a);}config['portfolio'][_0x1328a7(0x150)](_0x2bbedd=>{const _0x287ab4=_0x1328a7;!_0x7d8b66[_0x287ab4(0x92)](_0x2bbedd[_0x287ab4(0x19c)])&&(mybalances[_0x2bbedd[_0x287ab4(0x19c)]]=0x0);});if(_0x3b9c4f=='')for(const [_0xf28aec,_0x6720b8]of Object[_0x1328a7(0x96)](mybalances)){_0x6720b8!=0x0&&_0x3b619f[_0x1328a7(0x209)]({'coin':_0xf28aec});}else for(const [_0x1cea86,_0x45de00]of Object[_0x1328a7(0x96)](mybalances)){const _0x44b66e=config[_0x1328a7(0xdf)]['find'](_0x5bd56d=>_0x5bd56d[_0x1328a7(0x19c)]==_0x1cea86),_0x247b90=_0x1cea86+'/'+_0x3b9c4f,_0x109f56=_0x3b9c4f+'/'+_0x1cea86,_0x31a6fd=currentCoins[_0x1328a7(0x11d)](_0x2d41e2=>_0x2d41e2[_0x1328a7(0x19c)]==_0x1cea86);if((_0x45de00!=0x0||_0x44b66e)&&(allSymbols[_0x1328a7(0x92)](_0x247b90)||_0x1cea86==_0x3b9c4f))_0x31a6fd?_0x3b619f['push']({..._0x31a6fd,'number':Math['max'](_0x45de00+(_0x44b66e&&_0x44b66e[_0x1328a7(0x16f)]||0x0),0x0)}):_0x3b619f['push']({'coin':_0x1cea86,'symbol':_0x247b90,'reverse':![],'number':Math['max'](_0x45de00+(_0x44b66e&&_0x44b66e[_0x1328a7(0x16f)]||0x0),0x0),'orderstatus':'none'});else{if((_0x45de00!=0x0||_0x44b66e)&&allSymbols[_0x1328a7(0x92)](_0x109f56))_0x31a6fd?_0x3b619f[_0x1328a7(0x209)]({..._0x31a6fd,'number':Math[_0x1328a7(0x10c)](_0x45de00+(_0x44b66e&&_0x44b66e['offset']||0x0),0x0)}):_0x3b619f['push']({'coin':_0x1cea86,'symbol':_0x109f56,'reverse':!![],'number':Math[_0x1328a7(0x10c)](_0x45de00+(_0x44b66e&&_0x44b66e[_0x1328a7(0x16f)]||0x0),0x0),'orderstatus':_0x1328a7(0xf6)});else _0x44b66e&&_0x3b619f[_0x1328a7(0x209)]({'coin':_0x44b66e['coin'],'symbol':_0x44b66e['symbol'],'reverse':_0x44b66e[_0x1328a7(0x9e)],'number':0x0,'orderstatus':_0x1328a7(0xf6)});}}}catch(_0x152f5b){if(!_0x63627e)handleErrorNoStop(_0x152f5b,_0x1328a7(0xd0));else await handleError(_0x152f5b,_0x1328a7(0xd0));}return _0x3b619f[_0x1328a7(0xa6)]((_0x226e5a,_0x11fe2d)=>_0x226e5a[_0x1328a7(0x133)]<_0x11fe2d['delta']?0x1:_0x11fe2d['delta']<_0x226e5a['delta']?-0x1:0x0),_0x4d675e=cloneDeep(_0x3b619f),_0x3b619f=_0x3b619f[_0x1328a7(0x13d)](_0x27cd3b=>{const _0x2f235c=_0x1328a7,_0x48d5a1=config[_0x2f235c(0xdf)][_0x2f235c(0x11d)](_0x1ac98a=>_0x1ac98a[_0x2f235c(0x19c)]==_0x27cd3b[_0x2f235c(0x19c)]);return _0x48d5a1&&!_0x48d5a1[_0x2f235c(0x19b)];}),[_0x3b619f,_0x4d675e];}async function getCoinNumber(_0x5a64f0){const _0x558b75=_0x335b4e;let _0x4cb5eb;try{const _0x5ddc88=await exchange[_0x558b75(0x1d7)]();_0x4cb5eb=_0x5ddc88[_0x558b75(0x9f)][_0x5a64f0];}catch(_0x6ed337){await handleError(_0x6ed337,'getCoinNumber()');}return _0x4cb5eb;}async function getOpenOrders(){const _0x53bed4=_0x335b4e;let _0x452364;allOpenOrders=[];try{for(const _0x39b9b4 of config[_0x53bed4(0xdf)]){!_0x39b9b4[_0x53bed4(0x19b)]&&_0x39b9b4[_0x53bed4(0x19c)]!=config[_0x53bed4(0xe5)]&&(_0x452364=await exchange['fetchOpenOrders'](_0x39b9b4[_0x53bed4(0x1b8)]),_0x452364['length']>0x0&&allOpenOrders[_0x53bed4(0x209)](_0x452364[0x0]));}}catch(_0x3fb0f0){await handleError(_0x3fb0f0,'getOpenOrders()');}}async function handleOpenOrders(_0x52ccc6=0x0){const _0x141461=_0x335b4e;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x52ccc6==0x0?(logger[_0x141461(0x13e)](_0x141461(0xd5)),_0x52ccc6++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x141461(0x87)),validateOrders(_0x141461(0x122))));}async function testAPI(_0x5e25e9){const _0x4b6318=_0x335b4e,_0x267c4c=ccxt[_0x4b6318(0x214)][_0x5e25e9['exchange'][_0x4b6318(0xbb)]()],_0x4fc894=new _0x267c4c({'apiKey':_0x5e25e9[_0x4b6318(0x14e)],'secret':_0x5e25e9[_0x4b6318(0x1b7)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x4b6318(0x188)}});if(_0x5e25e9[_0x4b6318(0x116)])_0x4fc894[_0x4b6318(0x207)]=_0x5e25e9[_0x4b6318(0x116)];try{await _0x4fc894[_0x4b6318(0x139)]();}catch(_0x190086){throw _0x190086;}}function cloneDeep(_0xaf277d){const _0x5c5fe6=_0x335b4e;return JSON['parse'](JSON[_0x5c5fe6(0x11b)](_0xaf277d));}async function getPortfolio(_0x1a8f61){const _0x1e3754=_0x335b4e;let _0x399a5c=[],_0x9cde65=[],_0x3daa73=[],_0x37b594;if(_0x1a8f61['apiKey']!==_0x1e3754(0x14a)||_0x1a8f61['apiSecret']!==_0x1e3754(0x14a)||_0x1a8f61[_0x1e3754(0x116)]&&_0x1a8f61[_0x1e3754(0x116)]!==_0x1e3754(0x14a)){if(config[_0x1e3754(0x165)]){if(_0x1a8f61[_0x1e3754(0x14e)]==_0x1e3754(0x14a))_0x1a8f61[_0x1e3754(0x14e)]=config[_0x1e3754(0x14e)];if(_0x1a8f61[_0x1e3754(0x1b7)]==_0x1e3754(0x14a))_0x1a8f61[_0x1e3754(0x1b7)]=config[_0x1e3754(0x1b7)];if(_0x1a8f61[_0x1e3754(0x116)]==_0x1e3754(0x14a))_0x1a8f61['apiPassword']=config[_0x1e3754(0x116)];try{await testAPI(_0x1a8f61);}catch(_0x39b7a1){if(_0x39b7a1[_0x1e3754(0x1ec)]()['includes'](_0x1e3754(0xe3))){logger[_0x1e3754(0x13e)](_0x1e3754(0xa1)),proxyEmit('portfolio',![]);return;}else{handleError(_0x39b7a1,_0x1e3754(0x201));return;}}}await initExchange(_0x1a8f61[_0x1e3754(0x165)],_0x1a8f61[_0x1e3754(0x14e)],_0x1a8f61['apiSecret'],_0x1a8f61[_0x1e3754(0x116)]);try{await loadSymbols();}catch(_0x4897ae){if(_0x4897ae[_0x1e3754(0x1ec)]()[_0x1e3754(0x92)](_0x1e3754(0xe3))){proxyEmit(_0x1e3754(0xdf),![]);return;}else{handleError(_0x4897ae,_0x1e3754(0x8f));return;}}const _0x3ba2c4=await getCoins(0x0,![],_0x1a8f61['basecoin']);_0x3daa73=cloneDeep(_0x3ba2c4[0x1]);}else{const _0x3e3d15=await getCoins();_0x3daa73=cloneDeep(_0x3e3d15[0x1]);}if(_0x1a8f61[_0x1e3754(0xe5)]=='')proxyEmit(_0x1e3754(0xdf),_0x3daa73);else{_0x3daa73[_0x1e3754(0x150)](_0x269cff=>{const _0x452453=_0x1e3754;if(_0x269cff['coin']!=_0x1a8f61[_0x452453(0xe5)]&&allSymbols[_0x452453(0x92)](_0x269cff['symbol']))_0x399a5c[_0x452453(0x209)](_0x269cff['symbol']);});if(_0x399a5c[_0x1e3754(0x1ad)]==0x0)logHistory(_0x1e3754(0x1fb),_0x1e3754(0x91));else{try{_0x9cde65=await getTickers(_0x399a5c);}catch(_0x1e3cf7){if(_0x1e3cf7[_0x1e3754(0x1ec)]()[_0x1e3754(0x92)](_0x1e3754(0xe3))){proxyEmit(_0x1e3754(0xdf),![]);return;}else handleError(_0x1e3cf7,'getPortfolio(2)');}_0x3daa73[_0x1e3754(0x150)](_0x22c78d=>{const _0x54ec21=_0x1e3754;_0x22c78d[_0x54ec21(0x19c)]!=_0x1a8f61[_0x54ec21(0xe5)]?_0x9cde65[_0x22c78d[_0x54ec21(0x1b8)]]?_0x37b594=_0x22c78d[_0x54ec21(0x9e)]?0x1/_0x9cde65[_0x22c78d[_0x54ec21(0x1b8)]][_0x54ec21(0x135)]:_0x9cde65[_0x22c78d['symbol']][_0x54ec21(0x135)]:_0x37b594=0x0:_0x37b594=0x1,_0x22c78d[_0x54ec21(0x181)]=formatResult(_0x37b594,0x8);}),await getMarketCap(_0x3daa73),proxyEmit(_0x1e3754(0xdf),_0x3daa73);}}}function truncateTradeAmount(_0x362dcd,_0x1c3d5d){const _0x224be9=_0x335b4e;let _0x301325=0x0;try{_0x301325=exchange[_0x224be9(0x218)](_0x362dcd,_0x1c3d5d);}catch(_0x43d082){}return _0x301325;}function checkMinimums(_0x16fb63){const _0x3fa211=_0x335b4e;let _0x59fb2b=!![];const _0x4c837b=!_0x16fb63[_0x3fa211(0x9e)]?markets[_0x16fb63[_0x3fa211(0x1b8)]][_0x3fa211(0x103)][_0x3fa211(0xd2)][_0x3fa211(0x20e)]:markets[_0x16fb63[_0x3fa211(0x1b8)]][_0x3fa211(0x103)]['cost'][_0x3fa211(0x20e)],_0x258f98=!_0x16fb63['reverse']?markets[_0x16fb63[_0x3fa211(0x1b8)]][_0x3fa211(0x103)]['cost'][_0x3fa211(0x20e)]:markets[_0x16fb63[_0x3fa211(0x1b8)]]['limits'][_0x3fa211(0xd2)]['min'],_0x24646f=truncateTradeAmount(_0x16fb63[_0x3fa211(0x1b8)],_0x16fb63[_0x3fa211(0x17a)]);_0x16fb63['trade']=_0x24646f;if(Math[_0x3fa211(0x174)](_0x24646f)<_0x4c837b)_0x59fb2b=![];if(Math[_0x3fa211(0x174)](_0x24646f)*_0x16fb63['last']<_0x258f98)_0x59fb2b=![];if(_0x16fb63[_0x3fa211(0x1f1)]=='sell'){let _0x237fd4=config[_0x3fa211(0xdf)][_0x3fa211(0x11d)](_0x5d4d53=>_0x5d4d53[_0x3fa211(0x19c)]==_0x16fb63[_0x3fa211(0x19c)]);if(_0x237fd4[_0x3fa211(0x16f)]>0x0){if(Math[_0x3fa211(0x174)](_0x24646f)>_0x16fb63[_0x3fa211(0x13c)]-_0x237fd4[_0x3fa211(0x16f)])_0x59fb2b=![];}else{if(Math[_0x3fa211(0x174)](_0x24646f)>_0x16fb63[_0x3fa211(0x13c)])_0x59fb2b=![];}}if(_0x16fb63[_0x3fa211(0x1f1)]==_0x3fa211(0x10d)){let _0x6e221=config['portfolio'][_0x3fa211(0x11d)](_0x1c396f=>_0x1c396f[_0x3fa211(0x19c)]==config[_0x3fa211(0xe5)]),_0x5b7edf=currentCoins[_0x3fa211(0x11d)](_0x4c7a9d=>_0x4c7a9d[_0x3fa211(0x19c)]==config['basecoin']);if(_0x6e221[_0x3fa211(0x16f)]>0x0){if(Math[_0x3fa211(0x174)](_0x24646f)*_0x16fb63[_0x3fa211(0x135)]>_0x5b7edf[_0x3fa211(0x13c)]-_0x6e221[_0x3fa211(0x16f)])_0x59fb2b=![];}else{if(Math[_0x3fa211(0x174)](_0x24646f)*_0x16fb63[_0x3fa211(0x135)]>_0x5b7edf[_0x3fa211(0x13c)])_0x59fb2b=![];}}return _0x59fb2b;}async function getBalances(_0x2f7637=!![]){const _0x113dce=_0x335b4e;let _0x1bfa1e=0x0,_0x23cb1c;const _0x5dea44=config[_0x113dce(0x8d)];if(config[_0x113dce(0x1b3)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x113dce(0x150)](_0x2ba753=>{const _0x2bafa3=_0x113dce;if(_0x2ba753[_0x2bafa3(0x19c)]!=config[_0x2bafa3(0xe5)]){let _0xeb98dd=global[_0x2bafa3(0x1ee)][noslash(_0x2ba753[_0x2bafa3(0x1b8)])];_0x23cb1c=_0x2ba753[_0x2bafa3(0x9e)]?0x1/_0xeb98dd:_0xeb98dd;}else _0x23cb1c=0x1;let _0x33f049=_0x2ba753['number']*_0x23cb1c;_0x1bfa1e+=_0x33f049,_0x2ba753[_0x2bafa3(0x135)]=formatResult(Number(_0x23cb1c),0x8),_0x2ba753[_0x2bafa3(0x17b)]=_0x33f049;}),currentCoins['forEach'](_0x476e2b=>{const _0x275b5c=_0x113dce;let _0x1caf7a=config['portfolio'][_0x275b5c(0x11d)](_0x546945=>_0x546945['coin']==_0x476e2b[_0x275b5c(0x19c)]),_0x5e49e9=Number(_0x1caf7a[_0x275b5c(0x1a3)]),_0x395dfe=_0x476e2b['value']/_0x1bfa1e*0x64,_0xe31cd9=_0x5e49e9*_0x1bfa1e/0x64/_0x476e2b[_0x275b5c(0x135)]-_0x476e2b['number'];_0x476e2b[_0x275b5c(0x1a3)]=formatResult(_0x395dfe,0x3),_0x476e2b[_0x275b5c(0x123)]=formatResult(_0x5e49e9,0x3),_0x476e2b[_0x275b5c(0x17a)]=formatResult(_0xe31cd9,0x8),_0x476e2b[_0x275b5c(0x1f1)]='',_0x476e2b[_0x275b5c(0xee)]=![];if(_0x476e2b[_0x275b5c(0x19c)]!=config[_0x275b5c(0xe5)]){if(_0x476e2b[_0x275b5c(0x1a3)]>_0x5e49e9)_0x476e2b['side']=_0x275b5c(0x193),_0x476e2b[_0x275b5c(0xee)]=checkMinimums(_0x476e2b);else _0x476e2b[_0x275b5c(0x1a3)]<_0x5e49e9&&(_0x476e2b[_0x275b5c(0x1f1)]=_0x275b5c(0x10d),_0x476e2b['valid']=checkMinimums(_0x476e2b));}_0x476e2b['delta']=_0x476e2b[_0x275b5c(0x1a3)]/_0x476e2b[_0x275b5c(0x123)]-0x1;if(_0x476e2b[_0x275b5c(0xdc)]==_0x275b5c(0x8e)||_0x476e2b[_0x275b5c(0xdc)]==_0x275b5c(0x1e1))_0x476e2b['orderstatus']=_0x275b5c(0xf6);}),currentCoins['sort']((_0x3b4d93,_0x13d399)=>_0x3b4d93[_0x113dce(0x133)]<_0x13d399[_0x113dce(0x133)]?0x1:_0x13d399[_0x113dce(0x133)]<_0x3b4d93[_0x113dce(0x133)]?-0x1:0x0);const _0x4927de=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4927de[_0x113dce(0x156)],'usd':_0x4927de[_0x113dce(0x18e)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x5dea44},proxyEmit(_0x113dce(0x1e6),{'serverversion':serverversion,'balances':lastBalances});if(_0x2f7637){if(config[_0x113dce(0x1b3)])headlessMode({'portfolio':currentCoins,'threshold':_0x5dea44});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x5dea44});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x1fd04c=getNormalizedPerformance();getStartingBalances(_0x1fd04c),emitPerformance(_0x1fd04c);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x35244c=getNormalizedPerformance();emitPerformance(_0x35244c),getStartingBalances(_0x35244c),logger[_0x113dce(0x13e)](_0x113dce(0xfb));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5a5a16=_0x335b4e;if(!lastBalances)return;let _0x5264d1=[],_0x15f2fa,_0x1e7733=JSON['parse'](lastBalances[_0x5a5a16(0xdf)]);_0x1e7733[_0x5a5a16(0xa6)]((_0x5a41b4,_0x17b8cb)=>_0x5a41b4[_0x5a5a16(0x19c)]>_0x17b8cb[_0x5a5a16(0x19c)]?0x1:_0x17b8cb[_0x5a5a16(0x19c)]>_0x5a41b4[_0x5a5a16(0x19c)]?-0x1:0x0),_0x1e7733[_0x5a5a16(0x150)](_0x672e72=>{const _0x2c34e7=_0x5a5a16;let _0x254149={'coin':_0x672e72[_0x2c34e7(0x19c)],'number':_0x672e72[_0x2c34e7(0x13c)],'price':_0x672e72[_0x2c34e7(0x135)]};_0x5264d1[_0x2c34e7(0x209)](_0x254149);});const _0x40493f=await getFiat();_0x15f2fa={'date':lastBalances[_0x5a5a16(0x7f)]['split']('\x20')[0x0],'eur':_0x40493f[_0x5a5a16(0x156)],'usd':_0x40493f[_0x5a5a16(0x18e)],'coins':_0x5264d1};let _0x108ea9=dbPerformance[_0x5a5a16(0x110)](_0x5a5a16(0xef))[_0x5a5a16(0x11d)]({'date':_0x15f2fa[_0x5a5a16(0x158)]})[_0x5a5a16(0x17b)]();_0x108ea9?_0x15f2fa[_0x5a5a16(0x158)]!=config[_0x5a5a16(0x167)]&&dbPerformance[_0x5a5a16(0x110)](_0x5a5a16(0xef))[_0x5a5a16(0x11d)]({'date':_0x15f2fa[_0x5a5a16(0x158)]})[_0x5a5a16(0x115)](_0x15f2fa)['write']():dbPerformance['get'](_0x5a5a16(0xef))[_0x5a5a16(0x209)](_0x15f2fa)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x1e7dd5=_0x335b4e;let _0x280b4a=[];if(dbPerformance[_0x1e7dd5(0x124)](_0x1e7dd5(0xef))[_0x1e7dd5(0x17b)]()){let _0x12d542=dbPerformance[_0x1e7dd5(0x110)](_0x1e7dd5(0xef))[_0x1e7dd5(0x191)]()[_0x1e7dd5(0x13d)](_0x3bb5c9=>{const _0x25881a=_0x1e7dd5;if(_0x3bb5c9[_0x25881a(0x1d4)][_0x25881a(0x1ad)]==0x0)return![];else return!![];})[_0x1e7dd5(0x1f7)]('date')['value'](),_0x4d51d7=[...config[_0x1e7dd5(0x80)]];_0x4d51d7[_0x1e7dd5(0xa6)]((_0x2703f1,_0x39e3b8)=>_0x2703f1[_0x1e7dd5(0x158)]>_0x39e3b8[_0x1e7dd5(0x158)]?-0x1:_0x39e3b8[_0x1e7dd5(0x158)]>_0x2703f1[_0x1e7dd5(0x158)]?0x1:0x0);let _0xbfc3aa=0x1,_0x11f5b7=[],_0x4f01b3=0x0;_0x12d542[_0x1e7dd5(0x157)]()[_0x1e7dd5(0x9e)]()[_0x1e7dd5(0x150)]((_0x6c6479,_0x5731f8)=>{const _0x1f9068=_0x1e7dd5;if(_0x4d51d7[_0x4f01b3]){if(_0x12d542[_0x12d542[_0x1f9068(0x1ad)]-_0x5731f8]&&_0x4d51d7[_0x4f01b3][_0x1f9068(0x158)]==_0x12d542[_0x12d542[_0x1f9068(0x1ad)]-_0x5731f8]['date']){if(_0x5731f8<_0x12d542[_0x1f9068(0x1ad)]){let _0x195192=0x0,_0x2d30ca=0x0;_0x12d542[_0x12d542[_0x1f9068(0x1ad)]-_0x5731f8][_0x1f9068(0x1d4)]['forEach'](_0x3d5615=>{const _0x758b60=_0x1f9068;_0x2d30ca+=_0x3d5615[_0x758b60(0x13c)]*_0x3d5615[_0x758b60(0x181)];}),_0x4d51d7[_0x4f01b3][_0x1f9068(0x148)][_0x1f9068(0x150)](_0xe66320=>{const _0x18d6a4=_0x1f9068;_0x195192+=_0xe66320[_0x18d6a4(0x13c)]*_0xe66320['price'];}),_0xbfc3aa*=_0x195192/(_0x2d30ca-_0x195192)+0x1;}_0x4f01b3++;}}let _0x99ec7c=0x0;_0x6c6479[_0x1f9068(0x1d4)]['forEach'](_0x1d0758=>{_0x99ec7c+=_0x1d0758['number']*_0x1d0758['price'];}),_0x11f5b7[_0x12d542[_0x1f9068(0x1ad)]-_0x5731f8-0x1]=_0x99ec7c*(_0xbfc3aa-0x1);});let _0x5769e7=[];_0x4d51d7=[...config[_0x1e7dd5(0x80)]]||[];let _0x11f4a5=0x0;_0x4f01b3=0x0,_0x12d542[_0x1e7dd5(0x150)]((_0x241bd9,_0x114eb5)=>{const _0x181f21=_0x1e7dd5;if(_0x4d51d7[_0x4f01b3]){const _0x499dce=fns[_0x181f21(0x99)](_0x4d51d7[_0x4f01b3]['date'],_0x181f21(0xcd),new Date()),_0x17df89=fns[_0x181f21(0x99)](_0x241bd9[_0x181f21(0x158)],_0x181f21(0xcd),new Date());if(fns['isEqual'](_0x499dce,_0x17df89)){let _0x51ab4c=0x0;_0x4d51d7[_0x4f01b3][_0x181f21(0x148)][_0x181f21(0x150)](_0x3e629a=>{const _0x5cae01=_0x181f21;!_0x5769e7[_0x3e629a[_0x5cae01(0x19c)]]?_0x5769e7[_0x3e629a['coin']]=_0x3e629a[_0x5cae01(0x13c)]:(_0x51ab4c=_0x5769e7[_0x3e629a[_0x5cae01(0x19c)]],_0x5769e7[_0x3e629a[_0x5cae01(0x19c)]]+=_0x3e629a[_0x5cae01(0x13c)]);const _0x563563=_0x241bd9[_0x5cae01(0x1d4)][_0x5cae01(0x11d)](_0x4f0746=>_0x4f0746[_0x5cae01(0x19c)]==_0x3e629a[_0x5cae01(0x19c)]);(!_0x563563||_0x563563['number']==0x0)&&(_0x11f4a5+=(-_0x3e629a[_0x5cae01(0x13c)]-_0x51ab4c)*_0x3e629a[_0x5cae01(0x181)]);}),_0x4f01b3++;}}_0x241bd9[_0x181f21(0x1d4)][_0x181f21(0x150)]((_0x542015,_0x283a01)=>{const _0x4f8ea2=_0x181f21;_0x5769e7[_0x542015[_0x4f8ea2(0x19c)]]&&(_0x542015[_0x4f8ea2(0x1eb)]=_0x5769e7[_0x542015[_0x4f8ea2(0x19c)]]);}),_0x280b4a[_0x181f21(0x209)]({'date':_0x241bd9[_0x181f21(0x158)],'eur':_0x241bd9[_0x181f21(0x156)],'usd':_0x241bd9[_0x181f21(0x18e)],'offset':_0x11f5b7[_0x114eb5],'netoffset':_0x11f4a5,'coins':_0x241bd9[_0x181f21(0x1d4)]});});}return _0x280b4a;}function emitPerformance(_0x365343){const _0x37c561=_0x335b4e;_0x365343[_0x37c561(0x1ad)]!==0x0?(proxyEmit(_0x37c561(0x206),_0x365343),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x173b44,_0x55343f){const _0x53ea70=_0x335b4e;let _0x5439f2=0x0,_0x403e23=0x0,_0x1e4d0f=0x0;_0x173b44['coins']['forEach'](_0x4b3062=>{const _0x23b438=_0x3605;_0x5439f2+=_0x4b3062['number']*_0x4b3062[_0x23b438(0x181)];});_0x55343f&&(_0x5439f2+=_0x173b44['offset']);if(config['basecoin']===_0x53ea70(0x105)||config[_0x53ea70(0xe5)]===_0x53ea70(0xe6)||config[_0x53ea70(0xe5)]===_0x53ea70(0x18b))_0x403e23=_0x5439f2*_0x173b44[_0x53ea70(0x156)],_0x1e4d0f=_0x5439f2*_0x173b44[_0x53ea70(0x18e)];else{if(usdBasecoins['includes'](config['basecoin']))_0x403e23=_0x5439f2*_0x173b44['eur']/_0x173b44['usd'],_0x1e4d0f=_0x5439f2;else config['basecoin']===_0x53ea70(0xb4)&&(_0x403e23=_0x5439f2,_0x1e4d0f=_0x5439f2*_0x173b44['usd']/_0x173b44[_0x53ea70(0x156)]);}return[_0x5439f2,_0x403e23,_0x1e4d0f];}function getKPIs(_0x56b083,_0x3367ad=_0x335b4e(0xb4)){const _0x2001ca=_0x335b4e,_0x10af52=config['basecoin'],_0x137359=lastBalances,_0x5a46e8=currentCoins,_0x224330=getNormalizedPerformance(),_0x3b67ab=_0x56b083===_0x2001ca(0xe5)?_0x10af52:_0x56b083===_0x2001ca(0xbe)||_0x56b083===_0x2001ca(0x1c4)?_0x3367ad:_0x2001ca(0x7e)+_0x10af52,_0x99eb65=_0x56b083===_0x2001ca(0x17f)?_0x2001ca(0x118):_0x56b083===_0x2001ca(0x1c4)?'Net\x20effect':_0x3b67ab+_0x2001ca(0x179),_0x1fdece=_0x56b083===_0x2001ca(0x17f)||_0x56b083===_0x2001ca(0x1c4)?_0x2001ca(0x118):_0x3b67ab+_0x2001ca(0x219);let _0x4857e7=0x0;_0x5a46e8[_0x2001ca(0x150)](_0x1b87c8=>{_0x4857e7+=_0x1b87c8['number']*_0x1b87c8['last'];});if(_0x56b083==='fiat'||_0x56b083===_0x2001ca(0x1c4)){if(_0x10af52===_0x2001ca(0x105)||_0x10af52===_0x2001ca(0xe6)||_0x10af52===_0x2001ca(0x18b))_0x4857e7=_0x4857e7*(_0x3367ad==='EUR'?_0x137359['eur']:_0x137359[_0x2001ca(0x18e)]);else{if(usdBasecoins[_0x2001ca(0x92)](_0x10af52))_0x4857e7=_0x4857e7*(_0x3367ad===_0x2001ca(0xb4)?_0x137359[_0x2001ca(0x156)]/_0x137359[_0x2001ca(0x18e)]:0x1);else _0x10af52===_0x2001ca(0xb4)&&(_0x4857e7=_0x4857e7*(_0x3367ad===_0x2001ca(0xb4)?0x1:_0x137359[_0x2001ca(0x18e)]/_0x137359[_0x2001ca(0x156)]));}}let _0x15e144;if(_0x4857e7!==0x0){if(_0x56b083===_0x2001ca(0xe5))_0x15e144=(_0x4857e7/startingBalances[_0x2001ca(0xe5)]-0x1)*0x64;else{if(_0x3367ad===_0x2001ca(0xb4))_0x15e144=(_0x4857e7/startingBalances[_0x2001ca(0x156)]-0x1)*0x64;else _0x15e144=(_0x4857e7/startingBalances[_0x2001ca(0x18e)]-0x1)*0x64;}let _0x4e2590=0x0;if(startingBalances[_0x2001ca(0x1d4)])_0x5a46e8[_0x2001ca(0x150)](_0x45b240=>{const _0x1b948c=_0x2001ca;let _0x550478=startingBalances[_0x1b948c(0x1d4)][_0x1b948c(0x11d)](_0x2acdba=>_0x2acdba['coin']===_0x45b240['coin']);if(_0x550478&&_0x550478[_0x1b948c(0x19c)]&&_0x45b240[_0x1b948c(0x13c)]!==0x0)_0x4e2590+=_0x550478[_0x1b948c(0x13c)]*_0x45b240[_0x1b948c(0x135)];});let _0x59e9f7=0x0;if(_0x224330[_0x2001ca(0x1ad)]!==0x0){let _0x131cc4=_0x224330[_0x224330[_0x2001ca(0x1ad)]-0x1];_0x59e9f7=_0x131cc4[_0x2001ca(0x1ab)];}_0x4e2590-=_0x59e9f7;_0x56b083===_0x2001ca(0x17f)&&(_0x15e144=(_0x4857e7-_0x4e2590)/startingBalances[_0x2001ca(0xe5)]*0x64,_0x4857e7=_0x4857e7-_0x4e2590);if(_0x56b083===_0x2001ca(0x1c4)){let _0x2ca46d=_0x3367ad==='EUR'?startingBalances[_0x2001ca(0x156)]:startingBalances[_0x2001ca(0x18e)];if(_0x10af52==='BTC'||_0x10af52===_0x2001ca(0xe6)||_0x10af52===_0x2001ca(0x18b))_0x4e2590=_0x3367ad===_0x2001ca(0xb4)?_0x4e2590*_0x137359[_0x2001ca(0x156)]:_0x4e2590*_0x137359[_0x2001ca(0x18e)];else{if(usdBasecoins['includes'](_0x10af52))_0x4e2590=_0x3367ad==='EUR'?_0x4e2590*_0x137359[_0x2001ca(0x156)]/_0x137359[_0x2001ca(0x18e)]:_0x4e2590;else _0x10af52===_0x2001ca(0xb4)&&(_0x4e2590=_0x3367ad===_0x2001ca(0xb4)?_0x4e2590:_0x4e2590*_0x137359[_0x2001ca(0x18e)]/_0x137359['eur']);}_0x15e144=(_0x4857e7-_0x4e2590)/_0x2ca46d*0x64,_0x4857e7=_0x4857e7-_0x4e2590;}if(_0x15e144){if(_0x15e144<0x64)_0x15e144=_0x15e144['toFixed'](0x2);else{if(_0x15e144<0x3e8)_0x15e144=_0x15e144[_0x2001ca(0x161)](0x1);else _0x15e144=_0x15e144[_0x2001ca(0x161)](0x0);}}else _0x15e144=Number('0')['toFixed'](0x2);if(_0x4857e7){if(Math[_0x2001ca(0x174)](_0x4857e7)<0.000001)_0x4857e7=_0x4857e7[_0x2001ca(0x161)](0x2);else{if(Math[_0x2001ca(0x174)](_0x4857e7)<0.1)_0x4857e7=_0x4857e7[_0x2001ca(0x161)](0x6);else{if(Math[_0x2001ca(0x174)](_0x4857e7)<0x1)_0x4857e7=_0x4857e7[_0x2001ca(0x161)](0x5);else{if(Math[_0x2001ca(0x174)](_0x4857e7)<0xa)_0x4857e7=_0x4857e7[_0x2001ca(0x161)](0x4);else{if(Math[_0x2001ca(0x174)](_0x4857e7)<0x64)_0x4857e7=_0x4857e7[_0x2001ca(0x161)](0x3);else{if(Math[_0x2001ca(0x174)](_0x4857e7)<0x3e8)_0x4857e7=_0x4857e7['toFixed'](0x2);else _0x4857e7=_0x4857e7['toFixed'](0x2);}}}}}}else _0x4857e7=Number('0')[_0x2001ca(0x161)](0x2);}else _0x15e144=Number('0')['toFixed'](0x2);return{'value':_0x4857e7,'change':_0x15e144,'leftTxt':_0x99eb65,'rightTxt':_0x1fdece};}async function getStartingBalances(_0x4333c1,_0x1feb41=!![]){const _0x2340d6=_0x335b4e;if(_0x4333c1[_0x2340d6(0x1ad)]!==0x0){const [_0x73b2e0,_0x7619b7,_0xd5b31a]=getPerf(_0x4333c1[0x0],!![]);let _0x5b91e2=[];config[_0x2340d6(0xdf)][_0x2340d6(0x150)](_0x520ed6=>{const _0xc82df7=_0x2340d6;let _0x56a7e0=0x0,_0x3a867e;config['liquidity'][_0xc82df7(0x150)](_0x4d773f=>{const _0x53c739=_0xc82df7;let _0x41a353=_0x4d773f['changes'][_0x53c739(0x11d)](_0x48cd3f=>_0x48cd3f['coin']==_0x520ed6['coin']);if(_0x41a353){_0x56a7e0+=_0x41a353[_0x53c739(0x13c)];if(!_0x3a867e)_0x3a867e=_0x41a353[_0x53c739(0x181)];}}),_0x5b91e2['push']({'coin':_0x520ed6[_0xc82df7(0x19c)],'number':_0x56a7e0,'initialprice':_0x3a867e});});const _0x5bc05b={'basecoin':_0x73b2e0,'eur':_0x7619b7,'usd':_0xd5b31a,'coins':_0x5b91e2};if(_0x1feb41)proxyEmit('starting-balances',_0x5bc05b);startingBalances=_0x5bc05b;}}function headlessMode(_0x3a0c69){const _0x15c5d8=_0x335b4e;let _0x36b2ab=_0x3a0c69[_0x15c5d8(0xdf)],_0x54c29d=_0x3a0c69['threshold'],_0x7f67bb=[];for(let _0x1d3a7c of _0x36b2ab){if(_0x1d3a7c[_0x15c5d8(0x19c)]!=config['basecoin']){if(_0x1d3a7c[_0x15c5d8(0x133)]>=_0x54c29d/0x64){if(_0x1d3a7c[_0x15c5d8(0xee)])_0x7f67bb[_0x15c5d8(0x209)](_0x1d3a7c);}else{if(_0x1d3a7c['delta']<=-_0x54c29d/0x64){if(_0x1d3a7c[_0x15c5d8(0xee)])_0x7f67bb[_0x15c5d8(0x209)](_0x1d3a7c);}}}}_0x7f67bb[_0x15c5d8(0x1ad)]>0x0&&(lockOrders==ORDERS[_0x15c5d8(0x21c)]&&!coolingDown&&_0x7f67bb[_0x15c5d8(0x150)](_0xafa457=>{const _0x246bcb=_0x15c5d8;logger[_0x246bcb(0x13e)](_0x246bcb(0x216)+_0xafa457[_0x246bcb(0x19c)]+'\x20'+_0xafa457[_0x246bcb(0x13c)]+'\x20'+_0xafa457[_0x246bcb(0x135)]+'\x20'+_0xafa457[_0x246bcb(0x1a3)]+'%\x20'+_0xafa457[_0x246bcb(0x123)]+'%\x20'+(0x64*_0xafa457['delta'])[_0x246bcb(0x161)](0x2)+_0x246bcb(0x1c5)+_0x54c29d[_0x246bcb(0x161)](0x2)+'%)');}),placeOrder(_0x7f67bb));}function notifyBalance(_0x207de6){const _0x475757=_0x335b4e;let _0x46fe24=_0x207de6[_0x475757(0xdf)],_0x547106=_0x207de6[_0x475757(0x8d)],_0x6d3716=[];for(let _0x477f48 of _0x46fe24){if(_0x477f48['coin']!=config[_0x475757(0xe5)]){if(_0x477f48['delta']>=_0x547106/0x64){if(_0x477f48[_0x475757(0xee)])_0x6d3716[_0x475757(0x209)](_0x477f48);}else{if(_0x477f48[_0x475757(0x133)]<=-_0x547106/0x64){if(_0x477f48[_0x475757(0xee)])_0x6d3716[_0x475757(0x209)](_0x477f48);}}}}if(_0x6d3716['length']>0x0){let _0x202ff8=_0x6d3716[_0x475757(0x1d2)](_0x421baa=>_0x421baa[_0x475757(0x19c)]);_0x202ff8['sort']();let _0x59e342=_0x202ff8[_0x475757(0x137)](',\x20');if(!lastCoinsToBalance)logHistory(_0x475757(0xae),_0x475757(0xc3));lastCoinsToBalance=_0x59e342;}}function symbolToCoin(_0x5887d3){const _0x5b9c97=_0x335b4e;let _0x33af82;if(_0x5887d3[_0x5b9c97(0x92)]('/'+config[_0x5b9c97(0xe5)]))_0x33af82=_0x5887d3[_0x5b9c97(0x223)]('/'+config[_0x5b9c97(0xe5)],'');if(_0x5887d3[_0x5b9c97(0x92)](config[_0x5b9c97(0xe5)]+'/'))_0x33af82=_0x5887d3[_0x5b9c97(0x223)](config[_0x5b9c97(0xe5)]+'/','');return _0x33af82;}async function unlockOrders(){const _0x334c9e=_0x335b4e;if(allOrdersPlaced&&lockOrders==ORDERS[_0x334c9e(0xd1)]){logger[_0x334c9e(0x13e)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x334c9e(0x160)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x3861e2=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3861e2,validateOrdersState=_0x334c9e(0x1eb),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x334c9e(0x13e)](_0x334c9e(0x18f));}}async function validateOrders(_0x4dd623){const _0x3f428d=_0x335b4e;if(_0x4dd623)validateOrdersState=_0x4dd623;logger['debug'](_0x3f428d(0x18c)+validateOrdersState+_0x3f428d(0xad)+(lockOrders==0x1?_0x3f428d(0x15a):lockOrders==0x2?_0x3f428d(0xfd):_0x3f428d(0x11c)));let _0x14c583=[],_0x29dd53=config[_0x3f428d(0x1d5)]==_0x3f428d(0x1f3)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x3f428d(0x196)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3f428d(0xd1)])return;logger[_0x3f428d(0x13e)](_0x3f428d(0x102)+validateOrdersState),lastOrders[_0x3f428d(0x150)](_0x2f69c2=>{const _0x314ead=_0x3f428d;let _0x4e0bf9=![];_0x2f69c2[_0x314ead(0x8e)]>0x0&&(_0x4e0bf9=!![]),_0x14c583[_0x314ead(0x209)](_0x4e0bf9),_0x4e0bf9&&config[_0x314ead(0x1d5)]!=_0x314ead(0x1f3)&&logHistory(_0x314ead(0xbd),_0x314ead(0x89)+_0x2f69c2['symbol']+'\x20'+_0x2f69c2[_0x314ead(0x1f1)]+'\x20#'+formatResult(_0x2f69c2[_0x314ead(0x8e)],0x8)+'\x20@'+formatResult(_0x2f69c2[_0x314ead(0x181)],0x8));}),_0x14c583[_0x3f428d(0x150)]((_0x47c34b,_0x242460)=>{const _0x8cb29b=_0x3f428d;if(_0x47c34b)lastOrders[_0x8cb29b(0x1df)](_0x242460,0x1);}),persistOpenOrders(lastOrders);const _0x2cf505=coolingDown?_0x3f428d(0x1d8):_0x3f428d(0x184);if(validateOrdersState==_0x3f428d(0x1eb)){validateOrdersState='ongoing';if(_0x14c583[_0x3f428d(0x92)](![])){if(config['ordertype']==_0x3f428d(0x1f3)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x3f428d(0x15b)){if(_0x14c583[_0x3f428d(0x92)](![])){}else{if(allOrdersPlaced){if(config[_0x3f428d(0x1d5)]==_0x3f428d(0x1f3)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x3f428d(0x119))_0x14c583[_0x3f428d(0x92)](![])&&(config[_0x3f428d(0x1d5)]==_0x3f428d(0x1f3)?logHistory(_0x3f428d(0x1c8),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x3f428d(0xa9)](_0x29dd53*validateOrderInterval/0xea60)+_0x3f428d(0x10b)+_0x2cf505):(await cancelOrders(),logHistory(_0x3f428d(0x1c8),_0x3f428d(0xf0)+Math['round'](_0x29dd53*validateOrderInterval/0xea60)+_0x3f428d(0x10b)+_0x2cf505))),await unlockOrders();else{if(validateOrdersState==_0x3f428d(0x122)){if(config[_0x3f428d(0x1d5)]!=_0x3f428d(0x1f3))logHistory(_0x3f428d(0x1c8),_0x3f428d(0x1a6)+_0x2cf505);await unlockOrders();}}}}}async function cancelOrders(){const _0x512734=_0x335b4e;lastOrders[_0x512734(0x150)](async _0x64c72=>{const _0x53b450=_0x512734;try{const _0x855975=await exchange[_0x53b450(0xc6)](_0x64c72['orderId'],_0x64c72['symbol']);}catch(_0x189deb){if(_0x189deb[_0x53b450(0x1ec)]()[_0x53b450(0x92)](_0x53b450(0x189))){}else await handleError(_0x189deb,'cancelOrders()');}});}async function initCoinResults(_0x4ea282){const _0x48452f=_0x335b4e;_0x4ea282?logger[_0x48452f(0x13e)](_0x48452f(0x1b6)+_0x4ea282):logger[_0x48452f(0x13e)](_0x48452f(0x1e0)),config['portfolio'][_0x48452f(0x150)](_0x5c1d42=>{const _0x320774=_0x48452f;if(!_0x5c1d42['excluded']&&_0x5c1d42[_0x320774(0x19c)]!=config[_0x320774(0xe5)]){const _0x17ef49=currentCoins[_0x320774(0x11d)](_0x4379b6=>_0x4379b6[_0x320774(0x19c)]==_0x5c1d42[_0x320774(0x19c)]),_0x1681b9=global[_0x320774(0x1ee)][noslash(_0x5c1d42['symbol'])];let _0x25b783=_0x17ef49?_0x17ef49[_0x320774(0x13c)]:null,_0x1eec69=_0x5c1d42[_0x320774(0x9e)]?0x1/_0x1681b9:_0x1681b9,_0x4ad6c1;config[_0x320774(0x80)][_0x320774(0x150)](_0x255925=>{const _0x202c9f=_0x320774;!_0x4ad6c1&&(_0x4ad6c1=_0x255925[_0x202c9f(0x148)][_0x202c9f(0x11d)](_0x4a5897=>_0x4a5897[_0x202c9f(0x19c)]==_0x5c1d42['coin']),_0x4ad6c1&&(_0x25b783=_0x4ad6c1[_0x202c9f(0x13c)],_0x1eec69=_0x4ad6c1[_0x202c9f(0x181)]));});let _0x311ece=dbCoinResults[_0x320774(0x110)](_0x320774(0x1d4))[_0x320774(0x11d)]({'coin':_0x5c1d42[_0x320774(0x19c)]})[_0x320774(0x17b)]();if(!_0x311ece){const _0x55f55a={'coin':_0x5c1d42[_0x320774(0x19c)],'number':_0x25b783,'breakeven':_0x1eec69,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x320774(0x110)]('coins')[_0x320774(0x209)](_0x55f55a)[_0x320774(0xb0)]();}else{if(_0x4ea282&&_0x5c1d42[_0x320774(0x19c)]==_0x4ea282){const _0x4fb0e0={'coin':_0x5c1d42[_0x320774(0x19c)],'number':_0x25b783,'breakeven':_0x1eec69,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x320774(0x110)](_0x320774(0x1d4))[_0x320774(0x11d)]({'coin':_0x5c1d42[_0x320774(0x19c)]})[_0x320774(0x115)](_0x4fb0e0)[_0x320774(0xb0)]();}}}});}async function updateCoinResults(_0x263a5c,_0x472ee3=![]){const _0x398537=_0x335b4e;let _0x1c8823,_0x2b0268,_0x2b74d7,_0x6c3c42,_0x1fef4e,_0x55f006,_0x4ecf51=dbCoinResults['get'](_0x398537(0x1d4))[_0x398537(0x11d)]({'coin':_0x263a5c[_0x398537(0x19c)]})['value'](),_0x533bf6=![];_0x4ecf51&&Object['entries'](_0x4ecf51)['forEach'](([_0x4e6783,_0xdc76f5])=>{if(_0xdc76f5==null)_0x533bf6=!![];});(!_0x4ecf51||_0x533bf6)&&(await initCoinResults(_0x263a5c[_0x398537(0x19c)]),_0x4ecf51=dbCoinResults[_0x398537(0x110)](_0x398537(0x1d4))[_0x398537(0x11d)]({'coin':_0x263a5c[_0x398537(0x19c)]})[_0x398537(0x17b)]());_0x263a5c[_0x398537(0x9e)]&&(_0x55f006={'filled':_0x263a5c[_0x398537(0x8e)]*_0x263a5c[_0x398537(0x181)],'amount':_0x263a5c[_0x398537(0x8e)]*_0x263a5c[_0x398537(0x181)],'side':_0x263a5c[_0x398537(0x1f1)]==_0x398537(0x193)?'buy':_0x398537(0x193),'price':0x1/_0x263a5c['price']},_0x263a5c={..._0x263a5c,..._0x55f006});_0x472ee3?_0x2b0268=_0x263a5c[_0x398537(0x1f1)]==_0x398537(0x10d)?_0x4ecf51[_0x398537(0x13c)]+_0x263a5c['filled']:_0x4ecf51[_0x398537(0x13c)]-_0x263a5c['filled']:_0x2b0268=await getCoinNumber(_0x263a5c['coin']);if(_0x263a5c['fee']&&_0x263a5c[_0x398537(0x163)][_0x398537(0x141)]==config['basecoin'])_0x1c8823=Number(_0x263a5c[_0x398537(0x163)][_0x398537(0xbf)]);else{if(_0x263a5c[_0x398537(0x163)]&&_0x263a5c[_0x398537(0x163)][_0x398537(0x141)]=='BNB'&&!_0x472ee3&&config[_0x398537(0xe5)]!=_0x398537(0x18b))_0x1c8823=Number(_0x263a5c[_0x398537(0x163)][_0x398537(0xbf)])*global[_0x398537(0x1ee)][_0x398537(0x1c9)+config[_0x398537(0xe5)]];else _0x1c8823=defaultFee*_0x263a5c['filled']*_0x263a5c[_0x398537(0x181)];}_0x263a5c[_0x398537(0x1f1)]=='buy'?(_0x2b74d7=_0x2b0268!=0x0?(_0x4ecf51[_0x398537(0x1b4)]*_0x4ecf51[_0x398537(0x13c)]+_0x263a5c[_0x398537(0x181)]*(_0x2b0268-_0x4ecf51[_0x398537(0x13c)])+_0x1c8823)/_0x2b0268:0x0,_0x6c3c42=_0x4ecf51[_0x398537(0x14f)]):(_0x2b74d7=_0x2b0268!=0x0?(_0x4ecf51['breakeven']*_0x4ecf51[_0x398537(0x13c)]-_0x263a5c[_0x398537(0x181)]*(_0x4ecf51[_0x398537(0x13c)]-_0x2b0268)+_0x1c8823)/_0x2b0268:0x0,_0x6c3c42=_0x4ecf51[_0x398537(0x14f)]+(_0x263a5c['price']-_0x4ecf51[_0x398537(0x1b4)])*_0x263a5c[_0x398537(0x8e)]);_0x1fef4e=(_0x263a5c[_0x398537(0x181)]-_0x2b74d7-_0x1c8823/_0x263a5c[_0x398537(0x8e)])*_0x2b0268;let _0x478644={'coin':_0x263a5c[_0x398537(0x19c)],'number':_0x2b0268,'breakeven':formatResult(_0x2b74d7,0x8),'realized':formatResult(_0x6c3c42,0x8),'unrealized':formatResult(_0x1fef4e,0x8),'fees':formatResult(_0x4ecf51[_0x398537(0xe9)]+_0x1c8823,0x8),'sells':_0x263a5c[_0x398537(0x1f1)]==_0x398537(0x193)?_0x4ecf51['sells']+0x1:_0x4ecf51[_0x398537(0x173)],'buys':_0x263a5c[_0x398537(0x1f1)]==_0x398537(0x10d)?_0x4ecf51[_0x398537(0x140)]+0x1:_0x4ecf51[_0x398537(0x140)]};dbCoinResults[_0x398537(0x110)](_0x398537(0x1d4))[_0x398537(0x11d)]({'coin':_0x263a5c[_0x398537(0x19c)]})['assign'](_0x478644)[_0x398537(0xb0)]();if(!_0x472ee3){if(_0x263a5c[_0x398537(0x163)]&&_0x263a5c[_0x398537(0x163)][_0x398537(0x141)]==_0x398537(0x1c9)){const _0x161d86=currentCoins[_0x398537(0x11d)](_0xd32f86=>_0xd32f86['coin']==_0x398537(0x1c9));if(_0x161d86){let _0x2db1c3=dbCoinResults[_0x398537(0x110)](_0x398537(0x1d4))[_0x398537(0x11d)]({'coin':'BNB'})[_0x398537(0x17b)]();_0x478644={..._0x2db1c3,'number':_0x161d86['number']},dbCoinResults[_0x398537(0x110)](_0x398537(0x1d4))['find']({'coin':_0x398537(0x1c9)})[_0x398537(0x115)](_0x478644)['write']();}}}}async function placeOrder(_0x369bfa){const _0x34c107=_0x335b4e,_0x502185=config['ordertype']==_0x34c107(0x1f3)?_0x34c107(0x1f3):_0x34c107(0x171);if(lockOrders==ORDERS[_0x34c107(0x21c)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x34c107(0xd1)],allOrdersPlaced=![],validateOrdersState=_0x34c107(0x1eb);let _0x230975=![];lastOrders=[];for(const _0x3271fb of _0x369bfa){let _0x3a8f66,_0x2b930b,_0x48e0c1,_0x1d15a6,_0x914351,_0x327407=_0x3271fb[_0x34c107(0x1b8)];try{const _0x209ad3=await exchange[_0x34c107(0xe8)](_0x327407);_0x3a8f66=_0x3271fb[_0x34c107(0x9e)]?0x1/_0x3271fb[_0x34c107(0x135)]:_0x3271fb[_0x34c107(0x135)],_0x2b930b=_0x209ad3['bid'],_0x48e0c1=_0x209ad3[_0x34c107(0x1a2)];_0x3271fb[_0x34c107(0x9e)]?(_0x1d15a6=_0x3271fb[_0x34c107(0x1f1)]==_0x34c107(0x10d)?_0x34c107(0x193):_0x34c107(0x10d),_0x914351=Math[_0x34c107(0x174)](_0x3271fb[_0x34c107(0x17a)])/_0x3a8f66):(_0x1d15a6=_0x3271fb[_0x34c107(0x1f1)],_0x914351=Math[_0x34c107(0x174)](_0x3271fb['trade']));_0x502185==_0x34c107(0x171)&&(config[_0x34c107(0x1d5)]=='limit-high'&&(_0x3a8f66=_0x1d15a6==_0x34c107(0x10d)?_0x2b930b:_0x48e0c1),config['ordertype']==_0x34c107(0x21b)&&(_0x3a8f66=_0x1d15a6==_0x34c107(0x10d)?_0x48e0c1:_0x2b930b));_0x914351=formatResult(_0x914351,0x8),_0x3a8f66=formatResult(_0x3a8f66,0x8);const _0x410187=_0x1d15a6==_0x34c107(0x193)?config[_0x34c107(0x113)]?String[_0x34c107(0x16c)]('0x'+config[_0x34c107(0x113)])+'\x20':'':config[_0x34c107(0x1a5)]?String[_0x34c107(0x16c)]('0x'+config[_0x34c107(0x1a5)])+'\x20':'',_0x5a940b=_0x502185=='market'?_0x34c107(0xd7):config[_0x34c107(0x1d5)]==_0x34c107(0xde)?'Limit\x20(high-margin)':_0x34c107(0x1a8),_0x3781c2=(Math[_0x34c107(0x208)](Math[_0x34c107(0x13b)]()*0x35a4e900)+0x5f5e100)[_0x34c107(0x1ec)]();lastOrders[_0x34c107(0x209)]({'customId':_0x3781c2,'symbol':_0x327407,'coin':_0x3271fb[_0x34c107(0x19c)],'amount':_0x914351,'price':_0x3a8f66,'side':_0x1d15a6,'reverse':_0x3271fb[_0x34c107(0x9e)],'filled':0x0});if(_0x502185==_0x34c107(0x1f3))logHistory('order',''+_0x410187+_0x5a940b+_0x34c107(0x198)+_0x327407+'\x20'+_0x1d15a6+'\x20#'+formatResult(_0x914351,0x8)+'\x20@'+formatResult(_0x3a8f66,0x8));else logHistory(_0x34c107(0xbd),''+_0x410187+_0x5a940b+'\x20order:\x20'+_0x327407+'\x20'+_0x1d15a6+'\x20#'+formatResult(_0x914351,0x8)+'\x20@'+formatResult(_0x3a8f66,0x8));let _0x42c860;_0x502185==_0x34c107(0x1f3)?_0x1d15a6==_0x34c107(0x10d)&&[_0x34c107(0xc1),_0x34c107(0x145),_0x34c107(0x93),_0x34c107(0x7d),'Huobipro'][_0x34c107(0x92)](config[_0x34c107(0x165)])?_0x42c860=await exchange[_0x34c107(0x111)](_0x327407,_0x502185,_0x1d15a6,_0x914351,_0x3a8f66):_0x42c860=await exchange[_0x34c107(0x111)](_0x327407,_0x502185,_0x1d15a6,_0x914351,undefined):_0x42c860=await exchange[_0x34c107(0x111)](_0x327407,_0x502185,_0x1d15a6,_0x914351,_0x3a8f66);logger[_0x34c107(0x13e)]('ID:\x20'+_0x42c860['id']+_0x34c107(0x1ae)+_0x3781c2);const _0x40e6a0=lastOrders['length']-0x1;if(_0x40e6a0>=0x0&&lastOrders[_0x40e6a0][_0x34c107(0x12d)]==_0x3781c2){lastOrders[_0x40e6a0][_0x34c107(0xf4)]=_0x42c860['id'];if(_0x42c860[_0x34c107(0xd2)])lastOrders[_0x40e6a0]['amount']=_0x42c860[_0x34c107(0xd2)];if(_0x42c860[_0x34c107(0x181)])lastOrders[_0x40e6a0][_0x34c107(0x181)]=_0x42c860[_0x34c107(0x181)];lastOrders[_0x40e6a0]['fee']=_0x42c860[_0x34c107(0x163)];}if(config[_0x34c107(0xf1)]!=0x0){let _0x595e85=null;if(cooldownTracker[_0x34c107(0x1ad)]==config[_0x34c107(0xf1)]-0x1)_0x595e85=cooldownTracker['shift']();const _0x1f0180=getTimeStamp();cooldownTracker[_0x34c107(0x209)](_0x1f0180);if(_0x595e85){const _0x1d772e=fns['differenceInSeconds'](new Date(_0x1f0180),new Date(_0x595e85));if(_0x1d772e<cooldownInterval){logHistory(_0x34c107(0x1fb),'Executed\x20'+config['cooldown']+_0x34c107(0x1ac)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x34c107(0x18d)),coolingDown=!![];break;}}}}catch(_0x67f53d){if(_0x67f53d['toString']()[_0x34c107(0x92)](_0x34c107(0x1e5)))lastOrders=lastOrders[_0x34c107(0x13d)](_0xc62d11=>_0xc62d11[_0x34c107(0x1b8)]!=_0x327407),logHistory(_0x34c107(0x1fb),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x327407),_0x230975=!![];else{if(_0x67f53d[_0x34c107(0x1ec)]()[_0x34c107(0x92)](_0x34c107(0x127)))lastOrders=lastOrders[_0x34c107(0x13d)](_0x2ebe14=>_0x2ebe14[_0x34c107(0x1b8)]!=_0x327407),logHistory('error',_0x34c107(0xcc)+_0x327407),_0x230975=!![];else{if(_0x67f53d[_0x34c107(0x1ec)]()[_0x34c107(0x92)](_0x34c107(0x202)))lastOrders=lastOrders[_0x34c107(0x13d)](_0x504d84=>_0x504d84[_0x34c107(0x1b8)]!=_0x327407),logHistory(_0x34c107(0x1fb),_0x34c107(0x226)+_0x327407),logger[_0x34c107(0x13e)](_0x67f53d),_0x230975=!![];else _0x67f53d[_0x34c107(0x1ec)]()[_0x34c107(0x92)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x34c107(0x13d)](_0x2aaf11=>_0x2aaf11[_0x34c107(0x1b8)]!=_0x327407),logHistory('error',_0x34c107(0xc8)+_0x327407),_0x230975=!![]):(lastOrders=lastOrders[_0x34c107(0x13d)](_0x136a0b=>_0x136a0b[_0x34c107(0x1b8)]!=_0x327407),await handleError(_0x67f53d,_0x34c107(0x1d0),_0x327407));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x34c107(0x1ad)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x2cad7f=config[_0x34c107(0x1d5)]==_0x34c107(0x1f3)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x57a5cf=_0x34c107;validateOrders(_0x57a5cf(0x119));},_0x2cad7f);}else unlockOrders();_0x230975&&config['headless']&&(logHistory(_0x34c107(0x1fb),_0x34c107(0x10e)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x34c107(0x1c8),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x34c107(0x1b3)]&&logHistory(_0x34c107(0x1fb),_0x34c107(0x1ef));else lockOrders!=ORDERS[_0x34c107(0x21c)]&&(!config[_0x34c107(0x1b3)]&&(config[_0x34c107(0x1d5)]==_0x34c107(0x1f3)?logHistory('error',_0x34c107(0x20b)):logHistory(_0x34c107(0x1fb),_0x34c107(0x1f0))));}}function persistOpenOrders(_0x49b6b5){const _0x152aaa=_0x335b4e,_0x84749b={...config,'openOrders':_0x49b6b5};let _0x2195e0=dbConfig['get'](_0x152aaa(0x1f5))[_0x152aaa(0x11d)]({'botID':botID})['value']();_0x2195e0&&dbConfig['get'](_0x152aaa(0x1f5))[_0x152aaa(0x11d)]({'botID':botID})[_0x152aaa(0x115)](_0x84749b)[_0x152aaa(0xb0)]();}function restoreOrders(){const _0x5f0892=_0x335b4e;let _0x3af269;config[_0x5f0892(0xac)]&&allOpenOrders[_0x5f0892(0x150)](_0x312c0e=>{const _0x5de0d6=_0x5f0892,_0x5e84bf=config[_0x5de0d6(0xac)][_0x5de0d6(0x11d)](_0x33f25e=>_0x33f25e[_0x5de0d6(0xf4)]==_0x312c0e['id']);_0x5e84bf&&(lastOrders[_0x5de0d6(0x209)](_0x5e84bf),_0x3af269=_0x312c0e[_0x5de0d6(0x20d)]);});if(lastOrders[_0x5f0892(0x1ad)]>0x0){lockOrders=ORDERS[_0x5f0892(0xd1)],validateOrdersState=_0x5f0892(0x15b),allOrdersPlaced=!![];const _0xaaf976=new Date()[_0x5f0892(0xaf)](),_0xef5a31=config[_0x5f0892(0x1d5)]==_0x5f0892(0x1f3)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x3af269+_0xef5a31>_0xaaf976){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x10dfcc=_0x5f0892;validateOrders(_0x10dfcc(0x119));},_0x3af269+_0xef5a31-_0xaaf976);}else validateOrders(_0x5f0892(0x119));}}async function sendMetricsTelegram(){const _0x431a9e=_0x335b4e;if(!coinsLoaded){process[_0x431a9e(0x112)]({'telegrammsg':_0x431a9e(0xb5)},_0x4f96f9=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x818e6b='';if(config[_0x431a9e(0x1cc)])_0x818e6b=_0x431a9e(0x1a1)+config[_0x431a9e(0x20f)]+_0x431a9e(0x168);else _0x818e6b=_0x431a9e(0x1bc)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x330127=getKPIs(_0x431a9e(0xe5)),_0x31fb05=getKPIs('fiat',config[_0x431a9e(0xbe)]),_0x2f762d=getKPIs('net-basecoin'),_0x2424de=getKPIs(_0x431a9e(0x1c4),config[_0x431a9e(0xbe)]);_0x818e6b+='<pre>',_0x818e6b+=_0x330127[_0x431a9e(0x128)]+_0x431a9e(0xaa)+_0x330127['value']+'\x0a',_0x818e6b+=_0x330127[_0x431a9e(0x19f)]+':\x20'+_0x330127[_0x431a9e(0x210)]+'%\x0a',_0x818e6b+=_0x31fb05[_0x431a9e(0x128)]+'\x20:\x20'+_0x31fb05[_0x431a9e(0x17b)]+'\x0a',_0x818e6b+=_0x31fb05['rightTxt']+':\x20'+_0x31fb05[_0x431a9e(0x210)]+'%\x0a',_0x818e6b+=_0x2f762d[_0x431a9e(0x128)]+':\x20'+_0x2f762d[_0x431a9e(0x17b)]+'\x20('+config[_0x431a9e(0xe5)]+')\x0a',_0x818e6b+=_0x2f762d[_0x431a9e(0x19f)]+':\x20'+_0x2f762d[_0x431a9e(0x210)]+_0x431a9e(0x1c5)+config[_0x431a9e(0xe5)]+')\x0a',_0x818e6b+=_0x2424de[_0x431a9e(0x128)]+':\x20'+_0x2424de[_0x431a9e(0x17b)]+'\x20('+config[_0x431a9e(0xbe)]+')\x0a',_0x818e6b+=_0x2424de[_0x431a9e(0x19f)]+':\x20'+_0x2424de[_0x431a9e(0x210)]+_0x431a9e(0x1c5)+config['fiat']+')\x0a',_0x818e6b+=_0x431a9e(0xd8),process[_0x431a9e(0x112)]({'telegrammsg':_0x818e6b},_0x325326=>{});}async function sendPortfolioTelegram(){const _0x154ce9=_0x335b4e;if(!coinsLoaded||!currentCoins[0x0][_0x154ce9(0x1a3)]){process[_0x154ce9(0x112)]({'telegrammsg':_0x154ce9(0xb5)},_0x448dde=>{});return;}let _0x59b8dc='';if(config['showname'])_0x59b8dc='<b>'+config[_0x154ce9(0x20f)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x59b8dc=_0x154ce9(0x1bc)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x59b8dc+=_0x154ce9(0x98),_0x59b8dc+=_0x154ce9(0xb3),_0x59b8dc+=_0x154ce9(0x1de),_0x59b8dc+=_0x154ce9(0xb3),currentCoins[_0x154ce9(0x150)](_0x31859f=>{const _0x5699c3=_0x154ce9;_0x59b8dc+=_0x31859f[_0x5699c3(0x19c)][_0x5699c3(0xfe)](0x7)+'|\x20'+formatPad(_0x31859f['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x31859f[_0x5699c3(0x123)],0x2,0x6)+'|\x20'+formatPad(_0x31859f[_0x5699c3(0x133)]*0x64,0x2,0x6)+'\x0a';}),_0x59b8dc+=_0x154ce9(0xd8),process[_0x154ce9(0x112)]({'telegrammsg':_0x59b8dc},_0x575a06=>{});}function formatPad(_0x5028be,_0x53861b,_0x182e05){const _0x3b99ee=_0x335b4e,_0x485f7b=formatResultString(_0x5028be,_0x53861b);return _0x485f7b?_0x485f7b[_0x3b99ee(0x153)](_0x182e05):''['padStart'](_0x182e05);}function logHistory(_0x333d58,_0x1a9b90,_0x1621a4=''){const _0x458b7d=_0x335b4e;logger[_0x458b7d(0x1f4)](''+_0x1a9b90);let _0x4a8ea6={'time':getTimeStamp(),'type':_0x333d58,'event':_0x1a9b90};dbLogs[_0x458b7d(0x110)](_0x458b7d(0x83))['push'](_0x4a8ea6)['write']();if(_0x1621a4=='')_0x1621a4=_0x1a9b90;proxyEmit(_0x458b7d(0x199),{'log':_0x4a8ea6,'summary':_0x1621a4}),process[_0x458b7d(0x112)]({'telegram':{..._0x4a8ea6,'botname':config['botname'],'showname':config[_0x458b7d(0x1cc)]}},_0x2361b3=>{});}function emitHistory(_0x2b4f7a={}){const _0x49fb96=_0x335b4e;Object['keys'](_0x2b4f7a)[_0x49fb96(0x1ad)]==0x0&&(_0x2b4f7a={'type':[_0x49fb96(0xbd),_0x49fb96(0x199)],'event':'','page':0x1});if(_0x2b4f7a['type'][_0x49fb96(0x92)](_0x49fb96(0x199)))_0x2b4f7a[_0x49fb96(0x82)]['splice'](_0x2b4f7a[_0x49fb96(0x82)][_0x49fb96(0x12f)]('event'),0x1,_0x49fb96(0x1fb),_0x49fb96(0xae),_0x49fb96(0x1c8));if(dbLogs['has']('logs')[_0x49fb96(0x17b)]()){let _0x4607ca=dbLogs[_0x49fb96(0x110)](_0x49fb96(0x83))[_0x49fb96(0x13d)](_0x1bfb63=>{const _0x14ac06=_0x49fb96;if(_0x2b4f7a[_0x14ac06(0x82)][_0x14ac06(0x1ad)]==0x0)return![];else return _0x2b4f7a[_0x14ac06(0x82)][_0x14ac06(0x92)](_0x1bfb63[_0x14ac06(0x82)]);})[_0x49fb96(0x13d)](_0x5ae2c3=>{const _0x244247=_0x49fb96;if(_0x2b4f7a[_0x244247(0x199)]=='')return!![];else return _0x5ae2c3['event'][_0x244247(0xbb)]()[_0x244247(0x92)](_0x2b4f7a[_0x244247(0x199)][_0x244247(0xbb)]());})[_0x49fb96(0x1f7)](_0x49fb96(0x7f)),_0x5535dc=_0x4607ca[_0x49fb96(0x17b)]()[_0x49fb96(0x1ad)];_0x4607ca=_0x4607ca[_0x49fb96(0x9e)]()['slice']((_0x2b4f7a[_0x49fb96(0x190)]-0x1)*logPageSize,_0x2b4f7a[_0x49fb96(0x190)]*logPageSize-0x1)[_0x49fb96(0x9e)]()[_0x49fb96(0x17b)](),proxyEmit('event-history',{'logs':_0x4607ca,'total':_0x5535dc});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x19698a){const _0x38e862=_0x335b4e;if(dbLogs[_0x38e862(0x124)](_0x38e862(0x83))[_0x38e862(0x17b)]()){const _0x25e328=dbLogs[_0x38e862(0x110)]('logs')[_0x38e862(0x1f7)](_0x38e862(0x7f))[_0x38e862(0x13d)](_0x2ea4c1=>{const _0x314068=_0x38e862;return _0x2ea4c1[_0x314068(0x82)]=='order';})[_0x38e862(0x17b)]();dbLogs[_0x38e862(0x110)]('logs')['remove']()[_0x38e862(0xb0)](),dbLogs[_0x38e862(0x110)](_0x38e862(0x83))[_0x38e862(0x115)](_0x25e328)[_0x38e862(0xb0)](),emitHistory(_0x19698a);}}async function pauseBot(_0x3515cb=pauseBotInterval){const _0x20a99f=_0x335b4e,_0x1d1e2b=new Date()['getTime']();if(!lastErrorShown||_0x1d1e2b-lastErrorShown>=_0x3515cb){lastErrorShown=_0x1d1e2b;!lastBotPause?(lastBotPause=_0x1d1e2b,consecutivePauses=0x1):(_0x1d1e2b-lastBotPause-_0x3515cb<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x20a99f(0x112)]({'stop':_0x20a99f(0x205)},_0x599200=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x3515cb),botPaused=![],reset(!![]);}}}async function killBot(){const _0x24aae4=_0x335b4e;botPaused=!![],await sleep(0x3e8),process[_0x24aae4(0x112)]({'stop':'kill'},_0x186318=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2d476a,_0x2b9358){const _0x2f6430=_0x335b4e;if(botPaused)return;const _0x310097=config[_0x2f6430(0x165)]||_0x2f6430(0x1cd);if(_0x2b9358)logger[_0x2f6430(0x13e)](_0x2f6430(0x9b)+_0x2b9358);const _0x25268e=()=>{const _0x1ba66e=_0x2f6430;loading[_0x1ba66e(0x1fb)]=!![],emitLoadingProgress();};if(_0x2d476a[_0x2f6430(0x1ec)]()[_0x2f6430(0x92)]('API-key\x20format\x20invalid'))logHistory(_0x2f6430(0x1fb),_0x310097+_0x2f6430(0x1bf)),_0x25268e();else{if(_0x2d476a[_0x2f6430(0x1ec)]()['includes'](_0x2f6430(0x9c)))logHistory(_0x2f6430(0x1fb),_0x310097+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)'),_0x25268e();else _0x2d476a[_0x2f6430(0x1ec)]()[_0x2f6430(0x92)]('AuthenticationError')?(logHistory('error',_0x310097+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x2f6430(0x1fb),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x25268e()):await handleError(_0x2d476a,null);}}async function handleError(_0x1ea67b,_0x41cdf6,_0x10af34=''){const _0x5de909=_0x335b4e;if(botPaused)return;const _0x248888=config['exchange']||'Exchange';if(_0x41cdf6)logger[_0x5de909(0x13e)](_0x5de909(0x9b)+_0x41cdf6);if(_0x1ea67b[_0x5de909(0x1ec)]()[_0x5de909(0x92)](_0x5de909(0x16b)))logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0x15e)+pauseBotMsg),logger['debug']('Error\x20details:',_0x1ea67b),await pauseBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()['includes']('RateLimitExceeded'))logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0x180)+pauseBotMsg),logger[_0x5de909(0x13e)](_0x5de909(0x1d1),_0x1ea67b),await pauseBot();else{if(_0x1ea67b['toString']()[_0x5de909(0x92)](_0x5de909(0x88))||_0x1ea67b['toString']()['includes']('OnMaintenance'))logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0xa0)+pauseBotMsg),await pauseBot();else{if(_0x1ea67b['toString']()[_0x5de909(0x92)](_0x5de909(0xe4)))logHistory(_0x5de909(0x1fb),_0x248888+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)'+pauseBotMsg),logger['debug'](_0x5de909(0x1d1),_0x1ea67b),await pauseBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()['includes']('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0x147)+pauseBotMsg),logger['debug']('Error\x20details:',_0x1ea67b),await pauseBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()['toLowerCase']()[_0x5de909(0x92)](_0x5de909(0x20d))||_0x1ea67b[_0x5de909(0x1ec)]()[_0x5de909(0xbb)]()[_0x5de909(0x92)]('request-time'))logHistory('error',_0x5de909(0x1f9)+pauseBotMsg),logger['debug'](_0x5de909(0x1d1),_0x1ea67b[_0x5de909(0x1ec)]()),await pauseBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()[_0x5de909(0x92)](_0x5de909(0xcb)))logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0x117)+pauseBotMsg),logger[_0x5de909(0x13e)]('Error\x20details:',_0x1ea67b),await pauseBot();else{if(_0x1ea67b instanceof ccxt[_0x5de909(0xd9)])logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0x1af)+pauseBotMsg),logger[_0x5de909(0x13e)](_0x5de909(0x1d1),_0x1ea67b),await pauseBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()[_0x5de909(0x92)](_0x5de909(0x149)))logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0x130)),logHistory(_0x5de909(0x1fb),_0x5de909(0x197)),await killBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()[_0x5de909(0x92)](_0x5de909(0x9c)))logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0x182)),logHistory(_0x5de909(0x1fb),_0x5de909(0x197)),await killBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()['includes'](_0x5de909(0xe3)))logHistory('error',_0x248888+_0x5de909(0x15d)),logHistory(_0x5de909(0x1fb),_0x5de909(0x197)),await killBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()[_0x5de909(0x92)](_0x5de909(0x14b)))logHistory(_0x5de909(0x1fb),_0x248888+_0x5de909(0xd3)),logHistory(_0x5de909(0x1fb),_0x5de909(0x197)),await killBot();else{if(_0x1ea67b[_0x5de909(0x1ec)]()[_0x5de909(0x92)](_0x5de909(0xa4)))logHistory(_0x5de909(0x1fb),_0x5de909(0x1c3)+_0x10af34);else{if(_0x1ea67b instanceof ccxt[_0x5de909(0x1a7)]){logHistory(_0x5de909(0x1fb),_0x248888+'\x20exchange\x20error'),logger[_0x5de909(0x13e)]('Error\x20details:',_0x1ea67b);if(_0x10af34)logger['debug'](_0x5de909(0x146)+_0x10af34);}else{logHistory(_0x5de909(0x1fb),_0x5de909(0x159)+pauseBotMsg),logger[_0x5de909(0x13e)]('Error\x20details:',_0x1ea67b);if(_0x10af34)logger[_0x5de909(0x13e)](_0x5de909(0x146)+_0x10af34);await pauseBot();}}}}}}}}}}}}}}}async function withRetry(_0x3b4e7b,_0x8138ee){const _0x330d1b=_0x335b4e;let _0xf89e7d=![],_0x2c4b1d=0x0,_0x2391f8,_0x462040;while(_0x2c4b1d<maxRetries){try{_0x2391f8=await _0x8138ee();break;}catch(_0xb592f0){_0x462040=_0xb592f0,!_0xf89e7d?(_0xf89e7d=!![],logger[_0x330d1b(0x13e)](_0x330d1b(0x1c0)+_0x3b4e7b+':',_0xb592f0[_0x330d1b(0x1ec)]())):await sleep(retryInterval);}_0x2c4b1d++;}if(_0x2c4b1d==0x0)return _0x2391f8;if(_0x2c4b1d>=maxRetries)throw _0x462040;else return logger[_0x330d1b(0x13e)](_0x330d1b(0x1b9)+_0x2c4b1d+_0x330d1b(0x1b1)),_0x2391f8;}function formatResult(_0x4f4409,_0x4ab771){return parseFloat(_0x4f4409['toFixed'](_0x4ab771));}function formatResultTruncate(_0x190c24,_0x60d317){const _0x1a9eb2=_0x335b4e;let _0x58b0d4=formatResultString(_0x190c24,0xa),_0x534311=_0x58b0d4['indexOf']('.');return _0x534311!=-0x1&&(_0x58b0d4=_0x58b0d4[_0x1a9eb2(0x157)](0x0,_0x534311+_0x60d317+0x1)),Number(_0x58b0d4);}function formatResultString(_0x89665c,_0x32271e){const _0x1a648b=_0x335b4e;let _0x4a5205;if(!(''+_0x89665c)[_0x1a648b(0x92)]('e'))_0x4a5205=+(Math[_0x1a648b(0xa9)](_0x89665c+'e+'+_0x32271e)+'e-'+_0x32271e);else{let _0x1dfdda=(''+_0x89665c)['split']('e'),_0xb9a2b2='';+_0x1dfdda[0x1]+_0x32271e>0x0&&(_0xb9a2b2='+'),_0x4a5205=+(Math[_0x1a648b(0xa9)](+_0x1dfdda[0x0]+'e'+_0xb9a2b2+(+_0x1dfdda[0x1]+_0x32271e))+'e-'+_0x32271e);}return Number(_0x4a5205)[_0x1a648b(0x161)](_0x32271e);}function getServerTime(){const _0x115237=_0x335b4e,_0x2aad57=new Date();return _0x2aad57['getFullYear']()+'/'+(_0x2aad57['getMonth']()+0x1)[_0x115237(0x1ec)]()['padStart'](0x2,'0')+'/'+_0x2aad57[_0x115237(0x213)]()[_0x115237(0x1ec)]()[_0x115237(0x153)](0x2,'0')+'\x20'+_0x2aad57['getHours']()[_0x115237(0x1ec)]()['padStart'](0x2,'0')+':'+_0x2aad57[_0x115237(0x169)]()[_0x115237(0x1ec)]()['padStart'](0x2,'0')+':'+_0x2aad57[_0x115237(0x18a)]()[_0x115237(0x1ec)]()[_0x115237(0x153)](0x2,'0');}function getTimeStamp(){const _0x225485=_0x335b4e,_0x3ef328=shiftedTime();return _0x3ef328[_0x225485(0x90)]()+'/'+(_0x3ef328['getMonth']()+0x1)[_0x225485(0x1ec)]()[_0x225485(0x153)](0x2,'0')+'/'+_0x3ef328['getDate']()[_0x225485(0x1ec)]()['padStart'](0x2,'0')+'\x20'+_0x3ef328[_0x225485(0x10f)]()[_0x225485(0x1ec)]()['padStart'](0x2,'0')+':'+_0x3ef328['getMinutes']()[_0x225485(0x1ec)]()[_0x225485(0x153)](0x2,'0')+':'+_0x3ef328['getSeconds']()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x15547d=_0x335b4e,_0x473622=shiftedTime();return _0x473622[_0x15547d(0x90)]()+'/'+(_0x473622[_0x15547d(0x17d)]()+0x1)[_0x15547d(0x1ec)]()[_0x15547d(0x153)](0x2,'0')+'/'+_0x473622[_0x15547d(0x213)]()[_0x15547d(0x1ec)]()[_0x15547d(0x153)](0x2,'0');}function getHour(){const _0x42541a=_0x335b4e,_0x50399f=shiftedTime();return _0x50399f[_0x42541a(0x10f)]()[_0x42541a(0x1ec)]()[_0x42541a(0x153)](0x2,'0');}function sleep(_0xf8f1b6){return new Promise(_0x2ed39b=>setTimeout(_0x2ed39b,_0xf8f1b6));}function shiftedTime(){const _0x3ba805=_0x335b4e,_0x15f420=new Date();let _0x5ccf47=_0x15f420;if(config&&config[_0x3ba805(0x1e7)]!==0x0)_0x5ccf47=fns[_0x3ba805(0x1ce)](_0x15f420,{'hours':config[_0x3ba805(0x1e7)]});return _0x5ccf47;}function timer(_0x5546bd){const _0x320c85=_0x335b4e,_0x36aa0d=new Date();!lasttime?console[_0x320c85(0xba)](getTimeStamp()+_0x320c85(0xe7),_0x5546bd,_0x36aa0d):console[_0x320c85(0xba)](getTimeStamp()+':\x20timer\x20>',_0x5546bd,(_0x36aa0d-lasttime)/0x3e8),lasttime=_0x36aa0d;}