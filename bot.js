const _0xd38532=_0x15fd;(function(_0x592451,_0x4090e3){const _0xca096d=_0x15fd,_0x43580c=_0x592451();while(!![]){try{const _0x585e1d=parseInt(_0xca096d(0x149))/0x1+-parseInt(_0xca096d(0x112))/0x2*(-parseInt(_0xca096d(0xe4))/0x3)+-parseInt(_0xca096d(0xd7))/0x4*(-parseInt(_0xca096d(0x14f))/0x5)+-parseInt(_0xca096d(0x1c7))/0x6*(parseInt(_0xca096d(0x1e2))/0x7)+parseInt(_0xca096d(0x6a))/0x8+parseInt(_0xca096d(0xa9))/0x9+-parseInt(_0xca096d(0x12b))/0xa;if(_0x585e1d===_0x4090e3)break;else _0x43580c['push'](_0x43580c['shift']());}catch(_0x2fc099){_0x43580c['push'](_0x43580c['shift']());}}}(_0x450b,0x8e6c6));const _0x1a885a=function(){let _0x438b43=!![];return function(_0x581a36,_0x1ecb6d){const _0x6ef6c3=_0x438b43?function(){const _0x10949e=_0x15fd;if(_0x1ecb6d){const _0x16d7e3=_0x1ecb6d[_0x10949e(0x189)](_0x581a36,arguments);return _0x1ecb6d=null,_0x16d7e3;}}:function(){};return _0x438b43=![],_0x6ef6c3;};}(),_0x638c2a=_0x1a885a(this,function(){const _0xa181d6=_0x15fd;return _0x638c2a[_0xa181d6(0x13f)]()['search']('(((.+)+)+)+$')[_0xa181d6(0x13f)]()[_0xa181d6(0xde)](_0x638c2a)[_0xa181d6(0x18b)](_0xa181d6(0xef));});_0x638c2a();'use strict';const ccxt=require(_0xd38532(0xbb))[_0xd38532(0x79)],low=require(_0xd38532(0x89)),FileSync=require(_0xd38532(0x184)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0xd38532(0xd1))[_0xd38532(0x90)],util=require(_0xd38532(0x14a)),argv=require(_0xd38532(0x92))(process[_0xd38532(0x69)]['slice'](0x2))[_0xd38532(0x69)],path=require(_0xd38532(0xfb));let exchange;global[_0xd38532(0xc4)]={},global[_0xd38532(0x16a)]={};const usdBasecoins=[_0xd38532(0x116),_0xd38532(0x19e),_0xd38532(0x150),_0xd38532(0x10a),_0xd38532(0xd6),'USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xd38532(0x122)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0xd38532(0xa6)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0xd38532(0xdc))[_0xd38532(0x13a)],botID=process[_0xd38532(0x69)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0xd38532(0x147)](botID)&&(console[_0xd38532(0x1e6)](_0xd38532(0x186)+botID+_0xd38532(0xf5)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0xd38532(0x1e5)+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0xd38532(0x16c),loggerfile=fs['createWriteStream'](logspath+_0xd38532(0x80),{'flags':'a'});!fs[_0xd38532(0x132)](configpath)&&fs[_0xd38532(0xc2)](configpath);!fs[_0xd38532(0x132)](logspath)&&fs[_0xd38532(0xc2)](logspath);const configfile=configpath+_0xd38532(0x180)+botID+_0xd38532(0x1a6),logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+_0xd38532(0x180)+botID+_0xd38532(0x73),coinresultsfile=configpath+_0xd38532(0x180)+botID+_0xd38532(0x8a),settingsfile=configpath+_0xd38532(0x15b),securefile=configpath+_0xd38532(0x18d),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0xd38532(0x11d)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0xd38532(0x11d)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xd38532(0xb2)]({'bot':[],'version':serverversion})[_0xd38532(0x11d)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xd38532(0xb2)]({'coins':[],'version':serverversion})[_0xd38532(0x11d)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0xd38532(0x1b2),'rsaStandard':_0xd38532(0x1c9)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x51c225=>{console['log'](_0x51c225);},'simple':_0x4498a4=>{const _0x5e996f=_0xd38532;console[_0x5e996f(0x1e6)](_0x4498a4),loggerfile[_0x5e996f(0x11d)](util[_0x5e996f(0x168)](_0x4498a4)+'\x0a');},'full':async(_0x198a81,_0x56c367='')=>{const _0x2e4637=_0xd38532;let _0x9bb9d1;if(config[_0x2e4637(0x172)])_0x9bb9d1=getTimeStamp()+':\x20'+config[_0x2e4637(0x13e)]+_0x2e4637(0x160)+_0x198a81;else _0x9bb9d1=getTimeStamp()+_0x2e4637(0xec)+botID+_0x2e4637(0x160)+_0x198a81;console['log'](_0x9bb9d1),loggerfile[_0x2e4637(0x11d)](util['format'](_0x9bb9d1)+'\x0a'),_0x56c367&&(console[_0x2e4637(0x1e6)](_0x56c367),loggerfile[_0x2e4637(0x11d)](util[_0x2e4637(0x168)](_0x56c367)+'\x0a'));},'debug':async(_0x5e48d2,_0x2522e6='')=>{const _0x59020f=_0xd38532;let _0x3ff832;if(config[_0x59020f(0x172)])_0x3ff832=getTimeStamp()+':\x20'+config['botname']+_0x59020f(0x1bb)+_0x5e48d2;else _0x3ff832=getTimeStamp()+_0x59020f(0xec)+botID+_0x59020f(0x1bb)+_0x5e48d2;if(debugging)console[_0x59020f(0x1e6)](_0x3ff832);loggerfile[_0x59020f(0x11d)](util['format'](_0x3ff832)+'\x0a');if(_0x2522e6){if(debugging)console[_0x59020f(0x1e6)](_0x2522e6);loggerfile[_0x59020f(0x11d)](util[_0x59020f(0x168)](_0x2522e6)+'\x0a');}}};process['on'](_0xd38532(0x11b),function(_0x38b027){logger['debug']('Uncaught\x20Exception:',_0x38b027);});settings['timeshift']!=config[_0xd38532(0x137)]&&updateTimeshift(settings['timeshift']);settings[_0xd38532(0x1e3)]!=config[_0xd38532(0x1e3)]&&updateOnepagemode(settings[_0xd38532(0x1e3)]);process[_0xd38532(0x1ae)]({'started':_0xd38532(0x11a)},_0x4d09b3=>{}),initializeProcessListeners();function proxyEmit(_0x1e545c,_0x3c9298=null){const _0x197bcf=_0xd38532;process[_0x197bcf(0x1ae)]({'function':_0x1e545c,'args':_0x3c9298},_0x23d5f1=>{});}function initializeProcessListeners(){process['on']('message',_0x29f630=>{const _0x289e73=_0x15fd;switch(Object[_0x289e73(0x1a3)](_0x29f630)[0x0]){case _0x289e73(0x137):_0x29f630[_0x289e73(0x137)]!=undefined&&(settings[_0x289e73(0x137)]=_0x29f630['timeshift'],updateTimeshift(settings[_0x289e73(0x137)]));break;case'onepagemode':_0x29f630[_0x289e73(0x1e3)]!=undefined&&(settings[_0x289e73(0x1e3)]=_0x29f630[_0x289e73(0x1e3)],updateOnepagemode(settings[_0x289e73(0x1e3)]));break;case _0x289e73(0x74):_0x29f630[_0x289e73(0x74)]!=undefined&&(bots=JSON[_0x289e73(0x191)](_0x29f630[_0x289e73(0x74)]),proxyEmit('bots',bots));break;case _0x289e73(0x15d):switch(_0x29f630[_0x289e73(0x15d)]){case _0x289e73(0x1e9):initclient();break;case _0x289e73(0x13d):toggleBotMode();break;case'emitHistory':emitHistory(_0x29f630['args']);break;case _0x289e73(0xea):deleteHistoryAlerts(_0x29f630[_0x289e73(0x117)]);break;case _0x289e73(0x171):getPortfolio(_0x29f630['args']);break;case'storeConfiguration':storeConfiguration(_0x29f630['args']);break;case _0x289e73(0x1c4):storeHeadless(_0x29f630[_0x289e73(0x117)]);break;case _0x289e73(0x19c):storeFiat(_0x29f630['args']);break;case _0x289e73(0xfc):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x289e73(0x1d7):placeOrder(_0x29f630['args']);break;case _0x289e73(0xb9):cancelLoading();break;case'showConfig':showConfig();break;case _0x289e73(0xf1):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x2c45e1=null,_0x3c664d=![]){const _0x85c388=_0xd38532;logger['debug']('Reset\x20|\x20'+(_0x2c45e1&&_0x2c45e1[_0x85c388(0x1b1)]>0x0?_0x85c388(0x75)+_0x2c45e1[_0x85c388(0x8c)](','):_0x85c388(0x141))+_0x85c388(0x187)+(_0x3c664d?_0x85c388(0x9c):_0x85c388(0x1ca))+_0x85c388(0x136)+config[_0x85c388(0x18e)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x3c664d)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x85c388(0x1ee)]!=''&&config[_0x85c388(0x1ee)]!=_0x85c388(0x1e7)){if(_0x3c664d){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0xdc00a5){handleErrorNoStop(_0xdc00a5,_0x85c388(0xaf));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x2c45e1);const _0x5b2ca8=await getCoins();[currentCoins,currentCoinsAll]=_0x5b2ca8,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x85c388(0x1b1)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x13fe8d=_0xd38532;logger[_0x13fe8d(0x1c2)](_0x13fe8d(0xd9));while(lockOrders!=ORDERS[_0x13fe8d(0xa6)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x13fe8d(0x1c2)](_0x13fe8d(0x1f3)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x5753be=config['exchange'],_0x45aa3b=config[_0xd38532(0x1ee)],_0x42ec1d=config[_0xd38532(0x127)],_0x1fd3ec=config['apiPassword']){const _0x3378a1=_0xd38532;exchange&&await stopExchange();!supportedExchanges()[_0x3378a1(0x84)](_0x5753be)&&(logHistory(_0x3378a1(0xac),_0x3378a1(0x1ad)+_0x5753be+_0x3378a1(0x1a5)),killBot());const _0x3307bd=ccxt[_0x5753be[_0x3378a1(0x17a)]()];exchange=new _0x3307bd({'apiKey':_0x45aa3b,'secret':_0x42ec1d,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x3378a1(0x1e4)}});if(_0x1fd3ec)exchange[_0x3378a1(0x167)]=_0x1fd3ec;}function setStableCoins(){const _0x12d54f=_0xd38532;let _0x4430e6=config[_0x12d54f(0x88)]=='ETH'?_0x12d54f(0x124):'BTC',_0x2b8dc2=!allSymbols[_0x12d54f(0x84)](_0x4430e6+_0x12d54f(0xcd))?_0x12d54f(0x10a):_0x12d54f(0x116),_0x3e1a13=!allSymbols[_0x12d54f(0x84)](_0x4430e6+'/EUR')?_0x2b8dc2:_0x12d54f(0x108);stablecoins={'eur':{'coin':''+_0x4430e6+_0x3e1a13,'symbol':_0x4430e6+'/'+_0x3e1a13},'usd':{'coin':''+_0x4430e6+_0x2b8dc2,'symbol':_0x4430e6+'/'+_0x2b8dc2}};}async function initwsCcxt(_0x202381){const _0x5c19e5=_0xd38532;_0x202381==null&&(_0x202381=[],config[_0x5c19e5(0x8f)][_0x5c19e5(0xa4)](_0x3d90a1=>{const _0xc6162=_0x5c19e5;if(!_0x3d90a1[_0xc6162(0x1b5)]&&_0x3d90a1[_0xc6162(0x140)]!=config[_0xc6162(0x88)])_0x202381['push'](_0x3d90a1[_0xc6162(0x11c)]);}));if(!_0x202381[_0x5c19e5(0x84)](stablecoins[_0x5c19e5(0x179)][_0x5c19e5(0x11c)]))_0x202381['push'](stablecoins[_0x5c19e5(0x179)][_0x5c19e5(0x11c)]);if(!_0x202381[_0x5c19e5(0x84)](stablecoins['usd'][_0x5c19e5(0x11c)]))_0x202381['push'](stablecoins[_0x5c19e5(0x125)][_0x5c19e5(0x11c)]);if(config['exchange'][_0x5c19e5(0xd0)](_0x5c19e5(0x68))){if(!_0x202381[_0x5c19e5(0x84)](_0x5c19e5(0x104)+config[_0x5c19e5(0x88)]))_0x202381[_0x5c19e5(0x103)]('BNB/'+config['basecoin']);}loadCoins(_0x202381);const _0x3e20a9=async _0x5aa707=>{const _0x4a02a0=_0x5c19e5,_0x40e949=await exchange['fetchTicker'](_0x5aa707);global[_0x4a02a0(0xc4)][noslash(_0x40e949[_0x4a02a0(0x11c)])]=_0x40e949['last'];while(!![]){if(!botPaused)try{const _0x533792=await exchange[_0x4a02a0(0x11e)](_0x5aa707);global[_0x4a02a0(0xc4)][noslash(_0x533792[0x0][_0x4a02a0(0x11c)])]=_0x533792[0x0][_0x4a02a0(0x1ec)],await sleep(0x3e8);}catch(_0x27906d){if(!exchangeStopped)await handleError(_0x27906d,'watchTrades',_0x5aa707);}else await sleep(0x64);}},_0x38cb06=async _0xce35e8=>{const _0x269146=_0x5c19e5;while(!![]){if(!botPaused)try{const _0xa0b362=await exchange['fetchTicker'](_0xce35e8);global['change'][_0xa0b362[_0x269146(0x11c)]]=_0xa0b362[_0x269146(0x19a)],await sleep(0x3c*0x3e8);}catch(_0x203b9b){if(!exchangeStopped)await handleError(_0x203b9b,_0x269146(0x198),_0xce35e8);}else await sleep(0x64);}},_0x68f523=async()=>{const _0x17065c=_0x5c19e5;while(!![]){if(!botPaused)try{const _0x57b8e9=await exchange['watchOrders']();_0x57b8e9[_0x17065c(0xa4)](_0x2a63fb=>{updateNumberCoinsCcxt(_0x2a63fb);});}catch(_0x5098b2){if(!exchangeStopped)await handleError(_0x5098b2,_0x17065c(0x154));}else await sleep(0x64);}};_0x202381[_0x5c19e5(0xa4)](_0x53274c=>{_0x3e20a9(_0x53274c),_0x38cb06(_0x53274c);}),!wsEventsSet&&(wsEventsSet=!![],_0x68f523(),watchTransactions());}async function watchTransactions(){const _0x735ff8=_0xd38532;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0xf12c03=await getCoins(),[_0x55452e,_0x18f93e]=_0xf12c03;let _0xe24cf3=[];currentCoins[_0x735ff8(0xa4)](_0x2405cf=>{const _0x2cbfee=_0x735ff8,_0x303280=_0x55452e[_0x2cbfee(0x77)](_0x5624fa=>_0x5624fa[_0x2cbfee(0x140)]==_0x2405cf[_0x2cbfee(0x140)]);_0x303280&&(_0x2405cf['number']!=_0x303280['number']&&_0xe24cf3[_0x2cbfee(0x103)]({'coin':_0x2405cf[_0x2cbfee(0x140)],'symbol':_0x2405cf[_0x2cbfee(0x11c)],'reverse':_0x2405cf[_0x2cbfee(0x1cb)],'number':Number(formatResult(_0x303280[_0x2cbfee(0x163)]-_0x2405cf[_0x2cbfee(0x163)],0x8))}));});if(_0xe24cf3[_0x735ff8(0x1b1)]==0x1&&!blockTransactionDetection){if(config[_0x735ff8(0x1ed)]){logger[_0x735ff8(0x1c2)](_0x735ff8(0x1c3)+lastFees[_0x735ff8(0x119)]+_0x735ff8(0x99)+lastFees[_0x735ff8(0x109)]);if(!lastFees[_0x735ff8(0x119)]||_0xe24cf3[0x0][_0x735ff8(0x140)]!=lastFees[_0x735ff8(0x119)]||_0xe24cf3[0x0][_0x735ff8(0x163)]>lastFees[_0x735ff8(0x109)]){let _0x588157;if(_0xe24cf3[0x0][_0x735ff8(0x140)]!=config[_0x735ff8(0x88)]){let _0x447ec9=global[_0x735ff8(0xc4)][noslash(_0xe24cf3[0x0]['symbol'])];_0x588157=_0xe24cf3[0x0]['reverse']?0x1/_0x447ec9:_0x447ec9;}else _0x588157=0x1;_0xe24cf3[0x0][_0x735ff8(0x1ec)]=_0x588157,delete _0xe24cf3[0x0][_0x735ff8(0x11c)];let _0x478cc0=[],_0x1c0c78=[...config[_0x735ff8(0x10f)]]||[],_0x263a78=config[_0x735ff8(0x10f)];_0x1c0c78[_0x735ff8(0xc6)]((_0x2c1976,_0x1bfa48)=>_0x2c1976[_0x735ff8(0xa8)]>_0x1bfa48[_0x735ff8(0xa8)]?-0x1:_0x1bfa48['date']>_0x2c1976[_0x735ff8(0xa8)]?0x1:0x0);const _0x2ed0ab=getDate();if(_0x1c0c78[0x0]){const _0x332ebd=fns[_0x735ff8(0x191)](_0x1c0c78[0x0][_0x735ff8(0xa8)],_0x735ff8(0x1ce),new Date()),_0x3d2d55=fns['parse'](_0x2ed0ab,_0x735ff8(0x1ce),new Date());if(fns[_0x735ff8(0x7a)](_0x332ebd,_0x3d2d55)){_0x478cc0=_0x1c0c78[0x0][_0x735ff8(0x94)];const _0x30ac94=_0x478cc0['find'](_0x527795=>_0x527795[_0x735ff8(0x140)]==_0xe24cf3[0x0]['coin']);_0x30ac94?(_0x30ac94['number']+=_0xe24cf3[0x0][_0x735ff8(0x163)],_0x30ac94['number']==0x0&&(_0x478cc0=_0x478cc0[_0x735ff8(0x19d)](_0x140e73=>{const _0x2752b1=_0x735ff8;return _0x140e73[_0x2752b1(0x140)]!=_0xe24cf3[0x0][_0x2752b1(0x140)];}))):_0x478cc0['push'](_0xe24cf3[0x0]);const _0x2de17c=_0x263a78[_0x735ff8(0x77)](_0x410839=>_0x410839[_0x735ff8(0xa8)]==_0x2ed0ab);_0x2de17c[_0x735ff8(0x94)]=_0x478cc0;}else _0x263a78[_0x735ff8(0x103)]({'date':_0x2ed0ab,'changes':[_0xe24cf3[0x0]]});}const _0x3ce882=_0x263a78[_0x735ff8(0x77)](_0x51d338=>_0x51d338[_0x735ff8(0xa8)]==_0x2ed0ab);if(_0x3ce882){let _0x3261e1=!![];_0x3ce882[_0x735ff8(0x94)][_0x735ff8(0xa4)](_0x397881=>{if(_0x397881['number']!=0x0)_0x3261e1=![];}),_0x3261e1&&(_0x263a78=_0x263a78[_0x735ff8(0x19d)](_0xbd88ef=>{const _0x40a86a=_0x735ff8;return _0xbd88ef[_0x40a86a(0xa8)]!=_0x2ed0ab;}));}let _0x12abaf=dbConfig['get'](_0x735ff8(0x66))[_0x735ff8(0x77)]({'botID':botID})[_0x735ff8(0x16f)]();_0x12abaf&&(dbConfig[_0x735ff8(0xc0)](_0x735ff8(0x66))[_0x735ff8(0x77)]({'botID':botID})[_0x735ff8(0x7f)]({'liquidity':_0x263a78})[_0x735ff8(0x11d)](),config[_0x735ff8(0x10f)]=_0x263a78),logHistory(_0x735ff8(0x1e8),_0x735ff8(0x86)+Math[_0x735ff8(0xa3)](_0xe24cf3[0x0][_0x735ff8(0x163)])+'\x20'+_0xe24cf3[0x0]['coin']+'\x20'+(_0xe24cf3[0x0][_0x735ff8(0x163)]>0x0?_0x735ff8(0x1a9):_0x735ff8(0x8d))+_0x735ff8(0xe8)),proxyEmit(_0x735ff8(0x1b7),emittedConfiguration());}else logger[_0x735ff8(0x1c2)](_0x735ff8(0x181)+Math['abs'](_0xe24cf3[0x0]['number'])+'\x20'+_0xe24cf3[0x0]['coin']+'\x20'+(_0xe24cf3[0x0][_0x735ff8(0x163)]>0x0?_0x735ff8(0x1a9):_0x735ff8(0x8d)));transactionDetected=!![],currentCoins=_0x55452e,currentCoinsAll=_0x18f93e;}else logger[_0x735ff8(0x1c2)]('Portfolio\x20change\x20detected:\x20'+Math[_0x735ff8(0xa3)](_0xe24cf3[0x0][_0x735ff8(0x163)])+'\x20'+_0xe24cf3[0x0][_0x735ff8(0x140)]+'\x20'+(_0xe24cf3[0x0]['number']>0x0?'added':'removed')+_0x735ff8(0x81)),currentCoins=_0x55452e,currentCoinsAll=_0x18f93e;}await sleep(watchTransactionsInterval);}catch(_0x3e805){if(!exchangeStopped)await handleError(_0x3e805,'watchTransactions');}else await sleep(0x64);}}async function loadSymbols(_0x3b22de=config[_0xd38532(0x18e)],_0x4edc5a=![]){const _0x28e4cd=_0xd38532;if(allSymbols&&!_0x4edc5a)return;try{markets=await exchange[_0x28e4cd(0x199)](),allSymbols=[],Object['entries'](markets)['forEach'](_0xb23180=>{const _0x481a99=_0x28e4cd;_0xb23180[0x1][_0x481a99(0x13c)]&&_0xb23180[0x1][_0x481a99(0x1e4)]&&allSymbols[_0x481a99(0x103)](_0xb23180[0x0]);});}catch(_0x5759f2){throw _0x5759f2;}}async function initclient(){const _0x481c13=_0xd38532;emitLoadingProgress(),proxyEmit(_0x481c13(0x1b7),emittedConfiguration()),proxyEmit(_0x481c13(0x78),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x481c13(0x1a8),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x3ff119=getNormalizedPerformance();emitPerformance(_0x3ff119),getStartingBalances(_0x3ff119);}async function toggleBotMode(){const _0x22544c=_0xd38532;let _0x81b517=dbConfig['get']('bot')['find']({'botID':botID})['value']();if(_0x81b517){const _0x181ddf=!_0x81b517[_0x22544c(0x96)];dbConfig[_0x22544c(0xc0)]('bot')[_0x22544c(0x77)]({'botID':botID})[_0x22544c(0x7f)]({'headless':_0x181ddf})[_0x22544c(0x11d)](),config['headless']=_0x181ddf,proxyEmit(_0x22544c(0x1b7),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1da4ec=_0xd38532;process[_0x1da4ec(0x1ae)]({'updatebotmanager':!![]},_0x2f31fd=>{});}async function loadCoins(_0x24d19e){const _0x40cfd3=_0xd38532;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x1cdbd9,_0x3e1225=0x0,_0x1847b5=0x0;_0x24d19e[_0x40cfd3(0xa4)](_0x46ee11=>{const _0x2620dd=_0x40cfd3;loading[_0x2620dd(0xfa)][_0x2620dd(0x103)](_0x46ee11);}),loadingCanceled=![];let _0x5e7cc2=![];while(_0x1cdbd9!=_0x24d19e['length']){_0x1cdbd9=0x0,_0x24d19e[_0x40cfd3(0xa4)](_0x4cf84=>{const _0x2b10fe=_0x40cfd3;if(global['ticker'][noslash(_0x4cf84)]){loading[_0x2b10fe(0xfa)]=loading[_0x2b10fe(0xfa)]['filter'](_0x13612d=>_0x13612d!=_0x4cf84);if(!watchedSymbols[_0x2b10fe(0x84)](_0x4cf84))watchedSymbols[_0x2b10fe(0x103)](_0x4cf84);_0x1cdbd9++;}}),loading[_0x40cfd3(0xe6)]=Math[_0x40cfd3(0x17f)](_0x1cdbd9/_0x24d19e['length']*0x64);loading['progress']!=0x64&&(_0x1847b5>0x1e*0x5&&(loading[_0x40cfd3(0xf8)]=!![],emitLoadingProgress()),_0x1847b5>0x78*0x5&&!_0x5e7cc2&&(loading[_0x40cfd3(0x83)]=!![],emitLoadingProgress(),_0x5e7cc2=!![],logHistory(_0x40cfd3(0xac),_0x40cfd3(0xcf)+loading[_0x40cfd3(0xfa)][_0x40cfd3(0x8c)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x40cfd3(0xac),_0x40cfd3(0x161)+loadCoinsRetryInterval/0xea60+_0x40cfd3(0xff)),pidCoinReloading=setTimeout(()=>{const _0x79ca86=_0x40cfd3;process[_0x79ca86(0x1ae)]({'stop':'restart'},_0x18c78d=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x40cfd3(0x83)]=!![],emitLoadingProgress();break;}else _0x1cdbd9!=_0x3e1225&&(_0x3e1225=_0x1cdbd9,emitLoadingProgress()),_0x1847b5++,await sleep(0xc8);}_0x1cdbd9==_0x24d19e['length']&&(coinsLoaded=!![],process['send']({'status':'enabled','live':'running'},_0x5c2a52=>{}),_0x5e7cc2&&logHistory(_0x40cfd3(0x1e8),_0x40cfd3(0x142)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x3adbe2=_0xd38532;proxyEmit(_0x3adbe2(0x1b7),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x140b45=_0xd38532;proxyEmit(_0x140b45(0x1c0),loading);}async function getFiat(){const _0x40c9f3=_0xd38532;let _0x24acab=global[_0x40c9f3(0xc4)][stablecoins[_0x40c9f3(0x179)][_0x40c9f3(0x140)]],_0x55893d=global[_0x40c9f3(0xc4)][stablecoins[_0x40c9f3(0x125)][_0x40c9f3(0x140)]];return{'eur':Number(_0x24acab),'usd':Number(_0x55893d)};}function capitalize(_0xa1124a){const _0x30890e=_0xd38532;return _0xa1124a[_0x30890e(0x134)](0x0,0x1)[_0x30890e(0x1e0)]()+_0xa1124a[_0x30890e(0x134)](0x1);}function supportedExchanges(){const _0x4911f2=_0xd38532,_0x52e5fd=['ws',_0x4911f2(0x198),_0x4911f2(0x1be),'watchTrades',_0x4911f2(0x154),'cancelOrder',_0x4911f2(0x10c),'fetchOpenOrders',_0x4911f2(0x6e),_0x4911f2(0x1d8)];let _0x2790d1=[],_0x75e206=[],_0x55098a=ccxt[_0x4911f2(0x78)];_0x55098a['forEach'](_0x1d0172=>{const _0x25d9af=_0x4911f2;try{const _0x2ee265=new ccxt[_0x1d0172]();if(_0x2ee265[_0x25d9af(0x182)]['ws'])_0x75e206[_0x25d9af(0x103)](_0x2ee265);}catch(_0x41c096){}}),_0x75e206[_0x4911f2(0xa4)](_0x3acdc1=>{const _0x1332bf=_0x4911f2;let _0x143271=0x0;_0x52e5fd[_0x1332bf(0xa4)](_0x23c283=>{_0x23c283 in _0x3acdc1['has']&&_0x3acdc1['has'][_0x23c283]&&_0x143271++;}),_0x143271==_0x52e5fd[_0x1332bf(0x1b1)]&&_0x2790d1['push'](capitalize(_0x3acdc1['id']));});let _0x2052ab=[];return _0x55098a[_0x4911f2(0xa4)](_0x5cc8b8=>{const _0x50ed8b=_0x4911f2;_0x5cc8b8=capitalize(_0x5cc8b8);if(!_0x2790d1[_0x50ed8b(0x84)](_0x5cc8b8))_0x2052ab[_0x50ed8b(0x103)](_0x5cc8b8);}),_0x2790d1;}function setStartDatePerformance(){const _0x490960=_0xd38532;if(config&&config[_0x490960(0x10f)][0x0][_0x490960(0x94)]['length']!=0x0){const _0x584d63=config[_0x490960(0x10f)][0x0][_0x490960(0x94)];dbPerformance['get'](_0x490960(0x97))[_0x490960(0x77)]({'date':config[_0x490960(0x16b)]})[_0x490960(0x7f)]({'coins':_0x584d63})['write']();}}async function recreateCoinResults(){const _0x4f0199=_0xd38532;let _0x10dd04,_0x201a2f=[];try{const _0x146143=fns[_0x4f0199(0x168)](fns['parseISO'](config['startdate']['replace'](/\//g,'-')),_0x4f0199(0x1da));for(const _0x2b2dd6 of currentCoins){if(_0x2b2dd6['coin']!=config[_0x4f0199(0x88)]){let _0xb7b741=0x0,_0x138379,_0x38cc5a;_0x10dd04=await getAllEventOrders(_0x2b2dd6[_0x4f0199(0x11c)]);if(_0x10dd04[_0x4f0199(0x1b1)]>0x0)_0x10dd04['forEach'](_0x251918=>{const _0x6b7db6=_0x4f0199,_0x41502c=_0x2b2dd6[_0x6b7db6(0x11c)][_0x6b7db6(0x84)](config[_0x6b7db6(0x88)]+'/');_0x201a2f[_0x6b7db6(0x103)]({'datetime':_0x251918[_0x6b7db6(0x1d3)],'coin':_0x2b2dd6['coin'],'symbol':_0x2b2dd6[_0x6b7db6(0x11c)],'side':_0x251918[_0x6b7db6(0x7e)],'reverse':_0x41502c,'amount':formatResult(_0x251918['filled'],0x8),'filled':formatResult(_0x251918['filled'],0x8),'price':formatResult(_0x251918[_0x6b7db6(0x1ec)],0x8)}),_0xb7b741=_0x251918['side']==_0x6b7db6(0x1eb)?_0xb7b741+_0x251918[_0x6b7db6(0x98)]:_0xb7b741-_0x251918['filled'];if(!_0x38cc5a)_0x38cc5a=_0x251918[_0x6b7db6(0x1ec)];});_0x138379=_0x2b2dd6[_0x4f0199(0x163)]-_0xb7b741;let _0x355a37;config[_0x4f0199(0x10f)][_0x4f0199(0xa4)](_0x1e1d8d=>{const _0x2a63a8=_0x4f0199;!_0x355a37&&(_0x355a37=_0x1e1d8d[_0x2a63a8(0x94)]['find'](_0x2ebded=>_0x2ebded[_0x2a63a8(0x140)]==_0x2b2dd6['coin']),_0x355a37&&(_0x138379=_0x355a37[_0x2a63a8(0x163)],_0x38cc5a=_0x355a37[_0x2a63a8(0x1ec)]));});let _0x105f48=dbCoinResults[_0x4f0199(0xc0)](_0x4f0199(0xb6))[_0x4f0199(0x77)]({'coin':_0x2b2dd6[_0x4f0199(0x140)]})['value']();_0x105f48={'coin':_0x2b2dd6['coin'],'number':_0x138379,'breakeven':_0x38cc5a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4f0199(0xc0)](_0x4f0199(0xb6))[_0x4f0199(0x77)]({'coin':_0x2b2dd6[_0x4f0199(0x140)]})[_0x4f0199(0x7f)](_0x105f48)['write']();}}_0x201a2f[_0x4f0199(0xc6)]((_0x47f54d,_0x1bad4d)=>_0x47f54d[_0x4f0199(0x1d3)]>_0x1bad4d[_0x4f0199(0x1d3)]?0x1:_0x1bad4d[_0x4f0199(0x1d3)]>_0x47f54d['datetime']?-0x1:0x0);let _0x38c987=0x0;for(let _0x3403f6 of _0x201a2f){await updateCoinResults(_0x3403f6,!![]);}}catch(_0x277028){await handleError(_0x277028,'recreateCoinResults()');}}async function getAllEventOrders(_0x1f2b75){const _0x9da247=_0xd38532;let _0x1d8fb3=[],_0x46b8ca=dbLogs[_0x9da247(0xc0)]('logs')[_0x9da247(0x19d)](_0x14274a=>{const _0x746499=_0x9da247,_0x321bab=_0x14274a[_0x746499(0x148)][_0x746499(0x17a)]();return _0x321bab['includes'](_0x1f2b75[_0x746499(0x17a)]())&&(_0x321bab['includes'](_0x746499(0x133))&&_0x321bab['includes']('order')||_0x321bab['includes'](_0x746499(0x98))&&_0x321bab[_0x746499(0x84)](_0x746499(0xe1)));})[_0x9da247(0x152)](_0x9da247(0xa7))[_0x9da247(0x16f)]();return _0x46b8ca[_0x9da247(0xa4)](_0x3ca6f0=>{const _0x2a23e9=_0x9da247,_0x101ef4=_0x3ca6f0['event'][_0x2a23e9(0x84)](_0x2a23e9(0x113))?'sell':_0x2a23e9(0x1eb),_0x4e8b3f=/#([0-9]|\.)+\s/i,_0x1e920b=Number(_0x4e8b3f['exec'](_0x3ca6f0[_0x2a23e9(0x148)])[0x0][_0x2a23e9(0x126)](0x1)),_0x44ec7a=/@([0-9]|\.)+$/i,_0x3b2c8d=Number(_0x44ec7a[_0x2a23e9(0xbc)](_0x3ca6f0[_0x2a23e9(0x148)])[0x0][_0x2a23e9(0x126)](0x1));_0x1d8fb3[_0x2a23e9(0x103)]({'datetime':_0x3ca6f0[_0x2a23e9(0xa7)],'coin':symbolToCoin(_0x1f2b75),'symbol':_0x1f2b75,'side':_0x101ef4,'amount':_0x1e920b,'filled':_0x1e920b,'price':_0x3b2c8d});}),_0x1d8fb3;}async function getAllOrders(_0x5e3758,_0x30da0e){const _0x1b7c9f=_0xd38532;let _0x264c2a=[];while(_0x30da0e<exchange[_0x1b7c9f(0x15f)]()){const _0x3c72a0=0x1f4,_0x533a3e=await exchange[_0x1b7c9f(0x6e)](_0x5e3758,_0x30da0e,_0x3c72a0);if(_0x533a3e[_0x1b7c9f(0x1b1)])_0x30da0e=_0x533a3e[_0x533a3e[_0x1b7c9f(0x1b1)]-0x1][_0x1b7c9f(0x170)]+0x1,_0x264c2a=_0x264c2a['concat'](_0x533a3e);else break;}return _0x264c2a;}async function validate24hChanges(){const _0x844b60=_0xd38532;for(const _0x2a078e of currentCoins){if(_0x2a078e['coin']!=config[_0x844b60(0x88)]){let _0x375e28;_0x2a078e[_0x844b60(0x1cb)]?_0x375e28=formatResult((0x1/(global[_0x844b60(0x16a)][noslash(_0x2a078e[_0x844b60(0x11c)])]/0x64+0x1)-0x1)*0x64,0x3):_0x375e28=global[_0x844b60(0x16a)][noslash(_0x2a078e['symbol'])],_0x375e28<config[_0x844b60(0x100)]&&(logHistory(_0x844b60(0xac),_0x2a078e[_0x844b60(0x140)]+_0x844b60(0x14c)+_0x375e28+'%'),logHistory(_0x844b60(0xac),_0x844b60(0xa1)),logHistory(_0x844b60(0xac),_0x844b60(0x1dd)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x93ffc9,_0x218938){const _0x1e76fb=_0xd38532;if(!_0x93ffc9)return!![];const _0x1b2176=_0x218938['split']('.'),_0x25d015=_0x93ffc9[_0x1e76fb(0x10e)]('.');for(var _0x21e924=0x0;_0x21e924<_0x25d015[_0x1e76fb(0x1b1)];_0x21e924++){const _0x3b8bb1=~~_0x25d015[_0x21e924],_0x338ed4=~~_0x1b2176[_0x21e924];if(_0x3b8bb1<_0x338ed4)return!![];if(_0x3b8bb1>_0x338ed4)return![];}return![];}async function oneTimeMigration(){const _0x337f3e=_0xd38532;let _0x25b290=dbLogs[_0x337f3e(0xc0)](_0x337f3e(0x13a))[_0x337f3e(0x16f)]();if(isOlderVersion(_0x25b290,'2.3.5')){let _0x33bf29=[];const _0x1c2fff=dbLogs[_0x337f3e(0xc0)](_0x337f3e(0xcb))[_0x337f3e(0x16f)]();_0x1c2fff['forEach'](_0x407737=>{const _0x245fb1=_0x337f3e;_0x33bf29[_0x245fb1(0x103)]({'time':_0x407737[_0x245fb1(0xa7)],'type':_0x407737[_0x245fb1(0x190)],'event':_0x407737[_0x245fb1(0x148)]});}),dbLogs['get'](_0x337f3e(0xcb))['assign'](_0x33bf29)[_0x337f3e(0x11d)]();}let _0x32c4d1=dbConfig[_0x337f3e(0xc0)]('version')[_0x337f3e(0x16f)]();if(isOlderVersion(_0x32c4d1,_0x337f3e(0xf7))){let _0x58a3be=dbConfig[_0x337f3e(0xc0)](_0x337f3e(0x66))['find']({'botID':botID})[_0x337f3e(0x16f)]();if(_0x58a3be){let _0x15f55e=[];_0x58a3be['portfolio']['forEach'](_0x44623e=>{const _0x3034e0=_0x337f3e;_0x15f55e[_0x3034e0(0x103)]({'coin':_0x44623e[_0x3034e0(0x140)],'number':_0x44623e[_0x3034e0(0x1d0)],'price':_0x44623e['startprice']}),delete _0x44623e[_0x3034e0(0x1d0)],delete _0x44623e[_0x3034e0(0xba)];});if(_0x15f55e[_0x337f3e(0x1b1)]!==0x0)fs[_0x337f3e(0xbd)](configbackuppath+(_0x337f3e(0x9b)+botID+_0x337f3e(0x1b8)),JSON['stringify'](_0x15f55e,null,0x4),function(_0x400153){if(_0x400153){}});const _0x2ab2de=(_0x4a59a9,_0x1e6eea)=>{const _0x80997e=_0x337f3e;let _0x222c05=[];_0x1e6eea[_0x80997e(0xa4)](_0x762f71=>{const _0x27ebe7=_0x80997e,_0x3fdff2=_0x4a59a9[_0x27ebe7(0x77)](_0x434dc0=>_0x434dc0[_0x27ebe7(0x140)]==_0x762f71['coin']);if(!_0x3fdff2)_0x222c05[_0x27ebe7(0x103)](_0x762f71);});let _0x2f79c2=[];return _0x4a59a9[_0x80997e(0xa4)](_0x5d60b3=>{const _0x47d6a0=_0x80997e,_0x4d0fe5=_0x1e6eea['find'](_0x3a0a93=>_0x3a0a93[_0x47d6a0(0x140)]==_0x5d60b3['coin']);if(!_0x4d0fe5||_0x4d0fe5[_0x47d6a0(0x163)]==0x0&&_0x5d60b3[_0x47d6a0(0x163)]!=0x0)_0x2f79c2[_0x47d6a0(0x103)](_0x5d60b3);}),{'missingDay1':_0x222c05,'notInDay2':_0x2f79c2};},_0x47af88=dbPerformance[_0x337f3e(0xc0)](_0x337f3e(0x97))[_0x337f3e(0x1f4)]()['value']();if(_0x47af88['length']>0x1){const {missingDay1:_0x495873,notInDay2:_0x304175}=_0x2ab2de(_0x15f55e,_0x47af88[0x1][_0x337f3e(0xb6)]);_0x15f55e=[..._0x15f55e,..._0x495873],_0x304175[_0x337f3e(0xa4)](_0x460f9a=>{const _0x19b82a=_0x337f3e;let _0x40ccc0=_0x15f55e[_0x19b82a(0x1a7)](_0x38736b=>_0x38736b[_0x19b82a(0x140)]==_0x460f9a['coin']);_0x40ccc0!=-0x1&&_0x15f55e[_0x19b82a(0xd8)](_0x40ccc0,0x1);});}_0x15f55e[_0x337f3e(0xc6)]((_0x3539ee,_0x5c2b5c)=>_0x3539ee[_0x337f3e(0x140)]>_0x5c2b5c[_0x337f3e(0x140)]?0x1:_0x5c2b5c[_0x337f3e(0x140)]>_0x3539ee['coin']?-0x1:0x0);let _0x4304b8=[{'date':_0x58a3be[_0x337f3e(0x16b)],'changes':_0x15f55e}];_0x47af88[_0x337f3e(0x1b1)]>0x2&&_0x47af88[_0x337f3e(0xa4)]((_0xa6abd6,_0x50f16d)=>{const _0x40e89c=_0x337f3e;if(_0x50f16d>0x0&&_0x50f16d<_0x47af88[_0x40e89c(0x1b1)]-0x1){const {missingDay1:_0x3289f6,notInDay2:_0x423e2c}=_0x2ab2de(_0x47af88[_0x50f16d][_0x40e89c(0xb6)],_0x47af88[_0x50f16d+0x1][_0x40e89c(0xb6)]);_0x15f55e=[],(_0x3289f6[_0x40e89c(0x1b1)]!=0x0||_0x423e2c[_0x40e89c(0x1b1)]!=0x0)&&(_0x3289f6[_0x40e89c(0x1b1)]!=0x0&&_0x15f55e[_0x40e89c(0x103)](..._0x3289f6),_0x423e2c[_0x40e89c(0x1b1)]!=0x0&&(_0x423e2c['forEach'](_0xda75f8=>{_0xda75f8['number']=-_0xda75f8['number'];}),_0x15f55e[_0x40e89c(0x103)](..._0x423e2c)),_0x15f55e[_0x40e89c(0xc6)]((_0x22b70b,_0x42a64c)=>_0x22b70b['coin']>_0x42a64c['coin']?0x1:_0x42a64c['coin']>_0x22b70b[_0x40e89c(0x140)]?-0x1:0x0),_0x4304b8[_0x40e89c(0x103)]({'date':_0x47af88[_0x50f16d+0x1][_0x40e89c(0xa8)],'changes':_0x15f55e}));}}),dbConfig['get']('bot')[_0x337f3e(0x77)]({'botID':botID})[_0x337f3e(0x7f)]({..._0x58a3be,'liquidity':_0x4304b8})['write']();}}if(isOlderVersion(_0x32c4d1,_0x337f3e(0x138))){let _0x608bc8=dbConfig[_0x337f3e(0xc0)](_0x337f3e(0x66))['find']({'botID':botID})[_0x337f3e(0x16f)]();if(_0x608bc8){const _0x2ed4ff=_0x608bc8[_0x337f3e(0x18e)],_0xefaea1=_0x2ed4ff?capitalize(_0x2ed4ff):_0x337f3e(0x68);dbConfig[_0x337f3e(0xc0)](_0x337f3e(0x66))[_0x337f3e(0x77)]({'botID':botID})[_0x337f3e(0x7f)]({'exchange':_0xefaea1})[_0x337f3e(0x11d)]();}}let _0xe9f23f=dbPerformance[_0x337f3e(0xc0)]('version')[_0x337f3e(0x16f)]();isOlderVersion(_0xe9f23f,_0x337f3e(0xf7))&&setStartDatePerformance();let _0x515719=dbCoinResults['get'](_0x337f3e(0x13a))[_0x337f3e(0x16f)]();if(isOlderVersion(_0x515719,'2.5.0')){let _0x184809=dbCoinResults['get'](_0x337f3e(0xb6))[_0x337f3e(0x16f)]();if(_0x184809[_0x337f3e(0x1b1)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0xbb6464=_0xd38532;dbConfig[_0xbb6464(0x11f)]('version',serverversion)[_0xbb6464(0x11d)](),dbPerformance[_0xbb6464(0x11f)](_0xbb6464(0x13a),serverversion)[_0xbb6464(0x11d)](),dbLogs[_0xbb6464(0x11f)](_0xbb6464(0x13a),serverversion)[_0xbb6464(0x11d)](),dbCoinResults['set'](_0xbb6464(0x13a),serverversion)[_0xbb6464(0x11d)]();}function getConfiguration(_0x1418b4){const _0x3ace95=_0xd38532;let _0x16bffa=dbConfig['get']('bot')[_0x3ace95(0x77)]({'botID':_0x1418b4})[_0x3ace95(0x16f)]();if(_0x16bffa){let _0x1ee442=![];typeof _0x16bffa[_0x3ace95(0xed)]==_0x3ace95(0xb7)&&(_0x16bffa={..._0x16bffa,'threshold':Number(_0x16bffa[_0x3ace95(0xed)])},_0x1ee442=!![]),_0x16bffa[_0x3ace95(0x100)]==null&&(_0x16bffa={..._0x16bffa,'change24h':-0x14},_0x1ee442=!![]),!_0x16bffa[_0x3ace95(0xc3)]&&(_0x16bffa={..._0x16bffa,'fiat':_0x3ace95(0x116)},_0x1ee442=!![]),!_0x16bffa[_0x3ace95(0x1e3)]&&(_0x16bffa={..._0x16bffa,'onepagemode':settings[_0x3ace95(0x1e3)]},_0x1ee442=!![]),!_0x16bffa[_0x3ace95(0x18a)]&&(_0x16bffa={..._0x16bffa,'colorscheme':_0x3ace95(0x120)},_0x1ee442=!![]),!_0x16bffa['autoliquidity']&&(_0x16bffa={..._0x16bffa,'autoliquidity':!![]},_0x1ee442=!![]),_0x1ee442&&(_0x16bffa={'botID':_0x16bffa[_0x3ace95(0x76)],'exchange':_0x16bffa[_0x3ace95(0x18e)],'apiKey':_0x16bffa[_0x3ace95(0x1ee)],'apiSecret':_0x16bffa[_0x3ace95(0x127)],'apiPassword':_0x16bffa['apiPassword'],'basecoin':_0x16bffa[_0x3ace95(0x88)],'botname':_0x16bffa[_0x3ace95(0x13e)],'showname':_0x16bffa['showname'],'threshold':_0x16bffa[_0x3ace95(0xed)],'ordertype':_0x16bffa['ordertype'],'timeout':_0x16bffa['timeout'],'fiat':_0x16bffa['fiat'],'startdate':_0x16bffa[_0x3ace95(0x16b)],'recreate':_0x16bffa['recreate'],'timeshift':_0x16bffa[_0x3ace95(0x137)],'onepagemode':_0x16bffa['onepagemode'],'headless':_0x16bffa['headless'],'cooldown':_0x16bffa['cooldown'],'change24h':_0x16bffa[_0x3ace95(0x100)],'emojibuy':_0x16bffa[_0x3ace95(0xf3)],'emojisell':_0x16bffa[_0x3ace95(0x12d)],'colorscheme':_0x16bffa[_0x3ace95(0x18a)],'portfolio':_0x16bffa[_0x3ace95(0x8f)],'autoliquidity':_0x16bffa[_0x3ace95(0x1ed)],'liquidity':_0x16bffa[_0x3ace95(0x10f)],'openOrders':_0x16bffa[_0x3ace95(0xd2)]},dbConfig[_0x3ace95(0xc0)]('bot')[_0x3ace95(0xda)]()[_0x3ace95(0x11d)](),dbConfig['get']('bot')[_0x3ace95(0x103)](_0x16bffa)['write']());}else _0x16bffa={'botID':_0x1418b4,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x1418b4,'showname':![],'threshold':0x3,'ordertype':_0x3ace95(0x133),'timeout':0x14,'fiat':_0x3ace95(0x116),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x3ace95(0x1e3)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x3ace95(0x120),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x16bffa;}function emittedConfiguration(){const _0x528c4e=_0xd38532;let _0x4ce3ff;if(config[_0x528c4e(0x1ee)]=='')_0x4ce3ff={...config,'configstate':_0x528c4e(0xf0)};else config[_0x528c4e(0x1ee)]=='***'?_0x4ce3ff={...config,'configstate':_0x528c4e(0x1ac)}:(_0x4ce3ff={...config,'apiKey':'************','apiSecret':_0x528c4e(0xb4)},config['apiPassword']&&(_0x4ce3ff[_0x528c4e(0xc7)]=_0x528c4e(0xb4)));return _0x4ce3ff;}function getSettings(){const _0x51e0b0=_0xd38532;return dbSettings[_0x51e0b0(0xc0)](_0x51e0b0(0xae))[_0x51e0b0(0x16f)]();}function getSecure(){const _0x2bd066=_0xd38532;return dbSecure[_0x2bd066(0xc0)]('secure')['value']()||{};}function updateTimeshift(_0x572b4b){const _0x4ddd98=_0xd38532;let _0x1d64f6=dbConfig[_0x4ddd98(0xc0)](_0x4ddd98(0x66))[_0x4ddd98(0x77)]({'botID':botID})['value']();_0x1d64f6&&dbConfig['get'](_0x4ddd98(0x66))[_0x4ddd98(0x77)]({'botID':botID})[_0x4ddd98(0x7f)]({'timeshift':_0x572b4b})['write'](),config['timeshift']=_0x572b4b,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0xa201c8){const _0x311bca=_0xd38532;let _0x496f6a=dbConfig[_0x311bca(0xc0)](_0x311bca(0x66))[_0x311bca(0x77)]({'botID':botID})[_0x311bca(0x16f)]();_0x496f6a&&dbConfig['get']('bot')[_0x311bca(0x77)]({'botID':botID})[_0x311bca(0x7f)]({'onepagemode':_0xa201c8})[_0x311bca(0x11d)](),config[_0x311bca(0x1e3)]=_0xa201c8,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x5d5523){const _0x3863fe=_0xd38532;logger['debug'](_0x3863fe(0x72));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x3863fe(0x1c2)](_0x3863fe(0x158));let _0x314b57=[],_0x26b89b=![],_0x16b53d=![],_0x271a04=[];_0x5d5523[_0x3863fe(0x8f)]['forEach'](_0x4d5236=>{const _0x4a8b34=_0x3863fe;if(!_0x4d5236[_0x4a8b34(0x1b5)]&&_0x4d5236[_0x4a8b34(0x140)]!=_0x5d5523[_0x4a8b34(0x88)])_0x271a04['push'](_0x4d5236[_0x4a8b34(0x11c)]);}),_0x271a04[_0x3863fe(0xa4)](_0x3145b7=>{const _0x20512d=_0x3863fe,_0x35833c=watchedSymbols[_0x20512d(0x84)](_0x3145b7);!_0x35833c&&_0x314b57[_0x20512d(0x103)](_0x3145b7);}),_0x271a04[_0x3863fe(0xa4)](_0x8fc0a6=>{const _0x818d91=_0x3863fe,_0x239e64=currentCoins[_0x818d91(0x77)](_0x168bbc=>_0x168bbc[_0x818d91(0x11c)]==_0x8fc0a6);!_0x239e64&&(_0x26b89b=!![]);}),currentCoins['forEach'](_0x13ae72=>{const _0x4eea9a=_0x3863fe;if(_0x13ae72[_0x4eea9a(0x140)]!=config[_0x4eea9a(0x88)]){const _0x5ea38d=_0x271a04[_0x4eea9a(0x77)](_0x54a1ec=>_0x54a1ec==_0x13ae72['symbol']);!_0x5ea38d&&(_0x26b89b=!![]);}}),_0x5d5523[_0x3863fe(0x8f)][_0x3863fe(0xa4)](_0x5c8737=>{const _0x16e490=_0x3863fe,_0x5616a7=config[_0x16e490(0x8f)][_0x16e490(0x77)](_0x46a350=>_0x46a350[_0x16e490(0x140)]==_0x5c8737[_0x16e490(0x140)]);if(_0x5616a7&&_0x5c8737[_0x16e490(0x130)]!=_0x5616a7[_0x16e490(0x130)])_0x16b53d=!![];});let _0x486829=dbConfig[_0x3863fe(0xc0)](_0x3863fe(0x66))['find']({'botID':botID})[_0x3863fe(0x16f)]();_0x5d5523={..._0x5d5523,'apiKey':crypt[_0x3863fe(0xc1)](secure[_0x3863fe(0x121)],_0x5d5523[_0x3863fe(0x1ee)])['message'],'apiSecret':crypt[_0x3863fe(0xc1)](secure[_0x3863fe(0x121)],_0x5d5523[_0x3863fe(0x127)])[_0x3863fe(0x6c)]};_0x5d5523[_0x3863fe(0xc7)]&&(_0x5d5523[_0x3863fe(0xc7)]=crypt['decrypt'](secure[_0x3863fe(0x121)],_0x5d5523['apiPassword'])[_0x3863fe(0x6c)]);let _0x3760ce=![];if(_0x486829){_0x5d5523[_0x3863fe(0x1ee)]==_0x3863fe(0xb4)?_0x5d5523['apiKey']=config[_0x3863fe(0x1ee)]:_0x3760ce=!![];_0x5d5523[_0x3863fe(0x127)]==_0x3863fe(0xb4)?_0x5d5523[_0x3863fe(0x127)]=config['apiSecret']:_0x3760ce=!![];if(_0x5d5523['apiPassword']==_0x3863fe(0xb4))_0x5d5523['apiPassword']=config['apiPassword'];else{if(_0x5d5523[_0x3863fe(0xc7)])_0x3760ce=!![];}dbConfig[_0x3863fe(0xc0)](_0x3863fe(0x66))['find']({'botID':botID})[_0x3863fe(0x7f)](_0x5d5523)['write']();}else dbConfig['get'](_0x3863fe(0x66))[_0x3863fe(0x103)](_0x5d5523)[_0x3863fe(0x11d)](),_0x3760ce=!![],process[_0x3863fe(0x1ae)]({'status':_0x3863fe(0x6d),'live':_0x3863fe(0x11a)},_0x38d131=>{});process[_0x3863fe(0x1ae)]({'botname':_0x5d5523[_0x3863fe(0x13e)]},_0x3910ce=>{}),updateBotManager(),config={..._0x5d5523},proxyEmit(_0x3863fe(0x14e)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3760ce)await reset(_0x314b57,!![]);else _0x26b89b||_0x16b53d?await reset(_0x314b57,![]):getBalances();blockTransactionDetection=![],logger[_0x3863fe(0x1c2)](_0x3863fe(0x193));}async function storeHeadless(_0x364870){const _0x375a06=_0xd38532,_0x15ed65={...config,'headless':_0x364870[_0x375a06(0x96)]};let _0x2ac845=dbConfig[_0x375a06(0xc0)](_0x375a06(0x66))[_0x375a06(0x77)]({'botID':botID})[_0x375a06(0x16f)]();_0x2ac845&&dbConfig['get']('bot')['find']({'botID':botID})[_0x375a06(0x7f)](_0x15ed65)[_0x375a06(0x11d)](),config={..._0x15ed65},updateBotManager(),proxyEmit(_0x375a06(0x1b7),emittedConfiguration());}async function storeFiat(_0x28a420){const _0x5bf80f=_0xd38532,_0x11372d={...config,'fiat':_0x28a420};let _0x3e8c1b=dbConfig['get'](_0x5bf80f(0x66))[_0x5bf80f(0x77)]({'botID':botID})[_0x5bf80f(0x16f)]();_0x3e8c1b&&dbConfig[_0x5bf80f(0xc0)](_0x5bf80f(0x66))[_0x5bf80f(0x77)]({'botID':botID})[_0x5bf80f(0x7f)](_0x11372d)[_0x5bf80f(0x11d)](),config={..._0x11372d},proxyEmit(_0x5bf80f(0x1b7),emittedConfiguration());}function resetHistory(){const _0x3861cf=_0xd38532;logger[_0x3861cf(0x128)](_0x3861cf(0x1b0));try{if(fs[_0x3861cf(0x132)](path[_0x3861cf(0x8c)](configpath,'bot-'+botID+_0x3861cf(0x1b9))))fs[_0x3861cf(0x1cf)](path[_0x3861cf(0x8c)](configpath,_0x3861cf(0x180)+botID+_0x3861cf(0x1b9)));if(fs[_0x3861cf(0x132)](path[_0x3861cf(0x8c)](configpath,'bot-'+botID+_0x3861cf(0x73))))fs[_0x3861cf(0x1cf)](path['join'](configpath,_0x3861cf(0x180)+botID+_0x3861cf(0x73)));if(fs[_0x3861cf(0x132)](path['join'](configpath,_0x3861cf(0x180)+botID+'-results.json')))fs['unlinkSync'](path['join'](configpath,'bot-'+botID+_0x3861cf(0x8a)));}catch(_0x4b3692){if(_0x4b3692)logger[_0x3861cf(0x128)](_0x3861cf(0x176),_0x4b3692);}const _0x3d3332=getDate();let _0x1fe17d=[];currentCoins[_0x3861cf(0xa4)](_0x4614ba=>{const _0x1683d6=_0x3861cf;_0x1fe17d[_0x1683d6(0x103)]({'coin':_0x4614ba[_0x1683d6(0x140)],'number':_0x4614ba[_0x1683d6(0x163)],'price':_0x4614ba[_0x1683d6(0xbe)]});});let _0xb798ac=dbConfig['get']('bot')[_0x3861cf(0x77)]({'botID':botID})['value']();_0xb798ac&&(dbConfig[_0x3861cf(0xc0)](_0x3861cf(0x66))['find']({'botID':botID})[_0x3861cf(0x7f)]({'liquidity':[{'date':_0x3d3332,'changes':_0x1fe17d}]})[_0x3861cf(0x11d)](),config[_0x3861cf(0x10f)]=[]),process[_0x3861cf(0x1ae)]({'stop':_0x3861cf(0xe3)},_0x1a6df4=>{});}function noslash(_0x5973f1){return _0x5973f1['replace']('/','');}function updateHighestFee(_0x1e13af,_0x517cb9){const _0x470a06=_0xd38532;lastFees[_0x470a06(0x119)]=_0x1e13af,lastFees[_0x470a06(0x129)][_0x470a06(0x1b1)]===0x14&&lastFees[_0x470a06(0x129)][_0x470a06(0x151)](),lastFees[_0x470a06(0x129)][_0x470a06(0x103)](_0x517cb9),lastFees['highest']=Math[_0x470a06(0x197)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x4e5b72){const _0x1281ed=_0xd38532;logger[_0x1281ed(0x1c2)](_0x1281ed(0xf6)+_0x4e5b72[_0x1281ed(0x11c)]+_0x1281ed(0x187)+_0x4e5b72[_0x1281ed(0xa5)]+'\x20|\x20'+_0x4e5b72['id']);let _0x395760=_0x4e5b72[_0x1281ed(0xa5)],_0xac0c84=![];currentCoins['forEach'](_0x1e530e=>{const _0x8103a1=_0x1281ed;_0x1e530e[_0x8103a1(0x11c)]==_0x4e5b72['symbol']&&(_0xac0c84=!![]);});if(!_0xac0c84)return;const _0x55a591=currentCoins['find'](_0x287578=>_0x287578[_0x1281ed(0x11c)]==_0x4e5b72[_0x1281ed(0x11c)]),_0x251789=_0x49e17c=>{if(_0x55a591)_0x55a591['orderstatus']=_0x49e17c;};if(_0x395760==_0x1281ed(0x7b))_0x251789(_0x1281ed(0x7b));else{if(_0x395760=='canceled'){_0x251789(_0x1281ed(0x85));const _0x2bd3e6=await getCoins();[currentCoins,currentCoinsAll]=_0x2bd3e6,await getOpenOrders(),handleOpenOrders();}else{if(_0x395760==_0x1281ed(0x9f)){logger['debug'](_0x1281ed(0x102)+_0x4e5b72[_0x1281ed(0x11c)]+'\x20|\x20'+_0x4e5b72['filled']+'\x20|\x20'+_0x4e5b72['id']);let _0x25285b=![];if(lastOrders)for(const _0x8bfd13 of lastOrders){const _0x566059=0xc8,_0x3bb688=0x1388;let _0x42e8a9=0x0;while(!_0x8bfd13[_0x1281ed(0x118)]&&_0x42e8a9*_0x566059<_0x3bb688){_0x42e8a9++,await sleep(_0x566059);}if(_0x42e8a9>0x0)logger[_0x1281ed(0x1c2)](_0x1281ed(0xab)+_0x42e8a9*_0x566059/0x3e8+_0x1281ed(0xd5));if(_0x8bfd13[_0x1281ed(0x118)]==_0x4e5b72['id']){logger['debug']('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x4e5b72['id']),_0x25285b=!![];if(_0x8bfd13[_0x1281ed(0x98)]==0x0){logger[_0x1281ed(0x1c2)](_0x1281ed(0xd4)+_0x4e5b72['id']);if(_0x4e5b72[_0x1281ed(0x114)])_0x8bfd13[_0x1281ed(0x1ec)]=_0x4e5b72[_0x1281ed(0x114)];else{if(_0x4e5b72['price'])_0x8bfd13[_0x1281ed(0x1ec)]=_0x4e5b72[_0x1281ed(0x1ec)];else{}}_0x8bfd13['filled']=_0x4e5b72[_0x1281ed(0x98)],_0x8bfd13[_0x1281ed(0x16d)]={'currency':_0x4e5b72[_0x1281ed(0x16d)]?_0x4e5b72[_0x1281ed(0x16d)]['currency']:null,'cost':_0x4e5b72[_0x1281ed(0x16d)]?_0x4e5b72[_0x1281ed(0x16d)][_0x1281ed(0xdd)]:0x0},updateHighestFee(_0x8bfd13[_0x1281ed(0x16d)][_0x1281ed(0x119)],_0x8bfd13['fee'][_0x1281ed(0xdd)]),_0x251789(_0x1281ed(0x98)),await validateOrders();if(lockOrders==ORDERS[_0x1281ed(0x1cc)]){const _0x3ee2b9=await getCoins();[currentCoins,currentCoinsAll]=_0x3ee2b9;}await updateCoinResults(_0x8bfd13);}}}if(!_0x25285b){logger[_0x1281ed(0x1c2)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x4e5b72['id']),_0x251789('filled');const _0x1654b0=await getCoins();[currentCoins,currentCoinsAll]=_0x1654b0,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x40f1b4=JSON['parse'](lastBalances[_0x1281ed(0x8f)]);const _0x3b1e5e=_0x40f1b4[_0x1281ed(0x77)](_0x42a7c2=>_0x42a7c2[_0x1281ed(0x11c)]==_0x4e5b72[_0x1281ed(0x11c)]);if(_0x3b1e5e){if(_0x395760=='open')_0x3b1e5e[_0x1281ed(0x15e)]=_0x3b1e5e[_0x1281ed(0x15e)]==_0x1281ed(0x98)?_0x1281ed(0x98):_0x1281ed(0x7b);else{if(_0x395760=='canceled')_0x3b1e5e[_0x1281ed(0x15e)]=_0x3b1e5e[_0x1281ed(0x15e)]==_0x1281ed(0x98)?'filled':_0x1281ed(0x85);else _0x395760==_0x1281ed(0x9f)&&(_0x3b1e5e['orderstatus']=_0x1281ed(0x98));}}lastBalances={...lastBalances,'portfolio':JSON[_0x1281ed(0x155)](_0x40f1b4)},proxyEmit(_0x1281ed(0x1a8),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x592580=_0xd38532;await getOpenOrders();let _0x445c1b=![];currentCoins[_0x592580(0xa4)](_0x24c081=>{const _0x3b1511=_0x592580;_0x445c1b=allOpenOrders[_0x3b1511(0x77)](_0x21ac6f=>_0x21ac6f[_0x3b1511(0x11c)]==_0x24c081[_0x3b1511(0x11c)]),_0x24c081['orderstatus']=_0x445c1b?_0x3b1511(0x7b):_0x3b1511(0x1de);});}async function getCoins(_0x1fd9c2=!![],_0x444839=config[_0xd38532(0x88)]){const _0x23a966=_0xd38532;let _0x3fe914,_0x58c2b1=[],_0x2211ef=[],_0x554ca9=[],_0x10f5a2=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x3fe914=await exchange[_0x23a966(0x1d8)](),mybalances=_0x3fe914['total'];for(const [_0xfa9bd7,_0x55bf12]of Object['entries'](mybalances)){_0x10f5a2[_0x23a966(0x103)](_0xfa9bd7);}if(_0x444839=='')for(const [_0x1fabf6,_0x97f8e6]of Object[_0x23a966(0x157)](mybalances)){_0x97f8e6!=0x0&&_0x2211ef[_0x23a966(0x103)]({'coin':_0x1fabf6});}else{let _0x55ac64=![];for(const [_0x675281,_0x4c067f]of Object['entries'](mybalances)){if(_0x10f5a2[_0x23a966(0x84)](_0x675281)){const _0x4829e4=config[_0x23a966(0x8f)][_0x23a966(0x77)](_0x568c58=>_0x568c58[_0x23a966(0x140)]==_0x675281),_0x561d42=_0x675281+'/'+_0x444839,_0x15e28f=_0x444839+'/'+_0x675281,_0x3017a8=currentCoins['find'](_0x185c3b=>_0x185c3b[_0x23a966(0x140)]==_0x675281);_0x55ac64=![];if((_0x4c067f!=0x0||_0x4829e4)&&(allSymbols[_0x23a966(0x84)](_0x561d42)||_0x675281==_0x444839))_0x675281!=_0x444839&&_0x58c2b1['push'](_0x561d42),_0x2211ef['push']({'coin':_0x675281,'symbol':_0x561d42,'reverse':![],'number':Math['max'](_0x4c067f+(_0x4829e4&&_0x4829e4[_0x23a966(0x130)]||0x0),0x0),'orderstatus':_0x3017a8?_0x3017a8[_0x23a966(0x15e)]:_0x23a966(0x1de)});else(_0x4c067f!=0x0||_0x4829e4)&&allSymbols[_0x23a966(0x84)](_0x15e28f)&&(_0x675281!=_0x444839&&_0x58c2b1[_0x23a966(0x103)](_0x15e28f),_0x2211ef[_0x23a966(0x103)]({'coin':_0x675281,'symbol':_0x15e28f,'reverse':!![],'number':Math[_0x23a966(0x197)](_0x4c067f+(_0x4829e4&&_0x4829e4['offset']||0x0),0x0),'orderstatus':_0x3017a8?_0x3017a8[_0x23a966(0x15e)]:_0x23a966(0x1de)}));}}}}catch(_0x40e315){if(!_0x1fd9c2)handleErrorNoStop(_0x40e315,_0x23a966(0x196));else await handleError(_0x40e315,_0x23a966(0x196));}return _0x554ca9=cloneDeep(_0x2211ef),_0x2211ef=_0x2211ef['filter'](_0x361c90=>{const _0x8b5187=_0x23a966,_0x3b2d37=config[_0x8b5187(0x8f)]['find'](_0x40a79c=>_0x40a79c[_0x8b5187(0x140)]==_0x361c90[_0x8b5187(0x140)]);return _0x3b2d37&&!_0x3b2d37[_0x8b5187(0x1b5)];}),[_0x2211ef,_0x554ca9];}async function getCoinNumber(_0x6caf33){const _0x4ee3d9=_0xd38532;let _0x39b5a3;try{const _0x509467=await exchange[_0x4ee3d9(0x1d8)]();_0x39b5a3=_0x509467[_0x4ee3d9(0x1f0)][_0x6caf33];}catch(_0x398dc5){await handleError(_0x398dc5,'getCoinNumber()');}return _0x39b5a3;}async function getOpenOrders(){const _0x4244c8=_0xd38532;let _0x5585b4;allOpenOrders=[];try{for(const _0x4f759d of config[_0x4244c8(0x8f)]){!_0x4f759d[_0x4244c8(0x1b5)]&&_0x4f759d[_0x4244c8(0x140)]!=config[_0x4244c8(0x88)]&&(_0x5585b4=await exchange[_0x4244c8(0xe5)](_0x4f759d[_0x4244c8(0x11c)]),_0x5585b4[_0x4244c8(0x1b1)]>0x0&&allOpenOrders[_0x4244c8(0x103)](_0x5585b4[0x0]));}}catch(_0x8d8c8a){await handleError(_0x8d8c8a,'getOpenOrders()');}}async function handleOpenOrders(_0x419044=0x0){const _0x5e3ac7=_0xd38532;allOpenOrders[_0x5e3ac7(0x1b1)]==0x0&&lockOrders==ORDERS[_0x5e3ac7(0x1cc)]&&allOrdersPlaced&&(_0x419044==0x0?(logger[_0x5e3ac7(0x1c2)]('1\x20-\x20Handle\x20open\x20orders'),_0x419044++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x5e3ac7(0x1c2)](_0x5e3ac7(0x7c)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x33ff4a){const _0x1afd13=_0xd38532,_0x2f130a=ccxt[_0x33ff4a[_0x1afd13(0x18e)][_0x1afd13(0x17a)]()],_0x3ef736=new _0x2f130a({'apiKey':_0x33ff4a['apiKey'],'secret':_0x33ff4a[_0x1afd13(0x127)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x1afd13(0x1e4)}});if(_0x33ff4a[_0x1afd13(0xc7)])_0x3ef736[_0x1afd13(0x167)]=_0x33ff4a[_0x1afd13(0xc7)];try{await _0x3ef736[_0x1afd13(0x199)]();}catch(_0x251c28){throw _0x251c28;}}function cloneDeep(_0x2a52c4){const _0x4ca6e7=_0xd38532;return JSON[_0x4ca6e7(0x191)](JSON[_0x4ca6e7(0x155)](_0x2a52c4));}function _0x15fd(_0x5ea0c7,_0x324e03){const _0x23a04e=_0x450b();return _0x15fd=function(_0x638c2a,_0x1a885a){_0x638c2a=_0x638c2a-0x65;let _0x450b68=_0x23a04e[_0x638c2a];return _0x450b68;},_0x15fd(_0x5ea0c7,_0x324e03);}async function getPortfolio(_0x1dcd17){const _0x17cd43=_0xd38532;let _0x158f21=[],_0x3a7090=[],_0x3a259c=[],_0x467515;if(_0x1dcd17[_0x17cd43(0x1ee)]!==_0x17cd43(0xb4)||_0x1dcd17[_0x17cd43(0x127)]!==_0x17cd43(0xb4)||_0x1dcd17[_0x17cd43(0xc7)]&&_0x1dcd17[_0x17cd43(0xc7)]!==_0x17cd43(0xb4)){if(config['exchange']){if(_0x1dcd17['apiKey']==_0x17cd43(0xb4))_0x1dcd17[_0x17cd43(0x1ee)]=config[_0x17cd43(0x1ee)];if(_0x1dcd17[_0x17cd43(0x127)]==_0x17cd43(0xb4))_0x1dcd17[_0x17cd43(0x127)]=config['apiSecret'];if(_0x1dcd17[_0x17cd43(0xc7)]==_0x17cd43(0xb4))_0x1dcd17[_0x17cd43(0xc7)]=config[_0x17cd43(0xc7)];try{await testAPI(_0x1dcd17);}catch(_0x2b1192){if(_0x2b1192[_0x17cd43(0x13f)]()['includes']('AuthenticationError')){logger[_0x17cd43(0x1c2)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit('portfolio',![]);return;}else{handleError(_0x2b1192,_0x17cd43(0x1a4));return;}}}await initExchange(_0x1dcd17['exchange'],_0x1dcd17['apiKey'],_0x1dcd17[_0x17cd43(0x127)],_0x1dcd17['apiPassword']);try{await loadSymbols(_0x1dcd17[_0x17cd43(0x18e)],!![]);}catch(_0x18472d){if(_0x18472d[_0x17cd43(0x13f)]()[_0x17cd43(0x84)](_0x17cd43(0x1d2))){proxyEmit('portfolio',![]);return;}else{handleError(_0x18472d,'getPortfolio(1)');return;}}const _0x3f9902=await getCoins(![],_0x1dcd17[_0x17cd43(0x88)]);_0x3a259c=cloneDeep(_0x3f9902[0x1]);}else _0x3a259c=cloneDeep(currentCoinsAll);if(_0x1dcd17[_0x17cd43(0x88)]=='')proxyEmit(_0x17cd43(0x8f),_0x3a259c);else{_0x3a259c[_0x17cd43(0xa4)](_0x1627aa=>{const _0xf05ba3=_0x17cd43;if(_0x1627aa[_0xf05ba3(0x140)]!=_0x1dcd17[_0xf05ba3(0x88)])_0x158f21[_0xf05ba3(0x103)](_0x1627aa[_0xf05ba3(0x11c)]);});try{_0x3a7090=await exchange[_0x17cd43(0x198)](_0x158f21);}catch(_0x4db83b){if(_0x4db83b[_0x17cd43(0x13f)]()[_0x17cd43(0x84)](_0x17cd43(0x1d2))){proxyEmit('portfolio',![]);return;}else{handleError(_0x4db83b,_0x17cd43(0x1ab));return;}}_0x3a259c[_0x17cd43(0xa4)](_0x5e96c6=>{const _0x9d911=_0x17cd43;_0x5e96c6['coin']!=_0x1dcd17['basecoin']?_0x467515=_0x5e96c6['reverse']?0x1/_0x3a7090[_0x5e96c6['symbol']][_0x9d911(0xbe)]:_0x3a7090[_0x5e96c6[_0x9d911(0x11c)]][_0x9d911(0xbe)]:_0x467515=0x1,_0x5e96c6[_0x9d911(0x1ec)]=formatResult(_0x467515,0x8);}),proxyEmit('portfolio',_0x3a259c);}}function truncateTradeAmount(_0x51e26d,_0x2f3052){const _0x5dbf27=_0xd38532;let _0x495e97=0x0;try{_0x495e97=exchange[_0x5dbf27(0xf2)](_0x51e26d,_0x2f3052);}catch(_0x207579){}return _0x495e97;}function checkMinimums(_0x3f76f3){const _0x2aa0a7=_0xd38532;let _0x435100=!![];const _0x598146=!_0x3f76f3[_0x2aa0a7(0x1cb)]?markets[_0x3f76f3[_0x2aa0a7(0x11c)]][_0x2aa0a7(0xce)][_0x2aa0a7(0x1b6)][_0x2aa0a7(0x185)]:markets[_0x3f76f3['symbol']][_0x2aa0a7(0xce)][_0x2aa0a7(0xdd)]['min'],_0x36a25c=!_0x3f76f3[_0x2aa0a7(0x1cb)]?markets[_0x3f76f3[_0x2aa0a7(0x11c)]][_0x2aa0a7(0xce)][_0x2aa0a7(0xdd)][_0x2aa0a7(0x185)]:markets[_0x3f76f3['symbol']][_0x2aa0a7(0xce)]['amount'][_0x2aa0a7(0x185)],_0x5951f8=truncateTradeAmount(_0x3f76f3['symbol'],_0x3f76f3[_0x2aa0a7(0x19f)]);_0x3f76f3[_0x2aa0a7(0x19f)]=_0x5951f8;if(Math['abs'](_0x5951f8)<_0x598146)_0x435100=![];if(Math[_0x2aa0a7(0xa3)](_0x5951f8)*_0x3f76f3[_0x2aa0a7(0xbe)]<_0x36a25c)_0x435100=![];if(_0x3f76f3['side']=='sell'){let _0xcbf7fd=config[_0x2aa0a7(0x8f)][_0x2aa0a7(0x77)](_0x55aff0=>_0x55aff0[_0x2aa0a7(0x140)]==_0x3f76f3[_0x2aa0a7(0x140)]);if(_0xcbf7fd[_0x2aa0a7(0x130)]>0x0){if(Math['abs'](_0x5951f8)>_0x3f76f3['number']-_0xcbf7fd[_0x2aa0a7(0x130)])_0x435100=![];}else{if(Math[_0x2aa0a7(0xa3)](_0x5951f8)>_0x3f76f3[_0x2aa0a7(0x163)])_0x435100=![];}}if(_0x3f76f3['side']=='buy'){let _0x1532ae=config[_0x2aa0a7(0x8f)][_0x2aa0a7(0x77)](_0x43d12e=>_0x43d12e['coin']==config[_0x2aa0a7(0x88)]),_0x1f46d9=currentCoins[_0x2aa0a7(0x77)](_0x1da86c=>_0x1da86c[_0x2aa0a7(0x140)]==config['basecoin']);if(_0x1532ae[_0x2aa0a7(0x130)]>0x0){if(Math[_0x2aa0a7(0xa3)](_0x5951f8)*_0x3f76f3['last']>_0x1f46d9[_0x2aa0a7(0x163)]-_0x1532ae[_0x2aa0a7(0x130)])_0x435100=![];}else{if(Math[_0x2aa0a7(0xa3)](_0x5951f8)*_0x3f76f3[_0x2aa0a7(0xbe)]>_0x1f46d9[_0x2aa0a7(0x163)])_0x435100=![];}}return _0x435100;}async function getBalances(_0x1b87ac=!![]){const _0x5db6b5=_0xd38532;let _0xde1cf2=0x0,_0x20fa4d;const _0x408c6a=config[_0x5db6b5(0xed)];if(config[_0x5db6b5(0x96)]&&config[_0x5db6b5(0x100)]<0x0)await validate24hChanges();currentCoins[_0x5db6b5(0xa4)](_0x24f91c=>{const _0xc14043=_0x5db6b5;if(_0x24f91c[_0xc14043(0x140)]!=config[_0xc14043(0x88)]){let _0x34939d=global[_0xc14043(0xc4)][noslash(_0x24f91c[_0xc14043(0x11c)])];_0x20fa4d=_0x24f91c[_0xc14043(0x1cb)]?0x1/_0x34939d:_0x34939d;}else _0x20fa4d=0x1;let _0xb81768=_0x24f91c[_0xc14043(0x163)]*_0x20fa4d;_0xde1cf2+=_0xb81768,_0x24f91c[_0xc14043(0xbe)]=formatResult(Number(_0x20fa4d),0x8),_0x24f91c[_0xc14043(0x16f)]=_0xb81768;}),currentCoins[_0x5db6b5(0xa4)](_0x3d9145=>{const _0x4a6ebe=_0x5db6b5;let _0x2197f9=config[_0x4a6ebe(0x8f)]['find'](_0x39d60b=>_0x39d60b['coin']==_0x3d9145[_0x4a6ebe(0x140)]),_0x255198=Number(_0x2197f9[_0x4a6ebe(0x93)]),_0x13d3ef=_0x3d9145[_0x4a6ebe(0x16f)]/_0xde1cf2*0x64,_0x2ff0b4=_0x255198*_0xde1cf2/0x64/_0x3d9145['last']-_0x3d9145['number'];_0x3d9145[_0x4a6ebe(0x93)]=formatResult(_0x13d3ef,0x3),_0x3d9145['target']=formatResult(_0x255198,0x3),_0x3d9145[_0x4a6ebe(0x19f)]=formatResult(_0x2ff0b4,0x8),_0x3d9145[_0x4a6ebe(0x7e)]='',_0x3d9145[_0x4a6ebe(0x15c)]=![];if(_0x3d9145[_0x4a6ebe(0x140)]!=config['basecoin']){if(_0x3d9145[_0x4a6ebe(0x93)]>_0x255198)_0x3d9145[_0x4a6ebe(0x7e)]=_0x4a6ebe(0x113),_0x3d9145[_0x4a6ebe(0x15c)]=checkMinimums(_0x3d9145);else _0x3d9145[_0x4a6ebe(0x93)]<_0x255198&&(_0x3d9145[_0x4a6ebe(0x7e)]=_0x4a6ebe(0x1eb),_0x3d9145[_0x4a6ebe(0x15c)]=checkMinimums(_0x3d9145));}_0x3d9145[_0x4a6ebe(0xe0)]=_0x3d9145['distribution']/_0x3d9145['target']-0x1;if(_0x3d9145['orderstatus']==_0x4a6ebe(0x98)||_0x3d9145['orderstatus']==_0x4a6ebe(0x85))_0x3d9145[_0x4a6ebe(0x15e)]=_0x4a6ebe(0x1de);}),currentCoins[_0x5db6b5(0xc6)]((_0x345392,_0x432f1c)=>_0x345392['delta']<_0x432f1c[_0x5db6b5(0xe0)]?0x1:_0x432f1c['delta']<_0x345392[_0x5db6b5(0xe0)]?-0x1:0x0);const _0x28620f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x28620f[_0x5db6b5(0x179)],'usd':_0x28620f[_0x5db6b5(0x125)],'portfolio':JSON[_0x5db6b5(0x155)](currentCoins),'threshold':_0x408c6a},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x1b87ac){if(config[_0x5db6b5(0x96)])headlessMode({'portfolio':currentCoins,'threshold':_0x408c6a});else{if(lockOrders==ORDERS[_0x5db6b5(0xa6)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x408c6a});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x4ef1e1=getNormalizedPerformance();getStartingBalances(_0x4ef1e1),emitPerformance(_0x4ef1e1);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x5225a4=getNormalizedPerformance();emitPerformance(_0x5225a4),getStartingBalances(_0x5225a4),logger[_0x5db6b5(0x1c2)](_0x5db6b5(0xf9));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x26f9b3=_0xd38532;if(!lastBalances)return;let _0x643ea9=[],_0x5ab5fb,_0x27d204=JSON['parse'](lastBalances[_0x26f9b3(0x8f)]);_0x27d204['sort']((_0x27d8de,_0x2b13fc)=>_0x27d8de[_0x26f9b3(0x140)]>_0x2b13fc[_0x26f9b3(0x140)]?0x1:_0x2b13fc[_0x26f9b3(0x140)]>_0x27d8de['coin']?-0x1:0x0),_0x27d204[_0x26f9b3(0xa4)](_0x536af3=>{const _0x28b6aa=_0x26f9b3;let _0x45811f={'coin':_0x536af3[_0x28b6aa(0x140)],'number':_0x536af3[_0x28b6aa(0x163)],'price':_0x536af3[_0x28b6aa(0xbe)]};_0x643ea9[_0x28b6aa(0x103)](_0x45811f);});const _0x500fb6=await getFiat();_0x5ab5fb={'date':lastBalances[_0x26f9b3(0xa7)][_0x26f9b3(0x10e)]('\x20')[0x0],'eur':_0x500fb6['eur'],'usd':_0x500fb6[_0x26f9b3(0x125)],'coins':_0x643ea9};let _0x14cca7=dbPerformance[_0x26f9b3(0xc0)]('data')['find']({'date':_0x5ab5fb[_0x26f9b3(0xa8)]})['value']();_0x14cca7?_0x5ab5fb[_0x26f9b3(0xa8)]!=config[_0x26f9b3(0x16b)]&&dbPerformance['get']('data')[_0x26f9b3(0x77)]({'date':_0x5ab5fb[_0x26f9b3(0xa8)]})[_0x26f9b3(0x7f)](_0x5ab5fb)[_0x26f9b3(0x11d)]():dbPerformance[_0x26f9b3(0xc0)](_0x26f9b3(0x97))[_0x26f9b3(0x103)](_0x5ab5fb)[_0x26f9b3(0x11d)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4611f4=_0xd38532;let _0xe3b313=[];if(dbPerformance[_0x4611f4(0x182)](_0x4611f4(0x97))[_0x4611f4(0x16f)]()){let _0x3be3c0=dbPerformance[_0x4611f4(0xc0)](_0x4611f4(0x97))['cloneDeep']()[_0x4611f4(0x19d)](_0x5c0673=>{const _0x48cf5c=_0x4611f4;if(_0x5c0673[_0x48cf5c(0xb6)]['length']==0x0)return![];else return!![];})['sortBy'](_0x4611f4(0xa8))[_0x4611f4(0x16f)](),_0x4de0db=[...config['liquidity']];_0x4de0db[_0x4611f4(0xc6)]((_0xa5c754,_0x54f5dd)=>_0xa5c754[_0x4611f4(0xa8)]>_0x54f5dd['date']?-0x1:_0x54f5dd['date']>_0xa5c754['date']?0x1:0x0);let _0x3bd9ea=0x1,_0x38309d=[],_0x29470b=0x0;_0x3be3c0['slice']()['reverse']()[_0x4611f4(0xa4)]((_0x2a88a0,_0x6514f4)=>{const _0x1db6e2=_0x4611f4;if(_0x4de0db[_0x29470b]){if(_0x3be3c0[_0x3be3c0[_0x1db6e2(0x1b1)]-_0x6514f4]&&_0x4de0db[_0x29470b][_0x1db6e2(0xa8)]==_0x3be3c0[_0x3be3c0['length']-_0x6514f4][_0x1db6e2(0xa8)]){if(_0x6514f4<_0x3be3c0[_0x1db6e2(0x1b1)]){let _0x7c68b5=0x0,_0x2b9d75=0x0;_0x3be3c0[_0x3be3c0[_0x1db6e2(0x1b1)]-_0x6514f4][_0x1db6e2(0xb6)][_0x1db6e2(0xa4)](_0x499791=>{const _0x1695fb=_0x1db6e2;_0x2b9d75+=_0x499791[_0x1695fb(0x163)]*_0x499791[_0x1695fb(0x1ec)];}),_0x4de0db[_0x29470b][_0x1db6e2(0x94)][_0x1db6e2(0xa4)](_0x30c150=>{const _0x49dc66=_0x1db6e2;_0x7c68b5+=_0x30c150['number']*_0x30c150[_0x49dc66(0x1ec)];}),_0x3bd9ea*=_0x7c68b5/(_0x2b9d75-_0x7c68b5)+0x1;}_0x29470b++;}}let _0x1640a6=0x0;_0x2a88a0[_0x1db6e2(0xb6)][_0x1db6e2(0xa4)](_0x402aaf=>{const _0x5568aa=_0x1db6e2;_0x1640a6+=_0x402aaf[_0x5568aa(0x163)]*_0x402aaf[_0x5568aa(0x1ec)];}),_0x38309d[_0x3be3c0[_0x1db6e2(0x1b1)]-_0x6514f4-0x1]=_0x1640a6*(_0x3bd9ea-0x1);});let _0x48d5ca=[];_0x4de0db=[...config[_0x4611f4(0x10f)]]||[];let _0x346d44=0x0;_0x29470b=0x0,_0x3be3c0[_0x4611f4(0xa4)]((_0x1f4b69,_0x5ef3d0)=>{const _0x43ae0f=_0x4611f4;if(_0x4de0db[_0x29470b]){const _0x23c179=fns[_0x43ae0f(0x191)](_0x4de0db[_0x29470b]['date'],'yyyy/MM/dd',new Date()),_0x41bb8c=fns[_0x43ae0f(0x191)](_0x1f4b69['date'],'yyyy/MM/dd',new Date());if(fns[_0x43ae0f(0x7a)](_0x23c179,_0x41bb8c)){let _0x3a15cb=0x0;_0x4de0db[_0x29470b][_0x43ae0f(0x94)][_0x43ae0f(0xa4)](_0x24542d=>{const _0x498b52=_0x43ae0f;!_0x48d5ca[_0x24542d['coin']]?_0x48d5ca[_0x24542d[_0x498b52(0x140)]]=_0x24542d['number']:(_0x3a15cb=_0x48d5ca[_0x24542d[_0x498b52(0x140)]],_0x48d5ca[_0x24542d[_0x498b52(0x140)]]+=_0x24542d[_0x498b52(0x163)]);const _0x551d7f=_0x1f4b69[_0x498b52(0xb6)][_0x498b52(0x77)](_0x122cd4=>_0x122cd4[_0x498b52(0x140)]==_0x24542d['coin']);(!_0x551d7f||_0x551d7f['number']==0x0)&&(_0x346d44+=(-_0x24542d['number']-_0x3a15cb)*_0x24542d[_0x498b52(0x1ec)]);}),_0x29470b++;}}_0x1f4b69['coins'][_0x43ae0f(0xa4)]((_0x3ddb6,_0x43ab0f)=>{const _0x24b2e1=_0x43ae0f;_0x48d5ca[_0x3ddb6[_0x24b2e1(0x140)]]&&(_0x3ddb6['initial']=_0x48d5ca[_0x3ddb6[_0x24b2e1(0x140)]]);}),_0xe3b313[_0x43ae0f(0x103)]({'date':_0x1f4b69[_0x43ae0f(0xa8)],'eur':_0x1f4b69[_0x43ae0f(0x179)],'usd':_0x1f4b69[_0x43ae0f(0x125)],'offset':_0x38309d[_0x5ef3d0],'netoffset':_0x346d44,'coins':_0x1f4b69['coins']});});}return _0xe3b313;}function emitPerformance(_0x54b143){const _0x5f44eb=_0xd38532;_0x54b143['length']!==0x0?(proxyEmit(_0x5f44eb(0x106),_0x54b143),lastPerformanceEmitted=getDate()):proxyEmit(_0x5f44eb(0x106),[]);}function getPerf(_0x368b2d,_0x28a21e){const _0x1fdad2=_0xd38532;let _0x5c25e9=0x0,_0x1f44e0=0x0,_0x4e47e3=0x0;_0x368b2d[_0x1fdad2(0xb6)][_0x1fdad2(0xa4)](_0xa137f0=>{const _0x2d0863=_0x1fdad2;_0x5c25e9+=_0xa137f0[_0x2d0863(0x163)]*_0xa137f0[_0x2d0863(0x1ec)];});_0x28a21e&&(_0x5c25e9+=_0x368b2d[_0x1fdad2(0x130)]);if(config[_0x1fdad2(0x88)]===_0x1fdad2(0x192)||config[_0x1fdad2(0x88)]===_0x1fdad2(0x124))_0x1f44e0=_0x5c25e9*_0x368b2d['eur'],_0x4e47e3=_0x5c25e9*_0x368b2d[_0x1fdad2(0x125)];else{if(usdBasecoins[_0x1fdad2(0x84)](config[_0x1fdad2(0x88)]))_0x1f44e0=_0x5c25e9*_0x368b2d[_0x1fdad2(0x179)]/_0x368b2d['usd'],_0x4e47e3=_0x5c25e9;else config['basecoin']===_0x1fdad2(0x108)&&(_0x1f44e0=_0x5c25e9,_0x4e47e3=_0x5c25e9*_0x368b2d[_0x1fdad2(0x125)]/_0x368b2d[_0x1fdad2(0x179)]);}return[_0x5c25e9,_0x1f44e0,_0x4e47e3];}function getKPIs(_0x1e7bae,_0x1fe595=_0xd38532(0x108)){const _0x28c7c2=_0xd38532,_0x4d5e76=config[_0x28c7c2(0x88)],_0x4b42cd=lastBalances,_0x5b8c51=currentCoins,_0x3db407=getNormalizedPerformance(),_0x560b6a=_0x1e7bae===_0x28c7c2(0x88)?_0x4d5e76:_0x1e7bae===_0x28c7c2(0xc3)||_0x1e7bae===_0x28c7c2(0x17b)?_0x1fe595:'Net\x20'+_0x4d5e76,_0x272dfd=_0x1e7bae==='net-basecoin'?_0x28c7c2(0x135):_0x1e7bae===_0x28c7c2(0x17b)?'Net\x20effect':_0x560b6a+_0x28c7c2(0x16e),_0x2a75e5=_0x1e7bae===_0x28c7c2(0x1bf)||_0x1e7bae==='net-fiat'?_0x28c7c2(0x135):_0x560b6a+'\x20change';let _0x5c1f60=0x0;_0x5b8c51[_0x28c7c2(0xa4)](_0x304565=>{const _0x362f26=_0x28c7c2;_0x5c1f60+=_0x304565['number']*_0x304565[_0x362f26(0xbe)];});if(_0x1e7bae===_0x28c7c2(0xc3)||_0x1e7bae===_0x28c7c2(0x17b)){if(_0x4d5e76===_0x28c7c2(0x192)||_0x4d5e76===_0x28c7c2(0x124))_0x5c1f60=_0x5c1f60*(_0x1fe595==='EUR'?_0x4b42cd[_0x28c7c2(0x179)]:_0x4b42cd['usd']);else{if(usdBasecoins[_0x28c7c2(0x84)](_0x4d5e76))_0x5c1f60=_0x5c1f60*(_0x1fe595==='EUR'?_0x4b42cd[_0x28c7c2(0x179)]/_0x4b42cd[_0x28c7c2(0x125)]:0x1);else _0x4d5e76===_0x28c7c2(0x108)&&(_0x5c1f60=_0x5c1f60*(_0x1fe595===_0x28c7c2(0x108)?0x1:_0x4b42cd[_0x28c7c2(0x125)]/_0x4b42cd[_0x28c7c2(0x179)]));}}let _0x45e714;if(_0x5c1f60!==0x0){if(_0x1e7bae===_0x28c7c2(0x88))_0x45e714=(_0x5c1f60/startingBalances['basecoin']-0x1)*0x64;else{if(_0x1fe595===_0x28c7c2(0x108))_0x45e714=(_0x5c1f60/startingBalances[_0x28c7c2(0x179)]-0x1)*0x64;else _0x45e714=(_0x5c1f60/startingBalances[_0x28c7c2(0x125)]-0x1)*0x64;}let _0x54f0e8=0x0;if(startingBalances[_0x28c7c2(0xb6)])_0x5b8c51['forEach'](_0x652eeb=>{const _0x228799=_0x28c7c2;let _0xb68c2c=startingBalances[_0x228799(0xb6)]['find'](_0x5656d3=>_0x5656d3[_0x228799(0x140)]===_0x652eeb[_0x228799(0x140)]);if(_0xb68c2c&&_0xb68c2c[_0x228799(0x140)]&&_0x652eeb[_0x228799(0x163)]!==0x0)_0x54f0e8+=_0xb68c2c[_0x228799(0x163)]*_0x652eeb['last'];});let _0x13813d=0x0;if(_0x3db407[_0x28c7c2(0x1b1)]!==0x0){let _0x2346c0=_0x3db407[_0x3db407[_0x28c7c2(0x1b1)]-0x1];_0x13813d=_0x2346c0['netoffset'];}_0x54f0e8-=_0x13813d;_0x1e7bae==='net-basecoin'&&(_0x45e714=(_0x5c1f60-_0x54f0e8)/startingBalances[_0x28c7c2(0x88)]*0x64,_0x5c1f60=_0x5c1f60-_0x54f0e8);if(_0x1e7bae===_0x28c7c2(0x17b)){let _0x543104=_0x1fe595===_0x28c7c2(0x108)?startingBalances[_0x28c7c2(0x179)]:startingBalances[_0x28c7c2(0x125)];if(_0x4d5e76===_0x28c7c2(0x192)||_0x4d5e76===_0x28c7c2(0x124))_0x54f0e8=_0x1fe595==='EUR'?_0x54f0e8*_0x4b42cd[_0x28c7c2(0x179)]:_0x54f0e8*_0x4b42cd[_0x28c7c2(0x125)];else{if(usdBasecoins['includes'](_0x4d5e76))_0x54f0e8=_0x1fe595===_0x28c7c2(0x108)?_0x54f0e8*_0x4b42cd['eur']/_0x4b42cd[_0x28c7c2(0x125)]:_0x54f0e8;else _0x4d5e76==='EUR'&&(_0x54f0e8=_0x1fe595===_0x28c7c2(0x108)?_0x54f0e8:_0x54f0e8*_0x4b42cd[_0x28c7c2(0x125)]/_0x4b42cd[_0x28c7c2(0x179)]);}_0x45e714=(_0x5c1f60-_0x54f0e8)/_0x543104*0x64,_0x5c1f60=_0x5c1f60-_0x54f0e8;}if(_0x45e714){if(_0x45e714<0x64)_0x45e714=_0x45e714[_0x28c7c2(0x165)](0x2);else{if(_0x45e714<0x3e8)_0x45e714=_0x45e714[_0x28c7c2(0x165)](0x1);else _0x45e714=_0x45e714[_0x28c7c2(0x165)](0x0);}}else _0x45e714=Number('0')[_0x28c7c2(0x165)](0x2);if(_0x5c1f60){if(Math[_0x28c7c2(0xa3)](_0x5c1f60)<0.000001)_0x5c1f60=_0x5c1f60['toFixed'](0x2);else{if(Math[_0x28c7c2(0xa3)](_0x5c1f60)<0.1)_0x5c1f60=_0x5c1f60[_0x28c7c2(0x165)](0x6);else{if(Math['abs'](_0x5c1f60)<0x1)_0x5c1f60=_0x5c1f60[_0x28c7c2(0x165)](0x5);else{if(Math[_0x28c7c2(0xa3)](_0x5c1f60)<0xa)_0x5c1f60=_0x5c1f60['toFixed'](0x4);else{if(Math[_0x28c7c2(0xa3)](_0x5c1f60)<0x64)_0x5c1f60=_0x5c1f60[_0x28c7c2(0x165)](0x3);else{if(Math[_0x28c7c2(0xa3)](_0x5c1f60)<0x3e8)_0x5c1f60=_0x5c1f60[_0x28c7c2(0x165)](0x2);else _0x5c1f60=_0x5c1f60[_0x28c7c2(0x165)](0x2);}}}}}}else _0x5c1f60=Number('0')[_0x28c7c2(0x165)](0x2);}else _0x45e714=Number('0')[_0x28c7c2(0x165)](0x2);return{'value':_0x5c1f60,'change':_0x45e714,'leftTxt':_0x272dfd,'rightTxt':_0x2a75e5};}async function getStartingBalances(_0xe3b1ac,_0x1ee02d=!![]){const _0x4012a7=_0xd38532;if(_0xe3b1ac['length']!==0x0){const [_0x5f0a2b,_0x9969b8,_0x5f14c1]=getPerf(_0xe3b1ac[0x0],!![]);let _0x209152=[];config['portfolio'][_0x4012a7(0xa4)](_0x43751d=>{const _0x24cb3f=_0x4012a7;let _0x484b0a=0x0,_0x1d68cd;config[_0x24cb3f(0x10f)][_0x24cb3f(0xa4)](_0x3c8ca1=>{const _0x5abe4c=_0x24cb3f;let _0x26554e=_0x3c8ca1[_0x5abe4c(0x94)]['find'](_0x4abcb2=>_0x4abcb2[_0x5abe4c(0x140)]==_0x43751d['coin']);if(_0x26554e){_0x484b0a+=_0x26554e[_0x5abe4c(0x163)];if(!_0x1d68cd)_0x1d68cd=_0x26554e['price'];}}),_0x209152['push']({'coin':_0x43751d[_0x24cb3f(0x140)],'number':_0x484b0a,'initialprice':_0x1d68cd});});const _0x5cc878={'basecoin':_0x5f0a2b,'eur':_0x9969b8,'usd':_0x5f14c1,'coins':_0x209152};if(_0x1ee02d)proxyEmit(_0x4012a7(0x1a0),_0x5cc878);startingBalances=_0x5cc878;}}function headlessMode(_0x941be8){const _0x51b6d3=_0xd38532;let _0x5ee3b5=_0x941be8[_0x51b6d3(0x8f)],_0x4e85a8=_0x941be8[_0x51b6d3(0xed)],_0x4be09c=[];for(let _0x121a2a of _0x5ee3b5){if(_0x121a2a[_0x51b6d3(0x140)]!=config[_0x51b6d3(0x88)]){if(_0x121a2a['delta']>=_0x4e85a8/0x64){if(_0x121a2a[_0x51b6d3(0x15c)])_0x4be09c[_0x51b6d3(0x103)](_0x121a2a);}else{if(_0x121a2a[_0x51b6d3(0xe0)]<=-_0x4e85a8/0x64){if(_0x121a2a[_0x51b6d3(0x15c)])_0x4be09c[_0x51b6d3(0x103)](_0x121a2a);}}}}_0x4be09c[_0x51b6d3(0x1b1)]>0x0&&placeOrder(_0x4be09c);}function notifyBalance(_0x33840a){const _0x16c4e5=_0xd38532;let _0x318d65=_0x33840a[_0x16c4e5(0x8f)],_0x46cab2=_0x33840a[_0x16c4e5(0xed)],_0x585cfe=[];for(let _0x28a2f7 of _0x318d65){if(_0x28a2f7[_0x16c4e5(0x140)]!=config[_0x16c4e5(0x88)]){if(_0x28a2f7[_0x16c4e5(0xe0)]>=_0x46cab2/0x64){if(_0x28a2f7[_0x16c4e5(0x15c)])_0x585cfe[_0x16c4e5(0x103)](_0x28a2f7);}else{if(_0x28a2f7[_0x16c4e5(0xe0)]<=-_0x46cab2/0x64){if(_0x28a2f7[_0x16c4e5(0x15c)])_0x585cfe[_0x16c4e5(0x103)](_0x28a2f7);}}}}if(_0x585cfe[_0x16c4e5(0x1b1)]>0x0){let _0x33f183=_0x585cfe[_0x16c4e5(0x195)](_0xd2269e=>_0xd2269e['coin']);_0x33f183[_0x16c4e5(0xc6)]();let _0x5f2473=_0x33f183[_0x16c4e5(0x8c)](',\x20');if(!lastCoinsToBalance)logHistory(_0x16c4e5(0x105),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x5f2473;}}function symbolToCoin(_0x412b97){const _0x1597bc=_0xd38532;let _0x4af7b5;if(_0x412b97[_0x1597bc(0x84)]('/'+config['basecoin']))_0x4af7b5=_0x412b97['replace']('/'+config[_0x1597bc(0x88)],'');if(_0x412b97[_0x1597bc(0x84)](config[_0x1597bc(0x88)]+'/'))_0x4af7b5=_0x412b97[_0x1597bc(0x1ef)](config[_0x1597bc(0x88)]+'/','');return _0x4af7b5;}async function unlockOrders(){const _0x4f43d0=_0xd38532;if(allOrdersPlaced&&lockOrders==ORDERS[_0x4f43d0(0x1cc)]){logger[_0x4f43d0(0x1c2)](_0x4f43d0(0xfe)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x380478=await getCoins();[currentCoins,currentCoinsAll]=_0x380478,validateOrdersState=_0x4f43d0(0xf0),persistOpenOrders([]),lockOrders=ORDERS[_0x4f43d0(0xa6)],logger['debug'](_0x4f43d0(0x1d5));}}async function validateOrders(_0x3d703b){const _0x5613e1=_0xd38532;if(_0x3d703b)validateOrdersState=_0x3d703b;logger[_0x5613e1(0x1c2)](_0x5613e1(0x12a)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x5613e1(0x156):lockOrders==0x2?_0x5613e1(0xf4):_0x5613e1(0x1d4)));let _0x3d5ce9=[],_0x6a6d30=config[_0x5613e1(0x1cd)]==_0x5613e1(0x133)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x5613e1(0x1cc)])return;logger[_0x5613e1(0x1c2)](_0x5613e1(0x166)+validateOrdersState),lastOrders[_0x5613e1(0xa4)](_0x2451e8=>{const _0x55653c=_0x5613e1;let _0x5811b3=![];_0x2451e8[_0x55653c(0x98)]>0x0&&(_0x5811b3=!![]),_0x3d5ce9[_0x55653c(0x103)](_0x5811b3),_0x5811b3&&config['ordertype']!=_0x55653c(0x133)&&logHistory(_0x55653c(0xe1),_0x55653c(0x12f)+_0x2451e8[_0x55653c(0x11c)]+'\x20'+_0x2451e8[_0x55653c(0x7e)]+'\x20#'+formatResult(_0x2451e8[_0x55653c(0x98)],0x8)+'\x20@'+formatResult(_0x2451e8[_0x55653c(0x1ec)],0x8));}),_0x3d5ce9[_0x5613e1(0xa4)]((_0x1402f7,_0x50ee79)=>{const _0x421a23=_0x5613e1;if(_0x1402f7)lastOrders[_0x421a23(0xd8)](_0x50ee79,0x1);}),persistOpenOrders(lastOrders);const _0x246422=coolingDown?_0x5613e1(0x115):_0x5613e1(0x1c6);if(validateOrdersState=='initial'){validateOrdersState=_0x5613e1(0x10d);if(_0x3d5ce9[_0x5613e1(0x84)](![])){if(config['ordertype']==_0x5613e1(0x133)){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x3d5ce9[_0x5613e1(0x84)](![])){}else{if(allOrdersPlaced){if(config[_0x5613e1(0x1cd)]==_0x5613e1(0x133)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x5613e1(0x91))_0x3d5ce9[_0x5613e1(0x84)](![])&&(config[_0x5613e1(0x1cd)]=='market'?logHistory(_0x5613e1(0x1e8),_0x5613e1(0x1e1)+Math['round'](_0x6a6d30*validateOrderInterval/0xea60)+_0x5613e1(0x1dc)+_0x246422):(await cancelOrders(),logHistory(_0x5613e1(0x1e8),_0x5613e1(0x143)+Math[_0x5613e1(0x17f)](_0x6a6d30*validateOrderInterval/0xea60)+_0x5613e1(0x1dc)+_0x246422))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x5613e1(0x1cd)]!=_0x5613e1(0x133))logHistory(_0x5613e1(0x1e8),_0x5613e1(0x1c5)+_0x246422);await unlockOrders();}}}}}async function cancelOrders(){const _0x3a1621=_0xd38532;lastOrders[_0x3a1621(0xa4)](async _0x5802b7=>{const _0xc3b0e2=_0x3a1621;try{const _0x401095=await exchange[_0xc3b0e2(0x9e)](_0x5802b7['orderId'],_0x5802b7[_0xc3b0e2(0x11c)]);}catch(_0x3c986b){if(_0x3c986b[_0xc3b0e2(0x13f)]()['includes'](_0xc3b0e2(0x145))){}else await handleError(_0x3c986b,'cancelOrders()');}});}async function initCoinResults(_0x4ffefa){const _0x461406=_0xd38532;_0x4ffefa?logger['debug']('Resetting\x20coin\x20results:\x20'+_0x4ffefa):logger[_0x461406(0x1c2)](_0x461406(0x1b4)),config[_0x461406(0x8f)][_0x461406(0xa4)](_0x2abe05=>{const _0x2af209=_0x461406;if(!_0x2abe05[_0x2af209(0x1b5)]&&_0x2abe05[_0x2af209(0x140)]!=config['basecoin']){const _0xeb0ff7=currentCoins['find'](_0x2b44fe=>_0x2b44fe[_0x2af209(0x140)]==_0x2abe05[_0x2af209(0x140)]),_0x34087f=global[_0x2af209(0xc4)][noslash(_0x2abe05['symbol'])];let _0x3cf3d9=_0xeb0ff7?_0xeb0ff7[_0x2af209(0x163)]:null,_0x2441b0=_0x2abe05[_0x2af209(0x1cb)]?0x1/_0x34087f:_0x34087f,_0x12cc8d;config['liquidity'][_0x2af209(0xa4)](_0x1fad11=>{const _0x207ec0=_0x2af209;!_0x12cc8d&&(_0x12cc8d=_0x1fad11['changes'][_0x207ec0(0x77)](_0x10bd46=>_0x10bd46[_0x207ec0(0x140)]==_0x2abe05[_0x207ec0(0x140)]),_0x12cc8d&&(_0x3cf3d9=_0x12cc8d[_0x207ec0(0x163)],_0x2441b0=_0x12cc8d[_0x207ec0(0x1ec)]));});let _0x4b1677=dbCoinResults['get'](_0x2af209(0xb6))[_0x2af209(0x77)]({'coin':_0x2abe05[_0x2af209(0x140)]})[_0x2af209(0x16f)]();if(!_0x4b1677){const _0x6aa87a={'coin':_0x2abe05['coin'],'number':_0x3cf3d9,'breakeven':_0x2441b0,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2af209(0xc0)](_0x2af209(0xb6))[_0x2af209(0x103)](_0x6aa87a)[_0x2af209(0x11d)]();}else{if(_0x4ffefa&&_0x2abe05[_0x2af209(0x140)]==_0x4ffefa){const _0x538ff3={'coin':_0x2abe05[_0x2af209(0x140)],'number':_0x3cf3d9,'breakeven':_0x2441b0,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')['find']({'coin':_0x2abe05[_0x2af209(0x140)]})[_0x2af209(0x7f)](_0x538ff3)[_0x2af209(0x11d)]();}}}});}async function updateCoinResults(_0x1c9635,_0x3144fc=![]){const _0x40a76d=_0xd38532;let _0x5cd55e,_0x50c1f6,_0x19bd80,_0x2dcf1d,_0x51dc12,_0xb8fe45,_0x54bf30=dbCoinResults[_0x40a76d(0xc0)](_0x40a76d(0xb6))[_0x40a76d(0x77)]({'coin':_0x1c9635['coin']})['value'](),_0x23b87e=![];Object[_0x40a76d(0x157)](_0x54bf30)['forEach'](([_0x1d8f76,_0x50f91c])=>{if(_0x50f91c==null)_0x23b87e=!![];});(!_0x54bf30||_0x23b87e)&&(await initCoinResults(_0x1c9635[_0x40a76d(0x140)]),_0x54bf30=dbCoinResults[_0x40a76d(0xc0)](_0x40a76d(0xb6))[_0x40a76d(0x77)]({'coin':_0x1c9635[_0x40a76d(0x140)]})['value']());_0x1c9635[_0x40a76d(0x1cb)]&&(_0xb8fe45={'filled':_0x1c9635[_0x40a76d(0x98)]*_0x1c9635[_0x40a76d(0x1ec)],'amount':_0x1c9635['filled']*_0x1c9635['price'],'side':_0x1c9635[_0x40a76d(0x7e)]==_0x40a76d(0x113)?'buy':_0x40a76d(0x113),'price':0x1/_0x1c9635[_0x40a76d(0x1ec)]},_0x1c9635={..._0x1c9635,..._0xb8fe45});_0x3144fc?_0x50c1f6=_0x1c9635[_0x40a76d(0x7e)]=='buy'?_0x54bf30[_0x40a76d(0x163)]+_0x1c9635['filled']:_0x54bf30['number']-_0x1c9635[_0x40a76d(0x98)]:_0x50c1f6=await getCoinNumber(_0x1c9635[_0x40a76d(0x140)]);if(_0x1c9635[_0x40a76d(0x16d)]&&_0x1c9635['fee']['currency']==config[_0x40a76d(0x88)])_0x5cd55e=_0x1c9635[_0x40a76d(0x16d)][_0x40a76d(0xdd)];else{if(_0x1c9635[_0x40a76d(0x16d)]&&_0x1c9635[_0x40a76d(0x16d)]['currency']=='BNB'&&!_0x3144fc)_0x5cd55e=_0x1c9635[_0x40a76d(0x16d)][_0x40a76d(0xdd)]*global[_0x40a76d(0xc4)][_0x40a76d(0x82)+config[_0x40a76d(0x88)]];else _0x5cd55e=defaultFee*_0x1c9635[_0x40a76d(0x98)]*_0x1c9635[_0x40a76d(0x1ec)];}_0x1c9635[_0x40a76d(0x7e)]==_0x40a76d(0x1eb)?(_0x19bd80=_0x50c1f6!=0x0?(_0x54bf30['breakeven']*_0x54bf30['number']+_0x1c9635[_0x40a76d(0x1ec)]*(_0x50c1f6-_0x54bf30['number'])+_0x5cd55e)/_0x50c1f6:0x0,_0x2dcf1d=_0x54bf30[_0x40a76d(0xaa)]):(_0x19bd80=_0x50c1f6!=0x0?(_0x54bf30[_0x40a76d(0xe7)]*_0x54bf30[_0x40a76d(0x163)]-_0x1c9635[_0x40a76d(0x1ec)]*(_0x54bf30[_0x40a76d(0x163)]-_0x50c1f6)+_0x5cd55e)/_0x50c1f6:0x0,_0x2dcf1d=_0x54bf30['realized']+(_0x1c9635[_0x40a76d(0x1ec)]-_0x54bf30[_0x40a76d(0xe7)])*_0x1c9635[_0x40a76d(0x98)]);_0x51dc12=(_0x1c9635['price']-_0x19bd80-_0x5cd55e/_0x1c9635['filled'])*_0x50c1f6;let _0x5af775={'coin':_0x1c9635['coin'],'number':_0x50c1f6,'breakeven':formatResult(_0x19bd80,0x8),'realized':formatResult(_0x2dcf1d,0x8),'unrealized':formatResult(_0x51dc12,0x8),'fees':formatResult(_0x54bf30[_0x40a76d(0x1bd)]+_0x5cd55e,0x8),'sells':_0x1c9635[_0x40a76d(0x7e)]=='sell'?_0x54bf30[_0x40a76d(0x7d)]+0x1:_0x54bf30['sells'],'buys':_0x1c9635[_0x40a76d(0x7e)]==_0x40a76d(0x1eb)?_0x54bf30[_0x40a76d(0x1bc)]+0x1:_0x54bf30['buys']};dbCoinResults[_0x40a76d(0xc0)](_0x40a76d(0xb6))['find']({'coin':_0x1c9635[_0x40a76d(0x140)]})[_0x40a76d(0x7f)](_0x5af775)['write']();if(!_0x3144fc){if(_0x1c9635[_0x40a76d(0x16d)]&&_0x1c9635[_0x40a76d(0x16d)][_0x40a76d(0x119)]=='BNB'){const _0x42d7fd=currentCoins[_0x40a76d(0x77)](_0x3cf702=>_0x3cf702[_0x40a76d(0x140)]=='BNB');if(_0x42d7fd){let _0x314c9c=dbCoinResults[_0x40a76d(0xc0)]('coins')[_0x40a76d(0x77)]({'coin':'BNB'})[_0x40a76d(0x16f)]();_0x5af775={..._0x314c9c,'number':_0x42d7fd[_0x40a76d(0x163)]},dbCoinResults['get'](_0x40a76d(0xb6))[_0x40a76d(0x77)]({'coin':_0x40a76d(0x82)})[_0x40a76d(0x7f)](_0x5af775)[_0x40a76d(0x11d)]();}}}}async function placeOrder(_0x362812){const _0x4d5052=_0xd38532,_0x2b6613=config[_0x4d5052(0x1cd)]=='market'?_0x4d5052(0x133):_0x4d5052(0x67);if(lockOrders==ORDERS[_0x4d5052(0xa6)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x4d5052(0xf0);let _0xe087a3=![];lastOrders=[];for(const _0x36964b of _0x362812){let _0x320403,_0x10c325,_0x110a28,_0x9ea053,_0x33b446,_0x3a3a64=_0x36964b[_0x4d5052(0x11c)];try{const _0x5ccea9=await exchange[_0x4d5052(0x1be)](_0x3a3a64);_0x320403=_0x36964b['reverse']?0x1/_0x36964b[_0x4d5052(0xbe)]:_0x36964b[_0x4d5052(0xbe)],_0x10c325=_0x5ccea9[_0x4d5052(0x6b)],_0x110a28=_0x5ccea9[_0x4d5052(0x14d)];_0x36964b[_0x4d5052(0x1cb)]?(_0x9ea053=_0x36964b[_0x4d5052(0x7e)]==_0x4d5052(0x1eb)?_0x4d5052(0x113):_0x4d5052(0x1eb),_0x33b446=Math[_0x4d5052(0xa3)](_0x36964b[_0x4d5052(0x19f)])/_0x320403):(_0x9ea053=_0x36964b[_0x4d5052(0x7e)],_0x33b446=Math[_0x4d5052(0xa3)](_0x36964b[_0x4d5052(0x19f)]));_0x2b6613==_0x4d5052(0x67)&&(config[_0x4d5052(0x1cd)]==_0x4d5052(0xb5)&&(_0x320403=_0x9ea053==_0x4d5052(0x1eb)?_0x10c325:_0x110a28),config[_0x4d5052(0x1cd)]==_0x4d5052(0x177)&&(_0x320403=_0x9ea053==_0x4d5052(0x1eb)?_0x110a28:_0x10c325));_0x33b446=formatResult(_0x33b446,0x8),_0x320403=formatResult(_0x320403,0x8);const _0x2f6415=_0x9ea053==_0x4d5052(0x113)?config[_0x4d5052(0x12d)]?String[_0x4d5052(0x17d)]('0x'+config[_0x4d5052(0x12d)])+'\x20':'':config[_0x4d5052(0xf3)]?String[_0x4d5052(0x17d)]('0x'+config['emojibuy'])+'\x20':'',_0x3f046c=_0x2b6613==_0x4d5052(0x133)?_0x4d5052(0x18f):config[_0x4d5052(0x1cd)]==_0x4d5052(0xb5)?_0x4d5052(0x111):_0x4d5052(0x12c),_0x3abaff=(Math[_0x4d5052(0x175)](Math['random']()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x4d5052(0x103)]({'customId':_0x3abaff,'symbol':_0x3a3a64,'coin':_0x36964b[_0x4d5052(0x140)],'amount':_0x33b446,'price':_0x320403,'side':_0x9ea053,'reverse':_0x36964b[_0x4d5052(0x1cb)],'filled':0x0});if(_0x2b6613==_0x4d5052(0x133))logHistory(_0x4d5052(0xe1),''+_0x2f6415+_0x3f046c+_0x4d5052(0x15a)+_0x3a3a64+'\x20'+_0x9ea053+'\x20#'+formatResult(_0x33b446,0x8)+'\x20@'+formatResult(_0x320403,0x8));else logHistory(_0x4d5052(0xe1),''+_0x2f6415+_0x3f046c+'\x20order:\x20'+_0x3a3a64+'\x20'+_0x9ea053+'\x20#'+formatResult(_0x33b446,0x8)+'\x20@'+formatResult(_0x320403,0x8));const _0xead5c9=await exchange['createOrder'](_0x3a3a64,_0x2b6613,_0x9ea053,_0x33b446,_0x320403);logger[_0x4d5052(0x1c2)](_0x4d5052(0x1df)+_0xead5c9['id']+_0x4d5052(0xa2)+_0x3abaff);const _0x1b6fb8=lastOrders[_0x4d5052(0x1b1)]-0x1;if(_0x1b6fb8>=0x0&&lastOrders[_0x1b6fb8][_0x4d5052(0xc5)]==_0x3abaff){lastOrders[_0x1b6fb8][_0x4d5052(0x118)]=_0xead5c9['id'];if(_0xead5c9['amount'])lastOrders[_0x1b6fb8][_0x4d5052(0x1b6)]=_0xead5c9[_0x4d5052(0x1b6)];if(_0xead5c9[_0x4d5052(0x1ec)])lastOrders[_0x1b6fb8][_0x4d5052(0x1ec)]=_0xead5c9[_0x4d5052(0x1ec)];lastOrders[_0x1b6fb8][_0x4d5052(0x16d)]=_0xead5c9['fee'];}if(config[_0x4d5052(0x173)]!=0x0){let _0x5cb127=null;if(cooldownTracker[_0x4d5052(0x1b1)]==config[_0x4d5052(0x173)]-0x1)_0x5cb127=cooldownTracker['shift']();const _0x306bf6=getTimeStamp();cooldownTracker[_0x4d5052(0x103)](_0x306bf6);if(_0x5cb127){const _0x2d106e=fns[_0x4d5052(0x131)](new Date(_0x306bf6),new Date(_0x5cb127));if(_0x2d106e<cooldownInterval){logHistory('error',_0x4d5052(0x110)+config[_0x4d5052(0x173)]+_0x4d5052(0x1a2)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x4d5052(0xc9)),coolingDown=!![];break;}}}}catch(_0x3ba9c1){if(_0x3ba9c1[_0x4d5052(0x13f)]()[_0x4d5052(0x84)](_0x4d5052(0x1d1)))lastOrders=lastOrders[_0x4d5052(0x19d)](_0x36a00c=>_0x36a00c[_0x4d5052(0x11c)]!=_0x3a3a64),logHistory(_0x4d5052(0xac),_0x4d5052(0xb8)+_0x3a3a64),_0xe087a3=!![];else{if(_0x3ba9c1[_0x4d5052(0x13f)]()[_0x4d5052(0x84)](_0x4d5052(0x159)))lastOrders=lastOrders[_0x4d5052(0x19d)](_0x4debb1=>_0x4debb1[_0x4d5052(0x11c)]!=_0x3a3a64),logHistory(_0x4d5052(0xac),_0x4d5052(0x14b)+_0x3a3a64),_0xe087a3=!![];else{if(_0x3ba9c1['toString']()['includes'](_0x4d5052(0x13b)))lastOrders=lastOrders['filter'](_0x64a425=>_0x64a425[_0x4d5052(0x11c)]!=_0x3a3a64),logHistory('error',_0x4d5052(0x12e)+_0x3a3a64),_0xe087a3=!![];else _0x3ba9c1['toString']()['includes']('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders['filter'](_0x3ed084=>_0x3ed084['symbol']!=_0x3a3a64),logHistory('error',_0x4d5052(0xb8)+_0x3a3a64),_0xe087a3=!![]):(lastOrders=lastOrders[_0x4d5052(0x19d)](_0x3ac08a=>_0x3ac08a[_0x4d5052(0x11c)]!=_0x3a3a64),await handleError(_0x3ba9c1,'placeOrder()',_0x3a3a64));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x4d5052(0x1b1)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x4f387c=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4d5052(0xf8)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x25b506=_0x4d5052;validateOrders(_0x25b506(0x91));},_0x4f387c);}else unlockOrders();_0xe087a3&&config[_0x4d5052(0x96)]&&await pauseBot(_0x4d5052(0x1c1)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4d5052(0x1e8),_0x4d5052(0x1b3)));}else{if(coolingDown)!config['headless']&&logHistory(_0x4d5052(0xac),_0x4d5052(0xa0));else lockOrders!=ORDERS[_0x4d5052(0xa6)]&&(!config['headless']&&(config[_0x4d5052(0x1cd)]==_0x4d5052(0x133)?logHistory(_0x4d5052(0xac),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x4d5052(0xac),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x492c11){const _0x23dc37=_0xd38532,_0x58d9be={...config,'openOrders':_0x492c11};let _0x3fdf6c=dbConfig[_0x23dc37(0xc0)](_0x23dc37(0x66))[_0x23dc37(0x77)]({'botID':botID})[_0x23dc37(0x16f)]();_0x3fdf6c&&dbConfig[_0x23dc37(0xc0)](_0x23dc37(0x66))['find']({'botID':botID})['assign'](_0x58d9be)[_0x23dc37(0x11d)]();}function restoreOrders(){const _0x2b665f=_0xd38532;let _0xc16b4;config[_0x2b665f(0xd2)]&&allOpenOrders['forEach'](_0x3c1638=>{const _0xc6a9d=_0x2b665f,_0x14f152=config['openOrders']['find'](_0x1fd858=>_0x1fd858[_0xc6a9d(0x118)]==_0x3c1638['id']);_0x14f152&&(lastOrders[_0xc6a9d(0x103)](_0x14f152),_0xc16b4=_0x3c1638['timestamp']);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x2b665f(0x1cc)],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x1df286=new Date()[_0x2b665f(0x87)](),_0x4a54d4=config[_0x2b665f(0x1cd)]==_0x2b665f(0x133)?validateOrderTimeout*0x3c*0x3e8:config[_0x2b665f(0xf8)]*0x3c*0x3e8;if(_0xc16b4+_0x4a54d4>_0x1df286){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x13d1e2=_0x2b665f;validateOrders(_0x13d1e2(0x91));},_0xc16b4+_0x4a54d4-_0x1df286);}else validateOrders(_0x2b665f(0x91));}}async function sendMetricsTelegram(){const _0x4a4888=_0xd38532;if(!coinsLoaded){process[_0x4a4888(0x1ae)]({'telegrammsg':_0x4a4888(0x17c)},_0x3d550e=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x467b81='';if(config[_0x4a4888(0x172)])_0x467b81=_0x4a4888(0x194)+config[_0x4a4888(0x13e)]+_0x4a4888(0x1d6);else _0x467b81=_0x4a4888(0x153)+botID+_0x4a4888(0x1d6);const _0xd5d0d3=getKPIs(_0x4a4888(0x88)),_0x392278=getKPIs(_0x4a4888(0xc3),config[_0x4a4888(0xc3)]),_0x13d8b9=getKPIs(_0x4a4888(0x1bf)),_0x52e30e=getKPIs(_0x4a4888(0x17b),config[_0x4a4888(0xc3)]);_0x467b81+='<pre>',_0x467b81+=_0xd5d0d3[_0x4a4888(0x123)]+'\x20:\x20'+_0xd5d0d3[_0x4a4888(0x16f)]+'\x0a',_0x467b81+=_0xd5d0d3[_0x4a4888(0xca)]+':\x20'+_0xd5d0d3[_0x4a4888(0x16a)]+'%\x0a',_0x467b81+=_0x392278[_0x4a4888(0x123)]+_0x4a4888(0x174)+_0x392278[_0x4a4888(0x16f)]+'\x0a',_0x467b81+=_0x392278[_0x4a4888(0xca)]+':\x20'+_0x392278[_0x4a4888(0x16a)]+'%\x0a',_0x467b81+=_0x13d8b9[_0x4a4888(0x123)]+':\x20'+_0x13d8b9[_0x4a4888(0x16f)]+'\x20('+config['basecoin']+')\x0a',_0x467b81+=_0x13d8b9[_0x4a4888(0xca)]+':\x20'+_0x13d8b9[_0x4a4888(0x16a)]+_0x4a4888(0x164)+config[_0x4a4888(0x88)]+')\x0a',_0x467b81+=_0x52e30e[_0x4a4888(0x123)]+':\x20'+_0x52e30e[_0x4a4888(0x16f)]+'\x20('+config[_0x4a4888(0xc3)]+')\x0a',_0x467b81+=_0x52e30e[_0x4a4888(0xca)]+':\x20'+_0x52e30e[_0x4a4888(0x16a)]+'%\x20('+config[_0x4a4888(0xc3)]+')\x0a',_0x467b81+='</pre>',process[_0x4a4888(0x1ae)]({'telegrammsg':_0x467b81},_0x42a548=>{});}async function sendPortfolioTelegram(){const _0x5608f2=_0xd38532;if(!coinsLoaded){process[_0x5608f2(0x1ae)]({'telegrammsg':_0x5608f2(0x17c)},_0x3a53a2=>{});return;}let _0x1b8da1='';if(config[_0x5608f2(0x172)])_0x1b8da1=_0x5608f2(0x194)+config[_0x5608f2(0x13e)]+_0x5608f2(0x144);else _0x1b8da1=_0x5608f2(0x153)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x1b8da1+=_0x5608f2(0x1aa),_0x1b8da1+=_0x5608f2(0x65),_0x1b8da1+=_0x5608f2(0x1f1),_0x1b8da1+=_0x5608f2(0x65),currentCoins[_0x5608f2(0xa4)](_0x1b2768=>{const _0x2da0fc=_0x5608f2;_0x1b8da1+=_0x1b2768['coin'][_0x2da0fc(0x1db)](0x7)+'|\x20'+formatPad(_0x1b2768['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x1b2768[_0x2da0fc(0x9d)],0x2,0x6)+'|\x20'+formatPad(_0x1b2768[_0x2da0fc(0xe0)]*0x64,0x2,0x6)+'\x0a';}),_0x1b8da1+=_0x5608f2(0xd3),process[_0x5608f2(0x1ae)]({'telegrammsg':_0x1b8da1},_0x4c5a94=>{});}function formatPad(_0x7750c8,_0x423203,_0x20a5ea){const _0x25d0e7=_0xd38532,_0x1e8176=formatResultString(_0x7750c8,_0x423203);return _0x1e8176?_0x1e8176[_0x25d0e7(0x1f2)](_0x20a5ea):''[_0x25d0e7(0x1f2)](_0x20a5ea);}function logHistory(_0x5ec1eb,_0x2d781d,_0x1f1be6=''){const _0x505210=_0xd38532;let _0x5e9d9e={'time':getTimeStamp(),'type':_0x5ec1eb,'event':_0x2d781d};dbLogs[_0x505210(0xc0)]('logs')[_0x505210(0x103)](_0x5e9d9e)[_0x505210(0x11d)]();if(_0x1f1be6=='')_0x1f1be6=_0x2d781d;proxyEmit(_0x505210(0x148),{'log':_0x5e9d9e,'summary':_0x1f1be6}),process[_0x505210(0x1ae)]({'telegram':{..._0x5e9d9e,'botname':config[_0x505210(0x13e)],'showname':config[_0x505210(0x172)]}},_0x42fe69=>{}),logger[_0x505210(0x128)](''+_0x5e9d9e[_0x505210(0x148)]);}function emitHistory(_0xf92939={}){const _0x31c4a7=_0xd38532;Object[_0x31c4a7(0x1a3)](_0xf92939)[_0x31c4a7(0x1b1)]==0x0&&(_0xf92939={'type':['order',_0x31c4a7(0x148)],'event':'','page':0x1});if(_0xf92939[_0x31c4a7(0x190)][_0x31c4a7(0x84)](_0x31c4a7(0x148)))_0xf92939[_0x31c4a7(0x190)]['splice'](_0xf92939['type'][_0x31c4a7(0xdb)](_0x31c4a7(0x148)),0x1,'error',_0x31c4a7(0x105),'success');if(dbLogs['has']('logs')[_0x31c4a7(0x16f)]()){let _0x3d2403=dbLogs[_0x31c4a7(0xc0)](_0x31c4a7(0xcb))['filter'](_0x51acb4=>{const _0x485174=_0x31c4a7;if(_0xf92939[_0x485174(0x190)]['length']==0x0)return![];else return _0xf92939['type'][_0x485174(0x84)](_0x51acb4[_0x485174(0x190)]);})['filter'](_0x2b6871=>{const _0x37eb9c=_0x31c4a7;if(_0xf92939['event']=='')return!![];else return _0x2b6871[_0x37eb9c(0x148)][_0x37eb9c(0x17a)]()[_0x37eb9c(0x84)](_0xf92939[_0x37eb9c(0x148)][_0x37eb9c(0x17a)]());})['sortBy'](_0x31c4a7(0xa7)),_0x53b5a6=_0x3d2403[_0x31c4a7(0x16f)]()[_0x31c4a7(0x1b1)];_0x3d2403=_0x3d2403[_0x31c4a7(0x1cb)]()[_0x31c4a7(0x126)]((_0xf92939['page']-0x1)*logPageSize,_0xf92939[_0x31c4a7(0x107)]*logPageSize-0x1)[_0x31c4a7(0x1cb)]()[_0x31c4a7(0x16f)](),proxyEmit(_0x31c4a7(0x178),{'logs':_0x3d2403,'total':_0x53b5a6});}else proxyEmit(_0x31c4a7(0x178),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5a7356){const _0x24e7ac=_0xd38532;if(dbLogs[_0x24e7ac(0x182)]('logs')[_0x24e7ac(0x16f)]()){const _0x27258c=dbLogs[_0x24e7ac(0xc0)](_0x24e7ac(0xcb))[_0x24e7ac(0x152)](_0x24e7ac(0xa7))['filter'](_0x2ae5d0=>{const _0x2ab45d=_0x24e7ac;return _0x2ae5d0[_0x2ab45d(0x190)]==_0x2ab45d(0xe1);})[_0x24e7ac(0x16f)]();dbLogs[_0x24e7ac(0xc0)](_0x24e7ac(0xcb))[_0x24e7ac(0xda)]()['write'](),dbLogs[_0x24e7ac(0xc0)]('logs')[_0x24e7ac(0x7f)](_0x27258c)[_0x24e7ac(0x11d)](),emitHistory(_0x5a7356);}}async function pauseBot(_0x53407c=''){const _0x1711ab=_0xd38532,_0x508680=new Date()[_0x1711ab(0x87)]();if(!lastErrorShown||_0x508680-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x508680;!lastBotPause?(lastBotPause=_0x508680,consecutivePauses=0x1):(_0x508680-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x1711ab(0x1ae)]({'stop':_0x1711ab(0xe3)},_0x3d9bc9=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x53407c)_0x53407c+=_0x1711ab(0x187);logHistory('error',_0x53407c+'Pausing\x20for\x20'+pauseBotInterval/0xea60+'\x20minutes'),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x4cd637=_0xd38532;process['send']({'stop':_0x4cd637(0xee)},_0x472587=>{}),await sleep(0x7d0);}function _0x450b(){const _0x3a4be7=['limit-low','event-history','eur','toLowerCase','net-fiat','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','fromCodePoint','getFullYear','round','bot-','Fee\x20discount\x20refund\x20detected:\x20','has','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','lowdb/adapters/FileSync','min','Error:\x20Invalid\x20argument\x20','\x20|\x20','getMonth','apply','colorscheme','search','ExchangeError','bb-secure.json','exchange','Market','type','parse','BTC','Transaction\x20detection\x20unblocked','<b>','map','getCoins()','max','fetchTickers','loadMarkets','percentage','getMinutes','storeFiat','filter','BUSD','trade','starting-balances','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','\x20orders\x20in\x20less\x20than\x20','keys','getPortfolio(0)','\x20exchange','-config.json','findIndex','balances','added','<pre>','getPortfolio(2)','recovery','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','send','Uncaught\x20ExchangeError:','Resetting\x20bot\x20history','length','sha256','Cooldown\x20ended\x20-\x20balancing\x20resumed','Initializing\x20coin\x20results','excluded','amount','configuration','.json','-events.json','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','\x20>\x20[DEBUG]\x20','buys','fees','fetchTicker','net-basecoin','coin-loading-progress','Avoiding\x20continuous\x20order\x20attempts','debug','Fees\x20|\x20currency:\x20','storeHeadless','No\x20more\x20open\x20orders\x20-\x20','balancing\x20resumed','4946298jYztFz',':\x20timer\x20>','RSA-OAEP','exchange\x20not\x20reloaded','reverse','LOCKED','ordertype','yyyy/MM/dd','unlinkSync','startnumber','MIN_NOTIONAL','AuthenticationError','datetime','ORDERS.UNLOCKED','2\x20-\x20Orders\x20unlocked','\x20metrics:</b>\x20\x0a\x0a','placeOrder','fetchBalance','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','yyyy-MM-dd\x27T\x27HH:mm:ss','padEnd','\x20minutes\x20-\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','none','ID:\x20','toUpperCase','Order(s)\x20not\x20validated\x20after\x20','7XKblak','onepagemode','spot','./config/','log','***','success','initclient','\x20not\x20available','buy','price','autoliquidity','apiKey','replace','total','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','padStart','Executing\x20exchange\x20reload','cloneDeep','-------------------------------\x0a','bot','limit','Binance','argv','1435856LsKSXA','bid','message','enabled','fetchClosedOrders','Unknown\x20error\x20occured','\x20exchange\x20error','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','Saving\x20configuration','-performance.json','bots','additional\x20symbols\x20','botID','find','exchanges','pro','isEqual','open','2\x20-\x20Handled\x20open\x20orders','sells','side','assign','/output-000.log','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','BNB','cancel','includes','canceled','Portfolio\x20change\x20detected:\x20','getTime','basecoin','lowdb','-results.json','DDoSProtection','join','removed','OnMaintenance','portfolio','Crypt','final','yargs/yargs','distribution','changes','\x20|\x20Error\x20details:\x20','headless','data','filled','\x20|\x20highest:\x20','\x20API\x20key\x20is\x20invalid','starting-balance-','exchange\x20reloaded','target','cancelOrder','closed','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','\x20|\x20Custom\x20ID:\x20','abs','forEach','status','UNLOCKED','time','date','3783933gUQvvU','realized','Waited\x20','error','add','settings','loadSymbols()','getHours','Exchange','defaults','API-key\x20format\x20invalid','************','limit-high','coins','string','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','cancelLoading','startprice','ccxt','exec','writeFile','last','InsufficientFunds','get','decrypt','mkdirSync','fiat','ticker','customId','sort','apiPassword','RequestTimeout','\x20hour','rightTxt','logs','\x20closed\x20the\x20connection','/USD','limits','Failed\x20to\x20load\x20coin\x20data\x20for\x20','startsWith','hybrid-crypto-js','openOrders','</pre>','3\x20-\x20handling\x20FILLED\x20order:\x20','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','USDC','4211620KDDsmb','splice','Initiating\x20exchange\x20reload','remove','indexOf','./version.json','cost','constructor','\x20API\x20secret\x20is\x20invalid','delta','order','\x20network\x20error','restart','1797ArHFdy','fetchOpenOrders','progress','breakeven','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','deleteHistoryAlerts','InvalidNonce',':\x20Bot\x20','threshold','kill','(((.+)+)+)+$','initial','sendMetricsTelegram','amountToPrecision','emojibuy','ORDERS.UNLOCKING',',\x20must\x20be\x20a\x203\x20digit\x20number','0\x20-\x20EXECUTION:\x20','2.3.5','timeout','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','remainingSymbols','path','resetHistory','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','1\x20-\x20Unlock\x20orders','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','change24h','getDate','1\x20-\x20FILLED:\x20','push','BNB/','warning','performance','page','EUR','highest','USDT','Uncaught\x20NetworkError:','createOrder','ongoing','split','liquidity','Executed\x20','Limit\x20(high-margin)','3786sLnZBo','sell','average','balancing\x20resumes\x20when\x20cooldown\x20ends','USD','args','orderId','currency','running','uncaughtException','symbol','write','watchTrades','set','red_yellow_blue','privateKey','freeze','leftTxt','ETH','usd','slice','apiSecret','full','recent20','1\x20-\x20Validate\x20orders:\x20','15275210VPirvf','Limit\x20(low-margin)','emojisell','Order\x20is\x20invalid:\x20','Order\x20filled:\x20','offset','differenceInSeconds','existsSync','market','substring','Net\x20effect','\x20|\x20exchange:\x20','timeshift','2.6.0','RateLimitExceeded','version','InvalidOrder','active','toggleBotMode','botname','toString','coin','no\x20additional\x20symbols','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Unfilled\x20order(s)\x20canceled\x20after\x20','\x20portfolio:</b>\x20\x0a\x0a','OrderNotFound','getSeconds','test','event','148539wyoFep','util','Order\x20amount\x20is\x20invalid:\x20','\x20has\x20a\x2024h\x20drop\x20of\x20','ask','configuration-stored','5gkbPFS','TUSD','shift','sortBy','<b>Bot\x20','watchOrders','stringify','ORDERS.LOCKED','entries','Transaction\x20detection\x20blocked','Invalid\x20quantity','\x20order:\x20','bb-settings.json','valid','function','orderstatus','milliseconds','\x20>\x20','Pausing\x20for\x20','\x20not\x20responding','number','%\x20(','toFixed','2\x20-\x20Validate\x20orders:\x20','password','format','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','change','startdate','./logs/','fee','\x20value','value','timestamp','getPortfolio','showname','cooldown','\x20:\x20','floor','Error\x20while\x20deleting\x20files:\x20'];_0x450b=function(){return _0x3a4be7;};return _0x450b();}async function handleErrorNoStop(_0x1f971,_0x1cc64d){const _0x37859e=_0xd38532;if(_0x1f971[_0x37859e(0x13f)]()[_0x37859e(0x84)](_0x37859e(0xb3)))return logHistory(_0x37859e(0xac),config['exchange']+_0x37859e(0x183)),![];else{if(_0x1f971['toString']()[_0x37859e(0x84)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x37859e(0xac),config[_0x37859e(0x18e)]+_0x37859e(0x1ba)),![];else{if(_0x1f971['toString']()[_0x37859e(0x84)](_0x37859e(0x1d2)))return logHistory(_0x37859e(0xac),config[_0x37859e(0x18e)]+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x37859e(0xac),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x1f971,_0x1cc64d);}}}async function handleError(_0x2422ea,_0x4b4cb6,_0x4046e3=''){const _0x5b8369=_0xd38532,_0x12fc36=config['exchange']||_0x5b8369(0xb1);if(_0x2422ea[_0x5b8369(0x13f)]()['includes'](_0x5b8369(0x8b))||_0x2422ea['toString']()['includes'](_0x5b8369(0x139)))await pauseBot(config['exchange']+_0x5b8369(0xfd));else{if(_0x2422ea[_0x5b8369(0x13f)]()[_0x5b8369(0x84)]('ExchangeNotAvailable')||_0x2422ea['toString']()['includes'](_0x5b8369(0x8e)))await pauseBot(config['exchange']+_0x5b8369(0x1ea));else{if(_0x2422ea[_0x5b8369(0x13f)]()[_0x5b8369(0x84)](_0x5b8369(0xc8)))await pauseBot(config[_0x5b8369(0x18e)]+_0x5b8369(0x162));else{if(_0x2422ea[_0x5b8369(0x13f)]()[_0x5b8369(0x84)](_0x5b8369(0xe9)))await pauseBot(config[_0x5b8369(0x18e)]+_0x5b8369(0xcc));else{if(_0x2422ea instanceof ccxt['NetworkError'])logger[_0x5b8369(0x1c2)](_0x5b8369(0x10b),_0x2422ea),await pauseBot(config['exchange']+_0x5b8369(0xe2));else{if(_0x2422ea[_0x5b8369(0x13f)]()[_0x5b8369(0x84)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x5b8369(0xac),_0x4b4cb6+_0x5b8369(0x71)),logHistory(_0x5b8369(0xac),_0x5b8369(0x1d9)),await killBot();else{if(_0x2422ea['toString']()['includes'](_0x5b8369(0xeb)))logHistory(_0x5b8369(0xac),_0x4b4cb6+_0x5b8369(0x1a1)),logHistory(_0x5b8369(0xac),_0x5b8369(0x1d9)),await killBot();else{if(_0x2422ea[_0x5b8369(0x13f)]()['includes'](_0x5b8369(0xb3)))logHistory(_0x5b8369(0xac),_0x4b4cb6+_0x5b8369(0x187)+config[_0x5b8369(0x18e)]+_0x5b8369(0x9a)),logHistory(_0x5b8369(0xac),_0x5b8369(0x1d9)),await killBot();else{if(_0x2422ea['toString']()[_0x5b8369(0x84)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x5b8369(0xac),_0x4b4cb6+_0x5b8369(0x187)+config[_0x5b8369(0x18e)]+_0x5b8369(0xdf)),logHistory(_0x5b8369(0xac),_0x5b8369(0x1d9)),await killBot();else{if(_0x2422ea[_0x5b8369(0x13f)]()[_0x5b8369(0x84)](_0x5b8369(0x1d2)))logHistory(_0x5b8369(0xac),_0x4b4cb6+_0x5b8369(0x187)+config['exchange']+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error',_0x5b8369(0x1d9)),await killBot();else{if(_0x2422ea[_0x5b8369(0x13f)]()[_0x5b8369(0x84)](_0x5b8369(0xbf)))logHistory(_0x5b8369(0xac),_0x4b4cb6+_0x5b8369(0x169)+_0x4046e3);else _0x2422ea instanceof ccxt[_0x5b8369(0x18c)]?(logger[_0x5b8369(0x1c2)](_0x5b8369(0x1af),_0x2422ea),logHistory(_0x5b8369(0xac),_0x4b4cb6+_0x5b8369(0x187)+config['exchange']+_0x5b8369(0x70))):(logger['full'](_0x4b4cb6+_0x5b8369(0x95),_0x2422ea),await pauseBot(_0x5b8369(0x6f)));}}}}}}}}}}}function formatResult(_0x84dfbe,_0x2801ac){return parseFloat(_0x84dfbe['toFixed'](_0x2801ac));}function formatResultTruncate(_0x5941a6,_0x15d084){const _0x5100fb=_0xd38532;let _0x4712a3=formatResultString(_0x5941a6,0xa),_0x435408=_0x4712a3[_0x5100fb(0xdb)]('.');return _0x435408!=-0x1&&(_0x4712a3=_0x4712a3['slice'](0x0,_0x435408+_0x15d084+0x1)),Number(_0x4712a3);}function formatResultString(_0x4750c2,_0x51edc0){const _0x6c08ce=_0xd38532;let _0x4734de;if(!(''+_0x4750c2)[_0x6c08ce(0x84)]('e'))_0x4734de=+(Math[_0x6c08ce(0x17f)](_0x4750c2+'e+'+_0x51edc0)+'e-'+_0x51edc0);else{let _0x1d4486=(''+_0x4750c2)[_0x6c08ce(0x10e)]('e'),_0x54deea='';+_0x1d4486[0x1]+_0x51edc0>0x0&&(_0x54deea='+'),_0x4734de=+(Math[_0x6c08ce(0x17f)](+_0x1d4486[0x0]+'e'+_0x54deea+(+_0x1d4486[0x1]+_0x51edc0))+'e-'+_0x51edc0);}return Number(_0x4734de)['toFixed'](_0x51edc0);}function getServerTime(){const _0x87c203=_0xd38532,_0x34839b=new Date();return _0x34839b[_0x87c203(0x17e)]()+'/'+(_0x34839b[_0x87c203(0x188)]()+0x1)[_0x87c203(0x13f)]()[_0x87c203(0x1f2)](0x2,'0')+'/'+_0x34839b[_0x87c203(0x101)]()[_0x87c203(0x13f)]()[_0x87c203(0x1f2)](0x2,'0')+'\x20'+_0x34839b[_0x87c203(0xb0)]()[_0x87c203(0x13f)]()['padStart'](0x2,'0')+':'+_0x34839b[_0x87c203(0x19b)]()[_0x87c203(0x13f)]()[_0x87c203(0x1f2)](0x2,'0')+':'+_0x34839b[_0x87c203(0x146)]()[_0x87c203(0x13f)]()[_0x87c203(0x1f2)](0x2,'0');}function getTimeStamp(){const _0x2b958c=_0xd38532,_0x57991b=shiftedTime();return _0x57991b['getFullYear']()+'/'+(_0x57991b['getMonth']()+0x1)['toString']()[_0x2b958c(0x1f2)](0x2,'0')+'/'+_0x57991b[_0x2b958c(0x101)]()[_0x2b958c(0x13f)]()[_0x2b958c(0x1f2)](0x2,'0')+'\x20'+_0x57991b[_0x2b958c(0xb0)]()[_0x2b958c(0x13f)]()['padStart'](0x2,'0')+':'+_0x57991b[_0x2b958c(0x19b)]()[_0x2b958c(0x13f)]()[_0x2b958c(0x1f2)](0x2,'0')+':'+_0x57991b[_0x2b958c(0x146)]()['toString']()[_0x2b958c(0x1f2)](0x2,'0');}function getDate(){const _0x14cd4c=_0xd38532,_0x5288ae=shiftedTime();return _0x5288ae['getFullYear']()+'/'+(_0x5288ae[_0x14cd4c(0x188)]()+0x1)['toString']()[_0x14cd4c(0x1f2)](0x2,'0')+'/'+_0x5288ae[_0x14cd4c(0x101)]()[_0x14cd4c(0x13f)]()[_0x14cd4c(0x1f2)](0x2,'0');}function getHour(){const _0x31ba97=_0xd38532,_0xf8aa43=shiftedTime();return _0xf8aa43['getHours']()[_0x31ba97(0x13f)]()['padStart'](0x2,'0');}function sleep(_0x3325b4){return new Promise(_0x17db41=>setTimeout(_0x17db41,_0x3325b4));}function shiftedTime(){const _0x5ca6fd=_0xd38532,_0x29c521=new Date();let _0x126645=_0x29c521;if(config&&config[_0x5ca6fd(0x137)]!==0x0)_0x126645=fns[_0x5ca6fd(0xad)](_0x29c521,{'hours':config['timeshift']});return _0x126645;}function timer(_0x4d8063){const _0x5a34b0=_0xd38532,_0x1cd75e=new Date();!lasttime?console[_0x5a34b0(0x1e6)](getTimeStamp()+':\x20timer\x20>',_0x4d8063,_0x1cd75e):console[_0x5a34b0(0x1e6)](getTimeStamp()+_0x5a34b0(0x1c8),_0x4d8063,(_0x1cd75e-lasttime)/0x3e8),lasttime=_0x1cd75e;}