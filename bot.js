const _0x21c2f4=_0x431d;(function(_0x34419a,_0x4b806d){const _0x5c71f5=_0x431d,_0x4ddcac=_0x34419a();while(!![]){try{const _0x45d615=-parseInt(_0x5c71f5(0x12f))/0x1*(-parseInt(_0x5c71f5(0x102))/0x2)+parseInt(_0x5c71f5(0xf5))/0x3+parseInt(_0x5c71f5(0x101))/0x4+parseInt(_0x5c71f5(0x13f))/0x5+-parseInt(_0x5c71f5(0x182))/0x6+parseInt(_0x5c71f5(0x10d))/0x7+-parseInt(_0x5c71f5(0x1ba))/0x8;if(_0x45d615===_0x4b806d)break;else _0x4ddcac['push'](_0x4ddcac['shift']());}catch(_0x52d3a0){_0x4ddcac['push'](_0x4ddcac['shift']());}}}(_0x2e73,0xa1288));const _0x1d3550=function(){let _0x17f43c=!![];return function(_0x5a23f6,_0xe53444){const _0x33c050=_0x17f43c?function(){const _0x33388f=_0x431d;if(_0xe53444){const _0x4e5985=_0xe53444[_0x33388f(0xc9)](_0x5a23f6,arguments);return _0xe53444=null,_0x4e5985;}}:function(){};return _0x17f43c=![],_0x33c050;};}(),_0xb07a82=_0x1d3550(this,function(){const _0x2f1c99=_0x431d;return _0xb07a82['toString']()[_0x2f1c99(0x1d5)]('(((.+)+)+)+$')[_0x2f1c99(0xd5)]()['constructor'](_0xb07a82)[_0x2f1c99(0x1d5)]('(((.+)+)+)+$');});_0xb07a82();'use strict';const ccxt=require('ccxt'),low=require('lowdb'),FileSync=require(_0x21c2f4(0x158)),fs=require('fs'),fns=require(_0x21c2f4(0x1c7)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x21c2f4(0x128)),Crypt=require(_0x21c2f4(0xf0))[_0x21c2f4(0xb5)],util=require('util');let exchange,wsClient;global[_0x21c2f4(0x132)]={},global['change']={};let ws1=[],ws2=null,ws3=[];const exceptions=['DAI/',_0x21c2f4(0xf4),_0x21c2f4(0x168),_0x21c2f4(0x115),_0x21c2f4(0x183),_0x21c2f4(0x197)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x21c2f4(0x138)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];function _0x2e73(){const _0xf40b30=['getMonth','initial','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Manual\x20balancing\x20required:\x20','reconnected','min','number','liquidity','max','toLowerCase','botname','parse','apply','-events.json','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','ask','add','ordertype','getHours','emojisell','cloneDeep','<b>Bot\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','api_key','toString','orderStatus','\x20hour','restart','/backup/','time','createOrder','headless','bot','distribution','keys','MIN_NOTIONAL','fetchOpenOrders','final','cost','version','001','Invalid\x20quantity','basecoin','eur','isArray','createWriteStream','running','Net\x20','Market','event','startnumber','hybrid-crypto-js','BUSD','valid','Net\x20effect','HOT/BTC','3464562dBoyCE','getMinutes','balances','remainingSymbols','open','Cooldown\x20ended\x20-\x20balancing\x20resumed','push','breakeven','remove','emojibuy','ETH','bot-','2118836ZUSCYH','23726BqdASE','priceChangePercent','starting-balance-','getTime','no\x20open\x20orders','bid','deleteHistoryAlerts','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','symbol','existsSync','portfolio','6104455efegCr','</pre>','emitHistory','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started',')\x20|\x20Error\x20details:\x20','Order(s)\x20validated\x20-\x20','Binance\x20not\x20available\x20(2)','\x20order:\x20','XEM/BUSD','bb-secure.json','Pausing\x20for\x20','\x20|\x20Error\x20details:\x20','timeshift','includes','getDate','timestamp','function','BNB','get','AuthenticationError','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','FILLED','sortBy','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','\x20|\x20Binance\x20API\x20key\x20invalid','\x20change','fetchClosedOrders','binance','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','canceled','2.5.0','progress','storeHeadless','args','23ivsYYJ','fromCodePoint','has','ticker','sort','isEqual','indexOf','yyyy/MM/dd','change24h','UNLOCKED','sells','ExchangeNotAvailable','decrypt','showname','event-history','close','3411775MzujZO','exec','botID','EUR','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','test','split','abs','padEnd','filled','defaults','initclient','fee','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','type','changes','assign','subscribeSymbol24hrTicker','\x20-\x20','Order(s)\x20not\x20validated\x20after\x20','binanceus','exchange','shift','ongoing','Limit\x20(low-margin)','lowdb/adapters/FileSync','startprice','getCoinNumber()','differenceInSeconds','target','apiKey','order','mkdirSync','slice','configuration-stored','kline','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','\x20portfolio:</b>\x20\x0a\x0a','success','UNLOCKING','InvalidNonce','HOT/EUR','write','orderstatus','none','coin','price','splice','starting-balances','/USDT','OrderNotFound','getSeconds','uncaughtException','/output-000.log','limit-high','excluded','forEach','./logs/','concat','wsUrl','find','formattedMessage','limits','fetchBalance','spot','realized','enabled','5473518tHHAAJ','NANO/','\x20orders\x20in\x20less\x20than\x20','side','CANCELED','log','\x20minutes','usd','api_secret','date','getFiat()','getStartingBalances','accumulatedQuantity','\x20-\x20bot\x20not\x20started','datetime','commission','change','InsufficientFunds','coins','startdate','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','YOYOW/','fetchTickers','format','fiat','net-fiat','-config.json','getCoins()','bb-settings.json','Error:\x20Invalid\x20argument\x20','options','DDoSProtection','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','argv','subscribeSpotUserDataStream','filter','RSA-OAEP','replace','wsKey','privateKey','offset','threshold','************','wss://stream.binance.com:9443',',\x20must\x20be\x20a\x203\x20digit\x20number','.json','buys','API-key\x20format\x20invalid','writeFile','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','net-basecoin','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','delta','error','message','Binance\x20not\x20responding','15515800sIzFDF','buy','wsMarket','\x20:\x20','\x20minutes\x20-\x20','stringify','limit','padStart','_events','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','sendPortfolioTelegram','cancelLoading','placeOrder','date-fns','apiSecret','settings','last','secure','round','LOCKED','WebSockets(','%\x20\x0a','Binance\x20API\x20key\x20is\x20invalid','Net\x20effect\x20(','string','yyyy-MM-dd\x27T\x27HH:mm:ss','sell','search','netoffset','fees','cooldown','logs','Bot\x20','total','performance','-------------------------------\x0a','data','getFullYear','BTC','eventType','Binance\x20not\x20available\x20(1)','Unfilled\x20order(s)\x20canceled\x20after\x20','market','trade','value','<pre>','exit','\x20>\x20','timeout','getPortfolio()','configuration','\x20has\x20a\x2024h\x20drop\x20of\x20','currency','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','amount','./config/','findIndex','send','cancelOrders()','toFixed','\x20|\x20Binance\x20API\x20secret\x20invalid','Binance\x20API\x20blocked','page','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','USDT','length','entries','Executed\x20','Crypt','-results.json','set','leftTxt','reverse','recreateCoinResults()','orderId','2.3.5'];_0x2e73=function(){return _0xf40b30;};return _0x2e73();}const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require('./version.json')['version'],botID=process[_0x21c2f4(0x1a3)][0x2]||_0x21c2f4(0xe5),pattern=/^[0-9]{3}$/;!pattern[_0x21c2f4(0x144)](botID)&&(console[_0x21c2f4(0x187)](_0x21c2f4(0x19f)+botID+_0x21c2f4(0x1ae)),process[_0x21c2f4(0x1e8)](0x1));const userID=process[_0x21c2f4(0x1a3)][0x3]||'',configpath=userID?_0x21c2f4(0x1f1)+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0x21c2f4(0x178),loggerfile=fs[_0x21c2f4(0xea)](logspath+_0x21c2f4(0x174),{'flags':'a'});!fs[_0x21c2f4(0x10b)](configpath)&&fs[_0x21c2f4(0x15f)](configpath);!fs[_0x21c2f4(0x10b)](logspath)&&fs[_0x21c2f4(0x15f)](logspath);const configfile=configpath+_0x21c2f4(0x100)+botID+_0x21c2f4(0x19c),logfile=configpath+'bot-'+botID+_0x21c2f4(0xca),performancefile=configpath+_0x21c2f4(0x100)+botID+'-performance.json',coinresultsfile=configpath+_0x21c2f4(0x100)+botID+_0x21c2f4(0xb6),settingsfile=configpath+_0x21c2f4(0x19e),securefile=configpath+_0x21c2f4(0x116),configbackuppath=configpath+_0x21c2f4(0xd9),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x21c2f4(0x149)]({'logs':[]})[_0x21c2f4(0x169)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x21c2f4(0x149)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x21c2f4(0x149)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x21c2f4(0x149)]({'coins':[]})[_0x21c2f4(0x169)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x193dc2)=>{},'debug':(..._0x4fee00)=>{},'notice':(..._0x676127)=>{},'info':(..._0x1b8a0c)=>{},'warning':(..._0x5ace5b)=>{},'error':async function(..._0x41bc34){const _0x30ce3b=_0x21c2f4,_0x55e5de=new Date()[_0x30ce3b(0x105)]();if(!lastErrorShown||_0x55e5de-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x30ce3b(0x105)]();let _0x2e89ed='';if(_0x41bc34[0x0])_0x2e89ed+=_0x41bc34[0x0];if(_0x41bc34[0x1]&&_0x41bc34[0x1][_0x30ce3b(0x1b7)]&&_0x41bc34[0x1][_0x30ce3b(0x1b7)]['message'])_0x2e89ed+=_0x30ce3b(0x151)+_0x41bc34[0x1]['error']['message'];logger['full'](_0x30ce3b(0x1ce)+consecutivePauses+_0x30ce3b(0x111),''+_0x2e89ed),await pauseBot(_0x30ce3b(0x1e2));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':'sha256','rsaStandard':_0x21c2f4(0x1a6)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x310a7b=>{const _0x15f5d8=_0x21c2f4;console[_0x15f5d8(0x187)](_0x310a7b);},'simple':_0x56b39f=>{const _0x529eb7=_0x21c2f4;console[_0x529eb7(0x187)](_0x56b39f),loggerfile[_0x529eb7(0x169)](util[_0x529eb7(0x199)](_0x56b39f)+'\x0a');},'full':async(_0x1d0e2c,_0x479de8='')=>{const _0x430006=_0x21c2f4;let _0xb4d75;if(config[_0x430006(0x13c)])_0xb4d75=getTimeStamp()+':\x20'+config[_0x430006(0xc7)]+_0x430006(0x1e9)+_0x1d0e2c;else _0xb4d75=getTimeStamp()+':\x20Bot\x20'+botID+_0x430006(0x1e9)+_0x1d0e2c;console[_0x430006(0x187)](_0xb4d75),loggerfile[_0x430006(0x169)](util['format'](_0xb4d75)+'\x0a'),_0x479de8&&(console[_0x430006(0x187)](_0x479de8),loggerfile[_0x430006(0x169)](util[_0x430006(0x199)](_0x479de8)+'\x0a'));}};process['on'](_0x21c2f4(0x173),function(_0x183799){logger['simple'](_0x183799);});settings[_0x21c2f4(0x119)]!=config[_0x21c2f4(0x119)]&&updateTimeshift(settings['timeshift']);process[_0x21c2f4(0x1f3)]({'started':'running'},_0x68933b=>{}),initializeProcessListeners();function proxyEmit(_0x326320,_0x2f20f5=null){process['send']({'function':_0x326320,'args':_0x2f20f5},_0x299174=>{});}function initializeProcessListeners(){process['on']('message',_0x427955=>{const _0x52cff8=_0x431d;switch(Object['keys'](_0x427955)[0x0]){case _0x52cff8(0x119):_0x427955['timeshift']!=undefined&&(settings['timeshift']=_0x427955['timeshift'],updateTimeshift(settings[_0x52cff8(0x119)]));break;case _0x52cff8(0x11d):switch(_0x427955[_0x52cff8(0x11d)]){case _0x52cff8(0x14a):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x52cff8(0x10f):emitHistory(_0x427955[_0x52cff8(0x12e)]);break;case _0x52cff8(0x108):deleteHistoryAlerts(_0x427955[_0x52cff8(0x12e)]);break;case'getPortfolio':getPortfolio(_0x427955[_0x52cff8(0x12e)]);break;case'storeConfiguration':storeConfiguration(_0x427955[_0x52cff8(0x12e)]);break;case _0x52cff8(0x12d):storeHeadless(_0x427955[_0x52cff8(0x12e)]);break;case _0x52cff8(0x18d):getStartingBalances(getNormalizedPerformance());break;case _0x52cff8(0x1c6):placeOrder(_0x427955[_0x52cff8(0x12e)]);break;case _0x52cff8(0x1c5):cancelLoading();break;case _0x52cff8(0x1c4):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x52af04=_0x21c2f4;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config['apiKey'],config[_0x52af04(0x1c8)]),await initWsEvents();let _0x2ed0ed=await loadSymbols();if(_0x2ed0ed){currentCoins=await getCoins(!![]),await initws();if(allOpenOrders[_0x52af04(0x1fb)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x578cf8,_0x11bc6e){const _0x37e92c=_0x21c2f4,_0x401262=ccxt[config[_0x37e92c(0x154)]];let _0x54c42a;switch(config[_0x37e92c(0x154)]){case _0x37e92c(0x128):_0x54c42a=_0x37e92c(0x1ad);break;case _0x37e92c(0x153):_0x54c42a='wss://stream.binance.us:9443';break;default:_0x54c42a=_0x37e92c(0x1ad);}exchange=new _0x401262({'apiKey':_0x578cf8,'secret':_0x11bc6e,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x37e92c(0x1a0)][_0x37e92c(0xd4)]=_0x578cf8,wsClient[_0x37e92c(0x1a0)][_0x37e92c(0x18a)]=_0x11bc6e,wsClient['options'][_0x37e92c(0x17a)]=_0x54c42a;let _0x2562bb=config['exchange']==_0x37e92c(0x153)?'USDT':_0x37e92c(0x142),_0x35e06d=config[_0x37e92c(0xe7)]==_0x37e92c(0xff)?_0x37e92c(0xff):_0x37e92c(0x1e0);stablecoins={'eur':{'coin':''+_0x35e06d+_0x2562bb,'symbol':_0x35e06d+'/'+_0x2562bb},'usd':{'coin':_0x35e06d+_0x37e92c(0x1fa),'symbol':_0x35e06d+_0x37e92c(0x170)}};}async function initWsEvents(){const _0x302f4a=_0x21c2f4;!wsClient[_0x302f4a(0x1c2)][_0x302f4a(0x17c)]&&wsClient['on']('formattedMessage',_0xbfc9f2=>{const _0x49f421=_0x302f4a;if(isWsFormattedKline(_0xbfc9f2)){global['ticker'][_0xbfc9f2[_0x49f421(0x162)][_0x49f421(0x10a)]]=_0xbfc9f2[_0x49f421(0x162)][_0x49f421(0x13e)];return;}else{if(isWsFormatted24hrTicker(_0xbfc9f2)){global['change'][_0xbfc9f2[_0x49f421(0x10a)]]=_0xbfc9f2[_0x49f421(0x103)];return;}else{if(!Array[_0x49f421(0xe9)](_0xbfc9f2)&&_0xbfc9f2[_0x49f421(0x1a8)][_0x49f421(0x11a)]('userData')){if(_0xbfc9f2[_0x49f421(0x1bc)][_0x49f421(0x11a)](_0x49f421(0x17f))){updateNumberCoins(_0xbfc9f2);return;}}}}}),!wsClient[_0x302f4a(0x1c2)]['reconnected']&&wsClient['on'](_0x302f4a(0xc1),async _0x5301db=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x221243=_0x21c2f4;let _0x32beda;try{markets=await exchange['loadMarkets'](),allSymbols=exchange['symbols'][_0x221243(0x1a5)](_0x31e53b=>{const _0xf16955=_0x221243;let _0x47a871=![];return exceptions[_0xf16955(0x177)](_0x4a87f7=>{const _0x2aa8fc=_0xf16955;if(_0x31e53b[_0x2aa8fc(0x11a)](_0x4a87f7))_0x47a871=!![];}),!_0x47a871;}),_0x32beda=!![];}catch(_0x5daefe){await handleError(_0x5daefe,'loadSymbols()'),_0x32beda=![];}return _0x32beda;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x2e470b=_0x21c2f4;proxyEmit('configuration',emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2e470b(0xf7),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x502534=getNormalizedPerformance();emitPerformance(_0x502534),await getStartingBalances(_0x502534);}async function toggleBotMode(){const _0x3a5073=_0x21c2f4;let _0x240297=dbConfig[_0x3a5073(0x11f)](_0x3a5073(0xdd))[_0x3a5073(0x17b)]({'botID':botID})[_0x3a5073(0x1e6)]();if(_0x240297){const _0x4a3bce=!_0x240297[_0x3a5073(0xdc)];dbConfig[_0x3a5073(0x11f)](_0x3a5073(0xdd))[_0x3a5073(0x17b)]({'botID':botID})[_0x3a5073(0x14f)]({'headless':_0x4a3bce})['write'](),config[_0x3a5073(0xdc)]=_0x4a3bce,proxyEmit(_0x3a5073(0x1ec),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x25837b=>{});}function cleanws(){const _0xa908e5=_0x21c2f4;wsinitialized=![];ws1&&(ws1[_0xa908e5(0x177)](_0x627aa2=>{try{wsClient['close'](_0x627aa2);}catch(_0x4fe190){}}),ws1=[]);if(ws2){try{wsClient[_0xa908e5(0x13e)](ws2);}catch(_0x512b5b){}ws2=null;}ws3&&(ws3[_0xa908e5(0x177)](_0x4d46ef=>{const _0x37f6f3=_0xa908e5;try{wsClient[_0x37f6f3(0x13e)](_0x4d46ef);}catch(_0x2bd538){}}),ws3=[]);}async function initws(){const _0x316676=_0x21c2f4;cleanws();let _0x2d3d97=[];currentCoins[_0x316676(0x177)](_0x365a30=>{const _0x30a2fe=_0x316676;if(_0x365a30[_0x30a2fe(0x16c)]!=config[_0x30a2fe(0xe7)])_0x2d3d97[_0x30a2fe(0xfb)](_0x365a30[_0x30a2fe(0x10a)]);});if(!_0x2d3d97[_0x316676(0x11a)](stablecoins['eur'][_0x316676(0x10a)]))_0x2d3d97[_0x316676(0xfb)](stablecoins[_0x316676(0xe8)][_0x316676(0x10a)]);if(!_0x2d3d97['includes'](stablecoins[_0x316676(0x189)][_0x316676(0x10a)]))_0x2d3d97['push'](stablecoins[_0x316676(0x189)][_0x316676(0x10a)]);if(!_0x2d3d97[_0x316676(0x11a)]('BNB/'+config[_0x316676(0xe7)]))_0x2d3d97['push']('BNB/'+config[_0x316676(0xe7)]);try{_0x2d3d97[_0x316676(0x177)]((_0x29ab90,_0x1b1726)=>{const _0x17cd3f=_0x316676;ws1[_0x1b1726]=wsClient['subscribeSpotKline'](noslash(_0x29ab90),'1m'),ws3[_0x1b1726]=wsClient[_0x17cd3f(0x150)](noslash(_0x29ab90),_0x17cd3f(0x17f));}),ws2=wsClient[_0x316676(0x1a4)]();}catch(_0x36fd5b){await handleError(_0x36fd5b,'initws()');}let _0xda2498,_0x38fcf4=0x0;loading[_0x316676(0xf8)]=[];let _0x76a3de=0x0;_0x2d3d97[_0x316676(0x177)](_0x2a0d99=>{const _0x45e1be=_0x316676;loading[_0x45e1be(0xf8)][_0x45e1be(0xfb)](_0x2a0d99);}),loadingCanceled=![];let _0x15de39=![];while(_0xda2498!=_0x2d3d97[_0x316676(0x1fb)]){_0xda2498=0x0,_0x2d3d97[_0x316676(0x177)](_0x2d89b3=>{const _0x424ac0=_0x316676;global['ticker'][noslash(_0x2d89b3)]&&(loading[_0x424ac0(0xf8)]=loading[_0x424ac0(0xf8)][_0x424ac0(0x1a5)](_0x653ed3=>_0x653ed3!=_0x2d89b3),_0xda2498++);}),loading[_0x316676(0x12c)]=Math[_0x316676(0x1cc)](_0xda2498/_0x2d3d97[_0x316676(0x1fb)]*0x64);loading[_0x316676(0x12c)]!=0x64&&(_0x76a3de>0x1e*0x5&&(loading[_0x316676(0x1ea)]=!![],emitLoadingProgress()),_0x76a3de>0x3c*0x5&&!_0x15de39&&(_0x15de39=!![],logHistory(_0x316676(0x1b7),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x316676(0xf8)]['join'](',\x20')+_0x316676(0x18f)),logHistory(_0x316676(0x1b7),_0x316676(0x117)+pauseBotInterval/0xea60+_0x316676(0x163)),await sleep(pauseBotInterval),process[_0x316676(0x1f3)]({'stop':_0x316676(0xd8)},_0x1d444d=>{})));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0xda2498!=_0x38fcf4&&(_0x38fcf4=_0xda2498,emitLoadingProgress()),_0x76a3de++,await sleep(0xc8);}_0x15de39&&logHistory(_0x316676(0x165),_0x316676(0x110));if(_0xda2498==_0x2d3d97[_0x316676(0x1fb)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function _0x431d(_0x94f78c,_0x276be0){const _0x2095f9=_0x2e73();return _0x431d=function(_0xb07a82,_0x1d3550){_0xb07a82=_0xb07a82-0xb3;let _0x2e7397=_0x2095f9[_0xb07a82];return _0x2e7397;},_0x431d(_0x94f78c,_0x276be0);}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0xe8eb47=_0x21c2f4;let _0x9d1435=0x0,_0x1fd486=0x0;try{_0x9d1435=global[_0xe8eb47(0x132)][stablecoins['eur']['coin']],_0x1fd486=global['ticker'][stablecoins[_0xe8eb47(0x189)][_0xe8eb47(0x16c)]];}catch(_0x25d39b){await handleError(_0x25d39b,_0xe8eb47(0x18c));}return{'eur':Number(_0x9d1435),'usd':Number(_0x1fd486)};}function setStartDatePerformance(){const _0x58321e=_0x21c2f4;if(config&&config[_0x58321e(0xc4)][0x0][_0x58321e(0x14e)]['length']!=0x0){const _0x420a29=config[_0x58321e(0xc4)][0x0][_0x58321e(0x14e)];dbPerformance[_0x58321e(0x11f)](_0x58321e(0x1de))[_0x58321e(0x17b)]({'date':config['startdate']})[_0x58321e(0x14f)]({'coins':_0x420a29})[_0x58321e(0x169)]();}}async function recreateCoinResults(){const _0x3e8777=_0x21c2f4;let _0x43d278,_0x2acb28=[];try{const _0xe4f6ca=fns[_0x3e8777(0x199)](fns['parseISO'](config['startdate'][_0x3e8777(0x1a7)](/\//g,'-')),_0x3e8777(0x1d3));for(const _0x2bfdd4 of currentCoins){if(_0x2bfdd4[_0x3e8777(0x16c)]!=config[_0x3e8777(0xe7)]){let _0x56fbc1=0x0,_0x4f3ff8,_0x65f2ea;_0x43d278=await getAllEventOrders(_0x2bfdd4[_0x3e8777(0x10a)]);if(_0x43d278[_0x3e8777(0x1fb)]>0x0)_0x43d278[_0x3e8777(0x177)](_0x1f7202=>{const _0x3a7743=_0x3e8777,_0x1ca488=_0x2bfdd4[_0x3a7743(0x10a)][_0x3a7743(0x11a)](config[_0x3a7743(0xe7)]+'/');_0x2acb28[_0x3a7743(0xfb)]({'datetime':_0x1f7202[_0x3a7743(0x190)],'coin':_0x2bfdd4[_0x3a7743(0x16c)],'symbol':_0x2bfdd4[_0x3a7743(0x10a)],'side':_0x1f7202[_0x3a7743(0x185)],'reverse':_0x1ca488,'amount':formatResult(_0x1f7202[_0x3a7743(0x148)],0x8),'filled':formatResult(_0x1f7202[_0x3a7743(0x148)],0x8),'price':formatResult(_0x1f7202['price'],0x8)}),_0x56fbc1=_0x1f7202[_0x3a7743(0x185)]==_0x3a7743(0x1bb)?_0x56fbc1+_0x1f7202['filled']:_0x56fbc1-_0x1f7202[_0x3a7743(0x148)];if(!_0x65f2ea)_0x65f2ea=_0x1f7202[_0x3a7743(0x16d)];});_0x4f3ff8=_0x2bfdd4['number']-_0x56fbc1;let _0x5b956b;config[_0x3e8777(0xc4)][_0x3e8777(0x177)](_0x52f7b9=>{const _0x91b2ce=_0x3e8777;!_0x5b956b&&(_0x5b956b=_0x52f7b9['changes'][_0x91b2ce(0x17b)](_0x5cb77a=>_0x5cb77a[_0x91b2ce(0x16c)]==_0x2bfdd4['coin']),_0x5b956b&&(_0x4f3ff8=_0x5b956b['number'],_0x65f2ea=_0x5b956b['price']));});let _0x367bbd=dbCoinResults[_0x3e8777(0x11f)]('coins')[_0x3e8777(0x17b)]({'coin':_0x2bfdd4[_0x3e8777(0x16c)]})[_0x3e8777(0x1e6)]();_0x367bbd={'coin':_0x2bfdd4[_0x3e8777(0x16c)],'number':_0x4f3ff8,'breakeven':_0x65f2ea,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x3e8777(0x11f)](_0x3e8777(0x194))[_0x3e8777(0x17b)]({'coin':_0x2bfdd4[_0x3e8777(0x16c)]})[_0x3e8777(0x14f)](_0x367bbd)[_0x3e8777(0x169)]();}}_0x2acb28['sort']((_0x1037e1,_0x1a55a2)=>_0x1037e1['datetime']>_0x1a55a2[_0x3e8777(0x190)]?0x1:_0x1a55a2['datetime']>_0x1037e1[_0x3e8777(0x190)]?-0x1:0x0);let _0x2fc849=0x0;for(let _0x36a87e of _0x2acb28){await updateCoinResults(_0x36a87e,!![]);}}catch(_0x9188b5){await handleError(_0x9188b5,_0x3e8777(0xba));}}async function getAllEventOrders(_0x384b41){const _0x47a260=_0x21c2f4;let _0xe4a650=[],_0x53c2dd=dbLogs[_0x47a260(0x11f)](_0x47a260(0x1d9))[_0x47a260(0x1a5)](_0x3c49c3=>{const _0x17b54c=_0x47a260,_0x1a4715=_0x3c49c3[_0x17b54c(0xee)]['toLowerCase']();return _0x1a4715[_0x17b54c(0x11a)](_0x384b41[_0x17b54c(0xc6)]())&&(_0x1a4715[_0x17b54c(0x11a)](_0x17b54c(0x1e4))&&_0x1a4715[_0x17b54c(0x11a)](_0x17b54c(0x15e))||_0x1a4715['includes']('filled')&&_0x1a4715[_0x17b54c(0x11a)](_0x17b54c(0x15e)));})[_0x47a260(0x123)](_0x47a260(0xda))[_0x47a260(0x1e6)]();return _0x53c2dd[_0x47a260(0x177)](_0x49f6a0=>{const _0x4b6642=_0x47a260,_0x43cf32=_0x49f6a0['event'][_0x4b6642(0x11a)](_0x4b6642(0x1d4))?_0x4b6642(0x1d4):'buy',_0x7647a9=/#([0-9]|\.)+\s/i,_0x164ba2=Number(_0x7647a9[_0x4b6642(0x140)](_0x49f6a0[_0x4b6642(0xee)])[0x0][_0x4b6642(0x160)](0x1)),_0x1cbb6b=/@([0-9]|\.)+$/i,_0x44e785=Number(_0x1cbb6b[_0x4b6642(0x140)](_0x49f6a0[_0x4b6642(0xee)])[0x0][_0x4b6642(0x160)](0x1));_0xe4a650[_0x4b6642(0xfb)]({'datetime':_0x49f6a0[_0x4b6642(0xda)],'coin':symbolToCoin(_0x384b41),'symbol':_0x384b41,'side':_0x43cf32,'amount':_0x164ba2,'filled':_0x164ba2,'price':_0x44e785});}),_0xe4a650;}async function getAllOrders(_0x266ab0,_0x560b39){const _0x30e108=_0x21c2f4;let _0x463548=[];while(_0x560b39<exchange['milliseconds']()){const _0x4c3650=0x1f4,_0x4ed288=await exchange[_0x30e108(0x127)](_0x266ab0,_0x560b39,_0x4c3650);if(_0x4ed288[_0x30e108(0x1fb)])_0x560b39=_0x4ed288[_0x4ed288[_0x30e108(0x1fb)]-0x1][_0x30e108(0x11c)]+0x1,_0x463548=_0x463548[_0x30e108(0x179)](_0x4ed288);else break;}return _0x463548;}async function validate24hChanges(){const _0x26fc5f=_0x21c2f4;let _0x361ee8;for(const _0x152615 of currentCoins){if(_0x152615[_0x26fc5f(0x16c)]!=config[_0x26fc5f(0xe7)]){let _0x34f3d2;_0x152615[_0x26fc5f(0xb9)]?_0x34f3d2=formatResult((0x1/(global[_0x26fc5f(0x192)][noslash(_0x152615[_0x26fc5f(0x10a)])]/0x64+0x1)-0x1)*0x64,0x3):_0x34f3d2=global[_0x26fc5f(0x192)][noslash(_0x152615[_0x26fc5f(0x10a)])],_0x34f3d2<config['change24h']&&(logHistory(_0x26fc5f(0x1b7),_0x152615[_0x26fc5f(0x16c)]+_0x26fc5f(0x1ed)+_0x34f3d2+'%'),logHistory(_0x26fc5f(0x1b7),_0x26fc5f(0x121)),logHistory(_0x26fc5f(0x1b7),_0x26fc5f(0x1f9)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0xe10459=_0x21c2f4;let _0x585f53=dbLogs[_0xe10459(0x11f)](_0xe10459(0xe4))[_0xe10459(0x1e6)]();if(_0x585f53!=_0xe10459(0xbc)){dbLogs[_0xe10459(0xb7)]('version',_0xe10459(0xbc))[_0xe10459(0x169)]();let _0x24b4f1=[];const _0x1e2280=dbLogs[_0xe10459(0x11f)](_0xe10459(0x1d9))['value']();_0x1e2280[_0xe10459(0x177)](_0x301cd9=>{const _0x152559=_0xe10459;_0x24b4f1[_0x152559(0xfb)]({'time':_0x301cd9[_0x152559(0xda)],'type':_0x301cd9[_0x152559(0x14d)],'event':_0x301cd9[_0x152559(0xee)]});}),dbLogs[_0xe10459(0x11f)]('logs')['assign'](_0x24b4f1)['write']();}let _0x511168=dbConfig[_0xe10459(0x11f)](_0xe10459(0xe4))['value']();if(_0x511168!='2.3.5'){dbConfig[_0xe10459(0xb7)]('version','2.3.5')[_0xe10459(0x169)]();let _0x283f34=dbConfig[_0xe10459(0x11f)](_0xe10459(0xdd))[_0xe10459(0x17b)]({'botID':botID})[_0xe10459(0x1e6)]();if(_0x283f34){let _0xba5df7=[];_0x283f34[_0xe10459(0x10c)]['forEach'](_0x188775=>{const _0xb053cf=_0xe10459;_0xba5df7[_0xb053cf(0xfb)]({'coin':_0x188775[_0xb053cf(0x16c)],'number':_0x188775[_0xb053cf(0xef)],'price':_0x188775['startprice']}),delete _0x188775[_0xb053cf(0xef)],delete _0x188775[_0xb053cf(0x159)];});if(_0xba5df7[_0xe10459(0x1fb)]!==0x0)fs[_0xe10459(0x1b2)](configbackuppath+(_0xe10459(0x104)+botID+_0xe10459(0x1af)),JSON[_0xe10459(0x1bf)](_0xba5df7,null,0x4),function(_0xaae953){if(_0xaae953){}});const _0x42689b=(_0x2db6ef,_0x2bf1da)=>{const _0x4bacb8=_0xe10459;let _0xece930=[];_0x2bf1da[_0x4bacb8(0x177)](_0x5d431e=>{const _0x551b7a=_0x4bacb8,_0x308f23=_0x2db6ef[_0x551b7a(0x17b)](_0x73f5fb=>_0x73f5fb[_0x551b7a(0x16c)]==_0x5d431e[_0x551b7a(0x16c)]);if(!_0x308f23)_0xece930[_0x551b7a(0xfb)](_0x5d431e);});let _0x24283b=[];return _0x2db6ef[_0x4bacb8(0x177)](_0x22b2c5=>{const _0x4122f9=_0x4bacb8,_0xba2659=_0x2bf1da[_0x4122f9(0x17b)](_0x217506=>_0x217506[_0x4122f9(0x16c)]==_0x22b2c5['coin']);if(!_0xba2659||_0xba2659[_0x4122f9(0xc3)]==0x0&&_0x22b2c5[_0x4122f9(0xc3)]!=0x0)_0x24283b[_0x4122f9(0xfb)](_0x22b2c5);}),{'missingDay1':_0xece930,'notInDay2':_0x24283b};},_0x215426=dbPerformance['get']('data')['cloneDeep']()['value']();if(_0x215426[_0xe10459(0x1fb)]>0x1){const {missingDay1:_0x3f7cc4,notInDay2:_0x512bbf}=_0x42689b(_0xba5df7,_0x215426[0x1][_0xe10459(0x194)]);_0xba5df7=[..._0xba5df7,..._0x3f7cc4],_0x512bbf[_0xe10459(0x177)](_0x1edb55=>{const _0x359d82=_0xe10459;let _0x436687=_0xba5df7[_0x359d82(0x1f2)](_0x3a4c92=>_0x3a4c92[_0x359d82(0x16c)]==_0x1edb55[_0x359d82(0x16c)]);_0x436687!=-0x1&&_0xba5df7['splice'](_0x436687,0x1);});}_0xba5df7[_0xe10459(0x133)]((_0x19f3f6,_0x116e01)=>_0x19f3f6[_0xe10459(0x16c)]>_0x116e01[_0xe10459(0x16c)]?0x1:_0x116e01[_0xe10459(0x16c)]>_0x19f3f6['coin']?-0x1:0x0);let _0x87f700=[{'date':_0x283f34['startdate'],'changes':_0xba5df7}];_0x215426[_0xe10459(0x1fb)]>0x2&&_0x215426['forEach']((_0x27cf55,_0x5836c8)=>{const _0x4c330b=_0xe10459;if(_0x5836c8>0x0&&_0x5836c8<_0x215426[_0x4c330b(0x1fb)]-0x1){const {missingDay1:_0x128d32,notInDay2:_0x3eb164}=_0x42689b(_0x215426[_0x5836c8][_0x4c330b(0x194)],_0x215426[_0x5836c8+0x1][_0x4c330b(0x194)]);_0xba5df7=[],(_0x128d32[_0x4c330b(0x1fb)]!=0x0||_0x3eb164[_0x4c330b(0x1fb)]!=0x0)&&(_0x128d32[_0x4c330b(0x1fb)]!=0x0&&_0xba5df7[_0x4c330b(0xfb)](..._0x128d32),_0x3eb164['length']!=0x0&&(_0x3eb164[_0x4c330b(0x177)](_0x300e1d=>{const _0x4f8eca=_0x4c330b;_0x300e1d[_0x4f8eca(0xc3)]=-_0x300e1d[_0x4f8eca(0xc3)];}),_0xba5df7[_0x4c330b(0xfb)](..._0x3eb164)),_0xba5df7[_0x4c330b(0x133)]((_0x130ce7,_0x11f385)=>_0x130ce7[_0x4c330b(0x16c)]>_0x11f385[_0x4c330b(0x16c)]?0x1:_0x11f385[_0x4c330b(0x16c)]>_0x130ce7[_0x4c330b(0x16c)]?-0x1:0x0),_0x87f700[_0x4c330b(0xfb)]({'date':_0x215426[_0x5836c8+0x1][_0x4c330b(0x18b)],'changes':_0xba5df7}));}}),dbConfig[_0xe10459(0x11f)](_0xe10459(0xdd))['find']({'botID':botID})[_0xe10459(0x14f)]({..._0x283f34,'liquidity':_0x87f700})[_0xe10459(0x169)]();}}config=getConfiguration(botID);let _0x38b38a=dbPerformance['get'](_0xe10459(0xe4))['value']();_0x38b38a!=_0xe10459(0xbc)&&(dbPerformance[_0xe10459(0xb7)](_0xe10459(0xe4),_0xe10459(0xbc))[_0xe10459(0x169)](),setStartDatePerformance());let _0x1b54c0=dbCoinResults[_0xe10459(0x11f)](_0xe10459(0xe4))['value']();if(_0x1b54c0!=_0xe10459(0x12b)){dbCoinResults[_0xe10459(0xb7)]('version',_0xe10459(0x12b))[_0xe10459(0x169)]();let _0x158c3e=dbCoinResults[_0xe10459(0x11f)]('coins')[_0xe10459(0x1e6)]();if(_0x158c3e[_0xe10459(0x1fb)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x1e4f40){const _0x3932a0=_0x21c2f4;let _0x157e05=dbConfig[_0x3932a0(0x11f)](_0x3932a0(0xdd))['find']({'botID':_0x1e4f40})[_0x3932a0(0x1e6)]();if(_0x157e05){let _0x51381b=![];typeof _0x157e05[_0x3932a0(0x1ab)]==_0x3932a0(0x1d2)&&(_0x157e05={..._0x157e05,'threshold':Number(_0x157e05['threshold'])},_0x51381b=!![]),_0x157e05[_0x3932a0(0x137)]==null&&(_0x157e05={..._0x157e05,'change24h':-0x14},_0x51381b=!![]),_0x51381b&&(_0x157e05={'botID':_0x157e05[_0x3932a0(0x141)],'exchange':_0x157e05[_0x3932a0(0x154)],'apiKey':_0x157e05['apiKey'],'apiSecret':_0x157e05['apiSecret'],'basecoin':_0x157e05[_0x3932a0(0xe7)],'botname':_0x157e05[_0x3932a0(0xc7)],'showname':_0x157e05[_0x3932a0(0x13c)],'threshold':_0x157e05[_0x3932a0(0x1ab)],'ordertype':_0x157e05[_0x3932a0(0xce)],'timeout':_0x157e05[_0x3932a0(0x1ea)],'startdate':_0x157e05[_0x3932a0(0x195)],'recreate':_0x157e05['recreate'],'timeshift':_0x157e05[_0x3932a0(0x119)],'headless':_0x157e05[_0x3932a0(0xdc)],'cooldown':_0x157e05[_0x3932a0(0x1d8)],'change24h':_0x157e05[_0x3932a0(0x137)],'emojibuy':_0x157e05['emojibuy'],'emojisell':_0x157e05['emojisell'],'portfolio':_0x157e05[_0x3932a0(0x10c)],'liquidity':_0x157e05['liquidity']},dbConfig[_0x3932a0(0x11f)](_0x3932a0(0xdd))['remove']()[_0x3932a0(0x169)](),dbConfig[_0x3932a0(0x11f)](_0x3932a0(0xdd))[_0x3932a0(0xfb)](_0x157e05)['write']());}else _0x157e05={'botID':_0x1e4f40,'exchange':_0x3932a0(0x128),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x3932a0(0x1da)+_0x1e4f40,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3932a0(0x119)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x157e05;}function emittedConfiguration(){const _0x1375e0=_0x21c2f4;let _0x33082b;return config[_0x1375e0(0x15d)]==''?_0x33082b=config:_0x33082b={...config,'apiKey':_0x1375e0(0x1ac),'apiSecret':_0x1375e0(0x1ac)},_0x33082b;}function getSettings(){const _0x673870=_0x21c2f4;return dbSettings[_0x673870(0x11f)](_0x673870(0x1c9))['value']();}function getSecure(){const _0x54f68d=_0x21c2f4;return dbSecure['get'](_0x54f68d(0x1cb))['value']()||{};}function updateTimeshift(_0x56a3c6){const _0xca76d1=_0x21c2f4;let _0x5e52cb=dbConfig['get']('bot')[_0xca76d1(0x17b)]({'botID':botID})['value']();_0x5e52cb&&dbConfig[_0xca76d1(0x11f)](_0xca76d1(0xdd))['find']({'botID':botID})[_0xca76d1(0x14f)]({'timeshift':_0x56a3c6})[_0xca76d1(0x169)](),config[_0xca76d1(0x119)]=_0x56a3c6,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0xe4c7fb){const _0xfc868e=_0x21c2f4;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x32d1e8=dbConfig[_0xfc868e(0x11f)](_0xfc868e(0xdd))['find']({'botID':botID})['value']();_0xe4c7fb={..._0xe4c7fb,'apiKey':crypt[_0xfc868e(0x13b)](secure[_0xfc868e(0x1a9)],_0xe4c7fb[_0xfc868e(0x15d)])[_0xfc868e(0x1b8)],'apiSecret':crypt[_0xfc868e(0x13b)](secure[_0xfc868e(0x1a9)],_0xe4c7fb[_0xfc868e(0x1c8)])['message']};if(_0x32d1e8){if(_0xe4c7fb[_0xfc868e(0x15d)]=='************')_0xe4c7fb[_0xfc868e(0x15d)]=config[_0xfc868e(0x15d)];if(_0xe4c7fb[_0xfc868e(0x1c8)]==_0xfc868e(0x1ac))_0xe4c7fb[_0xfc868e(0x1c8)]=config[_0xfc868e(0x1c8)];dbConfig[_0xfc868e(0x11f)](_0xfc868e(0xdd))['find']({'botID':botID})[_0xfc868e(0x14f)](_0xe4c7fb)[_0xfc868e(0x169)]();}else dbConfig[_0xfc868e(0x11f)]('bot')['push'](_0xe4c7fb)[_0xfc868e(0x169)](),process[_0xfc868e(0x1f3)]({'status':_0xfc868e(0x181),'live':_0xfc868e(0xeb)},_0x2fcbdb=>{});config={..._0xe4c7fb},setStartDatePerformance(),process[_0xfc868e(0x1f3)]({'botname':_0xe4c7fb[_0xfc868e(0xc7)]},_0x12d50c=>{}),updateBotManager();const _0xfe7c4d=getNormalizedPerformance();getStartingBalances(_0xfe7c4d),emitPerformance(_0xfe7c4d),proxyEmit(_0xfc868e(0x161)),await initCoinResults(),reset();}async function storeHeadless(_0x1580f8){const _0x124022=_0x21c2f4,_0x406c36={...config,'headless':_0x1580f8[_0x124022(0xdc)]};let _0x5c7342=dbConfig[_0x124022(0x11f)]('bot')[_0x124022(0x17b)]({'botID':botID})['value']();_0x5c7342&&dbConfig[_0x124022(0x11f)](_0x124022(0xdd))['find']({'botID':botID})['assign'](_0x406c36)[_0x124022(0x169)](),config={..._0x406c36},updateBotManager(),proxyEmit(_0x124022(0x1ec),emittedConfiguration());}function noslash(_0x308126){return _0x308126['replace']('/','');}async function updateNumberCoins(_0x3c1e2e){const _0x5f2f62=_0x21c2f4;if(_0x3c1e2e[_0x5f2f62(0x1e1)]&&_0x3c1e2e[_0x5f2f62(0x1e1)]=='executionReport'){let _0x247fb2=_0x3c1e2e[_0x5f2f62(0xd6)],_0x5ec2e7=![];currentCoins[_0x5f2f62(0x177)](_0x3cfa58=>{noslash(_0x3cfa58['symbol'])==_0x3c1e2e['symbol']&&(_0x5ec2e7=!![]);});if(!_0x5ec2e7)return;const _0x72f275=currentCoins[_0x5f2f62(0x17b)](_0x6f23af=>noslash(_0x6f23af['symbol'])==_0x3c1e2e[_0x5f2f62(0x10a)]),_0x31f4ae=_0x4d127b=>{const _0x354021=_0x5f2f62;if(_0x72f275)_0x72f275[_0x354021(0x16a)]=_0x4d127b;};if(_0x247fb2=='NEW')_0x31f4ae(_0x5f2f62(0xf9));else{if(_0x247fb2==_0x5f2f62(0x186))_0x31f4ae(_0x5f2f62(0x12a)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x247fb2==_0x5f2f62(0x122)){let _0x3ad36e=![];console[_0x5f2f62(0x187)]('FILLED'),console[_0x5f2f62(0x187)]('lastOrders',lastOrders),console[_0x5f2f62(0x187)](_0x5f2f62(0x1de),_0x3c1e2e);if(lastOrders)lastOrders[_0x5f2f62(0x177)](async _0x3f2ea2=>{const _0x2619cd=_0x5f2f62;if(_0x3f2ea2['orderId']==_0x3c1e2e[_0x2619cd(0xbb)]){_0x3ad36e=!![];if(_0x3f2ea2[_0x2619cd(0x148)]==0x0){_0x3f2ea2[_0x2619cd(0x16d)]=_0x3c1e2e['cumulativeQuoteAssetTransactedQty']/_0x3c1e2e[_0x2619cd(0x18e)],_0x3f2ea2[_0x2619cd(0x148)]=_0x3c1e2e[_0x2619cd(0x18e)],_0x3f2ea2['fee']={'cost':_0x3c1e2e[_0x2619cd(0x191)],'currency':_0x3c1e2e['commissionAsset']},_0x31f4ae('filled'),await validateOrders();if(lockOrders==ORDERS[_0x2619cd(0x1cd)])currentCoins=await getCoins();await updateCoinResults(_0x3f2ea2);}}});!_0x3ad36e&&(_0x31f4ae('filled'),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x385980=JSON[_0x5f2f62(0xc8)](lastBalances[_0x5f2f62(0x10c)]);const _0x3c15df=_0x385980[_0x5f2f62(0x17b)](_0x271989=>noslash(_0x271989[_0x5f2f62(0x10a)])==_0x3c1e2e[_0x5f2f62(0x10a)]);if(_0x3c15df){if(_0x247fb2=='NEW')_0x3c15df[_0x5f2f62(0x16a)]=_0x3c15df['orderstatus']==_0x5f2f62(0x148)?_0x5f2f62(0x148):'open';else{if(_0x247fb2=='CANCELED')_0x3c15df[_0x5f2f62(0x16a)]=_0x3c15df['orderstatus']==_0x5f2f62(0x148)?_0x5f2f62(0x148):_0x5f2f62(0x12a);else _0x247fb2==_0x5f2f62(0x122)&&(_0x3c15df[_0x5f2f62(0x16a)]=_0x5f2f62(0x148));}}lastBalances={...lastBalances,'portfolio':JSON[_0x5f2f62(0x1bf)](_0x385980)},proxyEmit(_0x5f2f62(0xf7),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x28fee5=![],_0x27d0b8=!![],_0x330376=config['basecoin']){const _0x2ab5b0=_0x21c2f4;let _0x3b3b2a,_0x272673=[],_0x17422c=[],_0x2fc611=[];try{_0x3b3b2a=await exchange['fetchBalance'](),mybalances=_0x3b3b2a[_0x2ab5b0(0x1db)];if(!_0x27d0b8)for(const [_0x5258c4,_0x930ce9]of Object['entries'](mybalances)){_0x2fc611[_0x2ab5b0(0xfb)](_0x5258c4);}else config[_0x2ab5b0(0x10c)]['forEach'](_0x4cc6fa=>{const _0x41ffde=_0x2ab5b0;if(!_0x4cc6fa['excluded'])_0x2fc611[_0x41ffde(0xfb)](_0x4cc6fa[_0x41ffde(0x16c)]);});if(_0x330376=='')for(const [_0x10c863,_0x5a7e96]of Object[_0x2ab5b0(0xb3)](mybalances)){_0x5a7e96['toString']()!=0x0&&_0x17422c['push']({'coin':_0x10c863});}else{if(_0x28fee5)await getOpenOrders();let _0x50d8e5=![];for(const [_0x2d2fce,_0x47cd21]of Object[_0x2ab5b0(0xb3)](mybalances)){if(_0x2fc611[_0x2ab5b0(0x11a)](_0x2d2fce)){const _0xb361e6=config[_0x2ab5b0(0x10c)]['find'](_0x25d90f=>_0x25d90f[_0x2ab5b0(0x16c)]==_0x2d2fce),_0x1d0c43=_0x2d2fce+'/'+_0x330376,_0x274a27=_0x330376+'/'+_0x2d2fce,_0x53d061=currentCoins[_0x2ab5b0(0x17b)](_0x5e2e68=>_0x5e2e68['coin']==_0x2d2fce);_0x50d8e5=![];_0x28fee5&&(_0x50d8e5=allOpenOrders[_0x2ab5b0(0x17b)](_0xb16293=>_0xb16293[_0x2ab5b0(0x10a)]==noslash(_0xb361e6['symbol'])));if((_0x47cd21[_0x2ab5b0(0xd5)]()!=0x0||_0xb361e6)&&(allSymbols[_0x2ab5b0(0x11a)](_0x1d0c43)||_0x2d2fce==_0x330376))_0x2d2fce!=_0x330376&&_0x272673['push'](_0x1d0c43),_0x17422c[_0x2ab5b0(0xfb)]({'coin':_0x2d2fce,'symbol':_0x1d0c43,'reverse':![],'number':Math[_0x2ab5b0(0xc5)](_0x47cd21+(_0xb361e6&&_0xb361e6[_0x2ab5b0(0x1aa)]||0x0),0x0),'orderstatus':_0x28fee5?_0x50d8e5?_0x2ab5b0(0xf9):'none':_0x53d061?_0x53d061[_0x2ab5b0(0x16a)]:_0x2ab5b0(0x16b)});else(_0x47cd21[_0x2ab5b0(0xd5)]()!=0x0||_0xb361e6)&&allSymbols[_0x2ab5b0(0x11a)](_0x274a27)&&(_0x2d2fce!=_0x330376&&_0x272673[_0x2ab5b0(0xfb)](_0x274a27),_0x17422c[_0x2ab5b0(0xfb)]({'coin':_0x2d2fce,'symbol':_0x274a27,'reverse':!![],'number':Math[_0x2ab5b0(0xc5)](_0x47cd21+(_0xb361e6&&_0xb361e6['offset']||0x0),0x0),'orderstatus':_0x28fee5?_0x50d8e5?_0x2ab5b0(0xf9):'none':_0x53d061?_0x53d061[_0x2ab5b0(0x16a)]:'none'}));}}}}catch(_0x44aacb){if(!_0x27d0b8){if(_0x44aacb[_0x2ab5b0(0xd5)]()[_0x2ab5b0(0x11a)](_0x2ab5b0(0x1b1)))return logHistory('error',_0x2ab5b0(0x1d0)),![];else{if(_0x44aacb[_0x2ab5b0(0xd5)]()[_0x2ab5b0(0x11a)](_0x2ab5b0(0x120)))return logHistory('error','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x44aacb[_0x2ab5b0(0xd5)]()[_0x2ab5b0(0x11a)](_0x2ab5b0(0xbf)))return logHistory(_0x2ab5b0(0x1b7),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x44aacb,_0x2ab5b0(0x19d));}}}else await handleError(_0x44aacb,'getCoins()');}return _0x17422c;}async function getCoinNumber(_0x5075e3){const _0x101e35=_0x21c2f4;let _0x8d421c;try{const _0x1f1213=await exchange[_0x101e35(0x17e)]();_0x8d421c=_0x1f1213[_0x101e35(0x1db)][_0x5075e3];}catch(_0x4dc7cb){await handleError(_0x4dc7cb,_0x101e35(0x15a));}return _0x8d421c;}async function getOpenOrders(){const _0x1c9965=_0x21c2f4;let _0x3e4636;allOpenOrders=[];try{for(const _0x24b065 of config['portfolio']){!_0x24b065[_0x1c9965(0x176)]&&_0x24b065['coin']!=config[_0x1c9965(0xe7)]&&(_0x3e4636=await exchange[_0x1c9965(0xe1)](_0x24b065[_0x1c9965(0x10a)]),_0x3e4636[_0x1c9965(0x1fb)]>0x0&&allOpenOrders[_0x1c9965(0xfb)](_0x3e4636[0x0]));}}catch(_0x4487ad){await handleError(_0x4487ad,'getOpenOrders()');}}async function handleOpenOrders(_0x13863a=0x0){const _0x80584e=_0x21c2f4;allOpenOrders[_0x80584e(0x1fb)]==0x0&&lockOrders==ORDERS[_0x80584e(0x1cd)]&&allOrdersPlaced&&(_0x13863a==0x0?(_0x13863a++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders(_0x80584e(0x106)));}async function getPortfolio(_0x37b4c7){const _0x45a193=_0x21c2f4;let _0x548059=[],_0x556375=[],_0x5f4726,_0x5d71a6=[],_0x4cce68,_0x45ada4;_0x37b4c7[_0x45a193(0x15d)]===_0x45a193(0x1ac)||_0x37b4c7[_0x45a193(0x1c8)]===_0x45a193(0x1ac)?(_0x4cce68=config[_0x45a193(0x15d)],_0x45ada4=config[_0x45a193(0x1c8)]):(_0x4cce68=_0x37b4c7[_0x45a193(0x15d)],_0x45ada4=_0x37b4c7[_0x45a193(0x1c8)]);await initExchange(_0x4cce68,_0x45ada4);let _0x14c586=await loadSymbols();if(_0x14c586){_0x5d71a6=await getCoins(![],![],_0x37b4c7[_0x45a193(0xe7)]);if(_0x5d71a6===![])proxyEmit('portfolio',![]);else{if(_0x37b4c7['basecoin']=='')proxyEmit(_0x45a193(0x10c),_0x5d71a6);else{_0x5d71a6[_0x45a193(0x177)](_0x554171=>{const _0x32ebae=_0x45a193;if(_0x554171[_0x32ebae(0x16c)]!=_0x37b4c7[_0x32ebae(0xe7)])_0x548059[_0x32ebae(0xfb)](_0x554171[_0x32ebae(0x10a)]);});try{_0x556375=await exchange[_0x45a193(0x198)](_0x548059);}catch(_0x5ce359){await handleError(_0x5ce359,_0x45a193(0x1eb));}_0x5d71a6[_0x45a193(0x177)](_0x26c18d=>{const _0x4ab123=_0x45a193;_0x26c18d[_0x4ab123(0x16c)]!=_0x37b4c7[_0x4ab123(0xe7)]?_0x5f4726=_0x26c18d[_0x4ab123(0xb9)]?0x1/_0x556375[_0x26c18d[_0x4ab123(0x10a)]][_0x4ab123(0x1ca)]:_0x556375[_0x26c18d[_0x4ab123(0x10a)]]['last']:_0x5f4726=0x1,_0x26c18d[_0x4ab123(0x16d)]=formatResult(_0x5f4726,0x8);}),proxyEmit('portfolio',_0x5d71a6);}}}else proxyEmit(_0x45a193(0x10c),![]);}function checkMinimums(_0x5cdaca){const _0xa09643=_0x21c2f4;let _0x1c09e9=!![];const _0xf07eeb=!_0x5cdaca[_0xa09643(0xb9)]?markets[_0x5cdaca['symbol']]['limits'][_0xa09643(0x1f0)][_0xa09643(0xc2)]:markets[_0x5cdaca[_0xa09643(0x10a)]][_0xa09643(0x17d)][_0xa09643(0xe3)][_0xa09643(0xc2)],_0x4ec8f4=!_0x5cdaca['reverse']?markets[_0x5cdaca[_0xa09643(0x10a)]][_0xa09643(0x17d)][_0xa09643(0xe3)][_0xa09643(0xc2)]:markets[_0x5cdaca[_0xa09643(0x10a)]][_0xa09643(0x17d)][_0xa09643(0x1f0)][_0xa09643(0xc2)],_0x57e7bc=markets[_0x5cdaca[_0xa09643(0x10a)]]['precision'][_0xa09643(0x1f0)];_0x5cdaca['trade']=formatResultTruncate(_0x5cdaca[_0xa09643(0x1e5)],_0x57e7bc);if(Math[_0xa09643(0x146)](_0x5cdaca[_0xa09643(0x1e5)])<_0xf07eeb)_0x1c09e9=![];if(Math[_0xa09643(0x146)](_0x5cdaca[_0xa09643(0x1e5)])*_0x5cdaca[_0xa09643(0x1ca)]<_0x4ec8f4)_0x1c09e9=![];if(_0x5cdaca[_0xa09643(0x185)]=='sell'){let _0x8d5585=config['portfolio']['find'](_0x3c3a07=>_0x3c3a07[_0xa09643(0x16c)]==_0x5cdaca['coin']);if(_0x8d5585[_0xa09643(0x1aa)]>0x0){if(Math[_0xa09643(0x146)](_0x5cdaca[_0xa09643(0x1e5)])>_0x5cdaca[_0xa09643(0xc3)]-_0x8d5585[_0xa09643(0x1aa)])_0x1c09e9=![];}else{if(Math[_0xa09643(0x146)](_0x5cdaca[_0xa09643(0x1e5)])>_0x5cdaca[_0xa09643(0xc3)])_0x1c09e9=![];}}if(_0x5cdaca[_0xa09643(0x185)]=='buy'){let _0x949b67=config[_0xa09643(0x10c)][_0xa09643(0x17b)](_0x3d9bb3=>_0x3d9bb3[_0xa09643(0x16c)]==config['basecoin']),_0x5990b6=currentCoins[_0xa09643(0x17b)](_0xc9b9f9=>_0xc9b9f9['coin']==config[_0xa09643(0xe7)]);if(_0x949b67[_0xa09643(0x1aa)]>0x0){if(Math['abs'](_0x5cdaca[_0xa09643(0x1e5)])*_0x5cdaca['last']>_0x5990b6[_0xa09643(0xc3)]-_0x949b67['offset'])_0x1c09e9=![];}else{if(Math[_0xa09643(0x146)](_0x5cdaca['trade'])*_0x5cdaca[_0xa09643(0x1ca)]>_0x5990b6[_0xa09643(0xc3)])_0x1c09e9=![];}}return _0x1c09e9;}async function getBalances(){const _0x309966=_0x21c2f4;let _0x482348=0x0,_0x5c9fa3;const _0x5ee915=config[_0x309966(0x1ab)];if(config[_0x309966(0xdc)]&&config[_0x309966(0x137)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x5a1669=>{const _0x5d44cf=_0x309966;if(_0x5a1669[_0x5d44cf(0x16c)]!=config[_0x5d44cf(0xe7)]){let _0x285fd8=global[_0x5d44cf(0x132)][noslash(_0x5a1669[_0x5d44cf(0x10a)])];_0x5c9fa3=_0x5a1669[_0x5d44cf(0xb9)]?0x1/_0x285fd8:_0x285fd8;}else _0x5c9fa3=0x1;let _0x4d1381=_0x5a1669[_0x5d44cf(0xc3)]*_0x5c9fa3;_0x482348+=_0x4d1381,_0x5a1669[_0x5d44cf(0x1ca)]=formatResult(Number(_0x5c9fa3),0x8),_0x5a1669[_0x5d44cf(0x1e6)]=_0x4d1381;}),currentCoins['forEach'](_0x2d0839=>{const _0x4bf3a9=_0x309966;let _0x415d5e=config[_0x4bf3a9(0x10c)][_0x4bf3a9(0x17b)](_0xd669bf=>_0xd669bf['coin']==_0x2d0839[_0x4bf3a9(0x16c)]),_0xaa6df6=Number(_0x415d5e[_0x4bf3a9(0xde)]),_0x1b4dfa=_0x2d0839['value']/_0x482348*0x64,_0x1e2d99=_0xaa6df6*_0x482348/0x64/_0x2d0839[_0x4bf3a9(0x1ca)]-_0x2d0839[_0x4bf3a9(0xc3)];_0x2d0839[_0x4bf3a9(0xde)]=formatResult(_0x1b4dfa,0x3),_0x2d0839['target']=formatResult(_0xaa6df6,0x3),_0x2d0839['trade']=formatResult(_0x1e2d99,0x8),_0x2d0839['side']='',_0x2d0839[_0x4bf3a9(0xf2)]=![];if(_0x2d0839['coin']!=config['basecoin']){if(_0x2d0839[_0x4bf3a9(0xde)]>_0xaa6df6)_0x2d0839[_0x4bf3a9(0x185)]=_0x4bf3a9(0x1d4),_0x2d0839[_0x4bf3a9(0xf2)]=checkMinimums(_0x2d0839);else _0x2d0839['distribution']<_0xaa6df6&&(_0x2d0839[_0x4bf3a9(0x185)]=_0x4bf3a9(0x1bb),_0x2d0839['valid']=checkMinimums(_0x2d0839));}_0x2d0839[_0x4bf3a9(0x1b6)]=_0x2d0839['distribution']/_0x2d0839[_0x4bf3a9(0x15c)]-0x1;if(_0x2d0839['orderstatus']==_0x4bf3a9(0x148)||_0x2d0839[_0x4bf3a9(0x16a)]=='canceled')_0x2d0839[_0x4bf3a9(0x16a)]='none';}),currentCoins[_0x309966(0x133)]((_0x5f6d4d,_0x960914)=>_0x5f6d4d[_0x309966(0x1b6)]<_0x960914[_0x309966(0x1b6)]?0x1:_0x960914['delta']<_0x5f6d4d['delta']?-0x1:0x0);const _0x4ddccc=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4ddccc[_0x309966(0xe8)],'usd':_0x4ddccc[_0x309966(0x189)],'portfolio':JSON[_0x309966(0x1bf)](currentCoins),'threshold':_0x5ee915},proxyEmit(_0x309966(0xf7),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x5ee915});else{if(lockOrders==ORDERS[_0x309966(0x138)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x5ee915});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x17797b=_0x21c2f4;if(!lastBalances)return;let _0x363ad3=[],_0x44f55d,_0x4a46a4=JSON['parse'](lastBalances[_0x17797b(0x10c)]);_0x4a46a4[_0x17797b(0x133)]((_0x4ffa30,_0x453f8f)=>_0x4ffa30[_0x17797b(0x16c)]>_0x453f8f[_0x17797b(0x16c)]?0x1:_0x453f8f[_0x17797b(0x16c)]>_0x4ffa30[_0x17797b(0x16c)]?-0x1:0x0),_0x4a46a4[_0x17797b(0x177)](_0x31ef50=>{const _0x327338=_0x17797b;let _0x197e28={'coin':_0x31ef50[_0x327338(0x16c)],'number':_0x31ef50['number'],'price':_0x31ef50['last']};_0x363ad3['push'](_0x197e28);});const _0x16d727=await getFiat();_0x44f55d={'date':lastBalances[_0x17797b(0xda)][_0x17797b(0x145)]('\x20')[0x0],'eur':_0x16d727[_0x17797b(0xe8)],'usd':_0x16d727['usd'],'coins':_0x363ad3};let _0x3eeedf=dbPerformance[_0x17797b(0x11f)]('data')[_0x17797b(0x17b)]({'date':_0x44f55d[_0x17797b(0x18b)]})[_0x17797b(0x1e6)]();_0x3eeedf?_0x44f55d[_0x17797b(0x18b)]!=config[_0x17797b(0x195)]&&dbPerformance['get']('data')[_0x17797b(0x17b)]({'date':_0x44f55d[_0x17797b(0x18b)]})['assign'](_0x44f55d)[_0x17797b(0x169)]():dbPerformance['get']('data')[_0x17797b(0xfb)](_0x44f55d)[_0x17797b(0x169)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x447501=_0x21c2f4;let _0x51840b=[];if(dbPerformance[_0x447501(0x131)](_0x447501(0x1de))[_0x447501(0x1e6)]()){let _0x14475c=dbPerformance[_0x447501(0x11f)](_0x447501(0x1de))[_0x447501(0xd1)]()[_0x447501(0x123)]('date')[_0x447501(0x1e6)](),_0x10337c=[...config[_0x447501(0xc4)]];_0x10337c[_0x447501(0x133)]((_0x54cba8,_0x5f8125)=>_0x54cba8[_0x447501(0x18b)]>_0x5f8125['date']?-0x1:_0x5f8125[_0x447501(0x18b)]>_0x54cba8[_0x447501(0x18b)]?0x1:0x0);let _0x36e657=0x1,_0x5ef60a=[],_0x1031fe=0x0;_0x14475c[_0x447501(0x160)]()[_0x447501(0xb9)]()[_0x447501(0x177)]((_0x1cb15a,_0x3853a4)=>{const _0x4c5db5=_0x447501;if(_0x10337c[_0x1031fe]){if(_0x14475c[_0x14475c[_0x4c5db5(0x1fb)]-_0x3853a4]&&_0x10337c[_0x1031fe]['date']==_0x14475c[_0x14475c[_0x4c5db5(0x1fb)]-_0x3853a4][_0x4c5db5(0x18b)]){if(_0x3853a4<_0x14475c[_0x4c5db5(0x1fb)]){let _0x2a4503=0x0,_0x358a09=0x0;_0x14475c[_0x14475c[_0x4c5db5(0x1fb)]-_0x3853a4]['coins'][_0x4c5db5(0x177)](_0x2002dd=>{const _0x21379f=_0x4c5db5;_0x358a09+=_0x2002dd[_0x21379f(0xc3)]*_0x2002dd[_0x21379f(0x16d)];}),_0x10337c[_0x1031fe][_0x4c5db5(0x14e)][_0x4c5db5(0x177)](_0xc52511=>{const _0x41793c=_0x4c5db5;_0x2a4503+=_0xc52511[_0x41793c(0xc3)]*_0xc52511[_0x41793c(0x16d)];}),_0x36e657*=_0x2a4503/(_0x358a09-_0x2a4503)+0x1;}_0x1031fe++;}}let _0x1e4f99=0x0;_0x1cb15a[_0x4c5db5(0x194)]['forEach'](_0x5675de=>{const _0xfc2f4a=_0x4c5db5;_0x1e4f99+=_0x5675de[_0xfc2f4a(0xc3)]*_0x5675de[_0xfc2f4a(0x16d)];}),_0x5ef60a[_0x14475c['length']-_0x3853a4-0x1]=_0x1e4f99*(_0x36e657-0x1);});let _0x140bc9=[];_0x10337c=[...config[_0x447501(0xc4)]]||[];let _0x20a587=0x0;_0x1031fe=0x0,_0x14475c[_0x447501(0x177)]((_0xe79c1f,_0x3aadb4)=>{const _0x219740=_0x447501;if(_0x10337c[_0x1031fe]){const _0x8e787a=fns[_0x219740(0xc8)](_0x10337c[_0x1031fe][_0x219740(0x18b)],_0x219740(0x136),new Date()),_0x3750c2=fns['parse'](_0xe79c1f[_0x219740(0x18b)],_0x219740(0x136),new Date());if(fns[_0x219740(0x134)](_0x8e787a,_0x3750c2)){let _0x5d2629=0x0;_0x10337c[_0x1031fe][_0x219740(0x14e)][_0x219740(0x177)](_0x3ca50d=>{const _0x198701=_0x219740;!_0x140bc9[_0x3ca50d['coin']]?_0x140bc9[_0x3ca50d[_0x198701(0x16c)]]=_0x3ca50d[_0x198701(0xc3)]:(_0x5d2629=_0x140bc9[_0x3ca50d[_0x198701(0x16c)]],_0x140bc9[_0x3ca50d[_0x198701(0x16c)]]+=_0x3ca50d[_0x198701(0xc3)]);const _0x2db5de=_0xe79c1f[_0x198701(0x194)][_0x198701(0x17b)](_0x37940b=>_0x37940b['coin']==_0x3ca50d[_0x198701(0x16c)]);(!_0x2db5de||_0x2db5de['number']==0x0)&&(_0x20a587+=(-_0x3ca50d[_0x198701(0xc3)]-_0x5d2629)*_0x3ca50d[_0x198701(0x16d)]);}),_0x1031fe++;}}_0xe79c1f[_0x219740(0x194)][_0x219740(0x177)]((_0xcc0254,_0x4d3222)=>{const _0x557088=_0x219740;_0x140bc9[_0xcc0254[_0x557088(0x16c)]]&&(_0xcc0254={..._0xcc0254,'initial':_0x140bc9[_0xcc0254[_0x557088(0x16c)]]}),_0xe79c1f[_0x557088(0x194)][_0x4d3222]=_0xcc0254;}),_0x51840b[_0x219740(0xfb)]({'date':_0xe79c1f[_0x219740(0x18b)],'eur':_0xe79c1f['eur'],'usd':_0xe79c1f[_0x219740(0x189)],'offset':_0x5ef60a[_0x3aadb4],'netoffset':_0x20a587,'coins':_0xe79c1f[_0x219740(0x194)]});});}return _0x51840b;}function emitPerformance(_0x3401f2){const _0x1d9027=_0x21c2f4;_0x3401f2[_0x1d9027(0x1fb)]!==0x0?(proxyEmit(_0x1d9027(0x1dc),_0x3401f2),lastPerformanceEmitted=getDate()):proxyEmit(_0x1d9027(0x1dc),[]);}function getPerf(_0x49829d,_0x4b3d4e){const _0x823d5a=_0x21c2f4;let _0x24f613=0x0,_0x2b5b92=0x0,_0x548937=0x0;_0x49829d[_0x823d5a(0x194)][_0x823d5a(0x177)](_0x1b8bb2=>{const _0x839655=_0x823d5a;_0x24f613+=_0x1b8bb2[_0x839655(0xc3)]*_0x1b8bb2['price'];});_0x4b3d4e&&(_0x24f613+=_0x49829d[_0x823d5a(0x1aa)]);if(config[_0x823d5a(0xe7)]===_0x823d5a(0x1e0)||config[_0x823d5a(0xe7)]===_0x823d5a(0xff))_0x2b5b92=_0x24f613*_0x49829d[_0x823d5a(0xe8)],_0x548937=_0x24f613*_0x49829d[_0x823d5a(0x189)];else{if(config['basecoin']==='BUSD'||config[_0x823d5a(0xe7)]==='USDT')_0x2b5b92=_0x24f613*_0x49829d[_0x823d5a(0xe8)]/_0x49829d[_0x823d5a(0x189)],_0x548937=_0x24f613;else config[_0x823d5a(0xe7)]==='EUR'&&(_0x2b5b92=_0x24f613,_0x548937=_0x24f613*_0x49829d['usd']/_0x49829d['eur']);}return[_0x24f613,_0x2b5b92,_0x548937];}function getKPIs(_0x370680,_0x37b9bf=_0x21c2f4(0x142)){const _0x26d818=_0x21c2f4,_0x13de4a=config[_0x26d818(0xe7)],_0x1c7bf0=config[_0x26d818(0xf7)],_0x1e4656=currentCoins,_0xadbb16=getNormalizedPerformance(),_0x5054b4=_0x370680===_0x26d818(0xe7)?_0x13de4a:_0x370680==='fiat'||_0x370680===_0x26d818(0x19b)?_0x37b9bf:_0x26d818(0xec)+_0x13de4a,_0x554268=_0x370680===_0x26d818(0x1b4)?_0x26d818(0xf3):_0x370680===_0x26d818(0x19b)?_0x26d818(0x1d1)+_0x5054b4+')':_0x5054b4+'\x20value',_0x2ba578=_0x370680===_0x26d818(0x1b4)||_0x370680===_0x26d818(0x19b)?_0x26d818(0xf3):_0x5054b4+_0x26d818(0x126);let _0x1bcc4a=0x0;_0x1e4656[_0x26d818(0x177)](_0x3c54c5=>{const _0x22c7e8=_0x26d818;_0x1bcc4a+=_0x3c54c5[_0x22c7e8(0xc3)]*_0x3c54c5[_0x22c7e8(0x1ca)];});if(_0x370680===_0x26d818(0x19a)||_0x370680==='net-fiat'){if(_0x13de4a===_0x26d818(0x1e0)||_0x13de4a===_0x26d818(0xff))_0x1bcc4a=_0x1bcc4a*(_0x37b9bf===_0x26d818(0x142)?_0x1c7bf0[_0x26d818(0xe8)]:_0x1c7bf0[_0x26d818(0x189)]);else{if(_0x13de4a===_0x26d818(0xf1)||_0x13de4a===_0x26d818(0x1fa))_0x1bcc4a=_0x1bcc4a*(_0x37b9bf===_0x26d818(0x142)?_0x1c7bf0[_0x26d818(0xe8)]/_0x1c7bf0[_0x26d818(0x189)]:0x1);else _0x13de4a===_0x26d818(0x142)&&(_0x1bcc4a=_0x1bcc4a*(_0x37b9bf===_0x26d818(0x142)?0x1:_0x1c7bf0[_0x26d818(0x189)]/_0x1c7bf0[_0x26d818(0xe8)]));}}let _0x5e9282;if(_0x1bcc4a!==0x0){if(_0x370680===_0x26d818(0xe7))_0x5e9282=(_0x1bcc4a/startingBalances[_0x26d818(0xe7)]-0x1)*0x64;else{if(_0x37b9bf==='EUR')_0x5e9282=(_0x1bcc4a/startingBalances['eur']-0x1)*0x64;else _0x5e9282=(_0x1bcc4a/startingBalances['usd']-0x1)*0x64;}let _0x36d518=0x0;if(startingBalances[_0x26d818(0x194)])_0x1e4656[_0x26d818(0x177)](_0x38ab8c=>{const _0x7a7f36=_0x26d818;let _0x533966=startingBalances['coins'][_0x7a7f36(0x17b)](_0x5bf481=>_0x5bf481[_0x7a7f36(0x16c)]===_0x38ab8c[_0x7a7f36(0x16c)]);if(_0x533966&&_0x533966[_0x7a7f36(0x16c)]&&_0x38ab8c[_0x7a7f36(0xc3)]!==0x0)_0x36d518+=_0x533966['number']*_0x38ab8c[_0x7a7f36(0x1ca)];});let _0x49a0fa=0x0;if(_0xadbb16[_0x26d818(0x1fb)]!==0x0){let _0xd98359=_0xadbb16[_0xadbb16[_0x26d818(0x1fb)]-0x1];_0x49a0fa=_0xd98359[_0x26d818(0x1d6)];}_0x36d518-=_0x49a0fa;_0x370680===_0x26d818(0x1b4)&&(_0x5e9282=(_0x1bcc4a-_0x36d518)/startingBalances['basecoin']*0x64,_0x1bcc4a=_0x1bcc4a-_0x36d518);if(_0x370680==='net-fiat'){let _0x1e58fb=_0x37b9bf===_0x26d818(0x142)?startingBalances[_0x26d818(0xe8)]:startingBalances[_0x26d818(0x189)];if(_0x13de4a===_0x26d818(0x1e0)||_0x13de4a==='ETH')_0x36d518=_0x37b9bf===_0x26d818(0x142)?_0x36d518*_0x1c7bf0[_0x26d818(0xe8)]:_0x36d518*_0x1c7bf0[_0x26d818(0x189)];else{if(_0x13de4a===_0x26d818(0xf1)||_0x13de4a===_0x26d818(0x1fa))_0x36d518=_0x37b9bf===_0x26d818(0x142)?_0x36d518*_0x1c7bf0[_0x26d818(0xe8)]/_0x1c7bf0[_0x26d818(0x189)]:_0x36d518;else _0x13de4a==='EUR'&&(_0x36d518=_0x37b9bf===_0x26d818(0x142)?_0x36d518:_0x36d518*_0x1c7bf0['usd']/_0x1c7bf0['eur']);}_0x5e9282=(_0x1bcc4a-_0x36d518)/_0x1e58fb*0x64,_0x1bcc4a=_0x1bcc4a-_0x36d518;}if(_0x5e9282){if(_0x5e9282<0x64)_0x5e9282=_0x5e9282['toFixed'](0x2);else{if(_0x5e9282<0x3e8)_0x5e9282=_0x5e9282[_0x26d818(0x1f5)](0x1);else _0x5e9282=_0x5e9282['toFixed'](0x0);}}else _0x5e9282=Number('0')['toFixed'](0x2);if(_0x1bcc4a){if(Math[_0x26d818(0x146)](_0x1bcc4a)<0.000001)_0x1bcc4a=_0x1bcc4a[_0x26d818(0x1f5)](0x2);else{if(Math['abs'](_0x1bcc4a)<0.1)_0x1bcc4a=_0x1bcc4a['toFixed'](0x6);else{if(Math[_0x26d818(0x146)](_0x1bcc4a)<0x1)_0x1bcc4a=_0x1bcc4a['toFixed'](0x5);else{if(Math[_0x26d818(0x146)](_0x1bcc4a)<0xa)_0x1bcc4a=_0x1bcc4a[_0x26d818(0x1f5)](0x4);else{if(Math[_0x26d818(0x146)](_0x1bcc4a)<0x64)_0x1bcc4a=_0x1bcc4a[_0x26d818(0x1f5)](0x3);else{if(Math[_0x26d818(0x146)](_0x1bcc4a)<0x3e8)_0x1bcc4a=_0x1bcc4a['toFixed'](0x2);else _0x1bcc4a=_0x1bcc4a['toFixed'](0x2);}}}}}}else _0x1bcc4a=Number('0')[_0x26d818(0x1f5)](0x2);}else _0x5e9282=Number('0')[_0x26d818(0x1f5)](0x2);return{'value':_0x1bcc4a,'change':_0x5e9282,'leftTxt':_0x554268,'rightTxt':_0x2ba578};}async function getStartingBalances(_0x1804d9,_0x45f2de=!![]){const _0x115ae0=_0x21c2f4;if(_0x1804d9[_0x115ae0(0x1fb)]!==0x0){const [_0x1bc259,_0x4c6b7a,_0x2c721f]=getPerf(_0x1804d9[0x0],!![]);let _0x59664b=[];config[_0x115ae0(0x10c)][_0x115ae0(0x177)](_0x2b35e6=>{const _0x2c9e83=_0x115ae0;let _0x1f84a4=0x0,_0x27a4f2;config[_0x2c9e83(0xc4)][_0x2c9e83(0x177)](_0x522560=>{const _0x43eaaa=_0x2c9e83;let _0x5326e6=_0x522560[_0x43eaaa(0x14e)]['find'](_0x197d9c=>_0x197d9c['coin']==_0x2b35e6['coin']);if(_0x5326e6){_0x1f84a4+=_0x5326e6['number'];if(!_0x27a4f2)_0x27a4f2=_0x5326e6[_0x43eaaa(0x16d)];}}),_0x59664b[_0x2c9e83(0xfb)]({'coin':_0x2b35e6[_0x2c9e83(0x16c)],'number':_0x1f84a4,'initialprice':_0x27a4f2});});const _0x582fa9={'basecoin':_0x1bc259,'eur':_0x4c6b7a,'usd':_0x2c721f,'coins':_0x59664b};if(_0x45f2de)proxyEmit(_0x115ae0(0x16f),_0x582fa9);startingBalances=_0x582fa9;}}function headlessMode(_0xe21cca){const _0x353539=_0x21c2f4;let _0x17bb5c=_0xe21cca['portfolio'],_0x2c986e=_0xe21cca[_0x353539(0x1ab)],_0x440348=[];for(let _0x28bb7d of _0x17bb5c){if(_0x28bb7d[_0x353539(0x16c)]!=config['basecoin']){if(_0x28bb7d[_0x353539(0x1b6)]>=_0x2c986e/0x64){if(_0x28bb7d['valid'])_0x440348[_0x353539(0xfb)](_0x28bb7d);}else{if(_0x28bb7d[_0x353539(0x1b6)]<=-_0x2c986e/0x64){if(_0x28bb7d['valid'])_0x440348['push'](_0x28bb7d);}}}}_0x440348[_0x353539(0x1fb)]>0x0&&placeOrder(_0x440348);}function notifyBalance(_0x2bfa1e){const _0x46881f=_0x21c2f4;let _0xc2f36=_0x2bfa1e['portfolio'],_0x3eed70=_0x2bfa1e[_0x46881f(0x1ab)],_0x2b6851=[];for(let _0xc51c43 of _0xc2f36){if(_0xc51c43[_0x46881f(0x16c)]!=config[_0x46881f(0xe7)]){if(_0xc51c43[_0x46881f(0x1b6)]>=_0x3eed70/0x64){if(_0xc51c43[_0x46881f(0xf2)])_0x2b6851[_0x46881f(0xfb)](_0xc51c43);}else{if(_0xc51c43[_0x46881f(0x1b6)]<=-_0x3eed70/0x64){if(_0xc51c43['valid'])_0x2b6851[_0x46881f(0xfb)](_0xc51c43);}}}}if(_0x2b6851[_0x46881f(0x1fb)]>0x0){let _0x5e601f=_0x2b6851['map'](_0x16d5f0=>_0x16d5f0[_0x46881f(0x16c)]);_0x5e601f[_0x46881f(0x133)]();let _0x35c7c6=_0x5e601f['join'](',\x20');if(lastCoinsToBalance!==_0x35c7c6)logHistory(_0x46881f(0x165),_0x46881f(0xc0)+_0x35c7c6);lastCoinsToBalance=_0x35c7c6;}}function symbolToCoin(_0x348be7){const _0x2e2cee=_0x21c2f4;let _0x5e5375;if(_0x348be7[_0x2e2cee(0x11a)]('/'+config['basecoin']))_0x5e5375=_0x348be7[_0x2e2cee(0x1a7)]('/'+config[_0x2e2cee(0xe7)],'');if(_0x348be7[_0x2e2cee(0x11a)](config[_0x2e2cee(0xe7)]+'/'))_0x5e5375=_0x348be7['replace'](config[_0x2e2cee(0xe7)]+'/','');return _0x5e5375;}async function unlockOrders(){const _0x30c9f7=_0x21c2f4;if(allOrdersPlaced){lockOrders=ORDERS[_0x30c9f7(0x166)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x30c9f7(0xbe),lockOrders=ORDERS[_0x30c9f7(0x138)];}}async function validateOrders(_0x392ded){const _0x52cda3=_0x21c2f4;if(_0x392ded)validateOrdersState=_0x392ded;let _0x18d113=[],_0xd8593e=config[_0x52cda3(0xce)]==_0x52cda3(0x1e4)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x52cda3(0x1ea)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x52cda3(0x1cd)])return;lastOrders[_0x52cda3(0x177)](_0x48d228=>{const _0x1370cb=_0x52cda3;let _0x1f4227=![];_0x48d228['filled']>0x0&&(_0x1f4227=!![]),_0x18d113[_0x1370cb(0xfb)](_0x1f4227),_0x1f4227&&config[_0x1370cb(0xce)]!=_0x1370cb(0x1e4)&&logHistory(_0x1370cb(0x15e),'Order\x20filled:\x20'+_0x48d228[_0x1370cb(0x10a)]+'\x20'+_0x48d228[_0x1370cb(0x185)]+'\x20#'+formatResult(_0x48d228['filled'],0x8)+'\x20@'+formatResult(_0x48d228[_0x1370cb(0x16d)],0x8));}),_0x18d113['forEach']((_0x67d47,_0x2b7e7e)=>{if(_0x67d47)lastOrders['splice'](_0x2b7e7e,0x1);});const _0xd6152d=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':'balancing\x20resumed';if(validateOrdersState==_0x52cda3(0xbe))validateOrdersState=_0x52cda3(0x156),_0x18d113[_0x52cda3(0x11a)](![])?config[_0x52cda3(0xce)]==_0x52cda3(0x1e4)?logHistory(_0x52cda3(0x1b7),_0x52cda3(0x124)):logHistory(_0x52cda3(0x1b7),_0x52cda3(0x1b5)):await unlockOrders();else{if(validateOrdersState==_0x52cda3(0x156)){if(_0x18d113[_0x52cda3(0x11a)](![])){}else allOrdersPlaced&&(config[_0x52cda3(0xce)]=='market'?logHistory('success',_0x52cda3(0x112)+_0xd6152d):logHistory(_0x52cda3(0x165),'Order(s)\x20filled\x20-\x20'+_0xd6152d),await unlockOrders());}else{if(validateOrdersState=='final')_0x18d113[_0x52cda3(0x11a)](![])&&(config[_0x52cda3(0xce)]==_0x52cda3(0x1e4)?logHistory('success',_0x52cda3(0x152)+Math['round'](_0xd8593e*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0xd6152d):(await cancelOrders(),logHistory(_0x52cda3(0x165),_0x52cda3(0x1e3)+Math[_0x52cda3(0x1cc)](_0xd8593e*validateOrderInterval/0xea60)+_0x52cda3(0x1be)+_0xd6152d))),await unlockOrders();else{if(validateOrdersState==_0x52cda3(0x106)){if(config[_0x52cda3(0xce)]!='market')logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0xd6152d);await unlockOrders();}}}}}async function cancelOrders(){const _0x3ef228=_0x21c2f4;lastOrders[_0x3ef228(0x177)](async _0x18d67e=>{const _0x25d34a=_0x3ef228;try{const _0x157584=await exchange['cancelOrder'](_0x18d67e[_0x25d34a(0xbb)],_0x18d67e[_0x25d34a(0x10a)]);}catch(_0x28f62c){if(_0x28f62c[_0x25d34a(0xd5)]()['includes'](_0x25d34a(0x171))){}else await handleError(_0x28f62c,_0x25d34a(0x1f4));}});}async function initCoinResults(){const _0xb81fa1=_0x21c2f4;let _0x2e6aef=[];config[_0xb81fa1(0x10c)][_0xb81fa1(0x177)](_0x215c51=>{const _0xf4c1de=_0xb81fa1;if(!_0x215c51['excluded']&&_0x215c51[_0xf4c1de(0x16c)]!=config['basecoin']){let _0x1fde1d=dbCoinResults[_0xf4c1de(0x11f)]('coins')['find']({'coin':_0x215c51[_0xf4c1de(0x16c)]})[_0xf4c1de(0x1e6)]();if(!_0x1fde1d){const _0x529210=currentCoins['find'](_0x3a5518=>_0x3a5518['coin']==_0x215c51[_0xf4c1de(0x16c)]),_0x1b7642=global[_0xf4c1de(0x132)][noslash(_0x215c51[_0xf4c1de(0x10a)])];let _0x13ce34=_0x529210?_0x529210[_0xf4c1de(0xc3)]:null,_0x5a2ae7=_0x215c51[_0xf4c1de(0xb9)]?0x1/_0x1b7642:_0x1b7642,_0x50f951;config[_0xf4c1de(0xc4)][_0xf4c1de(0x177)](_0xc9cf49=>{const _0x357ca2=_0xf4c1de;!_0x50f951&&(_0x50f951=_0xc9cf49[_0x357ca2(0x14e)][_0x357ca2(0x17b)](_0x1010ba=>_0x1010ba[_0x357ca2(0x16c)]==_0x215c51[_0x357ca2(0x16c)]),_0x50f951&&(_0x13ce34=_0x50f951['number'],_0x5a2ae7=_0x50f951['price']));}),_0x2e6aef[_0xf4c1de(0xfb)]({'coin':_0x215c51[_0xf4c1de(0x16c)],'number':_0x13ce34,'price':_0x5a2ae7});}}}),_0x2e6aef[_0xb81fa1(0x177)](_0x23baf4=>{const _0x27afe3=_0xb81fa1,_0x57f40f={'coin':_0x23baf4[_0x27afe3(0x16c)],'number':_0x23baf4[_0x27afe3(0xc3)],'breakeven':_0x23baf4['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x27afe3(0x11f)]('coins')['push'](_0x57f40f)[_0x27afe3(0x169)]();});}async function updateCoinResults(_0x546391,_0x1e4571=![]){const _0x4b0367=_0x21c2f4;let _0x363ff3,_0x14007e,_0x46fa68,_0x3b0b80,_0x2474b7,_0xd71821,_0x75f369=dbCoinResults['get'](_0x4b0367(0x194))[_0x4b0367(0x17b)]({'coin':_0x546391[_0x4b0367(0x16c)]})[_0x4b0367(0x1e6)]();!_0x75f369&&await initCoinResults();_0x546391['reverse']&&(_0xd71821={'filled':_0x546391[_0x4b0367(0x148)]*_0x546391[_0x4b0367(0x16d)],'amount':_0x546391['filled']*_0x546391['price'],'side':_0x546391[_0x4b0367(0x185)]=='sell'?_0x4b0367(0x1bb):_0x4b0367(0x1d4),'price':0x1/_0x546391[_0x4b0367(0x16d)]},_0x546391={..._0x546391,..._0xd71821});_0x1e4571?_0x14007e=_0x546391[_0x4b0367(0x185)]==_0x4b0367(0x1bb)?_0x75f369[_0x4b0367(0xc3)]+_0x546391[_0x4b0367(0x148)]:_0x75f369['number']-_0x546391['filled']:_0x14007e=await getCoinNumber(_0x546391[_0x4b0367(0x16c)]);if(_0x546391[_0x4b0367(0x14b)]&&_0x546391[_0x4b0367(0x14b)][_0x4b0367(0x1ee)]==config[_0x4b0367(0xe7)])_0x363ff3=_0x546391['fee']['cost'];else{if(_0x546391[_0x4b0367(0x14b)]&&_0x546391['fee'][_0x4b0367(0x1ee)]==_0x4b0367(0x11e)&&!_0x1e4571)_0x363ff3=_0x546391[_0x4b0367(0x14b)][_0x4b0367(0xe3)]*global[_0x4b0367(0x132)][_0x4b0367(0x11e)+config[_0x4b0367(0xe7)]];else _0x363ff3=defaultFee*_0x546391['filled']*_0x546391[_0x4b0367(0x16d)];}_0x546391[_0x4b0367(0x185)]==_0x4b0367(0x1bb)?(_0x46fa68=_0x14007e!=0x0?(_0x75f369['breakeven']*_0x75f369[_0x4b0367(0xc3)]+_0x546391['price']*(_0x14007e-_0x75f369[_0x4b0367(0xc3)])+_0x363ff3)/_0x14007e:0x0,_0x3b0b80=_0x75f369[_0x4b0367(0x180)]):(_0x46fa68=_0x14007e!=0x0?(_0x75f369[_0x4b0367(0xfc)]*_0x75f369[_0x4b0367(0xc3)]-_0x546391['price']*(_0x75f369['number']-_0x14007e)+_0x363ff3)/_0x14007e:0x0,_0x3b0b80=_0x75f369[_0x4b0367(0x180)]+(_0x546391[_0x4b0367(0x16d)]-_0x75f369['breakeven'])*_0x546391['filled']);_0x2474b7=(_0x546391['price']-_0x46fa68-_0x363ff3/_0x546391[_0x4b0367(0x148)])*_0x14007e;let _0x85568e={'coin':_0x546391[_0x4b0367(0x16c)],'number':_0x14007e,'breakeven':formatResult(_0x46fa68,0x8),'realized':formatResult(_0x3b0b80,0x8),'unrealized':formatResult(_0x2474b7,0x8),'fees':formatResult(_0x75f369[_0x4b0367(0x1d7)]+_0x363ff3,0x8),'sells':_0x546391['side']=='sell'?_0x75f369[_0x4b0367(0x139)]+0x1:_0x75f369[_0x4b0367(0x139)],'buys':_0x546391['side']=='buy'?_0x75f369['buys']+0x1:_0x75f369[_0x4b0367(0x1b0)]};dbCoinResults[_0x4b0367(0x11f)](_0x4b0367(0x194))[_0x4b0367(0x17b)]({'coin':_0x546391[_0x4b0367(0x16c)]})['assign'](_0x85568e)[_0x4b0367(0x169)]();if(!_0x1e4571){if(_0x546391[_0x4b0367(0x14b)]&&_0x546391[_0x4b0367(0x14b)]['currency']==_0x4b0367(0x11e)){const _0x53e5c3=currentCoins[_0x4b0367(0x17b)](_0x2e5ae9=>_0x2e5ae9[_0x4b0367(0x16c)]==_0x4b0367(0x11e));if(_0x53e5c3){let _0x1fbd85=dbCoinResults[_0x4b0367(0x11f)](_0x4b0367(0x194))[_0x4b0367(0x17b)]({'coin':_0x4b0367(0x11e)})[_0x4b0367(0x1e6)]();_0x85568e={..._0x1fbd85,'number':_0x53e5c3['number']},dbCoinResults[_0x4b0367(0x11f)](_0x4b0367(0x194))['find']({'coin':_0x4b0367(0x11e)})['assign'](_0x85568e)['write']();}}}}async function placeOrder(_0x57cd9d){const _0x5eb902=_0x21c2f4,_0x3c94ec=config[_0x5eb902(0xce)]=='market'?_0x5eb902(0x1e4):_0x5eb902(0x1c0);if(lockOrders==ORDERS[_0x5eb902(0x138)]&&!coolingDown){lockOrders=ORDERS[_0x5eb902(0x1cd)],allOrdersPlaced=![],validateOrdersState=_0x5eb902(0xbe),lastOrders=[];for(const _0x225895 of _0x57cd9d){let _0x5e8c20,_0x4bf7b8,_0x5b86ee,_0xd37a0b,_0x3e6264,_0x40c4bc=_0x225895[_0x5eb902(0x10a)];try{const _0x2e6907=await exchange[_0x5eb902(0x198)]([_0x40c4bc]),_0x59f831=_0x2e6907[_0x40c4bc];_0x5e8c20=_0x225895[_0x5eb902(0xb9)]?0x1/_0x225895['last']:_0x225895['last'],_0x4bf7b8=_0x59f831[_0x5eb902(0x107)],_0x5b86ee=_0x59f831[_0x5eb902(0xcc)];_0x225895[_0x5eb902(0xb9)]?(_0xd37a0b=_0x225895['side']==_0x5eb902(0x1bb)?_0x5eb902(0x1d4):_0x5eb902(0x1bb),_0x3e6264=Math[_0x5eb902(0x146)](_0x225895[_0x5eb902(0x1e5)])/_0x5e8c20):(_0xd37a0b=_0x225895['side'],_0x3e6264=Math[_0x5eb902(0x146)](_0x225895['trade']));_0x3c94ec==_0x5eb902(0x1c0)&&(config[_0x5eb902(0xce)]==_0x5eb902(0x175)&&(_0x5e8c20=_0xd37a0b==_0x5eb902(0x1bb)?_0x4bf7b8:_0x5b86ee),config[_0x5eb902(0xce)]=='limit-low'&&(_0x5e8c20=_0xd37a0b==_0x5eb902(0x1bb)?_0x5b86ee:_0x4bf7b8));_0x3e6264=formatResult(_0x3e6264,0x8),_0x5e8c20=formatResult(_0x5e8c20,0x8);const _0x3feae6=await exchange[_0x5eb902(0xdb)](_0x40c4bc,_0x3c94ec,_0xd37a0b,_0x3e6264,_0x5e8c20);lastOrders[_0x5eb902(0xfb)]({'orderId':_0x3feae6['id'],'symbol':_0x40c4bc,'coin':_0x225895[_0x5eb902(0x16c)],'side':_0xd37a0b,'reverse':_0x225895[_0x5eb902(0xb9)],'amount':_0x3feae6['amount'],'filled':0x0,'price':_0x3feae6[_0x5eb902(0x16d)],'fee':_0x3feae6[_0x5eb902(0x14b)]});const _0xf9021c=_0xd37a0b==_0x5eb902(0x1d4)?config[_0x5eb902(0xd0)]?String[_0x5eb902(0x130)]('0x'+config[_0x5eb902(0xd0)])+'\x20':'':config[_0x5eb902(0xfe)]?String[_0x5eb902(0x130)]('0x'+config[_0x5eb902(0xfe)])+'\x20':'',_0x325a46=_0x3c94ec=='market'?_0x5eb902(0xed):config[_0x5eb902(0xce)]=='limit-high'?'Limit\x20(high-margin)':_0x5eb902(0x157);if(_0x3c94ec==_0x5eb902(0x1e4))logHistory(_0x5eb902(0x15e),''+_0xf9021c+_0x325a46+_0x5eb902(0x114)+_0x40c4bc+'\x20'+_0xd37a0b+'\x20#'+formatResult(_0x3feae6['filled'],0x8)+'\x20@'+formatResult(_0x3feae6[_0x5eb902(0x16d)],0x8));else logHistory(_0x5eb902(0x15e),''+_0xf9021c+_0x325a46+_0x5eb902(0x114)+_0x40c4bc+'\x20'+_0xd37a0b+'\x20#'+formatResult(_0x3feae6[_0x5eb902(0x1f0)],0x8)+'\x20@'+formatResult(_0x3feae6[_0x5eb902(0x16d)],0x8));let _0x9ed8a9=currentCoins['find'](_0x15244e=>_0x15244e[_0x5eb902(0x16c)]==_0x225895[_0x5eb902(0x16c)]);_0x9ed8a9[_0x5eb902(0x16a)]=_0x5eb902(0xf9);if(config[_0x5eb902(0x1d8)]!=0x0){let _0x475ba4=null;if(cooldownTracker[_0x5eb902(0x1fb)]==config[_0x5eb902(0x1d8)]-0x1)_0x475ba4=cooldownTracker[_0x5eb902(0x155)]();const _0x401eee=getTimeStamp();cooldownTracker[_0x5eb902(0xfb)](_0x401eee);if(_0x475ba4){const _0xf2169f=fns[_0x5eb902(0x15b)](new Date(_0x401eee),new Date(_0x475ba4));if(_0xf2169f<cooldownInterval){logHistory(_0x5eb902(0x1b7),_0x5eb902(0xb4)+config[_0x5eb902(0x1d8)]+_0x5eb902(0x184)+cooldownInterval/0x3c+_0x5eb902(0x1ef)+cooldownPeriod/(0xe10*0x3e8)+_0x5eb902(0xd7)),coolingDown=!![];break;}}}}catch(_0x2e253b){if(_0x2e253b[_0x5eb902(0xd5)]()[_0x5eb902(0x11a)](_0x5eb902(0xe0)))logHistory(_0x5eb902(0x1b7),_0x5eb902(0x129)+_0x40c4bc);else{if(_0x2e253b[_0x5eb902(0xd5)]()[_0x5eb902(0x11a)](_0x5eb902(0xe6)))logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x40c4bc);else await handleError(_0x2e253b,'placeOrder()',_0x40c4bc);}}}allOrdersPlaced=!![];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x41ae2b=config[_0x5eb902(0xce)]==_0x5eb902(0x1e4)?validateOrderTimeout*0x3c*0x3e8:config[_0x5eb902(0x1ea)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x560833=_0x5eb902;validateOrders(_0x560833(0xe2));},_0x41ae2b),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x5eb902(0xfa)));}else{if(coolingDown)!config['headless']&&logHistory(_0x5eb902(0x1b7),_0x5eb902(0x1c3));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x5eb902(0xdc)]&&(config[_0x5eb902(0xce)]==_0x5eb902(0x1e4)?logHistory(_0x5eb902(0x1b7),_0x5eb902(0x1a2)):logHistory(_0x5eb902(0x1b7),_0x5eb902(0x1b3))));}}function restoreOrders(){const _0x2742af=_0x21c2f4;let _0x66bba9;lockOrders=ORDERS[_0x2742af(0x1cd)],validateOrdersState='ongoing',currentCoins[_0x2742af(0x177)](_0x4eb296=>{const _0xbd4eda=_0x2742af,_0x6f51ed=allOpenOrders[_0xbd4eda(0x17b)](_0xb6ca14=>_0xb6ca14[_0xbd4eda(0x10a)]==_0x4eb296[_0xbd4eda(0x10a)]);_0x6f51ed&&(lastOrders[_0xbd4eda(0xfb)]({'orderId':_0x6f51ed['id'],'symbol':_0x4eb296[_0xbd4eda(0x10a)],'coin':_0x4eb296['coin'],'side':_0x6f51ed[_0xbd4eda(0x185)],'reverse':_0x4eb296['reverse'],'amount':_0x6f51ed['amount'],'filled':0x0,'price':_0x6f51ed[_0xbd4eda(0x16d)],'fee':_0x6f51ed[_0xbd4eda(0x14b)]}),_0x4eb296[_0xbd4eda(0x16a)]=_0xbd4eda(0xf9),_0x66bba9=_0x6f51ed[_0xbd4eda(0x11c)]);}),allOrdersPlaced=!![];const _0x349e10=new Date()[_0x2742af(0x105)](),_0x2fc6b8=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x66bba9+_0x2fc6b8>_0x349e10){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5770c8=_0x2742af;validateOrders(_0x5770c8(0xe2));},_0x66bba9+_0x2fc6b8-_0x349e10);}else validateOrders(_0x2742af(0xe2));}async function sendPortfolioTelegram(){const _0x56b62e=_0x21c2f4;if(loading['progress']!=0x64){process[_0x56b62e(0x1f3)]({'telegrammsg':_0x56b62e(0x143)},_0x2b9864=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x23a5ab=['EUR',_0x56b62e(0xf1),'USDT'],_0x542214=_0x23a5ab[_0x56b62e(0x11a)](config[_0x56b62e(0xe7)])?0x2:0x8;let _0xc9acfc='';if(config[_0x56b62e(0x13c)])_0xc9acfc='<b>'+config['botname']+_0x56b62e(0x164);else _0xc9acfc=_0x56b62e(0xd2)+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x482e4b=getKPIs(_0x56b62e(0xe7)),_0x4b3cc0=getKPIs('net-basecoin');_0xc9acfc+=_0x56b62e(0x1e7),_0xc9acfc+=_0x482e4b[_0x56b62e(0xb8)]+_0x56b62e(0x1bd)+_0x482e4b['value']+'\x20\x0a',_0xc9acfc+=_0x482e4b['rightTxt']+':\x20'+_0x482e4b[_0x56b62e(0x192)]+_0x56b62e(0x1cf),_0xc9acfc+=_0x4b3cc0[_0x56b62e(0xb8)]+':\x20'+_0x4b3cc0['value']+'\x20'+config[_0x56b62e(0xe7)]+'\x0a',_0xc9acfc+=_0x4b3cc0['rightTxt']+':\x20'+_0x4b3cc0[_0x56b62e(0x192)]+_0x56b62e(0x1cf),_0xc9acfc+='\x0a',_0xc9acfc+=_0x56b62e(0x1dd),_0xc9acfc+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0xc9acfc+='-------------------------------\x0a',currentCoins['forEach'](_0x20a427=>{const _0x4d1015=_0x56b62e;_0xc9acfc+=_0x20a427[_0x4d1015(0x16c)][_0x4d1015(0x147)](0x7)+'|\x20'+formatPad(_0x20a427[_0x4d1015(0xde)],0x2,0x6)+'|\x20'+formatPad(_0x20a427['target'],0x2,0x6)+'|\x20'+formatPad(_0x20a427[_0x4d1015(0x1b6)]*0x64,0x2,0x6)+'\x0a';}),_0xc9acfc+=_0x56b62e(0x10e),process['send']({'telegrammsg':_0xc9acfc},_0x2c362a=>{});}function formatPad(_0xb274c8,_0x168909,_0xce1f97){const _0x325f32=_0x21c2f4,_0xc306b0=formatResultString(_0xb274c8,_0x168909);return _0xc306b0?_0xc306b0[_0x325f32(0x1c1)](_0xce1f97):''[_0x325f32(0x1c1)](_0xce1f97);}function logHistory(_0x5cffe3,_0x21e577,_0x4b4207=''){const _0x59b34c=_0x21c2f4;let _0x4883e7={'time':getTimeStamp(),'type':_0x5cffe3,'event':_0x21e577};dbLogs[_0x59b34c(0x11f)](_0x59b34c(0x1d9))[_0x59b34c(0xfb)](_0x4883e7)[_0x59b34c(0x169)]();if(_0x4b4207=='')_0x4b4207=_0x21e577;proxyEmit(_0x59b34c(0xee),{'log':_0x4883e7,'summary':_0x4b4207}),process['send']({'telegram':{..._0x4883e7,'botname':config[_0x59b34c(0xc7)],'showname':config[_0x59b34c(0x13c)]}},_0x5210b0=>{}),logger['full'](''+_0x4883e7[_0x59b34c(0xee)]);}function emitHistory(_0x1ec52f={}){const _0x1dcf0e=_0x21c2f4;Object[_0x1dcf0e(0xdf)](_0x1ec52f)[_0x1dcf0e(0x1fb)]==0x0&&(_0x1ec52f={'type':[_0x1dcf0e(0x15e),_0x1dcf0e(0xee)],'event':'','page':0x1});if(_0x1ec52f[_0x1dcf0e(0x14d)]['includes'](_0x1dcf0e(0xee)))_0x1ec52f['type'][_0x1dcf0e(0x16e)](_0x1ec52f[_0x1dcf0e(0x14d)][_0x1dcf0e(0x135)](_0x1dcf0e(0xee)),0x1,'error',_0x1dcf0e(0x165));if(dbLogs['has'](_0x1dcf0e(0x1d9))['value']()){let _0x23c0ff=dbLogs['get'](_0x1dcf0e(0x1d9))['filter'](_0x46e526=>{const _0x5e40cc=_0x1dcf0e;if(_0x1ec52f['type']['length']==0x0)return![];else return _0x1ec52f['type'][_0x5e40cc(0x11a)](_0x46e526[_0x5e40cc(0x14d)]);})[_0x1dcf0e(0x1a5)](_0x19e9d7=>{const _0x211ad4=_0x1dcf0e;if(_0x1ec52f[_0x211ad4(0xee)]=='')return!![];else return _0x19e9d7[_0x211ad4(0xee)][_0x211ad4(0xc6)]()[_0x211ad4(0x11a)](_0x1ec52f[_0x211ad4(0xee)]['toLowerCase']());})[_0x1dcf0e(0x123)](_0x1dcf0e(0xda)),_0x3be3dd=_0x23c0ff[_0x1dcf0e(0x1e6)]()[_0x1dcf0e(0x1fb)];_0x23c0ff=_0x23c0ff[_0x1dcf0e(0xb9)]()[_0x1dcf0e(0x160)]((_0x1ec52f['page']-0x1)*logPageSize,_0x1ec52f[_0x1dcf0e(0x1f8)]*logPageSize-0x1)['reverse']()[_0x1dcf0e(0x1e6)](),proxyEmit(_0x1dcf0e(0x13d),{'logs':_0x23c0ff,'total':_0x3be3dd});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x177196){const _0x355d74=_0x21c2f4;if(dbLogs['has'](_0x355d74(0x1d9))[_0x355d74(0x1e6)]()){const _0x32d91a=dbLogs[_0x355d74(0x11f)](_0x355d74(0x1d9))['sortBy'](_0x355d74(0xda))[_0x355d74(0x1a5)](_0x51610a=>{const _0x324dfd=_0x355d74;return _0x51610a['type']==_0x324dfd(0x15e);})[_0x355d74(0x1e6)]();dbLogs['get']('logs')[_0x355d74(0xfd)]()['write'](),dbLogs[_0x355d74(0x11f)](_0x355d74(0x1d9))[_0x355d74(0x14f)](_0x32d91a)[_0x355d74(0x169)](),emitHistory(_0x177196);}}async function pauseBot(_0x39e635=''){const _0x2156ec=_0x21c2f4,_0x5c3fe5=new Date()[_0x2156ec(0x105)]();if(!lastBotPause)lastBotPause=new Date()[_0x2156ec(0x105)](),consecutivePauses=0x1;else{if(_0x5c3fe5-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x2156ec(0x1f3)]({'stop':_0x2156ec(0xd8)},_0x48f5e1=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x2156ec(0x105)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x39e635)_0x39e635+='\x20|\x20';logHistory(_0x2156ec(0x1b7),_0x39e635+_0x2156ec(0x117)+pauseBotInterval/0xea60+_0x2156ec(0x188)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){process['send']({'stop':'kill'},_0x44f26a=>{}),await sleep(0x7d0);}async function handleError(_0x400907,_0x5dc125,_0x336c7b=''){const _0x158074=_0x21c2f4;if(_0x400907[_0x158074(0xd5)]()[_0x158074(0x11a)](_0x158074(0x1a1)))await pauseBot(_0x158074(0x1f7));else{if(_0x400907[_0x158074(0xd5)]()[_0x158074(0x11a)](_0x158074(0x13a)))await pauseBot(_0x158074(0x113));else{if(_0x400907['toString']()[_0x158074(0x11a)]('RequestTimeout'))await pauseBot(_0x158074(0x1b9));else{if(_0x400907[_0x158074(0xd5)]()[_0x158074(0x11a)](_0x158074(0x1b1)))logHistory('error',_0x5dc125+_0x158074(0x125)),logHistory(_0x158074(0x1b7),_0x158074(0xd3)),await killBot();else{if(_0x400907[_0x158074(0xd5)]()[_0x158074(0x11a)](_0x158074(0x120)))logHistory(_0x158074(0x1b7),_0x5dc125+_0x158074(0xcb)),logHistory(_0x158074(0x1b7),_0x158074(0xd3)),await killBot();else{if(_0x400907['toString']()['includes'](_0x158074(0xbf)))logHistory('error',_0x5dc125+_0x158074(0x1f6)),logHistory(_0x158074(0x1b7),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x400907[_0x158074(0xd5)]()[_0x158074(0x11a)](_0x158074(0x14c)))logHistory('error',_0x5dc125+_0x158074(0x196)),logHistory(_0x158074(0x1b7),_0x158074(0xd3)),await killBot();else{if(_0x400907[_0x158074(0xd5)]()[_0x158074(0x11a)](_0x158074(0x167)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process[_0x158074(0x1f3)]({'stop':_0x158074(0xd8)},_0x52c60c=>{});else _0x400907[_0x158074(0xd5)]()[_0x158074(0x11a)](_0x158074(0x193))?logHistory('error',_0x5dc125+_0x158074(0x109)+_0x336c7b):(logger['full'](_0x5dc125+_0x158074(0x118),_0x400907),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0xecfad0,_0x29d4e4){const _0x5f0aea=_0x21c2f4;return parseFloat(_0xecfad0[_0x5f0aea(0x1f5)](_0x29d4e4));}function formatResultTruncate(_0x38a529,_0x4fc91f){const _0x81c00a=_0x21c2f4;let _0x197810=formatResultString(_0x38a529,0xa),_0x4403a8=_0x197810[_0x81c00a(0x135)]('.');return _0x4403a8!=-0x1&&(_0x197810=_0x197810[_0x81c00a(0x160)](0x0,_0x4403a8+_0x4fc91f+0x1)),Number(_0x197810);}function formatResultString(_0x2a706c,_0x5ae206){const _0x1a71a0=_0x21c2f4;let _0x1129e8;if(!(''+_0x2a706c)[_0x1a71a0(0x11a)]('e'))_0x1129e8=+(Math[_0x1a71a0(0x1cc)](_0x2a706c+'e+'+_0x5ae206)+'e-'+_0x5ae206);else{let _0xc96131=(''+_0x2a706c)[_0x1a71a0(0x145)]('e'),_0x290bba='';+_0xc96131[0x1]+_0x5ae206>0x0&&(_0x290bba='+'),_0x1129e8=+(Math[_0x1a71a0(0x1cc)](+_0xc96131[0x0]+'e'+_0x290bba+(+_0xc96131[0x1]+_0x5ae206))+'e-'+_0x5ae206);}return Number(_0x1129e8)[_0x1a71a0(0x1f5)](_0x5ae206);}function getServerTime(){const _0x29e87f=_0x21c2f4,_0x2305b1=new Date();return _0x2305b1[_0x29e87f(0x1df)]()+'/'+(_0x2305b1[_0x29e87f(0xbd)]()+0x1)['toString']()[_0x29e87f(0x1c1)](0x2,'0')+'/'+_0x2305b1[_0x29e87f(0x11b)]()[_0x29e87f(0xd5)]()[_0x29e87f(0x1c1)](0x2,'0')+'\x20'+_0x2305b1[_0x29e87f(0xcf)]()['toString']()[_0x29e87f(0x1c1)](0x2,'0')+':'+_0x2305b1['getMinutes']()[_0x29e87f(0xd5)]()['padStart'](0x2,'0')+':'+_0x2305b1[_0x29e87f(0x172)]()[_0x29e87f(0xd5)]()[_0x29e87f(0x1c1)](0x2,'0');}function getTimeStamp(){const _0x2faede=_0x21c2f4,_0xca7efd=shiftedTime();return _0xca7efd['getFullYear']()+'/'+(_0xca7efd[_0x2faede(0xbd)]()+0x1)[_0x2faede(0xd5)]()[_0x2faede(0x1c1)](0x2,'0')+'/'+_0xca7efd['getDate']()['toString']()[_0x2faede(0x1c1)](0x2,'0')+'\x20'+_0xca7efd['getHours']()[_0x2faede(0xd5)]()['padStart'](0x2,'0')+':'+_0xca7efd[_0x2faede(0xf6)]()['toString']()[_0x2faede(0x1c1)](0x2,'0')+':'+_0xca7efd[_0x2faede(0x172)]()['toString']()[_0x2faede(0x1c1)](0x2,'0');}function getDate(){const _0x313d60=_0x21c2f4,_0x4042e9=shiftedTime();return _0x4042e9[_0x313d60(0x1df)]()+'/'+(_0x4042e9[_0x313d60(0xbd)]()+0x1)[_0x313d60(0xd5)]()[_0x313d60(0x1c1)](0x2,'0')+'/'+_0x4042e9[_0x313d60(0x11b)]()[_0x313d60(0xd5)]()[_0x313d60(0x1c1)](0x2,'0');}function getHour(){const _0x5888d6=_0x21c2f4,_0x2848fe=shiftedTime();return _0x2848fe[_0x5888d6(0xcf)]()[_0x5888d6(0xd5)]()[_0x5888d6(0x1c1)](0x2,'0');}function sleep(_0x97553c){return new Promise(_0x259c6e=>setTimeout(_0x259c6e,_0x97553c));}function shiftedTime(){const _0x840bb7=_0x21c2f4,_0x4ed176=new Date();let _0x568fd3=_0x4ed176;if(config&&config[_0x840bb7(0x119)]!==0x0)_0x568fd3=fns[_0x840bb7(0xcd)](_0x4ed176,{'hours':config['timeshift']});return _0x568fd3;}