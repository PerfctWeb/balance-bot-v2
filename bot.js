const _0x342bad=_0x2c5d;(function(_0x29903b,_0x17bf4d){const _0x1c2463=_0x2c5d,_0x24fab3=_0x29903b();while(!![]){try{const _0x2da624=-parseInt(_0x1c2463(0x239))/0x1*(-parseInt(_0x1c2463(0x16a))/0x2)+-parseInt(_0x1c2463(0x15d))/0x3*(parseInt(_0x1c2463(0x278))/0x4)+-parseInt(_0x1c2463(0x20c))/0x5+-parseInt(_0x1c2463(0x1a6))/0x6+parseInt(_0x1c2463(0x240))/0x7*(-parseInt(_0x1c2463(0x222))/0x8)+-parseInt(_0x1c2463(0x1fb))/0x9*(-parseInt(_0x1c2463(0x275))/0xa)+parseInt(_0x1c2463(0x178))/0xb*(parseInt(_0x1c2463(0x158))/0xc);if(_0x2da624===_0x17bf4d)break;else _0x24fab3['push'](_0x24fab3['shift']());}catch(_0x1acc2d){_0x24fab3['push'](_0x24fab3['shift']());}}}(_0x3d10,0xf1c38));const _0x410a13=function(){let _0x17c2f0=!![];return function(_0x23dcc9,_0x36133a){const _0x5315e8=_0x17c2f0?function(){const _0x31175a=_0x2c5d;if(_0x36133a){const _0x264098=_0x36133a[_0x31175a(0x244)](_0x23dcc9,arguments);return _0x36133a=null,_0x264098;}}:function(){};return _0x17c2f0=![],_0x5315e8;};}(),_0x2e4d2f=_0x410a13(this,function(){const _0x3ac741=_0x2c5d;return _0x2e4d2f['toString']()['search'](_0x3ac741(0x206))[_0x3ac741(0x213)]()[_0x3ac741(0x1ef)](_0x2e4d2f)[_0x3ac741(0x16f)](_0x3ac741(0x206));});_0x2e4d2f();'use strict';const ccxt=require(_0x342bad(0x15e)),low=require(_0x342bad(0x25c)),FileSync=require(_0x342bad(0x24a)),fs=require('fs'),fns=require(_0x342bad(0x26b)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x342bad(0x1ae)),Crypt=require('hybrid-crypto-js')['Crypt'];let exchange,wsClient;global[_0x342bad(0x271)]={},global[_0x342bad(0x22f)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x342bad(0x232),'HOT/BTC','HOT/EUR',_0x342bad(0x247),'NANO/',_0x342bad(0x268)];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x342bad(0x157))['version'],botID=process[_0x342bad(0x225)][0x2]||_0x342bad(0x204),pattern=/^[0-9]{3}$/;!pattern[_0x342bad(0x150)](botID)&&(console[_0x342bad(0x1a3)](_0x342bad(0x1d8)+botID+_0x342bad(0x1b9)),process[_0x342bad(0x153)](0x1));const userID=process[_0x342bad(0x225)][0x3]||'',configpath=userID?_0x342bad(0x201)+userID+'/':'./config/';!fs[_0x342bad(0x223)](configpath)&&fs[_0x342bad(0x1ba)](configpath);const configfile=configpath+_0x342bad(0x1fa)+botID+_0x342bad(0x25e),logfile=configpath+'bot-'+botID+_0x342bad(0x1bb),performancefile=configpath+_0x342bad(0x1fa)+botID+_0x342bad(0x1aa),coinresultsfile=configpath+_0x342bad(0x1fa)+botID+_0x342bad(0x1e1),settingsfile=configpath+_0x342bad(0x266),securefile=configpath+_0x342bad(0x1dc),configbackuppath=configpath+_0x342bad(0x20b),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x342bad(0x231)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x342bad(0x1fc)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x342bad(0x1fc)]({'bot':[]})[_0x342bad(0x231)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x342bad(0x1fc)]({'coins':[]})[_0x342bad(0x231)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x342bad(0x14e),'symbol':_0x342bad(0x24f)},'usd':{'coin':_0x342bad(0x1ac),'symbol':_0x342bad(0x211)}},lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x5a6226)=>{},'debug':(..._0x54f573)=>{},'notice':(..._0x1eba9d)=>{},'info':(..._0xb7da5d)=>{},'warning':(..._0x3e2a14)=>{},'error':async function(..._0x2b1146){const _0x1aca1f=_0x342bad,_0x2585dc=new Date()[_0x1aca1f(0x156)]();if(!lastErrorShown||_0x2585dc-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x1aca1f(0x156)]();let _0x3d7135='';if(_0x2b1146[0x0])_0x3d7135+=_0x2b1146[0x0];if(_0x2b1146[0x1]&&_0x2b1146[0x1][_0x1aca1f(0x169)]&&_0x2b1146[0x1][_0x1aca1f(0x169)][_0x1aca1f(0x16b)])_0x3d7135+=_0x1aca1f(0x18f)+_0x2b1146[0x1][_0x1aca1f(0x169)][_0x1aca1f(0x16b)];logging(_0x1aca1f(0x185)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x3d7135),await pauseBot(_0x1aca1f(0x1a2));}}},crypt=new Crypt({'md':_0x342bad(0x1af),'rsaStandard':_0x342bad(0x264)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x342bad(0x1e2)]!=config[_0x342bad(0x1e2)]&&updateTimeshift(settings[_0x342bad(0x1e2)]);process[_0x342bad(0x196)]({'started':'running'},_0x367e21=>{}),initializeProcessListeners();function proxyEmit(_0x7d066b,_0x11f0b0=null){const _0x4c78fe=_0x342bad;process[_0x4c78fe(0x196)]({'function':_0x7d066b,'args':_0x11f0b0},_0x7147ee=>{});}function initializeProcessListeners(){const _0x1401dc=_0x342bad;process['on'](_0x1401dc(0x16b),_0x52ec55=>{const _0x22195e=_0x1401dc;switch(Object[_0x22195e(0x1c9)](_0x52ec55)[0x0]){case _0x22195e(0x1e2):_0x52ec55[_0x22195e(0x1e2)]!=undefined&&(settings['timeshift']=_0x52ec55[_0x22195e(0x1e2)],updateTimeshift(settings[_0x22195e(0x1e2)]));break;case _0x22195e(0x270):switch(_0x52ec55['function']){case'initclient':initclient();break;case _0x22195e(0x1ff):toggleBotMode();break;case'emitHistory':emitHistory(_0x52ec55[_0x22195e(0x1c8)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x52ec55[_0x22195e(0x1c8)]);break;case _0x22195e(0x188):getPortfolio(_0x52ec55['args']);break;case _0x22195e(0x25a):storeConfiguration(_0x52ec55[_0x22195e(0x1c8)]);break;case _0x22195e(0x1b8):storeHeadless(_0x52ec55[_0x22195e(0x1c8)]);break;case _0x22195e(0x1b3):getStartingBalances(getNormalizedPerformance());break;case _0x22195e(0x19d):placeOrder(_0x52ec55[_0x22195e(0x1c8)]);break;case _0x22195e(0x26d):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x49d434=_0x342bad;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x49d434(0x207)],config[_0x49d434(0x194)]);let _0x35410d=await loadSymbols();_0x35410d&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x3e2630,_0x4c3fb2){const _0x305c47=_0x342bad,_0x1941de=ccxt[config[_0x305c47(0x1a0)]];let _0x5330f1;switch(config[_0x305c47(0x1a0)]){case _0x305c47(0x1ae):_0x5330f1=_0x305c47(0x1d2);break;case _0x305c47(0x21d):_0x5330f1=_0x305c47(0x234);break;default:_0x5330f1='wss://stream.binance.com:9443';}exchange=new _0x1941de({'apiKey':_0x3e2630,'secret':_0x4c3fb2,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x3e2630,'api_secret':_0x4c3fb2,'beautify':!![],'wsUrl':_0x5330f1},logger),config[_0x305c47(0x1a0)]==_0x305c47(0x21d)&&(stablecoins={'eur':{'coin':_0x305c47(0x1b7),'symbol':'BTC/BUSD'},'usd':{'coin':_0x305c47(0x1ac),'symbol':_0x305c47(0x211)}});}async function loadSymbols(){const _0x32866e=_0x342bad;let _0x22c3ca;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x32866e(0x1b2)][_0x32866e(0x177)](_0x399981=>{const _0x50743a=_0x32866e;let _0x440b0b=![];return exceptions[_0x50743a(0x254)](_0x99a467=>{if(_0x399981['includes'](_0x99a467))_0x440b0b=!![];}),!_0x440b0b;}),_0x22c3ca=!![];}catch(_0x5101eb){await handleError(_0x5101eb,_0x32866e(0x238)),_0x22c3ca=![];}return _0x22c3ca;}async function initbot(){const _0x4b5a05=_0x342bad;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0xd9096d=dbCoinResults[_0x4b5a05(0x15a)](_0x4b5a05(0x18a))[_0x4b5a05(0x241)]();if(_0xd9096d['length']==0x0)await resetCoinResults();}async function initclient(){const _0x391ff6=_0x342bad;proxyEmit(_0x391ff6(0x24b),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xa3718c=getNormalizedPerformance();emitPerformance(_0xa3718c),await getStartingBalances(_0xa3718c);}async function toggleBotMode(){const _0x4a89a5=_0x342bad;let _0x28fa69=dbConfig['get'](_0x4a89a5(0x217))['find']({'botID':botID})['value']();if(_0x28fa69){const _0x448018=!_0x28fa69[_0x4a89a5(0x208)];dbConfig[_0x4a89a5(0x15a)](_0x4a89a5(0x217))[_0x4a89a5(0x159)]({'botID':botID})[_0x4a89a5(0x261)]({'headless':_0x448018})['write'](),config[_0x4a89a5(0x208)]=_0x448018,proxyEmit(_0x4a89a5(0x24b),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4ed126=_0x342bad;process[_0x4ed126(0x196)]({'updatebotmanager':!![]},_0x47215c=>{});}function cleanws(){const _0x4d9a12=_0x342bad;wsinitialized=![];ws1&&(ws1[_0x4d9a12(0x254)](_0x42b13d=>{try{wsClient['closeWs'](_0x42b13d);}catch(_0x3a28cf){}}),ws1=[]);if(ws2){try{wsClient[_0x4d9a12(0x1df)](ws2);}catch(_0x3d82b5){}ws2=null;}ws3&&(ws3[_0x4d9a12(0x254)](_0x40b898=>{const _0x241c6f=_0x4d9a12;try{wsClient[_0x241c6f(0x1df)](_0x40b898);}catch(_0x27a173){}}),ws3=[]);}async function initws(){const _0x2b65ad=_0x342bad;cleanws();let _0x59d5f8=[];currentCoins[_0x2b65ad(0x254)](_0x38c237=>{const _0x5d7b2b=_0x2b65ad;if(_0x38c237[_0x5d7b2b(0x227)]!=config[_0x5d7b2b(0x17c)])_0x59d5f8['push'](_0x38c237['symbol']);});if(!_0x59d5f8[_0x2b65ad(0x16c)](stablecoins[_0x2b65ad(0x205)][_0x2b65ad(0x1fe)]))_0x59d5f8['push'](stablecoins[_0x2b65ad(0x205)][_0x2b65ad(0x1fe)]);if(!_0x59d5f8[_0x2b65ad(0x16c)](stablecoins[_0x2b65ad(0x199)][_0x2b65ad(0x1fe)]))_0x59d5f8[_0x2b65ad(0x198)](stablecoins[_0x2b65ad(0x199)][_0x2b65ad(0x1fe)]);if(!_0x59d5f8[_0x2b65ad(0x16c)](_0x2b65ad(0x1e4)+config[_0x2b65ad(0x17c)]))_0x59d5f8[_0x2b65ad(0x198)](_0x2b65ad(0x1e4)+config[_0x2b65ad(0x17c)]);try{_0x59d5f8[_0x2b65ad(0x254)]((_0x4573bf,_0x607718)=>{const _0x234fdf=_0x2b65ad;ws1[_0x607718]=wsClient[_0x234fdf(0x1d1)](noslash(_0x4573bf),'1m'),ws3[_0x607718]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x4573bf),_0x234fdf(0x1a9));}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x2b65ad(0x1e9),_0x422cb5=>{const _0x38b1bf=_0x2b65ad;if(isWsFormattedKline(_0x422cb5)){global[_0x38b1bf(0x271)][_0x422cb5[_0x38b1bf(0x26e)]['symbol']]=_0x422cb5[_0x38b1bf(0x26e)][_0x38b1bf(0x186)];return;}else{if(isWsFormatted24hrTicker(_0x422cb5)){global['change'][_0x422cb5[_0x38b1bf(0x1fe)]]=_0x422cb5[_0x38b1bf(0x1eb)];return;}else{if(!Array[_0x38b1bf(0x1dd)](_0x422cb5)&&_0x422cb5[_0x38b1bf(0x1d0)][_0x38b1bf(0x16c)](_0x38b1bf(0x1da))){if(_0x422cb5[_0x38b1bf(0x171)][_0x38b1bf(0x16c)](_0x38b1bf(0x1a9))){updateNumberCoins(_0x422cb5);return;}}}}}),wsClient['on'](_0x2b65ad(0x243),async _0x4e5b04=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x2fbb46){await handleError(_0x2fbb46,'initws()');}let _0x88feda,_0x344200=0x0;loading['remainingSymbols']=[];let _0x36e8d7=0x0;_0x59d5f8['forEach'](_0x3b72bc=>{const _0x19f44d=_0x2b65ad;loading['remainingSymbols'][_0x19f44d(0x198)](_0x3b72bc);}),loadingCanceled=![];while(_0x88feda!=_0x59d5f8[_0x2b65ad(0x1f6)]){_0x88feda=0x0,_0x59d5f8[_0x2b65ad(0x254)](_0x1b528f=>{const _0x4f30ba=_0x2b65ad;global[_0x4f30ba(0x271)][noslash(_0x1b528f)]&&(loading[_0x4f30ba(0x237)]=loading[_0x4f30ba(0x237)][_0x4f30ba(0x177)](_0x41e6c4=>_0x41e6c4!=_0x1b528f),_0x88feda++);}),loading[_0x2b65ad(0x228)]=Math[_0x2b65ad(0x17e)](_0x88feda/_0x59d5f8['length']*0x64);_0x36e8d7>0x1e*0x5&&(loading[_0x2b65ad(0x189)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x2b65ad(0x167)]=!![],emitLoadingProgress();break;}else _0x88feda!=_0x344200&&(_0x344200=_0x88feda,emitLoadingProgress()),_0x36e8d7++,await sleep(0xc8);}if(_0x88feda==_0x59d5f8[_0x2b65ad(0x1f6)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x409176=_0x342bad;proxyEmit(_0x409176(0x242),loading);}async function getFiat(){const _0x3a129c=_0x342bad;let _0x517f03=0x0,_0x5e74bb=0x0;try{_0x517f03=global[_0x3a129c(0x271)][stablecoins[_0x3a129c(0x205)][_0x3a129c(0x227)]],_0x5e74bb=global[_0x3a129c(0x271)][stablecoins[_0x3a129c(0x199)][_0x3a129c(0x227)]];}catch(_0x52d0c8){await handleError(_0x52d0c8,_0x3a129c(0x19c));}return{'eur':Number(_0x517f03),'usd':Number(_0x5e74bb)};}function setStartDatePerformance(){const _0x358450=_0x342bad;if(config&&config['liquidity'][0x0][_0x358450(0x1e6)][_0x358450(0x1f6)]!=0x0){const _0x3d7163=config['liquidity'][0x0][_0x358450(0x1e6)];dbPerformance['get']('data')['find']({'date':config[_0x358450(0x24c)]})[_0x358450(0x261)]({'coins':_0x3d7163})[_0x358450(0x231)]();}}async function recreateHistory(_0x2caadb){const _0x4c1126=_0x342bad;let _0x55b5fc,_0x499006=[];logHistory(_0x4c1126(0x19e),_0x4c1126(0x1ca)),_0x2caadb[_0x4c1126(0x22b)]['forEach'](_0x157200=>{const _0x3cedc7=_0x4c1126;if(_0x157200['coin']!=config[_0x3cedc7(0x17c)]&&!_0x157200[_0x3cedc7(0x1f8)])_0x499006[_0x3cedc7(0x198)]({'coin':_0x157200['coin'],'symbol':_0x157200[_0x3cedc7(0x1fe)]});});let _0x35253a=[];try{const _0x551b8d=fns[_0x4c1126(0x192)](fns[_0x4c1126(0x259)](_0x2caadb[_0x4c1126(0x24c)]['replace'](/\//g,'-')),_0x4c1126(0x18d));for(const _0x3e4c2c of _0x499006){if(_0x3e4c2c[_0x4c1126(0x227)]!=config['basecoin'])_0x55b5fc=await exchange[_0x4c1126(0x23b)](_0x3e4c2c[_0x4c1126(0x1fe)],Date['parse'](_0x551b8d));_0x55b5fc['forEach'](_0x105c25=>{const _0x4696ab=_0x4c1126,_0x2d97e9=_0x3e4c2c[_0x4696ab(0x1fe)][_0x4696ab(0x16c)](config[_0x4696ab(0x17c)]+'/'),_0x196ac1=fns[_0x4696ab(0x192)](fns[_0x4696ab(0x259)](_0x105c25[_0x4696ab(0x272)]),_0x4696ab(0x1f0)),_0x5f2aec=fns[_0x4696ab(0x192)](fns[_0x4696ab(0x259)](_0x105c25[_0x4696ab(0x272)]),_0x4696ab(0x235));let _0x41a71a;if(_0x105c25[_0x4696ab(0x1f9)]=='buy'&&_0x2d97e9==![])_0x41a71a=_0x105c25[_0x4696ab(0x220)];if(_0x105c25['side']==_0x4696ab(0x21c)&&_0x2d97e9==!![])_0x41a71a=-_0x105c25[_0x4696ab(0x220)]*_0x105c25[_0x4696ab(0x1f3)];if(_0x105c25['side']==_0x4696ab(0x180)&&_0x2d97e9==![])_0x41a71a=-_0x105c25[_0x4696ab(0x220)];if(_0x105c25['side']=='sell'&&_0x2d97e9==!![])_0x41a71a=_0x105c25[_0x4696ab(0x220)]*_0x105c25[_0x4696ab(0x1f3)];_0x35253a[_0x4696ab(0x198)]({'timestamp':_0x196ac1,'date':_0x5f2aec,'coin':_0x3e4c2c[_0x4696ab(0x227)],'symbol':_0x3e4c2c[_0x4696ab(0x1fe)],'type':_0x105c25[_0x4696ab(0x1a1)],'side':_0x105c25[_0x4696ab(0x1f9)],'reverse':_0x2d97e9,'amount':formatResult(_0x105c25[_0x4696ab(0x1d7)],0x8),'filled':formatResult(_0x105c25[_0x4696ab(0x1d7)],0x8),'coinamount':formatResult(_0x41a71a,0x8),'price':formatResult(_0x105c25[_0x4696ab(0x1f3)],0x8)});let _0x515941;if(_0x105c25[_0x4696ab(0x1f9)]==_0x4696ab(0x21c)&&_0x2d97e9==![])_0x515941=-_0x105c25[_0x4696ab(0x220)]*_0x105c25['price'];if(_0x105c25['side']==_0x4696ab(0x21c)&&_0x2d97e9==!![])_0x515941=_0x105c25[_0x4696ab(0x220)];if(_0x105c25[_0x4696ab(0x1f9)]==_0x4696ab(0x180)&&_0x2d97e9==![])_0x515941=_0x105c25[_0x4696ab(0x220)]*_0x105c25['price'];if(_0x105c25[_0x4696ab(0x1f9)]==_0x4696ab(0x180)&&_0x2d97e9==!![])_0x515941=-_0x105c25['amount'];_0x35253a[_0x4696ab(0x198)]({'date':_0x5f2aec,'coin':config[_0x4696ab(0x17c)],'coinamount':formatResult(_0x515941,0x8)});});}_0x35253a[_0x4c1126(0x1a5)]((_0x3526d7,_0xb6c667)=>_0x3526d7['timestamp']>_0xb6c667[_0x4c1126(0x202)]?0x1:_0xb6c667[_0x4c1126(0x202)]>_0x3526d7['timestamp']?-0x1:0x0),dbLogs['get'](_0x4c1126(0x1c6))['remove']()['write'](),_0x35253a[_0x4c1126(0x254)](_0x65442f=>{const _0x40b5cf=_0x4c1126;let _0x59de89;_0x65442f[_0x40b5cf(0x227)]!=config[_0x40b5cf(0x17c)]&&(_0x59de89={'time':_0x65442f[_0x40b5cf(0x202)],'type':'order','event':_0x40b5cf(0x233)+_0x65442f['symbol']+'\x20'+_0x65442f[_0x40b5cf(0x1f9)]+'\x20#'+_0x65442f[_0x40b5cf(0x220)]+'\x20@'+_0x65442f[_0x40b5cf(0x1f3)]},dbLogs['get']('logs')[_0x40b5cf(0x198)](_0x59de89)['write']());});const _0x57e754=fns[_0x4c1126(0x1ea)]({'start':new Date(_0x2caadb[_0x4c1126(0x24c)]),'end':new Date()})[_0x4c1126(0x1c4)](_0xe949e7=>fns[_0x4c1126(0x192)](_0xe949e7,_0x4c1126(0x235)));let _0x488c9a=[];_0x2caadb[_0x4c1126(0x22b)]['forEach'](_0x529d4a=>{const _0xe4f4c5=_0x4c1126;if(!_0x529d4a[_0xe4f4c5(0x1f8)]){_0x488c9a[_0x529d4a[_0xe4f4c5(0x227)]]=[];let _0x4503c3=_0x529d4a[_0xe4f4c5(0x19f)];_0x57e754[_0xe4f4c5(0x254)]((_0x5506a3,_0x9e473)=>{const _0x23d07e=_0xe4f4c5;let _0x56f9a2=_0x35253a[_0x23d07e(0x177)](_0xa0712=>_0xa0712[_0x23d07e(0x227)]==_0x529d4a[_0x23d07e(0x227)]&&_0xa0712[_0x23d07e(0x20f)]==_0x5506a3);if(_0x56f9a2[_0x23d07e(0x1f6)]!=0x0){let _0x150487=_0x56f9a2[_0x23d07e(0x179)]((_0x4d4b89,_0x1ee37d)=>{const _0x31baf4=_0x23d07e;return _0x4d4b89+=_0x1ee37d[_0x31baf4(0x26f)],_0x4d4b89;},0x0);_0x4503c3+=_0x150487;}_0x488c9a[_0x529d4a[_0x23d07e(0x227)]][_0x5506a3]=_0x4503c3;});}});const _0x2b267a=[..._0x499006];_0x2b267a[_0x4c1126(0x198)]({'coin':stablecoins[_0x4c1126(0x205)]['coin'],'symbol':stablecoins['eur'][_0x4c1126(0x1fe)]}),_0x2b267a[_0x4c1126(0x198)]({'coin':stablecoins[_0x4c1126(0x199)][_0x4c1126(0x227)],'symbol':stablecoins[_0x4c1126(0x199)][_0x4c1126(0x1fe)]});let _0x4d7f63=[];for(const _0x384e44 of _0x2b267a){_0x4d7f63[_0x384e44[_0x4c1126(0x227)]]=await getCloses(_0x384e44[_0x4c1126(0x1fe)],new Date(_0x2caadb[_0x4c1126(0x24c)]));}dbPerformance[_0x4c1126(0x15a)](_0x4c1126(0x218))['remove']()[_0x4c1126(0x231)](),_0x57e754['forEach']((_0x5c3f78,_0x50a7eb)=>{const _0x6256c3=_0x4c1126;let _0x41b3ff,_0x2cbff9=[];_0x50a7eb==0x0?(_0x2caadb[_0x6256c3(0x22b)]['forEach'](_0x3458ff=>{const _0x23135f=_0x6256c3;!_0x3458ff[_0x23135f(0x1f8)]&&_0x2cbff9[_0x23135f(0x198)]({'coin':_0x3458ff['coin'],'number':_0x3458ff[_0x23135f(0x19f)],'price':_0x3458ff[_0x23135f(0x252)]});}),_0x41b3ff={'date':_0x5c3f78,'eur':_0x4d7f63[stablecoins[_0x6256c3(0x205)][_0x6256c3(0x227)]][_0x50a7eb],'usd':_0x4d7f63[stablecoins['usd'][_0x6256c3(0x227)]][_0x50a7eb],'coins':_0x2cbff9}):(_0x2caadb[_0x6256c3(0x22b)][_0x6256c3(0x254)](_0x5c2602=>{const _0x1ad085=_0x6256c3;!_0x5c2602['excluded']&&_0x2cbff9[_0x1ad085(0x198)]({'coin':_0x5c2602[_0x1ad085(0x227)],'number':_0x488c9a[_0x5c2602[_0x1ad085(0x227)]][_0x5c3f78],'price':_0x5c2602['coin']==config[_0x1ad085(0x17c)]?0x1:_0x4d7f63[_0x5c2602[_0x1ad085(0x227)]][_0x50a7eb]});}),_0x41b3ff={'date':_0x5c3f78,'eur':_0x4d7f63[stablecoins['eur'][_0x6256c3(0x227)]][_0x50a7eb],'usd':_0x4d7f63[stablecoins[_0x6256c3(0x199)]['coin']][_0x50a7eb],'coins':_0x2cbff9}),dbPerformance['get'](_0x6256c3(0x218))['push'](_0x41b3ff)[_0x6256c3(0x231)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x3eff9f of _0x35253a){_0x3eff9f[_0x4c1126(0x227)]!=config[_0x4c1126(0x17c)]&&await updateCoinResults(_0x3eff9f);}logHistory(_0x4c1126(0x19e),'Performance\x20recreation\x20completed\x20successfully');}catch(_0x10969d){await handleError(_0x10969d,_0x4c1126(0x1f5));}}async function validate24hChanges(){const _0x34d9d=_0x342bad;let _0x260e49;for(const _0x176129 of currentCoins){if(_0x176129[_0x34d9d(0x227)]!=config[_0x34d9d(0x17c)]){let _0x4a4c78;_0x176129[_0x34d9d(0x24e)]?_0x4a4c78=formatResult((0x1/(global[_0x34d9d(0x22f)][noslash(_0x176129['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x4a4c78=global[_0x34d9d(0x22f)][noslash(_0x176129['symbol'])],_0x4a4c78<config[_0x34d9d(0x155)]&&(logHistory('error',_0x176129[_0x34d9d(0x227)]+_0x34d9d(0x21a)+_0x4a4c78+'%'),logHistory(_0x34d9d(0x169),_0x34d9d(0x1bf)),logHistory(_0x34d9d(0x169),'Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x838442,_0x4d47ed,_0x1513ae=undefined){const _0x13b607=_0x342bad,_0x2639ca='1d';let _0x1eee8b,_0xc19783;const _0x49d224=fns['differenceInCalendarDays'](new Date(),_0x4d47ed)+0x1;try{const _0x276854=exchange[_0x13b607(0x260)]()-_0x49d224*0x18*0xe10*0x3e8;_0x1eee8b=await exchange[_0x13b607(0x23f)](_0x838442,_0x2639ca,_0x276854,_0x1513ae),_0xc19783=await exchange['fetchTickers'](_0x838442);}catch(_0x45d985){await handleError(_0x45d985,_0x13b607(0x273));}let _0x595795=ohlcvToCloses(_0x1eee8b);return _0x595795[_0x13b607(0x198)](_0xc19783[_0x838442][_0x13b607(0x23d)]),_0x595795;}function ohlcvToCloses(_0x25f166){const _0x1639a7=_0x342bad;let _0x14e7e7=[];return _0x25f166[_0x1639a7(0x254)](function(_0x2b2153){const _0x544ecd=_0x1639a7;_0x14e7e7[_0x544ecd(0x198)](_0x2b2153[0x4]);}),_0x14e7e7;}function _0x2c5d(_0x2fbbcf,_0x38cbce){const _0x67cb7d=_0x3d10();return _0x2c5d=function(_0x2e4d2f,_0x410a13){_0x2e4d2f=_0x2e4d2f-0x14a;let _0x3d1009=_0x67cb7d[_0x2e4d2f];return _0x3d1009;},_0x2c5d(_0x2fbbcf,_0x38cbce);}function oneTimeMigration(){const _0x453105=_0x342bad;let _0x2d1b43=dbLogs[_0x453105(0x15a)]('version')[_0x453105(0x241)]();if(_0x2d1b43!=_0x453105(0x229)){dbLogs['set'](_0x453105(0x1f7),_0x453105(0x229))['write']();let _0x155135=[];const _0x1ac27a=dbLogs[_0x453105(0x15a)](_0x453105(0x1c6))[_0x453105(0x241)]();_0x1ac27a[_0x453105(0x254)](_0x4f9813=>{const _0x3cd5b2=_0x453105;_0x155135[_0x3cd5b2(0x198)]({'time':_0x4f9813[_0x3cd5b2(0x274)],'type':_0x4f9813[_0x3cd5b2(0x1a1)],'event':_0x4f9813[_0x3cd5b2(0x152)]});}),dbLogs[_0x453105(0x15a)](_0x453105(0x1c6))[_0x453105(0x261)](_0x155135)[_0x453105(0x231)]();}let _0x4bd0b2=dbConfig[_0x453105(0x15a)](_0x453105(0x1f7))[_0x453105(0x241)]();if(_0x4bd0b2!='2.3.5'){dbConfig[_0x453105(0x25f)](_0x453105(0x1f7),_0x453105(0x229))[_0x453105(0x231)]();let _0x37b24d=dbConfig[_0x453105(0x15a)]('bot')[_0x453105(0x159)]({'botID':botID})['value']();if(_0x37b24d){let _0x47cf3b=[];_0x37b24d[_0x453105(0x22b)][_0x453105(0x254)](_0x3fe36e=>{const _0x4e0311=_0x453105;_0x47cf3b['push']({'coin':_0x3fe36e[_0x4e0311(0x227)],'number':_0x3fe36e[_0x4e0311(0x19f)],'price':_0x3fe36e[_0x4e0311(0x252)]}),delete _0x3fe36e[_0x4e0311(0x19f)],delete _0x3fe36e['startprice'];});if(_0x47cf3b[_0x453105(0x1f6)]!==0x0)fs[_0x453105(0x16d)](configbackuppath+(_0x453105(0x1ad)+botID+_0x453105(0x1ec)),JSON[_0x453105(0x26c)](_0x47cf3b,null,0x4),function(_0x18a745){if(_0x18a745){}});const _0x520e0a=(_0x555467,_0x2459f9)=>{const _0x5a96a5=_0x453105;let _0x2699d3=[];_0x2459f9[_0x5a96a5(0x254)](_0x44a125=>{const _0x30b439=_0x5a96a5,_0x53d7d3=_0x555467[_0x30b439(0x159)](_0x27b98f=>_0x27b98f[_0x30b439(0x227)]==_0x44a125[_0x30b439(0x227)]);if(!_0x53d7d3)_0x2699d3[_0x30b439(0x198)](_0x44a125);});let _0x26b641=[];return _0x555467[_0x5a96a5(0x254)](_0x1a8995=>{const _0x239d72=_0x5a96a5,_0x3b01d2=_0x2459f9[_0x239d72(0x159)](_0x8bf0bd=>_0x8bf0bd[_0x239d72(0x227)]==_0x1a8995[_0x239d72(0x227)]);if(!_0x3b01d2||_0x3b01d2['number']==0x0&&_0x1a8995['number']!=0x0)_0x26b641[_0x239d72(0x198)](_0x1a8995);}),{'missingDay1':_0x2699d3,'notInDay2':_0x26b641};},_0x3ed13b=dbPerformance[_0x453105(0x15a)](_0x453105(0x218))[_0x453105(0x1cc)]()['value']();if(_0x3ed13b[_0x453105(0x1f6)]>0x1){const {missingDay1:_0x591233,notInDay2:_0x514ca9}=_0x520e0a(_0x47cf3b,_0x3ed13b[0x1]['coins']);_0x47cf3b=[..._0x47cf3b,..._0x591233],_0x514ca9[_0x453105(0x254)](_0x283432=>{const _0x555f4f=_0x453105;let _0x45dc28=_0x47cf3b[_0x555f4f(0x1db)](_0x4ea040=>_0x4ea040[_0x555f4f(0x227)]==_0x283432['coin']);_0x45dc28!=-0x1&&_0x47cf3b[_0x555f4f(0x1bd)](_0x45dc28,0x1);});}_0x47cf3b[_0x453105(0x1a5)]((_0x2e38ba,_0x1dc572)=>_0x2e38ba[_0x453105(0x227)]>_0x1dc572[_0x453105(0x227)]?0x1:_0x1dc572[_0x453105(0x227)]>_0x2e38ba[_0x453105(0x227)]?-0x1:0x0);let _0x5335ba=[{'date':_0x37b24d[_0x453105(0x24c)],'changes':_0x47cf3b}];_0x3ed13b['length']>0x2&&_0x3ed13b[_0x453105(0x254)]((_0x360bb5,_0x5069c4)=>{const _0x44e2e5=_0x453105;if(_0x5069c4>0x0&&_0x5069c4<_0x3ed13b[_0x44e2e5(0x1f6)]-0x1){const {missingDay1:_0x5af986,notInDay2:_0x294117}=_0x520e0a(_0x3ed13b[_0x5069c4]['coins'],_0x3ed13b[_0x5069c4+0x1][_0x44e2e5(0x18a)]);_0x47cf3b=[],(_0x5af986[_0x44e2e5(0x1f6)]!=0x0||_0x294117[_0x44e2e5(0x1f6)]!=0x0)&&(_0x5af986['length']!=0x0&&_0x47cf3b[_0x44e2e5(0x198)](..._0x5af986),_0x294117['length']!=0x0&&(_0x294117[_0x44e2e5(0x254)](_0x2d2771=>{const _0x1699d1=_0x44e2e5;_0x2d2771[_0x1699d1(0x1ab)]=-_0x2d2771[_0x1699d1(0x1ab)];}),_0x47cf3b[_0x44e2e5(0x198)](..._0x294117)),_0x47cf3b[_0x44e2e5(0x1a5)]((_0x523982,_0x1cc35e)=>_0x523982[_0x44e2e5(0x227)]>_0x1cc35e[_0x44e2e5(0x227)]?0x1:_0x1cc35e[_0x44e2e5(0x227)]>_0x523982['coin']?-0x1:0x0),_0x5335ba[_0x44e2e5(0x198)]({'date':_0x3ed13b[_0x5069c4+0x1][_0x44e2e5(0x20f)],'changes':_0x47cf3b}));}}),dbConfig[_0x453105(0x15a)]('bot')[_0x453105(0x159)]({'botID':botID})['assign']({..._0x37b24d,'liquidity':_0x5335ba})[_0x453105(0x231)]();}}config=getConfiguration(botID);let _0x1782fd=dbPerformance[_0x453105(0x15a)](_0x453105(0x1f7))[_0x453105(0x241)]();_0x1782fd!=_0x453105(0x229)&&(dbPerformance['set'](_0x453105(0x1f7),'2.3.5')[_0x453105(0x231)](),setStartDatePerformance());let _0x442273=dbCoinResults[_0x453105(0x15a)](_0x453105(0x1f7))[_0x453105(0x241)]();_0x442273!=_0x453105(0x229)&&dbCoinResults[_0x453105(0x25f)](_0x453105(0x1f7),_0x453105(0x229))[_0x453105(0x231)]();}function getConfiguration(_0x377112){const _0x52da73=_0x342bad;let _0x5a251a=dbConfig[_0x52da73(0x15a)](_0x52da73(0x217))[_0x52da73(0x159)]({'botID':_0x377112})[_0x52da73(0x241)]();if(_0x5a251a){let _0x5e66aa=![];typeof _0x5a251a['threshold']==_0x52da73(0x1a4)&&(_0x5a251a={..._0x5a251a,'threshold':Number(_0x5a251a[_0x52da73(0x1e5)])},_0x5e66aa=!![]),_0x5a251a[_0x52da73(0x155)]==null&&(_0x5a251a={..._0x5a251a,'change24h':-0x14},_0x5e66aa=!![]),_0x5e66aa&&(_0x5a251a={'botID':_0x5a251a[_0x52da73(0x16e)],'exchange':_0x5a251a['exchange'],'apiKey':_0x5a251a[_0x52da73(0x207)],'apiSecret':_0x5a251a[_0x52da73(0x194)],'basecoin':_0x5a251a[_0x52da73(0x17c)],'botname':_0x5a251a[_0x52da73(0x1f1)],'showname':_0x5a251a[_0x52da73(0x15f)],'threshold':_0x5a251a[_0x52da73(0x1e5)],'ordertype':_0x5a251a[_0x52da73(0x15c)],'timeout':_0x5a251a[_0x52da73(0x189)],'startdate':_0x5a251a[_0x52da73(0x24c)],'recreate':_0x5a251a[_0x52da73(0x172)],'timeshift':_0x5a251a[_0x52da73(0x1e2)],'headless':_0x5a251a['headless'],'cooldown':_0x5a251a[_0x52da73(0x1d6)],'change24h':_0x5a251a[_0x52da73(0x155)],'emojibuy':_0x5a251a['emojibuy'],'emojisell':_0x5a251a[_0x52da73(0x23c)],'portfolio':_0x5a251a[_0x52da73(0x22b)],'liquidity':_0x5a251a['liquidity']},dbConfig[_0x52da73(0x15a)](_0x52da73(0x217))[_0x52da73(0x21e)]()[_0x52da73(0x231)](),dbConfig[_0x52da73(0x15a)](_0x52da73(0x217))[_0x52da73(0x198)](_0x5a251a)['write']());}else _0x5a251a={'botID':_0x377112,'exchange':_0x52da73(0x1ae),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x52da73(0x22c)+_0x377112,'showname':![],'threshold':0x3,'ordertype':_0x52da73(0x20e),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x52da73(0x1e2)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x5a251a;}function emittedConfiguration(){const _0x335a7c=_0x342bad;let _0x2a1e28;return config[_0x335a7c(0x207)]==''?_0x2a1e28=config:_0x2a1e28={...config,'apiKey':_0x335a7c(0x162),'apiSecret':_0x335a7c(0x162)},_0x2a1e28;}function getSettings(){const _0x45f7df=_0x342bad;return dbSettings['get'](_0x45f7df(0x173))[_0x45f7df(0x241)]();}function getSecure(){const _0x11341d=_0x342bad;return dbSecure[_0x11341d(0x15a)]('secure')[_0x11341d(0x241)]()||{};}function updateTimeshift(_0x1a5280){const _0x3e4189=_0x342bad;let _0x57402c=dbConfig[_0x3e4189(0x15a)](_0x3e4189(0x217))['find']({'botID':botID})[_0x3e4189(0x241)]();_0x57402c&&dbConfig[_0x3e4189(0x15a)](_0x3e4189(0x217))[_0x3e4189(0x159)]({'botID':botID})[_0x3e4189(0x261)]({'timeshift':_0x1a5280})[_0x3e4189(0x231)](),config[_0x3e4189(0x1e2)]=_0x1a5280,proxyEmit(_0x3e4189(0x24b),emittedConfiguration());}async function storeConfiguration(_0x23a317){const _0x39a94b=_0x342bad;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x178ce9=dbConfig[_0x39a94b(0x15a)](_0x39a94b(0x217))[_0x39a94b(0x159)]({'botID':botID})[_0x39a94b(0x241)]();_0x23a317={..._0x23a317,'apiKey':crypt[_0x39a94b(0x21f)](secure['privateKey'],_0x23a317[_0x39a94b(0x207)])[_0x39a94b(0x16b)],'apiSecret':crypt['decrypt'](secure['privateKey'],_0x23a317['apiSecret'])[_0x39a94b(0x16b)]};if(_0x178ce9){if(_0x23a317['apiKey']==_0x39a94b(0x162))_0x23a317[_0x39a94b(0x207)]=config[_0x39a94b(0x207)];if(_0x23a317[_0x39a94b(0x194)]==_0x39a94b(0x162))_0x23a317[_0x39a94b(0x194)]=config[_0x39a94b(0x194)];dbConfig[_0x39a94b(0x15a)]('bot')['find']({'botID':botID})['assign'](_0x23a317)[_0x39a94b(0x231)]();}else dbConfig[_0x39a94b(0x15a)](_0x39a94b(0x217))[_0x39a94b(0x198)](_0x23a317)[_0x39a94b(0x231)](),process['send']({'status':'enabled','live':_0x39a94b(0x1ed)},_0x3c308c=>{});config={..._0x23a317},setStartDatePerformance(),process[_0x39a94b(0x196)]({'botname':_0x23a317['botname']},_0x397fb3=>{}),updateBotManager();const _0x2f05de=getNormalizedPerformance();getStartingBalances(_0x2f05de),emitPerformance(_0x2f05de),proxyEmit(_0x39a94b(0x277)),reset();}async function storeHeadless(_0x37eb14){const _0x57cda5=_0x342bad,_0x17459f={...config,'headless':_0x37eb14['headless']};let _0x3f1233=dbConfig[_0x57cda5(0x15a)](_0x57cda5(0x217))[_0x57cda5(0x159)]({'botID':botID})[_0x57cda5(0x241)]();_0x3f1233&&dbConfig[_0x57cda5(0x15a)](_0x57cda5(0x217))['find']({'botID':botID})[_0x57cda5(0x261)](_0x17459f)[_0x57cda5(0x231)](),config={..._0x17459f},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0x213a81){const _0x52ec6b=_0x342bad;return _0x213a81[_0x52ec6b(0x1bc)]('/','');}function updateNumberCoins(_0x5d071a){const _0x2b677b=_0x342bad;_0x5d071a['eventType']&&_0x5d071a['eventType']==_0x2b677b(0x160)&&_0x5d071a[_0x2b677b(0x184)][_0x2b677b(0x254)](_0x23969c=>{const _0x427248=_0x2b677b;let _0x16f131=currentCoins['find'](_0x11d8a7=>_0x11d8a7[_0x427248(0x227)]==_0x23969c[_0x427248(0x17b)]),_0x4c83f0=config[_0x427248(0x22b)][_0x427248(0x159)](_0x3dd857=>_0x3dd857[_0x427248(0x227)]==_0x23969c['asset']);if(_0x16f131&&_0x4c83f0)_0x16f131['number']=Math[_0x427248(0x1cd)](Number(_0x23969c[_0x427248(0x17d)])+(_0x4c83f0[_0x427248(0x197)]||0x0),0x0);});if(_0x5d071a[_0x2b677b(0x1b4)]&&_0x5d071a[_0x2b677b(0x1b4)]==_0x2b677b(0x161)){if(_0x5d071a['orderType']==_0x2b677b(0x168)&&_0x5d071a[_0x2b677b(0x176)]=='FILLED'){if(lastOrders)lastOrders['forEach'](_0x541236=>{const _0x4d188d=_0x2b677b;if(_0x541236[_0x4d188d(0x1b1)]==_0x5d071a['orderId']){if(_0x541236[_0x4d188d(0x24e)])_0x541236[_0x4d188d(0x1d7)]=_0x5d071a[_0x4d188d(0x210)]*_0x541236[_0x4d188d(0x1f3)];else _0x541236[_0x4d188d(0x1d7)]=_0x5d071a[_0x4d188d(0x210)];}});}}}async function getCoins(_0x170da4=!![],_0x4b63d2=config['basecoin']){const _0x2b0871=_0x342bad;let _0x1b6b23,_0x5e1811=[],_0x5e6642=[],_0x4d9367=[];try{_0x1b6b23=await exchange[_0x2b0871(0x170)](),mybalances=_0x1b6b23['total'];if(!_0x170da4)for(const [_0x5c2558,_0x437d89]of Object[_0x2b0871(0x14b)](mybalances)){_0x4d9367[_0x2b0871(0x198)](_0x5c2558);}else config[_0x2b0871(0x22b)]['forEach'](_0x1eca43=>{const _0x13e776=_0x2b0871;if(!_0x1eca43['excluded'])_0x4d9367[_0x13e776(0x198)](_0x1eca43[_0x13e776(0x227)]);});if(_0x4b63d2=='')for(const [_0x36d4e4,_0x1fc346]of Object[_0x2b0871(0x14b)](mybalances)){_0x1fc346['toString']()!=0x0&&_0x5e6642[_0x2b0871(0x198)]({'coin':_0x36d4e4});}else for(const [_0x4d2237,_0x5e7ce7]of Object[_0x2b0871(0x14b)](mybalances)){if(_0x4d9367[_0x2b0871(0x16c)](_0x4d2237)){const _0x2f0516=config[_0x2b0871(0x22b)][_0x2b0871(0x159)](_0x2af10d=>_0x2af10d[_0x2b0871(0x227)]==_0x4d2237);if((_0x5e7ce7['toString']()!=0x0||_0x2f0516)&&(allSymbols[_0x2b0871(0x16c)](_0x4d2237+'/'+_0x4b63d2)||_0x4d2237==_0x4b63d2))_0x5e6642['push']({'coin':_0x4d2237,'symbol':_0x4d2237+'/'+_0x4b63d2,'reverse':![],'number':Math[_0x2b0871(0x1cd)](_0x5e7ce7+(_0x2f0516&&_0x2f0516['offset']||0x0),0x0)}),_0x4d2237!=_0x4b63d2&&_0x5e1811['push'](_0x4d2237+'/'+_0x4b63d2);else(_0x5e7ce7[_0x2b0871(0x213)]()!=0x0||_0x2f0516)&&allSymbols['includes'](_0x4b63d2+'/'+_0x4d2237)&&(_0x5e6642[_0x2b0871(0x198)]({'coin':_0x4d2237,'symbol':_0x4b63d2+'/'+_0x4d2237,'reverse':!![],'number':Math['max'](_0x5e7ce7+(_0x2f0516&&_0x2f0516['offset']||0x0),0x0)}),_0x4d2237!=_0x4b63d2&&_0x5e1811[_0x2b0871(0x198)](_0x4b63d2+'/'+_0x4d2237));}}}catch(_0x5e0289){if(!_0x170da4){if(_0x5e0289[_0x2b0871(0x213)]()[_0x2b0871(0x16c)](_0x2b0871(0x269)))return logHistory(_0x2b0871(0x169),_0x2b0871(0x26a)),![];else{if(_0x5e0289[_0x2b0871(0x213)]()[_0x2b0871(0x16c)](_0x2b0871(0x245)))return logHistory(_0x2b0871(0x169),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x5e0289[_0x2b0871(0x213)]()['includes'](_0x2b0871(0x215)))return logHistory(_0x2b0871(0x169),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x5e0289,'getCoins()');}}}else await handleError(_0x5e0289,_0x2b0871(0x209));}return _0x5e6642;}async function getPortfolio(_0x54b758){const _0x33f09e=_0x342bad;let _0x4de543=[],_0x4178bd=[],_0x15b5c9,_0x18a455=[],_0x1a1687,_0xb40103;_0x54b758['apiKey']===_0x33f09e(0x162)||_0x54b758[_0x33f09e(0x194)]===_0x33f09e(0x162)?(_0x1a1687=config[_0x33f09e(0x207)],_0xb40103=config[_0x33f09e(0x194)]):(_0x1a1687=_0x54b758[_0x33f09e(0x207)],_0xb40103=_0x54b758[_0x33f09e(0x194)]);await initExchange(_0x1a1687,_0xb40103);let _0x8fbed9=await loadSymbols();if(_0x8fbed9){_0x18a455=await getCoins(![],_0x54b758[_0x33f09e(0x17c)]);if(_0x18a455===![])proxyEmit(_0x33f09e(0x22b),![]);else{if(_0x54b758[_0x33f09e(0x17c)]=='')proxyEmit(_0x33f09e(0x22b),_0x18a455);else{_0x18a455[_0x33f09e(0x254)](_0x33a6f3=>{const _0x2601a8=_0x33f09e;_0x4de543['push'](_0x33a6f3[_0x2601a8(0x1fe)]);});try{_0x4178bd=await exchange[_0x33f09e(0x267)](_0x4de543);}catch(_0x271371){await handleError(_0x271371,'getPortfolio()');}_0x18a455[_0x33f09e(0x254)](_0x118b48=>{const _0x38e80e=_0x33f09e;_0x118b48[_0x38e80e(0x227)]!=_0x54b758['basecoin']?_0x15b5c9=_0x118b48[_0x38e80e(0x24e)]?0x1/_0x4178bd[_0x118b48['symbol']][_0x38e80e(0x23d)]:_0x4178bd[_0x118b48[_0x38e80e(0x1fe)]]['last']:_0x15b5c9=0x1,_0x118b48[_0x38e80e(0x1f3)]=formatResult(_0x15b5c9,0x8);}),proxyEmit(_0x33f09e(0x22b),_0x18a455);}}}else proxyEmit(_0x33f09e(0x22b),![]);}function checkMinimums(_0x253279){const _0x31387c=_0x342bad;let _0x23b847=!![];const _0x2144a5=!_0x253279[_0x31387c(0x24e)]?markets[_0x253279[_0x31387c(0x1fe)]]['limits'][_0x31387c(0x220)][_0x31387c(0x183)]:markets[_0x253279[_0x31387c(0x1fe)]][_0x31387c(0x1b0)][_0x31387c(0x1e7)]['min'],_0x4fc309=!_0x253279[_0x31387c(0x24e)]?markets[_0x253279[_0x31387c(0x1fe)]][_0x31387c(0x1b0)][_0x31387c(0x1e7)]['min']:markets[_0x253279['symbol']][_0x31387c(0x1b0)][_0x31387c(0x220)][_0x31387c(0x183)];if(Math[_0x31387c(0x249)](_0x253279[_0x31387c(0x1c0)])<_0x2144a5)_0x23b847=![];if(Math[_0x31387c(0x249)](_0x253279[_0x31387c(0x1c0)])*_0x253279[_0x31387c(0x23d)]<_0x4fc309)_0x23b847=![];if(_0x253279[_0x31387c(0x1f9)]==_0x31387c(0x180)){let _0x2cb94d=config[_0x31387c(0x22b)][_0x31387c(0x159)](_0x21c12c=>_0x21c12c['coin']==_0x253279[_0x31387c(0x227)]);if(Math['abs'](_0x253279[_0x31387c(0x1c0)])>_0x253279[_0x31387c(0x1ab)]-_0x2cb94d[_0x31387c(0x197)])_0x23b847=![];}return _0x23b847;}function _0x3d10(){const _0x3d7969=['realized','getSeconds','cooldown','filled','Error:\x20Invalid\x20argument\x20','emojibuy','userData','findIndex','bb-secure.json','isArray','\x20|\x20Error\x20details:\x20','closeWs','USDT','-results.json','timeshift','\x20>\x20','BNB/','threshold','changes','cost','order','formattedMessage','eachDayOfInterval','priceChangePercent','.json','running','cancelOrder()','constructor','yyyy/MM/dd\x20HH:mm:ss','botname','InsufficientFunds','price','\x20orders\x20in\x20less\x20than\x20','recreateHistory()','length','version','excluded','side','bot-','6644844yxlfKH','defaults','getFullYear','symbol','toggleBotMode','placeOrder()','./config/','timestamp','ExchangeNotAvailable','001','eur','(((.+)+)+)+$','apiKey','headless','getCoins()','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','/backup/','8960955MIpQyc','BNB','market','date','accumulatedQuantity','BTC/USDT','valid','toString','\x20|\x20Binance\x20API\x20key\x20invalid','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','join','bot','data','Unknown\x20error\x20occured','\x20has\x20a\x2024h\x20drop\x20of\x20','DDoSProtection','buy','binanceus','remove','decrypt','amount','USDC','24OoxgjM','existsSync','getMinutes','argv','fromCodePoint','coin','progress','2.3.5','\x20minutes','portfolio','Bot\x20','\x20minutes\x20-\x20balancing\x20resumed','\x20order:\x20','change','Order\x20filled:\x20','write','DAI/','Order:\x20','wss://stream.binance.us:9443','yyyy/MM/dd','fee','remainingSymbols','loadSymbols()','600672ubgAdq','createOrder','fetchOrders','emojisell','last','Order\x20amount\x20is\x20invalid:\x20','fetchOHLCV','4350577MecHhF','value','coin-loading-progress','reconnected','apply','AuthenticationError','performance','XEM/BUSD','MIN_NOTIONAL','abs','lowdb/adapters/FileSync','configuration','startdate','add','reverse','BTC/EUR','Pausing\x20for\x20','distribution','startprice','Unfilled\x20order(s)\x20canceled\x20after\x20','forEach','getDate','getHours','InvalidNonce','Binance\x20not\x20responding','parseISO','storeConfiguration','shift','lowdb','target','-config.json','set','milliseconds','assign','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','RSA-OAEP','toLowerCase','bb-settings.json','fetchTickers','YOYOW/','API-key\x20format\x20invalid','Binance\x20API\x20key\x20is\x20invalid','date-fns','stringify','cancelLoading','kline','coinamount','function','ticker','datetime','getCloses()','time','10eDTgRV','indexOf','configuration-stored','3070024yWnYUn','restart','cancelOrder','entries','parse','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','BTCEUR','starting-balances','test','\x20hour','event','exit','kill','change24h','getTime','./version.json','18288OorjKZ','find','get','Binance\x20not\x20available\x20(2)','ordertype','6OkXlll','ccxt','showname','outboundAccountPosition','executionReport','************','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','slice','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','sortBy','cancel','LIMIT','error','6ckMHIU','message','includes','writeFile','botID','search','fetchBalance','wsMarket','recreate','settings','Order(s)\x20validated\x20-\x20balancing\x20resumed','padStart','orderStatus','filter','27962TrUYcJ','reduce','Limit\x20(high-margin)','asset','basecoin','availableBalance','round','\x20|\x20','sell','RequestTimeout','breakeven','min','balances','WebSockets(','close','toFixed','getPortfolio','timeout','coins','Invalid\x20quantity','page','yyyy-MM-dd\x27T\x27HH:mm:ss','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','\x20-\x20','getMonth','Market','format','buys','apiSecret','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','send','offset','push','usd','differenceInSeconds','\x20|\x20Binance\x20API\x20secret\x20invalid','getFiat()','placeOrder','success','startnumber','exchange','type','Binance\x20not\x20available\x20(1)','log','string','sort','1394040SjpboA',':\x20Bot\x20','Executed\x20','spot','-performance.json','number','BTCUSDT','starting-balance-','binance','sha256','limits','orderId','symbols','getStartingBalances','eventType','ask','delta','BTCBUSD','storeHeadless',',\x20must\x20be\x20a\x203\x20digit\x20number','mkdirSync','-events.json','replace','splice','limit-high','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','trade','currency','sells','liquidity','map','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','logs','API\x20or\x20clock\x20sync\x20issue','args','keys','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','event-history','cloneDeep','max','has','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','wsKey','subscribeSpotKline','wss://stream.binance.com:9443','Limit\x20(low-margin)'];_0x3d10=function(){return _0x3d7969;};return _0x3d10();}async function getBalances(){const _0x3f57ee=_0x342bad;let _0x3df426=0x0,_0x376b1e;const _0x3acc64=config[_0x3f57ee(0x1e5)];if(config['headless']&&config[_0x3f57ee(0x155)]<0x0)await validate24hChanges();currentCoins[_0x3f57ee(0x254)](_0x22bb89=>{const _0x1d211b=_0x3f57ee;if(_0x22bb89['coin']!=config[_0x1d211b(0x17c)]){let _0x5b2e8f=global['ticker'][noslash(_0x22bb89['symbol'])];_0x376b1e=_0x22bb89['reverse']?0x1/_0x5b2e8f:_0x5b2e8f;}else _0x376b1e=0x1;let _0x1f244a=_0x22bb89['number']*_0x376b1e;_0x3df426+=_0x1f244a,_0x22bb89[_0x1d211b(0x23d)]=formatResult(Number(_0x376b1e),0x8),_0x22bb89['value']=_0x1f244a;}),currentCoins[_0x3f57ee(0x254)](_0x585211=>{const _0x481067=_0x3f57ee;let _0x411796=config[_0x481067(0x22b)][_0x481067(0x159)](_0x3a3ccc=>_0x3a3ccc[_0x481067(0x227)]==_0x585211['coin']),_0x52527e=Number(_0x411796[_0x481067(0x251)]),_0x3e259a=_0x585211[_0x481067(0x241)]/_0x3df426*0x64,_0x1c8264=_0x52527e*_0x3df426/0x64/_0x585211[_0x481067(0x23d)]-_0x585211[_0x481067(0x1ab)];_0x585211[_0x481067(0x251)]=formatResult(_0x3e259a,0x3),_0x585211[_0x481067(0x25d)]=formatResult(_0x52527e,0x3),_0x585211[_0x481067(0x1c0)]=formatResult(_0x1c8264,0x8),_0x585211[_0x481067(0x1f9)]='',_0x585211[_0x481067(0x212)]=![];if(_0x585211[_0x481067(0x227)]!=config[_0x481067(0x17c)]){if(_0x585211[_0x481067(0x251)]>_0x52527e)_0x585211['side']=_0x481067(0x180),_0x585211['valid']=checkMinimums(_0x585211);else _0x585211[_0x481067(0x251)]<_0x52527e&&(_0x585211[_0x481067(0x1f9)]='buy',_0x585211[_0x481067(0x212)]=checkMinimums(_0x585211));}_0x585211[_0x481067(0x1b6)]=_0x585211['distribution']/_0x585211[_0x481067(0x25d)]-0x1;}),currentCoins[_0x3f57ee(0x1a5)]((_0x108ea7,_0x156fb2)=>_0x108ea7[_0x3f57ee(0x1b6)]<_0x156fb2[_0x3f57ee(0x1b6)]?0x1:_0x156fb2[_0x3f57ee(0x1b6)]<_0x108ea7[_0x3f57ee(0x1b6)]?-0x1:0x0);const _0x5d80e1=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5d80e1[_0x3f57ee(0x205)],'usd':_0x5d80e1['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x3acc64},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x3f57ee(0x208)])headlessMode({'portfolio':currentCoins,'threshold':_0x3acc64});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x3acc64});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x380380=_0x342bad;if(!lastBalances)return;let _0x3a3c89=[],_0xd9c4c3,_0x25c4c5=JSON['parse'](lastBalances['portfolio']);_0x25c4c5[_0x380380(0x1a5)]((_0x228514,_0x407ec2)=>_0x228514['coin']>_0x407ec2[_0x380380(0x227)]?0x1:_0x407ec2[_0x380380(0x227)]>_0x228514[_0x380380(0x227)]?-0x1:0x0),_0x25c4c5[_0x380380(0x254)](_0x4fe218=>{const _0x2c9a0a=_0x380380;let _0xe74b93={'coin':_0x4fe218[_0x2c9a0a(0x227)],'number':_0x4fe218['number'],'price':_0x4fe218[_0x2c9a0a(0x23d)]};_0x3a3c89['push'](_0xe74b93);});const _0x378b7d=await getFiat();_0xd9c4c3={'date':lastBalances[_0x380380(0x274)]['split']('\x20')[0x0],'eur':_0x378b7d['eur'],'usd':_0x378b7d['usd'],'coins':_0x3a3c89};let _0xaa3a1a=dbPerformance[_0x380380(0x15a)](_0x380380(0x218))[_0x380380(0x159)]({'date':_0xd9c4c3['date']})[_0x380380(0x241)]();_0xaa3a1a?_0xd9c4c3[_0x380380(0x20f)]!=config[_0x380380(0x24c)]&&dbPerformance[_0x380380(0x15a)](_0x380380(0x218))[_0x380380(0x159)]({'date':_0xd9c4c3[_0x380380(0x20f)]})[_0x380380(0x261)](_0xd9c4c3)[_0x380380(0x231)]():dbPerformance['get'](_0x380380(0x218))[_0x380380(0x198)](_0xd9c4c3)[_0x380380(0x231)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4d4a44=_0x342bad;let _0xe05ea6=[];if(dbPerformance[_0x4d4a44(0x1ce)]('data')[_0x4d4a44(0x241)]()){let _0x426561=dbPerformance[_0x4d4a44(0x15a)](_0x4d4a44(0x218))['cloneDeep']()[_0x4d4a44(0x166)]('date')[_0x4d4a44(0x241)](),_0x1e4576=[...config[_0x4d4a44(0x1c3)]];_0x1e4576[_0x4d4a44(0x1a5)]((_0xff274e,_0x5882e9)=>_0xff274e['date']>_0x5882e9[_0x4d4a44(0x20f)]?-0x1:_0x5882e9[_0x4d4a44(0x20f)]>_0xff274e[_0x4d4a44(0x20f)]?0x1:0x0);let _0xb11e3d=0x1,_0x4be034=[],_0x592c83=0x0;_0x426561[_0x4d4a44(0x164)]()[_0x4d4a44(0x24e)]()[_0x4d4a44(0x254)]((_0x5dbcb9,_0x311e23)=>{const _0x41a3ec=_0x4d4a44;if(_0x1e4576[_0x592c83]){if(_0x426561[_0x426561[_0x41a3ec(0x1f6)]-_0x311e23]&&_0x1e4576[_0x592c83][_0x41a3ec(0x20f)]==_0x426561[_0x426561[_0x41a3ec(0x1f6)]-_0x311e23][_0x41a3ec(0x20f)]){if(_0x311e23<_0x426561[_0x41a3ec(0x1f6)]){let _0x31d0fa=0x0,_0x519667=0x0;_0x426561[_0x426561[_0x41a3ec(0x1f6)]-_0x311e23][_0x41a3ec(0x18a)][_0x41a3ec(0x254)](_0x2c3b12=>{const _0x52de3e=_0x41a3ec;_0x519667+=_0x2c3b12['number']*_0x2c3b12[_0x52de3e(0x1f3)];}),_0x1e4576[_0x592c83]['changes'][_0x41a3ec(0x254)](_0x5600e8=>{const _0x14fe8f=_0x41a3ec;_0x31d0fa+=_0x5600e8[_0x14fe8f(0x1ab)]*_0x5600e8[_0x14fe8f(0x1f3)];}),_0xb11e3d*=_0x31d0fa/(_0x519667-_0x31d0fa)+0x1;}_0x592c83++;}}let _0x7e96e3=0x0;_0x5dbcb9[_0x41a3ec(0x18a)]['forEach'](_0x54d95f=>{_0x7e96e3+=_0x54d95f['number']*_0x54d95f['price'];}),_0x4be034[_0x426561[_0x41a3ec(0x1f6)]-_0x311e23-0x1]=_0x7e96e3*(_0xb11e3d-0x1);});let _0x563d38=[];_0x1e4576=[...config['liquidity']]||[];let _0x4d80a2=0x0;_0x592c83=0x0,_0x426561[_0x4d4a44(0x254)]((_0x552963,_0x228498)=>{const _0x235b20=_0x4d4a44;if(_0x1e4576[_0x592c83]){const _0xfb6a39=fns[_0x235b20(0x14c)](_0x1e4576[_0x592c83][_0x235b20(0x20f)],_0x235b20(0x235),new Date()),_0x169126=fns[_0x235b20(0x14c)](_0x552963[_0x235b20(0x20f)],_0x235b20(0x235),new Date());if(fns['isEqual'](_0xfb6a39,_0x169126)){let _0x57da0b=0x0;_0x1e4576[_0x592c83]['changes']['forEach'](_0x31643c=>{const _0x17d457=_0x235b20;!_0x563d38[_0x31643c[_0x17d457(0x227)]]?_0x563d38[_0x31643c[_0x17d457(0x227)]]=_0x31643c[_0x17d457(0x1ab)]:(_0x57da0b=_0x563d38[_0x31643c[_0x17d457(0x227)]],_0x563d38[_0x31643c[_0x17d457(0x227)]]+=_0x31643c[_0x17d457(0x1ab)]);const _0x191c5e=_0x552963[_0x17d457(0x18a)][_0x17d457(0x159)](_0x4ad6be=>_0x4ad6be[_0x17d457(0x227)]==_0x31643c[_0x17d457(0x227)]);(!_0x191c5e||_0x191c5e['number']==0x0)&&(_0x4d80a2+=(-_0x31643c[_0x17d457(0x1ab)]-_0x57da0b)*_0x31643c[_0x17d457(0x1f3)]);}),_0x592c83++;}}_0x552963[_0x235b20(0x18a)][_0x235b20(0x254)]((_0x4cb21d,_0x2b40f5)=>{const _0x3c58f1=_0x235b20;_0x563d38[_0x4cb21d[_0x3c58f1(0x227)]]&&(_0x4cb21d={..._0x4cb21d,'initial':_0x563d38[_0x4cb21d[_0x3c58f1(0x227)]]}),_0x552963[_0x3c58f1(0x18a)][_0x2b40f5]=_0x4cb21d;}),_0xe05ea6[_0x235b20(0x198)]({'date':_0x552963[_0x235b20(0x20f)],'eur':_0x552963[_0x235b20(0x205)],'usd':_0x552963['usd'],'offset':_0x4be034[_0x228498],'netoffset':_0x4d80a2,'coins':_0x552963[_0x235b20(0x18a)]});});}return _0xe05ea6;}function emitPerformance(_0x194d5b){const _0x24a5ac=_0x342bad;_0x194d5b[_0x24a5ac(0x1f6)]!==0x0?(proxyEmit(_0x24a5ac(0x246),_0x194d5b),lastPerformanceEmitted=getDate()):proxyEmit(_0x24a5ac(0x246),[]);}function getPerf(_0x18d3d4,_0x24878e){const _0x1256ae=_0x342bad;let _0x5f2c2a=0x0,_0x390250=0x0,_0x3dd9c7=0x0;_0x18d3d4[_0x1256ae(0x18a)][_0x1256ae(0x254)](_0x874727=>{const _0x16f9da=_0x1256ae;_0x5f2c2a+=_0x874727[_0x16f9da(0x1ab)]*_0x874727[_0x16f9da(0x1f3)];});_0x24878e&&(_0x5f2c2a+=_0x18d3d4[_0x1256ae(0x197)]);if(config[_0x1256ae(0x17c)]==='BTC')_0x390250=_0x5f2c2a*_0x18d3d4[_0x1256ae(0x205)],_0x3dd9c7=_0x5f2c2a*_0x18d3d4[_0x1256ae(0x199)];else{if(config[_0x1256ae(0x17c)]==='BUSD'||config['basecoin']===_0x1256ae(0x1e0)||config[_0x1256ae(0x17c)]===_0x1256ae(0x221))_0x390250=_0x5f2c2a*_0x18d3d4['eur']/_0x18d3d4[_0x1256ae(0x199)],_0x3dd9c7=_0x5f2c2a;else config[_0x1256ae(0x17c)]==='EUR'&&(_0x390250=_0x5f2c2a,_0x3dd9c7=_0x5f2c2a*_0x18d3d4['usd']/_0x18d3d4[_0x1256ae(0x205)]);}return[_0x5f2c2a,_0x390250,_0x3dd9c7];}async function getStartingBalances(_0x2dde5,_0x153eb6=!![]){const _0x188ac1=_0x342bad;if(_0x2dde5[_0x188ac1(0x1f6)]!==0x0){const [_0x4e5b18,_0x3a54f7,_0x112b5b]=getPerf(_0x2dde5[0x0],!![]);let _0x3d86bd=[];config['portfolio'][_0x188ac1(0x254)](_0x131c32=>{const _0x5a124c=_0x188ac1;let _0x165133=0x0;config[_0x5a124c(0x1c3)][_0x5a124c(0x254)](_0x1ea615=>{const _0x8537c1=_0x5a124c;let _0x3c699b=_0x1ea615['changes'][_0x8537c1(0x159)](_0xc1a7b8=>_0xc1a7b8[_0x8537c1(0x227)]==_0x131c32[_0x8537c1(0x227)]);if(_0x3c699b)_0x165133+=_0x3c699b[_0x8537c1(0x1ab)];}),_0x3d86bd[_0x5a124c(0x198)]({'coin':_0x131c32['coin'],'number':_0x165133,'price':_0x131c32[_0x5a124c(0x1f3)]});});const _0x26b9a1={'basecoin':_0x4e5b18,'eur':_0x3a54f7,'usd':_0x112b5b,'coins':_0x3d86bd};if(_0x153eb6)proxyEmit(_0x188ac1(0x14f),_0x26b9a1);return _0x26b9a1;}}function headlessMode(_0x50901c){const _0xa40973=_0x342bad;let _0x161289=_0x50901c[_0xa40973(0x22b)],_0x7ffabf=_0x50901c['threshold'],_0x24690e=[];for(let _0x5b8a4b of _0x161289){if(_0x5b8a4b[_0xa40973(0x227)]!=config[_0xa40973(0x17c)]){if(_0x5b8a4b[_0xa40973(0x251)]/_0x5b8a4b[_0xa40973(0x25d)]-0x1>=_0x7ffabf/0x64){if(_0x5b8a4b['valid'])_0x24690e[_0xa40973(0x198)](_0x5b8a4b);}else{if(_0x5b8a4b[_0xa40973(0x251)]/_0x5b8a4b['target']-0x1<=-_0x7ffabf/0x64){if(_0x5b8a4b['valid'])_0x24690e['push'](_0x5b8a4b);}}}}_0x24690e['length']>0x0&&placeOrder(_0x24690e);}function notifyBalance(_0x5b8e46){const _0x4cf821=_0x342bad;let _0x507a58=_0x5b8e46['portfolio'],_0x4d7d68=_0x5b8e46['threshold'],_0x479f96=[];for(let _0x4cfdf6 of _0x507a58){if(_0x4cfdf6[_0x4cf821(0x227)]!=config[_0x4cf821(0x17c)]){if(_0x4cfdf6[_0x4cf821(0x251)]/_0x4cfdf6[_0x4cf821(0x25d)]-0x1>=_0x4d7d68/0x64){if(_0x4cfdf6[_0x4cf821(0x212)])_0x479f96['push'](_0x4cfdf6);}else{if(_0x4cfdf6[_0x4cf821(0x251)]/_0x4cfdf6[_0x4cf821(0x25d)]-0x1<=-_0x4d7d68/0x64){if(_0x4cfdf6[_0x4cf821(0x212)])_0x479f96[_0x4cf821(0x198)](_0x4cfdf6);}}}}if(_0x479f96[_0x4cf821(0x1f6)]>0x0){let _0x4d6058=_0x479f96[_0x4cf821(0x1c4)](_0x3ec463=>_0x3ec463[_0x4cf821(0x227)]);_0x4d6058[_0x4cf821(0x1a5)]();let _0x219ef8=_0x4d6058[_0x4cf821(0x216)](',\x20');if(lastCoinsToBalance!==_0x219ef8)logHistory('success','Manual\x20balancing\x20required:\x20'+_0x219ef8);lastCoinsToBalance=_0x219ef8;}}function symbolToCoin(_0x52b18f){const _0x42294d=_0x342bad;let _0x55b4a0;if(_0x52b18f['includes']('/'+config[_0x42294d(0x17c)]))_0x55b4a0=_0x52b18f[_0x42294d(0x1bc)]('/'+config[_0x42294d(0x17c)],'');if(_0x52b18f[_0x42294d(0x16c)](config[_0x42294d(0x17c)]+'/'))_0x55b4a0=_0x52b18f[_0x42294d(0x1bc)](config['basecoin']+'/','');return _0x55b4a0;}async function validateOrders(_0x5f319d=0x0){const _0x57941b=_0x342bad;let _0x1a2104=[],_0x45b3a5=config[_0x57941b(0x15c)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x57941b(0x189)]*0x3c*0x3e8/validateOrderInterval;lastOrders['forEach'](_0x5d4bb0=>{const _0x5b1394=_0x57941b;let _0xce62c0=previousCoins[_0x5b1394(0x159)](_0x4c7453=>_0x4c7453[_0x5b1394(0x227)]==symbolToCoin(_0x5d4bb0[_0x5b1394(0x1fe)])),_0x33768b=currentCoins['find'](_0x2cce2c=>_0x2cce2c[_0x5b1394(0x227)]==symbolToCoin(_0x5d4bb0[_0x5b1394(0x1fe)])),_0x395a72,_0x4a176;_0x5d4bb0[_0x5b1394(0x1f9)]==_0x5b1394(0x21c)&&!_0x5d4bb0[_0x5b1394(0x24e)]||_0x5d4bb0[_0x5b1394(0x1f9)]==_0x5b1394(0x180)&&_0x5d4bb0['reverse']?(_0x395a72=_0xce62c0[_0x5b1394(0x1ab)]+0.9*_0x5d4bb0[_0x5b1394(0x1d7)],_0x4a176=_0xce62c0[_0x5b1394(0x1ab)]+1.1*_0x5d4bb0[_0x5b1394(0x1d7)]):(_0x395a72=_0xce62c0[_0x5b1394(0x1ab)]-1.1*_0x5d4bb0[_0x5b1394(0x1d7)],_0x4a176=_0xce62c0[_0x5b1394(0x1ab)]-0.9*_0x5d4bb0[_0x5b1394(0x1d7)]);const _0x184580=_0x5d4bb0[_0x5b1394(0x1d7)]!=0x0&&_0x33768b[_0x5b1394(0x1ab)]>=_0x395a72&&_0x33768b['number']<=_0x4a176;_0x1a2104[_0x5b1394(0x198)](_0x184580);if(_0x184580&&config[_0x5b1394(0x15c)]!=_0x5b1394(0x20e)){if(_0x5d4bb0[_0x5b1394(0x24e)])logHistory(_0x5b1394(0x1e8),_0x5b1394(0x230)+_0x5d4bb0[_0x5b1394(0x1fe)]+'\x20'+_0x5d4bb0[_0x5b1394(0x1f9)]+'\x20#'+formatResult(_0x5d4bb0[_0x5b1394(0x1d7)]/_0x5d4bb0['price'],0x8)+'\x20@'+formatResult(_0x5d4bb0[_0x5b1394(0x1f3)],0x8));else logHistory(_0x5b1394(0x1e8),_0x5b1394(0x230)+_0x5d4bb0[_0x5b1394(0x1fe)]+'\x20'+_0x5d4bb0[_0x5b1394(0x1f9)]+'\x20#'+formatResult(_0x5d4bb0['filled'],0x8)+'\x20@'+formatResult(_0x5d4bb0[_0x5b1394(0x1f3)],0x8));}}),_0x1a2104['forEach']((_0x295898,_0x404535)=>{const _0xec9d40=_0x57941b;if(_0x295898)lastOrders[_0xec9d40(0x1bd)](_0x404535,0x1);});if(_0x5f319d<_0x45b3a5&&_0x1a2104[_0x57941b(0x16c)](![])){if(_0x5f319d==0x0){config['ordertype']==_0x57941b(0x20e)?logHistory(_0x57941b(0x169),_0x57941b(0x163)):logHistory(_0x57941b(0x169),_0x57941b(0x14d));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x5f319d);},0xa*0x3e8);}else{(_0x5f319d==0x1||_0x5f319d==Math[_0x57941b(0x17e)](_0x45b3a5/0x2)||_0x5f319d==_0x45b3a5-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x5f319d);},validateOrderInterval);}}else{lockOrders=![];if(_0x5f319d>0x0&&!_0x1a2104[_0x57941b(0x16c)](![]))config[_0x57941b(0x15c)]==_0x57941b(0x20e)?logHistory('success',_0x57941b(0x174)):logHistory(_0x57941b(0x19e),'Order(s)\x20filled\x20-\x20balancing\x20resumed');else _0x5f319d>0x0&&_0x1a2104[_0x57941b(0x16c)](![])&&(config['ordertype']==_0x57941b(0x20e)?logHistory(_0x57941b(0x19e),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x57941b(0x17e)](_0x45b3a5*validateOrderInterval/0xea60)+_0x57941b(0x22d)):(lastOrders[_0x57941b(0x254)](async _0x19d07f=>{const _0x5f890e=_0x57941b;try{const _0xfa9b9=await exchange[_0x5f890e(0x14a)](_0x19d07f[_0x5f890e(0x1b1)],_0x19d07f['symbol']);}catch(_0x70b197){if(_0x70b197[_0x5f890e(0x213)]()[_0x5f890e(0x16c)]('OrderNotFound')){}else await handleError(_0x70b197,_0x5f890e(0x1ee));}}),logHistory(_0x57941b(0x19e),_0x57941b(0x253)+Math[_0x57941b(0x17e)](_0x45b3a5*validateOrderInterval/0xea60)+_0x57941b(0x22d))));}}async function resetCoinResults(){const _0x4be9d8=_0x342bad;dbCoinResults[_0x4be9d8(0x15a)](_0x4be9d8(0x18a))[_0x4be9d8(0x21e)]()['write']();let _0xd9d68=await getStartingBalances(getNormalizedPerformance(),![]);_0xd9d68[_0x4be9d8(0x18a)]['forEach'](_0x25cce4=>{const _0x3bb668=_0x4be9d8;if(_0x25cce4[_0x3bb668(0x227)]!=config[_0x3bb668(0x17c)]){let _0x25f23f={'coin':_0x25cce4[_0x3bb668(0x227)],'number':_0x25cce4[_0x3bb668(0x1ab)],'breakeven':_0x25cce4[_0x3bb668(0x1f3)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x3bb668(0x18a))[_0x3bb668(0x198)](_0x25f23f)[_0x3bb668(0x231)]();}});}async function updateCoinResults(_0x4f22cc){const _0x2a2ae4=_0x342bad;let _0x146e0d,_0x6ccf9d,_0x167e06,_0xc0ad5e,_0x104f94,_0x21252a,_0x5b7e71=dbCoinResults[_0x2a2ae4(0x15a)](_0x2a2ae4(0x18a))[_0x2a2ae4(0x159)]({'coin':_0x4f22cc['coin']})[_0x2a2ae4(0x241)]();if(!_0x5b7e71)return;if(_0x4f22cc[_0x2a2ae4(0x236)]&&_0x4f22cc['fee'][_0x2a2ae4(0x1c1)]==config[_0x2a2ae4(0x17c)])_0x146e0d=_0x4f22cc[_0x2a2ae4(0x236)][_0x2a2ae4(0x1e7)];else{if(_0x4f22cc[_0x2a2ae4(0x236)]&&_0x4f22cc[_0x2a2ae4(0x236)][_0x2a2ae4(0x1c1)]==_0x2a2ae4(0x20d))_0x146e0d=_0x4f22cc[_0x2a2ae4(0x236)]['cost']*global[_0x2a2ae4(0x271)][_0x2a2ae4(0x20d)+config[_0x2a2ae4(0x17c)]];else _0x146e0d=0.001*_0x4f22cc[_0x2a2ae4(0x1d7)];}const _0x1e5abb=_0x4f22cc[_0x2a2ae4(0x1fe)][_0x2a2ae4(0x16c)](config[_0x2a2ae4(0x17c)]+'/');_0x1e5abb&&(_0x21252a={'coin':_0x4f22cc['coin'],'symbol':_0x4f22cc[_0x2a2ae4(0x1fe)],'filled':_0x4f22cc[_0x2a2ae4(0x1d7)]*_0x4f22cc[_0x2a2ae4(0x1f3)],'side':_0x4f22cc['side']==_0x2a2ae4(0x180)?_0x2a2ae4(0x21c):_0x2a2ae4(0x180),'price':0x1/_0x4f22cc[_0x2a2ae4(0x1f3)]},_0x4f22cc={..._0x21252a});_0x4f22cc['side']==_0x2a2ae4(0x21c)?_0x167e06=(_0x5b7e71['breakeven']*_0x5b7e71['number']+_0x4f22cc[_0x2a2ae4(0x1f3)]*_0x4f22cc[_0x2a2ae4(0x1d7)])/(_0x5b7e71[_0x2a2ae4(0x1ab)]+_0x4f22cc[_0x2a2ae4(0x1d7)]):_0x167e06=(_0x5b7e71[_0x2a2ae4(0x182)]*_0x5b7e71[_0x2a2ae4(0x1ab)]-_0x4f22cc[_0x2a2ae4(0x1f3)]*_0x4f22cc[_0x2a2ae4(0x1d7)])/(_0x5b7e71[_0x2a2ae4(0x1ab)]-_0x4f22cc[_0x2a2ae4(0x1d7)]);_0x4f22cc[_0x2a2ae4(0x1f9)]==_0x2a2ae4(0x21c)?_0xc0ad5e=_0x5b7e71[_0x2a2ae4(0x1d4)]:_0xc0ad5e=_0x5b7e71[_0x2a2ae4(0x1d4)]+(_0x4f22cc['price']-_0x5b7e71['breakeven'])*_0x4f22cc[_0x2a2ae4(0x1d7)];_0x6ccf9d=_0x4f22cc['side']=='sell'?_0x5b7e71[_0x2a2ae4(0x1ab)]-_0x4f22cc[_0x2a2ae4(0x1d7)]:_0x5b7e71['number']+_0x4f22cc[_0x2a2ae4(0x1d7)],_0x104f94=(_0x4f22cc[_0x2a2ae4(0x1f3)]-_0x167e06)*_0x6ccf9d;let _0x4475db={'coin':_0x4f22cc['coin'],'number':_0x6ccf9d,'breakeven':formatResult(_0x167e06,0x8),'realized':formatResult(_0xc0ad5e,0x8),'unrealized':formatResult(_0x104f94,0x8),'fees':formatResult(_0x5b7e71['fees']+_0x146e0d,0x8),'sells':_0x4f22cc[_0x2a2ae4(0x1f9)]=='sell'?_0x5b7e71[_0x2a2ae4(0x1c2)]+0x1:_0x5b7e71[_0x2a2ae4(0x1c2)],'buys':_0x4f22cc[_0x2a2ae4(0x1f9)]==_0x2a2ae4(0x21c)?_0x5b7e71[_0x2a2ae4(0x193)]+0x1:_0x5b7e71['buys']};dbCoinResults[_0x2a2ae4(0x15a)]('coins')[_0x2a2ae4(0x159)]({'coin':_0x4f22cc[_0x2a2ae4(0x227)]})[_0x2a2ae4(0x261)](_0x4475db)[_0x2a2ae4(0x231)]();}async function placeOrder(_0x3a8e69){const _0x32617b=_0x342bad,_0x268d0f=config[_0x32617b(0x15c)]==_0x32617b(0x20e)?_0x32617b(0x20e):'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x32617b(0x14c)](JSON['stringify'](currentCoins));for(const _0x2d9a83 of _0x3a8e69){let _0x5e6e80,_0x4807d1,_0x499511,_0x3f3528,_0x31225f,_0x50b09e=_0x2d9a83['symbol'];try{const _0x2b1e95=await exchange[_0x32617b(0x267)](_0x50b09e),_0x73cabc=_0x2b1e95[_0x50b09e];_0x5e6e80=_0x2d9a83[_0x32617b(0x24e)]?0x1/_0x2d9a83[_0x32617b(0x23d)]:_0x2d9a83['last'],_0x4807d1=_0x73cabc['bid'],_0x499511=_0x73cabc[_0x32617b(0x1b5)];_0x2d9a83['reverse']?(_0x3f3528=_0x2d9a83['side']==_0x32617b(0x21c)?_0x32617b(0x180):_0x32617b(0x21c),_0x31225f=Math[_0x32617b(0x249)](_0x2d9a83[_0x32617b(0x1c0)])/_0x5e6e80):(_0x3f3528=_0x2d9a83['side'],_0x31225f=Math[_0x32617b(0x249)](_0x2d9a83['trade']));_0x268d0f=='limit'&&(config[_0x32617b(0x15c)]=='limit-high'&&(_0x5e6e80=_0x3f3528==_0x32617b(0x21c)?_0x4807d1:_0x499511),config[_0x32617b(0x15c)]=='limit-low'&&(_0x5e6e80=_0x3f3528==_0x32617b(0x21c)?_0x499511:_0x4807d1));_0x31225f=formatResult(_0x31225f,0x8),_0x5e6e80=formatResult(_0x5e6e80,0x8);const _0x1637c7=await exchange[_0x32617b(0x23a)](_0x50b09e,_0x268d0f,_0x3f3528,_0x31225f,_0x5e6e80);lastOrders[_0x32617b(0x198)]({'orderId':_0x1637c7['id'],'symbol':_0x50b09e,'side':_0x3f3528,'reverse':_0x2d9a83[_0x32617b(0x24e)],'amount':_0x2d9a83['reverse']?_0x1637c7[_0x32617b(0x220)]*_0x1637c7[_0x32617b(0x1f3)]:_0x1637c7[_0x32617b(0x220)],'filled':_0x2d9a83[_0x32617b(0x24e)]?_0x1637c7[_0x32617b(0x1d7)]*_0x1637c7[_0x32617b(0x1f3)]:_0x1637c7['filled'],'price':_0x1637c7[_0x32617b(0x1f3)]});const _0x494ce3=_0x3f3528=='sell'?config[_0x32617b(0x23c)]?String[_0x32617b(0x226)]('0x'+config[_0x32617b(0x23c)])+'\x20':'':config[_0x32617b(0x1d9)]?String[_0x32617b(0x226)]('0x'+config['emojibuy'])+'\x20':'',_0x3477d6=_0x268d0f=='market'?_0x32617b(0x191):config[_0x32617b(0x15c)]==_0x32617b(0x1be)?_0x32617b(0x17a):_0x32617b(0x1d3);if(_0x268d0f==_0x32617b(0x20e))logHistory(_0x32617b(0x1e8),''+_0x494ce3+_0x3477d6+_0x32617b(0x22e)+_0x50b09e+'\x20'+_0x3f3528+'\x20#'+formatResult(_0x1637c7['filled'],0x8)+'\x20@'+formatResult(_0x1637c7['price'],0x8));else logHistory(_0x32617b(0x1e8),''+_0x494ce3+_0x3477d6+'\x20order:\x20'+_0x50b09e+'\x20'+_0x3f3528+'\x20#'+formatResult(_0x1637c7['amount'],0x8)+'\x20@'+formatResult(_0x1637c7[_0x32617b(0x1f3)],0x8));_0x1637c7['coin']=_0x2d9a83[_0x32617b(0x227)],await updateCoinResults(_0x1637c7);if(config[_0x32617b(0x1d6)]!=0x0){let _0x47499a=null;if(cooldownTracker[_0x32617b(0x1f6)]==config[_0x32617b(0x1d6)]-0x1)_0x47499a=cooldownTracker[_0x32617b(0x25b)]();const _0x34efb6=getTimeStamp();cooldownTracker[_0x32617b(0x198)](_0x34efb6);if(_0x47499a){const _0x1a26e0=fns[_0x32617b(0x19a)](new Date(_0x34efb6),new Date(_0x47499a));_0x1a26e0<cooldownInterval&&(logHistory(_0x32617b(0x169),_0x32617b(0x1a8)+config[_0x32617b(0x1d6)]+_0x32617b(0x1f4)+cooldownInterval/0x3c+_0x32617b(0x18e)+cooldownPeriod/(0xe10*0x3e8)+_0x32617b(0x151)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x3d2e12){if(_0x3d2e12[_0x32617b(0x213)]()[_0x32617b(0x16c)](_0x32617b(0x248)))logHistory(_0x32617b(0x169),_0x32617b(0x1cf)+_0x50b09e);else{if(_0x3d2e12[_0x32617b(0x213)]()[_0x32617b(0x16c)](_0x32617b(0x18b)))logHistory('error',_0x32617b(0x23e)+_0x50b09e);else await handleError(_0x3d2e12,_0x32617b(0x200));}}}if(lastOrders['length']!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x32617b(0x208)]&&(config[_0x32617b(0x15c)]==_0x32617b(0x20e)?logHistory(_0x32617b(0x169),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory('error',_0x32617b(0x20a)));else coolingDown&&(!config[_0x32617b(0x208)]&&logHistory(_0x32617b(0x169),_0x32617b(0x262)));}}function logHistory(_0x1eaada,_0x197b0c,_0x27eadd=''){const _0x5f206a=_0x342bad;let _0x11ca73={'time':getTimeStamp(),'type':_0x1eaada,'event':_0x197b0c};dbLogs[_0x5f206a(0x15a)](_0x5f206a(0x1c6))[_0x5f206a(0x198)](_0x11ca73)[_0x5f206a(0x231)]();if(_0x27eadd=='')_0x27eadd=_0x197b0c;proxyEmit(_0x5f206a(0x152),{'log':_0x11ca73,'summary':_0x27eadd}),process[_0x5f206a(0x196)]({'telegram':{..._0x11ca73,'botname':config[_0x5f206a(0x1f1)],'showname':config[_0x5f206a(0x15f)]}},_0x3b7be1=>{}),logging(''+_0x11ca73[_0x5f206a(0x152)]);}function emitHistory(_0x411e1a={}){const _0x2bb9c5=_0x342bad;Object['keys'](_0x411e1a)[_0x2bb9c5(0x1f6)]==0x0&&(_0x411e1a={'type':[_0x2bb9c5(0x1e8),_0x2bb9c5(0x152)],'event':'','page':0x1});if(_0x411e1a[_0x2bb9c5(0x1a1)][_0x2bb9c5(0x16c)](_0x2bb9c5(0x152)))_0x411e1a['type'][_0x2bb9c5(0x1bd)](_0x411e1a[_0x2bb9c5(0x1a1)][_0x2bb9c5(0x276)](_0x2bb9c5(0x152)),0x1,_0x2bb9c5(0x169),_0x2bb9c5(0x19e));if(dbLogs[_0x2bb9c5(0x1ce)]('logs')[_0x2bb9c5(0x241)]()){let _0x27e1d8=dbLogs['get'](_0x2bb9c5(0x1c6))[_0x2bb9c5(0x177)](_0x2ec445=>{const _0x451f0f=_0x2bb9c5;if(_0x411e1a['type']['length']==0x0)return![];else return _0x411e1a[_0x451f0f(0x1a1)]['includes'](_0x2ec445[_0x451f0f(0x1a1)]);})[_0x2bb9c5(0x177)](_0x1ca16d=>{const _0x5cfeba=_0x2bb9c5;if(_0x411e1a[_0x5cfeba(0x152)]=='')return!![];else return _0x1ca16d[_0x5cfeba(0x152)][_0x5cfeba(0x265)]()[_0x5cfeba(0x16c)](_0x411e1a[_0x5cfeba(0x152)][_0x5cfeba(0x265)]());})[_0x2bb9c5(0x166)](_0x2bb9c5(0x274)),_0x16355f=_0x27e1d8[_0x2bb9c5(0x241)]()[_0x2bb9c5(0x1f6)];_0x27e1d8=_0x27e1d8[_0x2bb9c5(0x24e)]()[_0x2bb9c5(0x164)]((_0x411e1a[_0x2bb9c5(0x18c)]-0x1)*logPageSize,_0x411e1a[_0x2bb9c5(0x18c)]*logPageSize-0x1)[_0x2bb9c5(0x24e)]()[_0x2bb9c5(0x241)](),proxyEmit(_0x2bb9c5(0x1cb),{'logs':_0x27e1d8,'total':_0x16355f});}else proxyEmit(_0x2bb9c5(0x1cb),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2347dd){const _0x3a4773=_0x342bad;if(dbLogs[_0x3a4773(0x1ce)]('logs')['value']()){const _0x118dce=dbLogs[_0x3a4773(0x15a)](_0x3a4773(0x1c6))[_0x3a4773(0x166)]('time')['filter'](_0x172512=>{const _0x22604d=_0x3a4773;return _0x172512['type']==_0x22604d(0x1e8);})[_0x3a4773(0x241)]();dbLogs[_0x3a4773(0x15a)](_0x3a4773(0x1c6))[_0x3a4773(0x21e)]()['write'](),dbLogs[_0x3a4773(0x15a)]('logs')[_0x3a4773(0x261)](_0x118dce)[_0x3a4773(0x231)](),emitHistory(_0x2347dd);}}async function pauseBot(_0x4efa16=''){const _0x68a2e0=_0x342bad,_0x250be4=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x68a2e0(0x156)](),consecutivePauses=0x1;else{if(_0x250be4-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x68a2e0(0x196)]({'stop':_0x68a2e0(0x279)},_0x2f10b8=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x68a2e0(0x156)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x4efa16)_0x4efa16+=_0x68a2e0(0x17f);logHistory(_0x68a2e0(0x169),_0x4efa16+_0x68a2e0(0x250)+pauseBotInterval/0xea60+_0x68a2e0(0x22a)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x27befa=_0x342bad;process['send']({'stop':_0x27befa(0x154)},_0xa0b984=>{}),await sleep(0x7d0);}async function handleError(_0x3d7ebd,_0x5d1ea0,_0x49a781=''){const _0x25a725=_0x342bad;if(_0x3d7ebd[_0x25a725(0x213)]()['includes'](_0x25a725(0x21b)))await pauseBot('Binance\x20API\x20blocked');else{if(_0x3d7ebd['toString']()[_0x25a725(0x16c)](_0x25a725(0x203)))await pauseBot(_0x25a725(0x15b));else{if(_0x3d7ebd[_0x25a725(0x213)]()[_0x25a725(0x16c)](_0x25a725(0x181)))await pauseBot(_0x25a725(0x258));else{if(_0x3d7ebd['toString']()[_0x25a725(0x16c)]('API-key\x20format\x20invalid'))logHistory(_0x25a725(0x169),_0x5d1ea0+_0x25a725(0x214)),logHistory(_0x25a725(0x169),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3d7ebd[_0x25a725(0x213)]()[_0x25a725(0x16c)](_0x25a725(0x245)))logHistory(_0x25a725(0x169),_0x5d1ea0+_0x25a725(0x263)),logHistory(_0x25a725(0x169),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3d7ebd[_0x25a725(0x213)]()[_0x25a725(0x16c)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x5d1ea0+_0x25a725(0x19b)),logHistory(_0x25a725(0x169),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3d7ebd[_0x25a725(0x213)]()[_0x25a725(0x16c)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory('error',_0x5d1ea0+_0x25a725(0x195)),logHistory(_0x25a725(0x169),_0x25a725(0x1c5)),await killBot();else{if(_0x3d7ebd['toString']()['includes'](_0x25a725(0x257)))await pauseBot(_0x25a725(0x1c7)),process['send']({'stop':_0x25a725(0x279)},_0x1bd069=>{});else _0x3d7ebd[_0x25a725(0x213)]()[_0x25a725(0x16c)](_0x25a725(0x1f2))?logHistory(_0x25a725(0x169),_0x5d1ea0+_0x25a725(0x165)):(logging(_0x5d1ea0+_0x25a725(0x1de),_0x3d7ebd),await pauseBot(_0x25a725(0x219)));}}}}}}}}function formatResult(_0x4e055b,_0x5238af){const _0x3f3df2=_0x342bad;return parseFloat(_0x4e055b[_0x3f3df2(0x187)](_0x5238af));}function logging(_0x3cc703,_0xf84781=''){const _0x49f343=_0x342bad;if(config['showname'])console[_0x49f343(0x1a3)](getTimeStamp()+':\x20'+config[_0x49f343(0x1f1)]+_0x49f343(0x1e3)+_0x3cc703,_0xf84781);else console[_0x49f343(0x1a3)](getTimeStamp()+_0x49f343(0x1a7)+botID+_0x49f343(0x1e3)+_0x3cc703,_0xf84781);}function getServerTime(){const _0x526ddd=_0x342bad,_0x56aa07=new Date();return _0x56aa07[_0x526ddd(0x1fd)]()+'/'+(_0x56aa07[_0x526ddd(0x190)]()+0x1)[_0x526ddd(0x213)]()[_0x526ddd(0x175)](0x2,'0')+'/'+_0x56aa07['getDate']()['toString']()[_0x526ddd(0x175)](0x2,'0')+'\x20'+_0x56aa07[_0x526ddd(0x256)]()[_0x526ddd(0x213)]()[_0x526ddd(0x175)](0x2,'0')+':'+_0x56aa07[_0x526ddd(0x224)]()[_0x526ddd(0x213)]()[_0x526ddd(0x175)](0x2,'0')+':'+_0x56aa07[_0x526ddd(0x1d5)]()[_0x526ddd(0x213)]()[_0x526ddd(0x175)](0x2,'0');}function getTimeStamp(){const _0xc6a1b9=_0x342bad,_0x4294eb=shiftedTime();return _0x4294eb['getFullYear']()+'/'+(_0x4294eb['getMonth']()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x4294eb['getDate']()[_0xc6a1b9(0x213)]()[_0xc6a1b9(0x175)](0x2,'0')+'\x20'+_0x4294eb['getHours']()[_0xc6a1b9(0x213)]()[_0xc6a1b9(0x175)](0x2,'0')+':'+_0x4294eb[_0xc6a1b9(0x224)]()['toString']()[_0xc6a1b9(0x175)](0x2,'0')+':'+_0x4294eb[_0xc6a1b9(0x1d5)]()[_0xc6a1b9(0x213)]()[_0xc6a1b9(0x175)](0x2,'0');}function getDate(){const _0x28683c=_0x342bad,_0x2f52e5=shiftedTime();return _0x2f52e5[_0x28683c(0x1fd)]()+'/'+(_0x2f52e5['getMonth']()+0x1)[_0x28683c(0x213)]()[_0x28683c(0x175)](0x2,'0')+'/'+_0x2f52e5[_0x28683c(0x255)]()[_0x28683c(0x213)]()[_0x28683c(0x175)](0x2,'0');}function getHour(){const _0x12843f=_0x342bad,_0x556ec7=shiftedTime();return _0x556ec7['getHours']()[_0x12843f(0x213)]()[_0x12843f(0x175)](0x2,'0');}function sleep(_0x43e170){return new Promise(_0x1a2f97=>setTimeout(_0x1a2f97,_0x43e170));}function shiftedTime(){const _0x14b72f=_0x342bad,_0x3709dc=new Date();let _0x23f6d8=_0x3709dc;if(config&&config[_0x14b72f(0x1e2)]!==0x0)_0x23f6d8=fns[_0x14b72f(0x24d)](_0x3709dc,{'hours':config[_0x14b72f(0x1e2)]});return _0x23f6d8;}