const _0x375e26=_0x12cd;(function(_0x119420,_0x30698f){const _0x2448f7=_0x12cd,_0x5269da=_0x119420();while(!![]){try{const _0x20e3e2=-parseInt(_0x2448f7(0x30c))/0x1+parseInt(_0x2448f7(0x304))/0x2+-parseInt(_0x2448f7(0x25a))/0x3*(parseInt(_0x2448f7(0x1c7))/0x4)+-parseInt(_0x2448f7(0x20e))/0x5*(-parseInt(_0x2448f7(0x1b2))/0x6)+-parseInt(_0x2448f7(0x2de))/0x7+parseInt(_0x2448f7(0x251))/0x8+-parseInt(_0x2448f7(0x308))/0x9*(-parseInt(_0x2448f7(0x1a5))/0xa);if(_0x20e3e2===_0x30698f)break;else _0x5269da['push'](_0x5269da['shift']());}catch(_0x3ee5eb){_0x5269da['push'](_0x5269da['shift']());}}}(_0x13a1,0x34a80));const _0x5ba895=function(){let _0x42eff3=!![];return function(_0x1fe12a,_0x2ce36b){const _0x4d9989=_0x42eff3?function(){const _0xa5ee83=_0x12cd;if(_0x2ce36b){const _0x4f83d0=_0x2ce36b[_0xa5ee83(0x292)](_0x1fe12a,arguments);return _0x2ce36b=null,_0x4f83d0;}}:function(){};return _0x42eff3=![],_0x4d9989;};}(),_0x1a8fc9=_0x5ba895(this,function(){const _0x4add23=_0x12cd;return _0x1a8fc9[_0x4add23(0x336)]()[_0x4add23(0x1fc)](_0x4add23(0x226))['toString']()['constructor'](_0x1a8fc9)[_0x4add23(0x1fc)]('(((.+)+)+)+$');});_0x1a8fc9();'use strict';const ccxt=require('ccxt'),low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x375e26(0x33f)),Crypt=require(_0x375e26(0x25e))[_0x375e26(0x2db)],util=require('util'),argv=require(_0x375e26(0x1c0))(process[_0x375e26(0x22b)][_0x375e26(0x24b)](0x2))['argv'],path=require(_0x375e26(0x241)),axios=require(_0x375e26(0x281));let exchange;global[_0x375e26(0x290)]={},global[_0x375e26(0x239)]={};const usdBasecoins=[_0x375e26(0x2bf),_0x375e26(0x29e),_0x375e26(0x31b),_0x375e26(0x28a),_0x375e26(0x30d),_0x375e26(0x1c8)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20-\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x375e26(0x1dd),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x375e26(0x228))[_0x375e26(0x29f)],botID=process[_0x375e26(0x22b)][0x2]||_0x375e26(0x204),pattern=/^[0-9]{3}$/;!pattern[_0x375e26(0x325)](botID)&&(console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x375e26(0x26b)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x375e26(0x28b)+userID+'/':_0x375e26(0x28b),logspath=userID?_0x375e26(0x1cd)+userID+'/':'./logs/',loggerfile=fs[_0x375e26(0x2da)](logspath+_0x375e26(0x2f3),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x375e26(0x317)](configpath);!fs['existsSync'](logspath)&&fs[_0x375e26(0x317)](logspath);const configfile=configpath+_0x375e26(0x2cc)+botID+_0x375e26(0x2f5),logfile=configpath+_0x375e26(0x2cc)+botID+_0x375e26(0x2d7),performancefile=configpath+'bot-'+botID+_0x375e26(0x33e),coinresultsfile=configpath+_0x375e26(0x2cc)+botID+_0x375e26(0x2bc),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x375e26(0x28e),configbackuppath=configpath+_0x375e26(0x1d4),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x375e26(0x1fd)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x375e26(0x1c9)]({'data':[],'version':serverversion})[_0x375e26(0x1fd)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x375e26(0x1c9)]({'bot':[],'version':serverversion})[_0x375e26(0x1fd)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x375e26(0x1c9)]({'coins':[],'version':serverversion})[_0x375e26(0x1fd)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x375e26(0x229)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x7941c7=>{const _0x2c789a=_0x375e26;console[_0x2c789a(0x30f)](_0x7941c7);},'simple':_0x7d7a7a=>{const _0x7eb2ca=_0x375e26;console[_0x7eb2ca(0x30f)](_0x7d7a7a),loggerfile[_0x7eb2ca(0x1fd)](util['format'](_0x7d7a7a)+'\x0a');},'full':async(_0x40b0da,_0x5f01ac='')=>{const _0x297e51=_0x375e26;let _0x11f4b2;if(config[_0x297e51(0x319)])_0x11f4b2=getTimeStamp()+':\x20'+config[_0x297e51(0x1c5)]+_0x297e51(0x19c)+_0x40b0da;else _0x11f4b2=getTimeStamp()+_0x297e51(0x32b)+botID+_0x297e51(0x19c)+_0x40b0da;console['log'](_0x11f4b2),loggerfile[_0x297e51(0x1fd)](util['format'](_0x11f4b2)+'\x0a'),_0x5f01ac&&(console['log'](_0x5f01ac),loggerfile['write'](util[_0x297e51(0x1a0)](_0x5f01ac)+'\x0a'));},'debug':async(_0x48abe7,_0x1862d1='')=>{const _0x18819f=_0x375e26;let _0x72405c;if(config[_0x18819f(0x319)])_0x72405c=getTimeStamp()+':\x20'+config[_0x18819f(0x1c5)]+_0x18819f(0x1a7)+_0x48abe7;else _0x72405c=getTimeStamp()+':\x20Bot\x20'+botID+_0x18819f(0x1a7)+_0x48abe7;if(debugging)console[_0x18819f(0x30f)](_0x72405c);loggerfile[_0x18819f(0x1fd)](util[_0x18819f(0x1a0)](_0x72405c)+'\x0a');if(_0x1862d1){if(debugging)console[_0x18819f(0x30f)](_0x1862d1);loggerfile[_0x18819f(0x1fd)](util[_0x18819f(0x1a0)](_0x1862d1)+'\x0a');}}};process['on'](_0x375e26(0x2a4),function(_0x3276b7){const _0x4004a3=_0x375e26;handleError(_0x3276b7,_0x4004a3(0x2a4));});settings[_0x375e26(0x32e)]!=config[_0x375e26(0x32e)]&&updateTimeshift(settings[_0x375e26(0x32e)]);settings['onepagemode']!=config[_0x375e26(0x306)]&&updateOnepagemode(settings[_0x375e26(0x306)]);(settings['marketcapApi']&&!config[_0x375e26(0x1bc)]||!settings[_0x375e26(0x1bc)]&&config['marketcapApi'])&&updateMarketcapApi(settings['marketcapApi']);process['send']({'started':_0x375e26(0x244)},_0x393dae=>{}),initializeProcessListeners();function proxyEmit(_0x2244a6,_0x5772bd=null){const _0xfa52a1=_0x375e26;process[_0xfa52a1(0x2dd)]({'function':_0x2244a6,'args':_0x5772bd},_0x1ce16d=>{});}function initializeProcessListeners(){process['on']('message',_0x1b1326=>{const _0x12d483=_0x12cd;switch(Object[_0x12d483(0x2d3)](_0x1b1326)[0x0]){case _0x12d483(0x32e):_0x1b1326[_0x12d483(0x32e)]!=undefined&&(settings[_0x12d483(0x32e)]=_0x1b1326[_0x12d483(0x32e)],updateTimeshift(settings['timeshift']));break;case _0x12d483(0x306):_0x1b1326[_0x12d483(0x306)]!=undefined&&(settings[_0x12d483(0x306)]=_0x1b1326['onepagemode'],updateOnepagemode(settings[_0x12d483(0x306)]));break;case _0x12d483(0x1bc):_0x1b1326['marketcapApi']!=undefined&&(settings[_0x12d483(0x1bc)]=_0x1b1326[_0x12d483(0x1bc)],updateMarketcapApi(settings[_0x12d483(0x1bc)]));break;case _0x12d483(0x2a9):_0x1b1326[_0x12d483(0x2a9)]!=undefined&&(bots=JSON['parse'](_0x1b1326[_0x12d483(0x2a9)]),proxyEmit(_0x12d483(0x2a9),bots));break;case _0x12d483(0x2cf):switch(_0x1b1326[_0x12d483(0x2cf)]){case _0x12d483(0x233):initclient();break;case _0x12d483(0x1d3):toggleBotMode();break;case _0x12d483(0x1ad):emitHistory(_0x1b1326[_0x12d483(0x270)]);break;case _0x12d483(0x247):deleteHistoryAlerts(_0x1b1326[_0x12d483(0x270)]);break;case'getPortfolio':getPortfolio(_0x1b1326[_0x12d483(0x270)]);break;case _0x12d483(0x326):storeConfiguration(_0x1b1326[_0x12d483(0x270)]);break;case'storeHeadless':storeHeadless(_0x1b1326['args']);break;case _0x12d483(0x1d6):storeFiat(_0x1b1326[_0x12d483(0x270)]);break;case _0x12d483(0x331):resetHistory();break;case _0x12d483(0x20f):getStartingBalances(getNormalizedPerformance());break;case _0x12d483(0x29b):placeOrder(_0x1b1326[_0x12d483(0x270)]);break;case _0x12d483(0x273):cancelLoading();break;case _0x12d483(0x2e5):showConfig();break;case _0x12d483(0x24c):sendMetricsTelegram();break;case _0x12d483(0x2b5):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x2b9d84=![]){const _0x15ed2=_0x375e26;logger[_0x15ed2(0x294)](_0x15ed2(0x29a)+(_0x2b9d84?'exchange\x20reloaded':_0x15ed2(0x2ce))+'\x20|\x20exchange:\x20'+config[_0x15ed2(0x2cb)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x2b9d84)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config['apiKey']!=_0x15ed2(0x1ee)){loadingProgress=0x0;if(_0x2b9d84){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x3efa29){handleErrorNoStop(_0x3efa29,'loadSymbols()');return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x18f4f4=await getCoins();[currentCoins,currentCoinsAll]=_0x18f4f4,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x15ed2(0x294)](_0x15ed2(0x1bb)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x15ed2(0x1df)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x460e60){const _0x23bf7d=_0x375e26;let _0x58310a=![];if(_0x460e60)_0x58310a=!![];let _0x322bc3;_0x58310a?_0x322bc3=_0x460e60['map'](_0x14dabb=>_0x14dabb[_0x23bf7d(0x2b4)]):_0x322bc3=currentCoinsAll[_0x23bf7d(0x321)](_0x4a9c1=>_0x4a9c1[_0x23bf7d(0x2b4)]);if(!config['marketcapApi']||!_0x58310a&&!config[_0x23bf7d(0x27a)]||_0x322bc3[_0x23bf7d(0x1df)]==0x0)return;let _0x194201=null;try{_0x194201=await axios['get'](_0x23bf7d(0x255),{'headers':{'X-CMC_PRO_API_KEY':settings['marketcapApi']},'params':{'symbol':_0x322bc3[_0x23bf7d(0x336)]()}});}catch(_0x29c3c1){_0x194201=null,_0x29c3c1['toString']()[_0x23bf7d(0x22c)](_0x23bf7d(0x1a2))?(config[_0x23bf7d(0x1bc)]=![],updateConfig(),proxyEmit(_0x23bf7d(0x2ba),emittedConfiguration()),logHistory(_0x23bf7d(0x1c1),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x23bf7d(0x1c1),_0x23bf7d(0x1cb)+marketCapInterval/(0x3c*0x3e8)+_0x23bf7d(0x1dd)),logger[_0x23bf7d(0x294)](_0x23bf7d(0x202),_0x29c3c1['toString']()+_0x23bf7d(0x245)+_0x29c3c1[_0x23bf7d(0x278)]));}if(_0x194201){let _0x17699c=0x0;const _0x3db097=_0x194201['data'];_0x322bc3[_0x23bf7d(0x252)](_0x32a623=>{const _0x6ef0c3=_0x23bf7d;if(_0x3db097['data'][_0x32a623][0x0])_0x17699c+=_0x3db097[_0x6ef0c3(0x1c2)][_0x32a623][0x0][_0x6ef0c3(0x234)][_0x6ef0c3(0x2bf)][_0x6ef0c3(0x22e)];}),_0x322bc3[_0x23bf7d(0x252)](_0x490783=>{const _0x210b70=_0x23bf7d,_0x34b5b7=_0x3db097[_0x210b70(0x1c2)][_0x490783][0x0]?_0x3db097[_0x210b70(0x1c2)][_0x490783][0x0][_0x210b70(0x234)][_0x210b70(0x2bf)]['market_cap']:0x0;if(_0x58310a){const _0x31a8d4=_0x460e60[_0x210b70(0x1e8)](_0x4813d3=>_0x4813d3[_0x210b70(0x2b4)]==_0x490783);_0x31a8d4&&(_0x31a8d4[_0x210b70(0x200)]=_0x34b5b7);}else{const _0x25c525=currentCoins[_0x210b70(0x1e8)](_0x55969c=>_0x55969c['coin']==_0x490783);_0x25c525&&(_0x25c525['marketcap']=_0x34b5b7);const _0x5f1080=currentCoinsAll[_0x210b70(0x1e8)](_0x585c4a=>_0x585c4a[_0x210b70(0x2b4)]==_0x490783);_0x5f1080&&(_0x5f1080['marketcap']=_0x34b5b7);}}),!_0x58310a&&updateTargetDistribution();}}function updateTargetDistribution(){const _0xd62e89=_0x375e26,_0xa5a346=0x2;let _0x246d64=0x0,_0x2341d8=0x0,_0x38b8ae=0x0,_0x12c56a=0x0,_0x3c44be=0x0;config[_0xd62e89(0x2fb)]['forEach'](_0x89fa22=>{const _0x4185a5=_0xd62e89;if(!_0x89fa22[_0x4185a5(0x199)]){_0x38b8ae++,_0x246d64+=_0x89fa22[_0x4185a5(0x2e4)];if(_0x89fa22['slider']===-0x1){_0x246d64++;const _0xd73d2d=currentCoinsAll['find'](_0x31e91f=>_0x31e91f[_0x4185a5(0x2b4)]==_0x89fa22[_0x4185a5(0x2b4)]);_0xd73d2d&&(_0x12c56a+=_0xd73d2d[_0x4185a5(0x200)],_0x3c44be+=Math['sqrt'](_0xd73d2d[_0x4185a5(0x200)]));}if(_0x89fa22[_0x4185a5(0x2e4)]!==-0x1)_0x2341d8++;}});let _0x161678;const _0x24b3a6=0x64-_0x246d64,_0x4d6064=_0x38b8ae-_0x2341d8;_0x161678=_0x4d6064===0x0?_0x246d64:Math[_0xd62e89(0x1b5)](0x64,_0x246d64),config[_0xd62e89(0x2fb)][_0xd62e89(0x252)](_0x51cf42=>{const _0x47add2=_0xd62e89,_0x42c616=currentCoinsAll[_0x47add2(0x1e8)](_0x12b1f9=>_0x12b1f9[_0x47add2(0x2b4)]==_0x51cf42[_0x47add2(0x2b4)]);_0x42c616&&(_0x51cf42[_0x47add2(0x200)]=_0x42c616[_0x47add2(0x200)]);if(!_0x51cf42[_0x47add2(0x199)]){if(_0x161678<=0x64){if(_0x51cf42[_0x47add2(0x2e4)]===-0x1){if(_0x12c56a!==0x0&&config[_0x47add2(0x27a)]){if(_0x42c616){if(config[_0x47add2(0x27a)]==_0x47add2(0x200))_0x51cf42[_0x47add2(0x2e0)]=(_0x24b3a6/(_0x12c56a/_0x42c616['marketcap']))['toFixed'](_0xa5a346);else config['marketcapEnabled']==_0x47add2(0x286)&&(_0x51cf42[_0x47add2(0x2e0)]=(_0x24b3a6/(_0x3c44be/Math[_0x47add2(0x209)](_0x42c616[_0x47add2(0x200)])))[_0x47add2(0x25c)](_0xa5a346));}}}}}}),updateConfig();}function updateConfig(){const _0x19bd9b=_0x375e26;let _0x51d6bb=dbConfig[_0x19bd9b(0x27b)](_0x19bd9b(0x1b7))[_0x19bd9b(0x1e8)]({'botID':botID})[_0x19bd9b(0x2d1)]();_0x51d6bb&&dbConfig[_0x19bd9b(0x27b)]('bot')[_0x19bd9b(0x1e8)]({'botID':botID})[_0x19bd9b(0x249)](config)[_0x19bd9b(0x1fd)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x3ce075=_0x375e26;exchangeStopped=!![];try{await exchange[_0x3ce075(0x2c2)]();}catch(_0x1c0149){await handleError(_0x1c0149,_0x3ce075(0x31c));}}async function reloadExchange(){const _0x319d9d=_0x375e26;while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x319d9d(0x214)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x3ec4d2=config[_0x375e26(0x2cb)],_0x7eba28=config[_0x375e26(0x32a)],_0x2aafaf=config[_0x375e26(0x1fa)],_0x4363f6=config[_0x375e26(0x2ef)]){const _0x5eaeee=_0x375e26;exchange&&await stopExchange();!supportedExchanges()[_0x5eaeee(0x22c)](_0x3ec4d2)&&(logHistory(_0x5eaeee(0x1c1),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x3ec4d2+_0x5eaeee(0x1f5)),killBot());const _0x121ec1=ccxt[_0x5eaeee(0x339)][_0x3ec4d2['toLowerCase']()];exchange=new _0x121ec1({'apiKey':_0x7eba28,'secret':_0x2aafaf,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5eaeee(0x2ca)}});if(_0x4363f6)exchange[_0x5eaeee(0x2ad)]=_0x4363f6;}function setStableCoins(){const _0x1f259b=_0x375e26;let _0x3de2a0=config[_0x1f259b(0x334)]==_0x1f259b(0x1e6)?_0x1f259b(0x1e6):config['basecoin']==_0x1f259b(0x274)?_0x1f259b(0x274):_0x1f259b(0x21e),_0x2fddd7=!allSymbols[_0x1f259b(0x22c)](_0x3de2a0+'/USD')?_0x1f259b(0x28a):_0x1f259b(0x2bf),_0x457e8f=!allSymbols[_0x1f259b(0x22c)](_0x3de2a0+_0x1f259b(0x2a6))?_0x2fddd7:_0x1f259b(0x230);stablecoins={'eur':{'coin':''+_0x3de2a0+_0x457e8f,'symbol':_0x3de2a0+'/'+_0x457e8f},'usd':{'coin':''+_0x3de2a0+_0x2fddd7,'symbol':_0x3de2a0+'/'+_0x2fddd7}};}async function initwsCcxt(){const _0x2c13b7=_0x375e26;initCycle++;const _0x275e63=initCycle;let _0x57684a=[];config[_0x2c13b7(0x2fb)][_0x2c13b7(0x252)](_0x6f8c36=>{const _0x57a759=_0x2c13b7;if(!_0x6f8c36[_0x57a759(0x199)]&&_0x6f8c36['coin']!=config[_0x57a759(0x334)])_0x57684a[_0x57a759(0x2f6)](_0x6f8c36[_0x57a759(0x21b)]);});if(!_0x57684a[_0x2c13b7(0x22c)](stablecoins[_0x2c13b7(0x335)][_0x2c13b7(0x21b)]))_0x57684a[_0x2c13b7(0x2f6)](stablecoins[_0x2c13b7(0x335)][_0x2c13b7(0x21b)]);if(!_0x57684a[_0x2c13b7(0x22c)](stablecoins[_0x2c13b7(0x2c8)][_0x2c13b7(0x21b)]))_0x57684a['push'](stablecoins[_0x2c13b7(0x2c8)][_0x2c13b7(0x21b)]);if(config[_0x2c13b7(0x2cb)][_0x2c13b7(0x258)]('Binance')&&config[_0x2c13b7(0x334)]!=_0x2c13b7(0x274)){if(!_0x57684a[_0x2c13b7(0x22c)](_0x2c13b7(0x2d8)+config[_0x2c13b7(0x334)]))_0x57684a[_0x2c13b7(0x2f6)](_0x2c13b7(0x2d8)+config['basecoin']);}loadCoins(_0x57684a),_0x57684a=validateSymbols(_0x57684a);const _0x1a6146=async _0x5195a8=>{const _0x4a4003=_0x2c13b7;let _0x32c7e6;try{const _0xf0bfb7=await getTickers(_0x5195a8);Object['entries'](_0xf0bfb7)[_0x4a4003(0x252)](_0x205dd2=>{const _0x5389d3=_0x4a4003;_0x32c7e6=_0x205dd2[0x1]['symbol'],global[_0x5389d3(0x290)][noslash(_0x32c7e6)]=_0x205dd2[0x1][_0x5389d3(0x1dc)],global[_0x5389d3(0x239)][_0x32c7e6]=_0x205dd2[0x1][_0x5389d3(0x1b9)];});}catch(_0x3611a5){await handleError(_0x3611a5,_0x4a4003(0x254),_0x32c7e6);}},_0x59b476=async _0x157bdf=>{const _0x5b0f5d=_0x2c13b7;while(initCycle==_0x275e63){if(!botPaused)try{const _0x4a7762=await exchange[_0x5b0f5d(0x299)](_0x157bdf);global['ticker'][noslash(_0x4a7762[0x0][_0x5b0f5d(0x21b)])]=_0x4a7762[0x0][_0x5b0f5d(0x1fe)],await sleep(0x3e8);}catch(_0x3ff88c){if(!exchangeStopped)await handleError(_0x3ff88c,_0x5b0f5d(0x305),_0x157bdf);}else await sleep(0x64);}},_0x1feefd=async _0x53c7c7=>{const _0x5d5540=_0x2c13b7;while(initCycle==_0x275e63){if(!botPaused)try{const _0x1ff816=await exchange[_0x5d5540(0x2d2)](_0x53c7c7),_0x565a4e=_0x1ff816[_0x5d5540(0x1b3)]();global[_0x5d5540(0x290)][noslash(_0x565a4e[_0x5d5540(0x21b)])]=_0x565a4e['price'],await sleep(0x3e8);}catch(_0x220697){if(!exchangeStopped)await handleError(_0x220697,'watchTradesForSymbols()',_0x53c7c7[_0x5d5540(0x336)]());}else await sleep(0x64);}},_0x246aee=async _0x33a029=>{const _0x5aaa66=_0x2c13b7;while(initCycle==_0x275e63){if(!botPaused){let _0x5b23ce;try{await sleep(0x3c*0x3e8);const _0x47dbea=await getTickers(_0x33a029);Object[_0x5aaa66(0x341)](_0x47dbea)[_0x5aaa66(0x252)](_0x1fe65c=>{const _0x3adceb=_0x5aaa66;_0x5b23ce=_0x1fe65c[0x1][_0x3adceb(0x21b)],global[_0x3adceb(0x239)][_0x5b23ce]=_0x1fe65c[0x1][_0x3adceb(0x1b9)];});}catch(_0x114500){if(!exchangeStopped)await handleError(_0x114500,_0x5aaa66(0x307),_0x5b23ce);}}else await sleep(0x64);}},_0x54a960=async _0x5bed26=>{const _0xe79dc0=_0x2c13b7;while(initCycle==_0x275e63){if(!botPaused)try{const _0x1863e1=await exchange[_0xe79dc0(0x271)](_0x5bed26);initCycle==_0x275e63&&_0x1863e1['forEach'](_0x47bb49=>{updateNumberCoinsCcxt(_0x47bb49);});}catch(_0x2685bf){if(!exchangeStopped)await handleError(_0x2685bf,_0xe79dc0(0x224));}else await sleep(0x64);}};_0x1a6146(_0x57684a),_0x246aee(_0x57684a),exchange['has'][_0x2c13b7(0x2d2)]?_0x1feefd(_0x57684a):_0x57684a[_0x2c13b7(0x252)](_0x1c7ec9=>{_0x59b476(_0x1c7ec9);}),_0x57684a[_0x2c13b7(0x252)](_0x2d483b=>{_0x54a960(_0x2d483b);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x1685c7){const _0x127b4c=_0x375e26;let _0x53913d={};try{if(config['exchange']!=_0x127b4c(0x322))_0x53913d=await exchange[_0x127b4c(0x22a)](_0x1685c7);else for(const _0x3c914c of _0x1685c7){const _0x834c47=await exchange[_0x127b4c(0x1e1)](_0x3c914c);_0x53913d[_0x3c914c]=_0x834c47;}return _0x53913d;}catch(_0x1a5da4){throw _0x1a5da4;}}async function watchTransactions(){const _0x16051e=_0x375e26;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0xc3d343=await getCoins(),[_0x2a2236,_0x5cb1f9]=_0xc3d343;let _0x3d6c62=[];currentCoins[_0x16051e(0x252)](_0x1daae1=>{const _0x4ef0da=_0x16051e,_0x29b91f=_0x2a2236[_0x4ef0da(0x1e8)](_0x59e156=>_0x59e156[_0x4ef0da(0x2b4)]==_0x1daae1[_0x4ef0da(0x2b4)]);if(_0x29b91f){if(_0x1daae1[_0x4ef0da(0x23e)]!=_0x29b91f[_0x4ef0da(0x23e)]){let _0x4a07f7;if(_0x1daae1[_0x4ef0da(0x2b4)]!=config[_0x4ef0da(0x334)]){const _0x35a9e0=global['ticker'][noslash(_0x1daae1[_0x4ef0da(0x21b)])];_0x4a07f7=_0x1daae1['reverse']?0x1/_0x35a9e0:_0x35a9e0;}else _0x4a07f7=0x1;_0x3d6c62['push']({'coin':_0x1daae1[_0x4ef0da(0x2b4)],'symbol':_0x1daae1[_0x4ef0da(0x21b)],'price':_0x4a07f7,'number':Number(formatResult(_0x29b91f[_0x4ef0da(0x23e)]-_0x1daae1['number'],0x8)),'basecoinvalue':_0x4a07f7*(_0x29b91f[_0x4ef0da(0x23e)]-_0x1daae1[_0x4ef0da(0x23e)])});}}});if(_0x3d6c62[_0x16051e(0x1df)]==0x1&&!blockTransactionDetection){if(config[_0x16051e(0x1a4)]){logger[_0x16051e(0x294)](_0x16051e(0x31a)+_0x3d6c62[0x0][_0x16051e(0x2b1)]+_0x16051e(0x1b1)+lastFees[_0x16051e(0x2cd)]);if(lastFees['highest']==0x0||Math[_0x16051e(0x195)](_0x3d6c62[0x0]['basecoinvalue'])>lastFees[_0x16051e(0x2cd)]){delete _0x3d6c62[0x0][_0x16051e(0x21b)],delete _0x3d6c62[0x0][_0x16051e(0x2b1)];let _0x24ea9b=[],_0x1246b2=[...config[_0x16051e(0x330)]]||[],_0x50d781=config[_0x16051e(0x330)];_0x1246b2['sort']((_0x100c18,_0x57f3b2)=>_0x100c18[_0x16051e(0x227)]>_0x57f3b2[_0x16051e(0x227)]?-0x1:_0x57f3b2[_0x16051e(0x227)]>_0x100c18[_0x16051e(0x227)]?0x1:0x0);const _0x237574=getDate();if(_0x1246b2[0x0]){const _0x48d332=fns[_0x16051e(0x2af)](_0x1246b2[0x0][_0x16051e(0x227)],_0x16051e(0x1a6),new Date()),_0x1ab4ac=fns[_0x16051e(0x2af)](_0x237574,_0x16051e(0x1a6),new Date());if(fns[_0x16051e(0x32f)](_0x48d332,_0x1ab4ac)){_0x24ea9b=_0x1246b2[0x0][_0x16051e(0x1bf)];const _0x1f9b2=_0x24ea9b[_0x16051e(0x1e8)](_0x5d8801=>_0x5d8801[_0x16051e(0x2b4)]==_0x3d6c62[0x0][_0x16051e(0x2b4)]);_0x1f9b2?(_0x1f9b2[_0x16051e(0x23e)]+=_0x3d6c62[0x0][_0x16051e(0x23e)],_0x1f9b2['number']==0x0&&(_0x24ea9b=_0x24ea9b[_0x16051e(0x1ca)](_0x39eca6=>{const _0x330e7b=_0x16051e;return _0x39eca6[_0x330e7b(0x2b4)]!=_0x3d6c62[0x0][_0x330e7b(0x2b4)];}))):_0x24ea9b[_0x16051e(0x2f6)](_0x3d6c62[0x0]);const _0x1b780d=_0x50d781['find'](_0x325e15=>_0x325e15[_0x16051e(0x227)]==_0x237574);_0x1b780d['changes']=_0x24ea9b;}else _0x50d781[_0x16051e(0x2f6)]({'date':_0x237574,'changes':[_0x3d6c62[0x0]]});}const _0x5cfcbc=_0x50d781[_0x16051e(0x1e8)](_0x446010=>_0x446010[_0x16051e(0x227)]==_0x237574);if(_0x5cfcbc){let _0x58d023=!![];_0x5cfcbc['changes'][_0x16051e(0x252)](_0x5e741b=>{const _0x437767=_0x16051e;if(_0x5e741b[_0x437767(0x23e)]!=0x0)_0x58d023=![];}),_0x58d023&&(_0x50d781=_0x50d781['filter'](_0x437f5e=>{return _0x437f5e['date']!=_0x237574;}));}let _0x5171b5=dbConfig[_0x16051e(0x27b)](_0x16051e(0x1b7))[_0x16051e(0x1e8)]({'botID':botID})[_0x16051e(0x2d1)]();_0x5171b5&&(dbConfig[_0x16051e(0x27b)](_0x16051e(0x1b7))[_0x16051e(0x1e8)]({'botID':botID})[_0x16051e(0x249)]({'liquidity':_0x50d781})[_0x16051e(0x1fd)](),config['liquidity']=_0x50d781),logHistory(_0x16051e(0x24e),_0x16051e(0x2bb)+Math[_0x16051e(0x195)](_0x3d6c62[0x0][_0x16051e(0x23e)])+'\x20'+_0x3d6c62[0x0][_0x16051e(0x2b4)]+'\x20'+(_0x3d6c62[0x0]['number']>0x0?_0x16051e(0x213):_0x16051e(0x222))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit('configuration',emittedConfiguration());}else logger[_0x16051e(0x294)](_0x16051e(0x19d)+Math['abs'](_0x3d6c62[0x0][_0x16051e(0x23e)])+'\x20'+_0x3d6c62[0x0][_0x16051e(0x2b4)]+'\x20'+(_0x3d6c62[0x0][_0x16051e(0x23e)]>0x0?'added':_0x16051e(0x222)));transactionDetected=!![];}else logger['debug'](_0x16051e(0x2bb)+Math['abs'](_0x3d6c62[0x0][_0x16051e(0x23e)])+'\x20'+_0x3d6c62[0x0][_0x16051e(0x2b4)]+'\x20'+(_0x3d6c62[0x0]['number']>0x0?'added':'removed')+_0x16051e(0x1d8));}currentCoins=_0x2a2236,currentCoinsAll=_0x5cb1f9,await sleep(watchTransactionsInterval);}catch(_0x14d1ef){if(!exchangeStopped)await handleError(_0x14d1ef,_0x16051e(0x2b8));}else await sleep(0x64);}}async function loadSymbols(){const _0x546444=_0x375e26;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object['entries'](markets)[_0x546444(0x252)](_0x5c7446=>{const _0x3a9534=_0x546444;_0x5c7446[0x1][_0x3a9534(0x32c)]&&_0x5c7446[0x1]['spot']&&allSymbols[_0x3a9534(0x2f6)](_0x5c7446[0x0]);});}catch(_0x20a8ba){throw _0x20a8ba;}}function validateSymbols(_0x228332){const _0x1050cf=_0x375e26;let _0x1dea84=[];return _0x228332[_0x1050cf(0x252)](_0x5c2c36=>{const _0x17ff31=_0x1050cf;!allSymbols[_0x17ff31(0x22c)](_0x5c2c36)?logHistory(_0x17ff31(0x1c1),_0x17ff31(0x1af)+_0x5c2c36+_0x17ff31(0x2fd)):_0x1dea84[_0x17ff31(0x2f6)](_0x5c2c36);}),_0x1dea84;}async function initclient(){const _0x4a7d4f=_0x375e26;proxyEmit(_0x4a7d4f(0x2ba),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x230691=getNormalizedPerformance();emitPerformance(_0x230691),getStartingBalances(_0x230691);}async function toggleBotMode(){const _0x3478e3=_0x375e26;let _0x23cb6a=dbConfig['get']('bot')[_0x3478e3(0x1e8)]({'botID':botID})['value']();if(_0x23cb6a){const _0x51cd89=!_0x23cb6a[_0x3478e3(0x2e3)];dbConfig[_0x3478e3(0x27b)]('bot')[_0x3478e3(0x1e8)]({'botID':botID})[_0x3478e3(0x249)]({'headless':_0x51cd89})['write'](),config[_0x3478e3(0x2e3)]=_0x51cd89,proxyEmit(_0x3478e3(0x2ba),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3d79c0=_0x375e26;process['send']({'updatebotmanager':!![]},_0x19d36c=>{}),logger[_0x3d79c0(0x294)](_0x3d79c0(0x1c4)+config[_0x3d79c0(0x2e3)]);}async function loadCoins(_0x373afe){const _0x18b53f=_0x375e26;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x20b512,_0x4e9b03=0x0,_0x2d79b6=0x0;_0x373afe[_0x18b53f(0x252)](_0x30dd7a=>{const _0x523e3f=_0x18b53f;loading['remainingSymbols'][_0x523e3f(0x2f6)](_0x30dd7a);}),loadingCanceled=![];let _0x531da3=![];while(_0x20b512!=_0x373afe['length']+maxLoadingProgress){_0x20b512=loadingProgress,_0x373afe['forEach'](_0x77d03a=>{const _0x354355=_0x18b53f;if(global[_0x354355(0x290)][noslash(_0x77d03a)]){loading[_0x354355(0x26c)]=loading['remainingSymbols'][_0x354355(0x1ca)](_0x1c410f=>_0x1c410f!=_0x77d03a);if(!watchedSymbols[_0x354355(0x22c)](_0x77d03a))watchedSymbols[_0x354355(0x2f6)](_0x77d03a);_0x20b512++;}}),loading['progress']=Math[_0x18b53f(0x26f)](_0x20b512/(_0x373afe[_0x18b53f(0x1df)]+maxLoadingProgress)*0x64);loading[_0x18b53f(0x21a)]!=0x64&&(_0x2d79b6>0x1e*0x5&&(loading[_0x18b53f(0x30e)]=!![],emitLoadingProgress()),_0x2d79b6>0x78*0x5&&!_0x531da3&&(_0x531da3=!![],logHistory(_0x18b53f(0x1c1),_0x18b53f(0x1c3)+loading[_0x18b53f(0x26c)][_0x18b53f(0x2ec)](',\x20')+_0x18b53f(0x2c4)),logHistory(_0x18b53f(0x1c1),_0x18b53f(0x25f)+loadCoinsRetryInterval/0xea60+_0x18b53f(0x2a8)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{process['send']({'stop':'restart'},_0x19aeda=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x18b53f(0x295)]=!![],emitLoadingProgress();break;}else _0x4e9b03!=loading[_0x18b53f(0x21a)]&&(_0x4e9b03=loading[_0x18b53f(0x21a)],emitLoadingProgress()),_0x2d79b6++,await sleep(0xc8);}_0x20b512==_0x373afe[_0x18b53f(0x1df)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x18b53f(0x2dd)]({'status':_0x18b53f(0x2ae),'live':'running'},_0xa97d6b=>{}),_0x531da3&&logHistory('success','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x2094ef=_0x375e26;proxyEmit(_0x2094ef(0x2ba),{...emittedConfiguration(),'configstate':_0x2094ef(0x311)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x3cb9d6=_0x375e26;let _0x3ff8a0=global[_0x3cb9d6(0x290)][stablecoins[_0x3cb9d6(0x335)][_0x3cb9d6(0x2b4)]],_0x2a7b93=global[_0x3cb9d6(0x290)][stablecoins[_0x3cb9d6(0x2c8)][_0x3cb9d6(0x2b4)]];return{'eur':Number(_0x3ff8a0),'usd':Number(_0x2a7b93)};}function capitalize(_0x20297c){const _0x5e414e=_0x375e26;return _0x20297c[_0x5e414e(0x236)](0x0,0x1)['toUpperCase']()+_0x20297c[_0x5e414e(0x236)](0x1);}function supportedExchanges(){const _0x382fd1=_0x375e26,_0x4f3bbe=['ws',_0x382fd1(0x22a),_0x382fd1(0x1e1),'watchTrades',_0x382fd1(0x271),_0x382fd1(0x33a),'createOrder',_0x382fd1(0x287),_0x382fd1(0x33c),_0x382fd1(0x2ac)];let _0x37d087=[],_0x333b9b=[],_0x4d0d34=ccxt[_0x382fd1(0x339)][_0x382fd1(0x2ff)];_0x4d0d34[_0x382fd1(0x252)](_0x3009a9=>{const _0x229ea4=_0x382fd1;try{const _0x353bf5=new ccxt[(_0x229ea4(0x339))][_0x3009a9]();_0x333b9b[_0x229ea4(0x2f6)](_0x353bf5);}catch(_0x355609){}}),_0x333b9b['forEach'](_0x4813c2=>{const _0x1dfed2=_0x382fd1;let _0x58daf2=0x0;_0x4f3bbe[_0x1dfed2(0x252)](_0x2c67a3=>{const _0x1e5a81=_0x1dfed2;_0x2c67a3 in _0x4813c2[_0x1e5a81(0x2c9)]&&_0x4813c2[_0x1e5a81(0x2c9)][_0x2c67a3]&&_0x58daf2++;}),_0x58daf2==_0x4f3bbe[_0x1dfed2(0x1df)]&&_0x37d087[_0x1dfed2(0x2f6)](capitalize(_0x4813c2['id']));});let _0x29a4a5=[];return _0x4d0d34[_0x382fd1(0x252)](_0x4c3b3d=>{const _0x163b31=_0x382fd1;_0x4c3b3d=capitalize(_0x4c3b3d);if(!_0x37d087['includes'](_0x4c3b3d))_0x29a4a5[_0x163b31(0x2f6)](_0x4c3b3d);}),_0x37d087;}function setStartDatePerformance(){const _0x22f5c8=_0x375e26;if(config&&config[_0x22f5c8(0x330)][0x0]['changes']['length']!=0x0){const _0x241722=config[_0x22f5c8(0x330)][0x0][_0x22f5c8(0x1bf)];dbPerformance[_0x22f5c8(0x27b)]('data')[_0x22f5c8(0x1e8)]({'date':config[_0x22f5c8(0x1ea)]})['assign']({'coins':_0x241722})[_0x22f5c8(0x1fd)]();}}async function recreateCoinResults(){const _0x23c55b=_0x375e26;let _0x528a49,_0x45b785=[];try{const _0x3db4bf=fns[_0x23c55b(0x1a0)](fns[_0x23c55b(0x20d)](config['startdate'][_0x23c55b(0x23c)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x1afe23 of currentCoins){if(_0x1afe23[_0x23c55b(0x2b4)]!=config[_0x23c55b(0x334)]){let _0x285f18=0x0,_0x45de0f,_0x516949;_0x528a49=await getAllEventOrders(_0x1afe23['symbol']);if(_0x528a49[_0x23c55b(0x1df)]>0x0)_0x528a49[_0x23c55b(0x252)](_0x596682=>{const _0x15417c=_0x23c55b,_0x43cd55=_0x1afe23['symbol'][_0x15417c(0x22c)](config[_0x15417c(0x334)]+'/');_0x45b785[_0x15417c(0x2f6)]({'datetime':_0x596682[_0x15417c(0x33d)],'coin':_0x1afe23[_0x15417c(0x2b4)],'symbol':_0x1afe23['symbol'],'side':_0x596682['side'],'reverse':_0x43cd55,'amount':formatResult(_0x596682[_0x15417c(0x22f)],0x8),'filled':formatResult(_0x596682[_0x15417c(0x22f)],0x8),'price':formatResult(_0x596682[_0x15417c(0x1fe)],0x8)}),_0x285f18=_0x596682[_0x15417c(0x1e7)]==_0x15417c(0x1e2)?_0x285f18+_0x596682[_0x15417c(0x22f)]:_0x285f18-_0x596682[_0x15417c(0x22f)];if(!_0x516949)_0x516949=_0x596682[_0x15417c(0x1fe)];});_0x45de0f=_0x1afe23['number']-_0x285f18;let _0xe4660;config['liquidity'][_0x23c55b(0x252)](_0x1aa502=>{const _0x4ee752=_0x23c55b;!_0xe4660&&(_0xe4660=_0x1aa502[_0x4ee752(0x1bf)]['find'](_0x4c6576=>_0x4c6576[_0x4ee752(0x2b4)]==_0x1afe23[_0x4ee752(0x2b4)]),_0xe4660&&(_0x45de0f=_0xe4660[_0x4ee752(0x23e)],_0x516949=_0xe4660['price']));});let _0x582b8b=dbCoinResults[_0x23c55b(0x27b)](_0x23c55b(0x1d9))[_0x23c55b(0x1e8)]({'coin':_0x1afe23[_0x23c55b(0x2b4)]})[_0x23c55b(0x2d1)]();_0x582b8b={'coin':_0x1afe23[_0x23c55b(0x2b4)],'number':_0x45de0f,'breakeven':_0x516949,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x23c55b(0x27b)]('coins')[_0x23c55b(0x1e8)]({'coin':_0x1afe23[_0x23c55b(0x2b4)]})[_0x23c55b(0x249)](_0x582b8b)[_0x23c55b(0x1fd)]();}}_0x45b785[_0x23c55b(0x31e)]((_0x19813f,_0x20c41c)=>_0x19813f[_0x23c55b(0x33d)]>_0x20c41c[_0x23c55b(0x33d)]?0x1:_0x20c41c[_0x23c55b(0x33d)]>_0x19813f[_0x23c55b(0x33d)]?-0x1:0x0);let _0x5ed5f0=0x0;for(let _0xc09f6d of _0x45b785){await updateCoinResults(_0xc09f6d,!![]);}}catch(_0x574b43){await handleError(_0x574b43,_0x23c55b(0x1aa));}}async function getAllEventOrders(_0x3dab4d){const _0x510f35=_0x375e26;let _0x53eb15=[],_0x913fee=dbLogs[_0x510f35(0x27b)](_0x510f35(0x303))[_0x510f35(0x1ca)](_0xdb114c=>{const _0x4982ab=_0x510f35,_0x89cfb3=_0xdb114c['event'][_0x4982ab(0x31f)]();return _0x89cfb3[_0x4982ab(0x22c)](_0x3dab4d[_0x4982ab(0x31f)]())&&(_0x89cfb3[_0x4982ab(0x22c)](_0x4982ab(0x2c0))&&_0x89cfb3[_0x4982ab(0x22c)]('order')||_0x89cfb3[_0x4982ab(0x22c)](_0x4982ab(0x22f))&&_0x89cfb3[_0x4982ab(0x22c)](_0x4982ab(0x1ce)));})['sortBy'](_0x510f35(0x198))[_0x510f35(0x2d1)]();return _0x913fee[_0x510f35(0x252)](_0x2665cd=>{const _0x2ad840=_0x510f35,_0x15bd49=_0x2665cd[_0x2ad840(0x2e2)][_0x2ad840(0x22c)](_0x2ad840(0x30b))?_0x2ad840(0x30b):_0x2ad840(0x1e2),_0x36148c=/#([0-9]|\.)+\s/i,_0x109649=Number(_0x36148c[_0x2ad840(0x293)](_0x2665cd['event'])[0x0][_0x2ad840(0x24b)](0x1)),_0x1deeb4=/@([0-9]|\.)+$/i,_0x4af46f=Number(_0x1deeb4[_0x2ad840(0x293)](_0x2665cd['event'])[0x0][_0x2ad840(0x24b)](0x1));_0x53eb15[_0x2ad840(0x2f6)]({'datetime':_0x2665cd[_0x2ad840(0x198)],'coin':symbolToCoin(_0x3dab4d),'symbol':_0x3dab4d,'side':_0x15bd49,'amount':_0x109649,'filled':_0x109649,'price':_0x4af46f});}),_0x53eb15;}async function getAllOrders(_0x4a5441,_0x48c610){const _0x35ff78=_0x375e26;let _0x46756e=[];while(_0x48c610<exchange[_0x35ff78(0x23d)]()){const _0x5a28a4=0x1f4;try{const _0xcdaf85=await exchange[_0x35ff78(0x33c)](_0x4a5441,_0x48c610,_0x5a28a4);if(_0xcdaf85[_0x35ff78(0x1df)])_0x48c610=_0xcdaf85[_0xcdaf85[_0x35ff78(0x1df)]-0x1][_0x35ff78(0x1f9)]+0x1,_0x46756e=_0x46756e['concat'](_0xcdaf85);else break;}catch(_0x289bb6){await handleError(_0x289bb6,_0x35ff78(0x250),_0x4a5441);}}return _0x46756e;}async function validate24hChanges(){const _0x516247=_0x375e26;for(const _0x24fc3f of currentCoins){if(_0x24fc3f[_0x516247(0x2b4)]!=config[_0x516247(0x334)]){let _0x1357c8;_0x24fc3f[_0x516247(0x279)]?_0x1357c8=formatResult((0x1/(global[_0x516247(0x239)][_0x24fc3f[_0x516247(0x21b)]]/0x64+0x1)-0x1)*0x64,0x3):_0x1357c8=global[_0x516247(0x239)][_0x24fc3f['symbol']],_0x1357c8<config['change24h']&&(logHistory(_0x516247(0x1c1),_0x24fc3f[_0x516247(0x2b4)]+_0x516247(0x2b7)+_0x1357c8+'%'),logHistory(_0x516247(0x1c1),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x516247(0x1c1),_0x516247(0x30a)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x56dda9,_0x4b3af5){const _0x297517=_0x375e26;if(!_0x56dda9)return!![];const _0xf9a7eb=_0x4b3af5[_0x297517(0x269)]('.'),_0x3ead66=_0x56dda9[_0x297517(0x269)]('.');for(var _0x3bfad1=0x0;_0x3bfad1<_0x3ead66[_0x297517(0x1df)];_0x3bfad1++){const _0x482779=~~_0x3ead66[_0x3bfad1],_0x3df172=~~_0xf9a7eb[_0x3bfad1];if(_0x482779<_0x3df172)return!![];if(_0x482779>_0x3df172)return![];}return![];}async function oneTimeMigration(){const _0x152130=_0x375e26;let _0x4eec6f=dbLogs[_0x152130(0x27b)](_0x152130(0x29f))[_0x152130(0x2d1)]();if(isOlderVersion(_0x4eec6f,'2.3.5')){let _0x514030=[];const _0x1a3b41=dbLogs[_0x152130(0x27b)](_0x152130(0x303))[_0x152130(0x2d1)]();_0x1a3b41[_0x152130(0x252)](_0x15b2c1=>{const _0x358671=_0x152130;_0x514030[_0x358671(0x2f6)]({'time':_0x15b2c1[_0x358671(0x198)],'type':_0x15b2c1[_0x358671(0x26e)],'event':_0x15b2c1[_0x358671(0x2e2)]});}),dbLogs[_0x152130(0x27b)](_0x152130(0x303))[_0x152130(0x249)](_0x514030)[_0x152130(0x1fd)]();}let _0x130756=dbConfig[_0x152130(0x27b)]('version')[_0x152130(0x2d1)]();if(isOlderVersion(_0x130756,_0x152130(0x217))){let _0xf9b9b9=dbConfig[_0x152130(0x27b)](_0x152130(0x1b7))[_0x152130(0x1e8)]({'botID':botID})[_0x152130(0x2d1)]();if(_0xf9b9b9){let _0x1e0cb9=[];_0xf9b9b9[_0x152130(0x2fb)][_0x152130(0x252)](_0x55be5b=>{const _0x22562e=_0x152130;_0x1e0cb9[_0x22562e(0x2f6)]({'coin':_0x55be5b[_0x22562e(0x2b4)],'number':_0x55be5b[_0x22562e(0x1ac)],'price':_0x55be5b[_0x22562e(0x2d5)]}),delete _0x55be5b[_0x22562e(0x1ac)],delete _0x55be5b[_0x22562e(0x2d5)];});if(_0x1e0cb9[_0x152130(0x1df)]!==0x0)fs[_0x152130(0x302)](configbackuppath+('starting-balance-'+botID+_0x152130(0x1eb)),JSON[_0x152130(0x2dc)](_0x1e0cb9,null,0x4),function(_0x126862){if(_0x126862){}});const _0x17438a=(_0x3d1440,_0x33144f)=>{let _0x478283=[];_0x33144f['forEach'](_0x37cebb=>{const _0x49d01b=_0x12cd,_0x139f09=_0x3d1440['find'](_0x1e1f79=>_0x1e1f79[_0x49d01b(0x2b4)]==_0x37cebb[_0x49d01b(0x2b4)]);if(!_0x139f09)_0x478283[_0x49d01b(0x2f6)](_0x37cebb);});let _0x21a206=[];return _0x3d1440['forEach'](_0x4a901f=>{const _0x3915bc=_0x12cd,_0x2e6b7=_0x33144f[_0x3915bc(0x1e8)](_0x30d0f6=>_0x30d0f6[_0x3915bc(0x2b4)]==_0x4a901f[_0x3915bc(0x2b4)]);if(!_0x2e6b7||_0x2e6b7[_0x3915bc(0x23e)]==0x0&&_0x4a901f[_0x3915bc(0x23e)]!=0x0)_0x21a206[_0x3915bc(0x2f6)](_0x4a901f);}),{'missingDay1':_0x478283,'notInDay2':_0x21a206};},_0x55ddc1=dbPerformance[_0x152130(0x27b)](_0x152130(0x1c2))[_0x152130(0x27e)]()['value']();if(_0x55ddc1[_0x152130(0x1df)]>0x1){const {missingDay1:_0x40bb7d,notInDay2:_0x342886}=_0x17438a(_0x1e0cb9,_0x55ddc1[0x1][_0x152130(0x1d9)]);_0x1e0cb9=[..._0x1e0cb9,..._0x40bb7d],_0x342886[_0x152130(0x252)](_0x11c250=>{const _0x498145=_0x152130;let _0x2727cc=_0x1e0cb9['findIndex'](_0xcdbae4=>_0xcdbae4['coin']==_0x11c250[_0x498145(0x2b4)]);_0x2727cc!=-0x1&&_0x1e0cb9[_0x498145(0x25b)](_0x2727cc,0x1);});}_0x1e0cb9[_0x152130(0x31e)]((_0x47a373,_0x14d334)=>_0x47a373[_0x152130(0x2b4)]>_0x14d334[_0x152130(0x2b4)]?0x1:_0x14d334[_0x152130(0x2b4)]>_0x47a373[_0x152130(0x2b4)]?-0x1:0x0);let _0x391138=[{'date':_0xf9b9b9['startdate'],'changes':_0x1e0cb9}];_0x55ddc1[_0x152130(0x1df)]>0x2&&_0x55ddc1['forEach']((_0x1ce70e,_0x244064)=>{const _0x4ec1d0=_0x152130;if(_0x244064>0x0&&_0x244064<_0x55ddc1['length']-0x1){const {missingDay1:_0x3d9ed3,notInDay2:_0xd78e4c}=_0x17438a(_0x55ddc1[_0x244064][_0x4ec1d0(0x1d9)],_0x55ddc1[_0x244064+0x1][_0x4ec1d0(0x1d9)]);_0x1e0cb9=[],(_0x3d9ed3[_0x4ec1d0(0x1df)]!=0x0||_0xd78e4c[_0x4ec1d0(0x1df)]!=0x0)&&(_0x3d9ed3['length']!=0x0&&_0x1e0cb9['push'](..._0x3d9ed3),_0xd78e4c[_0x4ec1d0(0x1df)]!=0x0&&(_0xd78e4c[_0x4ec1d0(0x252)](_0x35d7ca=>{const _0x434824=_0x4ec1d0;_0x35d7ca[_0x434824(0x23e)]=-_0x35d7ca[_0x434824(0x23e)];}),_0x1e0cb9[_0x4ec1d0(0x2f6)](..._0xd78e4c)),_0x1e0cb9[_0x4ec1d0(0x31e)]((_0x18e05d,_0x499f26)=>_0x18e05d[_0x4ec1d0(0x2b4)]>_0x499f26['coin']?0x1:_0x499f26[_0x4ec1d0(0x2b4)]>_0x18e05d['coin']?-0x1:0x0),_0x391138[_0x4ec1d0(0x2f6)]({'date':_0x55ddc1[_0x244064+0x1]['date'],'changes':_0x1e0cb9}));}}),dbConfig[_0x152130(0x27b)]('bot')[_0x152130(0x1e8)]({'botID':botID})['assign']({..._0xf9b9b9,'liquidity':_0x391138})[_0x152130(0x1fd)]();}}if(isOlderVersion(_0x130756,_0x152130(0x1e0))){let _0x1e4e8d=dbConfig[_0x152130(0x27b)]('bot')[_0x152130(0x1e8)]({'botID':botID})[_0x152130(0x2d1)]();if(_0x1e4e8d){const _0x25c91d=_0x1e4e8d['exchange'],_0x10a956=_0x25c91d?capitalize(_0x25c91d):_0x152130(0x1a1);dbConfig['get'](_0x152130(0x1b7))[_0x152130(0x1e8)]({'botID':botID})[_0x152130(0x249)]({'exchange':_0x10a956})[_0x152130(0x1fd)]();}}if(isOlderVersion(_0x130756,'2.6.22')){let _0x58d707=dbConfig[_0x152130(0x27b)](_0x152130(0x1b7))[_0x152130(0x1e8)]({'botID':botID})[_0x152130(0x2d1)]();if(_0x58d707){const _0x303711=_0x58d707[_0x152130(0x27a)],_0x3a4ffd=_0x303711?'marketcap':![];dbConfig[_0x152130(0x27b)](_0x152130(0x1b7))[_0x152130(0x1e8)]({'botID':botID})[_0x152130(0x249)]({'marketcapEnabled':_0x3a4ffd})[_0x152130(0x1fd)]();}}let _0x3a69ff=dbPerformance[_0x152130(0x27b)](_0x152130(0x29f))['value']();isOlderVersion(_0x3a69ff,_0x152130(0x217))&&setStartDatePerformance();let _0x171d65=dbCoinResults[_0x152130(0x27b)](_0x152130(0x29f))['value']();if(isOlderVersion(_0x171d65,'2.5.0')){let _0x595ebb=dbCoinResults[_0x152130(0x27b)]('coins')[_0x152130(0x2d1)]();if(_0x595ebb['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x32e3f2=_0x375e26;dbConfig[_0x32e3f2(0x225)](_0x32e3f2(0x29f),serverversion)[_0x32e3f2(0x1fd)](),dbPerformance[_0x32e3f2(0x225)](_0x32e3f2(0x29f),serverversion)[_0x32e3f2(0x1fd)](),dbLogs[_0x32e3f2(0x225)](_0x32e3f2(0x29f),serverversion)[_0x32e3f2(0x1fd)](),dbCoinResults[_0x32e3f2(0x225)](_0x32e3f2(0x29f),serverversion)['write']();}function getConfiguration(_0x367f19){const _0x3616ae=_0x375e26;let _0x9bc397=dbConfig[_0x3616ae(0x27b)](_0x3616ae(0x1b7))[_0x3616ae(0x1e8)]({'botID':_0x367f19})[_0x3616ae(0x2d1)]();if(_0x9bc397){let _0x4f326c=![];typeof _0x9bc397[_0x3616ae(0x2f0)]==_0x3616ae(0x26a)&&(_0x9bc397={..._0x9bc397,'threshold':Number(_0x9bc397[_0x3616ae(0x2f0)])},_0x4f326c=!![]),_0x9bc397[_0x3616ae(0x207)]==undefined&&(_0x9bc397={..._0x9bc397,'change24h':-0x14},_0x4f326c=!![]),_0x9bc397['fiat']==undefined&&(_0x9bc397={..._0x9bc397,'fiat':'USD'},_0x4f326c=!![]),_0x9bc397[_0x3616ae(0x306)]==undefined&&(_0x9bc397={..._0x9bc397,'onepagemode':settings[_0x3616ae(0x306)]},_0x4f326c=!![]),_0x9bc397[_0x3616ae(0x327)]==undefined&&(_0x9bc397={..._0x9bc397,'colorscheme':_0x3616ae(0x1ff)},_0x4f326c=!![]),_0x9bc397['autoliquidity']==undefined&&(_0x9bc397={..._0x9bc397,'autoliquidity':!![]},_0x4f326c=!![]),_0x9bc397[_0x3616ae(0x1bc)]==undefined&&(_0x9bc397={..._0x9bc397,'marketcapApi':settings[_0x3616ae(0x1bc)]?!![]:![]},_0x4f326c=!![]),_0x9bc397[_0x3616ae(0x27a)]==undefined&&(_0x9bc397={..._0x9bc397,'marketcapEnabled':![]},_0x4f326c=!![]),_0x4f326c&&(_0x9bc397={'botID':_0x9bc397[_0x3616ae(0x324)],'exchange':_0x9bc397[_0x3616ae(0x2cb)],'apiKey':_0x9bc397[_0x3616ae(0x32a)],'apiSecret':_0x9bc397[_0x3616ae(0x1fa)],'apiPassword':_0x9bc397['apiPassword'],'basecoin':_0x9bc397[_0x3616ae(0x334)],'botname':_0x9bc397['botname'],'showname':_0x9bc397[_0x3616ae(0x319)],'threshold':_0x9bc397[_0x3616ae(0x2f0)],'ordertype':_0x9bc397[_0x3616ae(0x2fe)],'timeout':_0x9bc397['timeout'],'fiat':_0x9bc397[_0x3616ae(0x1f4)],'startdate':_0x9bc397[_0x3616ae(0x1ea)],'recreate':_0x9bc397[_0x3616ae(0x210)],'timeshift':_0x9bc397['timeshift'],'onepagemode':_0x9bc397[_0x3616ae(0x306)],'headless':_0x9bc397[_0x3616ae(0x2e3)],'cooldown':_0x9bc397['cooldown'],'change24h':_0x9bc397[_0x3616ae(0x207)],'emojibuy':_0x9bc397['emojibuy'],'emojisell':_0x9bc397[_0x3616ae(0x309)],'colorscheme':_0x9bc397[_0x3616ae(0x327)],'marketcapApi':_0x9bc397['marketcapApi'],'marketcapEnabled':_0x9bc397[_0x3616ae(0x27a)],'portfolio':_0x9bc397[_0x3616ae(0x2fb)],'autoliquidity':_0x9bc397['autoliquidity'],'liquidity':_0x9bc397['liquidity'],'openOrders':_0x9bc397[_0x3616ae(0x1ef)]},dbConfig[_0x3616ae(0x27b)](_0x3616ae(0x1b7))[_0x3616ae(0x268)]()['write'](),dbConfig['get'](_0x3616ae(0x1b7))[_0x3616ae(0x2f6)](_0x9bc397)['write']());}else _0x9bc397={'botID':_0x367f19,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x3616ae(0x300)+_0x367f19,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x3616ae(0x2bf),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3616ae(0x32e)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x3616ae(0x1ff),'marketcapApi':settings[_0x3616ae(0x1bc)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x9bc397;}function emittedConfiguration(){const _0x115981=_0x375e26;let _0x4b1527;if(config[_0x115981(0x32a)]=='')_0x4b1527={...config,'configstate':_0x115981(0x2be)};else config[_0x115981(0x32a)]==_0x115981(0x1ee)?_0x4b1527={...config,'configstate':'recovery'}:(_0x4b1527={...config,'apiKey':_0x115981(0x277),'apiSecret':_0x115981(0x277)},config[_0x115981(0x2ef)]&&(_0x4b1527[_0x115981(0x2ef)]=_0x115981(0x277)));return _0x4b1527;}function getSettings(){const _0x10c016=_0x375e26;return dbSettings[_0x10c016(0x27b)](_0x10c016(0x1a9))['value']();}function getSecure(){const _0x184518=_0x375e26;return dbSecure[_0x184518(0x27b)]('secure')[_0x184518(0x2d1)]()||{};}function updateTimeshift(_0x4dee34){const _0x474b08=_0x375e26;let _0xf65ea9=dbConfig[_0x474b08(0x27b)]('bot')[_0x474b08(0x1e8)]({'botID':botID})['value']();_0xf65ea9&&dbConfig[_0x474b08(0x27b)](_0x474b08(0x1b7))['find']({'botID':botID})[_0x474b08(0x249)]({'timeshift':_0x4dee34})[_0x474b08(0x1fd)](),config[_0x474b08(0x32e)]=_0x4dee34,proxyEmit(_0x474b08(0x2ba),emittedConfiguration());}function updateOnepagemode(_0x450de5){const _0x26a419=_0x375e26;let _0x416c95=dbConfig['get']('bot')['find']({'botID':botID})[_0x26a419(0x2d1)]();_0x416c95&&dbConfig[_0x26a419(0x27b)](_0x26a419(0x1b7))['find']({'botID':botID})[_0x26a419(0x249)]({'onepagemode':_0x450de5})[_0x26a419(0x1fd)](),config['onepagemode']=_0x450de5,proxyEmit(_0x26a419(0x2ba),emittedConfiguration());}function updateMarketcapApi(_0xf7bbb0){const _0x12ddcf=_0x375e26,_0x2caf2a=_0xf7bbb0?!![]:![];let _0x268340=dbConfig[_0x12ddcf(0x27b)](_0x12ddcf(0x1b7))[_0x12ddcf(0x1e8)]({'botID':botID})[_0x12ddcf(0x2d1)]();_0x268340&&dbConfig[_0x12ddcf(0x27b)](_0x12ddcf(0x1b7))[_0x12ddcf(0x1e8)]({'botID':botID})[_0x12ddcf(0x249)]({'marketcapApi':_0x2caf2a})[_0x12ddcf(0x1fd)](),config['marketcapApi']=_0x2caf2a,getMarketCap(),proxyEmit(_0x12ddcf(0x2ba),emittedConfiguration());}async function storeConfiguration(_0x44b315){const _0x8c68e0=_0x375e26;logger[_0x8c68e0(0x294)](_0x8c68e0(0x314));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x8c68e0(0x294)](_0x8c68e0(0x243));let _0x49ad2c=![],_0x37e60a=![],_0x2e435e=[];_0x44b315[_0x8c68e0(0x2fb)]['forEach'](_0x3818c8=>{const _0x1ebc76=_0x8c68e0;if(!_0x3818c8[_0x1ebc76(0x199)]&&_0x3818c8['coin']!=_0x44b315[_0x1ebc76(0x334)])_0x2e435e[_0x1ebc76(0x2f6)](_0x3818c8[_0x1ebc76(0x21b)]);}),_0x2e435e[_0x8c68e0(0x252)](_0x217578=>{const _0x5e7ac3=_0x8c68e0,_0x290850=currentCoins[_0x5e7ac3(0x1e8)](_0x3cacc9=>_0x3cacc9[_0x5e7ac3(0x21b)]==_0x217578);!_0x290850&&(_0x49ad2c=!![]);}),currentCoins['forEach'](_0x1b9a5f=>{const _0x412806=_0x8c68e0;if(_0x1b9a5f[_0x412806(0x2b4)]!=config[_0x412806(0x334)]){const _0x58ea23=_0x2e435e[_0x412806(0x1e8)](_0x3bdfb9=>_0x3bdfb9==_0x1b9a5f[_0x412806(0x21b)]);!_0x58ea23&&(_0x49ad2c=!![]);}}),_0x44b315['portfolio'][_0x8c68e0(0x252)](_0x4535f3=>{const _0x4e880f=_0x8c68e0,_0x136e04=config['portfolio'][_0x4e880f(0x1e8)](_0x207674=>_0x207674[_0x4e880f(0x2b4)]==_0x4535f3[_0x4e880f(0x2b4)]);if(_0x136e04&&_0x4535f3[_0x4e880f(0x21d)]!=_0x136e04[_0x4e880f(0x21d)])_0x37e60a=!![];});let _0x35c0b1=dbConfig[_0x8c68e0(0x27b)]('bot')[_0x8c68e0(0x1e8)]({'botID':botID})[_0x8c68e0(0x2d1)]();_0x44b315={..._0x44b315,'apiKey':crypt[_0x8c68e0(0x2b0)](secure['privateKey'],_0x44b315[_0x8c68e0(0x32a)])[_0x8c68e0(0x301)],'apiSecret':crypt[_0x8c68e0(0x2b0)](secure[_0x8c68e0(0x2aa)],_0x44b315[_0x8c68e0(0x1fa)])[_0x8c68e0(0x301)]};_0x44b315['apiPassword']&&(_0x44b315[_0x8c68e0(0x2ef)]=crypt[_0x8c68e0(0x2b0)](secure['privateKey'],_0x44b315[_0x8c68e0(0x2ef)])[_0x8c68e0(0x301)]);let _0x1e06fd=![];if(_0x35c0b1){_0x44b315[_0x8c68e0(0x32a)]==_0x8c68e0(0x277)?_0x44b315['apiKey']=config[_0x8c68e0(0x32a)]:_0x1e06fd=!![];_0x44b315[_0x8c68e0(0x1fa)]==_0x8c68e0(0x277)?_0x44b315['apiSecret']=config['apiSecret']:_0x1e06fd=!![];if(_0x44b315['apiPassword']==_0x8c68e0(0x277))_0x44b315[_0x8c68e0(0x2ef)]=config[_0x8c68e0(0x2ef)];else{if(_0x44b315[_0x8c68e0(0x2ef)])_0x1e06fd=!![];}dbConfig[_0x8c68e0(0x27b)]('bot')[_0x8c68e0(0x1e8)]({'botID':botID})[_0x8c68e0(0x249)](_0x44b315)[_0x8c68e0(0x1fd)]();}else dbConfig[_0x8c68e0(0x27b)](_0x8c68e0(0x1b7))[_0x8c68e0(0x2f6)](_0x44b315)['write'](),_0x1e06fd=!![],process[_0x8c68e0(0x2dd)]({'status':_0x8c68e0(0x2ae),'live':_0x8c68e0(0x244)},_0x494559=>{});process[_0x8c68e0(0x2dd)]({'botname':_0x44b315[_0x8c68e0(0x1c5)]},_0x2fe0b2=>{}),config={..._0x44b315},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x1e06fd)await reset(!![]);else _0x49ad2c||_0x37e60a?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x8c68e0(0x294)](_0x8c68e0(0x2e9));}async function storeHeadless(_0x17a503){const _0x39c449=_0x375e26,_0x211a8c={...config,'headless':_0x17a503[_0x39c449(0x2e3)]};let _0x552f11=dbConfig[_0x39c449(0x27b)]('bot')[_0x39c449(0x1e8)]({'botID':botID})['value']();_0x552f11&&dbConfig[_0x39c449(0x27b)](_0x39c449(0x1b7))['find']({'botID':botID})[_0x39c449(0x249)](_0x211a8c)[_0x39c449(0x1fd)](),config={..._0x211a8c},updateBotManager(),proxyEmit(_0x39c449(0x2ba),emittedConfiguration());}async function storeFiat(_0x475201){const _0x1a0c8c=_0x375e26,_0x2ae777={...config,'fiat':_0x475201};let _0x1c518e=dbConfig[_0x1a0c8c(0x27b)](_0x1a0c8c(0x1b7))[_0x1a0c8c(0x1e8)]({'botID':botID})[_0x1a0c8c(0x2d1)]();_0x1c518e&&dbConfig[_0x1a0c8c(0x27b)](_0x1a0c8c(0x1b7))['find']({'botID':botID})['assign'](_0x2ae777)[_0x1a0c8c(0x1fd)](),config={..._0x2ae777},proxyEmit(_0x1a0c8c(0x2ba),emittedConfiguration());}function resetHistory(){const _0x38d45c=_0x375e26;logger[_0x38d45c(0x32d)](_0x38d45c(0x1f8));try{if(fs[_0x38d45c(0x235)](path['join'](configpath,'bot-'+botID+'-events.json')))fs['unlinkSync'](path[_0x38d45c(0x2ec)](configpath,_0x38d45c(0x2cc)+botID+_0x38d45c(0x2d7)));if(fs[_0x38d45c(0x235)](path[_0x38d45c(0x2ec)](configpath,_0x38d45c(0x2cc)+botID+'-performance.json')))fs[_0x38d45c(0x337)](path[_0x38d45c(0x2ec)](configpath,_0x38d45c(0x2cc)+botID+_0x38d45c(0x33e)));if(fs[_0x38d45c(0x235)](path[_0x38d45c(0x2ec)](configpath,_0x38d45c(0x2cc)+botID+_0x38d45c(0x2bc))))fs[_0x38d45c(0x337)](path['join'](configpath,_0x38d45c(0x2cc)+botID+_0x38d45c(0x2bc)));}catch(_0x2af509){if(_0x2af509)logger[_0x38d45c(0x32d)](_0x38d45c(0x246),_0x2af509);}const _0x1b9c6f=getDate();let _0xcdce99=[];currentCoins[_0x38d45c(0x252)](_0x5810ec=>{const _0x2d4a56=_0x38d45c;_0xcdce99[_0x2d4a56(0x2f6)]({'coin':_0x5810ec[_0x2d4a56(0x2b4)],'number':_0x5810ec[_0x2d4a56(0x23e)],'price':_0x5810ec[_0x2d4a56(0x1dc)]});});let _0x2de671=dbConfig[_0x38d45c(0x27b)](_0x38d45c(0x1b7))[_0x38d45c(0x1e8)]({'botID':botID})[_0x38d45c(0x2d1)]();_0x2de671&&(dbConfig[_0x38d45c(0x27b)](_0x38d45c(0x1b7))[_0x38d45c(0x1e8)]({'botID':botID})[_0x38d45c(0x249)]({'liquidity':[{'date':_0x1b9c6f,'changes':_0xcdce99}]})['write'](),config[_0x38d45c(0x330)]=[]),process['send']({'stop':'restart'},_0xb63eda=>{});}function noslash(_0xf1aceb){const _0x2b4d6b=_0x375e26;return _0xf1aceb[_0x2b4d6b(0x23c)]('/','');}function updateHighestFee(_0x5db9fe){const _0x52eeca=_0x375e26;if(_0x5db9fe[_0x52eeca(0x279)]){let _0x3005b3={'filled':_0x5db9fe[_0x52eeca(0x22f)]*_0x5db9fe[_0x52eeca(0x1fe)],'amount':_0x5db9fe[_0x52eeca(0x22f)]*_0x5db9fe[_0x52eeca(0x1fe)],'side':_0x5db9fe[_0x52eeca(0x1e7)]=='sell'?_0x52eeca(0x1e2):_0x52eeca(0x30b),'price':0x1/_0x5db9fe[_0x52eeca(0x1fe)]};_0x5db9fe={..._0x5db9fe,..._0x3005b3};}const _0xe090ae=defaultFee*_0x5db9fe[_0x52eeca(0x22f)]*_0x5db9fe[_0x52eeca(0x1fe)];lastFees['recent20']['length']===0x14&&lastFees['recent20'][_0x52eeca(0x19a)](),lastFees['recent20'][_0x52eeca(0x2f6)](_0xe090ae),lastFees[_0x52eeca(0x2cd)]=Math[_0x52eeca(0x1b5)](...lastFees[_0x52eeca(0x2ed)]);}async function updateNumberCoinsCcxt(_0x201a23){const _0x138464=_0x375e26;logger[_0x138464(0x294)]('0\x20-\x20EXECUTION:\x20'+_0x201a23[_0x138464(0x21b)]+'\x20|\x20'+_0x201a23[_0x138464(0x20c)]+'\x20|\x20'+_0x201a23[_0x138464(0x22f)]+_0x138464(0x1f0)+_0x201a23[_0x138464(0x2eb)]+_0x138464(0x232)+_0x201a23['id']);let _0x3bd158=_0x201a23['status'],_0xb918a9=![];currentCoins[_0x138464(0x252)](_0x82e729=>{const _0x2e7add=_0x138464;_0x82e729[_0x2e7add(0x21b)]==_0x201a23['symbol']&&(_0xb918a9=!![]);});if(!_0xb918a9)return;const _0x25af8e=currentCoins[_0x138464(0x1e8)](_0x21586d=>_0x21586d[_0x138464(0x21b)]==_0x201a23[_0x138464(0x21b)]),_0x157ff2=_0x1d12b2=>{if(_0x25af8e)_0x25af8e['orderstatus']=_0x1d12b2;};if(_0x3bd158==_0x138464(0x291))_0x157ff2(_0x138464(0x291));else{if(_0x3bd158==_0x138464(0x310)){_0x157ff2(_0x138464(0x310));const _0x515a52=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x515a52,await getOpenOrders(),handleOpenOrders();}else{if(_0x3bd158==_0x138464(0x1ec)){let _0x440b07=![];if(lastOrders)for(const _0x44f743 of lastOrders){const _0x413146=0xc8,_0x83b057=0x1388;let _0x31360a=0x0;while(!_0x44f743[_0x138464(0x219)]&&_0x31360a*_0x413146<_0x83b057){_0x31360a++,await sleep(_0x413146);}if(_0x31360a>0x0)logger['debug'](_0x138464(0x26d)+_0x31360a*_0x413146/0x3e8+_0x138464(0x211));if(_0x44f743[_0x138464(0x219)]==_0x201a23['id']){logger[_0x138464(0x294)](_0x138464(0x318)+_0x201a23['id']),_0x440b07=!![];if(_0x44f743[_0x138464(0x22f)]==0x0){logger[_0x138464(0x294)](_0x138464(0x261)+_0x201a23['id']);if(_0x201a23[_0x138464(0x1ba)])_0x44f743[_0x138464(0x1fe)]=_0x201a23[_0x138464(0x1ba)];else{if(_0x201a23[_0x138464(0x1fe)])_0x44f743[_0x138464(0x1fe)]=_0x201a23[_0x138464(0x1fe)];else{}}_0x44f743[_0x138464(0x22f)]=_0x201a23[_0x138464(0x22f)],updateHighestFee(_0x44f743),_0x157ff2(_0x138464(0x22f)),await validateOrders();if(lockOrders==ORDERS[_0x138464(0x2b3)]){const _0x2e7e72=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2e7e72;}_0x44f743['fee']={'currency':_0x201a23['fee']?_0x201a23['fee'][_0x138464(0x2d4)]:null,'cost':_0x201a23['fee']?_0x201a23[_0x138464(0x23f)]['cost']:0x0},await updateCoinResults(_0x44f743);}}}if(!_0x440b07){logger[_0x138464(0x294)](_0x138464(0x238)+_0x201a23['id']),_0x157ff2(_0x138464(0x22f));const _0x4e921d=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4e921d,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x2a3a6a=JSON[_0x138464(0x2af)](lastBalances[_0x138464(0x2fb)]);const _0x3f32ac=_0x2a3a6a[_0x138464(0x1e8)](_0xd11068=>_0xd11068[_0x138464(0x21b)]==_0x201a23[_0x138464(0x21b)]);if(_0x3f32ac){if(_0x3bd158==_0x138464(0x291))_0x3f32ac[_0x138464(0x253)]=_0x3f32ac[_0x138464(0x253)]==_0x138464(0x22f)?_0x138464(0x22f):'open';else{if(_0x3bd158==_0x138464(0x310))_0x3f32ac[_0x138464(0x253)]=_0x3f32ac[_0x138464(0x253)]=='filled'?_0x138464(0x22f):_0x138464(0x310);else _0x3bd158==_0x138464(0x1ec)&&(_0x3f32ac[_0x138464(0x253)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x2a3a6a)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x1fb1a1=_0x375e26;await getOpenOrders();let _0x5382e6=![];currentCoins[_0x1fb1a1(0x252)](_0x1bed1f=>{const _0x47458f=_0x1fb1a1;_0x5382e6=allOpenOrders[_0x47458f(0x1e8)](_0x4fe056=>_0x4fe056[_0x47458f(0x21b)]==_0x1bed1f[_0x47458f(0x21b)]),_0x1bed1f[_0x47458f(0x253)]=_0x5382e6?'open':_0x47458f(0x20a);});}async function getCoins(_0x267fac=0x0,_0x4692ce=!![],_0x379c1c=config['basecoin']){const _0x333d63=_0x375e26;let _0x4cf323,_0x5694a9=[],_0x3ace18=[],_0x114e23=[];if(_0x267fac)await sleep(_0x267fac);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x4cf323=await exchange[_0x333d63(0x2ac)](),mybalances=_0x4cf323['total'];for(const [_0x437ae8,_0x3b2124]of Object[_0x333d63(0x341)](mybalances)){_0x114e23[_0x333d63(0x2f6)](_0x437ae8);}config[_0x333d63(0x2fb)][_0x333d63(0x252)](_0x57bab2=>{const _0x88ba9e=_0x333d63;!_0x114e23['includes'](_0x57bab2['coin'])&&(mybalances[_0x57bab2[_0x88ba9e(0x2b4)]]=0x0);});if(_0x379c1c=='')for(const [_0x23dd09,_0x1e302a]of Object[_0x333d63(0x341)](mybalances)){_0x1e302a!=0x0&&_0x5694a9[_0x333d63(0x2f6)]({'coin':_0x23dd09});}else for(const [_0xe11dd8,_0x101a64]of Object[_0x333d63(0x341)](mybalances)){const _0xc466f6=config[_0x333d63(0x2fb)][_0x333d63(0x1e8)](_0x434da7=>_0x434da7[_0x333d63(0x2b4)]==_0xe11dd8),_0x3d24cf=_0xe11dd8+'/'+_0x379c1c,_0x21f305=_0x379c1c+'/'+_0xe11dd8,_0x398b94=currentCoins['find'](_0x420e3c=>_0x420e3c[_0x333d63(0x2b4)]==_0xe11dd8);if((_0x101a64!=0x0||_0xc466f6)&&(allSymbols[_0x333d63(0x22c)](_0x3d24cf)||_0xe11dd8==_0x379c1c))_0x398b94?_0x5694a9['push']({..._0x398b94,'number':Math[_0x333d63(0x1b5)](_0x101a64+(_0xc466f6&&_0xc466f6[_0x333d63(0x21d)]||0x0),0x0)}):_0x5694a9[_0x333d63(0x2f6)]({'coin':_0xe11dd8,'symbol':_0x3d24cf,'reverse':![],'number':Math[_0x333d63(0x1b5)](_0x101a64+(_0xc466f6&&_0xc466f6[_0x333d63(0x21d)]||0x0),0x0),'orderstatus':_0x333d63(0x20a)});else{if((_0x101a64!=0x0||_0xc466f6)&&allSymbols[_0x333d63(0x22c)](_0x21f305))_0x398b94?_0x5694a9[_0x333d63(0x2f6)]({..._0x398b94,'number':Math[_0x333d63(0x1b5)](_0x101a64+(_0xc466f6&&_0xc466f6[_0x333d63(0x21d)]||0x0),0x0)}):_0x5694a9['push']({'coin':_0xe11dd8,'symbol':_0x21f305,'reverse':!![],'number':Math[_0x333d63(0x1b5)](_0x101a64+(_0xc466f6&&_0xc466f6[_0x333d63(0x21d)]||0x0),0x0),'orderstatus':_0x333d63(0x20a)});else _0xc466f6&&_0x5694a9[_0x333d63(0x2f6)]({'coin':_0xc466f6['coin'],'symbol':_0xc466f6['symbol'],'reverse':_0xc466f6[_0x333d63(0x279)],'number':0x0,'orderstatus':_0x333d63(0x20a)});}}}catch(_0x544f95){if(!_0x4692ce)handleErrorNoStop(_0x544f95,'getCoins()');else await handleError(_0x544f95,'getCoins()');}return _0x5694a9[_0x333d63(0x31e)]((_0x296c15,_0x520b8c)=>_0x296c15[_0x333d63(0x2f2)]<_0x520b8c[_0x333d63(0x2f2)]?0x1:_0x520b8c[_0x333d63(0x2f2)]<_0x296c15[_0x333d63(0x2f2)]?-0x1:0x0),_0x3ace18=cloneDeep(_0x5694a9),_0x5694a9=_0x5694a9[_0x333d63(0x1ca)](_0xce2162=>{const _0x173fee=_0x333d63,_0x85ab01=config[_0x173fee(0x2fb)][_0x173fee(0x1e8)](_0x3d4c9c=>_0x3d4c9c[_0x173fee(0x2b4)]==_0xce2162[_0x173fee(0x2b4)]);return _0x85ab01&&!_0x85ab01[_0x173fee(0x199)];}),[_0x5694a9,_0x3ace18];}async function getCoinNumber(_0x2faac1){const _0x14530e=_0x375e26;let _0x557854;try{const _0x4d54be=await exchange['fetchBalance']();_0x557854=_0x4d54be[_0x14530e(0x2f1)][_0x2faac1];}catch(_0x49f370){await handleError(_0x49f370,_0x14530e(0x21f));}return _0x557854;}async function getOpenOrders(){const _0x9ea8f0=_0x375e26;let _0x2b0a03;allOpenOrders=[];try{for(const _0x1b1d82 of config['portfolio']){!_0x1b1d82['excluded']&&_0x1b1d82[_0x9ea8f0(0x2b4)]!=config[_0x9ea8f0(0x334)]&&(_0x2b0a03=await exchange['fetchOpenOrders'](_0x1b1d82[_0x9ea8f0(0x21b)]),_0x2b0a03[_0x9ea8f0(0x1df)]>0x0&&allOpenOrders[_0x9ea8f0(0x2f6)](_0x2b0a03[0x0]));}}catch(_0xd46a29){await handleError(_0xd46a29,_0x9ea8f0(0x264));}}async function handleOpenOrders(_0x1e07ea=0x0){const _0x3bca66=_0x375e26;allOpenOrders[_0x3bca66(0x1df)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x1e07ea==0x0?(logger[_0x3bca66(0x294)](_0x3bca66(0x289)),_0x1e07ea++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3bca66(0x294)](_0x3bca66(0x2c1)),validateOrders(_0x3bca66(0x1b4))));}async function testAPI(_0x24a578){const _0x184fdd=_0x375e26,_0x38bd2e=ccxt[_0x184fdd(0x339)][_0x24a578['exchange'][_0x184fdd(0x31f)]()],_0x568fee=new _0x38bd2e({'apiKey':_0x24a578[_0x184fdd(0x32a)],'secret':_0x24a578[_0x184fdd(0x1fa)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x184fdd(0x2ca)}});if(_0x24a578[_0x184fdd(0x2ef)])_0x568fee[_0x184fdd(0x2ad)]=_0x24a578[_0x184fdd(0x2ef)];try{await _0x568fee[_0x184fdd(0x296)]();}catch(_0x9636bb){throw _0x9636bb;}}function cloneDeep(_0x51694d){return JSON['parse'](JSON['stringify'](_0x51694d));}async function getPortfolio(_0x338f04){const _0x5d8478=_0x375e26;let _0x59ea7d=[],_0x411209=[],_0x152346=[],_0x57531c;if(_0x338f04[_0x5d8478(0x32a)]!=='************'||_0x338f04[_0x5d8478(0x1fa)]!=='************'||_0x338f04[_0x5d8478(0x2ef)]&&_0x338f04[_0x5d8478(0x2ef)]!==_0x5d8478(0x277)){if(config[_0x5d8478(0x2cb)]){if(_0x338f04[_0x5d8478(0x32a)]==_0x5d8478(0x277))_0x338f04[_0x5d8478(0x32a)]=config[_0x5d8478(0x32a)];if(_0x338f04[_0x5d8478(0x1fa)]==_0x5d8478(0x277))_0x338f04['apiSecret']=config[_0x5d8478(0x1fa)];if(_0x338f04[_0x5d8478(0x2ef)]==_0x5d8478(0x277))_0x338f04[_0x5d8478(0x2ef)]=config['apiPassword'];try{await testAPI(_0x338f04);}catch(_0x5aa838){if(_0x5aa838['toString']()[_0x5d8478(0x22c)](_0x5d8478(0x2ee))){logger[_0x5d8478(0x294)](_0x5d8478(0x197)),proxyEmit('portfolio',![]);return;}else{handleError(_0x5aa838,_0x5d8478(0x1d5));return;}}}await initExchange(_0x338f04[_0x5d8478(0x2cb)],_0x338f04[_0x5d8478(0x32a)],_0x338f04[_0x5d8478(0x1fa)],_0x338f04[_0x5d8478(0x2ef)]);try{await loadSymbols();}catch(_0x20e263){if(_0x20e263[_0x5d8478(0x336)]()[_0x5d8478(0x22c)](_0x5d8478(0x2ee))){proxyEmit(_0x5d8478(0x2fb),![]);return;}else{handleError(_0x20e263,'getPortfolio(1)');return;}}const _0x4ab967=await getCoins(0x0,![],_0x338f04[_0x5d8478(0x334)]);_0x152346=cloneDeep(_0x4ab967[0x1]);}else{const _0x317eb1=await getCoins();_0x152346=cloneDeep(_0x317eb1[0x1]);}if(_0x338f04['basecoin']=='')proxyEmit(_0x5d8478(0x2fb),_0x152346);else{_0x152346[_0x5d8478(0x252)](_0x2f22d4=>{const _0x4ea9a3=_0x5d8478;if(_0x2f22d4[_0x4ea9a3(0x2b4)]!=_0x338f04['basecoin']&&allSymbols[_0x4ea9a3(0x22c)](_0x2f22d4[_0x4ea9a3(0x21b)]))_0x59ea7d['push'](_0x2f22d4[_0x4ea9a3(0x21b)]);});if(_0x59ea7d[_0x5d8478(0x1df)]==0x0)logHistory('error',_0x5d8478(0x259));else{try{_0x411209=await getTickers(_0x59ea7d);}catch(_0x1aa657){if(_0x1aa657[_0x5d8478(0x336)]()[_0x5d8478(0x22c)](_0x5d8478(0x2ee))){proxyEmit('portfolio',![]);return;}else handleError(_0x1aa657,_0x5d8478(0x27d));}_0x152346['forEach'](_0x5a4527=>{const _0x1358bb=_0x5d8478;_0x5a4527[_0x1358bb(0x2b4)]!=_0x338f04['basecoin']?_0x411209[_0x5a4527[_0x1358bb(0x21b)]]?_0x57531c=_0x5a4527['reverse']?0x1/_0x411209[_0x5a4527[_0x1358bb(0x21b)]][_0x1358bb(0x1dc)]:_0x411209[_0x5a4527[_0x1358bb(0x21b)]][_0x1358bb(0x1dc)]:_0x57531c=0x0:_0x57531c=0x1,_0x5a4527['price']=formatResult(_0x57531c,0x8);}),await getMarketCap(_0x152346),proxyEmit('portfolio',_0x152346);}}}function truncateTradeAmount(_0xeffefb,_0x2f0f10){const _0xec5c2a=_0x375e26;let _0x38cee9=0x0;try{_0x38cee9=exchange[_0xec5c2a(0x31d)](_0xeffefb,_0x2f0f10);}catch(_0x25e162){}return _0x38cee9;}function checkMinimums(_0x2c20d6){const _0x7b1c9b=_0x375e26;let _0x3648b9=!![];const _0x2384c2=!_0x2c20d6[_0x7b1c9b(0x279)]?markets[_0x2c20d6[_0x7b1c9b(0x21b)]][_0x7b1c9b(0x223)][_0x7b1c9b(0x2eb)][_0x7b1c9b(0x1ab)]:markets[_0x2c20d6[_0x7b1c9b(0x21b)]]['limits'][_0x7b1c9b(0x2fc)]['min'],_0x50687d=!_0x2c20d6[_0x7b1c9b(0x279)]?markets[_0x2c20d6[_0x7b1c9b(0x21b)]][_0x7b1c9b(0x223)][_0x7b1c9b(0x2fc)][_0x7b1c9b(0x1ab)]:markets[_0x2c20d6[_0x7b1c9b(0x21b)]]['limits'][_0x7b1c9b(0x2eb)][_0x7b1c9b(0x1ab)],_0x4b6780=truncateTradeAmount(_0x2c20d6['symbol'],_0x2c20d6[_0x7b1c9b(0x2d9)]);_0x2c20d6[_0x7b1c9b(0x2d9)]=_0x4b6780;if(Math[_0x7b1c9b(0x195)](_0x4b6780)<_0x2384c2)_0x3648b9=![];if(Math[_0x7b1c9b(0x195)](_0x4b6780)*_0x2c20d6[_0x7b1c9b(0x1dc)]<_0x50687d)_0x3648b9=![];if(_0x2c20d6[_0x7b1c9b(0x1e7)]==_0x7b1c9b(0x30b)){let _0xae539e=config[_0x7b1c9b(0x2fb)]['find'](_0x4abe23=>_0x4abe23[_0x7b1c9b(0x2b4)]==_0x2c20d6['coin']);if(_0xae539e[_0x7b1c9b(0x21d)]>0x0){if(Math['abs'](_0x4b6780)>_0x2c20d6[_0x7b1c9b(0x23e)]-_0xae539e[_0x7b1c9b(0x21d)])_0x3648b9=![];}else{if(Math[_0x7b1c9b(0x195)](_0x4b6780)>_0x2c20d6[_0x7b1c9b(0x23e)])_0x3648b9=![];}}if(_0x2c20d6[_0x7b1c9b(0x1e7)]==_0x7b1c9b(0x1e2)){let _0xc84848=config[_0x7b1c9b(0x2fb)][_0x7b1c9b(0x1e8)](_0xe13266=>_0xe13266['coin']==config[_0x7b1c9b(0x334)]),_0x27f62b=currentCoins[_0x7b1c9b(0x1e8)](_0x47f256=>_0x47f256[_0x7b1c9b(0x2b4)]==config[_0x7b1c9b(0x334)]);if(_0xc84848[_0x7b1c9b(0x21d)]>0x0){if(Math[_0x7b1c9b(0x195)](_0x4b6780)*_0x2c20d6[_0x7b1c9b(0x1dc)]>_0x27f62b[_0x7b1c9b(0x23e)]-_0xc84848[_0x7b1c9b(0x21d)])_0x3648b9=![];}else{if(Math[_0x7b1c9b(0x195)](_0x4b6780)*_0x2c20d6[_0x7b1c9b(0x1dc)]>_0x27f62b['number'])_0x3648b9=![];}}return _0x3648b9;}async function getBalances(_0x3f7ec5=!![]){const _0x576899=_0x375e26;let _0x450d77=0x0,_0x270aef;const _0x1adc25=config['threshold'];if(config[_0x576899(0x2e3)]&&config[_0x576899(0x207)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x526105=>{const _0x34aa83=_0x576899;if(_0x526105[_0x34aa83(0x2b4)]!=config[_0x34aa83(0x334)]){let _0x19f2a5=global[_0x34aa83(0x290)][noslash(_0x526105[_0x34aa83(0x21b)])];_0x270aef=_0x526105[_0x34aa83(0x279)]?0x1/_0x19f2a5:_0x19f2a5;}else _0x270aef=0x1;let _0x5af983=_0x526105[_0x34aa83(0x23e)]*_0x270aef;_0x450d77+=_0x5af983,_0x526105[_0x34aa83(0x1dc)]=formatResult(Number(_0x270aef),0x8),_0x526105[_0x34aa83(0x2d1)]=_0x5af983;}),currentCoins[_0x576899(0x252)](_0xb46bd=>{const _0x1cdc73=_0x576899;let _0x28586c=config[_0x1cdc73(0x2fb)]['find'](_0x186472=>_0x186472[_0x1cdc73(0x2b4)]==_0xb46bd['coin']),_0x5104d5=Number(_0x28586c[_0x1cdc73(0x2e0)]),_0x5b1ace=_0xb46bd[_0x1cdc73(0x2d1)]/_0x450d77*0x64,_0x226f4a=_0x5104d5*_0x450d77/0x64/_0xb46bd[_0x1cdc73(0x1dc)]-_0xb46bd['number'];_0xb46bd[_0x1cdc73(0x2e0)]=formatResult(_0x5b1ace,0x3),_0xb46bd[_0x1cdc73(0x312)]=formatResult(_0x5104d5,0x3),_0xb46bd[_0x1cdc73(0x2d9)]=formatResult(_0x226f4a,0x8),_0xb46bd[_0x1cdc73(0x1e7)]='',_0xb46bd['valid']=![];if(_0xb46bd[_0x1cdc73(0x2b4)]!=config['basecoin']){if(_0xb46bd['distribution']>_0x5104d5)_0xb46bd[_0x1cdc73(0x1e7)]=_0x1cdc73(0x30b),_0xb46bd[_0x1cdc73(0x2f7)]=checkMinimums(_0xb46bd);else _0xb46bd[_0x1cdc73(0x2e0)]<_0x5104d5&&(_0xb46bd[_0x1cdc73(0x1e7)]=_0x1cdc73(0x1e2),_0xb46bd[_0x1cdc73(0x2f7)]=checkMinimums(_0xb46bd));}_0xb46bd[_0x1cdc73(0x2f2)]=_0xb46bd[_0x1cdc73(0x2e0)]/_0xb46bd[_0x1cdc73(0x312)]-0x1;if(_0xb46bd[_0x1cdc73(0x253)]==_0x1cdc73(0x22f)||_0xb46bd['orderstatus']=='canceled')_0xb46bd[_0x1cdc73(0x253)]='none';}),currentCoins['sort']((_0x211acd,_0xdb5449)=>_0x211acd[_0x576899(0x2f2)]<_0xdb5449[_0x576899(0x2f2)]?0x1:_0xdb5449['delta']<_0x211acd['delta']?-0x1:0x0);const _0x27ec27=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x27ec27[_0x576899(0x335)],'usd':_0x27ec27[_0x576899(0x2c8)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x1adc25},proxyEmit(_0x576899(0x2e8),{'serverversion':serverversion,'balances':lastBalances});if(_0x3f7ec5){if(config[_0x576899(0x2e3)])headlessMode({'portfolio':currentCoins,'threshold':_0x1adc25});else{if(lockOrders==ORDERS[_0x576899(0x216)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x1adc25});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x4bcde2=getNormalizedPerformance();getStartingBalances(_0x4bcde2),emitPerformance(_0x4bcde2);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x5a3913=getNormalizedPerformance();emitPerformance(_0x5a3913),getStartingBalances(_0x5a3913),logger['debug'](_0x576899(0x285));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1acb69=_0x375e26;if(!lastBalances)return;let _0x1e9555=[],_0x5eed7a,_0x142e8f=JSON[_0x1acb69(0x2af)](lastBalances[_0x1acb69(0x2fb)]);_0x142e8f[_0x1acb69(0x31e)]((_0x3bffe7,_0x2d8d40)=>_0x3bffe7[_0x1acb69(0x2b4)]>_0x2d8d40[_0x1acb69(0x2b4)]?0x1:_0x2d8d40[_0x1acb69(0x2b4)]>_0x3bffe7['coin']?-0x1:0x0),_0x142e8f[_0x1acb69(0x252)](_0x48432e=>{const _0x4537a4=_0x1acb69;let _0x14b7cb={'coin':_0x48432e['coin'],'number':_0x48432e[_0x4537a4(0x23e)],'price':_0x48432e[_0x4537a4(0x1dc)]};_0x1e9555[_0x4537a4(0x2f6)](_0x14b7cb);});const _0xdeefa3=await getFiat();_0x5eed7a={'date':lastBalances[_0x1acb69(0x198)][_0x1acb69(0x269)]('\x20')[0x0],'eur':_0xdeefa3[_0x1acb69(0x335)],'usd':_0xdeefa3[_0x1acb69(0x2c8)],'coins':_0x1e9555};let _0x562f78=dbPerformance[_0x1acb69(0x27b)]('data')[_0x1acb69(0x1e8)]({'date':_0x5eed7a[_0x1acb69(0x227)]})['value']();_0x562f78?_0x5eed7a[_0x1acb69(0x227)]!=config[_0x1acb69(0x1ea)]&&dbPerformance[_0x1acb69(0x27b)](_0x1acb69(0x1c2))['find']({'date':_0x5eed7a[_0x1acb69(0x227)]})[_0x1acb69(0x249)](_0x5eed7a)[_0x1acb69(0x1fd)]():dbPerformance['get']('data')['push'](_0x5eed7a)[_0x1acb69(0x1fd)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x21cba5=_0x375e26;let _0x342dfe=[];if(dbPerformance[_0x21cba5(0x2c9)]('data')[_0x21cba5(0x2d1)]()){let _0x2cbef1=dbPerformance['get'](_0x21cba5(0x1c2))[_0x21cba5(0x27e)]()[_0x21cba5(0x1ca)](_0x13c6be=>{const _0xda8ffe=_0x21cba5;if(_0x13c6be[_0xda8ffe(0x1d9)]['length']==0x0)return![];else return!![];})[_0x21cba5(0x320)](_0x21cba5(0x227))['value'](),_0x24604b=[...config[_0x21cba5(0x330)]];_0x24604b[_0x21cba5(0x31e)]((_0x21809d,_0x5dbe97)=>_0x21809d['date']>_0x5dbe97['date']?-0x1:_0x5dbe97[_0x21cba5(0x227)]>_0x21809d[_0x21cba5(0x227)]?0x1:0x0);let _0x4c0538=0x1,_0xcd4f58=[],_0x155d41=0x0;_0x2cbef1[_0x21cba5(0x24b)]()[_0x21cba5(0x279)]()[_0x21cba5(0x252)]((_0xfbec26,_0x35ed97)=>{const _0x496c8e=_0x21cba5;if(_0x24604b[_0x155d41]){if(_0x2cbef1[_0x2cbef1['length']-_0x35ed97]&&_0x24604b[_0x155d41][_0x496c8e(0x227)]==_0x2cbef1[_0x2cbef1[_0x496c8e(0x1df)]-_0x35ed97][_0x496c8e(0x227)]){if(_0x35ed97<_0x2cbef1[_0x496c8e(0x1df)]){let _0x5d0e46=0x0,_0x3ae813=0x0;_0x2cbef1[_0x2cbef1[_0x496c8e(0x1df)]-_0x35ed97][_0x496c8e(0x1d9)][_0x496c8e(0x252)](_0x2c930c=>{const _0x1511bd=_0x496c8e;_0x3ae813+=_0x2c930c[_0x1511bd(0x23e)]*_0x2c930c[_0x1511bd(0x1fe)];}),_0x24604b[_0x155d41][_0x496c8e(0x1bf)][_0x496c8e(0x252)](_0x5f23d4=>{const _0x30cec9=_0x496c8e;_0x5d0e46+=_0x5f23d4['number']*_0x5f23d4[_0x30cec9(0x1fe)];}),_0x4c0538*=_0x5d0e46/(_0x3ae813-_0x5d0e46)+0x1;}_0x155d41++;}}let _0x4313f3=0x0;_0xfbec26[_0x496c8e(0x1d9)][_0x496c8e(0x252)](_0x2834e4=>{const _0x7be9a9=_0x496c8e;_0x4313f3+=_0x2834e4['number']*_0x2834e4[_0x7be9a9(0x1fe)];}),_0xcd4f58[_0x2cbef1[_0x496c8e(0x1df)]-_0x35ed97-0x1]=_0x4313f3*(_0x4c0538-0x1);});let _0x5a3fe0=[];_0x24604b=[...config[_0x21cba5(0x330)]]||[];let _0x5525e9=0x0;_0x155d41=0x0,_0x2cbef1[_0x21cba5(0x252)]((_0x18ae55,_0x39a759)=>{const _0xafb612=_0x21cba5;if(_0x24604b[_0x155d41]){const _0x3d194a=fns[_0xafb612(0x2af)](_0x24604b[_0x155d41][_0xafb612(0x227)],_0xafb612(0x1a6),new Date()),_0xb72542=fns[_0xafb612(0x2af)](_0x18ae55[_0xafb612(0x227)],_0xafb612(0x1a6),new Date());if(fns[_0xafb612(0x32f)](_0x3d194a,_0xb72542)){let _0x2639d5=0x0;_0x24604b[_0x155d41][_0xafb612(0x1bf)][_0xafb612(0x252)](_0x22f71f=>{const _0x5e3130=_0xafb612;!_0x5a3fe0[_0x22f71f[_0x5e3130(0x2b4)]]?_0x5a3fe0[_0x22f71f[_0x5e3130(0x2b4)]]=_0x22f71f[_0x5e3130(0x23e)]:(_0x2639d5=_0x5a3fe0[_0x22f71f[_0x5e3130(0x2b4)]],_0x5a3fe0[_0x22f71f[_0x5e3130(0x2b4)]]+=_0x22f71f['number']);const _0x35607a=_0x18ae55[_0x5e3130(0x1d9)][_0x5e3130(0x1e8)](_0x1959e3=>_0x1959e3['coin']==_0x22f71f[_0x5e3130(0x2b4)]);(!_0x35607a||_0x35607a[_0x5e3130(0x23e)]==0x0)&&(_0x5525e9+=(-_0x22f71f[_0x5e3130(0x23e)]-_0x2639d5)*_0x22f71f[_0x5e3130(0x1fe)]);}),_0x155d41++;}}_0x18ae55[_0xafb612(0x1d9)]['forEach']((_0x4329ac,_0x496a28)=>{const _0x13bff3=_0xafb612;_0x5a3fe0[_0x4329ac[_0x13bff3(0x2b4)]]&&(_0x4329ac[_0x13bff3(0x2be)]=_0x5a3fe0[_0x4329ac[_0x13bff3(0x2b4)]]);}),_0x342dfe[_0xafb612(0x2f6)]({'date':_0x18ae55[_0xafb612(0x227)],'eur':_0x18ae55['eur'],'usd':_0x18ae55[_0xafb612(0x2c8)],'offset':_0xcd4f58[_0x39a759],'netoffset':_0x5525e9,'coins':_0x18ae55['coins']});});}return _0x342dfe;}function emitPerformance(_0x53968c){const _0x5a628a=_0x375e26;_0x53968c[_0x5a628a(0x1df)]!==0x0?(proxyEmit('performance',_0x53968c),lastPerformanceEmitted=getDate()):proxyEmit(_0x5a628a(0x205),[]);}function getPerf(_0x3c5608,_0xbdeb8b){const _0x532c10=_0x375e26;let _0x4d1afc=0x0,_0x3cc30c=0x0,_0x41ad48=0x0;_0x3c5608[_0x532c10(0x1d9)]['forEach'](_0x3239b7=>{const _0x53bafb=_0x532c10;_0x4d1afc+=_0x3239b7[_0x53bafb(0x23e)]*_0x3239b7[_0x53bafb(0x1fe)];});_0xbdeb8b&&(_0x4d1afc+=_0x3c5608['offset']);if(config[_0x532c10(0x334)]===_0x532c10(0x21e)||config['basecoin']===_0x532c10(0x1e6)||config[_0x532c10(0x334)]==='PAXG')_0x3cc30c=_0x4d1afc*_0x3c5608['eur'],_0x41ad48=_0x4d1afc*_0x3c5608[_0x532c10(0x2c8)];else{if(usdBasecoins[_0x532c10(0x22c)](config[_0x532c10(0x334)]))_0x3cc30c=_0x4d1afc*_0x3c5608[_0x532c10(0x335)]/_0x3c5608['usd'],_0x41ad48=_0x4d1afc;else config['basecoin']==='EUR'&&(_0x3cc30c=_0x4d1afc,_0x41ad48=_0x4d1afc*_0x3c5608['usd']/_0x3c5608[_0x532c10(0x335)]);}return[_0x4d1afc,_0x3cc30c,_0x41ad48];}function getKPIs(_0x386d12,_0x41efe1='EUR'){const _0xa8486c=_0x375e26,_0x56c6e6=config[_0xa8486c(0x334)],_0x426d51=lastBalances,_0x3acb06=currentCoins,_0x10dd93=getNormalizedPerformance(),_0x2a9381=_0x386d12===_0xa8486c(0x334)?_0x56c6e6:_0x386d12===_0xa8486c(0x1f4)||_0x386d12===_0xa8486c(0x2a2)?_0x41efe1:_0xa8486c(0x328)+_0x56c6e6,_0x54a7f4=_0x386d12===_0xa8486c(0x1d0)?'Net\x20effect':_0x386d12===_0xa8486c(0x2a2)?_0xa8486c(0x276):_0x2a9381+_0xa8486c(0x298),_0xe618e=_0x386d12===_0xa8486c(0x1d0)||_0x386d12==='net-fiat'?_0xa8486c(0x276):_0x2a9381+_0xa8486c(0x19e);let _0x431de9=0x0;_0x3acb06['forEach'](_0x5d5467=>{const _0x2515bc=_0xa8486c;_0x431de9+=_0x5d5467[_0x2515bc(0x23e)]*_0x5d5467[_0x2515bc(0x1dc)];});if(_0x386d12===_0xa8486c(0x1f4)||_0x386d12===_0xa8486c(0x2a2)){if(_0x56c6e6===_0xa8486c(0x21e)||_0x56c6e6===_0xa8486c(0x1e6)||_0x56c6e6===_0xa8486c(0x274))_0x431de9=_0x431de9*(_0x41efe1===_0xa8486c(0x230)?_0x426d51['eur']:_0x426d51['usd']);else{if(usdBasecoins['includes'](_0x56c6e6))_0x431de9=_0x431de9*(_0x41efe1===_0xa8486c(0x230)?_0x426d51[_0xa8486c(0x335)]/_0x426d51['usd']:0x1);else _0x56c6e6===_0xa8486c(0x230)&&(_0x431de9=_0x431de9*(_0x41efe1==='EUR'?0x1:_0x426d51[_0xa8486c(0x2c8)]/_0x426d51['eur']));}}let _0x184899;if(_0x431de9!==0x0){if(_0x386d12===_0xa8486c(0x334))_0x184899=(_0x431de9/startingBalances[_0xa8486c(0x334)]-0x1)*0x64;else{if(_0x41efe1===_0xa8486c(0x230))_0x184899=(_0x431de9/startingBalances['eur']-0x1)*0x64;else _0x184899=(_0x431de9/startingBalances[_0xa8486c(0x2c8)]-0x1)*0x64;}let _0x679a0a=0x0;if(startingBalances[_0xa8486c(0x1d9)])_0x3acb06[_0xa8486c(0x252)](_0x857574=>{const _0x5a89ed=_0xa8486c;let _0x58930c=startingBalances[_0x5a89ed(0x1d9)]['find'](_0x2373e1=>_0x2373e1[_0x5a89ed(0x2b4)]===_0x857574[_0x5a89ed(0x2b4)]);if(_0x58930c&&_0x58930c[_0x5a89ed(0x2b4)]&&_0x857574[_0x5a89ed(0x23e)]!==0x0)_0x679a0a+=_0x58930c[_0x5a89ed(0x23e)]*_0x857574[_0x5a89ed(0x1dc)];});let _0x4ac8c2=0x0;if(_0x10dd93[_0xa8486c(0x1df)]!==0x0){let _0x2a7a68=_0x10dd93[_0x10dd93[_0xa8486c(0x1df)]-0x1];_0x4ac8c2=_0x2a7a68['netoffset'];}_0x679a0a-=_0x4ac8c2;_0x386d12==='net-basecoin'&&(_0x184899=(_0x431de9-_0x679a0a)/startingBalances['basecoin']*0x64,_0x431de9=_0x431de9-_0x679a0a);if(_0x386d12==='net-fiat'){let _0x310403=_0x41efe1==='EUR'?startingBalances['eur']:startingBalances[_0xa8486c(0x2c8)];if(_0x56c6e6===_0xa8486c(0x21e)||_0x56c6e6===_0xa8486c(0x1e6)||_0x56c6e6===_0xa8486c(0x274))_0x679a0a=_0x41efe1===_0xa8486c(0x230)?_0x679a0a*_0x426d51[_0xa8486c(0x335)]:_0x679a0a*_0x426d51['usd'];else{if(usdBasecoins[_0xa8486c(0x22c)](_0x56c6e6))_0x679a0a=_0x41efe1===_0xa8486c(0x230)?_0x679a0a*_0x426d51[_0xa8486c(0x335)]/_0x426d51['usd']:_0x679a0a;else _0x56c6e6===_0xa8486c(0x230)&&(_0x679a0a=_0x41efe1===_0xa8486c(0x230)?_0x679a0a:_0x679a0a*_0x426d51[_0xa8486c(0x2c8)]/_0x426d51['eur']);}_0x184899=(_0x431de9-_0x679a0a)/_0x310403*0x64,_0x431de9=_0x431de9-_0x679a0a;}if(_0x184899){if(_0x184899<0x64)_0x184899=_0x184899[_0xa8486c(0x25c)](0x2);else{if(_0x184899<0x3e8)_0x184899=_0x184899[_0xa8486c(0x25c)](0x1);else _0x184899=_0x184899[_0xa8486c(0x25c)](0x0);}}else _0x184899=Number('0')['toFixed'](0x2);if(_0x431de9){if(Math[_0xa8486c(0x195)](_0x431de9)<0.000001)_0x431de9=_0x431de9[_0xa8486c(0x25c)](0x2);else{if(Math[_0xa8486c(0x195)](_0x431de9)<0.1)_0x431de9=_0x431de9[_0xa8486c(0x25c)](0x6);else{if(Math[_0xa8486c(0x195)](_0x431de9)<0x1)_0x431de9=_0x431de9['toFixed'](0x5);else{if(Math[_0xa8486c(0x195)](_0x431de9)<0xa)_0x431de9=_0x431de9[_0xa8486c(0x25c)](0x4);else{if(Math[_0xa8486c(0x195)](_0x431de9)<0x64)_0x431de9=_0x431de9['toFixed'](0x3);else{if(Math['abs'](_0x431de9)<0x3e8)_0x431de9=_0x431de9[_0xa8486c(0x25c)](0x2);else _0x431de9=_0x431de9[_0xa8486c(0x25c)](0x2);}}}}}}else _0x431de9=Number('0')[_0xa8486c(0x25c)](0x2);}else _0x184899=Number('0')[_0xa8486c(0x25c)](0x2);return{'value':_0x431de9,'change':_0x184899,'leftTxt':_0x54a7f4,'rightTxt':_0xe618e};}async function getStartingBalances(_0x39e62a,_0xb683f7=!![]){const _0x2ce930=_0x375e26;if(_0x39e62a['length']!==0x0){const [_0x3d8cae,_0x222246,_0x15d302]=getPerf(_0x39e62a[0x0],!![]);let _0x384e57=[];config[_0x2ce930(0x2fb)][_0x2ce930(0x252)](_0x19c6b0=>{const _0x44f3c0=_0x2ce930;let _0x55780f=0x0,_0x36022c;config[_0x44f3c0(0x330)][_0x44f3c0(0x252)](_0x4222d2=>{const _0x29b7d0=_0x44f3c0;let _0x424be1=_0x4222d2[_0x29b7d0(0x1bf)][_0x29b7d0(0x1e8)](_0x48f6a4=>_0x48f6a4[_0x29b7d0(0x2b4)]==_0x19c6b0[_0x29b7d0(0x2b4)]);if(_0x424be1){_0x55780f+=_0x424be1[_0x29b7d0(0x23e)];if(!_0x36022c)_0x36022c=_0x424be1[_0x29b7d0(0x1fe)];}}),_0x384e57[_0x44f3c0(0x2f6)]({'coin':_0x19c6b0[_0x44f3c0(0x2b4)],'number':_0x55780f,'initialprice':_0x36022c});});const _0x134231={'basecoin':_0x3d8cae,'eur':_0x222246,'usd':_0x15d302,'coins':_0x384e57};if(_0xb683f7)proxyEmit('starting-balances',_0x134231);startingBalances=_0x134231;}}function headlessMode(_0x3d729e){const _0x3177df=_0x375e26;let _0x4dcaaa=_0x3d729e[_0x3177df(0x2fb)],_0x53830d=_0x3d729e['threshold'],_0x4b38f4=[];for(let _0x5b2f1f of _0x4dcaaa){if(_0x5b2f1f[_0x3177df(0x2b4)]!=config['basecoin']){if(_0x5b2f1f['delta']>=_0x53830d/0x64){if(_0x5b2f1f['valid'])_0x4b38f4['push'](_0x5b2f1f);}else{if(_0x5b2f1f[_0x3177df(0x2f2)]<=-_0x53830d/0x64){if(_0x5b2f1f[_0x3177df(0x2f7)])_0x4b38f4[_0x3177df(0x2f6)](_0x5b2f1f);}}}}_0x4b38f4[_0x3177df(0x1df)]>0x0&&(lockOrders==ORDERS[_0x3177df(0x216)]&&!coolingDown&&_0x4b38f4[_0x3177df(0x252)](_0x8013db=>{const _0x3d1f68=_0x3177df;logger['debug']('Trigger:\x20'+_0x8013db[_0x3d1f68(0x2b4)]+'\x20'+_0x8013db[_0x3d1f68(0x23e)]+'\x20'+_0x8013db['last']+'\x20'+_0x8013db[_0x3d1f68(0x2e0)]+'%\x20'+_0x8013db[_0x3d1f68(0x312)]+'%\x20'+(0x64*_0x8013db[_0x3d1f68(0x2f2)])[_0x3d1f68(0x25c)](0x2)+'%\x20('+_0x53830d[_0x3d1f68(0x25c)](0x2)+'%)');}),placeOrder(_0x4b38f4));}function _0x13a1(){const _0x293f22=['max','OnMaintenance','bot','InvalidOrder','percentage','average','Loading\x20completed','marketcapApi','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','ongoing','changes','yargs/yargs','error','data','Failed\x20to\x20load\x20coin\x20data\x20for\x20','Headless:\x20','botname','\x20exchange\x20error','4xZXMjR','USDP','defaults','filter','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','cooldown','./logs/','order','<b>','net-basecoin','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)',':\x20timer\x20>','toggleBotMode','/backup/','getPortfolio(0)','storeFiat','getHours','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','coins','\x20|\x20lock\x20orders:\x20','Invalid\x20quantity','last','\x20minutes','Insufficient\x20funds\x20to\x20execute\x20order:\x20','length','2.6.0','fetchTicker','buy','getTime','NetworkError','API-key\x20format\x20invalid','ETH','side','find','fees','startdate','.json','closed','createOrder','***','openOrders','\x20/\x20','Symbol(s):\x20','BNB','Huobi','fiat','\x20exchange','page','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','Resetting\x20bot\x20history','timestamp','apiSecret','RequestTimeout','search','write','price','red_yellow_blue','marketcap','getDate','Error\x20details:','\x20metrics:</b>\x20\x0a\x0a','001','performance','rightTxt','change24h','Unfilled\x20order(s)\x20canceled\x20after\x20','sqrt','none','Unknown\x20error\x20occured','status','parseISO','1484860eMmAJG','getStartingBalances','recreate','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','Limit\x20(low-margin)','added','Executing\x20exchange\x20reload','\x20order:\x20','UNLOCKED','2.3.5','Order\x20is\x20invalid:\x20','orderId','progress','symbol','ExchangeNotAvailable','offset','BTC','getCoinNumber()','fromCodePoint','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','removed','limits','watchOrders()','set','(((.+)+)+)+$','date','./version.json','RSA-OAEP','fetchTickers','argv','includes','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','market_cap','filled','EUR','balancing\x20resumed','\x20|\x20','initclient','quote','existsSync','substring','limit-high','1\x20-\x20FILLED\x20unknown\x20order:\x20','change','RETRY\x20-\x20Problem\x20resolved\x20after\x20','Bybit','replace','milliseconds','number','fee','ORDERS.LOCKED','path','Exchange','Transaction\x20detection\x20blocked','running','\x20-\x20','Error\x20while\x20deleting\x20files:\x20','deleteHistoryAlerts','\x20API\x20key\x20is\x20invalid','assign','<pre>','slice','sendMetricsTelegram','-------------------------------\x0a','success','MIN_NOTIONAL','getAllOrders()','1835664SBcmcM','forEach','orderstatus','initTickers()','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Initializing\x20coin\x20results','startsWith','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','954417KdHuYs','splice','toFixed','\x20portfolio:</b>\x20\x0a\x0a','hybrid-crypto-js','Pausing\x20for\x20','Executed\x20','2\x20-\x20handling\x20FILLED\x20order:\x20','1\x20-\x20Unlock\x20orders','random','getOpenOrders()','placeOrder()','warning','cancelOrders()','remove','split','string',',\x20must\x20be\x20a\x203\x20digit\x20number','remainingSymbols','Waited\x20','type','round','args','watchOrders','ORDERS.UNLOCKED','cancelLoading','PAXG','Avoiding\x20continuous\x20order\x20attempts','Net\x20effect','************','code','reverse','marketcapEnabled','get','PermissionDenied','getPortfolio(2)','cloneDeep','Cex','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','axios','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','bid','final','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','marketcapsqrt','fetchOpenOrders','Huobipro','1\x20-\x20Handle\x20open\x20orders','USDT','./config/','ExchangeError','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','bb-secure.json','\x20minutes\x20-\x20','ticker','open','apply','exec','debug','cancel','loadMarkets','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20value','watchTrades','Reset\x20|\x20','placeOrder','realized','getMinutes','BUSD','version','breakeven','OrderNotFound','net-fiat','sells','uncaughtException','RETRY\x20-\x20Error\x20in\x20','/EUR','</pre>','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','bots','privateKey','getSeconds','fetchBalance','password','enabled','parse','decrypt','basecoinvalue','Order\x20amount\x20is\x20invalid:\x20','LOCKED','coin','sendPortfolioTelegram','%\x20(','\x20has\x20a\x2024h\x20drop\x20of\x20','watchTransactions()','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','configuration','Portfolio\x20change\x20detected:\x20','-results.json','getFullYear','initial','USD','market','2\x20-\x20Handled\x20open\x20orders','close','event-history','\x20-\x20bot\x20not\x20started','Order(s)\x20not\x20validated\x20after\x20','Bitget','floor','usd','has','spot','exchange','bot-','highest','exchange\x20not\x20reloaded','function','buys','value','watchTradesForSymbols','keys','currency','startprice','padStart','-events.json','BNB/','trade','createWriteStream','Crypt','stringify','send','1163470eXDowT','InvalidNonce','distribution','\x20orders\x20in\x20less\x20than\x20','event','headless','slider','showConfig','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','\x20API\x20secret\x20is\x20invalid','balances','Transaction\x20detection\x20unblocked','1\x20-\x20Validate\x20orders:\x20','amount','join','recent20','AuthenticationError','apiPassword','threshold','total','delta','/output-000.log','Exception\x20thrown\x20in\x20','-config.json','push','valid','ID:\x20','add','limit','portfolio','cost','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','ordertype','exchanges','Bot\x20','message','writeFile','logs','267606WknCGt','watchTrades()','onepagemode','fetchTickers()','99GoSBeo','emojisell','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','sell','240209QKXucO','USDC','timeout','log','canceled','loading-canceled','target','Manual\x20balancing\x20required','Saving\x20configuration','must\x20be\x20greater\x20than\x20minimum\x20amount','emojibuy','mkdirSync','1\x20-\x20FILLED\x20known\x20order:\x20','showname','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','TUSD','stopExchange()','amountToPrecision','sort','toLowerCase','sortBy','map','Cryptocom','getMonth','botID','test','storeConfiguration','colorscheme','Net\x20','2\x20-\x20Orders\x20unlocked','apiKey',':\x20Bot\x20','active','full','timeshift','isEqual','liquidity','resetHistory','\x20:\x20','request-time','basecoin','eur','toString','unlinkSync','indexOf','pro','cancelOrder','2\x20-\x20Validate\x20orders:\x20','fetchClosedOrders','datetime','-performance.json','date-fns','<b>Bot\x20','entries','abs','No\x20more\x20open\x20orders\x20-\x20','Invalid\x20API\x20key\x20or\x20secret\x20entered','time','excluded','shift','\x20|\x20Custom\x20ID:\x20','\x20>\x20','Fee\x20discount\x20refund\x20detected:\x20','\x20change','RateLimitExceeded','format','Binance','status\x20code\x20401','\x20network\x20error','autoliquidity','254550dJvdGX','yyyy/MM/dd','\x20>\x20[DEBUG]\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','settings','recreateCoinResults()','min','startnumber','emitHistory','leftTxt','Invalid\x20symbol:\x20','Market','\x20|\x20highest\x20fee:\x20','6CxfeVU','pop','no\x20open\x20orders'];_0x13a1=function(){return _0x293f22;};return _0x13a1();}function notifyBalance(_0x53abe8){const _0x4d02ba=_0x375e26;let _0x2efadf=_0x53abe8[_0x4d02ba(0x2fb)],_0x94543=_0x53abe8[_0x4d02ba(0x2f0)],_0x4967a0=[];for(let _0x58351f of _0x2efadf){if(_0x58351f['coin']!=config[_0x4d02ba(0x334)]){if(_0x58351f[_0x4d02ba(0x2f2)]>=_0x94543/0x64){if(_0x58351f['valid'])_0x4967a0[_0x4d02ba(0x2f6)](_0x58351f);}else{if(_0x58351f[_0x4d02ba(0x2f2)]<=-_0x94543/0x64){if(_0x58351f['valid'])_0x4967a0[_0x4d02ba(0x2f6)](_0x58351f);}}}}if(_0x4967a0['length']>0x0){let _0x385126=_0x4967a0[_0x4d02ba(0x321)](_0x583696=>_0x583696['coin']);_0x385126[_0x4d02ba(0x31e)]();let _0x51562a=_0x385126[_0x4d02ba(0x2ec)](',\x20');if(!lastCoinsToBalance)logHistory(_0x4d02ba(0x266),_0x4d02ba(0x313));lastCoinsToBalance=_0x51562a;}}function symbolToCoin(_0x24dbff){const _0x295425=_0x375e26;let _0xa2614d;if(_0x24dbff[_0x295425(0x22c)]('/'+config['basecoin']))_0xa2614d=_0x24dbff[_0x295425(0x23c)]('/'+config[_0x295425(0x334)],'');if(_0x24dbff[_0x295425(0x22c)](config[_0x295425(0x334)]+'/'))_0xa2614d=_0x24dbff[_0x295425(0x23c)](config[_0x295425(0x334)]+'/','');return _0xa2614d;}async function unlockOrders(){const _0xda4619=_0x375e26;if(allOrdersPlaced&&lockOrders==ORDERS[_0xda4619(0x2b3)]){logger[_0xda4619(0x294)](_0xda4619(0x262)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x128d46=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x128d46,validateOrdersState=_0xda4619(0x2be),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0xda4619(0x294)](_0xda4619(0x329));}}async function validateOrders(_0x7ff956){const _0x208638=_0x375e26;if(_0x7ff956)validateOrdersState=_0x7ff956;logger[_0x208638(0x294)](_0x208638(0x2ea)+validateOrdersState+_0x208638(0x1da)+(lockOrders==0x1?_0x208638(0x240):lockOrders==0x2?'ORDERS.UNLOCKING':_0x208638(0x272)));let _0x4d1f56=[],_0x326463=config[_0x208638(0x2fe)]==_0x208638(0x2c0)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x208638(0x30e)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x208638(0x294)](_0x208638(0x33b)+validateOrdersState),lastOrders[_0x208638(0x252)](_0x5853d6=>{const _0x144d91=_0x208638;let _0x1b37b0=![];_0x5853d6[_0x144d91(0x22f)]>0x0&&(_0x1b37b0=!![]),_0x4d1f56[_0x144d91(0x2f6)](_0x1b37b0),_0x1b37b0&&config[_0x144d91(0x2fe)]!='market'&&logHistory(_0x144d91(0x1ce),'Order\x20filled:\x20'+_0x5853d6['symbol']+'\x20'+_0x5853d6[_0x144d91(0x1e7)]+'\x20#'+formatResult(_0x5853d6[_0x144d91(0x22f)],0x8)+'\x20@'+formatResult(_0x5853d6[_0x144d91(0x1fe)],0x8));}),_0x4d1f56[_0x208638(0x252)]((_0x1f783a,_0xdd8346)=>{const _0x33a632=_0x208638;if(_0x1f783a)lastOrders[_0x33a632(0x25b)](_0xdd8346,0x1);}),persistOpenOrders(lastOrders);const _0x1cfddb=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x208638(0x231);if(validateOrdersState==_0x208638(0x2be)){validateOrdersState=_0x208638(0x1be);if(_0x4d1f56[_0x208638(0x22c)](![])){if(config[_0x208638(0x2fe)]==_0x208638(0x2c0)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x208638(0x1be)){if(_0x4d1f56['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x208638(0x2fe)]==_0x208638(0x2c0)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x208638(0x284))_0x4d1f56['includes'](![])&&(config['ordertype']==_0x208638(0x2c0)?logHistory(_0x208638(0x24e),_0x208638(0x2c5)+Math[_0x208638(0x26f)](_0x326463*validateOrderInterval/0xea60)+_0x208638(0x28f)+_0x1cfddb):(await cancelOrders(),logHistory(_0x208638(0x24e),_0x208638(0x208)+Math[_0x208638(0x26f)](_0x326463*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x1cfddb))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x208638(0x2fe)]!=_0x208638(0x2c0))logHistory(_0x208638(0x24e),_0x208638(0x196)+_0x1cfddb);await unlockOrders();}}}}}async function cancelOrders(){const _0x1828d9=_0x375e26;lastOrders[_0x1828d9(0x252)](async _0x3de6e6=>{const _0x59f054=_0x1828d9;try{const _0x120fc0=await exchange[_0x59f054(0x33a)](_0x3de6e6['orderId'],_0x3de6e6[_0x59f054(0x21b)]);}catch(_0x2fb7ec){if(_0x2fb7ec[_0x59f054(0x336)]()[_0x59f054(0x22c)](_0x59f054(0x2a1))){}else await handleError(_0x2fb7ec,_0x59f054(0x267));}});}async function initCoinResults(_0x322ad8){const _0x380cb6=_0x375e26;_0x322ad8?logger[_0x380cb6(0x294)]('Resetting\x20coin\x20results:\x20'+_0x322ad8):logger[_0x380cb6(0x294)](_0x380cb6(0x257)),config[_0x380cb6(0x2fb)][_0x380cb6(0x252)](_0x528ccb=>{const _0x4c55eb=_0x380cb6;if(!_0x528ccb[_0x4c55eb(0x199)]&&_0x528ccb[_0x4c55eb(0x2b4)]!=config[_0x4c55eb(0x334)]){const _0x3334db=currentCoins['find'](_0x12da92=>_0x12da92['coin']==_0x528ccb[_0x4c55eb(0x2b4)]),_0x5f11b4=global[_0x4c55eb(0x290)][noslash(_0x528ccb[_0x4c55eb(0x21b)])];let _0x35ecd1=_0x3334db?_0x3334db[_0x4c55eb(0x23e)]:null,_0x5a7cca=_0x528ccb[_0x4c55eb(0x279)]?0x1/_0x5f11b4:_0x5f11b4,_0x3b632f;config[_0x4c55eb(0x330)][_0x4c55eb(0x252)](_0x30a302=>{const _0x410762=_0x4c55eb;!_0x3b632f&&(_0x3b632f=_0x30a302[_0x410762(0x1bf)][_0x410762(0x1e8)](_0x3c48e9=>_0x3c48e9[_0x410762(0x2b4)]==_0x528ccb['coin']),_0x3b632f&&(_0x35ecd1=_0x3b632f['number'],_0x5a7cca=_0x3b632f[_0x410762(0x1fe)]));});let _0x364394=dbCoinResults[_0x4c55eb(0x27b)](_0x4c55eb(0x1d9))['find']({'coin':_0x528ccb[_0x4c55eb(0x2b4)]})[_0x4c55eb(0x2d1)]();if(!_0x364394){const _0x559c86={'coin':_0x528ccb[_0x4c55eb(0x2b4)],'number':_0x35ecd1,'breakeven':_0x5a7cca,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4c55eb(0x27b)](_0x4c55eb(0x1d9))[_0x4c55eb(0x2f6)](_0x559c86)['write']();}else{if(_0x322ad8&&_0x528ccb[_0x4c55eb(0x2b4)]==_0x322ad8){const _0x2507b2={'coin':_0x528ccb[_0x4c55eb(0x2b4)],'number':_0x35ecd1,'breakeven':_0x5a7cca,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x4c55eb(0x27b)](_0x4c55eb(0x1d9))[_0x4c55eb(0x1e8)]({'coin':_0x528ccb[_0x4c55eb(0x2b4)]})[_0x4c55eb(0x249)](_0x2507b2)[_0x4c55eb(0x1fd)]();}}}});}async function updateCoinResults(_0x337b0a,_0x74f60a=![]){const _0xa4610c=_0x375e26;let _0x4c7d40,_0x48fe43,_0x42329a,_0x47397c,_0x50b09a,_0x164fe6,_0x5f419a=dbCoinResults[_0xa4610c(0x27b)](_0xa4610c(0x1d9))['find']({'coin':_0x337b0a[_0xa4610c(0x2b4)]})['value'](),_0x3a8656=![];_0x5f419a&&Object[_0xa4610c(0x341)](_0x5f419a)['forEach'](([_0x2d375a,_0x5a6015])=>{if(_0x5a6015==null)_0x3a8656=!![];});(!_0x5f419a||_0x3a8656)&&(await initCoinResults(_0x337b0a[_0xa4610c(0x2b4)]),_0x5f419a=dbCoinResults['get'](_0xa4610c(0x1d9))[_0xa4610c(0x1e8)]({'coin':_0x337b0a[_0xa4610c(0x2b4)]})[_0xa4610c(0x2d1)]());_0x337b0a[_0xa4610c(0x279)]&&(_0x164fe6={'filled':_0x337b0a[_0xa4610c(0x22f)]*_0x337b0a[_0xa4610c(0x1fe)],'amount':_0x337b0a[_0xa4610c(0x22f)]*_0x337b0a[_0xa4610c(0x1fe)],'side':_0x337b0a['side']==_0xa4610c(0x30b)?_0xa4610c(0x1e2):_0xa4610c(0x30b),'price':0x1/_0x337b0a[_0xa4610c(0x1fe)]},_0x337b0a={..._0x337b0a,..._0x164fe6});_0x74f60a?_0x48fe43=_0x337b0a[_0xa4610c(0x1e7)]==_0xa4610c(0x1e2)?_0x5f419a[_0xa4610c(0x23e)]+_0x337b0a[_0xa4610c(0x22f)]:_0x5f419a[_0xa4610c(0x23e)]-_0x337b0a[_0xa4610c(0x22f)]:_0x48fe43=await getCoinNumber(_0x337b0a[_0xa4610c(0x2b4)]);if(_0x337b0a[_0xa4610c(0x23f)]&&_0x337b0a['fee']['currency']==config['basecoin'])_0x4c7d40=Number(_0x337b0a[_0xa4610c(0x23f)]['cost']);else{if(_0x337b0a[_0xa4610c(0x23f)]&&_0x337b0a[_0xa4610c(0x23f)][_0xa4610c(0x2d4)]==_0xa4610c(0x1f2)&&!_0x74f60a&&config['basecoin']!=_0xa4610c(0x274))_0x4c7d40=Number(_0x337b0a['fee'][_0xa4610c(0x2fc)])*global[_0xa4610c(0x290)][_0xa4610c(0x1f2)+config[_0xa4610c(0x334)]];else _0x4c7d40=defaultFee*_0x337b0a['filled']*_0x337b0a[_0xa4610c(0x1fe)];}_0x337b0a[_0xa4610c(0x1e7)]==_0xa4610c(0x1e2)?(_0x42329a=_0x48fe43!=0x0?(_0x5f419a['breakeven']*_0x5f419a[_0xa4610c(0x23e)]+_0x337b0a[_0xa4610c(0x1fe)]*(_0x48fe43-_0x5f419a[_0xa4610c(0x23e)])+_0x4c7d40)/_0x48fe43:0x0,_0x47397c=_0x5f419a[_0xa4610c(0x29c)]):(_0x42329a=_0x48fe43!=0x0?(_0x5f419a[_0xa4610c(0x2a0)]*_0x5f419a[_0xa4610c(0x23e)]-_0x337b0a[_0xa4610c(0x1fe)]*(_0x5f419a[_0xa4610c(0x23e)]-_0x48fe43)+_0x4c7d40)/_0x48fe43:0x0,_0x47397c=_0x5f419a[_0xa4610c(0x29c)]+(_0x337b0a[_0xa4610c(0x1fe)]-_0x5f419a[_0xa4610c(0x2a0)])*_0x337b0a[_0xa4610c(0x22f)]);_0x50b09a=(_0x337b0a[_0xa4610c(0x1fe)]-_0x42329a-_0x4c7d40/_0x337b0a['filled'])*_0x48fe43;let _0x21d9e9={'coin':_0x337b0a['coin'],'number':_0x48fe43,'breakeven':formatResult(_0x42329a,0x8),'realized':formatResult(_0x47397c,0x8),'unrealized':formatResult(_0x50b09a,0x8),'fees':formatResult(_0x5f419a[_0xa4610c(0x1e9)]+_0x4c7d40,0x8),'sells':_0x337b0a['side']==_0xa4610c(0x30b)?_0x5f419a[_0xa4610c(0x2a3)]+0x1:_0x5f419a[_0xa4610c(0x2a3)],'buys':_0x337b0a[_0xa4610c(0x1e7)]==_0xa4610c(0x1e2)?_0x5f419a[_0xa4610c(0x2d0)]+0x1:_0x5f419a[_0xa4610c(0x2d0)]};dbCoinResults[_0xa4610c(0x27b)](_0xa4610c(0x1d9))[_0xa4610c(0x1e8)]({'coin':_0x337b0a[_0xa4610c(0x2b4)]})['assign'](_0x21d9e9)[_0xa4610c(0x1fd)]();if(!_0x74f60a){if(_0x337b0a['fee']&&_0x337b0a[_0xa4610c(0x23f)][_0xa4610c(0x2d4)]==_0xa4610c(0x1f2)){const _0x1780b6=currentCoins[_0xa4610c(0x1e8)](_0x1332b0=>_0x1332b0['coin']=='BNB');if(_0x1780b6){let _0x1efd6b=dbCoinResults[_0xa4610c(0x27b)](_0xa4610c(0x1d9))[_0xa4610c(0x1e8)]({'coin':_0xa4610c(0x1f2)})['value']();_0x21d9e9={..._0x1efd6b,'number':_0x1780b6[_0xa4610c(0x23e)]},dbCoinResults[_0xa4610c(0x27b)](_0xa4610c(0x1d9))['find']({'coin':_0xa4610c(0x1f2)})['assign'](_0x21d9e9)[_0xa4610c(0x1fd)]();}}}}async function placeOrder(_0x27bfb1){const _0x25c8fb=_0x375e26,_0x1aeb21=config[_0x25c8fb(0x2fe)]==_0x25c8fb(0x2c0)?_0x25c8fb(0x2c0):_0x25c8fb(0x2fa);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x25c8fb(0x2b3)],allOrdersPlaced=![],validateOrdersState='initial';let _0x5501b0=![];lastOrders=[];for(const _0x347075 of _0x27bfb1){let _0x554cf0,_0x6af3e4,_0x280769,_0x2b3ff2,_0xf00cb4,_0x12057e=_0x347075[_0x25c8fb(0x21b)];try{const _0x501cf0=await exchange[_0x25c8fb(0x1e1)](_0x12057e);_0x554cf0=_0x347075['reverse']?0x1/_0x347075['last']:_0x347075[_0x25c8fb(0x1dc)],_0x6af3e4=_0x501cf0[_0x25c8fb(0x283)],_0x280769=_0x501cf0['ask'];_0x347075[_0x25c8fb(0x279)]?(_0x2b3ff2=_0x347075[_0x25c8fb(0x1e7)]==_0x25c8fb(0x1e2)?_0x25c8fb(0x30b):_0x25c8fb(0x1e2),_0xf00cb4=Math[_0x25c8fb(0x195)](_0x347075[_0x25c8fb(0x2d9)])/_0x554cf0):(_0x2b3ff2=_0x347075[_0x25c8fb(0x1e7)],_0xf00cb4=Math[_0x25c8fb(0x195)](_0x347075[_0x25c8fb(0x2d9)]));_0x1aeb21==_0x25c8fb(0x2fa)&&(config[_0x25c8fb(0x2fe)]==_0x25c8fb(0x237)&&(_0x554cf0=_0x2b3ff2==_0x25c8fb(0x1e2)?_0x6af3e4:_0x280769),config[_0x25c8fb(0x2fe)]=='limit-low'&&(_0x554cf0=_0x2b3ff2==_0x25c8fb(0x1e2)?_0x280769:_0x6af3e4));_0xf00cb4=formatResult(_0xf00cb4,0x8),_0x554cf0=formatResult(_0x554cf0,0x8);const _0x5c661b=_0x2b3ff2==_0x25c8fb(0x30b)?config[_0x25c8fb(0x309)]?String[_0x25c8fb(0x220)]('0x'+config['emojisell'])+'\x20':'':config[_0x25c8fb(0x316)]?String[_0x25c8fb(0x220)]('0x'+config[_0x25c8fb(0x316)])+'\x20':'',_0xf03905=_0x1aeb21==_0x25c8fb(0x2c0)?_0x25c8fb(0x1b0):config[_0x25c8fb(0x2fe)]==_0x25c8fb(0x237)?'Limit\x20(high-margin)':_0x25c8fb(0x212),_0x5ef2d5=(Math[_0x25c8fb(0x2c7)](Math[_0x25c8fb(0x263)]()*0x35a4e900)+0x5f5e100)[_0x25c8fb(0x336)]();lastOrders[_0x25c8fb(0x2f6)]({'customId':_0x5ef2d5,'symbol':_0x12057e,'coin':_0x347075[_0x25c8fb(0x2b4)],'amount':_0xf00cb4,'price':_0x554cf0,'side':_0x2b3ff2,'reverse':_0x347075[_0x25c8fb(0x279)],'filled':0x0});if(_0x1aeb21==_0x25c8fb(0x2c0))logHistory(_0x25c8fb(0x1ce),''+_0x5c661b+_0xf03905+_0x25c8fb(0x215)+_0x12057e+'\x20'+_0x2b3ff2+'\x20#'+formatResult(_0xf00cb4,0x8)+'\x20@'+formatResult(_0x554cf0,0x8));else logHistory(_0x25c8fb(0x1ce),''+_0x5c661b+_0xf03905+_0x25c8fb(0x215)+_0x12057e+'\x20'+_0x2b3ff2+'\x20#'+formatResult(_0xf00cb4,0x8)+'\x20@'+formatResult(_0x554cf0,0x8));let _0x31dbc6;_0x1aeb21=='market'?_0x2b3ff2==_0x25c8fb(0x1e2)&&[_0x25c8fb(0x23b),_0x25c8fb(0x2c6),_0x25c8fb(0x27f),_0x25c8fb(0x1f3),_0x25c8fb(0x288)][_0x25c8fb(0x22c)](config['exchange'])?_0x31dbc6=await exchange[_0x25c8fb(0x1ed)](_0x12057e,_0x1aeb21,_0x2b3ff2,_0xf00cb4,_0x554cf0):_0x31dbc6=await exchange[_0x25c8fb(0x1ed)](_0x12057e,_0x1aeb21,_0x2b3ff2,_0xf00cb4,undefined):_0x31dbc6=await exchange['createOrder'](_0x12057e,_0x1aeb21,_0x2b3ff2,_0xf00cb4,_0x554cf0);logger['debug'](_0x25c8fb(0x2f8)+_0x31dbc6['id']+_0x25c8fb(0x19b)+_0x5ef2d5);const _0x506c92=lastOrders[_0x25c8fb(0x1df)]-0x1;if(_0x506c92>=0x0&&lastOrders[_0x506c92]['customId']==_0x5ef2d5){lastOrders[_0x506c92]['orderId']=_0x31dbc6['id'];if(_0x31dbc6[_0x25c8fb(0x2eb)])lastOrders[_0x506c92]['amount']=_0x31dbc6[_0x25c8fb(0x2eb)];if(_0x31dbc6[_0x25c8fb(0x1fe)])lastOrders[_0x506c92]['price']=_0x31dbc6[_0x25c8fb(0x1fe)];lastOrders[_0x506c92][_0x25c8fb(0x23f)]=_0x31dbc6[_0x25c8fb(0x23f)];}if(config[_0x25c8fb(0x1cc)]!=0x0){let _0x5472f3=null;if(cooldownTracker['length']==config[_0x25c8fb(0x1cc)]-0x1)_0x5472f3=cooldownTracker['shift']();const _0x20f7f8=getTimeStamp();cooldownTracker[_0x25c8fb(0x2f6)](_0x20f7f8);if(_0x5472f3){const _0x56cc51=fns['differenceInSeconds'](new Date(_0x20f7f8),new Date(_0x5472f3));if(_0x56cc51<cooldownInterval){logHistory(_0x25c8fb(0x1c1),_0x25c8fb(0x260)+config[_0x25c8fb(0x1cc)]+_0x25c8fb(0x2e1)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x54ae81){if(_0x54ae81[_0x25c8fb(0x336)]()[_0x25c8fb(0x22c)](_0x25c8fb(0x24f)))lastOrders=lastOrders[_0x25c8fb(0x1ca)](_0x3a9cd4=>_0x3a9cd4[_0x25c8fb(0x21b)]!=_0x12057e),logHistory(_0x25c8fb(0x1c1),_0x25c8fb(0x297)+_0x12057e),_0x5501b0=!![];else{if(_0x54ae81['toString']()[_0x25c8fb(0x22c)](_0x25c8fb(0x1db)))lastOrders=lastOrders[_0x25c8fb(0x1ca)](_0x5d202c=>_0x5d202c['symbol']!=_0x12057e),logHistory(_0x25c8fb(0x1c1),_0x25c8fb(0x2b2)+_0x12057e),_0x5501b0=!![];else{if(_0x54ae81[_0x25c8fb(0x336)]()[_0x25c8fb(0x22c)](_0x25c8fb(0x1b8)))lastOrders=lastOrders[_0x25c8fb(0x1ca)](_0x28dcfb=>_0x28dcfb[_0x25c8fb(0x21b)]!=_0x12057e),logHistory('error',_0x25c8fb(0x218)+_0x12057e),logger[_0x25c8fb(0x294)](_0x54ae81),_0x5501b0=!![];else _0x54ae81['toString']()[_0x25c8fb(0x22c)](_0x25c8fb(0x315))?(lastOrders=lastOrders[_0x25c8fb(0x1ca)](_0x2f6d03=>_0x2f6d03[_0x25c8fb(0x21b)]!=_0x12057e),logHistory(_0x25c8fb(0x1c1),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x12057e),_0x5501b0=!![]):(lastOrders=lastOrders[_0x25c8fb(0x1ca)](_0x395e30=>_0x395e30[_0x25c8fb(0x21b)]!=_0x12057e),await handleError(_0x54ae81,_0x25c8fb(0x265),_0x12057e));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x25c8fb(0x1df)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x14429a=config[_0x25c8fb(0x2fe)]==_0x25c8fb(0x2c0)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x14429a);}else unlockOrders();_0x5501b0&&config['headless']&&(logHistory('error',_0x25c8fb(0x275)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x25c8fb(0x24e),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x25c8fb(0x2e3)]&&logHistory(_0x25c8fb(0x1c1),_0x25c8fb(0x256));else lockOrders!=ORDERS[_0x25c8fb(0x216)]&&(!config[_0x25c8fb(0x2e3)]&&(config['ordertype']==_0x25c8fb(0x2c0)?logHistory(_0x25c8fb(0x1c1),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x436d32){const _0x5154c7=_0x375e26,_0x56f404={...config,'openOrders':_0x436d32};let _0x30a983=dbConfig[_0x5154c7(0x27b)](_0x5154c7(0x1b7))[_0x5154c7(0x1e8)]({'botID':botID})[_0x5154c7(0x2d1)]();_0x30a983&&dbConfig['get'](_0x5154c7(0x1b7))[_0x5154c7(0x1e8)]({'botID':botID})[_0x5154c7(0x249)](_0x56f404)[_0x5154c7(0x1fd)]();}function restoreOrders(){const _0xa87cfa=_0x375e26;let _0x11fcfc;config['openOrders']&&allOpenOrders['forEach'](_0x410e31=>{const _0x35b5ff=_0x12cd,_0x50c0af=config[_0x35b5ff(0x1ef)]['find'](_0x244fbb=>_0x244fbb[_0x35b5ff(0x219)]==_0x410e31['id']);_0x50c0af&&(lastOrders[_0x35b5ff(0x2f6)](_0x50c0af),_0x11fcfc=_0x410e31['timestamp']);});if(lastOrders[_0xa87cfa(0x1df)]>0x0){lockOrders=ORDERS[_0xa87cfa(0x2b3)],validateOrdersState=_0xa87cfa(0x1be),allOrdersPlaced=!![];const _0x29d323=new Date()['getTime'](),_0x2788d0=config['ordertype']==_0xa87cfa(0x2c0)?validateOrderTimeout*0x3c*0x3e8:config[_0xa87cfa(0x30e)]*0x3c*0x3e8;if(_0x11fcfc+_0x2788d0>_0x29d323){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x11fcfc+_0x2788d0-_0x29d323);}else validateOrders(_0xa87cfa(0x284));}}async function sendMetricsTelegram(){const _0x38a187=_0x375e26;if(!coinsLoaded){process[_0x38a187(0x2dd)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0xa75a32=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x41ffa1='';if(config[_0x38a187(0x319)])_0x41ffa1=_0x38a187(0x1cf)+config[_0x38a187(0x1c5)]+_0x38a187(0x203);else _0x41ffa1=_0x38a187(0x340)+botID+_0x38a187(0x203);const _0x5a1037=getKPIs(_0x38a187(0x334)),_0x22a27a=getKPIs(_0x38a187(0x1f4),config[_0x38a187(0x1f4)]),_0x78d3f4=getKPIs(_0x38a187(0x1d0)),_0x437ce3=getKPIs(_0x38a187(0x2a2),config[_0x38a187(0x1f4)]);_0x41ffa1+='<pre>',_0x41ffa1+=_0x5a1037[_0x38a187(0x1ae)]+_0x38a187(0x332)+_0x5a1037[_0x38a187(0x2d1)]+'\x0a',_0x41ffa1+=_0x5a1037[_0x38a187(0x206)]+':\x20'+_0x5a1037[_0x38a187(0x239)]+'%\x0a',_0x41ffa1+=_0x22a27a['leftTxt']+_0x38a187(0x332)+_0x22a27a['value']+'\x0a',_0x41ffa1+=_0x22a27a[_0x38a187(0x206)]+':\x20'+_0x22a27a[_0x38a187(0x239)]+'%\x0a',_0x41ffa1+=_0x78d3f4[_0x38a187(0x1ae)]+':\x20'+_0x78d3f4['value']+'\x20('+config[_0x38a187(0x334)]+')\x0a',_0x41ffa1+=_0x78d3f4[_0x38a187(0x206)]+':\x20'+_0x78d3f4['change']+_0x38a187(0x2b6)+config[_0x38a187(0x334)]+')\x0a',_0x41ffa1+=_0x437ce3[_0x38a187(0x1ae)]+':\x20'+_0x437ce3[_0x38a187(0x2d1)]+'\x20('+config[_0x38a187(0x1f4)]+')\x0a',_0x41ffa1+=_0x437ce3[_0x38a187(0x206)]+':\x20'+_0x437ce3['change']+_0x38a187(0x2b6)+config[_0x38a187(0x1f4)]+')\x0a',_0x41ffa1+=_0x38a187(0x2a7),process[_0x38a187(0x2dd)]({'telegrammsg':_0x41ffa1},_0x589db5=>{});}async function sendPortfolioTelegram(){const _0x5615e9=_0x375e26;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process['send']({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x1f49a1=>{});return;}let _0x3ca3e2='';if(config[_0x5615e9(0x319)])_0x3ca3e2='<b>'+config['botname']+_0x5615e9(0x25d);else _0x3ca3e2=_0x5615e9(0x340)+botID+_0x5615e9(0x25d);_0x3ca3e2+=_0x5615e9(0x24a),_0x3ca3e2+=_0x5615e9(0x24d),_0x3ca3e2+=_0x5615e9(0x2b9),_0x3ca3e2+='-------------------------------\x0a',currentCoins[_0x5615e9(0x252)](_0x5bbf8f=>{const _0x315081=_0x5615e9;_0x3ca3e2+=_0x5bbf8f[_0x315081(0x2b4)]['padEnd'](0x7)+'|\x20'+formatPad(_0x5bbf8f[_0x315081(0x2e0)],0x2,0x6)+'|\x20'+formatPad(_0x5bbf8f[_0x315081(0x312)],0x2,0x6)+'|\x20'+formatPad(_0x5bbf8f[_0x315081(0x2f2)]*0x64,0x2,0x6)+'\x0a';}),_0x3ca3e2+=_0x5615e9(0x2a7),process[_0x5615e9(0x2dd)]({'telegrammsg':_0x3ca3e2},_0x54043f=>{});}function formatPad(_0x1e7ec7,_0x527fbd,_0x23cf1d){const _0x307835=_0x375e26,_0x9c7fb4=formatResultString(_0x1e7ec7,_0x527fbd);return _0x9c7fb4?_0x9c7fb4['padStart'](_0x23cf1d):''[_0x307835(0x2d6)](_0x23cf1d);}function logHistory(_0x3391cf,_0x2b8307,_0x441d1d=''){const _0x4bc755=_0x375e26;logger[_0x4bc755(0x32d)](''+_0x2b8307);let _0x3c315a={'time':getTimeStamp(),'type':_0x3391cf,'event':_0x2b8307};dbLogs[_0x4bc755(0x27b)]('logs')['push'](_0x3c315a)[_0x4bc755(0x1fd)]();if(_0x441d1d=='')_0x441d1d=_0x2b8307;proxyEmit(_0x4bc755(0x2e2),{'log':_0x3c315a,'summary':_0x441d1d}),process[_0x4bc755(0x2dd)]({'telegram':{..._0x3c315a,'botname':config[_0x4bc755(0x1c5)],'showname':config[_0x4bc755(0x319)]}},_0x564f65=>{});}function emitHistory(_0x54faaf={}){const _0x53d534=_0x375e26;Object[_0x53d534(0x2d3)](_0x54faaf)[_0x53d534(0x1df)]==0x0&&(_0x54faaf={'type':['order',_0x53d534(0x2e2)],'event':'','page':0x1});if(_0x54faaf[_0x53d534(0x26e)]['includes']('event'))_0x54faaf[_0x53d534(0x26e)]['splice'](_0x54faaf[_0x53d534(0x26e)][_0x53d534(0x338)](_0x53d534(0x2e2)),0x1,'error',_0x53d534(0x266),_0x53d534(0x24e));if(dbLogs[_0x53d534(0x2c9)](_0x53d534(0x303))[_0x53d534(0x2d1)]()){let _0x12e366=dbLogs['get'](_0x53d534(0x303))[_0x53d534(0x1ca)](_0x42e8e7=>{const _0x1896b9=_0x53d534;if(_0x54faaf[_0x1896b9(0x26e)][_0x1896b9(0x1df)]==0x0)return![];else return _0x54faaf[_0x1896b9(0x26e)][_0x1896b9(0x22c)](_0x42e8e7['type']);})['filter'](_0x1064d8=>{const _0x3c3766=_0x53d534;if(_0x54faaf[_0x3c3766(0x2e2)]=='')return!![];else return _0x1064d8[_0x3c3766(0x2e2)]['toLowerCase']()[_0x3c3766(0x22c)](_0x54faaf['event'][_0x3c3766(0x31f)]());})[_0x53d534(0x320)](_0x53d534(0x198)),_0x421caf=_0x12e366[_0x53d534(0x2d1)]()[_0x53d534(0x1df)];_0x12e366=_0x12e366[_0x53d534(0x279)]()['slice']((_0x54faaf[_0x53d534(0x1f6)]-0x1)*logPageSize,_0x54faaf[_0x53d534(0x1f6)]*logPageSize-0x1)[_0x53d534(0x279)]()[_0x53d534(0x2d1)](),proxyEmit('event-history',{'logs':_0x12e366,'total':_0x421caf});}else proxyEmit(_0x53d534(0x2c3),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1c3fa7){const _0x4010b0=_0x375e26;if(dbLogs['has'](_0x4010b0(0x303))[_0x4010b0(0x2d1)]()){const _0x619ae0=dbLogs[_0x4010b0(0x27b)](_0x4010b0(0x303))[_0x4010b0(0x320)](_0x4010b0(0x198))[_0x4010b0(0x1ca)](_0x314273=>{const _0x2d495c=_0x4010b0;return _0x314273[_0x2d495c(0x26e)]=='order';})[_0x4010b0(0x2d1)]();dbLogs['get'](_0x4010b0(0x303))['remove']()['write'](),dbLogs[_0x4010b0(0x27b)](_0x4010b0(0x303))[_0x4010b0(0x249)](_0x619ae0)['write'](),emitHistory(_0x1c3fa7);}}async function pauseBot(_0x47c43b=pauseBotInterval){const _0x3de796=_0x375e26,_0x404add=new Date()[_0x3de796(0x1e3)]();if(!lastErrorShown||_0x404add-lastErrorShown>=_0x47c43b){lastErrorShown=_0x404add;!lastBotPause?(lastBotPause=_0x404add,consecutivePauses=0x1):(_0x404add-lastBotPause-_0x47c43b<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0x38572f=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x3de796(0x1e3)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x47c43b),botPaused=![],reset(!![]);}}}async function killBot(){const _0x249369=_0x375e26;botPaused=!![],await sleep(0x3e8),process[_0x249369(0x2dd)]({'stop':'kill'},_0x54fe93=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x18c57f,_0x2f27fd){const _0x4fe116=_0x375e26;if(botPaused)return;const _0x45ef4c=config['exchange']||_0x4fe116(0x242);if(_0x2f27fd)logger[_0x4fe116(0x294)](_0x4fe116(0x2f4)+_0x2f27fd);const _0x52b0fa=()=>{const _0x3df618=_0x4fe116;loading[_0x3df618(0x1c1)]=!![],emitLoadingProgress();};if(_0x18c57f[_0x4fe116(0x336)]()[_0x4fe116(0x22c)](_0x4fe116(0x1e5)))logHistory(_0x4fe116(0x1c1),_0x45ef4c+_0x4fe116(0x280)),_0x52b0fa();else{if(_0x18c57f[_0x4fe116(0x336)]()['includes'](_0x4fe116(0x221)))logHistory(_0x4fe116(0x1c1),_0x45ef4c+_0x4fe116(0x1f7)),_0x52b0fa();else _0x18c57f[_0x4fe116(0x336)]()[_0x4fe116(0x22c)](_0x4fe116(0x2ee))?(logHistory('error',_0x45ef4c+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x4fe116(0x1c1),'Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x52b0fa()):await handleError(_0x18c57f,null);}}function _0x12cd(_0x202469,_0x3a7fc3){const _0x21c404=_0x13a1();return _0x12cd=function(_0x1a8fc9,_0x5ba895){_0x1a8fc9=_0x1a8fc9-0x195;let _0x13a1c1=_0x21c404[_0x1a8fc9];return _0x13a1c1;},_0x12cd(_0x202469,_0x3a7fc3);}async function handleError(_0x33ef07,_0x1fd689,_0x56db28=''){const _0x38c7da=_0x375e26;if(botPaused)return;const _0xdc1fa7=config[_0x38c7da(0x2cb)]||_0x38c7da(0x242);if(_0x1fd689)logger[_0x38c7da(0x294)](_0x38c7da(0x2f4)+_0x1fd689);if(_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x22c)]('DDoSProtection'))logHistory(_0x38c7da(0x1c1),_0xdc1fa7+_0x38c7da(0x2e6)+pauseBotMsg),logger[_0x38c7da(0x294)]('Error\x20details:',_0x33ef07),await pauseBot();else{if(_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x22c)](_0x38c7da(0x19f)))logHistory(_0x38c7da(0x1c1),_0xdc1fa7+_0x38c7da(0x1bd)+pauseBotMsg),logger['debug'](_0x38c7da(0x202),_0x33ef07),await pauseBot();else{if(_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x22c)](_0x38c7da(0x21c))||_0x33ef07[_0x38c7da(0x336)]()['includes'](_0x38c7da(0x1b6)))logHistory('error',_0xdc1fa7+_0x38c7da(0x1d1)+pauseBotMsg),await pauseBot();else{if(_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x22c)](_0x38c7da(0x1fb)))logHistory('error',_0xdc1fa7+_0x38c7da(0x22d)+pauseBotMsg),logger[_0x38c7da(0x294)]('Error\x20details:',_0x33ef07),await pauseBot();else{if(_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x22c)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))logHistory(_0x38c7da(0x1c1),_0xdc1fa7+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)'+pauseBotMsg),logger[_0x38c7da(0x294)](_0x38c7da(0x202),_0x33ef07),await pauseBot();else{if(_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x31f)]()[_0x38c7da(0x22c)](_0x38c7da(0x1f9))||_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x31f)]()[_0x38c7da(0x22c)](_0x38c7da(0x333)))logHistory('error','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'+pauseBotMsg),logger[_0x38c7da(0x294)]('Error\x20details:',_0x33ef07['toString']()),await pauseBot();else{if(_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x22c)](_0x38c7da(0x2df)))logHistory(_0x38c7da(0x1c1),_0xdc1fa7+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)'+pauseBotMsg),logger[_0x38c7da(0x294)](_0x38c7da(0x202),_0x33ef07),await pauseBot();else{if(_0x33ef07 instanceof ccxt[_0x38c7da(0x1e4)])logHistory('error',_0xdc1fa7+_0x38c7da(0x1a3)+pauseBotMsg),logger[_0x38c7da(0x294)](_0x38c7da(0x202),_0x33ef07),await pauseBot();else{if(_0x33ef07['toString']()[_0x38c7da(0x22c)](_0x38c7da(0x1e5)))logHistory(_0x38c7da(0x1c1),_0xdc1fa7+_0x38c7da(0x248)),logHistory(_0x38c7da(0x1c1),_0x38c7da(0x1a8)),await killBot();else{if(_0x33ef07['toString']()[_0x38c7da(0x22c)](_0x38c7da(0x221)))logHistory(_0x38c7da(0x1c1),_0xdc1fa7+_0x38c7da(0x2e7)),logHistory(_0x38c7da(0x1c1),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x33ef07[_0x38c7da(0x336)]()[_0x38c7da(0x22c)](_0x38c7da(0x2ee)))logHistory('error',_0xdc1fa7+_0x38c7da(0x28d)),logHistory('error',_0x38c7da(0x1a8)),await killBot();else{if(_0x33ef07['toString']()[_0x38c7da(0x22c)](_0x38c7da(0x27c)))logHistory(_0x38c7da(0x1c1),_0xdc1fa7+_0x38c7da(0x282)),logHistory(_0x38c7da(0x1c1),_0x38c7da(0x1a8)),await killBot();else{if(_0x33ef07[_0x38c7da(0x336)]()['includes']('InsufficientFunds'))logHistory(_0x38c7da(0x1c1),_0x38c7da(0x1de)+_0x56db28);else{if(_0x33ef07 instanceof ccxt[_0x38c7da(0x28c)]){logHistory(_0x38c7da(0x1c1),_0xdc1fa7+_0x38c7da(0x1c6)),logger[_0x38c7da(0x294)](_0x38c7da(0x202),_0x33ef07);if(_0x56db28)logger[_0x38c7da(0x294)](_0x38c7da(0x1f1)+_0x56db28);}else{logHistory(_0x38c7da(0x1c1),_0x38c7da(0x20b)+pauseBotMsg),logger[_0x38c7da(0x294)](_0x38c7da(0x202),_0x33ef07);if(_0x56db28)logger[_0x38c7da(0x294)]('Symbol(s):\x20'+_0x56db28);await pauseBot();}}}}}}}}}}}}}}}async function withRetry(_0xedb97e,_0x42b435){const _0x4283f1=_0x375e26;let _0x27555d=![],_0x4a4a17=0x0,_0x1a7749,_0x40b2e3;while(_0x4a4a17<maxRetries){try{_0x1a7749=await _0x42b435();break;}catch(_0x3ce104){_0x40b2e3=_0x3ce104,!_0x27555d?(_0x27555d=!![],logger['debug'](_0x4283f1(0x2a5)+_0xedb97e+':',_0x3ce104[_0x4283f1(0x336)]())):await sleep(retryInterval);}_0x4a4a17++;}if(_0x4a4a17==0x0)return _0x1a7749;if(_0x4a4a17>=maxRetries)throw _0x40b2e3;else return logger[_0x4283f1(0x294)](_0x4283f1(0x23a)+_0x4a4a17+'\x20attempts'),_0x1a7749;}function formatResult(_0x15eb09,_0x4f4283){return parseFloat(_0x15eb09['toFixed'](_0x4f4283));}function formatResultTruncate(_0x17abe6,_0x154f15){const _0x190fa1=_0x375e26;let _0x281623=formatResultString(_0x17abe6,0xa),_0x176d47=_0x281623[_0x190fa1(0x338)]('.');return _0x176d47!=-0x1&&(_0x281623=_0x281623[_0x190fa1(0x24b)](0x0,_0x176d47+_0x154f15+0x1)),Number(_0x281623);}function formatResultString(_0x296501,_0x33a859){const _0x4bd28a=_0x375e26;let _0x1d9e3a;if(!(''+_0x296501)['includes']('e'))_0x1d9e3a=+(Math[_0x4bd28a(0x26f)](_0x296501+'e+'+_0x33a859)+'e-'+_0x33a859);else{let _0x26a83c=(''+_0x296501)['split']('e'),_0x440954='';+_0x26a83c[0x1]+_0x33a859>0x0&&(_0x440954='+'),_0x1d9e3a=+(Math['round'](+_0x26a83c[0x0]+'e'+_0x440954+(+_0x26a83c[0x1]+_0x33a859))+'e-'+_0x33a859);}return Number(_0x1d9e3a)[_0x4bd28a(0x25c)](_0x33a859);}function getServerTime(){const _0x4e5ed8=_0x375e26,_0x3ab171=new Date();return _0x3ab171[_0x4e5ed8(0x2bd)]()+'/'+(_0x3ab171['getMonth']()+0x1)[_0x4e5ed8(0x336)]()[_0x4e5ed8(0x2d6)](0x2,'0')+'/'+_0x3ab171[_0x4e5ed8(0x201)]()[_0x4e5ed8(0x336)]()[_0x4e5ed8(0x2d6)](0x2,'0')+'\x20'+_0x3ab171[_0x4e5ed8(0x1d7)]()[_0x4e5ed8(0x336)]()[_0x4e5ed8(0x2d6)](0x2,'0')+':'+_0x3ab171[_0x4e5ed8(0x29d)]()['toString']()[_0x4e5ed8(0x2d6)](0x2,'0')+':'+_0x3ab171[_0x4e5ed8(0x2ab)]()[_0x4e5ed8(0x336)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x3944a3=_0x375e26,_0x23052a=shiftedTime();return _0x23052a['getFullYear']()+'/'+(_0x23052a[_0x3944a3(0x323)]()+0x1)[_0x3944a3(0x336)]()['padStart'](0x2,'0')+'/'+_0x23052a[_0x3944a3(0x201)]()[_0x3944a3(0x336)]()[_0x3944a3(0x2d6)](0x2,'0')+'\x20'+_0x23052a[_0x3944a3(0x1d7)]()[_0x3944a3(0x336)]()[_0x3944a3(0x2d6)](0x2,'0')+':'+_0x23052a[_0x3944a3(0x29d)]()[_0x3944a3(0x336)]()[_0x3944a3(0x2d6)](0x2,'0')+':'+_0x23052a[_0x3944a3(0x2ab)]()[_0x3944a3(0x336)]()[_0x3944a3(0x2d6)](0x2,'0');}function getDate(){const _0x128fa2=_0x375e26,_0x29abcd=shiftedTime();return _0x29abcd[_0x128fa2(0x2bd)]()+'/'+(_0x29abcd[_0x128fa2(0x323)]()+0x1)[_0x128fa2(0x336)]()[_0x128fa2(0x2d6)](0x2,'0')+'/'+_0x29abcd[_0x128fa2(0x201)]()['toString']()[_0x128fa2(0x2d6)](0x2,'0');}function getHour(){const _0x33518b=_0x375e26,_0x17a173=shiftedTime();return _0x17a173['getHours']()[_0x33518b(0x336)]()['padStart'](0x2,'0');}function sleep(_0x545993){return new Promise(_0x371b36=>setTimeout(_0x371b36,_0x545993));}function shiftedTime(){const _0x3b490a=_0x375e26,_0x1e6f95=new Date();let _0x5e3263=_0x1e6f95;if(config&&config[_0x3b490a(0x32e)]!==0x0)_0x5e3263=fns[_0x3b490a(0x2f9)](_0x1e6f95,{'hours':config[_0x3b490a(0x32e)]});return _0x5e3263;}function timer(_0x459bf8){const _0x1a36a9=_0x375e26,_0x2169d1=new Date();!lasttime?console[_0x1a36a9(0x30f)](getTimeStamp()+_0x1a36a9(0x1d2),_0x459bf8,_0x2169d1):console['log'](getTimeStamp()+_0x1a36a9(0x1d2),_0x459bf8,(_0x2169d1-lasttime)/0x3e8),lasttime=_0x2169d1;}