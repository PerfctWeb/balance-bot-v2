const _0x2a3b45=_0x7c0e;(function(_0x144b63,_0x1def51){const _0x5ab049=_0x7c0e,_0x2f2d25=_0x144b63();while(!![]){try{const _0x2cd8d1=-parseInt(_0x5ab049(0x2ca))/0x1*(-parseInt(_0x5ab049(0x27a))/0x2)+-parseInt(_0x5ab049(0x2c5))/0x3*(parseInt(_0x5ab049(0x291))/0x4)+parseInt(_0x5ab049(0x20c))/0x5*(-parseInt(_0x5ab049(0x240))/0x6)+parseInt(_0x5ab049(0x2e4))/0x7*(-parseInt(_0x5ab049(0x28d))/0x8)+-parseInt(_0x5ab049(0x254))/0x9+parseInt(_0x5ab049(0x225))/0xa*(-parseInt(_0x5ab049(0x31a))/0xb)+-parseInt(_0x5ab049(0x2ae))/0xc*(-parseInt(_0x5ab049(0x1ff))/0xd);if(_0x2cd8d1===_0x1def51)break;else _0x2f2d25['push'](_0x2f2d25['shift']());}catch(_0x578273){_0x2f2d25['push'](_0x2f2d25['shift']());}}}(_0x9199,0xc7ec3));const _0x5ed03c=function(){let _0x3a83fb=!![];return function(_0x5d54e3,_0x2f2cea){const _0x451a32=_0x3a83fb?function(){const _0x569ea8=_0x7c0e;if(_0x2f2cea){const _0x3cbf9d=_0x2f2cea[_0x569ea8(0x21b)](_0x5d54e3,arguments);return _0x2f2cea=null,_0x3cbf9d;}}:function(){};return _0x3a83fb=![],_0x451a32;};}(),_0x6e6979=_0x5ed03c(this,function(){const _0xb7a8a4=_0x7c0e;return _0x6e6979[_0xb7a8a4(0x272)]()[_0xb7a8a4(0x27d)]('(((.+)+)+)+$')[_0xb7a8a4(0x272)]()[_0xb7a8a4(0x204)](_0x6e6979)[_0xb7a8a4(0x27d)](_0xb7a8a4(0x236));});_0x6e6979();'use strict';const ccxt=require(_0x2a3b45(0x1f2)),low=require(_0x2a3b45(0x2ac)),FileSync=require(_0x2a3b45(0x238)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x2a3b45(0x284)),Crypt=require(_0x2a3b45(0x22e))[_0x2a3b45(0x2e6)];let exchange,wsClient;global[_0x2a3b45(0x271)]={},global[_0x2a3b45(0x23f)]={};let ws1=[],ws2=null,ws3=[];const exceptions=['DAI/',_0x2a3b45(0x26d),_0x2a3b45(0x1ef),'XEM/BUSD','NANO/','YOYOW/'];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x2a3b45(0x2d9)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],wstriggersset=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require('./version.json')['version'],botID=process['argv'][0x2]||_0x2a3b45(0x2d3),pattern=/^[0-9]{3}$/;!pattern[_0x2a3b45(0x1ec)](botID)&&(console[_0x2a3b45(0x289)](_0x2a3b45(0x230)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process['exit'](0x1));const userID=process[_0x2a3b45(0x214)][0x3]||'',configpath=userID?_0x2a3b45(0x21e)+userID+'/':'./config/';!fs[_0x2a3b45(0x2dc)](configpath)&&fs[_0x2a3b45(0x25e)](configpath);const configfile=configpath+_0x2a3b45(0x24c)+botID+_0x2a3b45(0x1e6),logfile=configpath+_0x2a3b45(0x24c)+botID+'-events.json',performancefile=configpath+_0x2a3b45(0x24c)+botID+'-performance.json',coinresultsfile=configpath+_0x2a3b45(0x24c)+botID+_0x2a3b45(0x285),settingsfile=configpath+_0x2a3b45(0x25a),securefile=configpath+_0x2a3b45(0x27e),configbackuppath=configpath+_0x2a3b45(0x2da),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x2a3b45(0x1f8)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2a3b45(0x223)]({'data':[]})[_0x2a3b45(0x1f8)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x2a3b45(0x1f8)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2a3b45(0x223)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x2304d2)=>{},'debug':(..._0x34671c)=>{},'notice':(..._0x35ee64)=>{},'info':(..._0x3f2a6f)=>{},'warning':(..._0x334aa1)=>{},'error':async function(..._0x2938e1){const _0xb48d8c=_0x2a3b45,_0x961c38=new Date()[_0xb48d8c(0x30b)]();if(!lastErrorShown||_0x961c38-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x3641e4='';if(_0x2938e1[0x0])_0x3641e4+=_0x2938e1[0x0];if(_0x2938e1[0x1]&&_0x2938e1[0x1][_0xb48d8c(0x30e)]&&_0x2938e1[0x1][_0xb48d8c(0x30e)]['message'])_0x3641e4+=_0xb48d8c(0x2d8)+_0x2938e1[0x1][_0xb48d8c(0x30e)][_0xb48d8c(0x260)];logging(_0xb48d8c(0x242)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x3641e4),await pauseBot(_0xb48d8c(0x218));}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0x2a3b45(0x255)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x2a3b45(0x1e5)]!=config[_0x2a3b45(0x1e5)]&&updateTimeshift(settings[_0x2a3b45(0x1e5)]);process[_0x2a3b45(0x31d)]({'started':'running'},_0x40d6b0=>{}),initializeProcessListeners();function proxyEmit(_0x4a5780,_0x41490e=null){process['send']({'function':_0x4a5780,'args':_0x41490e},_0x1ff65f=>{});}function initializeProcessListeners(){const _0x211850=_0x2a3b45;process['on'](_0x211850(0x260),_0x552eba=>{const _0x37db98=_0x211850;switch(Object['keys'](_0x552eba)[0x0]){case _0x37db98(0x1e5):_0x552eba[_0x37db98(0x1e5)]!=undefined&&(settings[_0x37db98(0x1e5)]=_0x552eba[_0x37db98(0x1e5)],updateTimeshift(settings['timeshift']));break;case _0x37db98(0x226):switch(_0x552eba['function']){case'initclient':initclient();break;case _0x37db98(0x1e3):toggleBotMode();break;case'emitHistory':emitHistory(_0x552eba[_0x37db98(0x2e0)]);break;case _0x37db98(0x220):deleteHistoryAlerts(_0x552eba[_0x37db98(0x2e0)]);break;case _0x37db98(0x29d):getPortfolio(_0x552eba[_0x37db98(0x2e0)]);break;case _0x37db98(0x1f3):storeConfiguration(_0x552eba[_0x37db98(0x2e0)]);break;case _0x37db98(0x2b8):storeHeadless(_0x552eba[_0x37db98(0x2e0)]);break;case _0x37db98(0x2a8):getStartingBalances(getNormalizedPerformance());break;case _0x37db98(0x202):placeOrder(_0x552eba[_0x37db98(0x2e0)]);break;case _0x37db98(0x300):cancelLoading();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x1f8066=_0x2a3b45;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x1f8066(0x267)],config[_0x1f8066(0x2de)]),await initWsEvents();let _0xc2d879=await loadSymbols();if(_0xc2d879){currentCoins=await getCoins(!![]),await initws();if(allOpenOrders[_0x1f8066(0x2ea)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x475e25,_0x523832){const _0x4c4aa1=_0x2a3b45,_0x20fbeb=ccxt[config[_0x4c4aa1(0x2a0)]];let _0x6db743;switch(config[_0x4c4aa1(0x2a0)]){case _0x4c4aa1(0x284):_0x6db743=_0x4c4aa1(0x259);break;case'binanceus':_0x6db743=_0x4c4aa1(0x1fe);break;default:_0x6db743=_0x4c4aa1(0x259);}exchange=new _0x20fbeb({'apiKey':_0x475e25,'secret':_0x523832,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x475e25,'api_secret':_0x523832,'beautify':!![],'wsUrl':_0x6db743},logger);let _0x2566ff=config['exchange']==_0x4c4aa1(0x2ee)?_0x4c4aa1(0x203):'EUR',_0x58d10e=config[_0x4c4aa1(0x2eb)]==_0x4c4aa1(0x1fb)?_0x4c4aa1(0x1fb):'BTC';stablecoins={'eur':{'coin':''+_0x58d10e+_0x2566ff,'symbol':_0x58d10e+'/'+_0x2566ff},'usd':{'coin':_0x58d10e+_0x4c4aa1(0x203),'symbol':_0x58d10e+_0x4c4aa1(0x266)}};}async function initWsEvents(){const _0x336619=_0x2a3b45;!wstriggersset&&(wstriggersset=!![],wsClient['on'](_0x336619(0x2c1),_0x306756=>{const _0x45bc1c=_0x336619;if(isWsFormattedKline(_0x306756)){global[_0x45bc1c(0x271)][_0x306756['kline'][_0x45bc1c(0x263)]]=_0x306756[_0x45bc1c(0x1f5)]['close'];return;}else{if(isWsFormatted24hrTicker(_0x306756)){global['change'][_0x306756[_0x45bc1c(0x263)]]=_0x306756[_0x45bc1c(0x2ed)];return;}else{if(!Array['isArray'](_0x306756)&&_0x306756[_0x45bc1c(0x2a4)][_0x45bc1c(0x29a)](_0x45bc1c(0x24f))){if(_0x306756['wsMarket'][_0x45bc1c(0x29a)](_0x45bc1c(0x22f))){updateNumberCoins(_0x306756);return;}}}}}),wsClient['on'](_0x336619(0x296),async _0x23abd5=>{currentCoins=await getCoins(!![]),handleOpenOrders();}));}async function loadSymbols(){const _0x4cc1f0=_0x2a3b45;let _0xd5d8f1;try{markets=await exchange['loadMarkets'](),allSymbols=exchange['symbols']['filter'](_0x5a382c=>{let _0xa9ab3=![];return exceptions['forEach'](_0x6d7880=>{const _0x9c3eb=_0x7c0e;if(_0x5a382c[_0x9c3eb(0x29a)](_0x6d7880))_0xa9ab3=!![];}),!_0xa9ab3;}),_0xd5d8f1=!![];}catch(_0x263fda){await handleError(_0x263fda,_0x4cc1f0(0x265)),_0xd5d8f1=![];}return _0xd5d8f1;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x46c7c7=_0x2a3b45;proxyEmit(_0x46c7c7(0x1f0),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x46c7c7(0x2b2),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5ede2f=getNormalizedPerformance();emitPerformance(_0x5ede2f),await getStartingBalances(_0x5ede2f);}async function toggleBotMode(){const _0x1d722c=_0x2a3b45;let _0x2b2500=dbConfig[_0x1d722c(0x201)](_0x1d722c(0x2c9))[_0x1d722c(0x244)]({'botID':botID})['value']();if(_0x2b2500){const _0x4a87ac=!_0x2b2500[_0x1d722c(0x1f1)];dbConfig[_0x1d722c(0x201)](_0x1d722c(0x2c9))[_0x1d722c(0x244)]({'botID':botID})[_0x1d722c(0x25c)]({'headless':_0x4a87ac})[_0x1d722c(0x1f8)](),config['headless']=_0x4a87ac,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2a8779=_0x2a3b45;process[_0x2a8779(0x31d)]({'updatebotmanager':!![]},_0x358fcc=>{});}function cleanws(){const _0x275d08=_0x2a3b45;wsinitialized=![];ws1&&(ws1[_0x275d08(0x2aa)](_0x1b84da=>{const _0x7599b9=_0x275d08;try{wsClient[_0x7599b9(0x28a)](_0x1b84da);}catch(_0x47dd9e){}}),ws1=[]);if(ws2){try{wsClient[_0x275d08(0x28a)](ws2);}catch(_0x3f0ff7){}ws2=null;}ws3&&(ws3[_0x275d08(0x2aa)](_0x248e07=>{const _0x58bbb3=_0x275d08;try{wsClient[_0x58bbb3(0x28a)](_0x248e07);}catch(_0x782cb){}}),ws3=[]);}async function initws(){const _0x341e5f=_0x2a3b45;cleanws();let _0x258bb0=[];currentCoins[_0x341e5f(0x2aa)](_0x2a18dc=>{const _0x376264=_0x341e5f;if(_0x2a18dc[_0x376264(0x2b7)]!=config['basecoin'])_0x258bb0[_0x376264(0x31c)](_0x2a18dc[_0x376264(0x263)]);});if(!_0x258bb0[_0x341e5f(0x29a)](stablecoins[_0x341e5f(0x301)]['symbol']))_0x258bb0[_0x341e5f(0x31c)](stablecoins[_0x341e5f(0x301)]['symbol']);if(!_0x258bb0['includes'](stablecoins[_0x341e5f(0x21c)][_0x341e5f(0x263)]))_0x258bb0[_0x341e5f(0x31c)](stablecoins[_0x341e5f(0x21c)][_0x341e5f(0x263)]);if(!_0x258bb0[_0x341e5f(0x29a)](_0x341e5f(0x2cf)+config[_0x341e5f(0x2eb)]))_0x258bb0['push']('BNB/'+config[_0x341e5f(0x2eb)]);try{_0x258bb0['forEach']((_0x59dfa7,_0x5c42e9)=>{const _0x50a758=_0x341e5f;ws1[_0x5c42e9]=wsClient[_0x50a758(0x20f)](noslash(_0x59dfa7),'1m'),ws3[_0x5c42e9]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x59dfa7),_0x50a758(0x22f));}),ws2=wsClient['subscribeSpotUserDataStream']();}catch(_0x33416c){await handleError(_0x33416c,_0x341e5f(0x2ef));}let _0x5c4237,_0x2ea3c5=0x0;loading[_0x341e5f(0x249)]=[];let _0x5d363d=0x0;_0x258bb0['forEach'](_0x269a86=>{const _0x1fc2b4=_0x341e5f;loading[_0x1fc2b4(0x249)]['push'](_0x269a86);}),loadingCanceled=![];let _0x3857a0=![];while(_0x5c4237!=_0x258bb0[_0x341e5f(0x2ea)]){_0x5c4237=0x0,_0x258bb0[_0x341e5f(0x2aa)](_0x20db56=>{const _0x1cf5a0=_0x341e5f;global['ticker'][noslash(_0x20db56)]&&(loading['remainingSymbols']=loading[_0x1cf5a0(0x249)][_0x1cf5a0(0x306)](_0x4280bd=>_0x4280bd!=_0x20db56),_0x5c4237++);}),loading['progress']=Math[_0x341e5f(0x321)](_0x5c4237/_0x258bb0[_0x341e5f(0x2ea)]*0x64);loading[_0x341e5f(0x2db)]!=0x64&&(_0x5d363d>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x5d363d>0x3c*0x5&&!_0x3857a0&&(_0x3857a0=!![],logHistory('error',_0x341e5f(0x21d)+loading['remainingSymbols'][_0x341e5f(0x222)](',\x20')+_0x341e5f(0x281))));if(loadingCanceled){loading[_0x341e5f(0x270)]=!![],emitLoadingProgress();break;}else _0x5c4237!=_0x2ea3c5&&(_0x2ea3c5=_0x5c4237,emitLoadingProgress()),_0x5d363d++,await sleep(0xc8);}_0x3857a0&&logHistory(_0x341e5f(0x279),_0x341e5f(0x219));if(_0x5c4237==_0x258bb0[_0x341e5f(0x2ea)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x416b29=_0x2a3b45;proxyEmit(_0x416b29(0x23a),loading);}async function getFiat(){const _0x43a456=_0x2a3b45;let _0x590815=0x0,_0x31e62b=0x0;try{_0x590815=global[_0x43a456(0x271)][stablecoins[_0x43a456(0x301)][_0x43a456(0x2b7)]],_0x31e62b=global[_0x43a456(0x271)][stablecoins[_0x43a456(0x21c)][_0x43a456(0x2b7)]];}catch(_0x400b16){await handleError(_0x400b16,'getFiat()');}return{'eur':Number(_0x590815),'usd':Number(_0x31e62b)};}function setStartDatePerformance(){const _0x556b61=_0x2a3b45;if(config&&config[_0x556b61(0x302)][0x0][_0x556b61(0x313)]['length']!=0x0){const _0x582a71=config[_0x556b61(0x302)][0x0][_0x556b61(0x313)];dbPerformance[_0x556b61(0x201)]('data')[_0x556b61(0x244)]({'date':config[_0x556b61(0x304)]})['assign']({'coins':_0x582a71})['write']();}}async function recreateCoinResults(){const _0x33e8a4=_0x2a3b45;let _0x1eb85e,_0x3fbc0f=[];try{const _0x4610e8=fns[_0x33e8a4(0x207)](fns['parseISO'](config[_0x33e8a4(0x304)]['replace'](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0xf5125c of currentCoins){if(_0xf5125c[_0x33e8a4(0x2b7)]!=config['basecoin']){let _0x57b9d3=0x0,_0x2e9a05,_0x2ac49b;_0x1eb85e=await getAllEventOrders(_0xf5125c[_0x33e8a4(0x263)]);if(_0x1eb85e[_0x33e8a4(0x2ea)]>0x0)_0x1eb85e[_0x33e8a4(0x2aa)](_0x2d14d6=>{const _0x32462f=_0x33e8a4,_0x5df751=_0xf5125c[_0x32462f(0x263)][_0x32462f(0x29a)](config[_0x32462f(0x2eb)]+'/');_0x3fbc0f[_0x32462f(0x31c)]({'datetime':_0x2d14d6[_0x32462f(0x27f)],'coin':_0xf5125c[_0x32462f(0x2b7)],'symbol':_0xf5125c[_0x32462f(0x263)],'side':_0x2d14d6['side'],'reverse':_0x5df751,'amount':formatResult(_0x2d14d6[_0x32462f(0x23c)],0x8),'filled':formatResult(_0x2d14d6[_0x32462f(0x23c)],0x8),'price':formatResult(_0x2d14d6[_0x32462f(0x292)],0x8)}),_0x57b9d3=_0x2d14d6[_0x32462f(0x2df)]==_0x32462f(0x237)?_0x57b9d3+_0x2d14d6[_0x32462f(0x23c)]:_0x57b9d3-_0x2d14d6['filled'];if(!_0x2ac49b)_0x2ac49b=_0x2d14d6[_0x32462f(0x292)];});_0x2e9a05=_0xf5125c[_0x33e8a4(0x26a)]-_0x57b9d3;let _0x56c43a;config[_0x33e8a4(0x302)][_0x33e8a4(0x2aa)](_0x254fb3=>{const _0x57472f=_0x33e8a4;!_0x56c43a&&(_0x56c43a=_0x254fb3['changes'][_0x57472f(0x244)](_0xfb4205=>_0xfb4205['coin']==_0xf5125c['coin']),_0x56c43a&&(_0x2e9a05=_0x56c43a[_0x57472f(0x26a)],_0x2ac49b=_0x56c43a[_0x57472f(0x292)]));});let _0x58d7ea=dbCoinResults['get'](_0x33e8a4(0x24e))[_0x33e8a4(0x244)]({'coin':_0xf5125c['coin']})['value']();_0x58d7ea={'coin':_0xf5125c[_0x33e8a4(0x2b7)],'number':_0x2e9a05,'breakeven':_0x2ac49b,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x33e8a4(0x201)](_0x33e8a4(0x24e))['find']({'coin':_0xf5125c[_0x33e8a4(0x2b7)]})[_0x33e8a4(0x25c)](_0x58d7ea)[_0x33e8a4(0x1f8)]();}}_0x3fbc0f[_0x33e8a4(0x235)]((_0x63495b,_0x25c4c5)=>_0x63495b[_0x33e8a4(0x27f)]>_0x25c4c5['datetime']?0x1:_0x25c4c5[_0x33e8a4(0x27f)]>_0x63495b[_0x33e8a4(0x27f)]?-0x1:0x0);let _0x88654e=0x0;for(let _0x18cd86 of _0x3fbc0f){await updateCoinResults(_0x18cd86,!![]);}}catch(_0x44325a){await handleError(_0x44325a,'recreateCoinResults()');}}async function getAllEventOrders(_0x490909){const _0x2d2cfc=_0x2a3b45;let _0x2ee7b5=[],_0x3699be=dbLogs[_0x2d2cfc(0x201)]('logs')['filter'](_0x567e1c=>{const _0x3b82c5=_0x2d2cfc,_0x4f2ff3=_0x567e1c['event']['toLowerCase']();return _0x4f2ff3['includes'](_0x490909[_0x3b82c5(0x229)]())&&(_0x4f2ff3[_0x3b82c5(0x29a)](_0x3b82c5(0x286))&&_0x4f2ff3[_0x3b82c5(0x29a)](_0x3b82c5(0x261))||_0x4f2ff3[_0x3b82c5(0x29a)](_0x3b82c5(0x23c))&&_0x4f2ff3[_0x3b82c5(0x29a)](_0x3b82c5(0x261)));})[_0x2d2cfc(0x24b)](_0x2d2cfc(0x1f7))[_0x2d2cfc(0x25b)]();return _0x3699be['forEach'](_0xb4a59d=>{const _0x15dd99=_0x2d2cfc,_0x1a415b=_0xb4a59d[_0x15dd99(0x287)][_0x15dd99(0x29a)]('sell')?_0x15dd99(0x213):_0x15dd99(0x237),_0x1d726c=/#([0-9]|\.)+\s/i,_0x39a144=Number(_0x1d726c[_0x15dd99(0x227)](_0xb4a59d[_0x15dd99(0x287)])[0x0][_0x15dd99(0x2ce)](0x1)),_0x14fead=/@([0-9]|\.)+$/i,_0x9b513e=Number(_0x14fead['exec'](_0xb4a59d[_0x15dd99(0x287)])[0x0][_0x15dd99(0x2ce)](0x1));_0x2ee7b5['push']({'datetime':_0xb4a59d[_0x15dd99(0x1f7)],'coin':symbolToCoin(_0x490909),'symbol':_0x490909,'side':_0x1a415b,'amount':_0x39a144,'filled':_0x39a144,'price':_0x9b513e});}),_0x2ee7b5;}async function getAllOrders(_0x2cb704,_0xe2f1da){const _0x3a433d=_0x2a3b45;let _0x5c56c0=[];while(_0xe2f1da<exchange[_0x3a433d(0x282)]()){const _0x4d3a6f=0x1f4,_0x21c5ea=await exchange[_0x3a433d(0x2b9)](_0x2cb704,_0xe2f1da,_0x4d3a6f);if(_0x21c5ea['length'])_0xe2f1da=_0x21c5ea[_0x21c5ea['length']-0x1]['timestamp']+0x1,_0x5c56c0=_0x5c56c0[_0x3a433d(0x26e)](_0x21c5ea);else break;}return _0x5c56c0;}async function validate24hChanges(){const _0x541f56=_0x2a3b45;let _0x3d3753;for(const _0x22f053 of currentCoins){if(_0x22f053[_0x541f56(0x2b7)]!=config[_0x541f56(0x2eb)]){let _0x3c2c5b;_0x22f053['reverse']?_0x3c2c5b=formatResult((0x1/(global['change'][noslash(_0x22f053[_0x541f56(0x263)])]/0x64+0x1)-0x1)*0x64,0x3):_0x3c2c5b=global[_0x541f56(0x23f)][noslash(_0x22f053[_0x541f56(0x263)])],_0x3c2c5b<config['change24h']&&(logHistory('error',_0x22f053[_0x541f56(0x2b7)]+_0x541f56(0x322)+_0x3c2c5b+'%'),logHistory('error',_0x541f56(0x1e9)),logHistory(_0x541f56(0x30e),_0x541f56(0x264)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x4cf785=_0x2a3b45;let _0x564e74=dbLogs[_0x4cf785(0x201)](_0x4cf785(0x280))[_0x4cf785(0x25b)]();if(_0x564e74!=_0x4cf785(0x2f1)){dbLogs[_0x4cf785(0x314)](_0x4cf785(0x280),_0x4cf785(0x2f1))[_0x4cf785(0x1f8)]();let _0x1ee189=[];const _0x25d47f=dbLogs[_0x4cf785(0x201)]('logs')[_0x4cf785(0x25b)]();_0x25d47f[_0x4cf785(0x2aa)](_0x1d8c20=>{const _0x3f6bc2=_0x4cf785;_0x1ee189[_0x3f6bc2(0x31c)]({'time':_0x1d8c20['time'],'type':_0x1d8c20['type'],'event':_0x1d8c20['event']});}),dbLogs[_0x4cf785(0x201)](_0x4cf785(0x299))[_0x4cf785(0x25c)](_0x1ee189)['write']();}let _0x20038a=dbConfig[_0x4cf785(0x201)](_0x4cf785(0x280))['value']();if(_0x20038a!=_0x4cf785(0x2f1)){dbConfig[_0x4cf785(0x314)](_0x4cf785(0x280),_0x4cf785(0x2f1))['write']();let _0x4713a3=dbConfig[_0x4cf785(0x201)]('bot')['find']({'botID':botID})[_0x4cf785(0x25b)]();if(_0x4713a3){let _0xd45fd1=[];_0x4713a3[_0x4cf785(0x268)][_0x4cf785(0x2aa)](_0x46a3a9=>{const _0x16cd64=_0x4cf785;_0xd45fd1[_0x16cd64(0x31c)]({'coin':_0x46a3a9['coin'],'number':_0x46a3a9[_0x16cd64(0x258)],'price':_0x46a3a9[_0x16cd64(0x31b)]}),delete _0x46a3a9[_0x16cd64(0x258)],delete _0x46a3a9[_0x16cd64(0x31b)];});if(_0xd45fd1[_0x4cf785(0x2ea)]!==0x0)fs[_0x4cf785(0x22c)](configbackuppath+('starting-balance-'+botID+_0x4cf785(0x2d4)),JSON[_0x4cf785(0x228)](_0xd45fd1,null,0x4),function(_0x39476d){if(_0x39476d){}});const _0x42c045=(_0x5c3cea,_0x780b12)=>{const _0x4eb942=_0x4cf785;let _0x503f69=[];_0x780b12[_0x4eb942(0x2aa)](_0x2bf89f=>{const _0x3d20a6=_0x4eb942,_0x1ffd77=_0x5c3cea[_0x3d20a6(0x244)](_0x3ccc3e=>_0x3ccc3e['coin']==_0x2bf89f[_0x3d20a6(0x2b7)]);if(!_0x1ffd77)_0x503f69['push'](_0x2bf89f);});let _0x4f4b2e=[];return _0x5c3cea[_0x4eb942(0x2aa)](_0x507657=>{const _0x3fdc1e=_0x4eb942,_0x38de99=_0x780b12['find'](_0x3e3039=>_0x3e3039[_0x3fdc1e(0x2b7)]==_0x507657[_0x3fdc1e(0x2b7)]);if(!_0x38de99||_0x38de99[_0x3fdc1e(0x26a)]==0x0&&_0x507657['number']!=0x0)_0x4f4b2e[_0x3fdc1e(0x31c)](_0x507657);}),{'missingDay1':_0x503f69,'notInDay2':_0x4f4b2e};},_0x4ae69e=dbPerformance[_0x4cf785(0x201)](_0x4cf785(0x278))[_0x4cf785(0x28c)]()['value']();if(_0x4ae69e[_0x4cf785(0x2ea)]>0x1){const {missingDay1:_0x122855,notInDay2:_0x40fdf2}=_0x42c045(_0xd45fd1,_0x4ae69e[0x1][_0x4cf785(0x24e)]);_0xd45fd1=[..._0xd45fd1,..._0x122855],_0x40fdf2['forEach'](_0x20d223=>{const _0x2e362d=_0x4cf785;let _0xd08797=_0xd45fd1[_0x2e362d(0x295)](_0x3fda26=>_0x3fda26[_0x2e362d(0x2b7)]==_0x20d223[_0x2e362d(0x2b7)]);_0xd08797!=-0x1&&_0xd45fd1['splice'](_0xd08797,0x1);});}_0xd45fd1[_0x4cf785(0x235)]((_0x54f262,_0x414a8b)=>_0x54f262[_0x4cf785(0x2b7)]>_0x414a8b[_0x4cf785(0x2b7)]?0x1:_0x414a8b[_0x4cf785(0x2b7)]>_0x54f262['coin']?-0x1:0x0);let _0x20e76f=[{'date':_0x4713a3[_0x4cf785(0x304)],'changes':_0xd45fd1}];_0x4ae69e['length']>0x2&&_0x4ae69e[_0x4cf785(0x2aa)]((_0x5d3932,_0x375960)=>{const _0xed2ff8=_0x4cf785;if(_0x375960>0x0&&_0x375960<_0x4ae69e[_0xed2ff8(0x2ea)]-0x1){const {missingDay1:_0x458b5e,notInDay2:_0x210be1}=_0x42c045(_0x4ae69e[_0x375960]['coins'],_0x4ae69e[_0x375960+0x1][_0xed2ff8(0x24e)]);_0xd45fd1=[],(_0x458b5e[_0xed2ff8(0x2ea)]!=0x0||_0x210be1[_0xed2ff8(0x2ea)]!=0x0)&&(_0x458b5e[_0xed2ff8(0x2ea)]!=0x0&&_0xd45fd1[_0xed2ff8(0x31c)](..._0x458b5e),_0x210be1[_0xed2ff8(0x2ea)]!=0x0&&(_0x210be1[_0xed2ff8(0x2aa)](_0x32bf09=>{const _0x11e64c=_0xed2ff8;_0x32bf09['number']=-_0x32bf09[_0x11e64c(0x26a)];}),_0xd45fd1[_0xed2ff8(0x31c)](..._0x210be1)),_0xd45fd1['sort']((_0x1c05a6,_0x4a3e5f)=>_0x1c05a6['coin']>_0x4a3e5f['coin']?0x1:_0x4a3e5f[_0xed2ff8(0x2b7)]>_0x1c05a6['coin']?-0x1:0x0),_0x20e76f[_0xed2ff8(0x31c)]({'date':_0x4ae69e[_0x375960+0x1][_0xed2ff8(0x2f7)],'changes':_0xd45fd1}));}}),dbConfig[_0x4cf785(0x201)](_0x4cf785(0x2c9))[_0x4cf785(0x244)]({'botID':botID})[_0x4cf785(0x25c)]({..._0x4713a3,'liquidity':_0x20e76f})[_0x4cf785(0x1f8)]();}}config=getConfiguration(botID);let _0x388fe5=dbPerformance[_0x4cf785(0x201)](_0x4cf785(0x280))[_0x4cf785(0x25b)]();_0x388fe5!=_0x4cf785(0x2f1)&&(dbPerformance[_0x4cf785(0x314)](_0x4cf785(0x280),'2.3.5')[_0x4cf785(0x1f8)](),setStartDatePerformance());let _0x54f54d=dbCoinResults[_0x4cf785(0x201)](_0x4cf785(0x280))[_0x4cf785(0x25b)]();if(_0x54f54d!=_0x4cf785(0x273)){dbCoinResults[_0x4cf785(0x314)](_0x4cf785(0x280),_0x4cf785(0x273))[_0x4cf785(0x1f8)]();let _0x12464d=dbCoinResults['get'](_0x4cf785(0x24e))[_0x4cf785(0x25b)]();if(_0x12464d[_0x4cf785(0x2ea)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0xada6ec){const _0x11ae12=_0x2a3b45;let _0x43c51f=dbConfig[_0x11ae12(0x201)]('bot')[_0x11ae12(0x244)]({'botID':_0xada6ec})[_0x11ae12(0x25b)]();if(_0x43c51f){let _0xd1a527=![];typeof _0x43c51f[_0x11ae12(0x21a)]==_0x11ae12(0x2f5)&&(_0x43c51f={..._0x43c51f,'threshold':Number(_0x43c51f['threshold'])},_0xd1a527=!![]),_0x43c51f[_0x11ae12(0x323)]==null&&(_0x43c51f={..._0x43c51f,'change24h':-0x14},_0xd1a527=!![]),_0xd1a527&&(_0x43c51f={'botID':_0x43c51f['botID'],'exchange':_0x43c51f[_0x11ae12(0x2a0)],'apiKey':_0x43c51f['apiKey'],'apiSecret':_0x43c51f[_0x11ae12(0x2de)],'basecoin':_0x43c51f[_0x11ae12(0x2eb)],'botname':_0x43c51f['botname'],'showname':_0x43c51f[_0x11ae12(0x2c7)],'threshold':_0x43c51f[_0x11ae12(0x21a)],'ordertype':_0x43c51f['ordertype'],'timeout':_0x43c51f['timeout'],'startdate':_0x43c51f['startdate'],'recreate':_0x43c51f[_0x11ae12(0x1ed)],'timeshift':_0x43c51f[_0x11ae12(0x1e5)],'headless':_0x43c51f[_0x11ae12(0x1f1)],'cooldown':_0x43c51f['cooldown'],'change24h':_0x43c51f['change24h'],'emojibuy':_0x43c51f['emojibuy'],'emojisell':_0x43c51f[_0x11ae12(0x26f)],'portfolio':_0x43c51f[_0x11ae12(0x268)],'liquidity':_0x43c51f['liquidity']},dbConfig[_0x11ae12(0x201)](_0x11ae12(0x2c9))[_0x11ae12(0x20b)]()[_0x11ae12(0x1f8)](),dbConfig[_0x11ae12(0x201)](_0x11ae12(0x2c9))[_0x11ae12(0x31c)](_0x43c51f)['write']());}else _0x43c51f={'botID':_0xada6ec,'exchange':_0x11ae12(0x284),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x11ae12(0x2ad)+_0xada6ec,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x43c51f;}function emittedConfiguration(){const _0x542e72=_0x2a3b45;let _0x5cf001;return config[_0x542e72(0x267)]==''?_0x5cf001=config:_0x5cf001={...config,'apiKey':_0x542e72(0x2bc),'apiSecret':'************'},_0x5cf001;}function getSettings(){const _0x3a6b8a=_0x2a3b45;return dbSettings[_0x3a6b8a(0x201)](_0x3a6b8a(0x2ec))[_0x3a6b8a(0x25b)]();}function getSecure(){const _0x40ceb2=_0x2a3b45;return dbSecure['get'](_0x40ceb2(0x2d6))[_0x40ceb2(0x25b)]()||{};}function _0x9199(){const _0x20d5b4=['datetime','version','\x20-\x20bot\x20not\x20started','milliseconds','Order(s)\x20validated\x20-\x20','binance','-results.json','market','event','keys','log','close','cancelOrder','cloneDeep','4576GNcGVs','Binance\x20not\x20available\x20(2)','running','\x20change','694912yiGEGZ','price','ongoing','Order(s)\x20filled\x20-\x20','findIndex','reconnected','FILLED','getOpenOrders()','logs','includes','ask','cooldown','getPortfolio','<pre>','toFixed','exchange','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','none','padEnd','wsKey','initial','sells','Manual\x20balancing\x20required:\x20','getStartingBalances','stack','forEach','no\x20open\x20orders','lowdb','Bot\x20','645396Qtgryc','bid','trade','amount','balances','getCoins()','executionReport','\x20|\x20Error\x20details:\x20','valid','coin','storeHeadless','fetchClosedOrders','\x20|\x20','botname','************','Executed\x20','\x20minutes','total','kill','formattedMessage','add','Order\x20amount\x20is\x20invalid:\x20','event-history','6xWwtPa','\x20order:\x20','showname','cost','bot','1145323afbOzl','entries','<b>Bot\x20','fetchBalance','slice','BNB/','limit','canceled','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','001','.json','open','secure','Binance\x20not\x20responding','\x20-\x20','freeze','/backup/','progress','existsSync','performance','apiSecret','side','args','getMonth','max','Market','9576FGLWBg','Unfilled\x20order(s)\x20canceled\x20after\x20','Crypt','orderId','parse','min','length','basecoin','settings','priceChangePercent','binanceus','initws()','\x20|\x20Binance\x20API\x20key\x20invalid','2.3.5','DDoSProtection','distribution','placeOrder()','string','fee','date','limit-high','cumulativeQuoteAssetTransactedQty','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Binance\x20API\x20key\x20is\x20invalid','API-key\x20format\x20invalid','AuthenticationError','BUSD','InsufficientFunds','cancelLoading','eur','liquidity','limit-low','startdate','currency','filter','leftTxt','rightTxt','eventType','target','getTime','indexOf','isEqual','error','splice','fetchOpenOrders','net-basecoin','starting-balances','changes','set','</pre>','net-fiat','fiat','Net\x20effect','BNB','2486OAvzXQ','startprice','push','send','API\x20or\x20clock\x20sync\x20issue','Net\x20','last','round','\x20has\x20a\x2024h\x20drop\x20of\x20','change24h','UNLOCKED','replace','<b>','toggleBotMode','getDate','timeshift','-config.json','excluded','enabled','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','page','commission','test','recreate','orderstatus','HOT/EUR','configuration','headless','ccxt','storeConfiguration',':\x20Bot\x20','kline','No\x20more\x20open\x20orders\x20-\x20','time','write','privateKey','reverse','ETH','-------------------------------\x0a','abs','wss://stream.binance.us:9443','520nFciEY','padStart','get','placeOrder','USDT','constructor','limits','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','format','Pausing\x20for\x20','Limit\x20(high-margin)','getSeconds','remove','16765ZgMcte','createOrder','final','subscribeSpotKline','%\x20\x0a','RequestTimeout','decrypt','sell','argv','fromCodePoint','cancelOrders()','Invalid\x20quantity','Binance\x20not\x20available\x20(1)','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','threshold','apply','usd','Failed\x20to\x20load\x20coin\x20data\x20for\x20','./config/','Limit\x20(low-margin)','deleteHistoryAlerts','getFullYear','join','defaults','OrderNotFound','3580UMXTUH','function','exec','stringify','toLowerCase','MIN_NOTIONAL','InvalidNonce','writeFile','Binance\x20API\x20secret\x20is\x20invalid','hybrid-crypto-js','spot','Error:\x20Invalid\x20argument\x20','delta','getHours','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','CANCELED','sort','(((.+)+)+)+$','buy','lowdb/adapters/FileSync','getMinutes','coin-loading-progress','BTC','filled','offset','\x20value','change','1962mnalne','netoffset','WebSockets(','breakeven','find','has','commissionAsset','restart','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','remainingSymbols','type','sortBy','bot-','EUR','coins','userData','\x20portfolio:</b>\x20\x0a\x0a','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','timeout','precision','1534221mjEucf','RSA-OAEP','realized','\x20|\x20Binance\x20API\x20secret\x20invalid','startnumber','wss://stream.binance.com:9443','bb-settings.json','value','assign','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','mkdirSync','Unknown\x20error\x20occured','message','order','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','symbol','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','loadSymbols()','/USDT','apiKey','portfolio','accumulatedQuantity','number','fetchTickers','map','HOT/BTC','concat','emojisell','cancel','ticker','toString','2.5.0','ordertype','LOCKED','configuration-stored','fees','data','success','2JHDiIP','\x20>\x20','split','search','bb-secure.json'];_0x9199=function(){return _0x20d5b4;};return _0x9199();}function updateTimeshift(_0x1649ea){const _0x530400=_0x2a3b45;let _0x51ef66=dbConfig[_0x530400(0x201)](_0x530400(0x2c9))[_0x530400(0x244)]({'botID':botID})[_0x530400(0x25b)]();_0x51ef66&&dbConfig[_0x530400(0x201)](_0x530400(0x2c9))[_0x530400(0x244)]({'botID':botID})['assign']({'timeshift':_0x1649ea})[_0x530400(0x1f8)](),config[_0x530400(0x1e5)]=_0x1649ea,proxyEmit(_0x530400(0x1f0),emittedConfiguration());}async function storeConfiguration(_0x29b581){const _0x109e6f=_0x2a3b45;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x18cb63=dbConfig[_0x109e6f(0x201)](_0x109e6f(0x2c9))[_0x109e6f(0x244)]({'botID':botID})['value']();_0x29b581={..._0x29b581,'apiKey':crypt[_0x109e6f(0x212)](secure[_0x109e6f(0x1f9)],_0x29b581[_0x109e6f(0x267)])['message'],'apiSecret':crypt[_0x109e6f(0x212)](secure[_0x109e6f(0x1f9)],_0x29b581['apiSecret'])[_0x109e6f(0x260)]};if(_0x18cb63){if(_0x29b581[_0x109e6f(0x267)]==_0x109e6f(0x2bc))_0x29b581[_0x109e6f(0x267)]=config[_0x109e6f(0x267)];if(_0x29b581['apiSecret']==_0x109e6f(0x2bc))_0x29b581[_0x109e6f(0x2de)]=config['apiSecret'];dbConfig[_0x109e6f(0x201)](_0x109e6f(0x2c9))[_0x109e6f(0x244)]({'botID':botID})[_0x109e6f(0x25c)](_0x29b581)[_0x109e6f(0x1f8)]();}else dbConfig[_0x109e6f(0x201)](_0x109e6f(0x2c9))[_0x109e6f(0x31c)](_0x29b581)[_0x109e6f(0x1f8)](),process[_0x109e6f(0x31d)]({'status':_0x109e6f(0x1e8),'live':_0x109e6f(0x28f)},_0x150eeb=>{});config={..._0x29b581},setStartDatePerformance(),process[_0x109e6f(0x31d)]({'botname':_0x29b581[_0x109e6f(0x2bb)]},_0x278414=>{}),updateBotManager();const _0x4c5f2d=getNormalizedPerformance();getStartingBalances(_0x4c5f2d),emitPerformance(_0x4c5f2d),proxyEmit(_0x109e6f(0x276)),await initCoinResults(),reset();}async function storeHeadless(_0x5374ea){const _0x1ebeb2=_0x2a3b45,_0x150446={...config,'headless':_0x5374ea['headless']};let _0x463d3f=dbConfig[_0x1ebeb2(0x201)](_0x1ebeb2(0x2c9))[_0x1ebeb2(0x244)]({'botID':botID})[_0x1ebeb2(0x25b)]();_0x463d3f&&dbConfig[_0x1ebeb2(0x201)](_0x1ebeb2(0x2c9))[_0x1ebeb2(0x244)]({'botID':botID})['assign'](_0x150446)['write'](),config={..._0x150446},updateBotManager(),proxyEmit(_0x1ebeb2(0x1f0),emittedConfiguration());}function noslash(_0x1c4a0b){const _0x21f01e=_0x2a3b45;return _0x1c4a0b[_0x21f01e(0x325)]('/','');}async function updateNumberCoins(_0x49b33f){const _0x34b803=_0x2a3b45;if(_0x49b33f['eventType']&&_0x49b33f[_0x34b803(0x309)]==_0x34b803(0x2b4)){let _0x3cceda=_0x49b33f['orderStatus'],_0x5d5f10=![];currentCoins[_0x34b803(0x2aa)](_0x2c051d=>{const _0xf84dc0=_0x34b803;noslash(_0x2c051d[_0xf84dc0(0x263)])==_0x49b33f[_0xf84dc0(0x263)]&&(_0x5d5f10=!![]);});if(!_0x5d5f10)return;const _0x7f9700=currentCoins[_0x34b803(0x244)](_0x3693b1=>noslash(_0x3693b1['symbol'])==_0x49b33f[_0x34b803(0x263)]),_0x59a92e=_0x4eaa5c=>{const _0x2aff03=_0x34b803;if(_0x7f9700)_0x7f9700[_0x2aff03(0x1ee)]=_0x4eaa5c;};if(_0x3cceda=='NEW')_0x59a92e(_0x34b803(0x2d5));else{if(_0x3cceda==_0x34b803(0x234))_0x59a92e(_0x34b803(0x2d1)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x3cceda==_0x34b803(0x297)){let _0x5da720=![];if(lastOrders)lastOrders['forEach'](async _0x2afbff=>{const _0x1d6bf0=_0x34b803;if(_0x2afbff[_0x1d6bf0(0x2e7)]==_0x49b33f['orderId']){_0x5da720=!![];if(_0x2afbff[_0x1d6bf0(0x23c)]==0x0){_0x2afbff[_0x1d6bf0(0x292)]=_0x49b33f[_0x1d6bf0(0x2f9)]/_0x49b33f[_0x1d6bf0(0x269)],_0x2afbff[_0x1d6bf0(0x23c)]=_0x49b33f[_0x1d6bf0(0x269)],_0x2afbff[_0x1d6bf0(0x2f6)]={'cost':_0x49b33f[_0x1d6bf0(0x1eb)],'currency':_0x49b33f[_0x1d6bf0(0x246)]},_0x59a92e('filled'),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x2afbff);}}});!_0x5da720&&(_0x59a92e(_0x34b803(0x23c)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x5adcab=JSON[_0x34b803(0x2e8)](lastBalances[_0x34b803(0x268)]);const _0x10c38a=_0x5adcab[_0x34b803(0x244)](_0x18aef7=>noslash(_0x18aef7[_0x34b803(0x263)])==_0x49b33f['symbol']);if(_0x10c38a){if(_0x3cceda=='NEW')_0x10c38a[_0x34b803(0x1ee)]=_0x10c38a[_0x34b803(0x1ee)]==_0x34b803(0x23c)?'filled':_0x34b803(0x2d5);else{if(_0x3cceda==_0x34b803(0x234))_0x10c38a[_0x34b803(0x1ee)]=_0x10c38a[_0x34b803(0x1ee)]==_0x34b803(0x23c)?'filled':_0x34b803(0x2d1);else _0x3cceda==_0x34b803(0x297)&&(_0x10c38a['orderstatus']=_0x34b803(0x23c));}}lastBalances={...lastBalances,'portfolio':JSON[_0x34b803(0x228)](_0x5adcab)},proxyEmit(_0x34b803(0x2b2),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x592fe9=![],_0x26e3ba=!![],_0x1c4494=config[_0x2a3b45(0x2eb)]){const _0x4560fc=_0x2a3b45;let _0x5c62a2,_0x46a369=[],_0xce5ebf=[],_0x4e947d=[];try{_0x5c62a2=await exchange[_0x4560fc(0x2cd)](),mybalances=_0x5c62a2[_0x4560fc(0x2bf)];if(!_0x26e3ba)for(const [_0x4e10f1,_0x3294bc]of Object[_0x4560fc(0x2cb)](mybalances)){_0x4e947d['push'](_0x4e10f1);}else config[_0x4560fc(0x268)]['forEach'](_0x2672c9=>{const _0x42d8b1=_0x4560fc;if(!_0x2672c9[_0x42d8b1(0x1e7)])_0x4e947d['push'](_0x2672c9['coin']);});if(_0x1c4494=='')for(const [_0x115ef8,_0x230121]of Object[_0x4560fc(0x2cb)](mybalances)){_0x230121[_0x4560fc(0x272)]()!=0x0&&_0xce5ebf[_0x4560fc(0x31c)]({'coin':_0x115ef8});}else{if(_0x592fe9)await getOpenOrders();let _0x15a145=![];for(const [_0x5c9e6c,_0x1df061]of Object[_0x4560fc(0x2cb)](mybalances)){if(_0x4e947d[_0x4560fc(0x29a)](_0x5c9e6c)){const _0x13329b=config[_0x4560fc(0x268)][_0x4560fc(0x244)](_0xf1e338=>_0xf1e338[_0x4560fc(0x2b7)]==_0x5c9e6c),_0x2bd03e=_0x5c9e6c+'/'+_0x1c4494,_0x4d67eb=_0x1c4494+'/'+_0x5c9e6c,_0x400560=currentCoins[_0x4560fc(0x244)](_0x160c6e=>_0x160c6e[_0x4560fc(0x2b7)]==_0x5c9e6c);_0x15a145=![];_0x592fe9&&(_0x15a145=allOpenOrders['find'](_0x24c60b=>_0x24c60b[_0x4560fc(0x263)]==noslash(_0x13329b['symbol'])));if((_0x1df061[_0x4560fc(0x272)]()!=0x0||_0x13329b)&&(allSymbols['includes'](_0x2bd03e)||_0x5c9e6c==_0x1c4494))_0x5c9e6c!=_0x1c4494&&_0x46a369[_0x4560fc(0x31c)](_0x2bd03e),_0xce5ebf['push']({'coin':_0x5c9e6c,'symbol':_0x2bd03e,'reverse':![],'number':Math[_0x4560fc(0x2e2)](_0x1df061+(_0x13329b&&_0x13329b['offset']||0x0),0x0),'orderstatus':_0x592fe9?_0x15a145?'open':_0x4560fc(0x2a2):_0x400560?_0x400560[_0x4560fc(0x1ee)]:'none'});else(_0x1df061['toString']()!=0x0||_0x13329b)&&allSymbols[_0x4560fc(0x29a)](_0x4d67eb)&&(_0x5c9e6c!=_0x1c4494&&_0x46a369[_0x4560fc(0x31c)](_0x4d67eb),_0xce5ebf[_0x4560fc(0x31c)]({'coin':_0x5c9e6c,'symbol':_0x4d67eb,'reverse':!![],'number':Math['max'](_0x1df061+(_0x13329b&&_0x13329b['offset']||0x0),0x0),'orderstatus':_0x592fe9?_0x15a145?'open':_0x4560fc(0x2a2):_0x400560?_0x400560[_0x4560fc(0x1ee)]:_0x4560fc(0x2a2)}));}}}}catch(_0x238227){if(!_0x26e3ba){if(_0x238227['toString']()['includes'](_0x4560fc(0x2fc)))return logHistory(_0x4560fc(0x30e),_0x4560fc(0x2fb)),![];else{if(_0x238227[_0x4560fc(0x272)]()[_0x4560fc(0x29a)](_0x4560fc(0x2fd)))return logHistory(_0x4560fc(0x30e),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x238227[_0x4560fc(0x272)]()['includes'](_0x4560fc(0x248)))return logHistory('error',_0x4560fc(0x22d)),![];else await handleError(_0x238227,_0x4560fc(0x2b3));}}}else await handleError(_0x238227,_0x4560fc(0x2b3));}return _0xce5ebf;}async function getCoinNumber(_0x21ff63){const _0x55fab2=_0x2a3b45;let _0x4511f1;try{const _0x5c1e75=await exchange[_0x55fab2(0x2cd)]();_0x4511f1=_0x5c1e75[_0x55fab2(0x2bf)][_0x21ff63];}catch(_0x3fc214){await handleError(_0x3fc214,'getCoinNumber()');}return _0x4511f1;}async function getOpenOrders(){const _0x103062=_0x2a3b45;let _0x318c2e;allOpenOrders=[];try{for(const _0x12d03b of config[_0x103062(0x268)]){!_0x12d03b['excluded']&&_0x12d03b['coin']!=config[_0x103062(0x2eb)]&&(_0x318c2e=await exchange[_0x103062(0x310)](_0x12d03b[_0x103062(0x263)]),_0x318c2e[_0x103062(0x2ea)]>0x0&&allOpenOrders[_0x103062(0x31c)](_0x318c2e[0x0]));}}catch(_0x341e20){await handleError(_0x341e20,_0x103062(0x298));}}async function handleOpenOrders(_0x3efbfc=0x0){const _0x4841cc=_0x2a3b45;allOpenOrders[_0x4841cc(0x2ea)]==0x0&&lockOrders==ORDERS[_0x4841cc(0x275)]&&allOrdersPlaced&&(_0x3efbfc==0x0?(_0x3efbfc++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders(_0x4841cc(0x2ab)));}async function getPortfolio(_0x4cbf6d){const _0x1a0200=_0x2a3b45;let _0x47a175=[],_0x5614ea=[],_0x415fdc,_0x51e86d=[],_0x40a101,_0x2d3446;_0x4cbf6d[_0x1a0200(0x267)]===_0x1a0200(0x2bc)||_0x4cbf6d[_0x1a0200(0x2de)]===_0x1a0200(0x2bc)?(_0x40a101=config[_0x1a0200(0x267)],_0x2d3446=config[_0x1a0200(0x2de)]):(_0x40a101=_0x4cbf6d[_0x1a0200(0x267)],_0x2d3446=_0x4cbf6d[_0x1a0200(0x2de)]);await initExchange(_0x40a101,_0x2d3446);let _0xc76a55=await loadSymbols();if(_0xc76a55){_0x51e86d=await getCoins(![],![],_0x4cbf6d['basecoin']);if(_0x51e86d===![])proxyEmit('portfolio',![]);else{if(_0x4cbf6d['basecoin']=='')proxyEmit(_0x1a0200(0x268),_0x51e86d);else{_0x51e86d['forEach'](_0x521f59=>{const _0x325d44=_0x1a0200;if(_0x521f59[_0x325d44(0x2b7)]!=_0x4cbf6d[_0x325d44(0x2eb)])_0x47a175[_0x325d44(0x31c)](_0x521f59[_0x325d44(0x263)]);});try{_0x5614ea=await exchange[_0x1a0200(0x26b)](_0x47a175);}catch(_0x106df2){await handleError(_0x106df2,'getPortfolio()');}_0x51e86d[_0x1a0200(0x2aa)](_0x353e56=>{const _0x3b0b7a=_0x1a0200;_0x353e56[_0x3b0b7a(0x2b7)]!=_0x4cbf6d[_0x3b0b7a(0x2eb)]?_0x415fdc=_0x353e56[_0x3b0b7a(0x1fa)]?0x1/_0x5614ea[_0x353e56[_0x3b0b7a(0x263)]]['last']:_0x5614ea[_0x353e56['symbol']][_0x3b0b7a(0x320)]:_0x415fdc=0x1,_0x353e56['price']=formatResult(_0x415fdc,0x8);}),proxyEmit('portfolio',_0x51e86d);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x4ecfb3){const _0x12087d=_0x2a3b45;let _0x4948cb=!![];const _0x4e6b22=!_0x4ecfb3['reverse']?markets[_0x4ecfb3[_0x12087d(0x263)]][_0x12087d(0x205)][_0x12087d(0x2b1)][_0x12087d(0x2e9)]:markets[_0x4ecfb3['symbol']][_0x12087d(0x205)][_0x12087d(0x2c8)]['min'],_0x4ad0df=!_0x4ecfb3[_0x12087d(0x1fa)]?markets[_0x4ecfb3[_0x12087d(0x263)]][_0x12087d(0x205)][_0x12087d(0x2c8)][_0x12087d(0x2e9)]:markets[_0x4ecfb3[_0x12087d(0x263)]][_0x12087d(0x205)][_0x12087d(0x2b1)][_0x12087d(0x2e9)],_0x498a8e=markets[_0x4ecfb3[_0x12087d(0x263)]][_0x12087d(0x253)][_0x12087d(0x2b1)];_0x4ecfb3[_0x12087d(0x2b0)]=formatResultTruncate(_0x4ecfb3[_0x12087d(0x2b0)],_0x498a8e);if(Math['abs'](_0x4ecfb3[_0x12087d(0x2b0)])<_0x4e6b22)_0x4948cb=![];if(Math[_0x12087d(0x1fd)](_0x4ecfb3[_0x12087d(0x2b0)])*_0x4ecfb3[_0x12087d(0x320)]<_0x4ad0df)_0x4948cb=![];if(_0x4ecfb3[_0x12087d(0x2df)]=='sell'){let _0x42fdf7=config['portfolio'][_0x12087d(0x244)](_0x31f879=>_0x31f879[_0x12087d(0x2b7)]==_0x4ecfb3[_0x12087d(0x2b7)]);if(_0x42fdf7[_0x12087d(0x23d)]>0x0){if(Math[_0x12087d(0x1fd)](_0x4ecfb3[_0x12087d(0x2b0)])>_0x4ecfb3[_0x12087d(0x26a)]-_0x42fdf7[_0x12087d(0x23d)])_0x4948cb=![];}else{if(Math[_0x12087d(0x1fd)](_0x4ecfb3['trade'])>_0x4ecfb3[_0x12087d(0x26a)])_0x4948cb=![];}}if(_0x4ecfb3['side']==_0x12087d(0x237)){let _0x28b1f8=config[_0x12087d(0x268)][_0x12087d(0x244)](_0x49f31e=>_0x49f31e['coin']==config[_0x12087d(0x2eb)]),_0x149d6f=currentCoins[_0x12087d(0x244)](_0x191c0c=>_0x191c0c['coin']==config['basecoin']);if(_0x28b1f8[_0x12087d(0x23d)]>0x0){if(Math[_0x12087d(0x1fd)](_0x4ecfb3[_0x12087d(0x2b0)])*_0x4ecfb3[_0x12087d(0x320)]>_0x149d6f['number']-_0x28b1f8['offset'])_0x4948cb=![];}else{if(Math[_0x12087d(0x1fd)](_0x4ecfb3['trade'])*_0x4ecfb3[_0x12087d(0x320)]>_0x149d6f['number'])_0x4948cb=![];}}return _0x4948cb;}async function getBalances(){const _0x2a5943=_0x2a3b45;let _0x49f2f9=0x0,_0x1743ed;const _0x233f5f=config[_0x2a5943(0x21a)];if(config[_0x2a5943(0x1f1)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x2a5943(0x2aa)](_0x5c4f7a=>{const _0x194dd3=_0x2a5943;if(_0x5c4f7a[_0x194dd3(0x2b7)]!=config[_0x194dd3(0x2eb)]){let _0x2a8321=global[_0x194dd3(0x271)][noslash(_0x5c4f7a[_0x194dd3(0x263)])];_0x1743ed=_0x5c4f7a[_0x194dd3(0x1fa)]?0x1/_0x2a8321:_0x2a8321;}else _0x1743ed=0x1;let _0x18c5d2=_0x5c4f7a['number']*_0x1743ed;_0x49f2f9+=_0x18c5d2,_0x5c4f7a['last']=formatResult(Number(_0x1743ed),0x8),_0x5c4f7a['value']=_0x18c5d2;}),currentCoins[_0x2a5943(0x2aa)](_0xc9973d=>{const _0x589bd8=_0x2a5943;let _0x3abbff=config[_0x589bd8(0x268)][_0x589bd8(0x244)](_0x131ea2=>_0x131ea2[_0x589bd8(0x2b7)]==_0xc9973d['coin']),_0x5ab502=Number(_0x3abbff['distribution']),_0x20e7ee=_0xc9973d['value']/_0x49f2f9*0x64,_0x191f2c=_0x5ab502*_0x49f2f9/0x64/_0xc9973d[_0x589bd8(0x320)]-_0xc9973d[_0x589bd8(0x26a)];_0xc9973d['distribution']=formatResult(_0x20e7ee,0x3),_0xc9973d[_0x589bd8(0x30a)]=formatResult(_0x5ab502,0x3),_0xc9973d[_0x589bd8(0x2b0)]=formatResult(_0x191f2c,0x8),_0xc9973d['side']='',_0xc9973d[_0x589bd8(0x2b6)]=![];if(_0xc9973d[_0x589bd8(0x2b7)]!=config[_0x589bd8(0x2eb)]){if(_0xc9973d[_0x589bd8(0x2f3)]>_0x5ab502)_0xc9973d['side']='sell',_0xc9973d['valid']=checkMinimums(_0xc9973d);else _0xc9973d[_0x589bd8(0x2f3)]<_0x5ab502&&(_0xc9973d[_0x589bd8(0x2df)]=_0x589bd8(0x237),_0xc9973d[_0x589bd8(0x2b6)]=checkMinimums(_0xc9973d));}_0xc9973d[_0x589bd8(0x231)]=_0xc9973d[_0x589bd8(0x2f3)]/_0xc9973d[_0x589bd8(0x30a)]-0x1;if(_0xc9973d[_0x589bd8(0x1ee)]==_0x589bd8(0x23c)||_0xc9973d[_0x589bd8(0x1ee)]==_0x589bd8(0x2d1))_0xc9973d[_0x589bd8(0x1ee)]=_0x589bd8(0x2a2);}),currentCoins[_0x2a5943(0x235)]((_0x3c3318,_0x2e29ab)=>_0x3c3318[_0x2a5943(0x231)]<_0x2e29ab[_0x2a5943(0x231)]?0x1:_0x2e29ab[_0x2a5943(0x231)]<_0x3c3318[_0x2a5943(0x231)]?-0x1:0x0);const _0x3309a4=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3309a4[_0x2a5943(0x301)],'usd':_0x3309a4[_0x2a5943(0x21c)],'portfolio':JSON[_0x2a5943(0x228)](currentCoins),'threshold':_0x233f5f},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x2a5943(0x1f1)])headlessMode({'portfolio':currentCoins,'threshold':_0x233f5f});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x233f5f});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1edbd4=_0x2a3b45;if(!lastBalances)return;let _0x26cfba=[],_0x1d6b74,_0x5518d1=JSON[_0x1edbd4(0x2e8)](lastBalances['portfolio']);_0x5518d1[_0x1edbd4(0x235)]((_0x32efb0,_0x30e134)=>_0x32efb0[_0x1edbd4(0x2b7)]>_0x30e134[_0x1edbd4(0x2b7)]?0x1:_0x30e134[_0x1edbd4(0x2b7)]>_0x32efb0['coin']?-0x1:0x0),_0x5518d1[_0x1edbd4(0x2aa)](_0x3d9a13=>{const _0x1b46c2=_0x1edbd4;let _0x11ac71={'coin':_0x3d9a13[_0x1b46c2(0x2b7)],'number':_0x3d9a13[_0x1b46c2(0x26a)],'price':_0x3d9a13[_0x1b46c2(0x320)]};_0x26cfba[_0x1b46c2(0x31c)](_0x11ac71);});const _0x2f4d48=await getFiat();_0x1d6b74={'date':lastBalances[_0x1edbd4(0x1f7)][_0x1edbd4(0x27c)]('\x20')[0x0],'eur':_0x2f4d48[_0x1edbd4(0x301)],'usd':_0x2f4d48[_0x1edbd4(0x21c)],'coins':_0x26cfba};let _0x4a038e=dbPerformance[_0x1edbd4(0x201)]('data')[_0x1edbd4(0x244)]({'date':_0x1d6b74[_0x1edbd4(0x2f7)]})[_0x1edbd4(0x25b)]();_0x4a038e?_0x1d6b74[_0x1edbd4(0x2f7)]!=config[_0x1edbd4(0x304)]&&dbPerformance[_0x1edbd4(0x201)](_0x1edbd4(0x278))[_0x1edbd4(0x244)]({'date':_0x1d6b74['date']})[_0x1edbd4(0x25c)](_0x1d6b74)[_0x1edbd4(0x1f8)]():dbPerformance[_0x1edbd4(0x201)](_0x1edbd4(0x278))['push'](_0x1d6b74)[_0x1edbd4(0x1f8)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x486fc6=_0x2a3b45;let _0xb54992=[];if(dbPerformance['has']('data')[_0x486fc6(0x25b)]()){let _0x204d0a=dbPerformance[_0x486fc6(0x201)](_0x486fc6(0x278))['cloneDeep']()['sortBy'](_0x486fc6(0x2f7))[_0x486fc6(0x25b)](),_0x374769=[...config[_0x486fc6(0x302)]];_0x374769[_0x486fc6(0x235)]((_0x183d7c,_0xec3291)=>_0x183d7c['date']>_0xec3291['date']?-0x1:_0xec3291['date']>_0x183d7c[_0x486fc6(0x2f7)]?0x1:0x0);let _0x2ddf11=0x1,_0x1bd5a5=[],_0x170598=0x0;_0x204d0a[_0x486fc6(0x2ce)]()['reverse']()[_0x486fc6(0x2aa)]((_0x5acaff,_0x312900)=>{const _0x4f3b54=_0x486fc6;if(_0x374769[_0x170598]){if(_0x204d0a[_0x204d0a[_0x4f3b54(0x2ea)]-_0x312900]&&_0x374769[_0x170598][_0x4f3b54(0x2f7)]==_0x204d0a[_0x204d0a['length']-_0x312900][_0x4f3b54(0x2f7)]){if(_0x312900<_0x204d0a['length']){let _0x3771ea=0x0,_0x5d82ac=0x0;_0x204d0a[_0x204d0a['length']-_0x312900]['coins']['forEach'](_0xd9e03e=>{const _0x30d514=_0x4f3b54;_0x5d82ac+=_0xd9e03e[_0x30d514(0x26a)]*_0xd9e03e[_0x30d514(0x292)];}),_0x374769[_0x170598][_0x4f3b54(0x313)][_0x4f3b54(0x2aa)](_0xbda2e1=>{const _0x4da6e7=_0x4f3b54;_0x3771ea+=_0xbda2e1[_0x4da6e7(0x26a)]*_0xbda2e1[_0x4da6e7(0x292)];}),_0x2ddf11*=_0x3771ea/(_0x5d82ac-_0x3771ea)+0x1;}_0x170598++;}}let _0x5692da=0x0;_0x5acaff[_0x4f3b54(0x24e)][_0x4f3b54(0x2aa)](_0x56751c=>{const _0x5d2268=_0x4f3b54;_0x5692da+=_0x56751c[_0x5d2268(0x26a)]*_0x56751c['price'];}),_0x1bd5a5[_0x204d0a[_0x4f3b54(0x2ea)]-_0x312900-0x1]=_0x5692da*(_0x2ddf11-0x1);});let _0x4592dc=[];_0x374769=[...config[_0x486fc6(0x302)]]||[];let _0x2e22ce=0x0;_0x170598=0x0,_0x204d0a['forEach']((_0x59ad00,_0x5499ab)=>{const _0x2d8003=_0x486fc6;if(_0x374769[_0x170598]){const _0xacb83e=fns[_0x2d8003(0x2e8)](_0x374769[_0x170598]['date'],'yyyy/MM/dd',new Date()),_0x18358f=fns[_0x2d8003(0x2e8)](_0x59ad00[_0x2d8003(0x2f7)],'yyyy/MM/dd',new Date());if(fns[_0x2d8003(0x30d)](_0xacb83e,_0x18358f)){let _0x37d41e=0x0;_0x374769[_0x170598][_0x2d8003(0x313)][_0x2d8003(0x2aa)](_0x44246f=>{const _0x39de6a=_0x2d8003;!_0x4592dc[_0x44246f['coin']]?_0x4592dc[_0x44246f[_0x39de6a(0x2b7)]]=_0x44246f[_0x39de6a(0x26a)]:(_0x37d41e=_0x4592dc[_0x44246f[_0x39de6a(0x2b7)]],_0x4592dc[_0x44246f[_0x39de6a(0x2b7)]]+=_0x44246f[_0x39de6a(0x26a)]);const _0x22bff0=_0x59ad00['coins'][_0x39de6a(0x244)](_0x1cc51d=>_0x1cc51d[_0x39de6a(0x2b7)]==_0x44246f[_0x39de6a(0x2b7)]);(!_0x22bff0||_0x22bff0['number']==0x0)&&(_0x2e22ce+=(-_0x44246f['number']-_0x37d41e)*_0x44246f[_0x39de6a(0x292)]);}),_0x170598++;}}_0x59ad00[_0x2d8003(0x24e)][_0x2d8003(0x2aa)]((_0x5940c1,_0x357775)=>{const _0xf5d2b6=_0x2d8003;_0x4592dc[_0x5940c1[_0xf5d2b6(0x2b7)]]&&(_0x5940c1={..._0x5940c1,'initial':_0x4592dc[_0x5940c1[_0xf5d2b6(0x2b7)]]}),_0x59ad00[_0xf5d2b6(0x24e)][_0x357775]=_0x5940c1;}),_0xb54992[_0x2d8003(0x31c)]({'date':_0x59ad00[_0x2d8003(0x2f7)],'eur':_0x59ad00[_0x2d8003(0x301)],'usd':_0x59ad00['usd'],'offset':_0x1bd5a5[_0x5499ab],'netoffset':_0x2e22ce,'coins':_0x59ad00[_0x2d8003(0x24e)]});});}return _0xb54992;}function emitPerformance(_0x582f39){const _0x433b0d=_0x2a3b45;_0x582f39[_0x433b0d(0x2ea)]!==0x0?(proxyEmit(_0x433b0d(0x2dd),_0x582f39),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x2c76a9,_0x2582e0){const _0x31da5b=_0x2a3b45;let _0x24ae0a=0x0,_0x42bb28=0x0,_0x462755=0x0;_0x2c76a9[_0x31da5b(0x24e)][_0x31da5b(0x2aa)](_0x99f7ad=>{const _0x131b03=_0x31da5b;_0x24ae0a+=_0x99f7ad[_0x131b03(0x26a)]*_0x99f7ad[_0x131b03(0x292)];});_0x2582e0&&(_0x24ae0a+=_0x2c76a9[_0x31da5b(0x23d)]);if(config[_0x31da5b(0x2eb)]===_0x31da5b(0x23b)||config[_0x31da5b(0x2eb)]===_0x31da5b(0x1fb))_0x42bb28=_0x24ae0a*_0x2c76a9[_0x31da5b(0x301)],_0x462755=_0x24ae0a*_0x2c76a9[_0x31da5b(0x21c)];else{if(config['basecoin']===_0x31da5b(0x2fe)||config[_0x31da5b(0x2eb)]===_0x31da5b(0x203))_0x42bb28=_0x24ae0a*_0x2c76a9[_0x31da5b(0x301)]/_0x2c76a9['usd'],_0x462755=_0x24ae0a;else config['basecoin']===_0x31da5b(0x24d)&&(_0x42bb28=_0x24ae0a,_0x462755=_0x24ae0a*_0x2c76a9['usd']/_0x2c76a9[_0x31da5b(0x301)]);}return[_0x24ae0a,_0x42bb28,_0x462755];}function getKPIs(_0x14d8b6,_0x2327a7='EUR'){const _0x1c84d0=_0x2a3b45,_0x5bb8fc=config['basecoin'],_0x2a8e61=config[_0x1c84d0(0x2b2)],_0x3b747a=currentCoins,_0xa60d38=getNormalizedPerformance(),_0x43fde4=_0x14d8b6===_0x1c84d0(0x2eb)?_0x5bb8fc:_0x14d8b6===_0x1c84d0(0x317)||_0x14d8b6===_0x1c84d0(0x316)?_0x2327a7:_0x1c84d0(0x31f)+_0x5bb8fc,_0xbeb1ce=_0x14d8b6===_0x1c84d0(0x311)?'Net\x20effect':_0x14d8b6==='net-fiat'?'Net\x20effect\x20('+_0x43fde4+')':_0x43fde4+_0x1c84d0(0x23e),_0xf35c0=_0x14d8b6===_0x1c84d0(0x311)||_0x14d8b6===_0x1c84d0(0x316)?_0x1c84d0(0x318):_0x43fde4+_0x1c84d0(0x290);let _0x1284a8=0x0;_0x3b747a['forEach'](_0x4fccb4=>{const _0x260d9f=_0x1c84d0;_0x1284a8+=_0x4fccb4[_0x260d9f(0x26a)]*_0x4fccb4[_0x260d9f(0x320)];});if(_0x14d8b6===_0x1c84d0(0x317)||_0x14d8b6===_0x1c84d0(0x316)){if(_0x5bb8fc===_0x1c84d0(0x23b)||_0x5bb8fc===_0x1c84d0(0x1fb))_0x1284a8=_0x1284a8*(_0x2327a7===_0x1c84d0(0x24d)?_0x2a8e61[_0x1c84d0(0x301)]:_0x2a8e61['usd']);else{if(_0x5bb8fc===_0x1c84d0(0x2fe)||_0x5bb8fc===_0x1c84d0(0x203))_0x1284a8=_0x1284a8*(_0x2327a7===_0x1c84d0(0x24d)?_0x2a8e61[_0x1c84d0(0x301)]/_0x2a8e61[_0x1c84d0(0x21c)]:0x1);else _0x5bb8fc==='EUR'&&(_0x1284a8=_0x1284a8*(_0x2327a7===_0x1c84d0(0x24d)?0x1:_0x2a8e61['usd']/_0x2a8e61[_0x1c84d0(0x301)]));}}let _0x474702;if(_0x1284a8!==0x0){if(_0x14d8b6==='basecoin')_0x474702=(_0x1284a8/startingBalances['basecoin']-0x1)*0x64;else{if(_0x2327a7===_0x1c84d0(0x24d))_0x474702=(_0x1284a8/startingBalances[_0x1c84d0(0x301)]-0x1)*0x64;else _0x474702=(_0x1284a8/startingBalances['usd']-0x1)*0x64;}let _0x8a6b68=0x0;if(startingBalances[_0x1c84d0(0x24e)])_0x3b747a[_0x1c84d0(0x2aa)](_0x59172b=>{const _0x46ebb6=_0x1c84d0;let _0xf8268c=startingBalances['coins']['find'](_0x3630f7=>_0x3630f7['coin']===_0x59172b[_0x46ebb6(0x2b7)]);if(_0xf8268c&&_0xf8268c[_0x46ebb6(0x2b7)]&&_0x59172b['number']!==0x0)_0x8a6b68+=_0xf8268c[_0x46ebb6(0x26a)]*_0x59172b[_0x46ebb6(0x320)];});let _0x1a7a16=0x0;if(_0xa60d38[_0x1c84d0(0x2ea)]!==0x0){let _0x37b3dc=_0xa60d38[_0xa60d38[_0x1c84d0(0x2ea)]-0x1];_0x1a7a16=_0x37b3dc[_0x1c84d0(0x241)];}_0x8a6b68-=_0x1a7a16;_0x14d8b6===_0x1c84d0(0x311)&&(_0x474702=(_0x1284a8-_0x8a6b68)/startingBalances[_0x1c84d0(0x2eb)]*0x64,_0x1284a8=_0x1284a8-_0x8a6b68);if(_0x14d8b6===_0x1c84d0(0x316)){let _0xf9c968=_0x2327a7===_0x1c84d0(0x24d)?startingBalances[_0x1c84d0(0x301)]:startingBalances[_0x1c84d0(0x21c)];if(_0x5bb8fc===_0x1c84d0(0x23b)||_0x5bb8fc===_0x1c84d0(0x1fb))_0x8a6b68=_0x2327a7===_0x1c84d0(0x24d)?_0x8a6b68*_0x2a8e61['eur']:_0x8a6b68*_0x2a8e61['usd'];else{if(_0x5bb8fc===_0x1c84d0(0x2fe)||_0x5bb8fc===_0x1c84d0(0x203))_0x8a6b68=_0x2327a7==='EUR'?_0x8a6b68*_0x2a8e61[_0x1c84d0(0x301)]/_0x2a8e61[_0x1c84d0(0x21c)]:_0x8a6b68;else _0x5bb8fc==='EUR'&&(_0x8a6b68=_0x2327a7===_0x1c84d0(0x24d)?_0x8a6b68:_0x8a6b68*_0x2a8e61[_0x1c84d0(0x21c)]/_0x2a8e61[_0x1c84d0(0x301)]);}_0x474702=(_0x1284a8-_0x8a6b68)/_0xf9c968*0x64,_0x1284a8=_0x1284a8-_0x8a6b68;}if(_0x474702){if(_0x474702<0x64)_0x474702=_0x474702[_0x1c84d0(0x29f)](0x2);else{if(_0x474702<0x3e8)_0x474702=_0x474702['toFixed'](0x1);else _0x474702=_0x474702[_0x1c84d0(0x29f)](0x0);}}else _0x474702=Number('0')[_0x1c84d0(0x29f)](0x2);if(_0x1284a8){if(Math[_0x1c84d0(0x1fd)](_0x1284a8)<0.000001)_0x1284a8=_0x1284a8[_0x1c84d0(0x29f)](0x2);else{if(Math[_0x1c84d0(0x1fd)](_0x1284a8)<0.1)_0x1284a8=_0x1284a8['toFixed'](0x6);else{if(Math['abs'](_0x1284a8)<0x1)_0x1284a8=_0x1284a8['toFixed'](0x5);else{if(Math[_0x1c84d0(0x1fd)](_0x1284a8)<0xa)_0x1284a8=_0x1284a8['toFixed'](0x4);else{if(Math['abs'](_0x1284a8)<0x64)_0x1284a8=_0x1284a8[_0x1c84d0(0x29f)](0x3);else{if(Math[_0x1c84d0(0x1fd)](_0x1284a8)<0x3e8)_0x1284a8=_0x1284a8[_0x1c84d0(0x29f)](0x2);else _0x1284a8=_0x1284a8[_0x1c84d0(0x29f)](0x2);}}}}}}else _0x1284a8=Number('0')[_0x1c84d0(0x29f)](0x2);}else _0x474702=Number('0')['toFixed'](0x2);return{'value':_0x1284a8,'change':_0x474702,'leftTxt':_0xbeb1ce,'rightTxt':_0xf35c0};}async function getStartingBalances(_0x4bcff2,_0x5e55b3=!![]){const _0x3a279b=_0x2a3b45;if(_0x4bcff2[_0x3a279b(0x2ea)]!==0x0){const [_0x51343a,_0x4e45a4,_0x5de308]=getPerf(_0x4bcff2[0x0],!![]);let _0x20ca15=[];config['portfolio'][_0x3a279b(0x2aa)](_0xad5848=>{const _0x5325f3=_0x3a279b;let _0x5cc8e6=0x0,_0x4d2c4c;config[_0x5325f3(0x302)][_0x5325f3(0x2aa)](_0xabccc7=>{const _0x32e592=_0x5325f3;let _0x1d7f9e=_0xabccc7['changes'][_0x32e592(0x244)](_0x25c76d=>_0x25c76d[_0x32e592(0x2b7)]==_0xad5848['coin']);if(_0x1d7f9e){_0x5cc8e6+=_0x1d7f9e['number'];if(!_0x4d2c4c)_0x4d2c4c=_0x1d7f9e[_0x32e592(0x292)];}}),_0x20ca15[_0x5325f3(0x31c)]({'coin':_0xad5848[_0x5325f3(0x2b7)],'number':_0x5cc8e6,'initialprice':_0x4d2c4c});});const _0x37c7b0={'basecoin':_0x51343a,'eur':_0x4e45a4,'usd':_0x5de308,'coins':_0x20ca15};if(_0x5e55b3)proxyEmit(_0x3a279b(0x312),_0x37c7b0);startingBalances=_0x37c7b0;}}function _0x7c0e(_0x39689d,_0x149dd7){const _0xfe9fd6=_0x9199();return _0x7c0e=function(_0x6e6979,_0x5ed03c){_0x6e6979=_0x6e6979-0x1e2;let _0x9199af=_0xfe9fd6[_0x6e6979];return _0x9199af;},_0x7c0e(_0x39689d,_0x149dd7);}function headlessMode(_0x2c9cc6){const _0x5df1a0=_0x2a3b45;let _0x3262d5=_0x2c9cc6[_0x5df1a0(0x268)],_0xbbc197=_0x2c9cc6[_0x5df1a0(0x21a)],_0x35cb65=[];for(let _0x39e2e9 of _0x3262d5){if(_0x39e2e9[_0x5df1a0(0x2b7)]!=config[_0x5df1a0(0x2eb)]){if(_0x39e2e9[_0x5df1a0(0x231)]>=_0xbbc197/0x64){if(_0x39e2e9['valid'])_0x35cb65['push'](_0x39e2e9);}else{if(_0x39e2e9[_0x5df1a0(0x231)]<=-_0xbbc197/0x64){if(_0x39e2e9[_0x5df1a0(0x2b6)])_0x35cb65['push'](_0x39e2e9);}}}}_0x35cb65[_0x5df1a0(0x2ea)]>0x0&&placeOrder(_0x35cb65);}function notifyBalance(_0x1772be){const _0xeb97b4=_0x2a3b45;let _0x559525=_0x1772be['portfolio'],_0x7a11f3=_0x1772be[_0xeb97b4(0x21a)],_0x4a110d=[];for(let _0x1b06d1 of _0x559525){if(_0x1b06d1[_0xeb97b4(0x2b7)]!=config[_0xeb97b4(0x2eb)]){if(_0x1b06d1['delta']>=_0x7a11f3/0x64){if(_0x1b06d1[_0xeb97b4(0x2b6)])_0x4a110d[_0xeb97b4(0x31c)](_0x1b06d1);}else{if(_0x1b06d1[_0xeb97b4(0x231)]<=-_0x7a11f3/0x64){if(_0x1b06d1[_0xeb97b4(0x2b6)])_0x4a110d[_0xeb97b4(0x31c)](_0x1b06d1);}}}}if(_0x4a110d[_0xeb97b4(0x2ea)]>0x0){let _0x5c3ee6=_0x4a110d[_0xeb97b4(0x26c)](_0x31bd70=>_0x31bd70[_0xeb97b4(0x2b7)]);_0x5c3ee6[_0xeb97b4(0x235)]();let _0x237df2=_0x5c3ee6[_0xeb97b4(0x222)](',\x20');if(lastCoinsToBalance!==_0x237df2)logHistory('success',_0xeb97b4(0x2a7)+_0x237df2);lastCoinsToBalance=_0x237df2;}}function symbolToCoin(_0x33967c){const _0x46f51f=_0x2a3b45;let _0x533731;if(_0x33967c[_0x46f51f(0x29a)]('/'+config['basecoin']))_0x533731=_0x33967c['replace']('/'+config['basecoin'],'');if(_0x33967c[_0x46f51f(0x29a)](config['basecoin']+'/'))_0x533731=_0x33967c[_0x46f51f(0x325)](config[_0x46f51f(0x2eb)]+'/','');return _0x533731;}async function unlockOrders(){const _0x57aa66=_0x2a3b45;if(allOrdersPlaced){lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x57aa66(0x2a5),lockOrders=ORDERS[_0x57aa66(0x324)];}}async function validateOrders(_0x3a6526){const _0x2c0afb=_0x2a3b45;if(_0x3a6526)validateOrdersState=_0x3a6526;let _0x50b82b=new Error(),_0x2dd8c9=_0x50b82b[_0x2c0afb(0x2a9)]['split']('\x0a')[0x2],_0x448ae2=_0x2dd8c9[_0x2c0afb(0x27c)](':')[_0x2c0afb(0x1fa)]()[0x1],_0x5c67c5=_0x2dd8c9[_0x2c0afb(0x27c)]('\x20')[0x5];logging('validate:\x20'+validateOrdersState),logging(_0x5c67c5+':'+_0x448ae2);let _0x4fc80e=[],_0x2420de=config[_0x2c0afb(0x274)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x2c0afb(0x252)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2c0afb(0x275)])return;lastOrders[_0x2c0afb(0x2aa)](_0x2bf4a6=>{const _0x2fe0c0=_0x2c0afb;let _0x4d39ff=![];_0x2bf4a6[_0x2fe0c0(0x23c)]>0x0&&(_0x4d39ff=!![]),_0x4fc80e['push'](_0x4d39ff),_0x4d39ff&&config['ordertype']!=_0x2fe0c0(0x286)&&logHistory('order','Order\x20filled:\x20'+_0x2bf4a6[_0x2fe0c0(0x263)]+'\x20'+_0x2bf4a6['side']+'\x20#'+formatResult(_0x2bf4a6['filled'],0x8)+'\x20@'+formatResult(_0x2bf4a6[_0x2fe0c0(0x292)],0x8));}),_0x4fc80e[_0x2c0afb(0x2aa)]((_0x180616,_0x298979)=>{const _0x5486f6=_0x2c0afb;if(_0x180616)lastOrders[_0x5486f6(0x30f)](_0x298979,0x1);});const _0x2914f4=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':'balancing\x20resumed';if(validateOrdersState=='initial')validateOrdersState=_0x2c0afb(0x293),_0x4fc80e[_0x2c0afb(0x29a)](![])?config[_0x2c0afb(0x274)]=='market'?logHistory(_0x2c0afb(0x30e),_0x2c0afb(0x233)):logHistory(_0x2c0afb(0x30e),'Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):await unlockOrders();else{if(validateOrdersState==_0x2c0afb(0x293)){if(_0x4fc80e['includes'](![])){}else allOrdersPlaced&&(config['ordertype']==_0x2c0afb(0x286)?logHistory(_0x2c0afb(0x279),_0x2c0afb(0x283)+_0x2914f4):logHistory(_0x2c0afb(0x279),_0x2c0afb(0x294)+_0x2914f4),await unlockOrders());}else{if(validateOrdersState==_0x2c0afb(0x20e))_0x4fc80e[_0x2c0afb(0x29a)](![])&&(config['ordertype']==_0x2c0afb(0x286)?logHistory(_0x2c0afb(0x279),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x2c0afb(0x321)](_0x2420de*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x2914f4):(await cancelOrders(),logHistory(_0x2c0afb(0x279),_0x2c0afb(0x2e5)+Math[_0x2c0afb(0x321)](_0x2420de*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x2914f4))),await unlockOrders();else{if(validateOrdersState==_0x2c0afb(0x2ab)){if(config[_0x2c0afb(0x274)]!='market')logHistory('success',_0x2c0afb(0x1f6)+_0x2914f4);await unlockOrders();}}}}}async function cancelOrders(){const _0x196da0=_0x2a3b45;lastOrders[_0x196da0(0x2aa)](async _0x1e3419=>{const _0x5101c1=_0x196da0;try{const _0x38eba7=await exchange[_0x5101c1(0x28b)](_0x1e3419[_0x5101c1(0x2e7)],_0x1e3419['symbol']);}catch(_0x7c3ccf){if(_0x7c3ccf[_0x5101c1(0x272)]()[_0x5101c1(0x29a)](_0x5101c1(0x224))){}else await handleError(_0x7c3ccf,_0x5101c1(0x216));}});}async function initCoinResults(){const _0x54b7b2=_0x2a3b45;let _0x994f9b=[];config[_0x54b7b2(0x268)][_0x54b7b2(0x2aa)](_0x36827c=>{const _0x275500=_0x54b7b2;if(!_0x36827c['excluded']&&_0x36827c[_0x275500(0x2b7)]!=config[_0x275500(0x2eb)]){let _0xd2b241=dbCoinResults[_0x275500(0x201)](_0x275500(0x24e))[_0x275500(0x244)]({'coin':_0x36827c['coin']})[_0x275500(0x25b)]();if(!_0xd2b241){const _0x2f497c=currentCoins[_0x275500(0x244)](_0x2d82de=>_0x2d82de['coin']==_0x36827c[_0x275500(0x2b7)]),_0x46c6c3=global[_0x275500(0x271)][noslash(_0x36827c[_0x275500(0x263)])];let _0x520d71=_0x2f497c?_0x2f497c[_0x275500(0x26a)]:null,_0x58c41e=_0x36827c[_0x275500(0x1fa)]?0x1/_0x46c6c3:_0x46c6c3,_0x1b4507;config['liquidity'][_0x275500(0x2aa)](_0x46dbc0=>{const _0x2daaec=_0x275500;!_0x1b4507&&(_0x1b4507=_0x46dbc0[_0x2daaec(0x313)][_0x2daaec(0x244)](_0x21272f=>_0x21272f[_0x2daaec(0x2b7)]==_0x36827c[_0x2daaec(0x2b7)]),_0x1b4507&&(_0x520d71=_0x1b4507['number'],_0x58c41e=_0x1b4507[_0x2daaec(0x292)]));}),_0x994f9b[_0x275500(0x31c)]({'coin':_0x36827c['coin'],'number':_0x520d71,'price':_0x58c41e});}}}),_0x994f9b['forEach'](_0x3f4bcd=>{const _0x1d722f=_0x54b7b2,_0x554026={'coin':_0x3f4bcd[_0x1d722f(0x2b7)],'number':_0x3f4bcd[_0x1d722f(0x26a)],'breakeven':_0x3f4bcd[_0x1d722f(0x292)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x1d722f(0x24e))['push'](_0x554026)[_0x1d722f(0x1f8)]();});}async function updateCoinResults(_0x2e3bc3,_0x1a6c85=![]){const _0x54620c=_0x2a3b45;let _0x241a00,_0x12451a,_0x4e67c3,_0x5d99b7,_0xf478f4,_0x113663,_0x58e7c9=dbCoinResults[_0x54620c(0x201)]('coins')[_0x54620c(0x244)]({'coin':_0x2e3bc3[_0x54620c(0x2b7)]})['value']();!_0x58e7c9&&await initCoinResults();_0x2e3bc3[_0x54620c(0x1fa)]&&(_0x113663={'filled':_0x2e3bc3['filled']*_0x2e3bc3[_0x54620c(0x292)],'amount':_0x2e3bc3['filled']*_0x2e3bc3[_0x54620c(0x292)],'side':_0x2e3bc3[_0x54620c(0x2df)]==_0x54620c(0x213)?_0x54620c(0x237):_0x54620c(0x213),'price':0x1/_0x2e3bc3['price']},_0x2e3bc3={..._0x2e3bc3,..._0x113663});_0x1a6c85?_0x12451a=_0x2e3bc3[_0x54620c(0x2df)]==_0x54620c(0x237)?_0x58e7c9['number']+_0x2e3bc3['filled']:_0x58e7c9[_0x54620c(0x26a)]-_0x2e3bc3['filled']:_0x12451a=await getCoinNumber(_0x2e3bc3[_0x54620c(0x2b7)]);if(_0x2e3bc3['fee']&&_0x2e3bc3[_0x54620c(0x2f6)][_0x54620c(0x305)]==config['basecoin'])_0x241a00=_0x2e3bc3[_0x54620c(0x2f6)][_0x54620c(0x2c8)];else{if(_0x2e3bc3['fee']&&_0x2e3bc3[_0x54620c(0x2f6)][_0x54620c(0x305)]==_0x54620c(0x319)&&!_0x1a6c85)_0x241a00=_0x2e3bc3[_0x54620c(0x2f6)]['cost']*global[_0x54620c(0x271)][_0x54620c(0x319)+config[_0x54620c(0x2eb)]];else _0x241a00=defaultFee*_0x2e3bc3[_0x54620c(0x23c)]*_0x2e3bc3[_0x54620c(0x292)];}_0x2e3bc3['side']==_0x54620c(0x237)?(_0x4e67c3=_0x12451a!=0x0?(_0x58e7c9[_0x54620c(0x243)]*_0x58e7c9[_0x54620c(0x26a)]+_0x2e3bc3[_0x54620c(0x292)]*(_0x12451a-_0x58e7c9[_0x54620c(0x26a)])+_0x241a00)/_0x12451a:0x0,_0x5d99b7=_0x58e7c9['realized']):(_0x4e67c3=_0x12451a!=0x0?(_0x58e7c9[_0x54620c(0x243)]*_0x58e7c9[_0x54620c(0x26a)]-_0x2e3bc3[_0x54620c(0x292)]*(_0x58e7c9[_0x54620c(0x26a)]-_0x12451a)+_0x241a00)/_0x12451a:0x0,_0x5d99b7=_0x58e7c9[_0x54620c(0x256)]+(_0x2e3bc3[_0x54620c(0x292)]-_0x58e7c9[_0x54620c(0x243)])*_0x2e3bc3[_0x54620c(0x23c)]);_0xf478f4=(_0x2e3bc3[_0x54620c(0x292)]-_0x4e67c3-_0x241a00/_0x2e3bc3[_0x54620c(0x23c)])*_0x12451a;let _0x165b6b={'coin':_0x2e3bc3['coin'],'number':_0x12451a,'breakeven':formatResult(_0x4e67c3,0x8),'realized':formatResult(_0x5d99b7,0x8),'unrealized':formatResult(_0xf478f4,0x8),'fees':formatResult(_0x58e7c9[_0x54620c(0x277)]+_0x241a00,0x8),'sells':_0x2e3bc3[_0x54620c(0x2df)]==_0x54620c(0x213)?_0x58e7c9[_0x54620c(0x2a6)]+0x1:_0x58e7c9[_0x54620c(0x2a6)],'buys':_0x2e3bc3['side']==_0x54620c(0x237)?_0x58e7c9['buys']+0x1:_0x58e7c9['buys']};dbCoinResults[_0x54620c(0x201)](_0x54620c(0x24e))[_0x54620c(0x244)]({'coin':_0x2e3bc3[_0x54620c(0x2b7)]})[_0x54620c(0x25c)](_0x165b6b)[_0x54620c(0x1f8)]();if(!_0x1a6c85){if(_0x2e3bc3[_0x54620c(0x2f6)]&&_0x2e3bc3['fee'][_0x54620c(0x305)]==_0x54620c(0x319)){const _0x2c7f83=currentCoins[_0x54620c(0x244)](_0x4b6b75=>_0x4b6b75[_0x54620c(0x2b7)]=='BNB');if(_0x2c7f83){let _0x8ac443=dbCoinResults[_0x54620c(0x201)]('coins')['find']({'coin':'BNB'})['value']();_0x165b6b={..._0x8ac443,'number':_0x2c7f83[_0x54620c(0x26a)]},dbCoinResults['get'](_0x54620c(0x24e))[_0x54620c(0x244)]({'coin':_0x54620c(0x319)})['assign'](_0x165b6b)[_0x54620c(0x1f8)]();}}}}async function placeOrder(_0x412e9c){const _0x578f2f=_0x2a3b45,_0x4b159c=config[_0x578f2f(0x274)]==_0x578f2f(0x286)?_0x578f2f(0x286):_0x578f2f(0x2d0);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lockOrders=ORDERS[_0x578f2f(0x275)],allOrdersPlaced=![],validateOrdersState=_0x578f2f(0x2a5),lastOrders=[];for(const _0x43a785 of _0x412e9c){let _0x46c496,_0x5da6e0,_0x1bd21d,_0x2f5d52,_0x578e04,_0x2a85fd=_0x43a785['symbol'];try{const _0x2cc410=await exchange[_0x578f2f(0x26b)]([_0x2a85fd]),_0x44b905=_0x2cc410[_0x2a85fd];_0x46c496=_0x43a785[_0x578f2f(0x1fa)]?0x1/_0x43a785[_0x578f2f(0x320)]:_0x43a785['last'],_0x5da6e0=_0x44b905[_0x578f2f(0x2af)],_0x1bd21d=_0x44b905[_0x578f2f(0x29b)];_0x43a785[_0x578f2f(0x1fa)]?(_0x2f5d52=_0x43a785[_0x578f2f(0x2df)]=='buy'?'sell':_0x578f2f(0x237),_0x578e04=Math[_0x578f2f(0x1fd)](_0x43a785[_0x578f2f(0x2b0)])/_0x46c496):(_0x2f5d52=_0x43a785[_0x578f2f(0x2df)],_0x578e04=Math[_0x578f2f(0x1fd)](_0x43a785[_0x578f2f(0x2b0)]));_0x4b159c==_0x578f2f(0x2d0)&&(config[_0x578f2f(0x274)]=='limit-high'&&(_0x46c496=_0x2f5d52==_0x578f2f(0x237)?_0x5da6e0:_0x1bd21d),config[_0x578f2f(0x274)]==_0x578f2f(0x303)&&(_0x46c496=_0x2f5d52==_0x578f2f(0x237)?_0x1bd21d:_0x5da6e0));_0x578e04=formatResult(_0x578e04,0x8),_0x46c496=formatResult(_0x46c496,0x8);const _0x597dac=await exchange[_0x578f2f(0x20d)](_0x2a85fd,_0x4b159c,_0x2f5d52,_0x578e04,_0x46c496);lastOrders[_0x578f2f(0x31c)]({'orderId':_0x597dac['id'],'symbol':_0x2a85fd,'coin':_0x43a785[_0x578f2f(0x2b7)],'side':_0x2f5d52,'reverse':_0x43a785[_0x578f2f(0x1fa)],'amount':_0x597dac[_0x578f2f(0x2b1)],'filled':0x0,'price':_0x597dac[_0x578f2f(0x292)],'fee':_0x597dac['fee']});const _0x442e69=_0x2f5d52==_0x578f2f(0x213)?config[_0x578f2f(0x26f)]?String[_0x578f2f(0x215)]('0x'+config[_0x578f2f(0x26f)])+'\x20':'':config['emojibuy']?String[_0x578f2f(0x215)]('0x'+config['emojibuy'])+'\x20':'',_0x1bf983=_0x4b159c==_0x578f2f(0x286)?_0x578f2f(0x2e3):config['ordertype']==_0x578f2f(0x2f8)?_0x578f2f(0x209):_0x578f2f(0x21f);if(_0x4b159c=='market')logHistory('order',''+_0x442e69+_0x1bf983+'\x20order:\x20'+_0x2a85fd+'\x20'+_0x2f5d52+'\x20#'+formatResult(_0x597dac['filled'],0x8)+'\x20@'+formatResult(_0x597dac[_0x578f2f(0x292)],0x8));else logHistory(_0x578f2f(0x261),''+_0x442e69+_0x1bf983+_0x578f2f(0x2c6)+_0x2a85fd+'\x20'+_0x2f5d52+'\x20#'+formatResult(_0x597dac[_0x578f2f(0x2b1)],0x8)+'\x20@'+formatResult(_0x597dac[_0x578f2f(0x292)],0x8));let _0x50bfbe=currentCoins['find'](_0x207c19=>_0x207c19[_0x578f2f(0x2b7)]==_0x43a785[_0x578f2f(0x2b7)]);_0x50bfbe[_0x578f2f(0x1ee)]=_0x578f2f(0x2d5);if(config[_0x578f2f(0x29c)]!=0x0){let _0x4f7c26=null;if(cooldownTracker[_0x578f2f(0x2ea)]==config[_0x578f2f(0x29c)]-0x1)_0x4f7c26=cooldownTracker['shift']();const _0x2439d4=getTimeStamp();cooldownTracker[_0x578f2f(0x31c)](_0x2439d4);if(_0x4f7c26){const _0x219295=fns['differenceInSeconds'](new Date(_0x2439d4),new Date(_0x4f7c26));if(_0x219295<cooldownInterval){logHistory(_0x578f2f(0x30e),_0x578f2f(0x2bd)+config[_0x578f2f(0x29c)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x20bb6e){if(_0x20bb6e[_0x578f2f(0x272)]()['includes'](_0x578f2f(0x22a)))logHistory(_0x578f2f(0x30e),_0x578f2f(0x262)+_0x2a85fd);else{if(_0x20bb6e[_0x578f2f(0x272)]()[_0x578f2f(0x29a)](_0x578f2f(0x217)))logHistory(_0x578f2f(0x30e),_0x578f2f(0x2c3)+_0x2a85fd);else await handleError(_0x20bb6e,_0x578f2f(0x2f4),_0x2a85fd);}}}allOrdersPlaced=!![];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x1eb749=config[_0x578f2f(0x274)]==_0x578f2f(0x286)?validateOrderTimeout*0x3c*0x3e8:config[_0x578f2f(0x252)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x22b2dd=_0x578f2f;validateOrders(_0x22b2dd(0x20e));},_0x1eb749),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success','Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x578f2f(0x1f1)]&&logHistory(_0x578f2f(0x30e),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x578f2f(0x324)]&&(!config[_0x578f2f(0x1f1)]&&(config['ordertype']==_0x578f2f(0x286)?logHistory(_0x578f2f(0x30e),_0x578f2f(0x2fa)):logHistory(_0x578f2f(0x30e),_0x578f2f(0x25d))));}}function restoreOrders(){const _0x281cfa=_0x2a3b45;let _0x51f666;lockOrders=ORDERS[_0x281cfa(0x275)],validateOrdersState=_0x281cfa(0x293),currentCoins['forEach'](_0x23c6f3=>{const _0x190928=_0x281cfa,_0x47113f=allOpenOrders[_0x190928(0x244)](_0xe94913=>_0xe94913[_0x190928(0x263)]==_0x23c6f3['symbol']);_0x47113f&&(lastOrders[_0x190928(0x31c)]({'orderId':_0x47113f['id'],'symbol':_0x23c6f3[_0x190928(0x263)],'coin':_0x23c6f3[_0x190928(0x2b7)],'side':_0x47113f[_0x190928(0x2df)],'reverse':_0x23c6f3['reverse'],'amount':_0x47113f[_0x190928(0x2b1)],'filled':0x0,'price':_0x47113f[_0x190928(0x292)],'fee':_0x47113f[_0x190928(0x2f6)]}),_0x23c6f3[_0x190928(0x1ee)]='open',_0x51f666=_0x47113f['timestamp']);}),allOrdersPlaced=!![];const _0x113c8a=new Date()['getTime'](),_0x48d52e=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x51f666+_0x48d52e>_0x113c8a){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x545fc1=_0x281cfa;validateOrders(_0x545fc1(0x20e));},_0x51f666+_0x48d52e-_0x113c8a);}else validateOrders(_0x281cfa(0x20e));}async function sendPortfolioTelegram(){const _0x231ba6=_0x2a3b45;if(loading[_0x231ba6(0x2db)]!=0x64){process[_0x231ba6(0x31d)]({'telegrammsg':_0x231ba6(0x206)},_0x437234=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x3120f7=[_0x231ba6(0x24d),_0x231ba6(0x2fe),_0x231ba6(0x203)],_0x44b6d5=_0x3120f7[_0x231ba6(0x29a)](config[_0x231ba6(0x2eb)])?0x2:0x8;let _0x52e1f5='';if(config['showname'])_0x52e1f5=_0x231ba6(0x1e2)+config[_0x231ba6(0x2bb)]+_0x231ba6(0x250);else _0x52e1f5=_0x231ba6(0x2cc)+botID+_0x231ba6(0x250);const _0x4a09a6=getKPIs(_0x231ba6(0x2eb)),_0x126303=getKPIs(_0x231ba6(0x311));_0x52e1f5+=_0x231ba6(0x29e),_0x52e1f5+=_0x4a09a6[_0x231ba6(0x307)]+'\x20:\x20'+_0x4a09a6[_0x231ba6(0x25b)]+'\x20\x0a',_0x52e1f5+=_0x4a09a6[_0x231ba6(0x308)]+':\x20'+_0x4a09a6[_0x231ba6(0x23f)]+'%\x20\x0a',_0x52e1f5+=_0x126303[_0x231ba6(0x307)]+':\x20'+_0x126303[_0x231ba6(0x25b)]+'\x20'+config[_0x231ba6(0x2eb)]+'\x0a',_0x52e1f5+=_0x126303['rightTxt']+':\x20'+_0x126303[_0x231ba6(0x23f)]+_0x231ba6(0x210),_0x52e1f5+='\x0a',_0x52e1f5+=_0x231ba6(0x1fc),_0x52e1f5+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x52e1f5+=_0x231ba6(0x1fc),currentCoins[_0x231ba6(0x2aa)](_0x1e5884=>{const _0x181d9e=_0x231ba6;_0x52e1f5+=_0x1e5884[_0x181d9e(0x2b7)][_0x181d9e(0x2a3)](0x7)+'|\x20'+formatPad(_0x1e5884[_0x181d9e(0x2f3)],0x2,0x6)+'|\x20'+formatPad(_0x1e5884[_0x181d9e(0x30a)],0x2,0x6)+'|\x20'+formatPad(_0x1e5884[_0x181d9e(0x231)]*0x64,0x2,0x6)+'\x0a';}),_0x52e1f5+=_0x231ba6(0x315),process[_0x231ba6(0x31d)]({'telegrammsg':_0x52e1f5},_0x4c7ec4=>{});}function formatPad(_0x3638bd,_0x19eaf6,_0x40e427){const _0x5e9972=_0x2a3b45,_0x21c7d8=formatResultString(_0x3638bd,_0x19eaf6);return _0x21c7d8?_0x21c7d8[_0x5e9972(0x200)](_0x40e427):''['padStart'](_0x40e427);}function logHistory(_0x47bed6,_0x190df3,_0x5594d5=''){const _0x3df230=_0x2a3b45;let _0x533444={'time':getTimeStamp(),'type':_0x47bed6,'event':_0x190df3};dbLogs['get']('logs')[_0x3df230(0x31c)](_0x533444)[_0x3df230(0x1f8)]();if(_0x5594d5=='')_0x5594d5=_0x190df3;proxyEmit('event',{'log':_0x533444,'summary':_0x5594d5}),process[_0x3df230(0x31d)]({'telegram':{..._0x533444,'botname':config[_0x3df230(0x2bb)],'showname':config[_0x3df230(0x2c7)]}},_0x28dec5=>{}),logging(''+_0x533444[_0x3df230(0x287)]);}function emitHistory(_0x3f79e9={}){const _0x351c87=_0x2a3b45;Object[_0x351c87(0x288)](_0x3f79e9)[_0x351c87(0x2ea)]==0x0&&(_0x3f79e9={'type':['order',_0x351c87(0x287)],'event':'','page':0x1});if(_0x3f79e9[_0x351c87(0x24a)][_0x351c87(0x29a)](_0x351c87(0x287)))_0x3f79e9[_0x351c87(0x24a)][_0x351c87(0x30f)](_0x3f79e9[_0x351c87(0x24a)][_0x351c87(0x30c)](_0x351c87(0x287)),0x1,_0x351c87(0x30e),_0x351c87(0x279));if(dbLogs[_0x351c87(0x245)](_0x351c87(0x299))['value']()){let _0x57c517=dbLogs[_0x351c87(0x201)]('logs')[_0x351c87(0x306)](_0x47245b=>{const _0x4f620c=_0x351c87;if(_0x3f79e9['type'][_0x4f620c(0x2ea)]==0x0)return![];else return _0x3f79e9[_0x4f620c(0x24a)][_0x4f620c(0x29a)](_0x47245b[_0x4f620c(0x24a)]);})[_0x351c87(0x306)](_0x3d106a=>{const _0x22630c=_0x351c87;if(_0x3f79e9[_0x22630c(0x287)]=='')return!![];else return _0x3d106a['event'][_0x22630c(0x229)]()[_0x22630c(0x29a)](_0x3f79e9[_0x22630c(0x287)]['toLowerCase']());})[_0x351c87(0x24b)]('time'),_0x3469bc=_0x57c517[_0x351c87(0x25b)]()[_0x351c87(0x2ea)];_0x57c517=_0x57c517[_0x351c87(0x1fa)]()[_0x351c87(0x2ce)]((_0x3f79e9[_0x351c87(0x1ea)]-0x1)*logPageSize,_0x3f79e9[_0x351c87(0x1ea)]*logPageSize-0x1)[_0x351c87(0x1fa)]()[_0x351c87(0x25b)](),proxyEmit('event-history',{'logs':_0x57c517,'total':_0x3469bc});}else proxyEmit(_0x351c87(0x2c4),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x178216){const _0x2308cb=_0x2a3b45;if(dbLogs[_0x2308cb(0x245)](_0x2308cb(0x299))[_0x2308cb(0x25b)]()){const _0x885e79=dbLogs['get'](_0x2308cb(0x299))[_0x2308cb(0x24b)]('time')['filter'](_0x5bd317=>{const _0x5ce3c1=_0x2308cb;return _0x5bd317[_0x5ce3c1(0x24a)]==_0x5ce3c1(0x261);})[_0x2308cb(0x25b)]();dbLogs[_0x2308cb(0x201)](_0x2308cb(0x299))[_0x2308cb(0x20b)]()[_0x2308cb(0x1f8)](),dbLogs['get']('logs')[_0x2308cb(0x25c)](_0x885e79)[_0x2308cb(0x1f8)](),emitHistory(_0x178216);}}async function pauseBot(_0x2f88da=''){const _0x389578=_0x2a3b45,_0x59805c=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x389578(0x30b)](),consecutivePauses=0x1;else{if(_0x59805c-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x389578(0x247)},_0x45f8af=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x2f88da)_0x2f88da+=_0x389578(0x2ba);logHistory(_0x389578(0x30e),_0x2f88da+_0x389578(0x208)+pauseBotInterval/0xea60+_0x389578(0x2be)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x3185aa=_0x2a3b45;process[_0x3185aa(0x31d)]({'stop':_0x3185aa(0x2c0)},_0x47f590=>{}),await sleep(0x7d0);}async function handleError(_0x14b8fa,_0x3d1f15,_0x3b162d=''){const _0xbfc4ec=_0x2a3b45;if(_0x14b8fa[_0xbfc4ec(0x272)]()[_0xbfc4ec(0x29a)](_0xbfc4ec(0x2f2)))await pauseBot('Binance\x20API\x20blocked');else{if(_0x14b8fa[_0xbfc4ec(0x272)]()[_0xbfc4ec(0x29a)]('ExchangeNotAvailable'))await pauseBot(_0xbfc4ec(0x28e));else{if(_0x14b8fa['toString']()[_0xbfc4ec(0x29a)](_0xbfc4ec(0x211)))await pauseBot(_0xbfc4ec(0x2d7));else{if(_0x14b8fa['toString']()[_0xbfc4ec(0x29a)](_0xbfc4ec(0x2fc)))logHistory(_0xbfc4ec(0x30e),_0x3d1f15+_0xbfc4ec(0x2f0)),logHistory(_0xbfc4ec(0x30e),_0xbfc4ec(0x251)),await killBot();else{if(_0x14b8fa['toString']()['includes'](_0xbfc4ec(0x2fd)))logHistory(_0xbfc4ec(0x30e),_0x3d1f15+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0xbfc4ec(0x30e),_0xbfc4ec(0x251)),await killBot();else{if(_0x14b8fa[_0xbfc4ec(0x272)]()[_0xbfc4ec(0x29a)](_0xbfc4ec(0x248)))logHistory(_0xbfc4ec(0x30e),_0x3d1f15+_0xbfc4ec(0x257)),logHistory(_0xbfc4ec(0x30e),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x14b8fa['toString']()[_0xbfc4ec(0x29a)](_0xbfc4ec(0x2d2)))logHistory('error',_0x3d1f15+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0xbfc4ec(0x30e),_0xbfc4ec(0x251)),await killBot();else{if(_0x14b8fa[_0xbfc4ec(0x272)]()[_0xbfc4ec(0x29a)](_0xbfc4ec(0x22b)))await pauseBot(_0xbfc4ec(0x31e)),process[_0xbfc4ec(0x31d)]({'stop':_0xbfc4ec(0x247)},_0x45e48e=>{});else _0x14b8fa[_0xbfc4ec(0x272)]()[_0xbfc4ec(0x29a)](_0xbfc4ec(0x2ff))?logHistory(_0xbfc4ec(0x30e),_0x3d1f15+_0xbfc4ec(0x2a1)+_0x3b162d):(logging(_0x3d1f15+_0xbfc4ec(0x2b5),_0x14b8fa),await pauseBot(_0xbfc4ec(0x25f)));}}}}}}}}function formatResult(_0x216623,_0x51a678){return parseFloat(_0x216623['toFixed'](_0x51a678));}function formatResultTruncate(_0x1821bf,_0x3c1688){const _0xc43d9c=_0x2a3b45;let _0x5c263c=formatResultString(_0x1821bf,0xa),_0x29086a=_0x5c263c[_0xc43d9c(0x30c)]('.');return _0x29086a!=-0x1&&(_0x5c263c=_0x5c263c['slice'](0x0,_0x29086a+_0x3c1688+0x1)),Number(_0x5c263c);}function formatResultString(_0x7c6601,_0x5f2961){const _0x13712d=_0x2a3b45;let _0x1e8ecb;if(!(''+_0x7c6601)[_0x13712d(0x29a)]('e'))_0x1e8ecb=+(Math[_0x13712d(0x321)](_0x7c6601+'e+'+_0x5f2961)+'e-'+_0x5f2961);else{let _0xee2ec9=(''+_0x7c6601)[_0x13712d(0x27c)]('e'),_0x3ddd36='';+_0xee2ec9[0x1]+_0x5f2961>0x0&&(_0x3ddd36='+'),_0x1e8ecb=+(Math[_0x13712d(0x321)](+_0xee2ec9[0x0]+'e'+_0x3ddd36+(+_0xee2ec9[0x1]+_0x5f2961))+'e-'+_0x5f2961);}return Number(_0x1e8ecb)['toFixed'](_0x5f2961);}function logging(_0x5a170c,_0x10141d=''){const _0x2b16e9=_0x2a3b45;if(config[_0x2b16e9(0x2c7)])console[_0x2b16e9(0x289)](getTimeStamp()+':\x20'+config[_0x2b16e9(0x2bb)]+_0x2b16e9(0x27b)+_0x5a170c,_0x10141d);else console[_0x2b16e9(0x289)](getTimeStamp()+_0x2b16e9(0x1f4)+botID+_0x2b16e9(0x27b)+_0x5a170c,_0x10141d);}function getServerTime(){const _0x3dec97=_0x2a3b45,_0x855a4c=new Date();return _0x855a4c[_0x3dec97(0x221)]()+'/'+(_0x855a4c[_0x3dec97(0x2e1)]()+0x1)['toString']()[_0x3dec97(0x200)](0x2,'0')+'/'+_0x855a4c['getDate']()['toString']()[_0x3dec97(0x200)](0x2,'0')+'\x20'+_0x855a4c['getHours']()[_0x3dec97(0x272)]()[_0x3dec97(0x200)](0x2,'0')+':'+_0x855a4c['getMinutes']()[_0x3dec97(0x272)]()[_0x3dec97(0x200)](0x2,'0')+':'+_0x855a4c[_0x3dec97(0x20a)]()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x24e157=_0x2a3b45,_0x399ece=shiftedTime();return _0x399ece[_0x24e157(0x221)]()+'/'+(_0x399ece[_0x24e157(0x2e1)]()+0x1)['toString']()[_0x24e157(0x200)](0x2,'0')+'/'+_0x399ece['getDate']()[_0x24e157(0x272)]()[_0x24e157(0x200)](0x2,'0')+'\x20'+_0x399ece[_0x24e157(0x232)]()[_0x24e157(0x272)]()[_0x24e157(0x200)](0x2,'0')+':'+_0x399ece[_0x24e157(0x239)]()[_0x24e157(0x272)]()['padStart'](0x2,'0')+':'+_0x399ece[_0x24e157(0x20a)]()[_0x24e157(0x272)]()[_0x24e157(0x200)](0x2,'0');}function getDate(){const _0x2da60e=_0x2a3b45,_0x5dcfe4=shiftedTime();return _0x5dcfe4[_0x2da60e(0x221)]()+'/'+(_0x5dcfe4[_0x2da60e(0x2e1)]()+0x1)[_0x2da60e(0x272)]()['padStart'](0x2,'0')+'/'+_0x5dcfe4[_0x2da60e(0x1e4)]()[_0x2da60e(0x272)]()[_0x2da60e(0x200)](0x2,'0');}function getHour(){const _0x3db429=_0x2a3b45,_0x27566d=shiftedTime();return _0x27566d[_0x3db429(0x232)]()[_0x3db429(0x272)]()[_0x3db429(0x200)](0x2,'0');}function sleep(_0x4f577e){return new Promise(_0x1d9b54=>setTimeout(_0x1d9b54,_0x4f577e));}function shiftedTime(){const _0x585d9b=_0x2a3b45,_0x2baaee=new Date();let _0x22cdb1=_0x2baaee;if(config&&config['timeshift']!==0x0)_0x22cdb1=fns[_0x585d9b(0x2c2)](_0x2baaee,{'hours':config[_0x585d9b(0x1e5)]});return _0x22cdb1;}