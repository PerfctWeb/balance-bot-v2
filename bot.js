const _0x12030b=_0x21f6;(function(_0x126c3a,_0x5e4142){const _0x33381d=_0x21f6,_0xd2086=_0x126c3a();while(!![]){try{const _0x3e5457=-parseInt(_0x33381d(0x121))/0x1*(-parseInt(_0x33381d(0xfb))/0x2)+-parseInt(_0x33381d(0xcf))/0x3+parseInt(_0x33381d(0x1c0))/0x4+parseInt(_0x33381d(0x1f2))/0x5+parseInt(_0x33381d(0x1ea))/0x6+-parseInt(_0x33381d(0x12c))/0x7+-parseInt(_0x33381d(0x201))/0x8;if(_0x3e5457===_0x5e4142)break;else _0xd2086['push'](_0xd2086['shift']());}catch(_0x3d1902){_0xd2086['push'](_0xd2086['shift']());}}}(_0x1157,0x9401f));const _0x4d3e67=function(){let _0x18c3da=!![];return function(_0x3c080b,_0x3a74fa){const _0x339a4e=_0x18c3da?function(){const _0x4f9164=_0x21f6;if(_0x3a74fa){const _0x371f59=_0x3a74fa[_0x4f9164(0x19c)](_0x3c080b,arguments);return _0x3a74fa=null,_0x371f59;}}:function(){};return _0x18c3da=![],_0x339a4e;};}(),_0x5221bf=_0x4d3e67(this,function(){const _0x243e22=_0x21f6;return _0x5221bf['toString']()[_0x243e22(0xa5)](_0x243e22(0x8b))[_0x243e22(0x124)]()[_0x243e22(0x1b9)](_0x5221bf)[_0x243e22(0xa5)](_0x243e22(0x8b));});_0x5221bf();'use strict';const ccxt=require(_0x12030b(0xb4)),low=require('lowdb'),FileSync=require(_0x12030b(0x15e)),fs=require('fs'),fns=require(_0x12030b(0x22f)),Crypt=require(_0x12030b(0x206))[_0x12030b(0x1ad)],util=require(_0x12030b(0x1a4)),argv=require(_0x12030b(0x1f9))(process[_0x12030b(0x1e4)][_0x12030b(0x160)](0x2))['argv'],path=require(_0x12030b(0x1bf)),axios=require(_0x12030b(0x1fe));let exchange,gTicker={},gChange={};const usdBasecoins=[_0x12030b(0x97),_0x12030b(0x183),_0x12030b(0x21f),_0x12030b(0x229),_0x12030b(0x20c),_0x12030b(0xef)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x12030b(0x178)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x12030b(0xd8)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x12030b(0x123)+pauseBotInterval/0xea60+_0x12030b(0x139),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x12030b(0x152))['version'],botID=process[_0x12030b(0x1e4)][0x2]||_0x12030b(0x236),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x12030b(0x1cd)]('Error:\x20Invalid\x20argument\x20'+botID+_0x12030b(0xe7)),killBot());const userID=process[_0x12030b(0x1e4)][0x3]||'',configpath=userID?_0x12030b(0x1e6)+userID+'/':_0x12030b(0x1e6),logspath=userID?_0x12030b(0x126)+userID+'/':'./logs/',loggerfile=fs[_0x12030b(0xd9)](logspath+_0x12030b(0x19f),{'flags':'a'});!fs[_0x12030b(0x102)](configpath)&&fs[_0x12030b(0x1c1)](configpath);!fs[_0x12030b(0x102)](logspath)&&fs[_0x12030b(0x1c1)](logspath);const configfile=configpath+_0x12030b(0xbc)+botID+_0x12030b(0x103),logfile=configpath+_0x12030b(0xbc)+botID+_0x12030b(0x1c5),performancefile=configpath+_0x12030b(0xbc)+botID+_0x12030b(0x194),coinresultsfile=configpath+_0x12030b(0xbc)+botID+_0x12030b(0x1a5),settingsfile=configpath+_0x12030b(0x146),securefile=configpath+_0x12030b(0x86),configbackuppath=configpath+_0x12030b(0x16d),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x12030b(0x159)]({'logs':[],'version':serverversion})[_0x12030b(0x106)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x12030b(0x106)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[],'version':serverversion})[_0x12030b(0x106)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x12030b(0x234),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3038f9=>{const _0x41a5d1=_0x12030b;console[_0x41a5d1(0x1cd)](_0x3038f9);},'simple':_0x1beed8=>{const _0x30b3e5=_0x12030b;console['log'](_0x1beed8),loggerfile[_0x30b3e5(0x106)](util['format'](_0x1beed8)+'\x0a');},'full':async(_0x10f426,_0x29f4a4='')=>{const _0x241a47=_0x12030b;let _0x5080ba;if(config['showname'])_0x5080ba=getTimeStamp()+':\x20'+config['botname']+_0x241a47(0xd6)+_0x10f426;else _0x5080ba=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x10f426;console[_0x241a47(0x1cd)](_0x5080ba),loggerfile[_0x241a47(0x106)](util[_0x241a47(0x1a7)](_0x5080ba)+'\x0a'),_0x29f4a4&&(console[_0x241a47(0x1cd)](_0x29f4a4),loggerfile[_0x241a47(0x106)](util[_0x241a47(0x1a7)](_0x29f4a4)+'\x0a'));},'debug':async(_0x4dee0d,_0x5a2efe='')=>{const _0x2ff730=_0x12030b;let _0x41f8eb;if(config[_0x2ff730(0xb3)])_0x41f8eb=getTimeStamp()+':\x20'+config[_0x2ff730(0x1a3)]+_0x2ff730(0x1d5)+_0x4dee0d;else _0x41f8eb=getTimeStamp()+_0x2ff730(0x13f)+botID+_0x2ff730(0x1d5)+_0x4dee0d;if(debugging)console[_0x2ff730(0x1cd)](_0x41f8eb);loggerfile[_0x2ff730(0x106)](util['format'](_0x41f8eb)+'\x0a');if(_0x5a2efe){if(debugging)console[_0x2ff730(0x1cd)](_0x5a2efe);loggerfile[_0x2ff730(0x106)](util[_0x2ff730(0x1a7)](_0x5a2efe)+'\x0a');}}};process['on'](_0x12030b(0x224),function(_0x107481){const _0x2c4ea1=_0x12030b;handleError(_0x107481,_0x2c4ea1(0x224));});settings['timeshift']!=config[_0x12030b(0xfd)]&&updateTimeshift(settings[_0x12030b(0xfd)]);settings['onepagemode']!=config[_0x12030b(0x10f)]&&updateOnepagemode(settings['onepagemode']);(settings['marketcapApi']&&!config[_0x12030b(0x217)]||!settings[_0x12030b(0x217)]&&config[_0x12030b(0x217)])&&updateMarketcapApi(settings[_0x12030b(0x217)]);process[_0x12030b(0xd2)]({'started':_0x12030b(0x81)},_0x8b4a87=>{}),initializeProcessListeners();function proxyEmit(_0x450ca2,_0x49ad8c=null){process['send']({'function':_0x450ca2,'args':_0x49ad8c},_0x13a0e1=>{});}function initializeProcessListeners(){process['on']('message',_0x4d5dbe=>{const _0x19b1b1=_0x21f6;switch(Object[_0x19b1b1(0x92)](_0x4d5dbe)[0x0]){case'timeshift':_0x4d5dbe[_0x19b1b1(0xfd)]!=undefined&&(settings['timeshift']=_0x4d5dbe['timeshift'],updateTimeshift(settings[_0x19b1b1(0xfd)]));break;case _0x19b1b1(0x10f):_0x4d5dbe[_0x19b1b1(0x10f)]!=undefined&&(settings[_0x19b1b1(0x10f)]=_0x4d5dbe[_0x19b1b1(0x10f)],updateOnepagemode(settings['onepagemode']));break;case _0x19b1b1(0x217):_0x4d5dbe['marketcapApi']!=undefined&&(settings['marketcapApi']=_0x4d5dbe[_0x19b1b1(0x217)],updateMarketcapApi(settings[_0x19b1b1(0x217)]));break;case _0x19b1b1(0xba):_0x4d5dbe[_0x19b1b1(0xba)]!=undefined&&(bots=JSON[_0x19b1b1(0x9e)](_0x4d5dbe[_0x19b1b1(0xba)]),proxyEmit(_0x19b1b1(0xba),bots));break;case _0x19b1b1(0x145):switch(_0x4d5dbe['function']){case _0x19b1b1(0x22e):initclient();break;case _0x19b1b1(0x13b):toggleBotMode();break;case'silentRestart':silentRestart();break;case _0x19b1b1(0x165):emitHistory(_0x4d5dbe[_0x19b1b1(0xce)]);break;case _0x19b1b1(0x127):deleteHistoryAlerts(_0x4d5dbe[_0x19b1b1(0xce)]);break;case'getPortfolio':getPortfolio(_0x4d5dbe[_0x19b1b1(0xce)]);break;case _0x19b1b1(0x1c3):storeConfiguration(_0x4d5dbe['args']);break;case _0x19b1b1(0xa4):storeHeadless(_0x4d5dbe[_0x19b1b1(0xce)]);break;case'storeFiat':storeFiat(_0x4d5dbe[_0x19b1b1(0xce)]);break;case _0x19b1b1(0x125):resetHistory();break;case _0x19b1b1(0xab):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x4d5dbe['args']);break;case _0x19b1b1(0x14b):cancelLoading();break;case _0x19b1b1(0x1f1):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x19b1b1(0x1d0):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x16a4d6=![]){const _0x1ccb2e=_0x12030b;logger[_0x1ccb2e(0x204)]('Reset\x20|\x20'+(_0x16a4d6?_0x1ccb2e(0x153):_0x1ccb2e(0x132))+'\x20|\x20exchange:\x20'+config[_0x1ccb2e(0x82)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x16a4d6)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x1ccb2e(0x169)]!=''&&config[_0x1ccb2e(0x169)]!='***'){loadingProgress=0x0;if(_0x16a4d6){if(pidCoinReloading)clearTimeout(pidCoinReloading);await initExchange();try{await loadSymbols();}catch(_0x45cbf1){handleErrorNoStop(_0x45cbf1,'loadSymbols()');return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x442d3d=await getCoins();[currentCoins,currentCoinsAll]=_0x442d3d,blockTransactionDetection=![],getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x1ccb2e(0xd3)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x1ccb2e(0x212)]==0x0&&allOpenOrders[_0x1ccb2e(0x212)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x1a6132){const _0x135915=_0x12030b;let _0x33aadf=![];if(_0x1a6132)_0x33aadf=!![];let _0x5848f1;_0x33aadf?_0x5848f1=_0x1a6132['map'](_0x35e20b=>_0x35e20b[_0x135915(0x170)]):_0x5848f1=currentCoinsAll[_0x135915(0x17d)](_0x5dbe44=>_0x5dbe44[_0x135915(0x170)]);if(!config[_0x135915(0x217)]||!_0x33aadf&&!config[_0x135915(0x1b8)]||_0x5848f1[_0x135915(0x212)]==0x0)return;let _0x14bae8=null;try{_0x14bae8=await axios['get']('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x135915(0x217)]},'params':{'symbol':_0x5848f1['toString']()}});}catch(_0xa4bf81){_0x14bae8=null,_0xa4bf81[_0x135915(0x124)]()[_0x135915(0x223)](_0x135915(0x18c))?(config['marketcapApi']=![],updateConfig(),proxyEmit(_0x135915(0x1d7),emittedConfiguration()),logHistory(_0x135915(0xc3),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory(_0x135915(0xc3),_0x135915(0x21d)+schedulerInterval/(0x3c*0x3e8)+'\x20minutes'),logger['debug'](_0x135915(0x122),_0xa4bf81[_0x135915(0x124)]()+_0x135915(0x182)+_0xa4bf81[_0x135915(0x14e)]));}if(_0x14bae8){let _0x169fa4=0x0;const _0x4bfe36=_0x14bae8[_0x135915(0x1b6)];_0x5848f1['forEach'](_0x5509d2=>{const _0x3e4885=_0x135915;if(_0x4bfe36[_0x3e4885(0x1b6)][_0x5509d2][0x0])_0x169fa4+=_0x4bfe36[_0x3e4885(0x1b6)][_0x5509d2][0x0][_0x3e4885(0x17c)]['USD']['market_cap'];}),_0x5848f1['forEach'](_0x45326d=>{const _0xb3eb9d=_0x135915,_0x13ce31=_0x4bfe36[_0xb3eb9d(0x1b6)][_0x45326d][0x0]?_0x4bfe36[_0xb3eb9d(0x1b6)][_0x45326d][0x0][_0xb3eb9d(0x17c)][_0xb3eb9d(0x97)][_0xb3eb9d(0x9d)]:0x0;if(_0x33aadf){const _0xd07b98=_0x1a6132[_0xb3eb9d(0x1d2)](_0x146f90=>_0x146f90[_0xb3eb9d(0x170)]==_0x45326d);_0xd07b98&&(_0xd07b98['marketcap']=_0x13ce31);}else{const _0x285bf0=currentCoins[_0xb3eb9d(0x1d2)](_0x219f44=>_0x219f44['coin']==_0x45326d);_0x285bf0&&(_0x285bf0['marketcap']=_0x13ce31);const _0x2e35f8=currentCoinsAll[_0xb3eb9d(0x1d2)](_0x300deb=>_0x300deb[_0xb3eb9d(0x170)]==_0x45326d);_0x2e35f8&&(_0x2e35f8[_0xb3eb9d(0x12e)]=_0x13ce31);}}),!_0x33aadf&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x57442d=_0x12030b,_0x44b4f0=0x2;let _0x434690=0x0,_0x24ae6b=0x0,_0x1bb8d7=0x0,_0xb48935=0x0,_0xb8d9dd=0x0;config['portfolio'][_0x57442d(0x196)](_0x417e9e=>{const _0x2fe90a=_0x57442d;if(!_0x417e9e[_0x2fe90a(0x1aa)]){_0x1bb8d7++,_0x434690+=_0x417e9e[_0x2fe90a(0x1c2)];if(_0x417e9e[_0x2fe90a(0x1c2)]===-0x1){_0x434690++;const _0x139a68=currentCoinsAll[_0x2fe90a(0x1d2)](_0x319828=>_0x319828[_0x2fe90a(0x170)]==_0x417e9e[_0x2fe90a(0x170)]);_0x139a68&&(_0xb48935+=_0x139a68[_0x2fe90a(0x12e)],_0xb8d9dd+=Math[_0x2fe90a(0x172)](_0x139a68['marketcap']));}if(_0x417e9e['slider']!==-0x1)_0x24ae6b++;}});let _0x27d201;const _0x2009d4=0x64-_0x434690,_0x24034d=_0x1bb8d7-_0x24ae6b;_0x27d201=_0x24034d===0x0?_0x434690:Math['max'](0x64,_0x434690),config[_0x57442d(0xe0)][_0x57442d(0x196)](_0x8c28d5=>{const _0x232fa3=_0x57442d,_0x443cb9=currentCoinsAll[_0x232fa3(0x1d2)](_0x5314d2=>_0x5314d2[_0x232fa3(0x170)]==_0x8c28d5[_0x232fa3(0x170)]);_0x443cb9&&(_0x8c28d5[_0x232fa3(0x12e)]=_0x443cb9[_0x232fa3(0x12e)]);if(!_0x8c28d5[_0x232fa3(0x1aa)]){if(_0x27d201<=0x64){if(_0x8c28d5[_0x232fa3(0x1c2)]===-0x1){if(_0xb48935!==0x0&&config[_0x232fa3(0x1b8)]){if(_0x443cb9){if(config[_0x232fa3(0x1b8)]==_0x232fa3(0x12e))_0x8c28d5['distribution']=(_0x2009d4/(_0xb48935/_0x443cb9[_0x232fa3(0x12e)]))['toFixed'](_0x44b4f0);else config[_0x232fa3(0x1b8)]==_0x232fa3(0x156)&&(_0x8c28d5[_0x232fa3(0xc9)]=(_0x2009d4/(_0xb8d9dd/Math[_0x232fa3(0x172)](_0x443cb9[_0x232fa3(0x12e)])))['toFixed'](_0x44b4f0));}}}}}}),updateConfig();}function updateConfig(){const _0x2b2e8a=_0x12030b;let _0x555e12=dbConfig[_0x2b2e8a(0x11e)](_0x2b2e8a(0x1e7))[_0x2b2e8a(0x1d2)]({'botID':botID})[_0x2b2e8a(0x120)]();_0x555e12&&dbConfig[_0x2b2e8a(0x11e)](_0x2b2e8a(0x1e7))[_0x2b2e8a(0x1d2)]({'botID':botID})[_0x2b2e8a(0xb1)](config)[_0x2b2e8a(0x106)]();}async function startScheduler(){const _0x92de16=_0x12030b,_0x7f65f6=shiftedTime()[_0x92de16(0x11d)]();getMarketCap(),(_0x7f65f6==0x6||_0x7f65f6==0x12)&&reloadExchange(),await sleep(schedulerInterval),startScheduler();}async function silentRestart(){const _0xad8721=_0x12030b;logger[_0xad8721(0x204)](_0xad8721(0x1d1));while(lockOrders!=ORDERS[_0xad8721(0xd8)]||coolingDown){await sleep(0xa*0x3e8);}process['exit'](0x7);}async function restartBot(_0x2519b6=![]){const _0x321b05=_0x12030b;logger[_0x321b05(0x204)](_0x321b05(0xd5));if(!_0x2519b6){while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0xa*0x3e8);}await stopExchange();}process[_0x321b05(0xd2)]({'stop':_0x321b05(0x13d)},_0x4bd2cc=>{});}async function stopExchange(){const _0x5d265d=_0x12030b;if(!exchange)return;exchangeStopped=!![];try{await exchange[_0x5d265d(0x15c)]();}catch(_0x1d36d7){await handleError(_0x1d36d7,_0x5d265d(0xea));}}async function reloadExchange(){const _0xb45c1e=_0x12030b;logger[_0xb45c1e(0x204)](_0xb45c1e(0x11f));while(lockOrders!=ORDERS[_0xb45c1e(0xd8)]||coolingDown){await sleep(0x3c*0x3e8);}await stopExchange(),reset(!![]);}async function initExchange(_0xe52f0f=config[_0x12030b(0x82)],_0x5a810e=config['apiKey'],_0x2ee1b8=config[_0x12030b(0x114)],_0x3e0400=config[_0x12030b(0x237)]){const _0x10bf07=_0x12030b;await stopExchange();!supportedExchanges()[_0x10bf07(0x223)](_0xe52f0f)&&(logHistory(_0x10bf07(0xc3),_0x10bf07(0x184)+_0xe52f0f+'\x20exchange'),killBot());const _0x5ad5e3=ccxt[_0x10bf07(0x226)][_0xe52f0f[_0x10bf07(0x130)]()];exchange=new _0x5ad5e3({'apiKey':_0x5a810e,'secret':_0x2ee1b8,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x10bf07(0x1fa)}});if(_0x3e0400)exchange[_0x10bf07(0xe9)]=_0x3e0400;}function setStableCoins(){const _0x1aeb12=_0x12030b;let _0x1fa0c4=config['basecoin']=='ETH'?_0x1aeb12(0x1ce):config['basecoin']==_0x1aeb12(0x188)?_0x1aeb12(0x188):_0x1aeb12(0xff),_0x457b4b=!allSymbols[_0x1aeb12(0x223)](_0x1fa0c4+'/USD')?'USDT':_0x1aeb12(0x97),_0x581809=!allSymbols['includes'](_0x1fa0c4+_0x1aeb12(0x203))?_0x457b4b:_0x1aeb12(0x174);stablecoins={'eur':{'coin':''+_0x1fa0c4+_0x581809,'symbol':_0x1fa0c4+'/'+_0x581809},'usd':{'coin':''+_0x1fa0c4+_0x457b4b,'symbol':_0x1fa0c4+'/'+_0x457b4b}};}async function initwsCcxt(){const _0x32a7e1=_0x12030b;initCycle++;const _0x58f5d0=initCycle;let _0x666f30=[];config['portfolio'][_0x32a7e1(0x196)](_0x42bee2=>{const _0x4bdc4c=_0x32a7e1;if(!_0x42bee2['excluded']&&_0x42bee2[_0x4bdc4c(0x170)]!=config[_0x4bdc4c(0x222)])_0x666f30['push'](_0x42bee2[_0x4bdc4c(0xc1)]);});if(!_0x666f30[_0x32a7e1(0x223)](stablecoins[_0x32a7e1(0x101)][_0x32a7e1(0xc1)]))_0x666f30[_0x32a7e1(0xf8)](stablecoins[_0x32a7e1(0x101)][_0x32a7e1(0xc1)]);if(!_0x666f30['includes'](stablecoins['usd']['symbol']))_0x666f30[_0x32a7e1(0xf8)](stablecoins[_0x32a7e1(0x1c4)][_0x32a7e1(0xc1)]);if(config[_0x32a7e1(0x82)][_0x32a7e1(0x1f0)](_0x32a7e1(0x8a))&&config[_0x32a7e1(0x222)]!='PAXG'){if(!_0x666f30['includes'](_0x32a7e1(0x18a)+config['basecoin']))_0x666f30[_0x32a7e1(0xf8)](_0x32a7e1(0x18a)+config[_0x32a7e1(0x222)]);}loadCoins(_0x666f30),_0x666f30=validateSymbols(_0x666f30);const _0x9f5f9e=async _0x342e9f=>{const _0x1d67b7=_0x32a7e1;let _0x2c7c77;try{const _0x381abe=await getTickers(_0x342e9f);Object[_0x1d67b7(0xeb)](_0x381abe)['forEach'](_0x4801ac=>{const _0xa484da=_0x1d67b7;_0x2c7c77=_0x4801ac[0x1]['symbol'],gTicker[noslash(_0x2c7c77)]=_0x4801ac[0x1][_0xa484da(0x14d)],gChange[_0x2c7c77]=_0x4801ac[0x1]['percentage'];});}catch(_0x141dbb){await handleError(_0x141dbb,_0x1d67b7(0x10d),_0x2c7c77);}},_0x5daa60=async _0x545b61=>{const _0x4854f2=_0x32a7e1;while(initCycle==_0x58f5d0){if(!botPaused)try{const _0x20076d=await exchange['watchTrades'](_0x545b61);gTicker[noslash(_0x20076d[0x0][_0x4854f2(0xc1)])]=_0x20076d[0x0][_0x4854f2(0xec)];}catch(_0x9e8178){if(!exchangeStopped)await handleError(_0x9e8178,_0x4854f2(0xae),_0x545b61);}else await sleep(0x64);}},_0x1ac061=async _0xfa1435=>{const _0xe78c67=_0x32a7e1;while(initCycle==_0x58f5d0){if(!botPaused)try{const _0x3bfa15=await exchange[_0xe78c67(0x1ed)](_0xfa1435),_0x4798ed=_0x3bfa15[_0xe78c67(0x18e)]();gTicker[noslash(_0x4798ed['symbol'])]=_0x4798ed[_0xe78c67(0xec)];}catch(_0x3450dd){if(!exchangeStopped)await handleError(_0x3450dd,'watchTradesForSymbols()',_0xfa1435[_0xe78c67(0x124)]());}else await sleep(0x64);}},_0x141afe=async _0x9758af=>{const _0x3392dc=_0x32a7e1;while(initCycle==_0x58f5d0){if(!botPaused){let _0x64c699;try{await sleep(0x3c*0x3e8);const _0x3d2f86=await getTickers(_0x9758af);Object['entries'](_0x3d2f86)[_0x3392dc(0x196)](_0x1b1fc6=>{const _0x2b35ca=_0x3392dc;_0x64c699=_0x1b1fc6[0x1][_0x2b35ca(0xc1)],gChange[_0x64c699]=_0x1b1fc6[0x1][_0x2b35ca(0xd0)];});}catch(_0x5305c5){if(!exchangeStopped)await handleError(_0x5305c5,_0x3392dc(0x192),_0x64c699);}}else await sleep(0x64);}},_0x36c03a=async _0xa08a84=>{const _0x51f495=_0x32a7e1;while(initCycle==_0x58f5d0){if(!botPaused)try{const _0x1f71a0=await exchange['watchOrders'](_0xa08a84);initCycle==_0x58f5d0&&_0x1f71a0['forEach'](_0x461413=>{updateNumberCoinsCcxt(_0x461413);});}catch(_0x171457){if(!exchangeStopped)await handleError(_0x171457,_0x51f495(0x1b3));}else await sleep(0x64);}};_0x9f5f9e(_0x666f30),_0x141afe(_0x666f30),exchange['has'][_0x32a7e1(0x1ed)]?_0x1ac061(_0x666f30):_0x666f30['forEach'](_0x55e519=>{_0x5daa60(_0x55e519);}),_0x666f30[_0x32a7e1(0x196)](_0x12de3e=>{_0x36c03a(_0x12de3e);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x4849f7){const _0x5357a5=_0x12030b;let _0x5c1f12={};try{if(config[_0x5357a5(0x82)]!='Cryptocom')_0x5c1f12=await exchange[_0x5357a5(0x208)](_0x4849f7);else for(const _0x4d88f0 of _0x4849f7){const _0x2232e4=await exchange[_0x5357a5(0x1d4)](_0x4d88f0);_0x5c1f12[_0x4d88f0]=_0x2232e4;}return _0x5c1f12;}catch(_0x34dc64){throw _0x34dc64;}}async function detectLiquidityChange(_0x398b81=0x0){const _0x1c4e54=_0x12030b;transactionDetectionOngoing=!![];try{const _0x28e301=await getCoins(_0x398b81),[_0x36f27f,_0x3757bf]=_0x28e301;let _0x18d423=[];currentCoins[_0x1c4e54(0x196)](_0x2abe57=>{const _0x190c21=_0x1c4e54,_0x3ec409=_0x36f27f[_0x190c21(0x1d2)](_0x5f4d6f=>_0x5f4d6f['coin']==_0x2abe57[_0x190c21(0x170)]);if(_0x3ec409){if(_0x2abe57['number']!=_0x3ec409['number']){let _0x3b4dfe;if(_0x2abe57[_0x190c21(0x170)]!=config['basecoin']){const _0x5bbd9c=gTicker[noslash(_0x2abe57[_0x190c21(0xc1)])];_0x3b4dfe=_0x2abe57[_0x190c21(0x213)]?0x1/_0x5bbd9c:_0x5bbd9c;}else _0x3b4dfe=0x1;_0x18d423[_0x190c21(0xf8)]({'coin':_0x2abe57['coin'],'symbol':_0x2abe57[_0x190c21(0xc1)],'price':_0x3b4dfe,'number':Number(formatResult(_0x3ec409[_0x190c21(0x158)]-_0x2abe57[_0x190c21(0x158)],0x8)),'basecoinvalue':_0x3b4dfe*(_0x3ec409[_0x190c21(0x158)]-_0x2abe57['number'])});}}});if(_0x18d423[_0x1c4e54(0x212)]>0x0&&!blockTransactionDetection)for(const _0x3a6815 of _0x18d423){if(config[_0x1c4e54(0x105)]){logger['debug'](_0x1c4e54(0x1bd)+_0x3a6815[_0x1c4e54(0xc2)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x1c4e54(0x143)]);if(lastFees['highest']==0x0||Math[_0x1c4e54(0x180)](_0x3a6815[_0x1c4e54(0xc2)])>lastFees[_0x1c4e54(0x143)]*1.2){if(config[_0x1c4e54(0x105)]==_0x1c4e54(0x193)){delete _0x3a6815['symbol'],delete _0x3a6815[_0x1c4e54(0xc2)];let _0x1cbb9a=[],_0x2ab412=[...config[_0x1c4e54(0xfe)]]||[],_0x2d6109=config[_0x1c4e54(0xfe)];_0x2ab412['sort']((_0x215d5c,_0x307be8)=>_0x215d5c['date']>_0x307be8['date']?-0x1:_0x307be8[_0x1c4e54(0xf6)]>_0x215d5c['date']?0x1:0x0);const _0x455b97=getDate();if(_0x2ab412[0x0]){const _0x25aa23=fns[_0x1c4e54(0x9e)](_0x2ab412[0x0][_0x1c4e54(0xf6)],_0x1c4e54(0x12f),new Date()),_0x3d34e4=fns['parse'](_0x455b97,_0x1c4e54(0x12f),new Date());if(fns['isEqual'](_0x25aa23,_0x3d34e4)){_0x1cbb9a=_0x2ab412[0x0]['changes'];const _0x4c1a14=_0x1cbb9a[_0x1c4e54(0x1d2)](_0x52cc85=>_0x52cc85[_0x1c4e54(0x170)]==_0x3a6815[_0x1c4e54(0x170)]);_0x4c1a14?(_0x4c1a14[_0x1c4e54(0x158)]+=_0x3a6815[_0x1c4e54(0x158)],_0x4c1a14[_0x1c4e54(0x158)]==0x0&&(_0x1cbb9a=_0x1cbb9a[_0x1c4e54(0xc5)](_0x2f0348=>{const _0x1b7d05=_0x1c4e54;return _0x2f0348[_0x1b7d05(0x170)]!=_0x3a6815['coin'];}))):_0x1cbb9a['push'](_0x3a6815);const _0x2300a8=_0x2d6109[_0x1c4e54(0x1d2)](_0x328aee=>_0x328aee[_0x1c4e54(0xf6)]==_0x455b97);_0x2300a8[_0x1c4e54(0x228)]=_0x1cbb9a;}else _0x2d6109['push']({'date':_0x455b97,'changes':[_0x3a6815]});}const _0x6e64d6=_0x2d6109['find'](_0x4beb3e=>_0x4beb3e[_0x1c4e54(0xf6)]==_0x455b97);if(_0x6e64d6){let _0x504ce3=!![];_0x6e64d6[_0x1c4e54(0x228)][_0x1c4e54(0x196)](_0x5f3741=>{if(_0x5f3741['number']!=0x0)_0x504ce3=![];}),_0x504ce3&&(_0x2d6109=_0x2d6109[_0x1c4e54(0xc5)](_0x2915f4=>{const _0x87b280=_0x1c4e54;return _0x2915f4[_0x87b280(0xf6)]!=_0x455b97;}));}let _0x451341=dbConfig[_0x1c4e54(0x11e)]('bot')[_0x1c4e54(0x1d2)]({'botID':botID})[_0x1c4e54(0x120)]();_0x451341&&(dbConfig[_0x1c4e54(0x11e)](_0x1c4e54(0x1e7))[_0x1c4e54(0x1d2)]({'botID':botID})[_0x1c4e54(0xb1)]({'liquidity':_0x2d6109})[_0x1c4e54(0x106)](),config[_0x1c4e54(0xfe)]=_0x2d6109);logHistory('success',_0x1c4e54(0x179)+Math[_0x1c4e54(0x180)](_0x3a6815[_0x1c4e54(0x158)])+'\x20'+_0x3a6815[_0x1c4e54(0x170)]+'\x20'+(_0x3a6815[_0x1c4e54(0x158)]>0x0?_0x1c4e54(0x176):_0x1c4e54(0x13e))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit(_0x1c4e54(0x1d7),emittedConfiguration());const _0x141c03=getNormalizedPerformance();emitPerformance(_0x141c03),getStartingBalances(_0x141c03),logger[_0x1c4e54(0x204)](_0x1c4e54(0x195));}else config[_0x1c4e54(0x105)]==_0x1c4e54(0x20d)&&(config[_0x1c4e54(0x137)]?(await storeHeadless({'headless':![]}),logHistory('success',_0x1c4e54(0x133)),logger['debug']('Portfolio\x20change\x20detected:\x20'+Math[_0x1c4e54(0x180)](_0x3a6815[_0x1c4e54(0x158)])+'\x20'+_0x3a6815[_0x1c4e54(0x170)]+'\x20'+(_0x3a6815['number']>0x0?_0x1c4e54(0x176):_0x1c4e54(0x13e))+_0x1c4e54(0x147))):logger[_0x1c4e54(0x204)](_0x1c4e54(0x179)+Math['abs'](_0x3a6815[_0x1c4e54(0x158)])+'\x20'+_0x3a6815[_0x1c4e54(0x170)]+'\x20'+(_0x3a6815[_0x1c4e54(0x158)]>0x0?_0x1c4e54(0x176):'removed')+'\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode'));}else logger[_0x1c4e54(0x204)](_0x1c4e54(0x20e)+Math[_0x1c4e54(0x180)](_0x3a6815[_0x1c4e54(0x158)])+'\x20'+_0x3a6815[_0x1c4e54(0x170)]+'\x20'+(_0x3a6815[_0x1c4e54(0x158)]>0x0?_0x1c4e54(0x176):_0x1c4e54(0x13e)));}else logger[_0x1c4e54(0x204)](_0x1c4e54(0x179)+Math[_0x1c4e54(0x180)](_0x3a6815[_0x1c4e54(0x158)])+'\x20'+_0x3a6815[_0x1c4e54(0x170)]+'\x20'+(_0x3a6815[_0x1c4e54(0x158)]>0x0?_0x1c4e54(0x176):'removed')+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x36f27f,currentCoinsAll=_0x3757bf;}catch(_0x2aa64f){if(!exchangeStopped)await handleError(_0x2aa64f,_0x1c4e54(0x1cb));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0xcc9a5d=_0x12030b;try{markets=await exchange[_0xcc9a5d(0xd7)](),allSymbols=[],Object['entries'](markets)[_0xcc9a5d(0x196)](_0x657e30=>{const _0x228af3=_0xcc9a5d;_0x657e30[0x1][_0x228af3(0xaf)]&&_0x657e30[0x1][_0x228af3(0x1fa)]&&allSymbols[_0x228af3(0xf8)](_0x657e30[0x0]);});}catch(_0x30b202){throw _0x30b202;}}function validateSymbols(_0x1ce807){const _0x4db393=_0x12030b;let _0x4214e3=[];return _0x1ce807[_0x4db393(0x196)](_0x3895e5=>{const _0x3d420d=_0x4db393;!allSymbols[_0x3d420d(0x223)](_0x3895e5)?logHistory(_0x3d420d(0xc3),_0x3d420d(0x19d)+_0x3895e5+_0x3d420d(0xe6)):_0x4214e3[_0x3d420d(0xf8)](_0x3895e5);}),_0x4214e3;}async function initclient(){const _0x2f6221=_0x12030b;proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x2f6221(0x13a),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xfbe56a=getNormalizedPerformance();emitPerformance(_0xfbe56a),getStartingBalances(_0xfbe56a);}async function toggleBotMode(){const _0x80be3b=_0x12030b;let _0x1b69be=dbConfig[_0x80be3b(0x11e)](_0x80be3b(0x1e7))['find']({'botID':botID})['value']();if(_0x1b69be){const _0x186728=!_0x1b69be[_0x80be3b(0x137)];dbConfig['get']('bot')[_0x80be3b(0x1d2)]({'botID':botID})['assign']({'headless':_0x186728})[_0x80be3b(0x106)](),config['headless']=_0x186728,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3cf323=_0x12030b;process[_0x3cf323(0xd2)]({'updatebotmanager':!![]},_0x3e211c=>{}),logger[_0x3cf323(0x204)](_0x3cf323(0x1ae)+config[_0x3cf323(0x137)]);}async function loadCoins(_0x975989){const _0x44f2f5=_0x12030b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x3567d3,_0x345236=0x0,_0x5518ba=0x0;_0x975989[_0x44f2f5(0x196)](_0x425fa0=>{const _0x4a25ba=_0x44f2f5;loading[_0x4a25ba(0x21b)][_0x4a25ba(0xf8)](_0x425fa0);}),loadingCanceled=![];let _0x5bea0d=![];while(_0x3567d3!=_0x975989[_0x44f2f5(0x212)]+maxLoadingProgress){_0x3567d3=loadingProgress,_0x975989['forEach'](_0x518e66=>{const _0x47e463=_0x44f2f5;if(gTicker[noslash(_0x518e66)]){loading[_0x47e463(0x21b)]=loading['remainingSymbols'][_0x47e463(0xc5)](_0x3b922c=>_0x3b922c!=_0x518e66);if(!watchedSymbols[_0x47e463(0x223)](_0x518e66))watchedSymbols[_0x47e463(0xf8)](_0x518e66);_0x3567d3++;}}),loading[_0x44f2f5(0xa9)]=Math[_0x44f2f5(0xa3)](_0x3567d3/(_0x975989[_0x44f2f5(0x212)]+maxLoadingProgress)*0x64);loading[_0x44f2f5(0xa9)]!=0x64&&(_0x5518ba>0x1e*0x5&&(loading[_0x44f2f5(0x83)]=!![],emitLoadingProgress()),_0x5518ba>0x78*0x5&&!_0x5bea0d&&(_0x5bea0d=!![],logHistory(_0x44f2f5(0xc3),_0x44f2f5(0xa2)+loading[_0x44f2f5(0x21b)][_0x44f2f5(0x225)](',\x20')+_0x44f2f5(0x157)),logHistory(_0x44f2f5(0xc3),_0x44f2f5(0x16b)+loadCoinsRetryInterval/0xea60+_0x44f2f5(0x9a)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{restartBot();},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x345236!=loading[_0x44f2f5(0xa9)]&&(_0x345236=loading['progress'],emitLoadingProgress()),_0x5518ba++,await sleep(0xc8);}_0x3567d3==_0x975989[_0x44f2f5(0x212)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x44f2f5(0xd2)]({'status':'enabled','live':_0x44f2f5(0x81)},_0x2eb7ec=>{}),_0x5bea0d&&logHistory(_0x44f2f5(0xbe),_0x44f2f5(0x22a)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x412951=_0x12030b;proxyEmit(_0x412951(0x1d7),{...emittedConfiguration(),'configstate':_0x412951(0xda)});}function emitLoadingProgress(){const _0x37c908=_0x12030b;proxyEmit(_0x37c908(0x85),loading);}async function getFiat(){const _0x592e57=_0x12030b;let _0x3cc474=gTicker[stablecoins[_0x592e57(0x101)][_0x592e57(0x170)]],_0x36f615=gTicker[stablecoins[_0x592e57(0x1c4)]['coin']];return{'eur':Number(_0x3cc474),'usd':Number(_0x36f615)};}function capitalize(_0x3692a7){const _0x4f80a9=_0x12030b;return _0x3692a7[_0x4f80a9(0x1f3)](0x0,0x1)['toUpperCase']()+_0x3692a7[_0x4f80a9(0x1f3)](0x1);}function supportedExchanges(){const _0x5ed961=_0x12030b,_0x528b08=['ws','fetchTickers','fetchTicker',_0x5ed961(0x22d),'watchOrders',_0x5ed961(0x1f7),_0x5ed961(0x1d9),_0x5ed961(0x1de),_0x5ed961(0x216),'fetchBalance'];let _0x26669c=[],_0x1aaf0f=[],_0x4470ca=ccxt[_0x5ed961(0x226)]['exchanges'];_0x4470ca[_0x5ed961(0x196)](_0x58aa8f=>{const _0x55d040=_0x5ed961;try{const _0xdd4fa4=new ccxt[(_0x55d040(0x226))][_0x58aa8f]();_0x1aaf0f['push'](_0xdd4fa4);}catch(_0xbda6ea){}}),_0x1aaf0f[_0x5ed961(0x196)](_0xf16c5b=>{const _0x486626=_0x5ed961;let _0x35af3c=0x0;_0x528b08[_0x486626(0x196)](_0x4f7758=>{_0x4f7758 in _0xf16c5b['has']&&_0xf16c5b['has'][_0x4f7758]&&_0x35af3c++;}),_0x35af3c==_0x528b08[_0x486626(0x212)]&&_0x26669c[_0x486626(0xf8)](capitalize(_0xf16c5b['id']));});let _0x5ecda6=[];return _0x4470ca[_0x5ed961(0x196)](_0x23fcb7=>{const _0x1ebb5e=_0x5ed961;_0x23fcb7=capitalize(_0x23fcb7);if(!_0x26669c[_0x1ebb5e(0x223)](_0x23fcb7))_0x5ecda6[_0x1ebb5e(0xf8)](_0x23fcb7);}),_0x26669c;}function setStartDatePerformance(){const _0x3a766f=_0x12030b;if(config&&config['liquidity'][0x0][_0x3a766f(0x228)]['length']!=0x0){const _0x5d44fa=config['liquidity'][0x0][_0x3a766f(0x228)];dbPerformance[_0x3a766f(0x11e)](_0x3a766f(0x1b6))[_0x3a766f(0x1d2)]({'date':config['startdate']})['assign']({'coins':_0x5d44fa})[_0x3a766f(0x106)]();}}async function recreateCoinResults(){const _0x3b5fd3=_0x12030b;let _0x30e98b,_0x3e6c50=[];try{const _0x3bf126=fns[_0x3b5fd3(0x1a7)](fns[_0x3b5fd3(0x8e)](config[_0x3b5fd3(0xed)]['replace'](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x159e9d of currentCoins){if(_0x159e9d['coin']!=config[_0x3b5fd3(0x222)]){let _0x4db68f=0x0,_0x4b9f7a,_0x113ae5;_0x30e98b=await getAllEventOrders(_0x159e9d[_0x3b5fd3(0xc1)]);if(_0x30e98b[_0x3b5fd3(0x212)]>0x0)_0x30e98b[_0x3b5fd3(0x196)](_0xa5281b=>{const _0x3afc75=_0x3b5fd3,_0x1c1da2=_0x159e9d[_0x3afc75(0xc1)]['includes'](config[_0x3afc75(0x222)]+'/');_0x3e6c50[_0x3afc75(0xf8)]({'datetime':_0xa5281b['datetime'],'coin':_0x159e9d[_0x3afc75(0x170)],'symbol':_0x159e9d[_0x3afc75(0xc1)],'side':_0xa5281b[_0x3afc75(0x1e0)],'reverse':_0x1c1da2,'amount':formatResult(_0xa5281b[_0x3afc75(0x181)],0x8),'filled':formatResult(_0xa5281b[_0x3afc75(0x181)],0x8),'price':formatResult(_0xa5281b['price'],0x8)}),_0x4db68f=_0xa5281b['side']==_0x3afc75(0x91)?_0x4db68f+_0xa5281b[_0x3afc75(0x181)]:_0x4db68f-_0xa5281b['filled'];if(!_0x113ae5)_0x113ae5=_0xa5281b[_0x3afc75(0xec)];});_0x4b9f7a=_0x159e9d[_0x3b5fd3(0x158)]-_0x4db68f;let _0x1788d5;config[_0x3b5fd3(0xfe)][_0x3b5fd3(0x196)](_0x4b4aba=>{const _0x24324c=_0x3b5fd3;!_0x1788d5&&(_0x1788d5=_0x4b4aba[_0x24324c(0x228)][_0x24324c(0x1d2)](_0x258141=>_0x258141[_0x24324c(0x170)]==_0x159e9d['coin']),_0x1788d5&&(_0x4b9f7a=_0x1788d5[_0x24324c(0x158)],_0x113ae5=_0x1788d5[_0x24324c(0xec)]));});let _0xedfae3=dbCoinResults['get'](_0x3b5fd3(0x1c8))['find']({'coin':_0x159e9d['coin']})[_0x3b5fd3(0x120)]();_0xedfae3={'coin':_0x159e9d[_0x3b5fd3(0x170)],'number':_0x4b9f7a,'breakeven':_0x113ae5,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x3b5fd3(0x1c8))['find']({'coin':_0x159e9d[_0x3b5fd3(0x170)]})[_0x3b5fd3(0xb1)](_0xedfae3)['write']();}}_0x3e6c50[_0x3b5fd3(0x186)]((_0x116bca,_0xaedc32)=>_0x116bca['datetime']>_0xaedc32[_0x3b5fd3(0x199)]?0x1:_0xaedc32['datetime']>_0x116bca[_0x3b5fd3(0x199)]?-0x1:0x0);let _0x2300be=0x0;for(let _0x292eee of _0x3e6c50){await updateCoinResults(_0x292eee,!![]);}}catch(_0x101424){await handleError(_0x101424,_0x3b5fd3(0xc8));}}async function getAllEventOrders(_0x5369ff){const _0x4fe0ec=_0x12030b;let _0x25f877=[],_0x354f4b=dbLogs[_0x4fe0ec(0x11e)](_0x4fe0ec(0x1d8))['filter'](_0x18799c=>{const _0x1092c0=_0x4fe0ec,_0x26bcaa=_0x18799c[_0x1092c0(0x218)][_0x1092c0(0x130)]();return _0x26bcaa['includes'](_0x5369ff['toLowerCase']())&&(_0x26bcaa['includes']('market')&&_0x26bcaa['includes'](_0x1092c0(0xbb))||_0x26bcaa[_0x1092c0(0x223)](_0x1092c0(0x181))&&_0x26bcaa['includes'](_0x1092c0(0xbb)));})['sortBy'](_0x4fe0ec(0x162))[_0x4fe0ec(0x120)]();return _0x354f4b[_0x4fe0ec(0x196)](_0x26552d=>{const _0x36255b=_0x4fe0ec,_0xb1639f=_0x26552d[_0x36255b(0x218)]['includes'](_0x36255b(0x215))?_0x36255b(0x215):'buy',_0x235825=/#([0-9]|\.)+\s/i,_0x58c82d=Number(_0x235825['exec'](_0x26552d[_0x36255b(0x218)])[0x0][_0x36255b(0x160)](0x1)),_0xd3c1b1=/@([0-9]|\.)+$/i,_0x236b7f=Number(_0xd3c1b1['exec'](_0x26552d[_0x36255b(0x218)])[0x0][_0x36255b(0x160)](0x1));_0x25f877[_0x36255b(0xf8)]({'datetime':_0x26552d[_0x36255b(0x162)],'coin':symbolToCoin(_0x5369ff),'symbol':_0x5369ff,'side':_0xb1639f,'amount':_0x58c82d,'filled':_0x58c82d,'price':_0x236b7f});}),_0x25f877;}async function getAllOrders(_0x53f3e7,_0x465a86){const _0x23c48d=_0x12030b;let _0x57607f=[];while(_0x465a86<exchange[_0x23c48d(0x1c6)]()){const _0x3fea12=0x1f4;try{const _0x343eb5=await exchange[_0x23c48d(0x216)](_0x53f3e7,_0x465a86,_0x3fea12);if(_0x343eb5['length'])_0x465a86=_0x343eb5[_0x343eb5[_0x23c48d(0x212)]-0x1][_0x23c48d(0x10c)]+0x1,_0x57607f=_0x57607f[_0x23c48d(0x104)](_0x343eb5);else break;}catch(_0x4e40be){await handleError(_0x4e40be,_0x23c48d(0x90),_0x53f3e7);}}return _0x57607f;}async function validate24hChanges(){const _0x4cb76b=_0x12030b;for(const _0x3d87ac of currentCoins){if(_0x3d87ac[_0x4cb76b(0x170)]!=config[_0x4cb76b(0x222)]){let _0x3a09c7;_0x3d87ac[_0x4cb76b(0x213)]?_0x3a09c7=formatResult((0x1/(gChange[_0x3d87ac[_0x4cb76b(0xc1)]]/0x64+0x1)-0x1)*0x64,0x3):_0x3a09c7=gChange[_0x3d87ac[_0x4cb76b(0xc1)]],_0x3a09c7<config[_0x4cb76b(0xd4)]&&(logHistory(_0x4cb76b(0xc3),_0x3d87ac['coin']+_0x4cb76b(0x15a)+_0x3a09c7+'%'),logHistory(_0x4cb76b(0xc3),_0x4cb76b(0x9b)),logHistory('error',_0x4cb76b(0x1cf)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x3eab6f,_0xb3db84){const _0x586d0c=_0x12030b;if(!_0x3eab6f)return!![];const _0x464cb9=_0xb3db84[_0x586d0c(0x144)]('.'),_0x5eb886=_0x3eab6f['split']('.');for(var _0x34536d=0x0;_0x34536d<_0x5eb886['length'];_0x34536d++){const _0x481173=~~_0x5eb886[_0x34536d],_0x595316=~~_0x464cb9[_0x34536d];if(_0x481173<_0x595316)return!![];if(_0x481173>_0x595316)return![];}return![];}async function oneTimeMigration(){const _0xaefc1=_0x12030b;let _0xdc083c=dbLogs[_0xaefc1(0x11e)](_0xaefc1(0xde))[_0xaefc1(0x120)]();if(isOlderVersion(_0xdc083c,_0xaefc1(0x1df))){let _0x163a6e=[];const _0x9c88b6=dbLogs['get'](_0xaefc1(0x1d8))[_0xaefc1(0x120)]();_0x9c88b6[_0xaefc1(0x196)](_0x449059=>{const _0x4e7c3d=_0xaefc1;_0x163a6e[_0x4e7c3d(0xf8)]({'time':_0x449059[_0x4e7c3d(0x162)],'type':_0x449059[_0x4e7c3d(0x12a)],'event':_0x449059['event']});}),dbLogs[_0xaefc1(0x11e)](_0xaefc1(0x1d8))[_0xaefc1(0xb1)](_0x163a6e)[_0xaefc1(0x106)]();}let _0x2399c2=dbConfig['get'](_0xaefc1(0xde))[_0xaefc1(0x120)]();if(isOlderVersion(_0x2399c2,'2.3.5')){let _0x43d975=dbConfig[_0xaefc1(0x11e)](_0xaefc1(0x1e7))[_0xaefc1(0x1d2)]({'botID':botID})['value']();if(_0x43d975){let _0x203f35=[];_0x43d975[_0xaefc1(0xe0)][_0xaefc1(0x196)](_0x7e6940=>{const _0xf192f1=_0xaefc1;_0x203f35['push']({'coin':_0x7e6940['coin'],'number':_0x7e6940[_0xf192f1(0x219)],'price':_0x7e6940[_0xf192f1(0x12d)]}),delete _0x7e6940[_0xf192f1(0x219)],delete _0x7e6940[_0xf192f1(0x12d)];});if(_0x203f35[_0xaefc1(0x212)]!==0x0)fs[_0xaefc1(0xb7)](configbackuppath+(_0xaefc1(0x20a)+botID+_0xaefc1(0x1dc)),JSON['stringify'](_0x203f35,null,0x4),function(_0x222d11){if(_0x222d11){}});const _0x3cbb80=(_0x3b3728,_0x57b86f)=>{const _0x4bd685=_0xaefc1;let _0x1b0c01=[];_0x57b86f[_0x4bd685(0x196)](_0x34b90c=>{const _0x17c516=_0x4bd685,_0x24f47d=_0x3b3728['find'](_0x5660cf=>_0x5660cf[_0x17c516(0x170)]==_0x34b90c[_0x17c516(0x170)]);if(!_0x24f47d)_0x1b0c01[_0x17c516(0xf8)](_0x34b90c);});let _0x550aa4=[];return _0x3b3728['forEach'](_0x3f2e61=>{const _0x223840=_0x4bd685,_0x4850fc=_0x57b86f[_0x223840(0x1d2)](_0x4cd347=>_0x4cd347[_0x223840(0x170)]==_0x3f2e61[_0x223840(0x170)]);if(!_0x4850fc||_0x4850fc[_0x223840(0x158)]==0x0&&_0x3f2e61[_0x223840(0x158)]!=0x0)_0x550aa4['push'](_0x3f2e61);}),{'missingDay1':_0x1b0c01,'notInDay2':_0x550aa4};},_0x12c144=dbPerformance[_0xaefc1(0x11e)](_0xaefc1(0x1b6))[_0xaefc1(0x1e5)]()[_0xaefc1(0x120)]();if(_0x12c144[_0xaefc1(0x212)]>0x1){const {missingDay1:_0x4bc0a1,notInDay2:_0x15be49}=_0x3cbb80(_0x203f35,_0x12c144[0x1][_0xaefc1(0x1c8)]);_0x203f35=[..._0x203f35,..._0x4bc0a1],_0x15be49[_0xaefc1(0x196)](_0x543274=>{const _0xd41cdd=_0xaefc1;let _0x6c6743=_0x203f35[_0xd41cdd(0xe1)](_0x2dd02f=>_0x2dd02f['coin']==_0x543274[_0xd41cdd(0x170)]);_0x6c6743!=-0x1&&_0x203f35[_0xd41cdd(0x1a0)](_0x6c6743,0x1);});}_0x203f35[_0xaefc1(0x186)]((_0x2bbc04,_0xa742c3)=>_0x2bbc04['coin']>_0xa742c3[_0xaefc1(0x170)]?0x1:_0xa742c3[_0xaefc1(0x170)]>_0x2bbc04['coin']?-0x1:0x0);let _0x409feb=[{'date':_0x43d975[_0xaefc1(0xed)],'changes':_0x203f35}];_0x12c144[_0xaefc1(0x212)]>0x2&&_0x12c144[_0xaefc1(0x196)]((_0x5b70dd,_0x4ec4a7)=>{const _0x191b5d=_0xaefc1;if(_0x4ec4a7>0x0&&_0x4ec4a7<_0x12c144[_0x191b5d(0x212)]-0x1){const {missingDay1:_0x267651,notInDay2:_0x38a128}=_0x3cbb80(_0x12c144[_0x4ec4a7]['coins'],_0x12c144[_0x4ec4a7+0x1][_0x191b5d(0x1c8)]);_0x203f35=[],(_0x267651[_0x191b5d(0x212)]!=0x0||_0x38a128['length']!=0x0)&&(_0x267651[_0x191b5d(0x212)]!=0x0&&_0x203f35[_0x191b5d(0xf8)](..._0x267651),_0x38a128['length']!=0x0&&(_0x38a128[_0x191b5d(0x196)](_0x415011=>{const _0x451df4=_0x191b5d;_0x415011['number']=-_0x415011[_0x451df4(0x158)];}),_0x203f35[_0x191b5d(0xf8)](..._0x38a128)),_0x203f35[_0x191b5d(0x186)]((_0x4add75,_0x26ee4c)=>_0x4add75[_0x191b5d(0x170)]>_0x26ee4c[_0x191b5d(0x170)]?0x1:_0x26ee4c[_0x191b5d(0x170)]>_0x4add75['coin']?-0x1:0x0),_0x409feb['push']({'date':_0x12c144[_0x4ec4a7+0x1]['date'],'changes':_0x203f35}));}}),dbConfig[_0xaefc1(0x11e)](_0xaefc1(0x1e7))[_0xaefc1(0x1d2)]({'botID':botID})[_0xaefc1(0xb1)]({..._0x43d975,'liquidity':_0x409feb})[_0xaefc1(0x106)]();}}if(isOlderVersion(_0x2399c2,_0xaefc1(0x93))){let _0x4a2c13=dbConfig['get']('bot')['find']({'botID':botID})[_0xaefc1(0x120)]();if(_0x4a2c13){const _0x21d8a5=_0x4a2c13[_0xaefc1(0x82)],_0x265179=_0x21d8a5?capitalize(_0x21d8a5):_0xaefc1(0x8a);dbConfig[_0xaefc1(0x11e)](_0xaefc1(0x1e7))[_0xaefc1(0x1d2)]({'botID':botID})[_0xaefc1(0xb1)]({'exchange':_0x265179})[_0xaefc1(0x106)]();}}if(isOlderVersion(_0x2399c2,_0xaefc1(0x173))){let _0x9dd33a=dbConfig[_0xaefc1(0x11e)](_0xaefc1(0x1e7))[_0xaefc1(0x1d2)]({'botID':botID})[_0xaefc1(0x120)]();if(_0x9dd33a){const _0x2d6bc2=_0x9dd33a[_0xaefc1(0x1b8)],_0x5d214c=_0x2d6bc2?_0xaefc1(0x12e):![];dbConfig[_0xaefc1(0x11e)]('bot')['find']({'botID':botID})[_0xaefc1(0xb1)]({'marketcapEnabled':_0x5d214c})[_0xaefc1(0x106)]();}}if(isOlderVersion(_0x2399c2,_0xaefc1(0xf7))){let _0x1b4d91=dbConfig[_0xaefc1(0x11e)](_0xaefc1(0x1e7))[_0xaefc1(0x1d2)]({'botID':botID})[_0xaefc1(0x120)]();if(_0x1b4d91){const _0xd82aed=_0x1b4d91[_0xaefc1(0x105)],_0x519f3c=_0xd82aed?_0xaefc1(0x193):![];dbConfig[_0xaefc1(0x11e)](_0xaefc1(0x1e7))[_0xaefc1(0x1d2)]({'botID':botID})[_0xaefc1(0xb1)]({'autoliquidity':_0x519f3c})[_0xaefc1(0x106)]();}}let _0x54fe33=dbPerformance['get'](_0xaefc1(0xde))['value']();isOlderVersion(_0x54fe33,_0xaefc1(0x1df))&&setStartDatePerformance();let _0x4325a0=dbCoinResults['get'](_0xaefc1(0xde))[_0xaefc1(0x120)]();if(isOlderVersion(_0x4325a0,_0xaefc1(0x1e1))){let _0x4405af=dbCoinResults[_0xaefc1(0x11e)](_0xaefc1(0x1c8))['value']();if(_0x4405af[_0xaefc1(0x212)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x13c4f0=_0x12030b;dbConfig['set'](_0x13c4f0(0xde),serverversion)[_0x13c4f0(0x106)](),dbPerformance[_0x13c4f0(0x9f)](_0x13c4f0(0xde),serverversion)[_0x13c4f0(0x106)](),dbLogs[_0x13c4f0(0x9f)](_0x13c4f0(0xde),serverversion)[_0x13c4f0(0x106)](),dbCoinResults[_0x13c4f0(0x9f)](_0x13c4f0(0xde),serverversion)['write']();}function getConfiguration(_0x10e239){const _0x5662da=_0x12030b;let _0x4c1908=dbConfig[_0x5662da(0x11e)](_0x5662da(0x1e7))[_0x5662da(0x1d2)]({'botID':_0x10e239})['value']();if(_0x4c1908){let _0x10499b=![];typeof _0x4c1908[_0x5662da(0x98)]=='string'&&(_0x4c1908={..._0x4c1908,'threshold':Number(_0x4c1908['threshold'])},_0x10499b=!![]),_0x4c1908['change24h']==undefined&&(_0x4c1908={..._0x4c1908,'change24h':-0x14},_0x10499b=!![]),_0x4c1908['fiat']==undefined&&(_0x4c1908={..._0x4c1908,'fiat':'USD'},_0x10499b=!![]),_0x4c1908[_0x5662da(0x10f)]==undefined&&(_0x4c1908={..._0x4c1908,'onepagemode':settings[_0x5662da(0x10f)]},_0x10499b=!![]),_0x4c1908[_0x5662da(0x87)]==undefined&&(_0x4c1908={..._0x4c1908,'colorscheme':'red_yellow_blue'},_0x10499b=!![]),_0x4c1908[_0x5662da(0x105)]==undefined&&(_0x4c1908={..._0x4c1908,'autoliquidity':'update-liquidity'},_0x10499b=!![]),_0x4c1908[_0x5662da(0x217)]==undefined&&(_0x4c1908={..._0x4c1908,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x10499b=!![]),_0x4c1908[_0x5662da(0x1b8)]==undefined&&(_0x4c1908={..._0x4c1908,'marketcapEnabled':![]},_0x10499b=!![]),_0x10499b&&(_0x4c1908={'botID':_0x4c1908['botID'],'exchange':_0x4c1908[_0x5662da(0x82)],'apiKey':_0x4c1908[_0x5662da(0x169)],'apiSecret':_0x4c1908[_0x5662da(0x114)],'apiPassword':_0x4c1908['apiPassword'],'basecoin':_0x4c1908[_0x5662da(0x222)],'botname':_0x4c1908['botname'],'showname':_0x4c1908[_0x5662da(0xb3)],'threshold':_0x4c1908[_0x5662da(0x98)],'ordertype':_0x4c1908[_0x5662da(0x197)],'timeout':_0x4c1908[_0x5662da(0x83)],'fiat':_0x4c1908[_0x5662da(0x1e8)],'startdate':_0x4c1908[_0x5662da(0xed)],'recreate':_0x4c1908[_0x5662da(0x16a)],'timeshift':_0x4c1908[_0x5662da(0xfd)],'onepagemode':_0x4c1908[_0x5662da(0x10f)],'headless':_0x4c1908[_0x5662da(0x137)],'cooldown':_0x4c1908['cooldown'],'change24h':_0x4c1908[_0x5662da(0xd4)],'emojibuy':_0x4c1908['emojibuy'],'emojisell':_0x4c1908['emojisell'],'colorscheme':_0x4c1908[_0x5662da(0x87)],'marketcapApi':_0x4c1908[_0x5662da(0x217)],'marketcapEnabled':_0x4c1908[_0x5662da(0x1b8)],'portfolio':_0x4c1908[_0x5662da(0xe0)],'autoliquidity':_0x4c1908[_0x5662da(0x105)],'liquidity':_0x4c1908[_0x5662da(0xfe)],'openOrders':_0x4c1908[_0x5662da(0x1f5)]},dbConfig[_0x5662da(0x11e)](_0x5662da(0x1e7))[_0x5662da(0x21e)]()[_0x5662da(0x106)](),dbConfig[_0x5662da(0x11e)](_0x5662da(0x1e7))[_0x5662da(0xf8)](_0x4c1908)[_0x5662da(0x106)]());}else _0x4c1908={'botID':_0x10e239,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x5662da(0xfa)+_0x10e239,'showname':![],'threshold':0x3,'ordertype':_0x5662da(0xe8),'timeout':0x14,'fiat':_0x5662da(0x97),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x5662da(0xfd)],'onepagemode':settings[_0x5662da(0x10f)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x5662da(0xb6),'marketcapApi':settings[_0x5662da(0x217)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x5662da(0x193),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4c1908;}function emittedConfiguration(){const _0x3eb782=_0x12030b;let _0x479dc7;if(config[_0x3eb782(0x169)]=='')_0x479dc7={...config,'configstate':'initial'};else config[_0x3eb782(0x169)]=='***'?_0x479dc7={...config,'configstate':_0x3eb782(0x95)}:(_0x479dc7={...config,'apiKey':_0x3eb782(0x142),'apiSecret':_0x3eb782(0x142)},config[_0x3eb782(0x237)]&&(_0x479dc7[_0x3eb782(0x237)]=_0x3eb782(0x142)));return _0x479dc7;}function getSettings(){const _0x2a3c82=_0x12030b;return dbSettings[_0x2a3c82(0x11e)](_0x2a3c82(0x235))[_0x2a3c82(0x120)]();}function getSecure(){const _0x5916ff=_0x12030b;return dbSecure[_0x5916ff(0x11e)]('secure')[_0x5916ff(0x120)]()||{};}function updateTimeshift(_0x586623){const _0x3778fe=_0x12030b;let _0x3d3b9=dbConfig[_0x3778fe(0x11e)](_0x3778fe(0x1e7))[_0x3778fe(0x1d2)]({'botID':botID})[_0x3778fe(0x120)]();_0x3d3b9&&dbConfig[_0x3778fe(0x11e)](_0x3778fe(0x1e7))[_0x3778fe(0x1d2)]({'botID':botID})[_0x3778fe(0xb1)]({'timeshift':_0x586623})['write'](),config[_0x3778fe(0xfd)]=_0x586623,proxyEmit(_0x3778fe(0x1d7),emittedConfiguration());}function updateOnepagemode(_0x1bb346){const _0x2bcc0f=_0x12030b;let _0x5274a8=dbConfig[_0x2bcc0f(0x11e)](_0x2bcc0f(0x1e7))[_0x2bcc0f(0x1d2)]({'botID':botID})[_0x2bcc0f(0x120)]();_0x5274a8&&dbConfig[_0x2bcc0f(0x11e)](_0x2bcc0f(0x1e7))[_0x2bcc0f(0x1d2)]({'botID':botID})[_0x2bcc0f(0xb1)]({'onepagemode':_0x1bb346})[_0x2bcc0f(0x106)](),config[_0x2bcc0f(0x10f)]=_0x1bb346,proxyEmit(_0x2bcc0f(0x1d7),emittedConfiguration());}function _0x21f6(_0x4bb1c5,_0x433304){const _0x358fb9=_0x1157();return _0x21f6=function(_0x5221bf,_0x4d3e67){_0x5221bf=_0x5221bf-0x7f;let _0x1157e5=_0x358fb9[_0x5221bf];return _0x1157e5;},_0x21f6(_0x4bb1c5,_0x433304);}function updateMarketcapApi(_0x5bb599){const _0x50067c=_0x12030b,_0x2070eb=_0x5bb599?!![]:![];let _0x108926=dbConfig[_0x50067c(0x11e)](_0x50067c(0x1e7))['find']({'botID':botID})[_0x50067c(0x120)]();_0x108926&&dbConfig[_0x50067c(0x11e)](_0x50067c(0x1e7))[_0x50067c(0x1d2)]({'botID':botID})[_0x50067c(0xb1)]({'marketcapApi':_0x2070eb})[_0x50067c(0x106)](),config[_0x50067c(0x217)]=_0x2070eb,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x517fb8){const _0x5d204b=_0x12030b;logger['debug'](_0x5d204b(0x1f4));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x5d204b(0x204)]('Transaction\x20detection\x20blocked');let _0x47c776=![],_0x59c66e=![],_0x4159eb=[];_0x517fb8[_0x5d204b(0xe0)][_0x5d204b(0x196)](_0x1b73df=>{const _0x514467=_0x5d204b;if(!_0x1b73df[_0x514467(0x1aa)]&&_0x1b73df[_0x514467(0x170)]!=_0x517fb8[_0x514467(0x222)])_0x4159eb['push'](_0x1b73df[_0x514467(0xc1)]);}),_0x4159eb[_0x5d204b(0x196)](_0x4ae8e3=>{const _0x1c40bf=_0x5d204b,_0x84efcd=currentCoins[_0x1c40bf(0x1d2)](_0x46b43a=>_0x46b43a[_0x1c40bf(0xc1)]==_0x4ae8e3);!_0x84efcd&&(_0x47c776=!![]);}),currentCoins[_0x5d204b(0x196)](_0x4bc9db=>{const _0x5473b2=_0x5d204b;if(_0x4bc9db[_0x5473b2(0x170)]!=config[_0x5473b2(0x222)]){const _0x1bee53=_0x4159eb[_0x5473b2(0x1d2)](_0x39c3a6=>_0x39c3a6==_0x4bc9db[_0x5473b2(0xc1)]);!_0x1bee53&&(_0x47c776=!![]);}}),_0x517fb8[_0x5d204b(0xe0)][_0x5d204b(0x196)](_0x25ff72=>{const _0xefa69a=_0x5d204b,_0x454fe2=config[_0xefa69a(0xe0)][_0xefa69a(0x1d2)](_0x38f8b7=>_0x38f8b7[_0xefa69a(0x170)]==_0x25ff72[_0xefa69a(0x170)]);if(_0x454fe2&&_0x25ff72[_0xefa69a(0xc6)]!=_0x454fe2[_0xefa69a(0xc6)])_0x59c66e=!![];});let _0x50fd83=dbConfig['get'](_0x5d204b(0x1e7))[_0x5d204b(0x1d2)]({'botID':botID})[_0x5d204b(0x120)]();_0x517fb8={..._0x517fb8,'apiKey':crypt[_0x5d204b(0x8c)](secure['privateKey'],_0x517fb8[_0x5d204b(0x169)])[_0x5d204b(0xb9)],'apiSecret':crypt[_0x5d204b(0x8c)](secure['privateKey'],_0x517fb8[_0x5d204b(0x114)])[_0x5d204b(0xb9)]};_0x517fb8[_0x5d204b(0x237)]&&(_0x517fb8[_0x5d204b(0x237)]=crypt['decrypt'](secure[_0x5d204b(0xf3)],_0x517fb8[_0x5d204b(0x237)])[_0x5d204b(0xb9)]);let _0x4d950e=![];if(_0x50fd83){_0x517fb8[_0x5d204b(0x169)]==_0x5d204b(0x142)?_0x517fb8[_0x5d204b(0x169)]=config['apiKey']:_0x4d950e=!![];_0x517fb8[_0x5d204b(0x114)]==_0x5d204b(0x142)?_0x517fb8[_0x5d204b(0x114)]=config['apiSecret']:_0x4d950e=!![];if(_0x517fb8[_0x5d204b(0x237)]==_0x5d204b(0x142))_0x517fb8[_0x5d204b(0x237)]=config[_0x5d204b(0x237)];else{if(_0x517fb8['apiPassword'])_0x4d950e=!![];}dbConfig[_0x5d204b(0x11e)]('bot')[_0x5d204b(0x1d2)]({'botID':botID})[_0x5d204b(0xb1)](_0x517fb8)[_0x5d204b(0x106)]();}else dbConfig[_0x5d204b(0x11e)](_0x5d204b(0x1e7))['push'](_0x517fb8)[_0x5d204b(0x106)](),_0x4d950e=!![],process['send']({'status':_0x5d204b(0x1a8),'live':'running'},_0x3a5be3=>{});process[_0x5d204b(0xd2)]({'botname':_0x517fb8['botname']},_0x33e557=>{}),config={..._0x517fb8},updateBotManager(),proxyEmit(_0x5d204b(0x1bb)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x4d950e)await reset(!![]);else _0x47c776||_0x59c66e?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x5d204b(0x204)](_0x5d204b(0x1f8));}async function storeHeadless(_0x2becf8){const _0x32558=_0x12030b,_0x53658a={...config,'headless':_0x2becf8[_0x32558(0x137)]};let _0x5718b5=dbConfig[_0x32558(0x11e)](_0x32558(0x1e7))[_0x32558(0x1d2)]({'botID':botID})[_0x32558(0x120)]();_0x5718b5&&dbConfig['get']('bot')[_0x32558(0x1d2)]({'botID':botID})[_0x32558(0xb1)](_0x53658a)[_0x32558(0x106)](),config={..._0x53658a},updateBotManager(),proxyEmit(_0x32558(0x1d7),emittedConfiguration());}async function storeFiat(_0x32d1b0){const _0xc22ba0=_0x12030b,_0xecf2d={...config,'fiat':_0x32d1b0};let _0x580faf=dbConfig[_0xc22ba0(0x11e)](_0xc22ba0(0x1e7))[_0xc22ba0(0x1d2)]({'botID':botID})[_0xc22ba0(0x120)]();_0x580faf&&dbConfig[_0xc22ba0(0x11e)](_0xc22ba0(0x1e7))[_0xc22ba0(0x1d2)]({'botID':botID})[_0xc22ba0(0xb1)](_0xecf2d)[_0xc22ba0(0x106)](),config={..._0xecf2d},proxyEmit(_0xc22ba0(0x1d7),emittedConfiguration());}function resetHistory(){const _0x45ac53=_0x12030b;logger[_0x45ac53(0xf5)](_0x45ac53(0x19a));try{if(fs[_0x45ac53(0x102)](path['join'](configpath,'bot-'+botID+_0x45ac53(0x1c5))))fs['unlinkSync'](path[_0x45ac53(0x225)](configpath,_0x45ac53(0xbc)+botID+_0x45ac53(0x1c5)));if(fs[_0x45ac53(0x102)](path[_0x45ac53(0x225)](configpath,_0x45ac53(0xbc)+botID+_0x45ac53(0x194))))fs['unlinkSync'](path[_0x45ac53(0x225)](configpath,_0x45ac53(0xbc)+botID+_0x45ac53(0x194)));if(fs['existsSync'](path[_0x45ac53(0x225)](configpath,_0x45ac53(0xbc)+botID+_0x45ac53(0x1a5))))fs[_0x45ac53(0x1ba)](path[_0x45ac53(0x225)](configpath,'bot-'+botID+'-results.json'));}catch(_0x25f42f){if(_0x25f42f)logger[_0x45ac53(0xf5)](_0x45ac53(0xe5),_0x25f42f);}const _0x273269=getDate();let _0xa1b72b=[];currentCoins['forEach'](_0x14fc4a=>{const _0x536a8c=_0x45ac53;_0xa1b72b[_0x536a8c(0xf8)]({'coin':_0x14fc4a[_0x536a8c(0x170)],'number':_0x14fc4a['number'],'price':_0x14fc4a[_0x536a8c(0x14d)]});});let _0x4bf97d=dbConfig['get'](_0x45ac53(0x1e7))['find']({'botID':botID})[_0x45ac53(0x120)]();_0x4bf97d&&(dbConfig[_0x45ac53(0x11e)]('bot')['find']({'botID':botID})[_0x45ac53(0xb1)]({'liquidity':[{'date':_0x273269,'changes':_0xa1b72b}]})[_0x45ac53(0x106)](),config['liquidity']=[]),restartBot(!![]);}function noslash(_0x15e13f){const _0x2f7ff8=_0x12030b;return _0x15e13f[_0x2f7ff8(0xb2)]('/','');}function updateHighestFee(_0x55927a){const _0x51ba6e=_0x12030b;if(_0x55927a[_0x51ba6e(0x213)]){let _0x4d2631={'filled':_0x55927a[_0x51ba6e(0x181)]*_0x55927a['price'],'amount':_0x55927a['filled']*_0x55927a[_0x51ba6e(0xec)],'side':_0x55927a[_0x51ba6e(0x1e0)]==_0x51ba6e(0x215)?_0x51ba6e(0x91):_0x51ba6e(0x215),'price':0x1/_0x55927a['price']};_0x55927a={..._0x55927a,..._0x4d2631};}const _0x2440f2=defaultFee*_0x55927a[_0x51ba6e(0x181)]*_0x55927a[_0x51ba6e(0xec)];lastFees[_0x51ba6e(0x1a9)][_0x51ba6e(0x212)]===0x14&&lastFees[_0x51ba6e(0x1a9)][_0x51ba6e(0x22b)](),lastFees[_0x51ba6e(0x1a9)][_0x51ba6e(0xf8)](_0x2440f2),lastFees[_0x51ba6e(0x143)]=Math[_0x51ba6e(0x155)](...lastFees[_0x51ba6e(0x1a9)]);}async function updateNumberCoinsCcxt(_0x1aa5d0){const _0x1380f3=_0x12030b;logger['debug'](_0x1380f3(0x111)+_0x1aa5d0[_0x1380f3(0xc1)]+_0x1380f3(0x1b0)+_0x1aa5d0[_0x1380f3(0x227)]+_0x1380f3(0x1b0)+_0x1aa5d0[_0x1380f3(0x181)]+_0x1380f3(0x220)+_0x1aa5d0['amount']+_0x1380f3(0x1b0)+_0x1aa5d0['id']);_0x1aa5d0[_0x1380f3(0x181)]>0x0&&(blockTransactionDetection=!![]);let _0x384a24=_0x1aa5d0[_0x1380f3(0x227)],_0x21e1e2=![];currentCoins[_0x1380f3(0x196)](_0x2ac93f=>{const _0x4fa3ff=_0x1380f3;_0x2ac93f[_0x4fa3ff(0xc1)]==_0x1aa5d0[_0x4fa3ff(0xc1)]&&(_0x21e1e2=!![]);});if(!_0x21e1e2)return;const _0x204be0=currentCoins[_0x1380f3(0x1d2)](_0x13a4a3=>_0x13a4a3['symbol']==_0x1aa5d0[_0x1380f3(0xc1)]),_0x173f93=_0x3667bb=>{const _0x1ceac5=_0x1380f3;if(_0x204be0)_0x204be0[_0x1ceac5(0x99)]=_0x3667bb;};if(_0x384a24==_0x1380f3(0x141))_0x173f93('open');else{if(_0x384a24==_0x1380f3(0x14a)){_0x173f93(_0x1380f3(0x14a));const _0x1038dc=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1038dc,blockTransactionDetection=![],await getOpenOrders(),handleOpenOrders();}else{if(_0x384a24==_0x1380f3(0xe3)){let _0x49811a=![];if(lastOrders)for(const _0x2b5c04 of lastOrders){const _0x37745f=0xc8,_0x2627ad=0x1388;let _0x6805c=0x0;while(!_0x2b5c04[_0x1380f3(0x18d)]&&_0x6805c*_0x37745f<_0x2627ad){_0x6805c++,await sleep(_0x37745f);}if(_0x6805c>0x0)logger['debug'](_0x1380f3(0xc4)+_0x6805c*_0x37745f/0x3e8+_0x1380f3(0x1ef));if(_0x2b5c04[_0x1380f3(0x18d)]==_0x1aa5d0['id']){logger[_0x1380f3(0x204)](_0x1380f3(0x1db)+_0x1aa5d0['id']),_0x49811a=!![];if(_0x2b5c04[_0x1380f3(0x181)]==0x0){logger[_0x1380f3(0x204)](_0x1380f3(0xe4)+_0x1aa5d0['id']);if(_0x1aa5d0['average'])_0x2b5c04[_0x1380f3(0xec)]=_0x1aa5d0[_0x1380f3(0xdf)];else{if(_0x1aa5d0['price'])_0x2b5c04[_0x1380f3(0xec)]=_0x1aa5d0[_0x1380f3(0xec)];else{}}_0x2b5c04[_0x1380f3(0x181)]=_0x1aa5d0[_0x1380f3(0x181)],updateHighestFee(_0x2b5c04),_0x173f93(_0x1380f3(0x181)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x4ce8cd=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4ce8cd,blockTransactionDetection=![];}_0x2b5c04[_0x1380f3(0xdb)]={'currency':_0x1aa5d0[_0x1380f3(0xdb)]?_0x1aa5d0[_0x1380f3(0xdb)][_0x1380f3(0x1d3)]:null,'cost':_0x1aa5d0[_0x1380f3(0xdb)]?_0x1aa5d0['fee'][_0x1380f3(0x22c)]:0x0},await updateCoinResults(_0x2b5c04);}}}!_0x49811a&&(logger[_0x1380f3(0x204)]('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x1aa5d0['id']),_0x173f93('filled'),blockTransactionDetection=![],await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x41669b=JSON[_0x1380f3(0x9e)](lastBalances[_0x1380f3(0xe0)]);const _0x174917=_0x41669b[_0x1380f3(0x1d2)](_0x433a3f=>_0x433a3f[_0x1380f3(0xc1)]==_0x1aa5d0['symbol']);if(_0x174917){if(_0x384a24=='open')_0x174917[_0x1380f3(0x99)]=_0x174917['orderstatus']==_0x1380f3(0x181)?_0x1380f3(0x181):'open';else{if(_0x384a24==_0x1380f3(0x14a))_0x174917[_0x1380f3(0x99)]=_0x174917[_0x1380f3(0x99)]==_0x1380f3(0x181)?_0x1380f3(0x181):_0x1380f3(0x14a);else _0x384a24==_0x1380f3(0xe3)&&(_0x174917[_0x1380f3(0x99)]=_0x1380f3(0x181));}}lastBalances={...lastBalances,'portfolio':JSON[_0x1380f3(0x112)](_0x41669b)},proxyEmit(_0x1380f3(0xcb),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x48fb90=_0x12030b;await getOpenOrders();let _0x3c9106=![];currentCoins[_0x48fb90(0x196)](_0x4edb56=>{const _0x18bc72=_0x48fb90;_0x3c9106=allOpenOrders[_0x18bc72(0x1d2)](_0x586283=>_0x586283[_0x18bc72(0xc1)]==_0x4edb56[_0x18bc72(0xc1)]),_0x4edb56['orderstatus']=_0x3c9106?'open':_0x18bc72(0x13c);});}async function getCoins(_0x25733b=0x0,_0x5d1065=!![],_0x130a88=config[_0x12030b(0x222)]){const _0x4312ed=_0x12030b;let _0x3a010d,_0x35af5c=[],_0x2119fc=[],_0xc8f051=[];if(_0x25733b)await sleep(_0x25733b);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x3a010d=await exchange[_0x4312ed(0xfc)](),mybalances=_0x3a010d['total'];for(const [_0x235615,_0x9b7104]of Object[_0x4312ed(0xeb)](mybalances)){_0xc8f051[_0x4312ed(0xf8)](_0x235615);}config[_0x4312ed(0xe0)][_0x4312ed(0x196)](_0x45cd06=>{const _0xc8414f=_0x4312ed;!_0xc8f051[_0xc8414f(0x223)](_0x45cd06[_0xc8414f(0x170)])&&(mybalances[_0x45cd06[_0xc8414f(0x170)]]=0x0);});if(_0x130a88=='')for(const [_0x3d84a2,_0x53f847]of Object[_0x4312ed(0xeb)](mybalances)){_0x53f847!=0x0&&_0x35af5c[_0x4312ed(0xf8)]({'coin':_0x3d84a2});}else for(const [_0x196e75,_0x494640]of Object['entries'](mybalances)){const _0x593a09=config[_0x4312ed(0xe0)][_0x4312ed(0x1d2)](_0x1c700c=>_0x1c700c[_0x4312ed(0x170)]==_0x196e75),_0x55c76d=_0x196e75+'/'+_0x130a88,_0x21330b=_0x130a88+'/'+_0x196e75,_0x46c87b=currentCoins[_0x4312ed(0x1d2)](_0x4a8f9a=>_0x4a8f9a[_0x4312ed(0x170)]==_0x196e75);if((_0x494640!=0x0||_0x593a09)&&(allSymbols[_0x4312ed(0x223)](_0x55c76d)||_0x196e75==_0x130a88))_0x46c87b?_0x35af5c[_0x4312ed(0xf8)]({..._0x46c87b,'number':Math[_0x4312ed(0x155)](_0x494640+(_0x593a09&&_0x593a09[_0x4312ed(0xc6)]||0x0),0x0)}):_0x35af5c[_0x4312ed(0xf8)]({'coin':_0x196e75,'symbol':_0x55c76d,'reverse':![],'number':Math[_0x4312ed(0x155)](_0x494640+(_0x593a09&&_0x593a09['offset']||0x0),0x0),'orderstatus':_0x4312ed(0x13c)});else{if((_0x494640!=0x0||_0x593a09)&&allSymbols['includes'](_0x21330b))_0x46c87b?_0x35af5c[_0x4312ed(0xf8)]({..._0x46c87b,'number':Math[_0x4312ed(0x155)](_0x494640+(_0x593a09&&_0x593a09['offset']||0x0),0x0)}):_0x35af5c[_0x4312ed(0xf8)]({'coin':_0x196e75,'symbol':_0x21330b,'reverse':!![],'number':Math[_0x4312ed(0x155)](_0x494640+(_0x593a09&&_0x593a09[_0x4312ed(0xc6)]||0x0),0x0),'orderstatus':_0x4312ed(0x13c)});else _0x593a09&&_0x35af5c['push']({'coin':_0x593a09[_0x4312ed(0x170)],'symbol':_0x593a09['symbol'],'reverse':_0x593a09[_0x4312ed(0x213)],'number':0x0,'orderstatus':'none'});}}}catch(_0x50085f){if(!_0x5d1065)handleErrorNoStop(_0x50085f,_0x4312ed(0x119));else await handleError(_0x50085f,_0x4312ed(0x119));}return _0x35af5c['sort']((_0x462933,_0x1276a1)=>_0x462933[_0x4312ed(0x89)]<_0x1276a1['delta']?0x1:_0x1276a1[_0x4312ed(0x89)]<_0x462933['delta']?-0x1:0x0),_0x2119fc=cloneDeep(_0x35af5c),_0x35af5c=_0x35af5c[_0x4312ed(0xc5)](_0x132cf6=>{const _0x2b194b=_0x4312ed,_0x4635f1=config[_0x2b194b(0xe0)]['find'](_0x1694c2=>_0x1694c2[_0x2b194b(0x170)]==_0x132cf6['coin']);return _0x4635f1&&!_0x4635f1[_0x2b194b(0x1aa)];}),[_0x35af5c,_0x2119fc];}async function getCoinNumber(_0x2e99ae){const _0x682d78=_0x12030b;let _0x44a74d;try{const _0x19ab85=await exchange[_0x682d78(0xfc)]();_0x44a74d=_0x19ab85[_0x682d78(0x202)][_0x2e99ae];}catch(_0x2f6a0a){await handleError(_0x2f6a0a,'getCoinNumber()');}return _0x44a74d;}async function getOpenOrders(){const _0x212b1e=_0x12030b;let _0x4aef99;allOpenOrders=[];try{for(const _0x1f06bb of config['portfolio']){!_0x1f06bb[_0x212b1e(0x1aa)]&&_0x1f06bb[_0x212b1e(0x170)]!=config[_0x212b1e(0x222)]&&(_0x4aef99=await exchange['fetchOpenOrders'](_0x1f06bb[_0x212b1e(0xc1)]),_0x4aef99[_0x212b1e(0x212)]>0x0&&allOpenOrders[_0x212b1e(0xf8)](_0x4aef99[0x0]));}}catch(_0x1d091e){await handleError(_0x1d091e,_0x212b1e(0x1c9));}}async function handleOpenOrders(_0x4abe10=0x0){const _0x545937=_0x12030b;allOpenOrders[_0x545937(0x212)]==0x0&&lockOrders==ORDERS[_0x545937(0xca)]&&allOrdersPlaced&&(_0x4abe10==0x0?(logger[_0x545937(0x204)]('1\x20-\x20Handle\x20open\x20orders'),_0x4abe10++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x545937(0x1c7)),validateOrders(_0x545937(0x187))));}async function testAPI(_0x2e09a4){const _0x5479bc=_0x12030b,_0x3df6a6=ccxt['pro'][_0x2e09a4['exchange']['toLowerCase']()],_0xdaefc8=new _0x3df6a6({'apiKey':_0x2e09a4[_0x5479bc(0x169)],'secret':_0x2e09a4[_0x5479bc(0x114)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5479bc(0x1fa)}});if(_0x2e09a4['apiPassword'])_0xdaefc8[_0x5479bc(0xe9)]=_0x2e09a4[_0x5479bc(0x237)];try{await _0xdaefc8['loadMarkets']();}catch(_0x52fc43){throw _0x52fc43;}}function cloneDeep(_0x13b75f){const _0x33da33=_0x12030b;return JSON[_0x33da33(0x9e)](JSON['stringify'](_0x13b75f));}async function getPortfolio(_0x134de6){const _0x41e1a7=_0x12030b;let _0x4f9d53=[],_0x2b01d9=[],_0x46a68f=[],_0x57674e;if(_0x134de6[_0x41e1a7(0x169)]!==_0x41e1a7(0x142)||_0x134de6['apiSecret']!==_0x41e1a7(0x142)||_0x134de6[_0x41e1a7(0x237)]&&_0x134de6[_0x41e1a7(0x237)]!==_0x41e1a7(0x142)){if(config[_0x41e1a7(0x82)]){if(_0x134de6[_0x41e1a7(0x169)]==_0x41e1a7(0x142))_0x134de6[_0x41e1a7(0x169)]=config['apiKey'];if(_0x134de6[_0x41e1a7(0x114)]==_0x41e1a7(0x142))_0x134de6[_0x41e1a7(0x114)]=config[_0x41e1a7(0x114)];if(_0x134de6['apiPassword']==_0x41e1a7(0x142))_0x134de6[_0x41e1a7(0x237)]=config['apiPassword'];try{await testAPI(_0x134de6);}catch(_0x583720){if(_0x583720[_0x41e1a7(0x124)]()['includes'](_0x41e1a7(0x1fc))){logger['debug'](_0x41e1a7(0x15d)),proxyEmit(_0x41e1a7(0xe0),![]);return;}else{handleError(_0x583720,'getPortfolio(0)');return;}}}await initExchange(_0x134de6[_0x41e1a7(0x82)],_0x134de6['apiKey'],_0x134de6[_0x41e1a7(0x114)],_0x134de6[_0x41e1a7(0x237)]);try{await loadSymbols();}catch(_0x29f702){if(_0x29f702[_0x41e1a7(0x124)]()['includes']('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x29f702,_0x41e1a7(0x1b2));return;}}const _0x2db863=await getCoins(0x0,![],_0x134de6['basecoin']);_0x46a68f=cloneDeep(_0x2db863[0x1]);}else{const _0x17e216=await getCoins();_0x46a68f=cloneDeep(_0x17e216[0x1]);}if(_0x134de6[_0x41e1a7(0x222)]=='')proxyEmit('portfolio',_0x46a68f);else{_0x46a68f[_0x41e1a7(0x196)](_0x2777ce=>{const _0x3cdf2b=_0x41e1a7;if(_0x2777ce[_0x3cdf2b(0x170)]!=_0x134de6[_0x3cdf2b(0x222)]&&allSymbols[_0x3cdf2b(0x223)](_0x2777ce[_0x3cdf2b(0xc1)]))_0x4f9d53['push'](_0x2777ce[_0x3cdf2b(0xc1)]);});if(_0x4f9d53[_0x41e1a7(0x212)]==0x0)logHistory(_0x41e1a7(0xc3),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x2b01d9=await getTickers(_0x4f9d53);}catch(_0x13c300){if(_0x13c300['toString']()[_0x41e1a7(0x223)]('AuthenticationError')){proxyEmit(_0x41e1a7(0xe0),![]);return;}else handleError(_0x13c300,'getPortfolio(2)');}_0x46a68f[_0x41e1a7(0x196)](_0x454e3b=>{const _0x25fa85=_0x41e1a7;_0x454e3b[_0x25fa85(0x170)]!=_0x134de6[_0x25fa85(0x222)]?_0x2b01d9[_0x454e3b[_0x25fa85(0xc1)]]?_0x57674e=_0x454e3b[_0x25fa85(0x213)]?0x1/_0x2b01d9[_0x454e3b[_0x25fa85(0xc1)]]['last']:_0x2b01d9[_0x454e3b[_0x25fa85(0xc1)]]['last']:_0x57674e=0x0:_0x57674e=0x1,_0x454e3b[_0x25fa85(0xec)]=formatResult(_0x57674e,0x8);}),await getMarketCap(_0x46a68f),proxyEmit(_0x41e1a7(0xe0),_0x46a68f);}}}function truncateTradeAmount(_0x3471f3,_0x5807ef){const _0x28e7c6=_0x12030b;let _0x28cf34=0x0;try{_0x28cf34=exchange[_0x28e7c6(0xf4)](_0x3471f3,_0x5807ef);}catch(_0x5cf6c4){}return _0x28cf34;}function checkMinimums(_0x337007){const _0x2f3de0=_0x12030b;let _0x4a18a4=!![];const _0xd32395=!_0x337007[_0x2f3de0(0x213)]?markets[_0x337007[_0x2f3de0(0xc1)]][_0x2f3de0(0x185)][_0x2f3de0(0x8d)][_0x2f3de0(0x1a6)]:markets[_0x337007[_0x2f3de0(0xc1)]][_0x2f3de0(0x185)]['cost'][_0x2f3de0(0x1a6)],_0x26067f=!_0x337007['reverse']?markets[_0x337007[_0x2f3de0(0xc1)]][_0x2f3de0(0x185)]['cost'][_0x2f3de0(0x1a6)]:markets[_0x337007['symbol']]['limits']['amount'][_0x2f3de0(0x1a6)],_0x54c191=truncateTradeAmount(_0x337007[_0x2f3de0(0xc1)],_0x337007[_0x2f3de0(0x198)]);_0x337007['trade']=_0x54c191;if(Math[_0x2f3de0(0x180)](_0x54c191)<_0xd32395)_0x4a18a4=![];if(Math[_0x2f3de0(0x180)](_0x54c191)*_0x337007['last']<_0x26067f)_0x4a18a4=![];if(_0x337007[_0x2f3de0(0x1e0)]==_0x2f3de0(0x215)){let _0x2632f9=config[_0x2f3de0(0xe0)]['find'](_0xbdb290=>_0xbdb290[_0x2f3de0(0x170)]==_0x337007['coin']);if(_0x2632f9['offset']>0x0){if(Math[_0x2f3de0(0x180)](_0x54c191)>_0x337007[_0x2f3de0(0x158)]-_0x2632f9[_0x2f3de0(0xc6)])_0x4a18a4=![];}else{if(Math[_0x2f3de0(0x180)](_0x54c191)>_0x337007[_0x2f3de0(0x158)])_0x4a18a4=![];}}if(_0x337007[_0x2f3de0(0x1e0)]==_0x2f3de0(0x91)){let _0x3ae956=config['portfolio'][_0x2f3de0(0x1d2)](_0x4c5a5d=>_0x4c5a5d[_0x2f3de0(0x170)]==config[_0x2f3de0(0x222)]),_0x589f58=currentCoins[_0x2f3de0(0x1d2)](_0x1861ec=>_0x1861ec[_0x2f3de0(0x170)]==config[_0x2f3de0(0x222)]);if(_0x3ae956[_0x2f3de0(0xc6)]>0x0){if(Math['abs'](_0x54c191)*_0x337007['last']>_0x589f58['number']-_0x3ae956['offset'])_0x4a18a4=![];}else{if(Math[_0x2f3de0(0x180)](_0x54c191)*_0x337007[_0x2f3de0(0x14d)]>_0x589f58[_0x2f3de0(0x158)])_0x4a18a4=![];}}return _0x4a18a4;}async function getBalances(_0x37b1a9=!![]){const _0x8c5206=_0x12030b;let _0x349c6b=0x0,_0x5c6204;const _0x339eb5=config[_0x8c5206(0x98)];if(config[_0x8c5206(0x137)]&&config['change24h']<0x0)await validate24hChanges();currentCoins['forEach'](_0x5b0d1f=>{const _0x1ab153=_0x8c5206;if(_0x5b0d1f[_0x1ab153(0x170)]!=config['basecoin']){let _0x4bbbad=gTicker[noslash(_0x5b0d1f[_0x1ab153(0xc1)])];_0x5c6204=_0x5b0d1f[_0x1ab153(0x213)]?0x1/_0x4bbbad:_0x4bbbad;}else _0x5c6204=0x1;let _0x3794b0=_0x5b0d1f[_0x1ab153(0x158)]*_0x5c6204;_0x349c6b+=_0x3794b0,_0x5b0d1f[_0x1ab153(0x14d)]=formatResult(Number(_0x5c6204),0x8),_0x5b0d1f[_0x1ab153(0x120)]=_0x3794b0;}),currentCoins[_0x8c5206(0x196)](_0x4345e1=>{const _0x264d07=_0x8c5206;let _0x3bb69a=config[_0x264d07(0xe0)][_0x264d07(0x1d2)](_0x52f63e=>_0x52f63e[_0x264d07(0x170)]==_0x4345e1['coin']),_0x1aaae7=Number(_0x3bb69a[_0x264d07(0xc9)]),_0x5e900=_0x4345e1['value']/_0x349c6b*0x64,_0x1c3eb=_0x1aaae7*_0x349c6b/0x64/_0x4345e1[_0x264d07(0x14d)]-_0x4345e1['number'];_0x4345e1[_0x264d07(0xc9)]=formatResult(_0x5e900,0x3),_0x4345e1[_0x264d07(0x1dd)]=formatResult(_0x1aaae7,0x3),_0x4345e1[_0x264d07(0x198)]=formatResult(_0x1c3eb,0x8),_0x4345e1[_0x264d07(0x1e0)]='',_0x4345e1[_0x264d07(0x1b1)]=![];if(_0x4345e1[_0x264d07(0x170)]!=config[_0x264d07(0x222)]){if(_0x4345e1[_0x264d07(0xc9)]>_0x1aaae7)_0x4345e1[_0x264d07(0x1e0)]=_0x264d07(0x215),_0x4345e1[_0x264d07(0x1b1)]=checkMinimums(_0x4345e1);else _0x4345e1[_0x264d07(0xc9)]<_0x1aaae7&&(_0x4345e1[_0x264d07(0x1e0)]=_0x264d07(0x91),_0x4345e1[_0x264d07(0x1b1)]=checkMinimums(_0x4345e1));}_0x4345e1[_0x264d07(0x89)]=_0x4345e1['distribution']/_0x4345e1[_0x264d07(0x1dd)]-0x1;if(_0x4345e1[_0x264d07(0x99)]==_0x264d07(0x181)||_0x4345e1[_0x264d07(0x99)]=='canceled')_0x4345e1['orderstatus']=_0x264d07(0x13c);}),currentCoins[_0x8c5206(0x186)]((_0x494ddc,_0x4d2c39)=>_0x494ddc[_0x8c5206(0x89)]<_0x4d2c39['delta']?0x1:_0x4d2c39['delta']<_0x494ddc['delta']?-0x1:0x0);const _0x187705=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x187705[_0x8c5206(0x101)],'usd':_0x187705[_0x8c5206(0x1c4)],'portfolio':JSON[_0x8c5206(0x112)](currentCoins),'threshold':_0x339eb5},proxyEmit(_0x8c5206(0xcb),{'serverversion':serverversion,'balances':lastBalances});if(_0x37b1a9){if(config[_0x8c5206(0x137)])headlessMode({'portfolio':currentCoins,'threshold':_0x339eb5});else{if(lockOrders==ORDERS[_0x8c5206(0xd8)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x339eb5});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0xb12c86=getNormalizedPerformance();getStartingBalances(_0xb12c86),emitPerformance(_0xb12c86);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x253612=_0x12030b;if(!lastBalances)return;let _0x4aeb26=[],_0x347867,_0x2fcc77=JSON[_0x253612(0x9e)](lastBalances[_0x253612(0xe0)]);_0x2fcc77[_0x253612(0x186)]((_0x5a6bf9,_0x421390)=>_0x5a6bf9['coin']>_0x421390[_0x253612(0x170)]?0x1:_0x421390[_0x253612(0x170)]>_0x5a6bf9[_0x253612(0x170)]?-0x1:0x0),_0x2fcc77['forEach'](_0x242bdc=>{const _0x537c76=_0x253612;let _0x4475e3={'coin':_0x242bdc['coin'],'number':_0x242bdc[_0x537c76(0x158)],'price':_0x242bdc[_0x537c76(0x14d)]};_0x4aeb26[_0x537c76(0xf8)](_0x4475e3);});const _0x244a6e=await getFiat();_0x347867={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x244a6e[_0x253612(0x101)],'usd':_0x244a6e[_0x253612(0x1c4)],'coins':_0x4aeb26};let _0x570c05=dbPerformance['get'](_0x253612(0x1b6))[_0x253612(0x1d2)]({'date':_0x347867[_0x253612(0xf6)]})[_0x253612(0x120)]();_0x570c05?_0x347867['date']!=config['startdate']&&dbPerformance[_0x253612(0x11e)](_0x253612(0x1b6))['find']({'date':_0x347867['date']})['assign'](_0x347867)['write']():dbPerformance[_0x253612(0x11e)](_0x253612(0x1b6))[_0x253612(0xf8)](_0x347867)[_0x253612(0x106)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x23bf18=_0x12030b;let _0x85ead8=[];if(dbPerformance['has'](_0x23bf18(0x1b6))[_0x23bf18(0x120)]()){let _0x3f66e7=dbPerformance['get'](_0x23bf18(0x1b6))[_0x23bf18(0x1e5)]()[_0x23bf18(0xc5)](_0x329d8a=>{const _0x182324=_0x23bf18;if(_0x329d8a[_0x182324(0x1c8)][_0x182324(0x212)]==0x0)return![];else return!![];})[_0x23bf18(0x15f)](_0x23bf18(0xf6))[_0x23bf18(0x120)](),_0x5ca996=[...config[_0x23bf18(0xfe)]];_0x5ca996[_0x23bf18(0x186)]((_0x1ea7b6,_0x1893a4)=>_0x1ea7b6['date']>_0x1893a4['date']?-0x1:_0x1893a4['date']>_0x1ea7b6[_0x23bf18(0xf6)]?0x1:0x0);let _0x158945=0x1,_0x362d05=[],_0x59cffd=0x0;_0x3f66e7['slice']()['reverse']()[_0x23bf18(0x196)]((_0x1daf49,_0x423a77)=>{const _0xee31c9=_0x23bf18;if(_0x5ca996[_0x59cffd]){if(_0x3f66e7[_0x3f66e7[_0xee31c9(0x212)]-_0x423a77]&&_0x5ca996[_0x59cffd][_0xee31c9(0xf6)]==_0x3f66e7[_0x3f66e7[_0xee31c9(0x212)]-_0x423a77]['date']){if(_0x423a77<_0x3f66e7['length']){let _0x50c4d4=0x0,_0x105669=0x0;_0x3f66e7[_0x3f66e7[_0xee31c9(0x212)]-_0x423a77]['coins']['forEach'](_0x3a9729=>{const _0x64dbed=_0xee31c9;_0x105669+=_0x3a9729[_0x64dbed(0x158)]*_0x3a9729[_0x64dbed(0xec)];}),_0x5ca996[_0x59cffd][_0xee31c9(0x228)]['forEach'](_0x215d44=>{const _0x3f15ff=_0xee31c9;_0x50c4d4+=_0x215d44[_0x3f15ff(0x158)]*_0x215d44['price'];}),_0x158945*=_0x50c4d4/(_0x105669-_0x50c4d4)+0x1;}_0x59cffd++;}}let _0x5d02c7=0x0;_0x1daf49[_0xee31c9(0x1c8)][_0xee31c9(0x196)](_0x968ba7=>{const _0x1e043e=_0xee31c9;_0x5d02c7+=_0x968ba7[_0x1e043e(0x158)]*_0x968ba7[_0x1e043e(0xec)];}),_0x362d05[_0x3f66e7[_0xee31c9(0x212)]-_0x423a77-0x1]=_0x5d02c7*(_0x158945-0x1);});let _0x516a0b=[];_0x5ca996=[...config[_0x23bf18(0xfe)]]||[];let _0x2d5db6=0x0;_0x59cffd=0x0,_0x3f66e7[_0x23bf18(0x196)]((_0x172f96,_0x2cc368)=>{const _0xf9706e=_0x23bf18;if(_0x5ca996[_0x59cffd]){const _0x8876e3=fns['parse'](_0x5ca996[_0x59cffd][_0xf9706e(0xf6)],_0xf9706e(0x12f),new Date()),_0x382def=fns[_0xf9706e(0x9e)](_0x172f96[_0xf9706e(0xf6)],'yyyy/MM/dd',new Date());if(fns[_0xf9706e(0xa1)](_0x8876e3,_0x382def)){let _0x36f07d=0x0;_0x5ca996[_0x59cffd][_0xf9706e(0x228)]['forEach'](_0x4f7dc4=>{const _0x402b42=_0xf9706e;!_0x516a0b[_0x4f7dc4['coin']]?_0x516a0b[_0x4f7dc4[_0x402b42(0x170)]]=_0x4f7dc4[_0x402b42(0x158)]:(_0x36f07d=_0x516a0b[_0x4f7dc4[_0x402b42(0x170)]],_0x516a0b[_0x4f7dc4[_0x402b42(0x170)]]+=_0x4f7dc4[_0x402b42(0x158)]);const _0x4fb430=_0x172f96[_0x402b42(0x1c8)][_0x402b42(0x1d2)](_0xbfeb51=>_0xbfeb51[_0x402b42(0x170)]==_0x4f7dc4[_0x402b42(0x170)]);(!_0x4fb430||_0x4fb430['number']==0x0)&&(_0x2d5db6+=(-_0x4f7dc4['number']-_0x36f07d)*_0x4f7dc4[_0x402b42(0xec)]);}),_0x59cffd++;}}_0x172f96[_0xf9706e(0x1c8)][_0xf9706e(0x196)]((_0x2be248,_0x179a88)=>{const _0x1d0d28=_0xf9706e;_0x516a0b[_0x2be248[_0x1d0d28(0x170)]]&&(_0x2be248[_0x1d0d28(0xb8)]=_0x516a0b[_0x2be248['coin']]);}),_0x85ead8[_0xf9706e(0xf8)]({'date':_0x172f96[_0xf9706e(0xf6)],'eur':_0x172f96[_0xf9706e(0x101)],'usd':_0x172f96[_0xf9706e(0x1c4)],'offset':_0x362d05[_0x2cc368],'netoffset':_0x2d5db6,'coins':_0x172f96[_0xf9706e(0x1c8)]});});}return _0x85ead8;}function emitPerformance(_0x9d013f){const _0x1f3bc5=_0x12030b;_0x9d013f['length']!==0x0?(proxyEmit(_0x1f3bc5(0x154),_0x9d013f),lastPerformanceEmitted=getDate()):proxyEmit(_0x1f3bc5(0x154),[]);}function getPerf(_0x27ce07,_0x4b4422){const _0x11e79c=_0x12030b;let _0x5130b3=0x0,_0x504d76=0x0,_0x13ab43=0x0;_0x27ce07[_0x11e79c(0x1c8)]['forEach'](_0xa47f5d=>{const _0xbd9895=_0x11e79c;_0x5130b3+=_0xa47f5d['number']*_0xa47f5d[_0xbd9895(0xec)];});_0x4b4422&&(_0x5130b3+=_0x27ce07[_0x11e79c(0xc6)]);if(config['basecoin']===_0x11e79c(0xff)||config[_0x11e79c(0x222)]===_0x11e79c(0x1ce)||config[_0x11e79c(0x222)]===_0x11e79c(0x188))_0x504d76=_0x5130b3*_0x27ce07[_0x11e79c(0x101)],_0x13ab43=_0x5130b3*_0x27ce07[_0x11e79c(0x1c4)];else{if(usdBasecoins['includes'](config[_0x11e79c(0x222)]))_0x504d76=_0x5130b3*_0x27ce07[_0x11e79c(0x101)]/_0x27ce07[_0x11e79c(0x1c4)],_0x13ab43=_0x5130b3;else config[_0x11e79c(0x222)]===_0x11e79c(0x174)&&(_0x504d76=_0x5130b3,_0x13ab43=_0x5130b3*_0x27ce07[_0x11e79c(0x1c4)]/_0x27ce07[_0x11e79c(0x101)]);}return[_0x5130b3,_0x504d76,_0x13ab43];}function getKPIs(_0xd16230,_0x5e1ab2=_0x12030b(0x174)){const _0x4cd2bb=_0x12030b,_0x141d5e=config[_0x4cd2bb(0x222)],_0x31cbc4=lastBalances,_0x3555db=currentCoins,_0x24462a=getNormalizedPerformance(),_0xca435b=_0xd16230===_0x4cd2bb(0x222)?_0x141d5e:_0xd16230===_0x4cd2bb(0x1e8)||_0xd16230==='net-fiat'?_0x5e1ab2:_0x4cd2bb(0x20f)+_0x141d5e,_0x3fb5db=_0xd16230===_0x4cd2bb(0x1ff)?_0x4cd2bb(0x1be):_0xd16230===_0x4cd2bb(0x10b)?_0x4cd2bb(0x1be):_0xca435b+_0x4cd2bb(0x84),_0x1970e1=_0xd16230===_0x4cd2bb(0x1ff)||_0xd16230===_0x4cd2bb(0x10b)?_0x4cd2bb(0x1be):_0xca435b+_0x4cd2bb(0x171);let _0x59e2b8=0x0;_0x3555db[_0x4cd2bb(0x196)](_0x549701=>{const _0x39c101=_0x4cd2bb;_0x59e2b8+=_0x549701[_0x39c101(0x158)]*_0x549701['last'];});if(_0xd16230===_0x4cd2bb(0x1e8)||_0xd16230==='net-fiat'){if(_0x141d5e===_0x4cd2bb(0xff)||_0x141d5e===_0x4cd2bb(0x1ce)||_0x141d5e===_0x4cd2bb(0x188))_0x59e2b8=_0x59e2b8*(_0x5e1ab2===_0x4cd2bb(0x174)?_0x31cbc4[_0x4cd2bb(0x101)]:_0x31cbc4[_0x4cd2bb(0x1c4)]);else{if(usdBasecoins['includes'](_0x141d5e))_0x59e2b8=_0x59e2b8*(_0x5e1ab2===_0x4cd2bb(0x174)?_0x31cbc4[_0x4cd2bb(0x101)]/_0x31cbc4[_0x4cd2bb(0x1c4)]:0x1);else _0x141d5e===_0x4cd2bb(0x174)&&(_0x59e2b8=_0x59e2b8*(_0x5e1ab2===_0x4cd2bb(0x174)?0x1:_0x31cbc4[_0x4cd2bb(0x1c4)]/_0x31cbc4['eur']));}}let _0x5e56ba;if(_0x59e2b8!==0x0){if(_0xd16230===_0x4cd2bb(0x222))_0x5e56ba=(_0x59e2b8/startingBalances['basecoin']-0x1)*0x64;else{if(_0x5e1ab2===_0x4cd2bb(0x174))_0x5e56ba=(_0x59e2b8/startingBalances['eur']-0x1)*0x64;else _0x5e56ba=(_0x59e2b8/startingBalances[_0x4cd2bb(0x1c4)]-0x1)*0x64;}let _0xc971a=0x0;if(startingBalances[_0x4cd2bb(0x1c8)])_0x3555db[_0x4cd2bb(0x196)](_0x1f0b9b=>{const _0x14c65d=_0x4cd2bb;let _0x377f18=startingBalances['coins'][_0x14c65d(0x1d2)](_0xb8c7b1=>_0xb8c7b1[_0x14c65d(0x170)]===_0x1f0b9b[_0x14c65d(0x170)]);if(_0x377f18&&_0x377f18[_0x14c65d(0x170)]&&_0x1f0b9b['number']!==0x0)_0xc971a+=_0x377f18[_0x14c65d(0x158)]*_0x1f0b9b[_0x14c65d(0x14d)];});let _0x33741f=0x0;if(_0x24462a[_0x4cd2bb(0x212)]!==0x0){let _0x3bf55b=_0x24462a[_0x24462a['length']-0x1];_0x33741f=_0x3bf55b[_0x4cd2bb(0x200)];}_0xc971a-=_0x33741f;_0xd16230===_0x4cd2bb(0x1ff)&&(_0x5e56ba=(_0x59e2b8-_0xc971a)/startingBalances[_0x4cd2bb(0x222)]*0x64,_0x59e2b8=_0x59e2b8-_0xc971a);if(_0xd16230===_0x4cd2bb(0x10b)){let _0x2c7184=_0x5e1ab2==='EUR'?startingBalances[_0x4cd2bb(0x101)]:startingBalances[_0x4cd2bb(0x1c4)];if(_0x141d5e===_0x4cd2bb(0xff)||_0x141d5e===_0x4cd2bb(0x1ce)||_0x141d5e===_0x4cd2bb(0x188))_0xc971a=_0x5e1ab2===_0x4cd2bb(0x174)?_0xc971a*_0x31cbc4['eur']:_0xc971a*_0x31cbc4[_0x4cd2bb(0x1c4)];else{if(usdBasecoins[_0x4cd2bb(0x223)](_0x141d5e))_0xc971a=_0x5e1ab2===_0x4cd2bb(0x174)?_0xc971a*_0x31cbc4['eur']/_0x31cbc4[_0x4cd2bb(0x1c4)]:_0xc971a;else _0x141d5e===_0x4cd2bb(0x174)&&(_0xc971a=_0x5e1ab2==='EUR'?_0xc971a:_0xc971a*_0x31cbc4['usd']/_0x31cbc4[_0x4cd2bb(0x101)]);}_0x5e56ba=(_0x59e2b8-_0xc971a)/_0x2c7184*0x64,_0x59e2b8=_0x59e2b8-_0xc971a;}if(_0x5e56ba){if(_0x5e56ba<0x64)_0x5e56ba=_0x5e56ba[_0x4cd2bb(0x11c)](0x2);else{if(_0x5e56ba<0x3e8)_0x5e56ba=_0x5e56ba['toFixed'](0x1);else _0x5e56ba=_0x5e56ba[_0x4cd2bb(0x11c)](0x0);}}else _0x5e56ba=Number('0')[_0x4cd2bb(0x11c)](0x2);if(_0x59e2b8){if(Math['abs'](_0x59e2b8)<0.000001)_0x59e2b8=_0x59e2b8[_0x4cd2bb(0x11c)](0x2);else{if(Math[_0x4cd2bb(0x180)](_0x59e2b8)<0.1)_0x59e2b8=_0x59e2b8[_0x4cd2bb(0x11c)](0x6);else{if(Math['abs'](_0x59e2b8)<0x1)_0x59e2b8=_0x59e2b8['toFixed'](0x5);else{if(Math[_0x4cd2bb(0x180)](_0x59e2b8)<0xa)_0x59e2b8=_0x59e2b8[_0x4cd2bb(0x11c)](0x4);else{if(Math['abs'](_0x59e2b8)<0x64)_0x59e2b8=_0x59e2b8[_0x4cd2bb(0x11c)](0x3);else{if(Math[_0x4cd2bb(0x180)](_0x59e2b8)<0x3e8)_0x59e2b8=_0x59e2b8[_0x4cd2bb(0x11c)](0x2);else _0x59e2b8=_0x59e2b8[_0x4cd2bb(0x11c)](0x2);}}}}}}else _0x59e2b8=Number('0')[_0x4cd2bb(0x11c)](0x2);}else _0x5e56ba=Number('0')[_0x4cd2bb(0x11c)](0x2);return{'value':_0x59e2b8,'change':_0x5e56ba,'leftTxt':_0x3fb5db,'rightTxt':_0x1970e1};}async function getStartingBalances(_0x301359,_0x3b975c=!![]){const _0xa44c77=_0x12030b;if(_0x301359[_0xa44c77(0x212)]!==0x0){const [_0x2251e6,_0x4448bb,_0x1e784d]=getPerf(_0x301359[0x0],!![]);let _0x25048a=[];config['portfolio'][_0xa44c77(0x196)](_0x5170d3=>{const _0x40cfda=_0xa44c77;let _0x2321d6=0x0,_0x11061a;config[_0x40cfda(0xfe)][_0x40cfda(0x196)](_0x2eaf1b=>{const _0x3cebb6=_0x40cfda;let _0x3cfd02=_0x2eaf1b[_0x3cebb6(0x228)][_0x3cebb6(0x1d2)](_0x1649c7=>_0x1649c7[_0x3cebb6(0x170)]==_0x5170d3[_0x3cebb6(0x170)]);if(_0x3cfd02){_0x2321d6+=_0x3cfd02[_0x3cebb6(0x158)];if(!_0x11061a)_0x11061a=_0x3cfd02[_0x3cebb6(0xec)];}}),_0x25048a[_0x40cfda(0xf8)]({'coin':_0x5170d3[_0x40cfda(0x170)],'number':_0x2321d6,'initialprice':_0x11061a});});const _0x30dd85={'basecoin':_0x2251e6,'eur':_0x4448bb,'usd':_0x1e784d,'coins':_0x25048a};if(_0x3b975c)proxyEmit(_0xa44c77(0xaa),_0x30dd85);startingBalances=_0x30dd85;}}function headlessMode(_0x1261bd){const _0x5afe11=_0x12030b;let _0x1cf335=_0x1261bd[_0x5afe11(0xe0)],_0x40dba9=_0x1261bd[_0x5afe11(0x98)],_0x5a7f02=[];for(let _0xf2ca40 of _0x1cf335){if(_0xf2ca40[_0x5afe11(0x170)]!=config[_0x5afe11(0x222)]){if(_0xf2ca40[_0x5afe11(0x89)]>=_0x40dba9/0x64){if(_0xf2ca40['valid'])_0x5a7f02[_0x5afe11(0xf8)](_0xf2ca40);}else{if(_0xf2ca40['delta']<=-_0x40dba9/0x64){if(_0xf2ca40[_0x5afe11(0x1b1)])_0x5a7f02[_0x5afe11(0xf8)](_0xf2ca40);}}}}_0x5a7f02[_0x5afe11(0x212)]>0x0&&(lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&_0x5a7f02[_0x5afe11(0x196)](_0x5d913c=>{const _0x249084=_0x5afe11;logger[_0x249084(0x204)](_0x249084(0x129)+_0x5d913c[_0x249084(0x170)]+'\x20'+_0x5d913c[_0x249084(0x158)]+'\x20'+_0x5d913c['last']+'\x20'+_0x5d913c[_0x249084(0xc9)]+'%\x20'+_0x5d913c[_0x249084(0x1dd)]+'%\x20'+(0x64*_0x5d913c[_0x249084(0x89)])[_0x249084(0x11c)](0x2)+_0x249084(0x16c)+_0x40dba9['toFixed'](0x2)+'%)');}),placeOrder(_0x5a7f02));}function notifyBalance(_0x513c73){const _0x2e6604=_0x12030b;let _0x56c28d=_0x513c73['portfolio'],_0x1a20d8=_0x513c73[_0x2e6604(0x98)],_0x1095a8=[];for(let _0x10db02 of _0x56c28d){if(_0x10db02[_0x2e6604(0x170)]!=config['basecoin']){if(_0x10db02['delta']>=_0x1a20d8/0x64){if(_0x10db02[_0x2e6604(0x1b1)])_0x1095a8[_0x2e6604(0xf8)](_0x10db02);}else{if(_0x10db02[_0x2e6604(0x89)]<=-_0x1a20d8/0x64){if(_0x10db02[_0x2e6604(0x1b1)])_0x1095a8[_0x2e6604(0xf8)](_0x10db02);}}}}if(_0x1095a8[_0x2e6604(0x212)]>0x0){let _0x427a25=_0x1095a8[_0x2e6604(0x17d)](_0x7a90fc=>_0x7a90fc[_0x2e6604(0x170)]);_0x427a25[_0x2e6604(0x186)]();let _0x58c066=_0x427a25[_0x2e6604(0x225)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x2e6604(0x118));lastCoinsToBalance=_0x58c066;}}function symbolToCoin(_0x3448c4){const _0x3150fe=_0x12030b;let _0x39a0aa;if(_0x3448c4['includes']('/'+config['basecoin']))_0x39a0aa=_0x3448c4['replace']('/'+config[_0x3150fe(0x222)],'');if(_0x3448c4[_0x3150fe(0x223)](config[_0x3150fe(0x222)]+'/'))_0x39a0aa=_0x3448c4['replace'](config[_0x3150fe(0x222)]+'/','');return _0x39a0aa;}async function unlockOrders(){const _0x47ca98=_0x12030b;if(allOrdersPlaced&&lockOrders==ORDERS[_0x47ca98(0xca)]){logger[_0x47ca98(0x204)](_0x47ca98(0x116)),lockOrders=ORDERS[_0x47ca98(0x12b)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x426b3e=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x426b3e,blockTransactionDetection=![],validateOrdersState=_0x47ca98(0xb8),persistOpenOrders([]),lockOrders=ORDERS[_0x47ca98(0xd8)],logger[_0x47ca98(0x204)](_0x47ca98(0xdd));}}async function validateOrders(_0x171229){const _0x4abbf7=_0x12030b;if(_0x171229)validateOrdersState=_0x171229;logger['debug']('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x4abbf7(0x109)+(lockOrders==0x1?_0x4abbf7(0x1e2):lockOrders==0x2?_0x4abbf7(0x19b):_0x4abbf7(0x1b5)));let _0xb6d0ac=[],_0x429240=config[_0x4abbf7(0x197)]==_0x4abbf7(0xe8)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4abbf7(0x83)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4abbf7(0xca)])return;logger[_0x4abbf7(0x204)](_0x4abbf7(0xa8)+validateOrdersState),lastOrders[_0x4abbf7(0x196)](_0x52fd0a=>{const _0x4ab7f7=_0x4abbf7;let _0x3a67ab=![];_0x52fd0a[_0x4ab7f7(0x181)]>0x0&&(_0x3a67ab=!![]),_0xb6d0ac[_0x4ab7f7(0xf8)](_0x3a67ab),_0x3a67ab&&config['ordertype']!='market'&&logHistory(_0x4ab7f7(0xbb),_0x4ab7f7(0xc7)+_0x52fd0a['symbol']+'\x20'+_0x52fd0a[_0x4ab7f7(0x1e0)]+'\x20#'+formatResult(_0x52fd0a['filled'],0x8)+'\x20@'+formatResult(_0x52fd0a[_0x4ab7f7(0xec)],0x8));}),_0xb6d0ac['forEach']((_0x50e980,_0x75d6bf)=>{const _0x1357a3=_0x4abbf7;if(_0x50e980)lastOrders[_0x1357a3(0x1a0)](_0x75d6bf,0x1);}),persistOpenOrders(lastOrders);const _0x6b311f=coolingDown?_0x4abbf7(0x88):_0x4abbf7(0x9c);if(validateOrdersState==_0x4abbf7(0xb8)){validateOrdersState='ongoing';if(_0xb6d0ac['includes'](![])){if(config['ordertype']==_0x4abbf7(0xe8)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x4abbf7(0x191)){if(_0xb6d0ac['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x4abbf7(0x197)]==_0x4abbf7(0xe8)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x4abbf7(0x94))_0xb6d0ac[_0x4abbf7(0x223)](![])&&(config[_0x4abbf7(0x197)]==_0x4abbf7(0xe8)?logHistory('success',_0x4abbf7(0x17a)+Math[_0x4abbf7(0xa3)](_0x429240*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x6b311f):(await cancelOrders(),logHistory(_0x4abbf7(0xbe),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x429240*validateOrderInterval/0xea60)+_0x4abbf7(0x16f)+_0x6b311f))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!=_0x4abbf7(0xe8))logHistory(_0x4abbf7(0xbe),'No\x20more\x20open\x20orders\x20-\x20'+_0x6b311f);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0xd48879=>{const _0x4b60c9=_0x21f6;try{const _0x2ac420=await exchange[_0x4b60c9(0x1f7)](_0xd48879[_0x4b60c9(0x18d)],_0xd48879[_0x4b60c9(0xc1)]);}catch(_0x31ef5f){if(_0x31ef5f['toString']()[_0x4b60c9(0x223)](_0x4b60c9(0x20b))){}else await handleError(_0x31ef5f,_0x4b60c9(0x10e));}});}async function initCoinResults(_0x42d98b){const _0x4205ed=_0x12030b;_0x42d98b?logger[_0x4205ed(0x204)](_0x4205ed(0x175)+_0x42d98b):logger['debug'](_0x4205ed(0x177)),config[_0x4205ed(0xe0)]['forEach'](_0x2637a4=>{const _0x187add=_0x4205ed;if(!_0x2637a4[_0x187add(0x1aa)]&&_0x2637a4[_0x187add(0x170)]!=config['basecoin']){const _0x447709=currentCoins[_0x187add(0x1d2)](_0x518177=>_0x518177[_0x187add(0x170)]==_0x2637a4[_0x187add(0x170)]),_0x1c2e18=gTicker[noslash(_0x2637a4[_0x187add(0xc1)])];let _0x59dde9=_0x447709?_0x447709[_0x187add(0x158)]:null,_0x5b9c05=_0x2637a4[_0x187add(0x213)]?0x1/_0x1c2e18:_0x1c2e18,_0x2fc7ad;config['liquidity'][_0x187add(0x196)](_0xb1f737=>{const _0x17bd53=_0x187add;!_0x2fc7ad&&(_0x2fc7ad=_0xb1f737[_0x17bd53(0x228)][_0x17bd53(0x1d2)](_0x141f8e=>_0x141f8e[_0x17bd53(0x170)]==_0x2637a4['coin']),_0x2fc7ad&&(_0x59dde9=_0x2fc7ad[_0x17bd53(0x158)],_0x5b9c05=_0x2fc7ad[_0x17bd53(0xec)]));});let _0x5304bb=dbCoinResults[_0x187add(0x11e)]('coins')[_0x187add(0x1d2)]({'coin':_0x2637a4['coin']})[_0x187add(0x120)]();if(!_0x5304bb){const _0xb987dd={'coin':_0x2637a4[_0x187add(0x170)],'number':_0x59dde9,'breakeven':_0x5b9c05,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x187add(0x1c8))[_0x187add(0xf8)](_0xb987dd)['write']();}else{if(_0x42d98b&&_0x2637a4['coin']==_0x42d98b){const _0x3298d6={'coin':_0x2637a4[_0x187add(0x170)],'number':_0x59dde9,'breakeven':_0x5b9c05,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')[_0x187add(0x1d2)]({'coin':_0x2637a4[_0x187add(0x170)]})[_0x187add(0xb1)](_0x3298d6)[_0x187add(0x106)]();}}}});}async function updateCoinResults(_0x353c76,_0x5888d9=![]){const _0x124314=_0x12030b;let _0x15f0fb,_0x434f37,_0x9e752b,_0x4d9f69,_0x1939d0,_0x1c9afc,_0x2c4aaf=dbCoinResults['get'](_0x124314(0x1c8))[_0x124314(0x1d2)]({'coin':_0x353c76[_0x124314(0x170)]})['value'](),_0x28c0a8=![];_0x2c4aaf&&Object['entries'](_0x2c4aaf)['forEach'](([_0xa7b366,_0x34b695])=>{if(_0x34b695==null)_0x28c0a8=!![];});(!_0x2c4aaf||_0x28c0a8)&&(await initCoinResults(_0x353c76['coin']),_0x2c4aaf=dbCoinResults[_0x124314(0x11e)](_0x124314(0x1c8))[_0x124314(0x1d2)]({'coin':_0x353c76['coin']})[_0x124314(0x120)]());_0x353c76[_0x124314(0x213)]&&(_0x1c9afc={'filled':_0x353c76[_0x124314(0x181)]*_0x353c76['price'],'amount':_0x353c76['filled']*_0x353c76[_0x124314(0xec)],'side':_0x353c76[_0x124314(0x1e0)]==_0x124314(0x215)?'buy':_0x124314(0x215),'price':0x1/_0x353c76[_0x124314(0xec)]},_0x353c76={..._0x353c76,..._0x1c9afc});_0x5888d9?_0x434f37=_0x353c76[_0x124314(0x1e0)]==_0x124314(0x91)?_0x2c4aaf[_0x124314(0x158)]+_0x353c76[_0x124314(0x181)]:_0x2c4aaf[_0x124314(0x158)]-_0x353c76[_0x124314(0x181)]:_0x434f37=await getCoinNumber(_0x353c76[_0x124314(0x170)]);if(_0x353c76[_0x124314(0xdb)]&&_0x353c76['fee']['currency']==config[_0x124314(0x222)])_0x15f0fb=Number(_0x353c76[_0x124314(0xdb)][_0x124314(0x22c)]);else{if(_0x353c76[_0x124314(0xdb)]&&_0x353c76[_0x124314(0xdb)]['currency']=='BNB'&&!_0x5888d9&&config[_0x124314(0x222)]!=_0x124314(0x188))_0x15f0fb=Number(_0x353c76[_0x124314(0xdb)][_0x124314(0x22c)])*gTicker[_0x124314(0x140)+config[_0x124314(0x222)]];else _0x15f0fb=defaultFee*_0x353c76[_0x124314(0x181)]*_0x353c76[_0x124314(0xec)];}_0x353c76[_0x124314(0x1e0)]=='buy'?(_0x9e752b=_0x434f37!=0x0?(_0x2c4aaf[_0x124314(0x135)]*_0x2c4aaf[_0x124314(0x158)]+_0x353c76[_0x124314(0xec)]*(_0x434f37-_0x2c4aaf[_0x124314(0x158)])+_0x15f0fb)/_0x434f37:0x0,_0x4d9f69=_0x2c4aaf[_0x124314(0x1ec)]):(_0x9e752b=_0x434f37!=0x0?(_0x2c4aaf[_0x124314(0x135)]*_0x2c4aaf[_0x124314(0x158)]-_0x353c76['price']*(_0x2c4aaf[_0x124314(0x158)]-_0x434f37)+_0x15f0fb)/_0x434f37:0x0,_0x4d9f69=_0x2c4aaf[_0x124314(0x1ec)]+(_0x353c76['price']-_0x2c4aaf[_0x124314(0x135)])*_0x353c76['filled']);_0x1939d0=(_0x353c76[_0x124314(0xec)]-_0x9e752b-_0x15f0fb/_0x353c76['filled'])*_0x434f37;let _0x424cce={'coin':_0x353c76[_0x124314(0x170)],'number':_0x434f37,'breakeven':formatResult(_0x9e752b,0x8),'realized':formatResult(_0x4d9f69,0x8),'unrealized':formatResult(_0x1939d0,0x8),'fees':formatResult(_0x2c4aaf[_0x124314(0x7f)]+_0x15f0fb,0x8),'sells':_0x353c76[_0x124314(0x1e0)]==_0x124314(0x215)?_0x2c4aaf[_0x124314(0x113)]+0x1:_0x2c4aaf[_0x124314(0x113)],'buys':_0x353c76[_0x124314(0x1e0)]==_0x124314(0x91)?_0x2c4aaf['buys']+0x1:_0x2c4aaf[_0x124314(0x1fd)]};dbCoinResults[_0x124314(0x11e)]('coins')[_0x124314(0x1d2)]({'coin':_0x353c76[_0x124314(0x170)]})[_0x124314(0xb1)](_0x424cce)[_0x124314(0x106)]();if(!_0x5888d9){if(_0x353c76['fee']&&_0x353c76[_0x124314(0xdb)][_0x124314(0x1d3)]==_0x124314(0x140)){const _0x7a46a8=currentCoins[_0x124314(0x1d2)](_0x99033e=>_0x99033e[_0x124314(0x170)]==_0x124314(0x140));if(_0x7a46a8){let _0xed5e78=dbCoinResults['get'](_0x124314(0x1c8))[_0x124314(0x1d2)]({'coin':'BNB'})['value']();_0x424cce={..._0xed5e78,'number':_0x7a46a8[_0x124314(0x158)]},dbCoinResults[_0x124314(0x11e)](_0x124314(0x1c8))[_0x124314(0x1d2)]({'coin':'BNB'})[_0x124314(0xb1)](_0x424cce)[_0x124314(0x106)]();}}}}async function placeOrder(_0x149f45){const _0x118421=_0x12030b,_0x33f5b0=config[_0x118421(0x197)]=='market'?'market':_0x118421(0x149);if(lockOrders==ORDERS[_0x118421(0xd8)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x118421(0xca)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState='initial';let _0x5395ef=![];lastOrders=[];for(const _0x4befb4 of _0x149f45){let _0x48d066,_0x4fb7f6,_0x8d1c3a,_0x341a5e,_0x3b4ff8,_0x4b47e1=_0x4befb4[_0x118421(0xc1)];try{const _0x209ae7=await exchange[_0x118421(0x1d4)](_0x4b47e1);_0x48d066=_0x4befb4[_0x118421(0x213)]?0x1/_0x4befb4['last']:_0x4befb4[_0x118421(0x14d)],_0x4fb7f6=_0x209ae7[_0x118421(0x1ab)],_0x8d1c3a=_0x209ae7[_0x118421(0x221)];_0x4befb4[_0x118421(0x213)]?(_0x341a5e=_0x4befb4[_0x118421(0x1e0)]==_0x118421(0x91)?_0x118421(0x215):_0x118421(0x91),_0x3b4ff8=Math[_0x118421(0x180)](_0x4befb4[_0x118421(0x198)])/_0x48d066):(_0x341a5e=_0x4befb4[_0x118421(0x1e0)],_0x3b4ff8=Math[_0x118421(0x180)](_0x4befb4[_0x118421(0x198)]));_0x33f5b0==_0x118421(0x149)&&(config[_0x118421(0x197)]==_0x118421(0x1ee)&&(_0x48d066=_0x341a5e==_0x118421(0x91)?_0x4fb7f6:_0x8d1c3a),config[_0x118421(0x197)]==_0x118421(0x80)&&(_0x48d066=_0x341a5e==_0x118421(0x91)?_0x8d1c3a:_0x4fb7f6));_0x3b4ff8=formatResult(_0x3b4ff8,0x8),_0x48d066=formatResult(_0x48d066,0x8);const _0x113907=_0x341a5e==_0x118421(0x215)?config[_0x118421(0x1d6)]?String[_0x118421(0xf2)]('0x'+config[_0x118421(0x1d6)])+'\x20':'':config['emojibuy']?String[_0x118421(0xf2)]('0x'+config['emojibuy'])+'\x20':'',_0x529a01=_0x33f5b0=='market'?_0x118421(0x1eb):config['ordertype']=='limit-high'?_0x118421(0x11b):'Limit\x20(low-margin)',_0x6b5b32=(Math[_0x118421(0xbd)](Math[_0x118421(0x1bc)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x118421(0xf8)]({'customId':_0x6b5b32,'symbol':_0x4b47e1,'coin':_0x4befb4[_0x118421(0x170)],'amount':_0x3b4ff8,'price':_0x48d066,'side':_0x341a5e,'reverse':_0x4befb4[_0x118421(0x213)],'filled':0x0});if(_0x33f5b0=='market')logHistory(_0x118421(0xbb),''+_0x113907+_0x529a01+'\x20order:\x20'+_0x4b47e1+'\x20'+_0x341a5e+'\x20#'+formatResult(_0x3b4ff8,0x8)+'\x20@'+formatResult(_0x48d066,0x8));else logHistory(_0x118421(0xbb),''+_0x113907+_0x529a01+_0x118421(0x239)+_0x4b47e1+'\x20'+_0x341a5e+'\x20#'+formatResult(_0x3b4ff8,0x8)+'\x20@'+formatResult(_0x48d066,0x8));let _0x5e3379;_0x33f5b0==_0x118421(0xe8)?_0x341a5e==_0x118421(0x91)&&['Bybit','Bitget',_0x118421(0x1a2),'Huobi',_0x118421(0x136)]['includes'](config[_0x118421(0x82)])?_0x5e3379=await exchange[_0x118421(0x1d9)](_0x4b47e1,_0x33f5b0,_0x341a5e,_0x3b4ff8,_0x48d066):_0x5e3379=await exchange[_0x118421(0x1d9)](_0x4b47e1,_0x33f5b0,_0x341a5e,_0x3b4ff8,undefined):_0x5e3379=await exchange['createOrder'](_0x4b47e1,_0x33f5b0,_0x341a5e,_0x3b4ff8,_0x48d066);logger['debug']('ID:\x20'+_0x5e3379['id']+_0x118421(0x150)+_0x6b5b32);const _0x2b71a0=lastOrders[_0x118421(0x212)]-0x1;if(_0x2b71a0>=0x0&&lastOrders[_0x2b71a0]['customId']==_0x6b5b32){lastOrders[_0x2b71a0][_0x118421(0x18d)]=_0x5e3379['id'];if(_0x5e3379[_0x118421(0x8d)])lastOrders[_0x2b71a0][_0x118421(0x8d)]=_0x5e3379[_0x118421(0x8d)];if(_0x5e3379[_0x118421(0xec)])lastOrders[_0x2b71a0]['price']=_0x5e3379[_0x118421(0xec)];lastOrders[_0x2b71a0][_0x118421(0xdb)]=_0x5e3379[_0x118421(0xdb)];}if(config[_0x118421(0x163)]!=0x0){let _0x7da0fc=null;if(cooldownTracker['length']==config[_0x118421(0x163)]-0x1)_0x7da0fc=cooldownTracker[_0x118421(0x22b)]();const _0x2bc78d=getTimeStamp();cooldownTracker[_0x118421(0xf8)](_0x2bc78d);if(_0x7da0fc){const _0x356146=fns[_0x118421(0xdc)](new Date(_0x2bc78d),new Date(_0x7da0fc));if(_0x356146<cooldownInterval){logHistory(_0x118421(0xc3),_0x118421(0x8f)+config[_0x118421(0x163)]+_0x118421(0x233)+cooldownInterval/0x3c+_0x118421(0x117)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x55cb56){if(_0x55cb56[_0x118421(0x124)]()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders[_0x118421(0xc5)](_0xbbf02e=>_0xbbf02e[_0x118421(0xc1)]!=_0x4b47e1),logHistory('error',_0x118421(0x1ca)+_0x4b47e1),_0x5395ef=!![];else{if(_0x55cb56[_0x118421(0x124)]()[_0x118421(0x223)](_0x118421(0x16e)))lastOrders=lastOrders[_0x118421(0xc5)](_0x89a473=>_0x89a473[_0x118421(0xc1)]!=_0x4b47e1),logHistory(_0x118421(0xc3),_0x118421(0x10a)+_0x4b47e1),_0x5395ef=!![];else{if(_0x55cb56[_0x118421(0x124)]()['includes'](_0x118421(0x1b4)))lastOrders=lastOrders[_0x118421(0xc5)](_0x480063=>_0x480063['symbol']!=_0x4b47e1),logHistory(_0x118421(0xc3),_0x118421(0x107)+_0x4b47e1),logger['debug'](_0x55cb56),_0x5395ef=!![];else _0x55cb56['toString']()[_0x118421(0x223)](_0x118421(0x21c))?(lastOrders=lastOrders['filter'](_0x2cfcb5=>_0x2cfcb5[_0x118421(0xc1)]!=_0x4b47e1),logHistory(_0x118421(0xc3),_0x118421(0x1ca)+_0x4b47e1),_0x5395ef=!![]):(lastOrders=lastOrders['filter'](_0x18cd2f=>_0x18cd2f['symbol']!=_0x4b47e1),await handleError(_0x55cb56,_0x118421(0x161),_0x4b47e1));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x118421(0x212)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0xdf3780=config[_0x118421(0x197)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x118421(0x83)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x667493=_0x118421;validateOrders(_0x667493(0x94));},_0xdf3780);}else unlockOrders();_0x5395ef&&config[_0x118421(0x137)]&&(logHistory(_0x118421(0xc3),_0x118421(0x138)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x118421(0xbe),_0x118421(0xe2)));}else{if(coolingDown)!config[_0x118421(0x137)]&&logHistory('error','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x118421(0xd8)]&&(!config[_0x118421(0x137)]&&(config['ordertype']==_0x118421(0xe8)?logHistory('error',_0x118421(0x1da)):logHistory(_0x118421(0xc3),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x169738){const _0x3b5a6a=_0x12030b,_0x3f51cb={...config,'openOrders':_0x169738};let _0x4c826e=dbConfig[_0x3b5a6a(0x11e)]('bot')['find']({'botID':botID})[_0x3b5a6a(0x120)]();_0x4c826e&&dbConfig['get'](_0x3b5a6a(0x1e7))[_0x3b5a6a(0x1d2)]({'botID':botID})['assign'](_0x3f51cb)[_0x3b5a6a(0x106)]();}function restoreOrders(){const _0x49d6d7=_0x12030b;let _0x399f21;config[_0x49d6d7(0x1f5)]&&allOpenOrders[_0x49d6d7(0x196)](_0x5eb533=>{const _0x488bb4=_0x49d6d7,_0xfd9b8=config['openOrders'][_0x488bb4(0x1d2)](_0x17a8d3=>_0x17a8d3[_0x488bb4(0x18d)]==_0x5eb533['id']);_0xfd9b8&&(lastOrders[_0x488bb4(0xf8)](_0xfd9b8),_0x399f21=_0x5eb533[_0x488bb4(0x10c)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x49d6d7(0xca)],validateOrdersState=_0x49d6d7(0x191),allOrdersPlaced=!![];const _0xf977c5=new Date()[_0x49d6d7(0x18b)](),_0x5a3c1a=config[_0x49d6d7(0x197)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x49d6d7(0x83)]*0x3c*0x3e8;if(_0x399f21+_0x5a3c1a>_0xf977c5){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2ec097=_0x49d6d7;validateOrders(_0x2ec097(0x94));},_0x399f21+_0x5a3c1a-_0xf977c5);}else validateOrders(_0x49d6d7(0x94));}}async function sendMetricsTelegram(){const _0x3ab819=_0x12030b;if(!coinsLoaded){process[_0x3ab819(0xd2)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x37b591=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x46f13c='';if(config[_0x3ab819(0xb3)])_0x46f13c=_0x3ab819(0x209)+config[_0x3ab819(0x1a3)]+_0x3ab819(0x108);else _0x46f13c='<b>Bot\x20'+botID+_0x3ab819(0x108);const _0x266183=getKPIs(_0x3ab819(0x222)),_0x2486d5=getKPIs(_0x3ab819(0x1e8),config[_0x3ab819(0x1e8)]),_0x22a5b0=getKPIs(_0x3ab819(0x1ff)),_0x106bf0=getKPIs(_0x3ab819(0x10b),config['fiat']);_0x46f13c+='<pre>',_0x46f13c+=_0x266183[_0x3ab819(0x214)]+_0x3ab819(0x190)+_0x266183['value']+'\x0a',_0x46f13c+=_0x266183[_0x3ab819(0x1af)]+':\x20'+_0x266183[_0x3ab819(0x151)]+'%\x0a',_0x46f13c+=_0x2486d5[_0x3ab819(0x214)]+_0x3ab819(0x190)+_0x2486d5[_0x3ab819(0x120)]+'\x0a',_0x46f13c+=_0x2486d5[_0x3ab819(0x1af)]+':\x20'+_0x2486d5['change']+'%\x0a',_0x46f13c+=_0x22a5b0['leftTxt']+':\x20'+_0x22a5b0[_0x3ab819(0x120)]+'\x20('+config[_0x3ab819(0x222)]+')\x0a',_0x46f13c+=_0x22a5b0[_0x3ab819(0x1af)]+':\x20'+_0x22a5b0[_0x3ab819(0x151)]+_0x3ab819(0x16c)+config[_0x3ab819(0x222)]+')\x0a',_0x46f13c+=_0x106bf0[_0x3ab819(0x214)]+':\x20'+_0x106bf0[_0x3ab819(0x120)]+'\x20('+config[_0x3ab819(0x1e8)]+')\x0a',_0x46f13c+=_0x106bf0[_0x3ab819(0x1af)]+':\x20'+_0x106bf0[_0x3ab819(0x151)]+_0x3ab819(0x16c)+config[_0x3ab819(0x1e8)]+')\x0a',_0x46f13c+=_0x3ab819(0x14c),process[_0x3ab819(0xd2)]({'telegrammsg':_0x46f13c},_0x28cc6c=>{});}async function sendPortfolioTelegram(){const _0x291866=_0x12030b;if(!coinsLoaded||!currentCoins[0x0][_0x291866(0xc9)]){process[_0x291866(0xd2)]({'telegrammsg':_0x291866(0x1cc)},_0x423bf5=>{});return;}let _0x12998c='';if(config[_0x291866(0xb3)])_0x12998c=_0x291866(0x209)+config[_0x291866(0x1a3)]+_0x291866(0x168);else _0x12998c=_0x291866(0x115)+botID+_0x291866(0x168);_0x12998c+=_0x291866(0x238),_0x12998c+=_0x291866(0xc0),_0x12998c+=_0x291866(0x21a),_0x12998c+=_0x291866(0xc0),currentCoins['forEach'](_0x4c1791=>{const _0x2a4dcc=_0x291866;_0x12998c+=_0x4c1791[_0x2a4dcc(0x170)]['padEnd'](0x7)+'|\x20'+formatPad(_0x4c1791[_0x2a4dcc(0xc9)],0x2,0x6)+'|\x20'+formatPad(_0x4c1791[_0x2a4dcc(0x1dd)],0x2,0x6)+'|\x20'+formatPad(_0x4c1791[_0x2a4dcc(0x89)]*0x64,0x2,0x6)+'\x0a';}),_0x12998c+=_0x291866(0x14c),process['send']({'telegrammsg':_0x12998c},_0x1c06d2=>{});}function formatPad(_0x438bc3,_0x1d2adc,_0x2d5661){const _0x3da249=_0x12030b,_0x31753c=formatResultString(_0x438bc3,_0x1d2adc);return _0x31753c?_0x31753c[_0x3da249(0xb0)](_0x2d5661):''[_0x3da249(0xb0)](_0x2d5661);}function logHistory(_0xb981df,_0x4d4e3e,_0x477df5=''){const _0x424a05=_0x12030b;logger[_0x424a05(0xf5)](''+_0x4d4e3e);let _0x4299bf={'time':getTimeStamp(),'type':_0xb981df,'event':_0x4d4e3e};dbLogs[_0x424a05(0x11e)](_0x424a05(0x1d8))[_0x424a05(0xf8)](_0x4299bf)['write']();if(_0x477df5=='')_0x477df5=_0x4d4e3e;proxyEmit(_0x424a05(0x218),{'log':_0x4299bf,'summary':_0x477df5}),process['send']({'telegram':{..._0x4299bf,'botname':config['botname'],'showname':config[_0x424a05(0xb3)]}},_0x4c224b=>{});}function emitHistory(_0x36afc0={}){const _0x4128a5=_0x12030b;Object['keys'](_0x36afc0)[_0x4128a5(0x212)]==0x0&&(_0x36afc0={'type':[_0x4128a5(0xbb),'event'],'event':'','page':0x1});if(_0x36afc0[_0x4128a5(0x12a)][_0x4128a5(0x223)](_0x4128a5(0x218)))_0x36afc0[_0x4128a5(0x12a)][_0x4128a5(0x1a0)](_0x36afc0[_0x4128a5(0x12a)][_0x4128a5(0x110)](_0x4128a5(0x218)),0x1,_0x4128a5(0xc3),_0x4128a5(0x17f),_0x4128a5(0xbe));if(dbLogs[_0x4128a5(0xcc)](_0x4128a5(0x1d8))[_0x4128a5(0x120)]()){let _0x385166=dbLogs[_0x4128a5(0x11e)](_0x4128a5(0x1d8))['filter'](_0x51daf0=>{const _0x4fd856=_0x4128a5;if(_0x36afc0[_0x4fd856(0x12a)]['length']==0x0)return![];else return _0x36afc0[_0x4fd856(0x12a)]['includes'](_0x51daf0[_0x4fd856(0x12a)]);})[_0x4128a5(0xc5)](_0x3ad252=>{const _0x5395b3=_0x4128a5;if(_0x36afc0[_0x5395b3(0x218)]=='')return!![];else return _0x3ad252[_0x5395b3(0x218)][_0x5395b3(0x130)]()[_0x5395b3(0x223)](_0x36afc0[_0x5395b3(0x218)][_0x5395b3(0x130)]());})[_0x4128a5(0x15f)]('time'),_0x27abfe=_0x385166['value']()['length'];_0x385166=_0x385166[_0x4128a5(0x213)]()[_0x4128a5(0x160)]((_0x36afc0[_0x4128a5(0x1ac)]-0x1)*logPageSize,_0x36afc0[_0x4128a5(0x1ac)]*logPageSize-0x1)[_0x4128a5(0x213)]()[_0x4128a5(0x120)](),proxyEmit(_0x4128a5(0xf9),{'logs':_0x385166,'total':_0x27abfe});}else proxyEmit(_0x4128a5(0xf9),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x541f82){const _0x980073=_0x12030b;if(dbLogs['has']('logs')[_0x980073(0x120)]()){const _0xaf150e=dbLogs[_0x980073(0x11e)]('logs')['sortBy'](_0x980073(0x162))['filter'](_0x88f78d=>{const _0x93f996=_0x980073;return _0x88f78d['type']==_0x93f996(0xbb);})[_0x980073(0x120)]();dbLogs[_0x980073(0x11e)]('logs')['remove']()[_0x980073(0x106)](),dbLogs[_0x980073(0x11e)](_0x980073(0x1d8))[_0x980073(0xb1)](_0xaf150e)[_0x980073(0x106)](),emitHistory(_0x541f82);}}async function pauseBot(_0x5b2fe4=pauseBotIntervalShort,_0xc1e9a0){const _0x43cfb8=_0x12030b,_0xf9b9b8=new Date()['getTime']();if(!lastErrorShown||_0xf9b9b8-lastErrorShown>=_0x5b2fe4){lastErrorShown=_0xf9b9b8;!lastBotPause?(lastBotPause=_0xf9b9b8,consecutivePauses=0x1):(_0xf9b9b8-lastBotPause-_0x5b2fe4<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>maxPauseRetries&&(logHistory(_0x43cfb8(0xc3),_0xc1e9a0+pauseBotMsg),_0x5b2fe4=pauseBotInterval)):consecutivePauses=0x1,lastBotPause=_0xf9b9b8);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x5b2fe4),botPaused=![],reset(!![]);}}}async function killBot(){botPaused=!![],await sleep(0x3e8),process['send']({'stop':'kill'},_0x373bbc=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x6b432,_0x44bdbe){const _0x1f9b21=_0x12030b;if(botPaused)return;const _0x3ad511=config[_0x1f9b21(0x82)]||_0x1f9b21(0x232);if(_0x44bdbe)logger[_0x1f9b21(0x204)](_0x1f9b21(0xee)+_0x44bdbe);const _0x30969f=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x6b432[_0x1f9b21(0x124)]()[_0x1f9b21(0x223)](_0x1f9b21(0x189)))logHistory('error',_0x3ad511+_0x1f9b21(0x15b)),_0x30969f();else{if(_0x6b432[_0x1f9b21(0x124)]()[_0x1f9b21(0x223)](_0x1f9b21(0xcd)))logHistory(_0x1f9b21(0xc3),_0x3ad511+_0x1f9b21(0x1fb)),_0x30969f();else _0x6b432[_0x1f9b21(0x124)]()['includes'](_0x1f9b21(0x1fc))?(logHistory(_0x1f9b21(0xc3),_0x3ad511+_0x1f9b21(0x230)),logHistory(_0x1f9b21(0xc3),_0x1f9b21(0x1a1)),_0x30969f()):await handleError(_0x6b432,null);}}async function handleError(_0x38f6d3,_0x3ccaeb,_0x26ceaf=''){const _0x37db0f=_0x12030b;if(botPaused)return;let _0x338a84;const _0x2c1b1b=config['exchange']||'Exchange';if(_0x3ccaeb)logger[_0x37db0f(0x204)]('Exception\x20thrown\x20in\x20'+_0x3ccaeb);if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0xf0)))_0x338a84=_0x2c1b1b+_0x37db0f(0x14f),logger[_0x37db0f(0x204)](_0x338a84+'\x20>\x20details:',_0x38f6d3[_0x37db0f(0x124)]()),await pauseBot(undefined,_0x338a84);else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)]('RateLimitExceeded'))_0x338a84=_0x2c1b1b+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',logger[_0x37db0f(0x204)](_0x338a84+_0x37db0f(0x18f),_0x38f6d3['toString']()),await pauseBot(undefined,_0x338a84);else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0x128))||_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0x231)))_0x338a84=_0x2c1b1b+_0x37db0f(0x211),logger[_0x37db0f(0x204)](_0x338a84+_0x37db0f(0x18f),_0x38f6d3[_0x37db0f(0x124)]()),await pauseBot(undefined,_0x338a84);else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0x1e3)))_0x338a84=_0x2c1b1b+_0x37db0f(0x1b7),logger['debug'](_0x338a84+_0x37db0f(0x18f),_0x38f6d3[_0x37db0f(0x124)]()),await pauseBot(undefined,_0x338a84);else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0x11a)))_0x338a84=_0x2c1b1b+_0x37db0f(0xac),logger['debug'](_0x338a84+'\x20>\x20details:',_0x38f6d3[_0x37db0f(0x124)]()),await pauseBot(undefined,_0x338a84);else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x130)]()[_0x37db0f(0x223)](_0x37db0f(0x10c))||_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x130)]()[_0x37db0f(0x223)](_0x37db0f(0x148)))_0x338a84=_0x37db0f(0x207),logger['debug'](_0x338a84+_0x37db0f(0x18f),_0x38f6d3['toString']()),await pauseBot(undefined,_0x338a84);else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0xbf)))_0x338a84=_0x2c1b1b+_0x37db0f(0xb5),logger[_0x37db0f(0x204)](_0x338a84+_0x37db0f(0x18f),_0x38f6d3[_0x37db0f(0x124)]()),await pauseBot(undefined,_0x338a84);else{if(_0x38f6d3 instanceof ccxt['NetworkError'])_0x338a84=_0x2c1b1b+_0x37db0f(0x19e),logger[_0x37db0f(0x204)](_0x338a84+_0x37db0f(0x18f),_0x38f6d3['toString']()),await pauseBot(undefined,_0x338a84);else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0x189)))logHistory('error',_0x2c1b1b+_0x37db0f(0x210)),logHistory(_0x37db0f(0xc3),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x38f6d3[_0x37db0f(0x124)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x37db0f(0xc3),_0x2c1b1b+_0x37db0f(0x131)),logHistory(_0x37db0f(0xc3),_0x37db0f(0x17e)),await killBot();else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0x1fc)))logHistory('error',_0x2c1b1b+_0x37db0f(0x164)),logHistory(_0x37db0f(0xc3),_0x37db0f(0x17e)),await killBot();else{if(_0x38f6d3[_0x37db0f(0x124)]()[_0x37db0f(0x223)](_0x37db0f(0xa6)))logHistory(_0x37db0f(0xc3),_0x2c1b1b+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions'),logHistory(_0x37db0f(0xc3),_0x37db0f(0x17e)),await killBot();else{if(_0x38f6d3['toString']()[_0x37db0f(0x223)](_0x37db0f(0xd1)))logHistory('error',_0x37db0f(0x167)+_0x26ceaf);else{if(_0x38f6d3 instanceof ccxt['ExchangeError']){logHistory('error',_0x2c1b1b+_0x37db0f(0xa0)),logger[_0x37db0f(0x204)](_0x37db0f(0x122),_0x38f6d3);if(_0x26ceaf)logger[_0x37db0f(0x204)](_0x37db0f(0x134)+_0x26ceaf);}else{_0x338a84=_0x37db0f(0xf1),logger[_0x37db0f(0x204)](_0x338a84+_0x37db0f(0x18f),_0x38f6d3);if(_0x26ceaf)logger[_0x37db0f(0x204)](_0x37db0f(0x134)+_0x26ceaf);await pauseBot(undefined,_0x338a84);}}}}}}}}}}}}}}}async function withRetry(_0x3fee2a,_0x318c9e){const _0x5cafbc=_0x12030b;let _0x1e4943=![],_0x3f5f8f=0x0,_0x353104,_0x17f8dc;while(_0x3f5f8f<maxRetries){try{_0x353104=await _0x318c9e();break;}catch(_0x9f6b59){_0x17f8dc=_0x9f6b59,!_0x1e4943?(_0x1e4943=!![],logger['debug'](_0x5cafbc(0x1f6)+_0x3fee2a+':',_0x9f6b59[_0x5cafbc(0x124)]())):await sleep(retryInterval);}_0x3f5f8f++;}if(_0x3f5f8f==0x0)return _0x353104;if(_0x3f5f8f>=maxRetries)throw _0x17f8dc;else return logger[_0x5cafbc(0x204)](_0x5cafbc(0x96)+_0x3f5f8f+'\x20attempts'),_0x353104;}function formatResult(_0x1ed0b7,_0x1f96ba){const _0x45faab=_0x12030b;return parseFloat(_0x1ed0b7[_0x45faab(0x11c)](_0x1f96ba));}function formatResultTruncate(_0x3e4aca,_0x11bd02){const _0x12db32=_0x12030b;let _0xc762ad=formatResultString(_0x3e4aca,0xa),_0x10a807=_0xc762ad[_0x12db32(0x110)]('.');return _0x10a807!=-0x1&&(_0xc762ad=_0xc762ad[_0x12db32(0x160)](0x0,_0x10a807+_0x11bd02+0x1)),Number(_0xc762ad);}function formatResultString(_0x24b97d,_0x2eab64){const _0x337d70=_0x12030b;let _0x4231ef;if(!(''+_0x24b97d)[_0x337d70(0x223)]('e'))_0x4231ef=+(Math[_0x337d70(0xa3)](_0x24b97d+'e+'+_0x2eab64)+'e-'+_0x2eab64);else{let _0x544a29=(''+_0x24b97d)[_0x337d70(0x144)]('e'),_0x15c96d='';+_0x544a29[0x1]+_0x2eab64>0x0&&(_0x15c96d='+'),_0x4231ef=+(Math[_0x337d70(0xa3)](+_0x544a29[0x0]+'e'+_0x15c96d+(+_0x544a29[0x1]+_0x2eab64))+'e-'+_0x2eab64);}return Number(_0x4231ef)[_0x337d70(0x11c)](_0x2eab64);}function getServerTime(){const _0x4d57b3=_0x12030b,_0x553a46=new Date();return _0x553a46[_0x4d57b3(0x1e9)]()+'/'+(_0x553a46[_0x4d57b3(0x17b)]()+0x1)[_0x4d57b3(0x124)]()[_0x4d57b3(0xb0)](0x2,'0')+'/'+_0x553a46['getDate']()[_0x4d57b3(0x124)]()[_0x4d57b3(0xb0)](0x2,'0')+'\x20'+_0x553a46[_0x4d57b3(0x11d)]()['toString']()[_0x4d57b3(0xb0)](0x2,'0')+':'+_0x553a46[_0x4d57b3(0x100)]()[_0x4d57b3(0x124)]()[_0x4d57b3(0xb0)](0x2,'0')+':'+_0x553a46[_0x4d57b3(0x166)]()[_0x4d57b3(0x124)]()[_0x4d57b3(0xb0)](0x2,'0');}function _0x1157(){const _0x443398=['USDT','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','shift','cost','watchTrades','initclient','date-fns','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','OnMaintenance','Exchange','\x20orders\x20in\x20less\x20than\x20','sha256','settings','001','apiPassword','<pre>','\x20order:\x20','fees','limit-low','running','exchange','timeout','\x20value','coin-loading-progress','bb-secure.json','colorscheme','balancing\x20resumes\x20when\x20cooldown\x20ends','delta','Binance','(((.+)+)+)+$','decrypt','amount','parseISO','Executed\x20','getAllOrders()','buy','keys','2.6.0','final','recovery','RETRY\x20-\x20Problem\x20resolved\x20after\x20','USD','threshold','orderstatus','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','balancing\x20resumed','market_cap','parse','set','\x20exchange\x20error','isEqual','Failed\x20to\x20load\x20coin\x20data\x20for\x20','round','storeHeadless','search','PermissionDenied','getDate','2\x20-\x20Validate\x20orders:\x20','progress','starting-balances','getStartingBalances','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','add','watchTrades()','active','padStart','assign','replace','showname','ccxt','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','red_yellow_blue','writeFile','initial','message','bots','order','bot-','floor','success','InvalidNonce','-------------------------------\x0a','symbol','basecoinvalue','error','Waited\x20','filter','offset','Order\x20filled:\x20','recreateCoinResults()','distribution','LOCKED','balances','has','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','args','932205uQkicA','percentage','InsufficientFunds','send','Loading\x20completed','change24h','Initiating\x20bot\x20restart','\x20>\x20','loadMarkets','UNLOCKED','createWriteStream','loading-canceled','fee','differenceInSeconds','2\x20-\x20Orders\x20unlocked','version','average','portfolio','findIndex','Cooldown\x20ended\x20-\x20balancing\x20resumed','closed','2\x20-\x20handling\x20FILLED\x20order:\x20','Error\x20while\x20deleting\x20files:\x20','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration',',\x20must\x20be\x20a\x203\x20digit\x20number','market','password','stopExchange()','entries','price','startdate','Exception\x20thrown\x20in\x20','USDP','DDoSProtection','Unknown\x20error\x20occured','fromCodePoint','privateKey','amountToPrecision','full','date','2.6.23','push','event-history','Bot\x20','2zXGqFD','fetchBalance','timeshift','liquidity','BTC','getMinutes','eur','existsSync','-config.json','concat','autoliquidity','write','Order\x20is\x20invalid:\x20','\x20metrics:</b>\x20\x0a\x0a','\x20|\x20lock\x20orders:\x20','Order\x20amount\x20is\x20invalid:\x20','net-fiat','timestamp','initTickers()','cancelOrders()','onepagemode','indexOf','0\x20-\x20EXECUTION:\x20','stringify','sells','apiSecret','<b>Bot\x20','1\x20-\x20Unlock\x20orders','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Manual\x20balancing\x20required','getCoins()','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','Limit\x20(high-margin)','toFixed','getHours','get','Executing\x20exchange\x20reload','value','233791BNmzgm','Error\x20details:','\x20-\x20pausing\x20bot\x20for\x20','toString','resetHistory','./logs/','deleteHistoryAlerts','ExchangeNotAvailable','Trigger:\x20','type','UNLOCKING','6815725muJZDz','startprice','marketcap','yyyy/MM/dd','toLowerCase','\x20API\x20secret\x20is\x20invalid','exchange\x20not\x20reloaded','Portfolio\x20change\x20detected\x20-\x20bot\x20switched\x20to\x20manual\x20mode','Symbol(s):\x20','breakeven','Huobipro','headless','Avoiding\x20continuous\x20order\x20attempts','\x20minutes','exchanges','toggleBotMode','none','restart','removed',':\x20Bot\x20','BNB','open','************','highest','split','function','bb-settings.json','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','request-time','limit','canceled','cancelLoading','</pre>','last','code','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','\x20|\x20Custom\x20ID:\x20','change','./version.json','exchange\x20reloaded','performance','max','marketcapsqrt','\x20-\x20bot\x20not\x20started','number','defaults','\x20has\x20a\x2024h\x20drop\x20of\x20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','close','Invalid\x20API\x20key\x20or\x20secret\x20entered','lowdb/adapters/FileSync','sortBy','slice','placeOrder()','time','cooldown','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','emitHistory','getSeconds','Insufficient\x20funds\x20to\x20execute\x20order:\x20','\x20portfolio:</b>\x20\x0a\x0a','apiKey','recreate','Pausing\x20for\x20','%\x20(','/backup/','Invalid\x20quantity','\x20minutes\x20-\x20','coin','\x20change','sqrt','2.6.22','EUR','Resetting\x20coin\x20results:\x20','added','Initializing\x20coin\x20results','freeze','Portfolio\x20change\x20detected:\x20','Order(s)\x20not\x20validated\x20after\x20','getMonth','quote','map','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','warning','abs','filled','\x20-\x20','BUSD','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','limits','sort','no\x20open\x20orders','PAXG','API-key\x20format\x20invalid','BNB/','getTime','status\x20code\x20401','orderId','pop','\x20>\x20details:','\x20:\x20','ongoing','fetchTickers()','update-liquidity','-performance.json','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','forEach','ordertype','trade','datetime','Resetting\x20bot\x20history','ORDERS.UNLOCKING','apply','Invalid\x20symbol:\x20','\x20network\x20error','/output-000.log','splice','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','Cex','botname','util','-results.json','min','format','enabled','recent20','excluded','bid','page','Crypt','Headless:\x20','rightTxt','\x20|\x20','valid','getPortfolio(1)','watchOrders()','InvalidOrder','ORDERS.UNLOCKED','data','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','marketcapEnabled','constructor','unlinkSync','configuration-stored','random','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Net\x20effect','path','4272084Fhacpo','mkdirSync','slider','storeConfiguration','usd','-events.json','milliseconds','2\x20-\x20Handled\x20open\x20orders','coins','getOpenOrders()','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','detectLiquidityChange()','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','log','ETH','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','sendPortfolioTelegram','Initiating\x20(silent)\x20bot\x20restart','find','currency','fetchTicker','\x20>\x20[DEBUG]\x20','emojisell','configuration','logs','createOrder','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','1\x20-\x20FILLED\x20known\x20order:\x20','.json','target','fetchOpenOrders','2.3.5','side','2.5.0','ORDERS.LOCKED','RequestTimeout','argv','cloneDeep','./config/','bot','fiat','getFullYear','2561754bsbfcd','Market','realized','watchTradesForSymbols','limit-high','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','startsWith','showConfig','2892315LUvnru','substring','Saving\x20configuration','openOrders','RETRY\x20-\x20Error\x20in\x20','cancelOrder','Transaction\x20detection\x20unblocked','yargs/yargs','spot','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','AuthenticationError','buys','axios','net-basecoin','netoffset','3332680MRSzmd','total','/EUR','debug',':\x20timer\x20>','hybrid-crypto-js','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','fetchTickers','<b>','starting-balance-','OrderNotFound','USDC','switch-manual','Fee\x20discount\x20refund\x20detected:\x20','Net\x20','\x20API\x20key\x20is\x20invalid','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','length','reverse','leftTxt','sell','fetchClosedOrders','marketcapApi','event','startnumber','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','remainingSymbols','must\x20be\x20greater\x20than\x20minimum\x20amount','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','remove','TUSD','\x20/\x20','ask','basecoin','includes','uncaughtException','join','pro','status','changes'];_0x1157=function(){return _0x443398;};return _0x1157();}function getTimeStamp(){const _0x234db8=_0x12030b,_0x475f0b=shiftedTime();return _0x475f0b[_0x234db8(0x1e9)]()+'/'+(_0x475f0b[_0x234db8(0x17b)]()+0x1)[_0x234db8(0x124)]()[_0x234db8(0xb0)](0x2,'0')+'/'+_0x475f0b['getDate']()[_0x234db8(0x124)]()['padStart'](0x2,'0')+'\x20'+_0x475f0b[_0x234db8(0x11d)]()[_0x234db8(0x124)]()[_0x234db8(0xb0)](0x2,'0')+':'+_0x475f0b[_0x234db8(0x100)]()[_0x234db8(0x124)]()[_0x234db8(0xb0)](0x2,'0')+':'+_0x475f0b[_0x234db8(0x166)]()[_0x234db8(0x124)]()[_0x234db8(0xb0)](0x2,'0');}function getDate(){const _0x116b10=_0x12030b,_0x300285=shiftedTime();return _0x300285[_0x116b10(0x1e9)]()+'/'+(_0x300285[_0x116b10(0x17b)]()+0x1)[_0x116b10(0x124)]()[_0x116b10(0xb0)](0x2,'0')+'/'+_0x300285[_0x116b10(0xa7)]()[_0x116b10(0x124)]()[_0x116b10(0xb0)](0x2,'0');}function getHour(){const _0x5ef28f=_0x12030b,_0xdab7e0=shiftedTime();return _0xdab7e0[_0x5ef28f(0x11d)]()[_0x5ef28f(0x124)]()[_0x5ef28f(0xb0)](0x2,'0');}function sleep(_0x14bdf){return new Promise(_0x238389=>setTimeout(_0x238389,_0x14bdf));}function shiftedTime(){const _0x77341d=_0x12030b,_0xebf0e0=new Date();let _0x53bcf9=_0xebf0e0;if(config&&config[_0x77341d(0xfd)]!==0x0)_0x53bcf9=fns[_0x77341d(0xad)](_0xebf0e0,{'hours':config[_0x77341d(0xfd)]});return _0x53bcf9;}function timer(_0x239074){const _0xb5da16=_0x12030b,_0x18a82c=new Date();!lasttime?console[_0xb5da16(0x1cd)](getTimeStamp()+_0xb5da16(0x205),_0x239074,_0x18a82c):console[_0xb5da16(0x1cd)](getTimeStamp()+_0xb5da16(0x205),_0x239074,(_0x18a82c-lasttime)/0x3e8),lasttime=_0x18a82c;}