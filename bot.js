const _0x5c7d16=_0x2279;(function(_0x2d7c56,_0x4e3d14){const _0x4bcbc8=_0x2279,_0x2ddeb7=_0x2d7c56();while(!![]){try{const _0x124d97=-parseInt(_0x4bcbc8(0x1ca))/0x1*(-parseInt(_0x4bcbc8(0x1f4))/0x2)+parseInt(_0x4bcbc8(0x1c4))/0x3*(-parseInt(_0x4bcbc8(0x29d))/0x4)+-parseInt(_0x4bcbc8(0x209))/0x5*(-parseInt(_0x4bcbc8(0x28a))/0x6)+parseInt(_0x4bcbc8(0x1e9))/0x7*(parseInt(_0x4bcbc8(0x265))/0x8)+-parseInt(_0x4bcbc8(0x2bc))/0x9+parseInt(_0x4bcbc8(0x2cc))/0xa*(-parseInt(_0x4bcbc8(0x152))/0xb)+-parseInt(_0x4bcbc8(0x2c9))/0xc*(-parseInt(_0x4bcbc8(0x13f))/0xd);if(_0x124d97===_0x4e3d14)break;else _0x2ddeb7['push'](_0x2ddeb7['shift']());}catch(_0x203c31){_0x2ddeb7['push'](_0x2ddeb7['shift']());}}}(_0x919f,0x7a3b0));const _0x13f042=function(){let _0x1b5b00=!![];return function(_0x2bd7b4,_0xb097fd){const _0x511d06=_0x1b5b00?function(){const _0x3efec1=_0x2279;if(_0xb097fd){const _0x4f838d=_0xb097fd[_0x3efec1(0x214)](_0x2bd7b4,arguments);return _0xb097fd=null,_0x4f838d;}}:function(){};return _0x1b5b00=![],_0x511d06;};}(),_0x5f2018=_0x13f042(this,function(){const _0x4143e0=_0x2279;return _0x5f2018[_0x4143e0(0x167)]()['search'](_0x4143e0(0x13c))['toString']()[_0x4143e0(0x2b8)](_0x5f2018)[_0x4143e0(0x2b9)]('(((.+)+)+)+$');});function _0x2279(_0x56fd1b,_0x316648){const _0x1fc75f=_0x919f();return _0x2279=function(_0x5f2018,_0x13f042){_0x5f2018=_0x5f2018-0x13a;let _0x919f9=_0x1fc75f[_0x5f2018];return _0x919f9;},_0x2279(_0x56fd1b,_0x316648);}_0x5f2018();'use strict';const ccxt=require(_0x5c7d16(0x21f))[_0x5c7d16(0x183)],low=require(_0x5c7d16(0x28f)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x5c7d16(0x188)),Crypt=require(_0x5c7d16(0x2c5))[_0x5c7d16(0x2a3)],util=require(_0x5c7d16(0x254)),argv=require(_0x5c7d16(0x20d))(process['argv'][_0x5c7d16(0x1a4)](0x2))[_0x5c7d16(0x154)],path=require(_0x5c7d16(0x1a1));let exchange;global['ticker']={},global[_0x5c7d16(0x20c)]={};const usdBasecoins=[_0x5c7d16(0x1c8),_0x5c7d16(0x25c),_0x5c7d16(0x1a7),_0x5c7d16(0x286),_0x5c7d16(0x267),'USDP'],exceptions={'binance':[_0x5c7d16(0x293),_0x5c7d16(0x2c1),_0x5c7d16(0x1ab),'NANO/',_0x5c7d16(0x1fb)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5c7d16(0x13d)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x5c7d16(0x212)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x5c7d16(0x232))[_0x5c7d16(0x1be)],botID=process[_0x5c7d16(0x154)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x5c7d16(0x19c)](botID)&&(console[_0x5c7d16(0x296)](_0x5c7d16(0x226)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0x5c7d16(0x154)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x5c7d16(0x258),logspath=userID?'./logs/'+userID+'/':_0x5c7d16(0x227),loggerfile=fs['createWriteStream'](logspath+_0x5c7d16(0x157),{'flags':'a'});!fs[_0x5c7d16(0x25d)](configpath)&&fs[_0x5c7d16(0x177)](configpath);!fs['existsSync'](logspath)&&fs[_0x5c7d16(0x177)](logspath);const configfile=configpath+_0x5c7d16(0x1da)+botID+_0x5c7d16(0x1ff),logfile=configpath+'bot-'+botID+_0x5c7d16(0x169),performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+'bot-'+botID+_0x5c7d16(0x27d),settingsfile=configpath+_0x5c7d16(0x299),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x5c7d16(0x179),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5c7d16(0x260)]({'logs':[],'version':serverversion})[_0x5c7d16(0x1a8)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5c7d16(0x260)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5c7d16(0x260)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5c7d16(0x260)]({'coins':[],'version':serverversion})[_0x5c7d16(0x1a8)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x5c7d16(0x269),'rsaStandard':_0x5c7d16(0x229)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x26b712=>{const _0x441f33=_0x5c7d16;console[_0x441f33(0x296)](_0x26b712);},'simple':_0x580bdf=>{const _0x901e29=_0x5c7d16;console['log'](_0x580bdf),loggerfile['write'](util[_0x901e29(0x264)](_0x580bdf)+'\x0a');},'full':async(_0x446d0a,_0x4f3e18='')=>{const _0x1b4b36=_0x5c7d16;let _0x484f01;if(config[_0x1b4b36(0x2ac)])_0x484f01=getTimeStamp()+':\x20'+config[_0x1b4b36(0x28d)]+'\x20>\x20'+_0x446d0a;else _0x484f01=getTimeStamp()+_0x1b4b36(0x233)+botID+'\x20>\x20'+_0x446d0a;console[_0x1b4b36(0x296)](_0x484f01),loggerfile['write'](util[_0x1b4b36(0x264)](_0x484f01)+'\x0a'),_0x4f3e18&&(console[_0x1b4b36(0x296)](_0x4f3e18),loggerfile[_0x1b4b36(0x1a8)](util[_0x1b4b36(0x264)](_0x4f3e18)+'\x0a'));},'debug':async(_0x5aace1,_0x19d301='')=>{const _0x5ee265=_0x5c7d16;let _0x492f2d;if(config[_0x5ee265(0x2ac)])_0x492f2d=getTimeStamp()+':\x20'+config[_0x5ee265(0x28d)]+_0x5ee265(0x1f5)+_0x5aace1;else _0x492f2d=getTimeStamp()+_0x5ee265(0x233)+botID+_0x5ee265(0x1f5)+_0x5aace1;if(debugging)console[_0x5ee265(0x296)](_0x492f2d);loggerfile[_0x5ee265(0x1a8)](util[_0x5ee265(0x264)](_0x492f2d)+'\x0a');if(_0x19d301){if(debugging)console[_0x5ee265(0x296)](_0x19d301);loggerfile[_0x5ee265(0x1a8)](util['format'](_0x19d301)+'\x0a');}}};process['on'](_0x5c7d16(0x289),function(_0x460c61){const _0x5af6f2=_0x5c7d16;logger[_0x5af6f2(0x20f)](_0x5af6f2(0x1dd),_0x460c61);});settings[_0x5c7d16(0x1d6)]!=config['timeshift']&&updateTimeshift(settings['timeshift']);settings[_0x5c7d16(0x1e3)]!=config[_0x5c7d16(0x1e3)]&&updateOnepagemode(settings['onepagemode']);process[_0x5c7d16(0x263)]({'started':_0x5c7d16(0x1b0)},_0x384139=>{}),initializeProcessListeners();function proxyEmit(_0x1992dc,_0x450b31=null){const _0x36a89b=_0x5c7d16;process[_0x36a89b(0x263)]({'function':_0x1992dc,'args':_0x450b31},_0x1eec1e=>{});}function initializeProcessListeners(){const _0x24ac02=_0x5c7d16;process['on'](_0x24ac02(0x1ac),_0x25e5ee=>{const _0x3cf995=_0x24ac02;switch(Object[_0x3cf995(0x1b6)](_0x25e5ee)[0x0]){case _0x3cf995(0x1d6):_0x25e5ee[_0x3cf995(0x1d6)]!=undefined&&(settings[_0x3cf995(0x1d6)]=_0x25e5ee['timeshift'],updateTimeshift(settings['timeshift']));break;case _0x3cf995(0x1e3):_0x25e5ee[_0x3cf995(0x1e3)]!=undefined&&(settings['onepagemode']=_0x25e5ee[_0x3cf995(0x1e3)],updateOnepagemode(settings[_0x3cf995(0x1e3)]));break;case'bots':_0x25e5ee[_0x3cf995(0x2c7)]!=undefined&&(bots=JSON['parse'](_0x25e5ee['bots']),proxyEmit(_0x3cf995(0x2c7),bots));break;case _0x3cf995(0x2ca):switch(_0x25e5ee[_0x3cf995(0x2ca)]){case'initclient':initclient();break;case _0x3cf995(0x275):toggleBotMode();break;case _0x3cf995(0x230):emitHistory(_0x25e5ee['args']);break;case _0x3cf995(0x186):deleteHistoryAlerts(_0x25e5ee['args']);break;case'getPortfolio':getPortfolio(_0x25e5ee[_0x3cf995(0x276)]);break;case'storeConfiguration':storeConfiguration(_0x25e5ee[_0x3cf995(0x276)]);break;case _0x3cf995(0x25e):storeHeadless(_0x25e5ee[_0x3cf995(0x276)]);break;case _0x3cf995(0x23a):storeFiat(_0x25e5ee['args']);break;case _0x3cf995(0x2c4):resetHistory();break;case _0x3cf995(0x208):getStartingBalances(getNormalizedPerformance());break;case _0x3cf995(0x1f7):placeOrder(_0x25e5ee[_0x3cf995(0x276)]);break;case _0x3cf995(0x1a9):cancelLoading();break;case _0x3cf995(0x13b):showConfig();break;case _0x3cf995(0x20e):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x315051=null,_0x4a82d3=![]){const _0x199ece=_0x5c7d16;logger['debug'](_0x199ece(0x221)+(_0x315051&&_0x315051[_0x199ece(0x27f)]>0x0?_0x199ece(0x1eb)+_0x315051[_0x199ece(0x18b)](','):_0x199ece(0x1e1))+_0x199ece(0x19d)+(_0x4a82d3?'exchange\x20reloaded':_0x199ece(0x189))+_0x199ece(0x2b6)+config[_0x199ece(0x1c1)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x4a82d3)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x199ece(0x1ed)]!=''&&config['apiKey']!='***'){if(_0x4a82d3){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x2a2f17){handleErrorNoStop(_0x2a2f17,'loadSymbols()');return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x315051);const _0xa7c846=await getCoins();[currentCoins,currentCoinsAll]=_0xa7c846,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x199ece(0x27f)]==0x0&&allOpenOrders[_0x199ece(0x27f)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x4079c7=_0x5c7d16;exchangeStopped=!![],await exchange[_0x4079c7(0x2cb)]();}async function reloadExchange(){const _0x1a716e=_0x5c7d16;logger[_0x1a716e(0x20f)](_0x1a716e(0x1e8));while(lockOrders!=ORDERS[_0x1a716e(0x212)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x1a716e(0x213)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x338bd5=config[_0x5c7d16(0x1c1)],_0xded0ed=config['apiKey'],_0x321740=config[_0x5c7d16(0x223)],_0x1e137f=config['apiPassword']){const _0x497531=_0x5c7d16;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x338bd5)&&(logHistory(_0x497531(0x144),_0x497531(0x234)+_0x338bd5+_0x497531(0x27b)),killBot());const _0x427cb8=ccxt[_0x338bd5[_0x497531(0x251)]()];exchange=new _0x427cb8({'apiKey':_0xded0ed,'secret':_0x321740,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});_0x338bd5==_0x497531(0x2b0)&&(exchange['options']={'defaultType':_0x497531(0x271),'adjustForTimeDifference':!![],'recvWindow':0x1b58});if(_0x1e137f)exchange['password']=_0x1e137f;}function setStableCoins(){const _0x2d149c=_0x5c7d16;let _0x4ba3d5=config[_0x2d149c(0x1cb)]==_0x2d149c(0x16c)?_0x2d149c(0x16c):_0x2d149c(0x29e),_0xa2877c=!allSymbols[_0x2d149c(0x222)](_0x4ba3d5+_0x2d149c(0x1c0))?_0x2d149c(0x286):_0x2d149c(0x1c8),_0xfe4eda=!allSymbols[_0x2d149c(0x222)](_0x4ba3d5+_0x2d149c(0x1e4))?_0xa2877c:_0x2d149c(0x1d7);stablecoins={'eur':{'coin':''+_0x4ba3d5+_0xfe4eda,'symbol':_0x4ba3d5+'/'+_0xfe4eda},'usd':{'coin':''+_0x4ba3d5+_0xa2877c,'symbol':_0x4ba3d5+'/'+_0xa2877c}};}async function initwsCcxt(_0x4f8bc4){const _0x1c6da4=_0x5c7d16;_0x4f8bc4==null&&(_0x4f8bc4=[],config['portfolio'][_0x1c6da4(0x282)](_0x49af5b=>{const _0x1fdbcb=_0x1c6da4;if(!_0x49af5b[_0x1fdbcb(0x246)]&&_0x49af5b[_0x1fdbcb(0x193)]!=config[_0x1fdbcb(0x1cb)])_0x4f8bc4[_0x1fdbcb(0x15e)](_0x49af5b[_0x1fdbcb(0x160)]);}));if(!_0x4f8bc4[_0x1c6da4(0x222)](stablecoins[_0x1c6da4(0x1ef)][_0x1c6da4(0x160)]))_0x4f8bc4[_0x1c6da4(0x15e)](stablecoins[_0x1c6da4(0x1ef)][_0x1c6da4(0x160)]);if(!_0x4f8bc4[_0x1c6da4(0x222)](stablecoins[_0x1c6da4(0x17c)][_0x1c6da4(0x160)]))_0x4f8bc4[_0x1c6da4(0x15e)](stablecoins[_0x1c6da4(0x17c)][_0x1c6da4(0x160)]);if(config['exchange'][_0x1c6da4(0x2af)](_0x1c6da4(0x194))){if(!_0x4f8bc4[_0x1c6da4(0x222)](_0x1c6da4(0x173)+config['basecoin']))_0x4f8bc4['push'](_0x1c6da4(0x173)+config[_0x1c6da4(0x1cb)]);}loadCoins(_0x4f8bc4);const _0x3f668f=async _0x219ed5=>{const _0x327f37=_0x1c6da4,_0x2efeea=await exchange[_0x327f37(0x259)](_0x219ed5);global[_0x327f37(0x16d)][noslash(_0x2efeea['symbol'])]=_0x2efeea[_0x327f37(0x1d0)];while(!![]){if(!botPaused)try{const _0x9246e8=await exchange[_0x327f37(0x1fc)](_0x219ed5);global[_0x327f37(0x16d)][noslash(_0x9246e8[0x0][_0x327f37(0x160)])]=_0x9246e8[0x0]['price'],await sleep(0x3e8);}catch(_0x4f9149){if(!exchangeStopped)await handleError(_0x4f9149,_0x327f37(0x1fc),_0x219ed5);}else await sleep(0x64);}},_0x46ce5b=async _0x23dfaf=>{const _0x238691=_0x1c6da4;while(!![]){if(!botPaused)try{const _0x5e49cf=await exchange[_0x238691(0x259)](_0x23dfaf);global[_0x238691(0x20c)][_0x5e49cf[_0x238691(0x160)]]=_0x5e49cf[_0x238691(0x1bd)],await sleep(0x3c*0x3e8);}catch(_0x1a8031){if(!exchangeStopped)await handleError(_0x1a8031,_0x238691(0x163),_0x23dfaf);}else await sleep(0x64);}},_0xb636db=async()=>{const _0x37cd06=_0x1c6da4;while(!![]){if(!botPaused)try{const _0x475342=await exchange[_0x37cd06(0x283)]();_0x475342[_0x37cd06(0x282)](_0x591dca=>{updateNumberCoinsCcxt(_0x591dca);});}catch(_0x3e7e46){if(!exchangeStopped)await handleError(_0x3e7e46,_0x37cd06(0x283));}else await sleep(0x64);}};_0x4f8bc4['forEach'](_0x8aafe7=>{_0x3f668f(_0x8aafe7),_0x46ce5b(_0x8aafe7);}),!wsEventsSet&&(wsEventsSet=!![],_0xb636db(),watchTransactions());}async function watchTransactions(){const _0x241cc0=_0x5c7d16;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x572cf1=await getCoins(),[_0x1ca3d6,_0x230551]=_0x572cf1;let _0x5f4cff=[];currentCoins['forEach'](_0x1d9ffd=>{const _0x2f0bec=_0x2279,_0x4b1ebc=_0x1ca3d6['find'](_0x3dd577=>_0x3dd577[_0x2f0bec(0x193)]==_0x1d9ffd['coin']);_0x4b1ebc&&(_0x1d9ffd[_0x2f0bec(0x15c)]!=_0x4b1ebc[_0x2f0bec(0x15c)]&&_0x5f4cff[_0x2f0bec(0x15e)]({'coin':_0x1d9ffd[_0x2f0bec(0x193)],'symbol':_0x1d9ffd['symbol'],'number':Number(formatResult(_0x4b1ebc['number']-_0x1d9ffd[_0x2f0bec(0x15c)],0x8))}));});if(_0x5f4cff['length']==0x1&&!blockTransactionDetection){if(config[_0x241cc0(0x205)]){logger[_0x241cc0(0x20f)](_0x241cc0(0x1a6)+lastFees[_0x241cc0(0x210)]+_0x241cc0(0x253)+lastFees['highest']);if(!lastFees[_0x241cc0(0x210)]||_0x5f4cff[0x0][_0x241cc0(0x193)]!=lastFees[_0x241cc0(0x210)]||_0x5f4cff[0x0]['number']>lastFees[_0x241cc0(0x239)]){let _0x472bc8;if(_0x5f4cff[0x0][_0x241cc0(0x193)]!=config[_0x241cc0(0x1cb)]){let _0x266a43=global['ticker'][noslash(_0x5f4cff[0x0]['symbol'])];_0x472bc8=_0x5f4cff[0x0][_0x241cc0(0x24a)]?0x1/_0x266a43:_0x266a43;}else _0x472bc8=0x1;_0x5f4cff[0x0][_0x241cc0(0x17b)]=_0x472bc8,delete _0x5f4cff[0x0][_0x241cc0(0x160)];let _0x2686a8=[],_0x3cb59d=[...config[_0x241cc0(0x255)]]||[],_0x5b1436=config[_0x241cc0(0x255)];_0x3cb59d[_0x241cc0(0x22c)]((_0x463a99,_0x2eb28f)=>_0x463a99[_0x241cc0(0x1af)]>_0x2eb28f[_0x241cc0(0x1af)]?-0x1:_0x2eb28f[_0x241cc0(0x1af)]>_0x463a99['date']?0x1:0x0);const _0x5c2db8=getDate();if(_0x3cb59d[0x0]){const _0x523306=fns[_0x241cc0(0x243)](_0x3cb59d[0x0][_0x241cc0(0x1af)],_0x241cc0(0x1f1),new Date()),_0x33c1a3=fns['parse'](_0x5c2db8,'yyyy/MM/dd',new Date());if(fns[_0x241cc0(0x20b)](_0x523306,_0x33c1a3)){_0x2686a8=_0x3cb59d[0x0][_0x241cc0(0x1a3)];const _0x331984=_0x2686a8['find'](_0x3ffa14=>_0x3ffa14[_0x241cc0(0x193)]==_0x5f4cff[0x0][_0x241cc0(0x193)]);_0x331984?(_0x331984[_0x241cc0(0x15c)]+=_0x5f4cff[0x0][_0x241cc0(0x15c)],_0x331984[_0x241cc0(0x15c)]==0x0&&(_0x2686a8=_0x2686a8['filter'](_0x5e8670=>{const _0x4aa0a8=_0x241cc0;return _0x5e8670[_0x4aa0a8(0x193)]!=_0x5f4cff[0x0][_0x4aa0a8(0x193)];}))):_0x2686a8[_0x241cc0(0x15e)](_0x5f4cff[0x0]);const _0xcd56e9=_0x5b1436[_0x241cc0(0x231)](_0xa98884=>_0xa98884[_0x241cc0(0x1af)]==_0x5c2db8);_0xcd56e9[_0x241cc0(0x1a3)]=_0x2686a8;}else _0x5b1436['push']({'date':_0x5c2db8,'changes':[_0x5f4cff[0x0]]});}const _0x3f9b13=_0x5b1436[_0x241cc0(0x231)](_0x31f7ea=>_0x31f7ea[_0x241cc0(0x1af)]==_0x5c2db8);if(_0x3f9b13){let _0x4d75dd=!![];_0x3f9b13['changes'][_0x241cc0(0x282)](_0x22a4b9=>{if(_0x22a4b9['number']!=0x0)_0x4d75dd=![];}),_0x4d75dd&&(_0x5b1436=_0x5b1436[_0x241cc0(0x27e)](_0xe527d2=>{const _0x119ad2=_0x241cc0;return _0xe527d2[_0x119ad2(0x1af)]!=_0x5c2db8;}));}let _0x29546e=dbConfig[_0x241cc0(0x211)]('bot')['find']({'botID':botID})[_0x241cc0(0x22a)]();_0x29546e&&(dbConfig['get'](_0x241cc0(0x2be))['find']({'botID':botID})['assign']({'liquidity':_0x5b1436})[_0x241cc0(0x1a8)](),config[_0x241cc0(0x255)]=_0x5b1436),logHistory('success',_0x241cc0(0x1c2)+Math[_0x241cc0(0x21b)](_0x5f4cff[0x0][_0x241cc0(0x15c)])+'\x20'+_0x5f4cff[0x0][_0x241cc0(0x193)]+'\x20'+(_0x5f4cff[0x0]['number']>0x0?_0x241cc0(0x294):_0x241cc0(0x26a))+_0x241cc0(0x202)),proxyEmit(_0x241cc0(0x181),emittedConfiguration());}else logger[_0x241cc0(0x20f)](_0x241cc0(0x1cd)+Math[_0x241cc0(0x21b)](_0x5f4cff[0x0]['number'])+'\x20'+_0x5f4cff[0x0]['coin']+'\x20'+(_0x5f4cff[0x0][_0x241cc0(0x15c)]>0x0?_0x241cc0(0x294):_0x241cc0(0x26a)));transactionDetected=!![],currentCoins=_0x1ca3d6,currentCoinsAll=_0x230551;}else logger[_0x241cc0(0x20f)](_0x241cc0(0x1c2)+Math['abs'](_0x5f4cff[0x0][_0x241cc0(0x15c)])+'\x20'+_0x5f4cff[0x0]['coin']+'\x20'+(_0x5f4cff[0x0][_0x241cc0(0x15c)]>0x0?'added':_0x241cc0(0x26a))+_0x241cc0(0x29c)),currentCoins=_0x1ca3d6,currentCoinsAll=_0x230551;}await sleep(watchTransactionsInterval);}catch(_0x69bc9a){if(!exchangeStopped)await handleError(_0x69bc9a,_0x241cc0(0x1df));}else await sleep(0x64);}}async function loadSymbols(_0x382b0c=config[_0x5c7d16(0x1c1)],_0x27ceb3=![]){const _0x419876=_0x5c7d16;if(allSymbols&&!_0x27ceb3)return;try{markets=await exchange[_0x419876(0x2ba)](),allSymbols=exchange[_0x419876(0x268)][_0x419876(0x27e)](_0x2fd2c3=>{const _0x14d8d1=_0x419876;let _0x2e7349=![];const _0xc882f=exceptions[_0x382b0c[_0x14d8d1(0x251)]()]||[];return _0xc882f[_0x14d8d1(0x282)](_0x53e575=>{const _0x2dab1d=_0x14d8d1;if(_0x2fd2c3[_0x2dab1d(0x222)](_0x53e575))_0x2e7349=!![];}),!_0x2e7349;});}catch(_0x4970e4){throw _0x4970e4;}}async function initclient(){const _0x32dfd6=_0x5c7d16;emitLoadingProgress(),proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x32dfd6(0x279),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x32dfd6(0x281),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4a6bed=getNormalizedPerformance();emitPerformance(_0x4a6bed),getStartingBalances(_0x4a6bed);}async function toggleBotMode(){const _0x4f5034=_0x5c7d16;let _0x3a368c=dbConfig['get']('bot')[_0x4f5034(0x231)]({'botID':botID})[_0x4f5034(0x22a)]();if(_0x3a368c){const _0x43fe76=!_0x3a368c[_0x4f5034(0x1ba)];dbConfig[_0x4f5034(0x211)](_0x4f5034(0x2be))[_0x4f5034(0x231)]({'botID':botID})['assign']({'headless':_0x43fe76})['write'](),config[_0x4f5034(0x1ba)]=_0x43fe76,proxyEmit(_0x4f5034(0x181),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x50408d=_0x5c7d16;process[_0x50408d(0x263)]({'updatebotmanager':!![]},_0x478c8f=>{});}async function loadCoins(_0x1b0be2){const _0xcf5559=_0x5c7d16;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x3db242,_0x1b1c72=0x0,_0x52adc9=0x0;_0x1b0be2['forEach'](_0x5d421f=>{const _0xef1ab6=_0x2279;loading[_0xef1ab6(0x278)][_0xef1ab6(0x15e)](_0x5d421f);}),loadingCanceled=![];let _0x3433ad=![];while(_0x3db242!=_0x1b0be2[_0xcf5559(0x27f)]){_0x3db242=0x0,_0x1b0be2[_0xcf5559(0x282)](_0x2ee151=>{const _0x80e84b=_0xcf5559;if(global[_0x80e84b(0x16d)][noslash(_0x2ee151)]){loading['remainingSymbols']=loading[_0x80e84b(0x278)][_0x80e84b(0x27e)](_0x420edb=>_0x420edb!=_0x2ee151);if(!watchedSymbols[_0x80e84b(0x222)](_0x2ee151))watchedSymbols[_0x80e84b(0x15e)](_0x2ee151);_0x3db242++;}}),loading[_0xcf5559(0x1b1)]=Math[_0xcf5559(0x159)](_0x3db242/_0x1b0be2[_0xcf5559(0x27f)]*0x64);loading[_0xcf5559(0x1b1)]!=0x64&&(_0x52adc9>0x1e*0x5&&(loading[_0xcf5559(0x2bb)]=!![],emitLoadingProgress()),_0x52adc9>0x78*0x5&&!_0x3433ad&&(loading[_0xcf5559(0x2c3)]=!![],emitLoadingProgress(),_0x3433ad=!![],logHistory(_0xcf5559(0x144),_0xcf5559(0x28c)+loading[_0xcf5559(0x278)]['join'](',\x20')+_0xcf5559(0x19f)),logHistory('error',_0xcf5559(0x1fa)+loadCoinsRetryInterval/0xea60+_0xcf5559(0x261)),pidCoinReloading=setTimeout(()=>{const _0x3f3eb9=_0xcf5559;process[_0x3f3eb9(0x263)]({'stop':'restart'},_0xd8f3b5=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0xcf5559(0x2c3)]=!![],emitLoadingProgress();break;}else _0x3db242!=_0x1b1c72&&(_0x1b1c72=_0x3db242,emitLoadingProgress()),_0x52adc9++,await sleep(0xc8);}_0x3db242==_0x1b0be2[_0xcf5559(0x27f)]&&(coinsLoaded=!![],process[_0xcf5559(0x263)]({'status':_0xcf5559(0x1f6),'live':_0xcf5559(0x1b0)},_0x3d3b7a=>{}),_0x3433ad&&logHistory(_0xcf5559(0x1a5),_0xcf5559(0x1b9)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4f2f69=_0x5c7d16;proxyEmit(_0x4f2f69(0x181),{...emittedConfiguration(),'configstate':_0x4f2f69(0x237)});}function emitLoadingProgress(){const _0x455fdd=_0x5c7d16;proxyEmit(_0x455fdd(0x141),loading);}async function getFiat(){const _0x320a5f=_0x5c7d16;let _0x38e3c1=global['ticker'][stablecoins[_0x320a5f(0x1ef)][_0x320a5f(0x193)]],_0x2a185a=global[_0x320a5f(0x16d)][stablecoins[_0x320a5f(0x17c)][_0x320a5f(0x193)]];return{'eur':Number(_0x38e3c1),'usd':Number(_0x2a185a)};}function capitalize(_0x4a0a34){const _0x2fb9fb=_0x5c7d16;return _0x4a0a34['substring'](0x0,0x1)[_0x2fb9fb(0x198)]()+_0x4a0a34[_0x2fb9fb(0x28b)](0x1);}function supportedExchanges(){const _0x18f630=_0x5c7d16,_0x240546=['ws','fetchTickers',_0x18f630(0x259),_0x18f630(0x1fc),'watchOrders','cancelOrder',_0x18f630(0x156),_0x18f630(0x161),_0x18f630(0x203),'fetchBalance'];let _0x1b7f51=[],_0x3ca31d=[],_0x31a92b=ccxt['exchanges'];_0x31a92b[_0x18f630(0x282)](_0x386c41=>{const _0x284f22=_0x18f630;try{const _0x116d7e=new ccxt[_0x386c41]();if(_0x116d7e[_0x284f22(0x195)]['ws'])_0x3ca31d[_0x284f22(0x15e)](_0x116d7e);}catch(_0x5ae0dc){}}),_0x3ca31d[_0x18f630(0x282)](_0xcf01f6=>{const _0x1f5f09=_0x18f630;let _0x27c688=0x0;_0x240546[_0x1f5f09(0x282)](_0x4e77ed=>{const _0x293fc3=_0x1f5f09;_0x4e77ed in _0xcf01f6[_0x293fc3(0x195)]&&_0xcf01f6['has'][_0x4e77ed]&&_0x27c688++;}),_0x27c688==_0x240546[_0x1f5f09(0x27f)]&&_0x1b7f51[_0x1f5f09(0x15e)](capitalize(_0xcf01f6['id']));});let _0x36e317=[];return _0x31a92b[_0x18f630(0x282)](_0x56d296=>{const _0x5cf9ff=_0x18f630;_0x56d296=capitalize(_0x56d296);if(!_0x1b7f51[_0x5cf9ff(0x222)](_0x56d296))_0x36e317[_0x5cf9ff(0x15e)](_0x56d296);}),_0x1b7f51;}function setStartDatePerformance(){const _0x47c4c4=_0x5c7d16;if(config&&config[_0x47c4c4(0x255)][0x0][_0x47c4c4(0x1a3)]['length']!=0x0){const _0x2a8428=config['liquidity'][0x0][_0x47c4c4(0x1a3)];dbPerformance[_0x47c4c4(0x211)]('data')['find']({'date':config['startdate']})['assign']({'coins':_0x2a8428})['write']();}}async function recreateCoinResults(){const _0x46c63e=_0x5c7d16;let _0xf85e90,_0x58f734=[];try{const _0x48dd78=fns[_0x46c63e(0x264)](fns[_0x46c63e(0x252)](config[_0x46c63e(0x248)][_0x46c63e(0x1d2)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x47966c of currentCoins){if(_0x47966c['coin']!=config[_0x46c63e(0x1cb)]){let _0x2bc629=0x0,_0x5020a3,_0x3b2358;_0xf85e90=await getAllEventOrders(_0x47966c[_0x46c63e(0x160)]);if(_0xf85e90['length']>0x0)_0xf85e90['forEach'](_0x48feed=>{const _0xe12d8a=_0x46c63e,_0xf21667=_0x47966c[_0xe12d8a(0x160)]['includes'](config[_0xe12d8a(0x1cb)]+'/');_0x58f734['push']({'datetime':_0x48feed['datetime'],'coin':_0x47966c[_0xe12d8a(0x193)],'symbol':_0x47966c[_0xe12d8a(0x160)],'side':_0x48feed['side'],'reverse':_0xf21667,'amount':formatResult(_0x48feed['filled'],0x8),'filled':formatResult(_0x48feed[_0xe12d8a(0x158)],0x8),'price':formatResult(_0x48feed[_0xe12d8a(0x17b)],0x8)}),_0x2bc629=_0x48feed['side']==_0xe12d8a(0x2a8)?_0x2bc629+_0x48feed['filled']:_0x2bc629-_0x48feed['filled'];if(!_0x3b2358)_0x3b2358=_0x48feed[_0xe12d8a(0x17b)];});_0x5020a3=_0x47966c[_0x46c63e(0x15c)]-_0x2bc629;let _0x45e85d;config[_0x46c63e(0x255)]['forEach'](_0x3a88bf=>{const _0x3ef83e=_0x46c63e;!_0x45e85d&&(_0x45e85d=_0x3a88bf['changes']['find'](_0x1f3813=>_0x1f3813['coin']==_0x47966c['coin']),_0x45e85d&&(_0x5020a3=_0x45e85d[_0x3ef83e(0x15c)],_0x3b2358=_0x45e85d[_0x3ef83e(0x17b)]));});let _0x91d520=dbCoinResults['get']('coins')[_0x46c63e(0x231)]({'coin':_0x47966c[_0x46c63e(0x193)]})[_0x46c63e(0x22a)]();_0x91d520={'coin':_0x47966c['coin'],'number':_0x5020a3,'breakeven':_0x3b2358,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x46c63e(0x211)]('coins')[_0x46c63e(0x231)]({'coin':_0x47966c[_0x46c63e(0x193)]})['assign'](_0x91d520)['write']();}}_0x58f734['sort']((_0x167967,_0x4dda6c)=>_0x167967[_0x46c63e(0x1f3)]>_0x4dda6c[_0x46c63e(0x1f3)]?0x1:_0x4dda6c[_0x46c63e(0x1f3)]>_0x167967[_0x46c63e(0x1f3)]?-0x1:0x0);let _0xebe581=0x0;for(let _0x406f0a of _0x58f734){await updateCoinResults(_0x406f0a,!![]);}}catch(_0x5e1d9b){await handleError(_0x5e1d9b,_0x46c63e(0x23e));}}async function getAllEventOrders(_0x37d307){const _0x4d8514=_0x5c7d16;let _0x5a0912=[],_0x16cd05=dbLogs[_0x4d8514(0x211)]('logs')[_0x4d8514(0x27e)](_0x323a5b=>{const _0x36e342=_0x4d8514,_0x505883=_0x323a5b[_0x36e342(0x21d)]['toLowerCase']();return _0x505883['includes'](_0x37d307[_0x36e342(0x251)]())&&(_0x505883[_0x36e342(0x222)](_0x36e342(0x1b4))&&_0x505883['includes'](_0x36e342(0x140))||_0x505883[_0x36e342(0x222)]('filled')&&_0x505883[_0x36e342(0x222)](_0x36e342(0x140)));})['sortBy'](_0x4d8514(0x1c9))[_0x4d8514(0x22a)]();return _0x16cd05[_0x4d8514(0x282)](_0x44df2b=>{const _0x3414f6=_0x4d8514,_0x4bee99=_0x44df2b['event'][_0x3414f6(0x222)]('sell')?_0x3414f6(0x1e7):_0x3414f6(0x2a8),_0x5b9d98=/#([0-9]|\.)+\s/i,_0x14790f=Number(_0x5b9d98[_0x3414f6(0x2c6)](_0x44df2b[_0x3414f6(0x21d)])[0x0]['slice'](0x1)),_0x359ce9=/@([0-9]|\.)+$/i,_0x3a3db9=Number(_0x359ce9[_0x3414f6(0x2c6)](_0x44df2b[_0x3414f6(0x21d)])[0x0][_0x3414f6(0x1a4)](0x1));_0x5a0912[_0x3414f6(0x15e)]({'datetime':_0x44df2b[_0x3414f6(0x1c9)],'coin':symbolToCoin(_0x37d307),'symbol':_0x37d307,'side':_0x4bee99,'amount':_0x14790f,'filled':_0x14790f,'price':_0x3a3db9});}),_0x5a0912;}async function getAllOrders(_0x28439b,_0x4836e6){const _0x40a334=_0x5c7d16;let _0x44716b=[];while(_0x4836e6<exchange['milliseconds']()){const _0x78794d=0x1f4,_0x300b31=await exchange[_0x40a334(0x203)](_0x28439b,_0x4836e6,_0x78794d);if(_0x300b31['length'])_0x4836e6=_0x300b31[_0x300b31[_0x40a334(0x27f)]-0x1]['timestamp']+0x1,_0x44716b=_0x44716b['concat'](_0x300b31);else break;}return _0x44716b;}async function validate24hChanges(){const _0x43c853=_0x5c7d16;for(const _0x427f4d of currentCoins){if(_0x427f4d['coin']!=config[_0x43c853(0x1cb)]){let _0xf7797d;_0x427f4d['reverse']?_0xf7797d=formatResult((0x1/(global[_0x43c853(0x20c)][noslash(_0x427f4d[_0x43c853(0x160)])]/0x64+0x1)-0x1)*0x64,0x3):_0xf7797d=global[_0x43c853(0x20c)][noslash(_0x427f4d[_0x43c853(0x160)])],_0xf7797d<config[_0x43c853(0x14c)]&&(logHistory('error',_0x427f4d[_0x43c853(0x193)]+_0x43c853(0x17f)+_0xf7797d+'%'),logHistory('error',_0x43c853(0x1b3)),logHistory(_0x43c853(0x144),_0x43c853(0x262)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x4ad3e8,_0x3d70e7){const _0x9c14e4=_0x5c7d16;if(!_0x4ad3e8)return!![];const _0x504f91=_0x3d70e7[_0x9c14e4(0x1e6)]('.'),_0x4acdde=_0x4ad3e8[_0x9c14e4(0x1e6)]('.');for(var _0x5e13ca=0x0;_0x5e13ca<_0x4acdde['length'];_0x5e13ca++){const _0xb6e609=~~_0x4acdde[_0x5e13ca],_0x5c31e0=~~_0x504f91[_0x5e13ca];if(_0xb6e609<_0x5c31e0)return!![];if(_0xb6e609>_0x5c31e0)return![];}return![];}async function oneTimeMigration(){const _0x4f022b=_0x5c7d16;let _0x4b6881=dbLogs['get']('version')[_0x4f022b(0x22a)]();if(isOlderVersion(_0x4b6881,_0x4f022b(0x215))){let _0x13290f=[];const _0x97b97c=dbLogs['get'](_0x4f022b(0x266))[_0x4f022b(0x22a)]();_0x97b97c['forEach'](_0xcdfca0=>{const _0x109d31=_0x4f022b;_0x13290f['push']({'time':_0xcdfca0[_0x109d31(0x1c9)],'type':_0xcdfca0[_0x109d31(0x1aa)],'event':_0xcdfca0[_0x109d31(0x21d)]});}),dbLogs[_0x4f022b(0x211)](_0x4f022b(0x266))[_0x4f022b(0x1b8)](_0x13290f)[_0x4f022b(0x1a8)]();}let _0x1a0d63=dbConfig[_0x4f022b(0x211)]('version')['value']();if(isOlderVersion(_0x1a0d63,_0x4f022b(0x215))){let _0x30d32c=dbConfig[_0x4f022b(0x211)](_0x4f022b(0x2be))[_0x4f022b(0x231)]({'botID':botID})[_0x4f022b(0x22a)]();if(_0x30d32c){let _0x42a545=[];_0x30d32c[_0x4f022b(0x2b5)][_0x4f022b(0x282)](_0x269583=>{const _0x283c4c=_0x4f022b;_0x42a545[_0x283c4c(0x15e)]({'coin':_0x269583[_0x283c4c(0x193)],'number':_0x269583[_0x283c4c(0x247)],'price':_0x269583[_0x283c4c(0x1ce)]}),delete _0x269583[_0x283c4c(0x247)],delete _0x269583[_0x283c4c(0x1ce)];});if(_0x42a545[_0x4f022b(0x27f)]!==0x0)fs['writeFile'](configbackuppath+(_0x4f022b(0x150)+botID+_0x4f022b(0x26f)),JSON['stringify'](_0x42a545,null,0x4),function(_0xe5b84c){if(_0xe5b84c){}});const _0x471c54=(_0x556605,_0x199098)=>{const _0x39ff=_0x4f022b;let _0x38ec3e=[];_0x199098['forEach'](_0x32cba2=>{const _0x25e4ac=_0x2279,_0x2fe19f=_0x556605[_0x25e4ac(0x231)](_0x2385d0=>_0x2385d0[_0x25e4ac(0x193)]==_0x32cba2[_0x25e4ac(0x193)]);if(!_0x2fe19f)_0x38ec3e[_0x25e4ac(0x15e)](_0x32cba2);});let _0x54e81d=[];return _0x556605[_0x39ff(0x282)](_0x1c21eb=>{const _0x319331=_0x39ff,_0x4d9f5f=_0x199098[_0x319331(0x231)](_0xa82401=>_0xa82401['coin']==_0x1c21eb[_0x319331(0x193)]);if(!_0x4d9f5f||_0x4d9f5f['number']==0x0&&_0x1c21eb[_0x319331(0x15c)]!=0x0)_0x54e81d[_0x319331(0x15e)](_0x1c21eb);}),{'missingDay1':_0x38ec3e,'notInDay2':_0x54e81d};},_0x2d06d4=dbPerformance[_0x4f022b(0x211)](_0x4f022b(0x1a0))[_0x4f022b(0x22f)]()['value']();if(_0x2d06d4[_0x4f022b(0x27f)]>0x1){const {missingDay1:_0x4802e3,notInDay2:_0x5c20ff}=_0x471c54(_0x42a545,_0x2d06d4[0x1]['coins']);_0x42a545=[..._0x42a545,..._0x4802e3],_0x5c20ff[_0x4f022b(0x282)](_0x2f788a=>{const _0x12a2b3=_0x4f022b;let _0x2f0b79=_0x42a545[_0x12a2b3(0x2aa)](_0x24097d=>_0x24097d[_0x12a2b3(0x193)]==_0x2f788a[_0x12a2b3(0x193)]);_0x2f0b79!=-0x1&&_0x42a545[_0x12a2b3(0x23d)](_0x2f0b79,0x1);});}_0x42a545[_0x4f022b(0x22c)]((_0x4c5057,_0x303052)=>_0x4c5057[_0x4f022b(0x193)]>_0x303052[_0x4f022b(0x193)]?0x1:_0x303052[_0x4f022b(0x193)]>_0x4c5057[_0x4f022b(0x193)]?-0x1:0x0);let _0x5d4be5=[{'date':_0x30d32c[_0x4f022b(0x248)],'changes':_0x42a545}];_0x2d06d4['length']>0x2&&_0x2d06d4['forEach']((_0x4cd1ff,_0x296977)=>{const _0x53a7ca=_0x4f022b;if(_0x296977>0x0&&_0x296977<_0x2d06d4['length']-0x1){const {missingDay1:_0x5e05e8,notInDay2:_0xccbc6e}=_0x471c54(_0x2d06d4[_0x296977]['coins'],_0x2d06d4[_0x296977+0x1][_0x53a7ca(0x1e2)]);_0x42a545=[],(_0x5e05e8[_0x53a7ca(0x27f)]!=0x0||_0xccbc6e['length']!=0x0)&&(_0x5e05e8[_0x53a7ca(0x27f)]!=0x0&&_0x42a545[_0x53a7ca(0x15e)](..._0x5e05e8),_0xccbc6e[_0x53a7ca(0x27f)]!=0x0&&(_0xccbc6e[_0x53a7ca(0x282)](_0x35af2c=>{const _0x484109=_0x53a7ca;_0x35af2c[_0x484109(0x15c)]=-_0x35af2c[_0x484109(0x15c)];}),_0x42a545[_0x53a7ca(0x15e)](..._0xccbc6e)),_0x42a545[_0x53a7ca(0x22c)]((_0x7b33ad,_0x22389e)=>_0x7b33ad[_0x53a7ca(0x193)]>_0x22389e['coin']?0x1:_0x22389e[_0x53a7ca(0x193)]>_0x7b33ad[_0x53a7ca(0x193)]?-0x1:0x0),_0x5d4be5[_0x53a7ca(0x15e)]({'date':_0x2d06d4[_0x296977+0x1]['date'],'changes':_0x42a545}));}}),dbConfig[_0x4f022b(0x211)](_0x4f022b(0x2be))[_0x4f022b(0x231)]({'botID':botID})[_0x4f022b(0x1b8)]({..._0x30d32c,'liquidity':_0x5d4be5})[_0x4f022b(0x1a8)]();}}if(isOlderVersion(_0x1a0d63,_0x4f022b(0x2a7))){let _0x13a9cd=dbConfig[_0x4f022b(0x211)](_0x4f022b(0x2be))[_0x4f022b(0x231)]({'botID':botID})['value']();if(_0x13a9cd){const _0x3ac59a=_0x13a9cd[_0x4f022b(0x1c1)],_0x1ad62a=_0x3ac59a?capitalize(_0x3ac59a):_0x4f022b(0x194);dbConfig[_0x4f022b(0x211)](_0x4f022b(0x2be))[_0x4f022b(0x231)]({'botID':botID})[_0x4f022b(0x1b8)]({'exchange':_0x1ad62a})[_0x4f022b(0x1a8)]();}}let _0x27efd0=dbPerformance[_0x4f022b(0x211)](_0x4f022b(0x1be))['value']();isOlderVersion(_0x27efd0,_0x4f022b(0x215))&&setStartDatePerformance();let _0x42575a=dbCoinResults[_0x4f022b(0x211)]('version')[_0x4f022b(0x22a)]();if(isOlderVersion(_0x42575a,_0x4f022b(0x184))){let _0xdeb18b=dbCoinResults[_0x4f022b(0x211)](_0x4f022b(0x1e2))[_0x4f022b(0x22a)]();if(_0xdeb18b[_0x4f022b(0x27f)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x16793c=_0x5c7d16;dbConfig[_0x16793c(0x2a2)]('version',serverversion)['write'](),dbPerformance[_0x16793c(0x2a2)](_0x16793c(0x1be),serverversion)[_0x16793c(0x1a8)](),dbLogs[_0x16793c(0x2a2)](_0x16793c(0x1be),serverversion)[_0x16793c(0x1a8)](),dbCoinResults['set']('version',serverversion)[_0x16793c(0x1a8)]();}function getConfiguration(_0x1384ac){const _0x2f8949=_0x5c7d16;let _0x33cad9=dbConfig['get'](_0x2f8949(0x2be))[_0x2f8949(0x231)]({'botID':_0x1384ac})[_0x2f8949(0x22a)]();if(_0x33cad9){let _0x218a04=![];typeof _0x33cad9[_0x2f8949(0x1c3)]==_0x2f8949(0x1cf)&&(_0x33cad9={..._0x33cad9,'threshold':Number(_0x33cad9['threshold'])},_0x218a04=!![]),_0x33cad9['change24h']==null&&(_0x33cad9={..._0x33cad9,'change24h':-0x14},_0x218a04=!![]),!_0x33cad9[_0x2f8949(0x180)]&&(_0x33cad9={..._0x33cad9,'fiat':'USD'},_0x218a04=!![]),!_0x33cad9['onepagemode']&&(_0x33cad9={..._0x33cad9,'onepagemode':settings[_0x2f8949(0x1e3)]},_0x218a04=!![]),!_0x33cad9[_0x2f8949(0x1d1)]&&(_0x33cad9={..._0x33cad9,'colorscheme':_0x2f8949(0x25f)},_0x218a04=!![]),!_0x33cad9[_0x2f8949(0x205)]&&(_0x33cad9={..._0x33cad9,'autoliquidity':!![]},_0x218a04=!![]),_0x218a04&&(_0x33cad9={'botID':_0x33cad9[_0x2f8949(0x207)],'exchange':_0x33cad9['exchange'],'apiKey':_0x33cad9['apiKey'],'apiSecret':_0x33cad9['apiSecret'],'apiPassword':_0x33cad9[_0x2f8949(0x143)],'basecoin':_0x33cad9[_0x2f8949(0x1cb)],'botname':_0x33cad9['botname'],'showname':_0x33cad9[_0x2f8949(0x2ac)],'threshold':_0x33cad9[_0x2f8949(0x1c3)],'ordertype':_0x33cad9['ordertype'],'timeout':_0x33cad9[_0x2f8949(0x2bb)],'fiat':_0x33cad9[_0x2f8949(0x180)],'startdate':_0x33cad9['startdate'],'recreate':_0x33cad9['recreate'],'timeshift':_0x33cad9['timeshift'],'onepagemode':_0x33cad9[_0x2f8949(0x1e3)],'headless':_0x33cad9[_0x2f8949(0x1ba)],'cooldown':_0x33cad9[_0x2f8949(0x166)],'change24h':_0x33cad9[_0x2f8949(0x14c)],'emojibuy':_0x33cad9[_0x2f8949(0x295)],'emojisell':_0x33cad9[_0x2f8949(0x29f)],'colorscheme':_0x33cad9[_0x2f8949(0x1d1)],'portfolio':_0x33cad9[_0x2f8949(0x2b5)],'autoliquidity':_0x33cad9[_0x2f8949(0x205)],'liquidity':_0x33cad9['liquidity'],'openOrders':_0x33cad9['openOrders']},dbConfig['get']('bot')[_0x2f8949(0x22d)]()[_0x2f8949(0x1a8)](),dbConfig['get'](_0x2f8949(0x2be))[_0x2f8949(0x15e)](_0x33cad9)[_0x2f8949(0x1a8)]());}else _0x33cad9={'botID':_0x1384ac,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x2f8949(0x13e)+_0x1384ac,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x2f8949(0x1c8),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x2f8949(0x1d6)],'onepagemode':settings[_0x2f8949(0x1e3)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x2f8949(0x25f),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x33cad9;}function emittedConfiguration(){const _0x47e2a0=_0x5c7d16;let _0x5d8a7c;if(config[_0x47e2a0(0x1ed)]=='')_0x5d8a7c={...config,'configstate':_0x47e2a0(0x272)};else config[_0x47e2a0(0x1ed)]==_0x47e2a0(0x25a)?_0x5d8a7c={...config,'configstate':'recovery'}:(_0x5d8a7c={...config,'apiKey':_0x47e2a0(0x1d9),'apiSecret':_0x47e2a0(0x1d9)},config['apiPassword']&&(_0x5d8a7c['apiPassword']=_0x47e2a0(0x1d9)));return _0x5d8a7c;}function getSettings(){const _0x13d16d=_0x5c7d16;return dbSettings[_0x13d16d(0x211)]('settings')['value']();}function getSecure(){const _0x2d0e48=_0x5c7d16;return dbSecure[_0x2d0e48(0x211)]('secure')[_0x2d0e48(0x22a)]()||{};}function updateTimeshift(_0x9981e4){const _0x20e4fb=_0x5c7d16;let _0x1136ab=dbConfig[_0x20e4fb(0x211)](_0x20e4fb(0x2be))[_0x20e4fb(0x231)]({'botID':botID})[_0x20e4fb(0x22a)]();_0x1136ab&&dbConfig[_0x20e4fb(0x211)](_0x20e4fb(0x2be))[_0x20e4fb(0x231)]({'botID':botID})[_0x20e4fb(0x1b8)]({'timeshift':_0x9981e4})[_0x20e4fb(0x1a8)](),config[_0x20e4fb(0x1d6)]=_0x9981e4,proxyEmit(_0x20e4fb(0x181),emittedConfiguration());}function updateOnepagemode(_0x26cee1){const _0x2c1350=_0x5c7d16;let _0x2a1743=dbConfig[_0x2c1350(0x211)](_0x2c1350(0x2be))[_0x2c1350(0x231)]({'botID':botID})[_0x2c1350(0x22a)]();_0x2a1743&&dbConfig[_0x2c1350(0x211)](_0x2c1350(0x2be))[_0x2c1350(0x231)]({'botID':botID})[_0x2c1350(0x1b8)]({'onepagemode':_0x26cee1})[_0x2c1350(0x1a8)](),config['onepagemode']=_0x26cee1,proxyEmit(_0x2c1350(0x181),emittedConfiguration());}async function storeConfiguration(_0x3bf8a3){const _0x286fd=_0x5c7d16;logger['debug'](_0x286fd(0x18a));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x286fd(0x20f)](_0x286fd(0x1bb));let _0x162c8f=[],_0x121104=![],_0x474f59=![],_0x3ef099=[];_0x3bf8a3[_0x286fd(0x2b5)]['forEach'](_0xca2e25=>{const _0x302247=_0x286fd;if(!_0xca2e25['excluded']&&_0xca2e25[_0x302247(0x193)]!=_0x3bf8a3[_0x302247(0x1cb)])_0x3ef099[_0x302247(0x15e)](_0xca2e25['symbol']);}),_0x3ef099[_0x286fd(0x282)](_0x336798=>{const _0x695746=_0x286fd,_0x2a2d5e=watchedSymbols[_0x695746(0x222)](_0x336798);!_0x2a2d5e&&_0x162c8f[_0x695746(0x15e)](_0x336798);}),_0x3ef099[_0x286fd(0x282)](_0x5bec4c=>{const _0x279a1a=_0x286fd,_0x37042a=currentCoins['find'](_0x1a3b47=>_0x1a3b47[_0x279a1a(0x160)]==_0x5bec4c);!_0x37042a&&(_0x121104=!![]);}),currentCoins['forEach'](_0x563638=>{const _0x14c255=_0x286fd;if(_0x563638['coin']!=config[_0x14c255(0x1cb)]){const _0x28ba80=_0x3ef099[_0x14c255(0x231)](_0x119784=>_0x119784==_0x563638[_0x14c255(0x160)]);!_0x28ba80&&(_0x121104=!![]);}}),_0x3bf8a3[_0x286fd(0x2b5)][_0x286fd(0x282)](_0x2248d8=>{const _0x32aa8c=_0x286fd,_0x439500=config[_0x32aa8c(0x2b5)]['find'](_0x295159=>_0x295159['coin']==_0x2248d8[_0x32aa8c(0x193)]);if(_0x439500&&_0x2248d8[_0x32aa8c(0x2b7)]!=_0x439500[_0x32aa8c(0x2b7)])_0x474f59=!![];});let _0x467ec5=dbConfig[_0x286fd(0x211)](_0x286fd(0x2be))[_0x286fd(0x231)]({'botID':botID})[_0x286fd(0x22a)]();_0x3bf8a3={..._0x3bf8a3,'apiKey':crypt[_0x286fd(0x1f0)](secure[_0x286fd(0x242)],_0x3bf8a3[_0x286fd(0x1ed)])['message'],'apiSecret':crypt[_0x286fd(0x1f0)](secure['privateKey'],_0x3bf8a3[_0x286fd(0x223)])[_0x286fd(0x1ac)]};_0x3bf8a3[_0x286fd(0x143)]&&(_0x3bf8a3[_0x286fd(0x143)]=crypt['decrypt'](secure[_0x286fd(0x242)],_0x3bf8a3[_0x286fd(0x143)])[_0x286fd(0x1ac)]);let _0xec896d=![];if(_0x467ec5){_0x3bf8a3[_0x286fd(0x1ed)]==_0x286fd(0x1d9)?_0x3bf8a3['apiKey']=config[_0x286fd(0x1ed)]:_0xec896d=!![];_0x3bf8a3['apiSecret']==_0x286fd(0x1d9)?_0x3bf8a3[_0x286fd(0x223)]=config['apiSecret']:_0xec896d=!![];if(_0x3bf8a3[_0x286fd(0x143)]==_0x286fd(0x1d9))_0x3bf8a3[_0x286fd(0x143)]=config[_0x286fd(0x143)];else{if(_0x3bf8a3[_0x286fd(0x143)])_0xec896d=!![];}dbConfig[_0x286fd(0x211)](_0x286fd(0x2be))['find']({'botID':botID})['assign'](_0x3bf8a3)['write']();}else dbConfig[_0x286fd(0x211)](_0x286fd(0x2be))[_0x286fd(0x15e)](_0x3bf8a3)[_0x286fd(0x1a8)](),_0xec896d=!![],process[_0x286fd(0x263)]({'status':'enabled','live':_0x286fd(0x1b0)},_0x4f6702=>{});process['send']({'botname':_0x3bf8a3[_0x286fd(0x28d)]},_0x1646f7=>{}),updateBotManager(),config={..._0x3bf8a3},proxyEmit(_0x286fd(0x2c2)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0xec896d)await reset(_0x162c8f,!![]);else _0x121104||_0x474f59?await reset(_0x162c8f,![]):getBalances();blockTransactionDetection=![],logger['debug'](_0x286fd(0x287));}async function storeHeadless(_0x5a879a){const _0x343500=_0x5c7d16,_0x465608={...config,'headless':_0x5a879a[_0x343500(0x1ba)]};let _0x53fac4=dbConfig[_0x343500(0x211)]('bot')['find']({'botID':botID})[_0x343500(0x22a)]();_0x53fac4&&dbConfig['get'](_0x343500(0x2be))['find']({'botID':botID})[_0x343500(0x1b8)](_0x465608)['write'](),config={..._0x465608},updateBotManager(),proxyEmit(_0x343500(0x181),emittedConfiguration());}async function storeFiat(_0x5c7790){const _0x4b5a34=_0x5c7d16,_0x2813a1={...config,'fiat':_0x5c7790};let _0x42c8d0=dbConfig['get'](_0x4b5a34(0x2be))[_0x4b5a34(0x231)]({'botID':botID})[_0x4b5a34(0x22a)]();_0x42c8d0&&dbConfig[_0x4b5a34(0x211)](_0x4b5a34(0x2be))[_0x4b5a34(0x231)]({'botID':botID})['assign'](_0x2813a1)['write'](),config={..._0x2813a1},proxyEmit(_0x4b5a34(0x181),emittedConfiguration());}function resetHistory(){const _0x27d11e=_0x5c7d16;logger['full'](_0x27d11e(0x23b));try{if(fs['existsSync'](path[_0x27d11e(0x18b)](configpath,_0x27d11e(0x1da)+botID+_0x27d11e(0x169))))fs[_0x27d11e(0x257)](path['join'](configpath,'bot-'+botID+_0x27d11e(0x169)));if(fs[_0x27d11e(0x25d)](path[_0x27d11e(0x18b)](configpath,_0x27d11e(0x1da)+botID+_0x27d11e(0x197))))fs['unlinkSync'](path[_0x27d11e(0x18b)](configpath,_0x27d11e(0x1da)+botID+_0x27d11e(0x197)));if(fs[_0x27d11e(0x25d)](path[_0x27d11e(0x18b)](configpath,_0x27d11e(0x1da)+botID+_0x27d11e(0x27d))))fs[_0x27d11e(0x257)](path[_0x27d11e(0x18b)](configpath,_0x27d11e(0x1da)+botID+_0x27d11e(0x27d)));}catch(_0x1a9b42){if(_0x1a9b42)logger[_0x27d11e(0x200)]('Error\x20while\x20deleting\x20files:\x20',_0x1a9b42);}const _0x456c17=getDate();let _0x3ea901=[];currentCoins[_0x27d11e(0x282)](_0x2d4d8e=>{const _0xed129=_0x27d11e;_0x3ea901[_0xed129(0x15e)]({'coin':_0x2d4d8e[_0xed129(0x193)],'number':_0x2d4d8e[_0xed129(0x15c)],'price':_0x2d4d8e[_0xed129(0x1d0)]});});let _0x82007c=dbConfig['get'](_0x27d11e(0x2be))[_0x27d11e(0x231)]({'botID':botID})[_0x27d11e(0x22a)]();_0x82007c&&(dbConfig['get'](_0x27d11e(0x2be))[_0x27d11e(0x231)]({'botID':botID})[_0x27d11e(0x1b8)]({'liquidity':[{'date':_0x456c17,'changes':_0x3ea901}]})['write'](),config[_0x27d11e(0x255)]=[]),process[_0x27d11e(0x263)]({'stop':_0x27d11e(0x1b5)},_0xab9265=>{});}function noslash(_0x441fd4){const _0x1c1bfc=_0x5c7d16;return _0x441fd4[_0x1c1bfc(0x1d2)]('/','');}function updateHighestFee(_0x4e6c8e,_0x167557){const _0x1303d1=_0x5c7d16;lastFees[_0x1303d1(0x210)]=_0x4e6c8e,lastFees[_0x1303d1(0x298)]['length']===0x14&&lastFees[_0x1303d1(0x298)][_0x1303d1(0x235)](),lastFees[_0x1303d1(0x298)][_0x1303d1(0x15e)](_0x167557),lastFees[_0x1303d1(0x239)]=Math[_0x1303d1(0x19b)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x6033eb){const _0x4d8a68=_0x5c7d16;logger[_0x4d8a68(0x20f)](_0x4d8a68(0x245)+_0x6033eb[_0x4d8a68(0x160)]+_0x4d8a68(0x19d)+_0x6033eb[_0x4d8a68(0x153)]+_0x4d8a68(0x19d)+_0x6033eb['id']);let _0x5a6f62=_0x6033eb['status'],_0x464ddc=![];currentCoins[_0x4d8a68(0x282)](_0x342163=>{const _0x228b73=_0x4d8a68;_0x342163[_0x228b73(0x160)]==_0x6033eb[_0x228b73(0x160)]&&(_0x464ddc=!![]);});if(!_0x464ddc)return;const _0x54d022=currentCoins['find'](_0x3dfca3=>_0x3dfca3[_0x4d8a68(0x160)]==_0x6033eb[_0x4d8a68(0x160)]),_0x2d068c=_0x262c83=>{const _0xe23453=_0x4d8a68;if(_0x54d022)_0x54d022[_0xe23453(0x291)]=_0x262c83;};if(_0x5a6f62==_0x4d8a68(0x29b))_0x2d068c(_0x4d8a68(0x29b));else{if(_0x5a6f62==_0x4d8a68(0x2a5)){_0x2d068c(_0x4d8a68(0x2a5));const _0x23299d=await getCoins();[currentCoins,currentCoinsAll]=_0x23299d,await getOpenOrders(),handleOpenOrders();}else{if(_0x5a6f62==_0x4d8a68(0x1e0)){logger[_0x4d8a68(0x20f)](_0x4d8a68(0x1fd)+_0x6033eb[_0x4d8a68(0x160)]+_0x4d8a68(0x19d)+_0x6033eb[_0x4d8a68(0x158)]+_0x4d8a68(0x19d)+_0x6033eb['id']);let _0x4db764=![];if(lastOrders)for(const _0x26916f of lastOrders){const _0x5a28df=0xc8,_0x8297c=0x1388;let _0x46e7ee=0x0;while(!_0x26916f[_0x4d8a68(0x1f2)]&&_0x46e7ee*_0x5a28df<_0x8297c){_0x46e7ee++,await sleep(_0x5a28df);}if(_0x46e7ee>0x0)logger['debug'](_0x4d8a68(0x1c7)+_0x46e7ee*_0x5a28df/0x3e8+_0x4d8a68(0x22b));if(_0x26916f[_0x4d8a68(0x1f2)]==_0x6033eb['id']){logger[_0x4d8a68(0x20f)](_0x4d8a68(0x1ea)+_0x6033eb['id']),_0x4db764=!![];if(_0x26916f[_0x4d8a68(0x158)]==0x0){logger[_0x4d8a68(0x20f)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x6033eb['id']);if(_0x6033eb['average'])_0x26916f[_0x4d8a68(0x17b)]=_0x6033eb['average'];else{if(_0x6033eb[_0x4d8a68(0x17b)])_0x26916f[_0x4d8a68(0x17b)]=_0x6033eb['price'];else{}}_0x26916f[_0x4d8a68(0x158)]=_0x6033eb[_0x4d8a68(0x158)],_0x26916f[_0x4d8a68(0x28e)]={'currency':_0x6033eb[_0x4d8a68(0x28e)]?_0x6033eb[_0x4d8a68(0x28e)][_0x4d8a68(0x210)]:null,'cost':_0x6033eb['fee']?_0x6033eb['fee'][_0x4d8a68(0x16a)]:0x0},updateHighestFee(_0x26916f[_0x4d8a68(0x28e)][_0x4d8a68(0x210)],_0x26916f[_0x4d8a68(0x28e)][_0x4d8a68(0x16a)]),_0x2d068c(_0x4d8a68(0x158)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0xa7afd1=await getCoins();[currentCoins,currentCoinsAll]=_0xa7afd1;}await updateCoinResults(_0x26916f);}}}if(!_0x4db764){logger[_0x4d8a68(0x20f)](_0x4d8a68(0x297)+_0x6033eb['id']),_0x2d068c(_0x4d8a68(0x158));const _0x404004=await getCoins();[currentCoins,currentCoinsAll]=_0x404004,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x3ac5d9=JSON[_0x4d8a68(0x243)](lastBalances[_0x4d8a68(0x2b5)]);const _0x74e265=_0x3ac5d9[_0x4d8a68(0x231)](_0x55d853=>_0x55d853[_0x4d8a68(0x160)]==_0x6033eb[_0x4d8a68(0x160)]);if(_0x74e265){if(_0x5a6f62==_0x4d8a68(0x29b))_0x74e265[_0x4d8a68(0x291)]=_0x74e265[_0x4d8a68(0x291)]==_0x4d8a68(0x158)?_0x4d8a68(0x158):_0x4d8a68(0x29b);else{if(_0x5a6f62=='canceled')_0x74e265['orderstatus']=_0x74e265[_0x4d8a68(0x291)]==_0x4d8a68(0x158)?'filled':_0x4d8a68(0x2a5);else _0x5a6f62==_0x4d8a68(0x1e0)&&(_0x74e265[_0x4d8a68(0x291)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x4d8a68(0x187)](_0x3ac5d9)},proxyEmit(_0x4d8a68(0x281),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x4de783=_0x5c7d16;await getOpenOrders();let _0x5d5d65=![];currentCoins[_0x4de783(0x282)](_0x229aa7=>{const _0x37346c=_0x4de783;_0x5d5d65=allOpenOrders[_0x37346c(0x231)](_0x5a755a=>_0x5a755a['symbol']==_0x229aa7[_0x37346c(0x160)]),_0x229aa7['orderstatus']=_0x5d5d65?_0x37346c(0x29b):_0x37346c(0x164);});}async function getCoins(_0x412585=!![],_0x42a989=config[_0x5c7d16(0x1cb)]){const _0x179e00=_0x5c7d16;let _0x12bc8c,_0x157908=[],_0x46330a=[],_0x98fd8d=[],_0x48a10a=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x12bc8c=await exchange[_0x179e00(0x15b)](),mybalances=_0x12bc8c[_0x179e00(0x201)];for(const [_0x5a03b9,_0x217bc1]of Object[_0x179e00(0x146)](mybalances)){_0x48a10a[_0x179e00(0x15e)](_0x5a03b9);}if(_0x42a989=='')for(const [_0x1af937,_0x82050e]of Object[_0x179e00(0x146)](mybalances)){_0x82050e[_0x179e00(0x167)]()!=0x0&&_0x46330a[_0x179e00(0x15e)]({'coin':_0x1af937});}else{let _0x4f7d22=![];for(const [_0x56abb7,_0x3edbc7]of Object[_0x179e00(0x146)](mybalances)){if(_0x48a10a['includes'](_0x56abb7)){const _0x31d808=config[_0x179e00(0x2b5)]['find'](_0x16bdcb=>_0x16bdcb['coin']==_0x56abb7),_0x3d8217=_0x56abb7+'/'+_0x42a989,_0x531178=_0x42a989+'/'+_0x56abb7,_0x5bb779=currentCoins[_0x179e00(0x231)](_0x484f0c=>_0x484f0c[_0x179e00(0x193)]==_0x56abb7);_0x4f7d22=![];if((_0x3edbc7[_0x179e00(0x167)]()!=0x0||_0x31d808)&&(allSymbols['includes'](_0x3d8217)||_0x56abb7==_0x42a989))_0x56abb7!=_0x42a989&&_0x157908[_0x179e00(0x15e)](_0x3d8217),_0x46330a[_0x179e00(0x15e)]({'coin':_0x56abb7,'symbol':_0x3d8217,'reverse':![],'number':Math[_0x179e00(0x19b)](_0x3edbc7+(_0x31d808&&_0x31d808[_0x179e00(0x2b7)]||0x0),0x0),'orderstatus':_0x5bb779?_0x5bb779['orderstatus']:'none'});else(_0x3edbc7[_0x179e00(0x167)]()!=0x0||_0x31d808)&&allSymbols[_0x179e00(0x222)](_0x531178)&&(_0x56abb7!=_0x42a989&&_0x157908[_0x179e00(0x15e)](_0x531178),_0x46330a['push']({'coin':_0x56abb7,'symbol':_0x531178,'reverse':!![],'number':Math[_0x179e00(0x19b)](_0x3edbc7+(_0x31d808&&_0x31d808[_0x179e00(0x2b7)]||0x0),0x0),'orderstatus':_0x5bb779?_0x5bb779['orderstatus']:'none'}));}}}}catch(_0x24453c){if(!_0x412585)handleErrorNoStop(_0x24453c,_0x179e00(0x1ee));else await handleError(_0x24453c,_0x179e00(0x1ee));}return _0x98fd8d=cloneDeep(_0x46330a),_0x46330a=_0x46330a[_0x179e00(0x27e)](_0xf21abc=>{const _0x12b962=_0x179e00,_0x3d7214=config[_0x12b962(0x2b5)][_0x12b962(0x231)](_0x28a794=>_0x28a794[_0x12b962(0x193)]==_0xf21abc[_0x12b962(0x193)]);return _0x3d7214&&!_0x3d7214[_0x12b962(0x246)];}),[_0x46330a,_0x98fd8d];}async function getCoinNumber(_0x128593){const _0x36ae48=_0x5c7d16;let _0x2faa91;try{const _0x18f4af=await exchange[_0x36ae48(0x15b)]();_0x2faa91=_0x18f4af[_0x36ae48(0x201)][_0x128593];}catch(_0x38259d){await handleError(_0x38259d,_0x36ae48(0x22e));}return _0x2faa91;}async function getOpenOrders(){const _0x50ab4c=_0x5c7d16;let _0x277d09;allOpenOrders=[];try{for(const _0x3eab60 of config[_0x50ab4c(0x2b5)]){!_0x3eab60['excluded']&&_0x3eab60[_0x50ab4c(0x193)]!=config[_0x50ab4c(0x1cb)]&&(_0x277d09=await exchange['fetchOpenOrders'](_0x3eab60[_0x50ab4c(0x160)]),_0x277d09['length']>0x0&&allOpenOrders['push'](_0x277d09[0x0]));}}catch(_0x2e85ac){await handleError(_0x2e85ac,_0x50ab4c(0x151));}}async function handleOpenOrders(_0x5ad346=0x0){const _0x1b88b3=_0x5c7d16;allOpenOrders[_0x1b88b3(0x27f)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x5ad346==0x0?(logger[_0x1b88b3(0x20f)](_0x1b88b3(0x2bd)),_0x5ad346++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x1b88b3(0x204))));}async function testAPI(_0x35e73e){const _0x3efe69=_0x5c7d16,_0x31a0c1=ccxt[_0x35e73e['exchange'][_0x3efe69(0x251)]()],_0x19f1e5=new _0x31a0c1({'apiKey':_0x35e73e[_0x3efe69(0x1ed)],'secret':_0x35e73e[_0x3efe69(0x223)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});_0x35e73e['exchange']=='Bybit'&&(_0x19f1e5[_0x3efe69(0x25b)]={'defaultType':_0x3efe69(0x271),'adjustForTimeDifference':!![],'recvWindow':0x1b58});if(_0x35e73e[_0x3efe69(0x143)])_0x19f1e5[_0x3efe69(0x1ad)]=_0x35e73e[_0x3efe69(0x143)];try{await _0x19f1e5[_0x3efe69(0x2ba)]();}catch(_0x42bc43){throw _0x42bc43;}}function cloneDeep(_0x444dfb){const _0x13cb6f=_0x5c7d16;return JSON[_0x13cb6f(0x243)](JSON['stringify'](_0x444dfb));}async function getPortfolio(_0x43209c){const _0x2bc8c7=_0x5c7d16;let _0x2fa1e5=[],_0x53b221=[],_0x4e2f19=[],_0x110565;if(_0x43209c['apiKey']!==_0x2bc8c7(0x1d9)||_0x43209c['apiSecret']!==_0x2bc8c7(0x1d9)||_0x43209c['apiPassword']&&_0x43209c['apiPassword']!==_0x2bc8c7(0x1d9)){if(config[_0x2bc8c7(0x1c1)]){if(_0x43209c[_0x2bc8c7(0x1ed)]==_0x2bc8c7(0x1d9))_0x43209c['apiKey']=config[_0x2bc8c7(0x1ed)];if(_0x43209c[_0x2bc8c7(0x223)]==_0x2bc8c7(0x1d9))_0x43209c[_0x2bc8c7(0x223)]=config[_0x2bc8c7(0x223)];if(_0x43209c[_0x2bc8c7(0x143)]==_0x2bc8c7(0x1d9))_0x43209c[_0x2bc8c7(0x143)]=config[_0x2bc8c7(0x143)];try{await testAPI(_0x43209c);}catch(_0x2ac3ce){if(_0x2ac3ce[_0x2bc8c7(0x167)]()[_0x2bc8c7(0x222)](_0x2bc8c7(0x165))){logger[_0x2bc8c7(0x20f)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x2bc8c7(0x2b5),![]);return;}else{handleError(_0x2ac3ce,_0x2bc8c7(0x147));return;}}}await initExchange(_0x43209c['exchange'],_0x43209c[_0x2bc8c7(0x1ed)],_0x43209c[_0x2bc8c7(0x223)],_0x43209c['apiPassword']);try{await loadSymbols(_0x43209c[_0x2bc8c7(0x1c1)],!![]);}catch(_0x311c00){if(_0x311c00[_0x2bc8c7(0x167)]()[_0x2bc8c7(0x222)]('AuthenticationError')){proxyEmit(_0x2bc8c7(0x2b5),![]);return;}else{handleError(_0x311c00,'getPortfolio(1)');return;}}const _0x245977=await getCoins(![],_0x43209c[_0x2bc8c7(0x1cb)]);_0x4e2f19=cloneDeep(_0x245977[0x1]);}else _0x4e2f19=cloneDeep(currentCoinsAll);if(_0x43209c[_0x2bc8c7(0x1cb)]=='')proxyEmit(_0x2bc8c7(0x2b5),_0x4e2f19);else{_0x4e2f19[_0x2bc8c7(0x282)](_0x762baf=>{const _0x617a39=_0x2bc8c7;if(_0x762baf[_0x617a39(0x193)]!=_0x43209c[_0x617a39(0x1cb)])_0x2fa1e5[_0x617a39(0x15e)](_0x762baf[_0x617a39(0x160)]);});try{_0x53b221=await exchange['fetchTickers'](_0x2fa1e5);}catch(_0x5acac4){if(_0x5acac4[_0x2bc8c7(0x167)]()[_0x2bc8c7(0x222)](_0x2bc8c7(0x165))){proxyEmit(_0x2bc8c7(0x2b5),![]);return;}else{handleError(_0x5acac4,_0x2bc8c7(0x17d));return;}}_0x4e2f19[_0x2bc8c7(0x282)](_0x6263a3=>{const _0x23b3c9=_0x2bc8c7;_0x6263a3[_0x23b3c9(0x193)]!=_0x43209c[_0x23b3c9(0x1cb)]?_0x110565=_0x6263a3[_0x23b3c9(0x24a)]?0x1/_0x53b221[_0x6263a3['symbol']][_0x23b3c9(0x1d0)]:_0x53b221[_0x6263a3[_0x23b3c9(0x160)]]['last']:_0x110565=0x1,_0x6263a3[_0x23b3c9(0x17b)]=formatResult(_0x110565,0x8);}),proxyEmit(_0x2bc8c7(0x2b5),_0x4e2f19);}}function truncateTradeAmount(_0x20137c,_0x1442f3){const _0x258662=_0x5c7d16;let _0x19db5f=0x0;try{_0x19db5f=exchange[_0x258662(0x199)](_0x20137c,_0x1442f3);}catch(_0x22bdad){}return _0x19db5f;}function checkMinimums(_0x1e82a1){const _0x3c9bcd=_0x5c7d16;let _0x5e8ac8=!![];const _0xb84138=!_0x1e82a1[_0x3c9bcd(0x24a)]?markets[_0x1e82a1['symbol']][_0x3c9bcd(0x196)][_0x3c9bcd(0x2ad)][_0x3c9bcd(0x284)]:markets[_0x1e82a1[_0x3c9bcd(0x160)]]['limits'][_0x3c9bcd(0x16a)][_0x3c9bcd(0x284)],_0x187026=!_0x1e82a1[_0x3c9bcd(0x24a)]?markets[_0x1e82a1[_0x3c9bcd(0x160)]][_0x3c9bcd(0x196)][_0x3c9bcd(0x16a)]['min']:markets[_0x1e82a1[_0x3c9bcd(0x160)]][_0x3c9bcd(0x196)][_0x3c9bcd(0x2ad)][_0x3c9bcd(0x284)],_0x36dfbd=truncateTradeAmount(_0x1e82a1[_0x3c9bcd(0x160)],_0x1e82a1[_0x3c9bcd(0x192)]);_0x1e82a1[_0x3c9bcd(0x192)]=_0x36dfbd;if(Math[_0x3c9bcd(0x21b)](_0x36dfbd)<_0xb84138)_0x5e8ac8=![];if(Math['abs'](_0x36dfbd)*_0x1e82a1[_0x3c9bcd(0x1d0)]<_0x187026)_0x5e8ac8=![];if(_0x1e82a1[_0x3c9bcd(0x23f)]=='sell'){let _0x280e75=config[_0x3c9bcd(0x2b5)][_0x3c9bcd(0x231)](_0x57da2c=>_0x57da2c['coin']==_0x1e82a1[_0x3c9bcd(0x193)]);if(_0x280e75[_0x3c9bcd(0x2b7)]>0x0){if(Math[_0x3c9bcd(0x21b)](_0x36dfbd)>_0x1e82a1[_0x3c9bcd(0x15c)]-_0x280e75[_0x3c9bcd(0x2b7)])_0x5e8ac8=![];}else{if(Math[_0x3c9bcd(0x21b)](_0x36dfbd)>_0x1e82a1['number'])_0x5e8ac8=![];}}if(_0x1e82a1['side']==_0x3c9bcd(0x2a8)){let _0x267d18=config['portfolio'][_0x3c9bcd(0x231)](_0x16df66=>_0x16df66[_0x3c9bcd(0x193)]==config[_0x3c9bcd(0x1cb)]),_0x3f0614=currentCoins[_0x3c9bcd(0x231)](_0x52d437=>_0x52d437['coin']==config[_0x3c9bcd(0x1cb)]);if(_0x267d18['offset']>0x0){if(Math[_0x3c9bcd(0x21b)](_0x36dfbd)*_0x1e82a1[_0x3c9bcd(0x1d0)]>_0x3f0614['number']-_0x267d18[_0x3c9bcd(0x2b7)])_0x5e8ac8=![];}else{if(Math[_0x3c9bcd(0x21b)](_0x36dfbd)*_0x1e82a1[_0x3c9bcd(0x1d0)]>_0x3f0614[_0x3c9bcd(0x15c)])_0x5e8ac8=![];}}return _0x5e8ac8;}async function getBalances(_0x3a3f6e=!![]){const _0x4b8a51=_0x5c7d16;let _0x473b59=0x0,_0x4bcb2e;const _0x34a2eb=config[_0x4b8a51(0x1c3)];if(config[_0x4b8a51(0x1ba)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x4b8a51(0x282)](_0x2d3dfd=>{const _0x42ecef=_0x4b8a51;if(_0x2d3dfd[_0x42ecef(0x193)]!=config[_0x42ecef(0x1cb)]){let _0x30576f=global['ticker'][noslash(_0x2d3dfd[_0x42ecef(0x160)])];_0x4bcb2e=_0x2d3dfd['reverse']?0x1/_0x30576f:_0x30576f;}else _0x4bcb2e=0x1;let _0x2738d5=_0x2d3dfd[_0x42ecef(0x15c)]*_0x4bcb2e;_0x473b59+=_0x2738d5,_0x2d3dfd[_0x42ecef(0x1d0)]=formatResult(Number(_0x4bcb2e),0x8),_0x2d3dfd[_0x42ecef(0x22a)]=_0x2738d5;}),currentCoins[_0x4b8a51(0x282)](_0x64e17d=>{const _0x4b4a42=_0x4b8a51;let _0x48298c=config[_0x4b4a42(0x2b5)][_0x4b4a42(0x231)](_0x1efab1=>_0x1efab1['coin']==_0x64e17d[_0x4b4a42(0x193)]),_0x43f657=Number(_0x48298c[_0x4b4a42(0x24b)]),_0x563349=_0x64e17d[_0x4b4a42(0x22a)]/_0x473b59*0x64,_0x9022e7=_0x43f657*_0x473b59/0x64/_0x64e17d[_0x4b4a42(0x1d0)]-_0x64e17d[_0x4b4a42(0x15c)];_0x64e17d['distribution']=formatResult(_0x563349,0x3),_0x64e17d[_0x4b4a42(0x26b)]=formatResult(_0x43f657,0x3),_0x64e17d[_0x4b4a42(0x192)]=formatResult(_0x9022e7,0x8),_0x64e17d[_0x4b4a42(0x23f)]='',_0x64e17d[_0x4b4a42(0x1b7)]=![];if(_0x64e17d['coin']!=config[_0x4b4a42(0x1cb)]){if(_0x64e17d[_0x4b4a42(0x24b)]>_0x43f657)_0x64e17d[_0x4b4a42(0x23f)]=_0x4b4a42(0x1e7),_0x64e17d[_0x4b4a42(0x1b7)]=checkMinimums(_0x64e17d);else _0x64e17d['distribution']<_0x43f657&&(_0x64e17d[_0x4b4a42(0x23f)]=_0x4b4a42(0x2a8),_0x64e17d[_0x4b4a42(0x1b7)]=checkMinimums(_0x64e17d));}_0x64e17d['delta']=_0x64e17d[_0x4b4a42(0x24b)]/_0x64e17d[_0x4b4a42(0x26b)]-0x1;if(_0x64e17d['orderstatus']==_0x4b4a42(0x158)||_0x64e17d['orderstatus']=='canceled')_0x64e17d[_0x4b4a42(0x291)]=_0x4b4a42(0x164);}),currentCoins[_0x4b8a51(0x22c)]((_0x385d44,_0x56856b)=>_0x385d44['delta']<_0x56856b[_0x4b8a51(0x270)]?0x1:_0x56856b['delta']<_0x385d44[_0x4b8a51(0x270)]?-0x1:0x0);const _0x1281b3=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1281b3['eur'],'usd':_0x1281b3[_0x4b8a51(0x17c)],'portfolio':JSON[_0x4b8a51(0x187)](currentCoins),'threshold':_0x34a2eb},proxyEmit(_0x4b8a51(0x281),{'serverversion':serverversion,'balances':lastBalances});if(_0x3a3f6e){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x34a2eb});else{if(lockOrders==ORDERS[_0x4b8a51(0x212)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x34a2eb});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x4fc857=getNormalizedPerformance();getStartingBalances(_0x4fc857),emitPerformance(_0x4fc857);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x16eaa3=getNormalizedPerformance();emitPerformance(_0x16eaa3),getStartingBalances(_0x16eaa3),logger[_0x4b8a51(0x20f)](_0x4b8a51(0x18c));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x47326d=_0x5c7d16;if(!lastBalances)return;let _0x17fe8f=[],_0x1a1f81,_0x378e5b=JSON[_0x47326d(0x243)](lastBalances[_0x47326d(0x2b5)]);_0x378e5b[_0x47326d(0x22c)]((_0x193b85,_0x589d84)=>_0x193b85[_0x47326d(0x193)]>_0x589d84[_0x47326d(0x193)]?0x1:_0x589d84[_0x47326d(0x193)]>_0x193b85['coin']?-0x1:0x0),_0x378e5b['forEach'](_0x3c0d5d=>{const _0x587227=_0x47326d;let _0x179eed={'coin':_0x3c0d5d[_0x587227(0x193)],'number':_0x3c0d5d['number'],'price':_0x3c0d5d[_0x587227(0x1d0)]};_0x17fe8f[_0x587227(0x15e)](_0x179eed);});const _0x189efc=await getFiat();_0x1a1f81={'date':lastBalances[_0x47326d(0x1c9)]['split']('\x20')[0x0],'eur':_0x189efc[_0x47326d(0x1ef)],'usd':_0x189efc[_0x47326d(0x17c)],'coins':_0x17fe8f};let _0x2be6c2=dbPerformance[_0x47326d(0x211)](_0x47326d(0x1a0))[_0x47326d(0x231)]({'date':_0x1a1f81[_0x47326d(0x1af)]})[_0x47326d(0x22a)]();_0x2be6c2?_0x1a1f81[_0x47326d(0x1af)]!=config[_0x47326d(0x248)]&&dbPerformance[_0x47326d(0x211)](_0x47326d(0x1a0))[_0x47326d(0x231)]({'date':_0x1a1f81[_0x47326d(0x1af)]})['assign'](_0x1a1f81)['write']():dbPerformance[_0x47326d(0x211)](_0x47326d(0x1a0))[_0x47326d(0x15e)](_0x1a1f81)[_0x47326d(0x1a8)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x53eefb=_0x5c7d16;let _0x16ee5e=[];if(dbPerformance[_0x53eefb(0x195)](_0x53eefb(0x1a0))[_0x53eefb(0x22a)]()){let _0x56819c=dbPerformance[_0x53eefb(0x211)](_0x53eefb(0x1a0))[_0x53eefb(0x22f)]()[_0x53eefb(0x27e)](_0x395f69=>{const _0x14ff79=_0x53eefb;if(_0x395f69['coins'][_0x14ff79(0x27f)]==0x0)return![];else return!![];})['sortBy'](_0x53eefb(0x1af))['value'](),_0x5adb56=[...config[_0x53eefb(0x255)]];_0x5adb56[_0x53eefb(0x22c)]((_0x415aa3,_0x525b6d)=>_0x415aa3['date']>_0x525b6d['date']?-0x1:_0x525b6d[_0x53eefb(0x1af)]>_0x415aa3[_0x53eefb(0x1af)]?0x1:0x0);let _0x2c42a2=0x1,_0xbf7212=[],_0x1078fe=0x0;_0x56819c[_0x53eefb(0x1a4)]()[_0x53eefb(0x24a)]()['forEach']((_0x21ec32,_0x1f89c4)=>{const _0x4e24a0=_0x53eefb;if(_0x5adb56[_0x1078fe]){if(_0x56819c[_0x56819c[_0x4e24a0(0x27f)]-_0x1f89c4]&&_0x5adb56[_0x1078fe][_0x4e24a0(0x1af)]==_0x56819c[_0x56819c[_0x4e24a0(0x27f)]-_0x1f89c4]['date']){if(_0x1f89c4<_0x56819c[_0x4e24a0(0x27f)]){let _0x3e9602=0x0,_0x43d513=0x0;_0x56819c[_0x56819c[_0x4e24a0(0x27f)]-_0x1f89c4][_0x4e24a0(0x1e2)][_0x4e24a0(0x282)](_0x361ba3=>{const _0x117d3f=_0x4e24a0;_0x43d513+=_0x361ba3[_0x117d3f(0x15c)]*_0x361ba3[_0x117d3f(0x17b)];}),_0x5adb56[_0x1078fe][_0x4e24a0(0x1a3)][_0x4e24a0(0x282)](_0x1aaba8=>{const _0x869613=_0x4e24a0;_0x3e9602+=_0x1aaba8[_0x869613(0x15c)]*_0x1aaba8[_0x869613(0x17b)];}),_0x2c42a2*=_0x3e9602/(_0x43d513-_0x3e9602)+0x1;}_0x1078fe++;}}let _0x5cd477=0x0;_0x21ec32['coins'][_0x4e24a0(0x282)](_0x5634a4=>{const _0x28812c=_0x4e24a0;_0x5cd477+=_0x5634a4[_0x28812c(0x15c)]*_0x5634a4['price'];}),_0xbf7212[_0x56819c[_0x4e24a0(0x27f)]-_0x1f89c4-0x1]=_0x5cd477*(_0x2c42a2-0x1);});let _0x13188d=[];_0x5adb56=[...config[_0x53eefb(0x255)]]||[];let _0x2c6f0c=0x0;_0x1078fe=0x0,_0x56819c[_0x53eefb(0x282)]((_0x5962c6,_0x3ba3d9)=>{const _0x158a30=_0x53eefb;if(_0x5adb56[_0x1078fe]){const _0x51227b=fns[_0x158a30(0x243)](_0x5adb56[_0x1078fe][_0x158a30(0x1af)],_0x158a30(0x1f1),new Date()),_0x532fa3=fns['parse'](_0x5962c6[_0x158a30(0x1af)],_0x158a30(0x1f1),new Date());if(fns['isEqual'](_0x51227b,_0x532fa3)){let _0x1882a9=0x0;_0x5adb56[_0x1078fe][_0x158a30(0x1a3)][_0x158a30(0x282)](_0x50e5b0=>{const _0x1fead0=_0x158a30;!_0x13188d[_0x50e5b0[_0x1fead0(0x193)]]?_0x13188d[_0x50e5b0[_0x1fead0(0x193)]]=_0x50e5b0['number']:(_0x1882a9=_0x13188d[_0x50e5b0[_0x1fead0(0x193)]],_0x13188d[_0x50e5b0['coin']]+=_0x50e5b0['number']);const _0x1fee33=_0x5962c6[_0x1fead0(0x1e2)][_0x1fead0(0x231)](_0x32d53f=>_0x32d53f[_0x1fead0(0x193)]==_0x50e5b0[_0x1fead0(0x193)]);(!_0x1fee33||_0x1fee33[_0x1fead0(0x15c)]==0x0)&&(_0x2c6f0c+=(-_0x50e5b0[_0x1fead0(0x15c)]-_0x1882a9)*_0x50e5b0[_0x1fead0(0x17b)]);}),_0x1078fe++;}}_0x5962c6['coins'][_0x158a30(0x282)]((_0x26f4e8,_0x514325)=>{const _0x334452=_0x158a30;_0x13188d[_0x26f4e8[_0x334452(0x193)]]&&(_0x26f4e8[_0x334452(0x272)]=_0x13188d[_0x26f4e8[_0x334452(0x193)]]);}),_0x16ee5e[_0x158a30(0x15e)]({'date':_0x5962c6[_0x158a30(0x1af)],'eur':_0x5962c6[_0x158a30(0x1ef)],'usd':_0x5962c6[_0x158a30(0x17c)],'offset':_0xbf7212[_0x3ba3d9],'netoffset':_0x2c6f0c,'coins':_0x5962c6[_0x158a30(0x1e2)]});});}return _0x16ee5e;}function emitPerformance(_0x333f92){const _0x1e1cc2=_0x5c7d16;_0x333f92[_0x1e1cc2(0x27f)]!==0x0?(proxyEmit(_0x1e1cc2(0x27c),_0x333f92),lastPerformanceEmitted=getDate()):proxyEmit(_0x1e1cc2(0x27c),[]);}function getPerf(_0x1349aa,_0x343d73){const _0x50c45d=_0x5c7d16;let _0x3bc0c=0x0,_0x371c11=0x0,_0x149e18=0x0;_0x1349aa[_0x50c45d(0x1e2)][_0x50c45d(0x282)](_0x167cf9=>{const _0x3de586=_0x50c45d;_0x3bc0c+=_0x167cf9[_0x3de586(0x15c)]*_0x167cf9['price'];});_0x343d73&&(_0x3bc0c+=_0x1349aa[_0x50c45d(0x2b7)]);if(config[_0x50c45d(0x1cb)]===_0x50c45d(0x29e)||config[_0x50c45d(0x1cb)]===_0x50c45d(0x16c))_0x371c11=_0x3bc0c*_0x1349aa['eur'],_0x149e18=_0x3bc0c*_0x1349aa['usd'];else{if(usdBasecoins[_0x50c45d(0x222)](config[_0x50c45d(0x1cb)]))_0x371c11=_0x3bc0c*_0x1349aa[_0x50c45d(0x1ef)]/_0x1349aa['usd'],_0x149e18=_0x3bc0c;else config['basecoin']===_0x50c45d(0x1d7)&&(_0x371c11=_0x3bc0c,_0x149e18=_0x3bc0c*_0x1349aa[_0x50c45d(0x17c)]/_0x1349aa[_0x50c45d(0x1ef)]);}return[_0x3bc0c,_0x371c11,_0x149e18];}function getKPIs(_0x3a30f2,_0x37626e=_0x5c7d16(0x1d7)){const _0x1a7513=_0x5c7d16,_0x349501=config[_0x1a7513(0x1cb)],_0x28ed8a=lastBalances,_0x3120c2=currentCoins,_0x4acaaa=getNormalizedPerformance(),_0x4de1a2=_0x3a30f2==='basecoin'?_0x349501:_0x3a30f2===_0x1a7513(0x180)||_0x3a30f2===_0x1a7513(0x149)?_0x37626e:_0x1a7513(0x285)+_0x349501,_0x58485a=_0x3a30f2===_0x1a7513(0x1c5)?'Net\x20effect':_0x3a30f2==='net-fiat'?_0x1a7513(0x13a):_0x4de1a2+_0x1a7513(0x155),_0x39bf4f=_0x3a30f2===_0x1a7513(0x1c5)||_0x3a30f2===_0x1a7513(0x149)?_0x1a7513(0x13a):_0x4de1a2+_0x1a7513(0x16e);let _0x52f5bd=0x0;_0x3120c2[_0x1a7513(0x282)](_0x2604ca=>{const _0x4a0553=_0x1a7513;_0x52f5bd+=_0x2604ca[_0x4a0553(0x15c)]*_0x2604ca[_0x4a0553(0x1d0)];});if(_0x3a30f2===_0x1a7513(0x180)||_0x3a30f2===_0x1a7513(0x149)){if(_0x349501===_0x1a7513(0x29e)||_0x349501===_0x1a7513(0x16c))_0x52f5bd=_0x52f5bd*(_0x37626e===_0x1a7513(0x1d7)?_0x28ed8a[_0x1a7513(0x1ef)]:_0x28ed8a[_0x1a7513(0x17c)]);else{if(usdBasecoins[_0x1a7513(0x222)](_0x349501))_0x52f5bd=_0x52f5bd*(_0x37626e==='EUR'?_0x28ed8a[_0x1a7513(0x1ef)]/_0x28ed8a[_0x1a7513(0x17c)]:0x1);else _0x349501===_0x1a7513(0x1d7)&&(_0x52f5bd=_0x52f5bd*(_0x37626e===_0x1a7513(0x1d7)?0x1:_0x28ed8a[_0x1a7513(0x17c)]/_0x28ed8a['eur']));}}let _0x279de8;if(_0x52f5bd!==0x0){if(_0x3a30f2===_0x1a7513(0x1cb))_0x279de8=(_0x52f5bd/startingBalances['basecoin']-0x1)*0x64;else{if(_0x37626e===_0x1a7513(0x1d7))_0x279de8=(_0x52f5bd/startingBalances[_0x1a7513(0x1ef)]-0x1)*0x64;else _0x279de8=(_0x52f5bd/startingBalances[_0x1a7513(0x17c)]-0x1)*0x64;}let _0xa7931f=0x0;if(startingBalances['coins'])_0x3120c2[_0x1a7513(0x282)](_0x50c4fa=>{const _0x132e57=_0x1a7513;let _0x472e6d=startingBalances[_0x132e57(0x1e2)][_0x132e57(0x231)](_0x59e88c=>_0x59e88c[_0x132e57(0x193)]===_0x50c4fa[_0x132e57(0x193)]);if(_0x472e6d&&_0x472e6d[_0x132e57(0x193)]&&_0x50c4fa[_0x132e57(0x15c)]!==0x0)_0xa7931f+=_0x472e6d['number']*_0x50c4fa[_0x132e57(0x1d0)];});let _0x202abd=0x0;if(_0x4acaaa[_0x1a7513(0x27f)]!==0x0){let _0x51d835=_0x4acaaa[_0x4acaaa[_0x1a7513(0x27f)]-0x1];_0x202abd=_0x51d835[_0x1a7513(0x1a2)];}_0xa7931f-=_0x202abd;_0x3a30f2==='net-basecoin'&&(_0x279de8=(_0x52f5bd-_0xa7931f)/startingBalances[_0x1a7513(0x1cb)]*0x64,_0x52f5bd=_0x52f5bd-_0xa7931f);if(_0x3a30f2===_0x1a7513(0x149)){let _0x2ee49d=_0x37626e===_0x1a7513(0x1d7)?startingBalances['eur']:startingBalances[_0x1a7513(0x17c)];if(_0x349501==='BTC'||_0x349501===_0x1a7513(0x16c))_0xa7931f=_0x37626e==='EUR'?_0xa7931f*_0x28ed8a['eur']:_0xa7931f*_0x28ed8a[_0x1a7513(0x17c)];else{if(usdBasecoins[_0x1a7513(0x222)](_0x349501))_0xa7931f=_0x37626e==='EUR'?_0xa7931f*_0x28ed8a[_0x1a7513(0x1ef)]/_0x28ed8a[_0x1a7513(0x17c)]:_0xa7931f;else _0x349501==='EUR'&&(_0xa7931f=_0x37626e===_0x1a7513(0x1d7)?_0xa7931f:_0xa7931f*_0x28ed8a[_0x1a7513(0x17c)]/_0x28ed8a['eur']);}_0x279de8=(_0x52f5bd-_0xa7931f)/_0x2ee49d*0x64,_0x52f5bd=_0x52f5bd-_0xa7931f;}if(_0x279de8){if(_0x279de8<0x64)_0x279de8=_0x279de8[_0x1a7513(0x17e)](0x2);else{if(_0x279de8<0x3e8)_0x279de8=_0x279de8[_0x1a7513(0x17e)](0x1);else _0x279de8=_0x279de8[_0x1a7513(0x17e)](0x0);}}else _0x279de8=Number('0')[_0x1a7513(0x17e)](0x2);if(_0x52f5bd){if(Math['abs'](_0x52f5bd)<0.000001)_0x52f5bd=_0x52f5bd['toFixed'](0x2);else{if(Math['abs'](_0x52f5bd)<0.1)_0x52f5bd=_0x52f5bd[_0x1a7513(0x17e)](0x6);else{if(Math[_0x1a7513(0x21b)](_0x52f5bd)<0x1)_0x52f5bd=_0x52f5bd[_0x1a7513(0x17e)](0x5);else{if(Math[_0x1a7513(0x21b)](_0x52f5bd)<0xa)_0x52f5bd=_0x52f5bd['toFixed'](0x4);else{if(Math[_0x1a7513(0x21b)](_0x52f5bd)<0x64)_0x52f5bd=_0x52f5bd[_0x1a7513(0x17e)](0x3);else{if(Math['abs'](_0x52f5bd)<0x3e8)_0x52f5bd=_0x52f5bd[_0x1a7513(0x17e)](0x2);else _0x52f5bd=_0x52f5bd[_0x1a7513(0x17e)](0x2);}}}}}}else _0x52f5bd=Number('0')[_0x1a7513(0x17e)](0x2);}else _0x279de8=Number('0')[_0x1a7513(0x17e)](0x2);return{'value':_0x52f5bd,'change':_0x279de8,'leftTxt':_0x58485a,'rightTxt':_0x39bf4f};}async function getStartingBalances(_0x204ea1,_0x5cfe66=!![]){const _0x448bfd=_0x5c7d16;if(_0x204ea1[_0x448bfd(0x27f)]!==0x0){const [_0x30dc4b,_0x278489,_0x1653c8]=getPerf(_0x204ea1[0x0],!![]);let _0x2f4f84=[];config[_0x448bfd(0x2b5)][_0x448bfd(0x282)](_0x1b19d0=>{const _0x1c1536=_0x448bfd;let _0xd0d7a0=0x0,_0x3f35d8;config[_0x1c1536(0x255)][_0x1c1536(0x282)](_0x497272=>{const _0x3ddded=_0x1c1536;let _0x5e1f13=_0x497272['changes'][_0x3ddded(0x231)](_0x53c6e0=>_0x53c6e0[_0x3ddded(0x193)]==_0x1b19d0[_0x3ddded(0x193)]);if(_0x5e1f13){_0xd0d7a0+=_0x5e1f13[_0x3ddded(0x15c)];if(!_0x3f35d8)_0x3f35d8=_0x5e1f13[_0x3ddded(0x17b)];}}),_0x2f4f84[_0x1c1536(0x15e)]({'coin':_0x1b19d0[_0x1c1536(0x193)],'number':_0xd0d7a0,'initialprice':_0x3f35d8});});const _0x39e3e4={'basecoin':_0x30dc4b,'eur':_0x278489,'usd':_0x1653c8,'coins':_0x2f4f84};if(_0x5cfe66)proxyEmit(_0x448bfd(0x19a),_0x39e3e4);startingBalances=_0x39e3e4;}}function headlessMode(_0x4ac4b4){const _0x1d0ff6=_0x5c7d16;let _0x33e4c0=_0x4ac4b4[_0x1d0ff6(0x2b5)],_0x1a1002=_0x4ac4b4['threshold'],_0x407e32=[];for(let _0x5617b8 of _0x33e4c0){if(_0x5617b8[_0x1d0ff6(0x193)]!=config[_0x1d0ff6(0x1cb)]){if(_0x5617b8[_0x1d0ff6(0x270)]>=_0x1a1002/0x64){if(_0x5617b8[_0x1d0ff6(0x1b7)])_0x407e32[_0x1d0ff6(0x15e)](_0x5617b8);}else{if(_0x5617b8[_0x1d0ff6(0x270)]<=-_0x1a1002/0x64){if(_0x5617b8[_0x1d0ff6(0x1b7)])_0x407e32[_0x1d0ff6(0x15e)](_0x5617b8);}}}}_0x407e32[_0x1d0ff6(0x27f)]>0x0&&placeOrder(_0x407e32);}function notifyBalance(_0x4fc8fb){const _0x5438e9=_0x5c7d16;let _0x2ab8a6=_0x4fc8fb['portfolio'],_0x3e3285=_0x4fc8fb['threshold'],_0x45b936=[];for(let _0x1fbcb9 of _0x2ab8a6){if(_0x1fbcb9[_0x5438e9(0x193)]!=config['basecoin']){if(_0x1fbcb9[_0x5438e9(0x270)]>=_0x3e3285/0x64){if(_0x1fbcb9['valid'])_0x45b936[_0x5438e9(0x15e)](_0x1fbcb9);}else{if(_0x1fbcb9[_0x5438e9(0x270)]<=-_0x3e3285/0x64){if(_0x1fbcb9['valid'])_0x45b936['push'](_0x1fbcb9);}}}}if(_0x45b936[_0x5438e9(0x27f)]>0x0){let _0x159dc0=_0x45b936['map'](_0x23f1bd=>_0x23f1bd[_0x5438e9(0x193)]);_0x159dc0[_0x5438e9(0x22c)]();let _0x302e37=_0x159dc0[_0x5438e9(0x18b)](',\x20');if(!lastCoinsToBalance)logHistory(_0x5438e9(0x18f),_0x5438e9(0x178));lastCoinsToBalance=_0x302e37;}}function symbolToCoin(_0x14be01){const _0x5bef52=_0x5c7d16;let _0x1f5311;if(_0x14be01[_0x5bef52(0x222)]('/'+config[_0x5bef52(0x1cb)]))_0x1f5311=_0x14be01[_0x5bef52(0x1d2)]('/'+config[_0x5bef52(0x1cb)],'');if(_0x14be01['includes'](config['basecoin']+'/'))_0x1f5311=_0x14be01[_0x5bef52(0x1d2)](config[_0x5bef52(0x1cb)]+'/','');return _0x1f5311;}async function unlockOrders(){const _0x5f2112=_0x5c7d16;if(allOrdersPlaced&&lockOrders==ORDERS[_0x5f2112(0x218)]){logger['debug'](_0x5f2112(0x1dc)),lockOrders=ORDERS[_0x5f2112(0x224)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x357404=await getCoins();[currentCoins,currentCoinsAll]=_0x357404,validateOrdersState=_0x5f2112(0x272),persistOpenOrders([]),lockOrders=ORDERS[_0x5f2112(0x212)],logger['debug'](_0x5f2112(0x15a));}}async function validateOrders(_0x3ed9aa){const _0x410054=_0x5c7d16;if(_0x3ed9aa)validateOrdersState=_0x3ed9aa;logger[_0x410054(0x20f)](_0x410054(0x273)+validateOrdersState+_0x410054(0x2b2)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?'ORDERS.UNLOCKING':_0x410054(0x1ec)));let _0x7003e1=[],_0x59249f=config[_0x410054(0x219)]==_0x410054(0x1b4)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x410054(0x218)])return;logger[_0x410054(0x20f)]('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders['forEach'](_0x3ab42b=>{const _0xe7600d=_0x410054;let _0x1157b6=![];_0x3ab42b[_0xe7600d(0x158)]>0x0&&(_0x1157b6=!![]),_0x7003e1[_0xe7600d(0x15e)](_0x1157b6),_0x1157b6&&config[_0xe7600d(0x219)]!=_0xe7600d(0x1b4)&&logHistory(_0xe7600d(0x140),_0xe7600d(0x148)+_0x3ab42b['symbol']+'\x20'+_0x3ab42b['side']+'\x20#'+formatResult(_0x3ab42b['filled'],0x8)+'\x20@'+formatResult(_0x3ab42b[_0xe7600d(0x17b)],0x8));}),_0x7003e1[_0x410054(0x282)]((_0xdf74de,_0x574653)=>{const _0x3d1c0c=_0x410054;if(_0xdf74de)lastOrders[_0x3d1c0c(0x23d)](_0x574653,0x1);}),persistOpenOrders(lastOrders);const _0x58f3f5=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':'balancing\x20resumed';if(validateOrdersState=='initial'){validateOrdersState='ongoing';if(_0x7003e1[_0x410054(0x222)](![])){if(config[_0x410054(0x219)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x410054(0x2a0)){if(_0x7003e1[_0x410054(0x222)](![])){}else{if(allOrdersPlaced){if(config[_0x410054(0x219)]==_0x410054(0x1b4)){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x7003e1['includes'](![])&&(config[_0x410054(0x219)]==_0x410054(0x1b4)?logHistory(_0x410054(0x1a5),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x410054(0x159)](_0x59249f*validateOrderInterval/0xea60)+_0x410054(0x171)+_0x58f3f5):(await cancelOrders(),logHistory(_0x410054(0x1a5),_0x410054(0x1de)+Math[_0x410054(0x159)](_0x59249f*validateOrderInterval/0xea60)+_0x410054(0x171)+_0x58f3f5))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config['ordertype']!=_0x410054(0x1b4))logHistory(_0x410054(0x1a5),_0x410054(0x16b)+_0x58f3f5);await unlockOrders();}}}}}async function cancelOrders(){const _0x263a9c=_0x5c7d16;lastOrders[_0x263a9c(0x282)](async _0x418b70=>{const _0x551f62=_0x263a9c;try{const _0x2b6e6c=await exchange[_0x551f62(0x21c)](_0x418b70[_0x551f62(0x1f2)],_0x418b70[_0x551f62(0x160)]);}catch(_0x14544a){if(_0x14544a[_0x551f62(0x167)]()[_0x551f62(0x222)](_0x551f62(0x14b))){}else await handleError(_0x14544a,_0x551f62(0x26c));}});}async function initCoinResults(_0x153f16){const _0x58419d=_0x5c7d16;_0x153f16?logger[_0x58419d(0x20f)](_0x58419d(0x2a6)+_0x153f16):logger[_0x58419d(0x20f)]('Initializing\x20coin\x20results'),config[_0x58419d(0x2b5)][_0x58419d(0x282)](_0x30a7f6=>{const _0x205e8a=_0x58419d;if(!_0x30a7f6[_0x205e8a(0x246)]&&_0x30a7f6[_0x205e8a(0x193)]!=config[_0x205e8a(0x1cb)]){const _0xea1a93=currentCoins[_0x205e8a(0x231)](_0x5b26b1=>_0x5b26b1[_0x205e8a(0x193)]==_0x30a7f6[_0x205e8a(0x193)]),_0x5843b6=global[_0x205e8a(0x16d)][noslash(_0x30a7f6[_0x205e8a(0x160)])];let _0x177d02=_0xea1a93?_0xea1a93[_0x205e8a(0x15c)]:null,_0x18500c=_0x30a7f6['reverse']?0x1/_0x5843b6:_0x5843b6,_0x356f4f;config['liquidity']['forEach'](_0x1003af=>{const _0x3c59f7=_0x205e8a;!_0x356f4f&&(_0x356f4f=_0x1003af[_0x3c59f7(0x1a3)][_0x3c59f7(0x231)](_0x4f57b9=>_0x4f57b9[_0x3c59f7(0x193)]==_0x30a7f6[_0x3c59f7(0x193)]),_0x356f4f&&(_0x177d02=_0x356f4f[_0x3c59f7(0x15c)],_0x18500c=_0x356f4f[_0x3c59f7(0x17b)]));});let _0x4da14e=dbCoinResults[_0x205e8a(0x211)](_0x205e8a(0x1e2))[_0x205e8a(0x231)]({'coin':_0x30a7f6['coin']})[_0x205e8a(0x22a)]();if(!_0x4da14e){const _0x7dfb24={'coin':_0x30a7f6[_0x205e8a(0x193)],'number':_0x177d02,'breakeven':_0x18500c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x205e8a(0x211)]('coins')[_0x205e8a(0x15e)](_0x7dfb24)['write']();}else{if(_0x153f16&&_0x30a7f6[_0x205e8a(0x193)]==_0x153f16){const _0x540d3c={'coin':_0x30a7f6[_0x205e8a(0x193)],'number':_0x177d02,'breakeven':_0x18500c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x205e8a(0x211)](_0x205e8a(0x1e2))['find']({'coin':_0x30a7f6['coin']})['assign'](_0x540d3c)[_0x205e8a(0x1a8)]();}}}});}async function updateCoinResults(_0x2eaea3,_0x144599=![]){const _0x4dcf11=_0x5c7d16;let _0x21930b,_0x469980,_0x4262fb,_0x2a209c,_0x467cfb,_0x1a35b3,_0xdae653=dbCoinResults[_0x4dcf11(0x211)](_0x4dcf11(0x1e2))[_0x4dcf11(0x231)]({'coin':_0x2eaea3['coin']})[_0x4dcf11(0x22a)](),_0x34b662=![];Object['entries'](_0xdae653)[_0x4dcf11(0x282)](([_0x1a6e7e,_0x22e027])=>{if(_0x22e027==null)_0x34b662=!![];});(!_0xdae653||_0x34b662)&&(await initCoinResults(_0x2eaea3[_0x4dcf11(0x193)]),_0xdae653=dbCoinResults[_0x4dcf11(0x211)](_0x4dcf11(0x1e2))['find']({'coin':_0x2eaea3['coin']})['value']());_0x2eaea3[_0x4dcf11(0x24a)]&&(_0x1a35b3={'filled':_0x2eaea3[_0x4dcf11(0x158)]*_0x2eaea3[_0x4dcf11(0x17b)],'amount':_0x2eaea3[_0x4dcf11(0x158)]*_0x2eaea3[_0x4dcf11(0x17b)],'side':_0x2eaea3[_0x4dcf11(0x23f)]==_0x4dcf11(0x1e7)?_0x4dcf11(0x2a8):'sell','price':0x1/_0x2eaea3['price']},_0x2eaea3={..._0x2eaea3,..._0x1a35b3});_0x144599?_0x469980=_0x2eaea3[_0x4dcf11(0x23f)]=='buy'?_0xdae653['number']+_0x2eaea3[_0x4dcf11(0x158)]:_0xdae653[_0x4dcf11(0x15c)]-_0x2eaea3[_0x4dcf11(0x158)]:_0x469980=await getCoinNumber(_0x2eaea3['coin']);if(_0x2eaea3[_0x4dcf11(0x28e)]&&_0x2eaea3[_0x4dcf11(0x28e)]['currency']==config[_0x4dcf11(0x1cb)])_0x21930b=_0x2eaea3['fee']['cost'];else{if(_0x2eaea3['fee']&&_0x2eaea3['fee'][_0x4dcf11(0x210)]==_0x4dcf11(0x274)&&!_0x144599)_0x21930b=_0x2eaea3['fee'][_0x4dcf11(0x16a)]*global['ticker'][_0x4dcf11(0x274)+config[_0x4dcf11(0x1cb)]];else _0x21930b=defaultFee*_0x2eaea3[_0x4dcf11(0x158)]*_0x2eaea3[_0x4dcf11(0x17b)];}_0x2eaea3['side']=='buy'?(_0x4262fb=_0x469980!=0x0?(_0xdae653[_0x4dcf11(0x16f)]*_0xdae653[_0x4dcf11(0x15c)]+_0x2eaea3[_0x4dcf11(0x17b)]*(_0x469980-_0xdae653[_0x4dcf11(0x15c)])+_0x21930b)/_0x469980:0x0,_0x2a209c=_0xdae653[_0x4dcf11(0x175)]):(_0x4262fb=_0x469980!=0x0?(_0xdae653['breakeven']*_0xdae653[_0x4dcf11(0x15c)]-_0x2eaea3[_0x4dcf11(0x17b)]*(_0xdae653[_0x4dcf11(0x15c)]-_0x469980)+_0x21930b)/_0x469980:0x0,_0x2a209c=_0xdae653['realized']+(_0x2eaea3[_0x4dcf11(0x17b)]-_0xdae653[_0x4dcf11(0x16f)])*_0x2eaea3['filled']);_0x467cfb=(_0x2eaea3['price']-_0x4262fb-_0x21930b/_0x2eaea3[_0x4dcf11(0x158)])*_0x469980;let _0x56e82b={'coin':_0x2eaea3[_0x4dcf11(0x193)],'number':_0x469980,'breakeven':formatResult(_0x4262fb,0x8),'realized':formatResult(_0x2a209c,0x8),'unrealized':formatResult(_0x467cfb,0x8),'fees':formatResult(_0xdae653['fees']+_0x21930b,0x8),'sells':_0x2eaea3['side']==_0x4dcf11(0x1e7)?_0xdae653[_0x4dcf11(0x1d4)]+0x1:_0xdae653[_0x4dcf11(0x1d4)],'buys':_0x2eaea3[_0x4dcf11(0x23f)]==_0x4dcf11(0x2a8)?_0xdae653[_0x4dcf11(0x168)]+0x1:_0xdae653[_0x4dcf11(0x168)]};dbCoinResults['get'](_0x4dcf11(0x1e2))['find']({'coin':_0x2eaea3[_0x4dcf11(0x193)]})[_0x4dcf11(0x1b8)](_0x56e82b)[_0x4dcf11(0x1a8)]();if(!_0x144599){if(_0x2eaea3[_0x4dcf11(0x28e)]&&_0x2eaea3[_0x4dcf11(0x28e)][_0x4dcf11(0x210)]==_0x4dcf11(0x274)){const _0x31d48f=currentCoins[_0x4dcf11(0x231)](_0x24296c=>_0x24296c[_0x4dcf11(0x193)]==_0x4dcf11(0x274));if(_0x31d48f){let _0x345ccb=dbCoinResults[_0x4dcf11(0x211)](_0x4dcf11(0x1e2))[_0x4dcf11(0x231)]({'coin':_0x4dcf11(0x274)})[_0x4dcf11(0x22a)]();_0x56e82b={..._0x345ccb,'number':_0x31d48f[_0x4dcf11(0x15c)]},dbCoinResults[_0x4dcf11(0x211)](_0x4dcf11(0x1e2))[_0x4dcf11(0x231)]({'coin':_0x4dcf11(0x274)})[_0x4dcf11(0x1b8)](_0x56e82b)[_0x4dcf11(0x1a8)]();}}}}async function placeOrder(_0x935875){const _0x141f19=_0x5c7d16,_0x13cd1a=config[_0x141f19(0x219)]==_0x141f19(0x1b4)?_0x141f19(0x1b4):'limit';if(lockOrders==ORDERS[_0x141f19(0x212)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x141f19(0x218)],allOrdersPlaced=![],validateOrdersState=_0x141f19(0x272);let _0x3d4acf=![];lastOrders=[];for(const _0x8af54d of _0x935875){let _0x5ede22,_0x1eba58,_0x326bab,_0x24f397,_0x16bc6f,_0x177784=_0x8af54d[_0x141f19(0x160)];try{const _0x21a189=await exchange[_0x141f19(0x259)](_0x177784);_0x5ede22=_0x8af54d[_0x141f19(0x24a)]?0x1/_0x8af54d[_0x141f19(0x1d0)]:_0x8af54d[_0x141f19(0x1d0)],_0x1eba58=_0x21a189['bid'],_0x326bab=_0x21a189['ask'];_0x8af54d['reverse']?(_0x24f397=_0x8af54d[_0x141f19(0x23f)]==_0x141f19(0x2a8)?_0x141f19(0x1e7):_0x141f19(0x2a8),_0x16bc6f=Math[_0x141f19(0x21b)](_0x8af54d[_0x141f19(0x192)])/_0x5ede22):(_0x24f397=_0x8af54d[_0x141f19(0x23f)],_0x16bc6f=Math[_0x141f19(0x21b)](_0x8af54d[_0x141f19(0x192)]));_0x13cd1a==_0x141f19(0x1f8)&&(config[_0x141f19(0x219)]==_0x141f19(0x18e)&&(_0x5ede22=_0x24f397==_0x141f19(0x2a8)?_0x1eba58:_0x326bab),config[_0x141f19(0x219)]==_0x141f19(0x1e5)&&(_0x5ede22=_0x24f397=='buy'?_0x326bab:_0x1eba58));_0x16bc6f=formatResult(_0x16bc6f,0x8),_0x5ede22=formatResult(_0x5ede22,0x8);const _0x4b147a=_0x24f397=='sell'?config['emojisell']?String[_0x141f19(0x185)]('0x'+config[_0x141f19(0x29f)])+'\x20':'':config[_0x141f19(0x295)]?String['fromCodePoint']('0x'+config[_0x141f19(0x295)])+'\x20':'',_0x137524=_0x13cd1a=='market'?_0x141f19(0x182):config[_0x141f19(0x219)]==_0x141f19(0x18e)?_0x141f19(0x238):_0x141f19(0x1d5),_0x216216=(Math['floor'](Math[_0x141f19(0x1d3)]()*0x35a4e900)+0x5f5e100)[_0x141f19(0x167)]();lastOrders[_0x141f19(0x15e)]({'customId':_0x216216,'symbol':_0x177784,'coin':_0x8af54d[_0x141f19(0x193)],'amount':_0x16bc6f,'price':_0x5ede22,'side':_0x24f397,'reverse':_0x8af54d[_0x141f19(0x24a)],'filled':0x0});if(_0x13cd1a==_0x141f19(0x1b4))logHistory('order',''+_0x4b147a+_0x137524+_0x141f19(0x15f)+_0x177784+'\x20'+_0x24f397+'\x20#'+formatResult(_0x16bc6f,0x8)+'\x20@'+formatResult(_0x5ede22,0x8));else logHistory(_0x141f19(0x140),''+_0x4b147a+_0x137524+_0x141f19(0x15f)+_0x177784+'\x20'+_0x24f397+'\x20#'+formatResult(_0x16bc6f,0x8)+'\x20@'+formatResult(_0x5ede22,0x8));const _0x3bf6c6=await exchange[_0x141f19(0x156)](_0x177784,_0x13cd1a,_0x24f397,_0x16bc6f,_0x5ede22);logger[_0x141f19(0x20f)](_0x141f19(0x1db)+_0x3bf6c6['id']+_0x141f19(0x24f)+_0x216216);const _0x5e8d34=lastOrders[_0x141f19(0x27f)]-0x1;if(_0x5e8d34>=0x0&&lastOrders[_0x5e8d34][_0x141f19(0x26d)]==_0x216216){lastOrders[_0x5e8d34]['orderId']=_0x3bf6c6['id'];if(_0x3bf6c6[_0x141f19(0x2ad)])lastOrders[_0x5e8d34][_0x141f19(0x2ad)]=_0x3bf6c6[_0x141f19(0x2ad)];if(_0x3bf6c6[_0x141f19(0x17b)])lastOrders[_0x5e8d34][_0x141f19(0x17b)]=_0x3bf6c6[_0x141f19(0x17b)];lastOrders[_0x5e8d34]['fee']=_0x3bf6c6[_0x141f19(0x28e)];}if(config[_0x141f19(0x166)]!=0x0){let _0x1253e8=null;if(cooldownTracker[_0x141f19(0x27f)]==config['cooldown']-0x1)_0x1253e8=cooldownTracker[_0x141f19(0x235)]();const _0x95b824=getTimeStamp();cooldownTracker[_0x141f19(0x15e)](_0x95b824);if(_0x1253e8){const _0x576e62=fns['differenceInSeconds'](new Date(_0x95b824),new Date(_0x1253e8));if(_0x576e62<cooldownInterval){logHistory('error',_0x141f19(0x216)+config[_0x141f19(0x166)]+_0x141f19(0x2c8)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x141f19(0x24e)),coolingDown=!![];break;}}}}catch(_0x3e3b59){if(_0x3e3b59[_0x141f19(0x167)]()['includes'](_0x141f19(0x244)))lastOrders=lastOrders[_0x141f19(0x27e)](_0x4df095=>_0x4df095['symbol']!=_0x177784),logHistory('error',_0x141f19(0x14d)+_0x177784),_0x3d4acf=!![];else{if(_0x3e3b59['toString']()[_0x141f19(0x222)](_0x141f19(0x2ab)))lastOrders=lastOrders['filter'](_0x4c4d52=>_0x4c4d52['symbol']!=_0x177784),logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x177784),_0x3d4acf=!![];else{if(_0x3e3b59['toString']()[_0x141f19(0x222)](_0x141f19(0x1cc)))lastOrders=lastOrders[_0x141f19(0x27e)](_0x260ba5=>_0x260ba5[_0x141f19(0x160)]!=_0x177784),logHistory('error','Order\x20is\x20invalid:\x20'+_0x177784),_0x3d4acf=!![];else _0x3e3b59['toString']()[_0x141f19(0x222)](_0x141f19(0x241))?(lastOrders=lastOrders[_0x141f19(0x27e)](_0x390968=>_0x390968[_0x141f19(0x160)]!=_0x177784),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x177784),_0x3d4acf=!![]):(lastOrders=lastOrders['filter'](_0x25a4ab=>_0x25a4ab['symbol']!=_0x177784),await handleError(_0x3e3b59,_0x141f19(0x249),_0x177784));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x141f19(0x27f)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x39cbf4=config[_0x141f19(0x219)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x141f19(0x2bb)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x39cbf4);}else unlockOrders();_0x3d4acf&&config[_0x141f19(0x1ba)]&&await pauseBot(_0x141f19(0x1b2)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x141f19(0x14e)));}else{if(coolingDown)!config['headless']&&logHistory(_0x141f19(0x144),_0x141f19(0x220));else lockOrders!=ORDERS['UNLOCKED']&&(!config['headless']&&(config[_0x141f19(0x219)]=='market'?logHistory(_0x141f19(0x144),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x141f19(0x144),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x5364db){const _0x27c824=_0x5c7d16,_0x4adf10={...config,'openOrders':_0x5364db};let _0x3d92a4=dbConfig[_0x27c824(0x211)]('bot')['find']({'botID':botID})[_0x27c824(0x22a)]();_0x3d92a4&&dbConfig[_0x27c824(0x211)](_0x27c824(0x2be))[_0x27c824(0x231)]({'botID':botID})[_0x27c824(0x1b8)](_0x4adf10)[_0x27c824(0x1a8)]();}function restoreOrders(){const _0x1a786a=_0x5c7d16;let _0x5ca8db;config[_0x1a786a(0x225)]&&allOpenOrders['forEach'](_0x3dd35c=>{const _0x129652=_0x1a786a,_0x379c0b=config[_0x129652(0x225)][_0x129652(0x231)](_0x399b01=>_0x399b01[_0x129652(0x1f2)]==_0x3dd35c['id']);_0x379c0b&&(lastOrders[_0x129652(0x15e)](_0x379c0b),_0x5ca8db=_0x3dd35c[_0x129652(0x2b3)]);});if(lastOrders[_0x1a786a(0x27f)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x13fa0e=new Date()[_0x1a786a(0x1ae)](),_0x5e4d9d=config[_0x1a786a(0x219)]==_0x1a786a(0x1b4)?validateOrderTimeout*0x3c*0x3e8:config[_0x1a786a(0x2bb)]*0x3c*0x3e8;if(_0x5ca8db+_0x5e4d9d>_0x13fa0e){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x57ce35=_0x1a786a;validateOrders(_0x57ce35(0x145));},_0x5ca8db+_0x5e4d9d-_0x13fa0e);}else validateOrders(_0x1a786a(0x145));}}async function sendMetricsTelegram(){const _0xc905af=_0x5c7d16;if(!coinsLoaded){process[_0xc905af(0x263)]({'telegrammsg':_0xc905af(0x1fe)},_0x4a601b=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x12454d='';if(config['showname'])_0x12454d=_0xc905af(0x162)+config['botname']+_0xc905af(0x2bf);else _0x12454d=_0xc905af(0x250)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x1ea487=getKPIs('basecoin'),_0x2adb8c=getKPIs('fiat',config[_0xc905af(0x180)]),_0x570a37=getKPIs(_0xc905af(0x1c5)),_0x148172=getKPIs(_0xc905af(0x149),config[_0xc905af(0x180)]);_0x12454d+=_0xc905af(0x1f9),_0x12454d+=_0x1ea487[_0xc905af(0x2ae)]+_0xc905af(0x256)+_0x1ea487['value']+'\x0a',_0x12454d+=_0x1ea487[_0xc905af(0x19e)]+':\x20'+_0x1ea487[_0xc905af(0x20c)]+'%\x0a',_0x12454d+=_0x2adb8c[_0xc905af(0x2ae)]+_0xc905af(0x256)+_0x2adb8c[_0xc905af(0x22a)]+'\x0a',_0x12454d+=_0x2adb8c[_0xc905af(0x19e)]+':\x20'+_0x2adb8c['change']+'%\x0a',_0x12454d+=_0x570a37[_0xc905af(0x2ae)]+':\x20'+_0x570a37[_0xc905af(0x22a)]+'\x20('+config[_0xc905af(0x1cb)]+')\x0a',_0x12454d+=_0x570a37[_0xc905af(0x19e)]+':\x20'+_0x570a37[_0xc905af(0x20c)]+_0xc905af(0x2b1)+config[_0xc905af(0x1cb)]+')\x0a',_0x12454d+=_0x148172[_0xc905af(0x2ae)]+':\x20'+_0x148172[_0xc905af(0x22a)]+'\x20('+config['fiat']+')\x0a',_0x12454d+=_0x148172['rightTxt']+':\x20'+_0x148172['change']+'%\x20('+config[_0xc905af(0x180)]+')\x0a',_0x12454d+=_0xc905af(0x21a),process[_0xc905af(0x263)]({'telegrammsg':_0x12454d},_0xb14f28=>{});}async function sendPortfolioTelegram(){const _0x7627b5=_0x5c7d16;if(!coinsLoaded){process[_0x7627b5(0x263)]({'telegrammsg':_0x7627b5(0x1fe)},_0x53e29a=>{});return;}let _0x429e8e='';if(config[_0x7627b5(0x2ac)])_0x429e8e=_0x7627b5(0x162)+config[_0x7627b5(0x28d)]+_0x7627b5(0x2c0);else _0x429e8e=_0x7627b5(0x250)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x429e8e+=_0x7627b5(0x1f9),_0x429e8e+=_0x7627b5(0x17a),_0x429e8e+=_0x7627b5(0x142),_0x429e8e+=_0x7627b5(0x17a),currentCoins[_0x7627b5(0x282)](_0x58974d=>{const _0x558e49=_0x7627b5;_0x429e8e+=_0x58974d[_0x558e49(0x193)][_0x558e49(0x1bc)](0x7)+'|\x20'+formatPad(_0x58974d[_0x558e49(0x24b)],0x2,0x6)+'|\x20'+formatPad(_0x58974d[_0x558e49(0x26b)],0x2,0x6)+'|\x20'+formatPad(_0x58974d[_0x558e49(0x270)]*0x64,0x2,0x6)+'\x0a';}),_0x429e8e+='</pre>',process['send']({'telegrammsg':_0x429e8e},_0x10c976=>{});}function formatPad(_0x3b63ca,_0x3fa9e3,_0x3ded13){const _0x101d93=_0x5c7d16,_0x507bb4=formatResultString(_0x3b63ca,_0x3fa9e3);return _0x507bb4?_0x507bb4[_0x101d93(0x14a)](_0x3ded13):''[_0x101d93(0x14a)](_0x3ded13);}function logHistory(_0x291d82,_0x53fdea,_0x39a485=''){const _0x12e3f9=_0x5c7d16;let _0x3a7e7f={'time':getTimeStamp(),'type':_0x291d82,'event':_0x53fdea};dbLogs[_0x12e3f9(0x211)](_0x12e3f9(0x266))[_0x12e3f9(0x15e)](_0x3a7e7f)[_0x12e3f9(0x1a8)]();if(_0x39a485=='')_0x39a485=_0x53fdea;proxyEmit(_0x12e3f9(0x21d),{'log':_0x3a7e7f,'summary':_0x39a485}),process[_0x12e3f9(0x263)]({'telegram':{..._0x3a7e7f,'botname':config[_0x12e3f9(0x28d)],'showname':config[_0x12e3f9(0x2ac)]}},_0x444e11=>{}),logger['full'](''+_0x3a7e7f[_0x12e3f9(0x21d)]);}function emitHistory(_0x3d422f={}){const _0x252531=_0x5c7d16;Object[_0x252531(0x1b6)](_0x3d422f)['length']==0x0&&(_0x3d422f={'type':['order',_0x252531(0x21d)],'event':'','page':0x1});if(_0x3d422f[_0x252531(0x1aa)][_0x252531(0x222)](_0x252531(0x21d)))_0x3d422f[_0x252531(0x1aa)]['splice'](_0x3d422f[_0x252531(0x1aa)][_0x252531(0x288)](_0x252531(0x21d)),0x1,_0x252531(0x144),_0x252531(0x18f),_0x252531(0x1a5));if(dbLogs['has']('logs')[_0x252531(0x22a)]()){let _0x2faa68=dbLogs[_0x252531(0x211)](_0x252531(0x266))[_0x252531(0x27e)](_0x15376=>{const _0xdf80d9=_0x252531;if(_0x3d422f[_0xdf80d9(0x1aa)][_0xdf80d9(0x27f)]==0x0)return![];else return _0x3d422f['type']['includes'](_0x15376[_0xdf80d9(0x1aa)]);})[_0x252531(0x27e)](_0x5b775c=>{const _0x50a44c=_0x252531;if(_0x3d422f[_0x50a44c(0x21d)]=='')return!![];else return _0x5b775c['event'][_0x50a44c(0x251)]()['includes'](_0x3d422f['event'][_0x50a44c(0x251)]());})[_0x252531(0x290)](_0x252531(0x1c9)),_0x37602c=_0x2faa68[_0x252531(0x22a)]()[_0x252531(0x27f)];_0x2faa68=_0x2faa68[_0x252531(0x24a)]()[_0x252531(0x1a4)]((_0x3d422f[_0x252531(0x29a)]-0x1)*logPageSize,_0x3d422f[_0x252531(0x29a)]*logPageSize-0x1)[_0x252531(0x24a)]()['value'](),proxyEmit(_0x252531(0x277),{'logs':_0x2faa68,'total':_0x37602c});}else proxyEmit(_0x252531(0x277),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x182db4){const _0x2f3537=_0x5c7d16;if(dbLogs[_0x2f3537(0x195)](_0x2f3537(0x266))['value']()){const _0xb81f0b=dbLogs[_0x2f3537(0x211)](_0x2f3537(0x266))['sortBy'](_0x2f3537(0x1c9))[_0x2f3537(0x27e)](_0xc6fc55=>{const _0x5a9679=_0x2f3537;return _0xc6fc55[_0x5a9679(0x1aa)]==_0x5a9679(0x140);})[_0x2f3537(0x22a)]();dbLogs[_0x2f3537(0x211)](_0x2f3537(0x266))[_0x2f3537(0x22d)]()['write'](),dbLogs[_0x2f3537(0x211)](_0x2f3537(0x266))['assign'](_0xb81f0b)[_0x2f3537(0x1a8)](),emitHistory(_0x182db4);}}function _0x919f(){const _0x25a83e=['sendMetricsTelegram','debug','currency','get','UNLOCKED','Executing\x20exchange\x20reload','apply','2.3.5','Executed\x20','Exchange','LOCKED','ordertype','</pre>','abs','cancelOrder','event','InvalidNonce','ccxt','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Reset\x20|\x20','includes','apiSecret','UNLOCKING','openOrders','Error:\x20Invalid\x20argument\x20','./logs/','\x20not\x20available','RSA-OAEP','value','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','sort','remove','getCoinNumber()','cloneDeep','emitHistory','find','./version.json',':\x20Bot\x20','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','shift','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','loading-canceled','Limit\x20(high-margin)','highest','storeFiat','Resetting\x20bot\x20history','ExchangeNotAvailable','splice','recreateCoinResults()','side','DDoSProtection','must\x20be\x20greater\x20than\x20minimum\x20amount','privateKey','parse','MIN_NOTIONAL','0\x20-\x20EXECUTION:\x20','excluded','startnumber','startdate','placeOrder()','reverse','distribution','\x20minutes','getDate','\x20hour','\x20|\x20Custom\x20ID:\x20','<b>Bot\x20','toLowerCase','parseISO','\x20|\x20highest:\x20','util','liquidity','\x20:\x20','unlinkSync','./config/','fetchTicker','***','options','BUSD','existsSync','storeHeadless','red_yellow_blue','defaults','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','send','format','41512OENQjx','logs','USDC','symbols','sha256','removed','target','cancelOrders()','customId','\x20|\x20Error\x20details:\x20','.json','delta','spot','initial','1\x20-\x20Validate\x20orders:\x20','BNB','toggleBotMode','args','event-history','remainingSymbols','exchanges','add','\x20exchange','performance','-results.json','filter','length','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','balances','forEach','watchOrders','min','Net\x20','USDT','Transaction\x20detection\x20unblocked','indexOf','uncaughtException','1930338buoYcN','substring','Failed\x20to\x20load\x20coin\x20data\x20for\x20','botname','fee','lowdb','sortBy','orderstatus','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','DAI/','added','emojibuy','log','2\x20-\x20FILLED\x20unknown\x20order:\x20','recent20','bb-settings.json','page','open','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','35116WaEOKh','BTC','emojisell','ongoing','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','set','Crypt','\x20not\x20responding','canceled','Resetting\x20coin\x20results:\x20','2.6.0','buy','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','findIndex','Invalid\x20quantity','showname','amount','leftTxt','startsWith','Bybit','%\x20(','\x20|\x20lock\x20orders:\x20','timestamp','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','portfolio','\x20|\x20Exchange:\x20','offset','constructor','search','loadMarkets','timeout','8815653bMuSoh','1\x20-\x20Handle\x20open\x20orders','bot','\x20metrics:</b>\x20\x0a\x0a','\x20portfolio:</b>\x20\x0a\x0a','HOT/BTC','configuration-stored','cancel','resetHistory','hybrid-crypto-js','exec','bots','\x20orders\x20in\x20less\x20than\x20','584232OrgZnb','function','close','23810jXAlSf','Net\x20effect','showConfig','(((.+)+)+)+$','freeze','Bot\x20','208noDBxT','order','coin-loading-progress','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','apiPassword','error','final','entries','getPortfolio(0)','Order\x20filled:\x20','net-fiat','padStart','OrderNotFound','change24h','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','\x20API\x20key\x20is\x20invalid','starting-balance-','getOpenOrders()','506TYgXaF','status','argv','\x20value','createOrder','/output-000.log','filled','round','2\x20-\x20Orders\x20unlocked','fetchBalance','number','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','push','\x20order:\x20','symbol','fetchOpenOrders','<b>','fetchTickers','none','AuthenticationError','cooldown','toString','buys','-events.json','cost','No\x20more\x20open\x20orders\x20-\x20','ETH','ticker','\x20change','breakeven','getHours','\x20minutes\x20-\x20','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','BNB/','getMonth','realized','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','mkdirSync','Manual\x20balancing\x20required','/backup/','-------------------------------\x0a','price','usd','getPortfolio(2)','toFixed','\x20has\x20a\x2024h\x20drop\x20of\x20','fiat','configuration','Market','pro','2.5.0','fromCodePoint','deleteHistoryAlerts','stringify','date-fns','exchange\x20not\x20reloaded','Saving\x20configuration','join','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated',':\x20timer\x20>','limit-high','warning','getFullYear','getMinutes','trade','coin','Binance','has','limits','-performance.json','toUpperCase','amountToPrecision','starting-balances','max','test','\x20|\x20','rightTxt','\x20-\x20bot\x20not\x20started','data','path','netoffset','changes','slice','success','Fees\x20|\x20currency:\x20','TUSD','write','cancelLoading','type','XEM/BUSD','message','password','getTime','date','running','progress','Avoiding\x20continuous\x20order\x20attempts','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','market','restart','keys','valid','assign','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','headless','Transaction\x20detection\x20blocked','padEnd','percentage','version','getSeconds','/USD','exchange','Portfolio\x20change\x20detected:\x20','threshold','57JMMhbS','net-basecoin','API-key\x20format\x20invalid','Waited\x20','USD','time','1cMttfH','basecoin','InvalidOrder','Fee\x20discount\x20refund\x20detected:\x20','startprice','string','last','colorscheme','replace','random','sells','Limit\x20(low-margin)','timeshift','EUR','Unknown\x20error\x20occured','************','bot-','ID:\x20','1\x20-\x20Unlock\x20orders','Uncaught\x20Exception:','Unfilled\x20order(s)\x20canceled\x20after\x20','watchTransactions','closed','no\x20additional\x20symbols','coins','onepagemode','/EUR','limit-low','split','sell','Initiating\x20exchange\x20reload','490STRhpN','2\x20-\x20FILLED\x20known\x20order:\x20','additional\x20symbols\x20','ORDERS.UNLOCKED','apiKey','getCoins()','eur','decrypt','yyyy/MM/dd','orderId','datetime','585142DnlzjH','\x20>\x20[DEBUG]\x20','enabled','placeOrder','limit','<pre>','Pausing\x20for\x20','YOYOW/','watchTrades','1\x20-\x20FILLED:\x20','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','-config.json','full','total','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','fetchClosedOrders','no\x20open\x20orders','autoliquidity','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','botID','getStartingBalances','5lPeYcj','\x20closed\x20the\x20connection','isEqual','change','yargs/yargs'];_0x919f=function(){return _0x25a83e;};return _0x919f();}async function pauseBot(_0x228675=''){const _0x2490d2=_0x5c7d16,_0x5b21f2=new Date()[_0x2490d2(0x1ae)]();if(!lastErrorShown||_0x5b21f2-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x5b21f2;!lastBotPause?(lastBotPause=_0x5b21f2,consecutivePauses=0x1):(_0x5b21f2-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x2490d2(0x263)]({'stop':'restart'},_0x26e2b5=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x2490d2(0x1ae)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x228675)_0x228675+=_0x2490d2(0x19d);logHistory(_0x2490d2(0x144),_0x228675+_0x2490d2(0x1fa)+pauseBotInterval/0xea60+_0x2490d2(0x24c)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x2676ee=_0x5c7d16;process[_0x2676ee(0x263)]({'stop':'kill'},_0x3a225c=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5ed131,_0xabfb42){const _0x1efdd1=_0x5c7d16;if(_0x5ed131['toString']()[_0x1efdd1(0x222)]('API-key\x20format\x20invalid'))return logHistory(_0x1efdd1(0x144),config[_0x1efdd1(0x1c1)]+_0x1efdd1(0x176)),![];else{if(_0x5ed131[_0x1efdd1(0x167)]()['includes'](_0x1efdd1(0x280)))return logHistory(_0x1efdd1(0x144),config[_0x1efdd1(0x1c1)]+_0x1efdd1(0x236)),![];else{if(_0x5ed131[_0x1efdd1(0x167)]()[_0x1efdd1(0x222)]('AuthenticationError'))return logHistory(_0x1efdd1(0x144),config[_0x1efdd1(0x1c1)]+_0x1efdd1(0x15d)),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),![];else await handleError(_0x5ed131,_0xabfb42);}}}async function handleError(_0x3b93e3,_0x1d929a,_0x3622f3=''){const _0x1ef1bc=_0x5c7d16,_0x374fc3=config['exchange']||_0x1ef1bc(0x217);if(_0x3b93e3['toString']()['includes'](_0x1ef1bc(0x240)))await pauseBot(config[_0x1ef1bc(0x1c1)]+_0x1ef1bc(0x206));else{if(_0x3b93e3[_0x1ef1bc(0x167)]()['includes'](_0x1ef1bc(0x23c)))await pauseBot(config['exchange']+_0x1ef1bc(0x228));else{if(_0x3b93e3[_0x1ef1bc(0x167)]()[_0x1ef1bc(0x222)]('RequestTimeout'))await pauseBot(config['exchange']+_0x1ef1bc(0x2a4));else{if(_0x3b93e3['toString']()[_0x1ef1bc(0x222)](_0x1ef1bc(0x2a9)))await pauseBot(config[_0x1ef1bc(0x1c1)]+_0x1ef1bc(0x20a));else{if(_0x3b93e3[_0x1ef1bc(0x167)]()[_0x1ef1bc(0x222)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory('error',_0x1d929a+_0x1ef1bc(0x2a1)),logHistory(_0x1ef1bc(0x144),_0x1ef1bc(0x292)),await killBot();else{if(_0x3b93e3[_0x1ef1bc(0x167)]()['includes'](_0x1ef1bc(0x21e)))logHistory(_0x1ef1bc(0x144),_0x1d929a+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x1ef1bc(0x144),_0x1ef1bc(0x292)),await killBot();else{if(_0x3b93e3[_0x1ef1bc(0x167)]()[_0x1ef1bc(0x222)](_0x1ef1bc(0x1c6)))logHistory(_0x1ef1bc(0x144),_0x1d929a+_0x1ef1bc(0x19d)+config[_0x1ef1bc(0x1c1)]+_0x1ef1bc(0x14f)),logHistory('error',_0x1ef1bc(0x292)),await killBot();else{if(_0x3b93e3['toString']()[_0x1ef1bc(0x222)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x1d929a+_0x1ef1bc(0x19d)+config['exchange']+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x1ef1bc(0x144),_0x1ef1bc(0x292)),await killBot();else{if(_0x3b93e3[_0x1ef1bc(0x167)]()[_0x1ef1bc(0x222)](_0x1ef1bc(0x165)))logHistory(_0x1ef1bc(0x144),_0x1d929a+_0x1ef1bc(0x19d)+config['exchange']+_0x1ef1bc(0x2b4)),logHistory('error',_0x1ef1bc(0x292)),await killBot();else _0x3b93e3[_0x1ef1bc(0x167)]()[_0x1ef1bc(0x222)]('InsufficientFunds')?logHistory(_0x1ef1bc(0x144),_0x1d929a+_0x1ef1bc(0x172)+_0x3622f3):(logger['full'](_0x1d929a+_0x1ef1bc(0x26e),_0x3b93e3),await pauseBot(_0x1ef1bc(0x1d8)));}}}}}}}}}function formatResult(_0x11c38e,_0x5a1242){const _0x12e786=_0x5c7d16;return parseFloat(_0x11c38e[_0x12e786(0x17e)](_0x5a1242));}function formatResultTruncate(_0x1f1504,_0x321e36){const _0x2239b5=_0x5c7d16;let _0x24ef5f=formatResultString(_0x1f1504,0xa),_0x3d4746=_0x24ef5f[_0x2239b5(0x288)]('.');return _0x3d4746!=-0x1&&(_0x24ef5f=_0x24ef5f['slice'](0x0,_0x3d4746+_0x321e36+0x1)),Number(_0x24ef5f);}function formatResultString(_0x4f8165,_0x9b7f6c){const _0xd7f2d1=_0x5c7d16;let _0x258ad2;if(!(''+_0x4f8165)[_0xd7f2d1(0x222)]('e'))_0x258ad2=+(Math[_0xd7f2d1(0x159)](_0x4f8165+'e+'+_0x9b7f6c)+'e-'+_0x9b7f6c);else{let _0x197c40=(''+_0x4f8165)[_0xd7f2d1(0x1e6)]('e'),_0x45d6cc='';+_0x197c40[0x1]+_0x9b7f6c>0x0&&(_0x45d6cc='+'),_0x258ad2=+(Math[_0xd7f2d1(0x159)](+_0x197c40[0x0]+'e'+_0x45d6cc+(+_0x197c40[0x1]+_0x9b7f6c))+'e-'+_0x9b7f6c);}return Number(_0x258ad2)['toFixed'](_0x9b7f6c);}function getServerTime(){const _0x248c66=_0x5c7d16,_0x4a49ad=new Date();return _0x4a49ad['getFullYear']()+'/'+(_0x4a49ad['getMonth']()+0x1)[_0x248c66(0x167)]()[_0x248c66(0x14a)](0x2,'0')+'/'+_0x4a49ad['getDate']()[_0x248c66(0x167)]()[_0x248c66(0x14a)](0x2,'0')+'\x20'+_0x4a49ad[_0x248c66(0x170)]()[_0x248c66(0x167)]()['padStart'](0x2,'0')+':'+_0x4a49ad[_0x248c66(0x191)]()[_0x248c66(0x167)]()[_0x248c66(0x14a)](0x2,'0')+':'+_0x4a49ad[_0x248c66(0x1bf)]()[_0x248c66(0x167)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x335859=_0x5c7d16,_0x256e19=shiftedTime();return _0x256e19[_0x335859(0x190)]()+'/'+(_0x256e19[_0x335859(0x174)]()+0x1)[_0x335859(0x167)]()[_0x335859(0x14a)](0x2,'0')+'/'+_0x256e19[_0x335859(0x24d)]()['toString']()[_0x335859(0x14a)](0x2,'0')+'\x20'+_0x256e19[_0x335859(0x170)]()[_0x335859(0x167)]()['padStart'](0x2,'0')+':'+_0x256e19[_0x335859(0x191)]()[_0x335859(0x167)]()[_0x335859(0x14a)](0x2,'0')+':'+_0x256e19[_0x335859(0x1bf)]()['toString']()[_0x335859(0x14a)](0x2,'0');}function getDate(){const _0x30e499=_0x5c7d16,_0x1e5a9a=shiftedTime();return _0x1e5a9a[_0x30e499(0x190)]()+'/'+(_0x1e5a9a[_0x30e499(0x174)]()+0x1)[_0x30e499(0x167)]()[_0x30e499(0x14a)](0x2,'0')+'/'+_0x1e5a9a[_0x30e499(0x24d)]()[_0x30e499(0x167)]()[_0x30e499(0x14a)](0x2,'0');}function getHour(){const _0x43ba4f=_0x5c7d16,_0x5560a9=shiftedTime();return _0x5560a9['getHours']()[_0x43ba4f(0x167)]()[_0x43ba4f(0x14a)](0x2,'0');}function sleep(_0x3b6e55){return new Promise(_0x558d4a=>setTimeout(_0x558d4a,_0x3b6e55));}function shiftedTime(){const _0x28e2df=_0x5c7d16,_0x2d31f9=new Date();let _0x5cd9a2=_0x2d31f9;if(config&&config[_0x28e2df(0x1d6)]!==0x0)_0x5cd9a2=fns[_0x28e2df(0x27a)](_0x2d31f9,{'hours':config[_0x28e2df(0x1d6)]});return _0x5cd9a2;}function timer(_0x1c3c78){const _0x12421c=_0x5c7d16,_0x588e57=new Date();!lasttime?console[_0x12421c(0x296)](getTimeStamp()+_0x12421c(0x18d),_0x1c3c78,_0x588e57):console[_0x12421c(0x296)](getTimeStamp()+_0x12421c(0x18d),_0x1c3c78,(_0x588e57-lasttime)/0x3e8),lasttime=_0x588e57;}