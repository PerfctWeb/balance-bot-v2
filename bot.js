const _0x5b24ce=_0x3338;function _0x15f1(){const _0x5699a4=['remove','liquidity','privateKey','\x20change','getCoinNumber()','getHours','full','entries','add','RSA-OAEP','differenceInSeconds','showConfig','changes','number','uncaughtException','fees','createOrder','0\x20-\x20EXECUTION:\x20','balancing\x20resumed','sendMetricsTelegram','amount','apiSecret','valid','orderstatus','getDate','bb-secure.json','sort','length','no\x20additional\x20symbols','showname','apiKey','apply','configuration','order','indexOf','unlinkSync','value','assign','split','openOrders','progress','\x20hour','warning','1\x20-\x20FILLED:\x20','net-basecoin','</pre>','./config/','UNLOCKED','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','getStartingBalances','restart','string','function','yargs/yargs','OrderNotFound','fetchClosedOrders','Invalid\x20API\x20key\x20or\x20secret\x20entered','concat','recreateCoinResults()','exchanges','Initiating\x20exchange\x20reload','status','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','bot','parse','yyyy/MM/dd','map','UNLOCKING','Fee\x20discount\x20refund\x20detected:\x20','coins','placeOrder()','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','canceled','28553oqWFxe','settings','sha256','Unknown\x20error\x20occured','pro','send','closed','isEqual','ordertype','removed','\x20value','data','logs','lowdb','secure','symbols','milliseconds','symbol','-performance.json','***','1\x20-\x20Unlock\x20orders','open','\x20minutes','fetchTicker','forEach','bots','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','no\x20open\x20orders','Resetting\x20bot\x20history','eur','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','\x20minutes\x20-\x20','-------------------------------\x0a','Order\x20filled:\x20','defaults','2\x20-\x20Orders\x20unlocked','argv','filled','getMonth','exchange','initclient','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','mkdirSync','percentage','cancelOrder','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','BNB','ccxt','distribution','176CVsvvX','side','365DyNRvp','4977WRBFcw','startdate','\x20|\x20','/USD','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','\x20|\x20Error\x20details:\x20','-config.json','balancing\x20resumes\x20when\x20cooldown\x20ends','timeout','HOT/BTC','yyyy-MM-dd\x27T\x27HH:mm:ss','loadSymbols()','resetHistory','EUR','coin-loading-progress','headless','delta','balances','Exchange','Transaction\x20detection\x20unblocked','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','filter','join','sortBy','4FNKDzR',',\x20must\x20be\x20a\x203\x20digit\x20number','limit-high','replace','cancelOrders()','last','001','hybrid-crypto-js','average','price','buys','lowdb/adapters/FileSync','Transaction\x20detection\x20blocked','has','Unfilled\x20order(s)\x20canceled\x20after\x20','buy','usd','AuthenticationError','getTime','fetchTickers','cancelLoading','getMinutes','fetchBalance','threshold','Executing\x20exchange\x20reload','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','log','success','NANO/','limit-low','initial','getFullYear','2.3.5','ETH','toLowerCase','recreate','No\x20more\x20open\x20orders\x20-\x20','MIN_NOTIONAL','shift','leftTxt','sells','exec','datetime','ORDERS.LOCKED','<b>Bot\x20','\x20closed\x20the\x20connection','watchTrades','bb-settings.json','basecoin','Error:\x20Invalid\x20argument\x20','added','page','-results.json','orderId','running','API-key\x20format\x20invalid','\x20order:\x20','fromCodePoint','BUSD','version','abs','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','2.5.0','Pausing\x20for\x20','highest','bot-','RequestTimeout','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','format','toFixed','./version.json','(((.+)+)+)+$','\x20not\x20available','cloneDeep','582684PjdGUH','<pre>','decrypt','\x20-\x20bot\x20not\x20started','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','ask','2652rIfLAY','toString','toUpperCase','botname','min','InsufficientFunds','event','close','currency','cooldown','\x20:\x20','trade','timer:','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','change','search','Portfolio\x20change\x20detected:\x20','/output-000.log','ticker','YOYOW/','time','3388TYxGUR','watchOrders','customId','./logs/','2\x20-\x20Validate\x20orders:\x20','getSeconds','stringify','emojibuy','none','coin','change24h','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','startnumber','starting-balance-','target','existsSync','loadMarkets','\x20metrics:</b>\x20\x0a\x0a','breakeven','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','push','enabled','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Net\x20','path','181805bhIMpg','getPortfolio',':\x20Bot\x20','simple','emojisell','performance','limits','InvalidNonce','2\x20-\x20Handled\x20open\x20orders','recent20','timestamp','\x20orders\x20in\x20less\x20than\x20','Manual\x20balancing\x20required','\x20>\x20','Fees\x20|\x20currency:\x20','6eGMQNn','Net\x20effect','error','padStart','sell','excluded','cost','LOCKED','clientOrderId','\x20exchange','args','\x20API\x20secret\x20is\x20invalid','test','placeOrder','event-history','max','exchange\x20reloaded','error\x20while\x20deleting\x20files:\x20','Market','reverse','fee','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','248FPigJa','starting-balances','storeConfiguration','set','createWriteStream','startprice','fetchOpenOrders','portfolio','round','find','debug','getCoins()','Invalid\x20quantity','Reset\x20|\x20','storeHeadless','type','write','timeshift','date','onepagemode','ExchangeNotAvailable','getPortfolio(0)','ongoing','offset','Limit\x20(low-margin)','getPortfolio(1)','rightTxt','exchange\x20not\x20reloaded','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','limit','substring','toggleBotMode','1\x20-\x20Handle\x20open\x20orders','market','getPortfolio(2)','fiat','\x20not\x20responding','3210xckvUq','ORDERS.UNLOCKED','\x20portfolio:</b>\x20\x0a\x0a','net-fiat','loading-canceled','slice','configuration-stored','get','Crypt','remainingSymbols','includes','cancel','\x20>\x20[DEBUG]\x20','total','************','realized','final','watchTransactions','574964jJZewO','netoffset','splice','USDT','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','storeFiat','keys','bid'];_0x15f1=function(){return _0x5699a4;};return _0x15f1();}(function(_0x254c71,_0x8d1920){const _0x4975d=_0x3338,_0x2be2d1=_0x254c71();while(!![]){try{const _0x2b27ea=parseInt(_0x4975d(0x174))/0x1*(-parseInt(_0x4975d(0xb6))/0x2)+parseInt(_0x4975d(0x1d7))/0x3*(-parseInt(_0x4975d(0x18d))/0x4)+parseInt(_0x4975d(0x20c))/0x5*(-parseInt(_0x4975d(0xa0))/0x6)+-parseInt(_0x4975d(0x13f))/0x7*(-parseInt(_0x4975d(0x172))/0x8)+-parseInt(_0x4975d(0x175))/0x9*(-parseInt(_0x4975d(0xdc))/0xa)+parseInt(_0x4975d(0x1f3))/0xb*(parseInt(_0x4975d(0x1dd))/0xc)+parseInt(_0x4975d(0xee))/0xd;if(_0x2b27ea===_0x8d1920)break;else _0x2be2d1['push'](_0x2be2d1['shift']());}catch(_0x445d41){_0x2be2d1['push'](_0x2be2d1['shift']());}}}(_0x15f1,0x19512));const _0x166ee6=function(){let _0x585168=!![];return function(_0x5f5603,_0x1ea7f2){const _0x145a80=_0x585168?function(){const _0x3e1b64=_0x3338;if(_0x1ea7f2){const _0x594f77=_0x1ea7f2[_0x3e1b64(0x115)](_0x5f5603,arguments);return _0x1ea7f2=null,_0x594f77;}}:function(){};return _0x585168=![],_0x145a80;};}(),_0x40ac8d=_0x166ee6(this,function(){const _0x1c2b41=_0x3338;return _0x40ac8d[_0x1c2b41(0x1de)]()['search'](_0x1c2b41(0x1d4))[_0x1c2b41(0x1de)]()['constructor'](_0x40ac8d)[_0x1c2b41(0x1ed)](_0x1c2b41(0x1d4));});_0x40ac8d();'use strict';const ccxt=require(_0x5b24ce(0x170))[_0x5b24ce(0x143)],low=require(_0x5b24ce(0x14c)),FileSync=require(_0x5b24ce(0x198)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x5b24ce(0x194))[_0x5b24ce(0xe4)],util=require('util'),argv=require(_0x5b24ce(0x12b))(process[_0x5b24ce(0x164)][_0x5b24ce(0xe1)](0x2))[_0x5b24ce(0x164)],path=require(_0x5b24ce(0x20b));let exchange;global[_0x5b24ce(0x1f0)]={},global[_0x5b24ce(0x1ec)]={};const exceptions={'binance':['DAI/',_0x5b24ce(0x17e),'XEM/BUSD',_0x5b24ce(0x1a9),_0x5b24ce(0x1f1)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x5b24ce(0x125)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x5b24ce(0x1d3))['version'],botID=process[_0x5b24ce(0x164)][0x2]||_0x5b24ce(0x193),pattern=/^[0-9]{3}$/;!pattern[_0x5b24ce(0xac)](botID)&&(console[_0x5b24ce(0x1a7)](_0x5b24ce(0x1be)+botID+_0x5b24ce(0x18e)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x5b24ce(0x124)+userID+'/':_0x5b24ce(0x124),logspath=userID?_0x5b24ce(0x1f6)+userID+'/':'./logs/',loggerfile=fs[_0x5b24ce(0xba)](logspath+_0x5b24ce(0x1ef),{'flags':'a'});!fs[_0x5b24ce(0x202)](configpath)&&fs[_0x5b24ce(0x16a)](configpath);!fs['existsSync'](logspath)&&fs[_0x5b24ce(0x16a)](logspath);const configfile=configpath+'bot-'+botID+_0x5b24ce(0x17b),logfile=configpath+_0x5b24ce(0x1ce)+botID+'-events.json',performancefile=configpath+_0x5b24ce(0x1ce)+botID+_0x5b24ce(0x151),coinresultsfile=configpath+'bot-'+botID+_0x5b24ce(0x1c1),settingsfile=configpath+_0x5b24ce(0x1bc),securefile=configpath+_0x5b24ce(0x10f),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5b24ce(0x162)]({'logs':[],'version':serverversion})[_0x5b24ce(0xc6)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5b24ce(0x162)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x5b24ce(0x162)]({'bot':[],'version':serverversion})[_0x5b24ce(0xc6)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5b24ce(0x162)]({'coins':[],'version':serverversion})[_0x5b24ce(0xc6)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x5b24ce(0x141),'rsaStandard':_0x5b24ce(0xff)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x47ad1e=>{const _0x4eefab=_0x5b24ce;console[_0x4eefab(0x1a7)](_0x47ad1e);},'simple':_0x517d6a=>{const _0x41c132=_0x5b24ce;console['log'](_0x517d6a),loggerfile[_0x41c132(0xc6)](util[_0x41c132(0x1d1)](_0x517d6a)+'\x0a');},'full':async(_0x4bb8e0,_0x130214='')=>{const _0x2edb45=_0x5b24ce;let _0x10c12b;if(config[_0x2edb45(0x113)])_0x10c12b=getTimeStamp()+':\x20'+config[_0x2edb45(0x1e0)]+_0x2edb45(0x9e)+_0x4bb8e0;else _0x10c12b=getTimeStamp()+_0x2edb45(0x20e)+botID+_0x2edb45(0x9e)+_0x4bb8e0;console['log'](_0x10c12b),loggerfile[_0x2edb45(0xc6)](util[_0x2edb45(0x1d1)](_0x10c12b)+'\x0a'),_0x130214&&(console[_0x2edb45(0x1a7)](_0x130214),loggerfile[_0x2edb45(0xc6)](util[_0x2edb45(0x1d1)](_0x130214)+'\x0a'));},'debug':async(_0x1dc017,_0x5456b3='')=>{const _0xd08cf2=_0x5b24ce;let _0x4413d1;if(config[_0xd08cf2(0x113)])_0x4413d1=getTimeStamp()+':\x20'+config['botname']+_0xd08cf2(0xe8)+_0x1dc017;else _0x4413d1=getTimeStamp()+_0xd08cf2(0x20e)+botID+_0xd08cf2(0xe8)+_0x1dc017;if(debugging)console[_0xd08cf2(0x1a7)](_0x4413d1);loggerfile[_0xd08cf2(0xc6)](util[_0xd08cf2(0x1d1)](_0x4413d1)+'\x0a');if(_0x5456b3){if(debugging)console[_0xd08cf2(0x1a7)](_0x5456b3);loggerfile['write'](util[_0xd08cf2(0x1d1)](_0x5456b3)+'\x0a');}}};process['on'](_0x5b24ce(0x104),function(_0x16172f){const _0xc62eef=_0x5b24ce;logger[_0xc62eef(0x20f)](_0x16172f);});settings[_0x5b24ce(0xc7)]!=config['timeshift']&&updateTimeshift(settings['timeshift']);settings[_0x5b24ce(0xc9)]!=config[_0x5b24ce(0xc9)]&&updateOnepagemode(settings[_0x5b24ce(0xc9)]);process[_0x5b24ce(0x144)]({'started':'running'},_0xd2a2db=>{}),initializeProcessListeners();function proxyEmit(_0x43e3e1,_0xa2a22c=null){const _0x5045d6=_0x5b24ce;process[_0x5045d6(0x144)]({'function':_0x43e3e1,'args':_0xa2a22c},_0x2e2e37=>{});}function initializeProcessListeners(){process['on']('message',_0x13dcf5=>{const _0x1d8a29=_0x3338;switch(Object[_0x1d8a29(0xf4)](_0x13dcf5)[0x0]){case'timeshift':_0x13dcf5[_0x1d8a29(0xc7)]!=undefined&&(settings[_0x1d8a29(0xc7)]=_0x13dcf5[_0x1d8a29(0xc7)],updateTimeshift(settings[_0x1d8a29(0xc7)]));break;case _0x1d8a29(0xc9):_0x13dcf5[_0x1d8a29(0xc9)]!=undefined&&(settings[_0x1d8a29(0xc9)]=_0x13dcf5[_0x1d8a29(0xc9)],updateOnepagemode(settings[_0x1d8a29(0xc9)]));break;case _0x1d8a29(0x158):_0x13dcf5[_0x1d8a29(0x158)]!=undefined&&(bots=JSON['parse'](_0x13dcf5[_0x1d8a29(0x158)]),proxyEmit('bots',bots));break;case _0x1d8a29(0x12a):switch(_0x13dcf5[_0x1d8a29(0x12a)]){case _0x1d8a29(0x168):initclient();break;case _0x1d8a29(0xd6):toggleBotMode();break;case'emitHistory':emitHistory(_0x13dcf5['args']);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x13dcf5[_0x1d8a29(0xaa)]);break;case _0x1d8a29(0x20d):getPortfolio(_0x13dcf5['args']);break;case _0x1d8a29(0xb8):storeConfiguration(_0x13dcf5[_0x1d8a29(0xaa)]);break;case _0x1d8a29(0xc4):storeHeadless(_0x13dcf5['args']);break;case _0x1d8a29(0xf3):storeFiat(_0x13dcf5['args']);break;case _0x1d8a29(0x181):resetHistory();break;case _0x1d8a29(0x127):getStartingBalances(getNormalizedPerformance());break;case _0x1d8a29(0xad):placeOrder(_0x13dcf5[_0x1d8a29(0xaa)]);break;case _0x1d8a29(0x1a1):cancelLoading();break;case _0x1d8a29(0x101):showConfig();break;case _0x1d8a29(0x109):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x14a04b=null,_0x2bfc7c=![]){const _0x3ca777=_0x5b24ce;logger['debug'](_0x3ca777(0xc3)+(_0x14a04b&&_0x14a04b[_0x3ca777(0x111)]>0x0?'additional\x20symbols\x20'+_0x14a04b[_0x3ca777(0x18b)](','):_0x3ca777(0x112))+'\x20|\x20'+(_0x2bfc7c?_0x3ca777(0xb0):_0x3ca777(0xd1)));if(pidBalances)clearTimeout(pidBalances);if(!_0x2bfc7c)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x3ca777(0x114)]!=''&&config['apiKey']!='***'){if(_0x2bfc7c){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x28def6){if(_0x28def6['toString']()[_0x3ca777(0xe6)]('AuthenticationError')){handleErrorNoStop(_0x28def6,_0x3ca777(0x180));return;}else{handleError(_0x28def6,_0x3ca777(0x180));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x14a04b);const _0x48a509=await getCoins();[currentCoins,currentCoinsAll]=_0x48a509,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x3ca777(0x111)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x562b6b=_0x5b24ce;exchangeStopped=!![],await exchange[_0x562b6b(0x1e4)]();}async function reloadExchange(){const _0x1eb03a=_0x5b24ce;logger[_0x1eb03a(0xc0)](_0x1eb03a(0x132));while(lockOrders!=ORDERS[_0x1eb03a(0x125)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x1eb03a(0xc0)](_0x1eb03a(0x1a5)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x5262b9=config[_0x5b24ce(0x167)],_0x18dc9f=config['apiKey'],_0x53588d=config[_0x5b24ce(0x10b)]){const _0xe4b696=_0x5b24ce;exchange&&await stopExchange();!supportedExchanges()[_0xe4b696(0xe6)](_0x5262b9)&&(logHistory(_0xe4b696(0xa2),_0xe4b696(0x134)+_0x5262b9+_0xe4b696(0xa9)),killBot());const _0x5036a=ccxt[_0x5262b9[_0xe4b696(0x1af)]()];exchange=new _0x5036a({'apiKey':_0x18dc9f,'secret':_0x53588d,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0xd8351b=_0x5b24ce;let _0x46ab16=config[_0xd8351b(0x1bd)]==_0xd8351b(0x1ae)?_0xd8351b(0x1ae):'BTC',_0x11367d=!allSymbols[_0xd8351b(0xe6)](_0x46ab16+_0xd8351b(0x178))?'USDT':'USD',_0x9fdbf2=!allSymbols[_0xd8351b(0xe6)](_0x46ab16+'/EUR')?_0x11367d:_0xd8351b(0x182);stablecoins={'eur':{'coin':''+_0x46ab16+_0x9fdbf2,'symbol':_0x46ab16+'/'+_0x9fdbf2},'usd':{'coin':''+_0x46ab16+_0x11367d,'symbol':_0x46ab16+'/'+_0x11367d}};}async function initwsCcxt(_0x3a057a){const _0x228d4a=_0x5b24ce;_0x3a057a==null&&(_0x3a057a=[],config[_0x228d4a(0xbd)][_0x228d4a(0x157)](_0x3607c=>{const _0x105411=_0x228d4a;if(!_0x3607c[_0x105411(0xa5)]&&_0x3607c['coin']!=config['basecoin'])_0x3a057a[_0x105411(0x207)](_0x3607c[_0x105411(0x150)]);}));if(!_0x3a057a[_0x228d4a(0xe6)](stablecoins[_0x228d4a(0x15d)]['symbol']))_0x3a057a[_0x228d4a(0x207)](stablecoins[_0x228d4a(0x15d)]['symbol']);if(!_0x3a057a[_0x228d4a(0xe6)](stablecoins['usd']['symbol']))_0x3a057a[_0x228d4a(0x207)](stablecoins['usd'][_0x228d4a(0x150)]);if(!_0x3a057a[_0x228d4a(0xe6)]('BNB/'+config[_0x228d4a(0x1bd)]))_0x3a057a['push']('BNB/'+config[_0x228d4a(0x1bd)]);loadCoins(_0x3a057a);const _0x22030c=async _0xd4dcf0=>{const _0x5e7851=_0x228d4a,_0x2a46fe=await exchange[_0x5e7851(0x156)](_0xd4dcf0);global[_0x5e7851(0x1f0)][noslash(_0x2a46fe[_0x5e7851(0x150)])]=_0x2a46fe[_0x5e7851(0x192)];while(!![]){if(!botPaused)try{const _0xbcb05f=await exchange[_0x5e7851(0x1bb)](_0xd4dcf0);global[_0x5e7851(0x1f0)][noslash(_0xbcb05f[0x0][_0x5e7851(0x150)])]=_0xbcb05f[0x0][_0x5e7851(0x196)],await sleep(0x3e8);}catch(_0x45c8a2){if(!exchangeStopped)await handleError(_0x45c8a2,'watchTrades',_0xd4dcf0);}else await sleep(0x3e8);}},_0xf73b3b=async _0x2bacab=>{const _0x2b0ba7=_0x228d4a;while(!![]){if(!botPaused)try{const _0x26b0e7=await exchange['fetchTicker'](_0x2bacab);global[_0x2b0ba7(0x1ec)][_0x26b0e7[_0x2b0ba7(0x150)]]=_0x26b0e7[_0x2b0ba7(0x16b)],await sleep(0x3c*0x3e8);}catch(_0xcaa1c0){if(!exchangeStopped)await handleError(_0xcaa1c0,_0x2b0ba7(0x1a0),_0x2bacab);}else await sleep(0x3e8);}},_0x215ad5=async()=>{const _0x11fdb9=_0x228d4a;while(!![]){if(!botPaused)try{const _0x190862=await exchange[_0x11fdb9(0x1f4)]();_0x190862[_0x11fdb9(0x157)](_0x305ddf=>{updateNumberCoinsCcxt(_0x305ddf);});}catch(_0x39f78d){if(!exchangeStopped)await handleError(_0x39f78d,_0x11fdb9(0x1f4));}else await sleep(0x3e8);}};_0x3a057a['forEach'](async _0x401909=>{_0x22030c(_0x401909),_0xf73b3b(_0x401909);}),!wsEventsSet&&(wsEventsSet=!![],_0x215ad5(),watchTransactions());}async function watchTransactions(){const _0x53cd24=_0x5b24ce;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x1ca07d=await getCoins(),[_0x59f27e,_0x4fb3d0]=_0x1ca07d;let _0x4f9277=[];currentCoins[_0x53cd24(0x157)](_0xb8b4b2=>{const _0x477349=_0x53cd24,_0xf57437=_0x59f27e['find'](_0x3b65c0=>_0x3b65c0['coin']==_0xb8b4b2[_0x477349(0x1fc)]);_0xf57437&&(_0xb8b4b2[_0x477349(0x103)]!=_0xf57437[_0x477349(0x103)]&&_0x4f9277[_0x477349(0x207)]({'coin':_0xb8b4b2['coin'],'symbol':_0xb8b4b2[_0x477349(0x150)],'number':Number(formatResult(_0xf57437[_0x477349(0x103)]-_0xb8b4b2[_0x477349(0x103)],0x8))}));});if(_0x4f9277[_0x53cd24(0x111)]==0x1&&!blockTransactionDetection){logger[_0x53cd24(0xc0)](_0x53cd24(0x9f)+lastFees[_0x53cd24(0x1e5)]+'\x20|\x20highest:\x20'+lastFees[_0x53cd24(0x1cd)]);if(!lastFees[_0x53cd24(0x1e5)]||_0x4f9277[0x0][_0x53cd24(0x1fc)]!=lastFees[_0x53cd24(0x1e5)]||_0x4f9277[0x0]['number']>lastFees['highest']){let _0x2c2cc9;if(_0x4f9277[0x0][_0x53cd24(0x1fc)]!=config[_0x53cd24(0x1bd)]){let _0x5a048c=global['ticker'][noslash(_0x4f9277[0x0][_0x53cd24(0x150)])];_0x2c2cc9=_0x4f9277[0x0]['reverse']?0x1/_0x5a048c:_0x5a048c;}else _0x2c2cc9=0x1;_0x4f9277[0x0][_0x53cd24(0x196)]=_0x2c2cc9,delete _0x4f9277[0x0][_0x53cd24(0x150)];let _0x50b572=[],_0x8e383c=[...config[_0x53cd24(0xf7)]]||[],_0x295239=config[_0x53cd24(0xf7)];_0x8e383c['sort']((_0x262a45,_0x3e5c6b)=>_0x262a45[_0x53cd24(0xc8)]>_0x3e5c6b[_0x53cd24(0xc8)]?-0x1:_0x3e5c6b['date']>_0x262a45[_0x53cd24(0xc8)]?0x1:0x0);const _0x45e7b1=getDate();if(_0x8e383c[0x0]){const _0x33d4e6=fns[_0x53cd24(0x136)](_0x8e383c[0x0][_0x53cd24(0xc8)],'yyyy/MM/dd',new Date()),_0x40c2e3=fns[_0x53cd24(0x136)](_0x45e7b1,_0x53cd24(0x137),new Date());if(fns['isEqual'](_0x33d4e6,_0x40c2e3)){_0x50b572=_0x8e383c[0x0][_0x53cd24(0x102)];const _0x53e21a=_0x50b572[_0x53cd24(0xbf)](_0x60914e=>_0x60914e[_0x53cd24(0x1fc)]==_0x4f9277[0x0][_0x53cd24(0x1fc)]);_0x53e21a?_0x53e21a[_0x53cd24(0x103)]+=_0x4f9277[0x0]['number']:_0x50b572['push'](_0x4f9277[0x0]);const _0x4d5b28=_0x295239['find'](_0x25acb5=>_0x25acb5[_0x53cd24(0xc8)]==_0x45e7b1);_0x4d5b28[_0x53cd24(0x102)]=_0x50b572;}else _0x295239['push']({'date':_0x45e7b1,'changes':[_0x4f9277[0x0]]});}const _0x3ce9ab=_0x295239['find'](_0x5d8a2e=>_0x5d8a2e[_0x53cd24(0xc8)]==_0x45e7b1);if(_0x3ce9ab){let _0x38ffde=!![];_0x3ce9ab[_0x53cd24(0x102)]['forEach'](_0x56ed3c=>{const _0x8a8dcb=_0x53cd24;if(_0x56ed3c[_0x8a8dcb(0x103)]!=0x0)_0x38ffde=![];}),_0x38ffde&&(_0x295239=_0x295239[_0x53cd24(0x18a)](_0x5f01ac=>{const _0x5ede70=_0x53cd24;return _0x5f01ac[_0x5ede70(0xc8)]!=_0x45e7b1;}));}let _0x69cc03=dbConfig[_0x53cd24(0xe3)](_0x53cd24(0x135))[_0x53cd24(0xbf)]({'botID':botID})['value']();_0x69cc03&&(dbConfig[_0x53cd24(0xe3)](_0x53cd24(0x135))[_0x53cd24(0xbf)]({'botID':botID})[_0x53cd24(0x11b)]({'liquidity':_0x295239})[_0x53cd24(0xc6)](),config[_0x53cd24(0xf7)]=_0x295239),logHistory(_0x53cd24(0x1a8),_0x53cd24(0x1ee)+Math[_0x53cd24(0x1c9)](_0x4f9277[0x0][_0x53cd24(0x103)])+'\x20'+_0x4f9277[0x0][_0x53cd24(0x1fc)]+'\x20'+(_0x4f9277[0x0][_0x53cd24(0x103)]>0x0?_0x53cd24(0x1bf):_0x53cd24(0x148))+_0x53cd24(0x206)),proxyEmit(_0x53cd24(0x116),emittedConfiguration());}else logger['debug'](_0x53cd24(0x13a)+Math[_0x53cd24(0x1c9)](_0x4f9277[0x0][_0x53cd24(0x103)])+'\x20'+_0x4f9277[0x0]['coin']+'\x20'+(_0x4f9277[0x0][_0x53cd24(0x103)]>0x0?'added':_0x53cd24(0x148)));transactionDetected=!![],currentCoins=_0x59f27e,currentCoinsAll=_0x4fb3d0;}await sleep(watchTransactionsInterval);}catch(_0x5b0785){if(!exchangeStopped)await handleError(_0x5b0785,_0x53cd24(0xed));}else await sleep(0x3e8);}}function _0x3338(_0x5e4957,_0xbb3482){const _0x2e59f8=_0x15f1();return _0x3338=function(_0x40ac8d,_0x166ee6){_0x40ac8d=_0x40ac8d-0x97;let _0x15f100=_0x2e59f8[_0x40ac8d];return _0x15f100;},_0x3338(_0x5e4957,_0xbb3482);}async function loadSymbols(_0xc743bf=config[_0x5b24ce(0x167)],_0x3bff29=![]){const _0x4e016c=_0x5b24ce;if(allSymbols&&!_0x3bff29)return;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x4e016c(0x14e)][_0x4e016c(0x18a)](_0x1fff40=>{const _0xf97771=_0x4e016c;let _0x134d0b=![];const _0x47ba91=exceptions[_0xc743bf[_0xf97771(0x1af)]()]||[];return _0x47ba91[_0xf97771(0x157)](_0x361ec5=>{const _0x3a6c4e=_0xf97771;if(_0x1fff40[_0x3a6c4e(0xe6)](_0x361ec5))_0x134d0b=!![];}),!_0x134d0b;});}catch(_0x136c4b){throw _0x136c4b;}}async function initclient(){const _0x2c7ca5=_0x5b24ce;emitLoadingProgress(),proxyEmit('configuration',emittedConfiguration()),proxyEmit(_0x2c7ca5(0x131),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5f2403=getNormalizedPerformance();emitPerformance(_0x5f2403),await getStartingBalances(_0x5f2403);}async function toggleBotMode(){const _0xe408c0=_0x5b24ce;let _0x1499e4=dbConfig[_0xe408c0(0xe3)](_0xe408c0(0x135))[_0xe408c0(0xbf)]({'botID':botID})[_0xe408c0(0x11a)]();if(_0x1499e4){const _0x53ee6a=!_0x1499e4[_0xe408c0(0x184)];dbConfig[_0xe408c0(0xe3)](_0xe408c0(0x135))[_0xe408c0(0xbf)]({'botID':botID})['assign']({'headless':_0x53ee6a})[_0xe408c0(0xc6)](),config['headless']=_0x53ee6a,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3bcd5c=_0x5b24ce;process[_0x3bcd5c(0x144)]({'updatebotmanager':!![]},_0x287bf6=>{});}async function loadCoins(_0x48642e){const _0x1a6450=_0x5b24ce;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x1d1ccd,_0x41124b=0x0,_0x125cc5=0x0;_0x48642e[_0x1a6450(0x157)](_0x4c0515=>{const _0x3a209c=_0x1a6450;loading['remainingSymbols'][_0x3a209c(0x207)](_0x4c0515);}),loadingCanceled=![];let _0x56463e=![];while(_0x1d1ccd!=_0x48642e[_0x1a6450(0x111)]){_0x1d1ccd=0x0,_0x48642e[_0x1a6450(0x157)](_0x1e8a26=>{const _0xcd1559=_0x1a6450;global[_0xcd1559(0x1f0)][noslash(_0x1e8a26)]&&(loading[_0xcd1559(0xe5)]=loading[_0xcd1559(0xe5)][_0xcd1559(0x18a)](_0x980a7d=>_0x980a7d!=_0x1e8a26),_0x1d1ccd++);}),loading['progress']=Math[_0x1a6450(0xbe)](_0x1d1ccd/_0x48642e['length']*0x64);loading[_0x1a6450(0x11e)]!=0x64&&(_0x125cc5>0x1e*0x5&&(loading[_0x1a6450(0x17d)]=!![],emitLoadingProgress()),_0x125cc5>0x78*0x5&&!_0x56463e&&(loading[_0x1a6450(0xe7)]=!![],emitLoadingProgress(),_0x56463e=!![],logHistory(_0x1a6450(0xa2),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x1a6450(0xe5)][_0x1a6450(0x18b)](',\x20')+_0x1a6450(0x1da)),logHistory(_0x1a6450(0xa2),_0x1a6450(0x1cc)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{process['send']({'stop':'restart'},_0x4951f8=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x1a6450(0xe7)]=!![],emitLoadingProgress();break;}else _0x1d1ccd!=_0x41124b&&(_0x41124b=_0x1d1ccd,emitLoadingProgress()),_0x125cc5++,await sleep(0xc8);}_0x1d1ccd==_0x48642e[_0x1a6450(0x111)]&&(coinsLoaded=!![],process[_0x1a6450(0x144)]({'status':_0x1a6450(0x208),'live':_0x1a6450(0x1c3)},_0x1c0839=>{}),_0x56463e&&logHistory(_0x1a6450(0x1a8),_0x1a6450(0x209)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x1d1cc0=_0x5b24ce;proxyEmit(_0x1d1cc0(0x116),{...emittedConfiguration(),'configstate':_0x1d1cc0(0xe0)});}function emitLoadingProgress(){const _0x4dcb9e=_0x5b24ce;proxyEmit(_0x4dcb9e(0x183),loading);}async function getFiat(){const _0x5c955e=_0x5b24ce;let _0x1fd600=global[_0x5c955e(0x1f0)][stablecoins[_0x5c955e(0x15d)][_0x5c955e(0x1fc)]],_0x283578=global[_0x5c955e(0x1f0)][stablecoins[_0x5c955e(0x19d)][_0x5c955e(0x1fc)]];return{'eur':Number(_0x1fd600),'usd':Number(_0x283578)};}function capitalize(_0x166073){const _0x70e3d1=_0x5b24ce;return _0x166073[_0x70e3d1(0xd5)](0x0,0x1)[_0x70e3d1(0x1df)]()+_0x166073['substring'](0x1);}function supportedExchanges(){const _0x355d49=_0x5b24ce,_0x53761e=['ws','fetchTickers',_0x355d49(0x156),_0x355d49(0x1bb),_0x355d49(0x1f4),_0x355d49(0x16c),_0x355d49(0x106),'fetchOpenOrders',_0x355d49(0x12d),_0x355d49(0x1a3)];let _0x4dba81=[],_0x2113a4=[],_0x11d09d=ccxt['exchanges'];_0x11d09d['forEach'](_0x1635e0=>{try{const _0xbe3175=new ccxt[_0x1635e0]();if(_0xbe3175['has']['ws'])_0x2113a4['push'](_0xbe3175);}catch(_0x345b14){}}),_0x2113a4['forEach'](_0x1e9fd9=>{const _0x161cd1=_0x355d49;let _0x58c661=0x0;_0x53761e[_0x161cd1(0x157)](_0x4042e2=>{const _0xc57491=_0x161cd1;_0x4042e2 in _0x1e9fd9['has']&&_0x1e9fd9[_0xc57491(0x19a)][_0x4042e2]&&_0x58c661++;}),_0x58c661==_0x53761e[_0x161cd1(0x111)]&&_0x4dba81['push'](capitalize(_0x1e9fd9['id']));});let _0x1ede55=[];return _0x11d09d[_0x355d49(0x157)](_0x441349=>{const _0x223881=_0x355d49;_0x441349=capitalize(_0x441349);if(!_0x4dba81[_0x223881(0xe6)](_0x441349))_0x1ede55['push'](_0x441349);}),_0x4dba81;}function setStartDatePerformance(){const _0x504847=_0x5b24ce;if(config&&config[_0x504847(0xf7)][0x0][_0x504847(0x102)][_0x504847(0x111)]!=0x0){const _0x3055ef=config[_0x504847(0xf7)][0x0]['changes'];dbPerformance['get'](_0x504847(0x14a))[_0x504847(0xbf)]({'date':config['startdate']})['assign']({'coins':_0x3055ef})[_0x504847(0xc6)]();}}async function recreateCoinResults(){const _0x2a2ee4=_0x5b24ce;let _0x14e1b2,_0xb012b=[];try{const _0x5554af=fns[_0x2a2ee4(0x1d1)](fns['parseISO'](config[_0x2a2ee4(0x176)][_0x2a2ee4(0x190)](/\//g,'-')),_0x2a2ee4(0x17f));for(const _0x390428 of currentCoins){if(_0x390428[_0x2a2ee4(0x1fc)]!=config[_0x2a2ee4(0x1bd)]){let _0x4a94f6=0x0,_0x41103c,_0x3cf3eb;_0x14e1b2=await getAllEventOrders(_0x390428[_0x2a2ee4(0x150)]);if(_0x14e1b2[_0x2a2ee4(0x111)]>0x0)_0x14e1b2[_0x2a2ee4(0x157)](_0x2066c1=>{const _0x205623=_0x2a2ee4,_0x31ca24=_0x390428[_0x205623(0x150)]['includes'](config[_0x205623(0x1bd)]+'/');_0xb012b[_0x205623(0x207)]({'datetime':_0x2066c1['datetime'],'coin':_0x390428[_0x205623(0x1fc)],'symbol':_0x390428['symbol'],'side':_0x2066c1['side'],'reverse':_0x31ca24,'amount':formatResult(_0x2066c1['filled'],0x8),'filled':formatResult(_0x2066c1[_0x205623(0x165)],0x8),'price':formatResult(_0x2066c1[_0x205623(0x196)],0x8)}),_0x4a94f6=_0x2066c1[_0x205623(0x173)]==_0x205623(0x19c)?_0x4a94f6+_0x2066c1[_0x205623(0x165)]:_0x4a94f6-_0x2066c1['filled'];if(!_0x3cf3eb)_0x3cf3eb=_0x2066c1[_0x205623(0x196)];});_0x41103c=_0x390428[_0x2a2ee4(0x103)]-_0x4a94f6;let _0x2c73f7;config['liquidity'][_0x2a2ee4(0x157)](_0x7f170e=>{const _0x5d6341=_0x2a2ee4;!_0x2c73f7&&(_0x2c73f7=_0x7f170e['changes'][_0x5d6341(0xbf)](_0x2d0388=>_0x2d0388['coin']==_0x390428['coin']),_0x2c73f7&&(_0x41103c=_0x2c73f7['number'],_0x3cf3eb=_0x2c73f7[_0x5d6341(0x196)]));});let _0x423f2c=dbCoinResults['get'](_0x2a2ee4(0x13b))[_0x2a2ee4(0xbf)]({'coin':_0x390428[_0x2a2ee4(0x1fc)]})[_0x2a2ee4(0x11a)]();_0x423f2c={'coin':_0x390428[_0x2a2ee4(0x1fc)],'number':_0x41103c,'breakeven':_0x3cf3eb,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x2a2ee4(0xe3)](_0x2a2ee4(0x13b))[_0x2a2ee4(0xbf)]({'coin':_0x390428[_0x2a2ee4(0x1fc)]})[_0x2a2ee4(0x11b)](_0x423f2c)['write']();}}_0xb012b[_0x2a2ee4(0x110)]((_0x20911e,_0x22b794)=>_0x20911e[_0x2a2ee4(0x1b7)]>_0x22b794[_0x2a2ee4(0x1b7)]?0x1:_0x22b794['datetime']>_0x20911e['datetime']?-0x1:0x0);let _0x916258=0x0;for(let _0xa4b1b2 of _0xb012b){await updateCoinResults(_0xa4b1b2,!![]);}}catch(_0x3c6732){await handleError(_0x3c6732,_0x2a2ee4(0x130));}}async function getAllEventOrders(_0x596889){const _0x1a2fcc=_0x5b24ce;let _0x581e26=[],_0x2fb4c6=dbLogs[_0x1a2fcc(0xe3)](_0x1a2fcc(0x14b))['filter'](_0x360e9f=>{const _0x3b2bd7=_0x1a2fcc,_0x5b94f6=_0x360e9f[_0x3b2bd7(0x1e3)][_0x3b2bd7(0x1af)]();return _0x5b94f6[_0x3b2bd7(0xe6)](_0x596889[_0x3b2bd7(0x1af)]())&&(_0x5b94f6[_0x3b2bd7(0xe6)]('market')&&_0x5b94f6['includes'](_0x3b2bd7(0x117))||_0x5b94f6['includes'](_0x3b2bd7(0x165))&&_0x5b94f6[_0x3b2bd7(0xe6)]('order'));})[_0x1a2fcc(0x18c)](_0x1a2fcc(0x1f2))['value']();return _0x2fb4c6[_0x1a2fcc(0x157)](_0x270e76=>{const _0xf91e53=_0x1a2fcc,_0x305629=_0x270e76[_0xf91e53(0x1e3)][_0xf91e53(0xe6)]('sell')?_0xf91e53(0xa4):_0xf91e53(0x19c),_0x3b3d87=/#([0-9]|\.)+\s/i,_0x12b7fa=Number(_0x3b3d87[_0xf91e53(0x1b6)](_0x270e76[_0xf91e53(0x1e3)])[0x0][_0xf91e53(0xe1)](0x1)),_0x2d6201=/@([0-9]|\.)+$/i,_0x351e40=Number(_0x2d6201['exec'](_0x270e76[_0xf91e53(0x1e3)])[0x0][_0xf91e53(0xe1)](0x1));_0x581e26[_0xf91e53(0x207)]({'datetime':_0x270e76[_0xf91e53(0x1f2)],'coin':symbolToCoin(_0x596889),'symbol':_0x596889,'side':_0x305629,'amount':_0x12b7fa,'filled':_0x12b7fa,'price':_0x351e40});}),_0x581e26;}async function getAllOrders(_0x1d092b,_0xd39d64){const _0x1ecda5=_0x5b24ce;let _0x3dc7b3=[];while(_0xd39d64<exchange[_0x1ecda5(0x14f)]()){const _0x9299a=0x1f4,_0x5dae9c=await exchange[_0x1ecda5(0x12d)](_0x1d092b,_0xd39d64,_0x9299a);if(_0x5dae9c[_0x1ecda5(0x111)])_0xd39d64=_0x5dae9c[_0x5dae9c['length']-0x1]['timestamp']+0x1,_0x3dc7b3=_0x3dc7b3[_0x1ecda5(0x12f)](_0x5dae9c);else break;}return _0x3dc7b3;}async function validate24hChanges(){const _0x5eba03=_0x5b24ce;for(const _0x18eba of currentCoins){if(_0x18eba[_0x5eba03(0x1fc)]!=config[_0x5eba03(0x1bd)]){let _0x3d2485;_0x18eba[_0x5eba03(0xb3)]?_0x3d2485=formatResult((0x1/(global[_0x5eba03(0x1ec)][noslash(_0x18eba[_0x5eba03(0x150)])]/0x64+0x1)-0x1)*0x64,0x3):_0x3d2485=global['change'][noslash(_0x18eba['symbol'])],_0x3d2485<config[_0x5eba03(0x1fd)]&&(logHistory(_0x5eba03(0xa2),_0x18eba[_0x5eba03(0x1fc)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x3d2485+'%'),logHistory(_0x5eba03(0xa2),_0x5eba03(0x1eb)),logHistory(_0x5eba03(0xa2),_0x5eba03(0x13d)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x2c1841,_0x4dc865){const _0x2d8ead=_0x5b24ce;if(!_0x2c1841)return!![];const _0x33b3f9=_0x4dc865['split']('.'),_0x4d68c2=_0x2c1841[_0x2d8ead(0x11c)]('.');for(var _0xa7cc3d=0x0;_0xa7cc3d<_0x4d68c2[_0x2d8ead(0x111)];_0xa7cc3d++){const _0x370df9=~~_0x4d68c2[_0xa7cc3d],_0x315fc0=~~_0x33b3f9[_0xa7cc3d];if(_0x370df9<_0x315fc0)return!![];if(_0x370df9>_0x315fc0)return![];}return![];}async function oneTimeMigration(){const _0x2c2b5b=_0x5b24ce;let _0x1c038a=dbLogs[_0x2c2b5b(0xe3)](_0x2c2b5b(0x1c8))[_0x2c2b5b(0x11a)]();if(isOlderVersion(_0x1c038a,'2.3.5')){let _0x2b5379=[];const _0x3eb26f=dbLogs[_0x2c2b5b(0xe3)](_0x2c2b5b(0x14b))[_0x2c2b5b(0x11a)]();_0x3eb26f['forEach'](_0x136386=>{const _0xb2f5ed=_0x2c2b5b;_0x2b5379[_0xb2f5ed(0x207)]({'time':_0x136386['time'],'type':_0x136386[_0xb2f5ed(0xc5)],'event':_0x136386[_0xb2f5ed(0x1e3)]});}),dbLogs[_0x2c2b5b(0xe3)](_0x2c2b5b(0x14b))['assign'](_0x2b5379)[_0x2c2b5b(0xc6)]();}let _0x431835=dbConfig[_0x2c2b5b(0xe3)]('version')[_0x2c2b5b(0x11a)]();if(isOlderVersion(_0x431835,_0x2c2b5b(0x1ad))){let _0x4f1e72=dbConfig[_0x2c2b5b(0xe3)](_0x2c2b5b(0x135))[_0x2c2b5b(0xbf)]({'botID':botID})[_0x2c2b5b(0x11a)]();if(_0x4f1e72){let _0x2c6982=[];_0x4f1e72[_0x2c2b5b(0xbd)]['forEach'](_0x3d61ae=>{const _0x10ed0c=_0x2c2b5b;_0x2c6982[_0x10ed0c(0x207)]({'coin':_0x3d61ae[_0x10ed0c(0x1fc)],'number':_0x3d61ae[_0x10ed0c(0x1ff)],'price':_0x3d61ae[_0x10ed0c(0xbb)]}),delete _0x3d61ae[_0x10ed0c(0x1ff)],delete _0x3d61ae[_0x10ed0c(0xbb)];});if(_0x2c6982['length']!==0x0)fs['writeFile'](configbackuppath+(_0x2c2b5b(0x200)+botID+'.json'),JSON[_0x2c2b5b(0x1f9)](_0x2c6982,null,0x4),function(_0x4d114d){if(_0x4d114d){}});const _0x342e45=(_0x211626,_0x53e42b)=>{const _0x552fd3=_0x2c2b5b;let _0xf3b6cd=[];_0x53e42b[_0x552fd3(0x157)](_0x193282=>{const _0x5f1580=_0x552fd3,_0x51a04e=_0x211626[_0x5f1580(0xbf)](_0x34caba=>_0x34caba[_0x5f1580(0x1fc)]==_0x193282['coin']);if(!_0x51a04e)_0xf3b6cd[_0x5f1580(0x207)](_0x193282);});let _0x4463e2=[];return _0x211626[_0x552fd3(0x157)](_0x24b734=>{const _0x3dc8f8=_0x552fd3,_0x3fe343=_0x53e42b[_0x3dc8f8(0xbf)](_0x4ff9c0=>_0x4ff9c0[_0x3dc8f8(0x1fc)]==_0x24b734[_0x3dc8f8(0x1fc)]);if(!_0x3fe343||_0x3fe343[_0x3dc8f8(0x103)]==0x0&&_0x24b734[_0x3dc8f8(0x103)]!=0x0)_0x4463e2[_0x3dc8f8(0x207)](_0x24b734);}),{'missingDay1':_0xf3b6cd,'notInDay2':_0x4463e2};},_0x4d6dc3=dbPerformance[_0x2c2b5b(0xe3)](_0x2c2b5b(0x14a))[_0x2c2b5b(0x1d6)]()[_0x2c2b5b(0x11a)]();if(_0x4d6dc3[_0x2c2b5b(0x111)]>0x1){const {missingDay1:_0x54d2f9,notInDay2:_0x2eef30}=_0x342e45(_0x2c6982,_0x4d6dc3[0x1]['coins']);_0x2c6982=[..._0x2c6982,..._0x54d2f9],_0x2eef30[_0x2c2b5b(0x157)](_0x33b34b=>{const _0x116e79=_0x2c2b5b;let _0x1401fc=_0x2c6982['findIndex'](_0x5e2dc9=>_0x5e2dc9[_0x116e79(0x1fc)]==_0x33b34b[_0x116e79(0x1fc)]);_0x1401fc!=-0x1&&_0x2c6982[_0x116e79(0xf0)](_0x1401fc,0x1);});}_0x2c6982[_0x2c2b5b(0x110)]((_0x4e330e,_0x3e0a6f)=>_0x4e330e[_0x2c2b5b(0x1fc)]>_0x3e0a6f[_0x2c2b5b(0x1fc)]?0x1:_0x3e0a6f[_0x2c2b5b(0x1fc)]>_0x4e330e[_0x2c2b5b(0x1fc)]?-0x1:0x0);let _0x1025b6=[{'date':_0x4f1e72['startdate'],'changes':_0x2c6982}];_0x4d6dc3[_0x2c2b5b(0x111)]>0x2&&_0x4d6dc3[_0x2c2b5b(0x157)]((_0x1bed9f,_0x233072)=>{const _0x4e8584=_0x2c2b5b;if(_0x233072>0x0&&_0x233072<_0x4d6dc3[_0x4e8584(0x111)]-0x1){const {missingDay1:_0x4c9953,notInDay2:_0x2d9ccd}=_0x342e45(_0x4d6dc3[_0x233072][_0x4e8584(0x13b)],_0x4d6dc3[_0x233072+0x1][_0x4e8584(0x13b)]);_0x2c6982=[],(_0x4c9953[_0x4e8584(0x111)]!=0x0||_0x2d9ccd[_0x4e8584(0x111)]!=0x0)&&(_0x4c9953[_0x4e8584(0x111)]!=0x0&&_0x2c6982['push'](..._0x4c9953),_0x2d9ccd[_0x4e8584(0x111)]!=0x0&&(_0x2d9ccd[_0x4e8584(0x157)](_0x46f4eb=>{const _0x5e243a=_0x4e8584;_0x46f4eb[_0x5e243a(0x103)]=-_0x46f4eb[_0x5e243a(0x103)];}),_0x2c6982[_0x4e8584(0x207)](..._0x2d9ccd)),_0x2c6982[_0x4e8584(0x110)]((_0x5bda87,_0xd9719f)=>_0x5bda87['coin']>_0xd9719f[_0x4e8584(0x1fc)]?0x1:_0xd9719f[_0x4e8584(0x1fc)]>_0x5bda87[_0x4e8584(0x1fc)]?-0x1:0x0),_0x1025b6[_0x4e8584(0x207)]({'date':_0x4d6dc3[_0x233072+0x1][_0x4e8584(0xc8)],'changes':_0x2c6982}));}}),dbConfig[_0x2c2b5b(0xe3)]('bot')[_0x2c2b5b(0xbf)]({'botID':botID})[_0x2c2b5b(0x11b)]({..._0x4f1e72,'liquidity':_0x1025b6})[_0x2c2b5b(0xc6)]();}}if(isOlderVersion(_0x431835,'2.6.0')){let _0x53c7c1=dbConfig[_0x2c2b5b(0xe3)](_0x2c2b5b(0x135))['find']({'botID':botID})[_0x2c2b5b(0x11a)]();if(_0x53c7c1){const _0x2fbdc7=_0x53c7c1[_0x2c2b5b(0x167)],_0x51c7f2=_0x2fbdc7?capitalize(_0x2fbdc7):'Binance';dbConfig[_0x2c2b5b(0xe3)](_0x2c2b5b(0x135))[_0x2c2b5b(0xbf)]({'botID':botID})['assign']({'exchange':_0x51c7f2})['write']();}}let _0x37fc3b=dbPerformance[_0x2c2b5b(0xe3)](_0x2c2b5b(0x1c8))['value']();isOlderVersion(_0x37fc3b,_0x2c2b5b(0x1ad))&&setStartDatePerformance();let _0x2d7ab4=dbCoinResults['get'](_0x2c2b5b(0x1c8))[_0x2c2b5b(0x11a)]();if(isOlderVersion(_0x2d7ab4,_0x2c2b5b(0x1cb))){let _0x5abe1e=dbCoinResults['get'](_0x2c2b5b(0x13b))[_0x2c2b5b(0x11a)]();if(_0x5abe1e[_0x2c2b5b(0x111)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x8791c2=_0x5b24ce;dbConfig[_0x8791c2(0xb9)](_0x8791c2(0x1c8),serverversion)[_0x8791c2(0xc6)](),dbPerformance[_0x8791c2(0xb9)](_0x8791c2(0x1c8),serverversion)['write'](),dbLogs[_0x8791c2(0xb9)](_0x8791c2(0x1c8),serverversion)[_0x8791c2(0xc6)](),dbCoinResults[_0x8791c2(0xb9)](_0x8791c2(0x1c8),serverversion)[_0x8791c2(0xc6)]();}function getConfiguration(_0x32ccae){const _0x37b52f=_0x5b24ce;let _0xa749d0=dbConfig[_0x37b52f(0xe3)](_0x37b52f(0x135))[_0x37b52f(0xbf)]({'botID':_0x32ccae})[_0x37b52f(0x11a)]();if(_0xa749d0){let _0x19e0db=![];typeof _0xa749d0['threshold']==_0x37b52f(0x129)&&(_0xa749d0={..._0xa749d0,'threshold':Number(_0xa749d0[_0x37b52f(0x1a4)])},_0x19e0db=!![]),_0xa749d0[_0x37b52f(0x1fd)]==null&&(_0xa749d0={..._0xa749d0,'change24h':-0x14},_0x19e0db=!![]),!_0xa749d0[_0x37b52f(0xda)]&&(_0xa749d0={..._0xa749d0,'fiat':'USD'},_0x19e0db=!![]),!_0xa749d0['onepagemode']&&(_0xa749d0={..._0xa749d0,'onepagemode':settings[_0x37b52f(0xc9)]},_0x19e0db=!![]),_0x19e0db&&(_0xa749d0={'botID':_0xa749d0['botID'],'exchange':_0xa749d0[_0x37b52f(0x167)],'apiKey':_0xa749d0[_0x37b52f(0x114)],'apiSecret':_0xa749d0['apiSecret'],'basecoin':_0xa749d0[_0x37b52f(0x1bd)],'botname':_0xa749d0[_0x37b52f(0x1e0)],'showname':_0xa749d0[_0x37b52f(0x113)],'threshold':_0xa749d0[_0x37b52f(0x1a4)],'ordertype':_0xa749d0[_0x37b52f(0x147)],'timeout':_0xa749d0[_0x37b52f(0x17d)],'fiat':_0xa749d0[_0x37b52f(0xda)],'startdate':_0xa749d0[_0x37b52f(0x176)],'recreate':_0xa749d0[_0x37b52f(0x1b0)],'timeshift':_0xa749d0[_0x37b52f(0xc7)],'onepagemode':_0xa749d0[_0x37b52f(0xc9)],'headless':_0xa749d0[_0x37b52f(0x184)],'cooldown':_0xa749d0[_0x37b52f(0x1e6)],'change24h':_0xa749d0[_0x37b52f(0x1fd)],'emojibuy':_0xa749d0[_0x37b52f(0x1fa)],'emojisell':_0xa749d0['emojisell'],'portfolio':_0xa749d0[_0x37b52f(0xbd)],'liquidity':_0xa749d0[_0x37b52f(0xf7)],'openOrders':_0xa749d0[_0x37b52f(0x11d)]},dbConfig[_0x37b52f(0xe3)]('bot')[_0x37b52f(0xf6)]()['write'](),dbConfig[_0x37b52f(0xe3)](_0x37b52f(0x135))[_0x37b52f(0x207)](_0xa749d0)[_0x37b52f(0xc6)]());}else _0xa749d0={'botID':_0x32ccae,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x32ccae,'showname':![],'threshold':0x3,'ordertype':_0x37b52f(0xd8),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x37b52f(0xc7)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0xa749d0;}function emittedConfiguration(){const _0x17c5b6=_0x5b24ce;let _0x1438e5;if(config[_0x17c5b6(0x114)]=='')_0x1438e5={...config,'configstate':_0x17c5b6(0x1ab)};else config[_0x17c5b6(0x114)]==_0x17c5b6(0x152)?_0x1438e5={...config,'configstate':'recovery'}:_0x1438e5={...config,'apiKey':_0x17c5b6(0xea),'apiSecret':_0x17c5b6(0xea)};return _0x1438e5;}function getSettings(){const _0xbdaac8=_0x5b24ce;return dbSettings[_0xbdaac8(0xe3)](_0xbdaac8(0x140))[_0xbdaac8(0x11a)]();}function getSecure(){const _0x5ce2fb=_0x5b24ce;return dbSecure[_0x5ce2fb(0xe3)](_0x5ce2fb(0x14d))[_0x5ce2fb(0x11a)]()||{};}function updateTimeshift(_0xff171f){const _0x216646=_0x5b24ce;let _0x91ba76=dbConfig['get'](_0x216646(0x135))[_0x216646(0xbf)]({'botID':botID})[_0x216646(0x11a)]();_0x91ba76&&dbConfig[_0x216646(0xe3)](_0x216646(0x135))['find']({'botID':botID})[_0x216646(0x11b)]({'timeshift':_0xff171f})[_0x216646(0xc6)](),config[_0x216646(0xc7)]=_0xff171f,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x59d8e5){const _0x503d1b=_0x5b24ce;let _0x167b60=dbConfig[_0x503d1b(0xe3)](_0x503d1b(0x135))[_0x503d1b(0xbf)]({'botID':botID})[_0x503d1b(0x11a)]();_0x167b60&&dbConfig[_0x503d1b(0xe3)]('bot')['find']({'botID':botID})[_0x503d1b(0x11b)]({'onepagemode':_0x59d8e5})[_0x503d1b(0xc6)](),config[_0x503d1b(0xc9)]=_0x59d8e5,proxyEmit(_0x503d1b(0x116),emittedConfiguration());}async function storeConfiguration(_0x2ac171){const _0x623529=_0x5b24ce;logger['debug']('Saving\x20configuration'),blockTransactionDetection=!![],logger[_0x623529(0xc0)](_0x623529(0x199));let _0x28657c=[],_0x4d01ae=![],_0x51cd2b=[];_0x2ac171[_0x623529(0xbd)][_0x623529(0x157)](_0xb9afd4=>{const _0x22a4b8=_0x623529;if(!_0xb9afd4[_0x22a4b8(0xa5)]&&_0xb9afd4['coin']!=_0x2ac171['basecoin'])_0x51cd2b[_0x22a4b8(0x207)](_0xb9afd4['symbol']);});currentCoins[_0x623529(0x111)]==0x0?_0x28657c=_0x51cd2b:_0x51cd2b[_0x623529(0x157)](_0x33725d=>{const _0x5e5ba0=_0x623529,_0x31dd77=currentCoins['find'](_0x3d1549=>_0x3d1549[_0x5e5ba0(0x150)]==_0x33725d);!_0x31dd77&&_0x28657c['push'](_0x33725d);});_0x28657c[_0x623529(0x111)]>0x0?_0x4d01ae=!![]:currentCoins[_0x623529(0x157)](_0x14b543=>{const _0x59fe8b=_0x623529;if(_0x14b543[_0x59fe8b(0x1fc)]!=config[_0x59fe8b(0x1bd)]){const _0x2a8392=_0x51cd2b[_0x59fe8b(0xbf)](_0x44252c=>_0x44252c==_0x14b543[_0x59fe8b(0x150)]);!_0x2a8392&&(_0x4d01ae=!![]);}});let _0x2f369d=dbConfig['get']('bot')[_0x623529(0xbf)]({'botID':botID})[_0x623529(0x11a)]();_0x2ac171={..._0x2ac171,'apiKey':crypt[_0x623529(0x1d9)](secure[_0x623529(0xf8)],_0x2ac171['apiKey'])['message'],'apiSecret':crypt[_0x623529(0x1d9)](secure[_0x623529(0xf8)],_0x2ac171['apiSecret'])['message']};let _0x5cb941=![];_0x2f369d?(_0x2ac171[_0x623529(0x114)]==_0x623529(0xea)?_0x2ac171[_0x623529(0x114)]=config[_0x623529(0x114)]:_0x5cb941=!![],_0x2ac171[_0x623529(0x10b)]==_0x623529(0xea)?_0x2ac171['apiSecret']=config[_0x623529(0x10b)]:_0x5cb941=!![],dbConfig['get'](_0x623529(0x135))[_0x623529(0xbf)]({'botID':botID})[_0x623529(0x11b)](_0x2ac171)[_0x623529(0xc6)]()):(dbConfig[_0x623529(0xe3)](_0x623529(0x135))[_0x623529(0x207)](_0x2ac171)['write'](),_0x5cb941=!![],process['send']({'status':'enabled','live':_0x623529(0x1c3)},_0x1ec1f3=>{}));config={..._0x2ac171},setStartDatePerformance(),process[_0x623529(0x144)]({'botname':_0x2ac171[_0x623529(0x1e0)]},_0x696591=>{}),updateBotManager();const _0x398685=getNormalizedPerformance();getStartingBalances(_0x398685),emitPerformance(_0x398685),proxyEmit(_0x623529(0xe2)),await initCoinResults();if(_0x5cb941)await reset(_0x28657c,!![]);else{if(_0x4d01ae)await reset(_0x28657c,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x623529(0xc0)](_0x623529(0x188));}async function storeHeadless(_0x382d10){const _0x1ea81f=_0x5b24ce,_0x189f4d={...config,'headless':_0x382d10['headless']};let _0x1a8c7=dbConfig[_0x1ea81f(0xe3)](_0x1ea81f(0x135))[_0x1ea81f(0xbf)]({'botID':botID})[_0x1ea81f(0x11a)]();_0x1a8c7&&dbConfig[_0x1ea81f(0xe3)](_0x1ea81f(0x135))[_0x1ea81f(0xbf)]({'botID':botID})['assign'](_0x189f4d)['write'](),config={..._0x189f4d},updateBotManager(),proxyEmit(_0x1ea81f(0x116),emittedConfiguration());}async function storeFiat(_0x1abd20){const _0x2335c1=_0x5b24ce,_0x174548={...config,'fiat':_0x1abd20};let _0x3e8929=dbConfig['get']('bot')[_0x2335c1(0xbf)]({'botID':botID})[_0x2335c1(0x11a)]();_0x3e8929&&dbConfig['get'](_0x2335c1(0x135))[_0x2335c1(0xbf)]({'botID':botID})[_0x2335c1(0x11b)](_0x174548)['write'](),config={..._0x174548},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x37c0ca=_0x5b24ce;logger['full'](_0x37c0ca(0x15c));try{if(fs['existsSync'](path[_0x37c0ca(0x18b)](configpath,_0x37c0ca(0x1ce)+botID+'-events.json')))fs[_0x37c0ca(0x119)](path['join'](configpath,_0x37c0ca(0x1ce)+botID+'-events.json'));if(fs[_0x37c0ca(0x202)](path[_0x37c0ca(0x18b)](configpath,_0x37c0ca(0x1ce)+botID+'-performance.json')))fs[_0x37c0ca(0x119)](path[_0x37c0ca(0x18b)](configpath,'bot-'+botID+_0x37c0ca(0x151)));if(fs[_0x37c0ca(0x202)](path[_0x37c0ca(0x18b)](configpath,_0x37c0ca(0x1ce)+botID+'-results.json')))fs[_0x37c0ca(0x119)](path[_0x37c0ca(0x18b)](configpath,'bot-'+botID+'-results.json'));}catch(_0x149dd8){if(_0x149dd8)logger[_0x37c0ca(0xfc)](_0x37c0ca(0xb1),_0x149dd8);}const _0x8a06ec=getDate();let _0x193d15=[];currentCoins[_0x37c0ca(0x157)](_0x4bcf08=>{const _0x2f7bbf=_0x37c0ca;_0x193d15[_0x2f7bbf(0x207)]({'coin':_0x4bcf08[_0x2f7bbf(0x1fc)],'number':_0x4bcf08['number'],'price':_0x4bcf08['last']});});let _0x2f5f66=dbConfig[_0x37c0ca(0xe3)](_0x37c0ca(0x135))[_0x37c0ca(0xbf)]({'botID':botID})[_0x37c0ca(0x11a)]();_0x2f5f66&&(dbConfig[_0x37c0ca(0xe3)](_0x37c0ca(0x135))[_0x37c0ca(0xbf)]({'botID':botID})[_0x37c0ca(0x11b)]({'liquidity':[{'date':_0x8a06ec,'changes':_0x193d15}]})[_0x37c0ca(0xc6)](),config['liquidity']=[]),process[_0x37c0ca(0x144)]({'stop':_0x37c0ca(0x128)},_0x310159=>{});}function noslash(_0x378d46){return _0x378d46['replace']('/','');}function updateHighestFee(_0x59461c,_0x28d1f7){const _0x3c577d=_0x5b24ce;lastFees[_0x3c577d(0x1e5)]=_0x59461c,lastFees['recent20'][_0x3c577d(0x111)]===0x14&&lastFees['recent20']['shift'](),lastFees[_0x3c577d(0x9a)]['push'](_0x28d1f7),lastFees['highest']=Math['max'](...lastFees[_0x3c577d(0x9a)]),console['log'](lastFees['highest']);}async function updateNumberCoinsCcxt(_0x2c431b){const _0x32721c=_0x5b24ce;logger[_0x32721c(0xc0)](_0x32721c(0x107)+_0x2c431b[_0x32721c(0x150)]+_0x32721c(0x177)+_0x2c431b[_0x32721c(0x133)]+_0x32721c(0x177)+_0x2c431b['id']+_0x32721c(0x177)+_0x2c431b[_0x32721c(0xa8)]);let _0x1f1e31=_0x2c431b[_0x32721c(0x133)],_0x483cdc=![];currentCoins[_0x32721c(0x157)](_0xd519c=>{const _0x227948=_0x32721c;_0xd519c['symbol']==_0x2c431b[_0x227948(0x150)]&&(_0x483cdc=!![]);});if(!_0x483cdc)return;const _0x113696=currentCoins[_0x32721c(0xbf)](_0x14c6a2=>_0x14c6a2[_0x32721c(0x150)]==_0x2c431b[_0x32721c(0x150)]),_0x2aad18=_0xbcba1a=>{const _0x590f5e=_0x32721c;if(_0x113696)_0x113696[_0x590f5e(0x10d)]=_0xbcba1a;};if(_0x1f1e31==_0x32721c(0x154))_0x2aad18(_0x32721c(0x154));else{if(_0x1f1e31==_0x32721c(0x13e)){_0x2aad18(_0x32721c(0x13e));const _0x41fba6=await getCoins();[currentCoins,currentCoinsAll]=_0x41fba6,await getOpenOrders(),handleOpenOrders();}else{if(_0x1f1e31==_0x32721c(0x145)){logger[_0x32721c(0xc0)](_0x32721c(0x121)+_0x2c431b[_0x32721c(0x150)]+_0x32721c(0x177)+_0x2c431b['filled']+_0x32721c(0x177)+_0x2c431b['id']+_0x32721c(0x177)+_0x2c431b[_0x32721c(0xa8)]);let _0x1d8234=![];if(lastOrders)lastOrders[_0x32721c(0x157)](async _0x998e6e=>{const _0x4218d8=_0x32721c;if(_0x998e6e[_0x4218d8(0x1f5)]==_0x2c431b[_0x4218d8(0xa8)]){logger[_0x4218d8(0xc0)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x2c431b[_0x4218d8(0xa8)]),_0x1d8234=!![];if(_0x998e6e[_0x4218d8(0x165)]==0x0){logger[_0x4218d8(0xc0)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x2c431b[_0x4218d8(0xa8)]),_0x998e6e[_0x4218d8(0x196)]=_0x2c431b[_0x4218d8(0x195)],_0x998e6e['filled']=_0x2c431b[_0x4218d8(0x165)],_0x998e6e['fee']={'currency':_0x2c431b[_0x4218d8(0xb4)]?_0x2c431b[_0x4218d8(0xb4)][_0x4218d8(0x1e5)]:null,'cost':_0x2c431b['fee']?_0x2c431b[_0x4218d8(0xb4)][_0x4218d8(0xa6)]:0x0},updateHighestFee(_0x998e6e[_0x4218d8(0xb4)]['currency'],_0x998e6e[_0x4218d8(0xb4)][_0x4218d8(0xa6)]),_0x2aad18(_0x4218d8(0x165)),await validateOrders();if(lockOrders==ORDERS[_0x4218d8(0xa7)]){const _0x1f0a6f=await getCoins();[currentCoins,currentCoinsAll]=_0x1f0a6f;}await updateCoinResults(_0x998e6e);}}});if(!_0x1d8234){logger[_0x32721c(0xc0)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x2c431b['id']),_0x2aad18(_0x32721c(0x165));const _0x11d369=await getCoins();[currentCoins,currentCoinsAll]=_0x11d369,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x3471ce=JSON[_0x32721c(0x136)](lastBalances[_0x32721c(0xbd)]);const _0x2a535d=_0x3471ce['find'](_0x5b6572=>_0x5b6572['symbol']==_0x2c431b[_0x32721c(0x150)]);if(_0x2a535d){if(_0x1f1e31==_0x32721c(0x154))_0x2a535d['orderstatus']=_0x2a535d[_0x32721c(0x10d)]==_0x32721c(0x165)?'filled':'open';else{if(_0x1f1e31==_0x32721c(0x13e))_0x2a535d[_0x32721c(0x10d)]=_0x2a535d['orderstatus']==_0x32721c(0x165)?'filled':'canceled';else _0x1f1e31==_0x32721c(0x145)&&(_0x2a535d[_0x32721c(0x10d)]=_0x32721c(0x165));}}lastBalances={...lastBalances,'portfolio':JSON[_0x32721c(0x1f9)](_0x3471ce)},proxyEmit(_0x32721c(0x186),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x4f6dde=_0x5b24ce;await getOpenOrders();let _0x245b9d=![];currentCoins[_0x4f6dde(0x157)](_0x21fb3b=>{const _0x5cd6a6=_0x4f6dde;_0x245b9d=allOpenOrders[_0x5cd6a6(0xbf)](_0x1a964d=>_0x1a964d[_0x5cd6a6(0x150)]==_0x21fb3b[_0x5cd6a6(0x150)]),_0x21fb3b['orderstatus']=_0x245b9d?_0x5cd6a6(0x154):_0x5cd6a6(0x1fb);});}async function getCoins(_0x48f685=!![],_0x2eba22=config[_0x5b24ce(0x1bd)]){const _0x391ea9=_0x5b24ce;let _0x212452,_0x1c3dba=[],_0x139105=[],_0x15a262=[],_0x1bd76c=[];try{_0x212452=await exchange[_0x391ea9(0x1a3)](),mybalances=_0x212452[_0x391ea9(0xe9)];for(const [_0x217ccc,_0x44876c]of Object[_0x391ea9(0xfd)](mybalances)){_0x1bd76c[_0x391ea9(0x207)](_0x217ccc);}if(_0x2eba22=='')for(const [_0x3c84bc,_0x3912fd]of Object[_0x391ea9(0xfd)](mybalances)){_0x3912fd[_0x391ea9(0x1de)]()!=0x0&&_0x139105[_0x391ea9(0x207)]({'coin':_0x3c84bc});}else{let _0x2a43cb=![];for(const [_0x56cc66,_0xb9e77a]of Object[_0x391ea9(0xfd)](mybalances)){if(_0x1bd76c[_0x391ea9(0xe6)](_0x56cc66)){const _0x3df59e=config['portfolio'][_0x391ea9(0xbf)](_0x5258ef=>_0x5258ef[_0x391ea9(0x1fc)]==_0x56cc66),_0x5430a0=_0x56cc66+'/'+_0x2eba22,_0x4aaab3=_0x2eba22+'/'+_0x56cc66,_0x3117f2=currentCoins[_0x391ea9(0xbf)](_0x2820cd=>_0x2820cd[_0x391ea9(0x1fc)]==_0x56cc66);_0x2a43cb=![];if((_0xb9e77a[_0x391ea9(0x1de)]()!=0x0||_0x3df59e)&&(allSymbols[_0x391ea9(0xe6)](_0x5430a0)||_0x56cc66==_0x2eba22))_0x56cc66!=_0x2eba22&&_0x1c3dba[_0x391ea9(0x207)](_0x5430a0),_0x139105[_0x391ea9(0x207)]({'coin':_0x56cc66,'symbol':_0x5430a0,'reverse':![],'number':Math[_0x391ea9(0xaf)](_0xb9e77a+(_0x3df59e&&_0x3df59e[_0x391ea9(0xcd)]||0x0),0x0),'orderstatus':_0x3117f2?_0x3117f2[_0x391ea9(0x10d)]:_0x391ea9(0x1fb)});else(_0xb9e77a['toString']()!=0x0||_0x3df59e)&&allSymbols[_0x391ea9(0xe6)](_0x4aaab3)&&(_0x56cc66!=_0x2eba22&&_0x1c3dba[_0x391ea9(0x207)](_0x4aaab3),_0x139105[_0x391ea9(0x207)]({'coin':_0x56cc66,'symbol':_0x4aaab3,'reverse':!![],'number':Math[_0x391ea9(0xaf)](_0xb9e77a+(_0x3df59e&&_0x3df59e[_0x391ea9(0xcd)]||0x0),0x0),'orderstatus':_0x3117f2?_0x3117f2[_0x391ea9(0x10d)]:'none'}));}}}}catch(_0x433e65){if(!_0x48f685)handleErrorNoStop(_0x433e65,_0x391ea9(0xc1));else await handleError(_0x433e65,'getCoins()');}return _0x15a262=cloneDeep(_0x139105),_0x139105=_0x139105[_0x391ea9(0x18a)](_0x50fab5=>{const _0x5ed293=_0x391ea9,_0x40a494=config[_0x5ed293(0xbd)]['find'](_0x27b1fa=>_0x27b1fa[_0x5ed293(0x1fc)]==_0x50fab5[_0x5ed293(0x1fc)]);return _0x40a494&&!_0x40a494[_0x5ed293(0xa5)];}),[_0x139105,_0x15a262];}async function getCoinNumber(_0x1f54b7){const _0x36625f=_0x5b24ce;let _0x10caa0;try{const _0x5e43dc=await exchange[_0x36625f(0x1a3)]();_0x10caa0=_0x5e43dc['total'][_0x1f54b7];}catch(_0x20e23d){await handleError(_0x20e23d,_0x36625f(0xfa));}return _0x10caa0;}async function getOpenOrders(){const _0x3483eb=_0x5b24ce;let _0x2b4167;allOpenOrders=[];try{for(const _0x4d5c65 of config[_0x3483eb(0xbd)]){!_0x4d5c65[_0x3483eb(0xa5)]&&_0x4d5c65[_0x3483eb(0x1fc)]!=config['basecoin']&&(_0x2b4167=await exchange[_0x3483eb(0xbc)](_0x4d5c65[_0x3483eb(0x150)]),_0x2b4167[_0x3483eb(0x111)]>0x0&&allOpenOrders[_0x3483eb(0x207)](_0x2b4167[0x0]));}}catch(_0x4b9d5c){await handleError(_0x4b9d5c,'getOpenOrders()');}}async function handleOpenOrders(_0x2203fe=0x0){const _0x16a354=_0x5b24ce;allOpenOrders[_0x16a354(0x111)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x2203fe==0x0?(logger['debug'](_0x16a354(0xd7)),_0x2203fe++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x16a354(0xc0)](_0x16a354(0x99)),validateOrders(_0x16a354(0x15b))));}async function testAPI(_0x575e50){const _0x1c2f29=_0x5b24ce,_0x333e5d=ccxt[_0x575e50[_0x1c2f29(0x167)][_0x1c2f29(0x1af)]()],_0x740b32=new _0x333e5d({'apiKey':_0x575e50[_0x1c2f29(0x114)],'secret':_0x575e50[_0x1c2f29(0x10b)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x740b32[_0x1c2f29(0x203)]();}catch(_0x211542){throw _0x211542;}}function cloneDeep(_0x4f1557){const _0x5b8f71=_0x5b24ce;return JSON[_0x5b8f71(0x136)](JSON['stringify'](_0x4f1557));}async function getPortfolio(_0x481a08){const _0x44040d=_0x5b24ce;let _0x345df9=[],_0x49ea4d=[],_0x1099ab=[],_0x209d94;if(_0x481a08['apiKey']!==_0x44040d(0xea)||_0x481a08[_0x44040d(0x10b)]!==_0x44040d(0xea)){if(config[_0x44040d(0x167)]){if(_0x481a08[_0x44040d(0x114)]==_0x44040d(0xea))_0x481a08[_0x44040d(0x114)]=config[_0x44040d(0x114)];if(_0x481a08[_0x44040d(0x10b)]=='************')_0x481a08[_0x44040d(0x10b)]=config['apiSecret'];try{await testAPI(_0x481a08);}catch(_0x3c1083){if(_0x3c1083['toString']()['includes']('AuthenticationError')){logger[_0x44040d(0xc0)](_0x44040d(0x12e)),proxyEmit('portfolio',![]);return;}else{handleError(_0x3c1083,_0x44040d(0xcb));return;}}}await initExchange(_0x481a08[_0x44040d(0x167)],_0x481a08[_0x44040d(0x114)],_0x481a08['apiSecret']);try{await loadSymbols(_0x481a08[_0x44040d(0x167)],!![]);}catch(_0x59506b){if(_0x59506b[_0x44040d(0x1de)]()[_0x44040d(0xe6)](_0x44040d(0x19e))){proxyEmit(_0x44040d(0xbd),![]);return;}else{handleError(_0x59506b,_0x44040d(0xcf));return;}}const _0xb66ab=await getCoins(![],_0x481a08['basecoin']);_0x1099ab=cloneDeep(_0xb66ab[0x1]);}else _0x1099ab=cloneDeep(currentCoinsAll);if(_0x481a08[_0x44040d(0x1bd)]=='')proxyEmit(_0x44040d(0xbd),_0x1099ab);else{_0x1099ab['forEach'](_0x4de17e=>{const _0x2bb046=_0x44040d;if(_0x4de17e[_0x2bb046(0x1fc)]!=_0x481a08['basecoin'])_0x345df9['push'](_0x4de17e['symbol']);});try{_0x49ea4d=await exchange[_0x44040d(0x1a0)](_0x345df9);}catch(_0x3766c3){if(_0x3766c3[_0x44040d(0x1de)]()[_0x44040d(0xe6)](_0x44040d(0x19e))){proxyEmit('portfolio',![]);return;}else{handleError(_0x3766c3,_0x44040d(0xd9));return;}}_0x1099ab[_0x44040d(0x157)](_0x28493d=>{const _0xf927a=_0x44040d;_0x28493d[_0xf927a(0x1fc)]!=_0x481a08[_0xf927a(0x1bd)]?_0x209d94=_0x28493d[_0xf927a(0xb3)]?0x1/_0x49ea4d[_0x28493d['symbol']][_0xf927a(0x192)]:_0x49ea4d[_0x28493d[_0xf927a(0x150)]][_0xf927a(0x192)]:_0x209d94=0x1,_0x28493d[_0xf927a(0x196)]=formatResult(_0x209d94,0x8);}),proxyEmit(_0x44040d(0xbd),_0x1099ab);}}function checkMinimums(_0x340f4a){const _0x2fbdb6=_0x5b24ce;let _0x3ffde1=!![];const _0x3f3857=!_0x340f4a['reverse']?markets[_0x340f4a[_0x2fbdb6(0x150)]]['limits'][_0x2fbdb6(0x10a)][_0x2fbdb6(0x1e1)]:markets[_0x340f4a[_0x2fbdb6(0x150)]][_0x2fbdb6(0x97)][_0x2fbdb6(0xa6)]['min'],_0x1a2bd0=!_0x340f4a[_0x2fbdb6(0xb3)]?markets[_0x340f4a['symbol']][_0x2fbdb6(0x97)][_0x2fbdb6(0xa6)][_0x2fbdb6(0x1e1)]:markets[_0x340f4a[_0x2fbdb6(0x150)]]['limits']['amount'][_0x2fbdb6(0x1e1)],_0x2b7917=markets[_0x340f4a['symbol']]['precision'][_0x2fbdb6(0x10a)];_0x340f4a[_0x2fbdb6(0x1e8)]=formatResultTruncate(_0x340f4a[_0x2fbdb6(0x1e8)],_0x2b7917);if(Math[_0x2fbdb6(0x1c9)](_0x340f4a[_0x2fbdb6(0x1e8)])<_0x3f3857)_0x3ffde1=![];if(Math[_0x2fbdb6(0x1c9)](_0x340f4a['trade'])*_0x340f4a[_0x2fbdb6(0x192)]<_0x1a2bd0)_0x3ffde1=![];if(_0x340f4a[_0x2fbdb6(0x173)]==_0x2fbdb6(0xa4)){let _0x197c5b=config[_0x2fbdb6(0xbd)][_0x2fbdb6(0xbf)](_0x4e2b64=>_0x4e2b64[_0x2fbdb6(0x1fc)]==_0x340f4a[_0x2fbdb6(0x1fc)]);if(_0x197c5b[_0x2fbdb6(0xcd)]>0x0){if(Math[_0x2fbdb6(0x1c9)](_0x340f4a['trade'])>_0x340f4a[_0x2fbdb6(0x103)]-_0x197c5b['offset'])_0x3ffde1=![];}else{if(Math[_0x2fbdb6(0x1c9)](_0x340f4a[_0x2fbdb6(0x1e8)])>_0x340f4a['number'])_0x3ffde1=![];}}if(_0x340f4a['side']=='buy'){let _0x7d6dc7=config[_0x2fbdb6(0xbd)][_0x2fbdb6(0xbf)](_0x3d305e=>_0x3d305e['coin']==config['basecoin']),_0x9632e1=currentCoins[_0x2fbdb6(0xbf)](_0x1f9944=>_0x1f9944['coin']==config[_0x2fbdb6(0x1bd)]);if(_0x7d6dc7['offset']>0x0){if(Math[_0x2fbdb6(0x1c9)](_0x340f4a[_0x2fbdb6(0x1e8)])*_0x340f4a[_0x2fbdb6(0x192)]>_0x9632e1['number']-_0x7d6dc7['offset'])_0x3ffde1=![];}else{if(Math[_0x2fbdb6(0x1c9)](_0x340f4a[_0x2fbdb6(0x1e8)])*_0x340f4a[_0x2fbdb6(0x192)]>_0x9632e1[_0x2fbdb6(0x103)])_0x3ffde1=![];}}return _0x3ffde1;}async function getBalances(){const _0xf7c5de=_0x5b24ce;let _0x3b49c2=0x0,_0x4731b9;const _0x3b3851=config[_0xf7c5de(0x1a4)];if(config[_0xf7c5de(0x184)]&&config[_0xf7c5de(0x1fd)]<0x0)await validate24hChanges();currentCoins[_0xf7c5de(0x157)](_0x32f55f=>{const _0x346fde=_0xf7c5de;if(_0x32f55f[_0x346fde(0x1fc)]!=config[_0x346fde(0x1bd)]){let _0x4cd012=global[_0x346fde(0x1f0)][noslash(_0x32f55f['symbol'])];_0x4731b9=_0x32f55f[_0x346fde(0xb3)]?0x1/_0x4cd012:_0x4cd012;}else _0x4731b9=0x1;let _0x5e4fb0=_0x32f55f[_0x346fde(0x103)]*_0x4731b9;_0x3b49c2+=_0x5e4fb0,_0x32f55f['last']=formatResult(Number(_0x4731b9),0x8),_0x32f55f[_0x346fde(0x11a)]=_0x5e4fb0;}),currentCoins[_0xf7c5de(0x157)](_0x16f441=>{const _0x328698=_0xf7c5de;let _0x5d9192=config[_0x328698(0xbd)][_0x328698(0xbf)](_0x28bbed=>_0x28bbed[_0x328698(0x1fc)]==_0x16f441[_0x328698(0x1fc)]),_0x452fc8=Number(_0x5d9192[_0x328698(0x171)]),_0x414b2c=_0x16f441[_0x328698(0x11a)]/_0x3b49c2*0x64,_0x312b2f=_0x452fc8*_0x3b49c2/0x64/_0x16f441['last']-_0x16f441[_0x328698(0x103)];_0x16f441[_0x328698(0x171)]=formatResult(_0x414b2c,0x3),_0x16f441[_0x328698(0x201)]=formatResult(_0x452fc8,0x3),_0x16f441[_0x328698(0x1e8)]=formatResult(_0x312b2f,0x8),_0x16f441[_0x328698(0x173)]='',_0x16f441['valid']=![];if(_0x16f441['coin']!=config['basecoin']){if(_0x16f441[_0x328698(0x171)]>_0x452fc8)_0x16f441[_0x328698(0x173)]=_0x328698(0xa4),_0x16f441[_0x328698(0x10c)]=checkMinimums(_0x16f441);else _0x16f441['distribution']<_0x452fc8&&(_0x16f441[_0x328698(0x173)]=_0x328698(0x19c),_0x16f441[_0x328698(0x10c)]=checkMinimums(_0x16f441));}_0x16f441['delta']=_0x16f441['distribution']/_0x16f441[_0x328698(0x201)]-0x1;if(_0x16f441['orderstatus']=='filled'||_0x16f441['orderstatus']==_0x328698(0x13e))_0x16f441[_0x328698(0x10d)]=_0x328698(0x1fb);}),currentCoins[_0xf7c5de(0x110)]((_0x394a60,_0x27db91)=>_0x394a60[_0xf7c5de(0x185)]<_0x27db91[_0xf7c5de(0x185)]?0x1:_0x27db91[_0xf7c5de(0x185)]<_0x394a60['delta']?-0x1:0x0);const _0x31707c=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x31707c[_0xf7c5de(0x15d)],'usd':_0x31707c[_0xf7c5de(0x19d)],'portfolio':JSON[_0xf7c5de(0x1f9)](currentCoins),'threshold':_0x3b3851},proxyEmit(_0xf7c5de(0x186),{'serverversion':serverversion,'balances':lastBalances});if(config[_0xf7c5de(0x184)])headlessMode({'portfolio':currentCoins,'threshold':_0x3b3851});else{if(lockOrders==ORDERS[_0xf7c5de(0x125)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3b3851});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x27035a=getNormalizedPerformance();emitPerformance(_0x27035a),getStartingBalances(_0x27035a),logger['debug'](_0xf7c5de(0x189));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5c915a=_0x5b24ce;if(!lastBalances)return;let _0x13ce56=[],_0x257fa2,_0x3a88da=JSON[_0x5c915a(0x136)](lastBalances[_0x5c915a(0xbd)]);_0x3a88da['sort']((_0x1f0cc7,_0x2df06f)=>_0x1f0cc7[_0x5c915a(0x1fc)]>_0x2df06f[_0x5c915a(0x1fc)]?0x1:_0x2df06f[_0x5c915a(0x1fc)]>_0x1f0cc7[_0x5c915a(0x1fc)]?-0x1:0x0),_0x3a88da[_0x5c915a(0x157)](_0xc1b04f=>{const _0x286f34=_0x5c915a;let _0x588ce1={'coin':_0xc1b04f[_0x286f34(0x1fc)],'number':_0xc1b04f[_0x286f34(0x103)],'price':_0xc1b04f['last']};_0x13ce56[_0x286f34(0x207)](_0x588ce1);});const _0x373ad9=await getFiat();_0x257fa2={'date':lastBalances[_0x5c915a(0x1f2)]['split']('\x20')[0x0],'eur':_0x373ad9[_0x5c915a(0x15d)],'usd':_0x373ad9['usd'],'coins':_0x13ce56};let _0x523344=dbPerformance[_0x5c915a(0xe3)](_0x5c915a(0x14a))[_0x5c915a(0xbf)]({'date':_0x257fa2[_0x5c915a(0xc8)]})[_0x5c915a(0x11a)]();_0x523344?_0x257fa2[_0x5c915a(0xc8)]!=config[_0x5c915a(0x176)]&&dbPerformance[_0x5c915a(0xe3)]('data')['find']({'date':_0x257fa2[_0x5c915a(0xc8)]})[_0x5c915a(0x11b)](_0x257fa2)['write']():dbPerformance[_0x5c915a(0xe3)]('data')[_0x5c915a(0x207)](_0x257fa2)[_0x5c915a(0xc6)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x23ee77=_0x5b24ce;let _0x134a66=[];if(dbPerformance[_0x23ee77(0x19a)]('data')[_0x23ee77(0x11a)]()){let _0x1bad25=dbPerformance['get'](_0x23ee77(0x14a))['cloneDeep']()['sortBy'](_0x23ee77(0xc8))[_0x23ee77(0x11a)](),_0x2aac38=[...config[_0x23ee77(0xf7)]];_0x2aac38[_0x23ee77(0x110)]((_0x126c95,_0x491db8)=>_0x126c95[_0x23ee77(0xc8)]>_0x491db8[_0x23ee77(0xc8)]?-0x1:_0x491db8['date']>_0x126c95[_0x23ee77(0xc8)]?0x1:0x0);let _0x5066db=0x1,_0x59ce7d=[],_0x3114db=0x0;_0x1bad25[_0x23ee77(0xe1)]()['reverse']()['forEach']((_0x417d57,_0x2ff596)=>{const _0x41c191=_0x23ee77;if(_0x2aac38[_0x3114db]){if(_0x1bad25[_0x1bad25[_0x41c191(0x111)]-_0x2ff596]&&_0x2aac38[_0x3114db]['date']==_0x1bad25[_0x1bad25[_0x41c191(0x111)]-_0x2ff596]['date']){if(_0x2ff596<_0x1bad25[_0x41c191(0x111)]){let _0x134e2a=0x0,_0xd2be25=0x0;_0x1bad25[_0x1bad25[_0x41c191(0x111)]-_0x2ff596][_0x41c191(0x13b)]['forEach'](_0x32018e=>{const _0x2aaae1=_0x41c191;_0xd2be25+=_0x32018e[_0x2aaae1(0x103)]*_0x32018e[_0x2aaae1(0x196)];}),_0x2aac38[_0x3114db][_0x41c191(0x102)][_0x41c191(0x157)](_0x4ff900=>{const _0x1aae43=_0x41c191;_0x134e2a+=_0x4ff900[_0x1aae43(0x103)]*_0x4ff900[_0x1aae43(0x196)];}),_0x5066db*=_0x134e2a/(_0xd2be25-_0x134e2a)+0x1;}_0x3114db++;}}let _0x492cab=0x0;_0x417d57['coins'][_0x41c191(0x157)](_0x55bfb7=>{const _0x3d4878=_0x41c191;_0x492cab+=_0x55bfb7[_0x3d4878(0x103)]*_0x55bfb7[_0x3d4878(0x196)];}),_0x59ce7d[_0x1bad25[_0x41c191(0x111)]-_0x2ff596-0x1]=_0x492cab*(_0x5066db-0x1);});let _0x42ea20=[];_0x2aac38=[...config['liquidity']]||[];let _0x530646=0x0;_0x3114db=0x0,_0x1bad25[_0x23ee77(0x157)]((_0x2c9697,_0x2e6e28)=>{const _0x305952=_0x23ee77;if(_0x2aac38[_0x3114db]){const _0x281d0d=fns['parse'](_0x2aac38[_0x3114db][_0x305952(0xc8)],_0x305952(0x137),new Date()),_0xd9872a=fns['parse'](_0x2c9697[_0x305952(0xc8)],_0x305952(0x137),new Date());if(fns[_0x305952(0x146)](_0x281d0d,_0xd9872a)){let _0x4bba0d=0x0;_0x2aac38[_0x3114db][_0x305952(0x102)][_0x305952(0x157)](_0x516dda=>{const _0x43ad6b=_0x305952;!_0x42ea20[_0x516dda[_0x43ad6b(0x1fc)]]?_0x42ea20[_0x516dda[_0x43ad6b(0x1fc)]]=_0x516dda[_0x43ad6b(0x103)]:(_0x4bba0d=_0x42ea20[_0x516dda[_0x43ad6b(0x1fc)]],_0x42ea20[_0x516dda[_0x43ad6b(0x1fc)]]+=_0x516dda['number']);const _0x4e8769=_0x2c9697['coins'][_0x43ad6b(0xbf)](_0x3e3ea1=>_0x3e3ea1['coin']==_0x516dda[_0x43ad6b(0x1fc)]);(!_0x4e8769||_0x4e8769[_0x43ad6b(0x103)]==0x0)&&(_0x530646+=(-_0x516dda[_0x43ad6b(0x103)]-_0x4bba0d)*_0x516dda[_0x43ad6b(0x196)]);}),_0x3114db++;}}_0x2c9697[_0x305952(0x13b)][_0x305952(0x157)]((_0x5371a5,_0x1e469d)=>{const _0x36b5c9=_0x305952;_0x42ea20[_0x5371a5[_0x36b5c9(0x1fc)]]&&(_0x5371a5[_0x36b5c9(0x1ab)]=_0x42ea20[_0x5371a5[_0x36b5c9(0x1fc)]]);}),_0x134a66[_0x305952(0x207)]({'date':_0x2c9697[_0x305952(0xc8)],'eur':_0x2c9697[_0x305952(0x15d)],'usd':_0x2c9697[_0x305952(0x19d)],'offset':_0x59ce7d[_0x2e6e28],'netoffset':_0x530646,'coins':_0x2c9697[_0x305952(0x13b)]});});}return _0x134a66;}function emitPerformance(_0x3aa47c){const _0x10f000=_0x5b24ce;_0x3aa47c[_0x10f000(0x111)]!==0x0?(proxyEmit(_0x10f000(0x211),_0x3aa47c),lastPerformanceEmitted=getDate()):proxyEmit(_0x10f000(0x211),[]);}function getPerf(_0x2311b2,_0x467ab7){const _0x4b743f=_0x5b24ce;let _0x311e95=0x0,_0x3c4c38=0x0,_0x5960a6=0x0;_0x2311b2['coins'][_0x4b743f(0x157)](_0x430bf3=>{const _0x3fb4d2=_0x4b743f;_0x311e95+=_0x430bf3[_0x3fb4d2(0x103)]*_0x430bf3[_0x3fb4d2(0x196)];});_0x467ab7&&(_0x311e95+=_0x2311b2['offset']);if(config[_0x4b743f(0x1bd)]==='BTC'||config[_0x4b743f(0x1bd)]==='ETH')_0x3c4c38=_0x311e95*_0x2311b2[_0x4b743f(0x15d)],_0x5960a6=_0x311e95*_0x2311b2[_0x4b743f(0x19d)];else{if(config[_0x4b743f(0x1bd)]===_0x4b743f(0x1c7)||config[_0x4b743f(0x1bd)]==='USDT'||config[_0x4b743f(0x1bd)]==='USD')_0x3c4c38=_0x311e95*_0x2311b2['eur']/_0x2311b2['usd'],_0x5960a6=_0x311e95;else config[_0x4b743f(0x1bd)]===_0x4b743f(0x182)&&(_0x3c4c38=_0x311e95,_0x5960a6=_0x311e95*_0x2311b2[_0x4b743f(0x19d)]/_0x2311b2[_0x4b743f(0x15d)]);}return[_0x311e95,_0x3c4c38,_0x5960a6];}function getKPIs(_0x563ce6,_0x87b857=_0x5b24ce(0x182)){const _0x3d53ed=_0x5b24ce,_0x35b7a2=config[_0x3d53ed(0x1bd)],_0x3223bc=lastBalances,_0x7db7ee=currentCoins,_0x17683f=getNormalizedPerformance(),_0x382cdf=_0x563ce6===_0x3d53ed(0x1bd)?_0x35b7a2:_0x563ce6==='fiat'||_0x563ce6===_0x3d53ed(0xdf)?_0x87b857:_0x3d53ed(0x20a)+_0x35b7a2,_0x2f6ced=_0x563ce6===_0x3d53ed(0x122)?_0x3d53ed(0xa1):_0x563ce6===_0x3d53ed(0xdf)?'Net\x20effect':_0x382cdf+_0x3d53ed(0x149),_0x52628f=_0x563ce6===_0x3d53ed(0x122)||_0x563ce6===_0x3d53ed(0xdf)?_0x3d53ed(0xa1):_0x382cdf+_0x3d53ed(0xf9);let _0x217b86=0x0;_0x7db7ee[_0x3d53ed(0x157)](_0xcc99d3=>{const _0x3c7055=_0x3d53ed;_0x217b86+=_0xcc99d3[_0x3c7055(0x103)]*_0xcc99d3[_0x3c7055(0x192)];});if(_0x563ce6==='fiat'||_0x563ce6===_0x3d53ed(0xdf)){if(_0x35b7a2==='BTC'||_0x35b7a2===_0x3d53ed(0x1ae))_0x217b86=_0x217b86*(_0x87b857==='EUR'?_0x3223bc[_0x3d53ed(0x15d)]:_0x3223bc['usd']);else{if(_0x35b7a2===_0x3d53ed(0x1c7)||_0x35b7a2===_0x3d53ed(0xf1)||_0x35b7a2==='USD')_0x217b86=_0x217b86*(_0x87b857===_0x3d53ed(0x182)?_0x3223bc[_0x3d53ed(0x15d)]/_0x3223bc[_0x3d53ed(0x19d)]:0x1);else _0x35b7a2===_0x3d53ed(0x182)&&(_0x217b86=_0x217b86*(_0x87b857===_0x3d53ed(0x182)?0x1:_0x3223bc[_0x3d53ed(0x19d)]/_0x3223bc[_0x3d53ed(0x15d)]));}}let _0x315336;if(_0x217b86!==0x0){if(_0x563ce6===_0x3d53ed(0x1bd))_0x315336=(_0x217b86/startingBalances['basecoin']-0x1)*0x64;else{if(_0x87b857===_0x3d53ed(0x182))_0x315336=(_0x217b86/startingBalances[_0x3d53ed(0x15d)]-0x1)*0x64;else _0x315336=(_0x217b86/startingBalances[_0x3d53ed(0x19d)]-0x1)*0x64;}let _0x4486dc=0x0;if(startingBalances[_0x3d53ed(0x13b)])_0x7db7ee[_0x3d53ed(0x157)](_0x3c2397=>{const _0x1c0cb7=_0x3d53ed;let _0x1ac5c5=startingBalances['coins'][_0x1c0cb7(0xbf)](_0x306ddb=>_0x306ddb[_0x1c0cb7(0x1fc)]===_0x3c2397[_0x1c0cb7(0x1fc)]);if(_0x1ac5c5&&_0x1ac5c5[_0x1c0cb7(0x1fc)]&&_0x3c2397[_0x1c0cb7(0x103)]!==0x0)_0x4486dc+=_0x1ac5c5[_0x1c0cb7(0x103)]*_0x3c2397['last'];});let _0x4181a2=0x0;if(_0x17683f[_0x3d53ed(0x111)]!==0x0){let _0x189421=_0x17683f[_0x17683f[_0x3d53ed(0x111)]-0x1];_0x4181a2=_0x189421[_0x3d53ed(0xef)];}_0x4486dc-=_0x4181a2;_0x563ce6===_0x3d53ed(0x122)&&(_0x315336=(_0x217b86-_0x4486dc)/startingBalances[_0x3d53ed(0x1bd)]*0x64,_0x217b86=_0x217b86-_0x4486dc);if(_0x563ce6==='net-fiat'){let _0x1437f8=_0x87b857===_0x3d53ed(0x182)?startingBalances[_0x3d53ed(0x15d)]:startingBalances[_0x3d53ed(0x19d)];if(_0x35b7a2==='BTC'||_0x35b7a2===_0x3d53ed(0x1ae))_0x4486dc=_0x87b857==='EUR'?_0x4486dc*_0x3223bc['eur']:_0x4486dc*_0x3223bc[_0x3d53ed(0x19d)];else{if(_0x35b7a2===_0x3d53ed(0x1c7)||_0x35b7a2==='USDT'||_0x35b7a2==='USD')_0x4486dc=_0x87b857===_0x3d53ed(0x182)?_0x4486dc*_0x3223bc[_0x3d53ed(0x15d)]/_0x3223bc[_0x3d53ed(0x19d)]:_0x4486dc;else _0x35b7a2===_0x3d53ed(0x182)&&(_0x4486dc=_0x87b857===_0x3d53ed(0x182)?_0x4486dc:_0x4486dc*_0x3223bc[_0x3d53ed(0x19d)]/_0x3223bc[_0x3d53ed(0x15d)]);}_0x315336=(_0x217b86-_0x4486dc)/_0x1437f8*0x64,_0x217b86=_0x217b86-_0x4486dc;}if(_0x315336){if(_0x315336<0x64)_0x315336=_0x315336['toFixed'](0x2);else{if(_0x315336<0x3e8)_0x315336=_0x315336[_0x3d53ed(0x1d2)](0x1);else _0x315336=_0x315336[_0x3d53ed(0x1d2)](0x0);}}else _0x315336=Number('0')['toFixed'](0x2);if(_0x217b86){if(Math[_0x3d53ed(0x1c9)](_0x217b86)<0.000001)_0x217b86=_0x217b86[_0x3d53ed(0x1d2)](0x2);else{if(Math['abs'](_0x217b86)<0.1)_0x217b86=_0x217b86[_0x3d53ed(0x1d2)](0x6);else{if(Math['abs'](_0x217b86)<0x1)_0x217b86=_0x217b86[_0x3d53ed(0x1d2)](0x5);else{if(Math[_0x3d53ed(0x1c9)](_0x217b86)<0xa)_0x217b86=_0x217b86['toFixed'](0x4);else{if(Math[_0x3d53ed(0x1c9)](_0x217b86)<0x64)_0x217b86=_0x217b86[_0x3d53ed(0x1d2)](0x3);else{if(Math[_0x3d53ed(0x1c9)](_0x217b86)<0x3e8)_0x217b86=_0x217b86['toFixed'](0x2);else _0x217b86=_0x217b86[_0x3d53ed(0x1d2)](0x2);}}}}}}else _0x217b86=Number('0')[_0x3d53ed(0x1d2)](0x2);}else _0x315336=Number('0')['toFixed'](0x2);return{'value':_0x217b86,'change':_0x315336,'leftTxt':_0x2f6ced,'rightTxt':_0x52628f};}async function getStartingBalances(_0x476364,_0x29c597=!![]){const _0x5c77ea=_0x5b24ce;if(_0x476364[_0x5c77ea(0x111)]!==0x0){const [_0x5c8c0e,_0x58a137,_0x406e19]=getPerf(_0x476364[0x0],!![]);let _0x3a14e8=[];config[_0x5c77ea(0xbd)][_0x5c77ea(0x157)](_0x324df9=>{const _0x2b4a9f=_0x5c77ea;let _0x323244=0x0,_0xd62fc3;config[_0x2b4a9f(0xf7)][_0x2b4a9f(0x157)](_0x476a95=>{const _0x1d85cf=_0x2b4a9f;let _0x215616=_0x476a95[_0x1d85cf(0x102)][_0x1d85cf(0xbf)](_0x269e02=>_0x269e02[_0x1d85cf(0x1fc)]==_0x324df9['coin']);if(_0x215616){_0x323244+=_0x215616['number'];if(!_0xd62fc3)_0xd62fc3=_0x215616[_0x1d85cf(0x196)];}}),_0x3a14e8[_0x2b4a9f(0x207)]({'coin':_0x324df9['coin'],'number':_0x323244,'initialprice':_0xd62fc3});});const _0x321ba1={'basecoin':_0x5c8c0e,'eur':_0x58a137,'usd':_0x406e19,'coins':_0x3a14e8};if(_0x29c597)proxyEmit(_0x5c77ea(0xb7),_0x321ba1);startingBalances=_0x321ba1;}}function headlessMode(_0x12fe73){const _0x5a5265=_0x5b24ce;let _0x3eb86e=_0x12fe73[_0x5a5265(0xbd)],_0x21ec2a=_0x12fe73[_0x5a5265(0x1a4)],_0x4663f8=[];for(let _0x3d9c20 of _0x3eb86e){if(_0x3d9c20[_0x5a5265(0x1fc)]!=config[_0x5a5265(0x1bd)]){if(_0x3d9c20[_0x5a5265(0x185)]>=_0x21ec2a/0x64){if(_0x3d9c20[_0x5a5265(0x10c)])_0x4663f8[_0x5a5265(0x207)](_0x3d9c20);}else{if(_0x3d9c20[_0x5a5265(0x185)]<=-_0x21ec2a/0x64){if(_0x3d9c20['valid'])_0x4663f8[_0x5a5265(0x207)](_0x3d9c20);}}}}_0x4663f8[_0x5a5265(0x111)]>0x0&&placeOrder(_0x4663f8);}function notifyBalance(_0x540eb2){const _0x52e5ae=_0x5b24ce;let _0x537d20=_0x540eb2['portfolio'],_0x28d54e=_0x540eb2[_0x52e5ae(0x1a4)],_0x571019=[];for(let _0x2e47cb of _0x537d20){if(_0x2e47cb[_0x52e5ae(0x1fc)]!=config['basecoin']){if(_0x2e47cb['delta']>=_0x28d54e/0x64){if(_0x2e47cb[_0x52e5ae(0x10c)])_0x571019['push'](_0x2e47cb);}else{if(_0x2e47cb[_0x52e5ae(0x185)]<=-_0x28d54e/0x64){if(_0x2e47cb[_0x52e5ae(0x10c)])_0x571019['push'](_0x2e47cb);}}}}if(_0x571019['length']>0x0){let _0x3ae9ad=_0x571019[_0x52e5ae(0x138)](_0x229e1c=>_0x229e1c[_0x52e5ae(0x1fc)]);_0x3ae9ad[_0x52e5ae(0x110)]();let _0xf2eaf4=_0x3ae9ad[_0x52e5ae(0x18b)](',\x20');if(!lastCoinsToBalance)logHistory(_0x52e5ae(0x120),_0x52e5ae(0x9d));lastCoinsToBalance=_0xf2eaf4;}}function symbolToCoin(_0x408a79){const _0x3fe784=_0x5b24ce;let _0x37a69e;if(_0x408a79['includes']('/'+config[_0x3fe784(0x1bd)]))_0x37a69e=_0x408a79[_0x3fe784(0x190)]('/'+config[_0x3fe784(0x1bd)],'');if(_0x408a79[_0x3fe784(0xe6)](config[_0x3fe784(0x1bd)]+'/'))_0x37a69e=_0x408a79[_0x3fe784(0x190)](config[_0x3fe784(0x1bd)]+'/','');return _0x37a69e;}async function unlockOrders(){const _0x3558e9=_0x5b24ce;if(allOrdersPlaced&&lockOrders==ORDERS[_0x3558e9(0xa7)]){logger[_0x3558e9(0xc0)](_0x3558e9(0x153)),lockOrders=ORDERS[_0x3558e9(0x139)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x416e00=await getCoins();[currentCoins,currentCoinsAll]=_0x416e00,validateOrdersState=_0x3558e9(0x1ab),persistOpenOrders([]),lockOrders=ORDERS[_0x3558e9(0x125)],logger[_0x3558e9(0xc0)](_0x3558e9(0x163));}}async function validateOrders(_0x3e0c76){const _0x1fb241=_0x5b24ce;if(_0x3e0c76)validateOrdersState=_0x3e0c76;logger['debug']('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x1fb241(0x1b8):lockOrders==0x2?'ORDERS.UNLOCKING':_0x1fb241(0xdd)));let _0x35a228=[],_0x5bbbbe=config[_0x1fb241(0x147)]==_0x1fb241(0xd8)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x1fb241(0x17d)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x1fb241(0xa7)])return;logger[_0x1fb241(0xc0)](_0x1fb241(0x1f7)+validateOrdersState),lastOrders[_0x1fb241(0x157)](_0x4d3547=>{const _0x1590bf=_0x1fb241;let _0x278e3f=![];_0x4d3547[_0x1590bf(0x165)]>0x0&&(_0x278e3f=!![]),_0x35a228[_0x1590bf(0x207)](_0x278e3f),_0x278e3f&&config[_0x1590bf(0x147)]!=_0x1590bf(0xd8)&&logHistory(_0x1590bf(0x117),_0x1590bf(0x161)+_0x4d3547[_0x1590bf(0x150)]+'\x20'+_0x4d3547['side']+'\x20#'+formatResult(_0x4d3547[_0x1590bf(0x165)],0x8)+'\x20@'+formatResult(_0x4d3547[_0x1590bf(0x196)],0x8));}),_0x35a228[_0x1fb241(0x157)]((_0x1cc476,_0x4dbd50)=>{if(_0x1cc476)lastOrders['splice'](_0x4dbd50,0x1);}),persistOpenOrders(lastOrders);const _0x4dbbc0=coolingDown?_0x1fb241(0x17c):_0x1fb241(0x108);if(validateOrdersState=='initial'){validateOrdersState='ongoing';if(_0x35a228[_0x1fb241(0xe6)](![])){if(config['ordertype']=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState=='ongoing'){if(_0x35a228[_0x1fb241(0xe6)](![])){}else{if(allOrdersPlaced){if(config[_0x1fb241(0x147)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x35a228[_0x1fb241(0xe6)](![])&&(config['ordertype']==_0x1fb241(0xd8)?logHistory(_0x1fb241(0x1a8),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x1fb241(0xbe)](_0x5bbbbe*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x4dbbc0):(await cancelOrders(),logHistory(_0x1fb241(0x1a8),_0x1fb241(0x19b)+Math[_0x1fb241(0xbe)](_0x5bbbbe*validateOrderInterval/0xea60)+_0x1fb241(0x15f)+_0x4dbbc0))),await unlockOrders();else{if(validateOrdersState==_0x1fb241(0x15b)){if(config[_0x1fb241(0x147)]!=_0x1fb241(0xd8))logHistory(_0x1fb241(0x1a8),_0x1fb241(0x1b1)+_0x4dbbc0);await unlockOrders();}}}}}async function cancelOrders(){const _0x591a99=_0x5b24ce;lastOrders[_0x591a99(0x157)](async _0x127f5d=>{const _0xa4e517=_0x591a99;try{const _0x3abcfe=await exchange['cancelOrder'](_0x127f5d[_0xa4e517(0x1c2)],_0x127f5d[_0xa4e517(0x150)]);}catch(_0x4c92ee){if(_0x4c92ee[_0xa4e517(0x1de)]()[_0xa4e517(0xe6)](_0xa4e517(0x12c))){}else await handleError(_0x4c92ee,_0xa4e517(0x191));}});}async function initCoinResults(){const _0x92d81d=_0x5b24ce;let _0x672a4d=[];config[_0x92d81d(0xbd)][_0x92d81d(0x157)](_0x4b2d48=>{const _0x5e495e=_0x92d81d;if(!_0x4b2d48[_0x5e495e(0xa5)]&&_0x4b2d48[_0x5e495e(0x1fc)]!=config[_0x5e495e(0x1bd)]){let _0x230a1d=dbCoinResults['get']('coins')['find']({'coin':_0x4b2d48[_0x5e495e(0x1fc)]})['value']();if(!_0x230a1d){const _0x453e3f=currentCoins[_0x5e495e(0xbf)](_0xc9413=>_0xc9413[_0x5e495e(0x1fc)]==_0x4b2d48[_0x5e495e(0x1fc)]),_0x60743b=global[_0x5e495e(0x1f0)][noslash(_0x4b2d48[_0x5e495e(0x150)])];let _0x1d3716=_0x453e3f?_0x453e3f[_0x5e495e(0x103)]:null,_0x5cad9d=_0x4b2d48['reverse']?0x1/_0x60743b:_0x60743b,_0x14f5f4;config[_0x5e495e(0xf7)]['forEach'](_0x304967=>{const _0x6023cb=_0x5e495e;!_0x14f5f4&&(_0x14f5f4=_0x304967[_0x6023cb(0x102)][_0x6023cb(0xbf)](_0x435205=>_0x435205['coin']==_0x4b2d48['coin']),_0x14f5f4&&(_0x1d3716=_0x14f5f4[_0x6023cb(0x103)],_0x5cad9d=_0x14f5f4['price']));}),_0x672a4d[_0x5e495e(0x207)]({'coin':_0x4b2d48[_0x5e495e(0x1fc)],'number':_0x1d3716,'price':_0x5cad9d});}}}),_0x672a4d[_0x92d81d(0x157)](_0x664d3f=>{const _0x420674=_0x92d81d,_0xb52400={'coin':_0x664d3f['coin'],'number':_0x664d3f[_0x420674(0x103)],'breakeven':_0x664d3f['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x420674(0xe3)](_0x420674(0x13b))[_0x420674(0x207)](_0xb52400)[_0x420674(0xc6)]();});}async function updateCoinResults(_0x3bb811,_0x3ff190=![]){const _0x1b09c2=_0x5b24ce;let _0x32c5b1,_0x348901,_0x432f84,_0x1c405f,_0x1dc7e8,_0x3ee6fb,_0x5d3e46=dbCoinResults[_0x1b09c2(0xe3)]('coins')[_0x1b09c2(0xbf)]({'coin':_0x3bb811[_0x1b09c2(0x1fc)]})[_0x1b09c2(0x11a)]();!_0x5d3e46&&await initCoinResults();_0x3bb811[_0x1b09c2(0xb3)]&&(_0x3ee6fb={'filled':_0x3bb811[_0x1b09c2(0x165)]*_0x3bb811[_0x1b09c2(0x196)],'amount':_0x3bb811['filled']*_0x3bb811[_0x1b09c2(0x196)],'side':_0x3bb811[_0x1b09c2(0x173)]==_0x1b09c2(0xa4)?_0x1b09c2(0x19c):_0x1b09c2(0xa4),'price':0x1/_0x3bb811[_0x1b09c2(0x196)]},_0x3bb811={..._0x3bb811,..._0x3ee6fb});_0x3ff190?_0x348901=_0x3bb811['side']=='buy'?_0x5d3e46['number']+_0x3bb811[_0x1b09c2(0x165)]:_0x5d3e46[_0x1b09c2(0x103)]-_0x3bb811[_0x1b09c2(0x165)]:_0x348901=await getCoinNumber(_0x3bb811[_0x1b09c2(0x1fc)]);if(_0x3bb811[_0x1b09c2(0xb4)]&&_0x3bb811['fee'][_0x1b09c2(0x1e5)]==config[_0x1b09c2(0x1bd)])_0x32c5b1=_0x3bb811[_0x1b09c2(0xb4)][_0x1b09c2(0xa6)];else{if(_0x3bb811[_0x1b09c2(0xb4)]&&_0x3bb811[_0x1b09c2(0xb4)]['currency']==_0x1b09c2(0x16f)&&!_0x3ff190)_0x32c5b1=_0x3bb811[_0x1b09c2(0xb4)][_0x1b09c2(0xa6)]*global[_0x1b09c2(0x1f0)]['BNB'+config['basecoin']];else _0x32c5b1=defaultFee*_0x3bb811[_0x1b09c2(0x165)]*_0x3bb811[_0x1b09c2(0x196)];}_0x3bb811['side']==_0x1b09c2(0x19c)?(_0x432f84=_0x348901!=0x0?(_0x5d3e46[_0x1b09c2(0x205)]*_0x5d3e46[_0x1b09c2(0x103)]+_0x3bb811['price']*(_0x348901-_0x5d3e46[_0x1b09c2(0x103)])+_0x32c5b1)/_0x348901:0x0,_0x1c405f=_0x5d3e46[_0x1b09c2(0xeb)]):(_0x432f84=_0x348901!=0x0?(_0x5d3e46[_0x1b09c2(0x205)]*_0x5d3e46[_0x1b09c2(0x103)]-_0x3bb811[_0x1b09c2(0x196)]*(_0x5d3e46[_0x1b09c2(0x103)]-_0x348901)+_0x32c5b1)/_0x348901:0x0,_0x1c405f=_0x5d3e46['realized']+(_0x3bb811[_0x1b09c2(0x196)]-_0x5d3e46[_0x1b09c2(0x205)])*_0x3bb811['filled']);_0x1dc7e8=(_0x3bb811['price']-_0x432f84-_0x32c5b1/_0x3bb811[_0x1b09c2(0x165)])*_0x348901;let _0x1b957f={'coin':_0x3bb811[_0x1b09c2(0x1fc)],'number':_0x348901,'breakeven':formatResult(_0x432f84,0x8),'realized':formatResult(_0x1c405f,0x8),'unrealized':formatResult(_0x1dc7e8,0x8),'fees':formatResult(_0x5d3e46[_0x1b09c2(0x105)]+_0x32c5b1,0x8),'sells':_0x3bb811['side']==_0x1b09c2(0xa4)?_0x5d3e46[_0x1b09c2(0x1b5)]+0x1:_0x5d3e46['sells'],'buys':_0x3bb811[_0x1b09c2(0x173)]=='buy'?_0x5d3e46[_0x1b09c2(0x197)]+0x1:_0x5d3e46[_0x1b09c2(0x197)]};dbCoinResults[_0x1b09c2(0xe3)](_0x1b09c2(0x13b))[_0x1b09c2(0xbf)]({'coin':_0x3bb811[_0x1b09c2(0x1fc)]})[_0x1b09c2(0x11b)](_0x1b957f)['write']();if(!_0x3ff190){if(_0x3bb811[_0x1b09c2(0xb4)]&&_0x3bb811[_0x1b09c2(0xb4)][_0x1b09c2(0x1e5)]==_0x1b09c2(0x16f)){const _0x5f012d=currentCoins[_0x1b09c2(0xbf)](_0x310091=>_0x310091['coin']==_0x1b09c2(0x16f));if(_0x5f012d){let _0xfd062f=dbCoinResults[_0x1b09c2(0xe3)]('coins')[_0x1b09c2(0xbf)]({'coin':_0x1b09c2(0x16f)})['value']();_0x1b957f={..._0xfd062f,'number':_0x5f012d['number']},dbCoinResults[_0x1b09c2(0xe3)](_0x1b09c2(0x13b))[_0x1b09c2(0xbf)]({'coin':_0x1b09c2(0x16f)})[_0x1b09c2(0x11b)](_0x1b957f)[_0x1b09c2(0xc6)]();}}}}async function placeOrder(_0x1dc72d){const _0x8d4e96=_0x5b24ce,_0xe0fa30=config['ordertype']==_0x8d4e96(0xd8)?_0x8d4e96(0xd8):_0x8d4e96(0xd4);if(lockOrders==ORDERS[_0x8d4e96(0x125)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x8d4e96(0xa7)],allOrdersPlaced=![],validateOrdersState='initial',lastOrders=[];for(const _0x254640 of _0x1dc72d){let _0x4f927e,_0x1e99d5,_0x509df8,_0x2f91b2,_0x35a02e,_0x25337e=_0x254640[_0x8d4e96(0x150)];try{const _0x26a536=await exchange[_0x8d4e96(0x156)](_0x25337e);_0x4f927e=_0x254640[_0x8d4e96(0xb3)]?0x1/_0x254640['last']:_0x254640[_0x8d4e96(0x192)],_0x1e99d5=_0x26a536[_0x8d4e96(0xf5)],_0x509df8=_0x26a536[_0x8d4e96(0x1dc)];_0x254640[_0x8d4e96(0xb3)]?(_0x2f91b2=_0x254640[_0x8d4e96(0x173)]=='buy'?_0x8d4e96(0xa4):_0x8d4e96(0x19c),_0x35a02e=Math[_0x8d4e96(0x1c9)](_0x254640['trade'])/_0x4f927e):(_0x2f91b2=_0x254640[_0x8d4e96(0x173)],_0x35a02e=Math[_0x8d4e96(0x1c9)](_0x254640['trade']));_0xe0fa30=='limit'&&(config[_0x8d4e96(0x147)]==_0x8d4e96(0x18f)&&(_0x4f927e=_0x2f91b2==_0x8d4e96(0x19c)?_0x1e99d5:_0x509df8),config[_0x8d4e96(0x147)]==_0x8d4e96(0x1aa)&&(_0x4f927e=_0x2f91b2==_0x8d4e96(0x19c)?_0x509df8:_0x1e99d5));_0x35a02e=formatResult(_0x35a02e,0x8),_0x4f927e=formatResult(_0x4f927e,0x8);const _0x40c44e=_0x2f91b2==_0x8d4e96(0xa4)?config[_0x8d4e96(0x210)]?String[_0x8d4e96(0x1c6)]('0x'+config['emojisell'])+'\x20':'':config[_0x8d4e96(0x1fa)]?String[_0x8d4e96(0x1c6)]('0x'+config['emojibuy'])+'\x20':'',_0x2a6562=_0xe0fa30==_0x8d4e96(0xd8)?_0x8d4e96(0xb2):config[_0x8d4e96(0x147)]==_0x8d4e96(0x18f)?'Limit\x20(high-margin)':_0x8d4e96(0xce),_0xdc8886=new Date()[_0x8d4e96(0x19f)]()[_0x8d4e96(0x1de)]()[_0x8d4e96(0xe1)](-0x6)+'-'+Math['random']()[_0x8d4e96(0x1de)]()[_0x8d4e96(0xe1)](-0x6);lastOrders['push']({'customId':_0xdc8886,'symbol':_0x25337e,'coin':_0x254640[_0x8d4e96(0x1fc)],'side':_0x2f91b2,'reverse':_0x254640[_0x8d4e96(0xb3)],'filled':0x0});if(_0xe0fa30==_0x8d4e96(0xd8))logHistory(_0x8d4e96(0x117),''+_0x40c44e+_0x2a6562+_0x8d4e96(0x1c5)+_0x25337e+'\x20'+_0x2f91b2+'\x20#'+formatResult(_0x35a02e,0x8)+'\x20@'+formatResult(_0x4f927e,0x8));else logHistory(_0x8d4e96(0x117),''+_0x40c44e+_0x2a6562+'\x20order:\x20'+_0x25337e+'\x20'+_0x2f91b2+'\x20#'+formatResult(_0x35a02e,0x8)+'\x20@'+formatResult(_0x4f927e,0x8));const _0x2c6848=await exchange[_0x8d4e96(0x106)](_0x25337e,_0xe0fa30,_0x2f91b2,_0x35a02e,_0x4f927e,{'clientOrderId':_0xdc8886}),_0xa45d38=lastOrders[_0x8d4e96(0x111)]-0x1;_0xa45d38>=0x0&&lastOrders[_0xa45d38][_0x8d4e96(0x1f5)]==_0xdc8886&&(lastOrders[_0xa45d38]={...lastOrders[_0xa45d38],'orderId':_0x2c6848['id'],'amount':_0x2c6848[_0x8d4e96(0x10a)],'price':_0x2c6848[_0x8d4e96(0x196)],'fee':_0x2c6848['fee']});if(config[_0x8d4e96(0x1e6)]!=0x0){let _0x443395=null;if(cooldownTracker['length']==config[_0x8d4e96(0x1e6)]-0x1)_0x443395=cooldownTracker[_0x8d4e96(0x1b3)]();const _0x137b67=getTimeStamp();cooldownTracker['push'](_0x137b67);if(_0x443395){const _0x3dff33=fns[_0x8d4e96(0x100)](new Date(_0x137b67),new Date(_0x443395));if(_0x3dff33<cooldownInterval){logHistory(_0x8d4e96(0xa2),'Executed\x20'+config[_0x8d4e96(0x1e6)]+_0x8d4e96(0x9c)+cooldownInterval/0x3c+_0x8d4e96(0x179)+cooldownPeriod/(0xe10*0x3e8)+_0x8d4e96(0x11f)),coolingDown=!![];break;}}}}catch(_0x37db8f){if(_0x37db8f[_0x8d4e96(0x1de)]()[_0x8d4e96(0xe6)](_0x8d4e96(0x1b2)))lastOrders=lastOrders[_0x8d4e96(0x18a)](_0x26c26b=>_0x26c26b[_0x8d4e96(0x150)]!=_0x25337e),await pauseBot(_0x8d4e96(0x1db)+_0x25337e);else _0x37db8f[_0x8d4e96(0x1de)]()[_0x8d4e96(0xe6)](_0x8d4e96(0xc2))?(lastOrders=lastOrders['filter'](_0x2476c8=>_0x2476c8[_0x8d4e96(0x150)]!=_0x25337e),await pauseBot('Order\x20amount\x20is\x20invalid:\x20'+_0x25337e)):(lastOrders=lastOrders['filter'](_0x33fa8f=>_0x33fa8f[_0x8d4e96(0x150)]!=_0x25337e),await handleError(_0x37db8f,_0x8d4e96(0x13c),_0x25337e));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x8d4e96(0x111)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x188cbc=config['ordertype']==_0x8d4e96(0xd8)?validateOrderTimeout*0x3c*0x3e8:config[_0x8d4e96(0x17d)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x188cbc);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x8d4e96(0x1a8),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x8d4e96(0x184)]&&logHistory('error',_0x8d4e96(0x16e));else lockOrders!=ORDERS[_0x8d4e96(0x125)]&&(!config[_0x8d4e96(0x184)]&&(config[_0x8d4e96(0x147)]==_0x8d4e96(0xd8)?logHistory(_0x8d4e96(0xa2),_0x8d4e96(0x1a6)):logHistory(_0x8d4e96(0xa2),_0x8d4e96(0x159))));}}function persistOpenOrders(_0x27e2e8){const _0x33e1dd=_0x5b24ce,_0x11bf9e={...config,'openOrders':_0x27e2e8};let _0x331a4e=dbConfig[_0x33e1dd(0xe3)]('bot')[_0x33e1dd(0xbf)]({'botID':botID})[_0x33e1dd(0x11a)]();_0x331a4e&&dbConfig['get']('bot')[_0x33e1dd(0xbf)]({'botID':botID})[_0x33e1dd(0x11b)](_0x11bf9e)[_0x33e1dd(0xc6)]();}function restoreOrders(){const _0x3446e5=_0x5b24ce;let _0x4adcb6;config[_0x3446e5(0x11d)]&&allOpenOrders[_0x3446e5(0x157)](_0x57ff4c=>{const _0x5a9be7=_0x3446e5,_0x696e82=config[_0x5a9be7(0x11d)]['find'](_0x29bac1=>_0x29bac1[_0x5a9be7(0x1c2)]==_0x57ff4c['id']);_0x696e82&&(lastOrders[_0x5a9be7(0x207)](_0x696e82),_0x4adcb6=_0x57ff4c[_0x5a9be7(0x9b)]);});if(lastOrders[_0x3446e5(0x111)]>0x0){lockOrders=ORDERS[_0x3446e5(0xa7)],validateOrdersState=_0x3446e5(0xcc),allOrdersPlaced=!![];const _0x55a212=new Date()['getTime'](),_0x537309=config[_0x3446e5(0x147)]==_0x3446e5(0xd8)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x4adcb6+_0x537309>_0x55a212){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x112fc5=_0x3446e5;validateOrders(_0x112fc5(0xec));},_0x4adcb6+_0x537309-_0x55a212);}else validateOrders(_0x3446e5(0xec));}}async function sendMetricsTelegram(){const _0x5c69e3=_0x5b24ce;if(!coinsLoaded){process['send']({'telegrammsg':_0x5c69e3(0x1ea)},_0x5d58b4=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x33b830='';if(config[_0x5c69e3(0x113)])_0x33b830='<b>'+config['botname']+_0x5c69e3(0x204);else _0x33b830=_0x5c69e3(0x1b9)+botID+_0x5c69e3(0x204);const _0x4cf2ee=getKPIs(_0x5c69e3(0x1bd)),_0x4f4a21=getKPIs(_0x5c69e3(0xda),config['fiat']),_0x94f101=getKPIs(_0x5c69e3(0x122)),_0x2246ed=getKPIs(_0x5c69e3(0xdf),config[_0x5c69e3(0xda)]);_0x33b830+=_0x5c69e3(0x1d8),_0x33b830+=_0x4cf2ee[_0x5c69e3(0x1b4)]+'\x20:\x20'+_0x4cf2ee[_0x5c69e3(0x11a)]+'\x0a',_0x33b830+=_0x4cf2ee[_0x5c69e3(0xd0)]+':\x20'+_0x4cf2ee[_0x5c69e3(0x1ec)]+'%\x0a',_0x33b830+=_0x4f4a21[_0x5c69e3(0x1b4)]+_0x5c69e3(0x1e7)+_0x4f4a21['value']+'\x0a',_0x33b830+=_0x4f4a21[_0x5c69e3(0xd0)]+':\x20'+_0x4f4a21[_0x5c69e3(0x1ec)]+'%\x0a',_0x33b830+=_0x94f101[_0x5c69e3(0x1b4)]+':\x20'+_0x94f101[_0x5c69e3(0x11a)]+'\x20('+config[_0x5c69e3(0x1bd)]+')\x0a',_0x33b830+=_0x94f101[_0x5c69e3(0xd0)]+':\x20'+_0x94f101[_0x5c69e3(0x1ec)]+'%\x20('+config[_0x5c69e3(0x1bd)]+')\x0a',_0x33b830+=_0x2246ed[_0x5c69e3(0x1b4)]+':\x20'+_0x2246ed[_0x5c69e3(0x11a)]+'\x20('+config[_0x5c69e3(0xda)]+')\x0a',_0x33b830+=_0x2246ed[_0x5c69e3(0xd0)]+':\x20'+_0x2246ed['change']+'%\x20('+config[_0x5c69e3(0xda)]+')\x0a',_0x33b830+=_0x5c69e3(0x123),process[_0x5c69e3(0x144)]({'telegrammsg':_0x33b830},_0x455b7c=>{});}async function sendPortfolioTelegram(){const _0x53b4e7=_0x5b24ce;if(!coinsLoaded){process[_0x53b4e7(0x144)]({'telegrammsg':_0x53b4e7(0x1ea)},_0xace6b7=>{});return;}let _0x129089='';if(config[_0x53b4e7(0x113)])_0x129089='<b>'+config[_0x53b4e7(0x1e0)]+_0x53b4e7(0xde);else _0x129089=_0x53b4e7(0x1b9)+botID+_0x53b4e7(0xde);_0x129089+=_0x53b4e7(0x1d8),_0x129089+=_0x53b4e7(0x160),_0x129089+=_0x53b4e7(0xd3),_0x129089+=_0x53b4e7(0x160),currentCoins[_0x53b4e7(0x157)](_0x3144b1=>{const _0x12e98e=_0x53b4e7;_0x129089+=_0x3144b1[_0x12e98e(0x1fc)]['padEnd'](0x7)+'|\x20'+formatPad(_0x3144b1['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x3144b1[_0x12e98e(0x201)],0x2,0x6)+'|\x20'+formatPad(_0x3144b1[_0x12e98e(0x185)]*0x64,0x2,0x6)+'\x0a';}),_0x129089+=_0x53b4e7(0x123),process['send']({'telegrammsg':_0x129089},_0x38e512=>{});}function formatPad(_0x5da5e3,_0x2b2fe7,_0x2d88ef){const _0xb85acb=_0x5b24ce,_0x37c749=formatResultString(_0x5da5e3,_0x2b2fe7);return _0x37c749?_0x37c749[_0xb85acb(0xa3)](_0x2d88ef):''['padStart'](_0x2d88ef);}function logHistory(_0x483b4f,_0x35e4a9,_0x1e2659=''){const _0x2cf7c4=_0x5b24ce;let _0x42a2f9={'time':getTimeStamp(),'type':_0x483b4f,'event':_0x35e4a9};dbLogs[_0x2cf7c4(0xe3)](_0x2cf7c4(0x14b))[_0x2cf7c4(0x207)](_0x42a2f9)[_0x2cf7c4(0xc6)]();if(_0x1e2659=='')_0x1e2659=_0x35e4a9;proxyEmit(_0x2cf7c4(0x1e3),{'log':_0x42a2f9,'summary':_0x1e2659}),process[_0x2cf7c4(0x144)]({'telegram':{..._0x42a2f9,'botname':config[_0x2cf7c4(0x1e0)],'showname':config['showname']}},_0xcbd8aa=>{}),logger[_0x2cf7c4(0xfc)](''+_0x42a2f9[_0x2cf7c4(0x1e3)]);}function emitHistory(_0x1eff6c={}){const _0x3310a9=_0x5b24ce;Object[_0x3310a9(0xf4)](_0x1eff6c)['length']==0x0&&(_0x1eff6c={'type':[_0x3310a9(0x117),_0x3310a9(0x1e3)],'event':'','page':0x1});if(_0x1eff6c['type'][_0x3310a9(0xe6)](_0x3310a9(0x1e3)))_0x1eff6c[_0x3310a9(0xc5)][_0x3310a9(0xf0)](_0x1eff6c['type'][_0x3310a9(0x118)]('event'),0x1,'error',_0x3310a9(0x120),'success');if(dbLogs[_0x3310a9(0x19a)](_0x3310a9(0x14b))[_0x3310a9(0x11a)]()){let _0x3e85cb=dbLogs[_0x3310a9(0xe3)](_0x3310a9(0x14b))[_0x3310a9(0x18a)](_0x1fee03=>{const _0x35d8f3=_0x3310a9;if(_0x1eff6c[_0x35d8f3(0xc5)][_0x35d8f3(0x111)]==0x0)return![];else return _0x1eff6c[_0x35d8f3(0xc5)][_0x35d8f3(0xe6)](_0x1fee03['type']);})[_0x3310a9(0x18a)](_0x2a24f1=>{const _0x924d07=_0x3310a9;if(_0x1eff6c[_0x924d07(0x1e3)]=='')return!![];else return _0x2a24f1[_0x924d07(0x1e3)][_0x924d07(0x1af)]()[_0x924d07(0xe6)](_0x1eff6c[_0x924d07(0x1e3)][_0x924d07(0x1af)]());})[_0x3310a9(0x18c)](_0x3310a9(0x1f2)),_0x267a37=_0x3e85cb[_0x3310a9(0x11a)]()[_0x3310a9(0x111)];_0x3e85cb=_0x3e85cb['reverse']()['slice']((_0x1eff6c[_0x3310a9(0x1c0)]-0x1)*logPageSize,_0x1eff6c[_0x3310a9(0x1c0)]*logPageSize-0x1)[_0x3310a9(0xb3)]()[_0x3310a9(0x11a)](),proxyEmit(_0x3310a9(0xae),{'logs':_0x3e85cb,'total':_0x267a37});}else proxyEmit(_0x3310a9(0xae),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x50be4f){const _0x314702=_0x5b24ce;if(dbLogs[_0x314702(0x19a)]('logs')[_0x314702(0x11a)]()){const _0x29ab29=dbLogs[_0x314702(0xe3)]('logs')[_0x314702(0x18c)]('time')[_0x314702(0x18a)](_0x2466a8=>{const _0x3ffa56=_0x314702;return _0x2466a8[_0x3ffa56(0xc5)]=='order';})[_0x314702(0x11a)]();dbLogs[_0x314702(0xe3)](_0x314702(0x14b))[_0x314702(0xf6)]()[_0x314702(0xc6)](),dbLogs[_0x314702(0xe3)](_0x314702(0x14b))['assign'](_0x29ab29)['write'](),emitHistory(_0x50be4f);}}async function pauseBot(_0xced880=''){const _0x641169=_0x5b24ce,_0x3f016b=new Date()[_0x641169(0x19f)]();if(!lastErrorShown||_0x3f016b-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x3f016b;!lastBotPause?(lastBotPause=_0x3f016b,consecutivePauses=0x1):(_0x3f016b-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x641169(0x144)]({'stop':'restart'},_0x39a9ae=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x641169(0x19f)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0xced880)_0xced880+='\x20|\x20';logHistory('error',_0xced880+_0x641169(0x1cc)+pauseBotInterval/0xea60+_0x641169(0x155)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){process['send']({'stop':'kill'},_0xfffe92=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0xc684e2,_0x34f379){const _0x2744fe=_0x5b24ce;if(_0xc684e2[_0x2744fe(0x1de)]()[_0x2744fe(0xe6)](_0x2744fe(0x1c4)))return logHistory(_0x2744fe(0xa2),config[_0x2744fe(0x167)]+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration'),![];else{if(_0xc684e2[_0x2744fe(0x1de)]()[_0x2744fe(0xe6)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x2744fe(0xa2),config[_0x2744fe(0x167)]+_0x2744fe(0x169)),![];else{if(_0xc684e2[_0x2744fe(0x1de)]()[_0x2744fe(0xe6)](_0x2744fe(0x19e)))return logHistory(_0x2744fe(0xa2),config[_0x2744fe(0x167)]+_0x2744fe(0x15e)),logHistory(_0x2744fe(0xa2),_0x2744fe(0x16d)),![];else await handleError(_0xc684e2,_0x34f379);}}}async function handleError(_0x187577,_0x5c3c07,_0x11a9d0=''){const _0x5168fc=_0x5b24ce,_0x2d2dfd=config['exchange']||_0x5168fc(0x187);if(_0x187577[_0x5168fc(0x1de)]()['includes']('DDoSProtection'))await pauseBot(config['exchange']+_0x5168fc(0x15a));else{if(_0x187577[_0x5168fc(0x1de)]()[_0x5168fc(0xe6)](_0x5168fc(0xca)))await pauseBot(config['exchange']+_0x5168fc(0x1d5));else{if(_0x187577[_0x5168fc(0x1de)]()['includes'](_0x5168fc(0x1cf)))await pauseBot(config[_0x5168fc(0x167)]+_0x5168fc(0xdb));else{if(_0x187577[_0x5168fc(0x1de)]()[_0x5168fc(0xe6)](_0x5168fc(0x1d0)))await pauseBot(config[_0x5168fc(0x167)]+_0x5168fc(0x1ba));else{if(_0x187577[_0x5168fc(0x1de)]()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x5168fc(0xa2),_0x5c3c07+_0x5168fc(0xd2)),logHistory(_0x5168fc(0xa2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x187577[_0x5168fc(0x1de)]()[_0x5168fc(0xe6)](_0x5168fc(0x98)))logHistory('error',_0x5c3c07+_0x5168fc(0x1fe)),logHistory(_0x5168fc(0xa2),_0x5168fc(0xb5)),await killBot();else{if(_0x187577[_0x5168fc(0x1de)]()[_0x5168fc(0xe6)](_0x5168fc(0x1c4)))logHistory('error',_0x5c3c07+'\x20|\x20'+config[_0x5168fc(0x167)]+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x5168fc(0xa2),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x187577[_0x5168fc(0x1de)]()[_0x5168fc(0xe6)](_0x5168fc(0x126)))logHistory('error',_0x5c3c07+'\x20|\x20'+config['exchange']+_0x5168fc(0xab)),logHistory(_0x5168fc(0xa2),_0x5168fc(0xb5)),await killBot();else{if(_0x187577[_0x5168fc(0x1de)]()[_0x5168fc(0xe6)](_0x5168fc(0x19e)))logHistory(_0x5168fc(0xa2),_0x5c3c07+'\x20|\x20'+config[_0x5168fc(0x167)]+_0x5168fc(0xf2)),logHistory(_0x5168fc(0xa2),_0x5168fc(0xb5)),await killBot();else _0x187577[_0x5168fc(0x1de)]()[_0x5168fc(0xe6)](_0x5168fc(0x1e2))?logHistory(_0x5168fc(0xa2),_0x5c3c07+_0x5168fc(0x1ca)+_0x11a9d0):(logger[_0x5168fc(0xfc)](_0x5c3c07+_0x5168fc(0x17a),_0x187577),await pauseBot(_0x5168fc(0x142)));}}}}}}}}}function formatResult(_0x149d3a,_0x95415c){const _0x404dab=_0x5b24ce;return parseFloat(_0x149d3a[_0x404dab(0x1d2)](_0x95415c));}function formatResultTruncate(_0x383be5,_0x34fef2){const _0x2d7758=_0x5b24ce;let _0x5c9d8e=formatResultString(_0x383be5,0xa),_0x462c6b=_0x5c9d8e[_0x2d7758(0x118)]('.');return _0x462c6b!=-0x1&&(_0x5c9d8e=_0x5c9d8e[_0x2d7758(0xe1)](0x0,_0x462c6b+_0x34fef2+0x1)),Number(_0x5c9d8e);}function formatResultString(_0x3323e2,_0x50d755){const _0x57bcd0=_0x5b24ce;let _0x41f999;if(!(''+_0x3323e2)[_0x57bcd0(0xe6)]('e'))_0x41f999=+(Math['round'](_0x3323e2+'e+'+_0x50d755)+'e-'+_0x50d755);else{let _0x48e48d=(''+_0x3323e2)[_0x57bcd0(0x11c)]('e'),_0xe77a87='';+_0x48e48d[0x1]+_0x50d755>0x0&&(_0xe77a87='+'),_0x41f999=+(Math['round'](+_0x48e48d[0x0]+'e'+_0xe77a87+(+_0x48e48d[0x1]+_0x50d755))+'e-'+_0x50d755);}return Number(_0x41f999)[_0x57bcd0(0x1d2)](_0x50d755);}function getServerTime(){const _0x23c277=_0x5b24ce,_0x44fe91=new Date();return _0x44fe91[_0x23c277(0x1ac)]()+'/'+(_0x44fe91[_0x23c277(0x166)]()+0x1)[_0x23c277(0x1de)]()[_0x23c277(0xa3)](0x2,'0')+'/'+_0x44fe91[_0x23c277(0x10e)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x44fe91[_0x23c277(0xfb)]()['toString']()['padStart'](0x2,'0')+':'+_0x44fe91[_0x23c277(0x1a2)]()[_0x23c277(0x1de)]()[_0x23c277(0xa3)](0x2,'0')+':'+_0x44fe91[_0x23c277(0x1f8)]()[_0x23c277(0x1de)]()[_0x23c277(0xa3)](0x2,'0');}function getTimeStamp(){const _0x5cd487=_0x5b24ce,_0x576061=shiftedTime();return _0x576061['getFullYear']()+'/'+(_0x576061[_0x5cd487(0x166)]()+0x1)['toString']()[_0x5cd487(0xa3)](0x2,'0')+'/'+_0x576061[_0x5cd487(0x10e)]()[_0x5cd487(0x1de)]()[_0x5cd487(0xa3)](0x2,'0')+'\x20'+_0x576061['getHours']()[_0x5cd487(0x1de)]()[_0x5cd487(0xa3)](0x2,'0')+':'+_0x576061[_0x5cd487(0x1a2)]()[_0x5cd487(0x1de)]()[_0x5cd487(0xa3)](0x2,'0')+':'+_0x576061[_0x5cd487(0x1f8)]()[_0x5cd487(0x1de)]()['padStart'](0x2,'0');}function getDate(){const _0x423066=_0x5b24ce,_0xf13d00=shiftedTime();return _0xf13d00[_0x423066(0x1ac)]()+'/'+(_0xf13d00[_0x423066(0x166)]()+0x1)['toString']()[_0x423066(0xa3)](0x2,'0')+'/'+_0xf13d00[_0x423066(0x10e)]()['toString']()[_0x423066(0xa3)](0x2,'0');}function getHour(){const _0x230c00=_0x5b24ce,_0x3d7bb8=shiftedTime();return _0x3d7bb8[_0x230c00(0xfb)]()['toString']()[_0x230c00(0xa3)](0x2,'0');}function sleep(_0x4c31c6){return new Promise(_0xb6b5dc=>setTimeout(_0xb6b5dc,_0x4c31c6));}function shiftedTime(){const _0x50bb14=_0x5b24ce,_0x21a0ea=new Date();let _0x450240=_0x21a0ea;if(config&&config['timeshift']!==0x0)_0x450240=fns[_0x50bb14(0xfe)](_0x21a0ea,{'hours':config[_0x50bb14(0xc7)]});return _0x450240;}function timer(_0x3ce16e){const _0x11827e=_0x5b24ce,_0x5a8e1c=new Date();!lasttime?console[_0x11827e(0x1a7)]('timer:',_0x3ce16e,_0x5a8e1c):console[_0x11827e(0x1a7)](_0x11827e(0x1e9),_0x3ce16e,(_0x5a8e1c-lasttime)/0x3e8),lasttime=_0x5a8e1c;}