const _0x3c0d4a=_0x582a;(function(_0x3b1853,_0x162220){const _0x48fe4a=_0x582a,_0x474168=_0x3b1853();while(!![]){try{const _0x20c935=-parseInt(_0x48fe4a(0x1bc))/0x1*(-parseInt(_0x48fe4a(0x9b))/0x2)+parseInt(_0x48fe4a(0x1fd))/0x3*(-parseInt(_0x48fe4a(0x1e9))/0x4)+parseInt(_0x48fe4a(0xb0))/0x5+-parseInt(_0x48fe4a(0x179))/0x6*(parseInt(_0x48fe4a(0xc5))/0x7)+-parseInt(_0x48fe4a(0x1a3))/0x8*(parseInt(_0x48fe4a(0xa9))/0x9)+parseInt(_0x48fe4a(0x1c3))/0xa*(-parseInt(_0x48fe4a(0x1e5))/0xb)+-parseInt(_0x48fe4a(0xf8))/0xc*(-parseInt(_0x48fe4a(0xc9))/0xd);if(_0x20c935===_0x162220)break;else _0x474168['push'](_0x474168['shift']());}catch(_0x46184a){_0x474168['push'](_0x474168['shift']());}}}(_0x62f1,0x7b2d6));const _0x295856=function(){let _0x450d31=!![];return function(_0x5ded5a,_0x29ef8c){const _0x25ecae=_0x450d31?function(){const _0x3d3487=_0x582a;if(_0x29ef8c){const _0x5c4747=_0x29ef8c[_0x3d3487(0x1a2)](_0x5ded5a,arguments);return _0x29ef8c=null,_0x5c4747;}}:function(){};return _0x450d31=![],_0x25ecae;};}(),_0x4b31c1=_0x295856(this,function(){const _0xede184=_0x582a;return _0x4b31c1[_0xede184(0xed)]()[_0xede184(0x1f7)](_0xede184(0xf1))['toString']()[_0xede184(0x1fe)](_0x4b31c1)[_0xede184(0x1f7)](_0xede184(0xf1));});_0x4b31c1();'use strict';const ccxt=require(_0x3c0d4a(0xdf))['pro'],low=require(_0x3c0d4a(0x119)),FileSync=require(_0x3c0d4a(0x15d)),fs=require('fs'),fns=require(_0x3c0d4a(0xa4)),Crypt=require(_0x3c0d4a(0x157))[_0x3c0d4a(0x203)],util=require(_0x3c0d4a(0xec)),argv=require(_0x3c0d4a(0xd4))(process[_0x3c0d4a(0xbb)][_0x3c0d4a(0x123)](0x2))['argv'],path=require(_0x3c0d4a(0xc8));let exchange;global[_0x3c0d4a(0xc6)]={},global[_0x3c0d4a(0xac)]={};const exceptions={'binance':[_0x3c0d4a(0x1cc),'HOT/BTC',_0x3c0d4a(0x113),'NANO/',_0x3c0d4a(0x180)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x3c0d4a(0x190)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x3c0d4a(0x122)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];function _0x62f1(){const _0x21b8fe=['\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','threshold','Invalid\x20quantity','find','\x20not\x20responding','</pre>','Order\x20amount\x20is\x20invalid:\x20','getPortfolio(1)','enabled','settings','sortBy','/output-000.log','bb-secure.json','running','excluded','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','storeConfiguration','apply','38872LvAPGq','getHours','bots','toLowerCase','onepagemode','1\x20-\x20FILLED:\x20','emojibuy','leftTxt','eur','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','value','coins','reverse','ORDERS.LOCKED','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','openOrders','net-fiat','abs','Unfilled\x20order(s)\x20canceled\x20after\x20','BTC','2\x20-\x20Validate\x20orders:\x20','includes','string','orderstatus','Order\x20filled:\x20','763697CNyPqD','filled','net-basecoin','Binance','liquidity','\x20API\x20key\x20is\x20invalid','clientOrderId','10sbWPZA','balancing\x20resumes\x20when\x20cooldown\x20ends','mkdirSync','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','send','removed','Manual\x20balancing\x20required','set','\x20value','DAI/','Portfolio\x20change\x20detected:\x20','getCoinNumber()','join','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','deleteHistoryAlerts','concat','decrypt','/USD','sells','%\x20(','timeshift','push','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','currency','fetchTickers','findIndex','-events.json','data','max','fetchBalance','\x20|\x20highest:\x20','\x20API\x20secret\x20is\x20invalid','change24h','cancelOrders()','3859823zlLFwt','customId','No\x20more\x20open\x20orders\x20-\x20','type','4zXqnRv','BNB','2\x20-\x20Handled\x20open\x20orders','trade','split','bb-settings.json','balancing\x20resumed','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','exchange','has','status','Initiating\x20exchange\x20reload','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','message','search','highest','\x20minutes','time','apiKey','headless','258069oTnFFG','constructor','exchange\x20not\x20reloaded','delta','symbols','coin-loading-progress','Crypt','.json','getPortfolio','open','basecoin','watchOrders','full','canceled','recent20','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','filter','2aAaqqf','event','padStart','cancel','offset','writeFile','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','2\x20-\x20FILLED\x20unknown\x20order:\x20','loadSymbols()','date-fns','indexOf','exchange\x20reloaded','emitHistory','Limit\x20(high-margin)','1062PCACFy','ordertype','./config/','change','isEqual','getOpenOrders()','symbol','3160420LqdRHp','LOCKED','datetime','recreateCoinResults()','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','breakeven','configuration','Invalid\x20API\x20key\x20or\x20secret\x20entered','Resetting\x20bot\x20history','watchTransactions','API-key\x20format\x20invalid','argv','limits','./logs/','\x20order:\x20','Saving\x20configuration','splice','./version.json',':\x20Bot\x20','botID','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','7TQGHkY','ticker','getCoins()','path','314938ZSNKCV','-------------------------------\x0a','\x20>\x20[DEBUG]\x20','number','loadMarkets','timestamp','Transaction\x20detection\x20unblocked','3\x20-\x20handling\x20FILLED\x20order:\x20','starting-balance-','get','error','yargs/yargs','price','realized','getFullYear','2.3.5','toFixed','cost','\x20>\x20','1\x20-\x20Unlock\x20orders','ETH','changes','ccxt','length','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','-performance.json','Avoiding\x20continuous\x20order\x20attempts','fetchOpenOrders','OrderNotFound','Net\x20effect','performance','createOrder','\x20metrics:</b>\x20\x0a\x0a','valid','fees','util','toString','parse','Error\x20while\x20deleting\x20files:\x20','exec','(((.+)+)+)+$','\x20|\x20lock\x20orders:\x20','***','stringify','parseISO','createWriteStream','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','408WfCXtH','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','fiat','forEach','fee','\x20closed\x20the\x20connection','amount','assign','ongoing','bot','percentage','args','\x20portfolio:</b>\x20\x0a\x0a','ExchangeNotAvailable','timeout','limit-low','rightTxt','************','\x20|\x20','\x20minutes\x20-\x20','getStartingBalances','fetchTicker','portfolio','remove','BNB/','closed','milliseconds','XEM/BUSD','differenceInSeconds','progress','date',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','lowdb','storeHeadless','fromCodePoint','initclient','BUSD','\x20exchange','write','sendMetricsTelegram','limit-high','UNLOCKED','slice','exchanges','getDate','test','remainingSymbols','buys','round','defaults','emojisell','<b>','cloneDeep','page','startdate','Market','side','balances','/EUR','-results.json','version','\x20:\x20','orderId','none','001','buy','getPortfolio(0)','apiSecret','netoffset','added','Transaction\x20detection\x20blocked','log','event-history','close','Reset\x20|\x20','loading-canceled','final','MIN_NOTIONAL','showname','\x20|\x20Error\x20details:\x20','yyyy/MM/dd','warning','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','distribution','replace','\x20change','cooldown','keys','initial','RequestTimeout','debug','market','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Fee\x20discount\x20refund\x20detected:\x20','hybrid-crypto-js','order','1\x20-\x20Validate\x20orders:\x20','fetchClosedOrders','existsSync','kill','lowdb/adapters/FileSync','Pausing\x20for\x20','2\x20-\x20Orders\x20unlocked','usd','DDoSProtection','function','unlinkSync','map','ask','USD','shift','sell','resetHistory','getPortfolio(2)','success','botname','getTime','-config.json','substring','cancelOrder','USDT','privateKey','logs','coin','\x20orders\x20in\x20less\x20than\x20','getMonth','watchTrades','1\x20-\x20Handle\x20open\x20orders','4227918YlnmPX','InsufficientFunds','<pre>','configuration-stored','entries','restart','format','YOYOW/','sort','Exchange','bot-','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','total','last','\x20not\x20available','target','limit','AuthenticationError','min','EUR','<b>Bot\x20','startnumber','no\x20open\x20orders','freeze'];_0x62f1=function(){return _0x21b8fe;};return _0x62f1();}const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x3c0d4a(0xc1))[_0x3c0d4a(0x135)],botID=process[_0x3c0d4a(0xbb)][0x2]||_0x3c0d4a(0x139),pattern=/^[0-9]{3}$/;!pattern[_0x3c0d4a(0x126)](botID)&&(console['log']('Error:\x20Invalid\x20argument\x20'+botID+_0x3c0d4a(0x117)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x3c0d4a(0xab)+userID+'/':_0x3c0d4a(0xab),logspath=userID?_0x3c0d4a(0xbd)+userID+'/':'./logs/',loggerfile=fs[_0x3c0d4a(0xf6)](logspath+_0x3c0d4a(0x19c),{'flags':'a'});!fs[_0x3c0d4a(0x15b)](configpath)&&fs[_0x3c0d4a(0x1c5)](configpath);!fs['existsSync'](logspath)&&fs[_0x3c0d4a(0x1c5)](logspath);const configfile=configpath+_0x3c0d4a(0x183)+botID+_0x3c0d4a(0x16e),logfile=configpath+_0x3c0d4a(0x183)+botID+'-events.json',performancefile=configpath+_0x3c0d4a(0x183)+botID+_0x3c0d4a(0xe2),coinresultsfile=configpath+_0x3c0d4a(0x183)+botID+_0x3c0d4a(0x134),settingsfile=configpath+_0x3c0d4a(0x1ee),securefile=configpath+_0x3c0d4a(0x19d),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3c0d4a(0x12a)]({'logs':[],'version':serverversion})[_0x3c0d4a(0x11f)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x3c0d4a(0x12a)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x3c0d4a(0x12a)]({'bot':[],'version':serverversion})[_0x3c0d4a(0x11f)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x3c0d4a(0x12a)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x4ce32a=>{const _0xc40495=_0x3c0d4a;console[_0xc40495(0x140)](_0x4ce32a);},'simple':_0x40f659=>{const _0x3e419a=_0x3c0d4a;console[_0x3e419a(0x140)](_0x40f659),loggerfile[_0x3e419a(0x11f)](util[_0x3e419a(0x17f)](_0x40f659)+'\x0a');},'full':async(_0x295e34,_0x1e25fe='')=>{const _0x2c3821=_0x3c0d4a;let _0x36ae24;if(config[_0x2c3821(0x147)])_0x36ae24=getTimeStamp()+':\x20'+config[_0x2c3821(0x16c)]+_0x2c3821(0xdb)+_0x295e34;else _0x36ae24=getTimeStamp()+_0x2c3821(0xc2)+botID+'\x20>\x20'+_0x295e34;console[_0x2c3821(0x140)](_0x36ae24),loggerfile[_0x2c3821(0x11f)](util[_0x2c3821(0x17f)](_0x36ae24)+'\x0a'),_0x1e25fe&&(console['log'](_0x1e25fe),loggerfile[_0x2c3821(0x11f)](util[_0x2c3821(0x17f)](_0x1e25fe)+'\x0a'));},'debug':async(_0x1be88b,_0x306c19='')=>{const _0x14452b=_0x3c0d4a;let _0x2c24e6;if(config[_0x14452b(0x147)])_0x2c24e6=getTimeStamp()+':\x20'+config[_0x14452b(0x16c)]+'\x20>\x20[DEBUG]\x20'+_0x1be88b;else _0x2c24e6=getTimeStamp()+_0x14452b(0xc2)+botID+_0x14452b(0xcb)+_0x1be88b;if(debugging)console['log'](_0x2c24e6);loggerfile['write'](util['format'](_0x2c24e6)+'\x0a');if(_0x306c19){if(debugging)console[_0x14452b(0x140)](_0x306c19);loggerfile[_0x14452b(0x11f)](util[_0x14452b(0x17f)](_0x306c19)+'\x0a');}}};process['on']('uncaughtException',function(_0x29f21f){logger['simple'](_0x29f21f);});settings[_0x3c0d4a(0x1d7)]!=config[_0x3c0d4a(0x1d7)]&&updateTimeshift(settings[_0x3c0d4a(0x1d7)]);settings['onepagemode']!=config[_0x3c0d4a(0x1a7)]&&updateOnepagemode(settings['onepagemode']);process['send']({'started':'running'},_0x5ac65e=>{}),initializeProcessListeners();function proxyEmit(_0xcf21d2,_0x4ee304=null){process['send']({'function':_0xcf21d2,'args':_0x4ee304},_0x350d8f=>{});}function initializeProcessListeners(){const _0x351214=_0x3c0d4a;process['on'](_0x351214(0x1f6),_0x5aaca3=>{const _0x44a437=_0x351214;switch(Object[_0x44a437(0x150)](_0x5aaca3)[0x0]){case _0x44a437(0x1d7):_0x5aaca3['timeshift']!=undefined&&(settings[_0x44a437(0x1d7)]=_0x5aaca3[_0x44a437(0x1d7)],updateTimeshift(settings['timeshift']));break;case'onepagemode':_0x5aaca3[_0x44a437(0x1a7)]!=undefined&&(settings['onepagemode']=_0x5aaca3[_0x44a437(0x1a7)],updateOnepagemode(settings[_0x44a437(0x1a7)]));break;case _0x44a437(0x1a5):_0x5aaca3[_0x44a437(0x1a5)]!=undefined&&(bots=JSON['parse'](_0x5aaca3[_0x44a437(0x1a5)]),proxyEmit(_0x44a437(0x1a5),bots));break;case _0x44a437(0x162):switch(_0x5aaca3['function']){case _0x44a437(0x11c):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x44a437(0xa7):emitHistory(_0x5aaca3[_0x44a437(0x103)]);break;case _0x44a437(0x1d1):deleteHistoryAlerts(_0x5aaca3[_0x44a437(0x103)]);break;case _0x44a437(0x205):getPortfolio(_0x5aaca3[_0x44a437(0x103)]);break;case _0x44a437(0x1a1):storeConfiguration(_0x5aaca3[_0x44a437(0x103)]);break;case _0x44a437(0x11a):storeHeadless(_0x5aaca3['args']);break;case'storeFiat':storeFiat(_0x5aaca3['args']);break;case _0x44a437(0x169):resetHistory();break;case _0x44a437(0x10c):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x5aaca3['args']);break;case'cancelLoading':cancelLoading();break;case'showConfig':showConfig();break;case _0x44a437(0x120):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x4ec246=null,_0x56e42d=![]){const _0x2ed1dc=_0x3c0d4a;logger[_0x2ed1dc(0x153)](_0x2ed1dc(0x143)+(_0x4ec246&&_0x4ec246[_0x2ed1dc(0xe0)]>0x0?'additional\x20symbols\x20'+_0x4ec246[_0x2ed1dc(0x1cf)](','):'no\x20additional\x20symbols')+_0x2ed1dc(0x10a)+(_0x56e42d?_0x2ed1dc(0xa6):_0x2ed1dc(0x1ff)));if(pidBalances)clearTimeout(pidBalances);if(!_0x56e42d)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x2ed1dc(0x1fb)]!=''&&config['apiKey']!=_0x2ed1dc(0xf3)){if(_0x56e42d){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x12119f){if(_0x12119f[_0x2ed1dc(0xed)]()[_0x2ed1dc(0x1b8)](_0x2ed1dc(0x18a))){handleErrorNoStop(_0x12119f,_0x2ed1dc(0xa3));return;}else{handleError(_0x12119f,_0x2ed1dc(0xa3));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x4ec246);const _0x1291cd=await getCoins();[currentCoins,currentCoinsAll]=_0x1291cd,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x2ed1dc(0xe0)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x296f05=_0x3c0d4a;exchangeStopped=!![],await exchange[_0x296f05(0x142)]();}async function reloadExchange(){const _0xb497d0=_0x3c0d4a;logger[_0xb497d0(0x153)](_0xb497d0(0x1f4));while(lockOrders!=ORDERS[_0xb497d0(0x122)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0xb497d0(0x153)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0xa5ef27=config[_0x3c0d4a(0x1f1)],_0x53817a=config[_0x3c0d4a(0x1fb)],_0x5470db=config[_0x3c0d4a(0x13c)]){const _0x595933=_0x3c0d4a;exchange&&await stopExchange();!supportedExchanges()[_0x595933(0x1b8)](_0xa5ef27)&&(logHistory(_0x595933(0xd3),_0x595933(0x1d0)+_0xa5ef27+_0x595933(0x11e)),killBot());const _0x496032=ccxt[_0xa5ef27[_0x595933(0x1a6)]()];exchange=new _0x496032({'apiKey':_0x53817a,'secret':_0x5470db,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x103350=_0x3c0d4a;let _0x3dd722=config['basecoin']=='ETH'?_0x103350(0xdd):'BTC',_0x2b4e54=!allSymbols[_0x103350(0x1b8)](_0x3dd722+_0x103350(0x1d4))?_0x103350(0x171):_0x103350(0x166),_0x20afd4=!allSymbols[_0x103350(0x1b8)](_0x3dd722+_0x103350(0x133))?_0x2b4e54:'EUR';stablecoins={'eur':{'coin':''+_0x3dd722+_0x20afd4,'symbol':_0x3dd722+'/'+_0x20afd4},'usd':{'coin':''+_0x3dd722+_0x2b4e54,'symbol':_0x3dd722+'/'+_0x2b4e54}};}async function initwsCcxt(_0x550a21){const _0x252fa3=_0x3c0d4a;_0x550a21==null&&(_0x550a21=[],config['portfolio'][_0x252fa3(0xfb)](_0x4f2e2d=>{const _0x2545fd=_0x252fa3;if(!_0x4f2e2d[_0x2545fd(0x19f)]&&_0x4f2e2d['coin']!=config[_0x2545fd(0x207)])_0x550a21['push'](_0x4f2e2d[_0x2545fd(0xaf)]);}));if(!_0x550a21[_0x252fa3(0x1b8)](stablecoins[_0x252fa3(0x1ab)][_0x252fa3(0xaf)]))_0x550a21[_0x252fa3(0x1d8)](stablecoins['eur'][_0x252fa3(0xaf)]);if(!_0x550a21[_0x252fa3(0x1b8)](stablecoins[_0x252fa3(0x160)][_0x252fa3(0xaf)]))_0x550a21[_0x252fa3(0x1d8)](stablecoins[_0x252fa3(0x160)][_0x252fa3(0xaf)]);if(!_0x550a21[_0x252fa3(0x1b8)](_0x252fa3(0x110)+config[_0x252fa3(0x207)]))_0x550a21[_0x252fa3(0x1d8)]('BNB/'+config[_0x252fa3(0x207)]);loadCoins(_0x550a21);const _0x3c45d7=async _0x253283=>{const _0x2af517=_0x252fa3,_0x494f77=await exchange[_0x2af517(0x10d)](_0x253283);global[_0x2af517(0xc6)][noslash(_0x494f77[_0x2af517(0xaf)])]=_0x494f77[_0x2af517(0x186)];while(!![]){if(!botPaused)try{const _0x14d285=await exchange[_0x2af517(0x177)](_0x253283);global[_0x2af517(0xc6)][noslash(_0x14d285[0x0][_0x2af517(0xaf)])]=_0x14d285[0x0]['price'],await sleep(0x3e8);}catch(_0x58d667){if(!exchangeStopped)await handleError(_0x58d667,'watchTrades',_0x253283);}else await sleep(0x3e8);}},_0x5e4442=async _0x52bc52=>{const _0x53636e=_0x252fa3;while(!![]){if(!botPaused)try{const _0x2ce8a0=await exchange[_0x53636e(0x10d)](_0x52bc52);global[_0x53636e(0xac)][_0x2ce8a0[_0x53636e(0xaf)]]=_0x2ce8a0[_0x53636e(0x102)],await sleep(0x3c*0x3e8);}catch(_0x474da5){if(!exchangeStopped)await handleError(_0x474da5,_0x53636e(0x1db),_0x52bc52);}else await sleep(0x3e8);}},_0x39708e=async()=>{const _0x303aed=_0x252fa3;while(!![]){if(!botPaused)try{const _0x513b2d=await exchange[_0x303aed(0x208)]();_0x513b2d[_0x303aed(0xfb)](_0x408136=>{updateNumberCoinsCcxt(_0x408136);});}catch(_0x97cfaa){if(!exchangeStopped)await handleError(_0x97cfaa,_0x303aed(0x208));}else await sleep(0x3e8);}};_0x550a21[_0x252fa3(0xfb)](async _0x483c54=>{_0x3c45d7(_0x483c54),_0x5e4442(_0x483c54);}),!wsEventsSet&&(wsEventsSet=!![],_0x39708e(),watchTransactions());}async function watchTransactions(){const _0x5724c7=_0x3c0d4a;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0xa7f5=await getCoins(),[_0x57a1c1,_0x94d267]=_0xa7f5;let _0x372d1f=[];currentCoins[_0x5724c7(0xfb)](_0x2018a8=>{const _0x5d1f9d=_0x5724c7,_0x1ac248=_0x57a1c1['find'](_0x2cc9e3=>_0x2cc9e3[_0x5d1f9d(0x174)]==_0x2018a8[_0x5d1f9d(0x174)]);_0x1ac248&&(_0x2018a8['number']!=_0x1ac248['number']&&_0x372d1f['push']({'coin':_0x2018a8[_0x5d1f9d(0x174)],'symbol':_0x2018a8[_0x5d1f9d(0xaf)],'number':Number(formatResult(_0x1ac248[_0x5d1f9d(0xcc)]-_0x2018a8['number'],0x8))}));});if(_0x372d1f[_0x5724c7(0xe0)]==0x1&&!blockTransactionDetection){logger[_0x5724c7(0x153)]('Fees\x20|\x20currency:\x20'+lastFees[_0x5724c7(0x1da)]+_0x5724c7(0x1e1)+lastFees['highest']);if(!lastFees['currency']||_0x372d1f[0x0][_0x5724c7(0x174)]!=lastFees[_0x5724c7(0x1da)]||_0x372d1f[0x0][_0x5724c7(0xcc)]>lastFees[_0x5724c7(0x1f8)]){let _0x217020;if(_0x372d1f[0x0]['coin']!=config[_0x5724c7(0x207)]){let _0x1e733b=global[_0x5724c7(0xc6)][noslash(_0x372d1f[0x0]['symbol'])];_0x217020=_0x372d1f[0x0][_0x5724c7(0x1af)]?0x1/_0x1e733b:_0x1e733b;}else _0x217020=0x1;_0x372d1f[0x0][_0x5724c7(0xd5)]=_0x217020,delete _0x372d1f[0x0][_0x5724c7(0xaf)];let _0x12f402=[],_0x52e7d0=[...config[_0x5724c7(0x1c0)]]||[],_0x5a07c9=config[_0x5724c7(0x1c0)];_0x52e7d0['sort']((_0x2022ee,_0x180a49)=>_0x2022ee[_0x5724c7(0x116)]>_0x180a49[_0x5724c7(0x116)]?-0x1:_0x180a49[_0x5724c7(0x116)]>_0x2022ee['date']?0x1:0x0);const _0x5b850c=getDate();if(_0x52e7d0[0x0]){const _0x38e21a=fns[_0x5724c7(0xee)](_0x52e7d0[0x0]['date'],_0x5724c7(0x149),new Date()),_0x15a891=fns['parse'](_0x5b850c,_0x5724c7(0x149),new Date());if(fns[_0x5724c7(0xad)](_0x38e21a,_0x15a891)){_0x12f402=_0x52e7d0[0x0]['changes'];const _0x344f05=_0x12f402[_0x5724c7(0x194)](_0x99d6=>_0x99d6[_0x5724c7(0x174)]==_0x372d1f[0x0][_0x5724c7(0x174)]);_0x344f05?(_0x344f05['number']+=_0x372d1f[0x0]['number'],_0x344f05[_0x5724c7(0xcc)]==0x0&&(_0x12f402=_0x12f402[_0x5724c7(0x9a)](_0x1a47ea=>{const _0x247ae1=_0x5724c7;return _0x1a47ea[_0x247ae1(0x174)]!=_0x372d1f[0x0][_0x247ae1(0x174)];}))):_0x12f402['push'](_0x372d1f[0x0]);const _0x2790ca=_0x5a07c9[_0x5724c7(0x194)](_0x19bb56=>_0x19bb56[_0x5724c7(0x116)]==_0x5b850c);_0x2790ca[_0x5724c7(0xde)]=_0x12f402;}else _0x5a07c9['push']({'date':_0x5b850c,'changes':[_0x372d1f[0x0]]});}const _0x1158f9=_0x5a07c9[_0x5724c7(0x194)](_0x53009a=>_0x53009a['date']==_0x5b850c);if(_0x1158f9){let _0xd2ccfa=!![];_0x1158f9[_0x5724c7(0xde)][_0x5724c7(0xfb)](_0x15b27c=>{const _0x18d396=_0x5724c7;if(_0x15b27c[_0x18d396(0xcc)]!=0x0)_0xd2ccfa=![];}),_0xd2ccfa&&(_0x5a07c9=_0x5a07c9[_0x5724c7(0x9a)](_0x2ebdbb=>{const _0x44fd1d=_0x5724c7;return _0x2ebdbb[_0x44fd1d(0x116)]!=_0x5b850c;}));}let _0x4138c0=dbConfig['get'](_0x5724c7(0x101))[_0x5724c7(0x194)]({'botID':botID})[_0x5724c7(0x1ad)]();_0x4138c0&&(dbConfig['get'](_0x5724c7(0x101))[_0x5724c7(0x194)]({'botID':botID})[_0x5724c7(0xff)]({'liquidity':_0x5a07c9})[_0x5724c7(0x11f)](),config[_0x5724c7(0x1c0)]=_0x5a07c9),logHistory(_0x5724c7(0x16b),_0x5724c7(0x1cd)+Math[_0x5724c7(0x1b4)](_0x372d1f[0x0][_0x5724c7(0xcc)])+'\x20'+_0x372d1f[0x0]['coin']+'\x20'+(_0x372d1f[0x0][_0x5724c7(0xcc)]>0x0?_0x5724c7(0x13e):_0x5724c7(0x1c8))+_0x5724c7(0xe1)),proxyEmit(_0x5724c7(0xb6),emittedConfiguration());}else logger['debug'](_0x5724c7(0x156)+Math['abs'](_0x372d1f[0x0][_0x5724c7(0xcc)])+'\x20'+_0x372d1f[0x0][_0x5724c7(0x174)]+'\x20'+(_0x372d1f[0x0]['number']>0x0?_0x5724c7(0x13e):_0x5724c7(0x1c8)));transactionDetected=!![],currentCoins=_0x57a1c1,currentCoinsAll=_0x94d267;}await sleep(watchTransactionsInterval);}catch(_0x426ff7){if(!exchangeStopped)await handleError(_0x426ff7,_0x5724c7(0xb9));}else await sleep(0x3e8);}}async function loadSymbols(_0x5679b8=config[_0x3c0d4a(0x1f1)],_0x907fb5=![]){const _0x2acb3b=_0x3c0d4a;if(allSymbols&&!_0x907fb5)return;try{markets=await exchange[_0x2acb3b(0xcd)](),allSymbols=exchange[_0x2acb3b(0x201)][_0x2acb3b(0x9a)](_0x1fee0d=>{const _0x4de7ff=_0x2acb3b;let _0x4c6fb0=![];const _0x1264b6=exceptions[_0x5679b8['toLowerCase']()]||[];return _0x1264b6[_0x4de7ff(0xfb)](_0xd46a08=>{const _0x24a3b6=_0x4de7ff;if(_0x1fee0d[_0x24a3b6(0x1b8)](_0xd46a08))_0x4c6fb0=!![];}),!_0x4c6fb0;});}catch(_0x368a6c){throw _0x368a6c;}}async function initclient(){const _0x2cafad=_0x3c0d4a;emitLoadingProgress(),proxyEmit(_0x2cafad(0xb6),emittedConfiguration()),proxyEmit(_0x2cafad(0x124),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2cafad(0x132),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xf0e495=getNormalizedPerformance();emitPerformance(_0xf0e495),getStartingBalances(_0xf0e495);}async function toggleBotMode(){const _0x5a530b=_0x3c0d4a;let _0x296eb8=dbConfig[_0x5a530b(0xd2)]('bot')[_0x5a530b(0x194)]({'botID':botID})[_0x5a530b(0x1ad)]();if(_0x296eb8){const _0xafda65=!_0x296eb8[_0x5a530b(0x1fc)];dbConfig[_0x5a530b(0xd2)](_0x5a530b(0x101))[_0x5a530b(0x194)]({'botID':botID})[_0x5a530b(0xff)]({'headless':_0xafda65})[_0x5a530b(0x11f)](),config[_0x5a530b(0x1fc)]=_0xafda65,proxyEmit(_0x5a530b(0xb6),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x426d92=_0x3c0d4a;process[_0x426d92(0x1c7)]({'updatebotmanager':!![]},_0x44461d=>{});}async function loadCoins(_0x14df79){const _0x4365ee=_0x3c0d4a;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x1a1c5c,_0x5ef76b=0x0,_0x19eed9=0x0;_0x14df79[_0x4365ee(0xfb)](_0x84f611=>{const _0x1b87d7=_0x4365ee;loading[_0x1b87d7(0x127)]['push'](_0x84f611);}),loadingCanceled=![];let _0x5c027d=![];while(_0x1a1c5c!=_0x14df79[_0x4365ee(0xe0)]){_0x1a1c5c=0x0,_0x14df79['forEach'](_0x7ddb41=>{const _0x34b8cf=_0x4365ee;if(global[_0x34b8cf(0xc6)][noslash(_0x7ddb41)]){loading[_0x34b8cf(0x127)]=loading[_0x34b8cf(0x127)][_0x34b8cf(0x9a)](_0x14d4c3=>_0x14d4c3!=_0x7ddb41);if(!watchedSymbols['includes'](_0x7ddb41))watchedSymbols[_0x34b8cf(0x1d8)](_0x7ddb41);_0x1a1c5c++;}}),loading[_0x4365ee(0x115)]=Math[_0x4365ee(0x129)](_0x1a1c5c/_0x14df79['length']*0x64);loading[_0x4365ee(0x115)]!=0x64&&(_0x19eed9>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x19eed9>0x78*0x5&&!_0x5c027d&&(loading[_0x4365ee(0x9e)]=!![],emitLoadingProgress(),_0x5c027d=!![],logHistory(_0x4365ee(0xd3),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x4365ee(0x127)][_0x4365ee(0x1cf)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x4365ee(0xd3),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{const _0x3ecc9a=_0x4365ee;process[_0x3ecc9a(0x1c7)]({'stop':_0x3ecc9a(0x17e)},_0x32a18b=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x4365ee(0x9e)]=!![],emitLoadingProgress();break;}else _0x1a1c5c!=_0x5ef76b&&(_0x5ef76b=_0x1a1c5c,emitLoadingProgress()),_0x19eed9++,await sleep(0xc8);}_0x1a1c5c==_0x14df79[_0x4365ee(0xe0)]&&(coinsLoaded=!![],process[_0x4365ee(0x1c7)]({'status':_0x4365ee(0x199),'live':_0x4365ee(0x19e)},_0x206509=>{}),_0x5c027d&&logHistory('success','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x59269c=_0x3c0d4a;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x59269c(0x144)});}function emitLoadingProgress(){const _0x25ce49=_0x3c0d4a;proxyEmit(_0x25ce49(0x202),loading);}async function getFiat(){const _0x137fbb=_0x3c0d4a;let _0x419933=global[_0x137fbb(0xc6)][stablecoins[_0x137fbb(0x1ab)][_0x137fbb(0x174)]],_0x21d396=global[_0x137fbb(0xc6)][stablecoins['usd'][_0x137fbb(0x174)]];return{'eur':Number(_0x419933),'usd':Number(_0x21d396)};}function capitalize(_0x3a9ee4){const _0x2b63d7=_0x3c0d4a;return _0x3a9ee4[_0x2b63d7(0x16f)](0x0,0x1)['toUpperCase']()+_0x3a9ee4['substring'](0x1);}function supportedExchanges(){const _0x3ab853=_0x3c0d4a,_0x37c3ed=['ws',_0x3ab853(0x1db),_0x3ab853(0x10d),_0x3ab853(0x177),'watchOrders',_0x3ab853(0x170),_0x3ab853(0xe8),_0x3ab853(0xe4),_0x3ab853(0x15a),_0x3ab853(0x1e0)];let _0x1817c5=[],_0x8b309b=[],_0x3fce35=ccxt[_0x3ab853(0x124)];_0x3fce35[_0x3ab853(0xfb)](_0x561d81=>{const _0x58fdec=_0x3ab853;try{const _0x59d9c6=new ccxt[_0x561d81]();if(_0x59d9c6['has']['ws'])_0x8b309b[_0x58fdec(0x1d8)](_0x59d9c6);}catch(_0x14b9f8){}}),_0x8b309b['forEach'](_0x462c1c=>{const _0x2b43ab=_0x3ab853;let _0x3beaed=0x0;_0x37c3ed[_0x2b43ab(0xfb)](_0x530d36=>{const _0x3001f7=_0x2b43ab;_0x530d36 in _0x462c1c[_0x3001f7(0x1f2)]&&_0x462c1c['has'][_0x530d36]&&_0x3beaed++;}),_0x3beaed==_0x37c3ed[_0x2b43ab(0xe0)]&&_0x1817c5[_0x2b43ab(0x1d8)](capitalize(_0x462c1c['id']));});let _0x2da642=[];return _0x3fce35[_0x3ab853(0xfb)](_0x1ded2f=>{const _0x215949=_0x3ab853;_0x1ded2f=capitalize(_0x1ded2f);if(!_0x1817c5[_0x215949(0x1b8)](_0x1ded2f))_0x2da642[_0x215949(0x1d8)](_0x1ded2f);}),_0x1817c5;}function setStartDatePerformance(){const _0x1e42c7=_0x3c0d4a;if(config&&config['liquidity'][0x0]['changes'][_0x1e42c7(0xe0)]!=0x0){const _0x12f8c5=config[_0x1e42c7(0x1c0)][0x0][_0x1e42c7(0xde)];dbPerformance[_0x1e42c7(0xd2)](_0x1e42c7(0x1de))['find']({'date':config['startdate']})[_0x1e42c7(0xff)]({'coins':_0x12f8c5})[_0x1e42c7(0x11f)]();}}async function recreateCoinResults(){const _0x4c7b41=_0x3c0d4a;let _0x497571,_0x515315=[];try{const _0x2db90d=fns[_0x4c7b41(0x17f)](fns[_0x4c7b41(0xf5)](config[_0x4c7b41(0x12f)][_0x4c7b41(0x14d)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x33c937 of currentCoins){if(_0x33c937[_0x4c7b41(0x174)]!=config[_0x4c7b41(0x207)]){let _0x3eb25c=0x0,_0x143b77,_0x18acf5;_0x497571=await getAllEventOrders(_0x33c937['symbol']);if(_0x497571[_0x4c7b41(0xe0)]>0x0)_0x497571[_0x4c7b41(0xfb)](_0x307d3b=>{const _0x4065d2=_0x4c7b41,_0x627861=_0x33c937['symbol'][_0x4065d2(0x1b8)](config['basecoin']+'/');_0x515315[_0x4065d2(0x1d8)]({'datetime':_0x307d3b[_0x4065d2(0xb2)],'coin':_0x33c937[_0x4065d2(0x174)],'symbol':_0x33c937[_0x4065d2(0xaf)],'side':_0x307d3b[_0x4065d2(0x131)],'reverse':_0x627861,'amount':formatResult(_0x307d3b[_0x4065d2(0x1bd)],0x8),'filled':formatResult(_0x307d3b['filled'],0x8),'price':formatResult(_0x307d3b[_0x4065d2(0xd5)],0x8)}),_0x3eb25c=_0x307d3b[_0x4065d2(0x131)]==_0x4065d2(0x13a)?_0x3eb25c+_0x307d3b['filled']:_0x3eb25c-_0x307d3b[_0x4065d2(0x1bd)];if(!_0x18acf5)_0x18acf5=_0x307d3b[_0x4065d2(0xd5)];});_0x143b77=_0x33c937[_0x4c7b41(0xcc)]-_0x3eb25c;let _0xd54c2d;config['liquidity'][_0x4c7b41(0xfb)](_0x5e49f3=>{const _0x4d5c82=_0x4c7b41;!_0xd54c2d&&(_0xd54c2d=_0x5e49f3[_0x4d5c82(0xde)][_0x4d5c82(0x194)](_0x356096=>_0x356096[_0x4d5c82(0x174)]==_0x33c937[_0x4d5c82(0x174)]),_0xd54c2d&&(_0x143b77=_0xd54c2d[_0x4d5c82(0xcc)],_0x18acf5=_0xd54c2d[_0x4d5c82(0xd5)]));});let _0x3ae0ad=dbCoinResults[_0x4c7b41(0xd2)](_0x4c7b41(0x1ae))['find']({'coin':_0x33c937['coin']})['value']();_0x3ae0ad={'coin':_0x33c937[_0x4c7b41(0x174)],'number':_0x143b77,'breakeven':_0x18acf5,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x4c7b41(0x1ae))[_0x4c7b41(0x194)]({'coin':_0x33c937['coin']})[_0x4c7b41(0xff)](_0x3ae0ad)[_0x4c7b41(0x11f)]();}}_0x515315[_0x4c7b41(0x181)]((_0x44b285,_0x50592a)=>_0x44b285[_0x4c7b41(0xb2)]>_0x50592a[_0x4c7b41(0xb2)]?0x1:_0x50592a[_0x4c7b41(0xb2)]>_0x44b285['datetime']?-0x1:0x0);let _0x2b2876=0x0;for(let _0x41f2bd of _0x515315){await updateCoinResults(_0x41f2bd,!![]);}}catch(_0x20ecb9){await handleError(_0x20ecb9,_0x4c7b41(0xb3));}}async function getAllEventOrders(_0x49a9d1){const _0x12b462=_0x3c0d4a;let _0x497137=[],_0xda5ed7=dbLogs['get']('logs')['filter'](_0x2f116e=>{const _0x3b24fc=_0x582a,_0x2bad67=_0x2f116e['event']['toLowerCase']();return _0x2bad67[_0x3b24fc(0x1b8)](_0x49a9d1[_0x3b24fc(0x1a6)]())&&(_0x2bad67[_0x3b24fc(0x1b8)](_0x3b24fc(0x154))&&_0x2bad67[_0x3b24fc(0x1b8)](_0x3b24fc(0x158))||_0x2bad67[_0x3b24fc(0x1b8)](_0x3b24fc(0x1bd))&&_0x2bad67[_0x3b24fc(0x1b8)](_0x3b24fc(0x158)));})[_0x12b462(0x19b)]('time')[_0x12b462(0x1ad)]();return _0xda5ed7[_0x12b462(0xfb)](_0x1ceba2=>{const _0x596d97=_0x12b462,_0x374e6b=_0x1ceba2[_0x596d97(0x9c)]['includes'](_0x596d97(0x168))?_0x596d97(0x168):_0x596d97(0x13a),_0x474007=/#([0-9]|\.)+\s/i,_0x349d56=Number(_0x474007[_0x596d97(0xf0)](_0x1ceba2[_0x596d97(0x9c)])[0x0][_0x596d97(0x123)](0x1)),_0x2205b4=/@([0-9]|\.)+$/i,_0x44ef7b=Number(_0x2205b4[_0x596d97(0xf0)](_0x1ceba2[_0x596d97(0x9c)])[0x0][_0x596d97(0x123)](0x1));_0x497137[_0x596d97(0x1d8)]({'datetime':_0x1ceba2[_0x596d97(0x1fa)],'coin':symbolToCoin(_0x49a9d1),'symbol':_0x49a9d1,'side':_0x374e6b,'amount':_0x349d56,'filled':_0x349d56,'price':_0x44ef7b});}),_0x497137;}async function getAllOrders(_0x2e59fa,_0x5ad8e1){const _0x5263ad=_0x3c0d4a;let _0x235057=[];while(_0x5ad8e1<exchange[_0x5263ad(0x112)]()){const _0x5d2c50=0x1f4,_0x4abe6b=await exchange[_0x5263ad(0x15a)](_0x2e59fa,_0x5ad8e1,_0x5d2c50);if(_0x4abe6b[_0x5263ad(0xe0)])_0x5ad8e1=_0x4abe6b[_0x4abe6b[_0x5263ad(0xe0)]-0x1]['timestamp']+0x1,_0x235057=_0x235057[_0x5263ad(0x1d2)](_0x4abe6b);else break;}return _0x235057;}async function validate24hChanges(){const _0x2ccd98=_0x3c0d4a;for(const _0x4a7ee9 of currentCoins){if(_0x4a7ee9[_0x2ccd98(0x174)]!=config[_0x2ccd98(0x207)]){let _0x181225;_0x4a7ee9[_0x2ccd98(0x1af)]?_0x181225=formatResult((0x1/(global[_0x2ccd98(0xac)][noslash(_0x4a7ee9['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x181225=global[_0x2ccd98(0xac)][noslash(_0x4a7ee9[_0x2ccd98(0xaf)])],_0x181225<config['change24h']&&(logHistory(_0x2ccd98(0xd3),_0x4a7ee9['coin']+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x181225+'%'),logHistory('error','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error',_0x2ccd98(0xa1)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x40474e,_0x10be17){const _0x1f89b4=_0x3c0d4a;if(!_0x40474e)return!![];const _0x307336=_0x10be17['split']('.'),_0x2e3c82=_0x40474e[_0x1f89b4(0x1ed)]('.');for(var _0x36f2b6=0x0;_0x36f2b6<_0x2e3c82[_0x1f89b4(0xe0)];_0x36f2b6++){const _0xc5f60f=~~_0x2e3c82[_0x36f2b6],_0x499d99=~~_0x307336[_0x36f2b6];if(_0xc5f60f<_0x499d99)return!![];if(_0xc5f60f>_0x499d99)return![];}return![];}async function oneTimeMigration(){const _0x4fb226=_0x3c0d4a;let _0x29d04f=dbLogs[_0x4fb226(0xd2)](_0x4fb226(0x135))['value']();if(isOlderVersion(_0x29d04f,'2.3.5')){let _0x1e6b51=[];const _0x5b8067=dbLogs[_0x4fb226(0xd2)](_0x4fb226(0x173))[_0x4fb226(0x1ad)]();_0x5b8067[_0x4fb226(0xfb)](_0x3a7fd5=>{const _0x15c522=_0x4fb226;_0x1e6b51[_0x15c522(0x1d8)]({'time':_0x3a7fd5[_0x15c522(0x1fa)],'type':_0x3a7fd5['type'],'event':_0x3a7fd5[_0x15c522(0x9c)]});}),dbLogs[_0x4fb226(0xd2)](_0x4fb226(0x173))[_0x4fb226(0xff)](_0x1e6b51)[_0x4fb226(0x11f)]();}let _0x4046c6=dbConfig[_0x4fb226(0xd2)](_0x4fb226(0x135))['value']();if(isOlderVersion(_0x4046c6,_0x4fb226(0xd8))){let _0x23a5dc=dbConfig[_0x4fb226(0xd2)]('bot')[_0x4fb226(0x194)]({'botID':botID})[_0x4fb226(0x1ad)]();if(_0x23a5dc){let _0x25f97c=[];_0x23a5dc[_0x4fb226(0x10e)][_0x4fb226(0xfb)](_0xc362f7=>{const _0x783e22=_0x4fb226;_0x25f97c[_0x783e22(0x1d8)]({'coin':_0xc362f7[_0x783e22(0x174)],'number':_0xc362f7[_0x783e22(0x18e)],'price':_0xc362f7['startprice']}),delete _0xc362f7['startnumber'],delete _0xc362f7['startprice'];});if(_0x25f97c[_0x4fb226(0xe0)]!==0x0)fs[_0x4fb226(0xa0)](configbackuppath+(_0x4fb226(0xd1)+botID+_0x4fb226(0x204)),JSON[_0x4fb226(0xf4)](_0x25f97c,null,0x4),function(_0x50e1b4){if(_0x50e1b4){}});const _0x32a58e=(_0x4f0cbd,_0x360e91)=>{const _0x527940=_0x4fb226;let _0x4351d0=[];_0x360e91['forEach'](_0x41b612=>{const _0x53c28e=_0x582a,_0x2c2c17=_0x4f0cbd[_0x53c28e(0x194)](_0x173b50=>_0x173b50[_0x53c28e(0x174)]==_0x41b612[_0x53c28e(0x174)]);if(!_0x2c2c17)_0x4351d0[_0x53c28e(0x1d8)](_0x41b612);});let _0x480641=[];return _0x4f0cbd[_0x527940(0xfb)](_0x27c240=>{const _0x374a87=_0x527940,_0x285488=_0x360e91['find'](_0x3caa12=>_0x3caa12[_0x374a87(0x174)]==_0x27c240[_0x374a87(0x174)]);if(!_0x285488||_0x285488['number']==0x0&&_0x27c240[_0x374a87(0xcc)]!=0x0)_0x480641['push'](_0x27c240);}),{'missingDay1':_0x4351d0,'notInDay2':_0x480641};},_0x1bd6c2=dbPerformance[_0x4fb226(0xd2)]('data')[_0x4fb226(0x12d)]()[_0x4fb226(0x1ad)]();if(_0x1bd6c2[_0x4fb226(0xe0)]>0x1){const {missingDay1:_0x4edf0a,notInDay2:_0x12ea72}=_0x32a58e(_0x25f97c,_0x1bd6c2[0x1][_0x4fb226(0x1ae)]);_0x25f97c=[..._0x25f97c,..._0x4edf0a],_0x12ea72[_0x4fb226(0xfb)](_0x117d72=>{const _0x5db23f=_0x4fb226;let _0x529e3b=_0x25f97c[_0x5db23f(0x1dc)](_0x35f058=>_0x35f058[_0x5db23f(0x174)]==_0x117d72[_0x5db23f(0x174)]);_0x529e3b!=-0x1&&_0x25f97c['splice'](_0x529e3b,0x1);});}_0x25f97c[_0x4fb226(0x181)]((_0x1bf6f5,_0x2f627f)=>_0x1bf6f5['coin']>_0x2f627f[_0x4fb226(0x174)]?0x1:_0x2f627f['coin']>_0x1bf6f5[_0x4fb226(0x174)]?-0x1:0x0);let _0xecace=[{'date':_0x23a5dc[_0x4fb226(0x12f)],'changes':_0x25f97c}];_0x1bd6c2[_0x4fb226(0xe0)]>0x2&&_0x1bd6c2[_0x4fb226(0xfb)]((_0x4cf696,_0x34050b)=>{const _0x37af1a=_0x4fb226;if(_0x34050b>0x0&&_0x34050b<_0x1bd6c2[_0x37af1a(0xe0)]-0x1){const {missingDay1:_0x58a7e5,notInDay2:_0x1e563f}=_0x32a58e(_0x1bd6c2[_0x34050b]['coins'],_0x1bd6c2[_0x34050b+0x1][_0x37af1a(0x1ae)]);_0x25f97c=[],(_0x58a7e5['length']!=0x0||_0x1e563f[_0x37af1a(0xe0)]!=0x0)&&(_0x58a7e5[_0x37af1a(0xe0)]!=0x0&&_0x25f97c[_0x37af1a(0x1d8)](..._0x58a7e5),_0x1e563f[_0x37af1a(0xe0)]!=0x0&&(_0x1e563f['forEach'](_0x2fb290=>{const _0x513e20=_0x37af1a;_0x2fb290['number']=-_0x2fb290[_0x513e20(0xcc)];}),_0x25f97c['push'](..._0x1e563f)),_0x25f97c[_0x37af1a(0x181)]((_0x5152e6,_0x394bc2)=>_0x5152e6[_0x37af1a(0x174)]>_0x394bc2[_0x37af1a(0x174)]?0x1:_0x394bc2[_0x37af1a(0x174)]>_0x5152e6[_0x37af1a(0x174)]?-0x1:0x0),_0xecace[_0x37af1a(0x1d8)]({'date':_0x1bd6c2[_0x34050b+0x1][_0x37af1a(0x116)],'changes':_0x25f97c}));}}),dbConfig[_0x4fb226(0xd2)](_0x4fb226(0x101))[_0x4fb226(0x194)]({'botID':botID})[_0x4fb226(0xff)]({..._0x23a5dc,'liquidity':_0xecace})[_0x4fb226(0x11f)]();}}if(isOlderVersion(_0x4046c6,'2.6.0')){let _0x3e2e28=dbConfig[_0x4fb226(0xd2)](_0x4fb226(0x101))[_0x4fb226(0x194)]({'botID':botID})[_0x4fb226(0x1ad)]();if(_0x3e2e28){const _0x230acb=_0x3e2e28[_0x4fb226(0x1f1)],_0x118a59=_0x230acb?capitalize(_0x230acb):_0x4fb226(0x1bf);dbConfig[_0x4fb226(0xd2)](_0x4fb226(0x101))[_0x4fb226(0x194)]({'botID':botID})[_0x4fb226(0xff)]({'exchange':_0x118a59})[_0x4fb226(0x11f)]();}}let _0x2f0d28=dbPerformance['get'](_0x4fb226(0x135))[_0x4fb226(0x1ad)]();isOlderVersion(_0x2f0d28,_0x4fb226(0xd8))&&setStartDatePerformance();let _0xcd7643=dbCoinResults['get'](_0x4fb226(0x135))[_0x4fb226(0x1ad)]();if(isOlderVersion(_0xcd7643,'2.5.0')){let _0x2a27b8=dbCoinResults[_0x4fb226(0xd2)](_0x4fb226(0x1ae))['value']();if(_0x2a27b8[_0x4fb226(0xe0)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x3f3967=_0x3c0d4a;dbConfig[_0x3f3967(0x1ca)](_0x3f3967(0x135),serverversion)[_0x3f3967(0x11f)](),dbPerformance['set']('version',serverversion)[_0x3f3967(0x11f)](),dbLogs[_0x3f3967(0x1ca)](_0x3f3967(0x135),serverversion)[_0x3f3967(0x11f)](),dbCoinResults[_0x3f3967(0x1ca)](_0x3f3967(0x135),serverversion)[_0x3f3967(0x11f)]();}function getConfiguration(_0x554ba9){const _0x1c9205=_0x3c0d4a;let _0x7e85fa=dbConfig['get'](_0x1c9205(0x101))[_0x1c9205(0x194)]({'botID':_0x554ba9})['value']();if(_0x7e85fa){let _0x211992=![];typeof _0x7e85fa[_0x1c9205(0x192)]==_0x1c9205(0x1b9)&&(_0x7e85fa={..._0x7e85fa,'threshold':Number(_0x7e85fa['threshold'])},_0x211992=!![]),_0x7e85fa[_0x1c9205(0x1e3)]==null&&(_0x7e85fa={..._0x7e85fa,'change24h':-0x14},_0x211992=!![]),!_0x7e85fa['fiat']&&(_0x7e85fa={..._0x7e85fa,'fiat':_0x1c9205(0x166)},_0x211992=!![]),!_0x7e85fa[_0x1c9205(0x1a7)]&&(_0x7e85fa={..._0x7e85fa,'onepagemode':settings[_0x1c9205(0x1a7)]},_0x211992=!![]),_0x211992&&(_0x7e85fa={'botID':_0x7e85fa[_0x1c9205(0xc3)],'exchange':_0x7e85fa[_0x1c9205(0x1f1)],'apiKey':_0x7e85fa[_0x1c9205(0x1fb)],'apiSecret':_0x7e85fa[_0x1c9205(0x13c)],'basecoin':_0x7e85fa[_0x1c9205(0x207)],'botname':_0x7e85fa[_0x1c9205(0x16c)],'showname':_0x7e85fa[_0x1c9205(0x147)],'threshold':_0x7e85fa[_0x1c9205(0x192)],'ordertype':_0x7e85fa[_0x1c9205(0xaa)],'timeout':_0x7e85fa[_0x1c9205(0x106)],'fiat':_0x7e85fa[_0x1c9205(0xfa)],'startdate':_0x7e85fa[_0x1c9205(0x12f)],'recreate':_0x7e85fa['recreate'],'timeshift':_0x7e85fa[_0x1c9205(0x1d7)],'onepagemode':_0x7e85fa[_0x1c9205(0x1a7)],'headless':_0x7e85fa[_0x1c9205(0x1fc)],'cooldown':_0x7e85fa['cooldown'],'change24h':_0x7e85fa[_0x1c9205(0x1e3)],'emojibuy':_0x7e85fa['emojibuy'],'emojisell':_0x7e85fa[_0x1c9205(0x12b)],'portfolio':_0x7e85fa['portfolio'],'liquidity':_0x7e85fa[_0x1c9205(0x1c0)],'openOrders':_0x7e85fa[_0x1c9205(0x1b2)]},dbConfig['get'](_0x1c9205(0x101))[_0x1c9205(0x10f)]()[_0x1c9205(0x11f)](),dbConfig['get']('bot')[_0x1c9205(0x1d8)](_0x7e85fa)[_0x1c9205(0x11f)]());}else _0x7e85fa={'botID':_0x554ba9,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x554ba9,'showname':![],'threshold':0x3,'ordertype':_0x1c9205(0x154),'timeout':0x14,'fiat':_0x1c9205(0x166),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x1c9205(0x1a7)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x7e85fa;}function emittedConfiguration(){const _0x12e590=_0x3c0d4a;let _0x898bd6;if(config[_0x12e590(0x1fb)]=='')_0x898bd6={...config,'configstate':_0x12e590(0x151)};else config[_0x12e590(0x1fb)]==_0x12e590(0xf3)?_0x898bd6={...config,'configstate':'recovery'}:_0x898bd6={...config,'apiKey':_0x12e590(0x109),'apiSecret':_0x12e590(0x109)};return _0x898bd6;}function getSettings(){const _0x1b3064=_0x3c0d4a;return dbSettings[_0x1b3064(0xd2)](_0x1b3064(0x19a))[_0x1b3064(0x1ad)]();}function getSecure(){const _0x80af28=_0x3c0d4a;return dbSecure[_0x80af28(0xd2)]('secure')[_0x80af28(0x1ad)]()||{};}function updateTimeshift(_0x1b114a){const _0x2b48d3=_0x3c0d4a;let _0x100a5d=dbConfig[_0x2b48d3(0xd2)](_0x2b48d3(0x101))['find']({'botID':botID})[_0x2b48d3(0x1ad)]();_0x100a5d&&dbConfig[_0x2b48d3(0xd2)](_0x2b48d3(0x101))['find']({'botID':botID})[_0x2b48d3(0xff)]({'timeshift':_0x1b114a})[_0x2b48d3(0x11f)](),config['timeshift']=_0x1b114a,proxyEmit(_0x2b48d3(0xb6),emittedConfiguration());}function updateOnepagemode(_0x3e4018){const _0x2e44e5=_0x3c0d4a;let _0x43e90c=dbConfig['get'](_0x2e44e5(0x101))[_0x2e44e5(0x194)]({'botID':botID})[_0x2e44e5(0x1ad)]();_0x43e90c&&dbConfig['get'](_0x2e44e5(0x101))[_0x2e44e5(0x194)]({'botID':botID})[_0x2e44e5(0xff)]({'onepagemode':_0x3e4018})[_0x2e44e5(0x11f)](),config[_0x2e44e5(0x1a7)]=_0x3e4018,proxyEmit(_0x2e44e5(0xb6),emittedConfiguration());}async function storeConfiguration(_0x120881){const _0x5ae441=_0x3c0d4a;logger['debug'](_0x5ae441(0xbf)),blockTransactionDetection=!![],logger[_0x5ae441(0x153)](_0x5ae441(0x13f));let _0x69856a=[],_0x27ea64=![],_0x13fd45=[];_0x120881[_0x5ae441(0x10e)][_0x5ae441(0xfb)](_0x39c7fa=>{const _0xf951a8=_0x5ae441;if(!_0x39c7fa[_0xf951a8(0x19f)]&&_0x39c7fa[_0xf951a8(0x174)]!=_0x120881['basecoin'])_0x13fd45[_0xf951a8(0x1d8)](_0x39c7fa[_0xf951a8(0xaf)]);}),_0x13fd45[_0x5ae441(0xfb)](_0x54610c=>{const _0x36ece4=_0x5ae441,_0x432401=watchedSymbols[_0x36ece4(0x1b8)](_0x54610c);!_0x432401&&_0x69856a[_0x36ece4(0x1d8)](_0x54610c);});_0x69856a[_0x5ae441(0xe0)]>0x0?_0x27ea64=!![]:currentCoins[_0x5ae441(0xfb)](_0x5dc7d6=>{const _0x306b19=_0x5ae441;if(_0x5dc7d6[_0x306b19(0x174)]!=config['basecoin']){const _0x4d1ead=_0x13fd45[_0x306b19(0x194)](_0x389f8a=>_0x389f8a==_0x5dc7d6['symbol']);!_0x4d1ead&&(_0x27ea64=!![]);}});let _0x244335=dbConfig[_0x5ae441(0xd2)](_0x5ae441(0x101))[_0x5ae441(0x194)]({'botID':botID})[_0x5ae441(0x1ad)]();_0x120881={..._0x120881,'apiKey':crypt['decrypt'](secure[_0x5ae441(0x172)],_0x120881[_0x5ae441(0x1fb)])['message'],'apiSecret':crypt[_0x5ae441(0x1d3)](secure[_0x5ae441(0x172)],_0x120881[_0x5ae441(0x13c)])[_0x5ae441(0x1f6)]};let _0x411e45=![];_0x244335?(_0x120881[_0x5ae441(0x1fb)]==_0x5ae441(0x109)?_0x120881[_0x5ae441(0x1fb)]=config[_0x5ae441(0x1fb)]:_0x411e45=!![],_0x120881[_0x5ae441(0x13c)]=='************'?_0x120881['apiSecret']=config[_0x5ae441(0x13c)]:_0x411e45=!![],dbConfig[_0x5ae441(0xd2)](_0x5ae441(0x101))[_0x5ae441(0x194)]({'botID':botID})['assign'](_0x120881)[_0x5ae441(0x11f)]()):(dbConfig[_0x5ae441(0xd2)](_0x5ae441(0x101))[_0x5ae441(0x1d8)](_0x120881)[_0x5ae441(0x11f)](),_0x411e45=!![],process['send']({'status':_0x5ae441(0x199),'live':_0x5ae441(0x19e)},_0x43ebe4=>{}));config={..._0x120881},setStartDatePerformance(),process['send']({'botname':_0x120881[_0x5ae441(0x16c)]},_0x2e69c3=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x5ae441(0x17c)),await initCoinResults();if(_0x411e45)await reset(_0x69856a,!![]);else{if(_0x27ea64)await reset(_0x69856a,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x5ae441(0x153)](_0x5ae441(0xcf));}async function storeHeadless(_0x1e6bea){const _0x3887f4=_0x3c0d4a,_0x395407={...config,'headless':_0x1e6bea['headless']};let _0x4a978a=dbConfig['get']('bot')[_0x3887f4(0x194)]({'botID':botID})['value']();_0x4a978a&&dbConfig[_0x3887f4(0xd2)](_0x3887f4(0x101))['find']({'botID':botID})[_0x3887f4(0xff)](_0x395407)[_0x3887f4(0x11f)](),config={..._0x395407},updateBotManager(),proxyEmit(_0x3887f4(0xb6),emittedConfiguration());}function _0x582a(_0x37bb4a,_0x4b2c7d){const _0x43b96b=_0x62f1();return _0x582a=function(_0x4b31c1,_0x295856){_0x4b31c1=_0x4b31c1-0x96;let _0x62f13c=_0x43b96b[_0x4b31c1];return _0x62f13c;},_0x582a(_0x37bb4a,_0x4b2c7d);}async function storeFiat(_0x124e41){const _0x5ebc78=_0x3c0d4a,_0x3567c4={...config,'fiat':_0x124e41};let _0x26d23d=dbConfig[_0x5ebc78(0xd2)](_0x5ebc78(0x101))[_0x5ebc78(0x194)]({'botID':botID})[_0x5ebc78(0x1ad)]();_0x26d23d&&dbConfig[_0x5ebc78(0xd2)](_0x5ebc78(0x101))[_0x5ebc78(0x194)]({'botID':botID})[_0x5ebc78(0xff)](_0x3567c4)[_0x5ebc78(0x11f)](),config={..._0x3567c4},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x311158=_0x3c0d4a;logger[_0x311158(0x96)](_0x311158(0xb8));try{if(fs[_0x311158(0x15b)](path[_0x311158(0x1cf)](configpath,_0x311158(0x183)+botID+_0x311158(0x1dd))))fs['unlinkSync'](path[_0x311158(0x1cf)](configpath,_0x311158(0x183)+botID+'-events.json'));if(fs[_0x311158(0x15b)](path[_0x311158(0x1cf)](configpath,_0x311158(0x183)+botID+_0x311158(0xe2))))fs[_0x311158(0x163)](path[_0x311158(0x1cf)](configpath,_0x311158(0x183)+botID+_0x311158(0xe2)));if(fs[_0x311158(0x15b)](path[_0x311158(0x1cf)](configpath,_0x311158(0x183)+botID+'-results.json')))fs[_0x311158(0x163)](path[_0x311158(0x1cf)](configpath,_0x311158(0x183)+botID+_0x311158(0x134)));}catch(_0x386556){if(_0x386556)logger[_0x311158(0x96)](_0x311158(0xef),_0x386556);}const _0x175bf3=getDate();let _0x58f783=[];currentCoins[_0x311158(0xfb)](_0x290e20=>{const _0x3317f7=_0x311158;_0x58f783[_0x3317f7(0x1d8)]({'coin':_0x290e20['coin'],'number':_0x290e20[_0x3317f7(0xcc)],'price':_0x290e20[_0x3317f7(0x186)]});});let _0x5814fd=dbConfig[_0x311158(0xd2)](_0x311158(0x101))[_0x311158(0x194)]({'botID':botID})[_0x311158(0x1ad)]();_0x5814fd&&(dbConfig[_0x311158(0xd2)](_0x311158(0x101))['find']({'botID':botID})[_0x311158(0xff)]({'liquidity':[{'date':_0x175bf3,'changes':_0x58f783}]})[_0x311158(0x11f)](),config[_0x311158(0x1c0)]=[]),process[_0x311158(0x1c7)]({'stop':'restart'},_0x405298=>{});}function noslash(_0x197207){const _0x3f7856=_0x3c0d4a;return _0x197207[_0x3f7856(0x14d)]('/','');}function updateHighestFee(_0x5d5ed6,_0x4ee995){const _0x329273=_0x3c0d4a;lastFees['currency']=_0x5d5ed6,lastFees[_0x329273(0x98)][_0x329273(0xe0)]===0x14&&lastFees[_0x329273(0x98)][_0x329273(0x167)](),lastFees[_0x329273(0x98)][_0x329273(0x1d8)](_0x4ee995),lastFees['highest']=Math['max'](...lastFees[_0x329273(0x98)]);}async function updateNumberCoinsCcxt(_0x1c3733){const _0x19fa53=_0x3c0d4a;logger[_0x19fa53(0x153)]('0\x20-\x20EXECUTION:\x20'+_0x1c3733[_0x19fa53(0xaf)]+_0x19fa53(0x10a)+_0x1c3733[_0x19fa53(0x1f3)]+_0x19fa53(0x10a)+_0x1c3733['id']+_0x19fa53(0x10a)+_0x1c3733[_0x19fa53(0x1c2)]);let _0x155208=_0x1c3733[_0x19fa53(0x1f3)],_0x3e6bff=![];currentCoins['forEach'](_0x1fcf7e=>{const _0x2cd14d=_0x19fa53;_0x1fcf7e[_0x2cd14d(0xaf)]==_0x1c3733[_0x2cd14d(0xaf)]&&(_0x3e6bff=!![]);});if(!_0x3e6bff)return;const _0x40db59=currentCoins['find'](_0x3b245a=>_0x3b245a['symbol']==_0x1c3733[_0x19fa53(0xaf)]),_0x47d67b=_0x10fae3=>{if(_0x40db59)_0x40db59['orderstatus']=_0x10fae3;};if(_0x155208==_0x19fa53(0x206))_0x47d67b(_0x19fa53(0x206));else{if(_0x155208==_0x19fa53(0x97)){_0x47d67b(_0x19fa53(0x97));const _0x4ae5e6=await getCoins();[currentCoins,currentCoinsAll]=_0x4ae5e6,await getOpenOrders(),handleOpenOrders();}else{if(_0x155208=='closed'){logger[_0x19fa53(0x153)](_0x19fa53(0x1a8)+_0x1c3733['symbol']+_0x19fa53(0x10a)+_0x1c3733[_0x19fa53(0x1bd)]+_0x19fa53(0x10a)+_0x1c3733['id']+_0x19fa53(0x10a)+_0x1c3733[_0x19fa53(0x1c2)]);let _0x1f43df=![];if(lastOrders)lastOrders[_0x19fa53(0xfb)](async _0x92af08=>{const _0x2aaa1a=_0x19fa53;if(_0x92af08['customId']==_0x1c3733['clientOrderId']){logger[_0x2aaa1a(0x153)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x1c3733[_0x2aaa1a(0x1c2)]),_0x1f43df=!![];if(_0x92af08[_0x2aaa1a(0x1bd)]==0x0){logger[_0x2aaa1a(0x153)](_0x2aaa1a(0xd0)+_0x1c3733[_0x2aaa1a(0x1c2)]),_0x92af08[_0x2aaa1a(0xd5)]=_0x1c3733['average'],_0x92af08['filled']=_0x1c3733[_0x2aaa1a(0x1bd)],_0x92af08[_0x2aaa1a(0xfc)]={'currency':_0x1c3733[_0x2aaa1a(0xfc)]?_0x1c3733['fee'][_0x2aaa1a(0x1da)]:null,'cost':_0x1c3733['fee']?_0x1c3733[_0x2aaa1a(0xfc)][_0x2aaa1a(0xda)]:0x0},updateHighestFee(_0x92af08[_0x2aaa1a(0xfc)][_0x2aaa1a(0x1da)],_0x92af08[_0x2aaa1a(0xfc)][_0x2aaa1a(0xda)]),_0x47d67b(_0x2aaa1a(0x1bd)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x26cef3=await getCoins();[currentCoins,currentCoinsAll]=_0x26cef3;}await updateCoinResults(_0x92af08);}}});if(!_0x1f43df){logger[_0x19fa53(0x153)](_0x19fa53(0xa2)+_0x1c3733['id']),_0x47d67b(_0x19fa53(0x1bd));const _0x11dff3=await getCoins();[currentCoins,currentCoinsAll]=_0x11dff3,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x573b89=JSON[_0x19fa53(0xee)](lastBalances[_0x19fa53(0x10e)]);const _0x3c6cce=_0x573b89[_0x19fa53(0x194)](_0x170ead=>_0x170ead[_0x19fa53(0xaf)]==_0x1c3733[_0x19fa53(0xaf)]);if(_0x3c6cce){if(_0x155208==_0x19fa53(0x206))_0x3c6cce[_0x19fa53(0x1ba)]=_0x3c6cce[_0x19fa53(0x1ba)]==_0x19fa53(0x1bd)?_0x19fa53(0x1bd):_0x19fa53(0x206);else{if(_0x155208==_0x19fa53(0x97))_0x3c6cce[_0x19fa53(0x1ba)]=_0x3c6cce[_0x19fa53(0x1ba)]==_0x19fa53(0x1bd)?_0x19fa53(0x1bd):_0x19fa53(0x97);else _0x155208==_0x19fa53(0x111)&&(_0x3c6cce[_0x19fa53(0x1ba)]=_0x19fa53(0x1bd));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x573b89)},proxyEmit(_0x19fa53(0x132),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x1b61be=![];currentCoins['forEach'](_0x2a7d3c=>{const _0x28a7a9=_0x582a;_0x1b61be=allOpenOrders[_0x28a7a9(0x194)](_0x467080=>_0x467080[_0x28a7a9(0xaf)]==_0x2a7d3c[_0x28a7a9(0xaf)]),_0x2a7d3c[_0x28a7a9(0x1ba)]=_0x1b61be?_0x28a7a9(0x206):_0x28a7a9(0x138);});}async function getCoins(_0x5c6aca=!![],_0x2be039=config['basecoin']){const _0x23b994=_0x3c0d4a;let _0x4ade38,_0x1c3232=[],_0x52d994=[],_0x4ca212=[],_0xa9c1c1=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x4ade38=await exchange[_0x23b994(0x1e0)](),mybalances=_0x4ade38[_0x23b994(0x185)];for(const [_0x1926ab,_0x45b78b]of Object[_0x23b994(0x17d)](mybalances)){_0xa9c1c1[_0x23b994(0x1d8)](_0x1926ab);}if(_0x2be039=='')for(const [_0x4aa085,_0x25d94c]of Object[_0x23b994(0x17d)](mybalances)){_0x25d94c['toString']()!=0x0&&_0x52d994['push']({'coin':_0x4aa085});}else{let _0x562564=![];for(const [_0x5524bb,_0x5de2b8]of Object[_0x23b994(0x17d)](mybalances)){if(_0xa9c1c1[_0x23b994(0x1b8)](_0x5524bb)){const _0x15241a=config['portfolio'][_0x23b994(0x194)](_0xffb6f2=>_0xffb6f2[_0x23b994(0x174)]==_0x5524bb),_0x4e699c=_0x5524bb+'/'+_0x2be039,_0x1fb39f=_0x2be039+'/'+_0x5524bb,_0x44e849=currentCoins[_0x23b994(0x194)](_0x412a1b=>_0x412a1b[_0x23b994(0x174)]==_0x5524bb);_0x562564=![];if((_0x5de2b8[_0x23b994(0xed)]()!=0x0||_0x15241a)&&(allSymbols[_0x23b994(0x1b8)](_0x4e699c)||_0x5524bb==_0x2be039))_0x5524bb!=_0x2be039&&_0x1c3232[_0x23b994(0x1d8)](_0x4e699c),_0x52d994['push']({'coin':_0x5524bb,'symbol':_0x4e699c,'reverse':![],'number':Math[_0x23b994(0x1df)](_0x5de2b8+(_0x15241a&&_0x15241a['offset']||0x0),0x0),'orderstatus':_0x44e849?_0x44e849['orderstatus']:'none'});else(_0x5de2b8[_0x23b994(0xed)]()!=0x0||_0x15241a)&&allSymbols[_0x23b994(0x1b8)](_0x1fb39f)&&(_0x5524bb!=_0x2be039&&_0x1c3232[_0x23b994(0x1d8)](_0x1fb39f),_0x52d994['push']({'coin':_0x5524bb,'symbol':_0x1fb39f,'reverse':!![],'number':Math[_0x23b994(0x1df)](_0x5de2b8+(_0x15241a&&_0x15241a[_0x23b994(0x9f)]||0x0),0x0),'orderstatus':_0x44e849?_0x44e849['orderstatus']:'none'}));}}}}catch(_0x1923aa){if(!_0x5c6aca)handleErrorNoStop(_0x1923aa,_0x23b994(0xc7));else await handleError(_0x1923aa,_0x23b994(0xc7));}return _0x4ca212=cloneDeep(_0x52d994),_0x52d994=_0x52d994[_0x23b994(0x9a)](_0x3dd42a=>{const _0x2d0077=_0x23b994,_0xc93e88=config[_0x2d0077(0x10e)][_0x2d0077(0x194)](_0x1c1434=>_0x1c1434['coin']==_0x3dd42a[_0x2d0077(0x174)]);return _0xc93e88&&!_0xc93e88[_0x2d0077(0x19f)];}),[_0x52d994,_0x4ca212];}async function getCoinNumber(_0x5bd2a2){const _0x49e4e2=_0x3c0d4a;let _0x1e84c6;try{const _0x471fec=await exchange[_0x49e4e2(0x1e0)]();_0x1e84c6=_0x471fec[_0x49e4e2(0x185)][_0x5bd2a2];}catch(_0x11937b){await handleError(_0x11937b,_0x49e4e2(0x1ce));}return _0x1e84c6;}async function getOpenOrders(){const _0x423eb2=_0x3c0d4a;let _0x48a0a0;allOpenOrders=[];try{for(const _0x302271 of config[_0x423eb2(0x10e)]){!_0x302271[_0x423eb2(0x19f)]&&_0x302271[_0x423eb2(0x174)]!=config[_0x423eb2(0x207)]&&(_0x48a0a0=await exchange['fetchOpenOrders'](_0x302271[_0x423eb2(0xaf)]),_0x48a0a0[_0x423eb2(0xe0)]>0x0&&allOpenOrders[_0x423eb2(0x1d8)](_0x48a0a0[0x0]));}}catch(_0x801a96){await handleError(_0x801a96,_0x423eb2(0xae));}}async function handleOpenOrders(_0x281a7c=0x0){const _0x3ad64d=_0x3c0d4a;allOpenOrders[_0x3ad64d(0xe0)]==0x0&&lockOrders==ORDERS[_0x3ad64d(0xb1)]&&allOrdersPlaced&&(_0x281a7c==0x0?(logger[_0x3ad64d(0x153)](_0x3ad64d(0x178)),_0x281a7c++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3ad64d(0x153)](_0x3ad64d(0x1eb)),validateOrders(_0x3ad64d(0x18f))));}async function testAPI(_0x249643){const _0x238824=_0x3c0d4a,_0x48614e=ccxt[_0x249643[_0x238824(0x1f1)]['toLowerCase']()],_0x30094d=new _0x48614e({'apiKey':_0x249643[_0x238824(0x1fb)],'secret':_0x249643[_0x238824(0x13c)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x30094d[_0x238824(0xcd)]();}catch(_0x331b7c){throw _0x331b7c;}}function cloneDeep(_0xa557b1){const _0x42cc61=_0x3c0d4a;return JSON[_0x42cc61(0xee)](JSON[_0x42cc61(0xf4)](_0xa557b1));}async function getPortfolio(_0x4f038f){const _0x1f13f5=_0x3c0d4a;let _0x2a2285=[],_0x48fb7e=[],_0x4bfe9b=[],_0x430386;if(_0x4f038f[_0x1f13f5(0x1fb)]!==_0x1f13f5(0x109)||_0x4f038f[_0x1f13f5(0x13c)]!==_0x1f13f5(0x109)){if(config[_0x1f13f5(0x1f1)]){if(_0x4f038f[_0x1f13f5(0x1fb)]==_0x1f13f5(0x109))_0x4f038f[_0x1f13f5(0x1fb)]=config[_0x1f13f5(0x1fb)];if(_0x4f038f[_0x1f13f5(0x13c)]==_0x1f13f5(0x109))_0x4f038f[_0x1f13f5(0x13c)]=config[_0x1f13f5(0x13c)];try{await testAPI(_0x4f038f);}catch(_0x4c5b36){if(_0x4c5b36[_0x1f13f5(0xed)]()[_0x1f13f5(0x1b8)]('AuthenticationError')){logger[_0x1f13f5(0x153)](_0x1f13f5(0xb7)),proxyEmit(_0x1f13f5(0x10e),![]);return;}else{handleError(_0x4c5b36,_0x1f13f5(0x13b));return;}}}await initExchange(_0x4f038f[_0x1f13f5(0x1f1)],_0x4f038f[_0x1f13f5(0x1fb)],_0x4f038f[_0x1f13f5(0x13c)]);try{await loadSymbols(_0x4f038f['exchange'],!![]);}catch(_0x59768e){if(_0x59768e[_0x1f13f5(0xed)]()[_0x1f13f5(0x1b8)]('AuthenticationError')){proxyEmit(_0x1f13f5(0x10e),![]);return;}else{handleError(_0x59768e,_0x1f13f5(0x198));return;}}const _0x43e527=await getCoins(![],_0x4f038f[_0x1f13f5(0x207)]);_0x4bfe9b=cloneDeep(_0x43e527[0x1]);}else _0x4bfe9b=cloneDeep(currentCoinsAll);if(_0x4f038f[_0x1f13f5(0x207)]=='')proxyEmit(_0x1f13f5(0x10e),_0x4bfe9b);else{_0x4bfe9b[_0x1f13f5(0xfb)](_0x4c755f=>{const _0x42cad0=_0x1f13f5;if(_0x4c755f[_0x42cad0(0x174)]!=_0x4f038f[_0x42cad0(0x207)])_0x2a2285[_0x42cad0(0x1d8)](_0x4c755f[_0x42cad0(0xaf)]);});try{_0x48fb7e=await exchange[_0x1f13f5(0x1db)](_0x2a2285);}catch(_0xfeffd4){if(_0xfeffd4[_0x1f13f5(0xed)]()[_0x1f13f5(0x1b8)](_0x1f13f5(0x18a))){proxyEmit(_0x1f13f5(0x10e),![]);return;}else{handleError(_0xfeffd4,_0x1f13f5(0x16a));return;}}_0x4bfe9b[_0x1f13f5(0xfb)](_0x4da11f=>{const _0x453de2=_0x1f13f5;_0x4da11f[_0x453de2(0x174)]!=_0x4f038f[_0x453de2(0x207)]?_0x430386=_0x4da11f[_0x453de2(0x1af)]?0x1/_0x48fb7e[_0x4da11f[_0x453de2(0xaf)]][_0x453de2(0x186)]:_0x48fb7e[_0x4da11f[_0x453de2(0xaf)]][_0x453de2(0x186)]:_0x430386=0x1,_0x4da11f['price']=formatResult(_0x430386,0x8);}),proxyEmit(_0x1f13f5(0x10e),_0x4bfe9b);}}function checkMinimums(_0x17b0eb){const _0x4c4582=_0x3c0d4a;let _0x51e8cd=!![];const _0x193ed1=!_0x17b0eb['reverse']?markets[_0x17b0eb[_0x4c4582(0xaf)]][_0x4c4582(0xbc)][_0x4c4582(0xfe)]['min']:markets[_0x17b0eb[_0x4c4582(0xaf)]][_0x4c4582(0xbc)][_0x4c4582(0xda)][_0x4c4582(0x18b)],_0x467ce7=!_0x17b0eb[_0x4c4582(0x1af)]?markets[_0x17b0eb[_0x4c4582(0xaf)]][_0x4c4582(0xbc)][_0x4c4582(0xda)][_0x4c4582(0x18b)]:markets[_0x17b0eb[_0x4c4582(0xaf)]][_0x4c4582(0xbc)][_0x4c4582(0xfe)][_0x4c4582(0x18b)],_0x4556d2=markets[_0x17b0eb[_0x4c4582(0xaf)]]['precision'][_0x4c4582(0xfe)];_0x17b0eb[_0x4c4582(0x1ec)]=formatResultTruncate(_0x17b0eb[_0x4c4582(0x1ec)],_0x4556d2);if(Math['abs'](_0x17b0eb['trade'])<_0x193ed1)_0x51e8cd=![];if(Math[_0x4c4582(0x1b4)](_0x17b0eb[_0x4c4582(0x1ec)])*_0x17b0eb[_0x4c4582(0x186)]<_0x467ce7)_0x51e8cd=![];if(_0x17b0eb['side']==_0x4c4582(0x168)){let _0x2f5e6d=config[_0x4c4582(0x10e)][_0x4c4582(0x194)](_0x52ca62=>_0x52ca62[_0x4c4582(0x174)]==_0x17b0eb[_0x4c4582(0x174)]);if(_0x2f5e6d[_0x4c4582(0x9f)]>0x0){if(Math['abs'](_0x17b0eb['trade'])>_0x17b0eb[_0x4c4582(0xcc)]-_0x2f5e6d[_0x4c4582(0x9f)])_0x51e8cd=![];}else{if(Math[_0x4c4582(0x1b4)](_0x17b0eb[_0x4c4582(0x1ec)])>_0x17b0eb[_0x4c4582(0xcc)])_0x51e8cd=![];}}if(_0x17b0eb[_0x4c4582(0x131)]==_0x4c4582(0x13a)){let _0x300e56=config[_0x4c4582(0x10e)]['find'](_0x27e423=>_0x27e423[_0x4c4582(0x174)]==config[_0x4c4582(0x207)]),_0x191c41=currentCoins[_0x4c4582(0x194)](_0x2be4d9=>_0x2be4d9[_0x4c4582(0x174)]==config['basecoin']);if(_0x300e56[_0x4c4582(0x9f)]>0x0){if(Math['abs'](_0x17b0eb[_0x4c4582(0x1ec)])*_0x17b0eb[_0x4c4582(0x186)]>_0x191c41['number']-_0x300e56['offset'])_0x51e8cd=![];}else{if(Math[_0x4c4582(0x1b4)](_0x17b0eb[_0x4c4582(0x1ec)])*_0x17b0eb['last']>_0x191c41[_0x4c4582(0xcc)])_0x51e8cd=![];}}return _0x51e8cd;}async function getBalances(){const _0x1595e8=_0x3c0d4a;let _0x47e493=0x0,_0x1adb2e;const _0xdc4900=config[_0x1595e8(0x192)];if(config[_0x1595e8(0x1fc)]&&config[_0x1595e8(0x1e3)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x3ceebf=>{const _0x3ddb75=_0x1595e8;if(_0x3ceebf[_0x3ddb75(0x174)]!=config[_0x3ddb75(0x207)]){let _0x5b655c=global[_0x3ddb75(0xc6)][noslash(_0x3ceebf['symbol'])];_0x1adb2e=_0x3ceebf[_0x3ddb75(0x1af)]?0x1/_0x5b655c:_0x5b655c;}else _0x1adb2e=0x1;let _0x1ebad9=_0x3ceebf[_0x3ddb75(0xcc)]*_0x1adb2e;_0x47e493+=_0x1ebad9,_0x3ceebf['last']=formatResult(Number(_0x1adb2e),0x8),_0x3ceebf[_0x3ddb75(0x1ad)]=_0x1ebad9;}),currentCoins[_0x1595e8(0xfb)](_0x5cee19=>{const _0x15711e=_0x1595e8;let _0x7236e6=config[_0x15711e(0x10e)][_0x15711e(0x194)](_0x69987f=>_0x69987f[_0x15711e(0x174)]==_0x5cee19[_0x15711e(0x174)]),_0x403b7f=Number(_0x7236e6[_0x15711e(0x14c)]),_0x2ca082=_0x5cee19['value']/_0x47e493*0x64,_0x578f90=_0x403b7f*_0x47e493/0x64/_0x5cee19[_0x15711e(0x186)]-_0x5cee19[_0x15711e(0xcc)];_0x5cee19[_0x15711e(0x14c)]=formatResult(_0x2ca082,0x3),_0x5cee19[_0x15711e(0x188)]=formatResult(_0x403b7f,0x3),_0x5cee19['trade']=formatResult(_0x578f90,0x8),_0x5cee19['side']='',_0x5cee19[_0x15711e(0xea)]=![];if(_0x5cee19[_0x15711e(0x174)]!=config[_0x15711e(0x207)]){if(_0x5cee19[_0x15711e(0x14c)]>_0x403b7f)_0x5cee19[_0x15711e(0x131)]=_0x15711e(0x168),_0x5cee19[_0x15711e(0xea)]=checkMinimums(_0x5cee19);else _0x5cee19[_0x15711e(0x14c)]<_0x403b7f&&(_0x5cee19[_0x15711e(0x131)]=_0x15711e(0x13a),_0x5cee19['valid']=checkMinimums(_0x5cee19));}_0x5cee19['delta']=_0x5cee19[_0x15711e(0x14c)]/_0x5cee19[_0x15711e(0x188)]-0x1;if(_0x5cee19['orderstatus']==_0x15711e(0x1bd)||_0x5cee19['orderstatus']==_0x15711e(0x97))_0x5cee19[_0x15711e(0x1ba)]='none';}),currentCoins[_0x1595e8(0x181)]((_0xa5028b,_0x3fe7de)=>_0xa5028b[_0x1595e8(0x200)]<_0x3fe7de[_0x1595e8(0x200)]?0x1:_0x3fe7de[_0x1595e8(0x200)]<_0xa5028b[_0x1595e8(0x200)]?-0x1:0x0);const _0x12cb6a=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x12cb6a[_0x1595e8(0x1ab)],'usd':_0x12cb6a['usd'],'portfolio':JSON[_0x1595e8(0xf4)](currentCoins),'threshold':_0xdc4900},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x1595e8(0x1fc)])headlessMode({'portfolio':currentCoins,'threshold':_0xdc4900});else{if(lockOrders==ORDERS[_0x1595e8(0x122)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0xdc4900});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x267562=getNormalizedPerformance();getStartingBalances(_0x267562),emitPerformance(_0x267562);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x27faac=getNormalizedPerformance();emitPerformance(_0x27faac),getStartingBalances(_0x27faac),logger[_0x1595e8(0x153)](_0x1595e8(0x1f5));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x7fdaac=_0x3c0d4a;if(!lastBalances)return;let _0x38ad12=[],_0x6ed7d8,_0x5901b2=JSON[_0x7fdaac(0xee)](lastBalances[_0x7fdaac(0x10e)]);_0x5901b2['sort']((_0x1bcc15,_0x1c6775)=>_0x1bcc15[_0x7fdaac(0x174)]>_0x1c6775[_0x7fdaac(0x174)]?0x1:_0x1c6775[_0x7fdaac(0x174)]>_0x1bcc15['coin']?-0x1:0x0),_0x5901b2[_0x7fdaac(0xfb)](_0xe601b8=>{const _0x283a32=_0x7fdaac;let _0x2f2fb3={'coin':_0xe601b8['coin'],'number':_0xe601b8['number'],'price':_0xe601b8[_0x283a32(0x186)]};_0x38ad12[_0x283a32(0x1d8)](_0x2f2fb3);});const _0x234bd1=await getFiat();_0x6ed7d8={'date':lastBalances[_0x7fdaac(0x1fa)]['split']('\x20')[0x0],'eur':_0x234bd1[_0x7fdaac(0x1ab)],'usd':_0x234bd1['usd'],'coins':_0x38ad12};let _0xf561ac=dbPerformance[_0x7fdaac(0xd2)]('data')[_0x7fdaac(0x194)]({'date':_0x6ed7d8[_0x7fdaac(0x116)]})[_0x7fdaac(0x1ad)]();_0xf561ac?_0x6ed7d8[_0x7fdaac(0x116)]!=config['startdate']&&dbPerformance[_0x7fdaac(0xd2)](_0x7fdaac(0x1de))['find']({'date':_0x6ed7d8[_0x7fdaac(0x116)]})[_0x7fdaac(0xff)](_0x6ed7d8)[_0x7fdaac(0x11f)]():dbPerformance[_0x7fdaac(0xd2)](_0x7fdaac(0x1de))[_0x7fdaac(0x1d8)](_0x6ed7d8)[_0x7fdaac(0x11f)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x134f25=_0x3c0d4a;let _0x11bf7a=[];if(dbPerformance[_0x134f25(0x1f2)](_0x134f25(0x1de))[_0x134f25(0x1ad)]()){let _0x182892=dbPerformance[_0x134f25(0xd2)](_0x134f25(0x1de))[_0x134f25(0x12d)]()[_0x134f25(0x19b)](_0x134f25(0x116))[_0x134f25(0x1ad)](),_0xeb24b6=[...config[_0x134f25(0x1c0)]];_0xeb24b6[_0x134f25(0x181)]((_0x345820,_0x2682a9)=>_0x345820[_0x134f25(0x116)]>_0x2682a9['date']?-0x1:_0x2682a9[_0x134f25(0x116)]>_0x345820[_0x134f25(0x116)]?0x1:0x0);let _0x5c28de=0x1,_0x17e867=[],_0x4f0e89=0x0;_0x182892['slice']()['reverse']()[_0x134f25(0xfb)]((_0x5b5da0,_0x1a630e)=>{const _0x22439c=_0x134f25;if(_0xeb24b6[_0x4f0e89]){if(_0x182892[_0x182892[_0x22439c(0xe0)]-_0x1a630e]&&_0xeb24b6[_0x4f0e89][_0x22439c(0x116)]==_0x182892[_0x182892[_0x22439c(0xe0)]-_0x1a630e]['date']){if(_0x1a630e<_0x182892[_0x22439c(0xe0)]){let _0x45ebd7=0x0,_0x59ac60=0x0;_0x182892[_0x182892[_0x22439c(0xe0)]-_0x1a630e][_0x22439c(0x1ae)][_0x22439c(0xfb)](_0x3aa9d9=>{const _0x7e9c31=_0x22439c;_0x59ac60+=_0x3aa9d9[_0x7e9c31(0xcc)]*_0x3aa9d9[_0x7e9c31(0xd5)];}),_0xeb24b6[_0x4f0e89]['changes'][_0x22439c(0xfb)](_0x4352f6=>{const _0x375f20=_0x22439c;_0x45ebd7+=_0x4352f6[_0x375f20(0xcc)]*_0x4352f6[_0x375f20(0xd5)];}),_0x5c28de*=_0x45ebd7/(_0x59ac60-_0x45ebd7)+0x1;}_0x4f0e89++;}}let _0x4da42b=0x0;_0x5b5da0[_0x22439c(0x1ae)]['forEach'](_0x279e5c=>{const _0x471a69=_0x22439c;_0x4da42b+=_0x279e5c[_0x471a69(0xcc)]*_0x279e5c['price'];}),_0x17e867[_0x182892[_0x22439c(0xe0)]-_0x1a630e-0x1]=_0x4da42b*(_0x5c28de-0x1);});let _0x207360=[];_0xeb24b6=[...config['liquidity']]||[];let _0x155c09=0x0;_0x4f0e89=0x0,_0x182892[_0x134f25(0xfb)]((_0x128191,_0x43dc56)=>{const _0x8a897f=_0x134f25;if(_0xeb24b6[_0x4f0e89]){const _0x28ee2f=fns['parse'](_0xeb24b6[_0x4f0e89][_0x8a897f(0x116)],_0x8a897f(0x149),new Date()),_0x3049cb=fns['parse'](_0x128191[_0x8a897f(0x116)],'yyyy/MM/dd',new Date());if(fns[_0x8a897f(0xad)](_0x28ee2f,_0x3049cb)){let _0x1f0f3a=0x0;_0xeb24b6[_0x4f0e89][_0x8a897f(0xde)][_0x8a897f(0xfb)](_0x234746=>{const _0x57408c=_0x8a897f;!_0x207360[_0x234746[_0x57408c(0x174)]]?_0x207360[_0x234746[_0x57408c(0x174)]]=_0x234746[_0x57408c(0xcc)]:(_0x1f0f3a=_0x207360[_0x234746[_0x57408c(0x174)]],_0x207360[_0x234746['coin']]+=_0x234746[_0x57408c(0xcc)]);const _0x433465=_0x128191[_0x57408c(0x1ae)]['find'](_0x124fad=>_0x124fad[_0x57408c(0x174)]==_0x234746[_0x57408c(0x174)]);(!_0x433465||_0x433465[_0x57408c(0xcc)]==0x0)&&(_0x155c09+=(-_0x234746['number']-_0x1f0f3a)*_0x234746['price']);}),_0x4f0e89++;}}_0x128191[_0x8a897f(0x1ae)][_0x8a897f(0xfb)]((_0x559dde,_0x46eb9f)=>{const _0x38a4c4=_0x8a897f;_0x207360[_0x559dde[_0x38a4c4(0x174)]]&&(_0x559dde[_0x38a4c4(0x151)]=_0x207360[_0x559dde['coin']]);}),_0x11bf7a[_0x8a897f(0x1d8)]({'date':_0x128191[_0x8a897f(0x116)],'eur':_0x128191[_0x8a897f(0x1ab)],'usd':_0x128191['usd'],'offset':_0x17e867[_0x43dc56],'netoffset':_0x155c09,'coins':_0x128191[_0x8a897f(0x1ae)]});});}return _0x11bf7a;}function emitPerformance(_0x3412ec){const _0x55840c=_0x3c0d4a;_0x3412ec[_0x55840c(0xe0)]!==0x0?(proxyEmit(_0x55840c(0xe7),_0x3412ec),lastPerformanceEmitted=getDate()):proxyEmit(_0x55840c(0xe7),[]);}function getPerf(_0x263d82,_0x143092){const _0x16f4e0=_0x3c0d4a;let _0x3a1f62=0x0,_0x141b1f=0x0,_0x7aad4a=0x0;_0x263d82['coins']['forEach'](_0x20a709=>{const _0x377a1a=_0x582a;_0x3a1f62+=_0x20a709['number']*_0x20a709[_0x377a1a(0xd5)];});_0x143092&&(_0x3a1f62+=_0x263d82[_0x16f4e0(0x9f)]);if(config[_0x16f4e0(0x207)]==='BTC'||config[_0x16f4e0(0x207)]===_0x16f4e0(0xdd))_0x141b1f=_0x3a1f62*_0x263d82[_0x16f4e0(0x1ab)],_0x7aad4a=_0x3a1f62*_0x263d82['usd'];else{if(config['basecoin']===_0x16f4e0(0x11d)||config[_0x16f4e0(0x207)]==='USDT'||config[_0x16f4e0(0x207)]===_0x16f4e0(0x166))_0x141b1f=_0x3a1f62*_0x263d82[_0x16f4e0(0x1ab)]/_0x263d82[_0x16f4e0(0x160)],_0x7aad4a=_0x3a1f62;else config[_0x16f4e0(0x207)]===_0x16f4e0(0x18c)&&(_0x141b1f=_0x3a1f62,_0x7aad4a=_0x3a1f62*_0x263d82[_0x16f4e0(0x160)]/_0x263d82[_0x16f4e0(0x1ab)]);}return[_0x3a1f62,_0x141b1f,_0x7aad4a];}function getKPIs(_0x1f3e06,_0x3b4c5d=_0x3c0d4a(0x18c)){const _0x49a04f=_0x3c0d4a,_0x534055=config[_0x49a04f(0x207)],_0x273796=lastBalances,_0x49512b=currentCoins,_0x4640d6=getNormalizedPerformance(),_0x44ce4d=_0x1f3e06===_0x49a04f(0x207)?_0x534055:_0x1f3e06===_0x49a04f(0xfa)||_0x1f3e06===_0x49a04f(0x1b3)?_0x3b4c5d:'Net\x20'+_0x534055,_0x1347a4=_0x1f3e06===_0x49a04f(0x1be)?_0x49a04f(0xe6):_0x1f3e06==='net-fiat'?'Net\x20effect':_0x44ce4d+_0x49a04f(0x1cb),_0x2eaf61=_0x1f3e06===_0x49a04f(0x1be)||_0x1f3e06==='net-fiat'?'Net\x20effect':_0x44ce4d+_0x49a04f(0x14e);let _0x39cca4=0x0;_0x49512b[_0x49a04f(0xfb)](_0x57ffaa=>{const _0x41f5ae=_0x49a04f;_0x39cca4+=_0x57ffaa[_0x41f5ae(0xcc)]*_0x57ffaa['last'];});if(_0x1f3e06===_0x49a04f(0xfa)||_0x1f3e06==='net-fiat'){if(_0x534055===_0x49a04f(0x1b6)||_0x534055===_0x49a04f(0xdd))_0x39cca4=_0x39cca4*(_0x3b4c5d===_0x49a04f(0x18c)?_0x273796[_0x49a04f(0x1ab)]:_0x273796[_0x49a04f(0x160)]);else{if(_0x534055==='BUSD'||_0x534055===_0x49a04f(0x171)||_0x534055===_0x49a04f(0x166))_0x39cca4=_0x39cca4*(_0x3b4c5d===_0x49a04f(0x18c)?_0x273796[_0x49a04f(0x1ab)]/_0x273796[_0x49a04f(0x160)]:0x1);else _0x534055===_0x49a04f(0x18c)&&(_0x39cca4=_0x39cca4*(_0x3b4c5d===_0x49a04f(0x18c)?0x1:_0x273796[_0x49a04f(0x160)]/_0x273796[_0x49a04f(0x1ab)]));}}let _0x3c6f90;if(_0x39cca4!==0x0){if(_0x1f3e06===_0x49a04f(0x207))_0x3c6f90=(_0x39cca4/startingBalances[_0x49a04f(0x207)]-0x1)*0x64;else{if(_0x3b4c5d===_0x49a04f(0x18c))_0x3c6f90=(_0x39cca4/startingBalances['eur']-0x1)*0x64;else _0x3c6f90=(_0x39cca4/startingBalances[_0x49a04f(0x160)]-0x1)*0x64;}let _0x24e8ad=0x0;if(startingBalances[_0x49a04f(0x1ae)])_0x49512b[_0x49a04f(0xfb)](_0x58d6a0=>{const _0x571b4a=_0x49a04f;let _0x2ba642=startingBalances[_0x571b4a(0x1ae)]['find'](_0x4b2eea=>_0x4b2eea[_0x571b4a(0x174)]===_0x58d6a0[_0x571b4a(0x174)]);if(_0x2ba642&&_0x2ba642['coin']&&_0x58d6a0[_0x571b4a(0xcc)]!==0x0)_0x24e8ad+=_0x2ba642[_0x571b4a(0xcc)]*_0x58d6a0[_0x571b4a(0x186)];});let _0x4863c6=0x0;if(_0x4640d6[_0x49a04f(0xe0)]!==0x0){let _0x43a2c6=_0x4640d6[_0x4640d6[_0x49a04f(0xe0)]-0x1];_0x4863c6=_0x43a2c6[_0x49a04f(0x13d)];}_0x24e8ad-=_0x4863c6;_0x1f3e06===_0x49a04f(0x1be)&&(_0x3c6f90=(_0x39cca4-_0x24e8ad)/startingBalances['basecoin']*0x64,_0x39cca4=_0x39cca4-_0x24e8ad);if(_0x1f3e06==='net-fiat'){let _0x5eb6c2=_0x3b4c5d==='EUR'?startingBalances['eur']:startingBalances[_0x49a04f(0x160)];if(_0x534055==='BTC'||_0x534055===_0x49a04f(0xdd))_0x24e8ad=_0x3b4c5d==='EUR'?_0x24e8ad*_0x273796[_0x49a04f(0x1ab)]:_0x24e8ad*_0x273796[_0x49a04f(0x160)];else{if(_0x534055===_0x49a04f(0x11d)||_0x534055===_0x49a04f(0x171)||_0x534055===_0x49a04f(0x166))_0x24e8ad=_0x3b4c5d===_0x49a04f(0x18c)?_0x24e8ad*_0x273796[_0x49a04f(0x1ab)]/_0x273796[_0x49a04f(0x160)]:_0x24e8ad;else _0x534055==='EUR'&&(_0x24e8ad=_0x3b4c5d===_0x49a04f(0x18c)?_0x24e8ad:_0x24e8ad*_0x273796[_0x49a04f(0x160)]/_0x273796[_0x49a04f(0x1ab)]);}_0x3c6f90=(_0x39cca4-_0x24e8ad)/_0x5eb6c2*0x64,_0x39cca4=_0x39cca4-_0x24e8ad;}if(_0x3c6f90){if(_0x3c6f90<0x64)_0x3c6f90=_0x3c6f90[_0x49a04f(0xd9)](0x2);else{if(_0x3c6f90<0x3e8)_0x3c6f90=_0x3c6f90[_0x49a04f(0xd9)](0x1);else _0x3c6f90=_0x3c6f90['toFixed'](0x0);}}else _0x3c6f90=Number('0')[_0x49a04f(0xd9)](0x2);if(_0x39cca4){if(Math[_0x49a04f(0x1b4)](_0x39cca4)<0.000001)_0x39cca4=_0x39cca4['toFixed'](0x2);else{if(Math['abs'](_0x39cca4)<0.1)_0x39cca4=_0x39cca4[_0x49a04f(0xd9)](0x6);else{if(Math['abs'](_0x39cca4)<0x1)_0x39cca4=_0x39cca4[_0x49a04f(0xd9)](0x5);else{if(Math[_0x49a04f(0x1b4)](_0x39cca4)<0xa)_0x39cca4=_0x39cca4['toFixed'](0x4);else{if(Math[_0x49a04f(0x1b4)](_0x39cca4)<0x64)_0x39cca4=_0x39cca4['toFixed'](0x3);else{if(Math['abs'](_0x39cca4)<0x3e8)_0x39cca4=_0x39cca4[_0x49a04f(0xd9)](0x2);else _0x39cca4=_0x39cca4['toFixed'](0x2);}}}}}}else _0x39cca4=Number('0')[_0x49a04f(0xd9)](0x2);}else _0x3c6f90=Number('0')['toFixed'](0x2);return{'value':_0x39cca4,'change':_0x3c6f90,'leftTxt':_0x1347a4,'rightTxt':_0x2eaf61};}async function getStartingBalances(_0x1d6fea,_0x5137bd=!![]){const _0x31e21e=_0x3c0d4a;if(_0x1d6fea[_0x31e21e(0xe0)]!==0x0){const [_0x121693,_0x1617ff,_0x2f3d4f]=getPerf(_0x1d6fea[0x0],!![]);let _0x1a20c4=[];config['portfolio'][_0x31e21e(0xfb)](_0x239be1=>{const _0x3698a8=_0x31e21e;let _0x400fd2=0x0,_0x3ddbfa;config[_0x3698a8(0x1c0)]['forEach'](_0xc4c780=>{const _0x3f7182=_0x3698a8;let _0x47772a=_0xc4c780[_0x3f7182(0xde)][_0x3f7182(0x194)](_0x4f9344=>_0x4f9344[_0x3f7182(0x174)]==_0x239be1[_0x3f7182(0x174)]);if(_0x47772a){_0x400fd2+=_0x47772a['number'];if(!_0x3ddbfa)_0x3ddbfa=_0x47772a[_0x3f7182(0xd5)];}}),_0x1a20c4[_0x3698a8(0x1d8)]({'coin':_0x239be1[_0x3698a8(0x174)],'number':_0x400fd2,'initialprice':_0x3ddbfa});});const _0x5051ec={'basecoin':_0x121693,'eur':_0x1617ff,'usd':_0x2f3d4f,'coins':_0x1a20c4};if(_0x5137bd)proxyEmit('starting-balances',_0x5051ec);startingBalances=_0x5051ec;}}function headlessMode(_0x4dccec){const _0x3c5972=_0x3c0d4a;let _0xc304f9=_0x4dccec['portfolio'],_0x5a393c=_0x4dccec[_0x3c5972(0x192)],_0x249227=[];for(let _0xc3cdff of _0xc304f9){if(_0xc3cdff[_0x3c5972(0x174)]!=config[_0x3c5972(0x207)]){if(_0xc3cdff['delta']>=_0x5a393c/0x64){if(_0xc3cdff[_0x3c5972(0xea)])_0x249227[_0x3c5972(0x1d8)](_0xc3cdff);}else{if(_0xc3cdff[_0x3c5972(0x200)]<=-_0x5a393c/0x64){if(_0xc3cdff['valid'])_0x249227[_0x3c5972(0x1d8)](_0xc3cdff);}}}}_0x249227[_0x3c5972(0xe0)]>0x0&&placeOrder(_0x249227);}function notifyBalance(_0x33b017){const _0x24d99d=_0x3c0d4a;let _0x1a2d3c=_0x33b017[_0x24d99d(0x10e)],_0x576f8b=_0x33b017[_0x24d99d(0x192)],_0x20b5c9=[];for(let _0x4f8ee1 of _0x1a2d3c){if(_0x4f8ee1[_0x24d99d(0x174)]!=config[_0x24d99d(0x207)]){if(_0x4f8ee1[_0x24d99d(0x200)]>=_0x576f8b/0x64){if(_0x4f8ee1[_0x24d99d(0xea)])_0x20b5c9[_0x24d99d(0x1d8)](_0x4f8ee1);}else{if(_0x4f8ee1[_0x24d99d(0x200)]<=-_0x576f8b/0x64){if(_0x4f8ee1['valid'])_0x20b5c9[_0x24d99d(0x1d8)](_0x4f8ee1);}}}}if(_0x20b5c9[_0x24d99d(0xe0)]>0x0){let _0x118ee2=_0x20b5c9[_0x24d99d(0x164)](_0x142b93=>_0x142b93['coin']);_0x118ee2['sort']();let _0x414477=_0x118ee2[_0x24d99d(0x1cf)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x24d99d(0x1c9));lastCoinsToBalance=_0x414477;}}function symbolToCoin(_0x5d45ca){const _0x44c948=_0x3c0d4a;let _0x396165;if(_0x5d45ca[_0x44c948(0x1b8)]('/'+config[_0x44c948(0x207)]))_0x396165=_0x5d45ca['replace']('/'+config[_0x44c948(0x207)],'');if(_0x5d45ca[_0x44c948(0x1b8)](config[_0x44c948(0x207)]+'/'))_0x396165=_0x5d45ca[_0x44c948(0x14d)](config[_0x44c948(0x207)]+'/','');return _0x396165;}async function unlockOrders(){const _0x3e0cbe=_0x3c0d4a;if(allOrdersPlaced&&lockOrders==ORDERS[_0x3e0cbe(0xb1)]){logger['debug'](_0x3e0cbe(0xdc)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x39eb05=await getCoins();[currentCoins,currentCoinsAll]=_0x39eb05,validateOrdersState=_0x3e0cbe(0x151),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger['debug'](_0x3e0cbe(0x15f));}}async function validateOrders(_0x3bcd85){const _0x556f5a=_0x3c0d4a;if(_0x3bcd85)validateOrdersState=_0x3bcd85;logger[_0x556f5a(0x153)](_0x556f5a(0x159)+validateOrdersState+_0x556f5a(0xf2)+(lockOrders==0x1?_0x556f5a(0x1b0):lockOrders==0x2?'ORDERS.UNLOCKING':'ORDERS.UNLOCKED'));let _0x4a17c1=[],_0x364cad=config[_0x556f5a(0xaa)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x556f5a(0x153)](_0x556f5a(0x1b7)+validateOrdersState),lastOrders[_0x556f5a(0xfb)](_0x9b098d=>{const _0x58c712=_0x556f5a;let _0x62a84f=![];_0x9b098d['filled']>0x0&&(_0x62a84f=!![]),_0x4a17c1[_0x58c712(0x1d8)](_0x62a84f),_0x62a84f&&config[_0x58c712(0xaa)]!=_0x58c712(0x154)&&logHistory(_0x58c712(0x158),_0x58c712(0x1bb)+_0x9b098d['symbol']+'\x20'+_0x9b098d[_0x58c712(0x131)]+'\x20#'+formatResult(_0x9b098d[_0x58c712(0x1bd)],0x8)+'\x20@'+formatResult(_0x9b098d[_0x58c712(0xd5)],0x8));}),_0x4a17c1[_0x556f5a(0xfb)]((_0x56c67a,_0x4f0d17)=>{const _0x299d3f=_0x556f5a;if(_0x56c67a)lastOrders[_0x299d3f(0xc0)](_0x4f0d17,0x1);}),persistOpenOrders(lastOrders);const _0x2e66f9=coolingDown?_0x556f5a(0x1c4):_0x556f5a(0x1ef);if(validateOrdersState=='initial'){validateOrdersState=_0x556f5a(0x100);if(_0x4a17c1['includes'](![])){if(config[_0x556f5a(0xaa)]==_0x556f5a(0x154)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x556f5a(0x100)){if(_0x4a17c1[_0x556f5a(0x1b8)](![])){}else{if(allOrdersPlaced){if(config[_0x556f5a(0xaa)]==_0x556f5a(0x154)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x556f5a(0x145))_0x4a17c1[_0x556f5a(0x1b8)](![])&&(config[_0x556f5a(0xaa)]==_0x556f5a(0x154)?logHistory(_0x556f5a(0x16b),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x556f5a(0x129)](_0x364cad*validateOrderInterval/0xea60)+_0x556f5a(0x10b)+_0x2e66f9):(await cancelOrders(),logHistory(_0x556f5a(0x16b),_0x556f5a(0x1b5)+Math['round'](_0x364cad*validateOrderInterval/0xea60)+_0x556f5a(0x10b)+_0x2e66f9))),await unlockOrders();else{if(validateOrdersState==_0x556f5a(0x18f)){if(config[_0x556f5a(0xaa)]!=_0x556f5a(0x154))logHistory(_0x556f5a(0x16b),_0x556f5a(0x1e7)+_0x2e66f9);await unlockOrders();}}}}}async function cancelOrders(){const _0x4b6d70=_0x3c0d4a;lastOrders[_0x4b6d70(0xfb)](async _0x1f3c63=>{const _0x12d5d9=_0x4b6d70;try{const _0x214e08=await exchange['cancelOrder'](_0x1f3c63[_0x12d5d9(0x137)],_0x1f3c63[_0x12d5d9(0xaf)]);}catch(_0x331477){if(_0x331477[_0x12d5d9(0xed)]()['includes'](_0x12d5d9(0xe5))){}else await handleError(_0x331477,_0x12d5d9(0x1e4));}});}async function initCoinResults(){const _0x4249c2=_0x3c0d4a;let _0x1fbe2d=[];config[_0x4249c2(0x10e)]['forEach'](_0x9ca9f7=>{const _0x26740a=_0x4249c2;if(!_0x9ca9f7['excluded']&&_0x9ca9f7['coin']!=config['basecoin']){let _0x4961b9=dbCoinResults[_0x26740a(0xd2)](_0x26740a(0x1ae))['find']({'coin':_0x9ca9f7['coin']})[_0x26740a(0x1ad)]();if(!_0x4961b9){const _0x2d0c8d=currentCoins[_0x26740a(0x194)](_0x538b0f=>_0x538b0f[_0x26740a(0x174)]==_0x9ca9f7['coin']),_0x4c0a51=global[_0x26740a(0xc6)][noslash(_0x9ca9f7[_0x26740a(0xaf)])];let _0x13ac89=_0x2d0c8d?_0x2d0c8d[_0x26740a(0xcc)]:null,_0x3c1a56=_0x9ca9f7['reverse']?0x1/_0x4c0a51:_0x4c0a51,_0x4969c9;config[_0x26740a(0x1c0)][_0x26740a(0xfb)](_0x4ded8f=>{const _0xa3bf87=_0x26740a;!_0x4969c9&&(_0x4969c9=_0x4ded8f[_0xa3bf87(0xde)][_0xa3bf87(0x194)](_0x1dbc3c=>_0x1dbc3c[_0xa3bf87(0x174)]==_0x9ca9f7[_0xa3bf87(0x174)]),_0x4969c9&&(_0x13ac89=_0x4969c9['number'],_0x3c1a56=_0x4969c9[_0xa3bf87(0xd5)]));}),_0x1fbe2d['push']({'coin':_0x9ca9f7[_0x26740a(0x174)],'number':_0x13ac89,'price':_0x3c1a56});}}}),_0x1fbe2d['forEach'](_0x5dbc69=>{const _0x46405f=_0x4249c2,_0x280eeb={'coin':_0x5dbc69[_0x46405f(0x174)],'number':_0x5dbc69[_0x46405f(0xcc)],'breakeven':_0x5dbc69[_0x46405f(0xd5)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x46405f(0xd2)](_0x46405f(0x1ae))['push'](_0x280eeb)[_0x46405f(0x11f)]();});}async function updateCoinResults(_0xa16f49,_0x5569e8=![]){const _0x496bbd=_0x3c0d4a;let _0x3b03c7,_0x5161e7,_0x15956a,_0xece629,_0x577fbf,_0x3fa0ca,_0x2bf2e6=dbCoinResults['get']('coins')[_0x496bbd(0x194)]({'coin':_0xa16f49[_0x496bbd(0x174)]})['value']();!_0x2bf2e6&&await initCoinResults();_0xa16f49['reverse']&&(_0x3fa0ca={'filled':_0xa16f49[_0x496bbd(0x1bd)]*_0xa16f49[_0x496bbd(0xd5)],'amount':_0xa16f49[_0x496bbd(0x1bd)]*_0xa16f49[_0x496bbd(0xd5)],'side':_0xa16f49[_0x496bbd(0x131)]==_0x496bbd(0x168)?_0x496bbd(0x13a):_0x496bbd(0x168),'price':0x1/_0xa16f49[_0x496bbd(0xd5)]},_0xa16f49={..._0xa16f49,..._0x3fa0ca});_0x5569e8?_0x5161e7=_0xa16f49[_0x496bbd(0x131)]==_0x496bbd(0x13a)?_0x2bf2e6[_0x496bbd(0xcc)]+_0xa16f49['filled']:_0x2bf2e6[_0x496bbd(0xcc)]-_0xa16f49['filled']:_0x5161e7=await getCoinNumber(_0xa16f49[_0x496bbd(0x174)]);if(_0xa16f49[_0x496bbd(0xfc)]&&_0xa16f49['fee'][_0x496bbd(0x1da)]==config[_0x496bbd(0x207)])_0x3b03c7=_0xa16f49[_0x496bbd(0xfc)][_0x496bbd(0xda)];else{if(_0xa16f49[_0x496bbd(0xfc)]&&_0xa16f49['fee'][_0x496bbd(0x1da)]==_0x496bbd(0x1ea)&&!_0x5569e8)_0x3b03c7=_0xa16f49[_0x496bbd(0xfc)][_0x496bbd(0xda)]*global[_0x496bbd(0xc6)][_0x496bbd(0x1ea)+config['basecoin']];else _0x3b03c7=defaultFee*_0xa16f49[_0x496bbd(0x1bd)]*_0xa16f49[_0x496bbd(0xd5)];}_0xa16f49['side']==_0x496bbd(0x13a)?(_0x15956a=_0x5161e7!=0x0?(_0x2bf2e6[_0x496bbd(0xb5)]*_0x2bf2e6['number']+_0xa16f49[_0x496bbd(0xd5)]*(_0x5161e7-_0x2bf2e6['number'])+_0x3b03c7)/_0x5161e7:0x0,_0xece629=_0x2bf2e6[_0x496bbd(0xd6)]):(_0x15956a=_0x5161e7!=0x0?(_0x2bf2e6[_0x496bbd(0xb5)]*_0x2bf2e6[_0x496bbd(0xcc)]-_0xa16f49[_0x496bbd(0xd5)]*(_0x2bf2e6[_0x496bbd(0xcc)]-_0x5161e7)+_0x3b03c7)/_0x5161e7:0x0,_0xece629=_0x2bf2e6['realized']+(_0xa16f49['price']-_0x2bf2e6['breakeven'])*_0xa16f49[_0x496bbd(0x1bd)]);_0x577fbf=(_0xa16f49[_0x496bbd(0xd5)]-_0x15956a-_0x3b03c7/_0xa16f49[_0x496bbd(0x1bd)])*_0x5161e7;let _0x4b7a78={'coin':_0xa16f49['coin'],'number':_0x5161e7,'breakeven':formatResult(_0x15956a,0x8),'realized':formatResult(_0xece629,0x8),'unrealized':formatResult(_0x577fbf,0x8),'fees':formatResult(_0x2bf2e6[_0x496bbd(0xeb)]+_0x3b03c7,0x8),'sells':_0xa16f49[_0x496bbd(0x131)]==_0x496bbd(0x168)?_0x2bf2e6[_0x496bbd(0x1d5)]+0x1:_0x2bf2e6['sells'],'buys':_0xa16f49['side']=='buy'?_0x2bf2e6[_0x496bbd(0x128)]+0x1:_0x2bf2e6[_0x496bbd(0x128)]};dbCoinResults['get'](_0x496bbd(0x1ae))[_0x496bbd(0x194)]({'coin':_0xa16f49[_0x496bbd(0x174)]})[_0x496bbd(0xff)](_0x4b7a78)[_0x496bbd(0x11f)]();if(!_0x5569e8){if(_0xa16f49[_0x496bbd(0xfc)]&&_0xa16f49[_0x496bbd(0xfc)]['currency']==_0x496bbd(0x1ea)){const _0x54547e=currentCoins[_0x496bbd(0x194)](_0x5b629b=>_0x5b629b['coin']==_0x496bbd(0x1ea));if(_0x54547e){let _0x5f0c44=dbCoinResults[_0x496bbd(0xd2)](_0x496bbd(0x1ae))[_0x496bbd(0x194)]({'coin':_0x496bbd(0x1ea)})[_0x496bbd(0x1ad)]();_0x4b7a78={..._0x5f0c44,'number':_0x54547e['number']},dbCoinResults['get'](_0x496bbd(0x1ae))[_0x496bbd(0x194)]({'coin':_0x496bbd(0x1ea)})['assign'](_0x4b7a78)[_0x496bbd(0x11f)]();}}}}async function placeOrder(_0x4fb5a4){const _0x5059ff=_0x3c0d4a,_0x3ac70b=config[_0x5059ff(0xaa)]==_0x5059ff(0x154)?'market':_0x5059ff(0x189);if(lockOrders==ORDERS[_0x5059ff(0x122)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5059ff(0xb1)],allOrdersPlaced=![],validateOrdersState=_0x5059ff(0x151);let _0x158843=![];lastOrders=[];for(const _0x6ae134 of _0x4fb5a4){let _0x5e4062,_0x453612,_0x19b92d,_0x238a77,_0x1fe0b9,_0x5ac15e=_0x6ae134[_0x5059ff(0xaf)];try{const _0x4cb852=await exchange[_0x5059ff(0x10d)](_0x5ac15e);_0x5e4062=_0x6ae134[_0x5059ff(0x1af)]?0x1/_0x6ae134[_0x5059ff(0x186)]:_0x6ae134['last'],_0x453612=_0x4cb852['bid'],_0x19b92d=_0x4cb852[_0x5059ff(0x165)];_0x6ae134[_0x5059ff(0x1af)]?(_0x238a77=_0x6ae134['side']=='buy'?_0x5059ff(0x168):_0x5059ff(0x13a),_0x1fe0b9=Math[_0x5059ff(0x1b4)](_0x6ae134['trade'])/_0x5e4062):(_0x238a77=_0x6ae134[_0x5059ff(0x131)],_0x1fe0b9=Math['abs'](_0x6ae134[_0x5059ff(0x1ec)]));_0x3ac70b==_0x5059ff(0x189)&&(config['ordertype']==_0x5059ff(0x121)&&(_0x5e4062=_0x238a77=='buy'?_0x453612:_0x19b92d),config[_0x5059ff(0xaa)]==_0x5059ff(0x107)&&(_0x5e4062=_0x238a77==_0x5059ff(0x13a)?_0x19b92d:_0x453612));_0x1fe0b9=formatResult(_0x1fe0b9,0x8),_0x5e4062=formatResult(_0x5e4062,0x8);const _0xb04ab1=_0x238a77=='sell'?config[_0x5059ff(0x12b)]?String[_0x5059ff(0x11b)]('0x'+config[_0x5059ff(0x12b)])+'\x20':'':config[_0x5059ff(0x1a9)]?String['fromCodePoint']('0x'+config[_0x5059ff(0x1a9)])+'\x20':'',_0x1c293f=_0x3ac70b==_0x5059ff(0x154)?_0x5059ff(0x130):config[_0x5059ff(0xaa)]==_0x5059ff(0x121)?_0x5059ff(0xa8):'Limit\x20(low-margin)',_0x10c19f=new Date()['getTime']()[_0x5059ff(0xed)]()[_0x5059ff(0x123)](-0x6)+'-'+Math['random']()['toString']()[_0x5059ff(0x123)](-0x6);lastOrders[_0x5059ff(0x1d8)]({'customId':_0x10c19f,'symbol':_0x5ac15e,'coin':_0x6ae134[_0x5059ff(0x174)],'side':_0x238a77,'reverse':_0x6ae134[_0x5059ff(0x1af)],'filled':0x0});if(_0x3ac70b=='market')logHistory('order',''+_0xb04ab1+_0x1c293f+_0x5059ff(0xbe)+_0x5ac15e+'\x20'+_0x238a77+'\x20#'+formatResult(_0x1fe0b9,0x8)+'\x20@'+formatResult(_0x5e4062,0x8));else logHistory(_0x5059ff(0x158),''+_0xb04ab1+_0x1c293f+_0x5059ff(0xbe)+_0x5ac15e+'\x20'+_0x238a77+'\x20#'+formatResult(_0x1fe0b9,0x8)+'\x20@'+formatResult(_0x5e4062,0x8));const _0x1b1cec=await exchange['createOrder'](_0x5ac15e,_0x3ac70b,_0x238a77,_0x1fe0b9,_0x5e4062,{'clientOrderId':_0x10c19f}),_0x5235e8=lastOrders['length']-0x1;_0x5235e8>=0x0&&lastOrders[_0x5235e8][_0x5059ff(0x1e6)]==_0x10c19f&&(lastOrders[_0x5235e8]={...lastOrders[_0x5235e8],'orderId':_0x1b1cec['id'],'amount':_0x1b1cec[_0x5059ff(0xfe)],'price':_0x1b1cec[_0x5059ff(0xd5)],'fee':_0x1b1cec[_0x5059ff(0xfc)]});if(config[_0x5059ff(0x14f)]!=0x0){let _0x785352=null;if(cooldownTracker[_0x5059ff(0xe0)]==config[_0x5059ff(0x14f)]-0x1)_0x785352=cooldownTracker[_0x5059ff(0x167)]();const _0x4c164f=getTimeStamp();cooldownTracker[_0x5059ff(0x1d8)](_0x4c164f);if(_0x785352){const _0x1ddfca=fns[_0x5059ff(0x114)](new Date(_0x4c164f),new Date(_0x785352));if(_0x1ddfca<cooldownInterval){logHistory(_0x5059ff(0xd3),'Executed\x20'+config[_0x5059ff(0x14f)]+_0x5059ff(0x175)+cooldownInterval/0x3c+_0x5059ff(0x1c6)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x175a71){if(_0x175a71[_0x5059ff(0xed)]()[_0x5059ff(0x1b8)](_0x5059ff(0x146)))lastOrders=lastOrders[_0x5059ff(0x9a)](_0x47f058=>_0x47f058[_0x5059ff(0xaf)]!=_0x5ac15e),logHistory(_0x5059ff(0xd3),_0x5059ff(0xf9)+_0x5ac15e),_0x158843=!![];else _0x175a71[_0x5059ff(0xed)]()[_0x5059ff(0x1b8)](_0x5059ff(0x193))?(lastOrders=lastOrders[_0x5059ff(0x9a)](_0xfc15b8=>_0xfc15b8[_0x5059ff(0xaf)]!=_0x5ac15e),logHistory(_0x5059ff(0xd3),_0x5059ff(0x197)+_0x5ac15e),_0x158843=!![]):(lastOrders=lastOrders[_0x5059ff(0x9a)](_0x127909=>_0x127909[_0x5059ff(0xaf)]!=_0x5ac15e),await handleError(_0x175a71,'placeOrder()',_0x5ac15e));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x45a55e=config[_0x5059ff(0xaa)]==_0x5059ff(0x154)?validateOrderTimeout*0x3c*0x3e8:config[_0x5059ff(0x106)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x170384=_0x5059ff;validateOrders(_0x170384(0x145));},_0x45a55e);}else unlockOrders();_0x158843&&config[_0x5059ff(0x1fc)]&&await pauseBot(_0x5059ff(0xe3)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5059ff(0x16b),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x5059ff(0x1fc)]&&logHistory(_0x5059ff(0xd3),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x5059ff(0x122)]&&(!config[_0x5059ff(0x1fc)]&&(config[_0x5059ff(0xaa)]==_0x5059ff(0x154)?logHistory(_0x5059ff(0xd3),_0x5059ff(0x184)):logHistory(_0x5059ff(0xd3),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x566a0e){const _0x2cdef9=_0x3c0d4a,_0x5f086a={...config,'openOrders':_0x566a0e};let _0x18af99=dbConfig['get'](_0x2cdef9(0x101))['find']({'botID':botID})[_0x2cdef9(0x1ad)]();_0x18af99&&dbConfig[_0x2cdef9(0xd2)](_0x2cdef9(0x101))[_0x2cdef9(0x194)]({'botID':botID})['assign'](_0x5f086a)['write']();}function restoreOrders(){const _0x27a008=_0x3c0d4a;let _0x4c4a0a;config[_0x27a008(0x1b2)]&&allOpenOrders[_0x27a008(0xfb)](_0x11f767=>{const _0x201d46=_0x27a008,_0x5059bf=config[_0x201d46(0x1b2)][_0x201d46(0x194)](_0x14b68f=>_0x14b68f[_0x201d46(0x137)]==_0x11f767['id']);_0x5059bf&&(lastOrders[_0x201d46(0x1d8)](_0x5059bf),_0x4c4a0a=_0x11f767[_0x201d46(0xce)]);});if(lastOrders[_0x27a008(0xe0)]>0x0){lockOrders=ORDERS[_0x27a008(0xb1)],validateOrdersState=_0x27a008(0x100),allOrdersPlaced=!![];const _0x4a12b3=new Date()[_0x27a008(0x16d)](),_0x394977=config[_0x27a008(0xaa)]==_0x27a008(0x154)?validateOrderTimeout*0x3c*0x3e8:config[_0x27a008(0x106)]*0x3c*0x3e8;if(_0x4c4a0a+_0x394977>_0x4a12b3){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x829c43=_0x27a008;validateOrders(_0x829c43(0x145));},_0x4c4a0a+_0x394977-_0x4a12b3);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x2ddd6a=_0x3c0d4a;if(!coinsLoaded){process[_0x2ddd6a(0x1c7)]({'telegrammsg':_0x2ddd6a(0xc4)},_0x1d40f0=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x4e981f='';if(config[_0x2ddd6a(0x147)])_0x4e981f=_0x2ddd6a(0x12c)+config[_0x2ddd6a(0x16c)]+_0x2ddd6a(0xe9);else _0x4e981f=_0x2ddd6a(0x18d)+botID+_0x2ddd6a(0xe9);const _0x3a499a=getKPIs(_0x2ddd6a(0x207)),_0x382991=getKPIs('fiat',config[_0x2ddd6a(0xfa)]),_0xe5ac45=getKPIs(_0x2ddd6a(0x1be)),_0x581f7b=getKPIs(_0x2ddd6a(0x1b3),config[_0x2ddd6a(0xfa)]);_0x4e981f+=_0x2ddd6a(0x17b),_0x4e981f+=_0x3a499a[_0x2ddd6a(0x1aa)]+_0x2ddd6a(0x136)+_0x3a499a[_0x2ddd6a(0x1ad)]+'\x0a',_0x4e981f+=_0x3a499a['rightTxt']+':\x20'+_0x3a499a[_0x2ddd6a(0xac)]+'%\x0a',_0x4e981f+=_0x382991[_0x2ddd6a(0x1aa)]+_0x2ddd6a(0x136)+_0x382991['value']+'\x0a',_0x4e981f+=_0x382991['rightTxt']+':\x20'+_0x382991[_0x2ddd6a(0xac)]+'%\x0a',_0x4e981f+=_0xe5ac45[_0x2ddd6a(0x1aa)]+':\x20'+_0xe5ac45[_0x2ddd6a(0x1ad)]+'\x20('+config[_0x2ddd6a(0x207)]+')\x0a',_0x4e981f+=_0xe5ac45[_0x2ddd6a(0x108)]+':\x20'+_0xe5ac45[_0x2ddd6a(0xac)]+_0x2ddd6a(0x1d6)+config[_0x2ddd6a(0x207)]+')\x0a',_0x4e981f+=_0x581f7b[_0x2ddd6a(0x1aa)]+':\x20'+_0x581f7b[_0x2ddd6a(0x1ad)]+'\x20('+config[_0x2ddd6a(0xfa)]+')\x0a',_0x4e981f+=_0x581f7b[_0x2ddd6a(0x108)]+':\x20'+_0x581f7b[_0x2ddd6a(0xac)]+_0x2ddd6a(0x1d6)+config[_0x2ddd6a(0xfa)]+')\x0a',_0x4e981f+=_0x2ddd6a(0x196),process[_0x2ddd6a(0x1c7)]({'telegrammsg':_0x4e981f},_0x275b8f=>{});}async function sendPortfolioTelegram(){const _0x588c5e=_0x3c0d4a;if(!coinsLoaded){process[_0x588c5e(0x1c7)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x494c46=>{});return;}let _0x12d4db='';if(config[_0x588c5e(0x147)])_0x12d4db=_0x588c5e(0x12c)+config[_0x588c5e(0x16c)]+_0x588c5e(0x104);else _0x12d4db=_0x588c5e(0x18d)+botID+_0x588c5e(0x104);_0x12d4db+=_0x588c5e(0x17b),_0x12d4db+='-------------------------------\x0a',_0x12d4db+=_0x588c5e(0x1a0),_0x12d4db+=_0x588c5e(0xca),currentCoins[_0x588c5e(0xfb)](_0x18fea2=>{const _0x1f9c84=_0x588c5e;_0x12d4db+=_0x18fea2[_0x1f9c84(0x174)]['padEnd'](0x7)+'|\x20'+formatPad(_0x18fea2[_0x1f9c84(0x14c)],0x2,0x6)+'|\x20'+formatPad(_0x18fea2['target'],0x2,0x6)+'|\x20'+formatPad(_0x18fea2[_0x1f9c84(0x200)]*0x64,0x2,0x6)+'\x0a';}),_0x12d4db+=_0x588c5e(0x196),process[_0x588c5e(0x1c7)]({'telegrammsg':_0x12d4db},_0x3e0685=>{});}function formatPad(_0x3f3e2f,_0x56c6b5,_0x3ad616){const _0x53d123=formatResultString(_0x3f3e2f,_0x56c6b5);return _0x53d123?_0x53d123['padStart'](_0x3ad616):''['padStart'](_0x3ad616);}function logHistory(_0x1e0d16,_0x579aef,_0x796669=''){const _0x1f9cf2=_0x3c0d4a;let _0x211bb5={'time':getTimeStamp(),'type':_0x1e0d16,'event':_0x579aef};dbLogs[_0x1f9cf2(0xd2)](_0x1f9cf2(0x173))[_0x1f9cf2(0x1d8)](_0x211bb5)['write']();if(_0x796669=='')_0x796669=_0x579aef;proxyEmit('event',{'log':_0x211bb5,'summary':_0x796669}),process[_0x1f9cf2(0x1c7)]({'telegram':{..._0x211bb5,'botname':config[_0x1f9cf2(0x16c)],'showname':config['showname']}},_0x186c1a=>{}),logger[_0x1f9cf2(0x96)](''+_0x211bb5[_0x1f9cf2(0x9c)]);}function emitHistory(_0x232e9b={}){const _0x3f8998=_0x3c0d4a;Object[_0x3f8998(0x150)](_0x232e9b)[_0x3f8998(0xe0)]==0x0&&(_0x232e9b={'type':['order','event'],'event':'','page':0x1});if(_0x232e9b[_0x3f8998(0x1e8)][_0x3f8998(0x1b8)]('event'))_0x232e9b[_0x3f8998(0x1e8)][_0x3f8998(0xc0)](_0x232e9b[_0x3f8998(0x1e8)][_0x3f8998(0xa5)](_0x3f8998(0x9c)),0x1,'error',_0x3f8998(0x14a),'success');if(dbLogs[_0x3f8998(0x1f2)](_0x3f8998(0x173))[_0x3f8998(0x1ad)]()){let _0x26c475=dbLogs[_0x3f8998(0xd2)](_0x3f8998(0x173))[_0x3f8998(0x9a)](_0x465839=>{const _0xbc1f24=_0x3f8998;if(_0x232e9b['type'][_0xbc1f24(0xe0)]==0x0)return![];else return _0x232e9b['type'][_0xbc1f24(0x1b8)](_0x465839['type']);})[_0x3f8998(0x9a)](_0x29814a=>{const _0x104546=_0x3f8998;if(_0x232e9b[_0x104546(0x9c)]=='')return!![];else return _0x29814a[_0x104546(0x9c)][_0x104546(0x1a6)]()[_0x104546(0x1b8)](_0x232e9b['event'][_0x104546(0x1a6)]());})[_0x3f8998(0x19b)]('time'),_0x896ae1=_0x26c475[_0x3f8998(0x1ad)]()[_0x3f8998(0xe0)];_0x26c475=_0x26c475[_0x3f8998(0x1af)]()[_0x3f8998(0x123)]((_0x232e9b[_0x3f8998(0x12e)]-0x1)*logPageSize,_0x232e9b['page']*logPageSize-0x1)[_0x3f8998(0x1af)]()[_0x3f8998(0x1ad)](),proxyEmit(_0x3f8998(0x141),{'logs':_0x26c475,'total':_0x896ae1});}else proxyEmit(_0x3f8998(0x141),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x57d561){const _0x52355f=_0x3c0d4a;if(dbLogs[_0x52355f(0x1f2)](_0x52355f(0x173))['value']()){const _0x492874=dbLogs[_0x52355f(0xd2)](_0x52355f(0x173))[_0x52355f(0x19b)](_0x52355f(0x1fa))[_0x52355f(0x9a)](_0x2d267e=>{const _0x33b101=_0x52355f;return _0x2d267e[_0x33b101(0x1e8)]==_0x33b101(0x158);})[_0x52355f(0x1ad)]();dbLogs[_0x52355f(0xd2)](_0x52355f(0x173))[_0x52355f(0x10f)]()[_0x52355f(0x11f)](),dbLogs[_0x52355f(0xd2)](_0x52355f(0x173))[_0x52355f(0xff)](_0x492874)[_0x52355f(0x11f)](),emitHistory(_0x57d561);}}async function pauseBot(_0x51357d=''){const _0xc8cf41=_0x3c0d4a,_0x23f163=new Date()['getTime']();if(!lastErrorShown||_0x23f163-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x23f163;!lastBotPause?(lastBotPause=_0x23f163,consecutivePauses=0x1):(_0x23f163-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0xc8cf41(0x1c7)]({'stop':'restart'},_0xb02f51=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0xc8cf41(0x16d)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x51357d)_0x51357d+=_0xc8cf41(0x10a);logHistory('error',_0x51357d+_0xc8cf41(0x15e)+pauseBotInterval/0xea60+_0xc8cf41(0x1f9)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x217516=_0x3c0d4a;process['send']({'stop':_0x217516(0x15c)},_0x542873=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1ae899,_0x555c1d){const _0x25d418=_0x3c0d4a;if(_0x1ae899[_0x25d418(0xed)]()[_0x25d418(0x1b8)](_0x25d418(0xba)))return logHistory(_0x25d418(0xd3),config[_0x25d418(0x1f1)]+_0x25d418(0xf7)),![];else{if(_0x1ae899[_0x25d418(0xed)]()[_0x25d418(0x1b8)](_0x25d418(0x1f0)))return logHistory(_0x25d418(0xd3),config[_0x25d418(0x1f1)]+_0x25d418(0x118)),![];else{if(_0x1ae899[_0x25d418(0xed)]()[_0x25d418(0x1b8)](_0x25d418(0x18a)))return logHistory(_0x25d418(0xd3),config[_0x25d418(0x1f1)]+_0x25d418(0x1ac)),logHistory(_0x25d418(0xd3),_0x25d418(0x99)),![];else await handleError(_0x1ae899,_0x555c1d);}}}async function handleError(_0x133269,_0x2174cf,_0x40cb47=''){const _0x126945=_0x3c0d4a,_0x15e8ae=config[_0x126945(0x1f1)]||_0x126945(0x182);if(_0x133269[_0x126945(0xed)]()['includes'](_0x126945(0x161)))await pauseBot(config['exchange']+_0x126945(0x14b));else{if(_0x133269[_0x126945(0xed)]()[_0x126945(0x1b8)](_0x126945(0x105)))await pauseBot(config[_0x126945(0x1f1)]+_0x126945(0x187));else{if(_0x133269[_0x126945(0xed)]()['includes'](_0x126945(0x152)))await pauseBot(config['exchange']+_0x126945(0x195));else{if(_0x133269[_0x126945(0xed)]()[_0x126945(0x1b8)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006'))await pauseBot(config[_0x126945(0x1f1)]+_0x126945(0xfd));else{if(_0x133269[_0x126945(0xed)]()[_0x126945(0x1b8)](_0x126945(0xb4)))logHistory('error',_0x2174cf+_0x126945(0x191)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x133269[_0x126945(0xed)]()[_0x126945(0x1b8)]('InvalidNonce'))logHistory(_0x126945(0xd3),_0x2174cf+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x126945(0xd3),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x133269[_0x126945(0xed)]()[_0x126945(0x1b8)](_0x126945(0xba)))logHistory('error',_0x2174cf+'\x20|\x20'+config[_0x126945(0x1f1)]+_0x126945(0x1c1)),logHistory(_0x126945(0xd3),_0x126945(0x155)),await killBot();else{if(_0x133269[_0x126945(0xed)]()[_0x126945(0x1b8)](_0x126945(0x1f0)))logHistory(_0x126945(0xd3),_0x2174cf+_0x126945(0x10a)+config[_0x126945(0x1f1)]+_0x126945(0x1e2)),logHistory(_0x126945(0xd3),_0x126945(0x155)),await killBot();else{if(_0x133269[_0x126945(0xed)]()[_0x126945(0x1b8)](_0x126945(0x18a)))logHistory(_0x126945(0xd3),_0x2174cf+_0x126945(0x10a)+config['exchange']+_0x126945(0x1d9)),logHistory(_0x126945(0xd3),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else _0x133269[_0x126945(0xed)]()[_0x126945(0x1b8)](_0x126945(0x17a))?logHistory(_0x126945(0xd3),_0x2174cf+_0x126945(0x1b1)+_0x40cb47):(logger[_0x126945(0x96)](_0x2174cf+_0x126945(0x148),_0x133269),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}}function formatResult(_0x18db8c,_0x54cb4c){const _0x18d6bb=_0x3c0d4a;return parseFloat(_0x18db8c[_0x18d6bb(0xd9)](_0x54cb4c));}function formatResultTruncate(_0x2c4830,_0x313cdc){const _0x281bf3=_0x3c0d4a;let _0x1ed630=formatResultString(_0x2c4830,0xa),_0x28659d=_0x1ed630[_0x281bf3(0xa5)]('.');return _0x28659d!=-0x1&&(_0x1ed630=_0x1ed630['slice'](0x0,_0x28659d+_0x313cdc+0x1)),Number(_0x1ed630);}function formatResultString(_0xa9179d,_0x4ea3e3){const _0x238fb1=_0x3c0d4a;let _0x3dd2b1;if(!(''+_0xa9179d)['includes']('e'))_0x3dd2b1=+(Math[_0x238fb1(0x129)](_0xa9179d+'e+'+_0x4ea3e3)+'e-'+_0x4ea3e3);else{let _0x53116e=(''+_0xa9179d)[_0x238fb1(0x1ed)]('e'),_0x1c9fcb='';+_0x53116e[0x1]+_0x4ea3e3>0x0&&(_0x1c9fcb='+'),_0x3dd2b1=+(Math[_0x238fb1(0x129)](+_0x53116e[0x0]+'e'+_0x1c9fcb+(+_0x53116e[0x1]+_0x4ea3e3))+'e-'+_0x4ea3e3);}return Number(_0x3dd2b1)[_0x238fb1(0xd9)](_0x4ea3e3);}function getServerTime(){const _0x45ccbc=_0x3c0d4a,_0xaec651=new Date();return _0xaec651[_0x45ccbc(0xd7)]()+'/'+(_0xaec651[_0x45ccbc(0x176)]()+0x1)[_0x45ccbc(0xed)]()[_0x45ccbc(0x9d)](0x2,'0')+'/'+_0xaec651[_0x45ccbc(0x125)]()[_0x45ccbc(0xed)]()[_0x45ccbc(0x9d)](0x2,'0')+'\x20'+_0xaec651[_0x45ccbc(0x1a4)]()['toString']()[_0x45ccbc(0x9d)](0x2,'0')+':'+_0xaec651['getMinutes']()['toString']()['padStart'](0x2,'0')+':'+_0xaec651['getSeconds']()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x239a1e=_0x3c0d4a,_0x4dc668=shiftedTime();return _0x4dc668[_0x239a1e(0xd7)]()+'/'+(_0x4dc668['getMonth']()+0x1)[_0x239a1e(0xed)]()[_0x239a1e(0x9d)](0x2,'0')+'/'+_0x4dc668['getDate']()['toString']()[_0x239a1e(0x9d)](0x2,'0')+'\x20'+_0x4dc668[_0x239a1e(0x1a4)]()[_0x239a1e(0xed)]()[_0x239a1e(0x9d)](0x2,'0')+':'+_0x4dc668['getMinutes']()[_0x239a1e(0xed)]()['padStart'](0x2,'0')+':'+_0x4dc668['getSeconds']()[_0x239a1e(0xed)]()[_0x239a1e(0x9d)](0x2,'0');}function getDate(){const _0x1f1fde=_0x3c0d4a,_0x428946=shiftedTime();return _0x428946[_0x1f1fde(0xd7)]()+'/'+(_0x428946[_0x1f1fde(0x176)]()+0x1)[_0x1f1fde(0xed)]()['padStart'](0x2,'0')+'/'+_0x428946[_0x1f1fde(0x125)]()[_0x1f1fde(0xed)]()[_0x1f1fde(0x9d)](0x2,'0');}function getHour(){const _0x172a44=_0x3c0d4a,_0x446e5d=shiftedTime();return _0x446e5d['getHours']()[_0x172a44(0xed)]()[_0x172a44(0x9d)](0x2,'0');}function sleep(_0x13ad74){return new Promise(_0x160069=>setTimeout(_0x160069,_0x13ad74));}function shiftedTime(){const _0x41633e=_0x3c0d4a,_0x1481fa=new Date();let _0x5c2f61=_0x1481fa;if(config&&config[_0x41633e(0x1d7)]!==0x0)_0x5c2f61=fns['add'](_0x1481fa,{'hours':config[_0x41633e(0x1d7)]});return _0x5c2f61;}function timer(_0xae8d80){const _0x5874be=_0x3c0d4a,_0x574c55=new Date();!lasttime?console['log']('timer:',_0xae8d80,_0x574c55):console[_0x5874be(0x140)]('timer:',_0xae8d80,(_0x574c55-lasttime)/0x3e8),lasttime=_0x574c55;}