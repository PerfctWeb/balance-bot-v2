const _0x2b4dd3=_0x4acf;(function(_0x122813,_0x14d488){const _0x27f1a8=_0x4acf,_0x57bec3=_0x122813();while(!![]){try{const _0x54fd7b=parseInt(_0x27f1a8(0x1c5))/0x1*(-parseInt(_0x27f1a8(0x10f))/0x2)+parseInt(_0x27f1a8(0x85))/0x3+-parseInt(_0x27f1a8(0xc2))/0x4*(-parseInt(_0x27f1a8(0x1ee))/0x5)+-parseInt(_0x27f1a8(0x1a0))/0x6+-parseInt(_0x27f1a8(0x8c))/0x7+parseInt(_0x27f1a8(0x14d))/0x8*(parseInt(_0x27f1a8(0x151))/0x9)+parseInt(_0x27f1a8(0x18b))/0xa;if(_0x54fd7b===_0x14d488)break;else _0x57bec3['push'](_0x57bec3['shift']());}catch(_0x275344){_0x57bec3['push'](_0x57bec3['shift']());}}}(_0x3d52,0xad35d));const _0x1a78f8=function(){let _0xc0f67e=!![];return function(_0x508404,_0x162ed4){const _0x8c1823=_0xc0f67e?function(){if(_0x162ed4){const _0x29e9f4=_0x162ed4['apply'](_0x508404,arguments);return _0x162ed4=null,_0x29e9f4;}}:function(){};return _0xc0f67e=![],_0x8c1823;};}(),_0x180f2c=_0x1a78f8(this,function(){const _0x2f08c2=_0x4acf;return _0x180f2c['toString']()[_0x2f08c2(0x128)](_0x2f08c2(0x90))['toString']()[_0x2f08c2(0x1a8)](_0x180f2c)[_0x2f08c2(0x128)]('(((.+)+)+)+$');});_0x180f2c();'use strict';const ccxt=require(_0x2b4dd3(0x171)),low=require(_0x2b4dd3(0x14f)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x2b4dd3(0x18a)),Crypt=require(_0x2b4dd3(0x211))[_0x2b4dd3(0x186)],util=require('util'),argv=require('yargs/yargs')(process[_0x2b4dd3(0x21f)]['slice'](0x2))['argv'],path=require('path'),axios=require(_0x2b4dd3(0x187));let exchange;global[_0x2b4dd3(0x194)]={},global[_0x2b4dd3(0x122)]={};const usdBasecoins=[_0x2b4dd3(0x212),_0x2b4dd3(0x1cc),'TUSD',_0x2b4dd3(0xa0),_0x2b4dd3(0xdf),_0x2b4dd3(0x20a)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x2b4dd3(0xac)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x2b4dd3(0x155)+pauseBotInterval/0xea60+_0x2b4dd3(0x13a),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0x2b4dd3(0x170))[_0x2b4dd3(0x1fe)],botID=process[_0x2b4dd3(0x21f)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x2b4dd3(0x131)](botID)&&(console[_0x2b4dd3(0x19b)](_0x2b4dd3(0x113)+botID+_0x2b4dd3(0x210)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x2b4dd3(0x112)+userID+'/':'./config/',logspath=userID?_0x2b4dd3(0x1d1)+userID+'/':'./logs/',loggerfile=fs[_0x2b4dd3(0xf7)](logspath+_0x2b4dd3(0x1f4),{'flags':'a'});!fs[_0x2b4dd3(0xeb)](configpath)&&fs[_0x2b4dd3(0x216)](configpath);!fs[_0x2b4dd3(0xeb)](logspath)&&fs[_0x2b4dd3(0x216)](logspath);const configfile=configpath+_0x2b4dd3(0x18c)+botID+_0x2b4dd3(0xce),logfile=configpath+_0x2b4dd3(0x18c)+botID+_0x2b4dd3(0x1a1),performancefile=configpath+'bot-'+botID+_0x2b4dd3(0x16a),coinresultsfile=configpath+_0x2b4dd3(0x18c)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x2b4dd3(0xb2),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2b4dd3(0x220)]({'logs':[],'version':serverversion})[_0x2b4dd3(0x1f0)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2b4dd3(0x220)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x2b4dd3(0x1f0)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2b4dd3(0x220)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x2b4dd3(0x13b)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x7e9667=>{console['log'](_0x7e9667);},'simple':_0x136051=>{const _0x555187=_0x2b4dd3;console[_0x555187(0x19b)](_0x136051),loggerfile[_0x555187(0x1f0)](util[_0x555187(0x15c)](_0x136051)+'\x0a');},'full':async(_0x565f7e,_0x372a23='')=>{const _0x36237c=_0x2b4dd3;let _0x2aef7e;if(config[_0x36237c(0x1e5)])_0x2aef7e=getTimeStamp()+':\x20'+config[_0x36237c(0x110)]+_0x36237c(0xfc)+_0x565f7e;else _0x2aef7e=getTimeStamp()+_0x36237c(0x1e2)+botID+_0x36237c(0xfc)+_0x565f7e;console['log'](_0x2aef7e),loggerfile[_0x36237c(0x1f0)](util[_0x36237c(0x15c)](_0x2aef7e)+'\x0a'),_0x372a23&&(console[_0x36237c(0x19b)](_0x372a23),loggerfile[_0x36237c(0x1f0)](util[_0x36237c(0x15c)](_0x372a23)+'\x0a'));},'debug':async(_0x2e7625,_0x93c7d3='')=>{const _0x5f10b9=_0x2b4dd3;let _0x2e0547;if(config[_0x5f10b9(0x1e5)])_0x2e0547=getTimeStamp()+':\x20'+config[_0x5f10b9(0x110)]+'\x20>\x20[DEBUG]\x20'+_0x2e7625;else _0x2e0547=getTimeStamp()+_0x5f10b9(0x1e2)+botID+'\x20>\x20[DEBUG]\x20'+_0x2e7625;if(debugging)console['log'](_0x2e0547);loggerfile['write'](util['format'](_0x2e0547)+'\x0a');if(_0x93c7d3){if(debugging)console[_0x5f10b9(0x19b)](_0x93c7d3);loggerfile[_0x5f10b9(0x1f0)](util['format'](_0x93c7d3)+'\x0a');}}};process['on'](_0x2b4dd3(0x8e),function(_0x4c9da0){const _0x496f2d=_0x2b4dd3;handleError(_0x4c9da0,_0x496f2d(0x8e));});settings[_0x2b4dd3(0x17c)]!=config[_0x2b4dd3(0x17c)]&&updateTimeshift(settings[_0x2b4dd3(0x17c)]);settings[_0x2b4dd3(0xb9)]!=config[_0x2b4dd3(0xb9)]&&updateOnepagemode(settings[_0x2b4dd3(0xb9)]);(settings[_0x2b4dd3(0x15e)]&&!config[_0x2b4dd3(0x15e)]||!settings[_0x2b4dd3(0x15e)]&&config[_0x2b4dd3(0x15e)])&&updateMarketcapApi(settings[_0x2b4dd3(0x15e)]);process[_0x2b4dd3(0x180)]({'started':_0x2b4dd3(0xc5)},_0x54e9d7=>{}),initializeProcessListeners();function proxyEmit(_0x15e974,_0x4ddde0=null){const _0x3fe287=_0x2b4dd3;process[_0x3fe287(0x180)]({'function':_0x15e974,'args':_0x4ddde0},_0xf8693=>{});}function initializeProcessListeners(){const _0x34221b=_0x2b4dd3;process['on'](_0x34221b(0x11d),_0x1fb55d=>{const _0x321f89=_0x34221b;switch(Object[_0x321f89(0x98)](_0x1fb55d)[0x0]){case'timeshift':_0x1fb55d[_0x321f89(0x17c)]!=undefined&&(settings[_0x321f89(0x17c)]=_0x1fb55d[_0x321f89(0x17c)],updateTimeshift(settings[_0x321f89(0x17c)]));break;case'onepagemode':_0x1fb55d['onepagemode']!=undefined&&(settings[_0x321f89(0xb9)]=_0x1fb55d[_0x321f89(0xb9)],updateOnepagemode(settings[_0x321f89(0xb9)]));break;case _0x321f89(0x15e):_0x1fb55d[_0x321f89(0x15e)]!=undefined&&(settings[_0x321f89(0x15e)]=_0x1fb55d['marketcapApi'],updateMarketcapApi(settings[_0x321f89(0x15e)]));break;case _0x321f89(0xb3):_0x1fb55d[_0x321f89(0xb3)]!=undefined&&(bots=JSON[_0x321f89(0x96)](_0x1fb55d[_0x321f89(0xb3)]),proxyEmit(_0x321f89(0xb3),bots));break;case _0x321f89(0xf1):switch(_0x1fb55d[_0x321f89(0xf1)]){case _0x321f89(0x121):initclient();break;case _0x321f89(0x1e1):toggleBotMode();break;case _0x321f89(0x126):emitHistory(_0x1fb55d[_0x321f89(0x20d)]);break;case _0x321f89(0x157):deleteHistoryAlerts(_0x1fb55d[_0x321f89(0x20d)]);break;case _0x321f89(0x1e4):getPortfolio(_0x1fb55d[_0x321f89(0x20d)]);break;case _0x321f89(0x203):storeConfiguration(_0x1fb55d['args']);break;case _0x321f89(0x1e6):storeHeadless(_0x1fb55d[_0x321f89(0x20d)]);break;case'storeFiat':storeFiat(_0x1fb55d[_0x321f89(0x20d)]);break;case _0x321f89(0xbe):resetHistory();break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x321f89(0x152):placeOrder(_0x1fb55d[_0x321f89(0x20d)]);break;case _0x321f89(0x176):cancelLoading();break;case'showConfig':showConfig();break;case _0x321f89(0xed):sendMetricsTelegram();break;case _0x321f89(0x146):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x37d458=![]){const _0x5c90e6=_0x2b4dd3;logger[_0x5c90e6(0x17e)](_0x5c90e6(0x1c4)+(_0x37d458?_0x5c90e6(0xf9):_0x5c90e6(0x11a))+_0x5c90e6(0x202)+config[_0x5c90e6(0x1b7)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x37d458)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x5c90e6(0x88)]!=''&&config['apiKey']!='***'){loadingProgress=0x0;if(_0x37d458){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x51c7fb){handleErrorNoStop(_0x51c7fb,_0x5c90e6(0xa2));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x49c750=await getCoins();[currentCoins,currentCoinsAll]=_0x49c750,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x5c90e6(0xef)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x5c90e6(0x10b)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x2b98d8){const _0x24e8ea=_0x2b4dd3;let _0x1e5eef=![];if(_0x2b98d8)_0x1e5eef=!![];let _0x4d1b40;_0x1e5eef?_0x4d1b40=_0x2b98d8[_0x24e8ea(0xe6)](_0x58e766=>_0x58e766[_0x24e8ea(0xd7)]):_0x4d1b40=currentCoinsAll[_0x24e8ea(0xe6)](_0xa4eb46=>_0xa4eb46[_0x24e8ea(0xd7)]);if(!config[_0x24e8ea(0x15e)]||!_0x1e5eef&&!config['marketcapEnabled']||_0x4d1b40['length']==0x0)return;let _0x2c757f=null;try{_0x2c757f=await axios[_0x24e8ea(0xc3)](_0x24e8ea(0x111),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x24e8ea(0x15e)]},'params':{'symbol':_0x4d1b40[_0x24e8ea(0xc1)]()}});}catch(_0x32e3e5){_0x2c757f=null,_0x32e3e5[_0x24e8ea(0xc1)]()[_0x24e8ea(0x10c)](_0x24e8ea(0x18f))?(config[_0x24e8ea(0x15e)]=![],updateConfig(),proxyEmit(_0x24e8ea(0x1dd),emittedConfiguration()),logHistory(_0x24e8ea(0x141),_0x24e8ea(0xbb))):(logHistory(_0x24e8ea(0x141),_0x24e8ea(0xe7)+marketCapInterval/(0x3c*0x3e8)+_0x24e8ea(0x13a)),logger[_0x24e8ea(0x17e)](_0x24e8ea(0x101),_0x32e3e5[_0x24e8ea(0xc1)]()+_0x24e8ea(0x1b2)+_0x32e3e5['code']));}if(_0x2c757f){let _0x51f714=0x0;const _0x510dd5=_0x2c757f[_0x24e8ea(0x1bd)];_0x4d1b40[_0x24e8ea(0x21e)](_0x220542=>{const _0x5e19f9=_0x24e8ea;if(_0x510dd5['data'][_0x220542][0x0])_0x51f714+=_0x510dd5[_0x5e19f9(0x1bd)][_0x220542][0x0][_0x5e19f9(0x118)]['USD'][_0x5e19f9(0xba)];}),_0x4d1b40[_0x24e8ea(0x21e)](_0x5a0db7=>{const _0x4be4e8=_0x24e8ea,_0x254f31=_0x510dd5[_0x4be4e8(0x1bd)][_0x5a0db7][0x0]?_0x510dd5['data'][_0x5a0db7][0x0][_0x4be4e8(0x118)]['USD'][_0x4be4e8(0xba)]:0x0;if(_0x1e5eef){const _0x114d2e=_0x2b98d8['find'](_0x1a4b2b=>_0x1a4b2b[_0x4be4e8(0xd7)]==_0x5a0db7);_0x114d2e&&(_0x114d2e[_0x4be4e8(0x185)]=_0x254f31);}else{const _0x458b70=currentCoins[_0x4be4e8(0x150)](_0x48e106=>_0x48e106[_0x4be4e8(0xd7)]==_0x5a0db7);_0x458b70&&(_0x458b70[_0x4be4e8(0x185)]=_0x254f31);const _0x20d808=currentCoinsAll[_0x4be4e8(0x150)](_0x1fdd3d=>_0x1fdd3d[_0x4be4e8(0xd7)]==_0x5a0db7);_0x20d808&&(_0x20d808[_0x4be4e8(0x185)]=_0x254f31);}}),!_0x1e5eef&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x460fb5=_0x2b4dd3,_0x994184=0x2;let _0x5662a3=0x0,_0x5c9fce=0x0,_0x5b0e5b=0x0,_0x5001e3=0x0,_0x46f9bb=0x0;config[_0x460fb5(0xf2)][_0x460fb5(0x21e)](_0x5359c4=>{const _0x2548b6=_0x460fb5;if(!_0x5359c4['excluded']){_0x5b0e5b++,_0x5662a3+=_0x5359c4[_0x2548b6(0x1ac)];if(_0x5359c4[_0x2548b6(0x1ac)]===-0x1){_0x5662a3++;const _0x27c73d=currentCoinsAll[_0x2548b6(0x150)](_0xb40ede=>_0xb40ede[_0x2548b6(0xd7)]==_0x5359c4[_0x2548b6(0xd7)]);_0x27c73d&&(_0x5001e3+=_0x27c73d[_0x2548b6(0x185)],_0x46f9bb+=Math['sqrt'](_0x27c73d[_0x2548b6(0x185)]));}if(_0x5359c4[_0x2548b6(0x1ac)]!==-0x1)_0x5c9fce++;}});let _0x195c32;const _0x2b9f34=0x64-_0x5662a3,_0x169367=_0x5b0e5b-_0x5c9fce;_0x195c32=_0x169367===0x0?_0x5662a3:Math[_0x460fb5(0xcb)](0x64,_0x5662a3),config[_0x460fb5(0xf2)][_0x460fb5(0x21e)](_0x1c0d26=>{const _0x4780c5=_0x460fb5,_0x1b508b=currentCoinsAll['find'](_0x51a443=>_0x51a443[_0x4780c5(0xd7)]==_0x1c0d26['coin']);_0x1b508b&&(_0x1c0d26[_0x4780c5(0x185)]=_0x1b508b[_0x4780c5(0x185)]);if(!_0x1c0d26[_0x4780c5(0x21c)]){if(_0x195c32<=0x64){if(_0x1c0d26['slider']===-0x1){if(_0x5001e3!==0x0&&config[_0x4780c5(0x16c)]){if(_0x1b508b){if(config[_0x4780c5(0x16c)]==_0x4780c5(0x185))_0x1c0d26[_0x4780c5(0x129)]=(_0x2b9f34/(_0x5001e3/_0x1b508b['marketcap']))[_0x4780c5(0x1ad)](_0x994184);else config['marketcapEnabled']=='marketcapsqrt'&&(_0x1c0d26[_0x4780c5(0x129)]=(_0x2b9f34/(_0x46f9bb/Math['sqrt'](_0x1b508b[_0x4780c5(0x185)])))[_0x4780c5(0x1ad)](_0x994184));}}}}}}),updateConfig();}function updateConfig(){const _0x4ead7d=_0x2b4dd3;let _0x616913=dbConfig[_0x4ead7d(0xc3)](_0x4ead7d(0xc0))['find']({'botID':botID})['value']();_0x616913&&dbConfig['get'](_0x4ead7d(0xc0))[_0x4ead7d(0x150)]({'botID':botID})[_0x4ead7d(0x153)](config)[_0x4ead7d(0x1f0)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x13fb0c=_0x2b4dd3;exchangeStopped=!![];try{await exchange[_0x13fb0c(0xc7)]();}catch(_0x5b5257){await handleError(_0x5b5257,_0x13fb0c(0x1a3));}}async function reloadExchange(){const _0x2cf837=_0x2b4dd3;while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x2cf837(0x17e)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x371adc=config[_0x2b4dd3(0x1b7)],_0x3a6248=config['apiKey'],_0x327796=config['apiSecret'],_0x4f7073=config[_0x2b4dd3(0x133)]){const _0x4d9fb9=_0x2b4dd3;exchange&&await stopExchange();!supportedExchanges()[_0x4d9fb9(0x10c)](_0x371adc)&&(logHistory(_0x4d9fb9(0x141),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x371adc+_0x4d9fb9(0xbc)),killBot());const _0x3003ed=ccxt[_0x4d9fb9(0x1a9)][_0x371adc[_0x4d9fb9(0xb0)]()];exchange=new _0x3003ed({'apiKey':_0x3a6248,'secret':_0x327796,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x4d9fb9(0xf5)}});if(_0x4f7073)exchange[_0x4d9fb9(0x12c)]=_0x4f7073;}function setStableCoins(){const _0x340857=_0x2b4dd3;let _0x4e582e=config['basecoin']==_0x340857(0xae)?_0x340857(0xae):config[_0x340857(0x184)]==_0x340857(0x1b4)?_0x340857(0x1b4):_0x340857(0xaa),_0x5cb456=!allSymbols[_0x340857(0x10c)](_0x4e582e+'/USD')?_0x340857(0xa0):_0x340857(0x212),_0x529bd3=!allSymbols[_0x340857(0x10c)](_0x4e582e+_0x340857(0xcc))?_0x5cb456:_0x340857(0x177);stablecoins={'eur':{'coin':''+_0x4e582e+_0x529bd3,'symbol':_0x4e582e+'/'+_0x529bd3},'usd':{'coin':''+_0x4e582e+_0x5cb456,'symbol':_0x4e582e+'/'+_0x5cb456}};}async function initwsCcxt(){const _0x2d71d9=_0x2b4dd3;initCycle++;const _0x244843=initCycle;let _0xa0df24=[];config[_0x2d71d9(0xf2)][_0x2d71d9(0x21e)](_0x1a4bf8=>{const _0x2168fc=_0x2d71d9;if(!_0x1a4bf8[_0x2168fc(0x21c)]&&_0x1a4bf8['coin']!=config['basecoin'])_0xa0df24['push'](_0x1a4bf8[_0x2168fc(0x1cb)]);});if(!_0xa0df24[_0x2d71d9(0x10c)](stablecoins[_0x2d71d9(0xe0)]['symbol']))_0xa0df24[_0x2d71d9(0x109)](stablecoins[_0x2d71d9(0xe0)][_0x2d71d9(0x1cb)]);if(!_0xa0df24[_0x2d71d9(0x10c)](stablecoins['usd'][_0x2d71d9(0x1cb)]))_0xa0df24[_0x2d71d9(0x109)](stablecoins[_0x2d71d9(0x161)][_0x2d71d9(0x1cb)]);if(config[_0x2d71d9(0x1b7)][_0x2d71d9(0x17a)](_0x2d71d9(0xff))&&config[_0x2d71d9(0x184)]!=_0x2d71d9(0x1b4)){if(!_0xa0df24[_0x2d71d9(0x10c)](_0x2d71d9(0x9d)+config[_0x2d71d9(0x184)]))_0xa0df24[_0x2d71d9(0x109)](_0x2d71d9(0x9d)+config['basecoin']);}loadCoins(_0xa0df24),_0xa0df24=validateSymbols(_0xa0df24);const _0xda9724=async _0x2da0be=>{const _0x46c680=_0x2d71d9;let _0x45c212;try{const _0x2d271a=await getTickers(_0x2da0be);Object[_0x46c680(0x124)](_0x2d271a)[_0x46c680(0x21e)](_0x1f6c23=>{const _0x1fb5b2=_0x46c680;_0x45c212=_0x1f6c23[0x1]['symbol'],global['ticker'][noslash(_0x45c212)]=_0x1f6c23[0x1][_0x1fb5b2(0xfa)],global[_0x1fb5b2(0x122)][_0x45c212]=_0x1f6c23[0x1][_0x1fb5b2(0x188)];});}catch(_0x38478e){await handleError(_0x38478e,_0x46c680(0xd2),_0x45c212);}},_0x2ef62c=async _0x54ebe2=>{const _0x18d96d=_0x2d71d9;while(initCycle==_0x244843){if(!botPaused)try{const _0x4be37d=await exchange['watchTrades'](_0x54ebe2);global[_0x18d96d(0x194)][noslash(_0x4be37d[0x0][_0x18d96d(0x1cb)])]=_0x4be37d[0x0][_0x18d96d(0x1ef)],await sleep(0x3e8);}catch(_0x131d4c){if(!exchangeStopped)await handleError(_0x131d4c,_0x18d96d(0x145),_0x54ebe2);}else await sleep(0x64);}},_0x3fe994=async _0x55ad05=>{const _0xa1f268=_0x2d71d9;while(initCycle==_0x244843){if(!botPaused)try{const _0x5234eb=await exchange[_0xa1f268(0x8f)](_0x55ad05),_0x59b26e=_0x5234eb['pop']();global[_0xa1f268(0x194)][noslash(_0x59b26e['symbol'])]=_0x59b26e['price'],await sleep(0x3e8);}catch(_0x1087be){if(!exchangeStopped)await handleError(_0x1087be,_0xa1f268(0x1d7),_0x55ad05['toString']());}else await sleep(0x64);}},_0x217360=async _0x30e57a=>{const _0xeb6acc=_0x2d71d9;while(initCycle==_0x244843){if(!botPaused){let _0x52ca2f;try{await sleep(0x3c*0x3e8);const _0x30a4de=await getTickers(_0x30e57a);Object['entries'](_0x30a4de)[_0xeb6acc(0x21e)](_0x14dca3=>{const _0x34f8d9=_0xeb6acc;_0x52ca2f=_0x14dca3[0x1][_0x34f8d9(0x1cb)],global[_0x34f8d9(0x122)][_0x52ca2f]=_0x14dca3[0x1]['percentage'];});}catch(_0x5d8cb0){if(!exchangeStopped)await handleError(_0x5d8cb0,'fetchTickers()',_0x52ca2f);}}else await sleep(0x64);}},_0x236b9c=async _0x2308a3=>{const _0x4a975f=_0x2d71d9;while(initCycle==_0x244843){if(!botPaused)try{const _0x3df3f9=await exchange[_0x4a975f(0xd1)](_0x2308a3);initCycle==_0x244843&&_0x3df3f9[_0x4a975f(0x21e)](_0x308a11=>{updateNumberCoinsCcxt(_0x308a11);});}catch(_0x991b5c){if(!exchangeStopped)await handleError(_0x991b5c,'watchOrders()');}else await sleep(0x64);}};_0xda9724(_0xa0df24),_0x217360(_0xa0df24),exchange[_0x2d71d9(0xd0)][_0x2d71d9(0x8f)]?_0x3fe994(_0xa0df24):_0xa0df24['forEach'](_0x3d1020=>{_0x2ef62c(_0x3d1020);}),_0xa0df24[_0x2d71d9(0x21e)](_0x4c7410=>{_0x236b9c(_0x4c7410);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x456e49){const _0x5bbd33=_0x2b4dd3;let _0x60a077={};try{if(config[_0x5bbd33(0x1b7)]!=_0x5bbd33(0x20e))_0x60a077=await exchange[_0x5bbd33(0xf8)](_0x456e49);else for(const _0x27ef69 of _0x456e49){const _0x24bf95=await exchange[_0x5bbd33(0x158)](_0x27ef69);_0x60a077[_0x27ef69]=_0x24bf95;}return _0x60a077;}catch(_0x28c814){throw _0x28c814;}}async function watchTransactions(){const _0x264637=_0x2b4dd3;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x5003a1=await getCoins(),[_0x1316e8,_0x3d5677]=_0x5003a1;let _0x4da6ef=[];currentCoins['forEach'](_0x2735ff=>{const _0x503d7a=_0x4acf,_0x54b911=_0x1316e8['find'](_0x3097b3=>_0x3097b3[_0x503d7a(0xd7)]==_0x2735ff[_0x503d7a(0xd7)]);if(_0x54b911){if(_0x2735ff[_0x503d7a(0x200)]!=_0x54b911[_0x503d7a(0x200)]){let _0x5c8ba4;if(_0x2735ff[_0x503d7a(0xd7)]!=config['basecoin']){const _0x1115c=global[_0x503d7a(0x194)][noslash(_0x2735ff[_0x503d7a(0x1cb)])];_0x5c8ba4=_0x2735ff[_0x503d7a(0x156)]?0x1/_0x1115c:_0x1115c;}else _0x5c8ba4=0x1;_0x4da6ef[_0x503d7a(0x109)]({'coin':_0x2735ff[_0x503d7a(0xd7)],'symbol':_0x2735ff[_0x503d7a(0x1cb)],'price':_0x5c8ba4,'number':Number(formatResult(_0x54b911[_0x503d7a(0x200)]-_0x2735ff[_0x503d7a(0x200)],0x8)),'basecoinvalue':_0x5c8ba4*(_0x54b911[_0x503d7a(0x200)]-_0x2735ff[_0x503d7a(0x200)])});}}});if(_0x4da6ef[_0x264637(0x10b)]==0x1&&!blockTransactionDetection){if(config[_0x264637(0x1b1)]){logger[_0x264637(0x17e)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x4da6ef[0x0][_0x264637(0x207)]+_0x264637(0x1bf)+lastFees[_0x264637(0xde)]);if(lastFees[_0x264637(0xde)]==0x0||Math[_0x264637(0x12a)](_0x4da6ef[0x0]['basecoinvalue'])>lastFees['highest']){delete _0x4da6ef[0x0]['symbol'],delete _0x4da6ef[0x0]['basecoinvalue'];let _0xda7b4c=[],_0x3c78e3=[...config['liquidity']]||[],_0x4283ab=config[_0x264637(0x95)];_0x3c78e3[_0x264637(0x12e)]((_0x405298,_0x20ecc9)=>_0x405298[_0x264637(0x1ec)]>_0x20ecc9['date']?-0x1:_0x20ecc9[_0x264637(0x1ec)]>_0x405298[_0x264637(0x1ec)]?0x1:0x0);const _0x3d24d0=getDate();if(_0x3c78e3[0x0]){const _0x11e039=fns[_0x264637(0x96)](_0x3c78e3[0x0][_0x264637(0x1ec)],_0x264637(0x1f2),new Date()),_0x19ec35=fns[_0x264637(0x96)](_0x3d24d0,'yyyy/MM/dd',new Date());if(fns[_0x264637(0xdc)](_0x11e039,_0x19ec35)){_0xda7b4c=_0x3c78e3[0x0]['changes'];const _0x36fc72=_0xda7b4c['find'](_0x28564d=>_0x28564d[_0x264637(0xd7)]==_0x4da6ef[0x0][_0x264637(0xd7)]);_0x36fc72?(_0x36fc72[_0x264637(0x200)]+=_0x4da6ef[0x0][_0x264637(0x200)],_0x36fc72[_0x264637(0x200)]==0x0&&(_0xda7b4c=_0xda7b4c[_0x264637(0x16f)](_0x1b547e=>{const _0x367d9a=_0x264637;return _0x1b547e[_0x367d9a(0xd7)]!=_0x4da6ef[0x0][_0x367d9a(0xd7)];}))):_0xda7b4c[_0x264637(0x109)](_0x4da6ef[0x0]);const _0x2ac31c=_0x4283ab['find'](_0x5ee9b2=>_0x5ee9b2[_0x264637(0x1ec)]==_0x3d24d0);_0x2ac31c[_0x264637(0x1df)]=_0xda7b4c;}else _0x4283ab[_0x264637(0x109)]({'date':_0x3d24d0,'changes':[_0x4da6ef[0x0]]});}const _0x5c638e=_0x4283ab[_0x264637(0x150)](_0x376c3a=>_0x376c3a[_0x264637(0x1ec)]==_0x3d24d0);if(_0x5c638e){let _0x88c896=!![];_0x5c638e['changes'][_0x264637(0x21e)](_0x1ce34d=>{const _0x2a4687=_0x264637;if(_0x1ce34d[_0x2a4687(0x200)]!=0x0)_0x88c896=![];}),_0x88c896&&(_0x4283ab=_0x4283ab[_0x264637(0x16f)](_0x59ef0a=>{return _0x59ef0a['date']!=_0x3d24d0;}));}let _0x49b64a=dbConfig[_0x264637(0xc3)](_0x264637(0xc0))['find']({'botID':botID})[_0x264637(0x1e8)]();_0x49b64a&&(dbConfig[_0x264637(0xc3)]('bot')[_0x264637(0x150)]({'botID':botID})[_0x264637(0x153)]({'liquidity':_0x4283ab})['write'](),config[_0x264637(0x95)]=_0x4283ab),logHistory(_0x264637(0x1a2),_0x264637(0xea)+Math[_0x264637(0x12a)](_0x4da6ef[0x0][_0x264637(0x200)])+'\x20'+_0x4da6ef[0x0][_0x264637(0xd7)]+'\x20'+(_0x4da6ef[0x0][_0x264637(0x200)]>0x0?_0x264637(0x182):_0x264637(0x1ed))+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit(_0x264637(0x1dd),emittedConfiguration());}else logger[_0x264637(0x17e)](_0x264637(0x114)+Math[_0x264637(0x12a)](_0x4da6ef[0x0][_0x264637(0x200)])+'\x20'+_0x4da6ef[0x0][_0x264637(0xd7)]+'\x20'+(_0x4da6ef[0x0][_0x264637(0x200)]>0x0?_0x264637(0x182):_0x264637(0x1ed)));transactionDetected=!![];}else logger['debug'](_0x264637(0xea)+Math[_0x264637(0x12a)](_0x4da6ef[0x0][_0x264637(0x200)])+'\x20'+_0x4da6ef[0x0][_0x264637(0xd7)]+'\x20'+(_0x4da6ef[0x0]['number']>0x0?_0x264637(0x182):'removed')+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x1316e8,currentCoinsAll=_0x3d5677,await sleep(watchTransactionsInterval);}catch(_0x528362){if(!exchangeStopped)await handleError(_0x528362,'watchTransactions()');}else await sleep(0x64);}}async function loadSymbols(){const _0x18dd5b=_0x2b4dd3;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object['entries'](markets)[_0x18dd5b(0x21e)](_0x34b78d=>{const _0x1700cd=_0x18dd5b;_0x34b78d[0x1][_0x1700cd(0x12d)]&&_0x34b78d[0x1][_0x1700cd(0xf5)]&&allSymbols[_0x1700cd(0x109)](_0x34b78d[0x0]);});}catch(_0x454714){throw _0x454714;}}function validateSymbols(_0x6389a){let _0x42efe8=[];return _0x6389a['forEach'](_0x1c2bfd=>{const _0x4934d5=_0x4acf;!allSymbols['includes'](_0x1c2bfd)?logHistory(_0x4934d5(0x141),_0x4934d5(0x136)+_0x1c2bfd+_0x4934d5(0x1c7)):_0x42efe8[_0x4934d5(0x109)](_0x1c2bfd);}),_0x42efe8;}async function initclient(){const _0x4d3e6c=_0x2b4dd3;proxyEmit(_0x4d3e6c(0x1dd),emittedConfiguration()),proxyEmit(_0x4d3e6c(0xe1),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x49b9a6=getNormalizedPerformance();emitPerformance(_0x49b9a6),getStartingBalances(_0x49b9a6);}async function toggleBotMode(){const _0x37d9bb=_0x2b4dd3;let _0x44cc3c=dbConfig[_0x37d9bb(0xc3)](_0x37d9bb(0xc0))[_0x37d9bb(0x150)]({'botID':botID})['value']();if(_0x44cc3c){const _0x2a4b4d=!_0x44cc3c['headless'];dbConfig[_0x37d9bb(0xc3)](_0x37d9bb(0xc0))[_0x37d9bb(0x150)]({'botID':botID})[_0x37d9bb(0x153)]({'headless':_0x2a4b4d})[_0x37d9bb(0x1f0)](),config[_0x37d9bb(0x173)]=_0x2a4b4d,proxyEmit(_0x37d9bb(0x1dd),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0xcb9ea7=_0x2b4dd3;process[_0xcb9ea7(0x180)]({'updatebotmanager':!![]},_0x1cf24f=>{}),logger['debug'](_0xcb9ea7(0x17d)+config['headless']);}async function loadCoins(_0x5a67cb){const _0x499535=_0x2b4dd3;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x4fa745,_0x54a1c2=0x0,_0x46d8ac=0x0;_0x5a67cb[_0x499535(0x21e)](_0x345305=>{const _0x3f83f2=_0x499535;loading[_0x3f83f2(0x15d)][_0x3f83f2(0x109)](_0x345305);}),loadingCanceled=![];let _0x2fc704=![];while(_0x4fa745!=_0x5a67cb[_0x499535(0x10b)]+maxLoadingProgress){_0x4fa745=loadingProgress,_0x5a67cb['forEach'](_0x292077=>{const _0x57ff04=_0x499535;if(global[_0x57ff04(0x194)][noslash(_0x292077)]){loading['remainingSymbols']=loading[_0x57ff04(0x15d)]['filter'](_0x3e3857=>_0x3e3857!=_0x292077);if(!watchedSymbols['includes'](_0x292077))watchedSymbols[_0x57ff04(0x109)](_0x292077);_0x4fa745++;}}),loading[_0x499535(0xe5)]=Math[_0x499535(0x16d)](_0x4fa745/(_0x5a67cb[_0x499535(0x10b)]+maxLoadingProgress)*0x64);loading[_0x499535(0xe5)]!=0x64&&(_0x46d8ac>0x1e*0x5&&(loading[_0x499535(0xa8)]=!![],emitLoadingProgress()),_0x46d8ac>0x78*0x5&&!_0x2fc704&&(_0x2fc704=!![],logHistory(_0x499535(0x141),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x499535(0x15d)][_0x499535(0x9e)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x499535(0x141),_0x499535(0x169)+loadCoinsRetryInterval/0xea60+_0x499535(0x1cd)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0xf087b9=_0x499535;process[_0xf087b9(0x180)]({'stop':_0xf087b9(0x132)},_0x425da7=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x499535(0xa1)]=!![],emitLoadingProgress();break;}else _0x54a1c2!=loading[_0x499535(0xe5)]&&(_0x54a1c2=loading[_0x499535(0xe5)],emitLoadingProgress()),_0x46d8ac++,await sleep(0xc8);}_0x4fa745==_0x5a67cb[_0x499535(0x10b)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x499535(0x99),'live':_0x499535(0xc5)},_0x4be65a=>{}),_0x2fc704&&logHistory(_0x499535(0x1a2),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x26a2fb=_0x2b4dd3;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0x26a2fb(0x178)});}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x58b075=_0x2b4dd3;let _0x5e3541=global[_0x58b075(0x194)][stablecoins[_0x58b075(0xe0)][_0x58b075(0xd7)]],_0x23d472=global[_0x58b075(0x194)][stablecoins[_0x58b075(0x161)]['coin']];return{'eur':Number(_0x5e3541),'usd':Number(_0x23d472)};}function capitalize(_0xddf263){const _0x1d41e6=_0x2b4dd3;return _0xddf263[_0x1d41e6(0x159)](0x0,0x1)['toUpperCase']()+_0xddf263['substring'](0x1);}function supportedExchanges(){const _0x9aca1c=_0x2b4dd3,_0x56fbc5=['ws',_0x9aca1c(0xf8),_0x9aca1c(0x158),_0x9aca1c(0xc4),_0x9aca1c(0xd1),_0x9aca1c(0xc9),'createOrder',_0x9aca1c(0x183),_0x9aca1c(0x1c0),_0x9aca1c(0x208)];let _0x2d56de=[],_0xa5f5c2=[],_0x4671d8=ccxt[_0x9aca1c(0x1a9)][_0x9aca1c(0xe1)];_0x4671d8['forEach'](_0x347ff6=>{const _0x2f94d2=_0x9aca1c;try{const _0x91ce86=new ccxt[(_0x2f94d2(0x1a9))][_0x347ff6]();_0xa5f5c2[_0x2f94d2(0x109)](_0x91ce86);}catch(_0x6c4064){}}),_0xa5f5c2['forEach'](_0x500f13=>{const _0x244d28=_0x9aca1c;let _0x4c1bff=0x0;_0x56fbc5[_0x244d28(0x21e)](_0x45e689=>{const _0x34368d=_0x244d28;_0x45e689 in _0x500f13[_0x34368d(0xd0)]&&_0x500f13[_0x34368d(0xd0)][_0x45e689]&&_0x4c1bff++;}),_0x4c1bff==_0x56fbc5[_0x244d28(0x10b)]&&_0x2d56de[_0x244d28(0x109)](capitalize(_0x500f13['id']));});let _0x661ebe=[];return _0x4671d8[_0x9aca1c(0x21e)](_0x4958f0=>{const _0x8ae56f=_0x9aca1c;_0x4958f0=capitalize(_0x4958f0);if(!_0x2d56de[_0x8ae56f(0x10c)](_0x4958f0))_0x661ebe[_0x8ae56f(0x109)](_0x4958f0);}),_0x2d56de;}function setStartDatePerformance(){const _0x1c8007=_0x2b4dd3;if(config&&config[_0x1c8007(0x95)][0x0]['changes'][_0x1c8007(0x10b)]!=0x0){const _0x3cc052=config['liquidity'][0x0][_0x1c8007(0x1df)];dbPerformance[_0x1c8007(0xc3)]('data')[_0x1c8007(0x150)]({'date':config['startdate']})[_0x1c8007(0x153)]({'coins':_0x3cc052})[_0x1c8007(0x1f0)]();}}async function recreateCoinResults(){const _0x128a02=_0x2b4dd3;let _0x4f32bf,_0x36640a=[];try{const _0x2027f6=fns[_0x128a02(0x15c)](fns[_0x128a02(0x12b)](config[_0x128a02(0x11e)]['replace'](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x25e2bf of currentCoins){if(_0x25e2bf['coin']!=config[_0x128a02(0x184)]){let _0x5ad581=0x0,_0x47e965,_0x33b12e;_0x4f32bf=await getAllEventOrders(_0x25e2bf[_0x128a02(0x1cb)]);if(_0x4f32bf['length']>0x0)_0x4f32bf[_0x128a02(0x21e)](_0xdec1bd=>{const _0x4630b7=_0x128a02,_0x50139d=_0x25e2bf[_0x4630b7(0x1cb)][_0x4630b7(0x10c)](config['basecoin']+'/');_0x36640a[_0x4630b7(0x109)]({'datetime':_0xdec1bd['datetime'],'coin':_0x25e2bf['coin'],'symbol':_0x25e2bf[_0x4630b7(0x1cb)],'side':_0xdec1bd[_0x4630b7(0x19a)],'reverse':_0x50139d,'amount':formatResult(_0xdec1bd[_0x4630b7(0xbd)],0x8),'filled':formatResult(_0xdec1bd['filled'],0x8),'price':formatResult(_0xdec1bd[_0x4630b7(0x1ef)],0x8)}),_0x5ad581=_0xdec1bd[_0x4630b7(0x19a)]==_0x4630b7(0x1f5)?_0x5ad581+_0xdec1bd[_0x4630b7(0xbd)]:_0x5ad581-_0xdec1bd[_0x4630b7(0xbd)];if(!_0x33b12e)_0x33b12e=_0xdec1bd[_0x4630b7(0x1ef)];});_0x47e965=_0x25e2bf['number']-_0x5ad581;let _0x4f2a12;config[_0x128a02(0x95)][_0x128a02(0x21e)](_0x4165a4=>{const _0x1eb268=_0x128a02;!_0x4f2a12&&(_0x4f2a12=_0x4165a4[_0x1eb268(0x1df)]['find'](_0x600272=>_0x600272[_0x1eb268(0xd7)]==_0x25e2bf[_0x1eb268(0xd7)]),_0x4f2a12&&(_0x47e965=_0x4f2a12[_0x1eb268(0x200)],_0x33b12e=_0x4f2a12[_0x1eb268(0x1ef)]));});let _0x5bce93=dbCoinResults[_0x128a02(0xc3)](_0x128a02(0x100))['find']({'coin':_0x25e2bf[_0x128a02(0xd7)]})[_0x128a02(0x1e8)]();_0x5bce93={'coin':_0x25e2bf[_0x128a02(0xd7)],'number':_0x47e965,'breakeven':_0x33b12e,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x128a02(0xc3)](_0x128a02(0x100))[_0x128a02(0x150)]({'coin':_0x25e2bf[_0x128a02(0xd7)]})[_0x128a02(0x153)](_0x5bce93)['write']();}}_0x36640a[_0x128a02(0x12e)]((_0x4c745f,_0x4fef61)=>_0x4c745f['datetime']>_0x4fef61[_0x128a02(0x18d)]?0x1:_0x4fef61['datetime']>_0x4c745f[_0x128a02(0x18d)]?-0x1:0x0);let _0x24f416=0x0;for(let _0x577a05 of _0x36640a){await updateCoinResults(_0x577a05,!![]);}}catch(_0x5b4c8c){await handleError(_0x5b4c8c,_0x128a02(0x198));}}async function getAllEventOrders(_0x2354c8){const _0x16b167=_0x2b4dd3;let _0x2acf29=[],_0x5a0739=dbLogs[_0x16b167(0xc3)](_0x16b167(0x1f8))[_0x16b167(0x16f)](_0x34cab6=>{const _0x194e23=_0x16b167,_0x1cebe1=_0x34cab6[_0x194e23(0xe9)]['toLowerCase']();return _0x1cebe1[_0x194e23(0x10c)](_0x2354c8['toLowerCase']())&&(_0x1cebe1[_0x194e23(0x10c)]('market')&&_0x1cebe1[_0x194e23(0x10c)](_0x194e23(0x204))||_0x1cebe1[_0x194e23(0x10c)](_0x194e23(0xbd))&&_0x1cebe1[_0x194e23(0x10c)]('order'));})[_0x16b167(0xb7)](_0x16b167(0x15f))['value']();return _0x5a0739['forEach'](_0x4595b6=>{const _0x43702b=_0x16b167,_0x225fb5=_0x4595b6[_0x43702b(0xe9)][_0x43702b(0x10c)]('sell')?_0x43702b(0x1b6):_0x43702b(0x1f5),_0x2a2e39=/#([0-9]|\.)+\s/i,_0x164024=Number(_0x2a2e39[_0x43702b(0x97)](_0x4595b6[_0x43702b(0xe9)])[0x0][_0x43702b(0xad)](0x1)),_0x4ededb=/@([0-9]|\.)+$/i,_0x28d6bc=Number(_0x4ededb[_0x43702b(0x97)](_0x4595b6[_0x43702b(0xe9)])[0x0]['slice'](0x1));_0x2acf29[_0x43702b(0x109)]({'datetime':_0x4595b6[_0x43702b(0x15f)],'coin':symbolToCoin(_0x2354c8),'symbol':_0x2354c8,'side':_0x225fb5,'amount':_0x164024,'filled':_0x164024,'price':_0x28d6bc});}),_0x2acf29;}async function getAllOrders(_0xacfdef,_0x594761){const _0x2c05a8=_0x2b4dd3;let _0x3bfa0b=[];while(_0x594761<exchange[_0x2c05a8(0x1c3)]()){const _0x104e51=0x1f4;try{const _0x3775dd=await exchange['fetchClosedOrders'](_0xacfdef,_0x594761,_0x104e51);if(_0x3775dd[_0x2c05a8(0x10b)])_0x594761=_0x3775dd[_0x3775dd[_0x2c05a8(0x10b)]-0x1][_0x2c05a8(0xd8)]+0x1,_0x3bfa0b=_0x3bfa0b[_0x2c05a8(0x218)](_0x3775dd);else break;}catch(_0x2a5d40){await handleError(_0x2a5d40,_0x2c05a8(0x1c8),_0xacfdef);}}return _0x3bfa0b;}async function validate24hChanges(){const _0x2c502f=_0x2b4dd3;for(const _0x24391c of currentCoins){if(_0x24391c[_0x2c502f(0xd7)]!=config[_0x2c502f(0x184)]){let _0x4e5c3c;_0x24391c[_0x2c502f(0x156)]?_0x4e5c3c=formatResult((0x1/(global[_0x2c502f(0x122)][_0x24391c[_0x2c502f(0x1cb)]]/0x64+0x1)-0x1)*0x64,0x3):_0x4e5c3c=global[_0x2c502f(0x122)][_0x24391c[_0x2c502f(0x1cb)]],_0x4e5c3c<config[_0x2c502f(0x179)]&&(logHistory(_0x2c502f(0x141),_0x24391c[_0x2c502f(0xd7)]+_0x2c502f(0x14b)+_0x4e5c3c+'%'),logHistory('error',_0x2c502f(0x16e)),logHistory(_0x2c502f(0x141),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x2b4250,_0x229af0){const _0x5f34c1=_0x2b4dd3;if(!_0x2b4250)return!![];const _0x67f5aa=_0x229af0[_0x5f34c1(0xe2)]('.'),_0x149d5b=_0x2b4250[_0x5f34c1(0xe2)]('.');for(var _0x19dc5b=0x0;_0x19dc5b<_0x149d5b['length'];_0x19dc5b++){const _0xe98266=~~_0x149d5b[_0x19dc5b],_0x40751b=~~_0x67f5aa[_0x19dc5b];if(_0xe98266<_0x40751b)return!![];if(_0xe98266>_0x40751b)return![];}return![];}async function oneTimeMigration(){const _0x5e0264=_0x2b4dd3;let _0x100934=dbLogs[_0x5e0264(0xc3)](_0x5e0264(0x1fe))[_0x5e0264(0x1e8)]();if(isOlderVersion(_0x100934,'2.3.5')){let _0x388f3f=[];const _0x1e47bf=dbLogs['get'](_0x5e0264(0x1f8))[_0x5e0264(0x1e8)]();_0x1e47bf[_0x5e0264(0x21e)](_0x1e4a03=>{const _0x172895=_0x5e0264;_0x388f3f[_0x172895(0x109)]({'time':_0x1e4a03[_0x172895(0x15f)],'type':_0x1e4a03['type'],'event':_0x1e4a03[_0x172895(0xe9)]});}),dbLogs[_0x5e0264(0xc3)](_0x5e0264(0x1f8))[_0x5e0264(0x153)](_0x388f3f)['write']();}let _0x297a25=dbConfig[_0x5e0264(0xc3)]('version')['value']();if(isOlderVersion(_0x297a25,_0x5e0264(0x115))){let _0x45d5c8=dbConfig[_0x5e0264(0xc3)](_0x5e0264(0xc0))[_0x5e0264(0x150)]({'botID':botID})[_0x5e0264(0x1e8)]();if(_0x45d5c8){let _0x5b98ef=[];_0x45d5c8['portfolio']['forEach'](_0x414853=>{const _0x1a2e68=_0x5e0264;_0x5b98ef[_0x1a2e68(0x109)]({'coin':_0x414853[_0x1a2e68(0xd7)],'number':_0x414853[_0x1a2e68(0x92)],'price':_0x414853['startprice']}),delete _0x414853[_0x1a2e68(0x92)],delete _0x414853[_0x1a2e68(0xbf)];});if(_0x5b98ef['length']!==0x0)fs[_0x5e0264(0x214)](configbackuppath+('starting-balance-'+botID+_0x5e0264(0x1a7)),JSON['stringify'](_0x5b98ef,null,0x4),function(_0x2684ba){if(_0x2684ba){}});const _0x378166=(_0xf5cc0,_0x41eec2)=>{const _0x52bca1=_0x5e0264;let _0x514c96=[];_0x41eec2[_0x52bca1(0x21e)](_0x315bae=>{const _0x1f4120=_0x52bca1,_0x5c3a4c=_0xf5cc0['find'](_0x25b8dc=>_0x25b8dc[_0x1f4120(0xd7)]==_0x315bae['coin']);if(!_0x5c3a4c)_0x514c96[_0x1f4120(0x109)](_0x315bae);});let _0x3436e7=[];return _0xf5cc0[_0x52bca1(0x21e)](_0x2c9355=>{const _0x362cfb=_0x52bca1,_0x135d9=_0x41eec2['find'](_0x160900=>_0x160900[_0x362cfb(0xd7)]==_0x2c9355[_0x362cfb(0xd7)]);if(!_0x135d9||_0x135d9[_0x362cfb(0x200)]==0x0&&_0x2c9355[_0x362cfb(0x200)]!=0x0)_0x3436e7['push'](_0x2c9355);}),{'missingDay1':_0x514c96,'notInDay2':_0x3436e7};},_0x4c520e=dbPerformance['get'](_0x5e0264(0x1bd))[_0x5e0264(0x149)]()[_0x5e0264(0x1e8)]();if(_0x4c520e[_0x5e0264(0x10b)]>0x1){const {missingDay1:_0x127e08,notInDay2:_0xea04e0}=_0x378166(_0x5b98ef,_0x4c520e[0x1][_0x5e0264(0x100)]);_0x5b98ef=[..._0x5b98ef,..._0x127e08],_0xea04e0[_0x5e0264(0x21e)](_0x9cde0=>{const _0x46c2e6=_0x5e0264;let _0x20bf89=_0x5b98ef[_0x46c2e6(0x190)](_0x3753c2=>_0x3753c2[_0x46c2e6(0xd7)]==_0x9cde0[_0x46c2e6(0xd7)]);_0x20bf89!=-0x1&&_0x5b98ef[_0x46c2e6(0x205)](_0x20bf89,0x1);});}_0x5b98ef[_0x5e0264(0x12e)]((_0x454bea,_0x295fd6)=>_0x454bea[_0x5e0264(0xd7)]>_0x295fd6[_0x5e0264(0xd7)]?0x1:_0x295fd6[_0x5e0264(0xd7)]>_0x454bea[_0x5e0264(0xd7)]?-0x1:0x0);let _0x2d976d=[{'date':_0x45d5c8[_0x5e0264(0x11e)],'changes':_0x5b98ef}];_0x4c520e['length']>0x2&&_0x4c520e[_0x5e0264(0x21e)]((_0x441e87,_0x170d8a)=>{const _0x2dc6a9=_0x5e0264;if(_0x170d8a>0x0&&_0x170d8a<_0x4c520e[_0x2dc6a9(0x10b)]-0x1){const {missingDay1:_0x24870a,notInDay2:_0x2bef02}=_0x378166(_0x4c520e[_0x170d8a][_0x2dc6a9(0x100)],_0x4c520e[_0x170d8a+0x1][_0x2dc6a9(0x100)]);_0x5b98ef=[],(_0x24870a[_0x2dc6a9(0x10b)]!=0x0||_0x2bef02[_0x2dc6a9(0x10b)]!=0x0)&&(_0x24870a['length']!=0x0&&_0x5b98ef[_0x2dc6a9(0x109)](..._0x24870a),_0x2bef02[_0x2dc6a9(0x10b)]!=0x0&&(_0x2bef02['forEach'](_0x5a92ed=>{const _0x14c7dc=_0x2dc6a9;_0x5a92ed['number']=-_0x5a92ed[_0x14c7dc(0x200)];}),_0x5b98ef[_0x2dc6a9(0x109)](..._0x2bef02)),_0x5b98ef[_0x2dc6a9(0x12e)]((_0x12ae47,_0x5f1335)=>_0x12ae47[_0x2dc6a9(0xd7)]>_0x5f1335[_0x2dc6a9(0xd7)]?0x1:_0x5f1335['coin']>_0x12ae47[_0x2dc6a9(0xd7)]?-0x1:0x0),_0x2d976d[_0x2dc6a9(0x109)]({'date':_0x4c520e[_0x170d8a+0x1][_0x2dc6a9(0x1ec)],'changes':_0x5b98ef}));}}),dbConfig[_0x5e0264(0xc3)](_0x5e0264(0xc0))['find']({'botID':botID})[_0x5e0264(0x153)]({..._0x45d5c8,'liquidity':_0x2d976d})[_0x5e0264(0x1f0)]();}}if(isOlderVersion(_0x297a25,_0x5e0264(0xd5))){let _0x31e8c2=dbConfig['get']('bot')['find']({'botID':botID})['value']();if(_0x31e8c2){const _0x2c6594=_0x31e8c2[_0x5e0264(0x1b7)],_0x287f8e=_0x2c6594?capitalize(_0x2c6594):'Binance';dbConfig['get'](_0x5e0264(0xc0))[_0x5e0264(0x150)]({'botID':botID})['assign']({'exchange':_0x287f8e})['write']();}}if(isOlderVersion(_0x297a25,'2.6.22')){let _0x53b326=dbConfig[_0x5e0264(0xc3)](_0x5e0264(0xc0))[_0x5e0264(0x150)]({'botID':botID})[_0x5e0264(0x1e8)]();if(_0x53b326){const _0x4ee0f4=_0x53b326['marketcapEnabled'],_0x2c9f60=_0x4ee0f4?_0x5e0264(0x185):![];dbConfig[_0x5e0264(0xc3)](_0x5e0264(0xc0))['find']({'botID':botID})[_0x5e0264(0x153)]({'marketcapEnabled':_0x2c9f60})[_0x5e0264(0x1f0)]();}}let _0x310c2f=dbPerformance[_0x5e0264(0xc3)](_0x5e0264(0x1fe))['value']();isOlderVersion(_0x310c2f,_0x5e0264(0x115))&&setStartDatePerformance();let _0x5e4f46=dbCoinResults[_0x5e0264(0xc3)]('version')[_0x5e0264(0x1e8)]();if(isOlderVersion(_0x5e4f46,_0x5e0264(0x1c2))){let _0x2e41e0=dbCoinResults[_0x5e0264(0xc3)]('coins')['value']();if(_0x2e41e0[_0x5e0264(0x10b)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x11c114=_0x2b4dd3;dbConfig[_0x11c114(0x1eb)]('version',serverversion)[_0x11c114(0x1f0)](),dbPerformance['set'](_0x11c114(0x1fe),serverversion)[_0x11c114(0x1f0)](),dbLogs[_0x11c114(0x1eb)](_0x11c114(0x1fe),serverversion)[_0x11c114(0x1f0)](),dbCoinResults['set'](_0x11c114(0x1fe),serverversion)[_0x11c114(0x1f0)]();}function getConfiguration(_0x575c3b){const _0x4895df=_0x2b4dd3;let _0x4b687d=dbConfig[_0x4895df(0xc3)](_0x4895df(0xc0))['find']({'botID':_0x575c3b})[_0x4895df(0x1e8)]();if(_0x4b687d){let _0x36e83d=![];typeof _0x4b687d[_0x4895df(0x1ae)]=='string'&&(_0x4b687d={..._0x4b687d,'threshold':Number(_0x4b687d[_0x4895df(0x1ae)])},_0x36e83d=!![]),_0x4b687d[_0x4895df(0x179)]==undefined&&(_0x4b687d={..._0x4b687d,'change24h':-0x14},_0x36e83d=!![]),_0x4b687d[_0x4895df(0xd9)]==undefined&&(_0x4b687d={..._0x4b687d,'fiat':'USD'},_0x36e83d=!![]),_0x4b687d[_0x4895df(0xb9)]==undefined&&(_0x4b687d={..._0x4b687d,'onepagemode':settings[_0x4895df(0xb9)]},_0x36e83d=!![]),_0x4b687d['colorscheme']==undefined&&(_0x4b687d={..._0x4b687d,'colorscheme':_0x4895df(0xe3)},_0x36e83d=!![]),_0x4b687d[_0x4895df(0x1b1)]==undefined&&(_0x4b687d={..._0x4b687d,'autoliquidity':!![]},_0x36e83d=!![]),_0x4b687d[_0x4895df(0x15e)]==undefined&&(_0x4b687d={..._0x4b687d,'marketcapApi':settings[_0x4895df(0x15e)]?!![]:![]},_0x36e83d=!![]),_0x4b687d[_0x4895df(0x16c)]==undefined&&(_0x4b687d={..._0x4b687d,'marketcapEnabled':![]},_0x36e83d=!![]),_0x36e83d&&(_0x4b687d={'botID':_0x4b687d['botID'],'exchange':_0x4b687d[_0x4895df(0x1b7)],'apiKey':_0x4b687d[_0x4895df(0x88)],'apiSecret':_0x4b687d[_0x4895df(0x192)],'apiPassword':_0x4b687d[_0x4895df(0x133)],'basecoin':_0x4b687d[_0x4895df(0x184)],'botname':_0x4b687d[_0x4895df(0x110)],'showname':_0x4b687d[_0x4895df(0x1e5)],'threshold':_0x4b687d['threshold'],'ordertype':_0x4b687d['ordertype'],'timeout':_0x4b687d[_0x4895df(0xa8)],'fiat':_0x4b687d[_0x4895df(0xd9)],'startdate':_0x4b687d[_0x4895df(0x11e)],'recreate':_0x4b687d[_0x4895df(0x86)],'timeshift':_0x4b687d[_0x4895df(0x17c)],'onepagemode':_0x4b687d[_0x4895df(0xb9)],'headless':_0x4b687d['headless'],'cooldown':_0x4b687d['cooldown'],'change24h':_0x4b687d['change24h'],'emojibuy':_0x4b687d[_0x4895df(0xee)],'emojisell':_0x4b687d['emojisell'],'colorscheme':_0x4b687d[_0x4895df(0x163)],'marketcapApi':_0x4b687d['marketcapApi'],'marketcapEnabled':_0x4b687d['marketcapEnabled'],'portfolio':_0x4b687d[_0x4895df(0xf2)],'autoliquidity':_0x4b687d[_0x4895df(0x1b1)],'liquidity':_0x4b687d[_0x4895df(0x95)],'openOrders':_0x4b687d[_0x4895df(0x1f7)]},dbConfig[_0x4895df(0xc3)](_0x4895df(0xc0))[_0x4895df(0x1ff)]()[_0x4895df(0x1f0)](),dbConfig[_0x4895df(0xc3)]('bot')['push'](_0x4b687d)[_0x4895df(0x1f0)]());}else _0x4b687d={'botID':_0x575c3b,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x4895df(0x21b)+_0x575c3b,'showname':![],'threshold':0x3,'ordertype':_0x4895df(0x143),'timeout':0x14,'fiat':_0x4895df(0x212),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x4895df(0x17c)],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4b687d;}function emittedConfiguration(){const _0x3a1dda=_0x2b4dd3;let _0x937f8d;if(config[_0x3a1dda(0x88)]=='')_0x937f8d={...config,'configstate':_0x3a1dda(0x1b0)};else config[_0x3a1dda(0x88)]==_0x3a1dda(0x1fa)?_0x937f8d={...config,'configstate':_0x3a1dda(0x102)}:(_0x937f8d={...config,'apiKey':_0x3a1dda(0xaf),'apiSecret':'************'},config['apiPassword']&&(_0x937f8d['apiPassword']=_0x3a1dda(0xaf)));return _0x937f8d;}function getSettings(){const _0x495577=_0x2b4dd3;return dbSettings[_0x495577(0xc3)](_0x495577(0xa7))[_0x495577(0x1e8)]();}function getSecure(){const _0x116dfb=_0x2b4dd3;return dbSecure[_0x116dfb(0xc3)]('secure')[_0x116dfb(0x1e8)]()||{};}function updateTimeshift(_0x2ac060){const _0x10f422=_0x2b4dd3;let _0x5dc9bf=dbConfig[_0x10f422(0xc3)](_0x10f422(0xc0))['find']({'botID':botID})[_0x10f422(0x1e8)]();_0x5dc9bf&&dbConfig['get'](_0x10f422(0xc0))[_0x10f422(0x150)]({'botID':botID})[_0x10f422(0x153)]({'timeshift':_0x2ac060})[_0x10f422(0x1f0)](),config[_0x10f422(0x17c)]=_0x2ac060,proxyEmit(_0x10f422(0x1dd),emittedConfiguration());}function updateOnepagemode(_0x318b28){const _0x310f38=_0x2b4dd3;let _0x3edd46=dbConfig[_0x310f38(0xc3)](_0x310f38(0xc0))[_0x310f38(0x150)]({'botID':botID})[_0x310f38(0x1e8)]();_0x3edd46&&dbConfig[_0x310f38(0xc3)]('bot')[_0x310f38(0x150)]({'botID':botID})[_0x310f38(0x153)]({'onepagemode':_0x318b28})[_0x310f38(0x1f0)](),config['onepagemode']=_0x318b28,proxyEmit(_0x310f38(0x1dd),emittedConfiguration());}function updateMarketcapApi(_0x25f708){const _0x31d4db=_0x2b4dd3,_0x33ac5c=_0x25f708?!![]:![];let _0x9ab0f3=dbConfig[_0x31d4db(0xc3)]('bot')['find']({'botID':botID})['value']();_0x9ab0f3&&dbConfig[_0x31d4db(0xc3)](_0x31d4db(0xc0))[_0x31d4db(0x150)]({'botID':botID})['assign']({'marketcapApi':_0x33ac5c})[_0x31d4db(0x1f0)](),config[_0x31d4db(0x15e)]=_0x33ac5c,getMarketCap(),proxyEmit(_0x31d4db(0x1dd),emittedConfiguration());}function _0x4acf(_0xc065c1,_0x2d66c3){const _0x4dba5a=_0x3d52();return _0x4acf=function(_0x180f2c,_0x1a78f8){_0x180f2c=_0x180f2c-0x84;let _0x3d52b4=_0x4dba5a[_0x180f2c];return _0x3d52b4;},_0x4acf(_0xc065c1,_0x2d66c3);}async function storeConfiguration(_0x5f21f9){const _0x1c9fc4=_0x2b4dd3;logger[_0x1c9fc4(0x17e)](_0x1c9fc4(0x1cf));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug']('Transaction\x20detection\x20blocked');let _0x43f4c6=![],_0x20037b=![],_0x1612ea=[];_0x5f21f9[_0x1c9fc4(0xf2)]['forEach'](_0x522637=>{const _0x47c5d9=_0x1c9fc4;if(!_0x522637[_0x47c5d9(0x21c)]&&_0x522637[_0x47c5d9(0xd7)]!=_0x5f21f9[_0x47c5d9(0x184)])_0x1612ea[_0x47c5d9(0x109)](_0x522637[_0x47c5d9(0x1cb)]);}),_0x1612ea[_0x1c9fc4(0x21e)](_0x1d423e=>{const _0x332c23=_0x1c9fc4,_0x56b8ac=currentCoins[_0x332c23(0x150)](_0x384840=>_0x384840[_0x332c23(0x1cb)]==_0x1d423e);!_0x56b8ac&&(_0x43f4c6=!![]);}),currentCoins[_0x1c9fc4(0x21e)](_0x1b0cf2=>{const _0x4caf12=_0x1c9fc4;if(_0x1b0cf2[_0x4caf12(0xd7)]!=config[_0x4caf12(0x184)]){const _0x406550=_0x1612ea[_0x4caf12(0x150)](_0x570eb8=>_0x570eb8==_0x1b0cf2['symbol']);!_0x406550&&(_0x43f4c6=!![]);}}),_0x5f21f9[_0x1c9fc4(0xf2)][_0x1c9fc4(0x21e)](_0x555228=>{const _0x272ed1=_0x1c9fc4,_0x1f4895=config[_0x272ed1(0xf2)][_0x272ed1(0x150)](_0x59c3b6=>_0x59c3b6['coin']==_0x555228[_0x272ed1(0xd7)]);if(_0x1f4895&&_0x555228[_0x272ed1(0xe8)]!=_0x1f4895[_0x272ed1(0xe8)])_0x20037b=!![];});let _0x350a17=dbConfig['get'](_0x1c9fc4(0xc0))[_0x1c9fc4(0x150)]({'botID':botID})[_0x1c9fc4(0x1e8)]();_0x5f21f9={..._0x5f21f9,'apiKey':crypt['decrypt'](secure[_0x1c9fc4(0xf4)],_0x5f21f9[_0x1c9fc4(0x88)])[_0x1c9fc4(0x11d)],'apiSecret':crypt[_0x1c9fc4(0x1d3)](secure[_0x1c9fc4(0xf4)],_0x5f21f9[_0x1c9fc4(0x192)])[_0x1c9fc4(0x11d)]};_0x5f21f9[_0x1c9fc4(0x133)]&&(_0x5f21f9[_0x1c9fc4(0x133)]=crypt[_0x1c9fc4(0x1d3)](secure['privateKey'],_0x5f21f9[_0x1c9fc4(0x133)])[_0x1c9fc4(0x11d)]);let _0x1abcce=![];if(_0x350a17){_0x5f21f9[_0x1c9fc4(0x88)]==_0x1c9fc4(0xaf)?_0x5f21f9[_0x1c9fc4(0x88)]=config['apiKey']:_0x1abcce=!![];_0x5f21f9[_0x1c9fc4(0x192)]==_0x1c9fc4(0xaf)?_0x5f21f9[_0x1c9fc4(0x192)]=config[_0x1c9fc4(0x192)]:_0x1abcce=!![];if(_0x5f21f9[_0x1c9fc4(0x133)]==_0x1c9fc4(0xaf))_0x5f21f9[_0x1c9fc4(0x133)]=config[_0x1c9fc4(0x133)];else{if(_0x5f21f9[_0x1c9fc4(0x133)])_0x1abcce=!![];}dbConfig[_0x1c9fc4(0xc3)]('bot')[_0x1c9fc4(0x150)]({'botID':botID})[_0x1c9fc4(0x153)](_0x5f21f9)[_0x1c9fc4(0x1f0)]();}else dbConfig['get'](_0x1c9fc4(0xc0))['push'](_0x5f21f9)[_0x1c9fc4(0x1f0)](),_0x1abcce=!![],process[_0x1c9fc4(0x180)]({'status':_0x1c9fc4(0x99),'live':_0x1c9fc4(0xc5)},_0x59d6c9=>{});process[_0x1c9fc4(0x180)]({'botname':_0x5f21f9[_0x1c9fc4(0x110)]},_0x66a149=>{}),config={..._0x5f21f9},updateBotManager(),proxyEmit(_0x1c9fc4(0x196)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x1abcce)await reset(!![]);else _0x43f4c6||_0x20037b?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x1c9fc4(0x17e)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x518a02){const _0x54480c=_0x2b4dd3,_0x1b96ee={...config,'headless':_0x518a02[_0x54480c(0x173)]};let _0xcf21b=dbConfig[_0x54480c(0xc3)](_0x54480c(0xc0))['find']({'botID':botID})[_0x54480c(0x1e8)]();_0xcf21b&&dbConfig[_0x54480c(0xc3)]('bot')[_0x54480c(0x150)]({'botID':botID})[_0x54480c(0x153)](_0x1b96ee)['write'](),config={..._0x1b96ee},updateBotManager(),proxyEmit(_0x54480c(0x1dd),emittedConfiguration());}async function storeFiat(_0xac4d25){const _0x450d4b=_0x2b4dd3,_0x1c07f8={...config,'fiat':_0xac4d25};let _0x5c2654=dbConfig[_0x450d4b(0xc3)](_0x450d4b(0xc0))[_0x450d4b(0x150)]({'botID':botID})[_0x450d4b(0x1e8)]();_0x5c2654&&dbConfig[_0x450d4b(0xc3)]('bot')[_0x450d4b(0x150)]({'botID':botID})['assign'](_0x1c07f8)[_0x450d4b(0x1f0)](),config={..._0x1c07f8},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x2b0db8=_0x2b4dd3;logger['full'](_0x2b0db8(0x223));try{if(fs[_0x2b0db8(0xeb)](path[_0x2b0db8(0x9e)](configpath,_0x2b0db8(0x18c)+botID+'-events.json')))fs[_0x2b0db8(0x166)](path['join'](configpath,_0x2b0db8(0x18c)+botID+_0x2b0db8(0x1a1)));if(fs[_0x2b0db8(0xeb)](path['join'](configpath,'bot-'+botID+'-performance.json')))fs['unlinkSync'](path['join'](configpath,_0x2b0db8(0x18c)+botID+'-performance.json'));if(fs[_0x2b0db8(0xeb)](path[_0x2b0db8(0x9e)](configpath,'bot-'+botID+_0x2b0db8(0xfe))))fs['unlinkSync'](path['join'](configpath,'bot-'+botID+_0x2b0db8(0xfe)));}catch(_0x309a8c){if(_0x309a8c)logger[_0x2b0db8(0x181)](_0x2b0db8(0x18e),_0x309a8c);}const _0x450676=getDate();let _0x4d8cdc=[];currentCoins[_0x2b0db8(0x21e)](_0x19fcaa=>{const _0x5cc3c7=_0x2b0db8;_0x4d8cdc[_0x5cc3c7(0x109)]({'coin':_0x19fcaa[_0x5cc3c7(0xd7)],'number':_0x19fcaa[_0x5cc3c7(0x200)],'price':_0x19fcaa[_0x5cc3c7(0xfa)]});});let _0x358f88=dbConfig[_0x2b0db8(0xc3)](_0x2b0db8(0xc0))[_0x2b0db8(0x150)]({'botID':botID})['value']();_0x358f88&&(dbConfig[_0x2b0db8(0xc3)]('bot')[_0x2b0db8(0x150)]({'botID':botID})[_0x2b0db8(0x153)]({'liquidity':[{'date':_0x450676,'changes':_0x4d8cdc}]})[_0x2b0db8(0x1f0)](),config[_0x2b0db8(0x95)]=[]),process[_0x2b0db8(0x180)]({'stop':'restart'},_0x3276ab=>{});}function noslash(_0x11b99d){return _0x11b99d['replace']('/','');}function updateHighestFee(_0x4ca9ac){const _0x4c7aaa=_0x2b4dd3;if(_0x4ca9ac[_0x4c7aaa(0x156)]){let _0x376dc3={'filled':_0x4ca9ac[_0x4c7aaa(0xbd)]*_0x4ca9ac[_0x4c7aaa(0x1ef)],'amount':_0x4ca9ac[_0x4c7aaa(0xbd)]*_0x4ca9ac[_0x4c7aaa(0x1ef)],'side':_0x4ca9ac['side']==_0x4c7aaa(0x1b6)?_0x4c7aaa(0x1f5):_0x4c7aaa(0x1b6),'price':0x1/_0x4ca9ac['price']};_0x4ca9ac={..._0x4ca9ac,..._0x376dc3};}const _0x6e0508=defaultFee*_0x4ca9ac['filled']*_0x4ca9ac['price'];lastFees[_0x4c7aaa(0x148)][_0x4c7aaa(0x10b)]===0x14&&lastFees[_0x4c7aaa(0x148)][_0x4c7aaa(0xcf)](),lastFees[_0x4c7aaa(0x148)][_0x4c7aaa(0x109)](_0x6e0508),lastFees['highest']=Math['max'](...lastFees[_0x4c7aaa(0x148)]);}async function updateNumberCoinsCcxt(_0x19e430){const _0xaf3041=_0x2b4dd3;logger['debug'](_0xaf3041(0x125)+_0x19e430[_0xaf3041(0x1cb)]+'\x20|\x20'+_0x19e430[_0xaf3041(0xa4)]+_0xaf3041(0x127)+_0x19e430['filled']+'\x20/\x20'+_0x19e430['amount']+_0xaf3041(0x127)+_0x19e430['id']);let _0x39d53a=_0x19e430[_0xaf3041(0xa4)],_0x472899=![];currentCoins[_0xaf3041(0x21e)](_0x48eaf6=>{const _0x406bb1=_0xaf3041;_0x48eaf6['symbol']==_0x19e430[_0x406bb1(0x1cb)]&&(_0x472899=!![]);});if(!_0x472899)return;const _0x3cf242=currentCoins['find'](_0x4c2013=>_0x4c2013[_0xaf3041(0x1cb)]==_0x19e430['symbol']),_0x4fd4b2=_0xb4fd47=>{const _0x29d5e0=_0xaf3041;if(_0x3cf242)_0x3cf242[_0x29d5e0(0x1aa)]=_0xb4fd47;};if(_0x39d53a=='open')_0x4fd4b2(_0xaf3041(0x93));else{if(_0x39d53a==_0xaf3041(0x140)){_0x4fd4b2(_0xaf3041(0x140));const _0x20e6b4=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x20e6b4,await getOpenOrders(),handleOpenOrders();}else{if(_0x39d53a==_0xaf3041(0xf0)){let _0x4d9832=![];if(lastOrders)for(const _0xbad658 of lastOrders){const _0x1b89b5=0xc8,_0x38eae9=0x1388;let _0x39d481=0x0;while(!_0xbad658[_0xaf3041(0x9a)]&&_0x39d481*_0x1b89b5<_0x38eae9){_0x39d481++,await sleep(_0x1b89b5);}if(_0x39d481>0x0)logger[_0xaf3041(0x17e)](_0xaf3041(0xf6)+_0x39d481*_0x1b89b5/0x3e8+_0xaf3041(0x217));if(_0xbad658[_0xaf3041(0x9a)]==_0x19e430['id']){logger[_0xaf3041(0x17e)](_0xaf3041(0x1dc)+_0x19e430['id']),_0x4d9832=!![];if(_0xbad658[_0xaf3041(0xbd)]==0x0){logger[_0xaf3041(0x17e)](_0xaf3041(0x137)+_0x19e430['id']);if(_0x19e430['average'])_0xbad658[_0xaf3041(0x1ef)]=_0x19e430[_0xaf3041(0x17f)];else{if(_0x19e430[_0xaf3041(0x1ef)])_0xbad658[_0xaf3041(0x1ef)]=_0x19e430[_0xaf3041(0x1ef)];else{}}_0xbad658[_0xaf3041(0xbd)]=_0x19e430[_0xaf3041(0xbd)],updateHighestFee(_0xbad658),_0x4fd4b2(_0xaf3041(0xbd)),await validateOrders();if(lockOrders==ORDERS[_0xaf3041(0x1da)]){const _0x24f5f3=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x24f5f3;}_0xbad658[_0xaf3041(0x103)]={'currency':_0x19e430['fee']?_0x19e430[_0xaf3041(0x103)][_0xaf3041(0x1ab)]:null,'cost':_0x19e430['fee']?_0x19e430[_0xaf3041(0x103)][_0xaf3041(0x87)]:0x0},await updateCoinResults(_0xbad658);}}}if(!_0x4d9832){logger[_0xaf3041(0x17e)](_0xaf3041(0x1bc)+_0x19e430['id']),_0x4fd4b2(_0xaf3041(0xbd));const _0xd39a7=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xd39a7,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x9c8578=JSON['parse'](lastBalances[_0xaf3041(0xf2)]);const _0x29bb48=_0x9c8578[_0xaf3041(0x150)](_0x4cb5ca=>_0x4cb5ca[_0xaf3041(0x1cb)]==_0x19e430[_0xaf3041(0x1cb)]);if(_0x29bb48){if(_0x39d53a==_0xaf3041(0x93))_0x29bb48['orderstatus']=_0x29bb48[_0xaf3041(0x1aa)]==_0xaf3041(0xbd)?'filled':_0xaf3041(0x93);else{if(_0x39d53a==_0xaf3041(0x140))_0x29bb48[_0xaf3041(0x1aa)]=_0x29bb48[_0xaf3041(0x1aa)]==_0xaf3041(0xbd)?_0xaf3041(0xbd):'canceled';else _0x39d53a==_0xaf3041(0xf0)&&(_0x29bb48[_0xaf3041(0x1aa)]=_0xaf3041(0xbd));}}lastBalances={...lastBalances,'portfolio':JSON[_0xaf3041(0x1ca)](_0x9c8578)},proxyEmit(_0xaf3041(0x8d),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x1849b6=_0x2b4dd3;await getOpenOrders();let _0x15f39b=![];currentCoins[_0x1849b6(0x21e)](_0x21ac4e=>{const _0x2bca3f=_0x1849b6;_0x15f39b=allOpenOrders['find'](_0x5a11a6=>_0x5a11a6[_0x2bca3f(0x1cb)]==_0x21ac4e[_0x2bca3f(0x1cb)]),_0x21ac4e['orderstatus']=_0x15f39b?_0x2bca3f(0x93):_0x2bca3f(0x1b9);});}async function getCoins(_0x20813b=0x0,_0x294a6e=!![],_0x1ff77a=config[_0x2b4dd3(0x184)]){const _0x34e161=_0x2b4dd3;let _0x1f9a70,_0x7539bd=[],_0x3dea11=[],_0x133981=[];if(_0x20813b)await sleep(_0x20813b);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x1f9a70=await exchange['fetchBalance'](),mybalances=_0x1f9a70[_0x34e161(0x130)];for(const [_0xb202d0,_0x4f8e7e]of Object[_0x34e161(0x124)](mybalances)){_0x133981[_0x34e161(0x109)](_0xb202d0);}config[_0x34e161(0xf2)]['forEach'](_0x22659a=>{const _0x4fc3cb=_0x34e161;!_0x133981['includes'](_0x22659a[_0x4fc3cb(0xd7)])&&(mybalances[_0x22659a[_0x4fc3cb(0xd7)]]=0x0);});if(_0x1ff77a=='')for(const [_0xce9445,_0x37b935]of Object[_0x34e161(0x124)](mybalances)){_0x37b935!=0x0&&_0x7539bd['push']({'coin':_0xce9445});}else for(const [_0x34820,_0x30bc4c]of Object[_0x34e161(0x124)](mybalances)){const _0x172467=config[_0x34e161(0xf2)][_0x34e161(0x150)](_0x19a4b5=>_0x19a4b5['coin']==_0x34820),_0x59166c=_0x34820+'/'+_0x1ff77a,_0x21369e=_0x1ff77a+'/'+_0x34820,_0x479e4a=currentCoins['find'](_0x27af87=>_0x27af87[_0x34e161(0xd7)]==_0x34820);if((_0x30bc4c!=0x0||_0x172467)&&(allSymbols[_0x34e161(0x10c)](_0x59166c)||_0x34820==_0x1ff77a))_0x479e4a?_0x7539bd[_0x34e161(0x109)]({..._0x479e4a,'number':Math['max'](_0x30bc4c+(_0x172467&&_0x172467['offset']||0x0),0x0)}):_0x7539bd[_0x34e161(0x109)]({'coin':_0x34820,'symbol':_0x59166c,'reverse':![],'number':Math['max'](_0x30bc4c+(_0x172467&&_0x172467[_0x34e161(0xe8)]||0x0),0x0),'orderstatus':_0x34e161(0x1b9)});else{if((_0x30bc4c!=0x0||_0x172467)&&allSymbols[_0x34e161(0x10c)](_0x21369e))_0x479e4a?_0x7539bd['push']({..._0x479e4a,'number':Math[_0x34e161(0xcb)](_0x30bc4c+(_0x172467&&_0x172467[_0x34e161(0xe8)]||0x0),0x0)}):_0x7539bd[_0x34e161(0x109)]({'coin':_0x34820,'symbol':_0x21369e,'reverse':!![],'number':Math[_0x34e161(0xcb)](_0x30bc4c+(_0x172467&&_0x172467['offset']||0x0),0x0),'orderstatus':_0x34e161(0x1b9)});else _0x172467&&_0x7539bd['push']({'coin':_0x172467[_0x34e161(0xd7)],'symbol':_0x172467[_0x34e161(0x1cb)],'reverse':_0x172467[_0x34e161(0x156)],'number':0x0,'orderstatus':_0x34e161(0x1b9)});}}}catch(_0xa8deea){if(!_0x294a6e)handleErrorNoStop(_0xa8deea,'getCoins()');else await handleError(_0xa8deea,_0x34e161(0x19c));}return _0x7539bd[_0x34e161(0x12e)]((_0x3dc3be,_0x39b36c)=>_0x3dc3be[_0x34e161(0x20f)]<_0x39b36c['delta']?0x1:_0x39b36c['delta']<_0x3dc3be[_0x34e161(0x20f)]?-0x1:0x0),_0x3dea11=cloneDeep(_0x7539bd),_0x7539bd=_0x7539bd[_0x34e161(0x16f)](_0x599e37=>{const _0x1f3cf6=_0x34e161,_0x3a3e6f=config['portfolio']['find'](_0x301fa2=>_0x301fa2['coin']==_0x599e37[_0x1f3cf6(0xd7)]);return _0x3a3e6f&&!_0x3a3e6f[_0x1f3cf6(0x21c)];}),[_0x7539bd,_0x3dea11];}async function getCoinNumber(_0x1c39b8){const _0x151023=_0x2b4dd3;let _0x1ac7fb;try{const _0x281b4a=await exchange['fetchBalance']();_0x1ac7fb=_0x281b4a[_0x151023(0x130)][_0x1c39b8];}catch(_0x23a4a5){await handleError(_0x23a4a5,_0x151023(0x167));}return _0x1ac7fb;}async function getOpenOrders(){const _0x39fdc5=_0x2b4dd3;let _0x5d7ea2;allOpenOrders=[];try{for(const _0x1747b1 of config[_0x39fdc5(0xf2)]){!_0x1747b1[_0x39fdc5(0x21c)]&&_0x1747b1[_0x39fdc5(0xd7)]!=config['basecoin']&&(_0x5d7ea2=await exchange[_0x39fdc5(0x183)](_0x1747b1['symbol']),_0x5d7ea2[_0x39fdc5(0x10b)]>0x0&&allOpenOrders[_0x39fdc5(0x109)](_0x5d7ea2[0x0]));}}catch(_0x250fcc){await handleError(_0x250fcc,_0x39fdc5(0x1e3));}}function _0x3d52(){const _0x5ed8b2=['unlinkSync','getCoinNumber()','<b>','Pausing\x20for\x20','-performance.json','<pre>','marketcapEnabled','round','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','filter','./version.json','ccxt','Exchange','headless','getTime','RequestTimeout','cancelLoading','EUR','loading-canceled','change24h','startsWith','Net\x20effect','timeshift','Headless:\x20','debug','average','send','full','added','fetchOpenOrders','basecoin','marketcap','Crypt','axios','percentage','replace','date-fns','22026790dacLOr','bot-','datetime','Error\x20while\x20deleting\x20files:\x20','status\x20code\x20401','findIndex','createOrder','apiSecret','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','ticker','Order\x20filled:\x20','configuration-stored','no\x20open\x20orders','recreateCoinResults()','ordertype','side','log','getCoins()',':\x20timer\x20>','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Initializing\x20coin\x20results','6825780lMDjJb','-events.json','success','stopExchange()','min','performance','\x20portfolio:</b>\x20\x0a\x0a','.json','constructor','pro','orderstatus','currency','slider','toFixed','threshold','2\x20-\x20Handled\x20open\x20orders','initial','autoliquidity','\x20-\x20','page','PAXG','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','sell','exchange','ongoing','none','RETRY\x20-\x20Error\x20in\x20','ORDERS.UNLOCKED','1\x20-\x20FILLED\x20unknown\x20order:\x20','data','Invalid\x20quantity','\x20|\x20highest\x20fee:\x20','fetchClosedOrders','request-time','2.5.0','milliseconds','Reset\x20|\x20','1jVKPIN','must\x20be\x20greater\x20than\x20minimum\x20amount','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','getAllOrders()','Order(s)\x20not\x20validated\x20after\x20','stringify','symbol','BUSD','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','emojisell','Saving\x20configuration','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','./logs/','\x20API\x20secret\x20is\x20invalid','decrypt','No\x20more\x20open\x20orders\x20-\x20','getMinutes','\x20attempts','watchTradesForSymbols()','trade','random','LOCKED','2\x20-\x20Validate\x20orders:\x20','1\x20-\x20FILLED\x20known\x20order:\x20','configuration','Exception\x20thrown\x20in\x20','changes','\x20:\x20','toggleBotMode',':\x20Bot\x20','getOpenOrders()','getPortfolio','showname','storeHeadless','ask','value','Net\x20','realized','set','date','removed','136385nYYOXU','price','write','getDate','yyyy/MM/dd','padEnd','/output-000.log','buy','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','openOrders','logs','1\x20-\x20Validate\x20orders:\x20','***','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','bid','\x20|\x20Custom\x20ID:\x20','version','remove','number','\x20network\x20error','\x20|\x20exchange:\x20','storeConfiguration','order','splice','net-fiat','basecoinvalue','fetchBalance','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','USDP','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','AuthenticationError','args','Cryptocom','delta',',\x20must\x20be\x20a\x203\x20digit\x20number','hybrid-crypto-js','USD','Insufficient\x20funds\x20to\x20execute\x20order:\x20','writeFile','fromCodePoint','mkdirSync','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','concat','net-basecoin','RateLimitExceeded','Bot\x20','excluded','ORDERS.LOCKED','forEach','argv','defaults','Limit\x20(low-margin)','Order\x20amount\x20is\x20invalid:\x20','Resetting\x20bot\x20history','warning','type','1540593uKCTOG','recreate','cost','apiKey','limit','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','balancing\x20resumed','2504992AJqhsV','balances','uncaughtException','watchTradesForSymbols','(((.+)+)+)+$','</pre>','startnumber','open','\x20API\x20key\x20is\x20invalid','liquidity','parse','exec','keys','enabled','orderId','Avoiding\x20continuous\x20order\x20attempts','cancelOrders()','BNB/','join','amountToPrecision','USDT','cancel','loadSymbols()','getMonth','status','rightTxt','getHours','settings','timeout','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','BTC','customId','UNLOCKED','slice','ETH','************','toLowerCase','\x20order:\x20','/backup/','bots','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','MIN_NOTIONAL','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','sortBy','fees','onepagemode','market_cap','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','\x20exchange','filled','resetHistory','startprice','bot','toString','12HllQBh','get','watchTrades','running','valid','close','buys','cancelOrder','starting-balances','max','/EUR','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','-config.json','shift','has','watchOrders','initTickers()','BNB','Market','2.6.0','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','coin','timestamp','fiat','%\x20(','\x20exchange\x20error','isEqual','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','highest','USDC','eur','exchanges','split','red_yellow_blue','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','progress','map','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','offset','event','Portfolio\x20change\x20detected:\x20','existsSync','PermissionDenied','sendMetricsTelegram','emojibuy','Loading\x20completed','closed','function','portfolio','DDoSProtection','privateKey','spot','Waited\x20','createWriteStream','fetchTickers','exchange\x20reloaded','last','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','\x20>\x20','add','-results.json','Binance','coins','Error\x20details:','recovery','fee','event-history','\x20hour','Bybit','breakeven','1\x20-\x20Handle\x20open\x20orders','push','Cex','length','includes','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20minutes\x20-\x20','1471650mCHHTY','botname','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','./config/','Error:\x20Invalid\x20argument\x20','Fee\x20discount\x20refund\x20detected:\x20','2.3.5','padStart','\x20metrics:</b>\x20\x0a\x0a','quote','-------------------------------\x0a','exchange\x20not\x20reloaded','NetworkError','sells','message','startdate','Huobipro','amount','initclient','change','limits','entries','0\x20-\x20EXECUTION:\x20','emitHistory','\x20|\x20','search','distribution','abs','parseISO','password','active','sort','cooldown','total','test','restart','apiPassword','getSeconds','final','Invalid\x20symbol:\x20','2\x20-\x20handling\x20FILLED\x20order:\x20','leftTxt','target','\x20minutes','RSA-OAEP','netoffset','Invalid\x20API\x20key\x20or\x20secret\x20entered','InsufficientFunds','limit-high','canceled','error','Unknown\x20error\x20occured','market','Symbol(s):\x20','watchTrades()','sendPortfolioTelegram','\x20value','recent20','cloneDeep','OnMaintenance','\x20has\x20a\x2024h\x20drop\x20of\x20','Unfilled\x20order(s)\x20canceled\x20after\x20','376Phtkxl','indexOf','lowdb','find','27333xcBZca','placeOrder','assign','getFullYear','\x20-\x20pausing\x20bot\x20for\x20','reverse','deleteHistoryAlerts','fetchTicker','substring','Executed\x20','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','format','remainingSymbols','marketcapApi','time','ORDERS.UNLOCKING','usd','InvalidNonce','colorscheme','<b>Bot\x20','limit-low'];_0x3d52=function(){return _0x5ed8b2;};return _0x3d52();}async function handleOpenOrders(_0x475ac8=0x0){const _0x654bc3=_0x2b4dd3;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x475ac8==0x0?(logger[_0x654bc3(0x17e)](_0x654bc3(0x108)),_0x475ac8++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x654bc3(0x17e)](_0x654bc3(0x1af)),validateOrders(_0x654bc3(0x197))));}async function testAPI(_0x112135){const _0x459129=_0x2b4dd3,_0x18d576=ccxt[_0x459129(0x1a9)][_0x112135['exchange'][_0x459129(0xb0)]()],_0x270e90=new _0x18d576({'apiKey':_0x112135[_0x459129(0x88)],'secret':_0x112135[_0x459129(0x192)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x459129(0xf5)}});if(_0x112135[_0x459129(0x133)])_0x270e90[_0x459129(0x12c)]=_0x112135[_0x459129(0x133)];try{await _0x270e90['loadMarkets']();}catch(_0x1ae8e3){throw _0x1ae8e3;}}function cloneDeep(_0x52997e){const _0x1d6c52=_0x2b4dd3;return JSON[_0x1d6c52(0x96)](JSON['stringify'](_0x52997e));}async function getPortfolio(_0x15cdf4){const _0x4a3e21=_0x2b4dd3;let _0x35ed59=[],_0x2fbc55=[],_0x1bae2e=[],_0x5769f6;if(_0x15cdf4[_0x4a3e21(0x88)]!==_0x4a3e21(0xaf)||_0x15cdf4['apiSecret']!==_0x4a3e21(0xaf)||_0x15cdf4['apiPassword']&&_0x15cdf4['apiPassword']!==_0x4a3e21(0xaf)){if(config[_0x4a3e21(0x1b7)]){if(_0x15cdf4[_0x4a3e21(0x88)]==_0x4a3e21(0xaf))_0x15cdf4[_0x4a3e21(0x88)]=config[_0x4a3e21(0x88)];if(_0x15cdf4[_0x4a3e21(0x192)]==_0x4a3e21(0xaf))_0x15cdf4[_0x4a3e21(0x192)]=config[_0x4a3e21(0x192)];if(_0x15cdf4['apiPassword']==_0x4a3e21(0xaf))_0x15cdf4[_0x4a3e21(0x133)]=config[_0x4a3e21(0x133)];try{await testAPI(_0x15cdf4);}catch(_0xc74612){if(_0xc74612[_0x4a3e21(0xc1)]()[_0x4a3e21(0x10c)]('AuthenticationError')){logger[_0x4a3e21(0x17e)](_0x4a3e21(0x13d)),proxyEmit(_0x4a3e21(0xf2),![]);return;}else{handleError(_0xc74612,'getPortfolio(0)');return;}}}await initExchange(_0x15cdf4[_0x4a3e21(0x1b7)],_0x15cdf4['apiKey'],_0x15cdf4[_0x4a3e21(0x192)],_0x15cdf4[_0x4a3e21(0x133)]);try{await loadSymbols();}catch(_0x3ecf0d){if(_0x3ecf0d[_0x4a3e21(0xc1)]()[_0x4a3e21(0x10c)](_0x4a3e21(0x20c))){proxyEmit(_0x4a3e21(0xf2),![]);return;}else{handleError(_0x3ecf0d,'getPortfolio(1)');return;}}const _0x33d30c=await getCoins(0x0,![],_0x15cdf4[_0x4a3e21(0x184)]);_0x1bae2e=cloneDeep(_0x33d30c[0x1]);}else{const _0x2d381e=await getCoins();_0x1bae2e=cloneDeep(_0x2d381e[0x1]);}if(_0x15cdf4['basecoin']=='')proxyEmit(_0x4a3e21(0xf2),_0x1bae2e);else{_0x1bae2e[_0x4a3e21(0x21e)](_0x4c6c29=>{const _0x51f012=_0x4a3e21;if(_0x4c6c29[_0x51f012(0xd7)]!=_0x15cdf4[_0x51f012(0x184)]&&allSymbols['includes'](_0x4c6c29[_0x51f012(0x1cb)]))_0x35ed59[_0x51f012(0x109)](_0x4c6c29[_0x51f012(0x1cb)]);});if(_0x35ed59[_0x4a3e21(0x10b)]==0x0)logHistory('error',_0x4a3e21(0x15b));else{try{_0x2fbc55=await getTickers(_0x35ed59);}catch(_0x5713f6){if(_0x5713f6[_0x4a3e21(0xc1)]()['includes']('AuthenticationError')){proxyEmit(_0x4a3e21(0xf2),![]);return;}else handleError(_0x5713f6,'getPortfolio(2)');}_0x1bae2e[_0x4a3e21(0x21e)](_0x41644d=>{const _0x24e2b3=_0x4a3e21;_0x41644d[_0x24e2b3(0xd7)]!=_0x15cdf4[_0x24e2b3(0x184)]?_0x2fbc55[_0x41644d[_0x24e2b3(0x1cb)]]?_0x5769f6=_0x41644d['reverse']?0x1/_0x2fbc55[_0x41644d[_0x24e2b3(0x1cb)]][_0x24e2b3(0xfa)]:_0x2fbc55[_0x41644d['symbol']][_0x24e2b3(0xfa)]:_0x5769f6=0x0:_0x5769f6=0x1,_0x41644d['price']=formatResult(_0x5769f6,0x8);}),await getMarketCap(_0x1bae2e),proxyEmit(_0x4a3e21(0xf2),_0x1bae2e);}}}function truncateTradeAmount(_0xfe26c6,_0x384b8f){const _0x324704=_0x2b4dd3;let _0x5bfd85=0x0;try{_0x5bfd85=exchange[_0x324704(0x9f)](_0xfe26c6,_0x384b8f);}catch(_0x1183af){}return _0x5bfd85;}function checkMinimums(_0x3a9567){const _0xa6bae2=_0x2b4dd3;let _0x2e0cb8=!![];const _0x58b19b=!_0x3a9567['reverse']?markets[_0x3a9567['symbol']][_0xa6bae2(0x123)][_0xa6bae2(0x120)][_0xa6bae2(0x1a4)]:markets[_0x3a9567[_0xa6bae2(0x1cb)]][_0xa6bae2(0x123)][_0xa6bae2(0x87)]['min'],_0x46fe57=!_0x3a9567['reverse']?markets[_0x3a9567[_0xa6bae2(0x1cb)]][_0xa6bae2(0x123)][_0xa6bae2(0x87)][_0xa6bae2(0x1a4)]:markets[_0x3a9567[_0xa6bae2(0x1cb)]][_0xa6bae2(0x123)][_0xa6bae2(0x120)][_0xa6bae2(0x1a4)],_0x227460=truncateTradeAmount(_0x3a9567['symbol'],_0x3a9567[_0xa6bae2(0x1d8)]);_0x3a9567[_0xa6bae2(0x1d8)]=_0x227460;if(Math[_0xa6bae2(0x12a)](_0x227460)<_0x58b19b)_0x2e0cb8=![];if(Math[_0xa6bae2(0x12a)](_0x227460)*_0x3a9567[_0xa6bae2(0xfa)]<_0x46fe57)_0x2e0cb8=![];if(_0x3a9567[_0xa6bae2(0x19a)]==_0xa6bae2(0x1b6)){let _0x254486=config['portfolio']['find'](_0x392747=>_0x392747[_0xa6bae2(0xd7)]==_0x3a9567[_0xa6bae2(0xd7)]);if(_0x254486[_0xa6bae2(0xe8)]>0x0){if(Math[_0xa6bae2(0x12a)](_0x227460)>_0x3a9567['number']-_0x254486[_0xa6bae2(0xe8)])_0x2e0cb8=![];}else{if(Math[_0xa6bae2(0x12a)](_0x227460)>_0x3a9567[_0xa6bae2(0x200)])_0x2e0cb8=![];}}if(_0x3a9567['side']==_0xa6bae2(0x1f5)){let _0x3f904f=config[_0xa6bae2(0xf2)]['find'](_0x474adb=>_0x474adb[_0xa6bae2(0xd7)]==config['basecoin']),_0x1a0039=currentCoins['find'](_0x417e71=>_0x417e71['coin']==config[_0xa6bae2(0x184)]);if(_0x3f904f[_0xa6bae2(0xe8)]>0x0){if(Math[_0xa6bae2(0x12a)](_0x227460)*_0x3a9567[_0xa6bae2(0xfa)]>_0x1a0039[_0xa6bae2(0x200)]-_0x3f904f[_0xa6bae2(0xe8)])_0x2e0cb8=![];}else{if(Math[_0xa6bae2(0x12a)](_0x227460)*_0x3a9567[_0xa6bae2(0xfa)]>_0x1a0039['number'])_0x2e0cb8=![];}}return _0x2e0cb8;}async function getBalances(_0x5de73d=!![]){const _0x2b0d70=_0x2b4dd3;let _0x5e76d6=0x0,_0x294e9e;const _0x18eaf7=config[_0x2b0d70(0x1ae)];if(config['headless']&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x2b0d70(0x21e)](_0x421550=>{const _0x13899d=_0x2b0d70;if(_0x421550[_0x13899d(0xd7)]!=config[_0x13899d(0x184)]){let _0x3019a3=global[_0x13899d(0x194)][noslash(_0x421550[_0x13899d(0x1cb)])];_0x294e9e=_0x421550['reverse']?0x1/_0x3019a3:_0x3019a3;}else _0x294e9e=0x1;let _0x823cb5=_0x421550[_0x13899d(0x200)]*_0x294e9e;_0x5e76d6+=_0x823cb5,_0x421550[_0x13899d(0xfa)]=formatResult(Number(_0x294e9e),0x8),_0x421550[_0x13899d(0x1e8)]=_0x823cb5;}),currentCoins['forEach'](_0x525011=>{const _0x26da35=_0x2b0d70;let _0x32c6a9=config[_0x26da35(0xf2)][_0x26da35(0x150)](_0x31fd70=>_0x31fd70[_0x26da35(0xd7)]==_0x525011['coin']),_0xc27f0=Number(_0x32c6a9[_0x26da35(0x129)]),_0xff4ed2=_0x525011[_0x26da35(0x1e8)]/_0x5e76d6*0x64,_0x56a5c4=_0xc27f0*_0x5e76d6/0x64/_0x525011[_0x26da35(0xfa)]-_0x525011[_0x26da35(0x200)];_0x525011['distribution']=formatResult(_0xff4ed2,0x3),_0x525011[_0x26da35(0x139)]=formatResult(_0xc27f0,0x3),_0x525011[_0x26da35(0x1d8)]=formatResult(_0x56a5c4,0x8),_0x525011[_0x26da35(0x19a)]='',_0x525011['valid']=![];if(_0x525011['coin']!=config[_0x26da35(0x184)]){if(_0x525011[_0x26da35(0x129)]>_0xc27f0)_0x525011[_0x26da35(0x19a)]=_0x26da35(0x1b6),_0x525011[_0x26da35(0xc6)]=checkMinimums(_0x525011);else _0x525011[_0x26da35(0x129)]<_0xc27f0&&(_0x525011[_0x26da35(0x19a)]='buy',_0x525011[_0x26da35(0xc6)]=checkMinimums(_0x525011));}_0x525011[_0x26da35(0x20f)]=_0x525011[_0x26da35(0x129)]/_0x525011[_0x26da35(0x139)]-0x1;if(_0x525011[_0x26da35(0x1aa)]==_0x26da35(0xbd)||_0x525011[_0x26da35(0x1aa)]=='canceled')_0x525011[_0x26da35(0x1aa)]=_0x26da35(0x1b9);}),currentCoins['sort']((_0x52b6c3,_0x379501)=>_0x52b6c3[_0x2b0d70(0x20f)]<_0x379501['delta']?0x1:_0x379501['delta']<_0x52b6c3[_0x2b0d70(0x20f)]?-0x1:0x0);const _0x340f0b=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x340f0b[_0x2b0d70(0xe0)],'usd':_0x340f0b[_0x2b0d70(0x161)],'portfolio':JSON[_0x2b0d70(0x1ca)](currentCoins),'threshold':_0x18eaf7},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x5de73d){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x18eaf7});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x18eaf7});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x31fad3=getNormalizedPerformance();getStartingBalances(_0x31fad3),emitPerformance(_0x31fad3);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x284ab4=getNormalizedPerformance();emitPerformance(_0x284ab4),getStartingBalances(_0x284ab4),logger[_0x2b0d70(0x17e)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x5245a2=_0x2b4dd3;if(!lastBalances)return;let _0x52725b=[],_0x3c4d60,_0x3284d5=JSON[_0x5245a2(0x96)](lastBalances['portfolio']);_0x3284d5[_0x5245a2(0x12e)]((_0x4b160c,_0x46461c)=>_0x4b160c[_0x5245a2(0xd7)]>_0x46461c[_0x5245a2(0xd7)]?0x1:_0x46461c[_0x5245a2(0xd7)]>_0x4b160c[_0x5245a2(0xd7)]?-0x1:0x0),_0x3284d5[_0x5245a2(0x21e)](_0x2d6ae9=>{const _0xa62660=_0x5245a2;let _0x363570={'coin':_0x2d6ae9[_0xa62660(0xd7)],'number':_0x2d6ae9[_0xa62660(0x200)],'price':_0x2d6ae9[_0xa62660(0xfa)]};_0x52725b[_0xa62660(0x109)](_0x363570);});const _0x2e10ec=await getFiat();_0x3c4d60={'date':lastBalances[_0x5245a2(0x15f)][_0x5245a2(0xe2)]('\x20')[0x0],'eur':_0x2e10ec['eur'],'usd':_0x2e10ec['usd'],'coins':_0x52725b};let _0x3b7798=dbPerformance[_0x5245a2(0xc3)](_0x5245a2(0x1bd))[_0x5245a2(0x150)]({'date':_0x3c4d60['date']})['value']();_0x3b7798?_0x3c4d60[_0x5245a2(0x1ec)]!=config[_0x5245a2(0x11e)]&&dbPerformance['get'](_0x5245a2(0x1bd))[_0x5245a2(0x150)]({'date':_0x3c4d60[_0x5245a2(0x1ec)]})[_0x5245a2(0x153)](_0x3c4d60)[_0x5245a2(0x1f0)]():dbPerformance[_0x5245a2(0xc3)]('data')[_0x5245a2(0x109)](_0x3c4d60)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5ca71f=_0x2b4dd3;let _0xdd22c=[];if(dbPerformance[_0x5ca71f(0xd0)](_0x5ca71f(0x1bd))[_0x5ca71f(0x1e8)]()){let _0x5bcd4f=dbPerformance[_0x5ca71f(0xc3)](_0x5ca71f(0x1bd))[_0x5ca71f(0x149)]()[_0x5ca71f(0x16f)](_0x507f57=>{const _0x355c59=_0x5ca71f;if(_0x507f57[_0x355c59(0x100)][_0x355c59(0x10b)]==0x0)return![];else return!![];})[_0x5ca71f(0xb7)](_0x5ca71f(0x1ec))[_0x5ca71f(0x1e8)](),_0x3c1fae=[...config[_0x5ca71f(0x95)]];_0x3c1fae[_0x5ca71f(0x12e)]((_0x14c852,_0x2281b8)=>_0x14c852[_0x5ca71f(0x1ec)]>_0x2281b8['date']?-0x1:_0x2281b8[_0x5ca71f(0x1ec)]>_0x14c852['date']?0x1:0x0);let _0x4819e7=0x1,_0x4490e7=[],_0x51e1a6=0x0;_0x5bcd4f[_0x5ca71f(0xad)]()[_0x5ca71f(0x156)]()['forEach']((_0x31be25,_0x1f6056)=>{const _0x333687=_0x5ca71f;if(_0x3c1fae[_0x51e1a6]){if(_0x5bcd4f[_0x5bcd4f[_0x333687(0x10b)]-_0x1f6056]&&_0x3c1fae[_0x51e1a6]['date']==_0x5bcd4f[_0x5bcd4f[_0x333687(0x10b)]-_0x1f6056][_0x333687(0x1ec)]){if(_0x1f6056<_0x5bcd4f[_0x333687(0x10b)]){let _0x134602=0x0,_0x5cdf04=0x0;_0x5bcd4f[_0x5bcd4f['length']-_0x1f6056][_0x333687(0x100)]['forEach'](_0x3a27ef=>{const _0x42e1d6=_0x333687;_0x5cdf04+=_0x3a27ef['number']*_0x3a27ef[_0x42e1d6(0x1ef)];}),_0x3c1fae[_0x51e1a6][_0x333687(0x1df)][_0x333687(0x21e)](_0x49a61e=>{const _0x82b131=_0x333687;_0x134602+=_0x49a61e[_0x82b131(0x200)]*_0x49a61e['price'];}),_0x4819e7*=_0x134602/(_0x5cdf04-_0x134602)+0x1;}_0x51e1a6++;}}let _0x28c1d0=0x0;_0x31be25[_0x333687(0x100)][_0x333687(0x21e)](_0x5d0eab=>{const _0x228ab6=_0x333687;_0x28c1d0+=_0x5d0eab[_0x228ab6(0x200)]*_0x5d0eab[_0x228ab6(0x1ef)];}),_0x4490e7[_0x5bcd4f['length']-_0x1f6056-0x1]=_0x28c1d0*(_0x4819e7-0x1);});let _0x1c01db=[];_0x3c1fae=[...config[_0x5ca71f(0x95)]]||[];let _0x2caba8=0x0;_0x51e1a6=0x0,_0x5bcd4f[_0x5ca71f(0x21e)]((_0x3c45e2,_0x1dfb72)=>{const _0x3d230b=_0x5ca71f;if(_0x3c1fae[_0x51e1a6]){const _0x4749b2=fns[_0x3d230b(0x96)](_0x3c1fae[_0x51e1a6][_0x3d230b(0x1ec)],_0x3d230b(0x1f2),new Date()),_0x3d932a=fns[_0x3d230b(0x96)](_0x3c45e2['date'],_0x3d230b(0x1f2),new Date());if(fns['isEqual'](_0x4749b2,_0x3d932a)){let _0x572b9e=0x0;_0x3c1fae[_0x51e1a6][_0x3d230b(0x1df)][_0x3d230b(0x21e)](_0x4c6cbc=>{const _0x31d180=_0x3d230b;!_0x1c01db[_0x4c6cbc[_0x31d180(0xd7)]]?_0x1c01db[_0x4c6cbc[_0x31d180(0xd7)]]=_0x4c6cbc[_0x31d180(0x200)]:(_0x572b9e=_0x1c01db[_0x4c6cbc[_0x31d180(0xd7)]],_0x1c01db[_0x4c6cbc[_0x31d180(0xd7)]]+=_0x4c6cbc[_0x31d180(0x200)]);const _0x32dba3=_0x3c45e2[_0x31d180(0x100)][_0x31d180(0x150)](_0x3fa163=>_0x3fa163['coin']==_0x4c6cbc['coin']);(!_0x32dba3||_0x32dba3[_0x31d180(0x200)]==0x0)&&(_0x2caba8+=(-_0x4c6cbc[_0x31d180(0x200)]-_0x572b9e)*_0x4c6cbc['price']);}),_0x51e1a6++;}}_0x3c45e2[_0x3d230b(0x100)][_0x3d230b(0x21e)]((_0x425e45,_0x1a1e26)=>{const _0x4dfb89=_0x3d230b;_0x1c01db[_0x425e45[_0x4dfb89(0xd7)]]&&(_0x425e45[_0x4dfb89(0x1b0)]=_0x1c01db[_0x425e45[_0x4dfb89(0xd7)]]);}),_0xdd22c[_0x3d230b(0x109)]({'date':_0x3c45e2['date'],'eur':_0x3c45e2[_0x3d230b(0xe0)],'usd':_0x3c45e2[_0x3d230b(0x161)],'offset':_0x4490e7[_0x1dfb72],'netoffset':_0x2caba8,'coins':_0x3c45e2[_0x3d230b(0x100)]});});}return _0xdd22c;}function emitPerformance(_0x59d437){const _0x27abba=_0x2b4dd3;_0x59d437[_0x27abba(0x10b)]!==0x0?(proxyEmit(_0x27abba(0x1a5),_0x59d437),lastPerformanceEmitted=getDate()):proxyEmit(_0x27abba(0x1a5),[]);}function getPerf(_0x2441e3,_0xe222e7){const _0x4ab6f4=_0x2b4dd3;let _0x548054=0x0,_0x22a0f4=0x0,_0x2fc61b=0x0;_0x2441e3[_0x4ab6f4(0x100)][_0x4ab6f4(0x21e)](_0x2db7c6=>{const _0x7f1bd8=_0x4ab6f4;_0x548054+=_0x2db7c6[_0x7f1bd8(0x200)]*_0x2db7c6[_0x7f1bd8(0x1ef)];});_0xe222e7&&(_0x548054+=_0x2441e3[_0x4ab6f4(0xe8)]);if(config[_0x4ab6f4(0x184)]===_0x4ab6f4(0xaa)||config[_0x4ab6f4(0x184)]===_0x4ab6f4(0xae)||config[_0x4ab6f4(0x184)]===_0x4ab6f4(0x1b4))_0x22a0f4=_0x548054*_0x2441e3['eur'],_0x2fc61b=_0x548054*_0x2441e3[_0x4ab6f4(0x161)];else{if(usdBasecoins[_0x4ab6f4(0x10c)](config['basecoin']))_0x22a0f4=_0x548054*_0x2441e3['eur']/_0x2441e3[_0x4ab6f4(0x161)],_0x2fc61b=_0x548054;else config[_0x4ab6f4(0x184)]===_0x4ab6f4(0x177)&&(_0x22a0f4=_0x548054,_0x2fc61b=_0x548054*_0x2441e3[_0x4ab6f4(0x161)]/_0x2441e3['eur']);}return[_0x548054,_0x22a0f4,_0x2fc61b];}function getKPIs(_0x296f73,_0x37b40a=_0x2b4dd3(0x177)){const _0xb74c88=_0x2b4dd3,_0x3724bf=config[_0xb74c88(0x184)],_0x5bc8cb=lastBalances,_0x358aa5=currentCoins,_0x5f2495=getNormalizedPerformance(),_0x15670b=_0x296f73===_0xb74c88(0x184)?_0x3724bf:_0x296f73===_0xb74c88(0xd9)||_0x296f73==='net-fiat'?_0x37b40a:_0xb74c88(0x1e9)+_0x3724bf,_0x2cafe0=_0x296f73===_0xb74c88(0x219)?'Net\x20effect':_0x296f73==='net-fiat'?_0xb74c88(0x17b):_0x15670b+_0xb74c88(0x147),_0x278442=_0x296f73==='net-basecoin'||_0x296f73===_0xb74c88(0x206)?_0xb74c88(0x17b):_0x15670b+'\x20change';let _0x231c05=0x0;_0x358aa5[_0xb74c88(0x21e)](_0x50d460=>{const _0x2145f3=_0xb74c88;_0x231c05+=_0x50d460[_0x2145f3(0x200)]*_0x50d460[_0x2145f3(0xfa)];});if(_0x296f73===_0xb74c88(0xd9)||_0x296f73===_0xb74c88(0x206)){if(_0x3724bf===_0xb74c88(0xaa)||_0x3724bf===_0xb74c88(0xae)||_0x3724bf===_0xb74c88(0x1b4))_0x231c05=_0x231c05*(_0x37b40a==='EUR'?_0x5bc8cb['eur']:_0x5bc8cb[_0xb74c88(0x161)]);else{if(usdBasecoins[_0xb74c88(0x10c)](_0x3724bf))_0x231c05=_0x231c05*(_0x37b40a===_0xb74c88(0x177)?_0x5bc8cb[_0xb74c88(0xe0)]/_0x5bc8cb['usd']:0x1);else _0x3724bf==='EUR'&&(_0x231c05=_0x231c05*(_0x37b40a===_0xb74c88(0x177)?0x1:_0x5bc8cb[_0xb74c88(0x161)]/_0x5bc8cb[_0xb74c88(0xe0)]));}}let _0x118e71;if(_0x231c05!==0x0){if(_0x296f73===_0xb74c88(0x184))_0x118e71=(_0x231c05/startingBalances['basecoin']-0x1)*0x64;else{if(_0x37b40a===_0xb74c88(0x177))_0x118e71=(_0x231c05/startingBalances[_0xb74c88(0xe0)]-0x1)*0x64;else _0x118e71=(_0x231c05/startingBalances[_0xb74c88(0x161)]-0x1)*0x64;}let _0x15d0f=0x0;if(startingBalances[_0xb74c88(0x100)])_0x358aa5[_0xb74c88(0x21e)](_0x4ed202=>{const _0x1466c4=_0xb74c88;let _0x3e5330=startingBalances['coins'][_0x1466c4(0x150)](_0x50dbff=>_0x50dbff[_0x1466c4(0xd7)]===_0x4ed202['coin']);if(_0x3e5330&&_0x3e5330[_0x1466c4(0xd7)]&&_0x4ed202[_0x1466c4(0x200)]!==0x0)_0x15d0f+=_0x3e5330[_0x1466c4(0x200)]*_0x4ed202['last'];});let _0x2c15c3=0x0;if(_0x5f2495[_0xb74c88(0x10b)]!==0x0){let _0x46132d=_0x5f2495[_0x5f2495[_0xb74c88(0x10b)]-0x1];_0x2c15c3=_0x46132d[_0xb74c88(0x13c)];}_0x15d0f-=_0x2c15c3;_0x296f73==='net-basecoin'&&(_0x118e71=(_0x231c05-_0x15d0f)/startingBalances[_0xb74c88(0x184)]*0x64,_0x231c05=_0x231c05-_0x15d0f);if(_0x296f73===_0xb74c88(0x206)){let _0x4d4448=_0x37b40a===_0xb74c88(0x177)?startingBalances[_0xb74c88(0xe0)]:startingBalances['usd'];if(_0x3724bf===_0xb74c88(0xaa)||_0x3724bf==='ETH'||_0x3724bf===_0xb74c88(0x1b4))_0x15d0f=_0x37b40a===_0xb74c88(0x177)?_0x15d0f*_0x5bc8cb['eur']:_0x15d0f*_0x5bc8cb[_0xb74c88(0x161)];else{if(usdBasecoins['includes'](_0x3724bf))_0x15d0f=_0x37b40a==='EUR'?_0x15d0f*_0x5bc8cb['eur']/_0x5bc8cb[_0xb74c88(0x161)]:_0x15d0f;else _0x3724bf===_0xb74c88(0x177)&&(_0x15d0f=_0x37b40a===_0xb74c88(0x177)?_0x15d0f:_0x15d0f*_0x5bc8cb['usd']/_0x5bc8cb[_0xb74c88(0xe0)]);}_0x118e71=(_0x231c05-_0x15d0f)/_0x4d4448*0x64,_0x231c05=_0x231c05-_0x15d0f;}if(_0x118e71){if(_0x118e71<0x64)_0x118e71=_0x118e71[_0xb74c88(0x1ad)](0x2);else{if(_0x118e71<0x3e8)_0x118e71=_0x118e71[_0xb74c88(0x1ad)](0x1);else _0x118e71=_0x118e71[_0xb74c88(0x1ad)](0x0);}}else _0x118e71=Number('0')[_0xb74c88(0x1ad)](0x2);if(_0x231c05){if(Math[_0xb74c88(0x12a)](_0x231c05)<0.000001)_0x231c05=_0x231c05[_0xb74c88(0x1ad)](0x2);else{if(Math[_0xb74c88(0x12a)](_0x231c05)<0.1)_0x231c05=_0x231c05[_0xb74c88(0x1ad)](0x6);else{if(Math[_0xb74c88(0x12a)](_0x231c05)<0x1)_0x231c05=_0x231c05['toFixed'](0x5);else{if(Math[_0xb74c88(0x12a)](_0x231c05)<0xa)_0x231c05=_0x231c05['toFixed'](0x4);else{if(Math[_0xb74c88(0x12a)](_0x231c05)<0x64)_0x231c05=_0x231c05[_0xb74c88(0x1ad)](0x3);else{if(Math['abs'](_0x231c05)<0x3e8)_0x231c05=_0x231c05['toFixed'](0x2);else _0x231c05=_0x231c05['toFixed'](0x2);}}}}}}else _0x231c05=Number('0')[_0xb74c88(0x1ad)](0x2);}else _0x118e71=Number('0')[_0xb74c88(0x1ad)](0x2);return{'value':_0x231c05,'change':_0x118e71,'leftTxt':_0x2cafe0,'rightTxt':_0x278442};}async function getStartingBalances(_0xcddb9,_0x551cda=!![]){const _0x44f79a=_0x2b4dd3;if(_0xcddb9['length']!==0x0){const [_0x3d48ef,_0xd74784,_0x4e3722]=getPerf(_0xcddb9[0x0],!![]);let _0x12b523=[];config[_0x44f79a(0xf2)][_0x44f79a(0x21e)](_0x403cb0=>{const _0x2f8fcd=_0x44f79a;let _0x5d9f8b=0x0,_0xf993b3;config[_0x2f8fcd(0x95)][_0x2f8fcd(0x21e)](_0x3ef0ed=>{const _0x54a8e7=_0x2f8fcd;let _0x21a748=_0x3ef0ed[_0x54a8e7(0x1df)][_0x54a8e7(0x150)](_0x162684=>_0x162684[_0x54a8e7(0xd7)]==_0x403cb0[_0x54a8e7(0xd7)]);if(_0x21a748){_0x5d9f8b+=_0x21a748[_0x54a8e7(0x200)];if(!_0xf993b3)_0xf993b3=_0x21a748['price'];}}),_0x12b523[_0x2f8fcd(0x109)]({'coin':_0x403cb0[_0x2f8fcd(0xd7)],'number':_0x5d9f8b,'initialprice':_0xf993b3});});const _0x32df29={'basecoin':_0x3d48ef,'eur':_0xd74784,'usd':_0x4e3722,'coins':_0x12b523};if(_0x551cda)proxyEmit(_0x44f79a(0xca),_0x32df29);startingBalances=_0x32df29;}}function headlessMode(_0x33719e){const _0x45a8c9=_0x2b4dd3;let _0x42bea0=_0x33719e[_0x45a8c9(0xf2)],_0x24d0fd=_0x33719e[_0x45a8c9(0x1ae)],_0x3846d2=[];for(let _0x812433 of _0x42bea0){if(_0x812433['coin']!=config['basecoin']){if(_0x812433[_0x45a8c9(0x20f)]>=_0x24d0fd/0x64){if(_0x812433[_0x45a8c9(0xc6)])_0x3846d2[_0x45a8c9(0x109)](_0x812433);}else{if(_0x812433[_0x45a8c9(0x20f)]<=-_0x24d0fd/0x64){if(_0x812433['valid'])_0x3846d2['push'](_0x812433);}}}}_0x3846d2['length']>0x0&&(lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&_0x3846d2[_0x45a8c9(0x21e)](_0x23213b=>{const _0x1bbdaf=_0x45a8c9;logger[_0x1bbdaf(0x17e)]('Trigger:\x20'+_0x23213b['coin']+'\x20'+_0x23213b[_0x1bbdaf(0x200)]+'\x20'+_0x23213b[_0x1bbdaf(0xfa)]+'\x20'+_0x23213b[_0x1bbdaf(0x129)]+'%\x20'+_0x23213b[_0x1bbdaf(0x139)]+'%\x20'+(0x64*_0x23213b[_0x1bbdaf(0x20f)])[_0x1bbdaf(0x1ad)](0x2)+_0x1bbdaf(0xda)+_0x24d0fd['toFixed'](0x2)+'%)');}),placeOrder(_0x3846d2));}function notifyBalance(_0xb5963){const _0x55dd19=_0x2b4dd3;let _0x91cede=_0xb5963[_0x55dd19(0xf2)],_0x1f4f10=_0xb5963[_0x55dd19(0x1ae)],_0x11d8b5=[];for(let _0x5b1bcb of _0x91cede){if(_0x5b1bcb['coin']!=config[_0x55dd19(0x184)]){if(_0x5b1bcb[_0x55dd19(0x20f)]>=_0x1f4f10/0x64){if(_0x5b1bcb[_0x55dd19(0xc6)])_0x11d8b5[_0x55dd19(0x109)](_0x5b1bcb);}else{if(_0x5b1bcb['delta']<=-_0x1f4f10/0x64){if(_0x5b1bcb[_0x55dd19(0xc6)])_0x11d8b5['push'](_0x5b1bcb);}}}}if(_0x11d8b5[_0x55dd19(0x10b)]>0x0){let _0x36e93f=_0x11d8b5[_0x55dd19(0xe6)](_0x3a4184=>_0x3a4184[_0x55dd19(0xd7)]);_0x36e93f[_0x55dd19(0x12e)]();let _0x4af59d=_0x36e93f['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x55dd19(0x224),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x4af59d;}}function symbolToCoin(_0x4a91f5){const _0x5258b5=_0x2b4dd3;let _0x5b0d77;if(_0x4a91f5[_0x5258b5(0x10c)]('/'+config['basecoin']))_0x5b0d77=_0x4a91f5[_0x5258b5(0x189)]('/'+config[_0x5258b5(0x184)],'');if(_0x4a91f5[_0x5258b5(0x10c)](config[_0x5258b5(0x184)]+'/'))_0x5b0d77=_0x4a91f5[_0x5258b5(0x189)](config[_0x5258b5(0x184)]+'/','');return _0x5b0d77;}async function unlockOrders(){const _0x4c670a=_0x2b4dd3;if(allOrdersPlaced&&lockOrders==ORDERS[_0x4c670a(0x1da)]){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0xcdfda5=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0xcdfda5,validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger['debug']('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0xa8099e){const _0x453fbe=_0x2b4dd3;if(_0xa8099e)validateOrdersState=_0xa8099e;logger[_0x453fbe(0x17e)](_0x453fbe(0x1f9)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?_0x453fbe(0x21d):lockOrders==0x2?_0x453fbe(0x160):_0x453fbe(0x1bb)));let _0x20db0a=[],_0x51ff94=config['ordertype']==_0x453fbe(0x143)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x453fbe(0x1da)])return;logger['debug'](_0x453fbe(0x1db)+validateOrdersState),lastOrders['forEach'](_0x313044=>{const _0x104f56=_0x453fbe;let _0x45931a=![];_0x313044[_0x104f56(0xbd)]>0x0&&(_0x45931a=!![]),_0x20db0a['push'](_0x45931a),_0x45931a&&config['ordertype']!=_0x104f56(0x143)&&logHistory(_0x104f56(0x204),_0x104f56(0x195)+_0x313044[_0x104f56(0x1cb)]+'\x20'+_0x313044[_0x104f56(0x19a)]+'\x20#'+formatResult(_0x313044[_0x104f56(0xbd)],0x8)+'\x20@'+formatResult(_0x313044[_0x104f56(0x1ef)],0x8));}),_0x20db0a['forEach']((_0x298ec5,_0x53f62b)=>{const _0x50f596=_0x453fbe;if(_0x298ec5)lastOrders[_0x50f596(0x205)](_0x53f62b,0x1);}),persistOpenOrders(lastOrders);const _0x287bc7=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x453fbe(0x8b);if(validateOrdersState=='initial'){validateOrdersState='ongoing';if(_0x20db0a[_0x453fbe(0x10c)](![])){if(config['ordertype']==_0x453fbe(0x143)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x453fbe(0x1b8)){if(_0x20db0a['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x453fbe(0x199)]==_0x453fbe(0x143)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x453fbe(0x135))_0x20db0a[_0x453fbe(0x10c)](![])&&(config[_0x453fbe(0x199)]==_0x453fbe(0x143)?logHistory(_0x453fbe(0x1a2),_0x453fbe(0x1c9)+Math[_0x453fbe(0x16d)](_0x51ff94*validateOrderInterval/0xea60)+_0x453fbe(0x10e)+_0x287bc7):(await cancelOrders(),logHistory(_0x453fbe(0x1a2),_0x453fbe(0x14c)+Math[_0x453fbe(0x16d)](_0x51ff94*validateOrderInterval/0xea60)+_0x453fbe(0x10e)+_0x287bc7))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x453fbe(0x199)]!=_0x453fbe(0x143))logHistory(_0x453fbe(0x1a2),_0x453fbe(0x1d4)+_0x287bc7);await unlockOrders();}}}}}async function cancelOrders(){const _0x23d38e=_0x2b4dd3;lastOrders[_0x23d38e(0x21e)](async _0x29d23a=>{const _0x43dd2e=_0x23d38e;try{const _0x5d6e96=await exchange['cancelOrder'](_0x29d23a['orderId'],_0x29d23a['symbol']);}catch(_0x34d956){if(_0x34d956[_0x43dd2e(0xc1)]()[_0x43dd2e(0x10c)]('OrderNotFound')){}else await handleError(_0x34d956,_0x43dd2e(0x9c));}});}async function initCoinResults(_0x134a83){const _0x1cd1ff=_0x2b4dd3;_0x134a83?logger[_0x1cd1ff(0x17e)]('Resetting\x20coin\x20results:\x20'+_0x134a83):logger[_0x1cd1ff(0x17e)](_0x1cd1ff(0x19f)),config[_0x1cd1ff(0xf2)][_0x1cd1ff(0x21e)](_0x192902=>{const _0x112a62=_0x1cd1ff;if(!_0x192902[_0x112a62(0x21c)]&&_0x192902['coin']!=config[_0x112a62(0x184)]){const _0x16f902=currentCoins[_0x112a62(0x150)](_0x36343f=>_0x36343f['coin']==_0x192902['coin']),_0x215601=global[_0x112a62(0x194)][noslash(_0x192902[_0x112a62(0x1cb)])];let _0x14f514=_0x16f902?_0x16f902[_0x112a62(0x200)]:null,_0x19b929=_0x192902['reverse']?0x1/_0x215601:_0x215601,_0x5cdd9e;config['liquidity']['forEach'](_0x31c42c=>{const _0x5554b5=_0x112a62;!_0x5cdd9e&&(_0x5cdd9e=_0x31c42c[_0x5554b5(0x1df)]['find'](_0x5e7056=>_0x5e7056['coin']==_0x192902[_0x5554b5(0xd7)]),_0x5cdd9e&&(_0x14f514=_0x5cdd9e[_0x5554b5(0x200)],_0x19b929=_0x5cdd9e[_0x5554b5(0x1ef)]));});let _0x16ccec=dbCoinResults[_0x112a62(0xc3)](_0x112a62(0x100))[_0x112a62(0x150)]({'coin':_0x192902['coin']})[_0x112a62(0x1e8)]();if(!_0x16ccec){const _0x123375={'coin':_0x192902[_0x112a62(0xd7)],'number':_0x14f514,'breakeven':_0x19b929,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x112a62(0x100))['push'](_0x123375)['write']();}else{if(_0x134a83&&_0x192902['coin']==_0x134a83){const _0x5f07a8={'coin':_0x192902['coin'],'number':_0x14f514,'breakeven':_0x19b929,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x112a62(0xc3)](_0x112a62(0x100))['find']({'coin':_0x192902[_0x112a62(0xd7)]})['assign'](_0x5f07a8)[_0x112a62(0x1f0)]();}}}});}async function updateCoinResults(_0x1938f4,_0x4a434f=![]){const _0xd606ed=_0x2b4dd3;let _0x49ea63,_0x95d46a,_0x43e113,_0x3f909f,_0x3b3da9,_0x36c278,_0x510fd4=dbCoinResults['get'](_0xd606ed(0x100))[_0xd606ed(0x150)]({'coin':_0x1938f4['coin']})[_0xd606ed(0x1e8)](),_0x298f4c=![];_0x510fd4&&Object['entries'](_0x510fd4)['forEach'](([_0x2e0deb,_0x5e9885])=>{if(_0x5e9885==null)_0x298f4c=!![];});(!_0x510fd4||_0x298f4c)&&(await initCoinResults(_0x1938f4[_0xd606ed(0xd7)]),_0x510fd4=dbCoinResults[_0xd606ed(0xc3)]('coins')[_0xd606ed(0x150)]({'coin':_0x1938f4['coin']})['value']());_0x1938f4[_0xd606ed(0x156)]&&(_0x36c278={'filled':_0x1938f4['filled']*_0x1938f4['price'],'amount':_0x1938f4[_0xd606ed(0xbd)]*_0x1938f4[_0xd606ed(0x1ef)],'side':_0x1938f4['side']=='sell'?_0xd606ed(0x1f5):_0xd606ed(0x1b6),'price':0x1/_0x1938f4[_0xd606ed(0x1ef)]},_0x1938f4={..._0x1938f4,..._0x36c278});_0x4a434f?_0x95d46a=_0x1938f4[_0xd606ed(0x19a)]==_0xd606ed(0x1f5)?_0x510fd4[_0xd606ed(0x200)]+_0x1938f4['filled']:_0x510fd4[_0xd606ed(0x200)]-_0x1938f4[_0xd606ed(0xbd)]:_0x95d46a=await getCoinNumber(_0x1938f4['coin']);if(_0x1938f4[_0xd606ed(0x103)]&&_0x1938f4['fee'][_0xd606ed(0x1ab)]==config['basecoin'])_0x49ea63=Number(_0x1938f4['fee'][_0xd606ed(0x87)]);else{if(_0x1938f4[_0xd606ed(0x103)]&&_0x1938f4[_0xd606ed(0x103)]['currency']==_0xd606ed(0xd3)&&!_0x4a434f&&config[_0xd606ed(0x184)]!='PAXG')_0x49ea63=Number(_0x1938f4[_0xd606ed(0x103)][_0xd606ed(0x87)])*global[_0xd606ed(0x194)]['BNB'+config[_0xd606ed(0x184)]];else _0x49ea63=defaultFee*_0x1938f4[_0xd606ed(0xbd)]*_0x1938f4[_0xd606ed(0x1ef)];}_0x1938f4['side']==_0xd606ed(0x1f5)?(_0x43e113=_0x95d46a!=0x0?(_0x510fd4['breakeven']*_0x510fd4[_0xd606ed(0x200)]+_0x1938f4['price']*(_0x95d46a-_0x510fd4[_0xd606ed(0x200)])+_0x49ea63)/_0x95d46a:0x0,_0x3f909f=_0x510fd4[_0xd606ed(0x1ea)]):(_0x43e113=_0x95d46a!=0x0?(_0x510fd4[_0xd606ed(0x107)]*_0x510fd4[_0xd606ed(0x200)]-_0x1938f4[_0xd606ed(0x1ef)]*(_0x510fd4['number']-_0x95d46a)+_0x49ea63)/_0x95d46a:0x0,_0x3f909f=_0x510fd4[_0xd606ed(0x1ea)]+(_0x1938f4[_0xd606ed(0x1ef)]-_0x510fd4[_0xd606ed(0x107)])*_0x1938f4[_0xd606ed(0xbd)]);_0x3b3da9=(_0x1938f4[_0xd606ed(0x1ef)]-_0x43e113-_0x49ea63/_0x1938f4[_0xd606ed(0xbd)])*_0x95d46a;let _0x39f1db={'coin':_0x1938f4[_0xd606ed(0xd7)],'number':_0x95d46a,'breakeven':formatResult(_0x43e113,0x8),'realized':formatResult(_0x3f909f,0x8),'unrealized':formatResult(_0x3b3da9,0x8),'fees':formatResult(_0x510fd4[_0xd606ed(0xb8)]+_0x49ea63,0x8),'sells':_0x1938f4[_0xd606ed(0x19a)]==_0xd606ed(0x1b6)?_0x510fd4[_0xd606ed(0x11c)]+0x1:_0x510fd4[_0xd606ed(0x11c)],'buys':_0x1938f4[_0xd606ed(0x19a)]==_0xd606ed(0x1f5)?_0x510fd4[_0xd606ed(0xc8)]+0x1:_0x510fd4['buys']};dbCoinResults[_0xd606ed(0xc3)](_0xd606ed(0x100))[_0xd606ed(0x150)]({'coin':_0x1938f4[_0xd606ed(0xd7)]})[_0xd606ed(0x153)](_0x39f1db)[_0xd606ed(0x1f0)]();if(!_0x4a434f){if(_0x1938f4[_0xd606ed(0x103)]&&_0x1938f4[_0xd606ed(0x103)]['currency']==_0xd606ed(0xd3)){const _0x31c3ef=currentCoins[_0xd606ed(0x150)](_0x4e4de0=>_0x4e4de0[_0xd606ed(0xd7)]==_0xd606ed(0xd3));if(_0x31c3ef){let _0x11092c=dbCoinResults['get'](_0xd606ed(0x100))[_0xd606ed(0x150)]({'coin':_0xd606ed(0xd3)})[_0xd606ed(0x1e8)]();_0x39f1db={..._0x11092c,'number':_0x31c3ef['number']},dbCoinResults[_0xd606ed(0xc3)](_0xd606ed(0x100))[_0xd606ed(0x150)]({'coin':_0xd606ed(0xd3)})[_0xd606ed(0x153)](_0x39f1db)[_0xd606ed(0x1f0)]();}}}}async function placeOrder(_0x244321){const _0x4446aa=_0x2b4dd3,_0x37b7d8=config['ordertype']=='market'?_0x4446aa(0x143):_0x4446aa(0x89);if(lockOrders==ORDERS[_0x4446aa(0xac)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x4446aa(0x1da)],allOrdersPlaced=![],validateOrdersState='initial';let _0x2f5227=![];lastOrders=[];for(const _0x429ae2 of _0x244321){let _0xa5d0ab,_0x5ae1ef,_0x27ea05,_0x130475,_0x34683c,_0x33686e=_0x429ae2[_0x4446aa(0x1cb)];try{const _0x2a2741=await exchange['fetchTicker'](_0x33686e);_0xa5d0ab=_0x429ae2['reverse']?0x1/_0x429ae2[_0x4446aa(0xfa)]:_0x429ae2[_0x4446aa(0xfa)],_0x5ae1ef=_0x2a2741[_0x4446aa(0x1fc)],_0x27ea05=_0x2a2741[_0x4446aa(0x1e7)];_0x429ae2[_0x4446aa(0x156)]?(_0x130475=_0x429ae2[_0x4446aa(0x19a)]==_0x4446aa(0x1f5)?_0x4446aa(0x1b6):'buy',_0x34683c=Math[_0x4446aa(0x12a)](_0x429ae2[_0x4446aa(0x1d8)])/_0xa5d0ab):(_0x130475=_0x429ae2['side'],_0x34683c=Math['abs'](_0x429ae2[_0x4446aa(0x1d8)]));_0x37b7d8==_0x4446aa(0x89)&&(config['ordertype']==_0x4446aa(0x13f)&&(_0xa5d0ab=_0x130475==_0x4446aa(0x1f5)?_0x5ae1ef:_0x27ea05),config[_0x4446aa(0x199)]==_0x4446aa(0x165)&&(_0xa5d0ab=_0x130475==_0x4446aa(0x1f5)?_0x27ea05:_0x5ae1ef));_0x34683c=formatResult(_0x34683c,0x8),_0xa5d0ab=formatResult(_0xa5d0ab,0x8);const _0x43e39a=_0x130475=='sell'?config[_0x4446aa(0x1ce)]?String[_0x4446aa(0x215)]('0x'+config[_0x4446aa(0x1ce)])+'\x20':'':config[_0x4446aa(0xee)]?String[_0x4446aa(0x215)]('0x'+config[_0x4446aa(0xee)])+'\x20':'',_0x3ef96d=_0x37b7d8=='market'?_0x4446aa(0xd4):config['ordertype']==_0x4446aa(0x13f)?'Limit\x20(high-margin)':_0x4446aa(0x221),_0x126b2a=(Math['floor'](Math[_0x4446aa(0x1d9)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x4446aa(0x109)]({'customId':_0x126b2a,'symbol':_0x33686e,'coin':_0x429ae2['coin'],'amount':_0x34683c,'price':_0xa5d0ab,'side':_0x130475,'reverse':_0x429ae2[_0x4446aa(0x156)],'filled':0x0});if(_0x37b7d8=='market')logHistory('order',''+_0x43e39a+_0x3ef96d+_0x4446aa(0xb1)+_0x33686e+'\x20'+_0x130475+'\x20#'+formatResult(_0x34683c,0x8)+'\x20@'+formatResult(_0xa5d0ab,0x8));else logHistory(_0x4446aa(0x204),''+_0x43e39a+_0x3ef96d+_0x4446aa(0xb1)+_0x33686e+'\x20'+_0x130475+'\x20#'+formatResult(_0x34683c,0x8)+'\x20@'+formatResult(_0xa5d0ab,0x8));let _0xcd92e4;_0x37b7d8==_0x4446aa(0x143)?_0x130475=='buy'&&[_0x4446aa(0x106),'Bitget',_0x4446aa(0x10a),'Huobi',_0x4446aa(0x11f)][_0x4446aa(0x10c)](config['exchange'])?_0xcd92e4=await exchange['createOrder'](_0x33686e,_0x37b7d8,_0x130475,_0x34683c,_0xa5d0ab):_0xcd92e4=await exchange[_0x4446aa(0x191)](_0x33686e,_0x37b7d8,_0x130475,_0x34683c,undefined):_0xcd92e4=await exchange[_0x4446aa(0x191)](_0x33686e,_0x37b7d8,_0x130475,_0x34683c,_0xa5d0ab);logger[_0x4446aa(0x17e)]('ID:\x20'+_0xcd92e4['id']+_0x4446aa(0x1fd)+_0x126b2a);const _0x35cd69=lastOrders['length']-0x1;if(_0x35cd69>=0x0&&lastOrders[_0x35cd69][_0x4446aa(0xab)]==_0x126b2a){lastOrders[_0x35cd69][_0x4446aa(0x9a)]=_0xcd92e4['id'];if(_0xcd92e4[_0x4446aa(0x120)])lastOrders[_0x35cd69][_0x4446aa(0x120)]=_0xcd92e4[_0x4446aa(0x120)];if(_0xcd92e4['price'])lastOrders[_0x35cd69][_0x4446aa(0x1ef)]=_0xcd92e4[_0x4446aa(0x1ef)];lastOrders[_0x35cd69][_0x4446aa(0x103)]=_0xcd92e4[_0x4446aa(0x103)];}if(config[_0x4446aa(0x12f)]!=0x0){let _0x2e209c=null;if(cooldownTracker[_0x4446aa(0x10b)]==config[_0x4446aa(0x12f)]-0x1)_0x2e209c=cooldownTracker[_0x4446aa(0xcf)]();const _0x3b3c40=getTimeStamp();cooldownTracker[_0x4446aa(0x109)](_0x3b3c40);if(_0x2e209c){const _0x368c9d=fns['differenceInSeconds'](new Date(_0x3b3c40),new Date(_0x2e209c));if(_0x368c9d<cooldownInterval){logHistory(_0x4446aa(0x141),_0x4446aa(0x15a)+config['cooldown']+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x4446aa(0xe4)+cooldownPeriod/(0xe10*0x3e8)+_0x4446aa(0x105)),coolingDown=!![];break;}}}}catch(_0xc4f8ef){if(_0xc4f8ef[_0x4446aa(0xc1)]()['includes'](_0x4446aa(0xb5)))lastOrders=lastOrders['filter'](_0x169ec5=>_0x169ec5[_0x4446aa(0x1cb)]!=_0x33686e),logHistory(_0x4446aa(0x141),_0x4446aa(0x10d)+_0x33686e),_0x2f5227=!![];else{if(_0xc4f8ef[_0x4446aa(0xc1)]()[_0x4446aa(0x10c)](_0x4446aa(0x1be)))lastOrders=lastOrders['filter'](_0x2a3617=>_0x2a3617[_0x4446aa(0x1cb)]!=_0x33686e),logHistory('error',_0x4446aa(0x222)+_0x33686e),_0x2f5227=!![];else{if(_0xc4f8ef['toString']()[_0x4446aa(0x10c)]('InvalidOrder'))lastOrders=lastOrders[_0x4446aa(0x16f)](_0x43c342=>_0x43c342[_0x4446aa(0x1cb)]!=_0x33686e),logHistory('error','Order\x20is\x20invalid:\x20'+_0x33686e),logger[_0x4446aa(0x17e)](_0xc4f8ef),_0x2f5227=!![];else _0xc4f8ef[_0x4446aa(0xc1)]()[_0x4446aa(0x10c)](_0x4446aa(0x1c6))?(lastOrders=lastOrders[_0x4446aa(0x16f)](_0x89d8f0=>_0x89d8f0[_0x4446aa(0x1cb)]!=_0x33686e),logHistory(_0x4446aa(0x141),_0x4446aa(0x10d)+_0x33686e),_0x2f5227=!![]):(lastOrders=lastOrders[_0x4446aa(0x16f)](_0x501fce=>_0x501fce[_0x4446aa(0x1cb)]!=_0x33686e),await handleError(_0xc4f8ef,'placeOrder()',_0x33686e));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x2add40=config[_0x4446aa(0x199)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4446aa(0xa8)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x445fef=_0x4446aa;validateOrders(_0x445fef(0x135));},_0x2add40);}else unlockOrders();_0x2f5227&&config[_0x4446aa(0x173)]&&(logHistory(_0x4446aa(0x141),_0x4446aa(0x9b)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4446aa(0x1a2),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x4446aa(0x173)]&&logHistory(_0x4446aa(0x141),_0x4446aa(0x8a));else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x4446aa(0x173)]&&(config[_0x4446aa(0x199)]==_0x4446aa(0x143)?logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory('error',_0x4446aa(0x1b5))));}}function persistOpenOrders(_0x165eaf){const _0x4d9355=_0x2b4dd3,_0x3abb52={...config,'openOrders':_0x165eaf};let _0xf92450=dbConfig[_0x4d9355(0xc3)]('bot')[_0x4d9355(0x150)]({'botID':botID})[_0x4d9355(0x1e8)]();_0xf92450&&dbConfig['get'](_0x4d9355(0xc0))[_0x4d9355(0x150)]({'botID':botID})[_0x4d9355(0x153)](_0x3abb52)['write']();}function restoreOrders(){const _0x59250c=_0x2b4dd3;let _0xe95e74;config['openOrders']&&allOpenOrders[_0x59250c(0x21e)](_0x4df7f5=>{const _0x4d6f02=_0x59250c,_0x9d0af6=config['openOrders'][_0x4d6f02(0x150)](_0x31cf74=>_0x31cf74[_0x4d6f02(0x9a)]==_0x4df7f5['id']);_0x9d0af6&&(lastOrders[_0x4d6f02(0x109)](_0x9d0af6),_0xe95e74=_0x4df7f5[_0x4d6f02(0xd8)]);});if(lastOrders[_0x59250c(0x10b)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x59250c(0x1b8),allOrdersPlaced=!![];const _0x20fe8f=new Date()[_0x59250c(0x174)](),_0x2bf498=config['ordertype']==_0x59250c(0x143)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0xe95e74+_0x2bf498>_0x20fe8f){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5eced7=_0x59250c;validateOrders(_0x5eced7(0x135));},_0xe95e74+_0x2bf498-_0x20fe8f);}else validateOrders(_0x59250c(0x135));}}async function sendMetricsTelegram(){const _0x50c02f=_0x2b4dd3;if(!coinsLoaded){process[_0x50c02f(0x180)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x398e6e=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x452f52='';if(config['showname'])_0x452f52=_0x50c02f(0x168)+config['botname']+'\x20metrics:</b>\x20\x0a\x0a';else _0x452f52=_0x50c02f(0x164)+botID+_0x50c02f(0x117);const _0x42f3a6=getKPIs('basecoin'),_0x502b22=getKPIs(_0x50c02f(0xd9),config[_0x50c02f(0xd9)]),_0x522e3c=getKPIs('net-basecoin'),_0x2b99f6=getKPIs('net-fiat',config[_0x50c02f(0xd9)]);_0x452f52+=_0x50c02f(0x16b),_0x452f52+=_0x42f3a6[_0x50c02f(0x138)]+_0x50c02f(0x1e0)+_0x42f3a6[_0x50c02f(0x1e8)]+'\x0a',_0x452f52+=_0x42f3a6[_0x50c02f(0xa5)]+':\x20'+_0x42f3a6[_0x50c02f(0x122)]+'%\x0a',_0x452f52+=_0x502b22[_0x50c02f(0x138)]+'\x20:\x20'+_0x502b22['value']+'\x0a',_0x452f52+=_0x502b22[_0x50c02f(0xa5)]+':\x20'+_0x502b22[_0x50c02f(0x122)]+'%\x0a',_0x452f52+=_0x522e3c[_0x50c02f(0x138)]+':\x20'+_0x522e3c[_0x50c02f(0x1e8)]+'\x20('+config[_0x50c02f(0x184)]+')\x0a',_0x452f52+=_0x522e3c[_0x50c02f(0xa5)]+':\x20'+_0x522e3c[_0x50c02f(0x122)]+_0x50c02f(0xda)+config[_0x50c02f(0x184)]+')\x0a',_0x452f52+=_0x2b99f6[_0x50c02f(0x138)]+':\x20'+_0x2b99f6[_0x50c02f(0x1e8)]+'\x20('+config['fiat']+')\x0a',_0x452f52+=_0x2b99f6[_0x50c02f(0xa5)]+':\x20'+_0x2b99f6[_0x50c02f(0x122)]+_0x50c02f(0xda)+config[_0x50c02f(0xd9)]+')\x0a',_0x452f52+=_0x50c02f(0x91),process[_0x50c02f(0x180)]({'telegrammsg':_0x452f52},_0x581d38=>{});}async function sendPortfolioTelegram(){const _0x45023e=_0x2b4dd3;if(!coinsLoaded||!currentCoins[0x0][_0x45023e(0x129)]){process[_0x45023e(0x180)]({'telegrammsg':_0x45023e(0x20b)},_0x5a6949=>{});return;}let _0x237bae='';if(config[_0x45023e(0x1e5)])_0x237bae=_0x45023e(0x168)+config['botname']+_0x45023e(0x1a6);else _0x237bae=_0x45023e(0x164)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x237bae+=_0x45023e(0x16b),_0x237bae+=_0x45023e(0x119),_0x237bae+=_0x45023e(0x1d0),_0x237bae+=_0x45023e(0x119),currentCoins[_0x45023e(0x21e)](_0x493bad=>{const _0x1ebe9c=_0x45023e;_0x237bae+=_0x493bad['coin'][_0x1ebe9c(0x1f3)](0x7)+'|\x20'+formatPad(_0x493bad['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x493bad[_0x1ebe9c(0x139)],0x2,0x6)+'|\x20'+formatPad(_0x493bad['delta']*0x64,0x2,0x6)+'\x0a';}),_0x237bae+='</pre>',process[_0x45023e(0x180)]({'telegrammsg':_0x237bae},_0x2d3f13=>{});}function formatPad(_0x5ab8e5,_0x107a5a,_0x50eca5){const _0xf14313=_0x2b4dd3,_0x4db77c=formatResultString(_0x5ab8e5,_0x107a5a);return _0x4db77c?_0x4db77c[_0xf14313(0x116)](_0x50eca5):''[_0xf14313(0x116)](_0x50eca5);}function logHistory(_0x5f29b5,_0xc33643,_0x566362=''){const _0x2f0a91=_0x2b4dd3;logger[_0x2f0a91(0x181)](''+_0xc33643);let _0x44c9ad={'time':getTimeStamp(),'type':_0x5f29b5,'event':_0xc33643};dbLogs[_0x2f0a91(0xc3)](_0x2f0a91(0x1f8))[_0x2f0a91(0x109)](_0x44c9ad)[_0x2f0a91(0x1f0)]();if(_0x566362=='')_0x566362=_0xc33643;proxyEmit(_0x2f0a91(0xe9),{'log':_0x44c9ad,'summary':_0x566362}),process['send']({'telegram':{..._0x44c9ad,'botname':config['botname'],'showname':config[_0x2f0a91(0x1e5)]}},_0x531cb7=>{});}function emitHistory(_0x44e0d7={}){const _0x5e5dd4=_0x2b4dd3;Object['keys'](_0x44e0d7)[_0x5e5dd4(0x10b)]==0x0&&(_0x44e0d7={'type':[_0x5e5dd4(0x204),'event'],'event':'','page':0x1});if(_0x44e0d7[_0x5e5dd4(0x84)][_0x5e5dd4(0x10c)](_0x5e5dd4(0xe9)))_0x44e0d7[_0x5e5dd4(0x84)][_0x5e5dd4(0x205)](_0x44e0d7[_0x5e5dd4(0x84)][_0x5e5dd4(0x14e)]('event'),0x1,_0x5e5dd4(0x141),_0x5e5dd4(0x224),'success');if(dbLogs[_0x5e5dd4(0xd0)]('logs')['value']()){let _0xdef82d=dbLogs[_0x5e5dd4(0xc3)]('logs')[_0x5e5dd4(0x16f)](_0x14345c=>{const _0x1c2a99=_0x5e5dd4;if(_0x44e0d7['type'][_0x1c2a99(0x10b)]==0x0)return![];else return _0x44e0d7[_0x1c2a99(0x84)][_0x1c2a99(0x10c)](_0x14345c[_0x1c2a99(0x84)]);})[_0x5e5dd4(0x16f)](_0x4d360c=>{const _0x458928=_0x5e5dd4;if(_0x44e0d7['event']=='')return!![];else return _0x4d360c[_0x458928(0xe9)][_0x458928(0xb0)]()[_0x458928(0x10c)](_0x44e0d7[_0x458928(0xe9)]['toLowerCase']());})[_0x5e5dd4(0xb7)](_0x5e5dd4(0x15f)),_0x57e81c=_0xdef82d[_0x5e5dd4(0x1e8)]()[_0x5e5dd4(0x10b)];_0xdef82d=_0xdef82d[_0x5e5dd4(0x156)]()[_0x5e5dd4(0xad)]((_0x44e0d7[_0x5e5dd4(0x1b3)]-0x1)*logPageSize,_0x44e0d7[_0x5e5dd4(0x1b3)]*logPageSize-0x1)[_0x5e5dd4(0x156)]()[_0x5e5dd4(0x1e8)](),proxyEmit(_0x5e5dd4(0x104),{'logs':_0xdef82d,'total':_0x57e81c});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x26ab2e){const _0x109914=_0x2b4dd3;if(dbLogs[_0x109914(0xd0)](_0x109914(0x1f8))['value']()){const _0x3d6779=dbLogs['get'](_0x109914(0x1f8))[_0x109914(0xb7)](_0x109914(0x15f))[_0x109914(0x16f)](_0xd2592f=>{const _0x31491f=_0x109914;return _0xd2592f[_0x31491f(0x84)]==_0x31491f(0x204);})['value']();dbLogs[_0x109914(0xc3)](_0x109914(0x1f8))[_0x109914(0x1ff)]()['write'](),dbLogs[_0x109914(0xc3)](_0x109914(0x1f8))[_0x109914(0x153)](_0x3d6779)[_0x109914(0x1f0)](),emitHistory(_0x26ab2e);}}async function pauseBot(_0x2e8f00=pauseBotInterval){const _0x9d3ce4=_0x2b4dd3,_0x291c3e=new Date()['getTime']();if(!lastErrorShown||_0x291c3e-lastErrorShown>=_0x2e8f00){lastErrorShown=_0x291c3e;!lastBotPause?(lastBotPause=_0x291c3e,consecutivePauses=0x1):(_0x291c3e-lastBotPause-_0x2e8f00<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x9d3ce4(0x180)]({'stop':_0x9d3ce4(0x132)},_0x44710a=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x2e8f00),botPaused=![],reset(!![]);}}}async function killBot(){const _0x343e76=_0x2b4dd3;botPaused=!![],await sleep(0x3e8),process[_0x343e76(0x180)]({'stop':'kill'},_0x2639bf=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x22a33e,_0x593ff0){const _0x1fcec5=_0x2b4dd3;if(botPaused)return;const _0x2291b3=config[_0x1fcec5(0x1b7)]||_0x1fcec5(0x172);if(_0x593ff0)logger[_0x1fcec5(0x17e)](_0x1fcec5(0x1de)+_0x593ff0);const _0xf3bacd=()=>{const _0x41cefe=_0x1fcec5;loading[_0x41cefe(0x141)]=!![],emitLoadingProgress();};if(_0x22a33e[_0x1fcec5(0xc1)]()[_0x1fcec5(0x10c)]('API-key\x20format\x20invalid'))logHistory(_0x1fcec5(0x141),_0x2291b3+_0x1fcec5(0xdd)),_0xf3bacd();else{if(_0x22a33e[_0x1fcec5(0xc1)]()[_0x1fcec5(0x10c)](_0x1fcec5(0xa9)))logHistory(_0x1fcec5(0x141),_0x2291b3+_0x1fcec5(0x1f6)),_0xf3bacd();else _0x22a33e[_0x1fcec5(0xc1)]()[_0x1fcec5(0x10c)](_0x1fcec5(0x20c))?(logHistory(_0x1fcec5(0x141),_0x2291b3+_0x1fcec5(0x1fb)),logHistory(_0x1fcec5(0x141),_0x1fcec5(0xb6)),_0xf3bacd()):await handleError(_0x22a33e,null);}}async function handleError(_0x1f4c9f,_0x19a1af,_0x129688=''){const _0x2c9dd7=_0x2b4dd3;if(botPaused)return;const _0x4f6b81=config[_0x2c9dd7(0x1b7)]||'Exchange';if(_0x19a1af)logger[_0x2c9dd7(0x17e)]('Exception\x20thrown\x20in\x20'+_0x19a1af);if(_0x1f4c9f[_0x2c9dd7(0xc1)]()['includes'](_0x2c9dd7(0xf3)))logHistory(_0x2c9dd7(0x141),_0x4f6b81+_0x2c9dd7(0xcd)+pauseBotMsg),logger[_0x2c9dd7(0x17e)](_0x2c9dd7(0x101),_0x1f4c9f),await pauseBot();else{if(_0x1f4c9f['toString']()[_0x2c9dd7(0x10c)](_0x2c9dd7(0x21a)))logHistory(_0x2c9dd7(0x141),_0x4f6b81+_0x2c9dd7(0x19e)+pauseBotMsg),logger[_0x2c9dd7(0x17e)](_0x2c9dd7(0x101),_0x1f4c9f),await pauseBot();else{if(_0x1f4c9f[_0x2c9dd7(0xc1)]()['includes']('ExchangeNotAvailable')||_0x1f4c9f[_0x2c9dd7(0xc1)]()[_0x2c9dd7(0x10c)](_0x2c9dd7(0x14a)))logHistory(_0x2c9dd7(0x141),_0x4f6b81+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)'+pauseBotMsg),await pauseBot();else{if(_0x1f4c9f[_0x2c9dd7(0xc1)]()[_0x2c9dd7(0x10c)](_0x2c9dd7(0x175)))logHistory(_0x2c9dd7(0x141),_0x4f6b81+_0x2c9dd7(0xb4)+pauseBotMsg),logger['debug'](_0x2c9dd7(0x101),_0x1f4c9f),await pauseBot();else{if(_0x1f4c9f['toString']()[_0x2c9dd7(0x10c)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))logHistory(_0x2c9dd7(0x141),_0x4f6b81+_0x2c9dd7(0xfb)+pauseBotMsg),logger['debug'](_0x2c9dd7(0x101),_0x1f4c9f),await pauseBot();else{if(_0x1f4c9f[_0x2c9dd7(0xc1)]()[_0x2c9dd7(0xb0)]()[_0x2c9dd7(0x10c)](_0x2c9dd7(0xd8))||_0x1f4c9f['toString']()['toLowerCase']()['includes'](_0x2c9dd7(0x1c1)))logHistory(_0x2c9dd7(0x141),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'+pauseBotMsg),logger[_0x2c9dd7(0x17e)](_0x2c9dd7(0x101),_0x1f4c9f[_0x2c9dd7(0xc1)]()),await pauseBot();else{if(_0x1f4c9f['toString']()[_0x2c9dd7(0x10c)](_0x2c9dd7(0x162)))logHistory(_0x2c9dd7(0x141),_0x4f6b81+_0x2c9dd7(0xd6)+pauseBotMsg),logger[_0x2c9dd7(0x17e)](_0x2c9dd7(0x101),_0x1f4c9f),await pauseBot();else{if(_0x1f4c9f instanceof ccxt[_0x2c9dd7(0x11b)])logHistory('error',_0x4f6b81+_0x2c9dd7(0x201)+pauseBotMsg),logger[_0x2c9dd7(0x17e)]('Error\x20details:',_0x1f4c9f),await pauseBot();else{if(_0x1f4c9f[_0x2c9dd7(0xc1)]()[_0x2c9dd7(0x10c)]('API-key\x20format\x20invalid'))logHistory(_0x2c9dd7(0x141),_0x4f6b81+_0x2c9dd7(0x94)),logHistory(_0x2c9dd7(0x141),_0x2c9dd7(0x209)),await killBot();else{if(_0x1f4c9f['toString']()[_0x2c9dd7(0x10c)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x4f6b81+_0x2c9dd7(0x1d2)),logHistory('error',_0x2c9dd7(0x209)),await killBot();else{if(_0x1f4c9f[_0x2c9dd7(0xc1)]()['includes'](_0x2c9dd7(0x20c)))logHistory(_0x2c9dd7(0x141),_0x4f6b81+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error',_0x2c9dd7(0x209)),await killBot();else{if(_0x1f4c9f[_0x2c9dd7(0xc1)]()['includes'](_0x2c9dd7(0xec)))logHistory(_0x2c9dd7(0x141),_0x4f6b81+_0x2c9dd7(0x193)),logHistory(_0x2c9dd7(0x141),_0x2c9dd7(0x209)),await killBot();else{if(_0x1f4c9f[_0x2c9dd7(0xc1)]()[_0x2c9dd7(0x10c)](_0x2c9dd7(0x13e)))logHistory(_0x2c9dd7(0x141),_0x2c9dd7(0x213)+_0x129688);else{if(_0x1f4c9f instanceof ccxt['ExchangeError']){logHistory(_0x2c9dd7(0x141),_0x4f6b81+_0x2c9dd7(0xdb)),logger[_0x2c9dd7(0x17e)](_0x2c9dd7(0x101),_0x1f4c9f);if(_0x129688)logger[_0x2c9dd7(0x17e)](_0x2c9dd7(0x144)+_0x129688);}else{logHistory(_0x2c9dd7(0x141),_0x2c9dd7(0x142)+pauseBotMsg),logger[_0x2c9dd7(0x17e)](_0x2c9dd7(0x101),_0x1f4c9f);if(_0x129688)logger[_0x2c9dd7(0x17e)](_0x2c9dd7(0x144)+_0x129688);await pauseBot();}}}}}}}}}}}}}}}async function withRetry(_0x46c034,_0x2f9a68){const _0x27d90e=_0x2b4dd3;let _0x51a178=![],_0x314763=0x0,_0xcac301,_0x34e16f;while(_0x314763<maxRetries){try{_0xcac301=await _0x2f9a68();break;}catch(_0x207aa4){_0x34e16f=_0x207aa4,!_0x51a178?(_0x51a178=!![],logger[_0x27d90e(0x17e)](_0x27d90e(0x1ba)+_0x46c034+':',_0x207aa4[_0x27d90e(0xc1)]())):await sleep(retryInterval);}_0x314763++;}if(_0x314763==0x0)return _0xcac301;if(_0x314763>=maxRetries)throw _0x34e16f;else return logger[_0x27d90e(0x17e)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x314763+_0x27d90e(0x1d6)),_0xcac301;}function formatResult(_0x4e8464,_0x39b9da){const _0xed2e57=_0x2b4dd3;return parseFloat(_0x4e8464[_0xed2e57(0x1ad)](_0x39b9da));}function formatResultTruncate(_0xe9c8ad,_0x4e0dde){const _0x4b96b1=_0x2b4dd3;let _0x5762aa=formatResultString(_0xe9c8ad,0xa),_0x21426e=_0x5762aa[_0x4b96b1(0x14e)]('.');return _0x21426e!=-0x1&&(_0x5762aa=_0x5762aa[_0x4b96b1(0xad)](0x0,_0x21426e+_0x4e0dde+0x1)),Number(_0x5762aa);}function formatResultString(_0x2d21fb,_0x379de0){const _0x293fde=_0x2b4dd3;let _0x36060a;if(!(''+_0x2d21fb)[_0x293fde(0x10c)]('e'))_0x36060a=+(Math[_0x293fde(0x16d)](_0x2d21fb+'e+'+_0x379de0)+'e-'+_0x379de0);else{let _0x1e8ed5=(''+_0x2d21fb)[_0x293fde(0xe2)]('e'),_0xd88d2e='';+_0x1e8ed5[0x1]+_0x379de0>0x0&&(_0xd88d2e='+'),_0x36060a=+(Math[_0x293fde(0x16d)](+_0x1e8ed5[0x0]+'e'+_0xd88d2e+(+_0x1e8ed5[0x1]+_0x379de0))+'e-'+_0x379de0);}return Number(_0x36060a)['toFixed'](_0x379de0);}function getServerTime(){const _0xd24a86=_0x2b4dd3,_0x269da2=new Date();return _0x269da2[_0xd24a86(0x154)]()+'/'+(_0x269da2[_0xd24a86(0xa3)]()+0x1)[_0xd24a86(0xc1)]()[_0xd24a86(0x116)](0x2,'0')+'/'+_0x269da2[_0xd24a86(0x1f1)]()['toString']()[_0xd24a86(0x116)](0x2,'0')+'\x20'+_0x269da2[_0xd24a86(0xa6)]()[_0xd24a86(0xc1)]()[_0xd24a86(0x116)](0x2,'0')+':'+_0x269da2['getMinutes']()[_0xd24a86(0xc1)]()['padStart'](0x2,'0')+':'+_0x269da2[_0xd24a86(0x134)]()[_0xd24a86(0xc1)]()[_0xd24a86(0x116)](0x2,'0');}function getTimeStamp(){const _0x5a1875=_0x2b4dd3,_0x448f66=shiftedTime();return _0x448f66[_0x5a1875(0x154)]()+'/'+(_0x448f66[_0x5a1875(0xa3)]()+0x1)[_0x5a1875(0xc1)]()[_0x5a1875(0x116)](0x2,'0')+'/'+_0x448f66[_0x5a1875(0x1f1)]()[_0x5a1875(0xc1)]()[_0x5a1875(0x116)](0x2,'0')+'\x20'+_0x448f66[_0x5a1875(0xa6)]()[_0x5a1875(0xc1)]()[_0x5a1875(0x116)](0x2,'0')+':'+_0x448f66[_0x5a1875(0x1d5)]()[_0x5a1875(0xc1)]()[_0x5a1875(0x116)](0x2,'0')+':'+_0x448f66['getSeconds']()[_0x5a1875(0xc1)]()[_0x5a1875(0x116)](0x2,'0');}function getDate(){const _0x25eeae=_0x2b4dd3,_0x1ae31c=shiftedTime();return _0x1ae31c['getFullYear']()+'/'+(_0x1ae31c['getMonth']()+0x1)['toString']()[_0x25eeae(0x116)](0x2,'0')+'/'+_0x1ae31c['getDate']()[_0x25eeae(0xc1)]()[_0x25eeae(0x116)](0x2,'0');}function getHour(){const _0x5932d9=_0x2b4dd3,_0x4075b6=shiftedTime();return _0x4075b6['getHours']()['toString']()[_0x5932d9(0x116)](0x2,'0');}function sleep(_0x219a3a){return new Promise(_0x303dcc=>setTimeout(_0x303dcc,_0x219a3a));}function shiftedTime(){const _0x58e427=_0x2b4dd3,_0xfe0914=new Date();let _0x34d6d9=_0xfe0914;if(config&&config[_0x58e427(0x17c)]!==0x0)_0x34d6d9=fns[_0x58e427(0xfd)](_0xfe0914,{'hours':config['timeshift']});return _0x34d6d9;}function timer(_0x11734d){const _0x39f8c0=_0x2b4dd3,_0x16f07b=new Date();!lasttime?console[_0x39f8c0(0x19b)](getTimeStamp()+_0x39f8c0(0x19d),_0x11734d,_0x16f07b):console['log'](getTimeStamp()+_0x39f8c0(0x19d),_0x11734d,(_0x16f07b-lasttime)/0x3e8),lasttime=_0x16f07b;}