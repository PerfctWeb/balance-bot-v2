const _0x48b13c=_0x579c;(function(_0x21b697,_0x380ca7){const _0x6e015=_0x579c,_0x332fdc=_0x21b697();while(!![]){try{const _0x2eb960=-parseInt(_0x6e015(0xaa))/0x1+-parseInt(_0x6e015(0x1bf))/0x2+-parseInt(_0x6e015(0x181))/0x3+parseInt(_0x6e015(0x135))/0x4+parseInt(_0x6e015(0xea))/0x5*(-parseInt(_0x6e015(0x1c3))/0x6)+-parseInt(_0x6e015(0x21e))/0x7+-parseInt(_0x6e015(0x219))/0x8*(-parseInt(_0x6e015(0x1f0))/0x9);if(_0x2eb960===_0x380ca7)break;else _0x332fdc['push'](_0x332fdc['shift']());}catch(_0xa78191){_0x332fdc['push'](_0x332fdc['shift']());}}}(_0x2fff,0xa766f));const _0x2ccb7c=function(){let _0x1bf9f1=!![];return function(_0xdf61ff,_0x2a5623){const _0x5bac36=_0x1bf9f1?function(){const _0x4e90f4=_0x579c;if(_0x2a5623){const _0xbe3fc2=_0x2a5623[_0x4e90f4(0x1ba)](_0xdf61ff,arguments);return _0x2a5623=null,_0xbe3fc2;}}:function(){};return _0x1bf9f1=![],_0x5bac36;};}(),_0x36b39e=_0x2ccb7c(this,function(){const _0x1298bf=_0x579c;return _0x36b39e['toString']()['search'](_0x1298bf(0x13c))[_0x1298bf(0xcf)]()[_0x1298bf(0x1a0)](_0x36b39e)[_0x1298bf(0x1ea)](_0x1298bf(0x13c));});_0x36b39e();'use strict';const ccxt=require(_0x48b13c(0x168))[_0x48b13c(0xdc)],low=require(_0x48b13c(0x1f2)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x48b13c(0xb3)),Crypt=require(_0x48b13c(0x18a))[_0x48b13c(0x1ab)],util=require(_0x48b13c(0x1f7)),argv=require(_0x48b13c(0xfc))(process[_0x48b13c(0x152)]['slice'](0x2))[_0x48b13c(0x152)],path=require(_0x48b13c(0xf7));let exchange;global[_0x48b13c(0x16a)]={},global['change']={};const exceptions={'binance':['DAI/',_0x48b13c(0x189),_0x48b13c(0x1bc),'NANO/','YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x48b13c(0x217)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x48b13c(0xe3)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require('./version.json')[_0x48b13c(0x20b)],botID=process['argv'][0x2]||_0x48b13c(0xce),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console['log'](_0x48b13c(0xdd)+botID+_0x48b13c(0x127)),killBot());const userID=process[_0x48b13c(0x152)][0x3]||'',configpath=userID?_0x48b13c(0x1bb)+userID+'/':_0x48b13c(0x1bb),logspath=userID?_0x48b13c(0x17e)+userID+'/':_0x48b13c(0x17e),loggerfile=fs['createWriteStream'](logspath+_0x48b13c(0x167),{'flags':'a'});!fs[_0x48b13c(0xc5)](configpath)&&fs[_0x48b13c(0x173)](configpath);!fs[_0x48b13c(0xc5)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0x48b13c(0x165)+botID+_0x48b13c(0xbd),logfile=configpath+_0x48b13c(0x165)+botID+_0x48b13c(0x110),performancefile=configpath+_0x48b13c(0x165)+botID+_0x48b13c(0x201),coinresultsfile=configpath+_0x48b13c(0x165)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x48b13c(0x1be)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x48b13c(0x116)]({'data':[],'version':serverversion})[_0x48b13c(0x1be)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x48b13c(0x1be)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x48b13c(0x116)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x48b13c(0xdb),'rsaStandard':_0x48b13c(0x176)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x32918c=>{const _0xa0cca1=_0x48b13c;console[_0xa0cca1(0x1d9)](_0x32918c);},'simple':_0x40103d=>{const _0x3dbc9d=_0x48b13c;console[_0x3dbc9d(0x1d9)](_0x40103d),loggerfile[_0x3dbc9d(0x1be)](util[_0x3dbc9d(0x17a)](_0x40103d)+'\x0a');},'full':async(_0x1bb058,_0x3b5587='')=>{const _0x5afbcc=_0x48b13c;let _0x24228c;if(config[_0x5afbcc(0x10c)])_0x24228c=getTimeStamp()+':\x20'+config['botname']+_0x5afbcc(0x20a)+_0x1bb058;else _0x24228c=getTimeStamp()+_0x5afbcc(0x1f1)+botID+_0x5afbcc(0x20a)+_0x1bb058;console[_0x5afbcc(0x1d9)](_0x24228c),loggerfile['write'](util['format'](_0x24228c)+'\x0a'),_0x3b5587&&(console[_0x5afbcc(0x1d9)](_0x3b5587),loggerfile['write'](util[_0x5afbcc(0x17a)](_0x3b5587)+'\x0a'));},'debug':async(_0x30c247,_0x582e44='')=>{const _0xd583a6=_0x48b13c;let _0xc91fbe;if(config[_0xd583a6(0x10c)])_0xc91fbe=getTimeStamp()+':\x20'+config[_0xd583a6(0xb1)]+_0xd583a6(0x11a)+_0x30c247;else _0xc91fbe=getTimeStamp()+_0xd583a6(0x1f1)+botID+_0xd583a6(0x11a)+_0x30c247;if(debugging)console[_0xd583a6(0x1d9)](_0xc91fbe);loggerfile[_0xd583a6(0x1be)](util[_0xd583a6(0x17a)](_0xc91fbe)+'\x0a');if(_0x582e44){if(debugging)console['log'](_0x582e44);loggerfile[_0xd583a6(0x1be)](util[_0xd583a6(0x17a)](_0x582e44)+'\x0a');}}};process['on'](_0x48b13c(0xd4),function(_0x5dcdb0){const _0x3952c1=_0x48b13c;logger[_0x3952c1(0xac)](_0x5dcdb0);});settings['timeshift']!=config[_0x48b13c(0x14b)]&&updateTimeshift(settings[_0x48b13c(0x14b)]);settings[_0x48b13c(0x138)]!=config[_0x48b13c(0x138)]&&updateOnepagemode(settings[_0x48b13c(0x138)]);process['send']({'started':_0x48b13c(0x1ec)},_0x17f24d=>{}),initializeProcessListeners();function proxyEmit(_0x526ab4,_0x20003f=null){const _0x458f2d=_0x48b13c;process[_0x458f2d(0xeb)]({'function':_0x526ab4,'args':_0x20003f},_0x2f357b=>{});}function initializeProcessListeners(){const _0x41ecb3=_0x48b13c;process['on'](_0x41ecb3(0x218),_0x5a4576=>{const _0x1a2689=_0x41ecb3;switch(Object['keys'](_0x5a4576)[0x0]){case _0x1a2689(0x14b):_0x5a4576[_0x1a2689(0x14b)]!=undefined&&(settings[_0x1a2689(0x14b)]=_0x5a4576[_0x1a2689(0x14b)],updateTimeshift(settings[_0x1a2689(0x14b)]));break;case'onepagemode':_0x5a4576[_0x1a2689(0x138)]!=undefined&&(settings[_0x1a2689(0x138)]=_0x5a4576[_0x1a2689(0x138)],updateOnepagemode(settings['onepagemode']));break;case _0x1a2689(0xf4):_0x5a4576['bots']!=undefined&&(bots=JSON['parse'](_0x5a4576[_0x1a2689(0xf4)]),proxyEmit('bots',bots));break;case _0x1a2689(0x1e5):switch(_0x5a4576[_0x1a2689(0x1e5)]){case _0x1a2689(0x10f):initclient();break;case _0x1a2689(0xe7):toggleBotMode();break;case _0x1a2689(0xe5):emitHistory(_0x5a4576[_0x1a2689(0x12e)]);break;case _0x1a2689(0x118):deleteHistoryAlerts(_0x5a4576[_0x1a2689(0x12e)]);break;case'getPortfolio':getPortfolio(_0x5a4576['args']);break;case _0x1a2689(0x124):storeConfiguration(_0x5a4576['args']);break;case _0x1a2689(0xb6):storeHeadless(_0x5a4576[_0x1a2689(0x12e)]);break;case'storeFiat':storeFiat(_0x5a4576[_0x1a2689(0x12e)]);break;case'resetHistory':resetHistory();break;case _0x1a2689(0x102):getStartingBalances(getNormalizedPerformance());break;case _0x1a2689(0x19c):placeOrder(_0x5a4576[_0x1a2689(0x12e)]);break;case _0x1a2689(0x180):cancelLoading();break;case _0x1a2689(0xad):showConfig();break;case _0x1a2689(0x1fc):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x545f65=null,_0x2cf668=![]){const _0x55f920=_0x48b13c;logger['debug'](_0x55f920(0xcb)+(_0x545f65&&_0x545f65['length']>0x0?'additional\x20symbols\x20'+_0x545f65[_0x55f920(0xb8)](','):_0x55f920(0xef))+_0x55f920(0x1fd)+(_0x2cf668?_0x55f920(0x15c):_0x55f920(0x179)));if(pidBalances)clearTimeout(pidBalances);if(!_0x2cf668)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config[_0x55f920(0xb7)]!='***'){if(_0x2cf668){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x414bf8){if(_0x414bf8[_0x55f920(0xcf)]()[_0x55f920(0xab)](_0x55f920(0x1c9))){handleErrorNoStop(_0x414bf8,'loadSymbols()');return;}else{handleError(_0x414bf8,_0x55f920(0xc2));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x545f65);const _0xa2c9ed=await getCoins();[currentCoins,currentCoinsAll]=_0xa2c9ed,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x55f920(0x1c6)]==0x0&&allOpenOrders[_0x55f920(0x1c6)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x892cd=_0x48b13c;exchangeStopped=!![],await exchange[_0x892cd(0x1b2)]();}async function reloadExchange(){const _0x17f939=_0x48b13c;logger[_0x17f939(0x147)](_0x17f939(0x103));while(lockOrders!=ORDERS[_0x17f939(0xe3)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x17f939(0x147)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x3d32b3=config['exchange'],_0x30f3f2=config['apiKey'],_0x74e1b=config[_0x48b13c(0x104)]){const _0x830663=_0x48b13c;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x3d32b3)&&(logHistory(_0x830663(0x12a),_0x830663(0x108)+_0x3d32b3+'\x20exchange'),killBot());const _0x1b3457=ccxt[_0x3d32b3['toLowerCase']()];exchange=new _0x1b3457({'apiKey':_0x30f3f2,'secret':_0x74e1b,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x11b3cc=_0x48b13c;let _0x4c0e5d=config[_0x11b3cc(0x20d)]==_0x11b3cc(0xec)?'ETH':_0x11b3cc(0x1b5),_0x672d86=!allSymbols['includes'](_0x4c0e5d+_0x11b3cc(0x143))?'USDT':_0x11b3cc(0xee),_0x56df60=!allSymbols[_0x11b3cc(0xab)](_0x4c0e5d+_0x11b3cc(0x11d))?_0x672d86:_0x11b3cc(0x169);stablecoins={'eur':{'coin':''+_0x4c0e5d+_0x56df60,'symbol':_0x4c0e5d+'/'+_0x56df60},'usd':{'coin':''+_0x4c0e5d+_0x672d86,'symbol':_0x4c0e5d+'/'+_0x672d86}};}async function initwsCcxt(_0x30f5e4){const _0x157f36=_0x48b13c;_0x30f5e4==null&&(_0x30f5e4=[],config[_0x157f36(0xd1)][_0x157f36(0xfa)](_0x24fe78=>{const _0x3984b3=_0x157f36;if(!_0x24fe78[_0x3984b3(0x1eb)]&&_0x24fe78['coin']!=config['basecoin'])_0x30f5e4[_0x3984b3(0xde)](_0x24fe78[_0x3984b3(0x151)]);}));if(!_0x30f5e4[_0x157f36(0xab)](stablecoins['eur'][_0x157f36(0x151)]))_0x30f5e4['push'](stablecoins[_0x157f36(0x14c)][_0x157f36(0x151)]);if(!_0x30f5e4[_0x157f36(0xab)](stablecoins[_0x157f36(0xf9)][_0x157f36(0x151)]))_0x30f5e4['push'](stablecoins[_0x157f36(0xf9)]['symbol']);if(!_0x30f5e4[_0x157f36(0xab)](_0x157f36(0x20e)+config['basecoin']))_0x30f5e4[_0x157f36(0xde)](_0x157f36(0x20e)+config['basecoin']);loadCoins(_0x30f5e4);const _0x8e377=async _0x262979=>{const _0x1bca07=_0x157f36,_0x5f42f9=await exchange[_0x1bca07(0x1f4)](_0x262979);global['ticker'][noslash(_0x5f42f9[_0x1bca07(0x151)])]=_0x5f42f9['last'];while(!![]){if(!botPaused)try{const _0x403e04=await exchange[_0x1bca07(0x194)](_0x262979);global[_0x1bca07(0x16a)][noslash(_0x403e04[0x0][_0x1bca07(0x151)])]=_0x403e04[0x0][_0x1bca07(0x1b4)],await sleep(0x3e8);}catch(_0x394d74){if(!exchangeStopped)await handleError(_0x394d74,'watchTrades',_0x262979);}else await sleep(0x3e8);}},_0xf6f797=async _0x4997de=>{const _0x587e28=_0x157f36;while(!![]){if(!botPaused)try{const _0x1b448f=await exchange[_0x587e28(0x1f4)](_0x4997de);global[_0x587e28(0x1c8)][_0x1b448f[_0x587e28(0x151)]]=_0x1b448f[_0x587e28(0x106)],await sleep(0x3c*0x3e8);}catch(_0x43f6db){if(!exchangeStopped)await handleError(_0x43f6db,'fetchTickers',_0x4997de);}else await sleep(0x3e8);}},_0x248fe3=async()=>{const _0x2dfd34=_0x157f36;while(!![]){if(!botPaused)try{const _0x39e1a4=await exchange['watchOrders']();_0x39e1a4[_0x2dfd34(0xfa)](_0x23271f=>{updateNumberCoinsCcxt(_0x23271f);});}catch(_0x46e540){if(!exchangeStopped)await handleError(_0x46e540,'watchOrders');}else await sleep(0x3e8);}};_0x30f5e4[_0x157f36(0xfa)](async _0x226cbe=>{_0x8e377(_0x226cbe),_0xf6f797(_0x226cbe);}),!wsEventsSet&&(wsEventsSet=!![],_0x248fe3(),watchTransactions());}async function watchTransactions(){const _0x200f06=_0x48b13c;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x35fd76=await getCoins(),[_0x2b616a,_0x2d67f0]=_0x35fd76;let _0x42c333=[];currentCoins['forEach'](_0x55c6be=>{const _0x57352d=_0x579c,_0x1aa1a3=_0x2b616a[_0x57352d(0x1c4)](_0x48b577=>_0x48b577[_0x57352d(0x16b)]==_0x55c6be[_0x57352d(0x16b)]);_0x1aa1a3&&(_0x55c6be[_0x57352d(0x1b7)]!=_0x1aa1a3[_0x57352d(0x1b7)]&&_0x42c333[_0x57352d(0xde)]({'coin':_0x55c6be[_0x57352d(0x16b)],'symbol':_0x55c6be[_0x57352d(0x151)],'number':Number(formatResult(_0x1aa1a3[_0x57352d(0x1b7)]-_0x55c6be['number'],0x8))}));});if(_0x42c333[_0x200f06(0x1c6)]==0x1&&!blockTransactionDetection){logger[_0x200f06(0x147)]('Fees\x20|\x20currency:\x20'+lastFees[_0x200f06(0x11b)]+_0x200f06(0x1e6)+lastFees['highest']);if(!lastFees[_0x200f06(0x11b)]||_0x42c333[0x0][_0x200f06(0x16b)]!=lastFees[_0x200f06(0x11b)]||_0x42c333[0x0][_0x200f06(0x1b7)]>lastFees[_0x200f06(0xaf)]){let _0x254e7f;if(_0x42c333[0x0][_0x200f06(0x16b)]!=config[_0x200f06(0x20d)]){let _0x3f3206=global['ticker'][noslash(_0x42c333[0x0][_0x200f06(0x151)])];_0x254e7f=_0x42c333[0x0][_0x200f06(0x149)]?0x1/_0x3f3206:_0x3f3206;}else _0x254e7f=0x1;_0x42c333[0x0][_0x200f06(0x1b4)]=_0x254e7f,delete _0x42c333[0x0][_0x200f06(0x151)];let _0xb037f3=[],_0x3481cd=[...config[_0x200f06(0xbf)]]||[],_0x3a1ee3=config[_0x200f06(0xbf)];_0x3481cd[_0x200f06(0x157)]((_0x3eeb23,_0x519c10)=>_0x3eeb23['date']>_0x519c10[_0x200f06(0x15b)]?-0x1:_0x519c10['date']>_0x3eeb23[_0x200f06(0x15b)]?0x1:0x0);const _0x43a023=getDate();if(_0x3481cd[0x0]){const _0x430c78=fns[_0x200f06(0xa6)](_0x3481cd[0x0][_0x200f06(0x15b)],_0x200f06(0x1f5),new Date()),_0x5a4b0f=fns[_0x200f06(0xa6)](_0x43a023,_0x200f06(0x1f5),new Date());if(fns[_0x200f06(0x1d8)](_0x430c78,_0x5a4b0f)){_0xb037f3=_0x3481cd[0x0][_0x200f06(0xbe)];const _0x34d6d0=_0xb037f3[_0x200f06(0x1c4)](_0xf1ad8e=>_0xf1ad8e[_0x200f06(0x16b)]==_0x42c333[0x0][_0x200f06(0x16b)]);_0x34d6d0?(_0x34d6d0[_0x200f06(0x1b7)]+=_0x42c333[0x0][_0x200f06(0x1b7)],_0x34d6d0['number']==0x0&&(_0xb037f3=_0xb037f3[_0x200f06(0xcc)](_0x4eaec3=>{const _0x242c45=_0x200f06;return _0x4eaec3[_0x242c45(0x16b)]!=_0x42c333[0x0][_0x242c45(0x16b)];}))):_0xb037f3[_0x200f06(0xde)](_0x42c333[0x0]);const _0x511d34=_0x3a1ee3[_0x200f06(0x1c4)](_0x5bf9e9=>_0x5bf9e9[_0x200f06(0x15b)]==_0x43a023);_0x511d34[_0x200f06(0xbe)]=_0xb037f3;}else _0x3a1ee3[_0x200f06(0xde)]({'date':_0x43a023,'changes':[_0x42c333[0x0]]});}const _0x43fe81=_0x3a1ee3[_0x200f06(0x1c4)](_0x1969e4=>_0x1969e4[_0x200f06(0x15b)]==_0x43a023);if(_0x43fe81){let _0x2b28c0=!![];_0x43fe81[_0x200f06(0xbe)][_0x200f06(0xfa)](_0x261a70=>{const _0x300f3c=_0x200f06;if(_0x261a70[_0x300f3c(0x1b7)]!=0x0)_0x2b28c0=![];}),_0x2b28c0&&(_0x3a1ee3=_0x3a1ee3[_0x200f06(0xcc)](_0x32adef=>{return _0x32adef['date']!=_0x43a023;}));}let _0x101f20=dbConfig['get']('bot')[_0x200f06(0x1c4)]({'botID':botID})['value']();_0x101f20&&(dbConfig[_0x200f06(0x21d)](_0x200f06(0x122))['find']({'botID':botID})[_0x200f06(0x196)]({'liquidity':_0x3a1ee3})[_0x200f06(0x1be)](),config['liquidity']=_0x3a1ee3),logHistory('success',_0x200f06(0x1a8)+Math['abs'](_0x42c333[0x0][_0x200f06(0x1b7)])+'\x20'+_0x42c333[0x0][_0x200f06(0x16b)]+'\x20'+(_0x42c333[0x0]['number']>0x0?_0x200f06(0x18e):_0x200f06(0xc6))+_0x200f06(0x21a)),proxyEmit(_0x200f06(0x198),emittedConfiguration());}else logger[_0x200f06(0x147)](_0x200f06(0x1a9)+Math['abs'](_0x42c333[0x0][_0x200f06(0x1b7)])+'\x20'+_0x42c333[0x0][_0x200f06(0x16b)]+'\x20'+(_0x42c333[0x0]['number']>0x0?_0x200f06(0x18e):_0x200f06(0xc6)));transactionDetected=!![],currentCoins=_0x2b616a,currentCoinsAll=_0x2d67f0;}await sleep(watchTransactionsInterval);}catch(_0xfc839b){if(!exchangeStopped)await handleError(_0xfc839b,'watchTransactions');}else await sleep(0x3e8);}}async function loadSymbols(_0x2c99af=config[_0x48b13c(0x1c0)],_0x1ea9e7=![]){const _0x5f2e8e=_0x48b13c;if(allSymbols&&!_0x1ea9e7)return;try{markets=await exchange[_0x5f2e8e(0xba)](),allSymbols=exchange[_0x5f2e8e(0x160)][_0x5f2e8e(0xcc)](_0x36678f=>{const _0xfa58c1=_0x5f2e8e;let _0x3a6781=![];const _0x333862=exceptions[_0x2c99af[_0xfa58c1(0x213)]()]||[];return _0x333862[_0xfa58c1(0xfa)](_0x9e83cd=>{const _0x2d95e0=_0xfa58c1;if(_0x36678f[_0x2d95e0(0xab)](_0x9e83cd))_0x3a6781=!![];}),!_0x3a6781;});}catch(_0x1cbb0d){throw _0x1cbb0d;}}async function initclient(){const _0x2d2ce7=_0x48b13c;emitLoadingProgress(),proxyEmit(_0x2d2ce7(0x198),emittedConfiguration()),proxyEmit(_0x2d2ce7(0x123),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2d2ce7(0x175),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2d46df=getNormalizedPerformance();emitPerformance(_0x2d46df),getStartingBalances(_0x2d46df);}async function toggleBotMode(){const _0x2eae40=_0x48b13c;let _0x2d8bd3=dbConfig['get']('bot')[_0x2eae40(0x1c4)]({'botID':botID})[_0x2eae40(0x158)]();if(_0x2d8bd3){const _0x3fe7d0=!_0x2d8bd3[_0x2eae40(0x12b)];dbConfig[_0x2eae40(0x21d)](_0x2eae40(0x122))[_0x2eae40(0x1c4)]({'botID':botID})[_0x2eae40(0x196)]({'headless':_0x3fe7d0})[_0x2eae40(0x1be)](),config['headless']=_0x3fe7d0,proxyEmit(_0x2eae40(0x198),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x28ed04=>{});}async function loadCoins(_0x2f2e79){const _0x183f20=_0x48b13c;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x4c3d9b,_0x5d4b06=0x0,_0x508e38=0x0;_0x2f2e79[_0x183f20(0xfa)](_0x4285ad=>{const _0x32ab1d=_0x183f20;loading[_0x32ab1d(0x204)][_0x32ab1d(0xde)](_0x4285ad);}),loadingCanceled=![];let _0x2c3c8a=![];while(_0x4c3d9b!=_0x2f2e79[_0x183f20(0x1c6)]){_0x4c3d9b=0x0,_0x2f2e79[_0x183f20(0xfa)](_0x39a6ae=>{const _0x2e2f6a=_0x183f20;if(global[_0x2e2f6a(0x16a)][noslash(_0x39a6ae)]){loading[_0x2e2f6a(0x204)]=loading[_0x2e2f6a(0x204)]['filter'](_0x5a9d37=>_0x5a9d37!=_0x39a6ae);if(!watchedSymbols[_0x2e2f6a(0xab)](_0x39a6ae))watchedSymbols[_0x2e2f6a(0xde)](_0x39a6ae);_0x4c3d9b++;}}),loading[_0x183f20(0x1dd)]=Math[_0x183f20(0x177)](_0x4c3d9b/_0x2f2e79[_0x183f20(0x1c6)]*0x64);loading[_0x183f20(0x1dd)]!=0x64&&(_0x508e38>0x1e*0x5&&(loading[_0x183f20(0x183)]=!![],emitLoadingProgress()),_0x508e38>0x78*0x5&&!_0x2c3c8a&&(loading[_0x183f20(0x18c)]=!![],emitLoadingProgress(),_0x2c3c8a=!![],logHistory('error',_0x183f20(0xd9)+loading[_0x183f20(0x204)][_0x183f20(0xb8)](',\x20')+_0x183f20(0x142)),logHistory(_0x183f20(0x12a),_0x183f20(0x1df)+loadCoinsRetryInterval/0xea60+_0x183f20(0xda)),pidCoinReloading=setTimeout(()=>{const _0x304a64=_0x183f20;process[_0x304a64(0xeb)]({'stop':_0x304a64(0xe6)},_0x176ba6=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x183f20(0x18c)]=!![],emitLoadingProgress();break;}else _0x4c3d9b!=_0x5d4b06&&(_0x5d4b06=_0x4c3d9b,emitLoadingProgress()),_0x508e38++,await sleep(0xc8);}_0x4c3d9b==_0x2f2e79[_0x183f20(0x1c6)]&&(coinsLoaded=!![],process[_0x183f20(0xeb)]({'status':_0x183f20(0x146),'live':'running'},_0x1fbf18=>{}),_0x2c3c8a&&logHistory('success',_0x183f20(0xb9)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x572ee4=_0x48b13c;proxyEmit(_0x572ee4(0x198),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x4f14b2=_0x48b13c;proxyEmit(_0x4f14b2(0x211),loading);}async function getFiat(){const _0x2b82c0=_0x48b13c;let _0x5baddb=global[_0x2b82c0(0x16a)][stablecoins[_0x2b82c0(0x14c)][_0x2b82c0(0x16b)]],_0xe4d8fd=global[_0x2b82c0(0x16a)][stablecoins[_0x2b82c0(0xf9)][_0x2b82c0(0x16b)]];return{'eur':Number(_0x5baddb),'usd':Number(_0xe4d8fd)};}function capitalize(_0x596494){const _0x2b622a=_0x48b13c;return _0x596494['substring'](0x0,0x1)[_0x2b622a(0x13e)]()+_0x596494['substring'](0x1);}function supportedExchanges(){const _0x4acb97=_0x48b13c,_0x5c13ae=['ws',_0x4acb97(0x126),_0x4acb97(0x1f4),'watchTrades',_0x4acb97(0x1ef),_0x4acb97(0x109),'createOrder',_0x4acb97(0x1e4),_0x4acb97(0xa9),_0x4acb97(0x113)];let _0x168246=[],_0x5bc59e=[],_0x44fbcf=ccxt[_0x4acb97(0x123)];_0x44fbcf[_0x4acb97(0xfa)](_0x4b0343=>{const _0x4020d3=_0x4acb97;try{const _0x4caedb=new ccxt[_0x4b0343]();if(_0x4caedb[_0x4020d3(0x1d2)]['ws'])_0x5bc59e[_0x4020d3(0xde)](_0x4caedb);}catch(_0x2d6433){}}),_0x5bc59e[_0x4acb97(0xfa)](_0x2529ff=>{const _0x49b8f8=_0x4acb97;let _0x1adcad=0x0;_0x5c13ae['forEach'](_0x53bba9=>{const _0x52b827=_0x579c;_0x53bba9 in _0x2529ff[_0x52b827(0x1d2)]&&_0x2529ff[_0x52b827(0x1d2)][_0x53bba9]&&_0x1adcad++;}),_0x1adcad==_0x5c13ae[_0x49b8f8(0x1c6)]&&_0x168246[_0x49b8f8(0xde)](capitalize(_0x2529ff['id']));});let _0x8b720e=[];return _0x44fbcf[_0x4acb97(0xfa)](_0x56f954=>{const _0x5d9ac5=_0x4acb97;_0x56f954=capitalize(_0x56f954);if(!_0x168246[_0x5d9ac5(0xab)](_0x56f954))_0x8b720e[_0x5d9ac5(0xde)](_0x56f954);}),_0x168246;}function setStartDatePerformance(){const _0x40a254=_0x48b13c;if(config&&config[_0x40a254(0xbf)][0x0][_0x40a254(0xbe)][_0x40a254(0x1c6)]!=0x0){const _0x5700e3=config[_0x40a254(0xbf)][0x0][_0x40a254(0xbe)];dbPerformance[_0x40a254(0x21d)]('data')['find']({'date':config[_0x40a254(0x15a)]})[_0x40a254(0x196)]({'coins':_0x5700e3})['write']();}}async function recreateCoinResults(){const _0x41e68b=_0x48b13c;let _0x11ac47,_0x23cef8=[];try{const _0x35be89=fns['format'](fns[_0x41e68b(0x1bd)](config[_0x41e68b(0x15a)][_0x41e68b(0x119)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x2c740b of currentCoins){if(_0x2c740b[_0x41e68b(0x16b)]!=config['basecoin']){let _0x383f62=0x0,_0x55ba64,_0x397305;_0x11ac47=await getAllEventOrders(_0x2c740b['symbol']);if(_0x11ac47['length']>0x0)_0x11ac47[_0x41e68b(0xfa)](_0x340587=>{const _0x323b77=_0x41e68b,_0x26780a=_0x2c740b['symbol'][_0x323b77(0xab)](config[_0x323b77(0x20d)]+'/');_0x23cef8['push']({'datetime':_0x340587[_0x323b77(0x1d7)],'coin':_0x2c740b['coin'],'symbol':_0x2c740b[_0x323b77(0x151)],'side':_0x340587[_0x323b77(0x1b0)],'reverse':_0x26780a,'amount':formatResult(_0x340587[_0x323b77(0x19b)],0x8),'filled':formatResult(_0x340587[_0x323b77(0x19b)],0x8),'price':formatResult(_0x340587[_0x323b77(0x1b4)],0x8)}),_0x383f62=_0x340587[_0x323b77(0x1b0)]=='buy'?_0x383f62+_0x340587['filled']:_0x383f62-_0x340587[_0x323b77(0x19b)];if(!_0x397305)_0x397305=_0x340587[_0x323b77(0x1b4)];});_0x55ba64=_0x2c740b[_0x41e68b(0x1b7)]-_0x383f62;let _0x51ae9e;config[_0x41e68b(0xbf)][_0x41e68b(0xfa)](_0x56ec85=>{const _0x44ff81=_0x41e68b;!_0x51ae9e&&(_0x51ae9e=_0x56ec85[_0x44ff81(0xbe)][_0x44ff81(0x1c4)](_0x3f6f57=>_0x3f6f57['coin']==_0x2c740b[_0x44ff81(0x16b)]),_0x51ae9e&&(_0x55ba64=_0x51ae9e[_0x44ff81(0x1b7)],_0x397305=_0x51ae9e[_0x44ff81(0x1b4)]));});let _0x91fd1=dbCoinResults[_0x41e68b(0x21d)]('coins')[_0x41e68b(0x1c4)]({'coin':_0x2c740b[_0x41e68b(0x16b)]})[_0x41e68b(0x158)]();_0x91fd1={'coin':_0x2c740b['coin'],'number':_0x55ba64,'breakeven':_0x397305,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')[_0x41e68b(0x1c4)]({'coin':_0x2c740b[_0x41e68b(0x16b)]})[_0x41e68b(0x196)](_0x91fd1)[_0x41e68b(0x1be)]();}}_0x23cef8[_0x41e68b(0x157)]((_0x208701,_0x174452)=>_0x208701[_0x41e68b(0x1d7)]>_0x174452[_0x41e68b(0x1d7)]?0x1:_0x174452[_0x41e68b(0x1d7)]>_0x208701[_0x41e68b(0x1d7)]?-0x1:0x0);let _0xcf551=0x0;for(let _0x3fb453 of _0x23cef8){await updateCoinResults(_0x3fb453,!![]);}}catch(_0x143ea1){await handleError(_0x143ea1,_0x41e68b(0x16e));}}async function getAllEventOrders(_0x95ea7a){const _0x12797b=_0x48b13c;let _0x3d81c6=[],_0x5b8cfd=dbLogs['get'](_0x12797b(0x12c))[_0x12797b(0xcc)](_0x2016d4=>{const _0x2da412=_0x12797b,_0x4a1907=_0x2016d4['event'][_0x2da412(0x213)]();return _0x4a1907[_0x2da412(0xab)](_0x95ea7a[_0x2da412(0x213)]())&&(_0x4a1907[_0x2da412(0xab)]('market')&&_0x4a1907['includes'](_0x2da412(0x114))||_0x4a1907[_0x2da412(0xab)]('filled')&&_0x4a1907[_0x2da412(0xab)](_0x2da412(0x114)));})['sortBy'](_0x12797b(0xd7))['value']();return _0x5b8cfd['forEach'](_0x24b882=>{const _0x8bda39=_0x12797b,_0x56712b=_0x24b882[_0x8bda39(0x1e7)][_0x8bda39(0xab)](_0x8bda39(0x137))?'sell':_0x8bda39(0x16f),_0x46f4ea=/#([0-9]|\.)+\s/i,_0x4e8b7b=Number(_0x46f4ea['exec'](_0x24b882['event'])[0x0]['slice'](0x1)),_0x506b07=/@([0-9]|\.)+$/i,_0x1f5219=Number(_0x506b07['exec'](_0x24b882[_0x8bda39(0x1e7)])[0x0][_0x8bda39(0x1ff)](0x1));_0x3d81c6[_0x8bda39(0xde)]({'datetime':_0x24b882[_0x8bda39(0xd7)],'coin':symbolToCoin(_0x95ea7a),'symbol':_0x95ea7a,'side':_0x56712b,'amount':_0x4e8b7b,'filled':_0x4e8b7b,'price':_0x1f5219});}),_0x3d81c6;}async function getAllOrders(_0x2038f8,_0x5e0cbe){const _0x2f207a=_0x48b13c;let _0x355262=[];while(_0x5e0cbe<exchange[_0x2f207a(0xe2)]()){const _0x5e7b2a=0x1f4,_0x45b509=await exchange[_0x2f207a(0xa9)](_0x2038f8,_0x5e0cbe,_0x5e7b2a);if(_0x45b509[_0x2f207a(0x1c6)])_0x5e0cbe=_0x45b509[_0x45b509[_0x2f207a(0x1c6)]-0x1][_0x2f207a(0x15f)]+0x1,_0x355262=_0x355262['concat'](_0x45b509);else break;}return _0x355262;}async function validate24hChanges(){const _0x54c1bc=_0x48b13c;for(const _0x5b4728 of currentCoins){if(_0x5b4728['coin']!=config['basecoin']){let _0x1223a8;_0x5b4728['reverse']?_0x1223a8=formatResult((0x1/(global[_0x54c1bc(0x1c8)][noslash(_0x5b4728[_0x54c1bc(0x151)])]/0x64+0x1)-0x1)*0x64,0x3):_0x1223a8=global['change'][noslash(_0x5b4728[_0x54c1bc(0x151)])],_0x1223a8<config['change24h']&&(logHistory('error',_0x5b4728['coin']+_0x54c1bc(0x21c)+_0x1223a8+'%'),logHistory(_0x54c1bc(0x12a),_0x54c1bc(0x145)),logHistory(_0x54c1bc(0x12a),_0x54c1bc(0x1a6)),await storeHeadless({'headless':![]}));}}}function _0x2fff(){const _0x2b4f32=['splice','balances','RSA-OAEP','round','\x20:\x20','exchange\x20not\x20reloaded','format','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Saving\x20configuration','\x20portfolio:</b>\x20\x0a\x0a','./logs/','getDate','cancelLoading','3165816FJalgr','privateKey','timeout','************','settings','data','0\x20-\x20EXECUTION:\x20','coins','HOT/BTC','hybrid-crypto-js','random','cancel','total','added','ORDERS.LOCKED','stringify','Manual\x20balancing\x20required','canceled','\x20change','watchTrades','2.6.0','assign','set','configuration','fiat','createOrder','filled','placeOrder','RequestTimeout','getSeconds','emojisell','constructor','2.3.5','Bot\x20','LOCKED','Order(s)\x20not\x20validated\x20after\x20','Net\x20effect','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','\x20API\x20key\x20is\x20invalid','Portfolio\x20change\x20detected:\x20','Fee\x20discount\x20refund\x20detected:\x20','secure','Crypt','USDT','open','startnumber','ordertype','side','target','close','fromCodePoint','price','BTC','initial','number','realized','ORDERS.UNLOCKING','apply','./config/','XEM/BUSD','parseISO','write','1044226isiZnG','exchange','Cooldown\x20ended\x20-\x20balancing\x20resumed','No\x20more\x20open\x20orders\x20-\x20','734106ZfgWEs','find','Order\x20amount\x20is\x20invalid:\x20','length','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','change','AuthenticationError','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','getPortfolio(1)','none','%\x20(','orderstatus','configuration-stored','getMinutes','ongoing','has','1\x20-\x20Handle\x20open\x20orders','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','sortBy','getHours','datetime','isEqual','log','InvalidNonce','remove','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','progress','padEnd','Pausing\x20for\x20','</pre>','last','MIN_NOTIONAL','\x20hour','fetchOpenOrders','function','\x20|\x20highest:\x20','event','netoffset','-results.json','search','excluded','running','Exchange','bid','watchOrders','20522979QvgDsV',':\x20Bot\x20','lowdb','kill','fetchTicker','yyyy/MM/dd','getPortfolio(0)','util','cloneDeep','success','leftTxt','\x20|\x20lock\x20orders:\x20','sendMetricsTelegram','\x20|\x20','recent20','slice','limit','-performance.json','net-fiat','max','remainingSymbols','\x20order:\x20','ask','add','2\x20-\x20Handled\x20open\x20orders','net-basecoin','\x20>\x20','version','precision','basecoin','BNB/','performance','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','coin-loading-progress','Limit\x20(high-margin)','toLowerCase','\x20closed\x20the\x20connection','2\x20-\x20Validate\x20orders:\x20','startprice','freeze','message','8lwPHen','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','warning','\x20has\x20a\x2024h\x20drop\x20of\x20','get','3264842QrQDGS','recovery','timer:','full','distribution','parse','fee','DDoSProtection','fetchClosedOrders','97405QRrNej','includes','simple','showConfig','cancelOrders()','highest','-------------------------------\x0a','botname','2\x20-\x20FILLED\x20unknown\x20order:\x20','date-fns','Transaction\x20detection\x20blocked','<pre>','storeHeadless','apiKey','join','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','loadMarkets','emojibuy','limits','-config.json','changes','liquidity','limit-high','decrypt','loadSymbols()','Invalid\x20quantity','no\x20open\x20orders','existsSync','removed','unlinkSync','OrderNotFound','cooldown','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Reset\x20|\x20','filter','\x20API\x20secret\x20is\x20invalid','001','toString','status','portfolio','map','<b>','uncaughtException','market','Executed\x20','time','split','Failed\x20to\x20load\x20coin\x20data\x20for\x20','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','sha256','pro','Error:\x20Invalid\x20argument\x20','push','abs','starting-balance-','\x20not\x20available','milliseconds','UNLOCKED','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','emitHistory','restart','toggleBotMode','clientOrderId','botID','20OPzdaR','send','ETH','***','USD','no\x20additional\x20symbols','differenceInSeconds','ExchangeNotAvailable','Invalid\x20API\x20key\x20or\x20secret\x20entered','starting-balances','bots','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','Unfilled\x20order(s)\x20canceled\x20after\x20','path','placeOrder()','usd','forEach','1\x20-\x20FILLED:\x20','yargs/yargs','limit-low','closed','shift','writeFile','min','getStartingBalances','Initiating\x20exchange\x20reload','apiSecret','Order\x20filled:\x20','percentage','getOpenOrders()','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','cancelOrder','API-key\x20format\x20invalid','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','showname','getFullYear','\x20not\x20responding','initclient','-events.json','Unknown\x20error\x20occured','getMonth','fetchBalance','order','.json','defaults','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','deleteHistoryAlerts','replace','\x20>\x20[DEBUG]\x20','currency','\x20|\x20Error\x20details:\x20','/EUR','valid','indexOf','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','BNB','bot','exchanges','storeConfiguration','breakeven','fetchTickers',',\x20must\x20be\x20a\x203\x20digit\x20number','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','error','headless','logs','\x20metrics:</b>\x20\x0a\x0a','args','amount','orderId','\x20value','<b>Bot\x20','sells','openOrders','4143792tSjPlN','page','sell','onepagemode','Error\x20while\x20deleting\x20files:\x20','final','customId','(((.+)+)+)+$','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','toUpperCase','buys','rightTxt','trade','\x20-\x20bot\x20not\x20started','/USD','getCoins()','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','enabled','debug','BUSD','reverse','Resetting\x20bot\x20history','timeshift','eur','entries','2.5.0','getTime','keys','symbol','argv','type','cost','ORDERS.UNLOCKED','change24h','sort','value','threshold','startdate','date','exchange\x20reloaded','Net\x20','toFixed','timestamp','symbols','\x20minutes','string','Transaction\x20detection\x20unblocked','delta','bot-','getCoinNumber()','/output-000.log','ccxt','EUR','ticker','coin','padStart','Limit\x20(low-margin)','recreateCoinResults()','buy','\x20minutes\x20-\x20','offset','balancing\x20resumes\x20when\x20cooldown\x20ends','mkdirSync'];_0x2fff=function(){return _0x2b4f32;};return _0x2fff();}function isOlderVersion(_0x16fd36,_0x1a902e){const _0x32c192=_0x48b13c;if(!_0x16fd36)return!![];const _0x1c8140=_0x1a902e[_0x32c192(0xd8)]('.'),_0x3debcf=_0x16fd36[_0x32c192(0xd8)]('.');for(var _0x1b5f32=0x0;_0x1b5f32<_0x3debcf[_0x32c192(0x1c6)];_0x1b5f32++){const _0x577209=~~_0x3debcf[_0x1b5f32],_0x464196=~~_0x1c8140[_0x1b5f32];if(_0x577209<_0x464196)return!![];if(_0x577209>_0x464196)return![];}return![];}async function oneTimeMigration(){const _0x2d8044=_0x48b13c;let _0x72b904=dbLogs['get'](_0x2d8044(0x20b))['value']();if(isOlderVersion(_0x72b904,_0x2d8044(0x1a1))){let _0x4bae3c=[];const _0xc0f579=dbLogs[_0x2d8044(0x21d)](_0x2d8044(0x12c))[_0x2d8044(0x158)]();_0xc0f579[_0x2d8044(0xfa)](_0x24801f=>{const _0xf32a6a=_0x2d8044;_0x4bae3c['push']({'time':_0x24801f['time'],'type':_0x24801f[_0xf32a6a(0x153)],'event':_0x24801f[_0xf32a6a(0x1e7)]});}),dbLogs[_0x2d8044(0x21d)](_0x2d8044(0x12c))['assign'](_0x4bae3c)[_0x2d8044(0x1be)]();}let _0x3919d0=dbConfig[_0x2d8044(0x21d)](_0x2d8044(0x20b))[_0x2d8044(0x158)]();if(isOlderVersion(_0x3919d0,'2.3.5')){let _0x1029cd=dbConfig['get'](_0x2d8044(0x122))[_0x2d8044(0x1c4)]({'botID':botID})[_0x2d8044(0x158)]();if(_0x1029cd){let _0x49b58c=[];_0x1029cd[_0x2d8044(0xd1)][_0x2d8044(0xfa)](_0x586988=>{const _0x388ee1=_0x2d8044;_0x49b58c[_0x388ee1(0xde)]({'coin':_0x586988[_0x388ee1(0x16b)],'number':_0x586988[_0x388ee1(0x1ae)],'price':_0x586988[_0x388ee1(0x216)]}),delete _0x586988['startnumber'],delete _0x586988[_0x388ee1(0x216)];});if(_0x49b58c[_0x2d8044(0x1c6)]!==0x0)fs[_0x2d8044(0x100)](configbackuppath+(_0x2d8044(0xe0)+botID+_0x2d8044(0x115)),JSON[_0x2d8044(0x190)](_0x49b58c,null,0x4),function(_0x44fe23){if(_0x44fe23){}});const _0x5203cc=(_0x2c4ea0,_0x3bb09f)=>{const _0x32a8e3=_0x2d8044;let _0x2610f3=[];_0x3bb09f[_0x32a8e3(0xfa)](_0x2c7597=>{const _0xac427f=_0x32a8e3,_0xfe4a09=_0x2c4ea0[_0xac427f(0x1c4)](_0x3d9e78=>_0x3d9e78[_0xac427f(0x16b)]==_0x2c7597[_0xac427f(0x16b)]);if(!_0xfe4a09)_0x2610f3[_0xac427f(0xde)](_0x2c7597);});let _0x5675ae=[];return _0x2c4ea0[_0x32a8e3(0xfa)](_0x2f9256=>{const _0x216d5b=_0x32a8e3,_0x42873d=_0x3bb09f['find'](_0xbbdbd=>_0xbbdbd[_0x216d5b(0x16b)]==_0x2f9256[_0x216d5b(0x16b)]);if(!_0x42873d||_0x42873d[_0x216d5b(0x1b7)]==0x0&&_0x2f9256[_0x216d5b(0x1b7)]!=0x0)_0x5675ae[_0x216d5b(0xde)](_0x2f9256);}),{'missingDay1':_0x2610f3,'notInDay2':_0x5675ae};},_0x19ed10=dbPerformance[_0x2d8044(0x21d)](_0x2d8044(0x186))[_0x2d8044(0x1f8)]()[_0x2d8044(0x158)]();if(_0x19ed10[_0x2d8044(0x1c6)]>0x1){const {missingDay1:_0x59d363,notInDay2:_0x154faf}=_0x5203cc(_0x49b58c,_0x19ed10[0x1][_0x2d8044(0x188)]);_0x49b58c=[..._0x49b58c,..._0x59d363],_0x154faf['forEach'](_0x2f01ba=>{const _0x95ae04=_0x2d8044;let _0x1b67c1=_0x49b58c['findIndex'](_0x3c50b4=>_0x3c50b4[_0x95ae04(0x16b)]==_0x2f01ba[_0x95ae04(0x16b)]);_0x1b67c1!=-0x1&&_0x49b58c[_0x95ae04(0x174)](_0x1b67c1,0x1);});}_0x49b58c[_0x2d8044(0x157)]((_0x2ef7cb,_0x7b1084)=>_0x2ef7cb[_0x2d8044(0x16b)]>_0x7b1084[_0x2d8044(0x16b)]?0x1:_0x7b1084[_0x2d8044(0x16b)]>_0x2ef7cb[_0x2d8044(0x16b)]?-0x1:0x0);let _0x5c3027=[{'date':_0x1029cd['startdate'],'changes':_0x49b58c}];_0x19ed10['length']>0x2&&_0x19ed10[_0x2d8044(0xfa)]((_0x2d6d5e,_0x252f7e)=>{const _0xc289d2=_0x2d8044;if(_0x252f7e>0x0&&_0x252f7e<_0x19ed10[_0xc289d2(0x1c6)]-0x1){const {missingDay1:_0x2d409f,notInDay2:_0x49b3ed}=_0x5203cc(_0x19ed10[_0x252f7e]['coins'],_0x19ed10[_0x252f7e+0x1]['coins']);_0x49b58c=[],(_0x2d409f[_0xc289d2(0x1c6)]!=0x0||_0x49b3ed[_0xc289d2(0x1c6)]!=0x0)&&(_0x2d409f[_0xc289d2(0x1c6)]!=0x0&&_0x49b58c['push'](..._0x2d409f),_0x49b3ed[_0xc289d2(0x1c6)]!=0x0&&(_0x49b3ed['forEach'](_0x2136ab=>{const _0xf7ca2f=_0xc289d2;_0x2136ab['number']=-_0x2136ab[_0xf7ca2f(0x1b7)];}),_0x49b58c[_0xc289d2(0xde)](..._0x49b3ed)),_0x49b58c[_0xc289d2(0x157)]((_0x192b4d,_0x1c2b51)=>_0x192b4d[_0xc289d2(0x16b)]>_0x1c2b51['coin']?0x1:_0x1c2b51[_0xc289d2(0x16b)]>_0x192b4d[_0xc289d2(0x16b)]?-0x1:0x0),_0x5c3027['push']({'date':_0x19ed10[_0x252f7e+0x1]['date'],'changes':_0x49b58c}));}}),dbConfig['get'](_0x2d8044(0x122))[_0x2d8044(0x1c4)]({'botID':botID})[_0x2d8044(0x196)]({..._0x1029cd,'liquidity':_0x5c3027})[_0x2d8044(0x1be)]();}}if(isOlderVersion(_0x3919d0,_0x2d8044(0x195))){let _0x189873=dbConfig[_0x2d8044(0x21d)](_0x2d8044(0x122))[_0x2d8044(0x1c4)]({'botID':botID})['value']();if(_0x189873){const _0x5f53df=_0x189873[_0x2d8044(0x1c0)],_0x232cf8=_0x5f53df?capitalize(_0x5f53df):'Binance';dbConfig[_0x2d8044(0x21d)](_0x2d8044(0x122))[_0x2d8044(0x1c4)]({'botID':botID})['assign']({'exchange':_0x232cf8})[_0x2d8044(0x1be)]();}}let _0x5cb811=dbPerformance['get'](_0x2d8044(0x20b))[_0x2d8044(0x158)]();isOlderVersion(_0x5cb811,_0x2d8044(0x1a1))&&setStartDatePerformance();let _0x8c7ff3=dbCoinResults[_0x2d8044(0x21d)](_0x2d8044(0x20b))[_0x2d8044(0x158)]();if(isOlderVersion(_0x8c7ff3,_0x2d8044(0x14e))){let _0x4d7f75=dbCoinResults[_0x2d8044(0x21d)](_0x2d8044(0x188))[_0x2d8044(0x158)]();if(_0x4d7f75[_0x2d8044(0x1c6)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x446539=_0x48b13c;dbConfig[_0x446539(0x197)](_0x446539(0x20b),serverversion)[_0x446539(0x1be)](),dbPerformance[_0x446539(0x197)](_0x446539(0x20b),serverversion)['write'](),dbLogs[_0x446539(0x197)]('version',serverversion)[_0x446539(0x1be)](),dbCoinResults[_0x446539(0x197)](_0x446539(0x20b),serverversion)[_0x446539(0x1be)]();}function _0x579c(_0x2dc120,_0x285d41){const _0x4e6910=_0x2fff();return _0x579c=function(_0x36b39e,_0x2ccb7c){_0x36b39e=_0x36b39e-0xa2;let _0x2fff74=_0x4e6910[_0x36b39e];return _0x2fff74;},_0x579c(_0x2dc120,_0x285d41);}function getConfiguration(_0x184d06){const _0x15a098=_0x48b13c;let _0x52763b=dbConfig[_0x15a098(0x21d)]('bot')[_0x15a098(0x1c4)]({'botID':_0x184d06})['value']();if(_0x52763b){let _0x172c84=![];typeof _0x52763b[_0x15a098(0x159)]==_0x15a098(0x162)&&(_0x52763b={..._0x52763b,'threshold':Number(_0x52763b['threshold'])},_0x172c84=!![]),_0x52763b['change24h']==null&&(_0x52763b={..._0x52763b,'change24h':-0x14},_0x172c84=!![]),!_0x52763b['fiat']&&(_0x52763b={..._0x52763b,'fiat':'USD'},_0x172c84=!![]),!_0x52763b['onepagemode']&&(_0x52763b={..._0x52763b,'onepagemode':settings[_0x15a098(0x138)]},_0x172c84=!![]),_0x172c84&&(_0x52763b={'botID':_0x52763b[_0x15a098(0xe9)],'exchange':_0x52763b[_0x15a098(0x1c0)],'apiKey':_0x52763b[_0x15a098(0xb7)],'apiSecret':_0x52763b['apiSecret'],'basecoin':_0x52763b['basecoin'],'botname':_0x52763b[_0x15a098(0xb1)],'showname':_0x52763b['showname'],'threshold':_0x52763b[_0x15a098(0x159)],'ordertype':_0x52763b['ordertype'],'timeout':_0x52763b[_0x15a098(0x183)],'fiat':_0x52763b[_0x15a098(0x199)],'startdate':_0x52763b[_0x15a098(0x15a)],'recreate':_0x52763b['recreate'],'timeshift':_0x52763b[_0x15a098(0x14b)],'onepagemode':_0x52763b[_0x15a098(0x138)],'headless':_0x52763b[_0x15a098(0x12b)],'cooldown':_0x52763b[_0x15a098(0xc9)],'change24h':_0x52763b[_0x15a098(0x156)],'emojibuy':_0x52763b[_0x15a098(0xbb)],'emojisell':_0x52763b[_0x15a098(0x19f)],'portfolio':_0x52763b[_0x15a098(0xd1)],'liquidity':_0x52763b['liquidity'],'openOrders':_0x52763b[_0x15a098(0x134)]},dbConfig['get'](_0x15a098(0x122))[_0x15a098(0x1db)]()[_0x15a098(0x1be)](),dbConfig[_0x15a098(0x21d)](_0x15a098(0x122))[_0x15a098(0xde)](_0x52763b)[_0x15a098(0x1be)]());}else _0x52763b={'botID':_0x184d06,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x15a098(0x1a2)+_0x184d06,'showname':![],'threshold':0x3,'ordertype':_0x15a098(0xd5),'timeout':0x14,'fiat':_0x15a098(0xee),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x15a098(0x14b)],'onepagemode':settings[_0x15a098(0x138)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x52763b;}function emittedConfiguration(){const _0x4d528a=_0x48b13c;let _0x95d672;if(config[_0x4d528a(0xb7)]=='')_0x95d672={...config,'configstate':_0x4d528a(0x1b6)};else config[_0x4d528a(0xb7)]==_0x4d528a(0xed)?_0x95d672={...config,'configstate':_0x4d528a(0xa2)}:_0x95d672={...config,'apiKey':_0x4d528a(0x184),'apiSecret':_0x4d528a(0x184)};return _0x95d672;}function getSettings(){const _0x4f48c0=_0x48b13c;return dbSettings[_0x4f48c0(0x21d)](_0x4f48c0(0x185))['value']();}function getSecure(){const _0x3143a7=_0x48b13c;return dbSecure['get'](_0x3143a7(0x1aa))['value']()||{};}function updateTimeshift(_0x52f5f1){const _0x3974a9=_0x48b13c;let _0x1ad398=dbConfig[_0x3974a9(0x21d)]('bot')[_0x3974a9(0x1c4)]({'botID':botID})[_0x3974a9(0x158)]();_0x1ad398&&dbConfig[_0x3974a9(0x21d)](_0x3974a9(0x122))[_0x3974a9(0x1c4)]({'botID':botID})['assign']({'timeshift':_0x52f5f1})[_0x3974a9(0x1be)](),config[_0x3974a9(0x14b)]=_0x52f5f1,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x3447f2){const _0x3e0bf8=_0x48b13c;let _0x11b9fd=dbConfig[_0x3e0bf8(0x21d)](_0x3e0bf8(0x122))[_0x3e0bf8(0x1c4)]({'botID':botID})[_0x3e0bf8(0x158)]();_0x11b9fd&&dbConfig[_0x3e0bf8(0x21d)](_0x3e0bf8(0x122))['find']({'botID':botID})[_0x3e0bf8(0x196)]({'onepagemode':_0x3447f2})[_0x3e0bf8(0x1be)](),config[_0x3e0bf8(0x138)]=_0x3447f2,proxyEmit(_0x3e0bf8(0x198),emittedConfiguration());}async function storeConfiguration(_0x36a53b){const _0x387f44=_0x48b13c;logger[_0x387f44(0x147)](_0x387f44(0x17c)),blockTransactionDetection=!![],logger[_0x387f44(0x147)](_0x387f44(0xb4));let _0x5dd8d5=[],_0x5f1b28=![],_0x53311c=[];_0x36a53b[_0x387f44(0xd1)]['forEach'](_0x36a5dc=>{const _0x38feb7=_0x387f44;if(!_0x36a5dc[_0x38feb7(0x1eb)]&&_0x36a5dc['coin']!=_0x36a53b[_0x38feb7(0x20d)])_0x53311c['push'](_0x36a5dc['symbol']);}),_0x53311c[_0x387f44(0xfa)](_0x4dc75d=>{const _0x57678d=_0x387f44,_0x3daa1d=watchedSymbols[_0x57678d(0xab)](_0x4dc75d);!_0x3daa1d&&_0x5dd8d5['push'](_0x4dc75d);});_0x5dd8d5[_0x387f44(0x1c6)]>0x0?_0x5f1b28=!![]:currentCoins[_0x387f44(0xfa)](_0x50b761=>{const _0x1f18fb=_0x387f44;if(_0x50b761[_0x1f18fb(0x16b)]!=config[_0x1f18fb(0x20d)]){const _0x1b67c3=_0x53311c[_0x1f18fb(0x1c4)](_0x27831b=>_0x27831b==_0x50b761[_0x1f18fb(0x151)]);!_0x1b67c3&&(_0x5f1b28=!![]);}});let _0x3c4a94=dbConfig['get']('bot')['find']({'botID':botID})[_0x387f44(0x158)]();_0x36a53b={..._0x36a53b,'apiKey':crypt['decrypt'](secure[_0x387f44(0x182)],_0x36a53b[_0x387f44(0xb7)])[_0x387f44(0x218)],'apiSecret':crypt[_0x387f44(0xc1)](secure[_0x387f44(0x182)],_0x36a53b[_0x387f44(0x104)])[_0x387f44(0x218)]};let _0x3c20d0=![];_0x3c4a94?(_0x36a53b[_0x387f44(0xb7)]==_0x387f44(0x184)?_0x36a53b[_0x387f44(0xb7)]=config[_0x387f44(0xb7)]:_0x3c20d0=!![],_0x36a53b['apiSecret']=='************'?_0x36a53b[_0x387f44(0x104)]=config['apiSecret']:_0x3c20d0=!![],dbConfig[_0x387f44(0x21d)](_0x387f44(0x122))[_0x387f44(0x1c4)]({'botID':botID})[_0x387f44(0x196)](_0x36a53b)[_0x387f44(0x1be)]()):(dbConfig[_0x387f44(0x21d)](_0x387f44(0x122))[_0x387f44(0xde)](_0x36a53b)[_0x387f44(0x1be)](),_0x3c20d0=!![],process[_0x387f44(0xeb)]({'status':_0x387f44(0x146),'live':_0x387f44(0x1ec)},_0x19d0da=>{}));config={..._0x36a53b},setStartDatePerformance(),process['send']({'botname':_0x36a53b['botname']},_0x29de5d=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x387f44(0x1cf)),await initCoinResults();if(_0x3c20d0)await reset(_0x5dd8d5,!![]);else{if(_0x5f1b28)await reset(_0x5dd8d5,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x387f44(0x147)](_0x387f44(0x163));}async function storeHeadless(_0x43c509){const _0x154fc0=_0x48b13c,_0x57bc51={...config,'headless':_0x43c509['headless']};let _0x3336f3=dbConfig[_0x154fc0(0x21d)](_0x154fc0(0x122))[_0x154fc0(0x1c4)]({'botID':botID})['value']();_0x3336f3&&dbConfig[_0x154fc0(0x21d)](_0x154fc0(0x122))[_0x154fc0(0x1c4)]({'botID':botID})[_0x154fc0(0x196)](_0x57bc51)[_0x154fc0(0x1be)](),config={..._0x57bc51},updateBotManager(),proxyEmit(_0x154fc0(0x198),emittedConfiguration());}async function storeFiat(_0x554ecc){const _0x455714=_0x48b13c,_0x2c7ec4={...config,'fiat':_0x554ecc};let _0x1babe7=dbConfig[_0x455714(0x21d)](_0x455714(0x122))['find']({'botID':botID})[_0x455714(0x158)]();_0x1babe7&&dbConfig[_0x455714(0x21d)](_0x455714(0x122))[_0x455714(0x1c4)]({'botID':botID})[_0x455714(0x196)](_0x2c7ec4)[_0x455714(0x1be)](),config={..._0x2c7ec4},proxyEmit(_0x455714(0x198),emittedConfiguration());}function resetHistory(){const _0x36e75e=_0x48b13c;logger[_0x36e75e(0xa4)](_0x36e75e(0x14a));try{if(fs[_0x36e75e(0xc5)](path[_0x36e75e(0xb8)](configpath,_0x36e75e(0x165)+botID+'-events.json')))fs[_0x36e75e(0xc7)](path[_0x36e75e(0xb8)](configpath,_0x36e75e(0x165)+botID+_0x36e75e(0x110)));if(fs[_0x36e75e(0xc5)](path['join'](configpath,_0x36e75e(0x165)+botID+_0x36e75e(0x201))))fs[_0x36e75e(0xc7)](path[_0x36e75e(0xb8)](configpath,_0x36e75e(0x165)+botID+_0x36e75e(0x201)));if(fs[_0x36e75e(0xc5)](path[_0x36e75e(0xb8)](configpath,_0x36e75e(0x165)+botID+_0x36e75e(0x1e9))))fs[_0x36e75e(0xc7)](path[_0x36e75e(0xb8)](configpath,'bot-'+botID+_0x36e75e(0x1e9)));}catch(_0x43d17c){if(_0x43d17c)logger[_0x36e75e(0xa4)](_0x36e75e(0x139),_0x43d17c);}const _0x61b6d4=getDate();let _0x52b592=[];currentCoins[_0x36e75e(0xfa)](_0x470a49=>{const _0x459421=_0x36e75e;_0x52b592['push']({'coin':_0x470a49[_0x459421(0x16b)],'number':_0x470a49[_0x459421(0x1b7)],'price':_0x470a49[_0x459421(0x1e1)]});});let _0x1429b7=dbConfig['get'](_0x36e75e(0x122))[_0x36e75e(0x1c4)]({'botID':botID})[_0x36e75e(0x158)]();_0x1429b7&&(dbConfig['get']('bot')[_0x36e75e(0x1c4)]({'botID':botID})['assign']({'liquidity':[{'date':_0x61b6d4,'changes':_0x52b592}]})['write'](),config[_0x36e75e(0xbf)]=[]),process['send']({'stop':_0x36e75e(0xe6)},_0x3dcbe7=>{});}function noslash(_0xac17f1){const _0x3ab774=_0x48b13c;return _0xac17f1[_0x3ab774(0x119)]('/','');}function updateHighestFee(_0x193b88,_0x3577a3){const _0x503cf8=_0x48b13c;lastFees[_0x503cf8(0x11b)]=_0x193b88,lastFees[_0x503cf8(0x1fe)][_0x503cf8(0x1c6)]===0x14&&lastFees[_0x503cf8(0x1fe)][_0x503cf8(0xff)](),lastFees[_0x503cf8(0x1fe)]['push'](_0x3577a3),lastFees[_0x503cf8(0xaf)]=Math['max'](...lastFees[_0x503cf8(0x1fe)]);}async function updateNumberCoinsCcxt(_0x3b1776){const _0x5a720c=_0x48b13c;logger['debug'](_0x5a720c(0x187)+_0x3b1776[_0x5a720c(0x151)]+'\x20|\x20'+_0x3b1776[_0x5a720c(0xd0)]+_0x5a720c(0x1fd)+_0x3b1776['id']+_0x5a720c(0x1fd)+_0x3b1776['clientOrderId']);let _0x4690b4=_0x3b1776[_0x5a720c(0xd0)],_0x2fc648=![];currentCoins['forEach'](_0x200261=>{const _0x1f5000=_0x5a720c;_0x200261[_0x1f5000(0x151)]==_0x3b1776[_0x1f5000(0x151)]&&(_0x2fc648=!![]);});if(!_0x2fc648)return;const _0x334f06=currentCoins[_0x5a720c(0x1c4)](_0x3f48d0=>_0x3f48d0['symbol']==_0x3b1776[_0x5a720c(0x151)]),_0x5203aa=_0x100fbc=>{if(_0x334f06)_0x334f06['orderstatus']=_0x100fbc;};if(_0x4690b4==_0x5a720c(0x1ad))_0x5203aa(_0x5a720c(0x1ad));else{if(_0x4690b4==_0x5a720c(0x192)){_0x5203aa('canceled');const _0x280259=await getCoins();[currentCoins,currentCoinsAll]=_0x280259,await getOpenOrders(),handleOpenOrders();}else{if(_0x4690b4==_0x5a720c(0xfe)){logger[_0x5a720c(0x147)](_0x5a720c(0xfb)+_0x3b1776[_0x5a720c(0x151)]+_0x5a720c(0x1fd)+_0x3b1776[_0x5a720c(0x19b)]+_0x5a720c(0x1fd)+_0x3b1776['id']+'\x20|\x20'+_0x3b1776[_0x5a720c(0xe8)]);let _0x276c2b=![];if(lastOrders)lastOrders['forEach'](async _0x3f192c=>{const _0x17314b=_0x5a720c;if(_0x3f192c[_0x17314b(0x13b)]==_0x3b1776[_0x17314b(0xe8)]){logger[_0x17314b(0x147)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x3b1776[_0x17314b(0xe8)]),_0x276c2b=!![];if(_0x3f192c[_0x17314b(0x19b)]==0x0){logger['debug']('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x3b1776[_0x17314b(0xe8)]),_0x3f192c[_0x17314b(0x1b4)]=_0x3b1776['average'],_0x3f192c[_0x17314b(0x19b)]=_0x3b1776[_0x17314b(0x19b)],_0x3f192c[_0x17314b(0xa7)]={'currency':_0x3b1776[_0x17314b(0xa7)]?_0x3b1776[_0x17314b(0xa7)][_0x17314b(0x11b)]:null,'cost':_0x3b1776[_0x17314b(0xa7)]?_0x3b1776['fee']['cost']:0x0},updateHighestFee(_0x3f192c[_0x17314b(0xa7)][_0x17314b(0x11b)],_0x3f192c[_0x17314b(0xa7)]['cost']),_0x5203aa('filled'),await validateOrders();if(lockOrders==ORDERS[_0x17314b(0x1a3)]){const _0x486013=await getCoins();[currentCoins,currentCoinsAll]=_0x486013;}await updateCoinResults(_0x3f192c);}}});if(!_0x276c2b){logger['debug'](_0x5a720c(0xb2)+_0x3b1776['id']),_0x5203aa(_0x5a720c(0x19b));const _0x554a55=await getCoins();[currentCoins,currentCoinsAll]=_0x554a55,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x241ba7=JSON['parse'](lastBalances[_0x5a720c(0xd1)]);const _0x1d496d=_0x241ba7[_0x5a720c(0x1c4)](_0x21f105=>_0x21f105[_0x5a720c(0x151)]==_0x3b1776[_0x5a720c(0x151)]);if(_0x1d496d){if(_0x4690b4=='open')_0x1d496d[_0x5a720c(0x1ce)]=_0x1d496d[_0x5a720c(0x1ce)]==_0x5a720c(0x19b)?_0x5a720c(0x19b):_0x5a720c(0x1ad);else{if(_0x4690b4==_0x5a720c(0x192))_0x1d496d['orderstatus']=_0x1d496d[_0x5a720c(0x1ce)]==_0x5a720c(0x19b)?_0x5a720c(0x19b):_0x5a720c(0x192);else _0x4690b4==_0x5a720c(0xfe)&&(_0x1d496d[_0x5a720c(0x1ce)]=_0x5a720c(0x19b));}}lastBalances={...lastBalances,'portfolio':JSON[_0x5a720c(0x190)](_0x241ba7)},proxyEmit(_0x5a720c(0x175),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x32b8ee=![];currentCoins['forEach'](_0x11e7f2=>{const _0x77c35f=_0x579c;_0x32b8ee=allOpenOrders['find'](_0x476912=>_0x476912[_0x77c35f(0x151)]==_0x11e7f2['symbol']),_0x11e7f2[_0x77c35f(0x1ce)]=_0x32b8ee?_0x77c35f(0x1ad):_0x77c35f(0x1cc);});}async function getCoins(_0x10291b=!![],_0x2590e7=config[_0x48b13c(0x20d)]){const _0x3c4922=_0x48b13c;let _0x3e3edd,_0x548aec=[],_0x55bb40=[],_0x31c9f0=[],_0x5dded2=[];try{_0x3e3edd=await exchange['fetchBalance'](),mybalances=_0x3e3edd[_0x3c4922(0x18d)];for(const [_0x35ac00,_0x4703be]of Object[_0x3c4922(0x14d)](mybalances)){_0x5dded2['push'](_0x35ac00);}if(_0x2590e7=='')for(const [_0x568ecf,_0x3e2460]of Object[_0x3c4922(0x14d)](mybalances)){_0x3e2460[_0x3c4922(0xcf)]()!=0x0&&_0x55bb40[_0x3c4922(0xde)]({'coin':_0x568ecf});}else{let _0x5a3dba=![];for(const [_0x37c8eb,_0x57d91f]of Object[_0x3c4922(0x14d)](mybalances)){if(_0x5dded2[_0x3c4922(0xab)](_0x37c8eb)){const _0x33cc49=config[_0x3c4922(0xd1)][_0x3c4922(0x1c4)](_0x5d7f61=>_0x5d7f61['coin']==_0x37c8eb),_0x342476=_0x37c8eb+'/'+_0x2590e7,_0x4861e5=_0x2590e7+'/'+_0x37c8eb,_0x5e5edb=currentCoins[_0x3c4922(0x1c4)](_0x1e0d75=>_0x1e0d75[_0x3c4922(0x16b)]==_0x37c8eb);_0x5a3dba=![];if((_0x57d91f[_0x3c4922(0xcf)]()!=0x0||_0x33cc49)&&(allSymbols['includes'](_0x342476)||_0x37c8eb==_0x2590e7))_0x37c8eb!=_0x2590e7&&_0x548aec[_0x3c4922(0xde)](_0x342476),_0x55bb40[_0x3c4922(0xde)]({'coin':_0x37c8eb,'symbol':_0x342476,'reverse':![],'number':Math[_0x3c4922(0x203)](_0x57d91f+(_0x33cc49&&_0x33cc49[_0x3c4922(0x171)]||0x0),0x0),'orderstatus':_0x5e5edb?_0x5e5edb['orderstatus']:_0x3c4922(0x1cc)});else(_0x57d91f[_0x3c4922(0xcf)]()!=0x0||_0x33cc49)&&allSymbols[_0x3c4922(0xab)](_0x4861e5)&&(_0x37c8eb!=_0x2590e7&&_0x548aec[_0x3c4922(0xde)](_0x4861e5),_0x55bb40['push']({'coin':_0x37c8eb,'symbol':_0x4861e5,'reverse':!![],'number':Math[_0x3c4922(0x203)](_0x57d91f+(_0x33cc49&&_0x33cc49[_0x3c4922(0x171)]||0x0),0x0),'orderstatus':_0x5e5edb?_0x5e5edb[_0x3c4922(0x1ce)]:'none'}));}}}}catch(_0x173909){if(!_0x10291b)handleErrorNoStop(_0x173909,_0x3c4922(0x144));else await handleError(_0x173909,_0x3c4922(0x144));}return _0x31c9f0=cloneDeep(_0x55bb40),_0x55bb40=_0x55bb40['filter'](_0x176e27=>{const _0x42a08c=_0x3c4922,_0x5c2e44=config['portfolio'][_0x42a08c(0x1c4)](_0x441eee=>_0x441eee[_0x42a08c(0x16b)]==_0x176e27[_0x42a08c(0x16b)]);return _0x5c2e44&&!_0x5c2e44[_0x42a08c(0x1eb)];}),[_0x55bb40,_0x31c9f0];}async function getCoinNumber(_0x571e4e){const _0x4a6717=_0x48b13c;let _0x111a5a;try{const _0x126340=await exchange[_0x4a6717(0x113)]();_0x111a5a=_0x126340[_0x4a6717(0x18d)][_0x571e4e];}catch(_0x7e955f){await handleError(_0x7e955f,_0x4a6717(0x166));}return _0x111a5a;}async function getOpenOrders(){const _0x612e83=_0x48b13c;let _0x377e87;allOpenOrders=[];try{for(const _0x571cd5 of config[_0x612e83(0xd1)]){!_0x571cd5[_0x612e83(0x1eb)]&&_0x571cd5[_0x612e83(0x16b)]!=config[_0x612e83(0x20d)]&&(_0x377e87=await exchange['fetchOpenOrders'](_0x571cd5[_0x612e83(0x151)]),_0x377e87[_0x612e83(0x1c6)]>0x0&&allOpenOrders['push'](_0x377e87[0x0]));}}catch(_0x2461a2){await handleError(_0x2461a2,_0x612e83(0x107));}}async function handleOpenOrders(_0x235d46=0x0){const _0x26e9a8=_0x48b13c;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x26e9a8(0x1a3)]&&allOrdersPlaced&&(_0x235d46==0x0?(logger[_0x26e9a8(0x147)](_0x26e9a8(0x1d3)),_0x235d46++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x26e9a8(0x147)](_0x26e9a8(0x208)),validateOrders(_0x26e9a8(0xc4))));}async function testAPI(_0x28123b){const _0x539962=_0x48b13c,_0x4d7a47=ccxt[_0x28123b['exchange'][_0x539962(0x213)]()],_0xc0d016=new _0x4d7a47({'apiKey':_0x28123b['apiKey'],'secret':_0x28123b['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0xc0d016[_0x539962(0xba)]();}catch(_0x19ebad){throw _0x19ebad;}}function cloneDeep(_0x2aadf7){const _0x5a9eff=_0x48b13c;return JSON['parse'](JSON[_0x5a9eff(0x190)](_0x2aadf7));}async function getPortfolio(_0x4555ef){const _0x37f63a=_0x48b13c;let _0x5643d7=[],_0x11ed3b=[],_0x475c50=[],_0x3537f9;if(_0x4555ef[_0x37f63a(0xb7)]!==_0x37f63a(0x184)||_0x4555ef[_0x37f63a(0x104)]!==_0x37f63a(0x184)){if(config[_0x37f63a(0x1c0)]){if(_0x4555ef[_0x37f63a(0xb7)]==_0x37f63a(0x184))_0x4555ef['apiKey']=config[_0x37f63a(0xb7)];if(_0x4555ef['apiSecret']==_0x37f63a(0x184))_0x4555ef[_0x37f63a(0x104)]=config[_0x37f63a(0x104)];try{await testAPI(_0x4555ef);}catch(_0x147714){if(_0x147714[_0x37f63a(0xcf)]()[_0x37f63a(0xab)]('AuthenticationError')){logger[_0x37f63a(0x147)](_0x37f63a(0xf2)),proxyEmit(_0x37f63a(0xd1),![]);return;}else{handleError(_0x147714,_0x37f63a(0x1f6));return;}}}await initExchange(_0x4555ef['exchange'],_0x4555ef[_0x37f63a(0xb7)],_0x4555ef['apiSecret']);try{await loadSymbols(_0x4555ef[_0x37f63a(0x1c0)],!![]);}catch(_0x4bbdac){if(_0x4bbdac['toString']()[_0x37f63a(0xab)]('AuthenticationError')){proxyEmit(_0x37f63a(0xd1),![]);return;}else{handleError(_0x4bbdac,_0x37f63a(0x1cb));return;}}const _0x1894a4=await getCoins(![],_0x4555ef['basecoin']);_0x475c50=cloneDeep(_0x1894a4[0x1]);}else _0x475c50=cloneDeep(currentCoinsAll);if(_0x4555ef[_0x37f63a(0x20d)]=='')proxyEmit(_0x37f63a(0xd1),_0x475c50);else{_0x475c50['forEach'](_0x4f70be=>{const _0x14bcdf=_0x37f63a;if(_0x4f70be['coin']!=_0x4555ef[_0x14bcdf(0x20d)])_0x5643d7[_0x14bcdf(0xde)](_0x4f70be[_0x14bcdf(0x151)]);});try{_0x11ed3b=await exchange[_0x37f63a(0x126)](_0x5643d7);}catch(_0x1f70a5){if(_0x1f70a5[_0x37f63a(0xcf)]()[_0x37f63a(0xab)](_0x37f63a(0x1c9))){proxyEmit(_0x37f63a(0xd1),![]);return;}else{handleError(_0x1f70a5,'getPortfolio(2)');return;}}_0x475c50['forEach'](_0x26399c=>{const _0x491378=_0x37f63a;_0x26399c[_0x491378(0x16b)]!=_0x4555ef[_0x491378(0x20d)]?_0x3537f9=_0x26399c[_0x491378(0x149)]?0x1/_0x11ed3b[_0x26399c[_0x491378(0x151)]]['last']:_0x11ed3b[_0x26399c[_0x491378(0x151)]][_0x491378(0x1e1)]:_0x3537f9=0x1,_0x26399c[_0x491378(0x1b4)]=formatResult(_0x3537f9,0x8);}),proxyEmit(_0x37f63a(0xd1),_0x475c50);}}function checkMinimums(_0x3f7f02){const _0x90b66a=_0x48b13c;let _0x32a3d8=!![];const _0x3ddf11=!_0x3f7f02[_0x90b66a(0x149)]?markets[_0x3f7f02[_0x90b66a(0x151)]][_0x90b66a(0xbc)]['amount'][_0x90b66a(0x101)]:markets[_0x3f7f02[_0x90b66a(0x151)]][_0x90b66a(0xbc)][_0x90b66a(0x154)][_0x90b66a(0x101)],_0x11d3fb=!_0x3f7f02['reverse']?markets[_0x3f7f02[_0x90b66a(0x151)]][_0x90b66a(0xbc)]['cost'][_0x90b66a(0x101)]:markets[_0x3f7f02[_0x90b66a(0x151)]][_0x90b66a(0xbc)][_0x90b66a(0x12f)][_0x90b66a(0x101)],_0x482a73=markets[_0x3f7f02['symbol']][_0x90b66a(0x20c)][_0x90b66a(0x12f)];_0x3f7f02[_0x90b66a(0x141)]=formatResultTruncate(_0x3f7f02[_0x90b66a(0x141)],_0x482a73);if(Math[_0x90b66a(0xdf)](_0x3f7f02[_0x90b66a(0x141)])<_0x3ddf11)_0x32a3d8=![];if(Math[_0x90b66a(0xdf)](_0x3f7f02[_0x90b66a(0x141)])*_0x3f7f02[_0x90b66a(0x1e1)]<_0x11d3fb)_0x32a3d8=![];if(_0x3f7f02['side']==_0x90b66a(0x137)){let _0x4adc65=config[_0x90b66a(0xd1)]['find'](_0x45a7df=>_0x45a7df[_0x90b66a(0x16b)]==_0x3f7f02[_0x90b66a(0x16b)]);if(_0x4adc65['offset']>0x0){if(Math['abs'](_0x3f7f02['trade'])>_0x3f7f02[_0x90b66a(0x1b7)]-_0x4adc65['offset'])_0x32a3d8=![];}else{if(Math[_0x90b66a(0xdf)](_0x3f7f02[_0x90b66a(0x141)])>_0x3f7f02['number'])_0x32a3d8=![];}}if(_0x3f7f02[_0x90b66a(0x1b0)]==_0x90b66a(0x16f)){let _0x45c70d=config['portfolio'][_0x90b66a(0x1c4)](_0x1bc894=>_0x1bc894[_0x90b66a(0x16b)]==config['basecoin']),_0x4baa7e=currentCoins[_0x90b66a(0x1c4)](_0x5952de=>_0x5952de[_0x90b66a(0x16b)]==config[_0x90b66a(0x20d)]);if(_0x45c70d[_0x90b66a(0x171)]>0x0){if(Math[_0x90b66a(0xdf)](_0x3f7f02['trade'])*_0x3f7f02['last']>_0x4baa7e[_0x90b66a(0x1b7)]-_0x45c70d[_0x90b66a(0x171)])_0x32a3d8=![];}else{if(Math['abs'](_0x3f7f02[_0x90b66a(0x141)])*_0x3f7f02[_0x90b66a(0x1e1)]>_0x4baa7e[_0x90b66a(0x1b7)])_0x32a3d8=![];}}return _0x32a3d8;}async function getBalances(){const _0x5dbbf0=_0x48b13c;let _0x4e93ae=0x0,_0x69afd4;const _0x166b27=config['threshold'];if(config[_0x5dbbf0(0x12b)]&&config[_0x5dbbf0(0x156)]<0x0)await validate24hChanges();currentCoins[_0x5dbbf0(0xfa)](_0x86a68b=>{const _0x15f960=_0x5dbbf0;if(_0x86a68b[_0x15f960(0x16b)]!=config[_0x15f960(0x20d)]){let _0x2e0618=global[_0x15f960(0x16a)][noslash(_0x86a68b[_0x15f960(0x151)])];_0x69afd4=_0x86a68b['reverse']?0x1/_0x2e0618:_0x2e0618;}else _0x69afd4=0x1;let _0x1174dc=_0x86a68b[_0x15f960(0x1b7)]*_0x69afd4;_0x4e93ae+=_0x1174dc,_0x86a68b[_0x15f960(0x1e1)]=formatResult(Number(_0x69afd4),0x8),_0x86a68b[_0x15f960(0x158)]=_0x1174dc;}),currentCoins['forEach'](_0x470673=>{const _0x5c1f05=_0x5dbbf0;let _0x2a17f8=config[_0x5c1f05(0xd1)][_0x5c1f05(0x1c4)](_0x1fc66d=>_0x1fc66d[_0x5c1f05(0x16b)]==_0x470673[_0x5c1f05(0x16b)]),_0x403a00=Number(_0x2a17f8[_0x5c1f05(0xa5)]),_0x54aa3d=_0x470673['value']/_0x4e93ae*0x64,_0x145d83=_0x403a00*_0x4e93ae/0x64/_0x470673[_0x5c1f05(0x1e1)]-_0x470673[_0x5c1f05(0x1b7)];_0x470673[_0x5c1f05(0xa5)]=formatResult(_0x54aa3d,0x3),_0x470673[_0x5c1f05(0x1b1)]=formatResult(_0x403a00,0x3),_0x470673['trade']=formatResult(_0x145d83,0x8),_0x470673[_0x5c1f05(0x1b0)]='',_0x470673['valid']=![];if(_0x470673[_0x5c1f05(0x16b)]!=config[_0x5c1f05(0x20d)]){if(_0x470673[_0x5c1f05(0xa5)]>_0x403a00)_0x470673[_0x5c1f05(0x1b0)]=_0x5c1f05(0x137),_0x470673[_0x5c1f05(0x11e)]=checkMinimums(_0x470673);else _0x470673[_0x5c1f05(0xa5)]<_0x403a00&&(_0x470673[_0x5c1f05(0x1b0)]='buy',_0x470673['valid']=checkMinimums(_0x470673));}_0x470673[_0x5c1f05(0x164)]=_0x470673[_0x5c1f05(0xa5)]/_0x470673[_0x5c1f05(0x1b1)]-0x1;if(_0x470673[_0x5c1f05(0x1ce)]==_0x5c1f05(0x19b)||_0x470673[_0x5c1f05(0x1ce)]=='canceled')_0x470673[_0x5c1f05(0x1ce)]='none';}),currentCoins['sort']((_0x557fbf,_0x3ccd91)=>_0x557fbf[_0x5dbbf0(0x164)]<_0x3ccd91[_0x5dbbf0(0x164)]?0x1:_0x3ccd91[_0x5dbbf0(0x164)]<_0x557fbf[_0x5dbbf0(0x164)]?-0x1:0x0);const _0x3cbc82=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3cbc82[_0x5dbbf0(0x14c)],'usd':_0x3cbc82[_0x5dbbf0(0xf9)],'portfolio':JSON[_0x5dbbf0(0x190)](currentCoins),'threshold':_0x166b27},proxyEmit(_0x5dbbf0(0x175),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x5dbbf0(0x12b)])headlessMode({'portfolio':currentCoins,'threshold':_0x166b27});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x166b27});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x509a88=getNormalizedPerformance();getStartingBalances(_0x509a88),emitPerformance(_0x509a88);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x2d6c68=getNormalizedPerformance();emitPerformance(_0x2d6c68),getStartingBalances(_0x2d6c68),logger[_0x5dbbf0(0x147)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3434c9=_0x48b13c;if(!lastBalances)return;let _0x42b1f9=[],_0x406f6f,_0x2ceb01=JSON['parse'](lastBalances[_0x3434c9(0xd1)]);_0x2ceb01[_0x3434c9(0x157)]((_0x776e3c,_0x17acdc)=>_0x776e3c['coin']>_0x17acdc['coin']?0x1:_0x17acdc[_0x3434c9(0x16b)]>_0x776e3c[_0x3434c9(0x16b)]?-0x1:0x0),_0x2ceb01[_0x3434c9(0xfa)](_0xc57e35=>{const _0x123a35=_0x3434c9;let _0xd00491={'coin':_0xc57e35[_0x123a35(0x16b)],'number':_0xc57e35['number'],'price':_0xc57e35[_0x123a35(0x1e1)]};_0x42b1f9[_0x123a35(0xde)](_0xd00491);});const _0x1def54=await getFiat();_0x406f6f={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x1def54[_0x3434c9(0x14c)],'usd':_0x1def54['usd'],'coins':_0x42b1f9};let _0x4acc76=dbPerformance[_0x3434c9(0x21d)]('data')['find']({'date':_0x406f6f['date']})[_0x3434c9(0x158)]();_0x4acc76?_0x406f6f[_0x3434c9(0x15b)]!=config[_0x3434c9(0x15a)]&&dbPerformance[_0x3434c9(0x21d)](_0x3434c9(0x186))[_0x3434c9(0x1c4)]({'date':_0x406f6f['date']})[_0x3434c9(0x196)](_0x406f6f)['write']():dbPerformance[_0x3434c9(0x21d)](_0x3434c9(0x186))[_0x3434c9(0xde)](_0x406f6f)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x114213=_0x48b13c;let _0x540fcf=[];if(dbPerformance[_0x114213(0x1d2)]('data')['value']()){let _0x533b1f=dbPerformance['get'](_0x114213(0x186))[_0x114213(0x1f8)]()[_0x114213(0x1d5)](_0x114213(0x15b))[_0x114213(0x158)](),_0x7bf4d0=[...config[_0x114213(0xbf)]];_0x7bf4d0[_0x114213(0x157)]((_0x409ba5,_0x37d43c)=>_0x409ba5['date']>_0x37d43c[_0x114213(0x15b)]?-0x1:_0x37d43c[_0x114213(0x15b)]>_0x409ba5['date']?0x1:0x0);let _0x152d06=0x1,_0x46835f=[],_0x58397c=0x0;_0x533b1f[_0x114213(0x1ff)]()[_0x114213(0x149)]()[_0x114213(0xfa)]((_0x27c102,_0x360f36)=>{const _0x581f05=_0x114213;if(_0x7bf4d0[_0x58397c]){if(_0x533b1f[_0x533b1f[_0x581f05(0x1c6)]-_0x360f36]&&_0x7bf4d0[_0x58397c][_0x581f05(0x15b)]==_0x533b1f[_0x533b1f[_0x581f05(0x1c6)]-_0x360f36][_0x581f05(0x15b)]){if(_0x360f36<_0x533b1f[_0x581f05(0x1c6)]){let _0x30a12a=0x0,_0x25b926=0x0;_0x533b1f[_0x533b1f['length']-_0x360f36]['coins'][_0x581f05(0xfa)](_0x4e7618=>{const _0x56bcc8=_0x581f05;_0x25b926+=_0x4e7618[_0x56bcc8(0x1b7)]*_0x4e7618[_0x56bcc8(0x1b4)];}),_0x7bf4d0[_0x58397c][_0x581f05(0xbe)][_0x581f05(0xfa)](_0x23f2cc=>{const _0x10de2d=_0x581f05;_0x30a12a+=_0x23f2cc[_0x10de2d(0x1b7)]*_0x23f2cc['price'];}),_0x152d06*=_0x30a12a/(_0x25b926-_0x30a12a)+0x1;}_0x58397c++;}}let _0x27a189=0x0;_0x27c102[_0x581f05(0x188)]['forEach'](_0x693944=>{const _0x24ad43=_0x581f05;_0x27a189+=_0x693944['number']*_0x693944[_0x24ad43(0x1b4)];}),_0x46835f[_0x533b1f[_0x581f05(0x1c6)]-_0x360f36-0x1]=_0x27a189*(_0x152d06-0x1);});let _0x2a20e4=[];_0x7bf4d0=[...config[_0x114213(0xbf)]]||[];let _0x25753d=0x0;_0x58397c=0x0,_0x533b1f['forEach']((_0x38460a,_0x20c264)=>{const _0x31c363=_0x114213;if(_0x7bf4d0[_0x58397c]){const _0x2d129d=fns[_0x31c363(0xa6)](_0x7bf4d0[_0x58397c][_0x31c363(0x15b)],_0x31c363(0x1f5),new Date()),_0x37986c=fns['parse'](_0x38460a['date'],_0x31c363(0x1f5),new Date());if(fns[_0x31c363(0x1d8)](_0x2d129d,_0x37986c)){let _0x2ceee2=0x0;_0x7bf4d0[_0x58397c][_0x31c363(0xbe)][_0x31c363(0xfa)](_0x4d8c24=>{const _0x3ce5fe=_0x31c363;!_0x2a20e4[_0x4d8c24[_0x3ce5fe(0x16b)]]?_0x2a20e4[_0x4d8c24['coin']]=_0x4d8c24[_0x3ce5fe(0x1b7)]:(_0x2ceee2=_0x2a20e4[_0x4d8c24[_0x3ce5fe(0x16b)]],_0x2a20e4[_0x4d8c24[_0x3ce5fe(0x16b)]]+=_0x4d8c24[_0x3ce5fe(0x1b7)]);const _0x40d166=_0x38460a[_0x3ce5fe(0x188)][_0x3ce5fe(0x1c4)](_0x548f20=>_0x548f20['coin']==_0x4d8c24[_0x3ce5fe(0x16b)]);(!_0x40d166||_0x40d166[_0x3ce5fe(0x1b7)]==0x0)&&(_0x25753d+=(-_0x4d8c24['number']-_0x2ceee2)*_0x4d8c24['price']);}),_0x58397c++;}}_0x38460a[_0x31c363(0x188)][_0x31c363(0xfa)]((_0x3eb731,_0x17ce9e)=>{const _0x4eb899=_0x31c363;_0x2a20e4[_0x3eb731[_0x4eb899(0x16b)]]&&(_0x3eb731['initial']=_0x2a20e4[_0x3eb731['coin']]);}),_0x540fcf['push']({'date':_0x38460a['date'],'eur':_0x38460a[_0x31c363(0x14c)],'usd':_0x38460a['usd'],'offset':_0x46835f[_0x20c264],'netoffset':_0x25753d,'coins':_0x38460a[_0x31c363(0x188)]});});}return _0x540fcf;}function emitPerformance(_0x5b7d3e){const _0xa26be2=_0x48b13c;_0x5b7d3e[_0xa26be2(0x1c6)]!==0x0?(proxyEmit(_0xa26be2(0x20f),_0x5b7d3e),lastPerformanceEmitted=getDate()):proxyEmit(_0xa26be2(0x20f),[]);}function getPerf(_0x55cd2f,_0x4b5e23){const _0x3e0587=_0x48b13c;let _0x37bf77=0x0,_0x364a40=0x0,_0x16b8f4=0x0;_0x55cd2f[_0x3e0587(0x188)][_0x3e0587(0xfa)](_0x4b9453=>{const _0xd70099=_0x3e0587;_0x37bf77+=_0x4b9453[_0xd70099(0x1b7)]*_0x4b9453[_0xd70099(0x1b4)];});_0x4b5e23&&(_0x37bf77+=_0x55cd2f['offset']);if(config['basecoin']===_0x3e0587(0x1b5)||config[_0x3e0587(0x20d)]===_0x3e0587(0xec))_0x364a40=_0x37bf77*_0x55cd2f[_0x3e0587(0x14c)],_0x16b8f4=_0x37bf77*_0x55cd2f[_0x3e0587(0xf9)];else{if(config[_0x3e0587(0x20d)]===_0x3e0587(0x148)||config['basecoin']===_0x3e0587(0x1ac)||config[_0x3e0587(0x20d)]===_0x3e0587(0xee))_0x364a40=_0x37bf77*_0x55cd2f[_0x3e0587(0x14c)]/_0x55cd2f[_0x3e0587(0xf9)],_0x16b8f4=_0x37bf77;else config[_0x3e0587(0x20d)]===_0x3e0587(0x169)&&(_0x364a40=_0x37bf77,_0x16b8f4=_0x37bf77*_0x55cd2f[_0x3e0587(0xf9)]/_0x55cd2f['eur']);}return[_0x37bf77,_0x364a40,_0x16b8f4];}function getKPIs(_0x2225b4,_0x25f447=_0x48b13c(0x169)){const _0x23c28e=_0x48b13c,_0x1cf304=config[_0x23c28e(0x20d)],_0x3ce0e6=lastBalances,_0xd92079=currentCoins,_0x18f074=getNormalizedPerformance(),_0x916f53=_0x2225b4===_0x23c28e(0x20d)?_0x1cf304:_0x2225b4===_0x23c28e(0x199)||_0x2225b4===_0x23c28e(0x202)?_0x25f447:_0x23c28e(0x15d)+_0x1cf304,_0x5757ad=_0x2225b4===_0x23c28e(0x209)?'Net\x20effect':_0x2225b4===_0x23c28e(0x202)?_0x23c28e(0x1a5):_0x916f53+_0x23c28e(0x131),_0x43404b=_0x2225b4==='net-basecoin'||_0x2225b4===_0x23c28e(0x202)?_0x23c28e(0x1a5):_0x916f53+_0x23c28e(0x193);let _0x29846c=0x0;_0xd92079[_0x23c28e(0xfa)](_0x3451ea=>{const _0x10f560=_0x23c28e;_0x29846c+=_0x3451ea[_0x10f560(0x1b7)]*_0x3451ea[_0x10f560(0x1e1)];});if(_0x2225b4===_0x23c28e(0x199)||_0x2225b4===_0x23c28e(0x202)){if(_0x1cf304===_0x23c28e(0x1b5)||_0x1cf304===_0x23c28e(0xec))_0x29846c=_0x29846c*(_0x25f447===_0x23c28e(0x169)?_0x3ce0e6[_0x23c28e(0x14c)]:_0x3ce0e6['usd']);else{if(_0x1cf304===_0x23c28e(0x148)||_0x1cf304===_0x23c28e(0x1ac)||_0x1cf304==='USD')_0x29846c=_0x29846c*(_0x25f447===_0x23c28e(0x169)?_0x3ce0e6['eur']/_0x3ce0e6[_0x23c28e(0xf9)]:0x1);else _0x1cf304===_0x23c28e(0x169)&&(_0x29846c=_0x29846c*(_0x25f447===_0x23c28e(0x169)?0x1:_0x3ce0e6[_0x23c28e(0xf9)]/_0x3ce0e6[_0x23c28e(0x14c)]));}}let _0x597e70;if(_0x29846c!==0x0){if(_0x2225b4==='basecoin')_0x597e70=(_0x29846c/startingBalances[_0x23c28e(0x20d)]-0x1)*0x64;else{if(_0x25f447==='EUR')_0x597e70=(_0x29846c/startingBalances['eur']-0x1)*0x64;else _0x597e70=(_0x29846c/startingBalances[_0x23c28e(0xf9)]-0x1)*0x64;}let _0x3e9620=0x0;if(startingBalances[_0x23c28e(0x188)])_0xd92079[_0x23c28e(0xfa)](_0xd7ae3e=>{const _0x3b85d9=_0x23c28e;let _0x252871=startingBalances[_0x3b85d9(0x188)]['find'](_0x479d54=>_0x479d54[_0x3b85d9(0x16b)]===_0xd7ae3e[_0x3b85d9(0x16b)]);if(_0x252871&&_0x252871['coin']&&_0xd7ae3e[_0x3b85d9(0x1b7)]!==0x0)_0x3e9620+=_0x252871[_0x3b85d9(0x1b7)]*_0xd7ae3e[_0x3b85d9(0x1e1)];});let _0x3efa1b=0x0;if(_0x18f074[_0x23c28e(0x1c6)]!==0x0){let _0x233aa3=_0x18f074[_0x18f074[_0x23c28e(0x1c6)]-0x1];_0x3efa1b=_0x233aa3[_0x23c28e(0x1e8)];}_0x3e9620-=_0x3efa1b;_0x2225b4===_0x23c28e(0x209)&&(_0x597e70=(_0x29846c-_0x3e9620)/startingBalances[_0x23c28e(0x20d)]*0x64,_0x29846c=_0x29846c-_0x3e9620);if(_0x2225b4===_0x23c28e(0x202)){let _0x33a270=_0x25f447===_0x23c28e(0x169)?startingBalances[_0x23c28e(0x14c)]:startingBalances[_0x23c28e(0xf9)];if(_0x1cf304===_0x23c28e(0x1b5)||_0x1cf304==='ETH')_0x3e9620=_0x25f447===_0x23c28e(0x169)?_0x3e9620*_0x3ce0e6['eur']:_0x3e9620*_0x3ce0e6[_0x23c28e(0xf9)];else{if(_0x1cf304===_0x23c28e(0x148)||_0x1cf304===_0x23c28e(0x1ac)||_0x1cf304===_0x23c28e(0xee))_0x3e9620=_0x25f447===_0x23c28e(0x169)?_0x3e9620*_0x3ce0e6['eur']/_0x3ce0e6['usd']:_0x3e9620;else _0x1cf304===_0x23c28e(0x169)&&(_0x3e9620=_0x25f447===_0x23c28e(0x169)?_0x3e9620:_0x3e9620*_0x3ce0e6[_0x23c28e(0xf9)]/_0x3ce0e6[_0x23c28e(0x14c)]);}_0x597e70=(_0x29846c-_0x3e9620)/_0x33a270*0x64,_0x29846c=_0x29846c-_0x3e9620;}if(_0x597e70){if(_0x597e70<0x64)_0x597e70=_0x597e70['toFixed'](0x2);else{if(_0x597e70<0x3e8)_0x597e70=_0x597e70[_0x23c28e(0x15e)](0x1);else _0x597e70=_0x597e70[_0x23c28e(0x15e)](0x0);}}else _0x597e70=Number('0')[_0x23c28e(0x15e)](0x2);if(_0x29846c){if(Math[_0x23c28e(0xdf)](_0x29846c)<0.000001)_0x29846c=_0x29846c['toFixed'](0x2);else{if(Math['abs'](_0x29846c)<0.1)_0x29846c=_0x29846c[_0x23c28e(0x15e)](0x6);else{if(Math[_0x23c28e(0xdf)](_0x29846c)<0x1)_0x29846c=_0x29846c[_0x23c28e(0x15e)](0x5);else{if(Math[_0x23c28e(0xdf)](_0x29846c)<0xa)_0x29846c=_0x29846c[_0x23c28e(0x15e)](0x4);else{if(Math[_0x23c28e(0xdf)](_0x29846c)<0x64)_0x29846c=_0x29846c[_0x23c28e(0x15e)](0x3);else{if(Math[_0x23c28e(0xdf)](_0x29846c)<0x3e8)_0x29846c=_0x29846c[_0x23c28e(0x15e)](0x2);else _0x29846c=_0x29846c[_0x23c28e(0x15e)](0x2);}}}}}}else _0x29846c=Number('0')[_0x23c28e(0x15e)](0x2);}else _0x597e70=Number('0')[_0x23c28e(0x15e)](0x2);return{'value':_0x29846c,'change':_0x597e70,'leftTxt':_0x5757ad,'rightTxt':_0x43404b};}async function getStartingBalances(_0x2d2d63,_0x5aa888=!![]){const _0x222499=_0x48b13c;if(_0x2d2d63['length']!==0x0){const [_0x480182,_0x4a83c3,_0x45efad]=getPerf(_0x2d2d63[0x0],!![]);let _0x54b136=[];config[_0x222499(0xd1)][_0x222499(0xfa)](_0x519ea5=>{const _0x30e907=_0x222499;let _0x45ecbd=0x0,_0x2bb353;config[_0x30e907(0xbf)]['forEach'](_0x2b6df4=>{const _0x8264da=_0x30e907;let _0xbd8e6f=_0x2b6df4['changes'][_0x8264da(0x1c4)](_0x47561c=>_0x47561c[_0x8264da(0x16b)]==_0x519ea5[_0x8264da(0x16b)]);if(_0xbd8e6f){_0x45ecbd+=_0xbd8e6f[_0x8264da(0x1b7)];if(!_0x2bb353)_0x2bb353=_0xbd8e6f[_0x8264da(0x1b4)];}}),_0x54b136[_0x30e907(0xde)]({'coin':_0x519ea5['coin'],'number':_0x45ecbd,'initialprice':_0x2bb353});});const _0xa492be={'basecoin':_0x480182,'eur':_0x4a83c3,'usd':_0x45efad,'coins':_0x54b136};if(_0x5aa888)proxyEmit(_0x222499(0xf3),_0xa492be);startingBalances=_0xa492be;}}function headlessMode(_0x43cbd6){const _0x464251=_0x48b13c;let _0x3ffdf0=_0x43cbd6[_0x464251(0xd1)],_0x4dcbe0=_0x43cbd6[_0x464251(0x159)],_0x5a1c35=[];for(let _0x2e55bb of _0x3ffdf0){if(_0x2e55bb[_0x464251(0x16b)]!=config['basecoin']){if(_0x2e55bb[_0x464251(0x164)]>=_0x4dcbe0/0x64){if(_0x2e55bb[_0x464251(0x11e)])_0x5a1c35[_0x464251(0xde)](_0x2e55bb);}else{if(_0x2e55bb[_0x464251(0x164)]<=-_0x4dcbe0/0x64){if(_0x2e55bb['valid'])_0x5a1c35[_0x464251(0xde)](_0x2e55bb);}}}}_0x5a1c35['length']>0x0&&placeOrder(_0x5a1c35);}function notifyBalance(_0xd805fa){const _0x2265b0=_0x48b13c;let _0x22b347=_0xd805fa[_0x2265b0(0xd1)],_0x2ff80b=_0xd805fa[_0x2265b0(0x159)],_0x503269=[];for(let _0x22aa83 of _0x22b347){if(_0x22aa83['coin']!=config[_0x2265b0(0x20d)]){if(_0x22aa83[_0x2265b0(0x164)]>=_0x2ff80b/0x64){if(_0x22aa83[_0x2265b0(0x11e)])_0x503269[_0x2265b0(0xde)](_0x22aa83);}else{if(_0x22aa83['delta']<=-_0x2ff80b/0x64){if(_0x22aa83[_0x2265b0(0x11e)])_0x503269[_0x2265b0(0xde)](_0x22aa83);}}}}if(_0x503269['length']>0x0){let _0x38d9ac=_0x503269[_0x2265b0(0xd2)](_0x4dbb4d=>_0x4dbb4d[_0x2265b0(0x16b)]);_0x38d9ac['sort']();let _0x1b8fb7=_0x38d9ac[_0x2265b0(0xb8)](',\x20');if(!lastCoinsToBalance)logHistory(_0x2265b0(0x21b),_0x2265b0(0x191));lastCoinsToBalance=_0x1b8fb7;}}function symbolToCoin(_0x1ce6cf){const _0x1a7ee0=_0x48b13c;let _0x11e4a2;if(_0x1ce6cf['includes']('/'+config[_0x1a7ee0(0x20d)]))_0x11e4a2=_0x1ce6cf[_0x1a7ee0(0x119)]('/'+config[_0x1a7ee0(0x20d)],'');if(_0x1ce6cf['includes'](config[_0x1a7ee0(0x20d)]+'/'))_0x11e4a2=_0x1ce6cf[_0x1a7ee0(0x119)](config[_0x1a7ee0(0x20d)]+'/','');return _0x11e4a2;}async function unlockOrders(){const _0x1e73b5=_0x48b13c;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x146378=await getCoins();[currentCoins,currentCoinsAll]=_0x146378,validateOrdersState=_0x1e73b5(0x1b6),persistOpenOrders([]),lockOrders=ORDERS[_0x1e73b5(0xe3)],logger['debug']('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x257c9c){const _0x3c9b62=_0x48b13c;if(_0x257c9c)validateOrdersState=_0x257c9c;logger[_0x3c9b62(0x147)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x3c9b62(0x1fb)+(lockOrders==0x1?_0x3c9b62(0x18f):lockOrders==0x2?_0x3c9b62(0x1b9):_0x3c9b62(0x155)));let _0x16b269=[],_0x2ebc5e=config[_0x3c9b62(0x1af)]==_0x3c9b62(0xd5)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x3c9b62(0x183)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3c9b62(0x1a3)])return;logger[_0x3c9b62(0x147)](_0x3c9b62(0x215)+validateOrdersState),lastOrders[_0x3c9b62(0xfa)](_0x17fc3f=>{const _0x2c77ab=_0x3c9b62;let _0x2752fb=![];_0x17fc3f[_0x2c77ab(0x19b)]>0x0&&(_0x2752fb=!![]),_0x16b269[_0x2c77ab(0xde)](_0x2752fb),_0x2752fb&&config[_0x2c77ab(0x1af)]!=_0x2c77ab(0xd5)&&logHistory(_0x2c77ab(0x114),_0x2c77ab(0x105)+_0x17fc3f[_0x2c77ab(0x151)]+'\x20'+_0x17fc3f[_0x2c77ab(0x1b0)]+'\x20#'+formatResult(_0x17fc3f[_0x2c77ab(0x19b)],0x8)+'\x20@'+formatResult(_0x17fc3f[_0x2c77ab(0x1b4)],0x8));}),_0x16b269[_0x3c9b62(0xfa)]((_0x2fe5e9,_0x23bdbd)=>{if(_0x2fe5e9)lastOrders['splice'](_0x23bdbd,0x1);}),persistOpenOrders(lastOrders);const _0xb91690=coolingDown?_0x3c9b62(0x172):'balancing\x20resumed';if(validateOrdersState==_0x3c9b62(0x1b6)){validateOrdersState=_0x3c9b62(0x1d1);if(_0x16b269[_0x3c9b62(0xab)](![])){if(config[_0x3c9b62(0x1af)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x3c9b62(0x1d1)){if(_0x16b269['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x3c9b62(0x1af)]==_0x3c9b62(0xd5)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x3c9b62(0x13a))_0x16b269['includes'](![])&&(config['ordertype']==_0x3c9b62(0xd5)?logHistory(_0x3c9b62(0x1f9),_0x3c9b62(0x1a4)+Math['round'](_0x2ebc5e*validateOrderInterval/0xea60)+_0x3c9b62(0x170)+_0xb91690):(await cancelOrders(),logHistory('success',_0x3c9b62(0xf6)+Math[_0x3c9b62(0x177)](_0x2ebc5e*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0xb91690))),await unlockOrders();else{if(validateOrdersState==_0x3c9b62(0xc4)){if(config[_0x3c9b62(0x1af)]!=_0x3c9b62(0xd5))logHistory('success',_0x3c9b62(0x1c2)+_0xb91690);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x984edc=>{const _0x1ddb0a=_0x579c;try{const _0x1f9b1f=await exchange['cancelOrder'](_0x984edc[_0x1ddb0a(0x130)],_0x984edc[_0x1ddb0a(0x151)]);}catch(_0x2f8fdc){if(_0x2f8fdc['toString']()['includes'](_0x1ddb0a(0xc8))){}else await handleError(_0x2f8fdc,_0x1ddb0a(0xae));}});}async function initCoinResults(){const _0x288c9d=_0x48b13c;let _0x5271db=[];config['portfolio'][_0x288c9d(0xfa)](_0xc2eebb=>{const _0x4d5738=_0x288c9d;if(!_0xc2eebb['excluded']&&_0xc2eebb[_0x4d5738(0x16b)]!=config[_0x4d5738(0x20d)]){let _0x3df726=dbCoinResults[_0x4d5738(0x21d)](_0x4d5738(0x188))[_0x4d5738(0x1c4)]({'coin':_0xc2eebb[_0x4d5738(0x16b)]})['value']();if(!_0x3df726){const _0x507a95=currentCoins[_0x4d5738(0x1c4)](_0x579bf9=>_0x579bf9['coin']==_0xc2eebb[_0x4d5738(0x16b)]),_0x4db6af=global[_0x4d5738(0x16a)][noslash(_0xc2eebb[_0x4d5738(0x151)])];let _0x3e96e2=_0x507a95?_0x507a95[_0x4d5738(0x1b7)]:null,_0x405a27=_0xc2eebb[_0x4d5738(0x149)]?0x1/_0x4db6af:_0x4db6af,_0x4d106d;config[_0x4d5738(0xbf)][_0x4d5738(0xfa)](_0x3837db=>{const _0x58e71c=_0x4d5738;!_0x4d106d&&(_0x4d106d=_0x3837db[_0x58e71c(0xbe)][_0x58e71c(0x1c4)](_0x77a1cf=>_0x77a1cf[_0x58e71c(0x16b)]==_0xc2eebb[_0x58e71c(0x16b)]),_0x4d106d&&(_0x3e96e2=_0x4d106d[_0x58e71c(0x1b7)],_0x405a27=_0x4d106d[_0x58e71c(0x1b4)]));}),_0x5271db[_0x4d5738(0xde)]({'coin':_0xc2eebb[_0x4d5738(0x16b)],'number':_0x3e96e2,'price':_0x405a27});}}}),_0x5271db[_0x288c9d(0xfa)](_0x355386=>{const _0x1fb444=_0x288c9d,_0x213fde={'coin':_0x355386['coin'],'number':_0x355386['number'],'breakeven':_0x355386[_0x1fb444(0x1b4)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1fb444(0x21d)]('coins')['push'](_0x213fde)['write']();});}async function updateCoinResults(_0x72a643,_0x3751e9=![]){const _0x452b48=_0x48b13c;let _0x530090,_0x47280a,_0x55dd7a,_0x3796df,_0x2a703e,_0x372c8b,_0x3d1e15=dbCoinResults[_0x452b48(0x21d)](_0x452b48(0x188))[_0x452b48(0x1c4)]({'coin':_0x72a643[_0x452b48(0x16b)]})['value']();!_0x3d1e15&&await initCoinResults();_0x72a643[_0x452b48(0x149)]&&(_0x372c8b={'filled':_0x72a643[_0x452b48(0x19b)]*_0x72a643[_0x452b48(0x1b4)],'amount':_0x72a643[_0x452b48(0x19b)]*_0x72a643[_0x452b48(0x1b4)],'side':_0x72a643['side']=='sell'?_0x452b48(0x16f):_0x452b48(0x137),'price':0x1/_0x72a643[_0x452b48(0x1b4)]},_0x72a643={..._0x72a643,..._0x372c8b});_0x3751e9?_0x47280a=_0x72a643[_0x452b48(0x1b0)]==_0x452b48(0x16f)?_0x3d1e15[_0x452b48(0x1b7)]+_0x72a643[_0x452b48(0x19b)]:_0x3d1e15[_0x452b48(0x1b7)]-_0x72a643['filled']:_0x47280a=await getCoinNumber(_0x72a643[_0x452b48(0x16b)]);if(_0x72a643['fee']&&_0x72a643['fee'][_0x452b48(0x11b)]==config[_0x452b48(0x20d)])_0x530090=_0x72a643[_0x452b48(0xa7)][_0x452b48(0x154)];else{if(_0x72a643[_0x452b48(0xa7)]&&_0x72a643[_0x452b48(0xa7)][_0x452b48(0x11b)]==_0x452b48(0x121)&&!_0x3751e9)_0x530090=_0x72a643[_0x452b48(0xa7)][_0x452b48(0x154)]*global['ticker'][_0x452b48(0x121)+config[_0x452b48(0x20d)]];else _0x530090=defaultFee*_0x72a643[_0x452b48(0x19b)]*_0x72a643['price'];}_0x72a643['side']=='buy'?(_0x55dd7a=_0x47280a!=0x0?(_0x3d1e15['breakeven']*_0x3d1e15[_0x452b48(0x1b7)]+_0x72a643[_0x452b48(0x1b4)]*(_0x47280a-_0x3d1e15[_0x452b48(0x1b7)])+_0x530090)/_0x47280a:0x0,_0x3796df=_0x3d1e15[_0x452b48(0x1b8)]):(_0x55dd7a=_0x47280a!=0x0?(_0x3d1e15[_0x452b48(0x125)]*_0x3d1e15['number']-_0x72a643[_0x452b48(0x1b4)]*(_0x3d1e15['number']-_0x47280a)+_0x530090)/_0x47280a:0x0,_0x3796df=_0x3d1e15[_0x452b48(0x1b8)]+(_0x72a643[_0x452b48(0x1b4)]-_0x3d1e15['breakeven'])*_0x72a643['filled']);_0x2a703e=(_0x72a643[_0x452b48(0x1b4)]-_0x55dd7a-_0x530090/_0x72a643[_0x452b48(0x19b)])*_0x47280a;let _0x5f3567={'coin':_0x72a643[_0x452b48(0x16b)],'number':_0x47280a,'breakeven':formatResult(_0x55dd7a,0x8),'realized':formatResult(_0x3796df,0x8),'unrealized':formatResult(_0x2a703e,0x8),'fees':formatResult(_0x3d1e15['fees']+_0x530090,0x8),'sells':_0x72a643[_0x452b48(0x1b0)]=='sell'?_0x3d1e15[_0x452b48(0x133)]+0x1:_0x3d1e15['sells'],'buys':_0x72a643['side']=='buy'?_0x3d1e15[_0x452b48(0x13f)]+0x1:_0x3d1e15[_0x452b48(0x13f)]};dbCoinResults[_0x452b48(0x21d)](_0x452b48(0x188))[_0x452b48(0x1c4)]({'coin':_0x72a643['coin']})[_0x452b48(0x196)](_0x5f3567)[_0x452b48(0x1be)]();if(!_0x3751e9){if(_0x72a643['fee']&&_0x72a643[_0x452b48(0xa7)][_0x452b48(0x11b)]==_0x452b48(0x121)){const _0x5a3578=currentCoins[_0x452b48(0x1c4)](_0x1e571f=>_0x1e571f[_0x452b48(0x16b)]==_0x452b48(0x121));if(_0x5a3578){let _0x2bd6c9=dbCoinResults[_0x452b48(0x21d)](_0x452b48(0x188))[_0x452b48(0x1c4)]({'coin':_0x452b48(0x121)})[_0x452b48(0x158)]();_0x5f3567={..._0x2bd6c9,'number':_0x5a3578[_0x452b48(0x1b7)]},dbCoinResults['get'](_0x452b48(0x188))[_0x452b48(0x1c4)]({'coin':'BNB'})['assign'](_0x5f3567)['write']();}}}}async function placeOrder(_0x2fdadc){const _0x3394aa=_0x48b13c,_0x276cf4=config['ordertype']==_0x3394aa(0xd5)?_0x3394aa(0xd5):'limit';if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x3394aa(0x1a3)],allOrdersPlaced=![],validateOrdersState=_0x3394aa(0x1b6),lastOrders=[];for(const _0x4e1c4b of _0x2fdadc){let _0x138afa,_0x4d3e2b,_0x4603a7,_0x3ce2e5,_0x5dbe14,_0xb2bcc2=_0x4e1c4b['symbol'];try{const _0x853542=await exchange[_0x3394aa(0x1f4)](_0xb2bcc2);_0x138afa=_0x4e1c4b[_0x3394aa(0x149)]?0x1/_0x4e1c4b['last']:_0x4e1c4b[_0x3394aa(0x1e1)],_0x4d3e2b=_0x853542[_0x3394aa(0x1ee)],_0x4603a7=_0x853542[_0x3394aa(0x206)];_0x4e1c4b['reverse']?(_0x3ce2e5=_0x4e1c4b['side']==_0x3394aa(0x16f)?_0x3394aa(0x137):'buy',_0x5dbe14=Math[_0x3394aa(0xdf)](_0x4e1c4b['trade'])/_0x138afa):(_0x3ce2e5=_0x4e1c4b[_0x3394aa(0x1b0)],_0x5dbe14=Math[_0x3394aa(0xdf)](_0x4e1c4b[_0x3394aa(0x141)]));_0x276cf4==_0x3394aa(0x200)&&(config[_0x3394aa(0x1af)]=='limit-high'&&(_0x138afa=_0x3ce2e5==_0x3394aa(0x16f)?_0x4d3e2b:_0x4603a7),config[_0x3394aa(0x1af)]==_0x3394aa(0xfd)&&(_0x138afa=_0x3ce2e5==_0x3394aa(0x16f)?_0x4603a7:_0x4d3e2b));_0x5dbe14=formatResult(_0x5dbe14,0x8),_0x138afa=formatResult(_0x138afa,0x8);const _0x204003=_0x3ce2e5==_0x3394aa(0x137)?config['emojisell']?String['fromCodePoint']('0x'+config[_0x3394aa(0x19f)])+'\x20':'':config['emojibuy']?String[_0x3394aa(0x1b3)]('0x'+config['emojibuy'])+'\x20':'',_0x83d500=_0x276cf4==_0x3394aa(0xd5)?'Market':config['ordertype']==_0x3394aa(0xc0)?_0x3394aa(0x212):_0x3394aa(0x16d),_0x201ebd=new Date()[_0x3394aa(0x14f)]()[_0x3394aa(0xcf)]()[_0x3394aa(0x1ff)](-0x6)+'-'+Math[_0x3394aa(0x18b)]()[_0x3394aa(0xcf)]()[_0x3394aa(0x1ff)](-0x6);lastOrders[_0x3394aa(0xde)]({'customId':_0x201ebd,'symbol':_0xb2bcc2,'coin':_0x4e1c4b['coin'],'side':_0x3ce2e5,'reverse':_0x4e1c4b[_0x3394aa(0x149)],'filled':0x0});if(_0x276cf4==_0x3394aa(0xd5))logHistory(_0x3394aa(0x114),''+_0x204003+_0x83d500+_0x3394aa(0x205)+_0xb2bcc2+'\x20'+_0x3ce2e5+'\x20#'+formatResult(_0x5dbe14,0x8)+'\x20@'+formatResult(_0x138afa,0x8));else logHistory(_0x3394aa(0x114),''+_0x204003+_0x83d500+_0x3394aa(0x205)+_0xb2bcc2+'\x20'+_0x3ce2e5+'\x20#'+formatResult(_0x5dbe14,0x8)+'\x20@'+formatResult(_0x138afa,0x8));const _0x450106=await exchange[_0x3394aa(0x19a)](_0xb2bcc2,_0x276cf4,_0x3ce2e5,_0x5dbe14,_0x138afa,{'clientOrderId':_0x201ebd}),_0x5a5d59=lastOrders[_0x3394aa(0x1c6)]-0x1;_0x5a5d59>=0x0&&lastOrders[_0x5a5d59][_0x3394aa(0x13b)]==_0x201ebd&&(lastOrders[_0x5a5d59]={...lastOrders[_0x5a5d59],'orderId':_0x450106['id'],'amount':_0x450106['amount'],'price':_0x450106[_0x3394aa(0x1b4)],'fee':_0x450106[_0x3394aa(0xa7)]});if(config[_0x3394aa(0xc9)]!=0x0){let _0x28d5de=null;if(cooldownTracker[_0x3394aa(0x1c6)]==config[_0x3394aa(0xc9)]-0x1)_0x28d5de=cooldownTracker['shift']();const _0x1d5a3e=getTimeStamp();cooldownTracker[_0x3394aa(0xde)](_0x1d5a3e);if(_0x28d5de){const _0xd3acc2=fns[_0x3394aa(0xf0)](new Date(_0x1d5a3e),new Date(_0x28d5de));if(_0xd3acc2<cooldownInterval){logHistory(_0x3394aa(0x12a),_0x3394aa(0xd6)+config[_0x3394aa(0xc9)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x3394aa(0x17b)+cooldownPeriod/(0xe10*0x3e8)+_0x3394aa(0x1e3)),coolingDown=!![];break;}}}}catch(_0x327e38){if(_0x327e38['toString']()[_0x3394aa(0xab)](_0x3394aa(0x1e2)))lastOrders=lastOrders[_0x3394aa(0xcc)](_0x118824=>_0x118824[_0x3394aa(0x151)]!=_0xb2bcc2),await pauseBot(_0x3394aa(0x128)+_0xb2bcc2);else _0x327e38[_0x3394aa(0xcf)]()[_0x3394aa(0xab)](_0x3394aa(0xc3))?(lastOrders=lastOrders[_0x3394aa(0xcc)](_0x14cac7=>_0x14cac7[_0x3394aa(0x151)]!=_0xb2bcc2),await pauseBot(_0x3394aa(0x1c5)+_0xb2bcc2)):(lastOrders=lastOrders['filter'](_0xd476d6=>_0xd476d6['symbol']!=_0xb2bcc2),await handleError(_0x327e38,_0x3394aa(0xf8),_0xb2bcc2));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5f01ef=config[_0x3394aa(0x1af)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x3394aa(0x183)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x5f01ef);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x3394aa(0x1c1)));}else{if(coolingDown)!config[_0x3394aa(0x12b)]&&logHistory(_0x3394aa(0x12a),_0x3394aa(0xe4));else lockOrders!=ORDERS[_0x3394aa(0xe3)]&&(!config[_0x3394aa(0x12b)]&&(config[_0x3394aa(0x1af)]==_0x3394aa(0xd5)?logHistory(_0x3394aa(0x12a),_0x3394aa(0xca)):logHistory(_0x3394aa(0x12a),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x42d21a){const _0x2fc751=_0x48b13c,_0x16fb78={...config,'openOrders':_0x42d21a};let _0xb63e9b=dbConfig[_0x2fc751(0x21d)]('bot')[_0x2fc751(0x1c4)]({'botID':botID})[_0x2fc751(0x158)]();_0xb63e9b&&dbConfig[_0x2fc751(0x21d)](_0x2fc751(0x122))['find']({'botID':botID})[_0x2fc751(0x196)](_0x16fb78)['write']();}function restoreOrders(){const _0x3f50ac=_0x48b13c;let _0x4ccd9c;config[_0x3f50ac(0x134)]&&allOpenOrders[_0x3f50ac(0xfa)](_0x49aa53=>{const _0x172ee2=_0x3f50ac,_0x2f4fa4=config[_0x172ee2(0x134)][_0x172ee2(0x1c4)](_0x5af623=>_0x5af623[_0x172ee2(0x130)]==_0x49aa53['id']);_0x2f4fa4&&(lastOrders['push'](_0x2f4fa4),_0x4ccd9c=_0x49aa53[_0x172ee2(0x15f)]);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x3f50ac(0x1a3)],validateOrdersState=_0x3f50ac(0x1d1),allOrdersPlaced=!![];const _0x42cdfd=new Date()[_0x3f50ac(0x14f)](),_0x210083=config['ordertype']==_0x3f50ac(0xd5)?validateOrderTimeout*0x3c*0x3e8:config[_0x3f50ac(0x183)]*0x3c*0x3e8;if(_0x4ccd9c+_0x210083>_0x42cdfd){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1d99c6=_0x3f50ac;validateOrders(_0x1d99c6(0x13a));},_0x4ccd9c+_0x210083-_0x42cdfd);}else validateOrders(_0x3f50ac(0x13a));}}async function sendMetricsTelegram(){const _0x1d8192=_0x48b13c;if(!coinsLoaded){process[_0x1d8192(0xeb)]({'telegrammsg':_0x1d8192(0x129)},_0x3c16a9=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x509461='';if(config['showname'])_0x509461='<b>'+config[_0x1d8192(0xb1)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x509461='<b>Bot\x20'+botID+_0x1d8192(0x12d);const _0x324fb9=getKPIs(_0x1d8192(0x20d)),_0x2dba7a=getKPIs('fiat',config[_0x1d8192(0x199)]),_0x47555e=getKPIs(_0x1d8192(0x209)),_0x837dfd=getKPIs(_0x1d8192(0x202),config[_0x1d8192(0x199)]);_0x509461+=_0x1d8192(0xb5),_0x509461+=_0x324fb9[_0x1d8192(0x1fa)]+_0x1d8192(0x178)+_0x324fb9['value']+'\x0a',_0x509461+=_0x324fb9[_0x1d8192(0x140)]+':\x20'+_0x324fb9[_0x1d8192(0x1c8)]+'%\x0a',_0x509461+=_0x2dba7a[_0x1d8192(0x1fa)]+'\x20:\x20'+_0x2dba7a['value']+'\x0a',_0x509461+=_0x2dba7a[_0x1d8192(0x140)]+':\x20'+_0x2dba7a[_0x1d8192(0x1c8)]+'%\x0a',_0x509461+=_0x47555e['leftTxt']+':\x20'+_0x47555e['value']+'\x20('+config[_0x1d8192(0x20d)]+')\x0a',_0x509461+=_0x47555e[_0x1d8192(0x140)]+':\x20'+_0x47555e['change']+_0x1d8192(0x1cd)+config[_0x1d8192(0x20d)]+')\x0a',_0x509461+=_0x837dfd[_0x1d8192(0x1fa)]+':\x20'+_0x837dfd[_0x1d8192(0x158)]+'\x20('+config[_0x1d8192(0x199)]+')\x0a',_0x509461+=_0x837dfd['rightTxt']+':\x20'+_0x837dfd[_0x1d8192(0x1c8)]+'%\x20('+config[_0x1d8192(0x199)]+')\x0a',_0x509461+='</pre>',process[_0x1d8192(0xeb)]({'telegrammsg':_0x509461},_0x482844=>{});}async function sendPortfolioTelegram(){const _0x4e43a4=_0x48b13c;if(!coinsLoaded){process[_0x4e43a4(0xeb)]({'telegrammsg':_0x4e43a4(0x129)},_0x4cf176=>{});return;}let _0x49a72d='';if(config[_0x4e43a4(0x10c)])_0x49a72d=_0x4e43a4(0xd3)+config[_0x4e43a4(0xb1)]+_0x4e43a4(0x17d);else _0x49a72d=_0x4e43a4(0x132)+botID+_0x4e43a4(0x17d);_0x49a72d+=_0x4e43a4(0xb5),_0x49a72d+=_0x4e43a4(0xb0),_0x49a72d+=_0x4e43a4(0x1dc),_0x49a72d+=_0x4e43a4(0xb0),currentCoins['forEach'](_0x6e5096=>{const _0x33b14e=_0x4e43a4;_0x49a72d+=_0x6e5096[_0x33b14e(0x16b)][_0x33b14e(0x1de)](0x7)+'|\x20'+formatPad(_0x6e5096[_0x33b14e(0xa5)],0x2,0x6)+'|\x20'+formatPad(_0x6e5096[_0x33b14e(0x1b1)],0x2,0x6)+'|\x20'+formatPad(_0x6e5096[_0x33b14e(0x164)]*0x64,0x2,0x6)+'\x0a';}),_0x49a72d+=_0x4e43a4(0x1e0),process[_0x4e43a4(0xeb)]({'telegrammsg':_0x49a72d},_0x5d05c7=>{});}function formatPad(_0x3daa9b,_0x5587f8,_0xdaccbd){const _0x3618bf=_0x48b13c,_0x140bc9=formatResultString(_0x3daa9b,_0x5587f8);return _0x140bc9?_0x140bc9[_0x3618bf(0x16c)](_0xdaccbd):''['padStart'](_0xdaccbd);}function logHistory(_0x47fab9,_0x34edb0,_0x4715e7=''){const _0x22cccb=_0x48b13c;let _0x1945f3={'time':getTimeStamp(),'type':_0x47fab9,'event':_0x34edb0};dbLogs[_0x22cccb(0x21d)]('logs')[_0x22cccb(0xde)](_0x1945f3)[_0x22cccb(0x1be)]();if(_0x4715e7=='')_0x4715e7=_0x34edb0;proxyEmit('event',{'log':_0x1945f3,'summary':_0x4715e7}),process[_0x22cccb(0xeb)]({'telegram':{..._0x1945f3,'botname':config['botname'],'showname':config[_0x22cccb(0x10c)]}},_0x39d4db=>{}),logger[_0x22cccb(0xa4)](''+_0x1945f3['event']);}function emitHistory(_0x379110={}){const _0x375270=_0x48b13c;Object[_0x375270(0x150)](_0x379110)[_0x375270(0x1c6)]==0x0&&(_0x379110={'type':['order',_0x375270(0x1e7)],'event':'','page':0x1});if(_0x379110[_0x375270(0x153)][_0x375270(0xab)](_0x375270(0x1e7)))_0x379110[_0x375270(0x153)]['splice'](_0x379110[_0x375270(0x153)][_0x375270(0x11f)](_0x375270(0x1e7)),0x1,_0x375270(0x12a),_0x375270(0x21b),'success');if(dbLogs[_0x375270(0x1d2)](_0x375270(0x12c))['value']()){let _0x310587=dbLogs[_0x375270(0x21d)](_0x375270(0x12c))[_0x375270(0xcc)](_0x16aa53=>{const _0x332533=_0x375270;if(_0x379110['type'][_0x332533(0x1c6)]==0x0)return![];else return _0x379110[_0x332533(0x153)][_0x332533(0xab)](_0x16aa53[_0x332533(0x153)]);})[_0x375270(0xcc)](_0x2b26b3=>{const _0x31222b=_0x375270;if(_0x379110[_0x31222b(0x1e7)]=='')return!![];else return _0x2b26b3[_0x31222b(0x1e7)][_0x31222b(0x213)]()[_0x31222b(0xab)](_0x379110[_0x31222b(0x1e7)][_0x31222b(0x213)]());})['sortBy'](_0x375270(0xd7)),_0x3b1d6e=_0x310587[_0x375270(0x158)]()[_0x375270(0x1c6)];_0x310587=_0x310587[_0x375270(0x149)]()[_0x375270(0x1ff)]((_0x379110['page']-0x1)*logPageSize,_0x379110[_0x375270(0x136)]*logPageSize-0x1)[_0x375270(0x149)]()[_0x375270(0x158)](),proxyEmit('event-history',{'logs':_0x310587,'total':_0x3b1d6e});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x1c3bde){const _0x3991e4=_0x48b13c;if(dbLogs[_0x3991e4(0x1d2)](_0x3991e4(0x12c))[_0x3991e4(0x158)]()){const _0x4f0d70=dbLogs[_0x3991e4(0x21d)](_0x3991e4(0x12c))[_0x3991e4(0x1d5)](_0x3991e4(0xd7))[_0x3991e4(0xcc)](_0x1baa18=>{const _0x50cccc=_0x3991e4;return _0x1baa18[_0x50cccc(0x153)]==_0x50cccc(0x114);})[_0x3991e4(0x158)]();dbLogs[_0x3991e4(0x21d)]('logs')[_0x3991e4(0x1db)]()[_0x3991e4(0x1be)](),dbLogs[_0x3991e4(0x21d)](_0x3991e4(0x12c))['assign'](_0x4f0d70)[_0x3991e4(0x1be)](),emitHistory(_0x1c3bde);}}async function pauseBot(_0x584308=''){const _0x38372c=_0x48b13c,_0x504a03=new Date()[_0x38372c(0x14f)]();if(!lastErrorShown||_0x504a03-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x504a03;!lastBotPause?(lastBotPause=_0x504a03,consecutivePauses=0x1):(_0x504a03-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x38372c(0xeb)]({'stop':_0x38372c(0xe6)},_0x141edf=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x38372c(0x14f)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x584308)_0x584308+=_0x38372c(0x1fd);logHistory(_0x38372c(0x12a),_0x584308+_0x38372c(0x1df)+pauseBotInterval/0xea60+_0x38372c(0x161)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x407591=_0x48b13c;process[_0x407591(0xeb)]({'stop':_0x407591(0x1f3)},_0x11ffc6=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2f76ab,_0x45d09d){const _0x387def=_0x48b13c;if(_0x2f76ab[_0x387def(0xcf)]()[_0x387def(0xab)](_0x387def(0x10a)))return logHistory('error',config[_0x387def(0x1c0)]+_0x387def(0xf5)),![];else{if(_0x2f76ab[_0x387def(0xcf)]()['includes'](_0x387def(0x13d)))return logHistory(_0x387def(0x12a),config[_0x387def(0x1c0)]+_0x387def(0x210)),![];else{if(_0x2f76ab[_0x387def(0xcf)]()[_0x387def(0xab)](_0x387def(0x1c9)))return logHistory(_0x387def(0x12a),config[_0x387def(0x1c0)]+_0x387def(0x1c7)),logHistory('error',_0x387def(0x120)),![];else await handleError(_0x2f76ab,_0x45d09d);}}}async function handleError(_0x142117,_0x46c4ba,_0x27fd5a=''){const _0x3dd486=_0x48b13c,_0x424239=config[_0x3dd486(0x1c0)]||_0x3dd486(0x1ed);if(_0x142117[_0x3dd486(0xcf)]()['includes'](_0x3dd486(0xa8)))await pauseBot(config[_0x3dd486(0x1c0)]+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x142117[_0x3dd486(0xcf)]()[_0x3dd486(0xab)](_0x3dd486(0xf1)))await pauseBot(config[_0x3dd486(0x1c0)]+_0x3dd486(0xe1));else{if(_0x142117[_0x3dd486(0xcf)]()[_0x3dd486(0xab)](_0x3dd486(0x19d)))await pauseBot(config['exchange']+_0x3dd486(0x10e));else{if(_0x142117['toString']()[_0x3dd486(0xab)](_0x3dd486(0x117)))await pauseBot(config[_0x3dd486(0x1c0)]+_0x3dd486(0x214));else{if(_0x142117[_0x3dd486(0xcf)]()[_0x3dd486(0xab)](_0x3dd486(0x10b)))logHistory('error',_0x46c4ba+_0x3dd486(0x1ca)),logHistory(_0x3dd486(0x12a),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x142117[_0x3dd486(0xcf)]()[_0x3dd486(0xab)](_0x3dd486(0x1da)))logHistory(_0x3dd486(0x12a),_0x46c4ba+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x3dd486(0x1d4)),await killBot();else{if(_0x142117[_0x3dd486(0xcf)]()[_0x3dd486(0xab)](_0x3dd486(0x10a)))logHistory(_0x3dd486(0x12a),_0x46c4ba+_0x3dd486(0x1fd)+config[_0x3dd486(0x1c0)]+_0x3dd486(0x1a7)),logHistory(_0x3dd486(0x12a),_0x3dd486(0x1d4)),await killBot();else{if(_0x142117[_0x3dd486(0xcf)]()[_0x3dd486(0xab)](_0x3dd486(0x13d)))logHistory(_0x3dd486(0x12a),_0x46c4ba+'\x20|\x20'+config[_0x3dd486(0x1c0)]+_0x3dd486(0xcd)),logHistory(_0x3dd486(0x12a),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x142117['toString']()['includes'](_0x3dd486(0x1c9)))logHistory('error',_0x46c4ba+'\x20|\x20'+config[_0x3dd486(0x1c0)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x3dd486(0x12a),_0x3dd486(0x1d4)),await killBot();else _0x142117['toString']()[_0x3dd486(0xab)]('InsufficientFunds')?logHistory('error',_0x46c4ba+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x27fd5a):(logger[_0x3dd486(0xa4)](_0x46c4ba+_0x3dd486(0x11c),_0x142117),await pauseBot(_0x3dd486(0x111)));}}}}}}}}}function formatResult(_0x564dbd,_0x1f4a22){return parseFloat(_0x564dbd['toFixed'](_0x1f4a22));}function formatResultTruncate(_0x197368,_0x17bd17){const _0x42d65d=_0x48b13c;let _0x1dd76f=formatResultString(_0x197368,0xa),_0x44d93e=_0x1dd76f[_0x42d65d(0x11f)]('.');return _0x44d93e!=-0x1&&(_0x1dd76f=_0x1dd76f[_0x42d65d(0x1ff)](0x0,_0x44d93e+_0x17bd17+0x1)),Number(_0x1dd76f);}function formatResultString(_0x122dc6,_0x16809f){const _0x4261d7=_0x48b13c;let _0x45f31a;if(!(''+_0x122dc6)['includes']('e'))_0x45f31a=+(Math[_0x4261d7(0x177)](_0x122dc6+'e+'+_0x16809f)+'e-'+_0x16809f);else{let _0x14c362=(''+_0x122dc6)[_0x4261d7(0xd8)]('e'),_0x13b4a2='';+_0x14c362[0x1]+_0x16809f>0x0&&(_0x13b4a2='+'),_0x45f31a=+(Math['round'](+_0x14c362[0x0]+'e'+_0x13b4a2+(+_0x14c362[0x1]+_0x16809f))+'e-'+_0x16809f);}return Number(_0x45f31a)[_0x4261d7(0x15e)](_0x16809f);}function getServerTime(){const _0x789a5e=_0x48b13c,_0x51eb34=new Date();return _0x51eb34[_0x789a5e(0x10d)]()+'/'+(_0x51eb34[_0x789a5e(0x112)]()+0x1)[_0x789a5e(0xcf)]()[_0x789a5e(0x16c)](0x2,'0')+'/'+_0x51eb34[_0x789a5e(0x17f)]()[_0x789a5e(0xcf)]()[_0x789a5e(0x16c)](0x2,'0')+'\x20'+_0x51eb34['getHours']()[_0x789a5e(0xcf)]()['padStart'](0x2,'0')+':'+_0x51eb34[_0x789a5e(0x1d0)]()[_0x789a5e(0xcf)]()['padStart'](0x2,'0')+':'+_0x51eb34[_0x789a5e(0x19e)]()['toString']()[_0x789a5e(0x16c)](0x2,'0');}function getTimeStamp(){const _0x1533d6=_0x48b13c,_0x25eae1=shiftedTime();return _0x25eae1[_0x1533d6(0x10d)]()+'/'+(_0x25eae1[_0x1533d6(0x112)]()+0x1)[_0x1533d6(0xcf)]()[_0x1533d6(0x16c)](0x2,'0')+'/'+_0x25eae1[_0x1533d6(0x17f)]()[_0x1533d6(0xcf)]()[_0x1533d6(0x16c)](0x2,'0')+'\x20'+_0x25eae1['getHours']()[_0x1533d6(0xcf)]()[_0x1533d6(0x16c)](0x2,'0')+':'+_0x25eae1[_0x1533d6(0x1d0)]()['toString']()['padStart'](0x2,'0')+':'+_0x25eae1[_0x1533d6(0x19e)]()[_0x1533d6(0xcf)]()['padStart'](0x2,'0');}function getDate(){const _0x593cd9=_0x48b13c,_0x541230=shiftedTime();return _0x541230[_0x593cd9(0x10d)]()+'/'+(_0x541230[_0x593cd9(0x112)]()+0x1)['toString']()[_0x593cd9(0x16c)](0x2,'0')+'/'+_0x541230[_0x593cd9(0x17f)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0x7bed4a=_0x48b13c,_0x2467a1=shiftedTime();return _0x2467a1[_0x7bed4a(0x1d6)]()[_0x7bed4a(0xcf)]()[_0x7bed4a(0x16c)](0x2,'0');}function sleep(_0x336128){return new Promise(_0x467e25=>setTimeout(_0x467e25,_0x336128));}function shiftedTime(){const _0x484ba2=_0x48b13c,_0x2a2546=new Date();let _0x40b4a8=_0x2a2546;if(config&&config['timeshift']!==0x0)_0x40b4a8=fns[_0x484ba2(0x207)](_0x2a2546,{'hours':config[_0x484ba2(0x14b)]});return _0x40b4a8;}function timer(_0x5331fa){const _0x2d8f9c=_0x48b13c,_0x148f12=new Date();!lasttime?console[_0x2d8f9c(0x1d9)](_0x2d8f9c(0xa3),_0x5331fa,_0x148f12):console[_0x2d8f9c(0x1d9)](_0x2d8f9c(0xa3),_0x5331fa,(_0x148f12-lasttime)/0x3e8),lasttime=_0x148f12;}