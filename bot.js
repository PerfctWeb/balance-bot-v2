const _0x1bf9b2=_0x5a05;(function(_0x46b6aa,_0x260bc7){const _0x18f707=_0x5a05,_0x36e412=_0x46b6aa();while(!![]){try{const _0x21e008=-parseInt(_0x18f707(0x1a2))/0x1*(-parseInt(_0x18f707(0x188))/0x2)+parseInt(_0x18f707(0x16d))/0x3+-parseInt(_0x18f707(0x119))/0x4+parseInt(_0x18f707(0xe6))/0x5+-parseInt(_0x18f707(0xdf))/0x6*(-parseInt(_0x18f707(0x1ad))/0x7)+parseInt(_0x18f707(0x16f))/0x8*(-parseInt(_0x18f707(0x192))/0x9)+-parseInt(_0x18f707(0x199))/0xa*(-parseInt(_0x18f707(0x152))/0xb);if(_0x21e008===_0x260bc7)break;else _0x36e412['push'](_0x36e412['shift']());}catch(_0x2b8210){_0x36e412['push'](_0x36e412['shift']());}}}(_0x347d,0x41693));const _0xe96c28=function(){let _0x54aa0d=!![];return function(_0x19b1c3,_0x4647d8){const _0x388ab6=_0x54aa0d?function(){if(_0x4647d8){const _0x440b1a=_0x4647d8['apply'](_0x19b1c3,arguments);return _0x4647d8=null,_0x440b1a;}}:function(){};return _0x54aa0d=![],_0x388ab6;};}(),_0x10f1ab=_0xe96c28(this,function(){const _0x3dc018=_0x5a05;return _0x10f1ab['toString']()[_0x3dc018(0x150)](_0x3dc018(0x18d))[_0x3dc018(0x14a)]()[_0x3dc018(0x1b4)](_0x10f1ab)[_0x3dc018(0x150)](_0x3dc018(0x18d));});_0x10f1ab();'use strict';const ccxt=require(_0x1bf9b2(0xf8)),low=require(_0x1bf9b2(0x1dc)),FileSync=require(_0x1bf9b2(0x123)),fs=require('fs'),fns=require(_0x1bf9b2(0x176)),{WebsocketClient,DefaultLogger}=require(_0x1bf9b2(0xfd)),Crypt=require('hybrid-crypto-js')[_0x1bf9b2(0x195)];let exchange,wsClient;global[_0x1bf9b2(0x190)]={};let ws1=[],ws2=null;const exceptions=['DAI/',_0x1bf9b2(0xff),_0x1bf9b2(0x100),_0x1bf9b2(0x1ce),_0x1bf9b2(0x16c),'YOYOW/'];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x1bf9b2(0x1f2))[_0x1bf9b2(0x1bd)],botID=process[_0x1bf9b2(0x1d8)][0x2]||_0x1bf9b2(0x133),pattern=/^[0-9]{3}$/;if(!pattern[_0x1bf9b2(0x172)](botID))return console['log'](_0x1bf9b2(0x174)+botID+_0x1bf9b2(0x106)),process[_0x1bf9b2(0xed)](0x1);const userID=process['argv'][0x3]||'',configpath=userID?_0x1bf9b2(0x13e)+userID+'/':'./config/';!fs['existsSync'](configpath)&&fs[_0x1bf9b2(0x173)](configpath);const configfile=configpath+_0x1bf9b2(0x17c)+botID+_0x1bf9b2(0x141),logfile=configpath+_0x1bf9b2(0x17c)+botID+_0x1bf9b2(0xf3),performancefile=configpath+_0x1bf9b2(0x17c)+botID+_0x1bf9b2(0x1b6),coinresultsfile=configpath+_0x1bf9b2(0x17c)+botID+_0x1bf9b2(0xdc),settingsfile=configpath+_0x1bf9b2(0x1ac),securefile=configpath+_0x1bf9b2(0xd6),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x1bf9b2(0x1ba)]({'logs':[]})[_0x1bf9b2(0x154)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1bf9b2(0x1ba)]({'data':[]})[_0x1bf9b2(0x154)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x1bf9b2(0x1ba)]({'bot':[]})[_0x1bf9b2(0x154)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1bf9b2(0x1ba)]({'coins':[]})[_0x1bf9b2(0x154)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x1bf9b2(0x170),'symbol':_0x1bf9b2(0x1e3)},'usd':{'coin':_0x1bf9b2(0xe4),'symbol':'BTC/USDT'}},lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x5ba645)=>{},'debug':(..._0x2d9295)=>{},'notice':(..._0x1e726d)=>{},'info':(..._0x138763)=>{},'warning':(..._0x43fbdf)=>{},'error':async function(..._0x9dba57){const _0x573d9f=_0x1bf9b2,_0x17317e=new Date()['getTime']();if(!lastErrorShown||_0x17317e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x573d9f(0x10b)]();let _0x11ec43='';if(_0x9dba57[0x0])_0x11ec43+=_0x9dba57[0x0];if(_0x9dba57[0x1]&&_0x9dba57[0x1][_0x573d9f(0x1ea)]&&_0x9dba57[0x1]['error'][_0x573d9f(0x1cb)])_0x11ec43+=_0x573d9f(0x143)+_0x9dba57[0x1]['error'][_0x573d9f(0x1cb)];logging(_0x573d9f(0x1c6)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x11ec43),await pauseBot(_0x573d9f(0x14b));}}},crypt=new Crypt({'md':_0x1bf9b2(0x126),'rsaStandard':_0x1bf9b2(0x1c7)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings['timeshift']!=config[_0x1bf9b2(0x17d)]&&updateTimeshift(settings[_0x1bf9b2(0x17d)]);process[_0x1bf9b2(0x11b)]({'started':_0x1bf9b2(0xfb)},_0x5b3942=>{}),initializeProcessListeners();function proxyEmit(_0x39f2e9,_0x3a7ea4=null){const _0x4ea89c=_0x1bf9b2;process[_0x4ea89c(0x11b)]({'function':_0x39f2e9,'args':_0x3a7ea4},_0x1c24dc=>{});}function initializeProcessListeners(){process['on']('message',_0x3ad477=>{const _0x43feda=_0x5a05;switch(Object['keys'](_0x3ad477)[0x0]){case _0x43feda(0x17d):_0x3ad477[_0x43feda(0x17d)]!=undefined&&(settings['timeshift']=_0x3ad477[_0x43feda(0x17d)],updateTimeshift(settings['timeshift']));break;case _0x43feda(0x144):switch(_0x3ad477['function']){case'initclient':initclient();break;case'emitHistory':emitHistory(_0x3ad477['args']);break;case _0x43feda(0xf5):deleteHistoryAlerts(_0x3ad477[_0x43feda(0x157)]);break;case _0x43feda(0x1a3):getPortfolio(_0x3ad477[_0x43feda(0x157)]);break;case _0x43feda(0xe5):storeConfiguration(_0x3ad477[_0x43feda(0x157)]);break;case'storeHeadless':storeHeadless(_0x3ad477[_0x43feda(0x157)]);break;case _0x43feda(0x1bb):getStartingBalances(getNormalizedPerformance());break;case _0x43feda(0x128):placeOrder(_0x3ad477[_0x43feda(0x157)]);break;case _0x43feda(0x187):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x546ddc=_0x1bf9b2;if(pidBalances)clearTimeout(pidBalances);if(config[_0x546ddc(0x16a)]!=''){await initExchange(config[_0x546ddc(0x16a)],config['apiSecret']);let _0x41b577=await loadSymbols();_0x41b577&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x137b7c,_0x3e7f41){const _0x7c866e=_0x1bf9b2,_0x4fa501=ccxt[config[_0x7c866e(0x12f)]];let _0x156c17;switch(config['exchange']){case'binance':_0x156c17='wss://stream.binance.com:9443';break;case _0x7c866e(0x1be):_0x156c17=_0x7c866e(0x189);break;default:_0x156c17='wss://stream.binance.com:9443';}exchange=new _0x4fa501({'apiKey':_0x137b7c,'secret':_0x3e7f41,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x137b7c,'api_secret':_0x3e7f41,'beautify':!![],'wsUrl':_0x156c17},logger),config[_0x7c866e(0x12f)]==_0x7c866e(0x1be)&&(stablecoins={'eur':{'coin':_0x7c866e(0x149),'symbol':_0x7c866e(0x18b)},'usd':{'coin':_0x7c866e(0xe4),'symbol':_0x7c866e(0x19c)}});}async function loadSymbols(){const _0x3051c1=_0x1bf9b2;let _0x26fe02;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x3051c1(0x191)][_0x3051c1(0x10f)](_0x2918a9=>{const _0x2fa164=_0x3051c1;let _0x36c077=![];return exceptions[_0x2fa164(0x1a0)](_0x1102a2=>{if(_0x2918a9['includes'](_0x1102a2))_0x36c077=!![];}),!_0x36c077;}),_0x26fe02=!![];}catch(_0x2d5c85){await handleError(_0x2d5c85,'loadSymbols()'),_0x26fe02=![];}return _0x26fe02;}async function initbot(){const _0x246fcf=_0x1bf9b2;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x2429d2=dbCoinResults[_0x246fcf(0x125)](_0x246fcf(0x13b))[_0x246fcf(0xee)]();if(_0x2429d2['length']==0x0)await resetCoinResults();}async function initclient(){const _0x9d548a=_0x1bf9b2;proxyEmit('configuration',emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x9d548a(0x162),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2933c2=getNormalizedPerformance();emitPerformance(_0x2933c2),await getStartingBalances(_0x2933c2);}function cleanws(){const _0x19140f=_0x1bf9b2;wsinitialized=![];ws1&&(ws1[_0x19140f(0x1a0)](_0x5b99d4=>{const _0x2ed05f=_0x19140f;try{wsClient[_0x2ed05f(0x1bf)](_0x5b99d4);}catch(_0x4c3265){}}),ws1=[]);if(ws2){try{wsClient[_0x19140f(0x1bf)](ws2);}catch(_0x4662fc){}ws2=null;}}async function initws(){const _0x32f110=_0x1bf9b2;cleanws();let _0x34b978=[];currentCoins[_0x32f110(0x1a0)](_0x10bbb4=>{const _0x1413f6=_0x32f110;if(_0x10bbb4[_0x1413f6(0x10c)]!=config[_0x1413f6(0xe3)])_0x34b978[_0x1413f6(0xe8)](noslash(_0x10bbb4['symbol']));});if(!_0x34b978[_0x32f110(0x113)](stablecoins[_0x32f110(0x102)][_0x32f110(0x10c)]))_0x34b978[_0x32f110(0xe8)](stablecoins[_0x32f110(0x102)][_0x32f110(0x10c)]);if(!_0x34b978['includes'](stablecoins[_0x32f110(0x19e)]['coin']))_0x34b978[_0x32f110(0xe8)](stablecoins[_0x32f110(0x19e)]['coin']);if(!_0x34b978['includes'](_0x32f110(0x160)+config[_0x32f110(0xe3)]))_0x34b978[_0x32f110(0xe8)]('BNB'+config[_0x32f110(0xe3)]);try{_0x34b978[_0x32f110(0x1a0)]((_0xf3e0ba,_0x1b7203)=>{const _0x220b89=_0x32f110;ws1[_0x1b7203]=wsClient[_0x220b89(0x14e)](_0xf3e0ba,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on']('formattedMessage',_0x3ce49b=>{const _0x2ca4b3=_0x32f110;if(!Array[_0x2ca4b3(0x18f)](_0x3ce49b)&&!_0x3ce49b['wsKey'][_0x2ca4b3(0x113)](_0x2ca4b3(0x1ef))){if(_0x3ce49b[_0x2ca4b3(0x1da)]===_0x2ca4b3(0x120)){global[_0x2ca4b3(0x190)][_0x3ce49b[_0x2ca4b3(0x120)]['symbol']]=_0x3ce49b['kline'][_0x2ca4b3(0x1a4)];return;}}else{if(!Array[_0x2ca4b3(0x18f)](_0x3ce49b)&&_0x3ce49b[_0x2ca4b3(0xd7)][_0x2ca4b3(0x113)](_0x2ca4b3(0x1ef))){if(_0x3ce49b[_0x2ca4b3(0x134)][_0x2ca4b3(0x113)]('spot')){updateNumberCoins(_0x3ce49b);return;}}}}),wsClient['on'](_0x32f110(0x1df),async _0x216884=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x228f59){await handleError(_0x228f59,_0x32f110(0x166));}let _0x56bbdc,_0x4c13df=0x0;loading[_0x32f110(0xe2)]=[];let _0x36c938=0x0;currentCoins[_0x32f110(0x1a0)](_0x161b0e=>{const _0x4980fe=_0x32f110;if(_0x161b0e[_0x4980fe(0x10c)]!=config[_0x4980fe(0xe3)])loading[_0x4980fe(0xe2)]['push'](_0x161b0e[_0x4980fe(0x12e)]);}),loadingCanceled=![];while(_0x56bbdc!=currentCoins[_0x32f110(0x1f5)]-0x1){_0x56bbdc=0x0,currentCoins['forEach'](_0x153862=>{const _0x2f7493=_0x32f110;_0x153862[_0x2f7493(0x10c)]!=config[_0x2f7493(0xe3)]&&global[_0x2f7493(0x190)][noslash(_0x153862[_0x2f7493(0x12e)])]&&(loading[_0x2f7493(0xe2)]=loading[_0x2f7493(0xe2)][_0x2f7493(0x10f)](_0x52b2a7=>_0x52b2a7!=_0x153862[_0x2f7493(0x12e)]),_0x56bbdc++);}),loading['progress']=Math[_0x32f110(0x1c4)](_0x56bbdc/(currentCoins[_0x32f110(0x1f5)]-0x1)*0x64);_0x36c938>0x1e*0x5&&(loading[_0x32f110(0x158)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x32f110(0x129)]=!![],emitLoadingProgress();break;}else _0x56bbdc!=_0x4c13df&&(_0x4c13df=_0x56bbdc,emitLoadingProgress()),_0x36c938++,await sleep(0xc8);}if(_0x56bbdc==currentCoins[_0x32f110(0x1f5)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x424755=_0x1bf9b2;proxyEmit(_0x424755(0xdb),loading);}async function getFiat(){const _0x1ee0e2=_0x1bf9b2;let _0x2f26d8=0x0,_0x34ee96=0x0;try{_0x2f26d8=global[_0x1ee0e2(0x190)][stablecoins[_0x1ee0e2(0x102)][_0x1ee0e2(0x10c)]],_0x34ee96=global[_0x1ee0e2(0x190)][stablecoins[_0x1ee0e2(0x19e)][_0x1ee0e2(0x10c)]];}catch(_0x293c40){await handleError(_0x293c40,'getFiat()');}return{'eur':Number(_0x2f26d8),'usd':Number(_0x34ee96)};}function setStartDatePerformance(){const _0x2747f4=_0x1bf9b2;if(config&&config[_0x2747f4(0x16e)][0x0][_0x2747f4(0x16b)][_0x2747f4(0x1f5)]!=0x0){const _0x3f0527=config[_0x2747f4(0x16e)][0x0][_0x2747f4(0x16b)];dbPerformance[_0x2747f4(0x125)]('data')[_0x2747f4(0x1ee)]({'date':config[_0x2747f4(0x114)]})[_0x2747f4(0x13a)]({'coins':_0x3f0527})[_0x2747f4(0x154)]();}}async function recreateHistory(_0x4aae41){const _0x470aa7=_0x1bf9b2;let _0x280fd3,_0x3e31b9=[];logHistory(_0x470aa7(0x122),'Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes'),_0x4aae41[_0x470aa7(0x108)][_0x470aa7(0x1a0)](_0x5dc776=>{const _0x498c79=_0x470aa7;if(_0x5dc776[_0x498c79(0x10c)]!=config[_0x498c79(0xe3)]&&!_0x5dc776[_0x498c79(0x107)])_0x3e31b9[_0x498c79(0xe8)]({'coin':_0x5dc776[_0x498c79(0x10c)],'symbol':_0x5dc776[_0x498c79(0x12e)]});});let _0x3f98a6=[];try{const _0x2e2d84=fns[_0x470aa7(0x1d0)](fns[_0x470aa7(0x17f)](_0x4aae41[_0x470aa7(0x114)]['replace'](/\//g,'-')),_0x470aa7(0xeb));for(const _0x3ffcf6 of _0x3e31b9){if(_0x3ffcf6[_0x470aa7(0x10c)]!=config['basecoin'])_0x280fd3=await exchange[_0x470aa7(0x109)](_0x3ffcf6['symbol'],Date[_0x470aa7(0x1d5)](_0x2e2d84));_0x280fd3[_0x470aa7(0x1a0)](_0x31bc68=>{const _0x4d4154=_0x470aa7,_0x44f1ea=_0x3ffcf6[_0x4d4154(0x12e)][_0x4d4154(0x113)](config[_0x4d4154(0xe3)]+'/'),_0x4616e7=fns[_0x4d4154(0x1d0)](fns['parseISO'](_0x31bc68[_0x4d4154(0x11c)]),_0x4d4154(0x1f0)),_0x124396=fns[_0x4d4154(0x1d0)](fns[_0x4d4154(0x17f)](_0x31bc68[_0x4d4154(0x11c)]),'yyyy/MM/dd');let _0xeb4c17;if(_0x31bc68[_0x4d4154(0x1e4)]=='buy'&&_0x44f1ea==![])_0xeb4c17=_0x31bc68[_0x4d4154(0x111)];if(_0x31bc68['side']==_0x4d4154(0x198)&&_0x44f1ea==!![])_0xeb4c17=-_0x31bc68[_0x4d4154(0x111)]*_0x31bc68['price'];if(_0x31bc68['side']==_0x4d4154(0x159)&&_0x44f1ea==![])_0xeb4c17=-_0x31bc68['amount'];if(_0x31bc68[_0x4d4154(0x1e4)]==_0x4d4154(0x159)&&_0x44f1ea==!![])_0xeb4c17=_0x31bc68[_0x4d4154(0x111)]*_0x31bc68[_0x4d4154(0x13c)];_0x3f98a6['push']({'timestamp':_0x4616e7,'date':_0x124396,'coin':_0x3ffcf6[_0x4d4154(0x10c)],'symbol':_0x3ffcf6[_0x4d4154(0x12e)],'type':_0x31bc68[_0x4d4154(0x185)],'side':_0x31bc68[_0x4d4154(0x1e4)],'reverse':_0x44f1ea,'amount':formatResult(_0x31bc68[_0x4d4154(0x1cd)],0x8),'filled':formatResult(_0x31bc68[_0x4d4154(0x1cd)],0x8),'coinamount':formatResult(_0xeb4c17,0x8),'price':formatResult(_0x31bc68['price'],0x8)});let _0x277571;if(_0x31bc68[_0x4d4154(0x1e4)]==_0x4d4154(0x198)&&_0x44f1ea==![])_0x277571=-_0x31bc68[_0x4d4154(0x111)]*_0x31bc68['price'];if(_0x31bc68[_0x4d4154(0x1e4)]=='buy'&&_0x44f1ea==!![])_0x277571=_0x31bc68[_0x4d4154(0x111)];if(_0x31bc68[_0x4d4154(0x1e4)]==_0x4d4154(0x159)&&_0x44f1ea==![])_0x277571=_0x31bc68[_0x4d4154(0x111)]*_0x31bc68[_0x4d4154(0x13c)];if(_0x31bc68[_0x4d4154(0x1e4)]=='sell'&&_0x44f1ea==!![])_0x277571=-_0x31bc68[_0x4d4154(0x111)];_0x3f98a6['push']({'date':_0x124396,'coin':config[_0x4d4154(0xe3)],'coinamount':formatResult(_0x277571,0x8)});});}_0x3f98a6['sort']((_0x3730ae,_0xa0dad8)=>_0x3730ae['timestamp']>_0xa0dad8[_0x470aa7(0xf7)]?0x1:_0xa0dad8['timestamp']>_0x3730ae[_0x470aa7(0xf7)]?-0x1:0x0),dbLogs[_0x470aa7(0x125)](_0x470aa7(0x1c9))[_0x470aa7(0x156)]()[_0x470aa7(0x154)](),_0x3f98a6[_0x470aa7(0x1a0)](_0x13e689=>{const _0x415353=_0x470aa7;let _0x51bd79;_0x13e689[_0x415353(0x10c)]!=config[_0x415353(0xe3)]&&(_0x51bd79={'time':_0x13e689[_0x415353(0xf7)],'type':_0x415353(0x103),'event':_0x415353(0x112)+_0x13e689[_0x415353(0x12e)]+'\x20'+_0x13e689[_0x415353(0x1e4)]+'\x20#'+_0x13e689[_0x415353(0x111)]+'\x20@'+_0x13e689[_0x415353(0x13c)]},dbLogs[_0x415353(0x125)](_0x415353(0x1c9))[_0x415353(0xe8)](_0x51bd79)['write']());});const _0x4c890b=fns['eachDayOfInterval']({'start':new Date(_0x4aae41['startdate']),'end':new Date()})['map'](_0x4c11a5=>fns[_0x470aa7(0x1d0)](_0x4c11a5,'yyyy/MM/dd'));let _0x1165b4=[];_0x4aae41['portfolio'][_0x470aa7(0x1a0)](_0x369a37=>{const _0x2b5ed4=_0x470aa7;if(!_0x369a37[_0x2b5ed4(0x107)]){_0x1165b4[_0x369a37['coin']]=[];let _0x1f5bd8=_0x369a37[_0x2b5ed4(0x163)];_0x4c890b[_0x2b5ed4(0x1a0)]((_0x783615,_0x45ce27)=>{const _0x551036=_0x2b5ed4;let _0x74e3cf=_0x3f98a6[_0x551036(0x10f)](_0x20ee4e=>_0x20ee4e[_0x551036(0x10c)]==_0x369a37[_0x551036(0x10c)]&&_0x20ee4e[_0x551036(0x1bc)]==_0x783615);if(_0x74e3cf[_0x551036(0x1f5)]!=0x0){let _0x58d11d=_0x74e3cf['reduce']((_0x24a624,_0x3bac0a)=>{const _0x384536=_0x551036;return _0x24a624+=_0x3bac0a[_0x384536(0x182)],_0x24a624;},0x0);_0x1f5bd8+=_0x58d11d;}_0x1165b4[_0x369a37['coin']][_0x783615]=_0x1f5bd8;});}});const _0x4ccd66=[..._0x3e31b9];_0x4ccd66['push']({'coin':stablecoins['eur'][_0x470aa7(0x10c)],'symbol':stablecoins[_0x470aa7(0x102)]['symbol']}),_0x4ccd66[_0x470aa7(0xe8)]({'coin':stablecoins[_0x470aa7(0x19e)][_0x470aa7(0x10c)],'symbol':stablecoins[_0x470aa7(0x19e)][_0x470aa7(0x12e)]});let _0x157073=[];for(const _0xab0c7a of _0x4ccd66){_0x157073[_0xab0c7a[_0x470aa7(0x10c)]]=await getCloses(_0xab0c7a[_0x470aa7(0x12e)],new Date(_0x4aae41[_0x470aa7(0x114)]));}dbPerformance['get'](_0x470aa7(0x183))['remove']()[_0x470aa7(0x154)](),_0x4c890b[_0x470aa7(0x1a0)]((_0x584a73,_0x4ecb1b)=>{const _0x1c4c3d=_0x470aa7;let _0x3e7055,_0x35f9ce=[];_0x4ecb1b==0x0?(_0x4aae41[_0x1c4c3d(0x108)][_0x1c4c3d(0x1a0)](_0x1d11bb=>{const _0x48d04f=_0x1c4c3d;!_0x1d11bb[_0x48d04f(0x107)]&&_0x35f9ce[_0x48d04f(0xe8)]({'coin':_0x1d11bb[_0x48d04f(0x10c)],'number':_0x1d11bb['startnumber'],'price':_0x1d11bb[_0x48d04f(0x13f)]});}),_0x3e7055={'date':_0x584a73,'eur':_0x157073[stablecoins[_0x1c4c3d(0x102)][_0x1c4c3d(0x10c)]][_0x4ecb1b],'usd':_0x157073[stablecoins[_0x1c4c3d(0x19e)][_0x1c4c3d(0x10c)]][_0x4ecb1b],'coins':_0x35f9ce}):(_0x4aae41[_0x1c4c3d(0x108)][_0x1c4c3d(0x1a0)](_0x8036da=>{const _0x379567=_0x1c4c3d;!_0x8036da[_0x379567(0x107)]&&_0x35f9ce[_0x379567(0xe8)]({'coin':_0x8036da[_0x379567(0x10c)],'number':_0x1165b4[_0x8036da[_0x379567(0x10c)]][_0x584a73],'price':_0x8036da[_0x379567(0x10c)]==config[_0x379567(0xe3)]?0x1:_0x157073[_0x8036da[_0x379567(0x10c)]][_0x4ecb1b]});}),_0x3e7055={'date':_0x584a73,'eur':_0x157073[stablecoins[_0x1c4c3d(0x102)][_0x1c4c3d(0x10c)]][_0x4ecb1b],'usd':_0x157073[stablecoins[_0x1c4c3d(0x19e)][_0x1c4c3d(0x10c)]][_0x4ecb1b],'coins':_0x35f9ce}),dbPerformance[_0x1c4c3d(0x125)](_0x1c4c3d(0x183))[_0x1c4c3d(0xe8)](_0x3e7055)[_0x1c4c3d(0x154)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x46a9ee of _0x3f98a6){_0x46a9ee[_0x470aa7(0x10c)]!=config[_0x470aa7(0xe3)]&&await updateCoinResults(_0x46a9ee);}logHistory(_0x470aa7(0x122),_0x470aa7(0xf9));}catch(_0x58db76){await handleError(_0x58db76,'recreateHistory()');}}async function getCloses(_0x20e636,_0x4eb9ae,_0x59bf94=undefined){const _0x358d0b=_0x1bf9b2,_0x43af32='1d';let _0x23d132,_0x1c5865;const _0x195e8d=fns[_0x358d0b(0x140)](new Date(),_0x4eb9ae)+0x1;try{const _0x549fb0=exchange[_0x358d0b(0xfa)]()-_0x195e8d*0x18*0xe10*0x3e8;_0x23d132=await exchange[_0x358d0b(0x1a1)](_0x20e636,_0x43af32,_0x549fb0,_0x59bf94),_0x1c5865=await exchange['fetchTickers'](_0x20e636);}catch(_0x54088b){await handleError(_0x54088b,_0x358d0b(0xe0));}let _0x2102fa=ohlcvToCloses(_0x23d132);return _0x2102fa[_0x358d0b(0xe8)](_0x1c5865[_0x20e636][_0x358d0b(0x164)]),_0x2102fa;}function ohlcvToCloses(_0x3d6664){let _0x3e6913=[];return _0x3d6664['forEach'](function(_0x195ddb){_0x3e6913['push'](_0x195ddb[0x4]);}),_0x3e6913;}function oneTimeMigration(){const _0xd5321a=_0x1bf9b2;let _0x587287=dbLogs[_0xd5321a(0x125)](_0xd5321a(0x1bd))[_0xd5321a(0xee)]();if(_0x587287!=_0xd5321a(0xfe)){dbLogs[_0xd5321a(0x137)]('version',_0xd5321a(0xfe))[_0xd5321a(0x154)]();let _0x142d74=[];const _0x4261bb=dbLogs[_0xd5321a(0x125)]('logs')[_0xd5321a(0xee)]();_0x4261bb[_0xd5321a(0x1a0)](_0x3c7a47=>{const _0x64ee68=_0xd5321a;_0x142d74['push']({'time':_0x3c7a47[_0x64ee68(0xde)],'type':_0x3c7a47[_0x64ee68(0x185)],'event':_0x3c7a47['event']});}),dbLogs['get'](_0xd5321a(0x1c9))['assign'](_0x142d74)[_0xd5321a(0x154)]();}let _0x21f5a8=dbConfig[_0xd5321a(0x125)]('version')['value']();if(_0x21f5a8!=_0xd5321a(0xfe)){dbConfig[_0xd5321a(0x137)](_0xd5321a(0x1bd),_0xd5321a(0xfe))[_0xd5321a(0x154)]();let _0x2fe865=dbConfig[_0xd5321a(0x125)](_0xd5321a(0x10e))['find']({'botID':botID})[_0xd5321a(0xee)]();if(_0x2fe865){let _0x5370dc=[];_0x2fe865[_0xd5321a(0x108)]['forEach'](_0x516eee=>{const _0x422aa7=_0xd5321a;_0x5370dc[_0x422aa7(0xe8)]({'coin':_0x516eee['coin'],'number':_0x516eee[_0x422aa7(0x163)],'price':_0x516eee[_0x422aa7(0x13f)]}),delete _0x516eee[_0x422aa7(0x163)],delete _0x516eee[_0x422aa7(0x13f)];});if(_0x5370dc[_0xd5321a(0x1f5)]!==0x0)fs[_0xd5321a(0x1db)](configbackuppath+('starting-balance-'+botID+'.json'),JSON[_0xd5321a(0x1b0)](_0x5370dc,null,0x4),function(_0x483fc4){if(_0x483fc4){}});const _0x1ba117=(_0x291376,_0x3af41b)=>{const _0x423984=_0xd5321a;let _0x2d5489=[];_0x3af41b[_0x423984(0x1a0)](_0x51926b=>{const _0x2c61ae=_0x423984,_0x548121=_0x291376[_0x2c61ae(0x1ee)](_0x58ee18=>_0x58ee18['coin']==_0x51926b[_0x2c61ae(0x10c)]);if(!_0x548121)_0x2d5489['push'](_0x51926b);});let _0x15d563=[];return _0x291376['forEach'](_0x4ea2e8=>{const _0x180807=_0x423984,_0x289e73=_0x3af41b[_0x180807(0x1ee)](_0x2ef3be=>_0x2ef3be['coin']==_0x4ea2e8[_0x180807(0x10c)]);if(!_0x289e73||_0x289e73[_0x180807(0x10d)]==0x0&&_0x4ea2e8[_0x180807(0x10d)]!=0x0)_0x15d563[_0x180807(0xe8)](_0x4ea2e8);}),{'missingDay1':_0x2d5489,'notInDay2':_0x15d563};},_0x46e782=dbPerformance[_0xd5321a(0x125)](_0xd5321a(0x183))[_0xd5321a(0x10a)]()[_0xd5321a(0xee)]();if(_0x46e782[_0xd5321a(0x1f5)]>0x1){const {missingDay1:_0x50811a,notInDay2:_0xe9caa}=_0x1ba117(_0x5370dc,_0x46e782[0x1][_0xd5321a(0x13b)]);_0x5370dc=[..._0x5370dc,..._0x50811a],_0xe9caa[_0xd5321a(0x1a0)](_0x4f7a18=>{const _0x8ba514=_0xd5321a;let _0x804db=_0x5370dc['findIndex'](_0x18193f=>_0x18193f[_0x8ba514(0x10c)]==_0x4f7a18[_0x8ba514(0x10c)]);_0x804db!=-0x1&&_0x5370dc[_0x8ba514(0x132)](_0x804db,0x1);});}_0x5370dc[_0xd5321a(0x1e6)]((_0x5a42a9,_0x476fde)=>_0x5a42a9['coin']>_0x476fde[_0xd5321a(0x10c)]?0x1:_0x476fde[_0xd5321a(0x10c)]>_0x5a42a9[_0xd5321a(0x10c)]?-0x1:0x0);let _0x15d542=[{'date':_0x2fe865[_0xd5321a(0x114)],'changes':_0x5370dc}];_0x46e782[_0xd5321a(0x1f5)]>0x2&&_0x46e782[_0xd5321a(0x1a0)]((_0x1cbcbc,_0x5138a1)=>{const _0x25ebed=_0xd5321a;if(_0x5138a1>0x0&&_0x5138a1<_0x46e782['length']-0x1){const {missingDay1:_0x3bfc7b,notInDay2:_0x297267}=_0x1ba117(_0x46e782[_0x5138a1][_0x25ebed(0x13b)],_0x46e782[_0x5138a1+0x1]['coins']);_0x5370dc=[],(_0x3bfc7b[_0x25ebed(0x1f5)]!=0x0||_0x297267[_0x25ebed(0x1f5)]!=0x0)&&(_0x3bfc7b[_0x25ebed(0x1f5)]!=0x0&&_0x5370dc[_0x25ebed(0xe8)](..._0x3bfc7b),_0x297267[_0x25ebed(0x1f5)]!=0x0&&(_0x297267['forEach'](_0x1acbac=>{const _0x8e0cf0=_0x25ebed;_0x1acbac[_0x8e0cf0(0x10d)]=-_0x1acbac[_0x8e0cf0(0x10d)];}),_0x5370dc[_0x25ebed(0xe8)](..._0x297267)),_0x5370dc[_0x25ebed(0x1e6)]((_0x30cb44,_0x5b7230)=>_0x30cb44[_0x25ebed(0x10c)]>_0x5b7230['coin']?0x1:_0x5b7230[_0x25ebed(0x10c)]>_0x30cb44[_0x25ebed(0x10c)]?-0x1:0x0),_0x15d542[_0x25ebed(0xe8)]({'date':_0x46e782[_0x5138a1+0x1]['date'],'changes':_0x5370dc}));}}),dbConfig[_0xd5321a(0x125)](_0xd5321a(0x10e))[_0xd5321a(0x1ee)]({'botID':botID})[_0xd5321a(0x13a)]({..._0x2fe865,'liquidity':_0x15d542})['write']();}}config=getConfiguration(botID);let _0x56665f=dbPerformance[_0xd5321a(0x125)](_0xd5321a(0x1bd))[_0xd5321a(0xee)]();_0x56665f!=_0xd5321a(0xfe)&&(dbPerformance['set'](_0xd5321a(0x1bd),_0xd5321a(0xfe))[_0xd5321a(0x154)](),setStartDatePerformance());let _0x4a0a22=dbCoinResults[_0xd5321a(0x125)](_0xd5321a(0x1bd))[_0xd5321a(0xee)]();_0x4a0a22!=_0xd5321a(0xfe)&&dbCoinResults[_0xd5321a(0x137)](_0xd5321a(0x1bd),_0xd5321a(0xfe))[_0xd5321a(0x154)]();}function getConfiguration(_0x5f1937){const _0x3e0b26=_0x1bf9b2;let _0x3bd59d=dbConfig['get'](_0x3e0b26(0x10e))[_0x3e0b26(0x1ee)]({'botID':_0x5f1937})[_0x3e0b26(0xee)]();if(_0x3bd59d){}else _0x3bd59d={'botID':_0x5f1937,'exchange':_0x3e0b26(0xfd),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x3e0b26(0xf1)+_0x5f1937,'showname':![],'threshold':'3','ordertype':_0x3e0b26(0x110),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3e0b26(0x17d)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x3bd59d;}function emittedConfiguration(){const _0x1ef77a=_0x1bf9b2;let _0x4e7969;return config[_0x1ef77a(0x16a)]==''?_0x4e7969=config:_0x4e7969={...config,'apiKey':_0x1ef77a(0x19b),'apiSecret':'************'},_0x4e7969;}function getSettings(){const _0x3b5384=_0x1bf9b2;return dbSettings[_0x3b5384(0x125)]('settings')[_0x3b5384(0xee)]();}function getSecure(){const _0x1cc365=_0x1bf9b2;return dbSecure[_0x1cc365(0x125)](_0x1cc365(0xe9))[_0x1cc365(0xee)]()||{};}function updateTimeshift(_0x5701ec){const _0x355f23=_0x1bf9b2;let _0x403090=dbConfig[_0x355f23(0x125)](_0x355f23(0x10e))[_0x355f23(0x1ee)]({'botID':botID})[_0x355f23(0xee)]();_0x403090&&dbConfig[_0x355f23(0x125)](_0x355f23(0x10e))[_0x355f23(0x1ee)]({'botID':botID})[_0x355f23(0x13a)]({'timeshift':_0x5701ec})[_0x355f23(0x154)](),config[_0x355f23(0x17d)]=_0x5701ec,proxyEmit(_0x355f23(0xe7),emittedConfiguration());}async function storeConfiguration(_0x583300){const _0x3b95d3=_0x1bf9b2;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x14cfee=dbConfig['get'](_0x3b95d3(0x10e))[_0x3b95d3(0x1ee)]({'botID':botID})[_0x3b95d3(0xee)]();_0x583300={..._0x583300,'apiKey':crypt[_0x3b95d3(0x11e)](secure['privateKey'],_0x583300[_0x3b95d3(0x16a)])[_0x3b95d3(0x1cb)],'apiSecret':crypt['decrypt'](secure[_0x3b95d3(0x161)],_0x583300[_0x3b95d3(0x139)])[_0x3b95d3(0x1cb)]};if(_0x14cfee){if(_0x583300[_0x3b95d3(0x16a)]==_0x3b95d3(0x19b))_0x583300['apiKey']=config[_0x3b95d3(0x16a)];if(_0x583300[_0x3b95d3(0x139)]=='************')_0x583300['apiSecret']=config['apiSecret'];dbConfig[_0x3b95d3(0x125)](_0x3b95d3(0x10e))['find']({'botID':botID})[_0x3b95d3(0x13a)](_0x583300)['write']();}else dbConfig[_0x3b95d3(0x125)](_0x3b95d3(0x10e))['push'](_0x583300)[_0x3b95d3(0x154)](),process[_0x3b95d3(0x11b)]({'status':'enabled','live':_0x3b95d3(0xfb)},_0x55fe9d=>{});config={..._0x583300},setStartDatePerformance(),process[_0x3b95d3(0x11b)]({'botname':_0x583300[_0x3b95d3(0x1cf)]},_0x4d7c62=>{});const _0x56f3eb=getNormalizedPerformance();getStartingBalances(_0x56f3eb),emitPerformance(_0x56f3eb),proxyEmit(_0x3b95d3(0x167)),reset();}async function storeHeadless(_0x384875){const _0xe21f3c=_0x1bf9b2,_0xb5bb19={...config,'headless':_0x384875[_0xe21f3c(0x178)]};let _0x443445=dbConfig[_0xe21f3c(0x125)](_0xe21f3c(0x10e))[_0xe21f3c(0x1ee)]({'botID':botID})[_0xe21f3c(0xee)]();_0x443445&&dbConfig[_0xe21f3c(0x125)](_0xe21f3c(0x10e))[_0xe21f3c(0x1ee)]({'botID':botID})[_0xe21f3c(0x13a)](_0xb5bb19)[_0xe21f3c(0x154)](),config={..._0xb5bb19},proxyEmit('configuration',emittedConfiguration());}function noslash(_0x3c5778){const _0x44090e=_0x1bf9b2;return _0x3c5778[_0x44090e(0x184)]('/','');}function updateNumberCoins(_0x21a7c0){const _0xd77250=_0x1bf9b2;_0x21a7c0[_0xd77250(0x1da)]&&_0x21a7c0[_0xd77250(0x1da)]==_0xd77250(0x1d3)&&_0x21a7c0[_0xd77250(0x162)][_0xd77250(0x1a0)](_0x120d11=>{const _0x2ed858=_0xd77250;let _0x268c87=currentCoins[_0x2ed858(0x1ee)](_0x434e0=>_0x434e0[_0x2ed858(0x10c)]==_0x120d11['asset']),_0x5e4986=config[_0x2ed858(0x108)][_0x2ed858(0x1ee)](_0x1960fe=>_0x1960fe[_0x2ed858(0x10c)]==_0x120d11[_0x2ed858(0x194)]);if(_0x268c87&&_0x5e4986)_0x268c87[_0x2ed858(0x10d)]=Math[_0x2ed858(0x14d)](Number(_0x120d11['availableBalance'])+(_0x5e4986[_0x2ed858(0x1f1)]||0x0),0x0);});if(_0x21a7c0['eventType']&&_0x21a7c0['eventType']==_0xd77250(0x15d)){if(_0x21a7c0[_0xd77250(0x1ec)]==_0xd77250(0x180)&&_0x21a7c0[_0xd77250(0xf2)]==_0xd77250(0x181)){if(lastOrders)lastOrders['forEach'](_0x5e4317=>{const _0x5823a1=_0xd77250;if(_0x5e4317[_0x5823a1(0x130)]==_0x21a7c0['orderId']){if(_0x5e4317[_0x5823a1(0x17b)])_0x5e4317[_0x5823a1(0x1cd)]=_0x21a7c0[_0x5823a1(0xfc)]*_0x5e4317[_0x5823a1(0x13c)];else _0x5e4317[_0x5823a1(0x1cd)]=_0x21a7c0[_0x5823a1(0xfc)];}});}}}async function getCoins(_0x5b48db=!![],_0x2d6990=config[_0x1bf9b2(0xe3)]){const _0x7520d6=_0x1bf9b2;let _0x3a0e70,_0xe10d53=[],_0x32c4bd=[],_0x563d1d=[];try{_0x3a0e70=await exchange['fetchBalance'](),mybalances=_0x3a0e70[_0x7520d6(0x1e5)];if(!_0x5b48db)for(const [_0x55703a,_0x3cce34]of Object[_0x7520d6(0x15b)](mybalances)){_0x563d1d[_0x7520d6(0xe8)](_0x55703a);}else config[_0x7520d6(0x108)][_0x7520d6(0x1a0)](_0x262d51=>{const _0x764341=_0x7520d6;if(!_0x262d51[_0x764341(0x107)])_0x563d1d['push'](_0x262d51[_0x764341(0x10c)]);});if(_0x2d6990=='')for(const [_0x1dcce4,_0x580e52]of Object[_0x7520d6(0x15b)](mybalances)){_0x580e52[_0x7520d6(0x14a)]()!=0x0&&_0x32c4bd['push']({'coin':_0x1dcce4});}else for(const [_0x4d0443,_0x3c87ed]of Object[_0x7520d6(0x15b)](mybalances)){if(_0x563d1d['includes'](_0x4d0443)){const _0x23e465=config[_0x7520d6(0x108)][_0x7520d6(0x1ee)](_0x96bf09=>_0x96bf09[_0x7520d6(0x10c)]==_0x4d0443);if((_0x3c87ed[_0x7520d6(0x14a)]()!=0x0||_0x23e465)&&(allSymbols[_0x7520d6(0x113)](_0x4d0443+'/'+_0x2d6990)||_0x4d0443==_0x2d6990))_0x32c4bd[_0x7520d6(0xe8)]({'coin':_0x4d0443,'symbol':_0x4d0443+'/'+_0x2d6990,'reverse':![],'number':Math[_0x7520d6(0x14d)](_0x3c87ed+(_0x23e465&&_0x23e465[_0x7520d6(0x1f1)]||0x0),0x0)}),_0x4d0443!=_0x2d6990&&_0xe10d53[_0x7520d6(0xe8)](_0x4d0443+'/'+_0x2d6990);else(_0x3c87ed[_0x7520d6(0x14a)]()!=0x0||_0x23e465)&&allSymbols[_0x7520d6(0x113)](_0x2d6990+'/'+_0x4d0443)&&(_0x32c4bd['push']({'coin':_0x4d0443,'symbol':_0x2d6990+'/'+_0x4d0443,'reverse':!![],'number':Math[_0x7520d6(0x14d)](_0x3c87ed+(_0x23e465&&_0x23e465['offset']||0x0),0x0)}),_0x4d0443!=_0x2d6990&&_0xe10d53['push'](_0x2d6990+'/'+_0x4d0443));}}}catch(_0x4962df){if(!_0x5b48db){if(_0x4962df['toString']()['includes'](_0x7520d6(0x146)))return logHistory(_0x7520d6(0x1ea),_0x7520d6(0x17e)),![];else{if(_0x4962df[_0x7520d6(0x14a)]()[_0x7520d6(0x113)]('AuthenticationError'))return logHistory(_0x7520d6(0x1ea),_0x7520d6(0x193)),![];else{if(_0x4962df['toString']()['includes'](_0x7520d6(0x115)))return logHistory(_0x7520d6(0x1ea),_0x7520d6(0x1ab)),![];else await handleError(_0x4962df,_0x7520d6(0x1b1));}}}else await handleError(_0x4962df,_0x7520d6(0x1b1));}return _0x32c4bd;}async function getPortfolio(_0xdecb2c){const _0x3280f8=_0x1bf9b2;let _0x43a325=[],_0x114ddf=[],_0x18b47b,_0x1630f2=[],_0x5d3c92,_0x39dfc3;_0xdecb2c[_0x3280f8(0x16a)]===_0x3280f8(0x19b)||_0xdecb2c[_0x3280f8(0x139)]===_0x3280f8(0x19b)?(_0x5d3c92=config[_0x3280f8(0x16a)],_0x39dfc3=config[_0x3280f8(0x139)]):(_0x5d3c92=_0xdecb2c[_0x3280f8(0x16a)],_0x39dfc3=_0xdecb2c[_0x3280f8(0x139)]);await initExchange(_0x5d3c92,_0x39dfc3);let _0x4028ed=await loadSymbols();if(_0x4028ed){_0x1630f2=await getCoins(![],_0xdecb2c[_0x3280f8(0xe3)]);if(_0x1630f2===![])proxyEmit(_0x3280f8(0x108),![]);else{if(_0xdecb2c[_0x3280f8(0xe3)]=='')proxyEmit('portfolio',_0x1630f2);else{_0x1630f2[_0x3280f8(0x1a0)](_0x393fd5=>{const _0x5398c4=_0x3280f8;_0x43a325[_0x5398c4(0xe8)](_0x393fd5[_0x5398c4(0x12e)]);});try{_0x114ddf=await exchange[_0x3280f8(0x131)](_0x43a325);}catch(_0x435653){await handleError(_0x435653,'getPortfolio()');}_0x1630f2[_0x3280f8(0x1a0)](_0x688c5b=>{const _0x38b065=_0x3280f8;_0x688c5b[_0x38b065(0x10c)]!=_0xdecb2c['basecoin']?_0x18b47b=_0x688c5b[_0x38b065(0x17b)]?0x1/_0x114ddf[_0x688c5b['symbol']][_0x38b065(0x164)]:_0x114ddf[_0x688c5b[_0x38b065(0x12e)]][_0x38b065(0x164)]:_0x18b47b=0x1,_0x688c5b[_0x38b065(0x13c)]=formatResult(_0x18b47b,0x8);}),proxyEmit('portfolio',_0x1630f2);}}}else proxyEmit(_0x3280f8(0x108),![]);}function checkMinimums(_0x47698e){const _0x4f9d66=_0x1bf9b2;let _0x56a37b=!![];const _0x4a72b0=!_0x47698e[_0x4f9d66(0x17b)]?markets[_0x47698e[_0x4f9d66(0x12e)]]['limits']['amount'][_0x4f9d66(0x1c2)]:markets[_0x47698e[_0x4f9d66(0x12e)]][_0x4f9d66(0x1ca)][_0x4f9d66(0x15e)][_0x4f9d66(0x1c2)],_0xf1e7ec=!_0x47698e[_0x4f9d66(0x17b)]?markets[_0x47698e[_0x4f9d66(0x12e)]][_0x4f9d66(0x1ca)][_0x4f9d66(0x15e)]['min']:markets[_0x47698e[_0x4f9d66(0x12e)]]['limits'][_0x4f9d66(0x111)][_0x4f9d66(0x1c2)];if(Math[_0x4f9d66(0xf6)](_0x47698e['trade'])<_0x4a72b0)_0x56a37b=![];if(Math[_0x4f9d66(0xf6)](_0x47698e[_0x4f9d66(0x1e0)])*_0x47698e['last']<_0xf1e7ec)_0x56a37b=![];if(_0x47698e[_0x4f9d66(0x1e4)]==_0x4f9d66(0x159)){let _0x31df90=config[_0x4f9d66(0x108)][_0x4f9d66(0x1ee)](_0x49f1cf=>_0x49f1cf[_0x4f9d66(0x10c)]==_0x47698e['coin']);if(Math[_0x4f9d66(0xf6)](_0x47698e[_0x4f9d66(0x1e0)])>_0x47698e[_0x4f9d66(0x10d)]-_0x31df90['offset'])_0x56a37b=![];}return _0x56a37b;}async function getBalances(){const _0x50b45b=_0x1bf9b2;let _0x85d414=0x0,_0x502580;const _0x42350b=config[_0x50b45b(0x1ed)];currentCoins[_0x50b45b(0x1a0)](_0x520623=>{const _0x4e8f49=_0x50b45b;if(_0x520623['coin']!=config[_0x4e8f49(0xe3)]){let _0x2bec74=global[_0x4e8f49(0x190)][noslash(_0x520623[_0x4e8f49(0x12e)])];_0x502580=_0x520623[_0x4e8f49(0x17b)]?0x1/_0x2bec74:_0x2bec74;}else _0x502580=0x1;let _0x55f6cf=_0x520623[_0x4e8f49(0x10d)]*_0x502580;_0x85d414+=_0x55f6cf,_0x520623[_0x4e8f49(0x164)]=formatResult(Number(_0x502580),0x8),_0x520623[_0x4e8f49(0xee)]=_0x55f6cf;}),currentCoins[_0x50b45b(0x1a0)](_0x38241b=>{const _0x4d435b=_0x50b45b;let _0xa5d8bb=config['portfolio'][_0x4d435b(0x1ee)](_0x32667d=>_0x32667d[_0x4d435b(0x10c)]==_0x38241b[_0x4d435b(0x10c)]),_0x50433a=Number(_0xa5d8bb[_0x4d435b(0x11f)]),_0x273af0=_0x38241b[_0x4d435b(0xee)]/_0x85d414*0x64,_0x16a56e=_0x50433a*_0x85d414/0x64/_0x38241b[_0x4d435b(0x164)]-_0x38241b[_0x4d435b(0x10d)];_0x38241b['distribution']=formatResult(_0x273af0,0x3),_0x38241b['target']=formatResult(_0x50433a,0x3),_0x38241b['trade']=formatResult(_0x16a56e,0x8),_0x38241b['side']='',_0x38241b[_0x4d435b(0x12b)]='';if(_0x38241b[_0x4d435b(0x10c)]!=config[_0x4d435b(0xe3)]){if(_0x38241b[_0x4d435b(0x11f)]>_0x50433a)_0x38241b[_0x4d435b(0x1e4)]=_0x4d435b(0x159),_0x38241b[_0x4d435b(0x12b)]=checkMinimums(_0x38241b);else _0x38241b[_0x4d435b(0x11f)]<_0x50433a&&(_0x38241b[_0x4d435b(0x1e4)]=_0x4d435b(0x198),_0x38241b[_0x4d435b(0x12b)]=checkMinimums(_0x38241b));}_0x38241b['delta']=_0x38241b[_0x4d435b(0x11f)]/_0x38241b[_0x4d435b(0x1cc)]-0x1;}),currentCoins['sort']((_0x95195,_0x14a3af)=>_0x95195['delta']<_0x14a3af[_0x50b45b(0x1d6)]?0x1:_0x14a3af[_0x50b45b(0x1d6)]<_0x95195['delta']?-0x1:0x0);const _0x4fe00f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4fe00f[_0x50b45b(0x102)],'usd':_0x4fe00f[_0x50b45b(0x19e)],'portfolio':JSON[_0x50b45b(0x1b0)](currentCoins),'threshold':_0x42350b},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x50b45b(0x178)])headlessMode({'portfolio':currentCoins,'threshold':_0x42350b});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x42350b});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xc715b=_0x1bf9b2;if(!lastBalances)return;let _0x2f9136=[],_0x5828ed,_0x5c326a=JSON['parse'](lastBalances[_0xc715b(0x108)]);_0x5c326a['sort']((_0x444f73,_0x36c012)=>_0x444f73[_0xc715b(0x10c)]>_0x36c012['coin']?0x1:_0x36c012['coin']>_0x444f73[_0xc715b(0x10c)]?-0x1:0x0),_0x5c326a[_0xc715b(0x1a0)](_0x454ded=>{const _0x29faa0=_0xc715b;let _0x1164eb={'coin':_0x454ded['coin'],'number':_0x454ded[_0x29faa0(0x10d)],'price':_0x454ded[_0x29faa0(0x164)]};_0x2f9136[_0x29faa0(0xe8)](_0x1164eb);});const _0x315554=await getFiat();_0x5828ed={'date':lastBalances[_0xc715b(0xde)][_0xc715b(0x12c)]('\x20')[0x0],'eur':_0x315554[_0xc715b(0x102)],'usd':_0x315554[_0xc715b(0x19e)],'coins':_0x2f9136};let _0x49735e=dbPerformance['get'](_0xc715b(0x183))[_0xc715b(0x1ee)]({'date':_0x5828ed['date']})[_0xc715b(0xee)]();_0x49735e?_0x5828ed[_0xc715b(0x1bc)]!=config[_0xc715b(0x114)]&&dbPerformance[_0xc715b(0x125)]('data')[_0xc715b(0x1ee)]({'date':_0x5828ed[_0xc715b(0x1bc)]})['assign'](_0x5828ed)[_0xc715b(0x154)]():dbPerformance[_0xc715b(0x125)](_0xc715b(0x183))['push'](_0x5828ed)[_0xc715b(0x154)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x583352=_0x1bf9b2;let _0x1a4ab2=[];if(dbPerformance[_0x583352(0x1e8)](_0x583352(0x183))['value']()){let _0x4ca9f5=dbPerformance[_0x583352(0x125)](_0x583352(0x183))[_0x583352(0x10a)]()['sortBy'](_0x583352(0x1bc))[_0x583352(0xee)](),_0x38400a=[...config[_0x583352(0x16e)]];_0x38400a['sort']((_0x2e503d,_0x55eadc)=>_0x2e503d[_0x583352(0x1bc)]>_0x55eadc[_0x583352(0x1bc)]?-0x1:_0x55eadc['date']>_0x2e503d[_0x583352(0x1bc)]?0x1:0x0);let _0x9e7f2b=0x1,_0x133a5c=[],_0x3217b3=0x0;_0x4ca9f5[_0x583352(0xea)]()[_0x583352(0x17b)]()[_0x583352(0x1a0)]((_0x4e27d2,_0x29a02e)=>{const _0x3ba269=_0x583352;if(_0x38400a[_0x3217b3]){if(_0x4ca9f5[_0x4ca9f5['length']-_0x29a02e]&&_0x38400a[_0x3217b3]['date']==_0x4ca9f5[_0x4ca9f5['length']-_0x29a02e][_0x3ba269(0x1bc)]){if(_0x29a02e<_0x4ca9f5[_0x3ba269(0x1f5)]){let _0x47c1cc=0x0,_0xb2929e=0x0;_0x4ca9f5[_0x4ca9f5[_0x3ba269(0x1f5)]-_0x29a02e][_0x3ba269(0x13b)][_0x3ba269(0x1a0)](_0x4483b0=>{const _0x121e2f=_0x3ba269;_0xb2929e+=_0x4483b0[_0x121e2f(0x10d)]*_0x4483b0[_0x121e2f(0x13c)];}),_0x38400a[_0x3217b3][_0x3ba269(0x16b)]['forEach'](_0x2e707e=>{const _0x43c954=_0x3ba269;_0x47c1cc+=_0x2e707e[_0x43c954(0x10d)]*_0x2e707e[_0x43c954(0x13c)];}),_0x9e7f2b*=_0x47c1cc/(_0xb2929e-_0x47c1cc)+0x1;}_0x3217b3++;}}let _0x3d33f0=0x0;_0x4e27d2[_0x3ba269(0x13b)][_0x3ba269(0x1a0)](_0x9af47b=>{const _0x18a0d5=_0x3ba269;_0x3d33f0+=_0x9af47b[_0x18a0d5(0x10d)]*_0x9af47b[_0x18a0d5(0x13c)];}),_0x133a5c[_0x4ca9f5[_0x3ba269(0x1f5)]-_0x29a02e-0x1]=_0x3d33f0*(_0x9e7f2b-0x1);});let _0x318442=[];_0x38400a=[...config[_0x583352(0x16e)]]||[];let _0x49443c=0x0;_0x3217b3=0x0,_0x4ca9f5[_0x583352(0x1a0)]((_0x178253,_0x3feb48)=>{const _0x409020=_0x583352;if(_0x38400a[_0x3217b3]){const _0x2c5bbb=fns[_0x409020(0x1d5)](_0x38400a[_0x3217b3]['date'],'yyyy/MM/dd',new Date()),_0xae2b52=fns[_0x409020(0x1d5)](_0x178253['date'],_0x409020(0x1e1),new Date());if(fns[_0x409020(0x1c0)](_0x2c5bbb,_0xae2b52)){let _0x5256a3=0x0;_0x38400a[_0x3217b3][_0x409020(0x16b)]['forEach'](_0x27ca85=>{const _0x1bdfe5=_0x409020;!_0x318442[_0x27ca85[_0x1bdfe5(0x10c)]]?_0x318442[_0x27ca85[_0x1bdfe5(0x10c)]]=_0x27ca85[_0x1bdfe5(0x10d)]:(_0x5256a3=_0x318442[_0x27ca85[_0x1bdfe5(0x10c)]],_0x318442[_0x27ca85[_0x1bdfe5(0x10c)]]+=_0x27ca85[_0x1bdfe5(0x10d)]);const _0x225c34=_0x178253[_0x1bdfe5(0x13b)]['find'](_0x2d6336=>_0x2d6336[_0x1bdfe5(0x10c)]==_0x27ca85[_0x1bdfe5(0x10c)]);(!_0x225c34||_0x225c34[_0x1bdfe5(0x10d)]==0x0)&&(_0x49443c+=(-_0x27ca85[_0x1bdfe5(0x10d)]-_0x5256a3)*_0x27ca85[_0x1bdfe5(0x13c)]);}),_0x3217b3++;}}_0x178253['coins'][_0x409020(0x1a0)]((_0x3140b5,_0x2c65c4)=>{const _0x313449=_0x409020;_0x318442[_0x3140b5['coin']]&&(_0x3140b5={..._0x3140b5,'initial':_0x318442[_0x3140b5[_0x313449(0x10c)]]}),_0x178253[_0x313449(0x13b)][_0x2c65c4]=_0x3140b5;}),_0x1a4ab2['push']({'date':_0x178253[_0x409020(0x1bc)],'eur':_0x178253['eur'],'usd':_0x178253[_0x409020(0x19e)],'offset':_0x133a5c[_0x3feb48],'netoffset':_0x49443c,'coins':_0x178253[_0x409020(0x13b)]});});}return _0x1a4ab2;}function emitPerformance(_0x26efa0){const _0x165e58=_0x1bf9b2;_0x26efa0[_0x165e58(0x1f5)]!==0x0?(proxyEmit('performance',_0x26efa0),lastPerformanceEmitted=getDate()):proxyEmit(_0x165e58(0x1d9),[]);}function getPerf(_0x2dcdfb,_0x1e1828){const _0x3af4d1=_0x1bf9b2;let _0x534921=0x0,_0x2cf5d2=0x0,_0x460d6a=0x0;_0x2dcdfb[_0x3af4d1(0x13b)]['forEach'](_0x130ea8=>{const _0x2abf6c=_0x3af4d1;_0x534921+=_0x130ea8[_0x2abf6c(0x10d)]*_0x130ea8[_0x2abf6c(0x13c)];});_0x1e1828&&(_0x534921+=_0x2dcdfb['offset']);if(config['basecoin']===_0x3af4d1(0x14f))_0x2cf5d2=_0x534921*_0x2dcdfb['eur'],_0x460d6a=_0x534921*_0x2dcdfb[_0x3af4d1(0x19e)];else{if(config['basecoin']===_0x3af4d1(0x116)||config[_0x3af4d1(0xe3)]===_0x3af4d1(0x121)||config[_0x3af4d1(0xe3)]===_0x3af4d1(0x1c3))_0x2cf5d2=_0x534921*_0x2dcdfb[_0x3af4d1(0x102)]/_0x2dcdfb['usd'],_0x460d6a=_0x534921;else config['basecoin']===_0x3af4d1(0x105)&&(_0x2cf5d2=_0x534921,_0x460d6a=_0x534921*_0x2dcdfb[_0x3af4d1(0x19e)]/_0x2dcdfb['eur']);}return[_0x534921,_0x2cf5d2,_0x460d6a];}async function getStartingBalances(_0x1dda9c,_0x205106=!![]){const _0x380d48=_0x1bf9b2;if(_0x1dda9c[_0x380d48(0x1f5)]!==0x0){const [_0x410d32,_0xa85921,_0x46cbf0]=getPerf(_0x1dda9c[0x0],!![]);let _0x363c0f=[];config['portfolio'][_0x380d48(0x1a0)](_0x676f7b=>{const _0x3fd1a6=_0x380d48;let _0x1c9396=0x0;config[_0x3fd1a6(0x16e)][_0x3fd1a6(0x1a0)](_0x292c1a=>{const _0x1fbce0=_0x3fd1a6;let _0x53c1f1=_0x292c1a[_0x1fbce0(0x16b)][_0x1fbce0(0x1ee)](_0x3e9b1c=>_0x3e9b1c['coin']==_0x676f7b[_0x1fbce0(0x10c)]);if(_0x53c1f1)_0x1c9396+=_0x53c1f1[_0x1fbce0(0x10d)];}),_0x363c0f[_0x3fd1a6(0xe8)]({'coin':_0x676f7b[_0x3fd1a6(0x10c)],'number':_0x1c9396,'price':_0x676f7b['price']});});const _0x2e7b38={'basecoin':_0x410d32,'eur':_0xa85921,'usd':_0x46cbf0,'coins':_0x363c0f};if(_0x205106)proxyEmit(_0x380d48(0x15a),_0x2e7b38);return _0x2e7b38;}}function _0x347d(){const _0x259f82=['BTCUSDT','storeConfiguration','1325870OCOOfw','configuration','push','secure','slice','yyyy-MM-dd\x27T\x27HH:mm:ss','toLowerCase','exit','value','ask','cancelOrder','Bot\x20','orderStatus','-events.json','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','deleteHistoryAlerts','abs','timestamp','ccxt','Performance\x20recreation\x20completed\x20successfully','milliseconds','running','accumulatedQuantity','binance','2.3.5','HOT/BTC','HOT/EUR','limit-low','eur','order','getHours','EUR',',\x20must\x20be\x20a\x203\x20digit\x20number','excluded','portfolio','fetchOrders','cloneDeep','getTime','coin','number','bot','filter','market','amount','Order:\x20','includes','startdate','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','BUSD','MIN_NOTIONAL','Unfilled\x20order(s)\x20canceled\x20after\x20','953804ujFnfv','createOrder','send','datetime','sortBy','decrypt','distribution','kline','USDT','success','lowdb/adapters/FileSync','ordertype','get','sha256','limit-high','placeOrder','cancel','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','valid','split','Order\x20filled:\x20','symbol','exchange','orderId','fetchTickers','splice','001','wsMarket','OrderNotFound','sells','set','\x20minutes','apiSecret','assign','coins','price','indexOf','./config/','startprice','differenceInCalendarDays','-config.json','log','\x20-\x20','function','differenceInSeconds','API-key\x20format\x20invalid','currency',':\x20Bot\x20','BTCBUSD','toString','Binance\x20not\x20available\x20(1)','Limit\x20(low-margin)','max','subscribeSpotKline','BTC','search','cancelOrder()','1635381gVdpqt','Binance\x20not\x20responding','write','bid','remove','args','timeout','sell','starting-balances','entries','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','executionReport','cost','getDate','BNB','privateKey','balances','startnumber','last','\x20orders\x20in\x20less\x20than\x20','initws()','configuration-stored','Market','getFullYear','apiKey','changes','NANO/','364053LAKYOV','liquidity','352KKjXGO','BTCEUR','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','test','mkdirSync','Error:\x20Invalid\x20argument\x20','\x20|\x20Error\x20details:\x20','date-fns','Binance\x20API\x20blocked','headless','\x20hour','placeOrder()','reverse','bot-','timeshift','Binance\x20API\x20key\x20is\x20invalid','parseISO','LIMIT','FILLED','coinamount','data','replace','type','restart','cancelLoading','7416zWyFXm','wss://stream.binance.us:9443','showname','BTC/BUSD','Limit\x20(high-margin)','(((.+)+)+)+$','\x20minutes\x20-\x20balancing\x20resumed','isArray','ticker','symbols','20133FieXCh','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','asset','Crypt','getSeconds','fromCodePoint','buy','10Dqzbhq','Order(s)\x20filled\x20-\x20balancing\x20resumed','************','BTC/USDT','InvalidNonce','usd','limit','forEach','fetchOHLCV','4yhDCPS','getPortfolio','close','event','Order(s)\x20not\x20validated\x20after\x20','shift','emojibuy','map','AuthenticationError','Binance\x20API\x20secret\x20is\x20invalid','bb-settings.json','7RPRhfO','Binance\x20not\x20available\x20(2)','\x20|\x20Binance\x20API\x20key\x20invalid','stringify','getCoins()','event-history','\x20|\x20','constructor','Order\x20amount\x20is\x20invalid:\x20','-performance.json','API\x20or\x20clock\x20sync\x20issue','getMonth','Pausing\x20for\x20','defaults','getStartingBalances','date','version','binanceus','closeWs','isEqual','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','min','USDC','round','cooldown','WebSockets(','RSA-OAEP','emojisell','logs','limits','message','target','filled','XEM/BUSD','botname','format','Manual\x20balancing\x20required:\x20','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','outboundAccountPosition','buys','parse','delta','page','argv','performance','eventType','writeFile','lowdb','add','breakeven','reconnected','trade','yyyy/MM/dd','fees','BTC/EUR','side','total','sort','realized','has','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','error','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','orderType','threshold','find','userData','yyyy/MM/dd\x20HH:mm:ss','offset','./version.json','\x20order:\x20','\x20|\x20Binance\x20API\x20secret\x20invalid','length','InsufficientFunds','getMinutes','fee','bb-secure.json','wsKey','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','join','padStart','coin-loading-progress','-results.json','kill','time','328644DMwJDR','getCloses()','\x20>\x20','remainingSymbols','basecoin'];_0x347d=function(){return _0x259f82;};return _0x347d();}function headlessMode(_0xbee84d){const _0x1572cc=_0x1bf9b2;let _0x393e47=_0xbee84d[_0x1572cc(0x108)],_0x3fa4c6=_0xbee84d[_0x1572cc(0x1ed)],_0x23a183=[];for(let _0x3fd2a8 of _0x393e47){if(_0x3fd2a8[_0x1572cc(0x10c)]!=config[_0x1572cc(0xe3)]){if(_0x3fd2a8[_0x1572cc(0x11f)]/_0x3fd2a8[_0x1572cc(0x1cc)]-0x1>=_0x3fa4c6/0x64){if(_0x3fd2a8['valid'])_0x23a183[_0x1572cc(0xe8)](_0x3fd2a8);}else{if(_0x3fd2a8['distribution']/_0x3fd2a8[_0x1572cc(0x1cc)]-0x1<=-_0x3fa4c6/0x64){if(_0x3fd2a8[_0x1572cc(0x12b)])_0x23a183['push'](_0x3fd2a8);}}}}_0x23a183[_0x1572cc(0x1f5)]>0x0&&placeOrder(_0x23a183);}function _0x5a05(_0x4677ca,_0x11633a){const _0xc497b8=_0x347d();return _0x5a05=function(_0x10f1ab,_0xe96c28){_0x10f1ab=_0x10f1ab-0xd5;let _0x347de6=_0xc497b8[_0x10f1ab];return _0x347de6;},_0x5a05(_0x4677ca,_0x11633a);}function notifyBalance(_0x1fe0d8){const _0x969e6d=_0x1bf9b2;let _0x50052b=_0x1fe0d8[_0x969e6d(0x108)],_0x654d9=_0x1fe0d8[_0x969e6d(0x1ed)],_0x30ca4d=[];for(let _0x153187 of _0x50052b){if(_0x153187['coin']!=config[_0x969e6d(0xe3)]){if(_0x153187[_0x969e6d(0x11f)]/_0x153187[_0x969e6d(0x1cc)]-0x1>=_0x654d9/0x64){if(_0x153187[_0x969e6d(0x12b)])_0x30ca4d['push'](_0x153187);}else{if(_0x153187[_0x969e6d(0x11f)]/_0x153187[_0x969e6d(0x1cc)]-0x1<=-_0x654d9/0x64){if(_0x153187[_0x969e6d(0x12b)])_0x30ca4d[_0x969e6d(0xe8)](_0x153187);}}}}if(_0x30ca4d[_0x969e6d(0x1f5)]>0x0){let _0x1af0b4=_0x30ca4d[_0x969e6d(0x1a9)](_0x51c2a1=>_0x51c2a1[_0x969e6d(0x10c)]);_0x1af0b4[_0x969e6d(0x1e6)]();let _0x3b41a6=_0x1af0b4[_0x969e6d(0xd9)](',\x20');if(lastCoinsToBalance!==_0x3b41a6)logHistory(_0x969e6d(0x122),_0x969e6d(0x1d1)+_0x3b41a6);lastCoinsToBalance=_0x3b41a6;}}function symbolToCoin(_0x358936){const _0x16f513=_0x1bf9b2;let _0x3be92c;if(_0x358936[_0x16f513(0x113)]('/'+config[_0x16f513(0xe3)]))_0x3be92c=_0x358936[_0x16f513(0x184)]('/'+config[_0x16f513(0xe3)],'');if(_0x358936[_0x16f513(0x113)](config[_0x16f513(0xe3)]+'/'))_0x3be92c=_0x358936[_0x16f513(0x184)](config[_0x16f513(0xe3)]+'/','');return _0x3be92c;}async function validateOrders(_0x376257=0x0){const _0x21e703=_0x1bf9b2;let _0x46719b=[],_0x3119a2=config['ordertype']==_0x21e703(0x110)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x21e703(0x158)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x21e703(0x1a0)](_0x29055c=>{const _0x5d99fb=_0x21e703;let _0x5f169d=previousCoins[_0x5d99fb(0x1ee)](_0x32126d=>_0x32126d['coin']==symbolToCoin(_0x29055c[_0x5d99fb(0x12e)])),_0x44e68e=currentCoins[_0x5d99fb(0x1ee)](_0xc0a744=>_0xc0a744[_0x5d99fb(0x10c)]==symbolToCoin(_0x29055c['symbol'])),_0x3da1e8,_0x2f6ad2;_0x29055c['side']==_0x5d99fb(0x198)&&!_0x29055c[_0x5d99fb(0x17b)]||_0x29055c[_0x5d99fb(0x1e4)]==_0x5d99fb(0x159)&&_0x29055c[_0x5d99fb(0x17b)]?(_0x3da1e8=_0x5f169d[_0x5d99fb(0x10d)]+0.9*_0x29055c[_0x5d99fb(0x1cd)],_0x2f6ad2=_0x5f169d['number']+1.1*_0x29055c[_0x5d99fb(0x1cd)]):(_0x3da1e8=_0x5f169d[_0x5d99fb(0x10d)]-1.1*_0x29055c['filled'],_0x2f6ad2=_0x5f169d[_0x5d99fb(0x10d)]-0.9*_0x29055c[_0x5d99fb(0x1cd)]);const _0x3d27da=_0x29055c['filled']!=0x0&&_0x44e68e[_0x5d99fb(0x10d)]>=_0x3da1e8&&_0x44e68e[_0x5d99fb(0x10d)]<=_0x2f6ad2;_0x46719b[_0x5d99fb(0xe8)](_0x3d27da);if(_0x3d27da&&config[_0x5d99fb(0x124)]!=_0x5d99fb(0x110)){if(_0x29055c[_0x5d99fb(0x17b)])logHistory(_0x5d99fb(0x103),'Order\x20filled:\x20'+_0x29055c['symbol']+'\x20'+_0x29055c[_0x5d99fb(0x1e4)]+'\x20#'+formatResult(_0x29055c[_0x5d99fb(0x1cd)]/_0x29055c[_0x5d99fb(0x13c)],0x8)+'\x20@'+formatResult(_0x29055c[_0x5d99fb(0x13c)],0x8));else logHistory('order',_0x5d99fb(0x12d)+_0x29055c['symbol']+'\x20'+_0x29055c[_0x5d99fb(0x1e4)]+'\x20#'+formatResult(_0x29055c[_0x5d99fb(0x1cd)],0x8)+'\x20@'+formatResult(_0x29055c[_0x5d99fb(0x13c)],0x8));}}),_0x46719b[_0x21e703(0x1a0)]((_0x1fa0ba,_0x4536b0)=>{if(_0x1fa0ba)lastOrders['splice'](_0x4536b0,0x1);});if(_0x376257<_0x3119a2&&_0x46719b[_0x21e703(0x113)](![])){if(_0x376257==0x0){config[_0x21e703(0x124)]==_0x21e703(0x110)?logHistory(_0x21e703(0x1ea),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x21e703(0x1ea),_0x21e703(0xd8));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x376257);},0xa*0x3e8);}else{(_0x376257==0x1||_0x376257==Math['round'](_0x3119a2/0x2)||_0x376257==_0x3119a2-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x376257);},validateOrderInterval);}}else{lockOrders=![];if(_0x376257>0x0&&!_0x46719b['includes'](![]))config[_0x21e703(0x124)]==_0x21e703(0x110)?logHistory('success','Order(s)\x20validated\x20-\x20balancing\x20resumed'):logHistory(_0x21e703(0x122),_0x21e703(0x19a));else _0x376257>0x0&&_0x46719b['includes'](![])&&(config[_0x21e703(0x124)]==_0x21e703(0x110)?logHistory('success',_0x21e703(0x1a6)+Math[_0x21e703(0x1c4)](_0x3119a2*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20balancing\x20resumed'):(lastOrders[_0x21e703(0x1a0)](async _0x50404f=>{const _0x45a36b=_0x21e703;try{const _0x9f7d7c=await exchange[_0x45a36b(0xf0)](_0x50404f[_0x45a36b(0x130)],_0x50404f['symbol']);}catch(_0x2a8cbc){if(_0x2a8cbc['toString']()[_0x45a36b(0x113)](_0x45a36b(0x135))){}else await handleError(_0x2a8cbc,_0x45a36b(0x151));}}),logHistory('success',_0x21e703(0x118)+Math[_0x21e703(0x1c4)](_0x3119a2*validateOrderInterval/0xea60)+_0x21e703(0x18e))));}}async function resetCoinResults(){const _0x1b09da=_0x1bf9b2;dbCoinResults[_0x1b09da(0x125)](_0x1b09da(0x13b))['remove']()[_0x1b09da(0x154)]();let _0x4644ea=await getStartingBalances(getNormalizedPerformance(),![]);_0x4644ea[_0x1b09da(0x13b)][_0x1b09da(0x1a0)](_0x3d7aaf=>{const _0x323dcb=_0x1b09da;if(_0x3d7aaf[_0x323dcb(0x10c)]!=config[_0x323dcb(0xe3)]){let _0x106389={'coin':_0x3d7aaf[_0x323dcb(0x10c)],'number':_0x3d7aaf[_0x323dcb(0x10d)],'breakeven':_0x3d7aaf[_0x323dcb(0x13c)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x323dcb(0x125)]('coins')[_0x323dcb(0xe8)](_0x106389)[_0x323dcb(0x154)]();}});}async function updateCoinResults(_0x2b35b8){const _0x5802f0=_0x1bf9b2;let _0x341059,_0x2f997a,_0x5e250a,_0x40e58c,_0x3f6830,_0x560f7f,_0x1ecfc4=dbCoinResults[_0x5802f0(0x125)]('coins')[_0x5802f0(0x1ee)]({'coin':_0x2b35b8[_0x5802f0(0x10c)]})[_0x5802f0(0xee)]();if(!_0x1ecfc4)return;if(_0x2b35b8['fee']&&_0x2b35b8[_0x5802f0(0xd5)]['currency']==config[_0x5802f0(0xe3)])_0x341059=_0x2b35b8[_0x5802f0(0xd5)]['cost'];else{if(_0x2b35b8[_0x5802f0(0xd5)]&&_0x2b35b8[_0x5802f0(0xd5)][_0x5802f0(0x147)]==_0x5802f0(0x160))_0x341059=_0x2b35b8[_0x5802f0(0xd5)][_0x5802f0(0x15e)]*global[_0x5802f0(0x190)]['BNB'+config['basecoin']];else _0x341059=0.001*_0x2b35b8['filled'];}const _0x1f84b0=_0x2b35b8[_0x5802f0(0x12e)][_0x5802f0(0x113)](config[_0x5802f0(0xe3)]+'/');_0x1f84b0&&(_0x560f7f={'coin':_0x2b35b8['coin'],'symbol':_0x2b35b8['symbol'],'filled':_0x2b35b8['filled']*_0x2b35b8['price'],'side':_0x2b35b8[_0x5802f0(0x1e4)]==_0x5802f0(0x159)?_0x5802f0(0x198):_0x5802f0(0x159),'price':0x1/_0x2b35b8[_0x5802f0(0x13c)]},_0x2b35b8={..._0x560f7f});_0x2b35b8[_0x5802f0(0x1e4)]=='buy'?_0x5e250a=(_0x1ecfc4[_0x5802f0(0x1de)]*_0x1ecfc4[_0x5802f0(0x10d)]+_0x2b35b8[_0x5802f0(0x13c)]*_0x2b35b8['filled'])/(_0x1ecfc4[_0x5802f0(0x10d)]+_0x2b35b8[_0x5802f0(0x1cd)]):_0x5e250a=(_0x1ecfc4['breakeven']*_0x1ecfc4[_0x5802f0(0x10d)]-_0x2b35b8['price']*_0x2b35b8[_0x5802f0(0x1cd)])/(_0x1ecfc4[_0x5802f0(0x10d)]-_0x2b35b8[_0x5802f0(0x1cd)]);_0x2b35b8[_0x5802f0(0x1e4)]==_0x5802f0(0x198)?_0x40e58c=_0x1ecfc4[_0x5802f0(0x1e7)]:_0x40e58c=_0x1ecfc4[_0x5802f0(0x1e7)]+(_0x2b35b8[_0x5802f0(0x13c)]-_0x1ecfc4[_0x5802f0(0x1de)])*_0x2b35b8[_0x5802f0(0x1cd)];_0x2f997a=_0x2b35b8['side']=='sell'?_0x1ecfc4[_0x5802f0(0x10d)]-_0x2b35b8[_0x5802f0(0x1cd)]:_0x1ecfc4[_0x5802f0(0x10d)]+_0x2b35b8['filled'],_0x3f6830=(_0x2b35b8[_0x5802f0(0x13c)]-_0x5e250a)*_0x2f997a;let _0x5522cc={'coin':_0x2b35b8[_0x5802f0(0x10c)],'number':_0x2f997a,'breakeven':formatResult(_0x5e250a,0x8),'realized':formatResult(_0x40e58c,0x8),'unrealized':formatResult(_0x3f6830,0x8),'fees':formatResult(_0x1ecfc4[_0x5802f0(0x1e2)]+_0x341059,0x8),'sells':_0x2b35b8[_0x5802f0(0x1e4)]==_0x5802f0(0x159)?_0x1ecfc4[_0x5802f0(0x136)]+0x1:_0x1ecfc4['sells'],'buys':_0x2b35b8['side']==_0x5802f0(0x198)?_0x1ecfc4[_0x5802f0(0x1d4)]+0x1:_0x1ecfc4[_0x5802f0(0x1d4)]};dbCoinResults['get'](_0x5802f0(0x13b))[_0x5802f0(0x1ee)]({'coin':_0x2b35b8[_0x5802f0(0x10c)]})['assign'](_0x5522cc)[_0x5802f0(0x154)]();}async function placeOrder(_0x557117){const _0x4046a8=_0x1bf9b2,_0x1948be=config[_0x4046a8(0x124)]==_0x4046a8(0x110)?'market':_0x4046a8(0x19f);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x4046a8(0x1d5)](JSON[_0x4046a8(0x1b0)](currentCoins));for(const _0x5b072a of _0x557117){let _0x5785fc,_0x2bc7eb,_0x28b11e,_0x30494e,_0x30cd4a,_0x33d762=_0x5b072a[_0x4046a8(0x12e)];try{const _0x16b5d2=await exchange[_0x4046a8(0x131)](_0x33d762),_0x303856=_0x16b5d2[_0x33d762];_0x5785fc=_0x303856['last'],_0x2bc7eb=_0x303856[_0x4046a8(0x155)],_0x28b11e=_0x303856[_0x4046a8(0xef)];_0x5b072a[_0x4046a8(0x17b)]?(_0x30494e=_0x5b072a['side']=='buy'?_0x4046a8(0x159):_0x4046a8(0x198),_0x30cd4a=Math[_0x4046a8(0xf6)](_0x5b072a[_0x4046a8(0x1e0)])/_0x5785fc):(_0x30494e=_0x5b072a[_0x4046a8(0x1e4)],_0x30cd4a=Math['abs'](_0x5b072a[_0x4046a8(0x1e0)]));_0x1948be==_0x4046a8(0x19f)&&(config[_0x4046a8(0x124)]==_0x4046a8(0x127)&&(_0x5785fc=_0x30494e==_0x4046a8(0x198)?_0x2bc7eb:_0x28b11e),config['ordertype']==_0x4046a8(0x101)&&(_0x5785fc=_0x30494e==_0x4046a8(0x198)?_0x28b11e:_0x2bc7eb));_0x30cd4a=formatResult(_0x30cd4a,0x8),_0x5785fc=formatResult(_0x5785fc,0x8);const _0x5528c8=await exchange[_0x4046a8(0x11a)](_0x33d762,_0x1948be,_0x30494e,_0x30cd4a,_0x5785fc);lastOrders[_0x4046a8(0xe8)]({'orderId':_0x5528c8['id'],'symbol':_0x33d762,'side':_0x30494e,'reverse':_0x5b072a[_0x4046a8(0x17b)],'amount':_0x5b072a['reverse']?_0x5528c8[_0x4046a8(0x111)]*_0x5528c8[_0x4046a8(0x13c)]:_0x5528c8[_0x4046a8(0x111)],'filled':_0x5b072a['reverse']?_0x5528c8[_0x4046a8(0x1cd)]*_0x5528c8[_0x4046a8(0x13c)]:_0x5528c8[_0x4046a8(0x1cd)],'price':_0x5528c8[_0x4046a8(0x13c)]});const _0xe6e6fe=_0x30494e==_0x4046a8(0x159)?config[_0x4046a8(0x1c8)]?String[_0x4046a8(0x197)]('0x'+config[_0x4046a8(0x1c8)])+'\x20':'':config['emojibuy']?String[_0x4046a8(0x197)]('0x'+config[_0x4046a8(0x1a8)])+'\x20':'',_0x2d5548=_0x1948be==_0x4046a8(0x110)?_0x4046a8(0x168):config[_0x4046a8(0x124)]==_0x4046a8(0x127)?_0x4046a8(0x18c):_0x4046a8(0x14c);if(_0x1948be==_0x4046a8(0x110))logHistory(_0x4046a8(0x103),''+_0xe6e6fe+_0x2d5548+'\x20order:\x20'+_0x33d762+'\x20'+_0x30494e+'\x20#'+formatResult(_0x5528c8[_0x4046a8(0x1cd)],0x8)+'\x20@'+formatResult(_0x5528c8[_0x4046a8(0x13c)],0x8));else logHistory(_0x4046a8(0x103),''+_0xe6e6fe+_0x2d5548+_0x4046a8(0x1f3)+_0x33d762+'\x20'+_0x30494e+'\x20#'+formatResult(_0x5528c8[_0x4046a8(0x111)],0x8)+'\x20@'+formatResult(_0x5528c8['price'],0x8));_0x5528c8[_0x4046a8(0x10c)]=_0x5b072a[_0x4046a8(0x10c)],await updateCoinResults(_0x5528c8);if(config['cooldown']!=0x0){let _0x172ef8=null;if(cooldownTracker[_0x4046a8(0x1f5)]==config[_0x4046a8(0x1c5)]-0x1)_0x172ef8=cooldownTracker[_0x4046a8(0x1a7)]();const _0x785800=getTimeStamp();cooldownTracker[_0x4046a8(0xe8)](_0x785800);if(_0x172ef8){const _0x19288a=fns[_0x4046a8(0x145)](new Date(_0x785800),new Date(_0x172ef8));_0x19288a<cooldownInterval&&(logHistory('error','Executed\x20'+config[_0x4046a8(0x1c5)]+_0x4046a8(0x165)+cooldownInterval/0x3c+_0x4046a8(0x171)+cooldownPeriod/(0xe10*0x3e8)+_0x4046a8(0x179)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x2d097c){if(_0x2d097c[_0x4046a8(0x14a)]()[_0x4046a8(0x113)](_0x4046a8(0x117)))logHistory(_0x4046a8(0x1ea),_0x4046a8(0xf4)+_0x33d762);else{if(_0x2d097c[_0x4046a8(0x14a)]()['includes']('Invalid\x20quantity'))logHistory(_0x4046a8(0x1ea),_0x4046a8(0x1b5)+_0x33d762);else await handleError(_0x2d097c,_0x4046a8(0x17a));}}}if(lastOrders[_0x4046a8(0x1f5)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x4046a8(0x178)]&&(config[_0x4046a8(0x124)]==_0x4046a8(0x110)?logHistory('error',_0x4046a8(0x15c)):logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config[_0x4046a8(0x178)]&&logHistory(_0x4046a8(0x1ea),_0x4046a8(0x1c1)));}}function logHistory(_0xfb317,_0xbaee33,_0x3514a8=''){const _0x100aa3=_0x1bf9b2;let _0x50a8b1={'time':getTimeStamp(),'type':_0xfb317,'event':_0xbaee33};dbLogs[_0x100aa3(0x125)](_0x100aa3(0x1c9))[_0x100aa3(0xe8)](_0x50a8b1)[_0x100aa3(0x154)]();if(_0x3514a8=='')_0x3514a8=_0xbaee33;proxyEmit(_0x100aa3(0x1a5),{'log':_0x50a8b1,'summary':_0x3514a8}),process[_0x100aa3(0x11b)]({'telegram':{..._0x50a8b1,'botname':config[_0x100aa3(0x1cf)],'showname':config['showname']}},_0x309372=>{}),logging(''+_0x50a8b1[_0x100aa3(0x1a5)]);}function emitHistory(_0x11f087={}){const _0x574e96=_0x1bf9b2;Object['keys'](_0x11f087)['length']==0x0&&(_0x11f087={'type':[_0x574e96(0x103),_0x574e96(0x1a5)],'event':'','page':0x1});if(_0x11f087[_0x574e96(0x185)]['includes']('event'))_0x11f087[_0x574e96(0x185)][_0x574e96(0x132)](_0x11f087[_0x574e96(0x185)][_0x574e96(0x13d)](_0x574e96(0x1a5)),0x1,_0x574e96(0x1ea),'success');if(dbLogs[_0x574e96(0x1e8)](_0x574e96(0x1c9))[_0x574e96(0xee)]()){let _0x1a43be=dbLogs[_0x574e96(0x125)]('logs')[_0x574e96(0x10f)](_0x3c6600=>{const _0x39b3da=_0x574e96;if(_0x11f087[_0x39b3da(0x185)][_0x39b3da(0x1f5)]==0x0)return![];else return _0x11f087[_0x39b3da(0x185)][_0x39b3da(0x113)](_0x3c6600[_0x39b3da(0x185)]);})['filter'](_0x5b5775=>{const _0x218c6c=_0x574e96;if(_0x11f087[_0x218c6c(0x1a5)]=='')return!![];else return _0x5b5775[_0x218c6c(0x1a5)][_0x218c6c(0xec)]()[_0x218c6c(0x113)](_0x11f087[_0x218c6c(0x1a5)]['toLowerCase']());})['sortBy'](_0x574e96(0xde)),_0x1c9a10=_0x1a43be[_0x574e96(0xee)]()[_0x574e96(0x1f5)];_0x1a43be=_0x1a43be[_0x574e96(0x17b)]()['slice']((_0x11f087['page']-0x1)*logPageSize,_0x11f087[_0x574e96(0x1d7)]*logPageSize-0x1)[_0x574e96(0x17b)]()[_0x574e96(0xee)](),proxyEmit(_0x574e96(0x1b2),{'logs':_0x1a43be,'total':_0x1c9a10});}else proxyEmit(_0x574e96(0x1b2),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x59777a){const _0x26aa74=_0x1bf9b2;if(dbLogs[_0x26aa74(0x1e8)](_0x26aa74(0x1c9))[_0x26aa74(0xee)]()){const _0x29de3d=dbLogs[_0x26aa74(0x125)](_0x26aa74(0x1c9))[_0x26aa74(0x11d)]('time')[_0x26aa74(0x10f)](_0x546ae7=>{const _0x17521a=_0x26aa74;return _0x546ae7[_0x17521a(0x185)]=='order';})[_0x26aa74(0xee)]();dbLogs[_0x26aa74(0x125)](_0x26aa74(0x1c9))[_0x26aa74(0x156)]()[_0x26aa74(0x154)](),dbLogs[_0x26aa74(0x125)]('logs')[_0x26aa74(0x13a)](_0x29de3d)[_0x26aa74(0x154)](),emitHistory(_0x59777a);}}async function pauseBot(_0x3e3c12=''){const _0x4d4a9b=_0x1bf9b2,_0x5ce965=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x4d4a9b(0x10b)](),consecutivePauses=0x1;else{if(_0x5ce965-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x4d4a9b(0x11b)]({'stop':_0x4d4a9b(0x186)},_0x1d3657=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x4d4a9b(0x10b)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x3e3c12)_0x3e3c12+=_0x4d4a9b(0x1b3);logHistory(_0x4d4a9b(0x1ea),_0x3e3c12+_0x4d4a9b(0x1b9)+pauseBotInterval/0xea60+_0x4d4a9b(0x138)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function handleError(_0x171088,_0x58c1b5,_0xb9ecf7=''){const _0x271a8e=_0x1bf9b2;if(_0x171088[_0x271a8e(0x14a)]()[_0x271a8e(0x113)]('DDoSProtection'))await pauseBot(_0x271a8e(0x177));else{if(_0x171088['toString']()[_0x271a8e(0x113)]('ExchangeNotAvailable'))await pauseBot(_0x271a8e(0x1ae));else{if(_0x171088[_0x271a8e(0x14a)]()['includes']('RequestTimeout'))await pauseBot(_0x271a8e(0x153));else{if(_0x171088[_0x271a8e(0x14a)]()[_0x271a8e(0x113)]('API-key\x20format\x20invalid'))logHistory(_0x271a8e(0x1ea),_0x58c1b5+_0x271a8e(0x1af)),logHistory(_0x271a8e(0x1ea),_0x271a8e(0x12a)),process[_0x271a8e(0x11b)]({'stop':_0x271a8e(0xdd)},_0x3023fd=>{});else{if(_0x171088[_0x271a8e(0x14a)]()[_0x271a8e(0x113)](_0x271a8e(0x1aa)))logHistory(_0x271a8e(0x1ea),_0x58c1b5+_0x271a8e(0x1d2)),logHistory(_0x271a8e(0x1ea),_0x271a8e(0x12a)),process['send']({'stop':_0x271a8e(0xdd)},_0x2ff7b3=>{});else{if(_0x171088['toString']()[_0x271a8e(0x113)](_0x271a8e(0x115)))logHistory('error',_0x58c1b5+_0x271a8e(0x1f4)),logHistory('error',_0x271a8e(0x12a)),process['send']({'stop':'kill'},_0x456782=>{});else{if(_0x171088['toString']()[_0x271a8e(0x113)](_0x271a8e(0x1e9)))logHistory(_0x271a8e(0x1ea),_0x58c1b5+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory('error',_0x271a8e(0x12a)),process[_0x271a8e(0x11b)]({'stop':_0x271a8e(0xdd)},_0x14eeb8=>{});else{if(_0x171088['toString']()[_0x271a8e(0x113)](_0x271a8e(0x19d)))await pauseBot(_0x271a8e(0x1b7)),process['send']({'stop':_0x271a8e(0x186)},_0x591c8c=>{});else _0x171088[_0x271a8e(0x14a)]()['includes'](_0x271a8e(0x1f6))?logHistory(_0x271a8e(0x1ea),_0x58c1b5+_0x271a8e(0x1eb)):(logging(_0x58c1b5+_0x271a8e(0x175),_0x171088),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x26e90a,_0xbf5640){return parseFloat(_0x26e90a['toFixed'](_0xbf5640));}function logging(_0x355c79,_0x319319=''){const _0x16997f=_0x1bf9b2;if(config[_0x16997f(0x18a)])console[_0x16997f(0x142)](getTimeStamp()+':\x20'+config[_0x16997f(0x1cf)]+'\x20>\x20'+_0x355c79,_0x319319);else console[_0x16997f(0x142)](getTimeStamp()+_0x16997f(0x148)+botID+_0x16997f(0xe1)+_0x355c79,_0x319319);}function getServerTime(){const _0x526988=_0x1bf9b2,_0x21b11b=new Date();return _0x21b11b[_0x526988(0x169)]()+'/'+(_0x21b11b[_0x526988(0x1b8)]()+0x1)[_0x526988(0x14a)]()['padStart'](0x2,'0')+'/'+_0x21b11b[_0x526988(0x15f)]()[_0x526988(0x14a)]()['padStart'](0x2,'0')+'\x20'+_0x21b11b[_0x526988(0x104)]()[_0x526988(0x14a)]()[_0x526988(0xda)](0x2,'0')+':'+_0x21b11b[_0x526988(0x1f7)]()[_0x526988(0x14a)]()[_0x526988(0xda)](0x2,'0')+':'+_0x21b11b[_0x526988(0x196)]()[_0x526988(0x14a)]()[_0x526988(0xda)](0x2,'0');}function getTimeStamp(){const _0x266185=_0x1bf9b2,_0x4a8f5c=shiftedTime();return _0x4a8f5c[_0x266185(0x169)]()+'/'+(_0x4a8f5c[_0x266185(0x1b8)]()+0x1)[_0x266185(0x14a)]()[_0x266185(0xda)](0x2,'0')+'/'+_0x4a8f5c[_0x266185(0x15f)]()[_0x266185(0x14a)]()[_0x266185(0xda)](0x2,'0')+'\x20'+_0x4a8f5c['getHours']()['toString']()[_0x266185(0xda)](0x2,'0')+':'+_0x4a8f5c[_0x266185(0x1f7)]()['toString']()[_0x266185(0xda)](0x2,'0')+':'+_0x4a8f5c[_0x266185(0x196)]()[_0x266185(0x14a)]()[_0x266185(0xda)](0x2,'0');}function getDate(){const _0x5d5638=_0x1bf9b2,_0x117962=shiftedTime();return _0x117962[_0x5d5638(0x169)]()+'/'+(_0x117962['getMonth']()+0x1)[_0x5d5638(0x14a)]()[_0x5d5638(0xda)](0x2,'0')+'/'+_0x117962[_0x5d5638(0x15f)]()[_0x5d5638(0x14a)]()[_0x5d5638(0xda)](0x2,'0');}function getHour(){const _0x3a049d=_0x1bf9b2,_0x48b2a=shiftedTime();return _0x48b2a[_0x3a049d(0x104)]()[_0x3a049d(0x14a)]()[_0x3a049d(0xda)](0x2,'0');}function sleep(_0x516771){return new Promise(_0x311722=>setTimeout(_0x311722,_0x516771));}function shiftedTime(){const _0x280495=_0x1bf9b2,_0x549a78=new Date();let _0xb3a07f=_0x549a78;if(config&&config[_0x280495(0x17d)]!==0x0)_0xb3a07f=fns[_0x280495(0x1dd)](_0x549a78,{'hours':config[_0x280495(0x17d)]});return _0xb3a07f;}