const _0x11d145=_0x3889;(function(_0x2fbe57,_0x15b7d1){const _0x3cd5fe=_0x3889,_0x1e4c67=_0x2fbe57();while(!![]){try{const _0x59e2f2=-parseInt(_0x3cd5fe(0x288))/0x1+parseInt(_0x3cd5fe(0x26f))/0x2+parseInt(_0x3cd5fe(0x285))/0x3*(parseInt(_0x3cd5fe(0x197))/0x4)+parseInt(_0x3cd5fe(0x22f))/0x5+parseInt(_0x3cd5fe(0x1cb))/0x6*(parseInt(_0x3cd5fe(0x1f4))/0x7)+parseInt(_0x3cd5fe(0x1e7))/0x8*(-parseInt(_0x3cd5fe(0x229))/0x9)+parseInt(_0x3cd5fe(0x2c6))/0xa*(-parseInt(_0x3cd5fe(0x208))/0xb);if(_0x59e2f2===_0x15b7d1)break;else _0x1e4c67['push'](_0x1e4c67['shift']());}catch(_0x1acdc6){_0x1e4c67['push'](_0x1e4c67['shift']());}}}(_0x4b84,0x5e36e));const _0x41f132=function(){let _0x36cf61=!![];return function(_0x14aa1a,_0x31ac17){const _0x23c0cc=_0x36cf61?function(){const _0x486dc2=_0x3889;if(_0x31ac17){const _0x1f74c=_0x31ac17[_0x486dc2(0x223)](_0x14aa1a,arguments);return _0x31ac17=null,_0x1f74c;}}:function(){};return _0x36cf61=![],_0x23c0cc;};}(),_0x2be820=_0x41f132(this,function(){const _0x4c0905=_0x3889;return _0x2be820[_0x4c0905(0x2b6)]()[_0x4c0905(0x29d)](_0x4c0905(0x2bf))[_0x4c0905(0x2b6)]()[_0x4c0905(0x279)](_0x2be820)[_0x4c0905(0x29d)](_0x4c0905(0x2bf));});_0x2be820();'use strict';const ccxt=require(_0x11d145(0x2bd))['pro'],low=require(_0x11d145(0x289)),FileSync=require(_0x11d145(0x2af)),fs=require('fs'),fns=require(_0x11d145(0x1d2)),Crypt=require('hybrid-crypto-js')[_0x11d145(0x1ec)],util=require(_0x11d145(0x224));let exchange;global[_0x11d145(0x1ef)]={},global[_0x11d145(0x238)]={};const exceptions=['DAI/',_0x11d145(0x2d0),_0x11d145(0x293),_0x11d145(0x255),'NANO/','YOYOW/'];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x11d145(0x1be)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x11d145(0x199)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime;const serverversion=require('./version.json')['version'],botID=process[_0x11d145(0x2b4)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x11d145(0x1af)](botID)&&(console[_0x11d145(0x2b5)](_0x11d145(0x2a1)+botID+_0x11d145(0x244)),killBot());const userID=process[_0x11d145(0x2b4)][0x3]||'',configpath=userID?_0x11d145(0x1a2)+userID+'/':_0x11d145(0x1a2),logspath=userID?_0x11d145(0x2a7)+userID+'/':'./logs/',loggerfile=fs[_0x11d145(0x18b)](logspath+_0x11d145(0x2ac),{'flags':'a'});!fs[_0x11d145(0x259)](configpath)&&fs['mkdirSync'](configpath);!fs['existsSync'](logspath)&&fs[_0x11d145(0x1e1)](logspath);const configfile=configpath+'bot-'+botID+_0x11d145(0x233),logfile=configpath+'bot-'+botID+_0x11d145(0x25f),performancefile=configpath+'bot-'+botID+_0x11d145(0x20e),coinresultsfile=configpath+'bot-'+botID+_0x11d145(0x2be),settingsfile=configpath+_0x11d145(0x23f),securefile=configpath+_0x11d145(0x196),configbackuppath=configpath+_0x11d145(0x286),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x11d145(0x2ad)]({'logs':[]})[_0x11d145(0x29f)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x11d145(0x2ad)]({'data':[]})[_0x11d145(0x29f)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x11d145(0x2ad)]({'bot':[]})[_0x11d145(0x29f)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x11d145(0x29f)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x11d145(0x1c4),'rsaStandard':_0x11d145(0x23a)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x2d222c=>{const _0xa86024=_0x11d145;console[_0xa86024(0x2b5)](_0x2d222c);},'simple':_0x559d27=>{const _0x251ef3=_0x11d145;console[_0x251ef3(0x2b5)](_0x559d27),loggerfile[_0x251ef3(0x29f)](util['format'](_0x559d27)+'\x0a');},'full':async(_0x296af0,_0xa72627='')=>{const _0xc4fecc=_0x11d145;let _0x3e238e;if(config['showname'])_0x3e238e=getTimeStamp()+':\x20'+config[_0xc4fecc(0x1c8)]+'\x20>\x20'+_0x296af0;else _0x3e238e=getTimeStamp()+_0xc4fecc(0x19e)+botID+_0xc4fecc(0x21d)+_0x296af0;console[_0xc4fecc(0x2b5)](_0x3e238e),loggerfile['write'](util[_0xc4fecc(0x1d1)](_0x3e238e)+'\x0a'),_0xa72627&&(console[_0xc4fecc(0x2b5)](_0xa72627),loggerfile[_0xc4fecc(0x29f)](util[_0xc4fecc(0x1d1)](_0xa72627)+'\x0a'));},'debug':async(_0x3006bc,_0x469437='')=>{const _0x2bf2a4=_0x11d145;let _0x4f6cb4;if(config[_0x2bf2a4(0x25b)])_0x4f6cb4=getTimeStamp()+':\x20'+config[_0x2bf2a4(0x1c8)]+_0x2bf2a4(0x19b)+_0x3006bc;else _0x4f6cb4=getTimeStamp()+_0x2bf2a4(0x19e)+botID+_0x2bf2a4(0x19b)+_0x3006bc;if(debugLoggingScreen)console[_0x2bf2a4(0x2b5)](_0x4f6cb4);loggerfile[_0x2bf2a4(0x29f)](util['format'](_0x4f6cb4)+'\x0a');if(_0x469437){if(debugLoggingScreen)console[_0x2bf2a4(0x2b5)](_0x469437);loggerfile[_0x2bf2a4(0x29f)](util['format'](_0x469437)+'\x0a');}}};process['on']('uncaughtException',function(_0x83c9be){const _0x41f607=_0x11d145;logger[_0x41f607(0x28e)](_0x83c9be);});settings['timeshift']!=config[_0x11d145(0x1e0)]&&updateTimeshift(settings[_0x11d145(0x1e0)]);process[_0x11d145(0x23b)]({'started':_0x11d145(0x179)},_0x1f14e6=>{}),initializeProcessListeners();function proxyEmit(_0x1d0373,_0x16b85a=null){const _0x5cb72e=_0x11d145;process[_0x5cb72e(0x23b)]({'function':_0x1d0373,'args':_0x16b85a},_0xf277a4=>{});}function initializeProcessListeners(){const _0x128c6=_0x11d145;process['on'](_0x128c6(0x280),_0x4d0433=>{const _0x4fa3d9=_0x128c6;switch(Object['keys'](_0x4d0433)[0x0]){case'timeshift':_0x4d0433[_0x4fa3d9(0x1e0)]!=undefined&&(settings[_0x4fa3d9(0x1e0)]=_0x4d0433[_0x4fa3d9(0x1e0)],updateTimeshift(settings[_0x4fa3d9(0x1e0)]));break;case'function':switch(_0x4d0433['function']){case _0x4fa3d9(0x2cb):initclient();break;case _0x4fa3d9(0x261):toggleBotMode();break;case'emitHistory':emitHistory(_0x4d0433[_0x4fa3d9(0x1c9)]);break;case _0x4fa3d9(0x20a):deleteHistoryAlerts(_0x4d0433[_0x4fa3d9(0x1c9)]);break;case _0x4fa3d9(0x2c0):getPortfolio(_0x4d0433['args']);break;case _0x4fa3d9(0x23d):storeConfiguration(_0x4d0433[_0x4fa3d9(0x1c9)]);break;case _0x4fa3d9(0x177):storeHeadless(_0x4d0433[_0x4fa3d9(0x1c9)]);break;case _0x4fa3d9(0x17a):getStartingBalances(getNormalizedPerformance());break;case _0x4fa3d9(0x21a):placeOrder(_0x4d0433['args']);break;case'cancelLoading':cancelLoading();break;case'showConfig':showConfig();break;case _0x4fa3d9(0x195):sendPortfolioTelegram();break;}}});}reset();async function reset(_0x5b467a=null,_0x18329a=![]){const _0x5b824a=_0x11d145;if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);if(!_0x18329a)lastCoinsToBalance='';coinsLoaded=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};if(config[_0x5b824a(0x2ae)]!=''&&config[_0x5b824a(0x2ae)]!='***'){await initExchange();let _0x457652=![];_0x457652=await loadSymbols();if(_0x457652){setStableCoins(),currentCoins=await getCoins(!![]),await initwsCcxt(_0x5b467a),exchangeStopped=![];if(lastOrders[_0x5b824a(0x1f5)]==0x0&&allOpenOrders[_0x5b824a(0x1f5)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval),initbot();}}}async function stopExchange(){const _0x3926b0=_0x11d145;exchangeStopped=!![],await exchange[_0x3926b0(0x1ea)]();}async function reloadExchange(){const _0x5e36bf=_0x11d145;logger[_0x5e36bf(0x1c7)](_0x5e36bf(0x1da));while(lockOrders!=ORDERS[_0x5e36bf(0x199)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x5e36bf(0x1c7)](_0x5e36bf(0x282)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x5c5edc=config['exchange'],_0x594d55=config[_0x11d145(0x2ae)],_0x15904b=config['apiSecret']){const _0x4f3cdb=_0x11d145;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x5c5edc)&&(logger['full'](_0x4f3cdb(0x207)+_0x5c5edc+_0x4f3cdb(0x27e)),killBot());const _0x3582e4=ccxt[_0x5c5edc['toLowerCase']()];exchange=new _0x3582e4({'apiKey':_0x594d55,'secret':_0x15904b,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});}function setStableCoins(){const _0x5b6b3d=_0x11d145;let _0x2b880c=config[_0x5b6b3d(0x1b1)]=='ETH'?'ETH':_0x5b6b3d(0x2ab),_0x4e2c2e=!allSymbols[_0x5b6b3d(0x232)](_0x2b880c+_0x5b6b3d(0x241))?_0x5b6b3d(0x202):'EUR',_0x332682=!allSymbols['includes'](_0x2b880c+_0x5b6b3d(0x211))?_0x5b6b3d(0x202):'USD';stablecoins={'eur':{'coin':''+_0x2b880c+_0x4e2c2e,'symbol':_0x2b880c+'/'+_0x4e2c2e},'usd':{'coin':''+_0x2b880c+_0x332682,'symbol':_0x2b880c+'/'+_0x332682}};}async function initwsCcxt(_0x587b6b){const _0x111a6b=_0x11d145;if(_0x587b6b==null){_0x587b6b=[],currentCoins[_0x111a6b(0x194)](_0x245d5d=>{const _0x2eb634=_0x111a6b;if(_0x245d5d[_0x2eb634(0x2c2)]!=config[_0x2eb634(0x1b1)])_0x587b6b['push'](_0x245d5d[_0x2eb634(0x1b7)]);});if(!_0x587b6b[_0x111a6b(0x232)](stablecoins[_0x111a6b(0x2bc)][_0x111a6b(0x1b7)]))_0x587b6b['push'](stablecoins[_0x111a6b(0x2bc)][_0x111a6b(0x1b7)]);if(!_0x587b6b[_0x111a6b(0x232)](stablecoins[_0x111a6b(0x1a3)][_0x111a6b(0x1b7)]))_0x587b6b[_0x111a6b(0x24b)](stablecoins[_0x111a6b(0x1a3)][_0x111a6b(0x1b7)]);if(!_0x587b6b['includes'](_0x111a6b(0x1a5)+config[_0x111a6b(0x1b1)]))_0x587b6b[_0x111a6b(0x24b)](_0x111a6b(0x1a5)+config[_0x111a6b(0x1b1)]);}loadCoins(_0x587b6b);const _0x13b4ec=async _0x1c5289=>{const _0x2a517f=_0x111a6b,_0x4d472f=await exchange[_0x2a517f(0x19a)](_0x1c5289);global[_0x2a517f(0x1ef)][noslash(_0x4d472f['symbol'])]=_0x4d472f['last'];while(!![]){if(!botPaused)try{const _0x131afb=await exchange[_0x2a517f(0x18e)](_0x1c5289);global[_0x2a517f(0x1ef)][noslash(_0x131afb[0x0][_0x2a517f(0x1b7)])]=_0x131afb[0x0][_0x2a517f(0x1e5)],await sleep(0x3e8);}catch(_0x4f6149){if(!exchangeStopped)await handleError(_0x4f6149,'watchTrades',_0x1c5289);}else await sleep(0x3e8);}},_0x22d975=async _0x596625=>{const _0x1b99b7=_0x111a6b;while(!![]){if(!botPaused)try{const _0x981330=await exchange[_0x1b99b7(0x19a)](_0x596625);global['change'][_0x981330[_0x1b99b7(0x1b7)]]=_0x981330[_0x1b99b7(0x246)],await sleep(0x2710);}catch(_0x1711a3){if(!exchangeStopped)await handleError(_0x1711a3,_0x1b99b7(0x18d),_0x596625);}else await sleep(0x3e8);}},_0x5a1474=async()=>{const _0x5de065=_0x111a6b;while(!![]){if(!botPaused)try{const _0x216f2d=await exchange[_0x5de065(0x235)]();_0x216f2d[_0x5de065(0x194)](_0x524d2f=>{updateNumberCoinsCcxt(_0x524d2f);});}catch(_0xcfeeb2){if(!exchangeStopped)await handleError(_0xcfeeb2,_0x5de065(0x235));}else await sleep(0x3e8);}};_0x587b6b[_0x111a6b(0x194)](async _0x4ad277=>{_0x13b4ec(_0x4ad277),_0x22d975(_0x4ad277);}),!wsEventsSet&&(wsEventsSet=!![],_0x5a1474());}async function loadSymbols(){const _0x4a9ef2=_0x11d145;if(allSymbols)return!![];let _0x19835d=![];try{markets=await exchange[_0x4a9ef2(0x222)](),allSymbols=exchange[_0x4a9ef2(0x25c)]['filter'](_0x157957=>{const _0x5756f0=_0x4a9ef2;let _0x38b21b=![];return exceptions[_0x5756f0(0x194)](_0x5bb87e=>{const _0x2a14de=_0x5756f0;if(_0x157957[_0x2a14de(0x232)](_0x5bb87e))_0x38b21b=!![];}),!_0x38b21b;}),_0x19835d=!![];}catch(_0xf2f9ce){_0x19835d=![],handleError(_0xf2f9ce,_0x4a9ef2(0x22d));}return _0x19835d;}async function initbot(){while(!coinsLoaded){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0xf96ac2=_0x11d145;proxyEmit('configuration',emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xf96ac2(0x28b),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2fbc7d=getNormalizedPerformance();emitPerformance(_0x2fbc7d),await getStartingBalances(_0x2fbc7d);}async function toggleBotMode(){const _0x27f5cc=_0x11d145;let _0x1d09bc=dbConfig['get'](_0x27f5cc(0x1b8))[_0x27f5cc(0x212)]({'botID':botID})['value']();if(_0x1d09bc){const _0x54a30d=!_0x1d09bc[_0x27f5cc(0x203)];dbConfig['get'](_0x27f5cc(0x1b8))[_0x27f5cc(0x212)]({'botID':botID})[_0x27f5cc(0x1cc)]({'headless':_0x54a30d})[_0x27f5cc(0x29f)](),config[_0x27f5cc(0x203)]=_0x54a30d,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x57d5e3=>{});}async function loadCoins(_0x29d02a){const _0x347ecb=_0x11d145;let _0x14ea80,_0x2414f1=0x0;loading[_0x347ecb(0x1de)]=[];let _0x1a5539=0x0;_0x29d02a[_0x347ecb(0x194)](_0x3628c1=>{const _0x1ae59f=_0x347ecb;loading[_0x1ae59f(0x1de)][_0x1ae59f(0x24b)](_0x3628c1);}),loadingCanceled=![];let _0x310f2a=![];while(_0x14ea80!=_0x29d02a[_0x347ecb(0x1f5)]){_0x14ea80=0x0,_0x29d02a[_0x347ecb(0x194)](_0x3ec791=>{const _0x2afd14=_0x347ecb;global[_0x2afd14(0x1ef)][noslash(_0x3ec791)]&&(loading[_0x2afd14(0x1de)]=loading[_0x2afd14(0x1de)]['filter'](_0x20632c=>_0x20632c!=_0x3ec791),_0x14ea80++);}),loading[_0x347ecb(0x220)]=Math['round'](_0x14ea80/_0x29d02a[_0x347ecb(0x1f5)]*0x64);loading['progress']!=0x64&&(_0x1a5539>0x1e*0x5&&(loading[_0x347ecb(0x17b)]=!![],emitLoadingProgress()),_0x1a5539>0x78*0x5&&!_0x310f2a&&(loading['cancel']=!![],emitLoadingProgress(),_0x310f2a=!![],logHistory(_0x347ecb(0x17c),_0x347ecb(0x274)+loading[_0x347ecb(0x1de)][_0x347ecb(0x263)](',\x20')+_0x347ecb(0x27b)),logHistory(_0x347ecb(0x17c),_0x347ecb(0x1b3)+loadCoinsRetryInterval/0xea60+_0x347ecb(0x178)),pidCoinReloading=setTimeout(()=>{const _0x14b83d=_0x347ecb;process[_0x14b83d(0x23b)]({'stop':'restart'},_0x1173d4=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x347ecb(0x27c)]=!![],emitLoadingProgress();break;}else _0x14ea80!=_0x2414f1&&(_0x2414f1=_0x14ea80,emitLoadingProgress()),_0x1a5539++,await sleep(0xc8);}_0x14ea80==_0x29d02a['length']&&(coinsLoaded=!![],_0x310f2a&&logHistory(_0x347ecb(0x185),_0x347ecb(0x271)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x888552=_0x11d145;proxyEmit(_0x888552(0x2a8),{...emittedConfiguration(),'configstate':_0x888552(0x24d)});}function emitLoadingProgress(){const _0x4bb052=_0x11d145;proxyEmit(_0x4bb052(0x1dd),loading);}async function getFiat(){const _0x551070=_0x11d145;let _0x583fa0=0x0,_0x390ff0=0x0;try{_0x583fa0=global[_0x551070(0x1ef)][stablecoins[_0x551070(0x2bc)][_0x551070(0x2c2)]],_0x390ff0=global[_0x551070(0x1ef)][stablecoins[_0x551070(0x1a3)][_0x551070(0x2c2)]];}catch(_0x3f7c3c){await handleError(_0x3f7c3c,'getFiat()');}return{'eur':Number(_0x583fa0),'usd':Number(_0x390ff0)};}function capitalize(_0x1718ac){const _0xfe4cdd=_0x11d145;return _0x1718ac[_0xfe4cdd(0x2cc)](0x0,0x1)[_0xfe4cdd(0x1a7)]()+_0x1718ac[_0xfe4cdd(0x2cc)](0x1);}function supportedExchanges(){const _0x113fbd=_0x11d145,_0x4bb6cc=['ws',_0x113fbd(0x18d),_0x113fbd(0x19a),_0x113fbd(0x18e),_0x113fbd(0x235),_0x113fbd(0x187),_0x113fbd(0x28c),_0x113fbd(0x298),_0x113fbd(0x1c0),_0x113fbd(0x192)];let _0x52c9f9=[];const _0x53a7e0=ccxt[_0x113fbd(0x228)][_0x113fbd(0x1cd)](_0x40724f=>new ccxt[_0x40724f]())[_0x113fbd(0x29b)](_0xadc699=>_0xadc699[_0x113fbd(0x1a9)]['ws']);return _0x53a7e0[_0x113fbd(0x194)](_0x30f218=>{const _0x508cac=_0x113fbd;let _0x20d5c5=0x0;_0x4bb6cc[_0x508cac(0x194)](_0x45daa8=>{_0x45daa8 in _0x30f218['has']&&_0x30f218['has'][_0x45daa8]&&_0x20d5c5++;}),_0x20d5c5==_0x4bb6cc[_0x508cac(0x1f5)]&&_0x52c9f9[_0x508cac(0x24b)](capitalize(_0x30f218['id']));}),_0x52c9f9;}function setStartDatePerformance(){const _0x66bb96=_0x11d145;if(config&&config[_0x66bb96(0x174)][0x0]['changes'][_0x66bb96(0x1f5)]!=0x0){const _0x1a8f48=config[_0x66bb96(0x174)][0x0][_0x66bb96(0x2ca)];dbPerformance[_0x66bb96(0x210)](_0x66bb96(0x268))[_0x66bb96(0x212)]({'date':config['startdate']})['assign']({'coins':_0x1a8f48})[_0x66bb96(0x29f)]();}}async function recreateCoinResults(){const _0x1fb649=_0x11d145;let _0xc014e6,_0x4cd4cf=[];try{const _0x4a8e31=fns[_0x1fb649(0x1d1)](fns[_0x1fb649(0x216)](config[_0x1fb649(0x21b)][_0x1fb649(0x239)](/\//g,'-')),_0x1fb649(0x2aa));for(const _0x3f66fa of currentCoins){if(_0x3f66fa[_0x1fb649(0x2c2)]!=config[_0x1fb649(0x1b1)]){let _0x5947cc=0x0,_0x38e19b,_0x56d77a;_0xc014e6=await getAllEventOrders(_0x3f66fa[_0x1fb649(0x1b7)]);if(_0xc014e6[_0x1fb649(0x1f5)]>0x0)_0xc014e6[_0x1fb649(0x194)](_0x4816df=>{const _0x493e32=_0x1fb649,_0x3ac806=_0x3f66fa[_0x493e32(0x1b7)][_0x493e32(0x232)](config['basecoin']+'/');_0x4cd4cf['push']({'datetime':_0x4816df['datetime'],'coin':_0x3f66fa['coin'],'symbol':_0x3f66fa[_0x493e32(0x1b7)],'side':_0x4816df[_0x493e32(0x1c2)],'reverse':_0x3ac806,'amount':formatResult(_0x4816df[_0x493e32(0x181)],0x8),'filled':formatResult(_0x4816df[_0x493e32(0x181)],0x8),'price':formatResult(_0x4816df[_0x493e32(0x1e5)],0x8)}),_0x5947cc=_0x4816df[_0x493e32(0x1c2)]==_0x493e32(0x28a)?_0x5947cc+_0x4816df[_0x493e32(0x181)]:_0x5947cc-_0x4816df[_0x493e32(0x181)];if(!_0x56d77a)_0x56d77a=_0x4816df['price'];});_0x38e19b=_0x3f66fa[_0x1fb649(0x189)]-_0x5947cc;let _0x245ce1;config[_0x1fb649(0x174)][_0x1fb649(0x194)](_0x27d31d=>{const _0x3a5706=_0x1fb649;!_0x245ce1&&(_0x245ce1=_0x27d31d[_0x3a5706(0x2ca)][_0x3a5706(0x212)](_0x4423d8=>_0x4423d8['coin']==_0x3f66fa[_0x3a5706(0x2c2)]),_0x245ce1&&(_0x38e19b=_0x245ce1[_0x3a5706(0x189)],_0x56d77a=_0x245ce1[_0x3a5706(0x1e5)]));});let _0x2042e1=dbCoinResults[_0x1fb649(0x210)](_0x1fb649(0x2c4))['find']({'coin':_0x3f66fa[_0x1fb649(0x2c2)]})[_0x1fb649(0x231)]();_0x2042e1={'coin':_0x3f66fa[_0x1fb649(0x2c2)],'number':_0x38e19b,'breakeven':_0x56d77a,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1fb649(0x210)](_0x1fb649(0x2c4))[_0x1fb649(0x212)]({'coin':_0x3f66fa[_0x1fb649(0x2c2)]})['assign'](_0x2042e1)[_0x1fb649(0x29f)]();}}_0x4cd4cf[_0x1fb649(0x188)]((_0x190ef2,_0x131685)=>_0x190ef2[_0x1fb649(0x277)]>_0x131685['datetime']?0x1:_0x131685[_0x1fb649(0x277)]>_0x190ef2['datetime']?-0x1:0x0);let _0x3ad304=0x0;for(let _0x184a75 of _0x4cd4cf){await updateCoinResults(_0x184a75,!![]);}}catch(_0x14bc0d){await handleError(_0x14bc0d,_0x1fb649(0x2ce));}}async function getAllEventOrders(_0x4b9047){const _0x5ecdd9=_0x11d145;let _0x40a73d=[],_0x28f3c1=dbLogs[_0x5ecdd9(0x210)](_0x5ecdd9(0x2a6))[_0x5ecdd9(0x29b)](_0x42650a=>{const _0x19f0f0=_0x5ecdd9,_0x30bef0=_0x42650a[_0x19f0f0(0x206)][_0x19f0f0(0x29c)]();return _0x30bef0[_0x19f0f0(0x232)](_0x4b9047[_0x19f0f0(0x29c)]())&&(_0x30bef0[_0x19f0f0(0x232)](_0x19f0f0(0x175))&&_0x30bef0[_0x19f0f0(0x232)](_0x19f0f0(0x257))||_0x30bef0[_0x19f0f0(0x232)](_0x19f0f0(0x181))&&_0x30bef0[_0x19f0f0(0x232)](_0x19f0f0(0x257)));})[_0x5ecdd9(0x1b5)]('time')[_0x5ecdd9(0x231)]();return _0x28f3c1[_0x5ecdd9(0x194)](_0x4d58d5=>{const _0x53364b=_0x5ecdd9,_0x49da0c=_0x4d58d5['event'][_0x53364b(0x232)]('sell')?_0x53364b(0x20c):_0x53364b(0x28a),_0x8acdfc=/#([0-9]|\.)+\s/i,_0x5390ca=Number(_0x8acdfc[_0x53364b(0x264)](_0x4d58d5[_0x53364b(0x206)])[0x0][_0x53364b(0x265)](0x1)),_0x40d994=/@([0-9]|\.)+$/i,_0x7fbc86=Number(_0x40d994[_0x53364b(0x264)](_0x4d58d5[_0x53364b(0x206)])[0x0][_0x53364b(0x265)](0x1));_0x40a73d['push']({'datetime':_0x4d58d5['time'],'coin':symbolToCoin(_0x4b9047),'symbol':_0x4b9047,'side':_0x49da0c,'amount':_0x5390ca,'filled':_0x5390ca,'price':_0x7fbc86});}),_0x40a73d;}async function getAllOrders(_0x175250,_0x2fad63){const _0x47db6e=_0x11d145;let _0x29ebe0=[];while(_0x2fad63<exchange[_0x47db6e(0x266)]()){const _0x23b5b9=0x1f4,_0x2b9425=await exchange['fetchClosedOrders'](_0x175250,_0x2fad63,_0x23b5b9);if(_0x2b9425['length'])_0x2fad63=_0x2b9425[_0x2b9425[_0x47db6e(0x1f5)]-0x1][_0x47db6e(0x1f6)]+0x1,_0x29ebe0=_0x29ebe0['concat'](_0x2b9425);else break;}return _0x29ebe0;}async function validate24hChanges(){const _0x5eb021=_0x11d145;let _0xc3ce2d;for(const _0x5a715b of currentCoins){if(_0x5a715b[_0x5eb021(0x2c2)]!=config['basecoin']){let _0x219b58;_0x5a715b[_0x5eb021(0x1b9)]?_0x219b58=formatResult((0x1/(global[_0x5eb021(0x238)][noslash(_0x5a715b[_0x5eb021(0x1b7)])]/0x64+0x1)-0x1)*0x64,0x3):_0x219b58=global[_0x5eb021(0x238)][noslash(_0x5a715b['symbol'])],_0x219b58<config[_0x5eb021(0x243)]&&(logHistory(_0x5eb021(0x17c),_0x5a715b[_0x5eb021(0x2c2)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x219b58+'%'),logHistory(_0x5eb021(0x17c),_0x5eb021(0x183)),logHistory('error','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isNewerVersion(_0x189f03,_0xb9fdb2){const _0x583816=_0x11d145,_0x2e993c=_0xb9fdb2['split']('.'),_0x3389d2=_0x189f03[_0x583816(0x26c)]('.');for(var _0x47a2cf=0x0;_0x47a2cf<_0x3389d2[_0x583816(0x1f5)];_0x47a2cf++){const _0x279d57=~~_0x3389d2[_0x47a2cf],_0x46beb2=~~_0x2e993c[_0x47a2cf];if(_0x279d57>_0x46beb2)return!![];if(_0x279d57<_0x46beb2)return![];}return![];}async function oneTimeMigration(){const _0x4c6e35=_0x11d145;let _0x44b320=dbLogs[_0x4c6e35(0x210)]('version')[_0x4c6e35(0x231)]();if(!isNewerVersion(_0x44b320,_0x4c6e35(0x1d9))){dbLogs[_0x4c6e35(0x24f)]('version',_0x4c6e35(0x1d9))[_0x4c6e35(0x29f)]();let _0x46c5fa=[];const _0x5353d0=dbLogs[_0x4c6e35(0x210)](_0x4c6e35(0x2a6))[_0x4c6e35(0x231)]();_0x5353d0[_0x4c6e35(0x194)](_0x1e5fd1=>{const _0x32729c=_0x4c6e35;_0x46c5fa['push']({'time':_0x1e5fd1['time'],'type':_0x1e5fd1['type'],'event':_0x1e5fd1[_0x32729c(0x206)]});}),dbLogs[_0x4c6e35(0x210)](_0x4c6e35(0x2a6))['assign'](_0x46c5fa)[_0x4c6e35(0x29f)]();}let _0x314037=dbConfig['get'](_0x4c6e35(0x18f))[_0x4c6e35(0x231)]();if(!isNewerVersion(_0x314037,_0x4c6e35(0x1d9))){dbConfig[_0x4c6e35(0x24f)](_0x4c6e35(0x18f),_0x4c6e35(0x1d9))[_0x4c6e35(0x29f)]();let _0x192926=dbConfig[_0x4c6e35(0x210)](_0x4c6e35(0x1b8))[_0x4c6e35(0x212)]({'botID':botID})[_0x4c6e35(0x231)]();if(_0x192926){let _0x3b64e9=[];_0x192926['portfolio'][_0x4c6e35(0x194)](_0x5d2d59=>{const _0x2aa9d8=_0x4c6e35;_0x3b64e9[_0x2aa9d8(0x24b)]({'coin':_0x5d2d59[_0x2aa9d8(0x2c2)],'number':_0x5d2d59[_0x2aa9d8(0x28d)],'price':_0x5d2d59[_0x2aa9d8(0x29a)]}),delete _0x5d2d59[_0x2aa9d8(0x28d)],delete _0x5d2d59['startprice'];});if(_0x3b64e9['length']!==0x0)fs[_0x4c6e35(0x2b3)](configbackuppath+(_0x4c6e35(0x1f2)+botID+_0x4c6e35(0x2c9)),JSON[_0x4c6e35(0x267)](_0x3b64e9,null,0x4),function(_0x5b94f4){if(_0x5b94f4){}});const _0x331939=(_0x13e0f1,_0x5e609c)=>{const _0x5d4485=_0x4c6e35;let _0x57169d=[];_0x5e609c[_0x5d4485(0x194)](_0x2f56ea=>{const _0x4c79dd=_0x5d4485,_0x5d75b9=_0x13e0f1[_0x4c79dd(0x212)](_0x22d4b0=>_0x22d4b0[_0x4c79dd(0x2c2)]==_0x2f56ea[_0x4c79dd(0x2c2)]);if(!_0x5d75b9)_0x57169d[_0x4c79dd(0x24b)](_0x2f56ea);});let _0x33eb60=[];return _0x13e0f1[_0x5d4485(0x194)](_0x16cc55=>{const _0x572d0b=_0x5d4485,_0x45f1af=_0x5e609c[_0x572d0b(0x212)](_0xf8f0f4=>_0xf8f0f4[_0x572d0b(0x2c2)]==_0x16cc55[_0x572d0b(0x2c2)]);if(!_0x45f1af||_0x45f1af['number']==0x0&&_0x16cc55['number']!=0x0)_0x33eb60[_0x572d0b(0x24b)](_0x16cc55);}),{'missingDay1':_0x57169d,'notInDay2':_0x33eb60};},_0x36c08f=dbPerformance[_0x4c6e35(0x210)](_0x4c6e35(0x268))['cloneDeep']()[_0x4c6e35(0x231)]();if(_0x36c08f['length']>0x1){const {missingDay1:_0x2567e0,notInDay2:_0x100cc4}=_0x331939(_0x3b64e9,_0x36c08f[0x1][_0x4c6e35(0x2c4)]);_0x3b64e9=[..._0x3b64e9,..._0x2567e0],_0x100cc4[_0x4c6e35(0x194)](_0x36a550=>{const _0x39d93b=_0x4c6e35;let _0x126425=_0x3b64e9[_0x39d93b(0x1d0)](_0x72e22c=>_0x72e22c[_0x39d93b(0x2c2)]==_0x36a550[_0x39d93b(0x2c2)]);_0x126425!=-0x1&&_0x3b64e9[_0x39d93b(0x1a4)](_0x126425,0x1);});}_0x3b64e9[_0x4c6e35(0x188)]((_0x2db3be,_0xb5e20c)=>_0x2db3be[_0x4c6e35(0x2c2)]>_0xb5e20c[_0x4c6e35(0x2c2)]?0x1:_0xb5e20c[_0x4c6e35(0x2c2)]>_0x2db3be[_0x4c6e35(0x2c2)]?-0x1:0x0);let _0x2641a8=[{'date':_0x192926[_0x4c6e35(0x21b)],'changes':_0x3b64e9}];_0x36c08f[_0x4c6e35(0x1f5)]>0x2&&_0x36c08f[_0x4c6e35(0x194)]((_0x2f2dc8,_0x297258)=>{const _0x2a6e61=_0x4c6e35;if(_0x297258>0x0&&_0x297258<_0x36c08f['length']-0x1){const {missingDay1:_0x4f664d,notInDay2:_0x47982b}=_0x331939(_0x36c08f[_0x297258][_0x2a6e61(0x2c4)],_0x36c08f[_0x297258+0x1][_0x2a6e61(0x2c4)]);_0x3b64e9=[],(_0x4f664d[_0x2a6e61(0x1f5)]!=0x0||_0x47982b['length']!=0x0)&&(_0x4f664d['length']!=0x0&&_0x3b64e9[_0x2a6e61(0x24b)](..._0x4f664d),_0x47982b['length']!=0x0&&(_0x47982b['forEach'](_0x21c2c0=>{const _0x2a6aec=_0x2a6e61;_0x21c2c0[_0x2a6aec(0x189)]=-_0x21c2c0[_0x2a6aec(0x189)];}),_0x3b64e9['push'](..._0x47982b)),_0x3b64e9['sort']((_0x19c6db,_0x50b4ac)=>_0x19c6db['coin']>_0x50b4ac[_0x2a6e61(0x2c2)]?0x1:_0x50b4ac[_0x2a6e61(0x2c2)]>_0x19c6db['coin']?-0x1:0x0),_0x2641a8[_0x2a6e61(0x24b)]({'date':_0x36c08f[_0x297258+0x1][_0x2a6e61(0x260)],'changes':_0x3b64e9}));}}),dbConfig[_0x4c6e35(0x210)](_0x4c6e35(0x1b8))['find']({'botID':botID})[_0x4c6e35(0x1cc)]({..._0x192926,'liquidity':_0x2641a8})[_0x4c6e35(0x29f)]();}}_0x314037=dbConfig[_0x4c6e35(0x210)](_0x4c6e35(0x18f))[_0x4c6e35(0x231)]();if(!isNewerVersion(_0x314037,_0x4c6e35(0x1bc))){dbConfig[_0x4c6e35(0x24f)](_0x4c6e35(0x18f),_0x4c6e35(0x1bc))[_0x4c6e35(0x29f)]();let _0x2d7c9d=dbConfig['get'](_0x4c6e35(0x1b8))[_0x4c6e35(0x212)]({'botID':botID})[_0x4c6e35(0x231)]();if(_0x2d7c9d){const _0x2e8769=_0x2d7c9d[_0x4c6e35(0x1df)],_0x55da31=_0x2e8769?capitalize(_0x2e8769):_0x4c6e35(0x23c);dbConfig[_0x4c6e35(0x210)](_0x4c6e35(0x1b8))[_0x4c6e35(0x212)]({'botID':botID})[_0x4c6e35(0x1cc)]({'exchange':_0x55da31})[_0x4c6e35(0x29f)]();}}config=getConfiguration(botID);let _0x1b6e03=dbPerformance[_0x4c6e35(0x210)](_0x4c6e35(0x18f))[_0x4c6e35(0x231)]();!isNewerVersion(_0x1b6e03,_0x4c6e35(0x1d9))&&(dbPerformance[_0x4c6e35(0x24f)](_0x4c6e35(0x18f),_0x4c6e35(0x1d9))[_0x4c6e35(0x29f)](),setStartDatePerformance());let _0x49a2fe=dbCoinResults[_0x4c6e35(0x210)]('version')['value']();if(!isNewerVersion(_0x49a2fe,_0x4c6e35(0x186))){dbCoinResults[_0x4c6e35(0x24f)]('version',_0x4c6e35(0x186))[_0x4c6e35(0x29f)]();let _0x5658db=dbCoinResults[_0x4c6e35(0x210)](_0x4c6e35(0x2c4))[_0x4c6e35(0x231)]();if(_0x5658db[_0x4c6e35(0x1f5)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x574b65){const _0x976192=_0x11d145;let _0x5e2379=dbConfig[_0x976192(0x210)](_0x976192(0x1b8))[_0x976192(0x212)]({'botID':_0x574b65})['value']();if(_0x5e2379){let _0x45a229=![];typeof _0x5e2379[_0x976192(0x252)]==_0x976192(0x22a)&&(_0x5e2379={..._0x5e2379,'threshold':Number(_0x5e2379[_0x976192(0x252)])},_0x45a229=!![]),_0x5e2379[_0x976192(0x243)]==null&&(_0x5e2379={..._0x5e2379,'change24h':-0x14},_0x45a229=!![]),_0x45a229&&(_0x5e2379={'botID':_0x5e2379[_0x976192(0x22c)],'exchange':_0x5e2379[_0x976192(0x1df)],'apiKey':_0x5e2379[_0x976192(0x2ae)],'apiSecret':_0x5e2379[_0x976192(0x284)],'basecoin':_0x5e2379[_0x976192(0x1b1)],'botname':_0x5e2379[_0x976192(0x1c8)],'showname':_0x5e2379[_0x976192(0x25b)],'threshold':_0x5e2379['threshold'],'ordertype':_0x5e2379[_0x976192(0x25a)],'timeout':_0x5e2379[_0x976192(0x17b)],'startdate':_0x5e2379[_0x976192(0x21b)],'recreate':_0x5e2379['recreate'],'timeshift':_0x5e2379['timeshift'],'headless':_0x5e2379[_0x976192(0x203)],'cooldown':_0x5e2379[_0x976192(0x272)],'change24h':_0x5e2379[_0x976192(0x243)],'emojibuy':_0x5e2379['emojibuy'],'emojisell':_0x5e2379[_0x976192(0x2a9)],'portfolio':_0x5e2379[_0x976192(0x1d6)],'liquidity':_0x5e2379[_0x976192(0x174)]},dbConfig['get'](_0x976192(0x1b8))[_0x976192(0x25e)]()[_0x976192(0x29f)](),dbConfig[_0x976192(0x210)](_0x976192(0x1b8))[_0x976192(0x24b)](_0x5e2379)[_0x976192(0x29f)]());}else _0x5e2379={'botID':_0x574b65,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x976192(0x297)+_0x574b65,'showname':![],'threshold':0x3,'ordertype':_0x976192(0x175),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x976192(0x1e0)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x5e2379;}function emittedConfiguration(){const _0x1048c2=_0x11d145;let _0xd99150;if(config['apiKey']=='')_0xd99150={...config,'configstate':_0x1048c2(0x2c8)};else config[_0x1048c2(0x2ae)]==_0x1048c2(0x26e)?_0xd99150={...config,'configstate':'recovery'}:_0xd99150={...config,'apiKey':_0x1048c2(0x226),'apiSecret':_0x1048c2(0x226)};return _0xd99150;}function getSettings(){const _0x51a77f=_0x11d145;return dbSettings['get'](_0x51a77f(0x281))[_0x51a77f(0x231)]();}function getSecure(){const _0x585809=_0x11d145;return dbSecure[_0x585809(0x210)](_0x585809(0x294))['value']()||{};}function updateTimeshift(_0x37e333){const _0x39246d=_0x11d145;let _0x32a8d8=dbConfig['get'](_0x39246d(0x1b8))[_0x39246d(0x212)]({'botID':botID})[_0x39246d(0x231)]();_0x32a8d8&&dbConfig[_0x39246d(0x210)](_0x39246d(0x1b8))['find']({'botID':botID})['assign']({'timeshift':_0x37e333})[_0x39246d(0x29f)](),config['timeshift']=_0x37e333,proxyEmit(_0x39246d(0x2a8),emittedConfiguration());}async function storeConfiguration(_0x3dbe18){const _0x122b71=_0x11d145;let _0x3a3572=[],_0x5c4340=[];_0x3dbe18[_0x122b71(0x1d6)][_0x122b71(0x194)](_0x297816=>{const _0x2f4299=_0x122b71;if(!_0x297816[_0x2f4299(0x19c)]&&_0x297816[_0x2f4299(0x2c2)]!=_0x3dbe18[_0x2f4299(0x1b1)])_0x5c4340[_0x2f4299(0x24b)](_0x297816['symbol']);});currentCoins[_0x122b71(0x1f5)]==0x0?_0x3a3572=_0x5c4340:_0x5c4340[_0x122b71(0x194)](_0x2d03bd=>{const _0x4d04be=_0x122b71,_0x538db5=currentCoins[_0x4d04be(0x212)](_0x39461b=>_0x39461b[_0x4d04be(0x1b7)]==_0x2d03bd);!_0x538db5&&_0x3a3572[_0x4d04be(0x24b)](_0x2d03bd);});let _0x443efc=dbConfig['get'](_0x122b71(0x1b8))['find']({'botID':botID})['value']();_0x3dbe18={..._0x3dbe18,'apiKey':crypt[_0x122b71(0x1ad)](secure[_0x122b71(0x191)],_0x3dbe18['apiKey'])[_0x122b71(0x280)],'apiSecret':crypt[_0x122b71(0x1ad)](secure[_0x122b71(0x191)],_0x3dbe18[_0x122b71(0x284)])[_0x122b71(0x280)]};if(_0x443efc){if(_0x3dbe18[_0x122b71(0x2ae)]==_0x122b71(0x226))_0x3dbe18[_0x122b71(0x2ae)]=config[_0x122b71(0x2ae)];if(_0x3dbe18['apiSecret']==_0x122b71(0x226))_0x3dbe18[_0x122b71(0x284)]=config[_0x122b71(0x284)];dbConfig['get']('bot')[_0x122b71(0x212)]({'botID':botID})[_0x122b71(0x1cc)](_0x3dbe18)[_0x122b71(0x29f)]();}else dbConfig[_0x122b71(0x210)]('bot')[_0x122b71(0x24b)](_0x3dbe18)[_0x122b71(0x29f)](),process[_0x122b71(0x23b)]({'status':_0x122b71(0x1b0),'live':_0x122b71(0x179)},_0x34f380=>{});config={..._0x3dbe18},setStartDatePerformance(),process[_0x122b71(0x23b)]({'botname':_0x3dbe18[_0x122b71(0x1c8)]},_0x16bf4e=>{}),updateBotManager();const _0x2cd71d=getNormalizedPerformance();getStartingBalances(_0x2cd71d),emitPerformance(_0x2cd71d),proxyEmit(_0x122b71(0x1ce)),await initCoinResults(),reset(_0x3a3572);}async function storeHeadless(_0x3fb43a){const _0xccac84=_0x11d145,_0xa420de={...config,'headless':_0x3fb43a[_0xccac84(0x203)]};let _0x1500a2=dbConfig[_0xccac84(0x210)](_0xccac84(0x1b8))['find']({'botID':botID})[_0xccac84(0x231)]();_0x1500a2&&dbConfig[_0xccac84(0x210)](_0xccac84(0x1b8))[_0xccac84(0x212)]({'botID':botID})[_0xccac84(0x1cc)](_0xa420de)[_0xccac84(0x29f)](),config={..._0xa420de},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function _0x3889(_0x33f12a,_0x33c047){const _0xf815c3=_0x4b84();return _0x3889=function(_0x2be820,_0x41f132){_0x2be820=_0x2be820-0x174;let _0x4b8495=_0xf815c3[_0x2be820];return _0x4b8495;},_0x3889(_0x33f12a,_0x33c047);}function noslash(_0x8ee6d7){return _0x8ee6d7['replace']('/','');}async function updateNumberCoinsCcxt(_0x46523f){const _0x1e6dbe=_0x11d145;logger[_0x1e6dbe(0x1c7)](_0x1e6dbe(0x24e)+_0x46523f[_0x1e6dbe(0x1b7)]+'\x20|\x20'+_0x46523f[_0x1e6dbe(0x24c)]+_0x1e6dbe(0x1ff)+_0x46523f['id']+_0x1e6dbe(0x1ff)+_0x46523f[_0x1e6dbe(0x249)]);let _0x272597=_0x46523f['status'],_0x4b59ef=![];currentCoins[_0x1e6dbe(0x194)](_0x5ab158=>{const _0x54fdaa=_0x1e6dbe;_0x5ab158[_0x54fdaa(0x1b7)]==_0x46523f[_0x54fdaa(0x1b7)]&&(_0x4b59ef=!![]);});if(!_0x4b59ef)return;const _0x224b2b=currentCoins[_0x1e6dbe(0x212)](_0x4ee576=>_0x4ee576[_0x1e6dbe(0x1b7)]==_0x46523f[_0x1e6dbe(0x1b7)]),_0x4c5f8d=_0x41626c=>{const _0x1babd6=_0x1e6dbe;if(_0x224b2b)_0x224b2b[_0x1babd6(0x1b6)]=_0x41626c;};if(_0x272597==_0x1e6dbe(0x18a))_0x4c5f8d(_0x1e6dbe(0x18a));else{if(_0x272597=='canceled')_0x4c5f8d(_0x1e6dbe(0x227)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x272597==_0x1e6dbe(0x26a)){logger['debug']('1\x20-\x20FILLED:\x20'+_0x46523f[_0x1e6dbe(0x1b7)]+_0x1e6dbe(0x1ff)+_0x46523f[_0x1e6dbe(0x181)]+_0x1e6dbe(0x1ff)+_0x46523f['id']+_0x1e6dbe(0x1ff)+_0x46523f[_0x1e6dbe(0x249)]);let _0x64bada=![];if(lastOrders)lastOrders[_0x1e6dbe(0x194)](async _0x1f2dd0=>{const _0x14c235=_0x1e6dbe;if(_0x1f2dd0[_0x14c235(0x1db)]==_0x46523f[_0x14c235(0x249)]){logger[_0x14c235(0x1c7)](_0x14c235(0x1a8)+_0x46523f[_0x14c235(0x249)]),_0x64bada=!![];if(_0x1f2dd0[_0x14c235(0x181)]==0x0){logger[_0x14c235(0x1c7)](_0x14c235(0x278)+_0x46523f[_0x14c235(0x249)]),_0x1f2dd0['price']=_0x46523f[_0x14c235(0x2c3)],_0x1f2dd0[_0x14c235(0x181)]=_0x46523f['filled'],_0x1f2dd0[_0x14c235(0x182)]={'cost':_0x46523f[_0x14c235(0x182)][_0x14c235(0x1bf)],'currency':_0x46523f['fee'][_0x14c235(0x1aa)]},_0x4c5f8d(_0x14c235(0x181)),await validateOrders();if(lockOrders==ORDERS[_0x14c235(0x225)])currentCoins=await getCoins();await updateCoinResults(_0x1f2dd0);}}});!_0x64bada&&(logger[_0x1e6dbe(0x1c7)](_0x1e6dbe(0x17f)+_0x46523f['id']),_0x4c5f8d(_0x1e6dbe(0x181)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x5e483e=JSON[_0x1e6dbe(0x1c1)](lastBalances[_0x1e6dbe(0x1d6)]);const _0x599086=_0x5e483e['find'](_0x51ed3b=>_0x51ed3b['symbol']==_0x46523f[_0x1e6dbe(0x1b7)]);if(_0x599086){if(_0x272597=='open')_0x599086['orderstatus']=_0x599086[_0x1e6dbe(0x1b6)]==_0x1e6dbe(0x181)?_0x1e6dbe(0x181):'open';else{if(_0x272597==_0x1e6dbe(0x227))_0x599086[_0x1e6dbe(0x1b6)]=_0x599086[_0x1e6dbe(0x1b6)]=='filled'?_0x1e6dbe(0x181):'canceled';else _0x272597==_0x1e6dbe(0x26a)&&(_0x599086[_0x1e6dbe(0x1b6)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x1e6dbe(0x267)](_0x5e483e)},proxyEmit(_0x1e6dbe(0x28b),{'serverversion':serverversion,'balances':lastBalances});}}async function getCoins(_0x1a09b1=![],_0x63b80b=!![],_0x2eec01=config[_0x11d145(0x1b1)]){const _0x3a4961=_0x11d145;let _0x515583,_0x20762c=[],_0x39ebb7=[],_0x2b3943=[];try{_0x515583=await exchange[_0x3a4961(0x192)](),mybalances=_0x515583[_0x3a4961(0x2b7)];if(!_0x63b80b)for(const [_0x21d58d,_0xba70d]of Object[_0x3a4961(0x2b0)](mybalances)){_0x2b3943[_0x3a4961(0x24b)](_0x21d58d);}else config[_0x3a4961(0x1d6)][_0x3a4961(0x194)](_0x1e36fd=>{const _0x321f13=_0x3a4961;if(!_0x1e36fd[_0x321f13(0x19c)])_0x2b3943[_0x321f13(0x24b)](_0x1e36fd['coin']);});if(_0x2eec01=='')for(const [_0x4e852d,_0x2f5726]of Object['entries'](mybalances)){_0x2f5726[_0x3a4961(0x2b6)]()!=0x0&&_0x39ebb7[_0x3a4961(0x24b)]({'coin':_0x4e852d});}else{if(_0x1a09b1)await getOpenOrders();let _0x20b3e1=![];for(const [_0x727822,_0x48b68a]of Object[_0x3a4961(0x2b0)](mybalances)){if(_0x2b3943[_0x3a4961(0x232)](_0x727822)){const _0x32797b=config['portfolio']['find'](_0xe1ef9c=>_0xe1ef9c[_0x3a4961(0x2c2)]==_0x727822),_0x3eaab9=_0x727822+'/'+_0x2eec01,_0xc9bdc8=_0x2eec01+'/'+_0x727822,_0x5b019c=currentCoins[_0x3a4961(0x212)](_0x28969a=>_0x28969a[_0x3a4961(0x2c2)]==_0x727822);_0x20b3e1=![];_0x1a09b1&&(_0x20b3e1=allOpenOrders['find'](_0x306294=>_0x306294[_0x3a4961(0x1b7)]==_0x32797b[_0x3a4961(0x1b7)]));if((_0x48b68a[_0x3a4961(0x2b6)]()!=0x0||_0x32797b)&&(allSymbols[_0x3a4961(0x232)](_0x3eaab9)||_0x727822==_0x2eec01))_0x727822!=_0x2eec01&&_0x20762c[_0x3a4961(0x24b)](_0x3eaab9),_0x39ebb7[_0x3a4961(0x24b)]({'coin':_0x727822,'symbol':_0x3eaab9,'reverse':![],'number':Math['max'](_0x48b68a+(_0x32797b&&_0x32797b[_0x3a4961(0x1fe)]||0x0),0x0),'orderstatus':_0x1a09b1?_0x20b3e1?_0x3a4961(0x18a):_0x3a4961(0x1d3):_0x5b019c?_0x5b019c[_0x3a4961(0x1b6)]:_0x3a4961(0x1d3)});else(_0x48b68a[_0x3a4961(0x2b6)]()!=0x0||_0x32797b)&&allSymbols[_0x3a4961(0x232)](_0xc9bdc8)&&(_0x727822!=_0x2eec01&&_0x20762c[_0x3a4961(0x24b)](_0xc9bdc8),_0x39ebb7['push']({'coin':_0x727822,'symbol':_0xc9bdc8,'reverse':!![],'number':Math[_0x3a4961(0x1a0)](_0x48b68a+(_0x32797b&&_0x32797b[_0x3a4961(0x1fe)]||0x0),0x0),'orderstatus':_0x1a09b1?_0x20b3e1?_0x3a4961(0x18a):'none':_0x5b019c?_0x5b019c[_0x3a4961(0x1b6)]:_0x3a4961(0x1d3)}));}}}}catch(_0x8a9310){if(!_0x63b80b)handleErrorNoStop(_0x8a9310,_0x3a4961(0x1b4));else await handleError(_0x8a9310,_0x3a4961(0x1b4));}return _0x39ebb7;}async function getCoinNumber(_0x201fdc){const _0x51f804=_0x11d145;let _0x143089;try{const _0x4fa683=await exchange[_0x51f804(0x192)]();_0x143089=_0x4fa683[_0x51f804(0x2b7)][_0x201fdc];}catch(_0x497a7a){await handleError(_0x497a7a,_0x51f804(0x230));}return _0x143089;}async function getOpenOrders(){const _0x4964c1=_0x11d145;let _0x518a12;allOpenOrders=[];try{for(const _0x539eb9 of config['portfolio']){!_0x539eb9[_0x4964c1(0x19c)]&&_0x539eb9[_0x4964c1(0x2c2)]!=config[_0x4964c1(0x1b1)]&&(_0x518a12=await exchange[_0x4964c1(0x298)](_0x539eb9['symbol']),_0x518a12[_0x4964c1(0x1f5)]>0x0&&allOpenOrders[_0x4964c1(0x24b)](_0x518a12[0x0]));}}catch(_0x3aec8c){await handleError(_0x3aec8c,_0x4964c1(0x242));}}async function handleOpenOrders(_0x7a0224=0x0){const _0xe8099b=_0x11d145;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0xe8099b(0x225)]&&allOrdersPlaced&&(_0x7a0224==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x7a0224++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0xe8099b(0x1c7)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders('no\x20open\x20orders')));}async function getPortfolio(_0x1d08ad){const _0x2485b8=_0x11d145;let _0x5b5004=[],_0x21ca38=[],_0x324233,_0x3a68a0=[],_0x3fa098=![];if(_0x1d08ad[_0x2485b8(0x2ae)]==='************'||_0x1d08ad[_0x2485b8(0x284)]===_0x2485b8(0x226))_0x3fa098=!![];else{await initExchange(_0x1d08ad[_0x2485b8(0x1df)],_0x1d08ad[_0x2485b8(0x2ae)],_0x1d08ad[_0x2485b8(0x284)]);try{_0x3fa098=await loadSymbols();}catch(_0x3bb7c6){_0x3fa098=![],handleErrorNoStop(_0x3bb7c6,_0x2485b8(0x22d));}}if(_0x3fa098){_0x3a68a0=await getCoins(![],![],_0x1d08ad['basecoin']);if(_0x3a68a0===![])proxyEmit('portfolio',![]);else{if(_0x1d08ad[_0x2485b8(0x1b1)]=='')proxyEmit(_0x2485b8(0x1d6),_0x3a68a0);else{_0x3a68a0['forEach'](_0x46f647=>{const _0x30e133=_0x2485b8;if(_0x46f647['coin']!=_0x1d08ad[_0x30e133(0x1b1)])_0x5b5004[_0x30e133(0x24b)](_0x46f647['symbol']);});try{_0x21ca38=await exchange[_0x2485b8(0x18d)](_0x5b5004);}catch(_0x42dcfa){await handleError(_0x42dcfa,_0x2485b8(0x1ac));}_0x3a68a0[_0x2485b8(0x194)](_0x3d3182=>{const _0x6b089d=_0x2485b8;_0x3d3182[_0x6b089d(0x2c2)]!=_0x1d08ad[_0x6b089d(0x1b1)]?_0x324233=_0x3d3182[_0x6b089d(0x1b9)]?0x1/_0x21ca38[_0x3d3182[_0x6b089d(0x1b7)]][_0x6b089d(0x1f9)]:_0x21ca38[_0x3d3182[_0x6b089d(0x1b7)]][_0x6b089d(0x1f9)]:_0x324233=0x1,_0x3d3182[_0x6b089d(0x1e5)]=formatResult(_0x324233,0x8);}),proxyEmit('portfolio',_0x3a68a0);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x5627b9){const _0x2a07e1=_0x11d145;let _0x32bea5=!![];const _0x51528f=!_0x5627b9['reverse']?markets[_0x5627b9['symbol']][_0x2a07e1(0x251)][_0x2a07e1(0x1bd)][_0x2a07e1(0x215)]:markets[_0x5627b9[_0x2a07e1(0x1b7)]][_0x2a07e1(0x251)][_0x2a07e1(0x1bf)][_0x2a07e1(0x215)],_0x11870d=!_0x5627b9[_0x2a07e1(0x1b9)]?markets[_0x5627b9['symbol']][_0x2a07e1(0x251)][_0x2a07e1(0x1bf)][_0x2a07e1(0x215)]:markets[_0x5627b9['symbol']]['limits']['amount']['min'],_0x2ee734=markets[_0x5627b9['symbol']]['precision'][_0x2a07e1(0x1bd)];_0x5627b9[_0x2a07e1(0x1fc)]=formatResultTruncate(_0x5627b9[_0x2a07e1(0x1fc)],_0x2ee734);if(Math['abs'](_0x5627b9['trade'])<_0x51528f)_0x32bea5=![];if(Math[_0x2a07e1(0x205)](_0x5627b9['trade'])*_0x5627b9['last']<_0x11870d)_0x32bea5=![];if(_0x5627b9[_0x2a07e1(0x1c2)]==_0x2a07e1(0x20c)){let _0x48170a=config['portfolio']['find'](_0x8d93f8=>_0x8d93f8[_0x2a07e1(0x2c2)]==_0x5627b9[_0x2a07e1(0x2c2)]);if(_0x48170a[_0x2a07e1(0x1fe)]>0x0){if(Math[_0x2a07e1(0x205)](_0x5627b9[_0x2a07e1(0x1fc)])>_0x5627b9[_0x2a07e1(0x189)]-_0x48170a[_0x2a07e1(0x1fe)])_0x32bea5=![];}else{if(Math[_0x2a07e1(0x205)](_0x5627b9['trade'])>_0x5627b9['number'])_0x32bea5=![];}}if(_0x5627b9[_0x2a07e1(0x1c2)]==_0x2a07e1(0x28a)){let _0x4ddd1e=config[_0x2a07e1(0x1d6)][_0x2a07e1(0x212)](_0x1ac693=>_0x1ac693[_0x2a07e1(0x2c2)]==config[_0x2a07e1(0x1b1)]),_0x518ae6=currentCoins[_0x2a07e1(0x212)](_0x5f56b4=>_0x5f56b4[_0x2a07e1(0x2c2)]==config['basecoin']);if(_0x4ddd1e[_0x2a07e1(0x1fe)]>0x0){if(Math[_0x2a07e1(0x205)](_0x5627b9[_0x2a07e1(0x1fc)])*_0x5627b9[_0x2a07e1(0x1f9)]>_0x518ae6[_0x2a07e1(0x189)]-_0x4ddd1e['offset'])_0x32bea5=![];}else{if(Math['abs'](_0x5627b9[_0x2a07e1(0x1fc)])*_0x5627b9[_0x2a07e1(0x1f9)]>_0x518ae6['number'])_0x32bea5=![];}}return _0x32bea5;}async function getBalances(){const _0x168945=_0x11d145;let _0x5262e8=0x0,_0xa7a84c;const _0x3780ae=config[_0x168945(0x252)];if(config[_0x168945(0x203)]&&config[_0x168945(0x243)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x278b5e=>{const _0x1c8e46=_0x168945;if(_0x278b5e[_0x1c8e46(0x2c2)]!=config[_0x1c8e46(0x1b1)]){let _0x19a50d=global[_0x1c8e46(0x1ef)][noslash(_0x278b5e[_0x1c8e46(0x1b7)])];_0xa7a84c=_0x278b5e[_0x1c8e46(0x1b9)]?0x1/_0x19a50d:_0x19a50d;}else _0xa7a84c=0x1;let _0x3c28cd=_0x278b5e[_0x1c8e46(0x189)]*_0xa7a84c;_0x5262e8+=_0x3c28cd,_0x278b5e[_0x1c8e46(0x1f9)]=formatResult(Number(_0xa7a84c),0x8),_0x278b5e[_0x1c8e46(0x231)]=_0x3c28cd;}),currentCoins[_0x168945(0x194)](_0x54010d=>{const _0x4590c8=_0x168945;let _0x14f670=config[_0x4590c8(0x1d6)]['find'](_0x156ce3=>_0x156ce3[_0x4590c8(0x2c2)]==_0x54010d[_0x4590c8(0x2c2)]),_0x4fd6de=Number(_0x14f670[_0x4590c8(0x184)]),_0x3131da=_0x54010d[_0x4590c8(0x231)]/_0x5262e8*0x64,_0x12b44d=_0x4fd6de*_0x5262e8/0x64/_0x54010d[_0x4590c8(0x1f9)]-_0x54010d[_0x4590c8(0x189)];_0x54010d[_0x4590c8(0x184)]=formatResult(_0x3131da,0x3),_0x54010d[_0x4590c8(0x26d)]=formatResult(_0x4fd6de,0x3),_0x54010d[_0x4590c8(0x1fc)]=formatResult(_0x12b44d,0x8),_0x54010d[_0x4590c8(0x1c2)]='',_0x54010d[_0x4590c8(0x20d)]=![];if(_0x54010d[_0x4590c8(0x2c2)]!=config[_0x4590c8(0x1b1)]){if(_0x54010d[_0x4590c8(0x184)]>_0x4fd6de)_0x54010d['side']=_0x4590c8(0x20c),_0x54010d[_0x4590c8(0x20d)]=checkMinimums(_0x54010d);else _0x54010d[_0x4590c8(0x184)]<_0x4fd6de&&(_0x54010d['side']='buy',_0x54010d[_0x4590c8(0x20d)]=checkMinimums(_0x54010d));}_0x54010d[_0x4590c8(0x2bb)]=_0x54010d['distribution']/_0x54010d[_0x4590c8(0x26d)]-0x1;if(_0x54010d[_0x4590c8(0x1b6)]==_0x4590c8(0x181)||_0x54010d['orderstatus']==_0x4590c8(0x227))_0x54010d[_0x4590c8(0x1b6)]=_0x4590c8(0x1d3);}),currentCoins[_0x168945(0x188)]((_0x26d702,_0x517131)=>_0x26d702[_0x168945(0x2bb)]<_0x517131['delta']?0x1:_0x517131[_0x168945(0x2bb)]<_0x26d702[_0x168945(0x2bb)]?-0x1:0x0);const _0x46caa7=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x46caa7['eur'],'usd':_0x46caa7['usd'],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x3780ae},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x168945(0x203)])headlessMode({'portfolio':currentCoins,'threshold':_0x3780ae});else{if(lockOrders==ORDERS[_0x168945(0x199)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3780ae});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x3c88d0=_0x11d145;if(!lastBalances)return;let _0x3be516=[],_0x306904,_0x531234=JSON[_0x3c88d0(0x1c1)](lastBalances[_0x3c88d0(0x1d6)]);_0x531234['sort']((_0x308da6,_0x4ba45d)=>_0x308da6[_0x3c88d0(0x2c2)]>_0x4ba45d[_0x3c88d0(0x2c2)]?0x1:_0x4ba45d[_0x3c88d0(0x2c2)]>_0x308da6['coin']?-0x1:0x0),_0x531234[_0x3c88d0(0x194)](_0x3e67c9=>{const _0x249d81=_0x3c88d0;let _0xc978b4={'coin':_0x3e67c9['coin'],'number':_0x3e67c9['number'],'price':_0x3e67c9[_0x249d81(0x1f9)]};_0x3be516[_0x249d81(0x24b)](_0xc978b4);});const _0xbe5342=await getFiat();_0x306904={'date':lastBalances['time'][_0x3c88d0(0x26c)]('\x20')[0x0],'eur':_0xbe5342[_0x3c88d0(0x2bc)],'usd':_0xbe5342['usd'],'coins':_0x3be516};let _0x1fecf3=dbPerformance[_0x3c88d0(0x210)](_0x3c88d0(0x268))[_0x3c88d0(0x212)]({'date':_0x306904[_0x3c88d0(0x260)]})['value']();_0x1fecf3?_0x306904[_0x3c88d0(0x260)]!=config[_0x3c88d0(0x21b)]&&dbPerformance['get'](_0x3c88d0(0x268))[_0x3c88d0(0x212)]({'date':_0x306904[_0x3c88d0(0x260)]})[_0x3c88d0(0x1cc)](_0x306904)['write']():dbPerformance[_0x3c88d0(0x210)](_0x3c88d0(0x268))[_0x3c88d0(0x24b)](_0x306904)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x39881e=_0x11d145;let _0x2a4491=[];if(dbPerformance[_0x39881e(0x1a9)](_0x39881e(0x268))[_0x39881e(0x231)]()){let _0xb9d04a=dbPerformance[_0x39881e(0x210)](_0x39881e(0x268))[_0x39881e(0x23e)]()[_0x39881e(0x1b5)]('date')[_0x39881e(0x231)](),_0x4abefa=[...config[_0x39881e(0x174)]];_0x4abefa[_0x39881e(0x188)]((_0x16063c,_0x587498)=>_0x16063c[_0x39881e(0x260)]>_0x587498['date']?-0x1:_0x587498[_0x39881e(0x260)]>_0x16063c[_0x39881e(0x260)]?0x1:0x0);let _0x143f49=0x1,_0x2c7ce9=[],_0x404cae=0x0;_0xb9d04a[_0x39881e(0x265)]()[_0x39881e(0x1b9)]()['forEach']((_0x9f48d8,_0x3cc6ea)=>{const _0x17197b=_0x39881e;if(_0x4abefa[_0x404cae]){if(_0xb9d04a[_0xb9d04a['length']-_0x3cc6ea]&&_0x4abefa[_0x404cae]['date']==_0xb9d04a[_0xb9d04a[_0x17197b(0x1f5)]-_0x3cc6ea][_0x17197b(0x260)]){if(_0x3cc6ea<_0xb9d04a[_0x17197b(0x1f5)]){let _0x317cbf=0x0,_0x20cc48=0x0;_0xb9d04a[_0xb9d04a[_0x17197b(0x1f5)]-_0x3cc6ea][_0x17197b(0x2c4)][_0x17197b(0x194)](_0x24b25c=>{const _0x1002eb=_0x17197b;_0x20cc48+=_0x24b25c[_0x1002eb(0x189)]*_0x24b25c[_0x1002eb(0x1e5)];}),_0x4abefa[_0x404cae][_0x17197b(0x2ca)]['forEach'](_0x11f19a=>{const _0x465abd=_0x17197b;_0x317cbf+=_0x11f19a[_0x465abd(0x189)]*_0x11f19a[_0x465abd(0x1e5)];}),_0x143f49*=_0x317cbf/(_0x20cc48-_0x317cbf)+0x1;}_0x404cae++;}}let _0x2fbb97=0x0;_0x9f48d8['coins']['forEach'](_0x583f68=>{const _0x1cd2df=_0x17197b;_0x2fbb97+=_0x583f68[_0x1cd2df(0x189)]*_0x583f68[_0x1cd2df(0x1e5)];}),_0x2c7ce9[_0xb9d04a['length']-_0x3cc6ea-0x1]=_0x2fbb97*(_0x143f49-0x1);});let _0x9ee2e6=[];_0x4abefa=[...config['liquidity']]||[];let _0x17d550=0x0;_0x404cae=0x0,_0xb9d04a[_0x39881e(0x194)]((_0x265237,_0x97083)=>{const _0x430978=_0x39881e;if(_0x4abefa[_0x404cae]){const _0x1df989=fns[_0x430978(0x1c1)](_0x4abefa[_0x404cae]['date'],_0x430978(0x19d),new Date()),_0x1aa3eb=fns[_0x430978(0x1c1)](_0x265237['date'],_0x430978(0x19d),new Date());if(fns[_0x430978(0x269)](_0x1df989,_0x1aa3eb)){let _0x3e37bf=0x0;_0x4abefa[_0x404cae][_0x430978(0x2ca)]['forEach'](_0x4e1320=>{const _0x231012=_0x430978;!_0x9ee2e6[_0x4e1320[_0x231012(0x2c2)]]?_0x9ee2e6[_0x4e1320[_0x231012(0x2c2)]]=_0x4e1320['number']:(_0x3e37bf=_0x9ee2e6[_0x4e1320[_0x231012(0x2c2)]],_0x9ee2e6[_0x4e1320[_0x231012(0x2c2)]]+=_0x4e1320[_0x231012(0x189)]);const _0x2c19d7=_0x265237[_0x231012(0x2c4)]['find'](_0xde084e=>_0xde084e[_0x231012(0x2c2)]==_0x4e1320[_0x231012(0x2c2)]);(!_0x2c19d7||_0x2c19d7[_0x231012(0x189)]==0x0)&&(_0x17d550+=(-_0x4e1320[_0x231012(0x189)]-_0x3e37bf)*_0x4e1320[_0x231012(0x1e5)]);}),_0x404cae++;}}_0x265237[_0x430978(0x2c4)][_0x430978(0x194)]((_0x12832c,_0x30dc1a)=>{const _0x574094=_0x430978;_0x9ee2e6[_0x12832c[_0x574094(0x2c2)]]&&(_0x12832c={..._0x12832c,'initial':_0x9ee2e6[_0x12832c[_0x574094(0x2c2)]]}),_0x265237[_0x574094(0x2c4)][_0x30dc1a]=_0x12832c;}),_0x2a4491[_0x430978(0x24b)]({'date':_0x265237[_0x430978(0x260)],'eur':_0x265237[_0x430978(0x2bc)],'usd':_0x265237['usd'],'offset':_0x2c7ce9[_0x97083],'netoffset':_0x17d550,'coins':_0x265237[_0x430978(0x2c4)]});});}return _0x2a4491;}function emitPerformance(_0x3b06b9){const _0x52d750=_0x11d145;_0x3b06b9['length']!==0x0?(proxyEmit('performance',_0x3b06b9),lastPerformanceEmitted=getDate()):proxyEmit(_0x52d750(0x1f7),[]);}function getPerf(_0xbe9757,_0x308336){const _0x548474=_0x11d145;let _0x6796b8=0x0,_0x31ac39=0x0,_0x3df36b=0x0;_0xbe9757[_0x548474(0x2c4)][_0x548474(0x194)](_0x25e155=>{const _0x3247d8=_0x548474;_0x6796b8+=_0x25e155[_0x3247d8(0x189)]*_0x25e155[_0x3247d8(0x1e5)];});_0x308336&&(_0x6796b8+=_0xbe9757[_0x548474(0x1fe)]);if(config[_0x548474(0x1b1)]===_0x548474(0x2ab)||config[_0x548474(0x1b1)]===_0x548474(0x237))_0x31ac39=_0x6796b8*_0xbe9757[_0x548474(0x2bc)],_0x3df36b=_0x6796b8*_0xbe9757[_0x548474(0x1a3)];else{if(config[_0x548474(0x1b1)]===_0x548474(0x275)||config['basecoin']===_0x548474(0x202)||config[_0x548474(0x1b1)]===_0x548474(0x2a2))_0x31ac39=_0x6796b8*_0xbe9757[_0x548474(0x2bc)]/_0xbe9757[_0x548474(0x1a3)],_0x3df36b=_0x6796b8;else config['basecoin']===_0x548474(0x17e)&&(_0x31ac39=_0x6796b8,_0x3df36b=_0x6796b8*_0xbe9757[_0x548474(0x1a3)]/_0xbe9757[_0x548474(0x2bc)]);}return[_0x6796b8,_0x31ac39,_0x3df36b];}function getKPIs(_0x2aa8d6,_0x2fcc80='EUR'){const _0x2cda44=_0x11d145,_0x56aba5=config[_0x2cda44(0x1b1)],_0x551697=config[_0x2cda44(0x28b)],_0x4a0240=currentCoins,_0x3dc526=getNormalizedPerformance(),_0x399866=_0x2aa8d6==='basecoin'?_0x56aba5:_0x2aa8d6===_0x2cda44(0x1ae)||_0x2aa8d6===_0x2cda44(0x26b)?_0x2fcc80:'Net\x20'+_0x56aba5,_0x1ed2cf=_0x2aa8d6==='net-basecoin'?_0x2cda44(0x22b):_0x2aa8d6===_0x2cda44(0x26b)?_0x2cda44(0x291)+_0x399866+')':_0x399866+_0x2cda44(0x245),_0x159954=_0x2aa8d6===_0x2cda44(0x1ab)||_0x2aa8d6==='net-fiat'?_0x2cda44(0x22b):_0x399866+_0x2cda44(0x209);let _0x269710=0x0;_0x4a0240[_0x2cda44(0x194)](_0x4d060e=>{const _0x28397c=_0x2cda44;_0x269710+=_0x4d060e['number']*_0x4d060e[_0x28397c(0x1f9)];});if(_0x2aa8d6===_0x2cda44(0x1ae)||_0x2aa8d6===_0x2cda44(0x26b)){if(_0x56aba5==='BTC'||_0x56aba5===_0x2cda44(0x237))_0x269710=_0x269710*(_0x2fcc80===_0x2cda44(0x17e)?_0x551697['eur']:_0x551697[_0x2cda44(0x1a3)]);else{if(_0x56aba5===_0x2cda44(0x275)||_0x56aba5===_0x2cda44(0x202)||_0x56aba5===_0x2cda44(0x2a2))_0x269710=_0x269710*(_0x2fcc80==='EUR'?_0x551697[_0x2cda44(0x2bc)]/_0x551697['usd']:0x1);else _0x56aba5===_0x2cda44(0x17e)&&(_0x269710=_0x269710*(_0x2fcc80===_0x2cda44(0x17e)?0x1:_0x551697[_0x2cda44(0x1a3)]/_0x551697[_0x2cda44(0x2bc)]));}}let _0x327200;if(_0x269710!==0x0){if(_0x2aa8d6===_0x2cda44(0x1b1))_0x327200=(_0x269710/startingBalances[_0x2cda44(0x1b1)]-0x1)*0x64;else{if(_0x2fcc80===_0x2cda44(0x17e))_0x327200=(_0x269710/startingBalances[_0x2cda44(0x2bc)]-0x1)*0x64;else _0x327200=(_0x269710/startingBalances[_0x2cda44(0x1a3)]-0x1)*0x64;}let _0x28d832=0x0;if(startingBalances[_0x2cda44(0x2c4)])_0x4a0240[_0x2cda44(0x194)](_0x53375a=>{const _0x29d2ee=_0x2cda44;let _0x5b4073=startingBalances['coins'][_0x29d2ee(0x212)](_0x32d1ec=>_0x32d1ec['coin']===_0x53375a['coin']);if(_0x5b4073&&_0x5b4073[_0x29d2ee(0x2c2)]&&_0x53375a[_0x29d2ee(0x189)]!==0x0)_0x28d832+=_0x5b4073[_0x29d2ee(0x189)]*_0x53375a[_0x29d2ee(0x1f9)];});let _0x49882b=0x0;if(_0x3dc526[_0x2cda44(0x1f5)]!==0x0){let _0x53cab3=_0x3dc526[_0x3dc526[_0x2cda44(0x1f5)]-0x1];_0x49882b=_0x53cab3[_0x2cda44(0x2a3)];}_0x28d832-=_0x49882b;_0x2aa8d6===_0x2cda44(0x1ab)&&(_0x327200=(_0x269710-_0x28d832)/startingBalances[_0x2cda44(0x1b1)]*0x64,_0x269710=_0x269710-_0x28d832);if(_0x2aa8d6===_0x2cda44(0x26b)){let _0x2f8ef4=_0x2fcc80==='EUR'?startingBalances[_0x2cda44(0x2bc)]:startingBalances[_0x2cda44(0x1a3)];if(_0x56aba5===_0x2cda44(0x2ab)||_0x56aba5===_0x2cda44(0x237))_0x28d832=_0x2fcc80===_0x2cda44(0x17e)?_0x28d832*_0x551697[_0x2cda44(0x2bc)]:_0x28d832*_0x551697[_0x2cda44(0x1a3)];else{if(_0x56aba5==='BUSD'||_0x56aba5===_0x2cda44(0x202)||_0x56aba5===_0x2cda44(0x2a2))_0x28d832=_0x2fcc80===_0x2cda44(0x17e)?_0x28d832*_0x551697[_0x2cda44(0x2bc)]/_0x551697['usd']:_0x28d832;else _0x56aba5===_0x2cda44(0x17e)&&(_0x28d832=_0x2fcc80===_0x2cda44(0x17e)?_0x28d832:_0x28d832*_0x551697[_0x2cda44(0x1a3)]/_0x551697[_0x2cda44(0x2bc)]);}_0x327200=(_0x269710-_0x28d832)/_0x2f8ef4*0x64,_0x269710=_0x269710-_0x28d832;}if(_0x327200){if(_0x327200<0x64)_0x327200=_0x327200['toFixed'](0x2);else{if(_0x327200<0x3e8)_0x327200=_0x327200[_0x2cda44(0x1cf)](0x1);else _0x327200=_0x327200[_0x2cda44(0x1cf)](0x0);}}else _0x327200=Number('0')[_0x2cda44(0x1cf)](0x2);if(_0x269710){if(Math[_0x2cda44(0x205)](_0x269710)<0.000001)_0x269710=_0x269710[_0x2cda44(0x1cf)](0x2);else{if(Math['abs'](_0x269710)<0.1)_0x269710=_0x269710[_0x2cda44(0x1cf)](0x6);else{if(Math['abs'](_0x269710)<0x1)_0x269710=_0x269710[_0x2cda44(0x1cf)](0x5);else{if(Math[_0x2cda44(0x205)](_0x269710)<0xa)_0x269710=_0x269710['toFixed'](0x4);else{if(Math[_0x2cda44(0x205)](_0x269710)<0x64)_0x269710=_0x269710[_0x2cda44(0x1cf)](0x3);else{if(Math['abs'](_0x269710)<0x3e8)_0x269710=_0x269710[_0x2cda44(0x1cf)](0x2);else _0x269710=_0x269710['toFixed'](0x2);}}}}}}else _0x269710=Number('0')[_0x2cda44(0x1cf)](0x2);}else _0x327200=Number('0')[_0x2cda44(0x1cf)](0x2);return{'value':_0x269710,'change':_0x327200,'leftTxt':_0x1ed2cf,'rightTxt':_0x159954};}async function getStartingBalances(_0x34cc5f,_0xc64f6=!![]){const _0x23d74c=_0x11d145;if(_0x34cc5f['length']!==0x0){const [_0x3b0292,_0x4f7d33,_0x3d7c9f]=getPerf(_0x34cc5f[0x0],!![]);let _0x488043=[];config[_0x23d74c(0x1d6)][_0x23d74c(0x194)](_0x54c7ce=>{const _0x5a8699=_0x23d74c;let _0x480175=0x0,_0x506d91;config[_0x5a8699(0x174)][_0x5a8699(0x194)](_0x5d97c6=>{const _0x2d29cd=_0x5a8699;let _0x46b3d7=_0x5d97c6[_0x2d29cd(0x2ca)][_0x2d29cd(0x212)](_0x31047d=>_0x31047d[_0x2d29cd(0x2c2)]==_0x54c7ce[_0x2d29cd(0x2c2)]);if(_0x46b3d7){_0x480175+=_0x46b3d7['number'];if(!_0x506d91)_0x506d91=_0x46b3d7['price'];}}),_0x488043[_0x5a8699(0x24b)]({'coin':_0x54c7ce[_0x5a8699(0x2c2)],'number':_0x480175,'initialprice':_0x506d91});});const _0x585a52={'basecoin':_0x3b0292,'eur':_0x4f7d33,'usd':_0x3d7c9f,'coins':_0x488043};if(_0xc64f6)proxyEmit(_0x23d74c(0x217),_0x585a52);startingBalances=_0x585a52;}}function headlessMode(_0x2389c3){const _0x533c5a=_0x11d145;let _0xbfbc9e=_0x2389c3['portfolio'],_0x5492b2=_0x2389c3[_0x533c5a(0x252)],_0x34e39b=[];for(let _0xb5bc51 of _0xbfbc9e){if(_0xb5bc51[_0x533c5a(0x2c2)]!=config[_0x533c5a(0x1b1)]){if(_0xb5bc51['delta']>=_0x5492b2/0x64){if(_0xb5bc51[_0x533c5a(0x20d)])_0x34e39b[_0x533c5a(0x24b)](_0xb5bc51);}else{if(_0xb5bc51['delta']<=-_0x5492b2/0x64){if(_0xb5bc51[_0x533c5a(0x20d)])_0x34e39b[_0x533c5a(0x24b)](_0xb5bc51);}}}}_0x34e39b[_0x533c5a(0x1f5)]>0x0&&placeOrder(_0x34e39b);}function notifyBalance(_0x2e7d6b){const _0x4ca1a0=_0x11d145;let _0x212c0f=_0x2e7d6b[_0x4ca1a0(0x1d6)],_0x16b445=_0x2e7d6b[_0x4ca1a0(0x252)],_0x100278=[];for(let _0x1c3288 of _0x212c0f){if(_0x1c3288[_0x4ca1a0(0x2c2)]!=config[_0x4ca1a0(0x1b1)]){if(_0x1c3288[_0x4ca1a0(0x2bb)]>=_0x16b445/0x64){if(_0x1c3288[_0x4ca1a0(0x20d)])_0x100278[_0x4ca1a0(0x24b)](_0x1c3288);}else{if(_0x1c3288[_0x4ca1a0(0x2bb)]<=-_0x16b445/0x64){if(_0x1c3288[_0x4ca1a0(0x20d)])_0x100278[_0x4ca1a0(0x24b)](_0x1c3288);}}}}if(_0x100278['length']>0x0){let _0x6b7403=_0x100278[_0x4ca1a0(0x1cd)](_0x59b614=>_0x59b614[_0x4ca1a0(0x2c2)]);_0x6b7403[_0x4ca1a0(0x188)]();let _0x2247d6=_0x6b7403[_0x4ca1a0(0x263)](',\x20');if(!lastCoinsToBalance)logHistory(_0x4ca1a0(0x2a0),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x2247d6;}}function symbolToCoin(_0x316a76){const _0xa1b6e3=_0x11d145;let _0x43fdb1;if(_0x316a76[_0xa1b6e3(0x232)]('/'+config[_0xa1b6e3(0x1b1)]))_0x43fdb1=_0x316a76[_0xa1b6e3(0x239)]('/'+config[_0xa1b6e3(0x1b1)],'');if(_0x316a76[_0xa1b6e3(0x232)](config[_0xa1b6e3(0x1b1)]+'/'))_0x43fdb1=_0x316a76[_0xa1b6e3(0x239)](config['basecoin']+'/','');return _0x43fdb1;}async function unlockOrders(){const _0x489cdb=_0x11d145;if(allOrdersPlaced&&lockOrders==ORDERS[_0x489cdb(0x225)]){logger['debug'](_0x489cdb(0x20f)),lockOrders=ORDERS[_0x489cdb(0x2a5)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x489cdb(0x2c8),persistOpenOrders([]),lockOrders=ORDERS[_0x489cdb(0x199)],logger[_0x489cdb(0x1c7)](_0x489cdb(0x1a1));}}async function validateOrders(_0x110512){const _0x183911=_0x11d145;if(_0x110512)validateOrdersState=_0x110512;logger['debug'](_0x183911(0x204)+validateOrdersState+'\x20|\x20lock\x20orders:\x20'+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?'ORDERS.UNLOCKING':_0x183911(0x24a)));let _0x1c2a74=[],_0x5de877=config[_0x183911(0x25a)]==_0x183911(0x175)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x183911(0x17b)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger['debug'](_0x183911(0x1c5)+validateOrdersState),lastOrders[_0x183911(0x194)](_0x18a005=>{const _0x2869f4=_0x183911;let _0x11e6c2=![];_0x18a005[_0x2869f4(0x181)]>0x0&&(_0x11e6c2=!![]),_0x1c2a74[_0x2869f4(0x24b)](_0x11e6c2),_0x11e6c2&&config[_0x2869f4(0x25a)]!=_0x2869f4(0x175)&&logHistory(_0x2869f4(0x257),_0x2869f4(0x287)+_0x18a005[_0x2869f4(0x1b7)]+'\x20'+_0x18a005['side']+'\x20#'+formatResult(_0x18a005[_0x2869f4(0x181)],0x8)+'\x20@'+formatResult(_0x18a005['price'],0x8));}),_0x1c2a74[_0x183911(0x194)]((_0x438fda,_0x43b87b)=>{const _0x3cd19d=_0x183911;if(_0x438fda)lastOrders[_0x3cd19d(0x1a4)](_0x43b87b,0x1);}),persistOpenOrders(lastOrders);const _0x2dce38=coolingDown?_0x183911(0x1d5):_0x183911(0x2ba);if(validateOrdersState==_0x183911(0x2c8))validateOrdersState=_0x183911(0x1fa),_0x1c2a74[_0x183911(0x232)](![])?config[_0x183911(0x25a)]=='market'?logHistory('warning',_0x183911(0x1fd)):logHistory('warning',_0x183911(0x213)):await unlockOrders();else{if(validateOrdersState==_0x183911(0x1fa)){if(_0x1c2a74[_0x183911(0x232)](![])){}else allOrdersPlaced&&(config[_0x183911(0x25a)]==_0x183911(0x175)?logHistory('success',_0x183911(0x25d)+_0x2dce38):logHistory(_0x183911(0x185),_0x183911(0x1f8)+_0x2dce38),await unlockOrders());}else{if(validateOrdersState=='final')_0x1c2a74['includes'](![])&&(config['ordertype']==_0x183911(0x175)?logHistory(_0x183911(0x185),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x183911(0x250)](_0x5de877*validateOrderInterval/0xea60)+_0x183911(0x1c6)+_0x2dce38):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math['round'](_0x5de877*validateOrderInterval/0xea60)+_0x183911(0x1c6)+_0x2dce38))),await unlockOrders();else{if(validateOrdersState==_0x183911(0x1e9)){if(config['ordertype']!='market')logHistory(_0x183911(0x185),'No\x20more\x20open\x20orders\x20-\x20'+_0x2dce38);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x393daa=>{const _0x205a4d=_0x3889;try{const _0xd63c86=await exchange[_0x205a4d(0x187)](_0x393daa[_0x205a4d(0x299)],_0x393daa['symbol']);}catch(_0x170a32){if(_0x170a32['toString']()['includes'](_0x205a4d(0x21f))){}else await handleError(_0x170a32,'cancelOrders()');}});}async function initCoinResults(){const _0x129da5=_0x11d145;let _0x36e4e7=[];config[_0x129da5(0x1d6)][_0x129da5(0x194)](_0x4e28ae=>{const _0x5a285e=_0x129da5;if(!_0x4e28ae[_0x5a285e(0x19c)]&&_0x4e28ae[_0x5a285e(0x2c2)]!=config['basecoin']){let _0x251189=dbCoinResults[_0x5a285e(0x210)]('coins')[_0x5a285e(0x212)]({'coin':_0x4e28ae['coin']})[_0x5a285e(0x231)]();if(!_0x251189){const _0x2d435d=currentCoins[_0x5a285e(0x212)](_0x5223cc=>_0x5223cc[_0x5a285e(0x2c2)]==_0x4e28ae[_0x5a285e(0x2c2)]),_0x48e5e5=global[_0x5a285e(0x1ef)][noslash(_0x4e28ae[_0x5a285e(0x1b7)])];let _0x2cae9e=_0x2d435d?_0x2d435d[_0x5a285e(0x189)]:null,_0x23813f=_0x4e28ae['reverse']?0x1/_0x48e5e5:_0x48e5e5,_0x2e02f2;config[_0x5a285e(0x174)][_0x5a285e(0x194)](_0x3ec733=>{const _0x494924=_0x5a285e;!_0x2e02f2&&(_0x2e02f2=_0x3ec733[_0x494924(0x2ca)][_0x494924(0x212)](_0x1745ba=>_0x1745ba[_0x494924(0x2c2)]==_0x4e28ae[_0x494924(0x2c2)]),_0x2e02f2&&(_0x2cae9e=_0x2e02f2[_0x494924(0x189)],_0x23813f=_0x2e02f2[_0x494924(0x1e5)]));}),_0x36e4e7[_0x5a285e(0x24b)]({'coin':_0x4e28ae['coin'],'number':_0x2cae9e,'price':_0x23813f});}}}),_0x36e4e7[_0x129da5(0x194)](_0xde9cda=>{const _0x21d8b9=_0x129da5,_0x509997={'coin':_0xde9cda['coin'],'number':_0xde9cda['number'],'breakeven':_0xde9cda[_0x21d8b9(0x1e5)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x21d8b9(0x210)](_0x21d8b9(0x2c4))[_0x21d8b9(0x24b)](_0x509997)['write']();});}async function updateCoinResults(_0x597223,_0x3f1a28=![]){const _0x3f1c8d=_0x11d145;let _0x4edce1,_0x5e003a,_0x4c3710,_0x759ca,_0x283ed7,_0x2d6c5f,_0x3cd8c8=dbCoinResults['get'](_0x3f1c8d(0x2c4))[_0x3f1c8d(0x212)]({'coin':_0x597223['coin']})[_0x3f1c8d(0x231)]();!_0x3cd8c8&&await initCoinResults();_0x597223['reverse']&&(_0x2d6c5f={'filled':_0x597223[_0x3f1c8d(0x181)]*_0x597223[_0x3f1c8d(0x1e5)],'amount':_0x597223[_0x3f1c8d(0x181)]*_0x597223[_0x3f1c8d(0x1e5)],'side':_0x597223[_0x3f1c8d(0x1c2)]=='sell'?_0x3f1c8d(0x28a):'sell','price':0x1/_0x597223[_0x3f1c8d(0x1e5)]},_0x597223={..._0x597223,..._0x2d6c5f});_0x3f1a28?_0x5e003a=_0x597223[_0x3f1c8d(0x1c2)]==_0x3f1c8d(0x28a)?_0x3cd8c8[_0x3f1c8d(0x189)]+_0x597223['filled']:_0x3cd8c8[_0x3f1c8d(0x189)]-_0x597223[_0x3f1c8d(0x181)]:_0x5e003a=await getCoinNumber(_0x597223[_0x3f1c8d(0x2c2)]);if(_0x597223[_0x3f1c8d(0x182)]&&_0x597223['fee']['currency']==config[_0x3f1c8d(0x1b1)])_0x4edce1=_0x597223['fee'][_0x3f1c8d(0x1bf)];else{if(_0x597223[_0x3f1c8d(0x182)]&&_0x597223['fee']['currency']==_0x3f1c8d(0x1f0)&&!_0x3f1a28)_0x4edce1=_0x597223[_0x3f1c8d(0x182)][_0x3f1c8d(0x1bf)]*global[_0x3f1c8d(0x1ef)][_0x3f1c8d(0x1f0)+config['basecoin']];else _0x4edce1=defaultFee*_0x597223['filled']*_0x597223[_0x3f1c8d(0x1e5)];}_0x597223[_0x3f1c8d(0x1c2)]==_0x3f1c8d(0x28a)?(_0x4c3710=_0x5e003a!=0x0?(_0x3cd8c8['breakeven']*_0x3cd8c8['number']+_0x597223[_0x3f1c8d(0x1e5)]*(_0x5e003a-_0x3cd8c8[_0x3f1c8d(0x189)])+_0x4edce1)/_0x5e003a:0x0,_0x759ca=_0x3cd8c8[_0x3f1c8d(0x28f)]):(_0x4c3710=_0x5e003a!=0x0?(_0x3cd8c8[_0x3f1c8d(0x273)]*_0x3cd8c8[_0x3f1c8d(0x189)]-_0x597223['price']*(_0x3cd8c8['number']-_0x5e003a)+_0x4edce1)/_0x5e003a:0x0,_0x759ca=_0x3cd8c8['realized']+(_0x597223[_0x3f1c8d(0x1e5)]-_0x3cd8c8['breakeven'])*_0x597223['filled']);_0x283ed7=(_0x597223[_0x3f1c8d(0x1e5)]-_0x4c3710-_0x4edce1/_0x597223['filled'])*_0x5e003a;let _0x607cb6={'coin':_0x597223[_0x3f1c8d(0x2c2)],'number':_0x5e003a,'breakeven':formatResult(_0x4c3710,0x8),'realized':formatResult(_0x759ca,0x8),'unrealized':formatResult(_0x283ed7,0x8),'fees':formatResult(_0x3cd8c8['fees']+_0x4edce1,0x8),'sells':_0x597223[_0x3f1c8d(0x1c2)]==_0x3f1c8d(0x20c)?_0x3cd8c8[_0x3f1c8d(0x2c7)]+0x1:_0x3cd8c8[_0x3f1c8d(0x2c7)],'buys':_0x597223['side']==_0x3f1c8d(0x28a)?_0x3cd8c8[_0x3f1c8d(0x1ca)]+0x1:_0x3cd8c8['buys']};dbCoinResults[_0x3f1c8d(0x210)]('coins')[_0x3f1c8d(0x212)]({'coin':_0x597223[_0x3f1c8d(0x2c2)]})['assign'](_0x607cb6)[_0x3f1c8d(0x29f)]();if(!_0x3f1a28){if(_0x597223[_0x3f1c8d(0x182)]&&_0x597223[_0x3f1c8d(0x182)][_0x3f1c8d(0x1aa)]==_0x3f1c8d(0x1f0)){const _0x4fc28c=currentCoins['find'](_0x33922f=>_0x33922f['coin']==_0x3f1c8d(0x1f0));if(_0x4fc28c){let _0x3d6b94=dbCoinResults[_0x3f1c8d(0x210)](_0x3f1c8d(0x2c4))[_0x3f1c8d(0x212)]({'coin':_0x3f1c8d(0x1f0)})[_0x3f1c8d(0x231)]();_0x607cb6={..._0x3d6b94,'number':_0x4fc28c[_0x3f1c8d(0x189)]},dbCoinResults[_0x3f1c8d(0x210)](_0x3f1c8d(0x2c4))[_0x3f1c8d(0x212)]({'coin':_0x3f1c8d(0x1f0)})[_0x3f1c8d(0x1cc)](_0x607cb6)[_0x3f1c8d(0x29f)]();}}}}async function placeOrder(_0x32fc18){const _0x480e3f=_0x11d145,_0x72ff9f=config['ordertype']==_0x480e3f(0x175)?_0x480e3f(0x175):'limit';if(lockOrders==ORDERS[_0x480e3f(0x199)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState='initial',lastOrders=[];for(const _0x281ada of _0x32fc18){let _0x22e979,_0x679e00,_0x34bf20,_0xab9e47,_0x37c8a7,_0x2f7bf0=_0x281ada[_0x480e3f(0x1b7)];try{const _0x5d1ba4=await exchange[_0x480e3f(0x19a)](_0x2f7bf0);_0x22e979=_0x281ada[_0x480e3f(0x1b9)]?0x1/_0x281ada[_0x480e3f(0x1f9)]:_0x281ada[_0x480e3f(0x1f9)],_0x679e00=_0x5d1ba4['bid'],_0x34bf20=_0x5d1ba4['ask'];_0x281ada[_0x480e3f(0x1b9)]?(_0xab9e47=_0x281ada[_0x480e3f(0x1c2)]==_0x480e3f(0x28a)?_0x480e3f(0x20c):'buy',_0x37c8a7=Math['abs'](_0x281ada[_0x480e3f(0x1fc)])/_0x22e979):(_0xab9e47=_0x281ada[_0x480e3f(0x1c2)],_0x37c8a7=Math['abs'](_0x281ada[_0x480e3f(0x1fc)]));_0x72ff9f=='limit'&&(config[_0x480e3f(0x25a)]=='limit-high'&&(_0x22e979=_0xab9e47==_0x480e3f(0x28a)?_0x679e00:_0x34bf20),config['ordertype']==_0x480e3f(0x1e8)&&(_0x22e979=_0xab9e47=='buy'?_0x34bf20:_0x679e00));_0x37c8a7=formatResult(_0x37c8a7,0x8),_0x22e979=formatResult(_0x22e979,0x8);const _0xa4c2b=_0xab9e47==_0x480e3f(0x20c)?config[_0x480e3f(0x2a9)]?String['fromCodePoint']('0x'+config[_0x480e3f(0x2a9)])+'\x20':'':config[_0x480e3f(0x1d8)]?String[_0x480e3f(0x218)]('0x'+config[_0x480e3f(0x1d8)])+'\x20':'',_0x5df022=_0x72ff9f==_0x480e3f(0x175)?_0x480e3f(0x258):config[_0x480e3f(0x25a)]=='limit-high'?_0x480e3f(0x290):_0x480e3f(0x180),_0x506331=new Date()['getTime']()[_0x480e3f(0x2b6)]()['slice'](-0x6)+'-'+Math[_0x480e3f(0x2c5)]()[_0x480e3f(0x2b6)]()['slice'](-0x6);lastOrders[_0x480e3f(0x24b)]({'customId':_0x506331,'symbol':_0x2f7bf0,'coin':_0x281ada['coin'],'side':_0xab9e47,'reverse':_0x281ada['reverse'],'filled':0x0});if(_0x72ff9f==_0x480e3f(0x175))logHistory(_0x480e3f(0x257),''+_0xa4c2b+_0x5df022+'\x20order:\x20'+_0x2f7bf0+'\x20'+_0xab9e47+'\x20#'+formatResult(_0x37c8a7,0x8)+'\x20@'+formatResult(_0x22e979,0x8));else logHistory('order',''+_0xa4c2b+_0x5df022+_0x480e3f(0x29e)+_0x2f7bf0+'\x20'+_0xab9e47+'\x20#'+formatResult(_0x37c8a7,0x8)+'\x20@'+formatResult(_0x22e979,0x8));const _0x151a5e=await exchange[_0x480e3f(0x28c)](_0x2f7bf0,_0x72ff9f,_0xab9e47,_0x37c8a7,_0x22e979,{'clientOrderId':_0x506331}),_0x4049fc=lastOrders[_0x480e3f(0x1f5)]-0x1;_0x4049fc>=0x0&&lastOrders[_0x4049fc][_0x480e3f(0x1db)]==_0x506331&&(lastOrders[_0x4049fc]={...lastOrders[_0x4049fc],'orderId':_0x151a5e['id'],'amount':_0x151a5e['amount'],'price':_0x151a5e[_0x480e3f(0x1e5)],'fee':_0x151a5e[_0x480e3f(0x182)]});if(config[_0x480e3f(0x272)]!=0x0){let _0x504576=null;if(cooldownTracker[_0x480e3f(0x1f5)]==config[_0x480e3f(0x272)]-0x1)_0x504576=cooldownTracker[_0x480e3f(0x200)]();const _0x2acee0=getTimeStamp();cooldownTracker[_0x480e3f(0x24b)](_0x2acee0);if(_0x504576){const _0x40704b=fns[_0x480e3f(0x262)](new Date(_0x2acee0),new Date(_0x504576));if(_0x40704b<cooldownInterval){logHistory('error',_0x480e3f(0x295)+config[_0x480e3f(0x272)]+_0x480e3f(0x27d)+cooldownInterval/0x3c+_0x480e3f(0x236)+cooldownPeriod/(0xe10*0x3e8)+_0x480e3f(0x17d)),coolingDown=!![];break;}}}}catch(_0x3a2490){if(_0x3a2490['toString']()[_0x480e3f(0x232)](_0x480e3f(0x256)))lastOrders=lastOrders[_0x480e3f(0x29b)](_0x33b170=>_0x33b170[_0x480e3f(0x1b7)]!=_0x2f7bf0),logHistory(_0x480e3f(0x17c),_0x480e3f(0x240)+_0x2f7bf0);else _0x3a2490[_0x480e3f(0x2b6)]()[_0x480e3f(0x232)](_0x480e3f(0x2c1))?(lastOrders=lastOrders[_0x480e3f(0x29b)](_0x413291=>_0x413291['symbol']!=_0x2f7bf0),logHistory(_0x480e3f(0x17c),_0x480e3f(0x20b)+_0x2f7bf0)):(lastOrders=lastOrders[_0x480e3f(0x29b)](_0x5732d1=>_0x5732d1[_0x480e3f(0x1b7)]!=_0x2f7bf0),await handleError(_0x3a2490,_0x480e3f(0x21e),_0x2f7bf0));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x480e3f(0x1f5)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3c4513=config[_0x480e3f(0x25a)]==_0x480e3f(0x175)?validateOrderTimeout*0x3c*0x3e8:config[_0x480e3f(0x17b)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x57800d=_0x480e3f;validateOrders(_0x57800d(0x214));},_0x3c4513);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x480e3f(0x185),_0x480e3f(0x1d4)));}else{if(coolingDown)!config[_0x480e3f(0x203)]&&logHistory(_0x480e3f(0x17c),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x480e3f(0x203)]&&(config[_0x480e3f(0x25a)]==_0x480e3f(0x175)?logHistory(_0x480e3f(0x17c),_0x480e3f(0x2b8)):logHistory(_0x480e3f(0x17c),_0x480e3f(0x2b9))));}}function persistOpenOrders(_0x2007e0){const _0x42ddb9=_0x11d145,_0xfaff4a={...config,'openOrders':_0x2007e0};let _0x37efcf=dbConfig[_0x42ddb9(0x210)]('bot')[_0x42ddb9(0x212)]({'botID':botID})[_0x42ddb9(0x231)]();_0x37efcf&&dbConfig[_0x42ddb9(0x210)](_0x42ddb9(0x1b8))['find']({'botID':botID})[_0x42ddb9(0x1cc)](_0xfaff4a)[_0x42ddb9(0x29f)]();}function restoreOrders(){const _0xb2b2d8=_0x11d145;let _0x523ada;config['openOrders']&&allOpenOrders[_0xb2b2d8(0x194)](_0x414bb3=>{const _0x17acf8=_0xb2b2d8,_0xcbf803=config[_0x17acf8(0x234)]['find'](_0x3f1158=>_0x3f1158[_0x17acf8(0x299)]==_0x414bb3['id']);_0xcbf803&&(lastOrders['push'](_0xcbf803),_0x523ada=_0x414bb3[_0x17acf8(0x1f6)]);});if(lastOrders[_0xb2b2d8(0x1f5)]>0x0){lockOrders=ORDERS[_0xb2b2d8(0x225)],validateOrdersState=_0xb2b2d8(0x1fa),allOrdersPlaced=!![];const _0x3a5c98=new Date()[_0xb2b2d8(0x247)](),_0x383ec0=config['ordertype']==_0xb2b2d8(0x175)?validateOrderTimeout*0x3c*0x3e8:config[_0xb2b2d8(0x17b)]*0x3c*0x3e8;if(_0x523ada+_0x383ec0>_0x3a5c98){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x242477=_0xb2b2d8;validateOrders(_0x242477(0x214));},_0x523ada+_0x383ec0-_0x3a5c98);}else validateOrders(_0xb2b2d8(0x214));}}async function sendPortfolioTelegram(){const _0x409c83=_0x11d145;if(loading['progress']!=0x64){process[_0x409c83(0x23b)]({'telegrammsg':_0x409c83(0x283)},_0x47e32d=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x59faa9=['EUR',_0x409c83(0x275),_0x409c83(0x202)],_0x8d360a=_0x59faa9[_0x409c83(0x232)](config['basecoin'])?0x2:0x8;let _0x15b165='';if(config['showname'])_0x15b165=_0x409c83(0x254)+config[_0x409c83(0x1c8)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x15b165='<b>Bot\x20'+botID+_0x409c83(0x248);const _0xa28da2=getKPIs('basecoin'),_0x44985b=getKPIs(_0x409c83(0x1ab));_0x15b165+=_0x409c83(0x193),_0x15b165+=_0xa28da2[_0x409c83(0x27a)]+'\x20:\x20'+_0xa28da2[_0x409c83(0x231)]+'\x20\x0a',_0x15b165+=_0xa28da2['rightTxt']+':\x20'+_0xa28da2[_0x409c83(0x238)]+'%\x20\x0a',_0x15b165+=_0x44985b[_0x409c83(0x27a)]+':\x20'+_0x44985b[_0x409c83(0x231)]+'\x20'+config[_0x409c83(0x1b1)]+'\x0a',_0x15b165+=_0x44985b['rightTxt']+':\x20'+_0x44985b[_0x409c83(0x238)]+'%\x20\x0a',_0x15b165+='\x0a',_0x15b165+=_0x409c83(0x2cd),_0x15b165+=_0x409c83(0x176),_0x15b165+=_0x409c83(0x2cd),currentCoins['forEach'](_0x11bbd5=>{const _0x59d666=_0x409c83;_0x15b165+=_0x11bbd5['coin'][_0x59d666(0x1ee)](0x7)+'|\x20'+formatPad(_0x11bbd5[_0x59d666(0x184)],0x2,0x6)+'|\x20'+formatPad(_0x11bbd5[_0x59d666(0x26d)],0x2,0x6)+'|\x20'+formatPad(_0x11bbd5[_0x59d666(0x2bb)]*0x64,0x2,0x6)+'\x0a';}),_0x15b165+='</pre>',process[_0x409c83(0x23b)]({'telegrammsg':_0x15b165},_0x2073fc=>{});}function formatPad(_0x1917ff,_0x507270,_0x75c165){const _0x4ff19f=_0x11d145,_0x4c2b28=formatResultString(_0x1917ff,_0x507270);return _0x4c2b28?_0x4c2b28[_0x4ff19f(0x1e6)](_0x75c165):''[_0x4ff19f(0x1e6)](_0x75c165);}function _0x4b84(){const _0x212f37=['Bot\x20','fetchOpenOrders','orderId','startprice','filter','toLowerCase','search','\x20order:\x20','write','warning','Error:\x20Invalid\x20argument\x20','USD','netoffset','add','UNLOCKING','logs','./logs/','configuration','emojisell','yyyy-MM-dd\x27T\x27HH:mm:ss','BTC','/output-000.log','defaults','apiKey','lowdb/adapters/FileSync','entries','Unknown\x20error\x20occured','getHours','writeFile','argv','log','toString','total','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','balancing\x20resumed','delta','eur','ccxt','-results.json','(((.+)+)+)+$','getPortfolio','Invalid\x20quantity','coin','average','coins','random','2170550IGxVBz','sells','initial','.json','changes','initclient','substring','-------------------------------\x0a','recreateCoinResults()','\x20API\x20blocked\x20(DDoS\x20protection)','HOT/BTC','liquidity','market','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','storeHeadless','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','running','getStartingBalances','timeout','error','\x20hour','EUR','2\x20-\x20FILLED\x20unknown\x20order:\x20','Limit\x20(low-margin)','filled','fee','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','distribution','success','2.5.0','cancelOrder','sort','number','open','createWriteStream','time','fetchTickers','watchTrades','version','InsufficientFunds','privateKey','fetchBalance','<pre>','forEach','sendPortfolioTelegram','bb-secure.json','350268sqWoyu','keys','UNLOCKED','fetchTicker','\x20>\x20[DEBUG]\x20','excluded','yyyy/MM/dd',':\x20Bot\x20','getSeconds','max','2\x20-\x20Orders\x20unlocked','./config/','usd','splice','BNB/','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','toUpperCase','2\x20-\x20FILLED\x20known\x20order:\x20','has','currency','net-basecoin','getPortfolio()','decrypt','fiat','test','enabled','basecoin','ExchangeNotAvailable','Pausing\x20for\x20','getCoins()','sortBy','orderstatus','symbol','bot','reverse','\x20not\x20available','indexOf','2.6.0','amount','freeze','cost','fetchClosedOrders','parse','side','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20','sha256','2\x20-\x20Validate\x20orders:\x20','\x20minutes\x20-\x20','debug','botname','args','buys','1556106ptySAU','assign','map','configuration-stored','toFixed','findIndex','format','date-fns','none','Cooldown\x20ended\x20-\x20balancing\x20resumed','balancing\x20resumes\x20when\x20cooldown\x20ends','portfolio','kill','emojibuy','2.3.5','Initiating\x20exchange\x20reload','customId','AuthenticationError','coin-loading-progress','remainingSymbols','exchange','timeshift','mkdirSync','DDoSProtection','InvalidNonce','\x20API\x20secret\x20is\x20invalid','price','padStart','771064sUkoZX','limit-low','no\x20open\x20orders','close','RequestTimeout','Crypt','\x20API\x20key\x20is\x20invalid','padEnd','ticker','BNB','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','starting-balance-','page','7RaXOvq','length','timestamp','performance','Order(s)\x20filled\x20-\x20','last','ongoing','restart','trade','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','offset','\x20|\x20','shift','API-key\x20format\x20invalid','USDT','headless','1\x20-\x20Validate\x20orders:\x20','abs','event','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','33NBdFXS','\x20change','deleteHistoryAlerts','Order\x20amount\x20is\x20invalid:\x20','sell','valid','-performance.json','1\x20-\x20Unlock\x20orders','get','/USD','find','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','final','min','parseISO','starting-balances','fromCodePoint','getMonth','placeOrder','startdate','getDate','\x20>\x20','placeOrder()','OrderNotFound','progress','event-history','loadMarkets','apply','util','LOCKED','************','canceled','exchanges','36BUYGNM','string','Net\x20effect','botID','loadSymbols()','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','2110325WkVGoV','getCoinNumber()','value','includes','-config.json','openOrders','watchOrders','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','ETH','change','replace','RSA-OAEP','send','Binance','storeConfiguration','cloneDeep','bb-settings.json','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','/EUR','getOpenOrders()','change24h',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20value','percentage','getTime','\x20portfolio:</b>\x20\x0a\x0a','clientOrderId','ORDERS.UNLOCKED','push','status','loading-canceled','0\x20-\x20EXECUTION:\x20','set','round','limits','threshold','type','<b>','XEM/BUSD','MIN_NOTIONAL','order','Market','existsSync','ordertype','showname','symbols','Order(s)\x20validated\x20-\x20','remove','-events.json','date','toggleBotMode','differenceInSeconds','join','exec','slice','milliseconds','stringify','data','isEqual','closed','net-fiat','split','target','***','1436746psJwEL','timer:','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','cooldown','breakeven','Failed\x20to\x20load\x20coin\x20data\x20for\x20','BUSD','full','datetime','3\x20-\x20handling\x20FILLED\x20order:\x20','constructor','leftTxt','\x20-\x20bot\x20not\x20started','cancel','\x20orders\x20in\x20less\x20than\x20','\x20exchange','\x20minutes','message','settings','Executing\x20exchange\x20reload','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','apiSecret','9KKiBhL','/backup/','Order\x20filled:\x20','239891YhGkqc','lowdb','buy','balances','createOrder','startnumber','simple','realized','Limit\x20(high-margin)','Net\x20effect\x20(','\x20not\x20responding','HOT/EUR','secure','Executed\x20','\x20|\x20Error\x20details:\x20'];_0x4b84=function(){return _0x212f37;};return _0x4b84();}function logHistory(_0x48680a,_0x3c12de,_0x2ee54f=''){const _0x163ee6=_0x11d145;let _0x1b6d76={'time':getTimeStamp(),'type':_0x48680a,'event':_0x3c12de};dbLogs[_0x163ee6(0x210)]('logs')[_0x163ee6(0x24b)](_0x1b6d76)['write']();if(_0x2ee54f=='')_0x2ee54f=_0x3c12de;proxyEmit('event',{'log':_0x1b6d76,'summary':_0x2ee54f}),process[_0x163ee6(0x23b)]({'telegram':{..._0x1b6d76,'botname':config[_0x163ee6(0x1c8)],'showname':config[_0x163ee6(0x25b)]}},_0x1c7513=>{}),logger[_0x163ee6(0x276)](''+_0x1b6d76[_0x163ee6(0x206)]);}function emitHistory(_0x4ff55f={}){const _0x49ef0e=_0x11d145;Object[_0x49ef0e(0x198)](_0x4ff55f)['length']==0x0&&(_0x4ff55f={'type':[_0x49ef0e(0x257),_0x49ef0e(0x206)],'event':'','page':0x1});if(_0x4ff55f[_0x49ef0e(0x253)][_0x49ef0e(0x232)](_0x49ef0e(0x206)))_0x4ff55f['type']['splice'](_0x4ff55f[_0x49ef0e(0x253)][_0x49ef0e(0x1bb)]('event'),0x1,_0x49ef0e(0x17c),_0x49ef0e(0x185));if(dbLogs[_0x49ef0e(0x1a9)]('logs')[_0x49ef0e(0x231)]()){let _0x3f63f5=dbLogs[_0x49ef0e(0x210)](_0x49ef0e(0x2a6))[_0x49ef0e(0x29b)](_0x4005b7=>{const _0x472256=_0x49ef0e;if(_0x4ff55f[_0x472256(0x253)]['length']==0x0)return![];else return _0x4ff55f[_0x472256(0x253)]['includes'](_0x4005b7[_0x472256(0x253)]);})['filter'](_0x2d27cc=>{const _0x23f2f8=_0x49ef0e;if(_0x4ff55f[_0x23f2f8(0x206)]=='')return!![];else return _0x2d27cc[_0x23f2f8(0x206)][_0x23f2f8(0x29c)]()[_0x23f2f8(0x232)](_0x4ff55f['event']['toLowerCase']());})[_0x49ef0e(0x1b5)]('time'),_0x5190ce=_0x3f63f5['value']()[_0x49ef0e(0x1f5)];_0x3f63f5=_0x3f63f5[_0x49ef0e(0x1b9)]()[_0x49ef0e(0x265)]((_0x4ff55f[_0x49ef0e(0x1f3)]-0x1)*logPageSize,_0x4ff55f[_0x49ef0e(0x1f3)]*logPageSize-0x1)['reverse']()['value'](),proxyEmit('event-history',{'logs':_0x3f63f5,'total':_0x5190ce});}else proxyEmit(_0x49ef0e(0x221),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x48d441){const _0x1e512e=_0x11d145;if(dbLogs[_0x1e512e(0x1a9)](_0x1e512e(0x2a6))[_0x1e512e(0x231)]()){const _0x34a97e=dbLogs[_0x1e512e(0x210)](_0x1e512e(0x2a6))[_0x1e512e(0x1b5)](_0x1e512e(0x18c))[_0x1e512e(0x29b)](_0x5ab142=>{const _0x4d3d13=_0x1e512e;return _0x5ab142[_0x4d3d13(0x253)]==_0x4d3d13(0x257);})[_0x1e512e(0x231)]();dbLogs['get'](_0x1e512e(0x2a6))[_0x1e512e(0x25e)]()[_0x1e512e(0x29f)](),dbLogs['get'](_0x1e512e(0x2a6))[_0x1e512e(0x1cc)](_0x34a97e)['write'](),emitHistory(_0x48d441);}}async function pauseBot(_0x2622d1=''){const _0x226f1d=_0x11d145,_0x3b6668=new Date()['getTime']();if(!lastErrorShown||_0x3b6668-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x3b6668;!lastBotPause?(lastBotPause=_0x3b6668,consecutivePauses=0x1):(_0x3b6668-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':_0x226f1d(0x1fb)},_0x1e3efc=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x226f1d(0x247)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x2622d1)_0x2622d1+=_0x226f1d(0x1ff);logHistory(_0x226f1d(0x17c),_0x2622d1+_0x226f1d(0x1b3)+pauseBotInterval/0xea60+_0x226f1d(0x27f)),await sleep(pauseBotInterval),botPaused=![],reset();}}}async function killBot(){const _0x1e32d6=_0x11d145;process[_0x1e32d6(0x23b)]({'stop':_0x1e32d6(0x1d7)},_0x381b62=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5d334d,_0x41940b){const _0x4084ed=_0x11d145;if(_0x5d334d[_0x4084ed(0x2b6)]()[_0x4084ed(0x232)]('API-key\x20format\x20invalid'))return logHistory(_0x4084ed(0x17c),config['exchange']+_0x4084ed(0x1ed)),![];else{if(_0x5d334d[_0x4084ed(0x2b6)]()[_0x4084ed(0x232)](_0x4084ed(0x1a6)))return logHistory(_0x4084ed(0x17c),config['exchange']+_0x4084ed(0x1e4)),![];else{if(_0x5d334d[_0x4084ed(0x2b6)]()['includes'](_0x4084ed(0x1dc)))return logHistory(_0x4084ed(0x17c),config[_0x4084ed(0x1df)]+_0x4084ed(0x1c3)+config[_0x4084ed(0x1df)]),![];else await handleError(_0x5d334d,_0x41940b);}}}async function handleError(_0x21b29b,_0x280396,_0x50c7f3=''){const _0x2884e6=_0x11d145;if(_0x21b29b['toString']()[_0x2884e6(0x232)](_0x2884e6(0x1e2)))await pauseBot(config[_0x2884e6(0x1df)]+_0x2884e6(0x2cf));else{if(_0x21b29b[_0x2884e6(0x2b6)]()[_0x2884e6(0x232)](_0x2884e6(0x1b2)))await pauseBot(config[_0x2884e6(0x1df)]+_0x2884e6(0x1ba));else{if(_0x21b29b[_0x2884e6(0x2b6)]()['includes'](_0x2884e6(0x1eb)))await pauseBot(config[_0x2884e6(0x1df)]+_0x2884e6(0x292));else{if(_0x21b29b[_0x2884e6(0x2b6)]()[_0x2884e6(0x232)](_0x2884e6(0x1e3)))logHistory(_0x2884e6(0x17c),_0x280396+_0x2884e6(0x22e)),logHistory('error',_0x2884e6(0x1f1)),await killBot();else{if(_0x21b29b[_0x2884e6(0x2b6)]()['includes'](_0x2884e6(0x201)))logHistory(_0x2884e6(0x17c),_0x280396+'\x20|\x20'+config[_0x2884e6(0x1df)]+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x2884e6(0x17c),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x21b29b[_0x2884e6(0x2b6)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x2884e6(0x17c),_0x280396+'\x20|\x20'+config[_0x2884e6(0x1df)]+_0x2884e6(0x1e4)),logHistory('error',_0x2884e6(0x1f1)),await killBot();else{if(_0x21b29b[_0x2884e6(0x2b6)]()['includes'](_0x2884e6(0x1dc)))logHistory(_0x2884e6(0x17c),_0x280396+_0x2884e6(0x1ff)+config[_0x2884e6(0x1df)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20'+config[_0x2884e6(0x1df)]),logHistory(_0x2884e6(0x17c),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x21b29b['toString']()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x2884e6(0x17c),_0x280396+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x2884e6(0x17c),_0x2884e6(0x1f1)),await killBot();else _0x21b29b[_0x2884e6(0x2b6)]()[_0x2884e6(0x232)](_0x2884e6(0x190))?logHistory(_0x2884e6(0x17c),_0x280396+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x50c7f3):(logger[_0x2884e6(0x276)](_0x280396+_0x2884e6(0x296),_0x21b29b),await pauseBot(_0x2884e6(0x2b1)));}}}}}}}}function formatResult(_0x5ada3f,_0x978f1a){const _0x1805d4=_0x11d145;return parseFloat(_0x5ada3f[_0x1805d4(0x1cf)](_0x978f1a));}function formatResultTruncate(_0x5002ba,_0x1f54d7){const _0x3ad0d2=_0x11d145;let _0x120253=formatResultString(_0x5002ba,0xa),_0xf6b973=_0x120253[_0x3ad0d2(0x1bb)]('.');return _0xf6b973!=-0x1&&(_0x120253=_0x120253[_0x3ad0d2(0x265)](0x0,_0xf6b973+_0x1f54d7+0x1)),Number(_0x120253);}function formatResultString(_0x59fa6b,_0x1d2a9e){const _0x356d27=_0x11d145;let _0x91a3e9;if(!(''+_0x59fa6b)[_0x356d27(0x232)]('e'))_0x91a3e9=+(Math[_0x356d27(0x250)](_0x59fa6b+'e+'+_0x1d2a9e)+'e-'+_0x1d2a9e);else{let _0x5f3633=(''+_0x59fa6b)[_0x356d27(0x26c)]('e'),_0x126134='';+_0x5f3633[0x1]+_0x1d2a9e>0x0&&(_0x126134='+'),_0x91a3e9=+(Math[_0x356d27(0x250)](+_0x5f3633[0x0]+'e'+_0x126134+(+_0x5f3633[0x1]+_0x1d2a9e))+'e-'+_0x1d2a9e);}return Number(_0x91a3e9)[_0x356d27(0x1cf)](_0x1d2a9e);}function getServerTime(){const _0x39cb09=_0x11d145,_0x55e85d=new Date();return _0x55e85d['getFullYear']()+'/'+(_0x55e85d[_0x39cb09(0x219)]()+0x1)[_0x39cb09(0x2b6)]()[_0x39cb09(0x1e6)](0x2,'0')+'/'+_0x55e85d[_0x39cb09(0x21c)]()[_0x39cb09(0x2b6)]()['padStart'](0x2,'0')+'\x20'+_0x55e85d[_0x39cb09(0x2b2)]()[_0x39cb09(0x2b6)]()['padStart'](0x2,'0')+':'+_0x55e85d['getMinutes']()[_0x39cb09(0x2b6)]()[_0x39cb09(0x1e6)](0x2,'0')+':'+_0x55e85d[_0x39cb09(0x19f)]()[_0x39cb09(0x2b6)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x445192=_0x11d145,_0x589649=shiftedTime();return _0x589649['getFullYear']()+'/'+(_0x589649[_0x445192(0x219)]()+0x1)[_0x445192(0x2b6)]()[_0x445192(0x1e6)](0x2,'0')+'/'+_0x589649['getDate']()['toString']()[_0x445192(0x1e6)](0x2,'0')+'\x20'+_0x589649[_0x445192(0x2b2)]()[_0x445192(0x2b6)]()[_0x445192(0x1e6)](0x2,'0')+':'+_0x589649['getMinutes']()['toString']()[_0x445192(0x1e6)](0x2,'0')+':'+_0x589649[_0x445192(0x19f)]()[_0x445192(0x2b6)]()[_0x445192(0x1e6)](0x2,'0');}function getDate(){const _0x12e6d9=_0x11d145,_0x2922f7=shiftedTime();return _0x2922f7['getFullYear']()+'/'+(_0x2922f7[_0x12e6d9(0x219)]()+0x1)[_0x12e6d9(0x2b6)]()[_0x12e6d9(0x1e6)](0x2,'0')+'/'+_0x2922f7[_0x12e6d9(0x21c)]()[_0x12e6d9(0x2b6)]()['padStart'](0x2,'0');}function getHour(){const _0x57a6ff=_0x11d145,_0x20e608=shiftedTime();return _0x20e608[_0x57a6ff(0x2b2)]()[_0x57a6ff(0x2b6)]()[_0x57a6ff(0x1e6)](0x2,'0');}function sleep(_0x22ae56){return new Promise(_0x11d19f=>setTimeout(_0x11d19f,_0x22ae56));}function shiftedTime(){const _0x2f6be4=_0x11d145,_0x57fa5a=new Date();let _0x52e933=_0x57fa5a;if(config&&config[_0x2f6be4(0x1e0)]!==0x0)_0x52e933=fns[_0x2f6be4(0x2a4)](_0x57fa5a,{'hours':config[_0x2f6be4(0x1e0)]});return _0x52e933;}function timer(_0xbe64a5){const _0x3d8d80=_0x11d145,_0x438a16=new Date();!lasttime?console[_0x3d8d80(0x2b5)]('timer:',_0xbe64a5,_0x438a16):console[_0x3d8d80(0x2b5)](_0x3d8d80(0x270),_0xbe64a5,(_0x438a16-lasttime)/0x3e8),lasttime=_0x438a16;}