const _0x2bcc6e=_0x586b;(function(_0x169871,_0x2de567){const _0x34ffd7=_0x586b,_0x5e53d4=_0x169871();while(!![]){try{const _0xbfe393=parseInt(_0x34ffd7(0x314))/0x1+parseInt(_0x34ffd7(0x294))/0x2*(-parseInt(_0x34ffd7(0x1d4))/0x3)+parseInt(_0x34ffd7(0x1e3))/0x4*(-parseInt(_0x34ffd7(0x202))/0x5)+parseInt(_0x34ffd7(0x1ca))/0x6*(parseInt(_0x34ffd7(0x253))/0x7)+-parseInt(_0x34ffd7(0x1b9))/0x8+-parseInt(_0x34ffd7(0x28b))/0x9*(parseInt(_0x34ffd7(0x275))/0xa)+parseInt(_0x34ffd7(0x260))/0xb;if(_0xbfe393===_0x2de567)break;else _0x5e53d4['push'](_0x5e53d4['shift']());}catch(_0x2508f3){_0x5e53d4['push'](_0x5e53d4['shift']());}}}(_0x4aa2,0xd7919));const _0x25aaa3=function(){let _0x2368cb=!![];return function(_0x5acc5c,_0xcbedb){const _0x8c8059=_0x2368cb?function(){const _0xd776e9=_0x586b;if(_0xcbedb){const _0x5da286=_0xcbedb[_0xd776e9(0x2dc)](_0x5acc5c,arguments);return _0xcbedb=null,_0x5da286;}}:function(){};return _0x2368cb=![],_0x8c8059;};}(),_0x4d0902=_0x25aaa3(this,function(){const _0x2ea237=_0x586b;return _0x4d0902['toString']()['search'](_0x2ea237(0x22b))['toString']()['constructor'](_0x4d0902)[_0x2ea237(0x273)]('(((.+)+)+)+$');});_0x4d0902();'use strict';const ccxt=require(_0x2bcc6e(0x2b3))[_0x2bcc6e(0x2bb)],low=require(_0x2bcc6e(0x211)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x2bcc6e(0x25d)),Crypt=require(_0x2bcc6e(0x1c4))[_0x2bcc6e(0x245)],util=require(_0x2bcc6e(0x26a)),argv=require(_0x2bcc6e(0x250))(process['argv'][_0x2bcc6e(0x1c5)](0x2))[_0x2bcc6e(0x1d8)],path=require(_0x2bcc6e(0x266));let exchange;global[_0x2bcc6e(0x28f)]={},global[_0x2bcc6e(0x258)]={};const exceptions={'binance':[_0x2bcc6e(0x2e7),_0x2bcc6e(0x1e1),'XEM/BUSD',_0x2bcc6e(0x301),_0x2bcc6e(0x1fc)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x2bcc6e(0x2ee)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x2bcc6e(0x290))[_0x2bcc6e(0x2ac)],botID=process['argv'][0x2]||_0x2bcc6e(0x2c1),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x2bcc6e(0x1ef)]('Error:\x20Invalid\x20argument\x20'+botID+_0x2bcc6e(0x1c7)),killBot());function _0x586b(_0x21fed9,_0x3888c3){const _0x2892e9=_0x4aa2();return _0x586b=function(_0x4d0902,_0x25aaa3){_0x4d0902=_0x4d0902-0x1a0;let _0x4aa2f3=_0x2892e9[_0x4d0902];return _0x4aa2f3;},_0x586b(_0x21fed9,_0x3888c3);}const userID=process[_0x2bcc6e(0x1d8)][0x3]||'',configpath=userID?_0x2bcc6e(0x207)+userID+'/':_0x2bcc6e(0x207),logspath=userID?_0x2bcc6e(0x2b6)+userID+'/':_0x2bcc6e(0x2b6),loggerfile=fs[_0x2bcc6e(0x2fd)](logspath+_0x2bcc6e(0x2a4),{'flags':'a'});!fs[_0x2bcc6e(0x1f0)](configpath)&&fs[_0x2bcc6e(0x255)](configpath);!fs[_0x2bcc6e(0x1f0)](logspath)&&fs[_0x2bcc6e(0x255)](logspath);const configfile=configpath+_0x2bcc6e(0x1ec)+botID+_0x2bcc6e(0x30f),logfile=configpath+_0x2bcc6e(0x1ec)+botID+'-events.json',performancefile=configpath+_0x2bcc6e(0x1ec)+botID+_0x2bcc6e(0x295),coinresultsfile=configpath+_0x2bcc6e(0x1ec)+botID+_0x2bcc6e(0x272),settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x2bcc6e(0x27a),configbackuppath=configpath+_0x2bcc6e(0x2a5),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2bcc6e(0x2da)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2bcc6e(0x2da)]({'data':[],'version':serverversion})[_0x2bcc6e(0x232)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2bcc6e(0x2da)]({'coins':[],'version':serverversion})[_0x2bcc6e(0x232)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x2bcc6e(0x1a3),'rsaStandard':_0x2bcc6e(0x1ba)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x837381=>{const _0x485e29=_0x2bcc6e;console[_0x485e29(0x1ef)](_0x837381);},'simple':_0x591026=>{console['log'](_0x591026),loggerfile['write'](util['format'](_0x591026)+'\x0a');},'full':async(_0x1f4e63,_0x2f1112='')=>{const _0x1f62e3=_0x2bcc6e;let _0x5c172c;if(config['showname'])_0x5c172c=getTimeStamp()+':\x20'+config[_0x1f62e3(0x2f4)]+'\x20>\x20'+_0x1f4e63;else _0x5c172c=getTimeStamp()+_0x1f62e3(0x1d7)+botID+_0x1f62e3(0x1a0)+_0x1f4e63;console[_0x1f62e3(0x1ef)](_0x5c172c),loggerfile[_0x1f62e3(0x232)](util[_0x1f62e3(0x1d3)](_0x5c172c)+'\x0a'),_0x2f1112&&(console[_0x1f62e3(0x1ef)](_0x2f1112),loggerfile['write'](util[_0x1f62e3(0x1d3)](_0x2f1112)+'\x0a'));},'debug':async(_0x6cba25,_0x24b84b='')=>{const _0x1e7424=_0x2bcc6e;let _0x3cf5ff;if(config[_0x1e7424(0x2f8)])_0x3cf5ff=getTimeStamp()+':\x20'+config[_0x1e7424(0x2f4)]+_0x1e7424(0x306)+_0x6cba25;else _0x3cf5ff=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20[DEBUG]\x20'+_0x6cba25;if(debugging)console[_0x1e7424(0x1ef)](_0x3cf5ff);loggerfile[_0x1e7424(0x232)](util[_0x1e7424(0x1d3)](_0x3cf5ff)+'\x0a');if(_0x24b84b){if(debugging)console['log'](_0x24b84b);loggerfile[_0x1e7424(0x232)](util[_0x1e7424(0x1d3)](_0x24b84b)+'\x0a');}}};process['on']('uncaughtException',function(_0x2c53a9){const _0x4296f1=_0x2bcc6e;logger[_0x4296f1(0x2be)](_0x2c53a9);});settings['timeshift']!=config[_0x2bcc6e(0x2ce)]&&updateTimeshift(settings[_0x2bcc6e(0x2ce)]);settings['onepagemode']!=config[_0x2bcc6e(0x30b)]&&updateOnepagemode(settings[_0x2bcc6e(0x30b)]);process[_0x2bcc6e(0x31e)]({'started':_0x2bcc6e(0x2e9)},_0x12d53a=>{}),initializeProcessListeners();function proxyEmit(_0x10f851,_0x3fbf82=null){const _0x2637e3=_0x2bcc6e;process[_0x2637e3(0x31e)]({'function':_0x10f851,'args':_0x3fbf82},_0x6f632f=>{});}function initializeProcessListeners(){const _0x15d8a0=_0x2bcc6e;process['on'](_0x15d8a0(0x249),_0x477184=>{const _0x28cb52=_0x15d8a0;switch(Object['keys'](_0x477184)[0x0]){case _0x28cb52(0x2ce):_0x477184[_0x28cb52(0x2ce)]!=undefined&&(settings[_0x28cb52(0x2ce)]=_0x477184['timeshift'],updateTimeshift(settings[_0x28cb52(0x2ce)]));break;case'onepagemode':_0x477184[_0x28cb52(0x30b)]!=undefined&&(settings[_0x28cb52(0x30b)]=_0x477184[_0x28cb52(0x30b)],updateOnepagemode(settings['onepagemode']));break;case _0x28cb52(0x309):_0x477184[_0x28cb52(0x309)]!=undefined&&(bots=JSON['parse'](_0x477184[_0x28cb52(0x309)]),proxyEmit(_0x28cb52(0x309),bots));break;case _0x28cb52(0x2ec):switch(_0x477184[_0x28cb52(0x2ec)]){case'initclient':initclient();break;case _0x28cb52(0x2d6):toggleBotMode();break;case _0x28cb52(0x2a7):emitHistory(_0x477184['args']);break;case _0x28cb52(0x2bd):deleteHistoryAlerts(_0x477184[_0x28cb52(0x219)]);break;case'getPortfolio':getPortfolio(_0x477184[_0x28cb52(0x219)]);break;case'storeConfiguration':storeConfiguration(_0x477184['args']);break;case _0x28cb52(0x201):storeHeadless(_0x477184[_0x28cb52(0x219)]);break;case'storeFiat':storeFiat(_0x477184[_0x28cb52(0x219)]);break;case'resetHistory':resetHistory();break;case _0x28cb52(0x215):getStartingBalances(getNormalizedPerformance());break;case _0x28cb52(0x1b2):placeOrder(_0x477184['args']);break;case'cancelLoading':cancelLoading();break;case _0x28cb52(0x1bb):showConfig();break;case _0x28cb52(0x2d5):sendMetricsTelegram();break;case _0x28cb52(0x210):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x5d9841=null,_0x576c1f=![]){const _0x1976ae=_0x2bcc6e;logger['debug'](_0x1976ae(0x1bf)+(_0x5d9841&&_0x5d9841['length']>0x0?_0x1976ae(0x2e5)+_0x5d9841[_0x1976ae(0x24d)](','):_0x1976ae(0x313))+'\x20|\x20'+(_0x576c1f?_0x1976ae(0x2e2):_0x1976ae(0x2e4)));if(pidBalances)clearTimeout(pidBalances);if(!_0x576c1f)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x1976ae(0x2c2)]!=''&&config[_0x1976ae(0x2c2)]!='***'){if(_0x576c1f){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x10c6de){if(_0x10c6de[_0x1976ae(0x1ab)]()['includes'](_0x1976ae(0x2fb))){handleErrorNoStop(_0x10c6de,_0x1976ae(0x264));return;}else{handleError(_0x10c6de,_0x1976ae(0x264));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x5d9841);const _0x77bceb=await getCoins();[currentCoins,currentCoinsAll]=_0x77bceb,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x1976ae(0x2b4)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x34eeeb=_0x2bcc6e;logger[_0x34eeeb(0x277)](_0x34eeeb(0x23b));while(lockOrders!=ORDERS[_0x34eeeb(0x240)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x34eeeb(0x296)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x687c36=config['exchange'],_0x501d15=config[_0x2bcc6e(0x2c2)],_0x59d085=config[_0x2bcc6e(0x25e)]){const _0x32fe70=_0x2bcc6e;exchange&&await stopExchange();!supportedExchanges()[_0x32fe70(0x2f0)](_0x687c36)&&(logHistory(_0x32fe70(0x2e8),_0x32fe70(0x23e)+_0x687c36+_0x32fe70(0x214)),killBot());const _0x259c31=ccxt[_0x687c36[_0x32fe70(0x31c)]()];exchange=new _0x259c31({'apiKey':_0x501d15,'secret':_0x59d085,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x35e396=_0x2bcc6e;let _0xcf3ca7=config[_0x35e396(0x1a1)]==_0x35e396(0x2e3)?_0x35e396(0x2e3):'BTC',_0x486ed7=!allSymbols['includes'](_0xcf3ca7+_0x35e396(0x1f9))?_0x35e396(0x29f):_0x35e396(0x21b),_0x4f0c1d=!allSymbols[_0x35e396(0x2f0)](_0xcf3ca7+_0x35e396(0x259))?_0x486ed7:_0x35e396(0x2e1);stablecoins={'eur':{'coin':''+_0xcf3ca7+_0x4f0c1d,'symbol':_0xcf3ca7+'/'+_0x4f0c1d},'usd':{'coin':''+_0xcf3ca7+_0x486ed7,'symbol':_0xcf3ca7+'/'+_0x486ed7}};}async function initwsCcxt(_0xaa15de){const _0x59e5ad=_0x2bcc6e;_0xaa15de==null&&(_0xaa15de=[],config[_0x59e5ad(0x297)]['forEach'](_0x997e49=>{const _0x328445=_0x59e5ad;if(!_0x997e49[_0x328445(0x30a)]&&_0x997e49['coin']!=config[_0x328445(0x1a1)])_0xaa15de[_0x328445(0x2db)](_0x997e49[_0x328445(0x2b7)]);}));if(!_0xaa15de[_0x59e5ad(0x2f0)](stablecoins[_0x59e5ad(0x2f2)][_0x59e5ad(0x2b7)]))_0xaa15de[_0x59e5ad(0x2db)](stablecoins[_0x59e5ad(0x2f2)]['symbol']);if(!_0xaa15de['includes'](stablecoins['usd'][_0x59e5ad(0x2b7)]))_0xaa15de[_0x59e5ad(0x2db)](stablecoins['usd'][_0x59e5ad(0x2b7)]);if(!_0xaa15de[_0x59e5ad(0x2f0)](_0x59e5ad(0x228)+config['basecoin']))_0xaa15de[_0x59e5ad(0x2db)](_0x59e5ad(0x228)+config[_0x59e5ad(0x1a1)]);loadCoins(_0xaa15de);const _0x1351a1=async _0x7eba05=>{const _0x259e9e=_0x59e5ad,_0x2a393e=await exchange[_0x259e9e(0x20b)](_0x7eba05);global[_0x259e9e(0x28f)][noslash(_0x2a393e[_0x259e9e(0x2b7)])]=_0x2a393e[_0x259e9e(0x2f3)];while(!![]){if(!botPaused)try{const _0x232598=await exchange[_0x259e9e(0x243)](_0x7eba05);global[_0x259e9e(0x28f)][noslash(_0x232598[0x0][_0x259e9e(0x2b7)])]=_0x232598[0x0][_0x259e9e(0x22d)],await sleep(0x3e8);}catch(_0x4ac57c){if(!exchangeStopped)await handleError(_0x4ac57c,_0x259e9e(0x243),_0x7eba05);}else await sleep(0x3e8);}},_0x3342b3=async _0x545cd3=>{const _0x1b8aab=_0x59e5ad;while(!![]){if(!botPaused)try{const _0x201b4d=await exchange[_0x1b8aab(0x20b)](_0x545cd3);global[_0x1b8aab(0x258)][_0x201b4d[_0x1b8aab(0x2b7)]]=_0x201b4d[_0x1b8aab(0x285)],await sleep(0x3c*0x3e8);}catch(_0x3515ea){if(!exchangeStopped)await handleError(_0x3515ea,'fetchTickers',_0x545cd3);}else await sleep(0x3e8);}},_0x1362b9=async()=>{const _0x3d8c12=_0x59e5ad;while(!![]){if(!botPaused)try{const _0x4686ce=await exchange[_0x3d8c12(0x2ab)]();_0x4686ce[_0x3d8c12(0x2fe)](_0x3dacb0=>{updateNumberCoinsCcxt(_0x3dacb0);});}catch(_0x9103d6){if(!exchangeStopped)await handleError(_0x9103d6,_0x3d8c12(0x2ab));}else await sleep(0x3e8);}};_0xaa15de['forEach'](async _0x11738d=>{_0x1351a1(_0x11738d),_0x3342b3(_0x11738d);}),!wsEventsSet&&(wsEventsSet=!![],_0x1362b9(),watchTransactions());}async function watchTransactions(){const _0x29ce34=_0x2bcc6e;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x2284d8=await getCoins(),[_0x5816cc,_0x5ace52]=_0x2284d8;let _0x44643c=[];currentCoins[_0x29ce34(0x2fe)](_0x2d48c0=>{const _0x19f196=_0x29ce34,_0x1edda9=_0x5816cc['find'](_0x5c2a18=>_0x5c2a18['coin']==_0x2d48c0[_0x19f196(0x1e5)]);_0x1edda9&&(_0x2d48c0['number']!=_0x1edda9['number']&&_0x44643c['push']({'coin':_0x2d48c0[_0x19f196(0x1e5)],'symbol':_0x2d48c0[_0x19f196(0x2b7)],'number':Number(formatResult(_0x1edda9[_0x19f196(0x1ee)]-_0x2d48c0['number'],0x8))}));});if(_0x44643c[_0x29ce34(0x2b4)]==0x1&&!blockTransactionDetection){logger['debug'](_0x29ce34(0x244)+lastFees[_0x29ce34(0x1cd)]+_0x29ce34(0x209)+lastFees[_0x29ce34(0x2e0)]);if(!lastFees['currency']||_0x44643c[0x0][_0x29ce34(0x1e5)]!=lastFees[_0x29ce34(0x1cd)]||_0x44643c[0x0][_0x29ce34(0x1ee)]>lastFees[_0x29ce34(0x2e0)]){let _0x541a4c;if(_0x44643c[0x0]['coin']!=config['basecoin']){let _0x30ee96=global[_0x29ce34(0x28f)][noslash(_0x44643c[0x0][_0x29ce34(0x2b7)])];_0x541a4c=_0x44643c[0x0][_0x29ce34(0x1c9)]?0x1/_0x30ee96:_0x30ee96;}else _0x541a4c=0x1;_0x44643c[0x0][_0x29ce34(0x22d)]=_0x541a4c,delete _0x44643c[0x0][_0x29ce34(0x2b7)];let _0x38e4f0=[],_0xab9542=[...config['liquidity']]||[],_0x130619=config[_0x29ce34(0x305)];_0xab9542[_0x29ce34(0x316)]((_0x59bc70,_0x1d2af9)=>_0x59bc70[_0x29ce34(0x2de)]>_0x1d2af9[_0x29ce34(0x2de)]?-0x1:_0x1d2af9[_0x29ce34(0x2de)]>_0x59bc70[_0x29ce34(0x2de)]?0x1:0x0);const _0x4dd6d4=getDate();if(_0xab9542[0x0]){const _0x4ac8bd=fns[_0x29ce34(0x22c)](_0xab9542[0x0][_0x29ce34(0x2de)],_0x29ce34(0x1e8),new Date()),_0x3be11d=fns['parse'](_0x4dd6d4,'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x4ac8bd,_0x3be11d)){_0x38e4f0=_0xab9542[0x0]['changes'];const _0x34bf9d=_0x38e4f0[_0x29ce34(0x27b)](_0x162453=>_0x162453[_0x29ce34(0x1e5)]==_0x44643c[0x0][_0x29ce34(0x1e5)]);_0x34bf9d?(_0x34bf9d[_0x29ce34(0x1ee)]+=_0x44643c[0x0]['number'],_0x34bf9d[_0x29ce34(0x1ee)]==0x0&&(_0x38e4f0=_0x38e4f0['filter'](_0x1afe7e=>{const _0x59bb8d=_0x29ce34;return _0x1afe7e[_0x59bb8d(0x1e5)]!=_0x44643c[0x0][_0x59bb8d(0x1e5)];}))):_0x38e4f0[_0x29ce34(0x2db)](_0x44643c[0x0]);const _0x32f356=_0x130619[_0x29ce34(0x27b)](_0x58139c=>_0x58139c[_0x29ce34(0x2de)]==_0x4dd6d4);_0x32f356[_0x29ce34(0x247)]=_0x38e4f0;}else _0x130619[_0x29ce34(0x2db)]({'date':_0x4dd6d4,'changes':[_0x44643c[0x0]]});}const _0x52515f=_0x130619[_0x29ce34(0x27b)](_0x5cba8a=>_0x5cba8a[_0x29ce34(0x2de)]==_0x4dd6d4);if(_0x52515f){let _0x5c7273=!![];_0x52515f[_0x29ce34(0x247)][_0x29ce34(0x2fe)](_0xfa768f=>{const _0x4f4c72=_0x29ce34;if(_0xfa768f[_0x4f4c72(0x1ee)]!=0x0)_0x5c7273=![];}),_0x5c7273&&(_0x130619=_0x130619['filter'](_0x1aac4f=>{const _0x171f75=_0x29ce34;return _0x1aac4f[_0x171f75(0x2de)]!=_0x4dd6d4;}));}let _0x534b66=dbConfig[_0x29ce34(0x1a9)](_0x29ce34(0x217))[_0x29ce34(0x27b)]({'botID':botID})[_0x29ce34(0x1f7)]();_0x534b66&&(dbConfig['get'](_0x29ce34(0x217))['find']({'botID':botID})[_0x29ce34(0x1d6)]({'liquidity':_0x130619})[_0x29ce34(0x232)](),config[_0x29ce34(0x305)]=_0x130619),logHistory(_0x29ce34(0x1fe),_0x29ce34(0x1f6)+Math['abs'](_0x44643c[0x0]['number'])+'\x20'+_0x44643c[0x0][_0x29ce34(0x1e5)]+'\x20'+(_0x44643c[0x0][_0x29ce34(0x1ee)]>0x0?'added':_0x29ce34(0x234))+_0x29ce34(0x239)),proxyEmit(_0x29ce34(0x27d),emittedConfiguration());}else logger[_0x29ce34(0x277)](_0x29ce34(0x223)+Math[_0x29ce34(0x2ad)](_0x44643c[0x0][_0x29ce34(0x1ee)])+'\x20'+_0x44643c[0x0][_0x29ce34(0x1e5)]+'\x20'+(_0x44643c[0x0]['number']>0x0?_0x29ce34(0x2c8):_0x29ce34(0x234)));transactionDetected=!![],currentCoins=_0x5816cc,currentCoinsAll=_0x5ace52;}await sleep(watchTransactionsInterval);}catch(_0x49b7a5){if(!exchangeStopped)await handleError(_0x49b7a5,'watchTransactions');}else await sleep(0x3e8);}}async function loadSymbols(_0x462c7a=config[_0x2bcc6e(0x28e)],_0x42fd2b=![]){const _0x34d701=_0x2bcc6e;if(allSymbols&&!_0x42fd2b)return;try{markets=await exchange[_0x34d701(0x2d9)](),allSymbols=exchange[_0x34d701(0x25c)][_0x34d701(0x311)](_0x195e38=>{const _0x40da8a=_0x34d701;let _0x173530=![];const _0x4471fc=exceptions[_0x462c7a[_0x40da8a(0x31c)]()]||[];return _0x4471fc[_0x40da8a(0x2fe)](_0x4dd802=>{const _0x419987=_0x40da8a;if(_0x195e38[_0x419987(0x2f0)](_0x4dd802))_0x173530=!![];}),!_0x173530;});}catch(_0x259fbb){throw _0x259fbb;}}async function initclient(){const _0x461161=_0x2bcc6e;emitLoadingProgress(),proxyEmit(_0x461161(0x27d),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x461161(0x24a),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4522de=getNormalizedPerformance();emitPerformance(_0x4522de),getStartingBalances(_0x4522de);}async function toggleBotMode(){const _0x61abee=_0x2bcc6e;let _0x29ffcd=dbConfig[_0x61abee(0x1a9)]('bot')[_0x61abee(0x27b)]({'botID':botID})[_0x61abee(0x1f7)]();if(_0x29ffcd){const _0x4df4bf=!_0x29ffcd[_0x61abee(0x241)];dbConfig[_0x61abee(0x1a9)]('bot')[_0x61abee(0x27b)]({'botID':botID})[_0x61abee(0x1d6)]({'headless':_0x4df4bf})['write'](),config[_0x61abee(0x241)]=_0x4df4bf,proxyEmit(_0x61abee(0x27d),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x12dd1d=>{});}async function loadCoins(_0x1fa1c2){const _0x31ecf9=_0x2bcc6e;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x48c241,_0x5db39b=0x0,_0x5bab37=0x0;_0x1fa1c2['forEach'](_0x11998a=>{const _0x3ffdb7=_0x586b;loading[_0x3ffdb7(0x2fc)]['push'](_0x11998a);}),loadingCanceled=![];let _0x43e2c7=![];while(_0x48c241!=_0x1fa1c2[_0x31ecf9(0x2b4)]){_0x48c241=0x0,_0x1fa1c2[_0x31ecf9(0x2fe)](_0x4c56b6=>{const _0x3fe648=_0x31ecf9;if(global[_0x3fe648(0x28f)][noslash(_0x4c56b6)]){loading[_0x3fe648(0x2fc)]=loading['remainingSymbols'][_0x3fe648(0x311)](_0xea9a26=>_0xea9a26!=_0x4c56b6);if(!watchedSymbols[_0x3fe648(0x2f0)](_0x4c56b6))watchedSymbols[_0x3fe648(0x2db)](_0x4c56b6);_0x48c241++;}}),loading[_0x31ecf9(0x231)]=Math[_0x31ecf9(0x220)](_0x48c241/_0x1fa1c2[_0x31ecf9(0x2b4)]*0x64);loading[_0x31ecf9(0x231)]!=0x64&&(_0x5bab37>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x5bab37>0x78*0x5&&!_0x43e2c7&&(loading[_0x31ecf9(0x26b)]=!![],emitLoadingProgress(),_0x43e2c7=!![],logHistory(_0x31ecf9(0x2e8),_0x31ecf9(0x27c)+loading[_0x31ecf9(0x2fc)][_0x31ecf9(0x24d)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory('error',_0x31ecf9(0x307)+loadCoinsRetryInterval/0xea60+_0x31ecf9(0x226)),pidCoinReloading=setTimeout(()=>{const _0x5bd8b6=_0x31ecf9;process[_0x5bd8b6(0x31e)]({'stop':'restart'},_0x183c63=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x31ecf9(0x26b)]=!![],emitLoadingProgress();break;}else _0x48c241!=_0x5db39b&&(_0x5db39b=_0x48c241,emitLoadingProgress()),_0x5bab37++,await sleep(0xc8);}_0x48c241==_0x1fa1c2['length']&&(coinsLoaded=!![],process[_0x31ecf9(0x31e)]({'status':_0x31ecf9(0x257),'live':_0x31ecf9(0x2e9)},_0x13ccf0=>{}),_0x43e2c7&&logHistory(_0x31ecf9(0x1fe),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x31cd99=_0x2bcc6e;proxyEmit(_0x31cd99(0x27d),{...emittedConfiguration(),'configstate':_0x31cd99(0x304)});}function emitLoadingProgress(){const _0x38af73=_0x2bcc6e;proxyEmit(_0x38af73(0x22f),loading);}async function getFiat(){const _0x38d1b9=_0x2bcc6e;let _0x1cda37=global[_0x38d1b9(0x28f)][stablecoins[_0x38d1b9(0x2f2)]['coin']],_0x507b5a=global[_0x38d1b9(0x28f)][stablecoins[_0x38d1b9(0x20d)][_0x38d1b9(0x1e5)]];return{'eur':Number(_0x1cda37),'usd':Number(_0x507b5a)};}function capitalize(_0x4d4d81){const _0x3a61d2=_0x2bcc6e;return _0x4d4d81[_0x3a61d2(0x25a)](0x0,0x1)[_0x3a61d2(0x23d)]()+_0x4d4d81[_0x3a61d2(0x25a)](0x1);}function supportedExchanges(){const _0x3d0b8c=_0x2bcc6e,_0x3b023e=['ws',_0x3d0b8c(0x2c7),_0x3d0b8c(0x20b),'watchTrades',_0x3d0b8c(0x2ab),'cancelOrder',_0x3d0b8c(0x300),'fetchOpenOrders','fetchClosedOrders',_0x3d0b8c(0x221)];let _0x21d279=[],_0x3e6f91=[],_0x50775a=ccxt['exchanges'];_0x50775a[_0x3d0b8c(0x2fe)](_0x5bc4bf=>{const _0x1c21a7=_0x3d0b8c;try{const _0x3257d3=new ccxt[_0x5bc4bf]();if(_0x3257d3[_0x1c21a7(0x1cc)]['ws'])_0x3e6f91[_0x1c21a7(0x2db)](_0x3257d3);}catch(_0x340f92){}}),_0x3e6f91[_0x3d0b8c(0x2fe)](_0x200005=>{const _0x4ff98e=_0x3d0b8c;let _0x33f3df=0x0;_0x3b023e[_0x4ff98e(0x2fe)](_0x4bff17=>{const _0x4f4e09=_0x4ff98e;_0x4bff17 in _0x200005[_0x4f4e09(0x1cc)]&&_0x200005['has'][_0x4bff17]&&_0x33f3df++;}),_0x33f3df==_0x3b023e[_0x4ff98e(0x2b4)]&&_0x21d279[_0x4ff98e(0x2db)](capitalize(_0x200005['id']));});let _0x103446=[];return _0x50775a[_0x3d0b8c(0x2fe)](_0x41b84a=>{const _0x2188e5=_0x3d0b8c;_0x41b84a=capitalize(_0x41b84a);if(!_0x21d279[_0x2188e5(0x2f0)](_0x41b84a))_0x103446[_0x2188e5(0x2db)](_0x41b84a);}),_0x21d279;}function setStartDatePerformance(){const _0x5aa298=_0x2bcc6e;if(config&&config['liquidity'][0x0][_0x5aa298(0x247)][_0x5aa298(0x2b4)]!=0x0){const _0x186fad=config[_0x5aa298(0x305)][0x0][_0x5aa298(0x247)];dbPerformance['get'](_0x5aa298(0x1dc))[_0x5aa298(0x27b)]({'date':config[_0x5aa298(0x2cd)]})[_0x5aa298(0x1d6)]({'coins':_0x186fad})[_0x5aa298(0x232)]();}}async function recreateCoinResults(){const _0x4dde02=_0x2bcc6e;let _0x5e0c45,_0x36b5c9=[];try{const _0x8d98fc=fns[_0x4dde02(0x1d3)](fns[_0x4dde02(0x310)](config[_0x4dde02(0x2cd)][_0x4dde02(0x1ae)](/\//g,'-')),_0x4dde02(0x2ae));for(const _0x433b72 of currentCoins){if(_0x433b72[_0x4dde02(0x1e5)]!=config[_0x4dde02(0x1a1)]){let _0x11336e=0x0,_0x387899,_0x6fdcd4;_0x5e0c45=await getAllEventOrders(_0x433b72[_0x4dde02(0x2b7)]);if(_0x5e0c45['length']>0x0)_0x5e0c45[_0x4dde02(0x2fe)](_0xa90a12=>{const _0x187c53=_0x4dde02,_0x1c919d=_0x433b72[_0x187c53(0x2b7)][_0x187c53(0x2f0)](config[_0x187c53(0x1a1)]+'/');_0x36b5c9[_0x187c53(0x2db)]({'datetime':_0xa90a12[_0x187c53(0x24b)],'coin':_0x433b72['coin'],'symbol':_0x433b72[_0x187c53(0x2b7)],'side':_0xa90a12[_0x187c53(0x2f5)],'reverse':_0x1c919d,'amount':formatResult(_0xa90a12[_0x187c53(0x2a2)],0x8),'filled':formatResult(_0xa90a12[_0x187c53(0x2a2)],0x8),'price':formatResult(_0xa90a12['price'],0x8)}),_0x11336e=_0xa90a12[_0x187c53(0x2f5)]==_0x187c53(0x21a)?_0x11336e+_0xa90a12[_0x187c53(0x2a2)]:_0x11336e-_0xa90a12[_0x187c53(0x2a2)];if(!_0x6fdcd4)_0x6fdcd4=_0xa90a12[_0x187c53(0x22d)];});_0x387899=_0x433b72[_0x4dde02(0x1ee)]-_0x11336e;let _0x2d3f61;config[_0x4dde02(0x305)]['forEach'](_0x14487c=>{const _0x37a914=_0x4dde02;!_0x2d3f61&&(_0x2d3f61=_0x14487c[_0x37a914(0x247)][_0x37a914(0x27b)](_0x12e494=>_0x12e494[_0x37a914(0x1e5)]==_0x433b72[_0x37a914(0x1e5)]),_0x2d3f61&&(_0x387899=_0x2d3f61['number'],_0x6fdcd4=_0x2d3f61[_0x37a914(0x22d)]));});let _0x367e4d=dbCoinResults[_0x4dde02(0x1a9)]('coins')['find']({'coin':_0x433b72[_0x4dde02(0x1e5)]})[_0x4dde02(0x1f7)]();_0x367e4d={'coin':_0x433b72[_0x4dde02(0x1e5)],'number':_0x387899,'breakeven':_0x6fdcd4,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4dde02(0x1a9)]('coins')['find']({'coin':_0x433b72['coin']})['assign'](_0x367e4d)[_0x4dde02(0x232)]();}}_0x36b5c9['sort']((_0x259af9,_0x32b759)=>_0x259af9[_0x4dde02(0x24b)]>_0x32b759[_0x4dde02(0x24b)]?0x1:_0x32b759[_0x4dde02(0x24b)]>_0x259af9[_0x4dde02(0x24b)]?-0x1:0x0);let _0x76f4e3=0x0;for(let _0x15598b of _0x36b5c9){await updateCoinResults(_0x15598b,!![]);}}catch(_0x24030a){await handleError(_0x24030a,_0x4dde02(0x1af));}}async function getAllEventOrders(_0x389382){const _0x132e16=_0x2bcc6e;let _0x12ec1a=[],_0x1055e0=dbLogs[_0x132e16(0x1a9)](_0x132e16(0x21c))['filter'](_0x50069d=>{const _0x2d743a=_0x132e16,_0x542850=_0x50069d[_0x2d743a(0x236)][_0x2d743a(0x31c)]();return _0x542850[_0x2d743a(0x2f0)](_0x389382[_0x2d743a(0x31c)]())&&(_0x542850[_0x2d743a(0x2f0)]('market')&&_0x542850[_0x2d743a(0x2f0)]('order')||_0x542850[_0x2d743a(0x2f0)](_0x2d743a(0x2a2))&&_0x542850['includes'](_0x2d743a(0x2ea)));})[_0x132e16(0x308)]('time')[_0x132e16(0x1f7)]();return _0x1055e0[_0x132e16(0x2fe)](_0x1247d9=>{const _0x479bfb=_0x132e16,_0x28c42a=_0x1247d9[_0x479bfb(0x236)]['includes'](_0x479bfb(0x1c6))?'sell':_0x479bfb(0x21a),_0xf1dd43=/#([0-9]|\.)+\s/i,_0x46e0a9=Number(_0xf1dd43[_0x479bfb(0x27f)](_0x1247d9[_0x479bfb(0x236)])[0x0][_0x479bfb(0x1c5)](0x1)),_0x48475a=/@([0-9]|\.)+$/i,_0x218354=Number(_0x48475a[_0x479bfb(0x27f)](_0x1247d9[_0x479bfb(0x236)])[0x0][_0x479bfb(0x1c5)](0x1));_0x12ec1a['push']({'datetime':_0x1247d9[_0x479bfb(0x1c3)],'coin':symbolToCoin(_0x389382),'symbol':_0x389382,'side':_0x28c42a,'amount':_0x46e0a9,'filled':_0x46e0a9,'price':_0x218354});}),_0x12ec1a;}async function getAllOrders(_0x2258af,_0x1c94a8){const _0x46704e=_0x2bcc6e;let _0x247b1b=[];while(_0x1c94a8<exchange[_0x46704e(0x2b9)]()){const _0x2d8c6d=0x1f4,_0x13094f=await exchange[_0x46704e(0x319)](_0x2258af,_0x1c94a8,_0x2d8c6d);if(_0x13094f['length'])_0x1c94a8=_0x13094f[_0x13094f['length']-0x1][_0x46704e(0x230)]+0x1,_0x247b1b=_0x247b1b[_0x46704e(0x1b4)](_0x13094f);else break;}return _0x247b1b;}async function validate24hChanges(){const _0x2890ac=_0x2bcc6e;for(const _0x3ef875 of currentCoins){if(_0x3ef875[_0x2890ac(0x1e5)]!=config[_0x2890ac(0x1a1)]){let _0x4c5c6c;_0x3ef875[_0x2890ac(0x1c9)]?_0x4c5c6c=formatResult((0x1/(global[_0x2890ac(0x258)][noslash(_0x3ef875['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x4c5c6c=global[_0x2890ac(0x258)][noslash(_0x3ef875['symbol'])],_0x4c5c6c<config[_0x2890ac(0x20a)]&&(logHistory('error',_0x3ef875[_0x2890ac(0x1e5)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x4c5c6c+'%'),logHistory(_0x2890ac(0x2e8),_0x2890ac(0x1c0)),logHistory(_0x2890ac(0x2e8),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x52fde8,_0x214f09){const _0x515715=_0x2bcc6e;if(!_0x52fde8)return!![];const _0x35933b=_0x214f09[_0x515715(0x28a)]('.'),_0x4eb1a5=_0x52fde8[_0x515715(0x28a)]('.');for(var _0x41c852=0x0;_0x41c852<_0x4eb1a5['length'];_0x41c852++){const _0x10c108=~~_0x4eb1a5[_0x41c852],_0x336961=~~_0x35933b[_0x41c852];if(_0x10c108<_0x336961)return!![];if(_0x10c108>_0x336961)return![];}return![];}async function oneTimeMigration(){const _0xd3a413=_0x2bcc6e;let _0x3efccf=dbLogs[_0xd3a413(0x1a9)]('version')[_0xd3a413(0x1f7)]();if(isOlderVersion(_0x3efccf,_0xd3a413(0x2c9))){let _0x2052e6=[];const _0x4a9243=dbLogs['get']('logs')[_0xd3a413(0x1f7)]();_0x4a9243[_0xd3a413(0x2fe)](_0x1cde7f=>{const _0x5c3bea=_0xd3a413;_0x2052e6[_0x5c3bea(0x2db)]({'time':_0x1cde7f[_0x5c3bea(0x1c3)],'type':_0x1cde7f['type'],'event':_0x1cde7f[_0x5c3bea(0x236)]});}),dbLogs[_0xd3a413(0x1a9)]('logs')[_0xd3a413(0x1d6)](_0x2052e6)[_0xd3a413(0x232)]();}let _0x3de824=dbConfig[_0xd3a413(0x1a9)](_0xd3a413(0x2ac))['value']();if(isOlderVersion(_0x3de824,'2.3.5')){let _0x4997df=dbConfig['get']('bot')[_0xd3a413(0x27b)]({'botID':botID})[_0xd3a413(0x1f7)]();if(_0x4997df){let _0x1e3020=[];_0x4997df[_0xd3a413(0x297)][_0xd3a413(0x2fe)](_0x521174=>{const _0x350c03=_0xd3a413;_0x1e3020[_0x350c03(0x2db)]({'coin':_0x521174[_0x350c03(0x1e5)],'number':_0x521174[_0x350c03(0x248)],'price':_0x521174[_0x350c03(0x261)]}),delete _0x521174[_0x350c03(0x248)],delete _0x521174[_0x350c03(0x261)];});if(_0x1e3020[_0xd3a413(0x2b4)]!==0x0)fs[_0xd3a413(0x1f1)](configbackuppath+(_0xd3a413(0x1f4)+botID+_0xd3a413(0x1ff)),JSON[_0xd3a413(0x2a6)](_0x1e3020,null,0x4),function(_0x278930){if(_0x278930){}});const _0x3e5e18=(_0xc59ba7,_0x490600)=>{const _0x372ff8=_0xd3a413;let _0x191a93=[];_0x490600[_0x372ff8(0x2fe)](_0x17555d=>{const _0x1d542e=_0x372ff8,_0x2e1b49=_0xc59ba7[_0x1d542e(0x27b)](_0x445f52=>_0x445f52[_0x1d542e(0x1e5)]==_0x17555d[_0x1d542e(0x1e5)]);if(!_0x2e1b49)_0x191a93[_0x1d542e(0x2db)](_0x17555d);});let _0x13658d=[];return _0xc59ba7[_0x372ff8(0x2fe)](_0x19da6e=>{const _0x509529=_0x372ff8,_0x306693=_0x490600[_0x509529(0x27b)](_0x47cd00=>_0x47cd00['coin']==_0x19da6e[_0x509529(0x1e5)]);if(!_0x306693||_0x306693['number']==0x0&&_0x19da6e[_0x509529(0x1ee)]!=0x0)_0x13658d[_0x509529(0x2db)](_0x19da6e);}),{'missingDay1':_0x191a93,'notInDay2':_0x13658d};},_0x111dc3=dbPerformance[_0xd3a413(0x1a9)]('data')[_0xd3a413(0x2f1)]()[_0xd3a413(0x1f7)]();if(_0x111dc3['length']>0x1){const {missingDay1:_0x3acf8d,notInDay2:_0x4165d1}=_0x3e5e18(_0x1e3020,_0x111dc3[0x1][_0xd3a413(0x1e0)]);_0x1e3020=[..._0x1e3020,..._0x3acf8d],_0x4165d1[_0xd3a413(0x2fe)](_0xdeecac=>{const _0x5a0b9e=_0xd3a413;let _0x195a59=_0x1e3020[_0x5a0b9e(0x2a1)](_0x1fc2c6=>_0x1fc2c6[_0x5a0b9e(0x1e5)]==_0xdeecac[_0x5a0b9e(0x1e5)]);_0x195a59!=-0x1&&_0x1e3020[_0x5a0b9e(0x2ff)](_0x195a59,0x1);});}_0x1e3020[_0xd3a413(0x316)]((_0xfdc30d,_0x2f515f)=>_0xfdc30d['coin']>_0x2f515f[_0xd3a413(0x1e5)]?0x1:_0x2f515f[_0xd3a413(0x1e5)]>_0xfdc30d[_0xd3a413(0x1e5)]?-0x1:0x0);let _0x5b93af=[{'date':_0x4997df[_0xd3a413(0x2cd)],'changes':_0x1e3020}];_0x111dc3[_0xd3a413(0x2b4)]>0x2&&_0x111dc3[_0xd3a413(0x2fe)]((_0x1a662e,_0x173a30)=>{const _0x2ede10=_0xd3a413;if(_0x173a30>0x0&&_0x173a30<_0x111dc3[_0x2ede10(0x2b4)]-0x1){const {missingDay1:_0x25da37,notInDay2:_0x59207e}=_0x3e5e18(_0x111dc3[_0x173a30]['coins'],_0x111dc3[_0x173a30+0x1]['coins']);_0x1e3020=[],(_0x25da37[_0x2ede10(0x2b4)]!=0x0||_0x59207e[_0x2ede10(0x2b4)]!=0x0)&&(_0x25da37[_0x2ede10(0x2b4)]!=0x0&&_0x1e3020[_0x2ede10(0x2db)](..._0x25da37),_0x59207e[_0x2ede10(0x2b4)]!=0x0&&(_0x59207e['forEach'](_0x1027ba=>{const _0x452d18=_0x2ede10;_0x1027ba[_0x452d18(0x1ee)]=-_0x1027ba['number'];}),_0x1e3020[_0x2ede10(0x2db)](..._0x59207e)),_0x1e3020[_0x2ede10(0x316)]((_0x56b88b,_0x1fa35f)=>_0x56b88b[_0x2ede10(0x1e5)]>_0x1fa35f[_0x2ede10(0x1e5)]?0x1:_0x1fa35f[_0x2ede10(0x1e5)]>_0x56b88b[_0x2ede10(0x1e5)]?-0x1:0x0),_0x5b93af[_0x2ede10(0x2db)]({'date':_0x111dc3[_0x173a30+0x1][_0x2ede10(0x2de)],'changes':_0x1e3020}));}}),dbConfig['get']('bot')[_0xd3a413(0x27b)]({'botID':botID})['assign']({..._0x4997df,'liquidity':_0x5b93af})['write']();}}if(isOlderVersion(_0x3de824,_0xd3a413(0x2d7))){let _0x16299e=dbConfig[_0xd3a413(0x1a9)]('bot')[_0xd3a413(0x27b)]({'botID':botID})[_0xd3a413(0x1f7)]();if(_0x16299e){const _0x557f13=_0x16299e[_0xd3a413(0x28e)],_0x1629e7=_0x557f13?capitalize(_0x557f13):'Binance';dbConfig[_0xd3a413(0x1a9)](_0xd3a413(0x217))[_0xd3a413(0x27b)]({'botID':botID})['assign']({'exchange':_0x1629e7})[_0xd3a413(0x232)]();}}let _0x168d22=dbPerformance[_0xd3a413(0x1a9)](_0xd3a413(0x2ac))[_0xd3a413(0x1f7)]();isOlderVersion(_0x168d22,_0xd3a413(0x2c9))&&setStartDatePerformance();let _0xfb892b=dbCoinResults['get'](_0xd3a413(0x2ac))[_0xd3a413(0x1f7)]();if(isOlderVersion(_0xfb892b,'2.5.0')){let _0x2a69cb=dbCoinResults['get'](_0xd3a413(0x1e0))[_0xd3a413(0x1f7)]();if(_0x2a69cb[_0xd3a413(0x2b4)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x203085=_0x2bcc6e;dbConfig[_0x203085(0x1d5)]('version',serverversion)[_0x203085(0x232)](),dbPerformance[_0x203085(0x1d5)](_0x203085(0x2ac),serverversion)[_0x203085(0x232)](),dbLogs[_0x203085(0x1d5)](_0x203085(0x2ac),serverversion)[_0x203085(0x232)](),dbCoinResults['set']('version',serverversion)['write']();}function getConfiguration(_0x1171da){const _0x18f9fc=_0x2bcc6e;let _0x44d95d=dbConfig[_0x18f9fc(0x1a9)](_0x18f9fc(0x217))['find']({'botID':_0x1171da})[_0x18f9fc(0x1f7)]();if(_0x44d95d){let _0x3a92f9=![];typeof _0x44d95d['threshold']==_0x18f9fc(0x1cf)&&(_0x44d95d={..._0x44d95d,'threshold':Number(_0x44d95d[_0x18f9fc(0x222)])},_0x3a92f9=!![]),_0x44d95d['change24h']==null&&(_0x44d95d={..._0x44d95d,'change24h':-0x14},_0x3a92f9=!![]),!_0x44d95d['fiat']&&(_0x44d95d={..._0x44d95d,'fiat':_0x18f9fc(0x21b)},_0x3a92f9=!![]),!_0x44d95d[_0x18f9fc(0x30b)]&&(_0x44d95d={..._0x44d95d,'onepagemode':settings[_0x18f9fc(0x30b)]},_0x3a92f9=!![]),_0x3a92f9&&(_0x44d95d={'botID':_0x44d95d[_0x18f9fc(0x227)],'exchange':_0x44d95d[_0x18f9fc(0x28e)],'apiKey':_0x44d95d['apiKey'],'apiSecret':_0x44d95d[_0x18f9fc(0x25e)],'basecoin':_0x44d95d[_0x18f9fc(0x1a1)],'botname':_0x44d95d[_0x18f9fc(0x2f4)],'showname':_0x44d95d['showname'],'threshold':_0x44d95d[_0x18f9fc(0x222)],'ordertype':_0x44d95d[_0x18f9fc(0x31a)],'timeout':_0x44d95d['timeout'],'fiat':_0x44d95d[_0x18f9fc(0x318)],'startdate':_0x44d95d['startdate'],'recreate':_0x44d95d['recreate'],'timeshift':_0x44d95d['timeshift'],'onepagemode':_0x44d95d['onepagemode'],'headless':_0x44d95d[_0x18f9fc(0x241)],'cooldown':_0x44d95d[_0x18f9fc(0x291)],'change24h':_0x44d95d[_0x18f9fc(0x20a)],'emojibuy':_0x44d95d[_0x18f9fc(0x2ed)],'emojisell':_0x44d95d['emojisell'],'portfolio':_0x44d95d[_0x18f9fc(0x297)],'liquidity':_0x44d95d[_0x18f9fc(0x305)],'openOrders':_0x44d95d[_0x18f9fc(0x2cb)]},dbConfig[_0x18f9fc(0x1a9)](_0x18f9fc(0x217))[_0x18f9fc(0x1f8)]()[_0x18f9fc(0x232)](),dbConfig[_0x18f9fc(0x1a9)](_0x18f9fc(0x217))[_0x18f9fc(0x2db)](_0x44d95d)[_0x18f9fc(0x232)]());}else _0x44d95d={'botID':_0x1171da,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x18f9fc(0x1ad)+_0x1171da,'showname':![],'threshold':0x3,'ordertype':_0x18f9fc(0x224),'timeout':0x14,'fiat':_0x18f9fc(0x21b),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x18f9fc(0x2ce)],'onepagemode':settings[_0x18f9fc(0x30b)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x44d95d;}function emittedConfiguration(){const _0xf764eb=_0x2bcc6e;let _0x4f3989;if(config[_0xf764eb(0x2c2)]=='')_0x4f3989={...config,'configstate':'initial'};else config[_0xf764eb(0x2c2)]=='***'?_0x4f3989={...config,'configstate':_0xf764eb(0x287)}:_0x4f3989={...config,'apiKey':_0xf764eb(0x1a6),'apiSecret':_0xf764eb(0x1a6)};return _0x4f3989;}function getSettings(){const _0x1ac7d7=_0x2bcc6e;return dbSettings[_0x1ac7d7(0x1a9)](_0x1ac7d7(0x26d))[_0x1ac7d7(0x1f7)]();}function getSecure(){const _0x5b2de4=_0x2bcc6e;return dbSecure[_0x5b2de4(0x1a9)]('secure')[_0x5b2de4(0x1f7)]()||{};}function updateTimeshift(_0x4799a1){const _0x5528c8=_0x2bcc6e;let _0x59fc1f=dbConfig['get'](_0x5528c8(0x217))['find']({'botID':botID})[_0x5528c8(0x1f7)]();_0x59fc1f&&dbConfig[_0x5528c8(0x1a9)]('bot')[_0x5528c8(0x27b)]({'botID':botID})[_0x5528c8(0x1d6)]({'timeshift':_0x4799a1})[_0x5528c8(0x232)](),config[_0x5528c8(0x2ce)]=_0x4799a1,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x991a19){const _0x3664e2=_0x2bcc6e;let _0x5a5581=dbConfig[_0x3664e2(0x1a9)](_0x3664e2(0x217))[_0x3664e2(0x27b)]({'botID':botID})[_0x3664e2(0x1f7)]();_0x5a5581&&dbConfig['get']('bot')['find']({'botID':botID})[_0x3664e2(0x1d6)]({'onepagemode':_0x991a19})[_0x3664e2(0x232)](),config[_0x3664e2(0x30b)]=_0x991a19,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x24a702){const _0x5b1174=_0x2bcc6e;logger[_0x5b1174(0x277)](_0x5b1174(0x256)),blockTransactionDetection=!![],logger[_0x5b1174(0x277)](_0x5b1174(0x288));let _0x43d65e=[],_0x1c845d=![],_0x1ddbeb=[];_0x24a702[_0x5b1174(0x297)]['forEach'](_0xd0a625=>{const _0x21f23e=_0x5b1174;if(!_0xd0a625[_0x21f23e(0x30a)]&&_0xd0a625['coin']!=_0x24a702[_0x21f23e(0x1a1)])_0x1ddbeb[_0x21f23e(0x2db)](_0xd0a625['symbol']);}),_0x1ddbeb[_0x5b1174(0x2fe)](_0x58bdae=>{const _0x5bf6d3=watchedSymbols['includes'](_0x58bdae);!_0x5bf6d3&&_0x43d65e['push'](_0x58bdae);});_0x43d65e[_0x5b1174(0x2b4)]>0x0?_0x1c845d=!![]:currentCoins[_0x5b1174(0x2fe)](_0x4ec3fb=>{const _0x3426d9=_0x5b1174;if(_0x4ec3fb['coin']!=config[_0x3426d9(0x1a1)]){const _0x228d47=_0x1ddbeb[_0x3426d9(0x27b)](_0x6c27ef=>_0x6c27ef==_0x4ec3fb[_0x3426d9(0x2b7)]);!_0x228d47&&(_0x1c845d=!![]);}});let _0x282886=dbConfig['get'](_0x5b1174(0x217))[_0x5b1174(0x27b)]({'botID':botID})[_0x5b1174(0x1f7)]();_0x24a702={..._0x24a702,'apiKey':crypt['decrypt'](secure[_0x5b1174(0x2a8)],_0x24a702[_0x5b1174(0x2c2)])[_0x5b1174(0x249)],'apiSecret':crypt[_0x5b1174(0x317)](secure[_0x5b1174(0x2a8)],_0x24a702[_0x5b1174(0x25e)])[_0x5b1174(0x249)]};let _0x41d995=![];_0x282886?(_0x24a702[_0x5b1174(0x2c2)]=='************'?_0x24a702[_0x5b1174(0x2c2)]=config['apiKey']:_0x41d995=!![],_0x24a702['apiSecret']==_0x5b1174(0x1a6)?_0x24a702[_0x5b1174(0x25e)]=config[_0x5b1174(0x25e)]:_0x41d995=!![],dbConfig[_0x5b1174(0x1a9)](_0x5b1174(0x217))[_0x5b1174(0x27b)]({'botID':botID})[_0x5b1174(0x1d6)](_0x24a702)['write']()):(dbConfig[_0x5b1174(0x1a9)](_0x5b1174(0x217))[_0x5b1174(0x2db)](_0x24a702)[_0x5b1174(0x232)](),_0x41d995=!![],process[_0x5b1174(0x31e)]({'status':_0x5b1174(0x257),'live':_0x5b1174(0x2e9)},_0x24dacb=>{}));config={..._0x24a702},setStartDatePerformance(),process[_0x5b1174(0x31e)]({'botname':_0x24a702[_0x5b1174(0x2f4)]},_0x2f0510=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x5b1174(0x24c)),await initCoinResults();if(_0x41d995)await reset(_0x43d65e,!![]);else{if(_0x1c845d)await reset(_0x43d65e,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x5b1174(0x277)](_0x5b1174(0x29c));}async function storeHeadless(_0x3881f8){const _0x2a6fde=_0x2bcc6e,_0x22ef08={...config,'headless':_0x3881f8[_0x2a6fde(0x241)]};let _0x4b8f5f=dbConfig[_0x2a6fde(0x1a9)](_0x2a6fde(0x217))['find']({'botID':botID})[_0x2a6fde(0x1f7)]();_0x4b8f5f&&dbConfig[_0x2a6fde(0x1a9)](_0x2a6fde(0x217))['find']({'botID':botID})[_0x2a6fde(0x1d6)](_0x22ef08)['write'](),config={..._0x22ef08},updateBotManager(),proxyEmit(_0x2a6fde(0x27d),emittedConfiguration());}async function storeFiat(_0xb17e2c){const _0x52d0fe=_0x2bcc6e,_0xaeb8cd={...config,'fiat':_0xb17e2c};let _0x3c5c61=dbConfig[_0x52d0fe(0x1a9)](_0x52d0fe(0x217))[_0x52d0fe(0x27b)]({'botID':botID})['value']();_0x3c5c61&&dbConfig['get'](_0x52d0fe(0x217))[_0x52d0fe(0x27b)]({'botID':botID})[_0x52d0fe(0x1d6)](_0xaeb8cd)[_0x52d0fe(0x232)](),config={..._0xaeb8cd},proxyEmit(_0x52d0fe(0x27d),emittedConfiguration());}function resetHistory(){const _0xd73bc8=_0x2bcc6e;logger['full'](_0xd73bc8(0x263));try{if(fs[_0xd73bc8(0x1f0)](path[_0xd73bc8(0x24d)](configpath,_0xd73bc8(0x1ec)+botID+_0xd73bc8(0x1df))))fs[_0xd73bc8(0x1b7)](path['join'](configpath,'bot-'+botID+_0xd73bc8(0x1df)));if(fs[_0xd73bc8(0x1f0)](path[_0xd73bc8(0x24d)](configpath,_0xd73bc8(0x1ec)+botID+'-performance.json')))fs[_0xd73bc8(0x1b7)](path[_0xd73bc8(0x24d)](configpath,'bot-'+botID+_0xd73bc8(0x295)));if(fs[_0xd73bc8(0x1f0)](path[_0xd73bc8(0x24d)](configpath,_0xd73bc8(0x1ec)+botID+_0xd73bc8(0x272))))fs['unlinkSync'](path[_0xd73bc8(0x24d)](configpath,'bot-'+botID+_0xd73bc8(0x272)));}catch(_0x273360){if(_0x273360)logger[_0xd73bc8(0x315)]('Error\x20while\x20deleting\x20files:\x20',_0x273360);}const _0x5c556c=getDate();let _0x413e9a=[];currentCoins[_0xd73bc8(0x2fe)](_0xcf5717=>{const _0x594db7=_0xd73bc8;_0x413e9a[_0x594db7(0x2db)]({'coin':_0xcf5717[_0x594db7(0x1e5)],'number':_0xcf5717[_0x594db7(0x1ee)],'price':_0xcf5717[_0x594db7(0x2f3)]});});let _0x196377=dbConfig['get'](_0xd73bc8(0x217))[_0xd73bc8(0x27b)]({'botID':botID})[_0xd73bc8(0x1f7)]();_0x196377&&(dbConfig[_0xd73bc8(0x1a9)](_0xd73bc8(0x217))[_0xd73bc8(0x27b)]({'botID':botID})[_0xd73bc8(0x1d6)]({'liquidity':[{'date':_0x5c556c,'changes':_0x413e9a}]})[_0xd73bc8(0x232)](),config[_0xd73bc8(0x305)]=[]),process['send']({'stop':_0xd73bc8(0x233)},_0x7a4959=>{});}function noslash(_0x490034){const _0x2b44db=_0x2bcc6e;return _0x490034[_0x2b44db(0x1ae)]('/','');}function updateHighestFee(_0x546a37,_0x339e96){const _0x308814=_0x2bcc6e;lastFees['currency']=_0x546a37,lastFees[_0x308814(0x2b1)][_0x308814(0x2b4)]===0x14&&lastFees[_0x308814(0x2b1)][_0x308814(0x267)](),lastFees[_0x308814(0x2b1)][_0x308814(0x2db)](_0x339e96),lastFees[_0x308814(0x2e0)]=Math[_0x308814(0x218)](...lastFees[_0x308814(0x2b1)]);}function _0x4aa2(){const _0x106e77=['emojisell','percentage','buys','recovery','Transaction\x20detection\x20blocked','MIN_NOTIONAL','split','243yMKhUL','2\x20-\x20FILLED\x20unknown\x20order:\x20','toFixed','exchange','ticker','./version.json','cooldown','BTC','orderId','67700sRtNZW','-performance.json','Executing\x20exchange\x20reload','portfolio','performance','Limit\x20(low-margin)','ExchangeNotAvailable','leftTxt','Transaction\x20detection\x20unblocked','getFullYear','average','USDT','getMinutes','findIndex','filled','getPortfolio(1)','/output-000.log','/backup/','stringify','emitHistory','privateKey','Exchange','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','watchOrders','version','abs','yyyy-MM-dd\x27T\x27HH:mm:ss','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','open','recent20','none','ccxt','length','Cooldown\x20ended\x20-\x20balancing\x20resumed','./logs/','symbol','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','milliseconds','\x20not\x20available','pro','bid','deleteHistoryAlerts','simple','2\x20-\x20FILLED\x20known\x20order:\x20','\x20|\x20lock\x20orders:\x20','001','apiKey','\x20API\x20key\x20is\x20invalid','timeout','fee','Invalid\x20quantity','fetchTickers','added','2.3.5','timer:','openOrders','<b>Bot\x20','startdate','timeshift','\x20:\x20','offset','BUSD','getPortfolio(0)','clientOrderId','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','sendMetricsTelegram','toggleBotMode','2.6.0','2\x20-\x20Validate\x20orders:\x20','loadMarkets','defaults','push','apply','type','date','getPortfolio(2)','highest','EUR','exchange\x20reloaded','ETH','exchange\x20not\x20reloaded','additional\x20symbols\x20','getDate','DAI/','error','running','order','0\x20-\x20EXECUTION:\x20','function','emojibuy','freeze','Net\x20effect','includes','cloneDeep','eur','last','botname','side','cancelOrders()','getMonth','showname','<pre>','precision','AuthenticationError','remainingSymbols','createWriteStream','forEach','splice','createOrder','NANO/','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','warning','loading-canceled','liquidity','\x20>\x20[DEBUG]\x20','Pausing\x20for\x20','sortBy','bots','excluded','onepagemode','customId','ORDERS.LOCKED','1\x20-\x20Handle\x20open\x20orders','-config.json','parseISO','filter','\x20change','no\x20additional\x20symbols','374534pkISTS','full','sort','decrypt','fiat','fetchClosedOrders','ordertype','target','toLowerCase','Unknown\x20error\x20occured','send','valid','\x20>\x20','basecoin','trade','sha256','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20value','************','BNB','%\x20(','get','getCoins()','toString','min','Bot\x20','replace','recreateCoinResults()','limit-low','\x20portfolio:</b>\x20\x0a\x0a','placeOrder','No\x20more\x20open\x20orders\x20-\x20','concat','distribution','getSeconds','unlinkSync','\x20order:\x20','5422600RfOsgq','RSA-OAEP','showConfig','netoffset','sells','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Reset\x20|\x20','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','starting-balances','total','time','hybrid-crypto-js','slice','sell',',\x20must\x20be\x20a\x203\x20digit\x20number','\x20minutes','reverse','19860aOVZCN','cost','has','currency','1\x20-\x20FILLED:\x20','string','ongoing','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','padStart','format','120NCMlja','set','assign',':\x20Bot\x20','argv','ORDERS.UNLOCKING','cancelOrder','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','data','Unfilled\x20order(s)\x20canceled\x20after\x20','amount','-events.json','coins','HOT/BTC','\x20|\x20','180340mzrmOc','map','coin','Net\x20','1\x20-\x20Unlock\x20orders','yyyy/MM/dd','limits','Order\x20filled:\x20','<b>','bot-','Order\x20amount\x20is\x20invalid:\x20','number','log','existsSync','writeFile','\x20not\x20responding','realized','starting-balance-','limit-high','Portfolio\x20change\x20detected:\x20','value','remove','/USD','entries','initial','YOYOW/','delta','success','.json','breakeven','storeHeadless','55AZdkWq','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','getHours','event-history','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','./config/','\x20orders\x20in\x20less\x20than\x20','\x20|\x20highest:\x20','change24h','fetchTicker','-------------------------------\x0a','usd','getCoinNumber()','3\x20-\x20handling\x20FILLED\x20order:\x20','sendPortfolioTelegram','lowdb','no\x20open\x20orders','Limit\x20(high-margin)','\x20exchange','getStartingBalances','kill','bot','max','args','buy','USD','logs','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','ORDERS.UNLOCKED','round','fetchBalance','threshold','Fee\x20discount\x20refund\x20detected:\x20','market','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','botID','BNB/','getTime','LOCKED','(((.+)+)+)+$','parse','price','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','coin-loading-progress','timestamp','progress','write','restart','removed','balancing\x20resumed','event','DDoSProtection','Manual\x20balancing\x20required','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','UNLOCKING','Initiating\x20exchange\x20reload','fromCodePoint','toUpperCase','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','net-fiat','UNLOCKED','headless','1\x20-\x20Validate\x20orders:\x20','watchTrades','Fees\x20|\x20currency:\x20','Crypt','placeOrder()','changes','startnumber','message','balances','datetime','configuration-stored','join','fees','page','yargs/yargs','\x20metrics:</b>\x20\x0a\x0a','Invalid\x20API\x20key\x20or\x20secret\x20entered','1981xERYJZ','API-key\x20format\x20invalid','mkdirSync','Saving\x20configuration','enabled','change','/EUR','substring','indexOf','symbols','date-fns','apiSecret','Order(s)\x20not\x20validated\x20after\x20','28575844ZQmkqK','startprice','canceled','Resetting\x20bot\x20history','loadSymbols()','orderstatus','path','shift','getOpenOrders()','closed','util','cancel','status','settings','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','limit','isEqual','\x20minutes\x20-\x20','-results.json','search','final','184570WUULvi','\x20hour','debug','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','padEnd','bb-secure.json','find','Failed\x20to\x20load\x20coin\x20data\x20for\x20','configuration','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','exec','net-basecoin','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','2\x20-\x20Orders\x20unlocked','rightTxt'];_0x4aa2=function(){return _0x106e77;};return _0x4aa2();}async function updateNumberCoinsCcxt(_0x198e28){const _0x48a2c4=_0x2bcc6e;logger[_0x48a2c4(0x277)](_0x48a2c4(0x2eb)+_0x198e28[_0x48a2c4(0x2b7)]+_0x48a2c4(0x1e2)+_0x198e28['status']+_0x48a2c4(0x1e2)+_0x198e28['id']+_0x48a2c4(0x1e2)+_0x198e28[_0x48a2c4(0x2d3)]);let _0x594ad9=_0x198e28[_0x48a2c4(0x26c)],_0x2564b8=![];currentCoins[_0x48a2c4(0x2fe)](_0x3e3ead=>{const _0x4ff7fa=_0x48a2c4;_0x3e3ead[_0x4ff7fa(0x2b7)]==_0x198e28['symbol']&&(_0x2564b8=!![]);});if(!_0x2564b8)return;const _0x5377e9=currentCoins['find'](_0x3bf8aa=>_0x3bf8aa[_0x48a2c4(0x2b7)]==_0x198e28[_0x48a2c4(0x2b7)]),_0x5c01ff=_0x2c2383=>{const _0x420c0f=_0x48a2c4;if(_0x5377e9)_0x5377e9[_0x420c0f(0x265)]=_0x2c2383;};if(_0x594ad9==_0x48a2c4(0x2b0))_0x5c01ff(_0x48a2c4(0x2b0));else{if(_0x594ad9==_0x48a2c4(0x262)){_0x5c01ff('canceled');const _0x26f95c=await getCoins();[currentCoins,currentCoinsAll]=_0x26f95c,await getOpenOrders(),handleOpenOrders();}else{if(_0x594ad9=='closed'){logger[_0x48a2c4(0x277)](_0x48a2c4(0x1ce)+_0x198e28[_0x48a2c4(0x2b7)]+_0x48a2c4(0x1e2)+_0x198e28[_0x48a2c4(0x2a2)]+_0x48a2c4(0x1e2)+_0x198e28['id']+_0x48a2c4(0x1e2)+_0x198e28['clientOrderId']);let _0x31229b=![];if(lastOrders)lastOrders[_0x48a2c4(0x2fe)](async _0x48a010=>{const _0x3fe590=_0x48a2c4;if(_0x48a010[_0x3fe590(0x30c)]==_0x198e28['clientOrderId']){logger[_0x3fe590(0x277)](_0x3fe590(0x2bf)+_0x198e28['clientOrderId']),_0x31229b=!![];if(_0x48a010[_0x3fe590(0x2a2)]==0x0){logger['debug'](_0x3fe590(0x20f)+_0x198e28[_0x3fe590(0x2d3)]),_0x48a010[_0x3fe590(0x22d)]=_0x198e28[_0x3fe590(0x29e)],_0x48a010['filled']=_0x198e28['filled'],_0x48a010['fee']={'currency':_0x198e28['fee']?_0x198e28[_0x3fe590(0x2c5)]['currency']:null,'cost':_0x198e28[_0x3fe590(0x2c5)]?_0x198e28[_0x3fe590(0x2c5)][_0x3fe590(0x1cb)]:0x0},updateHighestFee(_0x48a010[_0x3fe590(0x2c5)][_0x3fe590(0x1cd)],_0x48a010[_0x3fe590(0x2c5)][_0x3fe590(0x1cb)]),_0x5c01ff(_0x3fe590(0x2a2)),await validateOrders();if(lockOrders==ORDERS[_0x3fe590(0x22a)]){const _0x5c0f62=await getCoins();[currentCoins,currentCoinsAll]=_0x5c0f62;}await updateCoinResults(_0x48a010);}}});if(!_0x31229b){logger[_0x48a2c4(0x277)](_0x48a2c4(0x28c)+_0x198e28['id']),_0x5c01ff(_0x48a2c4(0x2a2));const _0x532eb0=await getCoins();[currentCoins,currentCoinsAll]=_0x532eb0,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0xeadcae=JSON['parse'](lastBalances['portfolio']);const _0x2b391d=_0xeadcae['find'](_0x20e148=>_0x20e148[_0x48a2c4(0x2b7)]==_0x198e28[_0x48a2c4(0x2b7)]);if(_0x2b391d){if(_0x594ad9=='open')_0x2b391d[_0x48a2c4(0x265)]=_0x2b391d[_0x48a2c4(0x265)]==_0x48a2c4(0x2a2)?_0x48a2c4(0x2a2):_0x48a2c4(0x2b0);else{if(_0x594ad9=='canceled')_0x2b391d[_0x48a2c4(0x265)]=_0x2b391d['orderstatus']==_0x48a2c4(0x2a2)?_0x48a2c4(0x2a2):'canceled';else _0x594ad9==_0x48a2c4(0x269)&&(_0x2b391d[_0x48a2c4(0x265)]=_0x48a2c4(0x2a2));}}lastBalances={...lastBalances,'portfolio':JSON[_0x48a2c4(0x2a6)](_0xeadcae)},proxyEmit(_0x48a2c4(0x24a),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x1975c7=![];currentCoins['forEach'](_0x4a36d5=>{const _0x38b5d6=_0x586b;_0x1975c7=allOpenOrders[_0x38b5d6(0x27b)](_0x2f1178=>_0x2f1178[_0x38b5d6(0x2b7)]==_0x4a36d5[_0x38b5d6(0x2b7)]),_0x4a36d5[_0x38b5d6(0x265)]=_0x1975c7?_0x38b5d6(0x2b0):'none';});}async function getCoins(_0x57ad2c=!![],_0x429b0b=config['basecoin']){const _0x31f3df=_0x2bcc6e;let _0x11ea32,_0x444ddf=[],_0x27a57d=[],_0x4ebde2=[],_0x4d4c30=[];try{_0x11ea32=await exchange[_0x31f3df(0x221)](),mybalances=_0x11ea32[_0x31f3df(0x1c2)];for(const [_0x4c7b93,_0x69f157]of Object[_0x31f3df(0x1fa)](mybalances)){_0x4d4c30['push'](_0x4c7b93);}if(_0x429b0b=='')for(const [_0x52d4af,_0x31ba14]of Object[_0x31f3df(0x1fa)](mybalances)){_0x31ba14[_0x31f3df(0x1ab)]()!=0x0&&_0x27a57d[_0x31f3df(0x2db)]({'coin':_0x52d4af});}else{let _0x5ca14a=![];for(const [_0x252bdc,_0x3ec978]of Object['entries'](mybalances)){if(_0x4d4c30['includes'](_0x252bdc)){const _0x4ee8be=config[_0x31f3df(0x297)][_0x31f3df(0x27b)](_0x134c9a=>_0x134c9a['coin']==_0x252bdc),_0x5bb6ef=_0x252bdc+'/'+_0x429b0b,_0x4ee0ef=_0x429b0b+'/'+_0x252bdc,_0xe76d17=currentCoins[_0x31f3df(0x27b)](_0x1d8359=>_0x1d8359[_0x31f3df(0x1e5)]==_0x252bdc);_0x5ca14a=![];if((_0x3ec978[_0x31f3df(0x1ab)]()!=0x0||_0x4ee8be)&&(allSymbols[_0x31f3df(0x2f0)](_0x5bb6ef)||_0x252bdc==_0x429b0b))_0x252bdc!=_0x429b0b&&_0x444ddf[_0x31f3df(0x2db)](_0x5bb6ef),_0x27a57d[_0x31f3df(0x2db)]({'coin':_0x252bdc,'symbol':_0x5bb6ef,'reverse':![],'number':Math[_0x31f3df(0x218)](_0x3ec978+(_0x4ee8be&&_0x4ee8be['offset']||0x0),0x0),'orderstatus':_0xe76d17?_0xe76d17[_0x31f3df(0x265)]:_0x31f3df(0x2b2)});else(_0x3ec978['toString']()!=0x0||_0x4ee8be)&&allSymbols[_0x31f3df(0x2f0)](_0x4ee0ef)&&(_0x252bdc!=_0x429b0b&&_0x444ddf[_0x31f3df(0x2db)](_0x4ee0ef),_0x27a57d['push']({'coin':_0x252bdc,'symbol':_0x4ee0ef,'reverse':!![],'number':Math[_0x31f3df(0x218)](_0x3ec978+(_0x4ee8be&&_0x4ee8be[_0x31f3df(0x2d0)]||0x0),0x0),'orderstatus':_0xe76d17?_0xe76d17['orderstatus']:_0x31f3df(0x2b2)}));}}}}catch(_0x244076){if(!_0x57ad2c)handleErrorNoStop(_0x244076,_0x31f3df(0x1aa));else await handleError(_0x244076,_0x31f3df(0x1aa));}return _0x4ebde2=cloneDeep(_0x27a57d),_0x27a57d=_0x27a57d['filter'](_0x620062=>{const _0x1a4c62=_0x31f3df,_0x457e3b=config['portfolio']['find'](_0x40e5a9=>_0x40e5a9['coin']==_0x620062[_0x1a4c62(0x1e5)]);return _0x457e3b&&!_0x457e3b['excluded'];}),[_0x27a57d,_0x4ebde2];}async function getCoinNumber(_0x27a6cb){const _0x1f3c14=_0x2bcc6e;let _0x21f606;try{const _0x51e1e6=await exchange['fetchBalance']();_0x21f606=_0x51e1e6['total'][_0x27a6cb];}catch(_0x614ac5){await handleError(_0x614ac5,_0x1f3c14(0x20e));}return _0x21f606;}async function getOpenOrders(){const _0x38c684=_0x2bcc6e;let _0xac8764;allOpenOrders=[];try{for(const _0x4b7c7b of config[_0x38c684(0x297)]){!_0x4b7c7b[_0x38c684(0x30a)]&&_0x4b7c7b[_0x38c684(0x1e5)]!=config[_0x38c684(0x1a1)]&&(_0xac8764=await exchange['fetchOpenOrders'](_0x4b7c7b[_0x38c684(0x2b7)]),_0xac8764[_0x38c684(0x2b4)]>0x0&&allOpenOrders[_0x38c684(0x2db)](_0xac8764[0x0]));}}catch(_0x4d57f7){await handleError(_0x4d57f7,_0x38c684(0x268));}}async function handleOpenOrders(_0x25fa3f=0x0){const _0x5481f6=_0x2bcc6e;allOpenOrders[_0x5481f6(0x2b4)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x25fa3f==0x0?(logger['debug'](_0x5481f6(0x30e)),_0x25fa3f++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x5481f6(0x277)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x5481f6(0x212))));}async function testAPI(_0x3e02e4){const _0x1fddd5=_0x2bcc6e,_0x2e952=ccxt[_0x3e02e4[_0x1fddd5(0x28e)][_0x1fddd5(0x31c)]()],_0x3bf8d1=new _0x2e952({'apiKey':_0x3e02e4['apiKey'],'secret':_0x3e02e4[_0x1fddd5(0x25e)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x3bf8d1[_0x1fddd5(0x2d9)]();}catch(_0x5f4a2d){throw _0x5f4a2d;}}function cloneDeep(_0x5565ea){const _0x3b5cc1=_0x2bcc6e;return JSON[_0x3b5cc1(0x22c)](JSON[_0x3b5cc1(0x2a6)](_0x5565ea));}async function getPortfolio(_0x29e04f){const _0x7db361=_0x2bcc6e;let _0x466ecc=[],_0x56c053=[],_0x449110=[],_0x38df7e;if(_0x29e04f['apiKey']!==_0x7db361(0x1a6)||_0x29e04f[_0x7db361(0x25e)]!=='************'){if(config[_0x7db361(0x28e)]){if(_0x29e04f[_0x7db361(0x2c2)]=='************')_0x29e04f['apiKey']=config['apiKey'];if(_0x29e04f['apiSecret']==_0x7db361(0x1a6))_0x29e04f['apiSecret']=config[_0x7db361(0x25e)];try{await testAPI(_0x29e04f);}catch(_0x1c55d8){if(_0x1c55d8['toString']()['includes'](_0x7db361(0x2fb))){logger['debug'](_0x7db361(0x252)),proxyEmit(_0x7db361(0x297),![]);return;}else{handleError(_0x1c55d8,_0x7db361(0x2d2));return;}}}await initExchange(_0x29e04f['exchange'],_0x29e04f[_0x7db361(0x2c2)],_0x29e04f['apiSecret']);try{await loadSymbols(_0x29e04f[_0x7db361(0x28e)],!![]);}catch(_0x4b0785){if(_0x4b0785[_0x7db361(0x1ab)]()['includes'](_0x7db361(0x2fb))){proxyEmit('portfolio',![]);return;}else{handleError(_0x4b0785,_0x7db361(0x2a3));return;}}const _0x13be99=await getCoins(![],_0x29e04f['basecoin']);_0x449110=cloneDeep(_0x13be99[0x1]);}else _0x449110=cloneDeep(currentCoinsAll);if(_0x29e04f[_0x7db361(0x1a1)]=='')proxyEmit('portfolio',_0x449110);else{_0x449110[_0x7db361(0x2fe)](_0x806f97=>{const _0x58a2b9=_0x7db361;if(_0x806f97[_0x58a2b9(0x1e5)]!=_0x29e04f['basecoin'])_0x466ecc['push'](_0x806f97[_0x58a2b9(0x2b7)]);});try{_0x56c053=await exchange[_0x7db361(0x2c7)](_0x466ecc);}catch(_0xb680ac){if(_0xb680ac[_0x7db361(0x1ab)]()[_0x7db361(0x2f0)](_0x7db361(0x2fb))){proxyEmit(_0x7db361(0x297),![]);return;}else{handleError(_0xb680ac,_0x7db361(0x2df));return;}}_0x449110[_0x7db361(0x2fe)](_0x197857=>{const _0x17cdbc=_0x7db361;_0x197857['coin']!=_0x29e04f[_0x17cdbc(0x1a1)]?_0x38df7e=_0x197857[_0x17cdbc(0x1c9)]?0x1/_0x56c053[_0x197857[_0x17cdbc(0x2b7)]][_0x17cdbc(0x2f3)]:_0x56c053[_0x197857[_0x17cdbc(0x2b7)]][_0x17cdbc(0x2f3)]:_0x38df7e=0x1,_0x197857['price']=formatResult(_0x38df7e,0x8);}),proxyEmit(_0x7db361(0x297),_0x449110);}}function checkMinimums(_0x35397d){const _0x5d5f56=_0x2bcc6e;let _0x22b452=!![];const _0x25b747=!_0x35397d[_0x5d5f56(0x1c9)]?markets[_0x35397d['symbol']]['limits'][_0x5d5f56(0x1de)]['min']:markets[_0x35397d[_0x5d5f56(0x2b7)]]['limits'][_0x5d5f56(0x1cb)][_0x5d5f56(0x1ac)],_0x5c4004=!_0x35397d[_0x5d5f56(0x1c9)]?markets[_0x35397d[_0x5d5f56(0x2b7)]][_0x5d5f56(0x1e9)][_0x5d5f56(0x1cb)][_0x5d5f56(0x1ac)]:markets[_0x35397d[_0x5d5f56(0x2b7)]][_0x5d5f56(0x1e9)][_0x5d5f56(0x1de)][_0x5d5f56(0x1ac)],_0x1715e6=markets[_0x35397d['symbol']][_0x5d5f56(0x2fa)][_0x5d5f56(0x1de)];_0x35397d[_0x5d5f56(0x1a2)]=formatResultTruncate(_0x35397d[_0x5d5f56(0x1a2)],_0x1715e6);if(Math[_0x5d5f56(0x2ad)](_0x35397d[_0x5d5f56(0x1a2)])<_0x25b747)_0x22b452=![];if(Math[_0x5d5f56(0x2ad)](_0x35397d['trade'])*_0x35397d[_0x5d5f56(0x2f3)]<_0x5c4004)_0x22b452=![];if(_0x35397d['side']=='sell'){let _0x9e84d7=config['portfolio'][_0x5d5f56(0x27b)](_0x4c0622=>_0x4c0622['coin']==_0x35397d[_0x5d5f56(0x1e5)]);if(_0x9e84d7[_0x5d5f56(0x2d0)]>0x0){if(Math[_0x5d5f56(0x2ad)](_0x35397d[_0x5d5f56(0x1a2)])>_0x35397d['number']-_0x9e84d7[_0x5d5f56(0x2d0)])_0x22b452=![];}else{if(Math[_0x5d5f56(0x2ad)](_0x35397d[_0x5d5f56(0x1a2)])>_0x35397d[_0x5d5f56(0x1ee)])_0x22b452=![];}}if(_0x35397d[_0x5d5f56(0x2f5)]==_0x5d5f56(0x21a)){let _0x4a17e8=config[_0x5d5f56(0x297)][_0x5d5f56(0x27b)](_0x84067f=>_0x84067f[_0x5d5f56(0x1e5)]==config[_0x5d5f56(0x1a1)]),_0x5a13b1=currentCoins[_0x5d5f56(0x27b)](_0x89606e=>_0x89606e[_0x5d5f56(0x1e5)]==config['basecoin']);if(_0x4a17e8['offset']>0x0){if(Math[_0x5d5f56(0x2ad)](_0x35397d['trade'])*_0x35397d['last']>_0x5a13b1[_0x5d5f56(0x1ee)]-_0x4a17e8['offset'])_0x22b452=![];}else{if(Math[_0x5d5f56(0x2ad)](_0x35397d[_0x5d5f56(0x1a2)])*_0x35397d[_0x5d5f56(0x2f3)]>_0x5a13b1['number'])_0x22b452=![];}}return _0x22b452;}async function getBalances(){const _0x2e2702=_0x2bcc6e;let _0x55132d=0x0,_0x39f632;const _0x2ecd7a=config[_0x2e2702(0x222)];if(config[_0x2e2702(0x241)]&&config[_0x2e2702(0x20a)]<0x0)await validate24hChanges();currentCoins[_0x2e2702(0x2fe)](_0x1f3368=>{const _0x5acace=_0x2e2702;if(_0x1f3368[_0x5acace(0x1e5)]!=config[_0x5acace(0x1a1)]){let _0x3198fa=global[_0x5acace(0x28f)][noslash(_0x1f3368[_0x5acace(0x2b7)])];_0x39f632=_0x1f3368[_0x5acace(0x1c9)]?0x1/_0x3198fa:_0x3198fa;}else _0x39f632=0x1;let _0x53db3a=_0x1f3368['number']*_0x39f632;_0x55132d+=_0x53db3a,_0x1f3368['last']=formatResult(Number(_0x39f632),0x8),_0x1f3368['value']=_0x53db3a;}),currentCoins['forEach'](_0x55a447=>{const _0x3de111=_0x2e2702;let _0x2b3526=config[_0x3de111(0x297)][_0x3de111(0x27b)](_0x298180=>_0x298180[_0x3de111(0x1e5)]==_0x55a447[_0x3de111(0x1e5)]),_0x4ed308=Number(_0x2b3526[_0x3de111(0x1b5)]),_0x610e9=_0x55a447[_0x3de111(0x1f7)]/_0x55132d*0x64,_0x4c2710=_0x4ed308*_0x55132d/0x64/_0x55a447[_0x3de111(0x2f3)]-_0x55a447[_0x3de111(0x1ee)];_0x55a447[_0x3de111(0x1b5)]=formatResult(_0x610e9,0x3),_0x55a447['target']=formatResult(_0x4ed308,0x3),_0x55a447[_0x3de111(0x1a2)]=formatResult(_0x4c2710,0x8),_0x55a447[_0x3de111(0x2f5)]='',_0x55a447['valid']=![];if(_0x55a447[_0x3de111(0x1e5)]!=config['basecoin']){if(_0x55a447[_0x3de111(0x1b5)]>_0x4ed308)_0x55a447[_0x3de111(0x2f5)]='sell',_0x55a447['valid']=checkMinimums(_0x55a447);else _0x55a447['distribution']<_0x4ed308&&(_0x55a447[_0x3de111(0x2f5)]=_0x3de111(0x21a),_0x55a447[_0x3de111(0x31f)]=checkMinimums(_0x55a447));}_0x55a447[_0x3de111(0x1fd)]=_0x55a447[_0x3de111(0x1b5)]/_0x55a447[_0x3de111(0x31b)]-0x1;if(_0x55a447[_0x3de111(0x265)]==_0x3de111(0x2a2)||_0x55a447[_0x3de111(0x265)]=='canceled')_0x55a447[_0x3de111(0x265)]=_0x3de111(0x2b2);}),currentCoins['sort']((_0x1ae8f4,_0x191e5a)=>_0x1ae8f4[_0x2e2702(0x1fd)]<_0x191e5a[_0x2e2702(0x1fd)]?0x1:_0x191e5a['delta']<_0x1ae8f4[_0x2e2702(0x1fd)]?-0x1:0x0);const _0x334f5a=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x334f5a[_0x2e2702(0x2f2)],'usd':_0x334f5a[_0x2e2702(0x20d)],'portfolio':JSON[_0x2e2702(0x2a6)](currentCoins),'threshold':_0x2ecd7a},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x2e2702(0x241)])headlessMode({'portfolio':currentCoins,'threshold':_0x2ecd7a});else{if(lockOrders==ORDERS[_0x2e2702(0x240)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x2ecd7a});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x7bb6fb=getNormalizedPerformance();getStartingBalances(_0x7bb6fb),emitPerformance(_0x7bb6fb);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x54f3eb=getNormalizedPerformance();emitPerformance(_0x54f3eb),getStartingBalances(_0x54f3eb),logger['debug'](_0x2e2702(0x302));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x277955=_0x2bcc6e;if(!lastBalances)return;let _0x403c25=[],_0x341342,_0x7d31f9=JSON[_0x277955(0x22c)](lastBalances[_0x277955(0x297)]);_0x7d31f9[_0x277955(0x316)]((_0x152c41,_0x51da22)=>_0x152c41['coin']>_0x51da22['coin']?0x1:_0x51da22['coin']>_0x152c41['coin']?-0x1:0x0),_0x7d31f9[_0x277955(0x2fe)](_0x4bcc13=>{const _0x45ccad=_0x277955;let _0xcd8384={'coin':_0x4bcc13[_0x45ccad(0x1e5)],'number':_0x4bcc13['number'],'price':_0x4bcc13[_0x45ccad(0x2f3)]};_0x403c25[_0x45ccad(0x2db)](_0xcd8384);});const _0x3d052e=await getFiat();_0x341342={'date':lastBalances['time'][_0x277955(0x28a)]('\x20')[0x0],'eur':_0x3d052e[_0x277955(0x2f2)],'usd':_0x3d052e[_0x277955(0x20d)],'coins':_0x403c25};let _0x3d01f0=dbPerformance[_0x277955(0x1a9)](_0x277955(0x1dc))[_0x277955(0x27b)]({'date':_0x341342['date']})[_0x277955(0x1f7)]();_0x3d01f0?_0x341342[_0x277955(0x2de)]!=config['startdate']&&dbPerformance[_0x277955(0x1a9)](_0x277955(0x1dc))[_0x277955(0x27b)]({'date':_0x341342[_0x277955(0x2de)]})[_0x277955(0x1d6)](_0x341342)[_0x277955(0x232)]():dbPerformance[_0x277955(0x1a9)]('data')['push'](_0x341342)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4da72c=_0x2bcc6e;let _0x18379b=[];if(dbPerformance[_0x4da72c(0x1cc)](_0x4da72c(0x1dc))[_0x4da72c(0x1f7)]()){let _0x2ba174=dbPerformance['get'](_0x4da72c(0x1dc))['cloneDeep']()[_0x4da72c(0x308)](_0x4da72c(0x2de))[_0x4da72c(0x1f7)](),_0x4f7e82=[...config[_0x4da72c(0x305)]];_0x4f7e82[_0x4da72c(0x316)]((_0x496d12,_0x3ed93f)=>_0x496d12[_0x4da72c(0x2de)]>_0x3ed93f['date']?-0x1:_0x3ed93f[_0x4da72c(0x2de)]>_0x496d12[_0x4da72c(0x2de)]?0x1:0x0);let _0x68c902=0x1,_0x3acc14=[],_0x52f8d9=0x0;_0x2ba174[_0x4da72c(0x1c5)]()['reverse']()[_0x4da72c(0x2fe)]((_0x2d25ae,_0x51d4dd)=>{const _0x24a97a=_0x4da72c;if(_0x4f7e82[_0x52f8d9]){if(_0x2ba174[_0x2ba174[_0x24a97a(0x2b4)]-_0x51d4dd]&&_0x4f7e82[_0x52f8d9][_0x24a97a(0x2de)]==_0x2ba174[_0x2ba174[_0x24a97a(0x2b4)]-_0x51d4dd][_0x24a97a(0x2de)]){if(_0x51d4dd<_0x2ba174[_0x24a97a(0x2b4)]){let _0x1e5611=0x0,_0x1e7ae4=0x0;_0x2ba174[_0x2ba174[_0x24a97a(0x2b4)]-_0x51d4dd][_0x24a97a(0x1e0)][_0x24a97a(0x2fe)](_0xc1c941=>{const _0x1a35e4=_0x24a97a;_0x1e7ae4+=_0xc1c941['number']*_0xc1c941[_0x1a35e4(0x22d)];}),_0x4f7e82[_0x52f8d9][_0x24a97a(0x247)][_0x24a97a(0x2fe)](_0x5ad484=>{_0x1e5611+=_0x5ad484['number']*_0x5ad484['price'];}),_0x68c902*=_0x1e5611/(_0x1e7ae4-_0x1e5611)+0x1;}_0x52f8d9++;}}let _0x30002c=0x0;_0x2d25ae[_0x24a97a(0x1e0)][_0x24a97a(0x2fe)](_0x1e1dca=>{const _0x106ba3=_0x24a97a;_0x30002c+=_0x1e1dca['number']*_0x1e1dca[_0x106ba3(0x22d)];}),_0x3acc14[_0x2ba174['length']-_0x51d4dd-0x1]=_0x30002c*(_0x68c902-0x1);});let _0x5d79ec=[];_0x4f7e82=[...config[_0x4da72c(0x305)]]||[];let _0x1899bd=0x0;_0x52f8d9=0x0,_0x2ba174[_0x4da72c(0x2fe)]((_0x433f13,_0x320c4a)=>{const _0x1db17a=_0x4da72c;if(_0x4f7e82[_0x52f8d9]){const _0x371880=fns[_0x1db17a(0x22c)](_0x4f7e82[_0x52f8d9]['date'],_0x1db17a(0x1e8),new Date()),_0x164a8a=fns['parse'](_0x433f13[_0x1db17a(0x2de)],_0x1db17a(0x1e8),new Date());if(fns[_0x1db17a(0x270)](_0x371880,_0x164a8a)){let _0x383a86=0x0;_0x4f7e82[_0x52f8d9][_0x1db17a(0x247)]['forEach'](_0x5a766b=>{const _0x4c9492=_0x1db17a;!_0x5d79ec[_0x5a766b[_0x4c9492(0x1e5)]]?_0x5d79ec[_0x5a766b[_0x4c9492(0x1e5)]]=_0x5a766b[_0x4c9492(0x1ee)]:(_0x383a86=_0x5d79ec[_0x5a766b[_0x4c9492(0x1e5)]],_0x5d79ec[_0x5a766b[_0x4c9492(0x1e5)]]+=_0x5a766b[_0x4c9492(0x1ee)]);const _0x4ecb8e=_0x433f13[_0x4c9492(0x1e0)][_0x4c9492(0x27b)](_0x3ccd08=>_0x3ccd08[_0x4c9492(0x1e5)]==_0x5a766b[_0x4c9492(0x1e5)]);(!_0x4ecb8e||_0x4ecb8e['number']==0x0)&&(_0x1899bd+=(-_0x5a766b[_0x4c9492(0x1ee)]-_0x383a86)*_0x5a766b[_0x4c9492(0x22d)]);}),_0x52f8d9++;}}_0x433f13[_0x1db17a(0x1e0)][_0x1db17a(0x2fe)]((_0x586daf,_0x45d324)=>{const _0x4061a5=_0x1db17a;_0x5d79ec[_0x586daf[_0x4061a5(0x1e5)]]&&(_0x586daf['initial']=_0x5d79ec[_0x586daf[_0x4061a5(0x1e5)]]);}),_0x18379b[_0x1db17a(0x2db)]({'date':_0x433f13[_0x1db17a(0x2de)],'eur':_0x433f13[_0x1db17a(0x2f2)],'usd':_0x433f13[_0x1db17a(0x20d)],'offset':_0x3acc14[_0x320c4a],'netoffset':_0x1899bd,'coins':_0x433f13['coins']});});}return _0x18379b;}function emitPerformance(_0x2a20ac){const _0x4d002a=_0x2bcc6e;_0x2a20ac['length']!==0x0?(proxyEmit(_0x4d002a(0x298),_0x2a20ac),lastPerformanceEmitted=getDate()):proxyEmit(_0x4d002a(0x298),[]);}function getPerf(_0x5c9e9b,_0x2d76c4){const _0x215102=_0x2bcc6e;let _0x48f80c=0x0,_0xf3b301=0x0,_0x178561=0x0;_0x5c9e9b[_0x215102(0x1e0)][_0x215102(0x2fe)](_0x81d3a8=>{const _0x186436=_0x215102;_0x48f80c+=_0x81d3a8[_0x186436(0x1ee)]*_0x81d3a8[_0x186436(0x22d)];});_0x2d76c4&&(_0x48f80c+=_0x5c9e9b[_0x215102(0x2d0)]);if(config[_0x215102(0x1a1)]===_0x215102(0x292)||config[_0x215102(0x1a1)]===_0x215102(0x2e3))_0xf3b301=_0x48f80c*_0x5c9e9b[_0x215102(0x2f2)],_0x178561=_0x48f80c*_0x5c9e9b[_0x215102(0x20d)];else{if(config[_0x215102(0x1a1)]===_0x215102(0x2d1)||config[_0x215102(0x1a1)]===_0x215102(0x29f)||config[_0x215102(0x1a1)]===_0x215102(0x21b))_0xf3b301=_0x48f80c*_0x5c9e9b[_0x215102(0x2f2)]/_0x5c9e9b[_0x215102(0x20d)],_0x178561=_0x48f80c;else config[_0x215102(0x1a1)]==='EUR'&&(_0xf3b301=_0x48f80c,_0x178561=_0x48f80c*_0x5c9e9b[_0x215102(0x20d)]/_0x5c9e9b[_0x215102(0x2f2)]);}return[_0x48f80c,_0xf3b301,_0x178561];}function getKPIs(_0x59c3b7,_0x48fc9a=_0x2bcc6e(0x2e1)){const _0x261298=_0x2bcc6e,_0x54406a=config[_0x261298(0x1a1)],_0x5bf9de=lastBalances,_0xdf6bb=currentCoins,_0x68fe2f=getNormalizedPerformance(),_0x33a26a=_0x59c3b7===_0x261298(0x1a1)?_0x54406a:_0x59c3b7===_0x261298(0x318)||_0x59c3b7===_0x261298(0x23f)?_0x48fc9a:_0x261298(0x1e6)+_0x54406a,_0x49300f=_0x59c3b7==='net-basecoin'?_0x261298(0x2ef):_0x59c3b7===_0x261298(0x23f)?'Net\x20effect':_0x33a26a+_0x261298(0x1a5),_0x4222e2=_0x59c3b7===_0x261298(0x280)||_0x59c3b7===_0x261298(0x23f)?'Net\x20effect':_0x33a26a+_0x261298(0x312);let _0x3773b6=0x0;_0xdf6bb['forEach'](_0x12fde1=>{const _0x503d47=_0x261298;_0x3773b6+=_0x12fde1[_0x503d47(0x1ee)]*_0x12fde1[_0x503d47(0x2f3)];});if(_0x59c3b7===_0x261298(0x318)||_0x59c3b7===_0x261298(0x23f)){if(_0x54406a===_0x261298(0x292)||_0x54406a==='ETH')_0x3773b6=_0x3773b6*(_0x48fc9a===_0x261298(0x2e1)?_0x5bf9de[_0x261298(0x2f2)]:_0x5bf9de['usd']);else{if(_0x54406a===_0x261298(0x2d1)||_0x54406a==='USDT'||_0x54406a===_0x261298(0x21b))_0x3773b6=_0x3773b6*(_0x48fc9a==='EUR'?_0x5bf9de['eur']/_0x5bf9de['usd']:0x1);else _0x54406a==='EUR'&&(_0x3773b6=_0x3773b6*(_0x48fc9a===_0x261298(0x2e1)?0x1:_0x5bf9de['usd']/_0x5bf9de[_0x261298(0x2f2)]));}}let _0xaa8154;if(_0x3773b6!==0x0){if(_0x59c3b7===_0x261298(0x1a1))_0xaa8154=(_0x3773b6/startingBalances['basecoin']-0x1)*0x64;else{if(_0x48fc9a===_0x261298(0x2e1))_0xaa8154=(_0x3773b6/startingBalances[_0x261298(0x2f2)]-0x1)*0x64;else _0xaa8154=(_0x3773b6/startingBalances[_0x261298(0x20d)]-0x1)*0x64;}let _0x15d0a3=0x0;if(startingBalances[_0x261298(0x1e0)])_0xdf6bb[_0x261298(0x2fe)](_0x22714d=>{const _0x2d98d3=_0x261298;let _0x5c928b=startingBalances[_0x2d98d3(0x1e0)][_0x2d98d3(0x27b)](_0x546a7b=>_0x546a7b['coin']===_0x22714d[_0x2d98d3(0x1e5)]);if(_0x5c928b&&_0x5c928b[_0x2d98d3(0x1e5)]&&_0x22714d[_0x2d98d3(0x1ee)]!==0x0)_0x15d0a3+=_0x5c928b[_0x2d98d3(0x1ee)]*_0x22714d['last'];});let _0x415d60=0x0;if(_0x68fe2f[_0x261298(0x2b4)]!==0x0){let _0x2c024f=_0x68fe2f[_0x68fe2f[_0x261298(0x2b4)]-0x1];_0x415d60=_0x2c024f[_0x261298(0x1bc)];}_0x15d0a3-=_0x415d60;_0x59c3b7==='net-basecoin'&&(_0xaa8154=(_0x3773b6-_0x15d0a3)/startingBalances[_0x261298(0x1a1)]*0x64,_0x3773b6=_0x3773b6-_0x15d0a3);if(_0x59c3b7===_0x261298(0x23f)){let _0x3e1c6b=_0x48fc9a===_0x261298(0x2e1)?startingBalances[_0x261298(0x2f2)]:startingBalances['usd'];if(_0x54406a===_0x261298(0x292)||_0x54406a===_0x261298(0x2e3))_0x15d0a3=_0x48fc9a===_0x261298(0x2e1)?_0x15d0a3*_0x5bf9de[_0x261298(0x2f2)]:_0x15d0a3*_0x5bf9de[_0x261298(0x20d)];else{if(_0x54406a===_0x261298(0x2d1)||_0x54406a==='USDT'||_0x54406a===_0x261298(0x21b))_0x15d0a3=_0x48fc9a===_0x261298(0x2e1)?_0x15d0a3*_0x5bf9de[_0x261298(0x2f2)]/_0x5bf9de[_0x261298(0x20d)]:_0x15d0a3;else _0x54406a===_0x261298(0x2e1)&&(_0x15d0a3=_0x48fc9a===_0x261298(0x2e1)?_0x15d0a3:_0x15d0a3*_0x5bf9de[_0x261298(0x20d)]/_0x5bf9de[_0x261298(0x2f2)]);}_0xaa8154=(_0x3773b6-_0x15d0a3)/_0x3e1c6b*0x64,_0x3773b6=_0x3773b6-_0x15d0a3;}if(_0xaa8154){if(_0xaa8154<0x64)_0xaa8154=_0xaa8154[_0x261298(0x28d)](0x2);else{if(_0xaa8154<0x3e8)_0xaa8154=_0xaa8154[_0x261298(0x28d)](0x1);else _0xaa8154=_0xaa8154[_0x261298(0x28d)](0x0);}}else _0xaa8154=Number('0')[_0x261298(0x28d)](0x2);if(_0x3773b6){if(Math['abs'](_0x3773b6)<0.000001)_0x3773b6=_0x3773b6[_0x261298(0x28d)](0x2);else{if(Math[_0x261298(0x2ad)](_0x3773b6)<0.1)_0x3773b6=_0x3773b6[_0x261298(0x28d)](0x6);else{if(Math['abs'](_0x3773b6)<0x1)_0x3773b6=_0x3773b6[_0x261298(0x28d)](0x5);else{if(Math['abs'](_0x3773b6)<0xa)_0x3773b6=_0x3773b6[_0x261298(0x28d)](0x4);else{if(Math[_0x261298(0x2ad)](_0x3773b6)<0x64)_0x3773b6=_0x3773b6[_0x261298(0x28d)](0x3);else{if(Math[_0x261298(0x2ad)](_0x3773b6)<0x3e8)_0x3773b6=_0x3773b6[_0x261298(0x28d)](0x2);else _0x3773b6=_0x3773b6['toFixed'](0x2);}}}}}}else _0x3773b6=Number('0')[_0x261298(0x28d)](0x2);}else _0xaa8154=Number('0')[_0x261298(0x28d)](0x2);return{'value':_0x3773b6,'change':_0xaa8154,'leftTxt':_0x49300f,'rightTxt':_0x4222e2};}async function getStartingBalances(_0x309f51,_0x527b72=!![]){const _0x2b4075=_0x2bcc6e;if(_0x309f51[_0x2b4075(0x2b4)]!==0x0){const [_0x3acc88,_0x5232cd,_0x53c2ab]=getPerf(_0x309f51[0x0],!![]);let _0x505d9f=[];config[_0x2b4075(0x297)][_0x2b4075(0x2fe)](_0x5b5ab7=>{const _0x16e28e=_0x2b4075;let _0x1866c3=0x0,_0x18eaba;config[_0x16e28e(0x305)][_0x16e28e(0x2fe)](_0x5b113e=>{const _0x51b878=_0x16e28e;let _0x47b759=_0x5b113e['changes'][_0x51b878(0x27b)](_0x4ed22f=>_0x4ed22f['coin']==_0x5b5ab7['coin']);if(_0x47b759){_0x1866c3+=_0x47b759['number'];if(!_0x18eaba)_0x18eaba=_0x47b759['price'];}}),_0x505d9f[_0x16e28e(0x2db)]({'coin':_0x5b5ab7[_0x16e28e(0x1e5)],'number':_0x1866c3,'initialprice':_0x18eaba});});const _0x45b73d={'basecoin':_0x3acc88,'eur':_0x5232cd,'usd':_0x53c2ab,'coins':_0x505d9f};if(_0x527b72)proxyEmit(_0x2b4075(0x1c1),_0x45b73d);startingBalances=_0x45b73d;}}function headlessMode(_0x465112){const _0x4e0983=_0x2bcc6e;let _0x12e984=_0x465112[_0x4e0983(0x297)],_0x465204=_0x465112[_0x4e0983(0x222)],_0x3d73b8=[];for(let _0x3afe39 of _0x12e984){if(_0x3afe39[_0x4e0983(0x1e5)]!=config[_0x4e0983(0x1a1)]){if(_0x3afe39[_0x4e0983(0x1fd)]>=_0x465204/0x64){if(_0x3afe39[_0x4e0983(0x31f)])_0x3d73b8[_0x4e0983(0x2db)](_0x3afe39);}else{if(_0x3afe39[_0x4e0983(0x1fd)]<=-_0x465204/0x64){if(_0x3afe39[_0x4e0983(0x31f)])_0x3d73b8[_0x4e0983(0x2db)](_0x3afe39);}}}}_0x3d73b8[_0x4e0983(0x2b4)]>0x0&&placeOrder(_0x3d73b8);}function notifyBalance(_0x5ee253){const _0x3aa8bc=_0x2bcc6e;let _0x53fc37=_0x5ee253['portfolio'],_0x363d5d=_0x5ee253[_0x3aa8bc(0x222)],_0x53c9e3=[];for(let _0x5762ad of _0x53fc37){if(_0x5762ad[_0x3aa8bc(0x1e5)]!=config[_0x3aa8bc(0x1a1)]){if(_0x5762ad[_0x3aa8bc(0x1fd)]>=_0x363d5d/0x64){if(_0x5762ad[_0x3aa8bc(0x31f)])_0x53c9e3[_0x3aa8bc(0x2db)](_0x5762ad);}else{if(_0x5762ad[_0x3aa8bc(0x1fd)]<=-_0x363d5d/0x64){if(_0x5762ad['valid'])_0x53c9e3[_0x3aa8bc(0x2db)](_0x5762ad);}}}}if(_0x53c9e3[_0x3aa8bc(0x2b4)]>0x0){let _0x39097f=_0x53c9e3[_0x3aa8bc(0x1e4)](_0x3aa6cd=>_0x3aa6cd[_0x3aa8bc(0x1e5)]);_0x39097f[_0x3aa8bc(0x316)]();let _0x2edf40=_0x39097f[_0x3aa8bc(0x24d)](',\x20');if(!lastCoinsToBalance)logHistory(_0x3aa8bc(0x303),_0x3aa8bc(0x238));lastCoinsToBalance=_0x2edf40;}}function symbolToCoin(_0x4c6c0c){const _0x5e0ab2=_0x2bcc6e;let _0x15f1c6;if(_0x4c6c0c['includes']('/'+config[_0x5e0ab2(0x1a1)]))_0x15f1c6=_0x4c6c0c['replace']('/'+config['basecoin'],'');if(_0x4c6c0c[_0x5e0ab2(0x2f0)](config[_0x5e0ab2(0x1a1)]+'/'))_0x15f1c6=_0x4c6c0c[_0x5e0ab2(0x1ae)](config[_0x5e0ab2(0x1a1)]+'/','');return _0x15f1c6;}async function unlockOrders(){const _0x4eb3aa=_0x2bcc6e;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x4eb3aa(0x277)](_0x4eb3aa(0x1e7)),lockOrders=ORDERS[_0x4eb3aa(0x23a)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x281c19=await getCoins();[currentCoins,currentCoinsAll]=_0x281c19,validateOrdersState=_0x4eb3aa(0x1fb),persistOpenOrders([]),lockOrders=ORDERS[_0x4eb3aa(0x240)],logger['debug'](_0x4eb3aa(0x282));}}async function validateOrders(_0x141695){const _0x31a866=_0x2bcc6e;if(_0x141695)validateOrdersState=_0x141695;logger['debug'](_0x31a866(0x242)+validateOrdersState+_0x31a866(0x2c0)+(lockOrders==0x1?_0x31a866(0x30d):lockOrders==0x2?_0x31a866(0x1d9):_0x31a866(0x21f)));let _0x5d6b41=[],_0x2a0653=config[_0x31a866(0x31a)]==_0x31a866(0x224)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x31a866(0x2c4)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x31a866(0x22a)])return;logger['debug'](_0x31a866(0x2d8)+validateOrdersState),lastOrders[_0x31a866(0x2fe)](_0x8bac13=>{const _0xd84512=_0x31a866;let _0x45bff1=![];_0x8bac13[_0xd84512(0x2a2)]>0x0&&(_0x45bff1=!![]),_0x5d6b41[_0xd84512(0x2db)](_0x45bff1),_0x45bff1&&config[_0xd84512(0x31a)]!='market'&&logHistory('order',_0xd84512(0x1ea)+_0x8bac13[_0xd84512(0x2b7)]+'\x20'+_0x8bac13[_0xd84512(0x2f5)]+'\x20#'+formatResult(_0x8bac13['filled'],0x8)+'\x20@'+formatResult(_0x8bac13[_0xd84512(0x22d)],0x8));}),_0x5d6b41[_0x31a866(0x2fe)]((_0x216143,_0x257fa8)=>{const _0x5ebd6a=_0x31a866;if(_0x216143)lastOrders[_0x5ebd6a(0x2ff)](_0x257fa8,0x1);}),persistOpenOrders(lastOrders);const _0x2617a4=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x31a866(0x235);if(validateOrdersState==_0x31a866(0x1fb)){validateOrdersState=_0x31a866(0x1d0);if(_0x5d6b41['includes'](![])){if(config[_0x31a866(0x31a)]==_0x31a866(0x224)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x31a866(0x1d0)){if(_0x5d6b41[_0x31a866(0x2f0)](![])){}else{if(allOrdersPlaced){if(config[_0x31a866(0x31a)]==_0x31a866(0x224)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x31a866(0x274))_0x5d6b41[_0x31a866(0x2f0)](![])&&(config[_0x31a866(0x31a)]==_0x31a866(0x224)?logHistory(_0x31a866(0x1fe),_0x31a866(0x25f)+Math['round'](_0x2a0653*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x2617a4):(await cancelOrders(),logHistory(_0x31a866(0x1fe),_0x31a866(0x1dd)+Math['round'](_0x2a0653*validateOrderInterval/0xea60)+_0x31a866(0x271)+_0x2617a4))),await unlockOrders();else{if(validateOrdersState==_0x31a866(0x212)){if(config['ordertype']!='market')logHistory('success',_0x31a866(0x1b3)+_0x2617a4);await unlockOrders();}}}}}async function cancelOrders(){const _0x42bee6=_0x2bcc6e;lastOrders[_0x42bee6(0x2fe)](async _0x3d0794=>{const _0x4a5c9c=_0x42bee6;try{const _0x57294b=await exchange[_0x4a5c9c(0x1da)](_0x3d0794[_0x4a5c9c(0x293)],_0x3d0794[_0x4a5c9c(0x2b7)]);}catch(_0x1bed82){if(_0x1bed82[_0x4a5c9c(0x1ab)]()[_0x4a5c9c(0x2f0)]('OrderNotFound')){}else await handleError(_0x1bed82,_0x4a5c9c(0x2f6));}});}async function initCoinResults(){const _0x339b76=_0x2bcc6e;let _0x544706=[];config[_0x339b76(0x297)]['forEach'](_0x5c76db=>{const _0x136c8c=_0x339b76;if(!_0x5c76db['excluded']&&_0x5c76db['coin']!=config[_0x136c8c(0x1a1)]){let _0x2ba65c=dbCoinResults[_0x136c8c(0x1a9)]('coins')['find']({'coin':_0x5c76db[_0x136c8c(0x1e5)]})[_0x136c8c(0x1f7)]();if(!_0x2ba65c){const _0x8a3ea4=currentCoins[_0x136c8c(0x27b)](_0x1fa0b5=>_0x1fa0b5[_0x136c8c(0x1e5)]==_0x5c76db['coin']),_0x3cf4ae=global[_0x136c8c(0x28f)][noslash(_0x5c76db['symbol'])];let _0x52c5f5=_0x8a3ea4?_0x8a3ea4[_0x136c8c(0x1ee)]:null,_0x75da41=_0x5c76db[_0x136c8c(0x1c9)]?0x1/_0x3cf4ae:_0x3cf4ae,_0x2f5d6f;config[_0x136c8c(0x305)][_0x136c8c(0x2fe)](_0x2a36db=>{const _0x2e8ff1=_0x136c8c;!_0x2f5d6f&&(_0x2f5d6f=_0x2a36db[_0x2e8ff1(0x247)][_0x2e8ff1(0x27b)](_0x4408e0=>_0x4408e0[_0x2e8ff1(0x1e5)]==_0x5c76db[_0x2e8ff1(0x1e5)]),_0x2f5d6f&&(_0x52c5f5=_0x2f5d6f[_0x2e8ff1(0x1ee)],_0x75da41=_0x2f5d6f[_0x2e8ff1(0x22d)]));}),_0x544706[_0x136c8c(0x2db)]({'coin':_0x5c76db[_0x136c8c(0x1e5)],'number':_0x52c5f5,'price':_0x75da41});}}}),_0x544706[_0x339b76(0x2fe)](_0x1b6a29=>{const _0x321d56=_0x339b76,_0x25bc67={'coin':_0x1b6a29['coin'],'number':_0x1b6a29[_0x321d56(0x1ee)],'breakeven':_0x1b6a29[_0x321d56(0x22d)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x321d56(0x1a9)]('coins')[_0x321d56(0x2db)](_0x25bc67)[_0x321d56(0x232)]();});}async function updateCoinResults(_0x464e96,_0x55633f=![]){const _0x297c16=_0x2bcc6e;let _0x5e1c78,_0x4f40ae,_0x1db8d0,_0x407a8c,_0x235e89,_0x4146d7,_0x151a6e=dbCoinResults[_0x297c16(0x1a9)](_0x297c16(0x1e0))['find']({'coin':_0x464e96[_0x297c16(0x1e5)]})['value']();!_0x151a6e&&await initCoinResults();_0x464e96['reverse']&&(_0x4146d7={'filled':_0x464e96[_0x297c16(0x2a2)]*_0x464e96[_0x297c16(0x22d)],'amount':_0x464e96[_0x297c16(0x2a2)]*_0x464e96[_0x297c16(0x22d)],'side':_0x464e96[_0x297c16(0x2f5)]=='sell'?_0x297c16(0x21a):_0x297c16(0x1c6),'price':0x1/_0x464e96[_0x297c16(0x22d)]},_0x464e96={..._0x464e96,..._0x4146d7});_0x55633f?_0x4f40ae=_0x464e96[_0x297c16(0x2f5)]==_0x297c16(0x21a)?_0x151a6e['number']+_0x464e96[_0x297c16(0x2a2)]:_0x151a6e['number']-_0x464e96[_0x297c16(0x2a2)]:_0x4f40ae=await getCoinNumber(_0x464e96[_0x297c16(0x1e5)]);if(_0x464e96[_0x297c16(0x2c5)]&&_0x464e96[_0x297c16(0x2c5)][_0x297c16(0x1cd)]==config[_0x297c16(0x1a1)])_0x5e1c78=_0x464e96[_0x297c16(0x2c5)][_0x297c16(0x1cb)];else{if(_0x464e96[_0x297c16(0x2c5)]&&_0x464e96[_0x297c16(0x2c5)][_0x297c16(0x1cd)]==_0x297c16(0x1a7)&&!_0x55633f)_0x5e1c78=_0x464e96['fee'][_0x297c16(0x1cb)]*global[_0x297c16(0x28f)][_0x297c16(0x1a7)+config[_0x297c16(0x1a1)]];else _0x5e1c78=defaultFee*_0x464e96['filled']*_0x464e96[_0x297c16(0x22d)];}_0x464e96[_0x297c16(0x2f5)]==_0x297c16(0x21a)?(_0x1db8d0=_0x4f40ae!=0x0?(_0x151a6e['breakeven']*_0x151a6e['number']+_0x464e96['price']*(_0x4f40ae-_0x151a6e[_0x297c16(0x1ee)])+_0x5e1c78)/_0x4f40ae:0x0,_0x407a8c=_0x151a6e[_0x297c16(0x1f3)]):(_0x1db8d0=_0x4f40ae!=0x0?(_0x151a6e[_0x297c16(0x200)]*_0x151a6e[_0x297c16(0x1ee)]-_0x464e96[_0x297c16(0x22d)]*(_0x151a6e[_0x297c16(0x1ee)]-_0x4f40ae)+_0x5e1c78)/_0x4f40ae:0x0,_0x407a8c=_0x151a6e[_0x297c16(0x1f3)]+(_0x464e96[_0x297c16(0x22d)]-_0x151a6e[_0x297c16(0x200)])*_0x464e96[_0x297c16(0x2a2)]);_0x235e89=(_0x464e96[_0x297c16(0x22d)]-_0x1db8d0-_0x5e1c78/_0x464e96['filled'])*_0x4f40ae;let _0x3dc271={'coin':_0x464e96[_0x297c16(0x1e5)],'number':_0x4f40ae,'breakeven':formatResult(_0x1db8d0,0x8),'realized':formatResult(_0x407a8c,0x8),'unrealized':formatResult(_0x235e89,0x8),'fees':formatResult(_0x151a6e[_0x297c16(0x24e)]+_0x5e1c78,0x8),'sells':_0x464e96[_0x297c16(0x2f5)]==_0x297c16(0x1c6)?_0x151a6e[_0x297c16(0x1bd)]+0x1:_0x151a6e[_0x297c16(0x1bd)],'buys':_0x464e96[_0x297c16(0x2f5)]==_0x297c16(0x21a)?_0x151a6e[_0x297c16(0x286)]+0x1:_0x151a6e['buys']};dbCoinResults['get']('coins')['find']({'coin':_0x464e96[_0x297c16(0x1e5)]})[_0x297c16(0x1d6)](_0x3dc271)[_0x297c16(0x232)]();if(!_0x55633f){if(_0x464e96[_0x297c16(0x2c5)]&&_0x464e96[_0x297c16(0x2c5)][_0x297c16(0x1cd)]=='BNB'){const _0x10ea76=currentCoins[_0x297c16(0x27b)](_0x1aa7f3=>_0x1aa7f3[_0x297c16(0x1e5)]==_0x297c16(0x1a7));if(_0x10ea76){let _0x95c20c=dbCoinResults[_0x297c16(0x1a9)](_0x297c16(0x1e0))[_0x297c16(0x27b)]({'coin':_0x297c16(0x1a7)})[_0x297c16(0x1f7)]();_0x3dc271={..._0x95c20c,'number':_0x10ea76[_0x297c16(0x1ee)]},dbCoinResults[_0x297c16(0x1a9)](_0x297c16(0x1e0))['find']({'coin':'BNB'})[_0x297c16(0x1d6)](_0x3dc271)[_0x297c16(0x232)]();}}}}async function placeOrder(_0x255663){const _0x5a6b29=_0x2bcc6e,_0xc63b03=config['ordertype']==_0x5a6b29(0x224)?_0x5a6b29(0x224):_0x5a6b29(0x26f);if(lockOrders==ORDERS[_0x5a6b29(0x240)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5a6b29(0x22a)],allOrdersPlaced=![],validateOrdersState=_0x5a6b29(0x1fb),lastOrders=[];for(const _0x11e45c of _0x255663){let _0x475782,_0x5cebf7,_0x194ef1,_0x3987b3,_0x289b8f,_0x5dc522=_0x11e45c[_0x5a6b29(0x2b7)];try{const _0x4f13f7=await exchange['fetchTicker'](_0x5dc522);_0x475782=_0x11e45c[_0x5a6b29(0x1c9)]?0x1/_0x11e45c[_0x5a6b29(0x2f3)]:_0x11e45c['last'],_0x5cebf7=_0x4f13f7[_0x5a6b29(0x2bc)],_0x194ef1=_0x4f13f7['ask'];_0x11e45c[_0x5a6b29(0x1c9)]?(_0x3987b3=_0x11e45c[_0x5a6b29(0x2f5)]==_0x5a6b29(0x21a)?'sell':'buy',_0x289b8f=Math[_0x5a6b29(0x2ad)](_0x11e45c[_0x5a6b29(0x1a2)])/_0x475782):(_0x3987b3=_0x11e45c['side'],_0x289b8f=Math[_0x5a6b29(0x2ad)](_0x11e45c[_0x5a6b29(0x1a2)]));_0xc63b03==_0x5a6b29(0x26f)&&(config['ordertype']=='limit-high'&&(_0x475782=_0x3987b3==_0x5a6b29(0x21a)?_0x5cebf7:_0x194ef1),config[_0x5a6b29(0x31a)]==_0x5a6b29(0x1b0)&&(_0x475782=_0x3987b3==_0x5a6b29(0x21a)?_0x194ef1:_0x5cebf7));_0x289b8f=formatResult(_0x289b8f,0x8),_0x475782=formatResult(_0x475782,0x8);const _0x442589=_0x3987b3==_0x5a6b29(0x1c6)?config[_0x5a6b29(0x284)]?String['fromCodePoint']('0x'+config[_0x5a6b29(0x284)])+'\x20':'':config[_0x5a6b29(0x2ed)]?String[_0x5a6b29(0x23c)]('0x'+config['emojibuy'])+'\x20':'',_0x200b44=_0xc63b03==_0x5a6b29(0x224)?'Market':config[_0x5a6b29(0x31a)]==_0x5a6b29(0x1f5)?_0x5a6b29(0x213):_0x5a6b29(0x299),_0x31fe8c=new Date()[_0x5a6b29(0x229)]()[_0x5a6b29(0x1ab)]()[_0x5a6b29(0x1c5)](-0x6)+'-'+Math['random']()[_0x5a6b29(0x1ab)]()['slice'](-0x6);lastOrders[_0x5a6b29(0x2db)]({'customId':_0x31fe8c,'symbol':_0x5dc522,'coin':_0x11e45c['coin'],'side':_0x3987b3,'reverse':_0x11e45c['reverse'],'filled':0x0});if(_0xc63b03==_0x5a6b29(0x224))logHistory(_0x5a6b29(0x2ea),''+_0x442589+_0x200b44+_0x5a6b29(0x1b8)+_0x5dc522+'\x20'+_0x3987b3+'\x20#'+formatResult(_0x289b8f,0x8)+'\x20@'+formatResult(_0x475782,0x8));else logHistory('order',''+_0x442589+_0x200b44+_0x5a6b29(0x1b8)+_0x5dc522+'\x20'+_0x3987b3+'\x20#'+formatResult(_0x289b8f,0x8)+'\x20@'+formatResult(_0x475782,0x8));const _0x292f33=await exchange['createOrder'](_0x5dc522,_0xc63b03,_0x3987b3,_0x289b8f,_0x475782,{'clientOrderId':_0x31fe8c}),_0x37f225=lastOrders[_0x5a6b29(0x2b4)]-0x1;_0x37f225>=0x0&&lastOrders[_0x37f225][_0x5a6b29(0x30c)]==_0x31fe8c&&(lastOrders[_0x37f225]={...lastOrders[_0x37f225],'orderId':_0x292f33['id'],'amount':_0x292f33[_0x5a6b29(0x1de)],'price':_0x292f33[_0x5a6b29(0x22d)],'fee':_0x292f33[_0x5a6b29(0x2c5)]});if(config['cooldown']!=0x0){let _0x4c774a=null;if(cooldownTracker[_0x5a6b29(0x2b4)]==config[_0x5a6b29(0x291)]-0x1)_0x4c774a=cooldownTracker[_0x5a6b29(0x267)]();const _0x18124c=getTimeStamp();cooldownTracker[_0x5a6b29(0x2db)](_0x18124c);if(_0x4c774a){const _0x27039c=fns['differenceInSeconds'](new Date(_0x18124c),new Date(_0x4c774a));if(_0x27039c<cooldownInterval){logHistory(_0x5a6b29(0x2e8),'Executed\x20'+config['cooldown']+_0x5a6b29(0x208)+cooldownInterval/0x3c+_0x5a6b29(0x1be)+cooldownPeriod/(0xe10*0x3e8)+_0x5a6b29(0x276)),coolingDown=!![];break;}}}}catch(_0x50f273){if(_0x50f273['toString']()['includes'](_0x5a6b29(0x289)))lastOrders=lastOrders[_0x5a6b29(0x311)](_0x52fefe=>_0x52fefe['symbol']!=_0x5dc522),await pauseBot(_0x5a6b29(0x1a4)+_0x5dc522);else _0x50f273[_0x5a6b29(0x1ab)]()[_0x5a6b29(0x2f0)](_0x5a6b29(0x2c6))?(lastOrders=lastOrders['filter'](_0x34b7ca=>_0x34b7ca[_0x5a6b29(0x2b7)]!=_0x5dc522),await pauseBot(_0x5a6b29(0x1ed)+_0x5dc522)):(lastOrders=lastOrders[_0x5a6b29(0x311)](_0x990af3=>_0x990af3[_0x5a6b29(0x2b7)]!=_0x5dc522),await handleError(_0x50f273,_0x5a6b29(0x246),_0x5dc522));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5a6b29(0x2b4)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x4be3fe=config[_0x5a6b29(0x31a)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x5a6b29(0x2c4)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x43adac=_0x5a6b29;validateOrders(_0x43adac(0x274));},_0x4be3fe);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5a6b29(0x1fe),_0x5a6b29(0x2b5)));}else{if(coolingDown)!config[_0x5a6b29(0x241)]&&logHistory(_0x5a6b29(0x2e8),_0x5a6b29(0x21d));else lockOrders!=ORDERS[_0x5a6b29(0x240)]&&(!config['headless']&&(config[_0x5a6b29(0x31a)]==_0x5a6b29(0x224)?logHistory(_0x5a6b29(0x2e8),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x5a6b29(0x2e8),_0x5a6b29(0x2af))));}}function persistOpenOrders(_0x3e0d05){const _0x2a3da8=_0x2bcc6e,_0x178b52={...config,'openOrders':_0x3e0d05};let _0x53bc34=dbConfig[_0x2a3da8(0x1a9)](_0x2a3da8(0x217))[_0x2a3da8(0x27b)]({'botID':botID})['value']();_0x53bc34&&dbConfig[_0x2a3da8(0x1a9)](_0x2a3da8(0x217))[_0x2a3da8(0x27b)]({'botID':botID})[_0x2a3da8(0x1d6)](_0x178b52)['write']();}function restoreOrders(){const _0x25c866=_0x2bcc6e;let _0x33fd5e;config[_0x25c866(0x2cb)]&&allOpenOrders[_0x25c866(0x2fe)](_0x5b78a2=>{const _0x2be6eb=_0x25c866,_0x25c451=config[_0x2be6eb(0x2cb)]['find'](_0x7cfa5a=>_0x7cfa5a['orderId']==_0x5b78a2['id']);_0x25c451&&(lastOrders[_0x2be6eb(0x2db)](_0x25c451),_0x33fd5e=_0x5b78a2[_0x2be6eb(0x230)]);});if(lastOrders[_0x25c866(0x2b4)]>0x0){lockOrders=ORDERS[_0x25c866(0x22a)],validateOrdersState=_0x25c866(0x1d0),allOrdersPlaced=!![];const _0x3cea78=new Date()[_0x25c866(0x229)](),_0x9cfa3c=config[_0x25c866(0x31a)]==_0x25c866(0x224)?validateOrderTimeout*0x3c*0x3e8:config[_0x25c866(0x2c4)]*0x3c*0x3e8;if(_0x33fd5e+_0x9cfa3c>_0x3cea78){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x37aea8=_0x25c866;validateOrders(_0x37aea8(0x274));},_0x33fd5e+_0x9cfa3c-_0x3cea78);}else validateOrders(_0x25c866(0x274));}}async function sendMetricsTelegram(){const _0x295dc8=_0x2bcc6e;if(!coinsLoaded){process[_0x295dc8(0x31e)]({'telegrammsg':_0x295dc8(0x22e)},_0x18632c=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x20e95a='';if(config['showname'])_0x20e95a=_0x295dc8(0x1eb)+config[_0x295dc8(0x2f4)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x20e95a='<b>Bot\x20'+botID+_0x295dc8(0x251);const _0x76e360=getKPIs(_0x295dc8(0x1a1)),_0x716c44=getKPIs('fiat',config[_0x295dc8(0x318)]),_0x5855a7=getKPIs(_0x295dc8(0x280)),_0xa8dc80=getKPIs('net-fiat',config[_0x295dc8(0x318)]);_0x20e95a+=_0x295dc8(0x2f9),_0x20e95a+=_0x76e360[_0x295dc8(0x29b)]+_0x295dc8(0x2cf)+_0x76e360[_0x295dc8(0x1f7)]+'\x0a',_0x20e95a+=_0x76e360['rightTxt']+':\x20'+_0x76e360[_0x295dc8(0x258)]+'%\x0a',_0x20e95a+=_0x716c44['leftTxt']+_0x295dc8(0x2cf)+_0x716c44[_0x295dc8(0x1f7)]+'\x0a',_0x20e95a+=_0x716c44[_0x295dc8(0x283)]+':\x20'+_0x716c44[_0x295dc8(0x258)]+'%\x0a',_0x20e95a+=_0x5855a7[_0x295dc8(0x29b)]+':\x20'+_0x5855a7[_0x295dc8(0x1f7)]+'\x20('+config[_0x295dc8(0x1a1)]+')\x0a',_0x20e95a+=_0x5855a7[_0x295dc8(0x283)]+':\x20'+_0x5855a7['change']+'%\x20('+config[_0x295dc8(0x1a1)]+')\x0a',_0x20e95a+=_0xa8dc80[_0x295dc8(0x29b)]+':\x20'+_0xa8dc80[_0x295dc8(0x1f7)]+'\x20('+config['fiat']+')\x0a',_0x20e95a+=_0xa8dc80[_0x295dc8(0x283)]+':\x20'+_0xa8dc80['change']+_0x295dc8(0x1a8)+config[_0x295dc8(0x318)]+')\x0a',_0x20e95a+='</pre>',process[_0x295dc8(0x31e)]({'telegrammsg':_0x20e95a},_0x10847f=>{});}async function sendPortfolioTelegram(){const _0x3de6cf=_0x2bcc6e;if(!coinsLoaded){process['send']({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x1077dd=>{});return;}let _0x3ecbae='';if(config['showname'])_0x3ecbae=_0x3de6cf(0x1eb)+config[_0x3de6cf(0x2f4)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x3ecbae=_0x3de6cf(0x2cc)+botID+_0x3de6cf(0x1b1);_0x3ecbae+=_0x3de6cf(0x2f9),_0x3ecbae+=_0x3de6cf(0x20c),_0x3ecbae+=_0x3de6cf(0x206),_0x3ecbae+=_0x3de6cf(0x20c),currentCoins['forEach'](_0x429cc1=>{const _0x3ce470=_0x3de6cf;_0x3ecbae+=_0x429cc1[_0x3ce470(0x1e5)][_0x3ce470(0x279)](0x7)+'|\x20'+formatPad(_0x429cc1[_0x3ce470(0x1b5)],0x2,0x6)+'|\x20'+formatPad(_0x429cc1[_0x3ce470(0x31b)],0x2,0x6)+'|\x20'+formatPad(_0x429cc1[_0x3ce470(0x1fd)]*0x64,0x2,0x6)+'\x0a';}),_0x3ecbae+='</pre>',process[_0x3de6cf(0x31e)]({'telegrammsg':_0x3ecbae},_0x2784da=>{});}function formatPad(_0x12b00,_0x6465fa,_0x58f8b6){const _0x445278=formatResultString(_0x12b00,_0x6465fa);return _0x445278?_0x445278['padStart'](_0x58f8b6):''['padStart'](_0x58f8b6);}function logHistory(_0x128dcb,_0x495a69,_0x28d273=''){const _0x592130=_0x2bcc6e;let _0x733626={'time':getTimeStamp(),'type':_0x128dcb,'event':_0x495a69};dbLogs[_0x592130(0x1a9)]('logs')[_0x592130(0x2db)](_0x733626)[_0x592130(0x232)]();if(_0x28d273=='')_0x28d273=_0x495a69;proxyEmit('event',{'log':_0x733626,'summary':_0x28d273}),process[_0x592130(0x31e)]({'telegram':{..._0x733626,'botname':config[_0x592130(0x2f4)],'showname':config[_0x592130(0x2f8)]}},_0x17d440=>{}),logger[_0x592130(0x315)](''+_0x733626[_0x592130(0x236)]);}function emitHistory(_0x36c1b4={}){const _0xd9eb02=_0x2bcc6e;Object['keys'](_0x36c1b4)[_0xd9eb02(0x2b4)]==0x0&&(_0x36c1b4={'type':['order',_0xd9eb02(0x236)],'event':'','page':0x1});if(_0x36c1b4['type']['includes']('event'))_0x36c1b4[_0xd9eb02(0x2dd)][_0xd9eb02(0x2ff)](_0x36c1b4[_0xd9eb02(0x2dd)][_0xd9eb02(0x25b)]('event'),0x1,_0xd9eb02(0x2e8),_0xd9eb02(0x303),_0xd9eb02(0x1fe));if(dbLogs[_0xd9eb02(0x1cc)](_0xd9eb02(0x21c))['value']()){let _0x5812f4=dbLogs[_0xd9eb02(0x1a9)](_0xd9eb02(0x21c))[_0xd9eb02(0x311)](_0x78e3d=>{const _0x3f39db=_0xd9eb02;if(_0x36c1b4[_0x3f39db(0x2dd)]['length']==0x0)return![];else return _0x36c1b4[_0x3f39db(0x2dd)][_0x3f39db(0x2f0)](_0x78e3d[_0x3f39db(0x2dd)]);})[_0xd9eb02(0x311)](_0x5199ea=>{const _0x3ae7f9=_0xd9eb02;if(_0x36c1b4[_0x3ae7f9(0x236)]=='')return!![];else return _0x5199ea['event'][_0x3ae7f9(0x31c)]()[_0x3ae7f9(0x2f0)](_0x36c1b4['event'][_0x3ae7f9(0x31c)]());})['sortBy'](_0xd9eb02(0x1c3)),_0x13ad53=_0x5812f4[_0xd9eb02(0x1f7)]()['length'];_0x5812f4=_0x5812f4[_0xd9eb02(0x1c9)]()[_0xd9eb02(0x1c5)]((_0x36c1b4['page']-0x1)*logPageSize,_0x36c1b4[_0xd9eb02(0x24f)]*logPageSize-0x1)['reverse']()[_0xd9eb02(0x1f7)](),proxyEmit(_0xd9eb02(0x205),{'logs':_0x5812f4,'total':_0x13ad53});}else proxyEmit(_0xd9eb02(0x205),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x3d9ebf){const _0x1178f7=_0x2bcc6e;if(dbLogs['has'](_0x1178f7(0x21c))[_0x1178f7(0x1f7)]()){const _0x2064c2=dbLogs['get'](_0x1178f7(0x21c))['sortBy'](_0x1178f7(0x1c3))[_0x1178f7(0x311)](_0x4cf351=>{const _0x2838ea=_0x1178f7;return _0x4cf351[_0x2838ea(0x2dd)]=='order';})[_0x1178f7(0x1f7)]();dbLogs[_0x1178f7(0x1a9)](_0x1178f7(0x21c))[_0x1178f7(0x1f8)]()[_0x1178f7(0x232)](),dbLogs[_0x1178f7(0x1a9)]('logs')['assign'](_0x2064c2)[_0x1178f7(0x232)](),emitHistory(_0x3d9ebf);}}async function pauseBot(_0x3789b3=''){const _0x5709cf=_0x2bcc6e,_0x5abe91=new Date()[_0x5709cf(0x229)]();if(!lastErrorShown||_0x5abe91-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x5abe91;!lastBotPause?(lastBotPause=_0x5abe91,consecutivePauses=0x1):(_0x5abe91-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process['send']({'stop':'restart'},_0x574037=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x5709cf(0x229)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x3789b3)_0x3789b3+=_0x5709cf(0x1e2);logHistory(_0x5709cf(0x2e8),_0x3789b3+_0x5709cf(0x307)+pauseBotInterval/0xea60+_0x5709cf(0x1c8)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x17f7b8=_0x2bcc6e;process['send']({'stop':_0x17f7b8(0x216)},_0x30a597=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2b2cfa,_0x59d6a9){const _0x2f005e=_0x2bcc6e;if(_0x2b2cfa[_0x2f005e(0x1ab)]()[_0x2f005e(0x2f0)](_0x2f005e(0x254)))return logHistory(_0x2f005e(0x2e8),config[_0x2f005e(0x28e)]+_0x2f005e(0x21e)),![];else{if(_0x2b2cfa['toString']()[_0x2f005e(0x2f0)](_0x2f005e(0x278)))return logHistory(_0x2f005e(0x2e8),config[_0x2f005e(0x28e)]+_0x2f005e(0x281)),![];else{if(_0x2b2cfa[_0x2f005e(0x1ab)]()[_0x2f005e(0x2f0)](_0x2f005e(0x2fb)))return logHistory(_0x2f005e(0x2e8),config[_0x2f005e(0x28e)]+_0x2f005e(0x225)),logHistory('error',_0x2f005e(0x1d1)),![];else await handleError(_0x2b2cfa,_0x59d6a9);}}}async function handleError(_0x4d90bd,_0x26a7c7,_0x352cd5=''){const _0x5c6837=_0x2bcc6e,_0x1afdf4=config['exchange']||_0x5c6837(0x2a9);if(_0x4d90bd[_0x5c6837(0x1ab)]()['includes'](_0x5c6837(0x237)))await pauseBot(config['exchange']+_0x5c6837(0x2d4));else{if(_0x4d90bd['toString']()[_0x5c6837(0x2f0)](_0x5c6837(0x29a)))await pauseBot(config['exchange']+_0x5c6837(0x2ba));else{if(_0x4d90bd['toString']()[_0x5c6837(0x2f0)]('RequestTimeout'))await pauseBot(config[_0x5c6837(0x28e)]+_0x5c6837(0x1f2));else{if(_0x4d90bd[_0x5c6837(0x1ab)]()[_0x5c6837(0x2f0)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006'))await pauseBot(config['exchange']+'\x20closed\x20the\x20connection');else{if(_0x4d90bd[_0x5c6837(0x1ab)]()[_0x5c6837(0x2f0)](_0x5c6837(0x26e)))logHistory(_0x5c6837(0x2e8),_0x26a7c7+_0x5c6837(0x203)),logHistory(_0x5c6837(0x2e8),_0x5c6837(0x27e)),await killBot();else{if(_0x4d90bd[_0x5c6837(0x1ab)]()[_0x5c6837(0x2f0)]('InvalidNonce'))logHistory('error',_0x26a7c7+_0x5c6837(0x1db)),logHistory('error',_0x5c6837(0x27e)),await killBot();else{if(_0x4d90bd[_0x5c6837(0x1ab)]()['includes'](_0x5c6837(0x254)))logHistory(_0x5c6837(0x2e8),_0x26a7c7+_0x5c6837(0x1e2)+config[_0x5c6837(0x28e)]+_0x5c6837(0x2c3)),logHistory(_0x5c6837(0x2e8),_0x5c6837(0x27e)),await killBot();else{if(_0x4d90bd['toString']()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x5c6837(0x2e8),_0x26a7c7+'\x20|\x20'+config[_0x5c6837(0x28e)]+'\x20API\x20secret\x20is\x20invalid'),logHistory('error',_0x5c6837(0x27e)),await killBot();else{if(_0x4d90bd[_0x5c6837(0x1ab)]()['includes'](_0x5c6837(0x2fb)))logHistory(_0x5c6837(0x2e8),_0x26a7c7+_0x5c6837(0x1e2)+config[_0x5c6837(0x28e)]+_0x5c6837(0x2aa)),logHistory(_0x5c6837(0x2e8),_0x5c6837(0x27e)),await killBot();else _0x4d90bd[_0x5c6837(0x1ab)]()[_0x5c6837(0x2f0)]('InsufficientFunds')?logHistory('error',_0x26a7c7+_0x5c6837(0x2b8)+_0x352cd5):(logger['full'](_0x26a7c7+'\x20|\x20Error\x20details:\x20',_0x4d90bd),await pauseBot(_0x5c6837(0x31d)));}}}}}}}}}function formatResult(_0x552f35,_0x1b0b3c){return parseFloat(_0x552f35['toFixed'](_0x1b0b3c));}function formatResultTruncate(_0x57a627,_0x1d1488){const _0x25a2de=_0x2bcc6e;let _0x5164b4=formatResultString(_0x57a627,0xa),_0x38afad=_0x5164b4['indexOf']('.');return _0x38afad!=-0x1&&(_0x5164b4=_0x5164b4[_0x25a2de(0x1c5)](0x0,_0x38afad+_0x1d1488+0x1)),Number(_0x5164b4);}function formatResultString(_0x299161,_0xc4e79a){const _0x934979=_0x2bcc6e;let _0x4eaba3;if(!(''+_0x299161)['includes']('e'))_0x4eaba3=+(Math[_0x934979(0x220)](_0x299161+'e+'+_0xc4e79a)+'e-'+_0xc4e79a);else{let _0x2c853d=(''+_0x299161)[_0x934979(0x28a)]('e'),_0x1e5912='';+_0x2c853d[0x1]+_0xc4e79a>0x0&&(_0x1e5912='+'),_0x4eaba3=+(Math[_0x934979(0x220)](+_0x2c853d[0x0]+'e'+_0x1e5912+(+_0x2c853d[0x1]+_0xc4e79a))+'e-'+_0xc4e79a);}return Number(_0x4eaba3)[_0x934979(0x28d)](_0xc4e79a);}function getServerTime(){const _0x218ef8=_0x2bcc6e,_0x45ad84=new Date();return _0x45ad84['getFullYear']()+'/'+(_0x45ad84[_0x218ef8(0x2f7)]()+0x1)['toString']()[_0x218ef8(0x1d2)](0x2,'0')+'/'+_0x45ad84[_0x218ef8(0x2e6)]()[_0x218ef8(0x1ab)]()[_0x218ef8(0x1d2)](0x2,'0')+'\x20'+_0x45ad84[_0x218ef8(0x204)]()[_0x218ef8(0x1ab)]()[_0x218ef8(0x1d2)](0x2,'0')+':'+_0x45ad84['getMinutes']()[_0x218ef8(0x1ab)]()[_0x218ef8(0x1d2)](0x2,'0')+':'+_0x45ad84[_0x218ef8(0x1b6)]()[_0x218ef8(0x1ab)]()[_0x218ef8(0x1d2)](0x2,'0');}function getTimeStamp(){const _0x27dcdb=_0x2bcc6e,_0x3a902f=shiftedTime();return _0x3a902f[_0x27dcdb(0x29d)]()+'/'+(_0x3a902f[_0x27dcdb(0x2f7)]()+0x1)[_0x27dcdb(0x1ab)]()[_0x27dcdb(0x1d2)](0x2,'0')+'/'+_0x3a902f[_0x27dcdb(0x2e6)]()['toString']()[_0x27dcdb(0x1d2)](0x2,'0')+'\x20'+_0x3a902f['getHours']()[_0x27dcdb(0x1ab)]()[_0x27dcdb(0x1d2)](0x2,'0')+':'+_0x3a902f[_0x27dcdb(0x2a0)]()['toString']()['padStart'](0x2,'0')+':'+_0x3a902f[_0x27dcdb(0x1b6)]()[_0x27dcdb(0x1ab)]()[_0x27dcdb(0x1d2)](0x2,'0');}function getDate(){const _0x244063=_0x2bcc6e,_0x5dff4a=shiftedTime();return _0x5dff4a['getFullYear']()+'/'+(_0x5dff4a['getMonth']()+0x1)[_0x244063(0x1ab)]()[_0x244063(0x1d2)](0x2,'0')+'/'+_0x5dff4a['getDate']()[_0x244063(0x1ab)]()[_0x244063(0x1d2)](0x2,'0');}function getHour(){const _0x38ed76=_0x2bcc6e,_0xc8df83=shiftedTime();return _0xc8df83['getHours']()[_0x38ed76(0x1ab)]()['padStart'](0x2,'0');}function sleep(_0x5063df){return new Promise(_0x453963=>setTimeout(_0x453963,_0x5063df));}function shiftedTime(){const _0x21c3f7=_0x2bcc6e,_0x23aab0=new Date();let _0x699da2=_0x23aab0;if(config&&config[_0x21c3f7(0x2ce)]!==0x0)_0x699da2=fns['add'](_0x23aab0,{'hours':config[_0x21c3f7(0x2ce)]});return _0x699da2;}function timer(_0x4d9f30){const _0x4fc75e=_0x2bcc6e,_0x2df463=new Date();!lasttime?console[_0x4fc75e(0x1ef)](_0x4fc75e(0x2ca),_0x4d9f30,_0x2df463):console[_0x4fc75e(0x1ef)](_0x4fc75e(0x2ca),_0x4d9f30,(_0x2df463-lasttime)/0x3e8),lasttime=_0x2df463;}