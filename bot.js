const _0xeef067=_0x26c8;(function(_0xc7bb33,_0x45a05a){const _0x503195=_0x26c8,_0x5989ab=_0xc7bb33();while(!![]){try{const _0x122521=-parseInt(_0x503195(0x1b3))/0x1*(parseInt(_0x503195(0x1a1))/0x2)+-parseInt(_0x503195(0x178))/0x3+parseInt(_0x503195(0xa6))/0x4*(-parseInt(_0x503195(0x164))/0x5)+parseInt(_0x503195(0x10f))/0x6*(parseInt(_0x503195(0x180))/0x7)+parseInt(_0x503195(0x172))/0x8+-parseInt(_0x503195(0x169))/0x9*(-parseInt(_0x503195(0x115))/0xa)+parseInt(_0x503195(0x162))/0xb;if(_0x122521===_0x45a05a)break;else _0x5989ab['push'](_0x5989ab['shift']());}catch(_0x4555cd){_0x5989ab['push'](_0x5989ab['shift']());}}}(_0x554c,0xad6d8));const _0x35c95b=function(){let _0x1bc2b5=!![];return function(_0x4bf8ac,_0x197baa){const _0xff5451=_0x1bc2b5?function(){const _0x5d9d44=_0x26c8;if(_0x197baa){const _0x172483=_0x197baa[_0x5d9d44(0xf7)](_0x4bf8ac,arguments);return _0x197baa=null,_0x172483;}}:function(){};return _0x1bc2b5=![],_0xff5451;};}(),_0x1bf0dd=_0x35c95b(this,function(){const _0x2fa171=_0x26c8;return _0x1bf0dd[_0x2fa171(0xa9)]()[_0x2fa171(0xd2)]('(((.+)+)+)+$')[_0x2fa171(0xa9)]()[_0x2fa171(0x9e)](_0x1bf0dd)[_0x2fa171(0xd2)](_0x2fa171(0xa8));});_0x1bf0dd();'use strict';const ccxt=require(_0xeef067(0x20a))[_0xeef067(0x14b)],low=require(_0xeef067(0x208)),FileSync=require(_0xeef067(0x1e3)),fs=require('fs'),fns=require(_0xeef067(0x18b)),Crypt=require(_0xeef067(0xce))[_0xeef067(0x189)],util=require(_0xeef067(0x1d0)),argv=require('yargs/yargs')(process[_0xeef067(0x15d)]['slice'](0x2))[_0xeef067(0x15d)],path=require(_0xeef067(0x1c6));let exchange;global['ticker']={},global[_0xeef067(0x15f)]={};const exceptions={'binance':[_0xeef067(0x1ef),'HOT/BTC',_0xeef067(0x151),_0xeef067(0x160),_0xeef067(0x119)]},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0xeef067(0x1e2)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0xeef067(0x1c5))['version'],botID=process[_0xeef067(0x15d)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0xeef067(0x9a)](botID)&&(console[_0xeef067(0x12d)]('Error:\x20Invalid\x20argument\x20'+botID+_0xeef067(0x10d)),killBot());const userID=process[_0xeef067(0x15d)][0x3]||'',configpath=userID?_0xeef067(0x176)+userID+'/':_0xeef067(0x176),logspath=userID?_0xeef067(0x91)+userID+'/':_0xeef067(0x91),loggerfile=fs[_0xeef067(0x158)](logspath+_0xeef067(0x127),{'flags':'a'});!fs[_0xeef067(0x126)](configpath)&&fs[_0xeef067(0x167)](configpath);!fs[_0xeef067(0x126)](logspath)&&fs['mkdirSync'](logspath);const configfile=configpath+_0xeef067(0x1bf)+botID+'-config.json',logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+'bot-'+botID+'-performance.json',coinresultsfile=configpath+_0xeef067(0x1bf)+botID+_0xeef067(0xc1),settingsfile=configpath+_0xeef067(0xe0),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0xeef067(0x149),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xeef067(0x1e7)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0xeef067(0x9d)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xeef067(0x1e7)]({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xeef067(0x1e7)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0xeef067(0x1e5),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x304c44=>{const _0x172916=_0xeef067;console[_0x172916(0x12d)](_0x304c44);},'simple':_0x39f95d=>{const _0x539424=_0xeef067;console[_0x539424(0x12d)](_0x39f95d),loggerfile[_0x539424(0x9d)](util[_0x539424(0x139)](_0x39f95d)+'\x0a');},'full':async(_0x130d33,_0x2da15e='')=>{const _0x3d7031=_0xeef067;let _0xf4aad2;if(config[_0x3d7031(0x19e)])_0xf4aad2=getTimeStamp()+':\x20'+config['botname']+_0x3d7031(0x1f6)+_0x130d33;else _0xf4aad2=getTimeStamp()+_0x3d7031(0xb1)+botID+_0x3d7031(0x1f6)+_0x130d33;console[_0x3d7031(0x12d)](_0xf4aad2),loggerfile[_0x3d7031(0x9d)](util['format'](_0xf4aad2)+'\x0a'),_0x2da15e&&(console['log'](_0x2da15e),loggerfile[_0x3d7031(0x9d)](util[_0x3d7031(0x139)](_0x2da15e)+'\x0a'));},'debug':async(_0x4e762b,_0x54d4bd='')=>{const _0x88bf3=_0xeef067;let _0x4d8651;if(config[_0x88bf3(0x19e)])_0x4d8651=getTimeStamp()+':\x20'+config[_0x88bf3(0x1c0)]+'\x20>\x20[DEBUG]\x20'+_0x4e762b;else _0x4d8651=getTimeStamp()+_0x88bf3(0xb1)+botID+'\x20>\x20[DEBUG]\x20'+_0x4e762b;if(debugging)console[_0x88bf3(0x12d)](_0x4d8651);loggerfile[_0x88bf3(0x9d)](util[_0x88bf3(0x139)](_0x4d8651)+'\x0a');if(_0x54d4bd){if(debugging)console['log'](_0x54d4bd);loggerfile[_0x88bf3(0x9d)](util[_0x88bf3(0x139)](_0x54d4bd)+'\x0a');}}};process['on']('uncaughtException',function(_0x4a466c){const _0x42bc2c=_0xeef067;logger[_0x42bc2c(0xd5)](_0x4a466c);});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0xeef067(0x1b9)]);settings[_0xeef067(0x179)]!=config['onepagemode']&&updateOnepagemode(settings['onepagemode']);process['send']({'started':_0xeef067(0x13b)},_0x31e285=>{}),initializeProcessListeners();function proxyEmit(_0x505507,_0x1f9da0=null){process['send']({'function':_0x505507,'args':_0x1f9da0},_0x175f4d=>{});}function initializeProcessListeners(){process['on']('message',_0x1d19ab=>{const _0x40dbef=_0x26c8;switch(Object['keys'](_0x1d19ab)[0x0]){case _0x40dbef(0x1b9):_0x1d19ab[_0x40dbef(0x1b9)]!=undefined&&(settings[_0x40dbef(0x1b9)]=_0x1d19ab[_0x40dbef(0x1b9)],updateTimeshift(settings[_0x40dbef(0x1b9)]));break;case _0x40dbef(0x179):_0x1d19ab[_0x40dbef(0x179)]!=undefined&&(settings['onepagemode']=_0x1d19ab[_0x40dbef(0x179)],updateOnepagemode(settings['onepagemode']));break;case _0x40dbef(0x1e9):_0x1d19ab[_0x40dbef(0x1e9)]!=undefined&&(bots=JSON['parse'](_0x1d19ab[_0x40dbef(0x1e9)]),proxyEmit(_0x40dbef(0x1e9),bots));break;case'function':switch(_0x1d19ab[_0x40dbef(0xb5)]){case _0x40dbef(0x1d9):initclient();break;case _0x40dbef(0x1b1):toggleBotMode();break;case _0x40dbef(0x1c7):emitHistory(_0x1d19ab[_0x40dbef(0x1b8)]);break;case _0x40dbef(0x12c):deleteHistoryAlerts(_0x1d19ab[_0x40dbef(0x1b8)]);break;case'getPortfolio':getPortfolio(_0x1d19ab[_0x40dbef(0x1b8)]);break;case _0x40dbef(0x8e):storeConfiguration(_0x1d19ab[_0x40dbef(0x1b8)]);break;case _0x40dbef(0xd7):storeHeadless(_0x1d19ab[_0x40dbef(0x1b8)]);break;case _0x40dbef(0x14f):storeFiat(_0x1d19ab[_0x40dbef(0x1b8)]);break;case _0x40dbef(0x1c8):resetHistory();break;case _0x40dbef(0x105):getStartingBalances(getNormalizedPerformance());break;case _0x40dbef(0x1c4):placeOrder(_0x1d19ab[_0x40dbef(0x1b8)]);break;case _0x40dbef(0x1b2):cancelLoading();break;case _0x40dbef(0x144):showConfig();break;case _0x40dbef(0x1b6):sendMetricsTelegram();break;case _0x40dbef(0x1f4):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x254d26=null,_0x5df5e7=![]){const _0x41e4f8=_0xeef067;logger[_0x41e4f8(0x190)](_0x41e4f8(0x1a3)+(_0x254d26&&_0x254d26[_0x41e4f8(0x111)]>0x0?_0x41e4f8(0x13a)+_0x254d26[_0x41e4f8(0x17c)](','):_0x41e4f8(0xf0))+_0x41e4f8(0xe5)+(_0x5df5e7?'exchange\x20reloaded':_0x41e4f8(0x1a5)));if(pidBalances)clearTimeout(pidBalances);if(!_0x5df5e7)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x41e4f8(0x1da)]!=''&&config[_0x41e4f8(0x1da)]!=_0x41e4f8(0x138)){if(_0x5df5e7){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x10aa5f){if(_0x10aa5f[_0x41e4f8(0xa9)]()[_0x41e4f8(0x1bd)](_0x41e4f8(0x1a0))){handleErrorNoStop(_0x10aa5f,_0x41e4f8(0x17f));return;}else{handleError(_0x10aa5f,_0x41e4f8(0x17f));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x254d26);const _0x5bd6c4=await getCoins();[currentCoins,currentCoinsAll]=_0x5bd6c4,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x41e4f8(0x111)]==0x0&&allOpenOrders[_0x41e4f8(0x111)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x42d457=_0xeef067;logger[_0x42d457(0x190)](_0x42d457(0x1ac));while(lockOrders!=ORDERS[_0x42d457(0x1e2)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x42d457(0x175)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x33ffe0=config[_0xeef067(0x1d8)],_0x4c760e=config[_0xeef067(0x1da)],_0x3de334=config[_0xeef067(0xbc)]){const _0x447eb3=_0xeef067;exchange&&await stopExchange();!supportedExchanges()[_0x447eb3(0x1bd)](_0x33ffe0)&&(logHistory('error',_0x447eb3(0x1d1)+_0x33ffe0+_0x447eb3(0x194)),killBot());const _0x3089f8=ccxt[_0x33ffe0[_0x447eb3(0x1e4)]()];exchange=new _0x3089f8({'apiKey':_0x4c760e,'secret':_0x3de334,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x2021b1=_0xeef067;let _0x431c68=config['basecoin']==_0x2021b1(0xf3)?_0x2021b1(0xf3):_0x2021b1(0x142),_0x198bb9=!allSymbols[_0x2021b1(0x1bd)](_0x431c68+_0x2021b1(0x207))?_0x2021b1(0x174):_0x2021b1(0x124),_0x30d8f8=!allSymbols[_0x2021b1(0x1bd)](_0x431c68+'/EUR')?_0x198bb9:_0x2021b1(0xea);stablecoins={'eur':{'coin':''+_0x431c68+_0x30d8f8,'symbol':_0x431c68+'/'+_0x30d8f8},'usd':{'coin':''+_0x431c68+_0x198bb9,'symbol':_0x431c68+'/'+_0x198bb9}};}async function initwsCcxt(_0x30fe59){const _0x295d40=_0xeef067;_0x30fe59==null&&(_0x30fe59=[],config[_0x295d40(0x147)][_0x295d40(0xdb)](_0x37fedd=>{const _0x375c8c=_0x295d40;if(!_0x37fedd['excluded']&&_0x37fedd[_0x375c8c(0x110)]!=config['basecoin'])_0x30fe59['push'](_0x37fedd['symbol']);}));if(!_0x30fe59[_0x295d40(0x1bd)](stablecoins[_0x295d40(0x1ea)][_0x295d40(0xc3)]))_0x30fe59[_0x295d40(0xfa)](stablecoins[_0x295d40(0x1ea)][_0x295d40(0xc3)]);if(!_0x30fe59[_0x295d40(0x1bd)](stablecoins['usd']['symbol']))_0x30fe59[_0x295d40(0xfa)](stablecoins[_0x295d40(0x1fb)][_0x295d40(0xc3)]);if(!_0x30fe59[_0x295d40(0x1bd)](_0x295d40(0x16b)+config['basecoin']))_0x30fe59['push'](_0x295d40(0x16b)+config[_0x295d40(0x1cd)]);loadCoins(_0x30fe59);const _0x3b2acf=async _0x1de19e=>{const _0x4dcc3=_0x295d40,_0x5848cc=await exchange[_0x4dcc3(0xc8)](_0x1de19e);global[_0x4dcc3(0x96)][noslash(_0x5848cc[_0x4dcc3(0xc3)])]=_0x5848cc[_0x4dcc3(0x155)];while(!![]){if(!botPaused)try{const _0x388ba5=await exchange[_0x4dcc3(0xa4)](_0x1de19e);global['ticker'][noslash(_0x388ba5[0x0][_0x4dcc3(0xc3)])]=_0x388ba5[0x0]['price'],await sleep(0x3e8);}catch(_0x5ae8e0){if(!exchangeStopped)await handleError(_0x5ae8e0,'watchTrades',_0x1de19e);}else await sleep(0x3e8);}},_0x1a57d8=async _0xcc3e65=>{const _0x55b2a2=_0x295d40;while(!![]){if(!botPaused)try{const _0x4cee34=await exchange[_0x55b2a2(0xc8)](_0xcc3e65);global[_0x55b2a2(0x15f)][_0x4cee34['symbol']]=_0x4cee34[_0x55b2a2(0x109)],await sleep(0x3c*0x3e8);}catch(_0x318104){if(!exchangeStopped)await handleError(_0x318104,_0x55b2a2(0x1eb),_0xcc3e65);}else await sleep(0x3e8);}},_0x3c277b=async()=>{const _0x5ab7d2=_0x295d40;while(!![]){if(!botPaused)try{const _0x3df501=await exchange[_0x5ab7d2(0x152)]();_0x3df501[_0x5ab7d2(0xdb)](_0x4963c5=>{updateNumberCoinsCcxt(_0x4963c5);});}catch(_0x50e504){if(!exchangeStopped)await handleError(_0x50e504,_0x5ab7d2(0x152));}else await sleep(0x3e8);}};_0x30fe59[_0x295d40(0xdb)](async _0x2424a1=>{_0x3b2acf(_0x2424a1),_0x1a57d8(_0x2424a1);}),!wsEventsSet&&(wsEventsSet=!![],_0x3c277b(),watchTransactions());}async function watchTransactions(){const _0x4eff4d=_0xeef067;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x3bcc37=await getCoins(),[_0x3b5672,_0x2bbfbb]=_0x3bcc37;let _0x21c3a4=[];currentCoins[_0x4eff4d(0xdb)](_0x480ccb=>{const _0x21bec3=_0x4eff4d,_0x137c26=_0x3b5672[_0x21bec3(0x1dc)](_0x12f5e1=>_0x12f5e1['coin']==_0x480ccb['coin']);_0x137c26&&(_0x480ccb[_0x21bec3(0xe9)]!=_0x137c26[_0x21bec3(0xe9)]&&_0x21c3a4[_0x21bec3(0xfa)]({'coin':_0x480ccb['coin'],'symbol':_0x480ccb['symbol'],'number':Number(formatResult(_0x137c26[_0x21bec3(0xe9)]-_0x480ccb[_0x21bec3(0xe9)],0x8))}));});if(_0x21c3a4[_0x4eff4d(0x111)]==0x1&&!blockTransactionDetection){logger[_0x4eff4d(0x190)](_0x4eff4d(0x101)+lastFees[_0x4eff4d(0x19d)]+_0x4eff4d(0x135)+lastFees[_0x4eff4d(0x182)]);if(!lastFees[_0x4eff4d(0x19d)]||_0x21c3a4[0x0]['coin']!=lastFees[_0x4eff4d(0x19d)]||_0x21c3a4[0x0]['number']>lastFees[_0x4eff4d(0x182)]){let _0x371148;if(_0x21c3a4[0x0][_0x4eff4d(0x110)]!=config[_0x4eff4d(0x1cd)]){let _0x480582=global[_0x4eff4d(0x96)][noslash(_0x21c3a4[0x0]['symbol'])];_0x371148=_0x21c3a4[0x0][_0x4eff4d(0x204)]?0x1/_0x480582:_0x480582;}else _0x371148=0x1;_0x21c3a4[0x0]['price']=_0x371148,delete _0x21c3a4[0x0][_0x4eff4d(0xc3)];let _0x202dc1=[],_0x581740=[...config['liquidity']]||[],_0x503c40=config[_0x4eff4d(0x186)];_0x581740[_0x4eff4d(0x112)]((_0x402a53,_0x2c3c43)=>_0x402a53[_0x4eff4d(0x13d)]>_0x2c3c43[_0x4eff4d(0x13d)]?-0x1:_0x2c3c43['date']>_0x402a53[_0x4eff4d(0x13d)]?0x1:0x0);const _0x587d9a=getDate();if(_0x581740[0x0]){const _0x12f559=fns['parse'](_0x581740[0x0]['date'],_0x4eff4d(0x1ed),new Date()),_0x5ecd0e=fns[_0x4eff4d(0x14c)](_0x587d9a,_0x4eff4d(0x1ed),new Date());if(fns[_0x4eff4d(0x1d2)](_0x12f559,_0x5ecd0e)){_0x202dc1=_0x581740[0x0][_0x4eff4d(0x171)];const _0xb5018d=_0x202dc1[_0x4eff4d(0x1dc)](_0x1942b4=>_0x1942b4[_0x4eff4d(0x110)]==_0x21c3a4[0x0][_0x4eff4d(0x110)]);_0xb5018d?(_0xb5018d['number']+=_0x21c3a4[0x0]['number'],_0xb5018d[_0x4eff4d(0xe9)]==0x0&&(_0x202dc1=_0x202dc1[_0x4eff4d(0x181)](_0x4c5c06=>{const _0x4eb8cb=_0x4eff4d;return _0x4c5c06['coin']!=_0x21c3a4[0x0][_0x4eb8cb(0x110)];}))):_0x202dc1[_0x4eff4d(0xfa)](_0x21c3a4[0x0]);const _0x46a287=_0x503c40[_0x4eff4d(0x1dc)](_0x113bae=>_0x113bae['date']==_0x587d9a);_0x46a287[_0x4eff4d(0x171)]=_0x202dc1;}else _0x503c40[_0x4eff4d(0xfa)]({'date':_0x587d9a,'changes':[_0x21c3a4[0x0]]});}const _0x115e29=_0x503c40[_0x4eff4d(0x1dc)](_0x2cf2e3=>_0x2cf2e3['date']==_0x587d9a);if(_0x115e29){let _0x472490=!![];_0x115e29[_0x4eff4d(0x171)]['forEach'](_0x3976af=>{if(_0x3976af['number']!=0x0)_0x472490=![];}),_0x472490&&(_0x503c40=_0x503c40[_0x4eff4d(0x181)](_0x555435=>{return _0x555435['date']!=_0x587d9a;}));}let _0x3cf6c7=dbConfig['get'](_0x4eff4d(0x117))[_0x4eff4d(0x1dc)]({'botID':botID})[_0x4eff4d(0x11d)]();_0x3cf6c7&&(dbConfig['get'](_0x4eff4d(0x117))[_0x4eff4d(0x1dc)]({'botID':botID})[_0x4eff4d(0x13c)]({'liquidity':_0x503c40})[_0x4eff4d(0x9d)](),config[_0x4eff4d(0x186)]=_0x503c40),logHistory(_0x4eff4d(0x118),_0x4eff4d(0x205)+Math[_0x4eff4d(0x1bc)](_0x21c3a4[0x0][_0x4eff4d(0xe9)])+'\x20'+_0x21c3a4[0x0]['coin']+'\x20'+(_0x21c3a4[0x0]['number']>0x0?_0x4eff4d(0x188):_0x4eff4d(0xfc))+_0x4eff4d(0x1d5)),proxyEmit(_0x4eff4d(0x94),emittedConfiguration());}else logger[_0x4eff4d(0x190)](_0x4eff4d(0x148)+Math[_0x4eff4d(0x1bc)](_0x21c3a4[0x0][_0x4eff4d(0xe9)])+'\x20'+_0x21c3a4[0x0][_0x4eff4d(0x110)]+'\x20'+(_0x21c3a4[0x0]['number']>0x0?'added':_0x4eff4d(0xfc)));transactionDetected=!![],currentCoins=_0x3b5672,currentCoinsAll=_0x2bbfbb;}await sleep(watchTransactionsInterval);}catch(_0x421d68){if(!exchangeStopped)await handleError(_0x421d68,_0x4eff4d(0x13e));}else await sleep(0x3e8);}}async function loadSymbols(_0x316873=config[_0xeef067(0x1d8)],_0x253355=![]){const _0x588b70=_0xeef067;if(allSymbols&&!_0x253355)return;try{markets=await exchange[_0x588b70(0x16f)](),allSymbols=exchange[_0x588b70(0xbd)][_0x588b70(0x181)](_0x2800eb=>{const _0x40c371=_0x588b70;let _0x3cad3f=![];const _0x18da2c=exceptions[_0x316873[_0x40c371(0x1e4)]()]||[];return _0x18da2c[_0x40c371(0xdb)](_0x1f1d84=>{if(_0x2800eb['includes'](_0x1f1d84))_0x3cad3f=!![];}),!_0x3cad3f;});}catch(_0x1a01bf){throw _0x1a01bf;}}async function initclient(){const _0x5496c5=_0xeef067;emitLoadingProgress(),proxyEmit(_0x5496c5(0x94),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x5496c5(0x14e),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x381863=getNormalizedPerformance();emitPerformance(_0x381863),getStartingBalances(_0x381863);}async function toggleBotMode(){const _0x47b880=_0xeef067;let _0x478e2b=dbConfig['get'](_0x47b880(0x117))[_0x47b880(0x1dc)]({'botID':botID})[_0x47b880(0x11d)]();if(_0x478e2b){const _0xbd9477=!_0x478e2b[_0x47b880(0x11a)];dbConfig[_0x47b880(0xd9)]('bot')['find']({'botID':botID})[_0x47b880(0x13c)]({'headless':_0xbd9477})[_0x47b880(0x9d)](),config[_0x47b880(0x11a)]=_0xbd9477,proxyEmit(_0x47b880(0x94),emittedConfiguration()),updateBotManager();}}function updateBotManager(){process['send']({'updatebotmanager':!![]},_0x2d10ce=>{});}async function loadCoins(_0x483488){const _0x26dc08=_0xeef067;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x142b71,_0x4ba8d6=0x0,_0x1ef711=0x0;_0x483488[_0x26dc08(0xdb)](_0x49a456=>{const _0x4e474e=_0x26dc08;loading[_0x4e474e(0xc5)][_0x4e474e(0xfa)](_0x49a456);}),loadingCanceled=![];let _0x19ba3d=![];while(_0x142b71!=_0x483488[_0x26dc08(0x111)]){_0x142b71=0x0,_0x483488[_0x26dc08(0xdb)](_0x1a5f46=>{const _0x30261c=_0x26dc08;if(global['ticker'][noslash(_0x1a5f46)]){loading[_0x30261c(0xc5)]=loading[_0x30261c(0xc5)][_0x30261c(0x181)](_0x30ebb7=>_0x30ebb7!=_0x1a5f46);if(!watchedSymbols['includes'](_0x1a5f46))watchedSymbols['push'](_0x1a5f46);_0x142b71++;}}),loading['progress']=Math[_0x26dc08(0x116)](_0x142b71/_0x483488[_0x26dc08(0x111)]*0x64);loading[_0x26dc08(0xb2)]!=0x64&&(_0x1ef711>0x1e*0x5&&(loading[_0x26dc08(0x1f8)]=!![],emitLoadingProgress()),_0x1ef711>0x78*0x5&&!_0x19ba3d&&(loading[_0x26dc08(0x95)]=!![],emitLoadingProgress(),_0x19ba3d=!![],logHistory(_0x26dc08(0x183),_0x26dc08(0x12b)+loading[_0x26dc08(0xc5)][_0x26dc08(0x17c)](',\x20')+_0x26dc08(0xd0)),logHistory(_0x26dc08(0x183),_0x26dc08(0xc6)+loadCoinsRetryInterval/0xea60+_0x26dc08(0xa1)),pidCoinReloading=setTimeout(()=>{const _0x771e8a=_0x26dc08;process[_0x771e8a(0x121)]({'stop':_0x771e8a(0xc7)},_0x343173=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x26dc08(0x95)]=!![],emitLoadingProgress();break;}else _0x142b71!=_0x4ba8d6&&(_0x4ba8d6=_0x142b71,emitLoadingProgress()),_0x1ef711++,await sleep(0xc8);}_0x142b71==_0x483488[_0x26dc08(0x111)]&&(coinsLoaded=!![],process[_0x26dc08(0x121)]({'status':_0x26dc08(0x132),'live':_0x26dc08(0x13b)},_0x1ad074=>{}),_0x19ba3d&&logHistory(_0x26dc08(0x118),_0x26dc08(0x19b)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4337cc=_0xeef067;proxyEmit(_0x4337cc(0x94),{...emittedConfiguration(),'configstate':_0x4337cc(0x1be)});}function emitLoadingProgress(){const _0x2f5146=_0xeef067;proxyEmit(_0x2f5146(0x1a6),loading);}async function getFiat(){const _0x43bd2a=_0xeef067;let _0x2a0a7a=global[_0x43bd2a(0x96)][stablecoins[_0x43bd2a(0x1ea)][_0x43bd2a(0x110)]],_0x272a5f=global[_0x43bd2a(0x96)][stablecoins[_0x43bd2a(0x1fb)][_0x43bd2a(0x110)]];return{'eur':Number(_0x2a0a7a),'usd':Number(_0x272a5f)};}function capitalize(_0x295e7a){const _0x462d4e=_0xeef067;return _0x295e7a['substring'](0x0,0x1)[_0x462d4e(0xc2)]()+_0x295e7a[_0x462d4e(0xfd)](0x1);}function supportedExchanges(){const _0xbfc709=_0xeef067,_0x1b085f=['ws',_0xbfc709(0x1eb),_0xbfc709(0xc8),_0xbfc709(0xa4),'watchOrders',_0xbfc709(0xe3),_0xbfc709(0x166),_0xbfc709(0x1df),_0xbfc709(0xf4),_0xbfc709(0x20c)];let _0x7b36d7=[],_0x44ae32=[],_0x3bc51b=ccxt[_0xbfc709(0x120)];_0x3bc51b['forEach'](_0x4f45e4=>{const _0x5c119a=_0xbfc709;try{const _0x3ed7d2=new ccxt[_0x4f45e4]();if(_0x3ed7d2[_0x5c119a(0x173)]['ws'])_0x44ae32[_0x5c119a(0xfa)](_0x3ed7d2);}catch(_0x1ce363){}}),_0x44ae32[_0xbfc709(0xdb)](_0x458e2f=>{const _0xc17dde=_0xbfc709;let _0x5e26d3=0x0;_0x1b085f[_0xc17dde(0xdb)](_0x3baefc=>{const _0x5181ff=_0xc17dde;_0x3baefc in _0x458e2f['has']&&_0x458e2f[_0x5181ff(0x173)][_0x3baefc]&&_0x5e26d3++;}),_0x5e26d3==_0x1b085f['length']&&_0x7b36d7[_0xc17dde(0xfa)](capitalize(_0x458e2f['id']));});let _0xff02a4=[];return _0x3bc51b[_0xbfc709(0xdb)](_0x1a1c4c=>{const _0x2e6333=_0xbfc709;_0x1a1c4c=capitalize(_0x1a1c4c);if(!_0x7b36d7[_0x2e6333(0x1bd)](_0x1a1c4c))_0xff02a4[_0x2e6333(0xfa)](_0x1a1c4c);}),_0x7b36d7;}function setStartDatePerformance(){const _0x54f085=_0xeef067;if(config&&config['liquidity'][0x0][_0x54f085(0x171)][_0x54f085(0x111)]!=0x0){const _0x2588f0=config[_0x54f085(0x186)][0x0][_0x54f085(0x171)];dbPerformance[_0x54f085(0xd9)]('data')[_0x54f085(0x1dc)]({'date':config[_0x54f085(0x198)]})['assign']({'coins':_0x2588f0})[_0x54f085(0x9d)]();}}async function recreateCoinResults(){const _0x2e41b2=_0xeef067;let _0x49bbf9,_0x1255ae=[];try{const _0x173857=fns[_0x2e41b2(0x139)](fns[_0x2e41b2(0x18f)](config[_0x2e41b2(0x198)][_0x2e41b2(0xdf)](/\//g,'-')),_0x2e41b2(0x197));for(const _0x96a3d9 of currentCoins){if(_0x96a3d9[_0x2e41b2(0x110)]!=config[_0x2e41b2(0x1cd)]){let _0x5ec6a6=0x0,_0x549a6e,_0x14699c;_0x49bbf9=await getAllEventOrders(_0x96a3d9['symbol']);if(_0x49bbf9[_0x2e41b2(0x111)]>0x0)_0x49bbf9[_0x2e41b2(0xdb)](_0x1d956c=>{const _0x2d6ed8=_0x2e41b2,_0x23c440=_0x96a3d9[_0x2d6ed8(0xc3)][_0x2d6ed8(0x1bd)](config[_0x2d6ed8(0x1cd)]+'/');_0x1255ae[_0x2d6ed8(0xfa)]({'datetime':_0x1d956c[_0x2d6ed8(0xff)],'coin':_0x96a3d9['coin'],'symbol':_0x96a3d9[_0x2d6ed8(0xc3)],'side':_0x1d956c[_0x2d6ed8(0x1ae)],'reverse':_0x23c440,'amount':formatResult(_0x1d956c[_0x2d6ed8(0x11f)],0x8),'filled':formatResult(_0x1d956c[_0x2d6ed8(0x11f)],0x8),'price':formatResult(_0x1d956c['price'],0x8)}),_0x5ec6a6=_0x1d956c['side']==_0x2d6ed8(0x196)?_0x5ec6a6+_0x1d956c[_0x2d6ed8(0x11f)]:_0x5ec6a6-_0x1d956c[_0x2d6ed8(0x11f)];if(!_0x14699c)_0x14699c=_0x1d956c[_0x2d6ed8(0x1bb)];});_0x549a6e=_0x96a3d9[_0x2e41b2(0xe9)]-_0x5ec6a6;let _0x23083e;config[_0x2e41b2(0x186)][_0x2e41b2(0xdb)](_0x39f1be=>{const _0x25ac55=_0x2e41b2;!_0x23083e&&(_0x23083e=_0x39f1be['changes'][_0x25ac55(0x1dc)](_0x484708=>_0x484708[_0x25ac55(0x110)]==_0x96a3d9['coin']),_0x23083e&&(_0x549a6e=_0x23083e[_0x25ac55(0xe9)],_0x14699c=_0x23083e['price']));});let _0x2c1d3e=dbCoinResults[_0x2e41b2(0xd9)](_0x2e41b2(0xf8))['find']({'coin':_0x96a3d9[_0x2e41b2(0x110)]})[_0x2e41b2(0x11d)]();_0x2c1d3e={'coin':_0x96a3d9[_0x2e41b2(0x110)],'number':_0x549a6e,'breakeven':_0x14699c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x2e41b2(0xd9)](_0x2e41b2(0xf8))['find']({'coin':_0x96a3d9[_0x2e41b2(0x110)]})['assign'](_0x2c1d3e)[_0x2e41b2(0x9d)]();}}_0x1255ae[_0x2e41b2(0x112)]((_0xd54c7,_0xc4ccb5)=>_0xd54c7[_0x2e41b2(0xff)]>_0xc4ccb5['datetime']?0x1:_0xc4ccb5[_0x2e41b2(0xff)]>_0xd54c7[_0x2e41b2(0xff)]?-0x1:0x0);let _0x268c3c=0x0;for(let _0x49180d of _0x1255ae){await updateCoinResults(_0x49180d,!![]);}}catch(_0x236b05){await handleError(_0x236b05,'recreateCoinResults()');}}async function getAllEventOrders(_0x5b0710){const _0x4431e0=_0xeef067;let _0x38ca34=[],_0x1baff1=dbLogs[_0x4431e0(0xd9)](_0x4431e0(0x1c2))[_0x4431e0(0x181)](_0xc700a4=>{const _0x44e330=_0x4431e0,_0x11781d=_0xc700a4[_0x44e330(0x102)][_0x44e330(0x1e4)]();return _0x11781d[_0x44e330(0x1bd)](_0x5b0710[_0x44e330(0x1e4)]())&&(_0x11781d[_0x44e330(0x1bd)](_0x44e330(0x133))&&_0x11781d[_0x44e330(0x1bd)]('order')||_0x11781d[_0x44e330(0x1bd)]('filled')&&_0x11781d[_0x44e330(0x1bd)](_0x44e330(0x106)));})[_0x4431e0(0x192)](_0x4431e0(0xe6))[_0x4431e0(0x11d)]();return _0x1baff1[_0x4431e0(0xdb)](_0x17d5e0=>{const _0x5bc89b=_0x4431e0,_0x25c13d=_0x17d5e0[_0x5bc89b(0x102)]['includes'](_0x5bc89b(0xf5))?_0x5bc89b(0xf5):_0x5bc89b(0x196),_0x36ae0f=/#([0-9]|\.)+\s/i,_0xed3b79=Number(_0x36ae0f[_0x5bc89b(0x1fd)](_0x17d5e0[_0x5bc89b(0x102)])[0x0][_0x5bc89b(0xb4)](0x1)),_0x3b1abe=/@([0-9]|\.)+$/i,_0x75c4e4=Number(_0x3b1abe[_0x5bc89b(0x1fd)](_0x17d5e0[_0x5bc89b(0x102)])[0x0]['slice'](0x1));_0x38ca34['push']({'datetime':_0x17d5e0['time'],'coin':symbolToCoin(_0x5b0710),'symbol':_0x5b0710,'side':_0x25c13d,'amount':_0xed3b79,'filled':_0xed3b79,'price':_0x75c4e4});}),_0x38ca34;}async function getAllOrders(_0x5a3d25,_0x582998){const _0x3c2133=_0xeef067;let _0x17c4fe=[];while(_0x582998<exchange[_0x3c2133(0x177)]()){const _0x27b8dd=0x1f4,_0x32104f=await exchange[_0x3c2133(0xf4)](_0x5a3d25,_0x582998,_0x27b8dd);if(_0x32104f['length'])_0x582998=_0x32104f[_0x32104f[_0x3c2133(0x111)]-0x1]['timestamp']+0x1,_0x17c4fe=_0x17c4fe[_0x3c2133(0x17e)](_0x32104f);else break;}return _0x17c4fe;}async function validate24hChanges(){const _0x19b7ab=_0xeef067;for(const _0x2d43c9 of currentCoins){if(_0x2d43c9['coin']!=config['basecoin']){let _0x4c0836;_0x2d43c9[_0x19b7ab(0x204)]?_0x4c0836=formatResult((0x1/(global[_0x19b7ab(0x15f)][noslash(_0x2d43c9[_0x19b7ab(0xc3)])]/0x64+0x1)-0x1)*0x64,0x3):_0x4c0836=global[_0x19b7ab(0x15f)][noslash(_0x2d43c9[_0x19b7ab(0xc3)])],_0x4c0836<config[_0x19b7ab(0x1f3)]&&(logHistory(_0x19b7ab(0x183),_0x2d43c9[_0x19b7ab(0x110)]+_0x19b7ab(0xc9)+_0x4c0836+'%'),logHistory('error',_0x19b7ab(0x9b)),logHistory('error',_0x19b7ab(0x16e)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x4f68de,_0x25d086){const _0x3105e0=_0xeef067;if(!_0x4f68de)return!![];const _0x32ce3c=_0x25d086[_0x3105e0(0x163)]('.'),_0x342dc3=_0x4f68de[_0x3105e0(0x163)]('.');for(var _0x4a3fcb=0x0;_0x4a3fcb<_0x342dc3[_0x3105e0(0x111)];_0x4a3fcb++){const _0x3faf7b=~~_0x342dc3[_0x4a3fcb],_0x38735f=~~_0x32ce3c[_0x4a3fcb];if(_0x3faf7b<_0x38735f)return!![];if(_0x3faf7b>_0x38735f)return![];}return![];}async function oneTimeMigration(){const _0xd691d9=_0xeef067;let _0x38ebbd=dbLogs[_0xd691d9(0xd9)](_0xd691d9(0x1dd))[_0xd691d9(0x11d)]();if(isOlderVersion(_0x38ebbd,_0xd691d9(0x19a))){let _0x4124f6=[];const _0x4d987c=dbLogs[_0xd691d9(0xd9)](_0xd691d9(0x1c2))[_0xd691d9(0x11d)]();_0x4d987c[_0xd691d9(0xdb)](_0xbd428b=>{const _0x2e5799=_0xd691d9;_0x4124f6[_0x2e5799(0xfa)]({'time':_0xbd428b[_0x2e5799(0xe6)],'type':_0xbd428b[_0x2e5799(0xba)],'event':_0xbd428b['event']});}),dbLogs['get']('logs')[_0xd691d9(0x13c)](_0x4124f6)['write']();}let _0x2267f9=dbConfig[_0xd691d9(0xd9)](_0xd691d9(0x1dd))[_0xd691d9(0x11d)]();if(isOlderVersion(_0x2267f9,_0xd691d9(0x19a))){let _0xbb0ced=dbConfig[_0xd691d9(0xd9)](_0xd691d9(0x117))[_0xd691d9(0x1dc)]({'botID':botID})[_0xd691d9(0x11d)]();if(_0xbb0ced){let _0x528048=[];_0xbb0ced[_0xd691d9(0x147)][_0xd691d9(0xdb)](_0xe4b1e3=>{const _0x2b8e66=_0xd691d9;_0x528048[_0x2b8e66(0xfa)]({'coin':_0xe4b1e3[_0x2b8e66(0x110)],'number':_0xe4b1e3[_0x2b8e66(0x16a)],'price':_0xe4b1e3[_0x2b8e66(0x1c1)]}),delete _0xe4b1e3['startnumber'],delete _0xe4b1e3['startprice'];});if(_0x528048['length']!==0x0)fs['writeFile'](configbackuppath+(_0xd691d9(0xd8)+botID+_0xd691d9(0xd3)),JSON[_0xd691d9(0xb8)](_0x528048,null,0x4),function(_0xfb7311){if(_0xfb7311){}});const _0x3f1ff3=(_0x132dc2,_0x504b77)=>{const _0x476f94=_0xd691d9;let _0x54de2f=[];_0x504b77[_0x476f94(0xdb)](_0x5c64b6=>{const _0x23ac0a=_0x476f94,_0x12543d=_0x132dc2[_0x23ac0a(0x1dc)](_0x2438e3=>_0x2438e3[_0x23ac0a(0x110)]==_0x5c64b6[_0x23ac0a(0x110)]);if(!_0x12543d)_0x54de2f[_0x23ac0a(0xfa)](_0x5c64b6);});let _0x5a3f82=[];return _0x132dc2[_0x476f94(0xdb)](_0x12ff2a=>{const _0x1e4eb2=_0x476f94,_0x1c3271=_0x504b77[_0x1e4eb2(0x1dc)](_0xd0954c=>_0xd0954c[_0x1e4eb2(0x110)]==_0x12ff2a[_0x1e4eb2(0x110)]);if(!_0x1c3271||_0x1c3271[_0x1e4eb2(0xe9)]==0x0&&_0x12ff2a[_0x1e4eb2(0xe9)]!=0x0)_0x5a3f82[_0x1e4eb2(0xfa)](_0x12ff2a);}),{'missingDay1':_0x54de2f,'notInDay2':_0x5a3f82};},_0x19a42b=dbPerformance[_0xd691d9(0xd9)](_0xd691d9(0xdc))[_0xd691d9(0x1f5)]()[_0xd691d9(0x11d)]();if(_0x19a42b[_0xd691d9(0x111)]>0x1){const {missingDay1:_0x4d1f53,notInDay2:_0x4f64da}=_0x3f1ff3(_0x528048,_0x19a42b[0x1][_0xd691d9(0xf8)]);_0x528048=[..._0x528048,..._0x4d1f53],_0x4f64da[_0xd691d9(0xdb)](_0x44821d=>{const _0x341261=_0xd691d9;let _0x3dad87=_0x528048['findIndex'](_0x4b0111=>_0x4b0111[_0x341261(0x110)]==_0x44821d[_0x341261(0x110)]);_0x3dad87!=-0x1&&_0x528048['splice'](_0x3dad87,0x1);});}_0x528048[_0xd691d9(0x112)]((_0x52bf0f,_0x312d25)=>_0x52bf0f[_0xd691d9(0x110)]>_0x312d25[_0xd691d9(0x110)]?0x1:_0x312d25[_0xd691d9(0x110)]>_0x52bf0f[_0xd691d9(0x110)]?-0x1:0x0);let _0x2ceb55=[{'date':_0xbb0ced[_0xd691d9(0x198)],'changes':_0x528048}];_0x19a42b[_0xd691d9(0x111)]>0x2&&_0x19a42b[_0xd691d9(0xdb)]((_0x5e1d60,_0x56143d)=>{const _0x3afca4=_0xd691d9;if(_0x56143d>0x0&&_0x56143d<_0x19a42b[_0x3afca4(0x111)]-0x1){const {missingDay1:_0x199be8,notInDay2:_0x54160f}=_0x3f1ff3(_0x19a42b[_0x56143d][_0x3afca4(0xf8)],_0x19a42b[_0x56143d+0x1][_0x3afca4(0xf8)]);_0x528048=[],(_0x199be8[_0x3afca4(0x111)]!=0x0||_0x54160f[_0x3afca4(0x111)]!=0x0)&&(_0x199be8[_0x3afca4(0x111)]!=0x0&&_0x528048[_0x3afca4(0xfa)](..._0x199be8),_0x54160f['length']!=0x0&&(_0x54160f[_0x3afca4(0xdb)](_0xe1d36d=>{_0xe1d36d['number']=-_0xe1d36d['number'];}),_0x528048[_0x3afca4(0xfa)](..._0x54160f)),_0x528048[_0x3afca4(0x112)]((_0x236cda,_0x14b100)=>_0x236cda[_0x3afca4(0x110)]>_0x14b100[_0x3afca4(0x110)]?0x1:_0x14b100[_0x3afca4(0x110)]>_0x236cda['coin']?-0x1:0x0),_0x2ceb55[_0x3afca4(0xfa)]({'date':_0x19a42b[_0x56143d+0x1][_0x3afca4(0x13d)],'changes':_0x528048}));}}),dbConfig[_0xd691d9(0xd9)](_0xd691d9(0x117))[_0xd691d9(0x1dc)]({'botID':botID})[_0xd691d9(0x13c)]({..._0xbb0ced,'liquidity':_0x2ceb55})[_0xd691d9(0x9d)]();}}if(isOlderVersion(_0x2267f9,'2.6.0')){let _0x282879=dbConfig[_0xd691d9(0xd9)]('bot')['find']({'botID':botID})['value']();if(_0x282879){const _0x556a51=_0x282879[_0xd691d9(0x1d8)],_0x12d367=_0x556a51?capitalize(_0x556a51):_0xd691d9(0xad);dbConfig[_0xd691d9(0xd9)](_0xd691d9(0x117))['find']({'botID':botID})[_0xd691d9(0x13c)]({'exchange':_0x12d367})[_0xd691d9(0x9d)]();}}let _0x90fa0b=dbPerformance[_0xd691d9(0xd9)]('version')[_0xd691d9(0x11d)]();isOlderVersion(_0x90fa0b,_0xd691d9(0x19a))&&setStartDatePerformance();let _0x54f8c=dbCoinResults[_0xd691d9(0xd9)]('version')[_0xd691d9(0x11d)]();if(isOlderVersion(_0x54f8c,_0xd691d9(0x143))){let _0x7f183f=dbCoinResults[_0xd691d9(0xd9)]('coins')[_0xd691d9(0x11d)]();if(_0x7f183f[_0xd691d9(0x111)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x15ca9e=_0xeef067;dbConfig[_0x15ca9e(0x18c)](_0x15ca9e(0x1dd),serverversion)[_0x15ca9e(0x9d)](),dbPerformance[_0x15ca9e(0x18c)](_0x15ca9e(0x1dd),serverversion)[_0x15ca9e(0x9d)](),dbLogs['set']('version',serverversion)[_0x15ca9e(0x9d)](),dbCoinResults[_0x15ca9e(0x18c)](_0x15ca9e(0x1dd),serverversion)['write']();}function getConfiguration(_0x180f21){const _0x429819=_0xeef067;let _0x5a5955=dbConfig[_0x429819(0xd9)](_0x429819(0x117))['find']({'botID':_0x180f21})[_0x429819(0x11d)]();if(_0x5a5955){let _0x3028b9=![];typeof _0x5a5955['threshold']==_0x429819(0xe7)&&(_0x5a5955={..._0x5a5955,'threshold':Number(_0x5a5955[_0x429819(0x15a)])},_0x3028b9=!![]),_0x5a5955[_0x429819(0x1f3)]==null&&(_0x5a5955={..._0x5a5955,'change24h':-0x14},_0x3028b9=!![]),!_0x5a5955['fiat']&&(_0x5a5955={..._0x5a5955,'fiat':'USD'},_0x3028b9=!![]),!_0x5a5955['onepagemode']&&(_0x5a5955={..._0x5a5955,'onepagemode':settings[_0x429819(0x179)]},_0x3028b9=!![]),_0x3028b9&&(_0x5a5955={'botID':_0x5a5955['botID'],'exchange':_0x5a5955[_0x429819(0x1d8)],'apiKey':_0x5a5955[_0x429819(0x1da)],'apiSecret':_0x5a5955[_0x429819(0xbc)],'basecoin':_0x5a5955[_0x429819(0x1cd)],'botname':_0x5a5955['botname'],'showname':_0x5a5955['showname'],'threshold':_0x5a5955[_0x429819(0x15a)],'ordertype':_0x5a5955[_0x429819(0x1c3)],'timeout':_0x5a5955['timeout'],'fiat':_0x5a5955[_0x429819(0x108)],'startdate':_0x5a5955[_0x429819(0x198)],'recreate':_0x5a5955['recreate'],'timeshift':_0x5a5955[_0x429819(0x1b9)],'onepagemode':_0x5a5955[_0x429819(0x179)],'headless':_0x5a5955[_0x429819(0x11a)],'cooldown':_0x5a5955[_0x429819(0x114)],'change24h':_0x5a5955[_0x429819(0x1f3)],'emojibuy':_0x5a5955[_0x429819(0xf2)],'emojisell':_0x5a5955[_0x429819(0x10a)],'portfolio':_0x5a5955[_0x429819(0x147)],'liquidity':_0x5a5955['liquidity'],'openOrders':_0x5a5955[_0x429819(0xef)]},dbConfig['get'](_0x429819(0x117))['remove']()[_0x429819(0x9d)](),dbConfig[_0x429819(0xd9)](_0x429819(0x117))[_0x429819(0xfa)](_0x5a5955)[_0x429819(0x9d)]());}else _0x5a5955={'botID':_0x180f21,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':_0x429819(0x145)+_0x180f21,'showname':![],'threshold':0x3,'ordertype':_0x429819(0x133),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x429819(0x179)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x5a5955;}function emittedConfiguration(){const _0x18a4c5=_0xeef067;let _0x42b1d1;if(config[_0x18a4c5(0x1da)]=='')_0x42b1d1={...config,'configstate':_0x18a4c5(0x125)};else config[_0x18a4c5(0x1da)]=='***'?_0x42b1d1={...config,'configstate':'recovery'}:_0x42b1d1={...config,'apiKey':_0x18a4c5(0x104),'apiSecret':_0x18a4c5(0x104)};return _0x42b1d1;}function getSettings(){const _0x5ecd48=_0xeef067;return dbSettings['get'](_0x5ecd48(0xeb))['value']();}function getSecure(){const _0x5c1428=_0xeef067;return dbSecure['get'](_0x5c1428(0x1fa))[_0x5c1428(0x11d)]()||{};}function updateTimeshift(_0x51d454){const _0x11d3d4=_0xeef067;let _0x12fd93=dbConfig['get'](_0x11d3d4(0x117))['find']({'botID':botID})[_0x11d3d4(0x11d)]();_0x12fd93&&dbConfig[_0x11d3d4(0xd9)]('bot')['find']({'botID':botID})['assign']({'timeshift':_0x51d454})[_0x11d3d4(0x9d)](),config['timeshift']=_0x51d454,proxyEmit(_0x11d3d4(0x94),emittedConfiguration());}function updateOnepagemode(_0x4127cf){const _0x1e84ba=_0xeef067;let _0x4155bd=dbConfig[_0x1e84ba(0xd9)]('bot')[_0x1e84ba(0x1dc)]({'botID':botID})[_0x1e84ba(0x11d)]();_0x4155bd&&dbConfig[_0x1e84ba(0xd9)](_0x1e84ba(0x117))[_0x1e84ba(0x1dc)]({'botID':botID})['assign']({'onepagemode':_0x4127cf})[_0x1e84ba(0x9d)](),config['onepagemode']=_0x4127cf,proxyEmit(_0x1e84ba(0x94),emittedConfiguration());}async function storeConfiguration(_0x8408e4){const _0x144811=_0xeef067;logger[_0x144811(0x190)]('Saving\x20configuration'),blockTransactionDetection=!![],logger[_0x144811(0x190)](_0x144811(0xa7));let _0xb8312d=[],_0x165ab6=![],_0xbb929b=[];_0x8408e4[_0x144811(0x147)][_0x144811(0xdb)](_0x2c5333=>{const _0x524025=_0x144811;if(!_0x2c5333['excluded']&&_0x2c5333[_0x524025(0x110)]!=_0x8408e4['basecoin'])_0xbb929b[_0x524025(0xfa)](_0x2c5333[_0x524025(0xc3)]);}),_0xbb929b[_0x144811(0xdb)](_0x1b1a46=>{const _0x49629b=_0x144811,_0x4ff007=watchedSymbols[_0x49629b(0x1bd)](_0x1b1a46);!_0x4ff007&&_0xb8312d[_0x49629b(0xfa)](_0x1b1a46);});_0xb8312d[_0x144811(0x111)]>0x0?_0x165ab6=!![]:currentCoins['forEach'](_0x182455=>{const _0x471da5=_0x144811;if(_0x182455[_0x471da5(0x110)]!=config[_0x471da5(0x1cd)]){const _0x2e73a3=_0xbb929b[_0x471da5(0x1dc)](_0x153458=>_0x153458==_0x182455['symbol']);!_0x2e73a3&&(_0x165ab6=!![]);}});let _0x270bac=dbConfig[_0x144811(0xd9)]('bot')[_0x144811(0x1dc)]({'botID':botID})[_0x144811(0x11d)]();_0x8408e4={..._0x8408e4,'apiKey':crypt['decrypt'](secure[_0x144811(0xc0)],_0x8408e4[_0x144811(0x1da)])[_0x144811(0x157)],'apiSecret':crypt[_0x144811(0x1e6)](secure[_0x144811(0xc0)],_0x8408e4['apiSecret'])[_0x144811(0x157)]};let _0x19a6c7=![];_0x270bac?(_0x8408e4[_0x144811(0x1da)]==_0x144811(0x104)?_0x8408e4[_0x144811(0x1da)]=config[_0x144811(0x1da)]:_0x19a6c7=!![],_0x8408e4['apiSecret']==_0x144811(0x104)?_0x8408e4['apiSecret']=config['apiSecret']:_0x19a6c7=!![],dbConfig[_0x144811(0xd9)](_0x144811(0x117))[_0x144811(0x1dc)]({'botID':botID})[_0x144811(0x13c)](_0x8408e4)[_0x144811(0x9d)]()):(dbConfig[_0x144811(0xd9)](_0x144811(0x117))[_0x144811(0xfa)](_0x8408e4)['write'](),_0x19a6c7=!![],process[_0x144811(0x121)]({'status':'enabled','live':_0x144811(0x13b)},_0x36f3dd=>{}));config={..._0x8408e4},setStartDatePerformance(),process[_0x144811(0x121)]({'botname':_0x8408e4[_0x144811(0x1c0)]},_0xd75c06=>{}),updateBotManager(),initialPerformanceStored=![],proxyEmit(_0x144811(0xec)),await initCoinResults();if(_0x19a6c7)await reset(_0xb8312d,!![]);else{if(_0x165ab6)await reset(_0xb8312d,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger[_0x144811(0x190)]('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x32f8e6){const _0x51dab7=_0xeef067,_0x4004c7={...config,'headless':_0x32f8e6[_0x51dab7(0x11a)]};let _0x4acdc3=dbConfig[_0x51dab7(0xd9)](_0x51dab7(0x117))['find']({'botID':botID})[_0x51dab7(0x11d)]();_0x4acdc3&&dbConfig[_0x51dab7(0xd9)]('bot')[_0x51dab7(0x1dc)]({'botID':botID})['assign'](_0x4004c7)[_0x51dab7(0x9d)](),config={..._0x4004c7},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x4d4d21){const _0x30a420=_0xeef067,_0x2f0058={...config,'fiat':_0x4d4d21};let _0x28a45c=dbConfig[_0x30a420(0xd9)](_0x30a420(0x117))[_0x30a420(0x1dc)]({'botID':botID})[_0x30a420(0x11d)]();_0x28a45c&&dbConfig[_0x30a420(0xd9)]('bot')[_0x30a420(0x1dc)]({'botID':botID})[_0x30a420(0x13c)](_0x2f0058)['write'](),config={..._0x2f0058},proxyEmit(_0x30a420(0x94),emittedConfiguration());}function resetHistory(){const _0x403885=_0xeef067;logger['full'](_0x403885(0xa5));try{if(fs[_0x403885(0x126)](path[_0x403885(0x17c)](configpath,_0x403885(0x1bf)+botID+'-events.json')))fs['unlinkSync'](path[_0x403885(0x17c)](configpath,'bot-'+botID+_0x403885(0x168)));if(fs[_0x403885(0x126)](path[_0x403885(0x17c)](configpath,_0x403885(0x1bf)+botID+'-performance.json')))fs[_0x403885(0x137)](path['join'](configpath,_0x403885(0x1bf)+botID+_0x403885(0x8f)));if(fs[_0x403885(0x126)](path['join'](configpath,_0x403885(0x1bf)+botID+_0x403885(0xc1))))fs[_0x403885(0x137)](path[_0x403885(0x17c)](configpath,_0x403885(0x1bf)+botID+_0x403885(0xc1)));}catch(_0x5a22b6){if(_0x5a22b6)logger[_0x403885(0x128)](_0x403885(0xda),_0x5a22b6);}const _0x36b2d7=getDate();let _0x395216=[];currentCoins[_0x403885(0xdb)](_0x509b5a=>{const _0x3e501b=_0x403885;_0x395216[_0x3e501b(0xfa)]({'coin':_0x509b5a[_0x3e501b(0x110)],'number':_0x509b5a[_0x3e501b(0xe9)],'price':_0x509b5a['last']});});let _0x17bb73=dbConfig[_0x403885(0xd9)]('bot')[_0x403885(0x1dc)]({'botID':botID})[_0x403885(0x11d)]();_0x17bb73&&(dbConfig[_0x403885(0xd9)](_0x403885(0x117))[_0x403885(0x1dc)]({'botID':botID})[_0x403885(0x13c)]({'liquidity':[{'date':_0x36b2d7,'changes':_0x395216}]})[_0x403885(0x9d)](),config[_0x403885(0x186)]=[]),process[_0x403885(0x121)]({'stop':_0x403885(0xc7)},_0x342fba=>{});}function noslash(_0x517052){return _0x517052['replace']('/','');}function _0x554c(){const _0x2af2f4=['\x20order:\x20','21252aLjzqH','coin','length','sort','add','cooldown','110LoPneX','round','bot','success','YOYOW/','headless','customId','API-key\x20format\x20invalid','value','limits','filled','exchanges','send','Unknown\x20error\x20occured','Exchange','USD','initial','existsSync','/output-000.log','full','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','-------------------------------\x0a','Failed\x20to\x20load\x20coin\x20data\x20for\x20','deleteHistoryAlerts','log','0\x20-\x20EXECUTION:\x20','shift','\x20value','fromCodePoint','enabled','market','getDate','\x20|\x20highest:\x20','timestamp','unlinkSync','***','format','additional\x20symbols\x20','running','assign','date','watchTransactions','</pre>','page','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','BTC','2.5.0','showConfig','Bot\x20','\x20|\x20lock\x20orders:\x20','portfolio','Fee\x20discount\x20refund\x20detected:\x20','/backup/','buys','pro','parse','Order(s)\x20not\x20validated\x20after\x20','balances','storeFiat','getOpenOrders()','XEM/BUSD','watchOrders','limit','net-basecoin','last','InsufficientFunds','message','createWriteStream','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','threshold','balancing\x20resumes\x20when\x20cooldown\x20ends','placeOrder()','argv','\x20API\x20key\x20is\x20invalid','change','NANO/','getSeconds','14270839TiIEtl','split','10sIvxax','2\x20-\x20FILLED\x20known\x20order:\x20','createOrder','mkdirSync','-events.json','1066473ZpEZOU','startnumber','BNB/','LOCKED','2\x20-\x20FILLED\x20unknown\x20order:\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','loadMarkets','performance','changes','9106632CIHQOF','has','USDT','Executing\x20exchange\x20reload','./config/','milliseconds','2480778RudXtQ','onepagemode','Invalid\x20API\x20key\x20or\x20secret\x20entered','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','join','padEnd','concat','loadSymbols()','7jbOkUH','filter','highest','error','distribution','ExchangeNotAvailable','liquidity','min','added','Crypt','rightTxt','date-fns','set','splice','fees','parseISO','debug','InvalidNonce','sortBy','Executed\x20','\x20exchange','\x20API\x20secret\x20is\x20invalid','buy','yyyy-MM-dd\x27T\x27HH:mm:ss','startdate','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','2.3.5','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','recent20','currency','showname','1\x20-\x20Handle\x20open\x20orders','AuthenticationError','26GFDsxR','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','Reset\x20|\x20','limit-low','exchange\x20not\x20reloaded','coin-loading-progress','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','getMonth','trade','\x20not\x20available','fee','Initiating\x20exchange\x20reload','max','side','valid','average','toggleBotMode','cancelLoading','61993wzPwsQ','<pre>','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','sendMetricsTelegram','\x20minutes\x20-\x20','args','timeshift','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','price','abs','includes','loading-canceled','bot-','botname','startprice','logs','ordertype','placeOrder','./version.json','path','emitHistory','resetHistory','BNB','keys','padStart','sells','basecoin','offset','Limit\x20(low-margin)','util','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','isEqual','2\x20-\x20Validate\x20orders:\x20','realized','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','getHours','ORDERS.UNLOCKING','exchange','initclient','apiKey','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','find','version','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','fetchOpenOrders','Invalid\x20quantity','no\x20open\x20orders','UNLOCKED','lowdb/adapters/FileSync','toLowerCase','sha256','decrypt','defaults','<b>Bot\x20','bots','eur','fetchTickers','No\x20more\x20open\x20orders\x20-\x20','yyyy/MM/dd','getPortfolio(1)','DAI/','Manual\x20balancing\x20required','getCoinNumber()','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','change24h','sendPortfolioTelegram','cloneDeep','\x20>\x20','BUSD','timeout','getTime','secure','usd','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','exec','cancelOrders()','getFullYear','target','excluded','\x20metrics:</b>\x20\x0a\x0a','leftTxt','reverse','Portfolio\x20change\x20detected:\x20','delta','/USD','lowdb','\x20|\x20Error\x20details:\x20','ccxt','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','fetchBalance','open','storeConfiguration','-performance.json','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','./logs/','cost','indexOf','configuration','cancel','ticker','final','3\x20-\x20handling\x20FILLED\x20order:\x20','2\x20-\x20Orders\x20unlocked','test','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','Limit\x20(high-margin)','write','constructor','clientOrderId','event-history','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','remove','\x20closed\x20the\x20connection','watchTrades','Resetting\x20bot\x20history','2798984FwzAPQ','Transaction\x20detection\x20blocked','(((.+)+)+)+$','toString','1\x20-\x20FILLED:\x20','ongoing','random','Binance','warning','Order\x20amount\x20is\x20invalid:\x20','ask',':\x20Bot\x20','progress','toFixed','slice','function','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','UNLOCKING','stringify','canceled','type','net-fiat','apiSecret','symbols','OrderNotFound','getPortfolio(2)','privateKey','-results.json','toUpperCase','symbol','\x20not\x20responding','remainingSymbols','Pausing\x20for\x20','restart','fetchTicker','\x20has\x20a\x2024h\x20drop\x20of\x20','entries','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006','MIN_NOTIONAL','\x20portfolio:</b>\x20\x0a\x0a','hybrid-crypto-js','status','\x20-\x20bot\x20not\x20started','orderstatus','search','.json','\x20minutes','simple','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','storeHeadless','starting-balance-','get','Error\x20while\x20deleting\x20files:\x20','forEach','data','total','amount','replace','bb-settings.json','ORDERS.LOCKED','orderId','cancelOrder','<b>','\x20|\x20','time','string','timer:','number','EUR','settings','configuration-stored','none','\x20:\x20','openOrders','no\x20additional\x20symbols','%\x20(','emojibuy','ETH','fetchClosedOrders','sell','RequestTimeout','apply','coins','breakeven','push','1\x20-\x20Validate\x20orders:\x20','removed','substring','limit-high','datetime','getPortfolio(0)','Fees\x20|\x20currency:\x20','event','ORDERS.UNLOCKED','************','getStartingBalances','order','Net\x20effect','fiat','percentage','emojisell','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Cooldown\x20ended\x20-\x20balancing\x20resumed',',\x20must\x20be\x20a\x203\x20digit\x20number'];_0x554c=function(){return _0x2af2f4;};return _0x554c();}function updateHighestFee(_0x70bdd1,_0x46ca17){const _0x48a641=_0xeef067;lastFees['currency']=_0x70bdd1,lastFees[_0x48a641(0x19c)]['length']===0x14&&lastFees[_0x48a641(0x19c)][_0x48a641(0x12f)](),lastFees[_0x48a641(0x19c)][_0x48a641(0xfa)](_0x46ca17),lastFees[_0x48a641(0x182)]=Math['max'](...lastFees[_0x48a641(0x19c)]);}async function updateNumberCoinsCcxt(_0x4aca36){const _0x3d521f=_0xeef067;logger[_0x3d521f(0x190)](_0x3d521f(0x12e)+_0x4aca36[_0x3d521f(0xc3)]+_0x3d521f(0xe5)+_0x4aca36[_0x3d521f(0xcf)]+_0x3d521f(0xe5)+_0x4aca36['id']+_0x3d521f(0xe5)+_0x4aca36[_0x3d521f(0x9f)]);let _0x36f20f=_0x4aca36[_0x3d521f(0xcf)],_0x577faa=![];currentCoins[_0x3d521f(0xdb)](_0x13b756=>{const _0x321ce1=_0x3d521f;_0x13b756[_0x321ce1(0xc3)]==_0x4aca36[_0x321ce1(0xc3)]&&(_0x577faa=!![]);});if(!_0x577faa)return;const _0x45ba5e=currentCoins[_0x3d521f(0x1dc)](_0x5168a8=>_0x5168a8[_0x3d521f(0xc3)]==_0x4aca36[_0x3d521f(0xc3)]),_0x494163=_0x406f5d=>{const _0x16153c=_0x3d521f;if(_0x45ba5e)_0x45ba5e[_0x16153c(0xd1)]=_0x406f5d;};if(_0x36f20f=='open')_0x494163(_0x3d521f(0x20d));else{if(_0x36f20f=='canceled'){_0x494163(_0x3d521f(0xb9));const _0x3e4363=await getCoins();[currentCoins,currentCoinsAll]=_0x3e4363,await getOpenOrders(),handleOpenOrders();}else{if(_0x36f20f=='closed'){logger[_0x3d521f(0x190)](_0x3d521f(0xaa)+_0x4aca36[_0x3d521f(0xc3)]+_0x3d521f(0xe5)+_0x4aca36[_0x3d521f(0x11f)]+_0x3d521f(0xe5)+_0x4aca36['id']+_0x3d521f(0xe5)+_0x4aca36[_0x3d521f(0x9f)]);let _0x4e69e6=![];if(lastOrders)lastOrders[_0x3d521f(0xdb)](async _0x2d9853=>{const _0x3c51db=_0x3d521f;if(_0x2d9853[_0x3c51db(0x11b)]==_0x4aca36[_0x3c51db(0x9f)]){logger[_0x3c51db(0x190)](_0x3c51db(0x165)+_0x4aca36[_0x3c51db(0x9f)]),_0x4e69e6=!![];if(_0x2d9853['filled']==0x0){logger[_0x3c51db(0x190)](_0x3c51db(0x98)+_0x4aca36[_0x3c51db(0x9f)]),_0x2d9853[_0x3c51db(0x1bb)]=_0x4aca36[_0x3c51db(0x1b0)],_0x2d9853[_0x3c51db(0x11f)]=_0x4aca36[_0x3c51db(0x11f)],_0x2d9853[_0x3c51db(0x1ab)]={'currency':_0x4aca36[_0x3c51db(0x1ab)]?_0x4aca36['fee'][_0x3c51db(0x19d)]:null,'cost':_0x4aca36['fee']?_0x4aca36[_0x3c51db(0x1ab)][_0x3c51db(0x92)]:0x0},updateHighestFee(_0x2d9853[_0x3c51db(0x1ab)][_0x3c51db(0x19d)],_0x2d9853[_0x3c51db(0x1ab)][_0x3c51db(0x92)]),_0x494163(_0x3c51db(0x11f)),await validateOrders();if(lockOrders==ORDERS[_0x3c51db(0x16c)]){const _0x16e54d=await getCoins();[currentCoins,currentCoinsAll]=_0x16e54d;}await updateCoinResults(_0x2d9853);}}});if(!_0x4e69e6){logger[_0x3d521f(0x190)](_0x3d521f(0x16d)+_0x4aca36['id']),_0x494163(_0x3d521f(0x11f));const _0x10c677=await getCoins();[currentCoins,currentCoinsAll]=_0x10c677,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x291c38=JSON[_0x3d521f(0x14c)](lastBalances[_0x3d521f(0x147)]);const _0x182b2b=_0x291c38[_0x3d521f(0x1dc)](_0x5f144e=>_0x5f144e[_0x3d521f(0xc3)]==_0x4aca36[_0x3d521f(0xc3)]);if(_0x182b2b){if(_0x36f20f==_0x3d521f(0x20d))_0x182b2b[_0x3d521f(0xd1)]=_0x182b2b['orderstatus']==_0x3d521f(0x11f)?_0x3d521f(0x11f):'open';else{if(_0x36f20f==_0x3d521f(0xb9))_0x182b2b[_0x3d521f(0xd1)]=_0x182b2b[_0x3d521f(0xd1)]==_0x3d521f(0x11f)?'filled':_0x3d521f(0xb9);else _0x36f20f=='closed'&&(_0x182b2b[_0x3d521f(0xd1)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x291c38)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x2ff040=![];currentCoins['forEach'](_0x1af207=>{const _0x1fb110=_0x26c8;_0x2ff040=allOpenOrders[_0x1fb110(0x1dc)](_0x3e47d6=>_0x3e47d6[_0x1fb110(0xc3)]==_0x1af207[_0x1fb110(0xc3)]),_0x1af207[_0x1fb110(0xd1)]=_0x2ff040?_0x1fb110(0x20d):'none';});}async function getCoins(_0x11bed4=!![],_0x684629=config['basecoin']){const _0x590cad=_0xeef067;let _0x3cb27a,_0x56201d=[],_0x3459eb=[],_0x439a55=[],_0x4ec098=[];try{_0x3cb27a=await exchange['fetchBalance'](),mybalances=_0x3cb27a[_0x590cad(0xdd)];for(const [_0x271527,_0x57feb3]of Object[_0x590cad(0xca)](mybalances)){_0x4ec098[_0x590cad(0xfa)](_0x271527);}if(_0x684629=='')for(const [_0x4730d9,_0x10dbae]of Object[_0x590cad(0xca)](mybalances)){_0x10dbae[_0x590cad(0xa9)]()!=0x0&&_0x3459eb[_0x590cad(0xfa)]({'coin':_0x4730d9});}else{let _0x309036=![];for(const [_0x52f4a0,_0x3111cd]of Object[_0x590cad(0xca)](mybalances)){if(_0x4ec098[_0x590cad(0x1bd)](_0x52f4a0)){const _0x30c74d=config['portfolio']['find'](_0x3291b8=>_0x3291b8[_0x590cad(0x110)]==_0x52f4a0),_0x75d7ec=_0x52f4a0+'/'+_0x684629,_0x4ca8a7=_0x684629+'/'+_0x52f4a0,_0x3d7940=currentCoins[_0x590cad(0x1dc)](_0x126f37=>_0x126f37[_0x590cad(0x110)]==_0x52f4a0);_0x309036=![];if((_0x3111cd['toString']()!=0x0||_0x30c74d)&&(allSymbols['includes'](_0x75d7ec)||_0x52f4a0==_0x684629))_0x52f4a0!=_0x684629&&_0x56201d[_0x590cad(0xfa)](_0x75d7ec),_0x3459eb[_0x590cad(0xfa)]({'coin':_0x52f4a0,'symbol':_0x75d7ec,'reverse':![],'number':Math[_0x590cad(0x1ad)](_0x3111cd+(_0x30c74d&&_0x30c74d['offset']||0x0),0x0),'orderstatus':_0x3d7940?_0x3d7940['orderstatus']:_0x590cad(0xed)});else(_0x3111cd[_0x590cad(0xa9)]()!=0x0||_0x30c74d)&&allSymbols[_0x590cad(0x1bd)](_0x4ca8a7)&&(_0x52f4a0!=_0x684629&&_0x56201d[_0x590cad(0xfa)](_0x4ca8a7),_0x3459eb[_0x590cad(0xfa)]({'coin':_0x52f4a0,'symbol':_0x4ca8a7,'reverse':!![],'number':Math['max'](_0x3111cd+(_0x30c74d&&_0x30c74d[_0x590cad(0x1ce)]||0x0),0x0),'orderstatus':_0x3d7940?_0x3d7940[_0x590cad(0xd1)]:'none'}));}}}}catch(_0x219c26){if(!_0x11bed4)handleErrorNoStop(_0x219c26,'getCoins()');else await handleError(_0x219c26,'getCoins()');}return _0x439a55=cloneDeep(_0x3459eb),_0x3459eb=_0x3459eb[_0x590cad(0x181)](_0x237789=>{const _0x4af61b=_0x590cad,_0x33f41d=config[_0x4af61b(0x147)][_0x4af61b(0x1dc)](_0x1cab80=>_0x1cab80[_0x4af61b(0x110)]==_0x237789[_0x4af61b(0x110)]);return _0x33f41d&&!_0x33f41d[_0x4af61b(0x201)];}),[_0x3459eb,_0x439a55];}async function getCoinNumber(_0x9b31d8){const _0x1ba59b=_0xeef067;let _0x2926ca;try{const _0x23aa9c=await exchange[_0x1ba59b(0x20c)]();_0x2926ca=_0x23aa9c[_0x1ba59b(0xdd)][_0x9b31d8];}catch(_0x14844f){await handleError(_0x14844f,_0x1ba59b(0x1f1));}return _0x2926ca;}async function getOpenOrders(){const _0x4874a6=_0xeef067;let _0x1b66c2;allOpenOrders=[];try{for(const _0x33b98d of config[_0x4874a6(0x147)]){!_0x33b98d[_0x4874a6(0x201)]&&_0x33b98d['coin']!=config[_0x4874a6(0x1cd)]&&(_0x1b66c2=await exchange[_0x4874a6(0x1df)](_0x33b98d[_0x4874a6(0xc3)]),_0x1b66c2[_0x4874a6(0x111)]>0x0&&allOpenOrders[_0x4874a6(0xfa)](_0x1b66c2[0x0]));}}catch(_0x29de9c){await handleError(_0x29de9c,_0x4874a6(0x150));}}async function handleOpenOrders(_0x39fa9e=0x0){const _0x2a07e0=_0xeef067;allOpenOrders[_0x2a07e0(0x111)]==0x0&&lockOrders==ORDERS[_0x2a07e0(0x16c)]&&allOrdersPlaced&&(_0x39fa9e==0x0?(logger[_0x2a07e0(0x190)](_0x2a07e0(0x19f)),_0x39fa9e++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x2a07e0(0x1e1))));}async function testAPI(_0x2d1cd0){const _0x2a2e63=_0xeef067,_0x421186=ccxt[_0x2d1cd0[_0x2a2e63(0x1d8)][_0x2a2e63(0x1e4)]()],_0x449c62=new _0x421186({'apiKey':_0x2d1cd0['apiKey'],'secret':_0x2d1cd0[_0x2a2e63(0xbc)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x449c62[_0x2a2e63(0x16f)]();}catch(_0xaa4352){throw _0xaa4352;}}function cloneDeep(_0x1b207f){const _0x1f3183=_0xeef067;return JSON[_0x1f3183(0x14c)](JSON['stringify'](_0x1b207f));}async function getPortfolio(_0x263c33){const _0x5532dd=_0xeef067;let _0x517595=[],_0xe4b7b3=[],_0x59ad58=[],_0x104971;if(_0x263c33['apiKey']!==_0x5532dd(0x104)||_0x263c33[_0x5532dd(0xbc)]!==_0x5532dd(0x104)){if(config[_0x5532dd(0x1d8)]){if(_0x263c33[_0x5532dd(0x1da)]==_0x5532dd(0x104))_0x263c33[_0x5532dd(0x1da)]=config[_0x5532dd(0x1da)];if(_0x263c33[_0x5532dd(0xbc)]==_0x5532dd(0x104))_0x263c33[_0x5532dd(0xbc)]=config[_0x5532dd(0xbc)];try{await testAPI(_0x263c33);}catch(_0x4acb99){if(_0x4acb99[_0x5532dd(0xa9)]()[_0x5532dd(0x1bd)](_0x5532dd(0x1a0))){logger[_0x5532dd(0x190)](_0x5532dd(0x17a)),proxyEmit(_0x5532dd(0x147),![]);return;}else{handleError(_0x4acb99,_0x5532dd(0x100));return;}}}await initExchange(_0x263c33[_0x5532dd(0x1d8)],_0x263c33[_0x5532dd(0x1da)],_0x263c33[_0x5532dd(0xbc)]);try{await loadSymbols(_0x263c33[_0x5532dd(0x1d8)],!![]);}catch(_0x5ec2c1){if(_0x5ec2c1[_0x5532dd(0xa9)]()[_0x5532dd(0x1bd)]('AuthenticationError')){proxyEmit(_0x5532dd(0x147),![]);return;}else{handleError(_0x5ec2c1,_0x5532dd(0x1ee));return;}}const _0x400d79=await getCoins(![],_0x263c33[_0x5532dd(0x1cd)]);_0x59ad58=cloneDeep(_0x400d79[0x1]);}else _0x59ad58=cloneDeep(currentCoinsAll);if(_0x263c33[_0x5532dd(0x1cd)]=='')proxyEmit(_0x5532dd(0x147),_0x59ad58);else{_0x59ad58[_0x5532dd(0xdb)](_0x24a558=>{const _0x2fa8ea=_0x5532dd;if(_0x24a558['coin']!=_0x263c33[_0x2fa8ea(0x1cd)])_0x517595['push'](_0x24a558[_0x2fa8ea(0xc3)]);});try{_0xe4b7b3=await exchange[_0x5532dd(0x1eb)](_0x517595);}catch(_0x3be10f){if(_0x3be10f[_0x5532dd(0xa9)]()[_0x5532dd(0x1bd)](_0x5532dd(0x1a0))){proxyEmit(_0x5532dd(0x147),![]);return;}else{handleError(_0x3be10f,_0x5532dd(0xbf));return;}}_0x59ad58[_0x5532dd(0xdb)](_0x17fa90=>{const _0x3ef045=_0x5532dd;_0x17fa90[_0x3ef045(0x110)]!=_0x263c33[_0x3ef045(0x1cd)]?_0x104971=_0x17fa90[_0x3ef045(0x204)]?0x1/_0xe4b7b3[_0x17fa90[_0x3ef045(0xc3)]][_0x3ef045(0x155)]:_0xe4b7b3[_0x17fa90[_0x3ef045(0xc3)]][_0x3ef045(0x155)]:_0x104971=0x1,_0x17fa90[_0x3ef045(0x1bb)]=formatResult(_0x104971,0x8);}),proxyEmit(_0x5532dd(0x147),_0x59ad58);}}function checkMinimums(_0x1d0496){const _0x4252f1=_0xeef067;let _0x399c69=!![];const _0x58c71f=!_0x1d0496[_0x4252f1(0x204)]?markets[_0x1d0496[_0x4252f1(0xc3)]]['limits'][_0x4252f1(0xde)]['min']:markets[_0x1d0496[_0x4252f1(0xc3)]][_0x4252f1(0x11e)][_0x4252f1(0x92)][_0x4252f1(0x187)],_0x4b419f=!_0x1d0496[_0x4252f1(0x204)]?markets[_0x1d0496[_0x4252f1(0xc3)]][_0x4252f1(0x11e)]['cost'][_0x4252f1(0x187)]:markets[_0x1d0496[_0x4252f1(0xc3)]][_0x4252f1(0x11e)][_0x4252f1(0xde)][_0x4252f1(0x187)],_0x30f7c0=markets[_0x1d0496['symbol']]['precision']['amount'];_0x1d0496[_0x4252f1(0x1a9)]=formatResultTruncate(_0x1d0496[_0x4252f1(0x1a9)],_0x30f7c0);if(Math[_0x4252f1(0x1bc)](_0x1d0496[_0x4252f1(0x1a9)])<_0x58c71f)_0x399c69=![];if(Math['abs'](_0x1d0496[_0x4252f1(0x1a9)])*_0x1d0496['last']<_0x4b419f)_0x399c69=![];if(_0x1d0496[_0x4252f1(0x1ae)]==_0x4252f1(0xf5)){let _0x48a8d5=config[_0x4252f1(0x147)]['find'](_0x1c7d00=>_0x1c7d00[_0x4252f1(0x110)]==_0x1d0496[_0x4252f1(0x110)]);if(_0x48a8d5[_0x4252f1(0x1ce)]>0x0){if(Math[_0x4252f1(0x1bc)](_0x1d0496[_0x4252f1(0x1a9)])>_0x1d0496[_0x4252f1(0xe9)]-_0x48a8d5[_0x4252f1(0x1ce)])_0x399c69=![];}else{if(Math[_0x4252f1(0x1bc)](_0x1d0496[_0x4252f1(0x1a9)])>_0x1d0496['number'])_0x399c69=![];}}if(_0x1d0496[_0x4252f1(0x1ae)]==_0x4252f1(0x196)){let _0x3c3083=config['portfolio'][_0x4252f1(0x1dc)](_0xf9d142=>_0xf9d142[_0x4252f1(0x110)]==config['basecoin']),_0x2f487d=currentCoins[_0x4252f1(0x1dc)](_0x183362=>_0x183362[_0x4252f1(0x110)]==config[_0x4252f1(0x1cd)]);if(_0x3c3083[_0x4252f1(0x1ce)]>0x0){if(Math[_0x4252f1(0x1bc)](_0x1d0496[_0x4252f1(0x1a9)])*_0x1d0496[_0x4252f1(0x155)]>_0x2f487d[_0x4252f1(0xe9)]-_0x3c3083['offset'])_0x399c69=![];}else{if(Math[_0x4252f1(0x1bc)](_0x1d0496['trade'])*_0x1d0496[_0x4252f1(0x155)]>_0x2f487d[_0x4252f1(0xe9)])_0x399c69=![];}}return _0x399c69;}async function getBalances(){const _0x2b069e=_0xeef067;let _0xb06e10=0x0,_0x3128f9;const _0xa0da80=config[_0x2b069e(0x15a)];if(config[_0x2b069e(0x11a)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x2b069e(0xdb)](_0x5295a0=>{const _0x4c02e4=_0x2b069e;if(_0x5295a0[_0x4c02e4(0x110)]!=config[_0x4c02e4(0x1cd)]){let _0x56ce0e=global[_0x4c02e4(0x96)][noslash(_0x5295a0[_0x4c02e4(0xc3)])];_0x3128f9=_0x5295a0[_0x4c02e4(0x204)]?0x1/_0x56ce0e:_0x56ce0e;}else _0x3128f9=0x1;let _0x177ac6=_0x5295a0['number']*_0x3128f9;_0xb06e10+=_0x177ac6,_0x5295a0[_0x4c02e4(0x155)]=formatResult(Number(_0x3128f9),0x8),_0x5295a0[_0x4c02e4(0x11d)]=_0x177ac6;}),currentCoins[_0x2b069e(0xdb)](_0x2a45ef=>{const _0x1237bd=_0x2b069e;let _0x454e91=config[_0x1237bd(0x147)][_0x1237bd(0x1dc)](_0x2b1495=>_0x2b1495[_0x1237bd(0x110)]==_0x2a45ef['coin']),_0x1ba01a=Number(_0x454e91[_0x1237bd(0x184)]),_0x34b0d6=_0x2a45ef[_0x1237bd(0x11d)]/_0xb06e10*0x64,_0x428fc1=_0x1ba01a*_0xb06e10/0x64/_0x2a45ef['last']-_0x2a45ef[_0x1237bd(0xe9)];_0x2a45ef[_0x1237bd(0x184)]=formatResult(_0x34b0d6,0x3),_0x2a45ef['target']=formatResult(_0x1ba01a,0x3),_0x2a45ef[_0x1237bd(0x1a9)]=formatResult(_0x428fc1,0x8),_0x2a45ef[_0x1237bd(0x1ae)]='',_0x2a45ef[_0x1237bd(0x1af)]=![];if(_0x2a45ef[_0x1237bd(0x110)]!=config[_0x1237bd(0x1cd)]){if(_0x2a45ef[_0x1237bd(0x184)]>_0x1ba01a)_0x2a45ef['side']='sell',_0x2a45ef['valid']=checkMinimums(_0x2a45ef);else _0x2a45ef[_0x1237bd(0x184)]<_0x1ba01a&&(_0x2a45ef[_0x1237bd(0x1ae)]='buy',_0x2a45ef[_0x1237bd(0x1af)]=checkMinimums(_0x2a45ef));}_0x2a45ef['delta']=_0x2a45ef[_0x1237bd(0x184)]/_0x2a45ef['target']-0x1;if(_0x2a45ef[_0x1237bd(0xd1)]==_0x1237bd(0x11f)||_0x2a45ef['orderstatus']==_0x1237bd(0xb9))_0x2a45ef[_0x1237bd(0xd1)]=_0x1237bd(0xed);}),currentCoins[_0x2b069e(0x112)]((_0x4ae10c,_0x996c5d)=>_0x4ae10c[_0x2b069e(0x206)]<_0x996c5d['delta']?0x1:_0x996c5d['delta']<_0x4ae10c['delta']?-0x1:0x0);const _0x25b181=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x25b181['eur'],'usd':_0x25b181[_0x2b069e(0x1fb)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0xa0da80},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x2b069e(0x11a)])headlessMode({'portfolio':currentCoins,'threshold':_0xa0da80});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0xa0da80});}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x50fade=getNormalizedPerformance();getStartingBalances(_0x50fade),emitPerformance(_0x50fade);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x30e2dc=getNormalizedPerformance();emitPerformance(_0x30e2dc),getStartingBalances(_0x30e2dc),logger[_0x2b069e(0x190)](_0x2b069e(0x1de));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2c6d1e=_0xeef067;if(!lastBalances)return;let _0x1f6330=[],_0x86d1eb,_0x124f07=JSON[_0x2c6d1e(0x14c)](lastBalances[_0x2c6d1e(0x147)]);_0x124f07[_0x2c6d1e(0x112)]((_0x1c90bf,_0x47570e)=>_0x1c90bf['coin']>_0x47570e[_0x2c6d1e(0x110)]?0x1:_0x47570e[_0x2c6d1e(0x110)]>_0x1c90bf['coin']?-0x1:0x0),_0x124f07[_0x2c6d1e(0xdb)](_0x4cba51=>{const _0xecc48d=_0x2c6d1e;let _0xeaa0ee={'coin':_0x4cba51[_0xecc48d(0x110)],'number':_0x4cba51['number'],'price':_0x4cba51[_0xecc48d(0x155)]};_0x1f6330[_0xecc48d(0xfa)](_0xeaa0ee);});const _0xa6a963=await getFiat();_0x86d1eb={'date':lastBalances[_0x2c6d1e(0xe6)][_0x2c6d1e(0x163)]('\x20')[0x0],'eur':_0xa6a963[_0x2c6d1e(0x1ea)],'usd':_0xa6a963[_0x2c6d1e(0x1fb)],'coins':_0x1f6330};let _0x210c45=dbPerformance[_0x2c6d1e(0xd9)]('data')[_0x2c6d1e(0x1dc)]({'date':_0x86d1eb[_0x2c6d1e(0x13d)]})[_0x2c6d1e(0x11d)]();_0x210c45?_0x86d1eb[_0x2c6d1e(0x13d)]!=config[_0x2c6d1e(0x198)]&&dbPerformance[_0x2c6d1e(0xd9)](_0x2c6d1e(0xdc))[_0x2c6d1e(0x1dc)]({'date':_0x86d1eb[_0x2c6d1e(0x13d)]})['assign'](_0x86d1eb)[_0x2c6d1e(0x9d)]():dbPerformance['get'](_0x2c6d1e(0xdc))[_0x2c6d1e(0xfa)](_0x86d1eb)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x590193=_0xeef067;let _0x41a60e=[];if(dbPerformance[_0x590193(0x173)]('data')[_0x590193(0x11d)]()){let _0x2254bf=dbPerformance['get'](_0x590193(0xdc))[_0x590193(0x1f5)]()[_0x590193(0x192)](_0x590193(0x13d))[_0x590193(0x11d)](),_0x3f0366=[...config[_0x590193(0x186)]];_0x3f0366['sort']((_0x432320,_0x4f93fc)=>_0x432320['date']>_0x4f93fc['date']?-0x1:_0x4f93fc['date']>_0x432320[_0x590193(0x13d)]?0x1:0x0);let _0x5ec36f=0x1,_0x21f4b4=[],_0x361e85=0x0;_0x2254bf[_0x590193(0xb4)]()[_0x590193(0x204)]()[_0x590193(0xdb)]((_0x204fd3,_0xf9e6cd)=>{const _0x45818c=_0x590193;if(_0x3f0366[_0x361e85]){if(_0x2254bf[_0x2254bf[_0x45818c(0x111)]-_0xf9e6cd]&&_0x3f0366[_0x361e85][_0x45818c(0x13d)]==_0x2254bf[_0x2254bf['length']-_0xf9e6cd]['date']){if(_0xf9e6cd<_0x2254bf['length']){let _0x4b86b4=0x0,_0x27aa66=0x0;_0x2254bf[_0x2254bf['length']-_0xf9e6cd][_0x45818c(0xf8)]['forEach'](_0x48fd14=>{_0x27aa66+=_0x48fd14['number']*_0x48fd14['price'];}),_0x3f0366[_0x361e85][_0x45818c(0x171)][_0x45818c(0xdb)](_0x22f7c2=>{const _0x32705d=_0x45818c;_0x4b86b4+=_0x22f7c2[_0x32705d(0xe9)]*_0x22f7c2[_0x32705d(0x1bb)];}),_0x5ec36f*=_0x4b86b4/(_0x27aa66-_0x4b86b4)+0x1;}_0x361e85++;}}let _0x43e296=0x0;_0x204fd3[_0x45818c(0xf8)][_0x45818c(0xdb)](_0x4daae3=>{const _0x1bef90=_0x45818c;_0x43e296+=_0x4daae3[_0x1bef90(0xe9)]*_0x4daae3[_0x1bef90(0x1bb)];}),_0x21f4b4[_0x2254bf['length']-_0xf9e6cd-0x1]=_0x43e296*(_0x5ec36f-0x1);});let _0x431ac6=[];_0x3f0366=[...config[_0x590193(0x186)]]||[];let _0x3f79e7=0x0;_0x361e85=0x0,_0x2254bf[_0x590193(0xdb)]((_0x4bb8b6,_0x13d220)=>{const _0x54011f=_0x590193;if(_0x3f0366[_0x361e85]){const _0x10a338=fns[_0x54011f(0x14c)](_0x3f0366[_0x361e85]['date'],_0x54011f(0x1ed),new Date()),_0x1fad58=fns[_0x54011f(0x14c)](_0x4bb8b6[_0x54011f(0x13d)],_0x54011f(0x1ed),new Date());if(fns['isEqual'](_0x10a338,_0x1fad58)){let _0x8fe937=0x0;_0x3f0366[_0x361e85][_0x54011f(0x171)][_0x54011f(0xdb)](_0x18aeba=>{const _0x57e142=_0x54011f;!_0x431ac6[_0x18aeba[_0x57e142(0x110)]]?_0x431ac6[_0x18aeba[_0x57e142(0x110)]]=_0x18aeba[_0x57e142(0xe9)]:(_0x8fe937=_0x431ac6[_0x18aeba['coin']],_0x431ac6[_0x18aeba['coin']]+=_0x18aeba[_0x57e142(0xe9)]);const _0x5c3949=_0x4bb8b6[_0x57e142(0xf8)][_0x57e142(0x1dc)](_0x566ce8=>_0x566ce8[_0x57e142(0x110)]==_0x18aeba[_0x57e142(0x110)]);(!_0x5c3949||_0x5c3949['number']==0x0)&&(_0x3f79e7+=(-_0x18aeba[_0x57e142(0xe9)]-_0x8fe937)*_0x18aeba[_0x57e142(0x1bb)]);}),_0x361e85++;}}_0x4bb8b6[_0x54011f(0xf8)][_0x54011f(0xdb)]((_0x5f012e,_0x5f507f)=>{const _0x3f5800=_0x54011f;_0x431ac6[_0x5f012e[_0x3f5800(0x110)]]&&(_0x5f012e[_0x3f5800(0x125)]=_0x431ac6[_0x5f012e[_0x3f5800(0x110)]]);}),_0x41a60e[_0x54011f(0xfa)]({'date':_0x4bb8b6[_0x54011f(0x13d)],'eur':_0x4bb8b6[_0x54011f(0x1ea)],'usd':_0x4bb8b6[_0x54011f(0x1fb)],'offset':_0x21f4b4[_0x13d220],'netoffset':_0x3f79e7,'coins':_0x4bb8b6['coins']});});}return _0x41a60e;}function emitPerformance(_0x458350){const _0x37f551=_0xeef067;_0x458350['length']!==0x0?(proxyEmit(_0x37f551(0x170),_0x458350),lastPerformanceEmitted=getDate()):proxyEmit(_0x37f551(0x170),[]);}function getPerf(_0x1103b8,_0x5a7410){const _0x4b308c=_0xeef067;let _0xf1775d=0x0,_0x540d1c=0x0,_0xd36751=0x0;_0x1103b8[_0x4b308c(0xf8)]['forEach'](_0x1490e7=>{const _0x4526ba=_0x4b308c;_0xf1775d+=_0x1490e7[_0x4526ba(0xe9)]*_0x1490e7['price'];});_0x5a7410&&(_0xf1775d+=_0x1103b8['offset']);if(config[_0x4b308c(0x1cd)]===_0x4b308c(0x142)||config[_0x4b308c(0x1cd)]==='ETH')_0x540d1c=_0xf1775d*_0x1103b8['eur'],_0xd36751=_0xf1775d*_0x1103b8[_0x4b308c(0x1fb)];else{if(config[_0x4b308c(0x1cd)]===_0x4b308c(0x1f7)||config[_0x4b308c(0x1cd)]===_0x4b308c(0x174)||config['basecoin']===_0x4b308c(0x124))_0x540d1c=_0xf1775d*_0x1103b8[_0x4b308c(0x1ea)]/_0x1103b8[_0x4b308c(0x1fb)],_0xd36751=_0xf1775d;else config[_0x4b308c(0x1cd)]===_0x4b308c(0xea)&&(_0x540d1c=_0xf1775d,_0xd36751=_0xf1775d*_0x1103b8[_0x4b308c(0x1fb)]/_0x1103b8[_0x4b308c(0x1ea)]);}return[_0xf1775d,_0x540d1c,_0xd36751];}function getKPIs(_0x5d7efb,_0x2a09e5='EUR'){const _0x5b68a8=_0xeef067,_0x46ccf9=config[_0x5b68a8(0x1cd)],_0x30dcfa=lastBalances,_0x57dcea=currentCoins,_0x121b4f=getNormalizedPerformance(),_0x3871b5=_0x5d7efb===_0x5b68a8(0x1cd)?_0x46ccf9:_0x5d7efb===_0x5b68a8(0x108)||_0x5d7efb===_0x5b68a8(0xbb)?_0x2a09e5:'Net\x20'+_0x46ccf9,_0x17f2bd=_0x5d7efb==='net-basecoin'?_0x5b68a8(0x107):_0x5d7efb==='net-fiat'?_0x5b68a8(0x107):_0x3871b5+_0x5b68a8(0x130),_0x2fea03=_0x5d7efb==='net-basecoin'||_0x5d7efb==='net-fiat'?_0x5b68a8(0x107):_0x3871b5+'\x20change';let _0x21c19d=0x0;_0x57dcea[_0x5b68a8(0xdb)](_0x54a464=>{const _0x103e9f=_0x5b68a8;_0x21c19d+=_0x54a464['number']*_0x54a464[_0x103e9f(0x155)];});if(_0x5d7efb==='fiat'||_0x5d7efb===_0x5b68a8(0xbb)){if(_0x46ccf9===_0x5b68a8(0x142)||_0x46ccf9==='ETH')_0x21c19d=_0x21c19d*(_0x2a09e5===_0x5b68a8(0xea)?_0x30dcfa['eur']:_0x30dcfa[_0x5b68a8(0x1fb)]);else{if(_0x46ccf9==='BUSD'||_0x46ccf9==='USDT'||_0x46ccf9===_0x5b68a8(0x124))_0x21c19d=_0x21c19d*(_0x2a09e5===_0x5b68a8(0xea)?_0x30dcfa['eur']/_0x30dcfa[_0x5b68a8(0x1fb)]:0x1);else _0x46ccf9===_0x5b68a8(0xea)&&(_0x21c19d=_0x21c19d*(_0x2a09e5==='EUR'?0x1:_0x30dcfa[_0x5b68a8(0x1fb)]/_0x30dcfa['eur']));}}let _0x7539d0;if(_0x21c19d!==0x0){if(_0x5d7efb===_0x5b68a8(0x1cd))_0x7539d0=(_0x21c19d/startingBalances[_0x5b68a8(0x1cd)]-0x1)*0x64;else{if(_0x2a09e5==='EUR')_0x7539d0=(_0x21c19d/startingBalances[_0x5b68a8(0x1ea)]-0x1)*0x64;else _0x7539d0=(_0x21c19d/startingBalances[_0x5b68a8(0x1fb)]-0x1)*0x64;}let _0x24dc7f=0x0;if(startingBalances['coins'])_0x57dcea['forEach'](_0x1b1e84=>{const _0x1c32ec=_0x5b68a8;let _0x4850d7=startingBalances['coins'][_0x1c32ec(0x1dc)](_0x3d7b0e=>_0x3d7b0e['coin']===_0x1b1e84['coin']);if(_0x4850d7&&_0x4850d7[_0x1c32ec(0x110)]&&_0x1b1e84[_0x1c32ec(0xe9)]!==0x0)_0x24dc7f+=_0x4850d7[_0x1c32ec(0xe9)]*_0x1b1e84['last'];});let _0xfe3f90=0x0;if(_0x121b4f[_0x5b68a8(0x111)]!==0x0){let _0x299f46=_0x121b4f[_0x121b4f[_0x5b68a8(0x111)]-0x1];_0xfe3f90=_0x299f46['netoffset'];}_0x24dc7f-=_0xfe3f90;_0x5d7efb===_0x5b68a8(0x154)&&(_0x7539d0=(_0x21c19d-_0x24dc7f)/startingBalances[_0x5b68a8(0x1cd)]*0x64,_0x21c19d=_0x21c19d-_0x24dc7f);if(_0x5d7efb===_0x5b68a8(0xbb)){let _0x122b14=_0x2a09e5===_0x5b68a8(0xea)?startingBalances[_0x5b68a8(0x1ea)]:startingBalances[_0x5b68a8(0x1fb)];if(_0x46ccf9===_0x5b68a8(0x142)||_0x46ccf9==='ETH')_0x24dc7f=_0x2a09e5===_0x5b68a8(0xea)?_0x24dc7f*_0x30dcfa[_0x5b68a8(0x1ea)]:_0x24dc7f*_0x30dcfa['usd'];else{if(_0x46ccf9===_0x5b68a8(0x1f7)||_0x46ccf9===_0x5b68a8(0x174)||_0x46ccf9===_0x5b68a8(0x124))_0x24dc7f=_0x2a09e5===_0x5b68a8(0xea)?_0x24dc7f*_0x30dcfa[_0x5b68a8(0x1ea)]/_0x30dcfa[_0x5b68a8(0x1fb)]:_0x24dc7f;else _0x46ccf9===_0x5b68a8(0xea)&&(_0x24dc7f=_0x2a09e5===_0x5b68a8(0xea)?_0x24dc7f:_0x24dc7f*_0x30dcfa['usd']/_0x30dcfa['eur']);}_0x7539d0=(_0x21c19d-_0x24dc7f)/_0x122b14*0x64,_0x21c19d=_0x21c19d-_0x24dc7f;}if(_0x7539d0){if(_0x7539d0<0x64)_0x7539d0=_0x7539d0[_0x5b68a8(0xb3)](0x2);else{if(_0x7539d0<0x3e8)_0x7539d0=_0x7539d0[_0x5b68a8(0xb3)](0x1);else _0x7539d0=_0x7539d0[_0x5b68a8(0xb3)](0x0);}}else _0x7539d0=Number('0')[_0x5b68a8(0xb3)](0x2);if(_0x21c19d){if(Math[_0x5b68a8(0x1bc)](_0x21c19d)<0.000001)_0x21c19d=_0x21c19d['toFixed'](0x2);else{if(Math[_0x5b68a8(0x1bc)](_0x21c19d)<0.1)_0x21c19d=_0x21c19d['toFixed'](0x6);else{if(Math['abs'](_0x21c19d)<0x1)_0x21c19d=_0x21c19d[_0x5b68a8(0xb3)](0x5);else{if(Math[_0x5b68a8(0x1bc)](_0x21c19d)<0xa)_0x21c19d=_0x21c19d[_0x5b68a8(0xb3)](0x4);else{if(Math[_0x5b68a8(0x1bc)](_0x21c19d)<0x64)_0x21c19d=_0x21c19d[_0x5b68a8(0xb3)](0x3);else{if(Math[_0x5b68a8(0x1bc)](_0x21c19d)<0x3e8)_0x21c19d=_0x21c19d['toFixed'](0x2);else _0x21c19d=_0x21c19d[_0x5b68a8(0xb3)](0x2);}}}}}}else _0x21c19d=Number('0')['toFixed'](0x2);}else _0x7539d0=Number('0')[_0x5b68a8(0xb3)](0x2);return{'value':_0x21c19d,'change':_0x7539d0,'leftTxt':_0x17f2bd,'rightTxt':_0x2fea03};}async function getStartingBalances(_0x587be5,_0x43b771=!![]){const _0x4b9401=_0xeef067;if(_0x587be5[_0x4b9401(0x111)]!==0x0){const [_0x3d4369,_0x3b7453,_0x8b48dd]=getPerf(_0x587be5[0x0],!![]);let _0x547308=[];config['portfolio'][_0x4b9401(0xdb)](_0x4f8375=>{const _0x269398=_0x4b9401;let _0x54b18b=0x0,_0x35f8a6;config[_0x269398(0x186)][_0x269398(0xdb)](_0x4c6514=>{const _0x3f38b6=_0x269398;let _0x5261b9=_0x4c6514['changes'][_0x3f38b6(0x1dc)](_0x5a78d6=>_0x5a78d6[_0x3f38b6(0x110)]==_0x4f8375[_0x3f38b6(0x110)]);if(_0x5261b9){_0x54b18b+=_0x5261b9[_0x3f38b6(0xe9)];if(!_0x35f8a6)_0x35f8a6=_0x5261b9['price'];}}),_0x547308['push']({'coin':_0x4f8375[_0x269398(0x110)],'number':_0x54b18b,'initialprice':_0x35f8a6});});const _0x151554={'basecoin':_0x3d4369,'eur':_0x3b7453,'usd':_0x8b48dd,'coins':_0x547308};if(_0x43b771)proxyEmit('starting-balances',_0x151554);startingBalances=_0x151554;}}function headlessMode(_0x1486a8){const _0x20bcd1=_0xeef067;let _0x4bc85f=_0x1486a8['portfolio'],_0x3e3d1e=_0x1486a8[_0x20bcd1(0x15a)],_0x1c22e=[];for(let _0x17ae27 of _0x4bc85f){if(_0x17ae27[_0x20bcd1(0x110)]!=config[_0x20bcd1(0x1cd)]){if(_0x17ae27['delta']>=_0x3e3d1e/0x64){if(_0x17ae27[_0x20bcd1(0x1af)])_0x1c22e[_0x20bcd1(0xfa)](_0x17ae27);}else{if(_0x17ae27[_0x20bcd1(0x206)]<=-_0x3e3d1e/0x64){if(_0x17ae27[_0x20bcd1(0x1af)])_0x1c22e[_0x20bcd1(0xfa)](_0x17ae27);}}}}_0x1c22e[_0x20bcd1(0x111)]>0x0&&placeOrder(_0x1c22e);}function notifyBalance(_0x119ba9){const _0x2b4205=_0xeef067;let _0x17f873=_0x119ba9[_0x2b4205(0x147)],_0x11406a=_0x119ba9[_0x2b4205(0x15a)],_0x136930=[];for(let _0x4e276b of _0x17f873){if(_0x4e276b['coin']!=config[_0x2b4205(0x1cd)]){if(_0x4e276b[_0x2b4205(0x206)]>=_0x11406a/0x64){if(_0x4e276b['valid'])_0x136930[_0x2b4205(0xfa)](_0x4e276b);}else{if(_0x4e276b[_0x2b4205(0x206)]<=-_0x11406a/0x64){if(_0x4e276b[_0x2b4205(0x1af)])_0x136930['push'](_0x4e276b);}}}}if(_0x136930[_0x2b4205(0x111)]>0x0){let _0x5ba430=_0x136930['map'](_0x2452ec=>_0x2452ec['coin']);_0x5ba430[_0x2b4205(0x112)]();let _0x35ba49=_0x5ba430[_0x2b4205(0x17c)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x2b4205(0x1f0));lastCoinsToBalance=_0x35ba49;}}function symbolToCoin(_0x48a220){const _0x5a5723=_0xeef067;let _0x7fc4a0;if(_0x48a220[_0x5a5723(0x1bd)]('/'+config[_0x5a5723(0x1cd)]))_0x7fc4a0=_0x48a220[_0x5a5723(0xdf)]('/'+config['basecoin'],'');if(_0x48a220[_0x5a5723(0x1bd)](config[_0x5a5723(0x1cd)]+'/'))_0x7fc4a0=_0x48a220[_0x5a5723(0xdf)](config[_0x5a5723(0x1cd)]+'/','');return _0x7fc4a0;}async function unlockOrders(){const _0x565ae2=_0xeef067;if(allOrdersPlaced&&lockOrders==ORDERS[_0x565ae2(0x16c)]){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x565ae2(0xb7)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x2e0c28=await getCoins();[currentCoins,currentCoinsAll]=_0x2e0c28,validateOrdersState=_0x565ae2(0x125),persistOpenOrders([]),lockOrders=ORDERS[_0x565ae2(0x1e2)],logger[_0x565ae2(0x190)](_0x565ae2(0x99));}}async function validateOrders(_0x316b3b){const _0x36f0b9=_0xeef067;if(_0x316b3b)validateOrdersState=_0x316b3b;logger[_0x36f0b9(0x190)](_0x36f0b9(0xfb)+validateOrdersState+_0x36f0b9(0x146)+(lockOrders==0x1?_0x36f0b9(0xe1):lockOrders==0x2?_0x36f0b9(0x1d7):_0x36f0b9(0x103)));let _0x51f64c=[],_0x48c500=config[_0x36f0b9(0x1c3)]==_0x36f0b9(0x133)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x36f0b9(0x1f8)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x36f0b9(0x16c)])return;logger[_0x36f0b9(0x190)](_0x36f0b9(0x1d3)+validateOrdersState),lastOrders[_0x36f0b9(0xdb)](_0x789a86=>{const _0x5bca58=_0x36f0b9;let _0xf26324=![];_0x789a86[_0x5bca58(0x11f)]>0x0&&(_0xf26324=!![]),_0x51f64c[_0x5bca58(0xfa)](_0xf26324),_0xf26324&&config[_0x5bca58(0x1c3)]!=_0x5bca58(0x133)&&logHistory(_0x5bca58(0x106),'Order\x20filled:\x20'+_0x789a86['symbol']+'\x20'+_0x789a86[_0x5bca58(0x1ae)]+'\x20#'+formatResult(_0x789a86['filled'],0x8)+'\x20@'+formatResult(_0x789a86['price'],0x8));}),_0x51f64c[_0x36f0b9(0xdb)]((_0x27d243,_0x2e9130)=>{const _0x52fbc8=_0x36f0b9;if(_0x27d243)lastOrders[_0x52fbc8(0x18d)](_0x2e9130,0x1);}),persistOpenOrders(lastOrders);const _0x336399=coolingDown?_0x36f0b9(0x15b):'balancing\x20resumed';if(validateOrdersState==_0x36f0b9(0x125)){validateOrdersState=_0x36f0b9(0xab);if(_0x51f64c[_0x36f0b9(0x1bd)](![])){if(config[_0x36f0b9(0x1c3)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x36f0b9(0xab)){if(_0x51f64c[_0x36f0b9(0x1bd)](![])){}else{if(allOrdersPlaced){if(config[_0x36f0b9(0x1c3)]==_0x36f0b9(0x133)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x36f0b9(0x97))_0x51f64c[_0x36f0b9(0x1bd)](![])&&(config['ordertype']==_0x36f0b9(0x133)?logHistory('success',_0x36f0b9(0x14d)+Math[_0x36f0b9(0x116)](_0x48c500*validateOrderInterval/0xea60)+_0x36f0b9(0x1b7)+_0x336399):(await cancelOrders(),logHistory(_0x36f0b9(0x118),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x36f0b9(0x116)](_0x48c500*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x336399))),await unlockOrders();else{if(validateOrdersState==_0x36f0b9(0x1e1)){if(config[_0x36f0b9(0x1c3)]!=_0x36f0b9(0x133))logHistory(_0x36f0b9(0x118),_0x36f0b9(0x1ec)+_0x336399);await unlockOrders();}}}}}async function cancelOrders(){const _0x497229=_0xeef067;lastOrders[_0x497229(0xdb)](async _0x2ab669=>{const _0x149c76=_0x497229;try{const _0x4b47ed=await exchange[_0x149c76(0xe3)](_0x2ab669[_0x149c76(0xe2)],_0x2ab669[_0x149c76(0xc3)]);}catch(_0x291fad){if(_0x291fad['toString']()[_0x149c76(0x1bd)](_0x149c76(0xbe))){}else await handleError(_0x291fad,_0x149c76(0x1fe));}});}async function initCoinResults(){const _0xcccd19=_0xeef067;let _0x593a9=[];config[_0xcccd19(0x147)][_0xcccd19(0xdb)](_0x243ed6=>{const _0xa37049=_0xcccd19;if(!_0x243ed6[_0xa37049(0x201)]&&_0x243ed6[_0xa37049(0x110)]!=config['basecoin']){let _0x195f25=dbCoinResults['get'](_0xa37049(0xf8))[_0xa37049(0x1dc)]({'coin':_0x243ed6[_0xa37049(0x110)]})[_0xa37049(0x11d)]();if(!_0x195f25){const _0x4cfb97=currentCoins[_0xa37049(0x1dc)](_0x4fe3a1=>_0x4fe3a1['coin']==_0x243ed6[_0xa37049(0x110)]),_0x4741a8=global[_0xa37049(0x96)][noslash(_0x243ed6[_0xa37049(0xc3)])];let _0x331c6c=_0x4cfb97?_0x4cfb97[_0xa37049(0xe9)]:null,_0x149f7b=_0x243ed6[_0xa37049(0x204)]?0x1/_0x4741a8:_0x4741a8,_0x35db63;config['liquidity'][_0xa37049(0xdb)](_0x365f82=>{const _0x494775=_0xa37049;!_0x35db63&&(_0x35db63=_0x365f82[_0x494775(0x171)][_0x494775(0x1dc)](_0x483b03=>_0x483b03[_0x494775(0x110)]==_0x243ed6[_0x494775(0x110)]),_0x35db63&&(_0x331c6c=_0x35db63[_0x494775(0xe9)],_0x149f7b=_0x35db63['price']));}),_0x593a9['push']({'coin':_0x243ed6[_0xa37049(0x110)],'number':_0x331c6c,'price':_0x149f7b});}}}),_0x593a9[_0xcccd19(0xdb)](_0x590b14=>{const _0x3d234c=_0xcccd19,_0x152ddd={'coin':_0x590b14[_0x3d234c(0x110)],'number':_0x590b14[_0x3d234c(0xe9)],'breakeven':_0x590b14['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x3d234c(0xd9)](_0x3d234c(0xf8))[_0x3d234c(0xfa)](_0x152ddd)[_0x3d234c(0x9d)]();});}async function updateCoinResults(_0x3cc1bb,_0x3b1064=![]){const _0x5667d2=_0xeef067;let _0x575b10,_0x214561,_0xb93744,_0x25a0db,_0x392a06,_0x4b8297,_0x225eb7=dbCoinResults['get'](_0x5667d2(0xf8))[_0x5667d2(0x1dc)]({'coin':_0x3cc1bb[_0x5667d2(0x110)]})[_0x5667d2(0x11d)]();!_0x225eb7&&await initCoinResults();_0x3cc1bb[_0x5667d2(0x204)]&&(_0x4b8297={'filled':_0x3cc1bb[_0x5667d2(0x11f)]*_0x3cc1bb[_0x5667d2(0x1bb)],'amount':_0x3cc1bb[_0x5667d2(0x11f)]*_0x3cc1bb['price'],'side':_0x3cc1bb[_0x5667d2(0x1ae)]=='sell'?_0x5667d2(0x196):_0x5667d2(0xf5),'price':0x1/_0x3cc1bb['price']},_0x3cc1bb={..._0x3cc1bb,..._0x4b8297});_0x3b1064?_0x214561=_0x3cc1bb[_0x5667d2(0x1ae)]==_0x5667d2(0x196)?_0x225eb7[_0x5667d2(0xe9)]+_0x3cc1bb[_0x5667d2(0x11f)]:_0x225eb7[_0x5667d2(0xe9)]-_0x3cc1bb[_0x5667d2(0x11f)]:_0x214561=await getCoinNumber(_0x3cc1bb['coin']);if(_0x3cc1bb[_0x5667d2(0x1ab)]&&_0x3cc1bb[_0x5667d2(0x1ab)][_0x5667d2(0x19d)]==config[_0x5667d2(0x1cd)])_0x575b10=_0x3cc1bb[_0x5667d2(0x1ab)]['cost'];else{if(_0x3cc1bb['fee']&&_0x3cc1bb[_0x5667d2(0x1ab)][_0x5667d2(0x19d)]==_0x5667d2(0x1c9)&&!_0x3b1064)_0x575b10=_0x3cc1bb[_0x5667d2(0x1ab)][_0x5667d2(0x92)]*global[_0x5667d2(0x96)]['BNB'+config[_0x5667d2(0x1cd)]];else _0x575b10=defaultFee*_0x3cc1bb[_0x5667d2(0x11f)]*_0x3cc1bb[_0x5667d2(0x1bb)];}_0x3cc1bb['side']=='buy'?(_0xb93744=_0x214561!=0x0?(_0x225eb7[_0x5667d2(0xf9)]*_0x225eb7['number']+_0x3cc1bb[_0x5667d2(0x1bb)]*(_0x214561-_0x225eb7[_0x5667d2(0xe9)])+_0x575b10)/_0x214561:0x0,_0x25a0db=_0x225eb7[_0x5667d2(0x1d4)]):(_0xb93744=_0x214561!=0x0?(_0x225eb7[_0x5667d2(0xf9)]*_0x225eb7['number']-_0x3cc1bb[_0x5667d2(0x1bb)]*(_0x225eb7['number']-_0x214561)+_0x575b10)/_0x214561:0x0,_0x25a0db=_0x225eb7['realized']+(_0x3cc1bb['price']-_0x225eb7[_0x5667d2(0xf9)])*_0x3cc1bb[_0x5667d2(0x11f)]);_0x392a06=(_0x3cc1bb[_0x5667d2(0x1bb)]-_0xb93744-_0x575b10/_0x3cc1bb[_0x5667d2(0x11f)])*_0x214561;let _0x48722c={'coin':_0x3cc1bb['coin'],'number':_0x214561,'breakeven':formatResult(_0xb93744,0x8),'realized':formatResult(_0x25a0db,0x8),'unrealized':formatResult(_0x392a06,0x8),'fees':formatResult(_0x225eb7[_0x5667d2(0x18e)]+_0x575b10,0x8),'sells':_0x3cc1bb[_0x5667d2(0x1ae)]==_0x5667d2(0xf5)?_0x225eb7[_0x5667d2(0x1cc)]+0x1:_0x225eb7[_0x5667d2(0x1cc)],'buys':_0x3cc1bb[_0x5667d2(0x1ae)]=='buy'?_0x225eb7[_0x5667d2(0x14a)]+0x1:_0x225eb7[_0x5667d2(0x14a)]};dbCoinResults[_0x5667d2(0xd9)](_0x5667d2(0xf8))[_0x5667d2(0x1dc)]({'coin':_0x3cc1bb[_0x5667d2(0x110)]})[_0x5667d2(0x13c)](_0x48722c)['write']();if(!_0x3b1064){if(_0x3cc1bb['fee']&&_0x3cc1bb[_0x5667d2(0x1ab)][_0x5667d2(0x19d)]==_0x5667d2(0x1c9)){const _0x58d4fc=currentCoins[_0x5667d2(0x1dc)](_0x3a895f=>_0x3a895f[_0x5667d2(0x110)]=='BNB');if(_0x58d4fc){let _0x13904c=dbCoinResults['get'](_0x5667d2(0xf8))['find']({'coin':_0x5667d2(0x1c9)})[_0x5667d2(0x11d)]();_0x48722c={..._0x13904c,'number':_0x58d4fc[_0x5667d2(0xe9)]},dbCoinResults['get'](_0x5667d2(0xf8))[_0x5667d2(0x1dc)]({'coin':_0x5667d2(0x1c9)})[_0x5667d2(0x13c)](_0x48722c)[_0x5667d2(0x9d)]();}}}}async function placeOrder(_0x2b78dc){const _0x17141c=_0xeef067,_0x193658=config[_0x17141c(0x1c3)]=='market'?'market':_0x17141c(0x153);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x17141c(0x16c)],allOrdersPlaced=![],validateOrdersState=_0x17141c(0x125),lastOrders=[];for(const _0x443bd1 of _0x2b78dc){let _0x3dd0a3,_0xc2cafa,_0x23f2e0,_0x4688fe,_0x44b680,_0x414175=_0x443bd1['symbol'];try{const _0x34790c=await exchange[_0x17141c(0xc8)](_0x414175);_0x3dd0a3=_0x443bd1[_0x17141c(0x204)]?0x1/_0x443bd1[_0x17141c(0x155)]:_0x443bd1[_0x17141c(0x155)],_0xc2cafa=_0x34790c['bid'],_0x23f2e0=_0x34790c[_0x17141c(0xb0)];_0x443bd1[_0x17141c(0x204)]?(_0x4688fe=_0x443bd1['side']==_0x17141c(0x196)?_0x17141c(0xf5):_0x17141c(0x196),_0x44b680=Math[_0x17141c(0x1bc)](_0x443bd1[_0x17141c(0x1a9)])/_0x3dd0a3):(_0x4688fe=_0x443bd1[_0x17141c(0x1ae)],_0x44b680=Math['abs'](_0x443bd1[_0x17141c(0x1a9)]));_0x193658=='limit'&&(config[_0x17141c(0x1c3)]==_0x17141c(0xfe)&&(_0x3dd0a3=_0x4688fe=='buy'?_0xc2cafa:_0x23f2e0),config[_0x17141c(0x1c3)]==_0x17141c(0x1a4)&&(_0x3dd0a3=_0x4688fe=='buy'?_0x23f2e0:_0xc2cafa));_0x44b680=formatResult(_0x44b680,0x8),_0x3dd0a3=formatResult(_0x3dd0a3,0x8);const _0x158f5=_0x4688fe==_0x17141c(0xf5)?config[_0x17141c(0x10a)]?String['fromCodePoint']('0x'+config['emojisell'])+'\x20':'':config[_0x17141c(0xf2)]?String[_0x17141c(0x131)]('0x'+config['emojibuy'])+'\x20':'',_0x22b06e=_0x193658==_0x17141c(0x133)?'Market':config[_0x17141c(0x1c3)]==_0x17141c(0xfe)?_0x17141c(0x9c):_0x17141c(0x1cf),_0x6055de=new Date()[_0x17141c(0x1f9)]()[_0x17141c(0xa9)]()[_0x17141c(0xb4)](-0x6)+'-'+Math[_0x17141c(0xac)]()[_0x17141c(0xa9)]()[_0x17141c(0xb4)](-0x6);lastOrders[_0x17141c(0xfa)]({'customId':_0x6055de,'symbol':_0x414175,'coin':_0x443bd1[_0x17141c(0x110)],'side':_0x4688fe,'reverse':_0x443bd1[_0x17141c(0x204)],'filled':0x0});if(_0x193658==_0x17141c(0x133))logHistory(_0x17141c(0x106),''+_0x158f5+_0x22b06e+_0x17141c(0x10e)+_0x414175+'\x20'+_0x4688fe+'\x20#'+formatResult(_0x44b680,0x8)+'\x20@'+formatResult(_0x3dd0a3,0x8));else logHistory(_0x17141c(0x106),''+_0x158f5+_0x22b06e+_0x17141c(0x10e)+_0x414175+'\x20'+_0x4688fe+'\x20#'+formatResult(_0x44b680,0x8)+'\x20@'+formatResult(_0x3dd0a3,0x8));const _0x473176=await exchange[_0x17141c(0x166)](_0x414175,_0x193658,_0x4688fe,_0x44b680,_0x3dd0a3,{'clientOrderId':_0x6055de}),_0x3efd8e=lastOrders[_0x17141c(0x111)]-0x1;_0x3efd8e>=0x0&&lastOrders[_0x3efd8e][_0x17141c(0x11b)]==_0x6055de&&(lastOrders[_0x3efd8e]={...lastOrders[_0x3efd8e],'orderId':_0x473176['id'],'amount':_0x473176[_0x17141c(0xde)],'price':_0x473176['price'],'fee':_0x473176[_0x17141c(0x1ab)]});if(config[_0x17141c(0x114)]!=0x0){let _0x566167=null;if(cooldownTracker['length']==config[_0x17141c(0x114)]-0x1)_0x566167=cooldownTracker['shift']();const _0xa356f=getTimeStamp();cooldownTracker[_0x17141c(0xfa)](_0xa356f);if(_0x566167){const _0x4128f5=fns['differenceInSeconds'](new Date(_0xa356f),new Date(_0x566167));if(_0x4128f5<cooldownInterval){logHistory(_0x17141c(0x183),_0x17141c(0x193)+config['cooldown']+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x17141c(0x1f2)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x4d1fd9){if(_0x4d1fd9[_0x17141c(0xa9)]()[_0x17141c(0x1bd)](_0x17141c(0xcc)))lastOrders=lastOrders['filter'](_0x7a5bfc=>_0x7a5bfc[_0x17141c(0xc3)]!=_0x414175),await pauseBot(_0x17141c(0x141)+_0x414175);else _0x4d1fd9['toString']()[_0x17141c(0x1bd)](_0x17141c(0x1e0))?(lastOrders=lastOrders[_0x17141c(0x181)](_0x50255f=>_0x50255f['symbol']!=_0x414175),await pauseBot(_0x17141c(0xaf)+_0x414175)):(lastOrders=lastOrders[_0x17141c(0x181)](_0x15ff15=>_0x15ff15[_0x17141c(0xc3)]!=_0x414175),await handleError(_0x4d1fd9,_0x17141c(0x15c),_0x414175));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5bc482=config['ordertype']==_0x17141c(0x133)?validateOrderTimeout*0x3c*0x3e8:config[_0x17141c(0x1f8)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x15b770=_0x17141c;validateOrders(_0x15b770(0x97));},_0x5bc482);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x17141c(0x118),_0x17141c(0x10c)));}else{if(coolingDown)!config['headless']&&logHistory(_0x17141c(0x183),_0x17141c(0x1a2));else lockOrders!=ORDERS[_0x17141c(0x1e2)]&&(!config['headless']&&(config[_0x17141c(0x1c3)]==_0x17141c(0x133)?logHistory('error',_0x17141c(0x10b)):logHistory(_0x17141c(0x183),_0x17141c(0x159))));}}function persistOpenOrders(_0x397f7c){const _0x12330d=_0xeef067,_0xd79bb={...config,'openOrders':_0x397f7c};let _0x5c0d64=dbConfig[_0x12330d(0xd9)](_0x12330d(0x117))[_0x12330d(0x1dc)]({'botID':botID})[_0x12330d(0x11d)]();_0x5c0d64&&dbConfig['get'](_0x12330d(0x117))[_0x12330d(0x1dc)]({'botID':botID})[_0x12330d(0x13c)](_0xd79bb)['write']();}function restoreOrders(){const _0x2fd2c2=_0xeef067;let _0xb4c81e;config[_0x2fd2c2(0xef)]&&allOpenOrders[_0x2fd2c2(0xdb)](_0x1d1af1=>{const _0x4ca723=_0x2fd2c2,_0x2dfb15=config[_0x4ca723(0xef)][_0x4ca723(0x1dc)](_0x9545ca=>_0x9545ca[_0x4ca723(0xe2)]==_0x1d1af1['id']);_0x2dfb15&&(lastOrders[_0x4ca723(0xfa)](_0x2dfb15),_0xb4c81e=_0x1d1af1[_0x4ca723(0x136)]);});if(lastOrders[_0x2fd2c2(0x111)]>0x0){lockOrders=ORDERS[_0x2fd2c2(0x16c)],validateOrdersState=_0x2fd2c2(0xab),allOrdersPlaced=!![];const _0xc11225=new Date()[_0x2fd2c2(0x1f9)](),_0x3c274b=config['ordertype']==_0x2fd2c2(0x133)?validateOrderTimeout*0x3c*0x3e8:config[_0x2fd2c2(0x1f8)]*0x3c*0x3e8;if(_0xb4c81e+_0x3c274b>_0xc11225){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1ba708=_0x2fd2c2;validateOrders(_0x1ba708(0x97));},_0xb4c81e+_0x3c274b-_0xc11225);}else validateOrders(_0x2fd2c2(0x97));}}async function sendMetricsTelegram(){const _0x478448=_0xeef067;if(!coinsLoaded){process[_0x478448(0x121)]({'telegrammsg':_0x478448(0x17b)},_0xc616f0=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x15d6b8='';if(config[_0x478448(0x19e)])_0x15d6b8='<b>'+config['botname']+_0x478448(0x202);else _0x15d6b8=_0x478448(0x1e8)+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x1e31f1=getKPIs(_0x478448(0x1cd)),_0x41ac1c=getKPIs(_0x478448(0x108),config[_0x478448(0x108)]),_0x21693c=getKPIs('net-basecoin'),_0x32570a=getKPIs(_0x478448(0xbb),config[_0x478448(0x108)]);_0x15d6b8+=_0x478448(0x1b4),_0x15d6b8+=_0x1e31f1[_0x478448(0x203)]+_0x478448(0xee)+_0x1e31f1[_0x478448(0x11d)]+'\x0a',_0x15d6b8+=_0x1e31f1[_0x478448(0x18a)]+':\x20'+_0x1e31f1[_0x478448(0x15f)]+'%\x0a',_0x15d6b8+=_0x41ac1c['leftTxt']+_0x478448(0xee)+_0x41ac1c[_0x478448(0x11d)]+'\x0a',_0x15d6b8+=_0x41ac1c[_0x478448(0x18a)]+':\x20'+_0x41ac1c[_0x478448(0x15f)]+'%\x0a',_0x15d6b8+=_0x21693c[_0x478448(0x203)]+':\x20'+_0x21693c[_0x478448(0x11d)]+'\x20('+config[_0x478448(0x1cd)]+')\x0a',_0x15d6b8+=_0x21693c[_0x478448(0x18a)]+':\x20'+_0x21693c[_0x478448(0x15f)]+_0x478448(0xf1)+config['basecoin']+')\x0a',_0x15d6b8+=_0x32570a['leftTxt']+':\x20'+_0x32570a[_0x478448(0x11d)]+'\x20('+config[_0x478448(0x108)]+')\x0a',_0x15d6b8+=_0x32570a[_0x478448(0x18a)]+':\x20'+_0x32570a[_0x478448(0x15f)]+'%\x20('+config[_0x478448(0x108)]+')\x0a',_0x15d6b8+=_0x478448(0x13f),process[_0x478448(0x121)]({'telegrammsg':_0x15d6b8},_0x33b368=>{});}async function sendPortfolioTelegram(){const _0x489242=_0xeef067;if(!coinsLoaded){process['send']({'telegrammsg':_0x489242(0x17b)},_0x3ee9ff=>{});return;}let _0x3150a1='';if(config[_0x489242(0x19e)])_0x3150a1=_0x489242(0xe4)+config[_0x489242(0x1c0)]+_0x489242(0xcd);else _0x3150a1=_0x489242(0x1e8)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x3150a1+='<pre>',_0x3150a1+=_0x489242(0x12a),_0x3150a1+=_0x489242(0xd6),_0x3150a1+=_0x489242(0x12a),currentCoins[_0x489242(0xdb)](_0x199c61=>{const _0x380e1c=_0x489242;_0x3150a1+=_0x199c61[_0x380e1c(0x110)][_0x380e1c(0x17d)](0x7)+'|\x20'+formatPad(_0x199c61['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x199c61[_0x380e1c(0x200)],0x2,0x6)+'|\x20'+formatPad(_0x199c61[_0x380e1c(0x206)]*0x64,0x2,0x6)+'\x0a';}),_0x3150a1+='</pre>',process[_0x489242(0x121)]({'telegrammsg':_0x3150a1},_0x13bbd9=>{});}function formatPad(_0x16c531,_0x2f9300,_0x457ae6){const _0x3b8464=_0xeef067,_0x1f0cd4=formatResultString(_0x16c531,_0x2f9300);return _0x1f0cd4?_0x1f0cd4[_0x3b8464(0x1cb)](_0x457ae6):''[_0x3b8464(0x1cb)](_0x457ae6);}function logHistory(_0x2af1c0,_0x2febb6,_0x4f6654=''){const _0x5cb2d8=_0xeef067;let _0x1bbbda={'time':getTimeStamp(),'type':_0x2af1c0,'event':_0x2febb6};dbLogs[_0x5cb2d8(0xd9)](_0x5cb2d8(0x1c2))[_0x5cb2d8(0xfa)](_0x1bbbda)[_0x5cb2d8(0x9d)]();if(_0x4f6654=='')_0x4f6654=_0x2febb6;proxyEmit('event',{'log':_0x1bbbda,'summary':_0x4f6654}),process[_0x5cb2d8(0x121)]({'telegram':{..._0x1bbbda,'botname':config[_0x5cb2d8(0x1c0)],'showname':config[_0x5cb2d8(0x19e)]}},_0x49ea43=>{}),logger[_0x5cb2d8(0x128)](''+_0x1bbbda[_0x5cb2d8(0x102)]);}function emitHistory(_0x3f9122={}){const _0x5031c3=_0xeef067;Object[_0x5031c3(0x1ca)](_0x3f9122)[_0x5031c3(0x111)]==0x0&&(_0x3f9122={'type':[_0x5031c3(0x106),_0x5031c3(0x102)],'event':'','page':0x1});if(_0x3f9122[_0x5031c3(0xba)][_0x5031c3(0x1bd)](_0x5031c3(0x102)))_0x3f9122['type']['splice'](_0x3f9122[_0x5031c3(0xba)][_0x5031c3(0x93)](_0x5031c3(0x102)),0x1,_0x5031c3(0x183),_0x5031c3(0xae),_0x5031c3(0x118));if(dbLogs[_0x5031c3(0x173)]('logs')[_0x5031c3(0x11d)]()){let _0xa8b35b=dbLogs[_0x5031c3(0xd9)](_0x5031c3(0x1c2))[_0x5031c3(0x181)](_0x45e416=>{const _0x91dd02=_0x5031c3;if(_0x3f9122['type']['length']==0x0)return![];else return _0x3f9122[_0x91dd02(0xba)]['includes'](_0x45e416[_0x91dd02(0xba)]);})[_0x5031c3(0x181)](_0x43c155=>{const _0x4a0445=_0x5031c3;if(_0x3f9122[_0x4a0445(0x102)]=='')return!![];else return _0x43c155[_0x4a0445(0x102)][_0x4a0445(0x1e4)]()['includes'](_0x3f9122[_0x4a0445(0x102)][_0x4a0445(0x1e4)]());})[_0x5031c3(0x192)](_0x5031c3(0xe6)),_0x5e4907=_0xa8b35b['value']()[_0x5031c3(0x111)];_0xa8b35b=_0xa8b35b['reverse']()[_0x5031c3(0xb4)]((_0x3f9122['page']-0x1)*logPageSize,_0x3f9122[_0x5031c3(0x140)]*logPageSize-0x1)[_0x5031c3(0x204)]()[_0x5031c3(0x11d)](),proxyEmit(_0x5031c3(0xa0),{'logs':_0xa8b35b,'total':_0x5e4907});}else proxyEmit(_0x5031c3(0xa0),{'logs':[],'total':0x0});}function _0x26c8(_0x2742f7,_0x37e4ef){const _0x40a315=_0x554c();return _0x26c8=function(_0x1bf0dd,_0x35c95b){_0x1bf0dd=_0x1bf0dd-0x8e;let _0x554c16=_0x40a315[_0x1bf0dd];return _0x554c16;},_0x26c8(_0x2742f7,_0x37e4ef);}function deleteHistoryAlerts(_0x58c223){const _0x2f94d1=_0xeef067;if(dbLogs[_0x2f94d1(0x173)](_0x2f94d1(0x1c2))['value']()){const _0x4135cd=dbLogs[_0x2f94d1(0xd9)](_0x2f94d1(0x1c2))['sortBy']('time')[_0x2f94d1(0x181)](_0x55355f=>{return _0x55355f['type']=='order';})['value']();dbLogs[_0x2f94d1(0xd9)](_0x2f94d1(0x1c2))[_0x2f94d1(0xa2)]()['write'](),dbLogs['get'](_0x2f94d1(0x1c2))[_0x2f94d1(0x13c)](_0x4135cd)[_0x2f94d1(0x9d)](),emitHistory(_0x58c223);}}async function pauseBot(_0x86d146=''){const _0x366858=_0xeef067,_0x2dbf4c=new Date()['getTime']();if(!lastErrorShown||_0x2dbf4c-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x2dbf4c;!lastBotPause?(lastBotPause=_0x2dbf4c,consecutivePauses=0x1):(_0x2dbf4c-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x366858(0x121)]({'stop':_0x366858(0xc7)},_0x543662=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x366858(0x1f9)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x86d146)_0x86d146+=_0x366858(0xe5);logHistory(_0x366858(0x183),_0x86d146+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x366858(0xd4)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x55b943=_0xeef067;process[_0x55b943(0x121)]({'stop':'kill'},_0x3d5554=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x5d358a,_0x3fa182){const _0x56cedc=_0xeef067;if(_0x5d358a[_0x56cedc(0xa9)]()[_0x56cedc(0x1bd)]('API-key\x20format\x20invalid'))return logHistory(_0x56cedc(0x183),config['exchange']+_0x56cedc(0x129)),![];else{if(_0x5d358a[_0x56cedc(0xa9)]()[_0x56cedc(0x1bd)](_0x56cedc(0x1db)))return logHistory(_0x56cedc(0x183),config['exchange']+_0x56cedc(0x1b5)),![];else{if(_0x5d358a[_0x56cedc(0xa9)]()[_0x56cedc(0x1bd)](_0x56cedc(0x1a0)))return logHistory(_0x56cedc(0x183),config['exchange']+_0x56cedc(0x90)),logHistory(_0x56cedc(0x183),_0x56cedc(0x1fc)),![];else await handleError(_0x5d358a,_0x3fa182);}}}async function handleError(_0x2c308c,_0x5a9e4f,_0x2d6bcb=''){const _0x2acc3e=_0xeef067,_0x5921f1=config['exchange']||_0x2acc3e(0x123);if(_0x2c308c['toString']()['includes']('DDoSProtection'))await pauseBot(config[_0x2acc3e(0x1d8)]+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x2c308c['toString']()[_0x2acc3e(0x1bd)](_0x2acc3e(0x185)))await pauseBot(config[_0x2acc3e(0x1d8)]+_0x2acc3e(0x1aa));else{if(_0x2c308c['toString']()[_0x2acc3e(0x1bd)](_0x2acc3e(0xf6)))await pauseBot(config[_0x2acc3e(0x1d8)]+_0x2acc3e(0xc4));else{if(_0x2c308c[_0x2acc3e(0xa9)]()['includes'](_0x2acc3e(0xcb)))await pauseBot(config['exchange']+_0x2acc3e(0xa3));else{if(_0x2c308c['toString']()['includes']('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x2acc3e(0x183),_0x5a9e4f+_0x2acc3e(0xb6)),logHistory(_0x2acc3e(0x183),_0x2acc3e(0x1ba)),await killBot();else{if(_0x2c308c['toString']()[_0x2acc3e(0x1bd)](_0x2acc3e(0x191)))logHistory(_0x2acc3e(0x183),_0x5a9e4f+_0x2acc3e(0x1a7)),logHistory(_0x2acc3e(0x183),_0x2acc3e(0x1ba)),await killBot();else{if(_0x2c308c['toString']()[_0x2acc3e(0x1bd)](_0x2acc3e(0x11c)))logHistory(_0x2acc3e(0x183),_0x5a9e4f+_0x2acc3e(0xe5)+config[_0x2acc3e(0x1d8)]+_0x2acc3e(0x15e)),logHistory(_0x2acc3e(0x183),_0x2acc3e(0x1ba)),await killBot();else{if(_0x2c308c[_0x2acc3e(0xa9)]()[_0x2acc3e(0x1bd)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x2acc3e(0x183),_0x5a9e4f+_0x2acc3e(0xe5)+config[_0x2acc3e(0x1d8)]+_0x2acc3e(0x195)),logHistory(_0x2acc3e(0x183),_0x2acc3e(0x1ba)),await killBot();else{if(_0x2c308c[_0x2acc3e(0xa9)]()[_0x2acc3e(0x1bd)](_0x2acc3e(0x1a0)))logHistory(_0x2acc3e(0x183),_0x5a9e4f+_0x2acc3e(0xe5)+config['exchange']+_0x2acc3e(0x20b)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else _0x2c308c['toString']()[_0x2acc3e(0x1bd)](_0x2acc3e(0x156))?logHistory(_0x2acc3e(0x183),_0x5a9e4f+_0x2acc3e(0x199)+_0x2d6bcb):(logger[_0x2acc3e(0x128)](_0x5a9e4f+_0x2acc3e(0x209),_0x2c308c),await pauseBot(_0x2acc3e(0x122)));}}}}}}}}}function formatResult(_0x538aa4,_0xb6b1f){const _0x4064bb=_0xeef067;return parseFloat(_0x538aa4[_0x4064bb(0xb3)](_0xb6b1f));}function formatResultTruncate(_0x17fef0,_0x1bd2fd){const _0x43eb53=_0xeef067;let _0x30f613=formatResultString(_0x17fef0,0xa),_0x4a95d8=_0x30f613[_0x43eb53(0x93)]('.');return _0x4a95d8!=-0x1&&(_0x30f613=_0x30f613['slice'](0x0,_0x4a95d8+_0x1bd2fd+0x1)),Number(_0x30f613);}function formatResultString(_0x71d4c6,_0x2d5c01){const _0x11b14f=_0xeef067;let _0x4bc1aa;if(!(''+_0x71d4c6)[_0x11b14f(0x1bd)]('e'))_0x4bc1aa=+(Math['round'](_0x71d4c6+'e+'+_0x2d5c01)+'e-'+_0x2d5c01);else{let _0x1f1a7c=(''+_0x71d4c6)[_0x11b14f(0x163)]('e'),_0x18c788='';+_0x1f1a7c[0x1]+_0x2d5c01>0x0&&(_0x18c788='+'),_0x4bc1aa=+(Math[_0x11b14f(0x116)](+_0x1f1a7c[0x0]+'e'+_0x18c788+(+_0x1f1a7c[0x1]+_0x2d5c01))+'e-'+_0x2d5c01);}return Number(_0x4bc1aa)[_0x11b14f(0xb3)](_0x2d5c01);}function getServerTime(){const _0x28b3d7=_0xeef067,_0x33840a=new Date();return _0x33840a[_0x28b3d7(0x1ff)]()+'/'+(_0x33840a[_0x28b3d7(0x1a8)]()+0x1)['toString']()[_0x28b3d7(0x1cb)](0x2,'0')+'/'+_0x33840a[_0x28b3d7(0x134)]()['toString']()[_0x28b3d7(0x1cb)](0x2,'0')+'\x20'+_0x33840a[_0x28b3d7(0x1d6)]()[_0x28b3d7(0xa9)]()[_0x28b3d7(0x1cb)](0x2,'0')+':'+_0x33840a['getMinutes']()[_0x28b3d7(0xa9)]()[_0x28b3d7(0x1cb)](0x2,'0')+':'+_0x33840a[_0x28b3d7(0x161)]()[_0x28b3d7(0xa9)]()[_0x28b3d7(0x1cb)](0x2,'0');}function getTimeStamp(){const _0x1520df=_0xeef067,_0x431298=shiftedTime();return _0x431298['getFullYear']()+'/'+(_0x431298[_0x1520df(0x1a8)]()+0x1)['toString']()[_0x1520df(0x1cb)](0x2,'0')+'/'+_0x431298[_0x1520df(0x134)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x431298['getHours']()['toString']()[_0x1520df(0x1cb)](0x2,'0')+':'+_0x431298['getMinutes']()[_0x1520df(0xa9)]()[_0x1520df(0x1cb)](0x2,'0')+':'+_0x431298[_0x1520df(0x161)]()[_0x1520df(0xa9)]()['padStart'](0x2,'0');}function getDate(){const _0x54f119=_0xeef067,_0x48151c=shiftedTime();return _0x48151c[_0x54f119(0x1ff)]()+'/'+(_0x48151c[_0x54f119(0x1a8)]()+0x1)[_0x54f119(0xa9)]()[_0x54f119(0x1cb)](0x2,'0')+'/'+_0x48151c[_0x54f119(0x134)]()[_0x54f119(0xa9)]()[_0x54f119(0x1cb)](0x2,'0');}function getHour(){const _0xc1782d=_0xeef067,_0x5d47b1=shiftedTime();return _0x5d47b1['getHours']()['toString']()[_0xc1782d(0x1cb)](0x2,'0');}function sleep(_0x31ec5a){return new Promise(_0x1e54ed=>setTimeout(_0x1e54ed,_0x31ec5a));}function shiftedTime(){const _0x521f55=_0xeef067,_0x1238c2=new Date();let _0x34aa41=_0x1238c2;if(config&&config[_0x521f55(0x1b9)]!==0x0)_0x34aa41=fns[_0x521f55(0x113)](_0x1238c2,{'hours':config[_0x521f55(0x1b9)]});return _0x34aa41;}function timer(_0x181083){const _0x46127c=_0xeef067,_0x2bf52d=new Date();!lasttime?console['log'](_0x46127c(0xe8),_0x181083,_0x2bf52d):console[_0x46127c(0x12d)](_0x46127c(0xe8),_0x181083,(_0x2bf52d-lasttime)/0x3e8),lasttime=_0x2bf52d;}