const _0x134905=_0x3fe7;(function(_0x1ef999,_0x1d6d8d){const _0x1446bc=_0x3fe7,_0x386ddb=_0x1ef999();while(!![]){try{const _0x2731dd=parseInt(_0x1446bc(0x208))/0x1+parseInt(_0x1446bc(0x2bd))/0x2*(parseInt(_0x1446bc(0x1ed))/0x3)+parseInt(_0x1446bc(0x214))/0x4*(parseInt(_0x1446bc(0x233))/0x5)+parseInt(_0x1446bc(0x2a0))/0x6*(parseInt(_0x1446bc(0x2a7))/0x7)+parseInt(_0x1446bc(0x269))/0x8+parseInt(_0x1446bc(0x1d3))/0x9+-parseInt(_0x1446bc(0x242))/0xa;if(_0x2731dd===_0x1d6d8d)break;else _0x386ddb['push'](_0x386ddb['shift']());}catch(_0x31de80){_0x386ddb['push'](_0x386ddb['shift']());}}}(_0x23f2,0xb1050));const _0x4f7a2f=function(){let _0x438393=!![];return function(_0x3a3bae,_0x2b8819){const _0x5bdee2=_0x438393?function(){const _0x2ff5e3=_0x3fe7;if(_0x2b8819){const _0x1093f4=_0x2b8819[_0x2ff5e3(0x15e)](_0x3a3bae,arguments);return _0x2b8819=null,_0x1093f4;}}:function(){};return _0x438393=![],_0x5bdee2;};}(),_0x58f54f=_0x4f7a2f(this,function(){const _0x12c3b0=_0x3fe7;return _0x58f54f[_0x12c3b0(0x19c)]()[_0x12c3b0(0x22d)]('(((.+)+)+)+$')['toString']()[_0x12c3b0(0x1d8)](_0x58f54f)['search'](_0x12c3b0(0x25c));});_0x58f54f();'use strict';const ccxt=require(_0x134905(0x234))['pro'],low=require(_0x134905(0x182)),FileSync=require(_0x134905(0x21b)),fs=require('fs'),fns=require(_0x134905(0x295)),Crypt=require(_0x134905(0x18b))['Crypt'],util=require(_0x134905(0x24a)),argv=require(_0x134905(0x1f7))(process[_0x134905(0x1ca)][_0x134905(0x161)](0x2))[_0x134905(0x1ca)],path=require(_0x134905(0x17f));let exchange;global['ticker']={},global[_0x134905(0x169)]={};const exceptions={'binance':[_0x134905(0x240),_0x134905(0x296),'XEM/BUSD',_0x134905(0x281),'YOYOW/']},debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x134905(0x1f6)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'currency':null,'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x134905(0x265))[_0x134905(0x266)],botID=process['argv'][0x2]||_0x134905(0x160),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console['log'](_0x134905(0x286)+botID+_0x134905(0x256)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x134905(0x255)+userID+'/':'./config/',logspath=userID?_0x134905(0x16b)+userID+'/':_0x134905(0x16b),loggerfile=fs[_0x134905(0x1dc)](logspath+_0x134905(0x17c),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x134905(0x176)](configpath);!fs[_0x134905(0x2b0)](logspath)&&fs[_0x134905(0x176)](logspath);const configfile=configpath+_0x134905(0x186)+botID+_0x134905(0x21f),logfile=configpath+'bot-'+botID+_0x134905(0x190),performancefile=configpath+_0x134905(0x186)+botID+_0x134905(0x27f),coinresultsfile=configpath+_0x134905(0x186)+botID+'-results.json',settingsfile=configpath+_0x134905(0x192),securefile=configpath+_0x134905(0x1b9),configbackuppath=configpath+_0x134905(0x1f5),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x134905(0x203)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x134905(0x203)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x134905(0x203)]({'bot':[],'version':serverversion})[_0x134905(0x26f)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x134905(0x203)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x134905(0x23d),'rsaStandard':_0x134905(0x287)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x21c338=>{const _0x36becc=_0x134905;console[_0x36becc(0x18e)](_0x21c338);},'simple':_0x181248=>{const _0x3c4404=_0x134905;console[_0x3c4404(0x18e)](_0x181248),loggerfile[_0x3c4404(0x26f)](util[_0x3c4404(0x230)](_0x181248)+'\x0a');},'full':async(_0x49efe4,_0x48971c='')=>{const _0x4fe53d=_0x134905;let _0x21c3f8;if(config[_0x4fe53d(0x1a4)])_0x21c3f8=getTimeStamp()+':\x20'+config[_0x4fe53d(0x1c4)]+_0x4fe53d(0x29e)+_0x49efe4;else _0x21c3f8=getTimeStamp()+':\x20Bot\x20'+botID+_0x4fe53d(0x29e)+_0x49efe4;console['log'](_0x21c3f8),loggerfile[_0x4fe53d(0x26f)](util[_0x4fe53d(0x230)](_0x21c3f8)+'\x0a'),_0x48971c&&(console[_0x4fe53d(0x18e)](_0x48971c),loggerfile[_0x4fe53d(0x26f)](util[_0x4fe53d(0x230)](_0x48971c)+'\x0a'));},'debug':async(_0x5b0bb3,_0x2729c7='')=>{const _0xb2af25=_0x134905;let _0xca4e80;if(config[_0xb2af25(0x1a4)])_0xca4e80=getTimeStamp()+':\x20'+config[_0xb2af25(0x1c4)]+_0xb2af25(0x246)+_0x5b0bb3;else _0xca4e80=getTimeStamp()+_0xb2af25(0x276)+botID+'\x20>\x20[DEBUG]\x20'+_0x5b0bb3;if(debugging)console[_0xb2af25(0x18e)](_0xca4e80);loggerfile[_0xb2af25(0x26f)](util['format'](_0xca4e80)+'\x0a');if(_0x2729c7){if(debugging)console[_0xb2af25(0x18e)](_0x2729c7);loggerfile[_0xb2af25(0x26f)](util[_0xb2af25(0x230)](_0x2729c7)+'\x0a');}}};process['on']('uncaughtException',function(_0x4ad5b){const _0x2745d4=_0x134905;logger[_0x2745d4(0x177)](_0x4ad5b);});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x134905(0x245)]);settings[_0x134905(0x278)]!=config[_0x134905(0x278)]&&updateOnepagemode(settings[_0x134905(0x278)]);process['send']({'started':_0x134905(0x1bc)},_0x572754=>{}),initializeProcessListeners();function proxyEmit(_0x237e8a,_0x4147f1=null){const _0x57e149=_0x134905;process[_0x57e149(0x251)]({'function':_0x237e8a,'args':_0x4147f1},_0x42743e=>{});}function initializeProcessListeners(){const _0x2f0cc4=_0x134905;process['on'](_0x2f0cc4(0x2a4),_0x45fc58=>{const _0x313387=_0x2f0cc4;switch(Object[_0x313387(0x1f0)](_0x45fc58)[0x0]){case _0x313387(0x245):_0x45fc58[_0x313387(0x245)]!=undefined&&(settings[_0x313387(0x245)]=_0x45fc58['timeshift'],updateTimeshift(settings[_0x313387(0x245)]));break;case _0x313387(0x278):_0x45fc58[_0x313387(0x278)]!=undefined&&(settings[_0x313387(0x278)]=_0x45fc58['onepagemode'],updateOnepagemode(settings[_0x313387(0x278)]));break;case _0x313387(0x25b):_0x45fc58['bots']!=undefined&&(bots=JSON['parse'](_0x45fc58[_0x313387(0x25b)]),proxyEmit('bots',bots));break;case _0x313387(0x239):switch(_0x45fc58[_0x313387(0x239)]){case _0x313387(0x1d2):initclient();break;case _0x313387(0x26c):toggleBotMode();break;case _0x313387(0x2a3):emitHistory(_0x45fc58[_0x313387(0x2aa)]);break;case _0x313387(0x14f):deleteHistoryAlerts(_0x45fc58[_0x313387(0x2aa)]);break;case _0x313387(0x261):getPortfolio(_0x45fc58[_0x313387(0x2aa)]);break;case'storeConfiguration':storeConfiguration(_0x45fc58[_0x313387(0x2aa)]);break;case _0x313387(0x28f):storeHeadless(_0x45fc58[_0x313387(0x2aa)]);break;case _0x313387(0x1f8):storeFiat(_0x45fc58[_0x313387(0x2aa)]);break;case _0x313387(0x227):resetHistory();break;case _0x313387(0x1b2):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x45fc58[_0x313387(0x2aa)]);break;case _0x313387(0x1a6):cancelLoading();break;case _0x313387(0x1ec):showConfig();break;case _0x313387(0x25d):sendMetricsTelegram();break;case _0x313387(0x212):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x26492c=null,_0x9995bd=![]){const _0x7310cf=_0x134905;logger[_0x7310cf(0x20f)](_0x7310cf(0x2a9)+(_0x26492c&&_0x26492c[_0x7310cf(0x1e5)]>0x0?_0x7310cf(0x196)+_0x26492c['join'](','):_0x7310cf(0x1b7))+'\x20|\x20'+(_0x9995bd?'exchange\x20reloaded':'exchange\x20not\x20reloaded'));if(pidBalances)clearTimeout(pidBalances);if(!_0x9995bd)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x7310cf(0x273)]!=''&&config['apiKey']!=_0x7310cf(0x250)){if(_0x9995bd){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x1eb625){if(_0x1eb625[_0x7310cf(0x19c)]()[_0x7310cf(0x18d)](_0x7310cf(0x244))){handleErrorNoStop(_0x1eb625,_0x7310cf(0x1b1));return;}else{handleError(_0x1eb625,_0x7310cf(0x1b1));return;}}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x26492c);const _0x4f9ffc=await getCoins();[currentCoins,currentCoinsAll]=_0x4f9ffc,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(),await updateOpenOrders();if(lastOrders[_0x7310cf(0x1e5)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x426a7d=_0x134905;logger[_0x426a7d(0x20f)](_0x426a7d(0x20d));while(lockOrders!=ORDERS[_0x426a7d(0x1f6)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x426a7d(0x20f)](_0x426a7d(0x1db)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x1db2f2=config[_0x134905(0x2b8)],_0x1902f4=config[_0x134905(0x273)],_0x28fa5b=config[_0x134905(0x1b5)]){const _0x5e8a9e=_0x134905;exchange&&await stopExchange();!supportedExchanges()[_0x5e8a9e(0x18d)](_0x1db2f2)&&(logHistory(_0x5e8a9e(0x1ef),'Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x1db2f2+_0x5e8a9e(0x282)),killBot());const _0x1fe010=ccxt[_0x1db2f2['toLowerCase']()];exchange=new _0x1fe010({'apiKey':_0x1902f4,'secret':_0x28fa5b,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{}});}function setStableCoins(){const _0x5471dc=_0x134905;let _0x1a2441=config['basecoin']=='ETH'?_0x5471dc(0x174):_0x5471dc(0x155),_0x1966d0=!allSymbols[_0x5471dc(0x18d)](_0x1a2441+_0x5471dc(0x1a3))?_0x5471dc(0x1cf):_0x5471dc(0x22f),_0x2221c4=!allSymbols[_0x5471dc(0x18d)](_0x1a2441+_0x5471dc(0x191))?_0x1966d0:'EUR';stablecoins={'eur':{'coin':''+_0x1a2441+_0x2221c4,'symbol':_0x1a2441+'/'+_0x2221c4},'usd':{'coin':''+_0x1a2441+_0x1966d0,'symbol':_0x1a2441+'/'+_0x1966d0}};}async function initwsCcxt(_0x64a107){const _0x327d94=_0x134905;_0x64a107==null&&(_0x64a107=[],config[_0x327d94(0x24d)][_0x327d94(0x2ac)](_0x44e383=>{const _0x595549=_0x327d94;if(!_0x44e383[_0x595549(0x292)]&&_0x44e383[_0x595549(0x1ac)]!=config['basecoin'])_0x64a107[_0x595549(0x15d)](_0x44e383['symbol']);}));if(!_0x64a107[_0x327d94(0x18d)](stablecoins[_0x327d94(0x258)][_0x327d94(0x217)]))_0x64a107[_0x327d94(0x15d)](stablecoins['eur'][_0x327d94(0x217)]);if(!_0x64a107[_0x327d94(0x18d)](stablecoins['usd'][_0x327d94(0x217)]))_0x64a107[_0x327d94(0x15d)](stablecoins[_0x327d94(0x162)][_0x327d94(0x217)]);if(!_0x64a107[_0x327d94(0x18d)](_0x327d94(0x183)+config[_0x327d94(0x1e9)]))_0x64a107[_0x327d94(0x15d)]('BNB/'+config[_0x327d94(0x1e9)]);loadCoins(_0x64a107);const _0x3de49b=async _0x48d3a6=>{const _0x52730d=_0x327d94,_0x1b9e05=await exchange[_0x52730d(0x157)](_0x48d3a6);global[_0x52730d(0x1e1)][noslash(_0x1b9e05[_0x52730d(0x217)])]=_0x1b9e05[_0x52730d(0x2a2)];while(!![]){if(!botPaused)try{const _0x1cbd35=await exchange['watchTrades'](_0x48d3a6);global[_0x52730d(0x1e1)][noslash(_0x1cbd35[0x0][_0x52730d(0x217)])]=_0x1cbd35[0x0][_0x52730d(0x26e)],await sleep(0x3e8);}catch(_0x23a170){if(!exchangeStopped)await handleError(_0x23a170,_0x52730d(0x298),_0x48d3a6);}else await sleep(0x3e8);}},_0x5c1eb6=async _0x5dc57b=>{const _0x2aa539=_0x327d94;while(!![]){if(!botPaused)try{const _0x29bf61=await exchange[_0x2aa539(0x157)](_0x5dc57b);global['change'][_0x29bf61[_0x2aa539(0x217)]]=_0x29bf61[_0x2aa539(0x257)],await sleep(0x3c*0x3e8);}catch(_0x8aa65d){if(!exchangeStopped)await handleError(_0x8aa65d,_0x2aa539(0x17b),_0x5dc57b);}else await sleep(0x3e8);}},_0x1f119b=async()=>{const _0x4cd508=_0x327d94;while(!![]){if(!botPaused)try{const _0x5e91de=await exchange[_0x4cd508(0x152)]();_0x5e91de[_0x4cd508(0x2ac)](_0x3fb6d9=>{updateNumberCoinsCcxt(_0x3fb6d9);});}catch(_0x12ec54){if(!exchangeStopped)await handleError(_0x12ec54,_0x4cd508(0x152));}else await sleep(0x3e8);}};_0x64a107[_0x327d94(0x2ac)](async _0x3b1ee1=>{_0x3de49b(_0x3b1ee1),_0x5c1eb6(_0x3b1ee1);}),!wsEventsSet&&(wsEventsSet=!![],_0x1f119b(),watchTransactions());}async function watchTransactions(){const _0x534f42=_0x134905;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0xe00179=await getCoins(),[_0x2eb48e,_0x133fef]=_0xe00179;let _0x52844a=[];currentCoins['forEach'](_0x5d847f=>{const _0x4790ba=_0x3fe7,_0x4b4d5d=_0x2eb48e['find'](_0x391afe=>_0x391afe[_0x4790ba(0x1ac)]==_0x5d847f[_0x4790ba(0x1ac)]);_0x4b4d5d&&(_0x5d847f[_0x4790ba(0x1cc)]!=_0x4b4d5d[_0x4790ba(0x1cc)]&&_0x52844a[_0x4790ba(0x15d)]({'coin':_0x5d847f[_0x4790ba(0x1ac)],'symbol':_0x5d847f['symbol'],'number':Number(formatResult(_0x4b4d5d['number']-_0x5d847f['number'],0x8))}));});if(_0x52844a[_0x534f42(0x1e5)]==0x1&&!blockTransactionDetection){logger[_0x534f42(0x20f)](_0x534f42(0x252)+lastFees[_0x534f42(0x189)]+_0x534f42(0x1a0)+lastFees[_0x534f42(0x2ad)]);if(!lastFees[_0x534f42(0x189)]||_0x52844a[0x0]['coin']!=lastFees[_0x534f42(0x189)]||_0x52844a[0x0]['number']>lastFees[_0x534f42(0x2ad)]){let _0x40c01b;if(_0x52844a[0x0][_0x534f42(0x1ac)]!=config[_0x534f42(0x1e9)]){let _0x163828=global[_0x534f42(0x1e1)][noslash(_0x52844a[0x0][_0x534f42(0x217)])];_0x40c01b=_0x52844a[0x0][_0x534f42(0x218)]?0x1/_0x163828:_0x163828;}else _0x40c01b=0x1;_0x52844a[0x0][_0x534f42(0x26e)]=_0x40c01b,delete _0x52844a[0x0][_0x534f42(0x217)];let _0x351999=[],_0x1c6c19=[...config[_0x534f42(0x290)]]||[],_0x4fd9fa=config[_0x534f42(0x290)];_0x1c6c19['sort']((_0xcc1d00,_0x2620a4)=>_0xcc1d00[_0x534f42(0x16e)]>_0x2620a4['date']?-0x1:_0x2620a4[_0x534f42(0x16e)]>_0xcc1d00[_0x534f42(0x16e)]?0x1:0x0);const _0x26b3f7=getDate();if(_0x1c6c19[0x0]){const _0x4a528d=fns[_0x534f42(0x270)](_0x1c6c19[0x0][_0x534f42(0x16e)],_0x534f42(0x238),new Date()),_0x29f1de=fns[_0x534f42(0x270)](_0x26b3f7,'yyyy/MM/dd',new Date());if(fns[_0x534f42(0x249)](_0x4a528d,_0x29f1de)){_0x351999=_0x1c6c19[0x0][_0x534f42(0x14e)];const _0x2afa4e=_0x351999[_0x534f42(0x147)](_0x1ca924=>_0x1ca924[_0x534f42(0x1ac)]==_0x52844a[0x0][_0x534f42(0x1ac)]);_0x2afa4e?_0x2afa4e[_0x534f42(0x1cc)]+=_0x52844a[0x0]['number']:_0x351999['push'](_0x52844a[0x0]);const _0x41927b=_0x4fd9fa[_0x534f42(0x147)](_0x3939bd=>_0x3939bd['date']==_0x26b3f7);_0x41927b['changes']=_0x351999;}else _0x4fd9fa[_0x534f42(0x15d)]({'date':_0x26b3f7,'changes':[_0x52844a[0x0]]});}const _0x1dbf86=_0x4fd9fa['find'](_0x56a234=>_0x56a234[_0x534f42(0x16e)]==_0x26b3f7);if(_0x1dbf86){let _0x2a16fa=!![];_0x1dbf86[_0x534f42(0x14e)]['forEach'](_0x1b6196=>{const _0x12b7aa=_0x534f42;if(_0x1b6196[_0x12b7aa(0x1cc)]!=0x0)_0x2a16fa=![];}),_0x2a16fa&&(_0x4fd9fa=_0x4fd9fa[_0x534f42(0x299)](_0x1b8338=>{const _0x26695b=_0x534f42;return _0x1b8338[_0x26695b(0x16e)]!=_0x26b3f7;}));}let _0x496fbe=dbConfig[_0x534f42(0x23a)](_0x534f42(0x23b))[_0x534f42(0x147)]({'botID':botID})['value']();_0x496fbe&&(dbConfig['get']('bot')[_0x534f42(0x147)]({'botID':botID})[_0x534f42(0x200)]({'liquidity':_0x4fd9fa})[_0x534f42(0x26f)](),config[_0x534f42(0x290)]=_0x4fd9fa),logHistory(_0x534f42(0x153),_0x534f42(0x28c)+Math[_0x534f42(0x1a8)](_0x52844a[0x0]['number'])+'\x20'+_0x52844a[0x0][_0x534f42(0x1ac)]+'\x20'+(_0x52844a[0x0]['number']>0x0?_0x534f42(0x158):_0x534f42(0x19d))+_0x534f42(0x167)),proxyEmit(_0x534f42(0x201),emittedConfiguration());}else logger[_0x534f42(0x20f)](_0x534f42(0x21d)+Math['abs'](_0x52844a[0x0][_0x534f42(0x1cc)])+'\x20'+_0x52844a[0x0][_0x534f42(0x1ac)]+'\x20'+(_0x52844a[0x0][_0x534f42(0x1cc)]>0x0?_0x534f42(0x158):_0x534f42(0x19d)));transactionDetected=!![],currentCoins=_0x2eb48e,currentCoinsAll=_0x133fef;}await sleep(watchTransactionsInterval);}catch(_0x4dd3de){if(!exchangeStopped)await handleError(_0x4dd3de,'watchTransactions');}else await sleep(0x3e8);}}async function loadSymbols(_0x1cc855=config[_0x134905(0x2b8)],_0x50976d=![]){const _0x5bdd40=_0x134905;if(allSymbols&&!_0x50976d)return;try{markets=await exchange[_0x5bdd40(0x1c3)](),allSymbols=exchange['symbols'][_0x5bdd40(0x299)](_0x54940b=>{const _0x24af31=_0x5bdd40;let _0x14d6d0=![];const _0x380a26=exceptions[_0x1cc855[_0x24af31(0x15b)]()]||[];return _0x380a26['forEach'](_0x15963a=>{if(_0x54940b['includes'](_0x15963a))_0x14d6d0=!![];}),!_0x14d6d0;});}catch(_0x3ce36e){throw _0x3ce36e;}}async function initclient(){const _0x3d4f54=_0x134905;emitLoadingProgress(),proxyEmit(_0x3d4f54(0x201),emittedConfiguration()),proxyEmit(_0x3d4f54(0x1bd),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3d4f54(0x159),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x180ce3=getNormalizedPerformance();emitPerformance(_0x180ce3),await getStartingBalances(_0x180ce3);}async function toggleBotMode(){const _0x248b68=_0x134905;let _0x530db2=dbConfig[_0x248b68(0x23a)](_0x248b68(0x23b))[_0x248b68(0x147)]({'botID':botID})[_0x248b68(0x179)]();if(_0x530db2){const _0x29b0fe=!_0x530db2['headless'];dbConfig[_0x248b68(0x23a)](_0x248b68(0x23b))[_0x248b68(0x147)]({'botID':botID})[_0x248b68(0x200)]({'headless':_0x29b0fe})[_0x248b68(0x26f)](),config[_0x248b68(0x1da)]=_0x29b0fe,proxyEmit(_0x248b68(0x201),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x198ffc=_0x134905;process[_0x198ffc(0x251)]({'updatebotmanager':!![]},_0x4b9807=>{});}async function loadCoins(_0x50cb71){const _0x108f98=_0x134905;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x30bcaf,_0x23fa1a=0x0,_0xf3fb0d=0x0;_0x50cb71[_0x108f98(0x2ac)](_0x10888e=>{const _0x978e5=_0x108f98;loading['remainingSymbols'][_0x978e5(0x15d)](_0x10888e);}),loadingCanceled=![];let _0xe09398=![];while(_0x30bcaf!=_0x50cb71[_0x108f98(0x1e5)]){_0x30bcaf=0x0,_0x50cb71[_0x108f98(0x2ac)](_0x15e8f9=>{const _0x15c834=_0x108f98;global[_0x15c834(0x1e1)][noslash(_0x15e8f9)]&&(loading['remainingSymbols']=loading[_0x15c834(0x280)][_0x15c834(0x299)](_0xde5f13=>_0xde5f13!=_0x15e8f9),_0x30bcaf++);}),loading['progress']=Math[_0x108f98(0x171)](_0x30bcaf/_0x50cb71['length']*0x64);loading[_0x108f98(0x2b9)]!=0x64&&(_0xf3fb0d>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0xf3fb0d>0x78*0x5&&!_0xe09398&&(loading[_0x108f98(0x1e6)]=!![],emitLoadingProgress(),_0xe09398=!![],logHistory(_0x108f98(0x1ef),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading['remainingSymbols'][_0x108f98(0x279)](',\x20')+_0x108f98(0x1a1)),logHistory(_0x108f98(0x1ef),_0x108f98(0x263)+loadCoinsRetryInterval/0xea60+_0x108f98(0x19b)),pidCoinReloading=setTimeout(()=>{const _0x3a75eb=_0x108f98;process[_0x3a75eb(0x251)]({'stop':'restart'},_0xc55b1e=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x108f98(0x1e6)]=!![],emitLoadingProgress();break;}else _0x30bcaf!=_0x23fa1a&&(_0x23fa1a=_0x30bcaf,emitLoadingProgress()),_0xf3fb0d++,await sleep(0xc8);}_0x30bcaf==_0x50cb71[_0x108f98(0x1e5)]&&(coinsLoaded=!![],process[_0x108f98(0x251)]({'status':_0x108f98(0x166),'live':_0x108f98(0x1bc)},_0x1b9910=>{}),_0xe09398&&logHistory('success',_0x108f98(0x231)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x58e36b=_0x134905;proxyEmit(_0x58e36b(0x201),{...emittedConfiguration(),'configstate':_0x58e36b(0x220)});}function emitLoadingProgress(){const _0x4784cb=_0x134905;proxyEmit(_0x4784cb(0x20b),loading);}async function getFiat(){const _0x3f91ba=_0x134905;let _0x4cabe3=global[_0x3f91ba(0x1e1)][stablecoins[_0x3f91ba(0x258)][_0x3f91ba(0x1ac)]],_0x5c2f05=global[_0x3f91ba(0x1e1)][stablecoins[_0x3f91ba(0x162)][_0x3f91ba(0x1ac)]];return{'eur':Number(_0x4cabe3),'usd':Number(_0x5c2f05)};}function capitalize(_0xbb4f15){return _0xbb4f15['substring'](0x0,0x1)['toUpperCase']()+_0xbb4f15['substring'](0x1);}function supportedExchanges(){const _0x56bf59=_0x134905,_0x427a36=['ws',_0x56bf59(0x17b),_0x56bf59(0x157),_0x56bf59(0x298),'watchOrders',_0x56bf59(0x1c5),'createOrder',_0x56bf59(0x2b3),_0x56bf59(0x1c6),_0x56bf59(0x181)];let _0x6ed8=[],_0x30a066=[],_0x59aba1=ccxt[_0x56bf59(0x1bd)];_0x59aba1[_0x56bf59(0x2ac)](_0x407150=>{const _0x4e9051=_0x56bf59;try{const _0x4a9cb1=new ccxt[_0x407150]();if(_0x4a9cb1[_0x4e9051(0x23e)]['ws'])_0x30a066['push'](_0x4a9cb1);}catch(_0x1eb662){}}),_0x30a066[_0x56bf59(0x2ac)](_0x284aa8=>{const _0x591e6e=_0x56bf59;let _0x447348=0x0;_0x427a36[_0x591e6e(0x2ac)](_0x17de14=>{const _0x312dfe=_0x591e6e;_0x17de14 in _0x284aa8[_0x312dfe(0x23e)]&&_0x284aa8[_0x312dfe(0x23e)][_0x17de14]&&_0x447348++;}),_0x447348==_0x427a36[_0x591e6e(0x1e5)]&&_0x6ed8[_0x591e6e(0x15d)](capitalize(_0x284aa8['id']));});let _0x50416a=[];return _0x59aba1[_0x56bf59(0x2ac)](_0x12cc1c=>{const _0x5e3afb=_0x56bf59;_0x12cc1c=capitalize(_0x12cc1c);if(!_0x6ed8[_0x5e3afb(0x18d)](_0x12cc1c))_0x50416a[_0x5e3afb(0x15d)](_0x12cc1c);}),_0x6ed8;}function setStartDatePerformance(){const _0x1b8904=_0x134905;if(config&&config[_0x1b8904(0x290)][0x0][_0x1b8904(0x14e)][_0x1b8904(0x1e5)]!=0x0){const _0x7c18d8=config[_0x1b8904(0x290)][0x0][_0x1b8904(0x14e)];dbPerformance[_0x1b8904(0x23a)](_0x1b8904(0x29a))['find']({'date':config['startdate']})['assign']({'coins':_0x7c18d8})[_0x1b8904(0x26f)]();}}async function recreateCoinResults(){const _0x45e8fe=_0x134905;let _0x130d77,_0x36c437=[];try{const _0x184193=fns['format'](fns[_0x45e8fe(0x1d5)](config[_0x45e8fe(0x29d)][_0x45e8fe(0x2a1)](/\//g,'-')),_0x45e8fe(0x248));for(const _0x4e6b44 of currentCoins){if(_0x4e6b44[_0x45e8fe(0x1ac)]!=config[_0x45e8fe(0x1e9)]){let _0x4809d7=0x0,_0x57fc85,_0x1daf90;_0x130d77=await getAllEventOrders(_0x4e6b44[_0x45e8fe(0x217)]);if(_0x130d77[_0x45e8fe(0x1e5)]>0x0)_0x130d77[_0x45e8fe(0x2ac)](_0x2a6706=>{const _0x3f513a=_0x45e8fe,_0x455b6b=_0x4e6b44[_0x3f513a(0x217)][_0x3f513a(0x18d)](config[_0x3f513a(0x1e9)]+'/');_0x36c437['push']({'datetime':_0x2a6706[_0x3f513a(0x1a9)],'coin':_0x4e6b44[_0x3f513a(0x1ac)],'symbol':_0x4e6b44[_0x3f513a(0x217)],'side':_0x2a6706[_0x3f513a(0x1be)],'reverse':_0x455b6b,'amount':formatResult(_0x2a6706[_0x3f513a(0x243)],0x8),'filled':formatResult(_0x2a6706['filled'],0x8),'price':formatResult(_0x2a6706[_0x3f513a(0x26e)],0x8)}),_0x4809d7=_0x2a6706[_0x3f513a(0x1be)]==_0x3f513a(0x1d9)?_0x4809d7+_0x2a6706[_0x3f513a(0x243)]:_0x4809d7-_0x2a6706[_0x3f513a(0x243)];if(!_0x1daf90)_0x1daf90=_0x2a6706[_0x3f513a(0x26e)];});_0x57fc85=_0x4e6b44['number']-_0x4809d7;let _0x8ef961;config[_0x45e8fe(0x290)][_0x45e8fe(0x2ac)](_0x1109b4=>{const _0xe0d375=_0x45e8fe;!_0x8ef961&&(_0x8ef961=_0x1109b4['changes']['find'](_0x25c13f=>_0x25c13f['coin']==_0x4e6b44[_0xe0d375(0x1ac)]),_0x8ef961&&(_0x57fc85=_0x8ef961[_0xe0d375(0x1cc)],_0x1daf90=_0x8ef961[_0xe0d375(0x26e)]));});let _0x55539b=dbCoinResults[_0x45e8fe(0x23a)]('coins')['find']({'coin':_0x4e6b44[_0x45e8fe(0x1ac)]})['value']();_0x55539b={'coin':_0x4e6b44[_0x45e8fe(0x1ac)],'number':_0x57fc85,'breakeven':_0x1daf90,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x45e8fe(0x23a)](_0x45e8fe(0x1cb))['find']({'coin':_0x4e6b44[_0x45e8fe(0x1ac)]})[_0x45e8fe(0x200)](_0x55539b)[_0x45e8fe(0x26f)]();}}_0x36c437['sort']((_0x4dfd16,_0x2f16dc)=>_0x4dfd16[_0x45e8fe(0x1a9)]>_0x2f16dc[_0x45e8fe(0x1a9)]?0x1:_0x2f16dc[_0x45e8fe(0x1a9)]>_0x4dfd16['datetime']?-0x1:0x0);let _0x5ad89a=0x0;for(let _0x418e62 of _0x36c437){await updateCoinResults(_0x418e62,!![]);}}catch(_0x34b05a){await handleError(_0x34b05a,_0x45e8fe(0x1c1));}}async function getAllEventOrders(_0x37f496){const _0x4350d1=_0x134905;let _0x35a739=[],_0x3f28d1=dbLogs[_0x4350d1(0x23a)]('logs')[_0x4350d1(0x299)](_0x13a116=>{const _0x173ba2=_0x4350d1,_0x168b45=_0x13a116['event']['toLowerCase']();return _0x168b45[_0x173ba2(0x18d)](_0x37f496[_0x173ba2(0x15b)]())&&(_0x168b45[_0x173ba2(0x18d)](_0x173ba2(0x253))&&_0x168b45['includes'](_0x173ba2(0x1cd))||_0x168b45[_0x173ba2(0x18d)]('filled')&&_0x168b45[_0x173ba2(0x18d)](_0x173ba2(0x1cd)));})['sortBy']('time')['value']();return _0x3f28d1['forEach'](_0x2ce03e=>{const _0x135788=_0x4350d1,_0x203338=_0x2ce03e[_0x135788(0x2ab)][_0x135788(0x18d)](_0x135788(0x2a6))?_0x135788(0x2a6):_0x135788(0x1d9),_0x4ae255=/#([0-9]|\.)+\s/i,_0x4d91c1=Number(_0x4ae255[_0x135788(0x216)](_0x2ce03e['event'])[0x0][_0x135788(0x161)](0x1)),_0x2e1c80=/@([0-9]|\.)+$/i,_0x3dab5f=Number(_0x2e1c80['exec'](_0x2ce03e['event'])[0x0][_0x135788(0x161)](0x1));_0x35a739['push']({'datetime':_0x2ce03e[_0x135788(0x141)],'coin':symbolToCoin(_0x37f496),'symbol':_0x37f496,'side':_0x203338,'amount':_0x4d91c1,'filled':_0x4d91c1,'price':_0x3dab5f});}),_0x35a739;}async function getAllOrders(_0x30eaf4,_0xf833f2){const _0x23de8c=_0x134905;let _0x589a2f=[];while(_0xf833f2<exchange[_0x23de8c(0x247)]()){const _0x17b307=0x1f4,_0x94097b=await exchange[_0x23de8c(0x1c6)](_0x30eaf4,_0xf833f2,_0x17b307);if(_0x94097b['length'])_0xf833f2=_0x94097b[_0x94097b[_0x23de8c(0x1e5)]-0x1][_0x23de8c(0x20c)]+0x1,_0x589a2f=_0x589a2f[_0x23de8c(0x226)](_0x94097b);else break;}return _0x589a2f;}async function validate24hChanges(){const _0x9b25c5=_0x134905;for(const _0x2d4a9b of currentCoins){if(_0x2d4a9b[_0x9b25c5(0x1ac)]!=config['basecoin']){let _0x2efbe0;_0x2d4a9b[_0x9b25c5(0x218)]?_0x2efbe0=formatResult((0x1/(global[_0x9b25c5(0x169)][noslash(_0x2d4a9b[_0x9b25c5(0x217)])]/0x64+0x1)-0x1)*0x64,0x3):_0x2efbe0=global[_0x9b25c5(0x169)][noslash(_0x2d4a9b[_0x9b25c5(0x217)])],_0x2efbe0<config[_0x9b25c5(0x1f9)]&&(logHistory('error',_0x2d4a9b[_0x9b25c5(0x1ac)]+_0x9b25c5(0x2a8)+_0x2efbe0+'%'),logHistory(_0x9b25c5(0x1ef),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory('error',_0x9b25c5(0x28b)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x4b9ea1,_0x14cc93){const _0x64a86b=_0x134905;if(!_0x4b9ea1)return!![];const _0x3f9428=_0x14cc93[_0x64a86b(0x1bb)]('.'),_0x50324f=_0x4b9ea1[_0x64a86b(0x1bb)]('.');for(var _0x277333=0x0;_0x277333<_0x50324f[_0x64a86b(0x1e5)];_0x277333++){const _0x5d6164=~~_0x50324f[_0x277333],_0x427f6c=~~_0x3f9428[_0x277333];if(_0x5d6164<_0x427f6c)return!![];if(_0x5d6164>_0x427f6c)return![];}return![];}async function oneTimeMigration(){const _0x30dc1f=_0x134905;let _0x2ba35d=dbLogs[_0x30dc1f(0x23a)](_0x30dc1f(0x266))[_0x30dc1f(0x179)]();if(isOlderVersion(_0x2ba35d,_0x30dc1f(0x27a))){let _0x22c9b7=[];const _0x5a58fb=dbLogs[_0x30dc1f(0x23a)](_0x30dc1f(0x2b7))[_0x30dc1f(0x179)]();_0x5a58fb[_0x30dc1f(0x2ac)](_0x3182cf=>{const _0x1cc348=_0x30dc1f;_0x22c9b7[_0x1cc348(0x15d)]({'time':_0x3182cf[_0x1cc348(0x141)],'type':_0x3182cf[_0x1cc348(0x275)],'event':_0x3182cf[_0x1cc348(0x2ab)]});}),dbLogs['get'](_0x30dc1f(0x2b7))['assign'](_0x22c9b7)[_0x30dc1f(0x26f)]();}let _0x257a2e=dbConfig[_0x30dc1f(0x23a)](_0x30dc1f(0x266))['value']();if(isOlderVersion(_0x257a2e,'2.3.5')){let _0x412106=dbConfig[_0x30dc1f(0x23a)](_0x30dc1f(0x23b))[_0x30dc1f(0x147)]({'botID':botID})[_0x30dc1f(0x179)]();if(_0x412106){let _0x38f2dc=[];_0x412106[_0x30dc1f(0x24d)][_0x30dc1f(0x2ac)](_0x48e928=>{const _0x10929e=_0x30dc1f;_0x38f2dc[_0x10929e(0x15d)]({'coin':_0x48e928[_0x10929e(0x1ac)],'number':_0x48e928[_0x10929e(0x1d0)],'price':_0x48e928['startprice']}),delete _0x48e928['startnumber'],delete _0x48e928[_0x10929e(0x18c)];});if(_0x38f2dc['length']!==0x0)fs[_0x30dc1f(0x188)](configbackuppath+(_0x30dc1f(0x205)+botID+_0x30dc1f(0x1ea)),JSON[_0x30dc1f(0x150)](_0x38f2dc,null,0x4),function(_0x1ebb12){if(_0x1ebb12){}});const _0x48422d=(_0x518208,_0x486ccc)=>{const _0x4c892e=_0x30dc1f;let _0x18fc36=[];_0x486ccc[_0x4c892e(0x2ac)](_0x5198a6=>{const _0x5a2ac4=_0x4c892e,_0x1fa783=_0x518208[_0x5a2ac4(0x147)](_0x5096c0=>_0x5096c0[_0x5a2ac4(0x1ac)]==_0x5198a6[_0x5a2ac4(0x1ac)]);if(!_0x1fa783)_0x18fc36[_0x5a2ac4(0x15d)](_0x5198a6);});let _0x24141f=[];return _0x518208['forEach'](_0x3ec37e=>{const _0x279c69=_0x4c892e,_0x1c6ddf=_0x486ccc[_0x279c69(0x147)](_0x334060=>_0x334060[_0x279c69(0x1ac)]==_0x3ec37e['coin']);if(!_0x1c6ddf||_0x1c6ddf[_0x279c69(0x1cc)]==0x0&&_0x3ec37e[_0x279c69(0x1cc)]!=0x0)_0x24141f['push'](_0x3ec37e);}),{'missingDay1':_0x18fc36,'notInDay2':_0x24141f};},_0x258ed9=dbPerformance[_0x30dc1f(0x23a)](_0x30dc1f(0x29a))[_0x30dc1f(0x1fe)]()[_0x30dc1f(0x179)]();if(_0x258ed9[_0x30dc1f(0x1e5)]>0x1){const {missingDay1:_0x47930d,notInDay2:_0x1ae0fa}=_0x48422d(_0x38f2dc,_0x258ed9[0x1][_0x30dc1f(0x1cb)]);_0x38f2dc=[..._0x38f2dc,..._0x47930d],_0x1ae0fa[_0x30dc1f(0x2ac)](_0x36f9c5=>{const _0x1674a2=_0x30dc1f;let _0x3194e3=_0x38f2dc[_0x1674a2(0x146)](_0x172093=>_0x172093[_0x1674a2(0x1ac)]==_0x36f9c5[_0x1674a2(0x1ac)]);_0x3194e3!=-0x1&&_0x38f2dc['splice'](_0x3194e3,0x1);});}_0x38f2dc[_0x30dc1f(0x223)]((_0x1d24b4,_0x32c394)=>_0x1d24b4[_0x30dc1f(0x1ac)]>_0x32c394[_0x30dc1f(0x1ac)]?0x1:_0x32c394['coin']>_0x1d24b4[_0x30dc1f(0x1ac)]?-0x1:0x0);let _0x18a699=[{'date':_0x412106[_0x30dc1f(0x29d)],'changes':_0x38f2dc}];_0x258ed9[_0x30dc1f(0x1e5)]>0x2&&_0x258ed9['forEach']((_0xbda16,_0x402b70)=>{const _0x2118bc=_0x30dc1f;if(_0x402b70>0x0&&_0x402b70<_0x258ed9[_0x2118bc(0x1e5)]-0x1){const {missingDay1:_0x42daa6,notInDay2:_0x3bfaab}=_0x48422d(_0x258ed9[_0x402b70][_0x2118bc(0x1cb)],_0x258ed9[_0x402b70+0x1]['coins']);_0x38f2dc=[],(_0x42daa6[_0x2118bc(0x1e5)]!=0x0||_0x3bfaab[_0x2118bc(0x1e5)]!=0x0)&&(_0x42daa6['length']!=0x0&&_0x38f2dc[_0x2118bc(0x15d)](..._0x42daa6),_0x3bfaab[_0x2118bc(0x1e5)]!=0x0&&(_0x3bfaab[_0x2118bc(0x2ac)](_0x63b69c=>{const _0x4c83d1=_0x2118bc;_0x63b69c[_0x4c83d1(0x1cc)]=-_0x63b69c[_0x4c83d1(0x1cc)];}),_0x38f2dc[_0x2118bc(0x15d)](..._0x3bfaab)),_0x38f2dc[_0x2118bc(0x223)]((_0xdbeb64,_0x471437)=>_0xdbeb64[_0x2118bc(0x1ac)]>_0x471437[_0x2118bc(0x1ac)]?0x1:_0x471437[_0x2118bc(0x1ac)]>_0xdbeb64[_0x2118bc(0x1ac)]?-0x1:0x0),_0x18a699['push']({'date':_0x258ed9[_0x402b70+0x1][_0x2118bc(0x16e)],'changes':_0x38f2dc}));}}),dbConfig[_0x30dc1f(0x23a)]('bot')[_0x30dc1f(0x147)]({'botID':botID})[_0x30dc1f(0x200)]({..._0x412106,'liquidity':_0x18a699})['write']();}}if(isOlderVersion(_0x257a2e,'2.6.0')){let _0x234d7d=dbConfig[_0x30dc1f(0x23a)](_0x30dc1f(0x23b))[_0x30dc1f(0x147)]({'botID':botID})[_0x30dc1f(0x179)]();if(_0x234d7d){const _0x1c2c5c=_0x234d7d[_0x30dc1f(0x2b8)],_0x342731=_0x1c2c5c?capitalize(_0x1c2c5c):_0x30dc1f(0x285);dbConfig[_0x30dc1f(0x23a)]('bot')['find']({'botID':botID})[_0x30dc1f(0x200)]({'exchange':_0x342731})['write']();}}let _0x147438=dbPerformance['get'](_0x30dc1f(0x266))[_0x30dc1f(0x179)]();isOlderVersion(_0x147438,_0x30dc1f(0x27a))&&setStartDatePerformance();let _0x41cd06=dbCoinResults[_0x30dc1f(0x23a)](_0x30dc1f(0x266))[_0x30dc1f(0x179)]();if(isOlderVersion(_0x41cd06,_0x30dc1f(0x1b3))){let _0x26f5f5=dbCoinResults['get'](_0x30dc1f(0x1cb))['value']();if(_0x26f5f5[_0x30dc1f(0x1e5)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x527659=_0x134905;dbConfig[_0x527659(0x15f)](_0x527659(0x266),serverversion)[_0x527659(0x26f)](),dbPerformance[_0x527659(0x15f)]('version',serverversion)[_0x527659(0x26f)](),dbLogs[_0x527659(0x15f)](_0x527659(0x266),serverversion)[_0x527659(0x26f)](),dbCoinResults[_0x527659(0x15f)](_0x527659(0x266),serverversion)['write']();}function getConfiguration(_0x53b2a8){const _0x2a9a67=_0x134905;let _0x82bc2=dbConfig[_0x2a9a67(0x23a)]('bot')[_0x2a9a67(0x147)]({'botID':_0x53b2a8})[_0x2a9a67(0x179)]();if(_0x82bc2){let _0x3a4048=![];typeof _0x82bc2[_0x2a9a67(0x2b2)]==_0x2a9a67(0x21c)&&(_0x82bc2={..._0x82bc2,'threshold':Number(_0x82bc2['threshold'])},_0x3a4048=!![]),_0x82bc2[_0x2a9a67(0x1f9)]==null&&(_0x82bc2={..._0x82bc2,'change24h':-0x14},_0x3a4048=!![]),!_0x82bc2[_0x2a9a67(0x268)]&&(_0x82bc2={..._0x82bc2,'fiat':_0x2a9a67(0x22f)},_0x3a4048=!![]),!_0x82bc2[_0x2a9a67(0x278)]&&(_0x82bc2={..._0x82bc2,'onepagemode':settings[_0x2a9a67(0x278)]},_0x3a4048=!![]),_0x3a4048&&(_0x82bc2={'botID':_0x82bc2[_0x2a9a67(0x16f)],'exchange':_0x82bc2['exchange'],'apiKey':_0x82bc2[_0x2a9a67(0x273)],'apiSecret':_0x82bc2[_0x2a9a67(0x1b5)],'basecoin':_0x82bc2[_0x2a9a67(0x1e9)],'botname':_0x82bc2[_0x2a9a67(0x1c4)],'showname':_0x82bc2[_0x2a9a67(0x1a4)],'threshold':_0x82bc2[_0x2a9a67(0x2b2)],'ordertype':_0x82bc2[_0x2a9a67(0x1b6)],'timeout':_0x82bc2[_0x2a9a67(0x17d)],'fiat':_0x82bc2[_0x2a9a67(0x268)],'startdate':_0x82bc2[_0x2a9a67(0x29d)],'recreate':_0x82bc2[_0x2a9a67(0x1a5)],'timeshift':_0x82bc2[_0x2a9a67(0x245)],'onepagemode':_0x82bc2['onepagemode'],'headless':_0x82bc2[_0x2a9a67(0x1da)],'cooldown':_0x82bc2[_0x2a9a67(0x14d)],'change24h':_0x82bc2['change24h'],'emojibuy':_0x82bc2[_0x2a9a67(0x229)],'emojisell':_0x82bc2[_0x2a9a67(0x1af)],'portfolio':_0x82bc2[_0x2a9a67(0x24d)],'liquidity':_0x82bc2[_0x2a9a67(0x290)],'openOrders':_0x82bc2['openOrders']},dbConfig[_0x2a9a67(0x23a)](_0x2a9a67(0x23b))['remove']()[_0x2a9a67(0x26f)](),dbConfig[_0x2a9a67(0x23a)](_0x2a9a67(0x23b))['push'](_0x82bc2)['write']());}else _0x82bc2={'botID':_0x53b2a8,'exchange':'','apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x53b2a8,'showname':![],'threshold':0x3,'ordertype':_0x2a9a67(0x253),'timeout':0x14,'fiat':_0x2a9a67(0x22f),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x2a9a67(0x245)],'onepagemode':settings[_0x2a9a67(0x278)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x82bc2;}function emittedConfiguration(){const _0x549fa5=_0x134905;let _0x5521ab;if(config[_0x549fa5(0x273)]=='')_0x5521ab={...config,'configstate':'initial'};else config[_0x549fa5(0x273)]=='***'?_0x5521ab={...config,'configstate':_0x549fa5(0x222)}:_0x5521ab={...config,'apiKey':'************','apiSecret':'************'};return _0x5521ab;}function getSettings(){const _0x5d66b0=_0x134905;return dbSettings[_0x5d66b0(0x23a)](_0x5d66b0(0x27e))[_0x5d66b0(0x179)]();}function getSecure(){const _0x32dee4=_0x134905;return dbSecure['get'](_0x32dee4(0x228))[_0x32dee4(0x179)]()||{};}function updateTimeshift(_0x35001f){const _0x58d6c6=_0x134905;let _0x1f138e=dbConfig['get'](_0x58d6c6(0x23b))[_0x58d6c6(0x147)]({'botID':botID})[_0x58d6c6(0x179)]();_0x1f138e&&dbConfig['get'](_0x58d6c6(0x23b))[_0x58d6c6(0x147)]({'botID':botID})[_0x58d6c6(0x200)]({'timeshift':_0x35001f})[_0x58d6c6(0x26f)](),config[_0x58d6c6(0x245)]=_0x35001f,proxyEmit(_0x58d6c6(0x201),emittedConfiguration());}function updateOnepagemode(_0x3ee234){const _0x2a1ba2=_0x134905;let _0x713d85=dbConfig[_0x2a1ba2(0x23a)](_0x2a1ba2(0x23b))[_0x2a1ba2(0x147)]({'botID':botID})[_0x2a1ba2(0x179)]();_0x713d85&&dbConfig[_0x2a1ba2(0x23a)](_0x2a1ba2(0x23b))[_0x2a1ba2(0x147)]({'botID':botID})['assign']({'onepagemode':_0x3ee234})[_0x2a1ba2(0x26f)](),config[_0x2a1ba2(0x278)]=_0x3ee234,proxyEmit(_0x2a1ba2(0x201),emittedConfiguration());}async function storeConfiguration(_0xcfcb4c){const _0x428ebd=_0x134905;logger[_0x428ebd(0x20f)](_0x428ebd(0x2bb)),blockTransactionDetection=!![],logger[_0x428ebd(0x20f)](_0x428ebd(0x1f4));let _0x31fd90=[],_0x5edaef=![],_0x24d456=[];_0xcfcb4c[_0x428ebd(0x24d)][_0x428ebd(0x2ac)](_0x5c6ff1=>{const _0x4ece83=_0x428ebd;if(!_0x5c6ff1[_0x4ece83(0x292)]&&_0x5c6ff1[_0x4ece83(0x1ac)]!=_0xcfcb4c[_0x4ece83(0x1e9)])_0x24d456['push'](_0x5c6ff1[_0x4ece83(0x217)]);});currentCoins[_0x428ebd(0x1e5)]==0x0?_0x31fd90=_0x24d456:_0x24d456['forEach'](_0x57499e=>{const _0x968bbd=_0x428ebd,_0x1263b1=currentCoins[_0x968bbd(0x147)](_0xcc86ec=>_0xcc86ec[_0x968bbd(0x217)]==_0x57499e);!_0x1263b1&&_0x31fd90[_0x968bbd(0x15d)](_0x57499e);});_0x31fd90[_0x428ebd(0x1e5)]>0x0?_0x5edaef=!![]:currentCoins['forEach'](_0x2d9b6f=>{const _0x4f11e0=_0x428ebd;if(_0x2d9b6f[_0x4f11e0(0x1ac)]!=config[_0x4f11e0(0x1e9)]){const _0x82af94=_0x24d456[_0x4f11e0(0x147)](_0x199d01=>_0x199d01==_0x2d9b6f[_0x4f11e0(0x217)]);!_0x82af94&&(_0x5edaef=!![]);}});let _0x1cf857=dbConfig[_0x428ebd(0x23a)](_0x428ebd(0x23b))[_0x428ebd(0x147)]({'botID':botID})[_0x428ebd(0x179)]();_0xcfcb4c={..._0xcfcb4c,'apiKey':crypt[_0x428ebd(0x19e)](secure[_0x428ebd(0x22a)],_0xcfcb4c[_0x428ebd(0x273)])[_0x428ebd(0x2a4)],'apiSecret':crypt[_0x428ebd(0x19e)](secure[_0x428ebd(0x22a)],_0xcfcb4c[_0x428ebd(0x1b5)])[_0x428ebd(0x2a4)]};let _0x50fb3b=![];_0x1cf857?(_0xcfcb4c[_0x428ebd(0x273)]=='************'?_0xcfcb4c[_0x428ebd(0x273)]=config[_0x428ebd(0x273)]:_0x50fb3b=!![],_0xcfcb4c[_0x428ebd(0x1b5)]==_0x428ebd(0x27c)?_0xcfcb4c[_0x428ebd(0x1b5)]=config['apiSecret']:_0x50fb3b=!![],dbConfig[_0x428ebd(0x23a)](_0x428ebd(0x23b))[_0x428ebd(0x147)]({'botID':botID})[_0x428ebd(0x200)](_0xcfcb4c)[_0x428ebd(0x26f)]()):(dbConfig[_0x428ebd(0x23a)](_0x428ebd(0x23b))[_0x428ebd(0x15d)](_0xcfcb4c)[_0x428ebd(0x26f)](),_0x50fb3b=!![],process[_0x428ebd(0x251)]({'status':_0x428ebd(0x166),'live':'running'},_0x2648ad=>{}));config={..._0xcfcb4c},setStartDatePerformance(),process['send']({'botname':_0xcfcb4c[_0x428ebd(0x1c4)]},_0x17e480=>{}),updateBotManager();const _0x54dfde=getNormalizedPerformance();getStartingBalances(_0x54dfde),emitPerformance(_0x54dfde),proxyEmit(_0x428ebd(0x1c2)),await initCoinResults();if(_0x50fb3b)await reset(_0x31fd90,!![]);else{if(_0x5edaef)await reset(_0x31fd90,![]);else{if(pidBalances)clearTimeout(pidBalances);getBalances();}}blockTransactionDetection=![],logger['debug']('Transaction\x20detection\x20unblocked');}async function storeHeadless(_0x1282d2){const _0x16e745=_0x134905,_0x2fb205={...config,'headless':_0x1282d2[_0x16e745(0x1da)]};let _0x2e118c=dbConfig['get'](_0x16e745(0x23b))[_0x16e745(0x147)]({'botID':botID})[_0x16e745(0x179)]();_0x2e118c&&dbConfig['get']('bot')[_0x16e745(0x147)]({'botID':botID})[_0x16e745(0x200)](_0x2fb205)[_0x16e745(0x26f)](),config={..._0x2fb205},updateBotManager(),proxyEmit(_0x16e745(0x201),emittedConfiguration());}async function storeFiat(_0x557981){const _0x5e39e8=_0x134905,_0xfdbbba={...config,'fiat':_0x557981};let _0x31a245=dbConfig[_0x5e39e8(0x23a)]('bot')['find']({'botID':botID})[_0x5e39e8(0x179)]();_0x31a245&&dbConfig[_0x5e39e8(0x23a)](_0x5e39e8(0x23b))[_0x5e39e8(0x147)]({'botID':botID})[_0x5e39e8(0x200)](_0xfdbbba)['write'](),config={..._0xfdbbba},proxyEmit('configuration',emittedConfiguration());}function _0x23f2(){const _0x1c1ebd=['placeOrder()','push','apply','set','001','slice','usd','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Order\x20amount\x20is\x20invalid:\x20','shift','enabled','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','change','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','./logs/','map','EUR','date','botID','netoffset','round','getMinutes','net-basecoin','ETH','target','mkdirSync','simple','1\x20-\x20Unlock\x20orders','value','leftTxt','fetchTickers','/output-000.log','timeout','timer:','path','getPortfolio(2)','fetchBalance','lowdb','BNB/','getPortfolio(0)','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','bot-','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','writeFile','currency','status','hybrid-crypto-js','startprice','includes','log','ongoing','-events.json','/EUR','bb-settings.json','createOrder','trade','starting-balances','additional\x20symbols\x20','delta','balancing\x20resumed','Manual\x20balancing\x20required','limit-high','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','toString','removed','decrypt','\x20minutes\x20-\x20','\x20|\x20highest:\x20','\x20-\x20bot\x20not\x20started','ORDERS.UNLOCKING','/USD','showname','recreate','cancelLoading','getCoins()','abs','datetime','Limit\x20(low-margin)','getDate','coin','net-fiat','min','emojisell','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','loadSymbols()','getStartingBalances','2.5.0','0\x20-\x20EXECUTION:\x20','apiSecret','ordertype','no\x20additional\x20symbols','2\x20-\x20Orders\x20unlocked','bb-secure.json','distribution','split','running','exchanges','side','page','error\x20while\x20deleting\x20files:\x20','recreateCoinResults()','configuration-stored','loadMarkets','botname','cancelOrder','fetchClosedOrders','initial','cancelOrders()','\x20order:\x20','argv','coins','number','order','\x20metrics:</b>\x20\x0a\x0a','USDT','startnumber','toFixed','initclient','1193544UwOcVP','max','parseISO','Invalid\x20API\x20key\x20or\x20secret\x20entered','recent20','constructor','buy','headless','Executing\x20exchange\x20reload','createWriteStream','Exchange','canceled','ask','restart','ticker','clientOrderId','2\x20-\x20Handled\x20open\x20orders','-results.json','length','cancel','random','average','basecoin','.json','\x20|\x20lock\x20orders:\x20','showConfig','33OpcBCQ','getPortfolio(1)','error','keys','limit','final','Order\x20filled:\x20','Transaction\x20detection\x20blocked','/backup/','UNLOCKED','yargs/yargs','storeFiat','change24h','<b>','UNLOCKING','\x20not\x20responding','getOpenOrders()','cloneDeep','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','assign','configuration','full','defaults','\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','starting-balance-','%\x20(','LOCKED','222035XyPXIK','remove','no\x20open\x20orders','coin-loading-progress','timestamp','Initiating\x20exchange\x20reload','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','debug','customId','Limit\x20(high-margin)','sendPortfolioTelegram','orderstatus','4YnmdkL','performance','exec','symbol','reverse','\x20|\x20','getSeconds','lowdb/adapters/FileSync','string','Fee\x20discount\x20refund\x20detected:\x20','limit-low','-config.json','loading-canceled','ORDERS.UNLOCKED','recovery','sort','Order(s)\x20not\x20validated\x20after\x20','limits','concat','resetHistory','secure','emojibuy','privateKey','valid','Cooldown\x20ended\x20-\x20balancing\x20resumed','search','padStart','USD','format','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','fees','1675215ZWJqhZ','ccxt','Executed\x20','differenceInSeconds','open','yyyy/MM/dd','function','get','bot','\x20portfolio:</b>\x20\x0a\x0a','sha256','has','\x20orders\x20in\x20less\x20than\x20','DAI/','RequestTimeout','23005920SWkQax','filled','AuthenticationError','timeshift','\x20>\x20[DEBUG]\x20','milliseconds','yyyy-MM-dd\x27T\x27HH:mm:ss','isEqual','util','amount','none','portfolio','fee','BNB','***','send','Fees\x20|\x20currency:\x20','market','API-key\x20format\x20invalid','./config/',',\x20must\x20be\x20a\x203\x20digit\x20number','percentage','eur','buys','offset','bots','(((.+)+)+)+$','sendMetricsTelegram','getHours','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','\x20:\x20','getPortfolio','warning','Pausing\x20for\x20','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','./version.json','version','realized','fiat','7077512RFgEfA','<pre>','getTime','toggleBotMode','breakeven','price','write','parse','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','sortBy','apiKey','event-history','type',':\x20Bot\x20','\x20hour','onepagemode','join','2.3.5','Net\x20','************','openOrders','settings','-performance.json','remainingSymbols','NANO/','\x20exchange','Net\x20effect','fromCodePoint','Binance','Error:\x20Invalid\x20argument\x20','RSA-OAEP','balancing\x20resumes\x20when\x20cooldown\x20ends','BUSD','kill','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','Portfolio\x20change\x20detected:\x20','getFullYear','sells','storeHeadless','liquidity','\x20not\x20available','excluded','Market','cost','date-fns','HOT/BTC','bid','watchTrades','filter','data','rightTxt','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','startdate','\x20>\x20','padEnd','834PmGVOj','replace','last','emitHistory','message','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','sell','6706UHLGIf','\x20has\x20a\x2024h\x20drop\x20of\x20','Reset\x20|\x20','args','event','forEach','highest','getCoinNumber()','total','existsSync','\x20value','threshold','fetchOpenOrders','No\x20more\x20open\x20orders\x20-\x20','-------------------------------\x0a','</pre>','logs','exchange','progress','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Saving\x20configuration','MIN_NOTIONAL','239658YVnUYQ','time','precision','orderId','splice','unlinkSync','findIndex','find','\x20minutes','Unknown\x20error\x20occured','indexOf','getMonth','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','cooldown','changes','deleteHistoryAlerts','stringify','InsufficientFunds','watchOrders','success','Invalid\x20quantity','BTC','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','fetchTicker','added','balances','entries','toLowerCase'];_0x23f2=function(){return _0x1c1ebd;};return _0x23f2();}function resetHistory(){const _0xc27ea8=_0x134905;logger[_0xc27ea8(0x202)]('Resetting\x20bot\x20history');try{if(fs[_0xc27ea8(0x2b0)](path[_0xc27ea8(0x279)](configpath,_0xc27ea8(0x186)+botID+_0xc27ea8(0x190))))fs[_0xc27ea8(0x145)](path['join'](configpath,_0xc27ea8(0x186)+botID+_0xc27ea8(0x190)));if(fs['existsSync'](path['join'](configpath,'bot-'+botID+_0xc27ea8(0x27f))))fs[_0xc27ea8(0x145)](path[_0xc27ea8(0x279)](configpath,_0xc27ea8(0x186)+botID+_0xc27ea8(0x27f)));if(fs[_0xc27ea8(0x2b0)](path['join'](configpath,_0xc27ea8(0x186)+botID+_0xc27ea8(0x1e4))))fs[_0xc27ea8(0x145)](path[_0xc27ea8(0x279)](configpath,_0xc27ea8(0x186)+botID+_0xc27ea8(0x1e4)));}catch(_0x478633){if(_0x478633)logger[_0xc27ea8(0x202)](_0xc27ea8(0x1c0),_0x478633);}const _0x56f59c=getDate();let _0x36bb09=[];currentCoins[_0xc27ea8(0x2ac)](_0x655f63=>{const _0x3e8377=_0xc27ea8;_0x36bb09[_0x3e8377(0x15d)]({'coin':_0x655f63[_0x3e8377(0x1ac)],'number':_0x655f63[_0x3e8377(0x1cc)],'price':_0x655f63['last']});});let _0x14014c=dbConfig[_0xc27ea8(0x23a)](_0xc27ea8(0x23b))[_0xc27ea8(0x147)]({'botID':botID})[_0xc27ea8(0x179)]();_0x14014c&&(dbConfig[_0xc27ea8(0x23a)](_0xc27ea8(0x23b))[_0xc27ea8(0x147)]({'botID':botID})[_0xc27ea8(0x200)]({'liquidity':[{'date':_0x56f59c,'changes':_0x36bb09}]})[_0xc27ea8(0x26f)](),config['liquidity']=[]),process[_0xc27ea8(0x251)]({'stop':_0xc27ea8(0x1e0)},_0x323133=>{});}function noslash(_0x48bbbd){const _0x2c9883=_0x134905;return _0x48bbbd[_0x2c9883(0x2a1)]('/','');}function updateHighestFee(_0x558fe1,_0xf2ce3b){const _0x3d484f=_0x134905;lastFees[_0x3d484f(0x189)]=_0x558fe1,lastFees[_0x3d484f(0x1d7)][_0x3d484f(0x1e5)]===0x14&&lastFees[_0x3d484f(0x1d7)][_0x3d484f(0x165)](),lastFees['recent20']['push'](_0xf2ce3b),lastFees[_0x3d484f(0x2ad)]=Math[_0x3d484f(0x1d4)](...lastFees[_0x3d484f(0x1d7)]),console[_0x3d484f(0x18e)](lastFees[_0x3d484f(0x2ad)]);}async function updateNumberCoinsCcxt(_0x31920a){const _0x2d7356=_0x134905;logger[_0x2d7356(0x20f)](_0x2d7356(0x1b4)+_0x31920a['symbol']+_0x2d7356(0x219)+_0x31920a['status']+'\x20|\x20'+_0x31920a['id']+_0x2d7356(0x219)+_0x31920a[_0x2d7356(0x1e2)]);let _0x4fbeb4=_0x31920a[_0x2d7356(0x18a)],_0x2ef666=![];currentCoins[_0x2d7356(0x2ac)](_0x4ac590=>{const _0x2e5498=_0x2d7356;_0x4ac590[_0x2e5498(0x217)]==_0x31920a[_0x2e5498(0x217)]&&(_0x2ef666=!![]);});if(!_0x2ef666)return;const _0x28ff70=currentCoins[_0x2d7356(0x147)](_0x462db8=>_0x462db8[_0x2d7356(0x217)]==_0x31920a[_0x2d7356(0x217)]),_0x4b311d=_0x22199b=>{const _0x1e5365=_0x2d7356;if(_0x28ff70)_0x28ff70[_0x1e5365(0x213)]=_0x22199b;};if(_0x4fbeb4=='open')_0x4b311d(_0x2d7356(0x237));else{if(_0x4fbeb4=='canceled'){_0x4b311d(_0x2d7356(0x1de));const _0x33f5eb=await getCoins();[currentCoins,currentCoinsAll]=_0x33f5eb,await getOpenOrders(),handleOpenOrders();}else{if(_0x4fbeb4=='closed'){logger[_0x2d7356(0x20f)]('1\x20-\x20FILLED:\x20'+_0x31920a[_0x2d7356(0x217)]+'\x20|\x20'+_0x31920a[_0x2d7356(0x243)]+_0x2d7356(0x219)+_0x31920a['id']+'\x20|\x20'+_0x31920a[_0x2d7356(0x1e2)]);let _0x2e313c=![];if(lastOrders)lastOrders[_0x2d7356(0x2ac)](async _0x3db51d=>{const _0x38b5a3=_0x2d7356;if(_0x3db51d[_0x38b5a3(0x210)]==_0x31920a[_0x38b5a3(0x1e2)]){logger[_0x38b5a3(0x20f)]('2\x20-\x20FILLED\x20known\x20order:\x20'+_0x31920a[_0x38b5a3(0x1e2)]),_0x2e313c=!![];if(_0x3db51d['filled']==0x0){logger['debug']('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x31920a[_0x38b5a3(0x1e2)]),_0x3db51d[_0x38b5a3(0x26e)]=_0x31920a[_0x38b5a3(0x1e8)],_0x3db51d['filled']=_0x31920a[_0x38b5a3(0x243)],_0x3db51d[_0x38b5a3(0x24e)]={'currency':_0x31920a[_0x38b5a3(0x24e)]?_0x31920a['fee'][_0x38b5a3(0x189)]:null,'cost':_0x31920a[_0x38b5a3(0x24e)]?_0x31920a[_0x38b5a3(0x24e)][_0x38b5a3(0x294)]:0x0},updateHighestFee(_0x3db51d['fee'][_0x38b5a3(0x189)],_0x3db51d[_0x38b5a3(0x24e)][_0x38b5a3(0x294)]),_0x4b311d(_0x38b5a3(0x243)),await validateOrders();if(lockOrders==ORDERS[_0x38b5a3(0x207)]){const _0x4f7813=await getCoins();[currentCoins,currentCoinsAll]=_0x4f7813;}await updateCoinResults(_0x3db51d);}}});if(!_0x2e313c){logger[_0x2d7356(0x20f)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x31920a['id']),_0x4b311d(_0x2d7356(0x243));const _0x489923=await getCoins();[currentCoins,currentCoinsAll]=_0x489923,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x499daa=JSON[_0x2d7356(0x270)](lastBalances[_0x2d7356(0x24d)]);const _0x4182a7=_0x499daa[_0x2d7356(0x147)](_0x3ff86f=>_0x3ff86f[_0x2d7356(0x217)]==_0x31920a[_0x2d7356(0x217)]);if(_0x4182a7){if(_0x4fbeb4=='open')_0x4182a7[_0x2d7356(0x213)]=_0x4182a7[_0x2d7356(0x213)]==_0x2d7356(0x243)?'filled':_0x2d7356(0x237);else{if(_0x4fbeb4==_0x2d7356(0x1de))_0x4182a7[_0x2d7356(0x213)]=_0x4182a7[_0x2d7356(0x213)]==_0x2d7356(0x243)?_0x2d7356(0x243):_0x2d7356(0x1de);else _0x4fbeb4=='closed'&&(_0x4182a7[_0x2d7356(0x213)]=_0x2d7356(0x243));}}lastBalances={...lastBalances,'portfolio':JSON[_0x2d7356(0x150)](_0x499daa)},proxyEmit(_0x2d7356(0x159),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x360411=_0x134905;await getOpenOrders();let _0x37cdb7=![];currentCoins[_0x360411(0x2ac)](_0x8c4fcd=>{const _0x4e8237=_0x360411;_0x37cdb7=allOpenOrders['find'](_0xd6ff39=>_0xd6ff39[_0x4e8237(0x217)]==_0x8c4fcd[_0x4e8237(0x217)]),_0x8c4fcd['orderstatus']=_0x37cdb7?_0x4e8237(0x237):_0x4e8237(0x24c);});}async function getCoins(_0x3eaa70=!![],_0x361e86=config[_0x134905(0x1e9)]){const _0x290b56=_0x134905;let _0x38c8e3,_0x14f8f0=[],_0x5889d5=[],_0x38a623=[],_0x175db6=[];try{_0x38c8e3=await exchange[_0x290b56(0x181)](),mybalances=_0x38c8e3[_0x290b56(0x2af)];for(const [_0x278f7f,_0x38ec91]of Object[_0x290b56(0x15a)](mybalances)){_0x175db6['push'](_0x278f7f);}if(_0x361e86=='')for(const [_0x3eb46e,_0x4f7ad5]of Object['entries'](mybalances)){_0x4f7ad5[_0x290b56(0x19c)]()!=0x0&&_0x5889d5[_0x290b56(0x15d)]({'coin':_0x3eb46e});}else{let _0x5a85aa=![];for(const [_0x25c30c,_0x32b633]of Object['entries'](mybalances)){if(_0x175db6[_0x290b56(0x18d)](_0x25c30c)){const _0x326942=config[_0x290b56(0x24d)][_0x290b56(0x147)](_0x542ed8=>_0x542ed8[_0x290b56(0x1ac)]==_0x25c30c),_0x3111e3=_0x25c30c+'/'+_0x361e86,_0x1bae9a=_0x361e86+'/'+_0x25c30c,_0x13a6f8=currentCoins[_0x290b56(0x147)](_0x2b1562=>_0x2b1562[_0x290b56(0x1ac)]==_0x25c30c);_0x5a85aa=![];if((_0x32b633['toString']()!=0x0||_0x326942)&&(allSymbols[_0x290b56(0x18d)](_0x3111e3)||_0x25c30c==_0x361e86))_0x25c30c!=_0x361e86&&_0x14f8f0[_0x290b56(0x15d)](_0x3111e3),_0x5889d5['push']({'coin':_0x25c30c,'symbol':_0x3111e3,'reverse':![],'number':Math['max'](_0x32b633+(_0x326942&&_0x326942[_0x290b56(0x25a)]||0x0),0x0),'orderstatus':_0x13a6f8?_0x13a6f8[_0x290b56(0x213)]:_0x290b56(0x24c)});else(_0x32b633[_0x290b56(0x19c)]()!=0x0||_0x326942)&&allSymbols[_0x290b56(0x18d)](_0x1bae9a)&&(_0x25c30c!=_0x361e86&&_0x14f8f0[_0x290b56(0x15d)](_0x1bae9a),_0x5889d5[_0x290b56(0x15d)]({'coin':_0x25c30c,'symbol':_0x1bae9a,'reverse':!![],'number':Math[_0x290b56(0x1d4)](_0x32b633+(_0x326942&&_0x326942['offset']||0x0),0x0),'orderstatus':_0x13a6f8?_0x13a6f8['orderstatus']:_0x290b56(0x24c)}));}}}}catch(_0x532366){if(!_0x3eaa70)handleErrorNoStop(_0x532366,_0x290b56(0x1a7));else await handleError(_0x532366,_0x290b56(0x1a7));}return _0x38a623=cloneDeep(_0x5889d5),_0x5889d5=_0x5889d5['filter'](_0x3054bc=>{const _0x7a8827=_0x290b56,_0x7760a3=config[_0x7a8827(0x24d)][_0x7a8827(0x147)](_0x186600=>_0x186600[_0x7a8827(0x1ac)]==_0x3054bc['coin']);return _0x7760a3&&!_0x7760a3[_0x7a8827(0x292)];}),[_0x5889d5,_0x38a623];}async function getCoinNumber(_0x2122f8){const _0x3fe811=_0x134905;let _0x5a7d0b;try{const _0x216ab2=await exchange['fetchBalance']();_0x5a7d0b=_0x216ab2[_0x3fe811(0x2af)][_0x2122f8];}catch(_0x3c5336){await handleError(_0x3c5336,_0x3fe811(0x2ae));}return _0x5a7d0b;}async function getOpenOrders(){const _0x20dd59=_0x134905;let _0x6d65a1;allOpenOrders=[];try{for(const _0x5101e5 of config[_0x20dd59(0x24d)]){!_0x5101e5['excluded']&&_0x5101e5[_0x20dd59(0x1ac)]!=config[_0x20dd59(0x1e9)]&&(_0x6d65a1=await exchange[_0x20dd59(0x2b3)](_0x5101e5[_0x20dd59(0x217)]),_0x6d65a1[_0x20dd59(0x1e5)]>0x0&&allOpenOrders[_0x20dd59(0x15d)](_0x6d65a1[0x0]));}}catch(_0x1d4ec0){await handleError(_0x1d4ec0,_0x20dd59(0x1fd));}}async function handleOpenOrders(_0x10eb07=0x0){const _0x41689b=_0x134905;allOpenOrders['length']==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x10eb07==0x0?(logger[_0x41689b(0x20f)]('1\x20-\x20Handle\x20open\x20orders'),_0x10eb07++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x41689b(0x20f)](_0x41689b(0x1e3)),validateOrders(_0x41689b(0x20a))));}async function testAPI(_0x1b85c3){const _0x39d5ac=_0x134905,_0x12d684=ccxt[_0x1b85c3[_0x39d5ac(0x2b8)][_0x39d5ac(0x15b)]()],_0x384d72=new _0x12d684({'apiKey':_0x1b85c3[_0x39d5ac(0x273)],'secret':_0x1b85c3[_0x39d5ac(0x1b5)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![]});try{await _0x384d72[_0x39d5ac(0x1c3)]();}catch(_0x116f5d){throw _0x116f5d;}}function cloneDeep(_0x2906d4){const _0x1d0a5d=_0x134905;return JSON[_0x1d0a5d(0x270)](JSON[_0x1d0a5d(0x150)](_0x2906d4));}async function getPortfolio(_0x298532){const _0x4c0f4b=_0x134905;let _0x5566a2=[],_0xacab64=[],_0x560202=[],_0x5e8db2;if(_0x298532[_0x4c0f4b(0x273)]!==_0x4c0f4b(0x27c)||_0x298532[_0x4c0f4b(0x1b5)]!=='************'){if(config[_0x4c0f4b(0x2b8)]){if(_0x298532[_0x4c0f4b(0x273)]==_0x4c0f4b(0x27c))_0x298532[_0x4c0f4b(0x273)]=config['apiKey'];if(_0x298532[_0x4c0f4b(0x1b5)]==_0x4c0f4b(0x27c))_0x298532['apiSecret']=config[_0x4c0f4b(0x1b5)];try{await testAPI(_0x298532);}catch(_0x479e1e){if(_0x479e1e[_0x4c0f4b(0x19c)]()[_0x4c0f4b(0x18d)](_0x4c0f4b(0x244))){logger[_0x4c0f4b(0x20f)](_0x4c0f4b(0x1d6)),proxyEmit(_0x4c0f4b(0x24d),![]);return;}else{handleError(_0x479e1e,_0x4c0f4b(0x184));return;}}}await initExchange(_0x298532[_0x4c0f4b(0x2b8)],_0x298532[_0x4c0f4b(0x273)],_0x298532[_0x4c0f4b(0x1b5)]);try{await loadSymbols(_0x298532[_0x4c0f4b(0x2b8)],!![]);}catch(_0x2a771b){if(_0x2a771b[_0x4c0f4b(0x19c)]()[_0x4c0f4b(0x18d)](_0x4c0f4b(0x244))){proxyEmit(_0x4c0f4b(0x24d),![]);return;}else{handleError(_0x2a771b,_0x4c0f4b(0x1ee));return;}}const _0x55da99=await getCoins(![],_0x298532[_0x4c0f4b(0x1e9)]);_0x560202=cloneDeep(_0x55da99[0x1]);}else _0x560202=cloneDeep(currentCoinsAll);if(_0x298532[_0x4c0f4b(0x1e9)]=='')proxyEmit(_0x4c0f4b(0x24d),_0x560202);else{_0x560202[_0x4c0f4b(0x2ac)](_0x124ad1=>{const _0x4de45a=_0x4c0f4b;if(_0x124ad1[_0x4de45a(0x1ac)]!=_0x298532[_0x4de45a(0x1e9)])_0x5566a2[_0x4de45a(0x15d)](_0x124ad1[_0x4de45a(0x217)]);});try{_0xacab64=await exchange[_0x4c0f4b(0x17b)](_0x5566a2);}catch(_0xfc949b){if(_0xfc949b['toString']()[_0x4c0f4b(0x18d)]('AuthenticationError')){proxyEmit(_0x4c0f4b(0x24d),![]);return;}else{handleError(_0xfc949b,_0x4c0f4b(0x180));return;}}_0x560202[_0x4c0f4b(0x2ac)](_0x3663b1=>{const _0x363a7e=_0x4c0f4b;_0x3663b1[_0x363a7e(0x1ac)]!=_0x298532[_0x363a7e(0x1e9)]?_0x5e8db2=_0x3663b1[_0x363a7e(0x218)]?0x1/_0xacab64[_0x3663b1[_0x363a7e(0x217)]]['last']:_0xacab64[_0x3663b1[_0x363a7e(0x217)]][_0x363a7e(0x2a2)]:_0x5e8db2=0x1,_0x3663b1[_0x363a7e(0x26e)]=formatResult(_0x5e8db2,0x8);}),proxyEmit(_0x4c0f4b(0x24d),_0x560202);}}function checkMinimums(_0x190d8c){const _0x2c735f=_0x134905;let _0x1e5ff9=!![];const _0x23df43=!_0x190d8c[_0x2c735f(0x218)]?markets[_0x190d8c['symbol']][_0x2c735f(0x225)][_0x2c735f(0x24b)][_0x2c735f(0x1ae)]:markets[_0x190d8c[_0x2c735f(0x217)]]['limits'][_0x2c735f(0x294)][_0x2c735f(0x1ae)],_0x3e3f5d=!_0x190d8c[_0x2c735f(0x218)]?markets[_0x190d8c[_0x2c735f(0x217)]][_0x2c735f(0x225)]['cost'][_0x2c735f(0x1ae)]:markets[_0x190d8c[_0x2c735f(0x217)]][_0x2c735f(0x225)][_0x2c735f(0x24b)][_0x2c735f(0x1ae)],_0xfd39f0=markets[_0x190d8c[_0x2c735f(0x217)]][_0x2c735f(0x142)][_0x2c735f(0x24b)];_0x190d8c['trade']=formatResultTruncate(_0x190d8c['trade'],_0xfd39f0);if(Math[_0x2c735f(0x1a8)](_0x190d8c[_0x2c735f(0x194)])<_0x23df43)_0x1e5ff9=![];if(Math['abs'](_0x190d8c['trade'])*_0x190d8c[_0x2c735f(0x2a2)]<_0x3e3f5d)_0x1e5ff9=![];if(_0x190d8c[_0x2c735f(0x1be)]==_0x2c735f(0x2a6)){let _0x147719=config['portfolio'][_0x2c735f(0x147)](_0x535762=>_0x535762[_0x2c735f(0x1ac)]==_0x190d8c[_0x2c735f(0x1ac)]);if(_0x147719[_0x2c735f(0x25a)]>0x0){if(Math['abs'](_0x190d8c['trade'])>_0x190d8c[_0x2c735f(0x1cc)]-_0x147719[_0x2c735f(0x25a)])_0x1e5ff9=![];}else{if(Math[_0x2c735f(0x1a8)](_0x190d8c['trade'])>_0x190d8c[_0x2c735f(0x1cc)])_0x1e5ff9=![];}}if(_0x190d8c[_0x2c735f(0x1be)]==_0x2c735f(0x1d9)){let _0x178b8a=config[_0x2c735f(0x24d)]['find'](_0x4cfdad=>_0x4cfdad[_0x2c735f(0x1ac)]==config['basecoin']),_0x115ba2=currentCoins['find'](_0x2e36fe=>_0x2e36fe[_0x2c735f(0x1ac)]==config['basecoin']);if(_0x178b8a[_0x2c735f(0x25a)]>0x0){if(Math[_0x2c735f(0x1a8)](_0x190d8c['trade'])*_0x190d8c['last']>_0x115ba2[_0x2c735f(0x1cc)]-_0x178b8a[_0x2c735f(0x25a)])_0x1e5ff9=![];}else{if(Math['abs'](_0x190d8c[_0x2c735f(0x194)])*_0x190d8c[_0x2c735f(0x2a2)]>_0x115ba2['number'])_0x1e5ff9=![];}}return _0x1e5ff9;}async function getBalances(){const _0x342fe3=_0x134905;let _0x1b1202=0x0,_0x308415;const _0x3058be=config['threshold'];if(config['headless']&&config[_0x342fe3(0x1f9)]<0x0)await validate24hChanges();currentCoins[_0x342fe3(0x2ac)](_0x4c98b0=>{const _0x5ea022=_0x342fe3;if(_0x4c98b0[_0x5ea022(0x1ac)]!=config[_0x5ea022(0x1e9)]){let _0x402ad2=global[_0x5ea022(0x1e1)][noslash(_0x4c98b0['symbol'])];_0x308415=_0x4c98b0[_0x5ea022(0x218)]?0x1/_0x402ad2:_0x402ad2;}else _0x308415=0x1;let _0x409eff=_0x4c98b0[_0x5ea022(0x1cc)]*_0x308415;_0x1b1202+=_0x409eff,_0x4c98b0['last']=formatResult(Number(_0x308415),0x8),_0x4c98b0[_0x5ea022(0x179)]=_0x409eff;}),currentCoins['forEach'](_0x4ded1f=>{const _0x471c6b=_0x342fe3;let _0x95ec11=config[_0x471c6b(0x24d)][_0x471c6b(0x147)](_0x40849f=>_0x40849f['coin']==_0x4ded1f[_0x471c6b(0x1ac)]),_0x303874=Number(_0x95ec11[_0x471c6b(0x1ba)]),_0x4257ed=_0x4ded1f[_0x471c6b(0x179)]/_0x1b1202*0x64,_0x381d4f=_0x303874*_0x1b1202/0x64/_0x4ded1f[_0x471c6b(0x2a2)]-_0x4ded1f[_0x471c6b(0x1cc)];_0x4ded1f[_0x471c6b(0x1ba)]=formatResult(_0x4257ed,0x3),_0x4ded1f['target']=formatResult(_0x303874,0x3),_0x4ded1f[_0x471c6b(0x194)]=formatResult(_0x381d4f,0x8),_0x4ded1f[_0x471c6b(0x1be)]='',_0x4ded1f[_0x471c6b(0x22b)]=![];if(_0x4ded1f['coin']!=config[_0x471c6b(0x1e9)]){if(_0x4ded1f[_0x471c6b(0x1ba)]>_0x303874)_0x4ded1f['side']='sell',_0x4ded1f[_0x471c6b(0x22b)]=checkMinimums(_0x4ded1f);else _0x4ded1f['distribution']<_0x303874&&(_0x4ded1f[_0x471c6b(0x1be)]=_0x471c6b(0x1d9),_0x4ded1f[_0x471c6b(0x22b)]=checkMinimums(_0x4ded1f));}_0x4ded1f[_0x471c6b(0x197)]=_0x4ded1f[_0x471c6b(0x1ba)]/_0x4ded1f[_0x471c6b(0x175)]-0x1;if(_0x4ded1f[_0x471c6b(0x213)]==_0x471c6b(0x243)||_0x4ded1f[_0x471c6b(0x213)]==_0x471c6b(0x1de))_0x4ded1f[_0x471c6b(0x213)]='none';}),currentCoins[_0x342fe3(0x223)]((_0xf15ea9,_0x1194be)=>_0xf15ea9[_0x342fe3(0x197)]<_0x1194be['delta']?0x1:_0x1194be['delta']<_0xf15ea9['delta']?-0x1:0x0);const _0x19bb92=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x19bb92[_0x342fe3(0x258)],'usd':_0x19bb92['usd'],'portfolio':JSON[_0x342fe3(0x150)](currentCoins),'threshold':_0x3058be},proxyEmit(_0x342fe3(0x159),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x342fe3(0x1da)])headlessMode({'portfolio':currentCoins,'threshold':_0x3058be});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3058be});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x3492ee=getNormalizedPerformance();emitPerformance(_0x3492ee),getStartingBalances(_0x3492ee),logger['debug'](_0x342fe3(0x168));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x56efdc=_0x134905;if(!lastBalances)return;let _0x2491be=[],_0x4161cd,_0x137a8e=JSON[_0x56efdc(0x270)](lastBalances[_0x56efdc(0x24d)]);_0x137a8e[_0x56efdc(0x223)]((_0x29f5ed,_0x1e615a)=>_0x29f5ed[_0x56efdc(0x1ac)]>_0x1e615a[_0x56efdc(0x1ac)]?0x1:_0x1e615a[_0x56efdc(0x1ac)]>_0x29f5ed[_0x56efdc(0x1ac)]?-0x1:0x0),_0x137a8e[_0x56efdc(0x2ac)](_0x5df47d=>{const _0x24cdd8=_0x56efdc;let _0xded46a={'coin':_0x5df47d[_0x24cdd8(0x1ac)],'number':_0x5df47d['number'],'price':_0x5df47d[_0x24cdd8(0x2a2)]};_0x2491be['push'](_0xded46a);});const _0x2e53e8=await getFiat();_0x4161cd={'date':lastBalances[_0x56efdc(0x141)][_0x56efdc(0x1bb)]('\x20')[0x0],'eur':_0x2e53e8[_0x56efdc(0x258)],'usd':_0x2e53e8[_0x56efdc(0x162)],'coins':_0x2491be};let _0x255e3e=dbPerformance[_0x56efdc(0x23a)]('data')[_0x56efdc(0x147)]({'date':_0x4161cd['date']})[_0x56efdc(0x179)]();_0x255e3e?_0x4161cd['date']!=config[_0x56efdc(0x29d)]&&dbPerformance[_0x56efdc(0x23a)](_0x56efdc(0x29a))['find']({'date':_0x4161cd[_0x56efdc(0x16e)]})[_0x56efdc(0x200)](_0x4161cd)['write']():dbPerformance[_0x56efdc(0x23a)](_0x56efdc(0x29a))[_0x56efdc(0x15d)](_0x4161cd)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x1ce1cd=_0x134905;let _0x5a7a6c=[];if(dbPerformance[_0x1ce1cd(0x23e)]('data')[_0x1ce1cd(0x179)]()){let _0x1ff3ee=dbPerformance[_0x1ce1cd(0x23a)](_0x1ce1cd(0x29a))[_0x1ce1cd(0x1fe)]()[_0x1ce1cd(0x272)]('date')[_0x1ce1cd(0x179)](),_0x258b8c=[...config[_0x1ce1cd(0x290)]];_0x258b8c[_0x1ce1cd(0x223)]((_0x5b4922,_0x234b2a)=>_0x5b4922[_0x1ce1cd(0x16e)]>_0x234b2a[_0x1ce1cd(0x16e)]?-0x1:_0x234b2a[_0x1ce1cd(0x16e)]>_0x5b4922[_0x1ce1cd(0x16e)]?0x1:0x0);let _0x31038f=0x1,_0x4845ea=[],_0x343d12=0x0;_0x1ff3ee[_0x1ce1cd(0x161)]()[_0x1ce1cd(0x218)]()['forEach']((_0x1b5549,_0x3f6bf4)=>{const _0x975413=_0x1ce1cd;if(_0x258b8c[_0x343d12]){if(_0x1ff3ee[_0x1ff3ee[_0x975413(0x1e5)]-_0x3f6bf4]&&_0x258b8c[_0x343d12][_0x975413(0x16e)]==_0x1ff3ee[_0x1ff3ee[_0x975413(0x1e5)]-_0x3f6bf4]['date']){if(_0x3f6bf4<_0x1ff3ee['length']){let _0x1050dd=0x0,_0x1519b9=0x0;_0x1ff3ee[_0x1ff3ee[_0x975413(0x1e5)]-_0x3f6bf4][_0x975413(0x1cb)][_0x975413(0x2ac)](_0x58a3df=>{const _0x148cb0=_0x975413;_0x1519b9+=_0x58a3df[_0x148cb0(0x1cc)]*_0x58a3df[_0x148cb0(0x26e)];}),_0x258b8c[_0x343d12][_0x975413(0x14e)][_0x975413(0x2ac)](_0x589e71=>{const _0x20e9d7=_0x975413;_0x1050dd+=_0x589e71['number']*_0x589e71[_0x20e9d7(0x26e)];}),_0x31038f*=_0x1050dd/(_0x1519b9-_0x1050dd)+0x1;}_0x343d12++;}}let _0x3cc31c=0x0;_0x1b5549[_0x975413(0x1cb)][_0x975413(0x2ac)](_0x4dd70f=>{const _0x3b0d68=_0x975413;_0x3cc31c+=_0x4dd70f[_0x3b0d68(0x1cc)]*_0x4dd70f[_0x3b0d68(0x26e)];}),_0x4845ea[_0x1ff3ee[_0x975413(0x1e5)]-_0x3f6bf4-0x1]=_0x3cc31c*(_0x31038f-0x1);});let _0x5da979=[];_0x258b8c=[...config['liquidity']]||[];let _0x285d42=0x0;_0x343d12=0x0,_0x1ff3ee['forEach']((_0x152f8c,_0x9cd35f)=>{const _0x1c4a04=_0x1ce1cd;if(_0x258b8c[_0x343d12]){const _0x21492b=fns[_0x1c4a04(0x270)](_0x258b8c[_0x343d12][_0x1c4a04(0x16e)],'yyyy/MM/dd',new Date()),_0x40620e=fns['parse'](_0x152f8c[_0x1c4a04(0x16e)],_0x1c4a04(0x238),new Date());if(fns['isEqual'](_0x21492b,_0x40620e)){let _0x10166a=0x0;_0x258b8c[_0x343d12][_0x1c4a04(0x14e)][_0x1c4a04(0x2ac)](_0x15b41a=>{const _0x51280a=_0x1c4a04;!_0x5da979[_0x15b41a[_0x51280a(0x1ac)]]?_0x5da979[_0x15b41a[_0x51280a(0x1ac)]]=_0x15b41a[_0x51280a(0x1cc)]:(_0x10166a=_0x5da979[_0x15b41a[_0x51280a(0x1ac)]],_0x5da979[_0x15b41a[_0x51280a(0x1ac)]]+=_0x15b41a[_0x51280a(0x1cc)]);const _0x4a1bd5=_0x152f8c[_0x51280a(0x1cb)][_0x51280a(0x147)](_0x49d513=>_0x49d513['coin']==_0x15b41a[_0x51280a(0x1ac)]);(!_0x4a1bd5||_0x4a1bd5['number']==0x0)&&(_0x285d42+=(-_0x15b41a[_0x51280a(0x1cc)]-_0x10166a)*_0x15b41a[_0x51280a(0x26e)]);}),_0x343d12++;}}_0x152f8c[_0x1c4a04(0x1cb)][_0x1c4a04(0x2ac)]((_0x47c9a6,_0x323515)=>{const _0x54542e=_0x1c4a04;_0x5da979[_0x47c9a6['coin']]&&(_0x47c9a6[_0x54542e(0x1c7)]=_0x5da979[_0x47c9a6['coin']]);}),_0x5a7a6c[_0x1c4a04(0x15d)]({'date':_0x152f8c[_0x1c4a04(0x16e)],'eur':_0x152f8c[_0x1c4a04(0x258)],'usd':_0x152f8c['usd'],'offset':_0x4845ea[_0x9cd35f],'netoffset':_0x285d42,'coins':_0x152f8c['coins']});});}return _0x5a7a6c;}function emitPerformance(_0x42707d){const _0x1e27ff=_0x134905;_0x42707d[_0x1e27ff(0x1e5)]!==0x0?(proxyEmit(_0x1e27ff(0x215),_0x42707d),lastPerformanceEmitted=getDate()):proxyEmit(_0x1e27ff(0x215),[]);}function getPerf(_0x1b0339,_0xf03bfa){const _0x2b5658=_0x134905;let _0x1ca956=0x0,_0x5c6f14=0x0,_0x3b4343=0x0;_0x1b0339[_0x2b5658(0x1cb)][_0x2b5658(0x2ac)](_0x21dce2=>{const _0x1da82c=_0x2b5658;_0x1ca956+=_0x21dce2[_0x1da82c(0x1cc)]*_0x21dce2['price'];});_0xf03bfa&&(_0x1ca956+=_0x1b0339[_0x2b5658(0x25a)]);if(config[_0x2b5658(0x1e9)]===_0x2b5658(0x155)||config[_0x2b5658(0x1e9)]==='ETH')_0x5c6f14=_0x1ca956*_0x1b0339['eur'],_0x3b4343=_0x1ca956*_0x1b0339[_0x2b5658(0x162)];else{if(config['basecoin']===_0x2b5658(0x289)||config[_0x2b5658(0x1e9)]===_0x2b5658(0x1cf)||config[_0x2b5658(0x1e9)]===_0x2b5658(0x22f))_0x5c6f14=_0x1ca956*_0x1b0339[_0x2b5658(0x258)]/_0x1b0339[_0x2b5658(0x162)],_0x3b4343=_0x1ca956;else config['basecoin']===_0x2b5658(0x16d)&&(_0x5c6f14=_0x1ca956,_0x3b4343=_0x1ca956*_0x1b0339[_0x2b5658(0x162)]/_0x1b0339['eur']);}return[_0x1ca956,_0x5c6f14,_0x3b4343];}function getKPIs(_0x5e1de5,_0x44e54d='EUR'){const _0x5ecdc4=_0x134905,_0x110d8f=config['basecoin'],_0x36f8aa=lastBalances,_0x132979=currentCoins,_0x4784ed=getNormalizedPerformance(),_0x5815ca=_0x5e1de5===_0x5ecdc4(0x1e9)?_0x110d8f:_0x5e1de5==='fiat'||_0x5e1de5===_0x5ecdc4(0x1ad)?_0x44e54d:_0x5ecdc4(0x27b)+_0x110d8f,_0x42edc5=_0x5e1de5===_0x5ecdc4(0x173)?_0x5ecdc4(0x283):_0x5e1de5===_0x5ecdc4(0x1ad)?_0x5ecdc4(0x283):_0x5815ca+_0x5ecdc4(0x2b1),_0x1cac9f=_0x5e1de5==='net-basecoin'||_0x5e1de5==='net-fiat'?'Net\x20effect':_0x5815ca+'\x20change';let _0x1d626f=0x0;_0x132979[_0x5ecdc4(0x2ac)](_0x4cedf7=>{const _0x195923=_0x5ecdc4;_0x1d626f+=_0x4cedf7[_0x195923(0x1cc)]*_0x4cedf7['last'];});if(_0x5e1de5===_0x5ecdc4(0x268)||_0x5e1de5===_0x5ecdc4(0x1ad)){if(_0x110d8f==='BTC'||_0x110d8f===_0x5ecdc4(0x174))_0x1d626f=_0x1d626f*(_0x44e54d===_0x5ecdc4(0x16d)?_0x36f8aa[_0x5ecdc4(0x258)]:_0x36f8aa[_0x5ecdc4(0x162)]);else{if(_0x110d8f===_0x5ecdc4(0x289)||_0x110d8f==='USDT'||_0x110d8f==='USD')_0x1d626f=_0x1d626f*(_0x44e54d===_0x5ecdc4(0x16d)?_0x36f8aa[_0x5ecdc4(0x258)]/_0x36f8aa['usd']:0x1);else _0x110d8f===_0x5ecdc4(0x16d)&&(_0x1d626f=_0x1d626f*(_0x44e54d==='EUR'?0x1:_0x36f8aa[_0x5ecdc4(0x162)]/_0x36f8aa[_0x5ecdc4(0x258)]));}}let _0x4b4f67;if(_0x1d626f!==0x0){if(_0x5e1de5==='basecoin')_0x4b4f67=(_0x1d626f/startingBalances[_0x5ecdc4(0x1e9)]-0x1)*0x64;else{if(_0x44e54d==='EUR')_0x4b4f67=(_0x1d626f/startingBalances['eur']-0x1)*0x64;else _0x4b4f67=(_0x1d626f/startingBalances['usd']-0x1)*0x64;}let _0x1871b5=0x0;if(startingBalances[_0x5ecdc4(0x1cb)])_0x132979[_0x5ecdc4(0x2ac)](_0x251db9=>{const _0x4e554a=_0x5ecdc4;let _0x12625e=startingBalances[_0x4e554a(0x1cb)][_0x4e554a(0x147)](_0x3e0b42=>_0x3e0b42['coin']===_0x251db9[_0x4e554a(0x1ac)]);if(_0x12625e&&_0x12625e[_0x4e554a(0x1ac)]&&_0x251db9[_0x4e554a(0x1cc)]!==0x0)_0x1871b5+=_0x12625e[_0x4e554a(0x1cc)]*_0x251db9[_0x4e554a(0x2a2)];});let _0x4f6601=0x0;if(_0x4784ed[_0x5ecdc4(0x1e5)]!==0x0){let _0x1f28e5=_0x4784ed[_0x4784ed[_0x5ecdc4(0x1e5)]-0x1];_0x4f6601=_0x1f28e5[_0x5ecdc4(0x170)];}_0x1871b5-=_0x4f6601;_0x5e1de5===_0x5ecdc4(0x173)&&(_0x4b4f67=(_0x1d626f-_0x1871b5)/startingBalances[_0x5ecdc4(0x1e9)]*0x64,_0x1d626f=_0x1d626f-_0x1871b5);if(_0x5e1de5==='net-fiat'){let _0x498a04=_0x44e54d===_0x5ecdc4(0x16d)?startingBalances[_0x5ecdc4(0x258)]:startingBalances[_0x5ecdc4(0x162)];if(_0x110d8f===_0x5ecdc4(0x155)||_0x110d8f===_0x5ecdc4(0x174))_0x1871b5=_0x44e54d===_0x5ecdc4(0x16d)?_0x1871b5*_0x36f8aa[_0x5ecdc4(0x258)]:_0x1871b5*_0x36f8aa[_0x5ecdc4(0x162)];else{if(_0x110d8f===_0x5ecdc4(0x289)||_0x110d8f===_0x5ecdc4(0x1cf)||_0x110d8f===_0x5ecdc4(0x22f))_0x1871b5=_0x44e54d===_0x5ecdc4(0x16d)?_0x1871b5*_0x36f8aa[_0x5ecdc4(0x258)]/_0x36f8aa[_0x5ecdc4(0x162)]:_0x1871b5;else _0x110d8f==='EUR'&&(_0x1871b5=_0x44e54d==='EUR'?_0x1871b5:_0x1871b5*_0x36f8aa['usd']/_0x36f8aa[_0x5ecdc4(0x258)]);}_0x4b4f67=(_0x1d626f-_0x1871b5)/_0x498a04*0x64,_0x1d626f=_0x1d626f-_0x1871b5;}if(_0x4b4f67){if(_0x4b4f67<0x64)_0x4b4f67=_0x4b4f67['toFixed'](0x2);else{if(_0x4b4f67<0x3e8)_0x4b4f67=_0x4b4f67[_0x5ecdc4(0x1d1)](0x1);else _0x4b4f67=_0x4b4f67[_0x5ecdc4(0x1d1)](0x0);}}else _0x4b4f67=Number('0')[_0x5ecdc4(0x1d1)](0x2);if(_0x1d626f){if(Math[_0x5ecdc4(0x1a8)](_0x1d626f)<0.000001)_0x1d626f=_0x1d626f[_0x5ecdc4(0x1d1)](0x2);else{if(Math[_0x5ecdc4(0x1a8)](_0x1d626f)<0.1)_0x1d626f=_0x1d626f['toFixed'](0x6);else{if(Math[_0x5ecdc4(0x1a8)](_0x1d626f)<0x1)_0x1d626f=_0x1d626f[_0x5ecdc4(0x1d1)](0x5);else{if(Math[_0x5ecdc4(0x1a8)](_0x1d626f)<0xa)_0x1d626f=_0x1d626f['toFixed'](0x4);else{if(Math[_0x5ecdc4(0x1a8)](_0x1d626f)<0x64)_0x1d626f=_0x1d626f[_0x5ecdc4(0x1d1)](0x3);else{if(Math['abs'](_0x1d626f)<0x3e8)_0x1d626f=_0x1d626f[_0x5ecdc4(0x1d1)](0x2);else _0x1d626f=_0x1d626f['toFixed'](0x2);}}}}}}else _0x1d626f=Number('0')['toFixed'](0x2);}else _0x4b4f67=Number('0')[_0x5ecdc4(0x1d1)](0x2);return{'value':_0x1d626f,'change':_0x4b4f67,'leftTxt':_0x42edc5,'rightTxt':_0x1cac9f};}async function getStartingBalances(_0x309cb2,_0x1b3f54=!![]){const _0x1b4f0e=_0x134905;if(_0x309cb2[_0x1b4f0e(0x1e5)]!==0x0){const [_0x3969f3,_0x19344a,_0x34abfc]=getPerf(_0x309cb2[0x0],!![]);let _0x29b8a4=[];config['portfolio']['forEach'](_0x5934fb=>{const _0x3c67f6=_0x1b4f0e;let _0x237424=0x0,_0x213650;config[_0x3c67f6(0x290)]['forEach'](_0x4dfdbb=>{const _0x379676=_0x3c67f6;let _0x395df3=_0x4dfdbb[_0x379676(0x14e)][_0x379676(0x147)](_0x78e8ab=>_0x78e8ab[_0x379676(0x1ac)]==_0x5934fb['coin']);if(_0x395df3){_0x237424+=_0x395df3[_0x379676(0x1cc)];if(!_0x213650)_0x213650=_0x395df3[_0x379676(0x26e)];}}),_0x29b8a4[_0x3c67f6(0x15d)]({'coin':_0x5934fb[_0x3c67f6(0x1ac)],'number':_0x237424,'initialprice':_0x213650});});const _0xbfabf5={'basecoin':_0x3969f3,'eur':_0x19344a,'usd':_0x34abfc,'coins':_0x29b8a4};if(_0x1b3f54)proxyEmit(_0x1b4f0e(0x195),_0xbfabf5);startingBalances=_0xbfabf5;}}function headlessMode(_0x395469){const _0x5c9afe=_0x134905;let _0x4541ea=_0x395469[_0x5c9afe(0x24d)],_0x4a2d97=_0x395469[_0x5c9afe(0x2b2)],_0x386f27=[];for(let _0x23e770 of _0x4541ea){if(_0x23e770['coin']!=config['basecoin']){if(_0x23e770[_0x5c9afe(0x197)]>=_0x4a2d97/0x64){if(_0x23e770[_0x5c9afe(0x22b)])_0x386f27[_0x5c9afe(0x15d)](_0x23e770);}else{if(_0x23e770[_0x5c9afe(0x197)]<=-_0x4a2d97/0x64){if(_0x23e770[_0x5c9afe(0x22b)])_0x386f27[_0x5c9afe(0x15d)](_0x23e770);}}}}_0x386f27[_0x5c9afe(0x1e5)]>0x0&&placeOrder(_0x386f27);}function notifyBalance(_0x5eb3af){const _0x5b0fbb=_0x134905;let _0x58c675=_0x5eb3af[_0x5b0fbb(0x24d)],_0x2df450=_0x5eb3af[_0x5b0fbb(0x2b2)],_0x107824=[];for(let _0x2f654e of _0x58c675){if(_0x2f654e['coin']!=config[_0x5b0fbb(0x1e9)]){if(_0x2f654e[_0x5b0fbb(0x197)]>=_0x2df450/0x64){if(_0x2f654e[_0x5b0fbb(0x22b)])_0x107824[_0x5b0fbb(0x15d)](_0x2f654e);}else{if(_0x2f654e[_0x5b0fbb(0x197)]<=-_0x2df450/0x64){if(_0x2f654e['valid'])_0x107824['push'](_0x2f654e);}}}}if(_0x107824['length']>0x0){let _0x19679b=_0x107824[_0x5b0fbb(0x16c)](_0xf50871=>_0xf50871[_0x5b0fbb(0x1ac)]);_0x19679b[_0x5b0fbb(0x223)]();let _0x53dba7=_0x19679b[_0x5b0fbb(0x279)](',\x20');if(!lastCoinsToBalance)logHistory(_0x5b0fbb(0x262),_0x5b0fbb(0x199));lastCoinsToBalance=_0x53dba7;}}function symbolToCoin(_0x65ea3a){const _0x40b5db=_0x134905;let _0x28f856;if(_0x65ea3a[_0x40b5db(0x18d)]('/'+config[_0x40b5db(0x1e9)]))_0x28f856=_0x65ea3a['replace']('/'+config[_0x40b5db(0x1e9)],'');if(_0x65ea3a['includes'](config[_0x40b5db(0x1e9)]+'/'))_0x28f856=_0x65ea3a['replace'](config[_0x40b5db(0x1e9)]+'/','');return _0x28f856;}async function unlockOrders(){const _0x570a2a=_0x134905;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x570a2a(0x20f)](_0x570a2a(0x178)),lockOrders=ORDERS[_0x570a2a(0x1fb)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x37ae52=await getCoins();[currentCoins,currentCoinsAll]=_0x37ae52,validateOrdersState=_0x570a2a(0x1c7),persistOpenOrders([]),lockOrders=ORDERS[_0x570a2a(0x1f6)],logger['debug'](_0x570a2a(0x1b8));}}async function validateOrders(_0x3ff2f5){const _0x3e92ca=_0x134905;if(_0x3ff2f5)validateOrdersState=_0x3ff2f5;logger[_0x3e92ca(0x20f)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x3e92ca(0x1eb)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x3e92ca(0x1a2):_0x3e92ca(0x221)));let _0x285571=[],_0x346c90=config[_0x3e92ca(0x1b6)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x3e92ca(0x207)])return;logger['debug']('2\x20-\x20Validate\x20orders:\x20'+validateOrdersState),lastOrders[_0x3e92ca(0x2ac)](_0x2f7c29=>{const _0x2bc8d4=_0x3e92ca;let _0x316038=![];_0x2f7c29[_0x2bc8d4(0x243)]>0x0&&(_0x316038=!![]),_0x285571[_0x2bc8d4(0x15d)](_0x316038),_0x316038&&config[_0x2bc8d4(0x1b6)]!=_0x2bc8d4(0x253)&&logHistory(_0x2bc8d4(0x1cd),_0x2bc8d4(0x1f3)+_0x2f7c29[_0x2bc8d4(0x217)]+'\x20'+_0x2f7c29[_0x2bc8d4(0x1be)]+'\x20#'+formatResult(_0x2f7c29['filled'],0x8)+'\x20@'+formatResult(_0x2f7c29['price'],0x8));}),_0x285571[_0x3e92ca(0x2ac)]((_0x3b5450,_0x2e6454)=>{const _0x28d202=_0x3e92ca;if(_0x3b5450)lastOrders[_0x28d202(0x144)](_0x2e6454,0x1);}),persistOpenOrders(lastOrders);const _0x1d6d51=coolingDown?_0x3e92ca(0x288):_0x3e92ca(0x198);if(validateOrdersState==_0x3e92ca(0x1c7)){validateOrdersState=_0x3e92ca(0x18f);if(_0x285571['includes'](![])){if(config['ordertype']==_0x3e92ca(0x253)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x3e92ca(0x18f)){if(_0x285571[_0x3e92ca(0x18d)](![])){}else{if(allOrdersPlaced){if(config[_0x3e92ca(0x1b6)]==_0x3e92ca(0x253)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x3e92ca(0x1f2))_0x285571[_0x3e92ca(0x18d)](![])&&(config[_0x3e92ca(0x1b6)]=='market'?logHistory(_0x3e92ca(0x153),_0x3e92ca(0x224)+Math['round'](_0x346c90*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x1d6d51):(await cancelOrders(),logHistory(_0x3e92ca(0x153),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x3e92ca(0x171)](_0x346c90*validateOrderInterval/0xea60)+_0x3e92ca(0x19f)+_0x1d6d51))),await unlockOrders();else{if(validateOrdersState==_0x3e92ca(0x20a)){if(config['ordertype']!=_0x3e92ca(0x253))logHistory(_0x3e92ca(0x153),_0x3e92ca(0x2b4)+_0x1d6d51);await unlockOrders();}}}}}async function cancelOrders(){const _0xf7173=_0x134905;lastOrders[_0xf7173(0x2ac)](async _0x33a649=>{const _0x18b88c=_0xf7173;try{const _0x5bea16=await exchange[_0x18b88c(0x1c5)](_0x33a649['orderId'],_0x33a649['symbol']);}catch(_0x4262bd){if(_0x4262bd[_0x18b88c(0x19c)]()['includes']('OrderNotFound')){}else await handleError(_0x4262bd,_0x18b88c(0x1c8));}});}async function initCoinResults(){const _0x28fa64=_0x134905;let _0x4c76f9=[];config[_0x28fa64(0x24d)][_0x28fa64(0x2ac)](_0x1cb328=>{const _0xa708fd=_0x28fa64;if(!_0x1cb328['excluded']&&_0x1cb328[_0xa708fd(0x1ac)]!=config['basecoin']){let _0x21d415=dbCoinResults[_0xa708fd(0x23a)](_0xa708fd(0x1cb))[_0xa708fd(0x147)]({'coin':_0x1cb328['coin']})[_0xa708fd(0x179)]();if(!_0x21d415){const _0x339a85=currentCoins[_0xa708fd(0x147)](_0x56bedf=>_0x56bedf[_0xa708fd(0x1ac)]==_0x1cb328['coin']),_0x32387b=global[_0xa708fd(0x1e1)][noslash(_0x1cb328['symbol'])];let _0x14b5ff=_0x339a85?_0x339a85[_0xa708fd(0x1cc)]:null,_0x254088=_0x1cb328[_0xa708fd(0x218)]?0x1/_0x32387b:_0x32387b,_0xfee68f;config['liquidity'][_0xa708fd(0x2ac)](_0x2acc1d=>{const _0x5048c4=_0xa708fd;!_0xfee68f&&(_0xfee68f=_0x2acc1d[_0x5048c4(0x14e)][_0x5048c4(0x147)](_0x19017b=>_0x19017b[_0x5048c4(0x1ac)]==_0x1cb328['coin']),_0xfee68f&&(_0x14b5ff=_0xfee68f[_0x5048c4(0x1cc)],_0x254088=_0xfee68f[_0x5048c4(0x26e)]));}),_0x4c76f9[_0xa708fd(0x15d)]({'coin':_0x1cb328[_0xa708fd(0x1ac)],'number':_0x14b5ff,'price':_0x254088});}}}),_0x4c76f9[_0x28fa64(0x2ac)](_0xd5ac98=>{const _0xf2886d=_0x28fa64,_0x34194b={'coin':_0xd5ac98[_0xf2886d(0x1ac)],'number':_0xd5ac98['number'],'breakeven':_0xd5ac98[_0xf2886d(0x26e)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xf2886d(0x23a)](_0xf2886d(0x1cb))[_0xf2886d(0x15d)](_0x34194b)[_0xf2886d(0x26f)]();});}async function updateCoinResults(_0x167912,_0x1b65d2=![]){const _0x18c826=_0x134905;let _0x5173e1,_0x58046e,_0x55096a,_0x3a5f1c,_0x31ede2,_0x3ccde8,_0x13dd2b=dbCoinResults[_0x18c826(0x23a)](_0x18c826(0x1cb))[_0x18c826(0x147)]({'coin':_0x167912[_0x18c826(0x1ac)]})[_0x18c826(0x179)]();!_0x13dd2b&&await initCoinResults();_0x167912['reverse']&&(_0x3ccde8={'filled':_0x167912[_0x18c826(0x243)]*_0x167912[_0x18c826(0x26e)],'amount':_0x167912[_0x18c826(0x243)]*_0x167912['price'],'side':_0x167912[_0x18c826(0x1be)]==_0x18c826(0x2a6)?_0x18c826(0x1d9):_0x18c826(0x2a6),'price':0x1/_0x167912[_0x18c826(0x26e)]},_0x167912={..._0x167912,..._0x3ccde8});_0x1b65d2?_0x58046e=_0x167912[_0x18c826(0x1be)]==_0x18c826(0x1d9)?_0x13dd2b[_0x18c826(0x1cc)]+_0x167912[_0x18c826(0x243)]:_0x13dd2b[_0x18c826(0x1cc)]-_0x167912['filled']:_0x58046e=await getCoinNumber(_0x167912[_0x18c826(0x1ac)]);if(_0x167912['fee']&&_0x167912[_0x18c826(0x24e)][_0x18c826(0x189)]==config[_0x18c826(0x1e9)])_0x5173e1=_0x167912[_0x18c826(0x24e)][_0x18c826(0x294)];else{if(_0x167912['fee']&&_0x167912[_0x18c826(0x24e)][_0x18c826(0x189)]==_0x18c826(0x24f)&&!_0x1b65d2)_0x5173e1=_0x167912[_0x18c826(0x24e)]['cost']*global[_0x18c826(0x1e1)][_0x18c826(0x24f)+config[_0x18c826(0x1e9)]];else _0x5173e1=defaultFee*_0x167912[_0x18c826(0x243)]*_0x167912[_0x18c826(0x26e)];}_0x167912[_0x18c826(0x1be)]==_0x18c826(0x1d9)?(_0x55096a=_0x58046e!=0x0?(_0x13dd2b[_0x18c826(0x26d)]*_0x13dd2b[_0x18c826(0x1cc)]+_0x167912[_0x18c826(0x26e)]*(_0x58046e-_0x13dd2b['number'])+_0x5173e1)/_0x58046e:0x0,_0x3a5f1c=_0x13dd2b['realized']):(_0x55096a=_0x58046e!=0x0?(_0x13dd2b['breakeven']*_0x13dd2b['number']-_0x167912[_0x18c826(0x26e)]*(_0x13dd2b[_0x18c826(0x1cc)]-_0x58046e)+_0x5173e1)/_0x58046e:0x0,_0x3a5f1c=_0x13dd2b[_0x18c826(0x267)]+(_0x167912['price']-_0x13dd2b[_0x18c826(0x26d)])*_0x167912[_0x18c826(0x243)]);_0x31ede2=(_0x167912[_0x18c826(0x26e)]-_0x55096a-_0x5173e1/_0x167912[_0x18c826(0x243)])*_0x58046e;let _0x2854ad={'coin':_0x167912[_0x18c826(0x1ac)],'number':_0x58046e,'breakeven':formatResult(_0x55096a,0x8),'realized':formatResult(_0x3a5f1c,0x8),'unrealized':formatResult(_0x31ede2,0x8),'fees':formatResult(_0x13dd2b[_0x18c826(0x232)]+_0x5173e1,0x8),'sells':_0x167912['side']==_0x18c826(0x2a6)?_0x13dd2b[_0x18c826(0x28e)]+0x1:_0x13dd2b[_0x18c826(0x28e)],'buys':_0x167912[_0x18c826(0x1be)]==_0x18c826(0x1d9)?_0x13dd2b[_0x18c826(0x259)]+0x1:_0x13dd2b[_0x18c826(0x259)]};dbCoinResults['get']('coins')[_0x18c826(0x147)]({'coin':_0x167912[_0x18c826(0x1ac)]})[_0x18c826(0x200)](_0x2854ad)[_0x18c826(0x26f)]();if(!_0x1b65d2){if(_0x167912[_0x18c826(0x24e)]&&_0x167912[_0x18c826(0x24e)][_0x18c826(0x189)]==_0x18c826(0x24f)){const _0x32f47d=currentCoins[_0x18c826(0x147)](_0x3727eb=>_0x3727eb[_0x18c826(0x1ac)]==_0x18c826(0x24f));if(_0x32f47d){let _0x2a7df9=dbCoinResults[_0x18c826(0x23a)](_0x18c826(0x1cb))[_0x18c826(0x147)]({'coin':_0x18c826(0x24f)})[_0x18c826(0x179)]();_0x2854ad={..._0x2a7df9,'number':_0x32f47d['number']},dbCoinResults[_0x18c826(0x23a)](_0x18c826(0x1cb))['find']({'coin':'BNB'})['assign'](_0x2854ad)[_0x18c826(0x26f)]();}}}}async function placeOrder(_0x21d2db){const _0x2ed47f=_0x134905,_0x2ba55d=config[_0x2ed47f(0x1b6)]==_0x2ed47f(0x253)?_0x2ed47f(0x253):_0x2ed47f(0x1f1);if(lockOrders==ORDERS[_0x2ed47f(0x1f6)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x2ed47f(0x1c7),lastOrders=[];for(const _0x46b60d of _0x21d2db){let _0x3b558e,_0x5b2fb3,_0x3197d4,_0x596a6d,_0x534d2f,_0x140d00=_0x46b60d['symbol'];try{const _0x189073=await exchange[_0x2ed47f(0x157)](_0x140d00);_0x3b558e=_0x46b60d['reverse']?0x1/_0x46b60d[_0x2ed47f(0x2a2)]:_0x46b60d[_0x2ed47f(0x2a2)],_0x5b2fb3=_0x189073[_0x2ed47f(0x297)],_0x3197d4=_0x189073[_0x2ed47f(0x1df)];_0x46b60d[_0x2ed47f(0x218)]?(_0x596a6d=_0x46b60d[_0x2ed47f(0x1be)]=='buy'?_0x2ed47f(0x2a6):'buy',_0x534d2f=Math[_0x2ed47f(0x1a8)](_0x46b60d[_0x2ed47f(0x194)])/_0x3b558e):(_0x596a6d=_0x46b60d[_0x2ed47f(0x1be)],_0x534d2f=Math[_0x2ed47f(0x1a8)](_0x46b60d[_0x2ed47f(0x194)]));_0x2ba55d==_0x2ed47f(0x1f1)&&(config[_0x2ed47f(0x1b6)]==_0x2ed47f(0x19a)&&(_0x3b558e=_0x596a6d=='buy'?_0x5b2fb3:_0x3197d4),config['ordertype']==_0x2ed47f(0x21e)&&(_0x3b558e=_0x596a6d=='buy'?_0x3197d4:_0x5b2fb3));_0x534d2f=formatResult(_0x534d2f,0x8),_0x3b558e=formatResult(_0x3b558e,0x8);const _0x3e751f=_0x596a6d==_0x2ed47f(0x2a6)?config[_0x2ed47f(0x1af)]?String[_0x2ed47f(0x284)]('0x'+config[_0x2ed47f(0x1af)])+'\x20':'':config[_0x2ed47f(0x229)]?String['fromCodePoint']('0x'+config[_0x2ed47f(0x229)])+'\x20':'',_0xb8a1ad=_0x2ba55d=='market'?_0x2ed47f(0x293):config[_0x2ed47f(0x1b6)]==_0x2ed47f(0x19a)?_0x2ed47f(0x211):_0x2ed47f(0x1aa),_0x238131=new Date()[_0x2ed47f(0x26b)]()[_0x2ed47f(0x19c)]()[_0x2ed47f(0x161)](-0x6)+'-'+Math[_0x2ed47f(0x1e7)]()[_0x2ed47f(0x19c)]()[_0x2ed47f(0x161)](-0x6);lastOrders[_0x2ed47f(0x15d)]({'customId':_0x238131,'symbol':_0x140d00,'coin':_0x46b60d[_0x2ed47f(0x1ac)],'side':_0x596a6d,'reverse':_0x46b60d[_0x2ed47f(0x218)],'filled':0x0});if(_0x2ba55d==_0x2ed47f(0x253))logHistory(_0x2ed47f(0x1cd),''+_0x3e751f+_0xb8a1ad+_0x2ed47f(0x1c9)+_0x140d00+'\x20'+_0x596a6d+'\x20#'+formatResult(_0x534d2f,0x8)+'\x20@'+formatResult(_0x3b558e,0x8));else logHistory(_0x2ed47f(0x1cd),''+_0x3e751f+_0xb8a1ad+'\x20order:\x20'+_0x140d00+'\x20'+_0x596a6d+'\x20#'+formatResult(_0x534d2f,0x8)+'\x20@'+formatResult(_0x3b558e,0x8));const _0x19e210=await exchange[_0x2ed47f(0x193)](_0x140d00,_0x2ba55d,_0x596a6d,_0x534d2f,_0x3b558e,{'clientOrderId':_0x238131}),_0x1d01f7=lastOrders[_0x2ed47f(0x1e5)]-0x1;_0x1d01f7>=0x0&&lastOrders[_0x1d01f7]['customId']==_0x238131&&(lastOrders[_0x1d01f7]={...lastOrders[_0x1d01f7],'orderId':_0x19e210['id'],'amount':_0x19e210[_0x2ed47f(0x24b)],'price':_0x19e210['price'],'fee':_0x19e210[_0x2ed47f(0x24e)]});if(config[_0x2ed47f(0x14d)]!=0x0){let _0x2e11fd=null;if(cooldownTracker['length']==config[_0x2ed47f(0x14d)]-0x1)_0x2e11fd=cooldownTracker[_0x2ed47f(0x165)]();const _0xadd900=getTimeStamp();cooldownTracker[_0x2ed47f(0x15d)](_0xadd900);if(_0x2e11fd){const _0x3416fd=fns[_0x2ed47f(0x236)](new Date(_0xadd900),new Date(_0x2e11fd));if(_0x3416fd<cooldownInterval){logHistory(_0x2ed47f(0x1ef),_0x2ed47f(0x235)+config[_0x2ed47f(0x14d)]+_0x2ed47f(0x23f)+cooldownInterval/0x3c+_0x2ed47f(0x2ba)+cooldownPeriod/(0xe10*0x3e8)+_0x2ed47f(0x277)),coolingDown=!![];break;}}}}catch(_0x46a238){if(_0x46a238[_0x2ed47f(0x19c)]()[_0x2ed47f(0x18d)](_0x2ed47f(0x2bc)))lastOrders=lastOrders[_0x2ed47f(0x299)](_0x5334fd=>_0x5334fd[_0x2ed47f(0x217)]!=_0x140d00),await pauseBot(_0x2ed47f(0x29c)+_0x140d00);else _0x46a238[_0x2ed47f(0x19c)]()['includes'](_0x2ed47f(0x154))?(lastOrders=lastOrders[_0x2ed47f(0x299)](_0x5a59e0=>_0x5a59e0['symbol']!=_0x140d00),await pauseBot(_0x2ed47f(0x164)+_0x140d00)):(lastOrders=lastOrders[_0x2ed47f(0x299)](_0x2fa99e=>_0x2fa99e[_0x2ed47f(0x217)]!=_0x140d00),await handleError(_0x46a238,_0x2ed47f(0x15c),_0x140d00));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x2ed47f(0x1e5)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x5b2d6f=config[_0x2ed47f(0x1b6)]==_0x2ed47f(0x253)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1c25a4=_0x2ed47f;validateOrders(_0x1c25a4(0x1f2));},_0x5b2d6f);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x2ed47f(0x153),_0x2ed47f(0x22c)));}else{if(coolingDown)!config[_0x2ed47f(0x1da)]&&logHistory(_0x2ed47f(0x1ef),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x2ed47f(0x1f6)]&&(!config[_0x2ed47f(0x1da)]&&(config[_0x2ed47f(0x1b6)]=='market'?logHistory('error',_0x2ed47f(0x163)):logHistory('error',_0x2ed47f(0x1b0))));}}function persistOpenOrders(_0x321e7a){const _0x4aa10f=_0x134905,_0x272743={...config,'openOrders':_0x321e7a};let _0x20cc7c=dbConfig[_0x4aa10f(0x23a)]('bot')[_0x4aa10f(0x147)]({'botID':botID})['value']();_0x20cc7c&&dbConfig[_0x4aa10f(0x23a)](_0x4aa10f(0x23b))['find']({'botID':botID})[_0x4aa10f(0x200)](_0x272743)['write']();}function restoreOrders(){const _0x574668=_0x134905;let _0x281071;config[_0x574668(0x27d)]&&allOpenOrders[_0x574668(0x2ac)](_0x504a38=>{const _0x558afc=_0x574668,_0x2e122d=config[_0x558afc(0x27d)]['find'](_0x2aad40=>_0x2aad40[_0x558afc(0x143)]==_0x504a38['id']);_0x2e122d&&(lastOrders[_0x558afc(0x15d)](_0x2e122d),_0x281071=_0x504a38[_0x558afc(0x20c)]);});if(lastOrders[_0x574668(0x1e5)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x574668(0x18f),allOrdersPlaced=!![];const _0x548018=new Date()['getTime'](),_0x420107=config[_0x574668(0x1b6)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0x281071+_0x420107>_0x548018){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x523e46=_0x574668;validateOrders(_0x523e46(0x1f2));},_0x281071+_0x420107-_0x548018);}else validateOrders(_0x574668(0x1f2));}}async function sendMetricsTelegram(){const _0x25cbf7=_0x134905;if(!coinsLoaded){process[_0x25cbf7(0x251)]({'telegrammsg':_0x25cbf7(0x187)},_0x22f52b=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x1907b0='';if(config['showname'])_0x1907b0=_0x25cbf7(0x1fa)+config[_0x25cbf7(0x1c4)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x1907b0='<b>Bot\x20'+botID+_0x25cbf7(0x1ce);const _0x33ed15=getKPIs('basecoin'),_0x137a35=getKPIs(_0x25cbf7(0x268),config[_0x25cbf7(0x268)]),_0x5cc3bb=getKPIs(_0x25cbf7(0x173)),_0x2f846b=getKPIs(_0x25cbf7(0x1ad),config['fiat']);_0x1907b0+=_0x25cbf7(0x26a),_0x1907b0+=_0x33ed15[_0x25cbf7(0x17a)]+_0x25cbf7(0x260)+_0x33ed15[_0x25cbf7(0x179)]+'\x0a',_0x1907b0+=_0x33ed15[_0x25cbf7(0x29b)]+':\x20'+_0x33ed15[_0x25cbf7(0x169)]+'%\x0a',_0x1907b0+=_0x137a35['leftTxt']+_0x25cbf7(0x260)+_0x137a35['value']+'\x0a',_0x1907b0+=_0x137a35['rightTxt']+':\x20'+_0x137a35[_0x25cbf7(0x169)]+'%\x0a',_0x1907b0+=_0x5cc3bb[_0x25cbf7(0x17a)]+':\x20'+_0x5cc3bb['value']+'\x20('+config[_0x25cbf7(0x1e9)]+')\x0a',_0x1907b0+=_0x5cc3bb[_0x25cbf7(0x29b)]+':\x20'+_0x5cc3bb['change']+_0x25cbf7(0x206)+config['basecoin']+')\x0a',_0x1907b0+=_0x2f846b[_0x25cbf7(0x17a)]+':\x20'+_0x2f846b[_0x25cbf7(0x179)]+'\x20('+config['fiat']+')\x0a',_0x1907b0+=_0x2f846b['rightTxt']+':\x20'+_0x2f846b[_0x25cbf7(0x169)]+_0x25cbf7(0x206)+config[_0x25cbf7(0x268)]+')\x0a',_0x1907b0+=_0x25cbf7(0x2b6),process[_0x25cbf7(0x251)]({'telegrammsg':_0x1907b0},_0x130817=>{});}async function sendPortfolioTelegram(){const _0x22411e=_0x134905;if(!coinsLoaded){process[_0x22411e(0x251)]({'telegrammsg':_0x22411e(0x187)},_0x7440d9=>{});return;}let _0x443229='';if(config[_0x22411e(0x1a4)])_0x443229=_0x22411e(0x1fa)+config[_0x22411e(0x1c4)]+_0x22411e(0x23c);else _0x443229='<b>Bot\x20'+botID+_0x22411e(0x23c);_0x443229+=_0x22411e(0x26a),_0x443229+=_0x22411e(0x2b5),_0x443229+=_0x22411e(0x25f),_0x443229+=_0x22411e(0x2b5),currentCoins[_0x22411e(0x2ac)](_0x421991=>{const _0x10060d=_0x22411e;_0x443229+=_0x421991[_0x10060d(0x1ac)][_0x10060d(0x29f)](0x7)+'|\x20'+formatPad(_0x421991[_0x10060d(0x1ba)],0x2,0x6)+'|\x20'+formatPad(_0x421991[_0x10060d(0x175)],0x2,0x6)+'|\x20'+formatPad(_0x421991['delta']*0x64,0x2,0x6)+'\x0a';}),_0x443229+='</pre>',process[_0x22411e(0x251)]({'telegrammsg':_0x443229},_0x4d2822=>{});}function formatPad(_0x2859d5,_0x4e2b16,_0x18166e){const _0x2c98a5=_0x134905,_0x48452e=formatResultString(_0x2859d5,_0x4e2b16);return _0x48452e?_0x48452e['padStart'](_0x18166e):''[_0x2c98a5(0x22e)](_0x18166e);}function logHistory(_0x4e1c47,_0x2d8286,_0x3482e6=''){const _0x4380c1=_0x134905;let _0x584cf9={'time':getTimeStamp(),'type':_0x4e1c47,'event':_0x2d8286};dbLogs[_0x4380c1(0x23a)](_0x4380c1(0x2b7))[_0x4380c1(0x15d)](_0x584cf9)[_0x4380c1(0x26f)]();if(_0x3482e6=='')_0x3482e6=_0x2d8286;proxyEmit(_0x4380c1(0x2ab),{'log':_0x584cf9,'summary':_0x3482e6}),process[_0x4380c1(0x251)]({'telegram':{..._0x584cf9,'botname':config[_0x4380c1(0x1c4)],'showname':config[_0x4380c1(0x1a4)]}},_0x2a1347=>{}),logger[_0x4380c1(0x202)](''+_0x584cf9[_0x4380c1(0x2ab)]);}function emitHistory(_0x26195f={}){const _0x2d72f9=_0x134905;Object[_0x2d72f9(0x1f0)](_0x26195f)[_0x2d72f9(0x1e5)]==0x0&&(_0x26195f={'type':[_0x2d72f9(0x1cd),_0x2d72f9(0x2ab)],'event':'','page':0x1});if(_0x26195f[_0x2d72f9(0x275)][_0x2d72f9(0x18d)](_0x2d72f9(0x2ab)))_0x26195f['type'][_0x2d72f9(0x144)](_0x26195f[_0x2d72f9(0x275)][_0x2d72f9(0x14a)]('event'),0x1,_0x2d72f9(0x1ef),_0x2d72f9(0x262),_0x2d72f9(0x153));if(dbLogs[_0x2d72f9(0x23e)]('logs')[_0x2d72f9(0x179)]()){let _0x1c4dd7=dbLogs[_0x2d72f9(0x23a)](_0x2d72f9(0x2b7))['filter'](_0x4b9f54=>{const _0x1ce7a4=_0x2d72f9;if(_0x26195f[_0x1ce7a4(0x275)]['length']==0x0)return![];else return _0x26195f['type'][_0x1ce7a4(0x18d)](_0x4b9f54['type']);})[_0x2d72f9(0x299)](_0xe1a0c8=>{const _0x123e3e=_0x2d72f9;if(_0x26195f[_0x123e3e(0x2ab)]=='')return!![];else return _0xe1a0c8[_0x123e3e(0x2ab)][_0x123e3e(0x15b)]()['includes'](_0x26195f[_0x123e3e(0x2ab)][_0x123e3e(0x15b)]());})[_0x2d72f9(0x272)](_0x2d72f9(0x141)),_0x12e785=_0x1c4dd7[_0x2d72f9(0x179)]()[_0x2d72f9(0x1e5)];_0x1c4dd7=_0x1c4dd7['reverse']()[_0x2d72f9(0x161)]((_0x26195f[_0x2d72f9(0x1bf)]-0x1)*logPageSize,_0x26195f[_0x2d72f9(0x1bf)]*logPageSize-0x1)[_0x2d72f9(0x218)]()[_0x2d72f9(0x179)](),proxyEmit(_0x2d72f9(0x274),{'logs':_0x1c4dd7,'total':_0x12e785});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2aef9e){const _0x1af65b=_0x134905;if(dbLogs['has']('logs')['value']()){const _0x2c2caf=dbLogs[_0x1af65b(0x23a)](_0x1af65b(0x2b7))[_0x1af65b(0x272)](_0x1af65b(0x141))['filter'](_0xa79f18=>{const _0x172486=_0x1af65b;return _0xa79f18[_0x172486(0x275)]==_0x172486(0x1cd);})[_0x1af65b(0x179)]();dbLogs['get'](_0x1af65b(0x2b7))[_0x1af65b(0x209)]()[_0x1af65b(0x26f)](),dbLogs[_0x1af65b(0x23a)](_0x1af65b(0x2b7))[_0x1af65b(0x200)](_0x2c2caf)[_0x1af65b(0x26f)](),emitHistory(_0x2aef9e);}}async function pauseBot(_0x2c7565=''){const _0x56cb2e=_0x134905,_0x51c96c=new Date()[_0x56cb2e(0x26b)]();if(!lastErrorShown||_0x51c96c-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x51c96c;!lastBotPause?(lastBotPause=_0x51c96c,consecutivePauses=0x1):(_0x51c96c-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x56cb2e(0x251)]({'stop':_0x56cb2e(0x1e0)},_0x1dd199=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x2c7565)_0x2c7565+=_0x56cb2e(0x219);logHistory(_0x56cb2e(0x1ef),_0x2c7565+_0x56cb2e(0x263)+pauseBotInterval/0xea60+_0x56cb2e(0x148)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x13b682=_0x134905;process[_0x13b682(0x251)]({'stop':_0x13b682(0x28a)},_0x88a02d=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x30ea41,_0x144221){const _0x2dafe4=_0x134905;if(_0x30ea41['toString']()[_0x2dafe4(0x18d)]('API-key\x20format\x20invalid'))return logHistory(_0x2dafe4(0x1ef),config[_0x2dafe4(0x2b8)]+_0x2dafe4(0x156)),![];else{if(_0x30ea41[_0x2dafe4(0x19c)]()[_0x2dafe4(0x18d)](_0x2dafe4(0x2a5)))return logHistory('error',config[_0x2dafe4(0x2b8)]+'\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration'),![];else{if(_0x30ea41[_0x2dafe4(0x19c)]()[_0x2dafe4(0x18d)](_0x2dafe4(0x244)))return logHistory(_0x2dafe4(0x1ef),config[_0x2dafe4(0x2b8)]+_0x2dafe4(0x1ff)),logHistory(_0x2dafe4(0x1ef),_0x2dafe4(0x271)),![];else await handleError(_0x30ea41,_0x144221);}}}async function handleError(_0x43f5e5,_0x429332,_0xdb523c=''){const _0x23b743=_0x134905,_0x49b2fa=config[_0x23b743(0x2b8)]||_0x23b743(0x1dd);if(_0x43f5e5[_0x23b743(0x19c)]()[_0x23b743(0x18d)]('DDoSProtection'))await pauseBot(config[_0x23b743(0x2b8)]+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x43f5e5[_0x23b743(0x19c)]()['includes']('ExchangeNotAvailable'))await pauseBot(config['exchange']+_0x23b743(0x291));else{if(_0x43f5e5[_0x23b743(0x19c)]()[_0x23b743(0x18d)](_0x23b743(0x241)))await pauseBot(config[_0x23b743(0x2b8)]+_0x23b743(0x1fc));else{if(_0x43f5e5[_0x23b743(0x19c)]()[_0x23b743(0x18d)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server,\x20closing\x20code\x201006'))await pauseBot(config[_0x23b743(0x2b8)]+'\x20closed\x20the\x20connection');else{if(_0x43f5e5[_0x23b743(0x19c)]()[_0x23b743(0x18d)](_0x23b743(0x264)))logHistory(_0x23b743(0x1ef),_0x429332+_0x23b743(0x14c)),logHistory(_0x23b743(0x1ef),_0x23b743(0x185)),await killBot();else{if(_0x43f5e5[_0x23b743(0x19c)]()[_0x23b743(0x18d)]('InvalidNonce'))logHistory('error',_0x429332+_0x23b743(0x204)),logHistory(_0x23b743(0x1ef),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x43f5e5['toString']()[_0x23b743(0x18d)](_0x23b743(0x254)))logHistory(_0x23b743(0x1ef),_0x429332+_0x23b743(0x219)+config[_0x23b743(0x2b8)]+'\x20API\x20key\x20is\x20invalid'),logHistory('error',_0x23b743(0x185)),await killBot();else{if(_0x43f5e5['toString']()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory('error',_0x429332+'\x20|\x20'+config['exchange']+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x23b743(0x1ef),_0x23b743(0x185)),await killBot();else{if(_0x43f5e5['toString']()[_0x23b743(0x18d)](_0x23b743(0x244)))logHistory(_0x23b743(0x1ef),_0x429332+_0x23b743(0x219)+config[_0x23b743(0x2b8)]+_0x23b743(0x20e)),logHistory(_0x23b743(0x1ef),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else _0x43f5e5[_0x23b743(0x19c)]()['includes'](_0x23b743(0x151))?logHistory(_0x23b743(0x1ef),_0x429332+_0x23b743(0x16a)+_0xdb523c):(logger[_0x23b743(0x202)](_0x429332+'\x20|\x20Error\x20details:\x20',_0x43f5e5),await pauseBot(_0x23b743(0x149)));}}}}}}}}}function formatResult(_0x165eb7,_0x3efd16){return parseFloat(_0x165eb7['toFixed'](_0x3efd16));}function formatResultTruncate(_0x28ecae,_0x24321c){const _0x115ad8=_0x134905;let _0x29ffe2=formatResultString(_0x28ecae,0xa),_0x16e6ab=_0x29ffe2['indexOf']('.');return _0x16e6ab!=-0x1&&(_0x29ffe2=_0x29ffe2[_0x115ad8(0x161)](0x0,_0x16e6ab+_0x24321c+0x1)),Number(_0x29ffe2);}function formatResultString(_0x590121,_0x315ca8){const _0x4076b0=_0x134905;let _0x50eff0;if(!(''+_0x590121)['includes']('e'))_0x50eff0=+(Math[_0x4076b0(0x171)](_0x590121+'e+'+_0x315ca8)+'e-'+_0x315ca8);else{let _0x2c7d1a=(''+_0x590121)[_0x4076b0(0x1bb)]('e'),_0x2d0b4d='';+_0x2c7d1a[0x1]+_0x315ca8>0x0&&(_0x2d0b4d='+'),_0x50eff0=+(Math[_0x4076b0(0x171)](+_0x2c7d1a[0x0]+'e'+_0x2d0b4d+(+_0x2c7d1a[0x1]+_0x315ca8))+'e-'+_0x315ca8);}return Number(_0x50eff0)[_0x4076b0(0x1d1)](_0x315ca8);}function getServerTime(){const _0x290ebd=_0x134905,_0x5d935e=new Date();return _0x5d935e[_0x290ebd(0x28d)]()+'/'+(_0x5d935e['getMonth']()+0x1)['toString']()[_0x290ebd(0x22e)](0x2,'0')+'/'+_0x5d935e['getDate']()[_0x290ebd(0x19c)]()[_0x290ebd(0x22e)](0x2,'0')+'\x20'+_0x5d935e['getHours']()['toString']()[_0x290ebd(0x22e)](0x2,'0')+':'+_0x5d935e[_0x290ebd(0x172)]()[_0x290ebd(0x19c)]()['padStart'](0x2,'0')+':'+_0x5d935e[_0x290ebd(0x21a)]()[_0x290ebd(0x19c)]()[_0x290ebd(0x22e)](0x2,'0');}function getTimeStamp(){const _0x27698d=_0x134905,_0x13fa38=shiftedTime();return _0x13fa38[_0x27698d(0x28d)]()+'/'+(_0x13fa38[_0x27698d(0x14b)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x13fa38[_0x27698d(0x1ab)]()[_0x27698d(0x19c)]()[_0x27698d(0x22e)](0x2,'0')+'\x20'+_0x13fa38[_0x27698d(0x25e)]()[_0x27698d(0x19c)]()[_0x27698d(0x22e)](0x2,'0')+':'+_0x13fa38[_0x27698d(0x172)]()[_0x27698d(0x19c)]()['padStart'](0x2,'0')+':'+_0x13fa38[_0x27698d(0x21a)]()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x1be7fe=_0x134905,_0x434ef3=shiftedTime();return _0x434ef3[_0x1be7fe(0x28d)]()+'/'+(_0x434ef3[_0x1be7fe(0x14b)]()+0x1)[_0x1be7fe(0x19c)]()[_0x1be7fe(0x22e)](0x2,'0')+'/'+_0x434ef3['getDate']()[_0x1be7fe(0x19c)]()[_0x1be7fe(0x22e)](0x2,'0');}function getHour(){const _0x3bcdc6=_0x134905,_0x4d75f3=shiftedTime();return _0x4d75f3[_0x3bcdc6(0x25e)]()[_0x3bcdc6(0x19c)]()[_0x3bcdc6(0x22e)](0x2,'0');}function _0x3fe7(_0x22bb21,_0x35c6e0){const _0x437302=_0x23f2();return _0x3fe7=function(_0x58f54f,_0x4f7a2f){_0x58f54f=_0x58f54f-0x141;let _0x23f27b=_0x437302[_0x58f54f];return _0x23f27b;},_0x3fe7(_0x22bb21,_0x35c6e0);}function sleep(_0x5ae768){return new Promise(_0x1e39ba=>setTimeout(_0x1e39ba,_0x5ae768));}function shiftedTime(){const _0x73f5e2=_0x134905,_0x488e7e=new Date();let _0x21e5ed=_0x488e7e;if(config&&config[_0x73f5e2(0x245)]!==0x0)_0x21e5ed=fns['add'](_0x488e7e,{'hours':config[_0x73f5e2(0x245)]});return _0x21e5ed;}function timer(_0x2814b9){const _0xbe990b=_0x134905,_0x1abbbb=new Date();!lasttime?console[_0xbe990b(0x18e)](_0xbe990b(0x17e),_0x2814b9,_0x1abbbb):console['log'](_0xbe990b(0x17e),_0x2814b9,(_0x1abbbb-lasttime)/0x3e8),lasttime=_0x1abbbb;}