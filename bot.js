const _0x2d7d06=_0x361d;(function(_0x178103,_0x2200f9){const _0x257713=_0x361d,_0x375dea=_0x178103();while(!![]){try{const _0x525411=-parseInt(_0x257713(0x237))/0x1+parseInt(_0x257713(0x28c))/0x2+parseInt(_0x257713(0x2cd))/0x3+parseInt(_0x257713(0x226))/0x4*(-parseInt(_0x257713(0x238))/0x5)+-parseInt(_0x257713(0x223))/0x6+parseInt(_0x257713(0x1ef))/0x7*(parseInt(_0x257713(0x294))/0x8)+-parseInt(_0x257713(0x26c))/0x9*(-parseInt(_0x257713(0x291))/0xa);if(_0x525411===_0x2200f9)break;else _0x375dea['push'](_0x375dea['shift']());}catch(_0x168345){_0x375dea['push'](_0x375dea['shift']());}}}(_0x5dd7,0x68109));const _0x482790=function(){let _0x5c03c9=!![];return function(_0x550029,_0x24b4b8){const _0x5aa69f=_0x5c03c9?function(){if(_0x24b4b8){const _0x5cacff=_0x24b4b8['apply'](_0x550029,arguments);return _0x24b4b8=null,_0x5cacff;}}:function(){};return _0x5c03c9=![],_0x5aa69f;};}(),_0x2f500d=_0x482790(this,function(){const _0x34d2e5=_0x361d;return _0x2f500d[_0x34d2e5(0x276)]()[_0x34d2e5(0x1d7)](_0x34d2e5(0x20a))[_0x34d2e5(0x276)]()['constructor'](_0x2f500d)[_0x34d2e5(0x1d7)](_0x34d2e5(0x20a));});_0x2f500d();'use strict';const ccxt=require(_0x2d7d06(0x236)),low=require('lowdb'),FileSync=require(_0x2d7d06(0x268)),fs=require('fs'),fns=require(_0x2d7d06(0x224)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require(_0x2d7d06(0x23a))[_0x2d7d06(0x265)];let exchange,wsClient;global[_0x2d7d06(0x21f)]={},global[_0x2d7d06(0x247)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x2d7d06(0x1f4),_0x2d7d06(0x208),_0x2d7d06(0x220),_0x2d7d06(0x292),_0x2d7d06(0x2e5),'YOYOW/'];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x2d7d06(0x241))[_0x2d7d06(0x288)],botID=process[_0x2d7d06(0x27d)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x2d7d06(0x266)](botID)&&(console[_0x2d7d06(0x23b)](_0x2d7d06(0x1de)+botID+_0x2d7d06(0x20d)),process['exit'](0x1));const userID=process[_0x2d7d06(0x27d)][0x3]||'',configpath=userID?_0x2d7d06(0x2e9)+userID+'/':_0x2d7d06(0x2e9);!fs[_0x2d7d06(0x1c5)](configpath)&&fs[_0x2d7d06(0x281)](configpath);const configfile=configpath+_0x2d7d06(0x2af)+botID+_0x2d7d06(0x2c8),logfile=configpath+_0x2d7d06(0x2af)+botID+_0x2d7d06(0x200),performancefile=configpath+'bot-'+botID+_0x2d7d06(0x1ee),coinresultsfile=configpath+_0x2d7d06(0x2af)+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x2d7d06(0x22a),configbackuppath=configpath+_0x2d7d06(0x1f2),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x2d7d06(0x1e9)]({'logs':[]})[_0x2d7d06(0x2de)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2d7d06(0x1e9)]({'data':[]})[_0x2d7d06(0x2de)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x2d7d06(0x2de)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2d7d06(0x1e9)]({'coins':[]})[_0x2d7d06(0x2de)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);function _0x5dd7(){const _0x12c12b=['version','total','amount','sortBy','412788jHGRzm','format','reconnected','Order(s)\x20filled\x20-\x20','deleteHistoryAlerts','10KiAmtl','XEM/BUSD','final','24GevQoy','function','Executed\x20','getPortfolio()','timestamp','startnumber','has','getDate','getHours','progress','logs','buy','recreateHistory()','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','commission','restart','2.4.4','side','settings','fetchOpenOrders','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','outboundAccountPosition','cancelOrders()','privateKey','yyyy/MM/dd\x20HH:mm:ss','replace','orderId','bot-','storeConfiguration','last','change24h','ETH','DDoSProtection','includes','event-history','slice','string','Binance\x20API\x20secret\x20is\x20invalid','coins','Unknown\x20error\x20occured','fetchTickers','stringify','price','find','split','bot','yyyy/MM/dd','apiKey','getMonth','priceChangePercent','Order(s)\x20not\x20validated\x20after\x20','toLowerCase','-config.json','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','symbols','offset','length','235359TbaLtB',')\x20|\x20Error\x20details:\x20','datetime','no\x20open\x20orders','sha256','add','getCloses()','executionReport','starting-balances','date','getCoins()','bid','cost','toggleBotMode','limit','emojibuy','BNB','write','RequestTimeout','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','fetchOrders','breakeven','cancelOrder','loadMarkets','NANO/','/USDT','wsKey','trade','./config/','parseISO','botID','cloneDeep','performance','buys','formattedMessage','target','join','BUSD','abs','getSeconds','max','\x20order:\x20','existsSync','\x20hour','eventTime','balancing\x20resumed','message','changes','Binance\x20not\x20responding','placeOrder()','Order\x20amount\x20is\x20invalid:\x20','type','\x20minutes\x20-\x20','portfolio','getFiat()','USDT','closeWs','sort','event','findIndex','search','timeout','\x20minutes','filter','createOrder','args','Binance\x20not\x20available\x20(1)','Error:\x20Invalid\x20argument\x20','limit-high','kill','\x20|\x20Binance\x20API\x20secret\x20invalid','fees','time','\x20|\x20Error\x20details:\x20','loadSymbols()','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','eventType','ask','defaults','cooldown','\x20has\x20a\x2024h\x20drop\x20of\x20','WebSockets(','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','-performance.json','341845WWvPuN','kline','API\x20or\x20clock\x20sync\x20issue','/backup/','exchange','DAI/','cancelLoading','wss://stream.binance.us:9443','Limit\x20(low-margin)','spot','configuration','valid','basecoin','wss://stream.binance.com:9443','reduce','shift','starttime','-events.json','RSA-OAEP','sells','Order:\x20','distribution','decrypt','keys','accumulatedQuantity','HOT/BTC','Binance\x20not\x20available\x20(2)','(((.+)+)+)+$','Invalid\x20quantity','API-key\x20format\x20invalid',',\x20must\x20be\x20a\x203\x20digit\x20number','enabled','milliseconds','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','headless','forEach','initclient','\x20>\x20','market','.json','ordertype','get','send','padStart','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Manual\x20balancing\x20required:\x20','cancel','success','ticker','HOT/EUR','symbol','\x20-\x20','831378AMarGS','date-fns','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','124dwEffe','value','min','Bot\x20','bb-secure.json','splice','fee','page','InsufficientFunds','Cooldown\x20ended\x20-\x20balancing\x20resumed','botname','update\x20results:','sell','Limit\x20(high-margin)','set','Order(s)\x20validated\x20-\x20','ccxt','124454krTnuw','75670Orhefs','getFullYear','hybrid-crypto-js','log','getTime','startdate','binanceus','map','ongoing','./version.json','BNB/','coin','filled','Binance\x20API\x20key\x20is\x20invalid','getMinutes','change','usd','EUR','currency','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','entries','reverse','Unfilled\x20order(s)\x20canceled\x20after\x20','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20|\x20Binance\x20API\x20key\x20invalid','push','2.3.5','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','\x20|\x20','getPortfolio','initial','parse','BTC','starting-balance-','number','threshold','emojisell','realized','remainingSymbols','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','order','delta','timeshift','Binance\x20API\x20blocked','getStartingBalances','Crypt','test','OrderNotFound','lowdb/adapters/FileSync','assign','Performance\x20recreation\x20completed\x20successfully','close','6543612gKqRrY','liquidity','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','recreate','apiSecret','differenceInCalendarDays','data','emitHistory','limits','round','toString','error','ExchangeNotAvailable','userData','excluded','binance','AuthenticationError','argv','************','eur','remove','mkdirSync','startprice',':\x20Bot\x20','showname','orderStatus','balances','Order\x20filled:\x20'];_0x5dd7=function(){return _0x12c12b;};return _0x5dd7();}let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x4cd456)=>{},'debug':(..._0x23e23f)=>{},'notice':(..._0x44f9a0)=>{},'info':(..._0x5e1259)=>{},'warning':(..._0x2beb48)=>{},'error':async function(..._0x32aecc){const _0x2814ee=_0x2d7d06,_0x38a8b6=new Date()['getTime']();if(!lastErrorShown||_0x38a8b6-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x2814ee(0x23c)]();let _0xbeb652='';if(_0x32aecc[0x0])_0xbeb652+=_0x32aecc[0x0];if(_0x32aecc[0x1]&&_0x32aecc[0x1][_0x2814ee(0x277)]&&_0x32aecc[0x1][_0x2814ee(0x277)]['message'])_0xbeb652+=_0x2814ee(0x222)+_0x32aecc[0x1][_0x2814ee(0x277)][_0x2814ee(0x1c9)];logging(_0x2814ee(0x1ec)+consecutivePauses+_0x2814ee(0x2ce),''+_0xbeb652),await pauseBot(_0x2814ee(0x1dd));}}},crypt=new Crypt({'md':_0x2d7d06(0x2d1),'rsaStandard':_0x2d7d06(0x201)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);function _0x361d(_0x3bd924,_0x347944){const _0x3ec491=_0x5dd7();return _0x361d=function(_0x2f500d,_0x482790){_0x2f500d=_0x2f500d-0x1c4;let _0x5dd72e=_0x3ec491[_0x2f500d];return _0x5dd72e;},_0x361d(_0x3bd924,_0x347944);}settings[_0x2d7d06(0x262)]!=config[_0x2d7d06(0x262)]&&updateTimeshift(settings[_0x2d7d06(0x262)]);process['send']({'started':'running'},_0x10632f=>{}),initializeProcessListeners();function proxyEmit(_0x599281,_0x17e9f0=null){process['send']({'function':_0x599281,'args':_0x17e9f0},_0xc21685=>{});}function initializeProcessListeners(){const _0x13c226=_0x2d7d06;process['on'](_0x13c226(0x1c9),_0x47de8a=>{const _0x4251fe=_0x13c226;switch(Object[_0x4251fe(0x206)](_0x47de8a)[0x0]){case _0x4251fe(0x262):_0x47de8a[_0x4251fe(0x262)]!=undefined&&(settings[_0x4251fe(0x262)]=_0x47de8a[_0x4251fe(0x262)],updateTimeshift(settings[_0x4251fe(0x262)]));break;case _0x4251fe(0x295):switch(_0x47de8a[_0x4251fe(0x295)]){case _0x4251fe(0x213):initclient();break;case _0x4251fe(0x2da):toggleBotMode();break;case _0x4251fe(0x273):emitHistory(_0x47de8a[_0x4251fe(0x1dc)]);break;case _0x4251fe(0x290):deleteHistoryAlerts(_0x47de8a[_0x4251fe(0x1dc)]);break;case _0x4251fe(0x255):getPortfolio(_0x47de8a[_0x4251fe(0x1dc)]);break;case _0x4251fe(0x2b0):storeConfiguration(_0x47de8a[_0x4251fe(0x1dc)]);break;case'storeHeadless':storeHeadless(_0x47de8a[_0x4251fe(0x1dc)]);break;case _0x4251fe(0x264):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x47de8a['args']);break;case _0x4251fe(0x1f5):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x231db1=_0x2d7d06;if(pidBalances)clearTimeout(pidBalances);if(config['apiKey']!=''){await initExchange(config[_0x231db1(0x2c3)],config[_0x231db1(0x270)]);let _0x9073dc=await loadSymbols();_0x9073dc&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x40a19b,_0x54a529){const _0x4cb006=_0x2d7d06,_0xb48dcf=ccxt[config[_0x4cb006(0x1f3)]];let _0x5b542f;switch(config[_0x4cb006(0x1f3)]){case _0x4cb006(0x27b):_0x5b542f=_0x4cb006(0x1fc);break;case _0x4cb006(0x23e):_0x5b542f=_0x4cb006(0x1f6);break;default:_0x5b542f=_0x4cb006(0x1fc);}exchange=new _0xb48dcf({'apiKey':_0x40a19b,'secret':_0x54a529,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x40a19b,'api_secret':_0x54a529,'beautify':!![],'wsUrl':_0x5b542f},logger);let _0x39d766=config['exchange']=='binanceus'?'USDT':_0x4cb006(0x249),_0x42d571=config[_0x4cb006(0x1fb)]=='ETH'?_0x4cb006(0x2b3):_0x4cb006(0x258);stablecoins={'eur':{'coin':''+_0x42d571+_0x39d766,'symbol':_0x42d571+'/'+_0x39d766},'usd':{'coin':_0x42d571+_0x4cb006(0x1d2),'symbol':_0x42d571+_0x4cb006(0x2e6)}};}async function loadSymbols(){const _0x320a37=_0x2d7d06;let _0x5df986;try{markets=await exchange[_0x320a37(0x2e4)](),allSymbols=exchange[_0x320a37(0x2ca)][_0x320a37(0x1da)](_0x31d078=>{const _0x2dc435=_0x320a37;let _0x3a3f62=![];return exceptions[_0x2dc435(0x212)](_0x47ffaf=>{const _0x1c56ea=_0x2dc435;if(_0x31d078[_0x1c56ea(0x2b5)](_0x47ffaf))_0x3a3f62=!![];}),!_0x3a3f62;}),_0x5df986=!![];}catch(_0x45f58a){await handleError(_0x45f58a,_0x320a37(0x1e5)),_0x5df986=![];}return _0x5df986;}async function initbot(){const _0x3b0876=_0x2d7d06;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x590593=dbCoinResults[_0x3b0876(0x218)](_0x3b0876(0x2ba))[_0x3b0876(0x227)]();if(_0x590593['length']==0x0)await resetCoinResults();}async function initclient(){const _0x3b3286=_0x2d7d06;proxyEmit(_0x3b3286(0x1f9),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3b3286(0x286),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1dadac=getNormalizedPerformance();emitPerformance(_0x1dadac),await getStartingBalances(_0x1dadac);}async function toggleBotMode(){const _0x46b243=_0x2d7d06;let _0x1f856f=dbConfig['get'](_0x46b243(0x2c1))[_0x46b243(0x2bf)]({'botID':botID})[_0x46b243(0x227)]();if(_0x1f856f){const _0x5e584e=!_0x1f856f[_0x46b243(0x211)];dbConfig[_0x46b243(0x218)](_0x46b243(0x2c1))[_0x46b243(0x2bf)]({'botID':botID})['assign']({'headless':_0x5e584e})[_0x46b243(0x2de)](),config[_0x46b243(0x211)]=_0x5e584e,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0xe949c4=_0x2d7d06;process[_0xe949c4(0x219)]({'updatebotmanager':!![]},_0x36ede7=>{});}function cleanws(){const _0x53be28=_0x2d7d06;wsinitialized=![];ws1&&(ws1[_0x53be28(0x212)](_0x346fb4=>{const _0x1fcd38=_0x53be28;try{wsClient[_0x1fcd38(0x1d3)](_0x346fb4);}catch(_0x332b8d){}}),ws1=[]);if(ws2){try{wsClient['closeWs'](ws2);}catch(_0x58eae0){}ws2=null;}ws3&&(ws3['forEach'](_0x2dcd42=>{const _0x528499=_0x53be28;try{wsClient[_0x528499(0x1d3)](_0x2dcd42);}catch(_0x763c65){}}),ws3=[]);}async function initws(){const _0x574ad5=_0x2d7d06;cleanws();let _0x4add24=[];currentCoins[_0x574ad5(0x212)](_0x16d5d0=>{const _0x6d04de=_0x574ad5;if(_0x16d5d0['coin']!=config[_0x6d04de(0x1fb)])_0x4add24['push'](_0x16d5d0[_0x6d04de(0x221)]);});if(!_0x4add24[_0x574ad5(0x2b5)](stablecoins[_0x574ad5(0x27f)][_0x574ad5(0x221)]))_0x4add24['push'](stablecoins[_0x574ad5(0x27f)]['symbol']);if(!_0x4add24['includes'](stablecoins[_0x574ad5(0x248)][_0x574ad5(0x221)]))_0x4add24[_0x574ad5(0x251)](stablecoins[_0x574ad5(0x248)][_0x574ad5(0x221)]);if(!_0x4add24[_0x574ad5(0x2b5)](_0x574ad5(0x242)+config[_0x574ad5(0x1fb)]))_0x4add24['push'](_0x574ad5(0x242)+config['basecoin']);try{_0x4add24[_0x574ad5(0x212)]((_0x3f4e77,_0x5030b5)=>{ws1[_0x5030b5]=wsClient['subscribeSpotKline'](noslash(_0x3f4e77),'1m'),ws3[_0x5030b5]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x3f4e77),'spot');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x574ad5(0x2ef),_0x5d9b6f=>{const _0x5d99d9=_0x574ad5;if(isWsFormattedKline(_0x5d9b6f)){global[_0x5d99d9(0x21f)][_0x5d9b6f[_0x5d99d9(0x1f0)][_0x5d99d9(0x221)]]=_0x5d9b6f[_0x5d99d9(0x1f0)][_0x5d99d9(0x26b)];return;}else{if(isWsFormatted24hrTicker(_0x5d9b6f)){global[_0x5d99d9(0x247)][_0x5d9b6f[_0x5d99d9(0x221)]]=_0x5d9b6f[_0x5d99d9(0x2c5)];return;}else{if(!Array['isArray'](_0x5d9b6f)&&_0x5d9b6f[_0x5d99d9(0x2e7)]['includes'](_0x5d99d9(0x279))){if(_0x5d9b6f['wsMarket']['includes'](_0x5d99d9(0x1f8))){updateNumberCoins(_0x5d9b6f);return;}}}}}),wsClient['on'](_0x574ad5(0x28e),async _0x1f62c0=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x5ebab7){await handleError(_0x5ebab7,'initws()');}let _0x476201,_0x39a110=0x0;loading[_0x574ad5(0x25e)]=[];let _0x34511a=0x0;_0x4add24[_0x574ad5(0x212)](_0x1facc1=>{const _0x12f678=_0x574ad5;loading[_0x12f678(0x25e)][_0x12f678(0x251)](_0x1facc1);}),loadingCanceled=![];while(_0x476201!=_0x4add24['length']){_0x476201=0x0,_0x4add24[_0x574ad5(0x212)](_0x166c7e=>{const _0x45056d=_0x574ad5;global[_0x45056d(0x21f)][noslash(_0x166c7e)]&&(loading[_0x45056d(0x25e)]=loading['remainingSymbols'][_0x45056d(0x1da)](_0x2c148f=>_0x2c148f!=_0x166c7e),_0x476201++);}),loading[_0x574ad5(0x29d)]=Math[_0x574ad5(0x275)](_0x476201/_0x4add24[_0x574ad5(0x2cc)]*0x64);_0x34511a>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x574ad5(0x21d)]=!![],emitLoadingProgress();break;}else _0x476201!=_0x39a110&&(_0x39a110=_0x476201,emitLoadingProgress()),_0x34511a++,await sleep(0xc8);}if(_0x476201==_0x4add24[_0x574ad5(0x2cc)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x36aadb=_0x2d7d06;let _0x19d2fa=0x0,_0x3d5d0d=0x0;try{_0x19d2fa=global['ticker'][stablecoins[_0x36aadb(0x27f)][_0x36aadb(0x243)]],_0x3d5d0d=global[_0x36aadb(0x21f)][stablecoins[_0x36aadb(0x248)]['coin']];}catch(_0x5e361d){await handleError(_0x5e361d,_0x36aadb(0x1d1));}return{'eur':Number(_0x19d2fa),'usd':Number(_0x3d5d0d)};}function setStartDatePerformance(){const _0x1d0ff1=_0x2d7d06;if(config&&config[_0x1d0ff1(0x26d)][0x0][_0x1d0ff1(0x1ca)][_0x1d0ff1(0x2cc)]!=0x0){const _0x50d5f6=config['liquidity'][0x0][_0x1d0ff1(0x1ca)];dbPerformance[_0x1d0ff1(0x218)](_0x1d0ff1(0x272))[_0x1d0ff1(0x2bf)]({'date':config[_0x1d0ff1(0x23d)]})['assign']({'coins':_0x50d5f6})[_0x1d0ff1(0x2de)]();}}async function recreateHistory(_0x433eef){const _0x5ad868=_0x2d7d06;let _0xa14309,_0x3ccaf8=[];logHistory(_0x5ad868(0x21e),_0x5ad868(0x2a1)),_0x433eef[_0x5ad868(0x1d0)][_0x5ad868(0x212)](_0x1a7d1b=>{const _0x117d1c=_0x5ad868;if(_0x1a7d1b[_0x117d1c(0x243)]!=config[_0x117d1c(0x1fb)]&&!_0x1a7d1b['excluded'])_0x3ccaf8[_0x117d1c(0x251)]({'coin':_0x1a7d1b[_0x117d1c(0x243)],'symbol':_0x1a7d1b[_0x117d1c(0x221)]});});let _0x3b1644=[];try{const _0x437c46=fns[_0x5ad868(0x28d)](fns['parseISO'](_0x433eef[_0x5ad868(0x23d)][_0x5ad868(0x2ad)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0xf01b89 of _0x3ccaf8){if(_0xf01b89[_0x5ad868(0x243)]!=config[_0x5ad868(0x1fb)])_0xa14309=await exchange[_0x5ad868(0x2e1)](_0xf01b89[_0x5ad868(0x221)],Date[_0x5ad868(0x257)](_0x437c46));_0xa14309[_0x5ad868(0x212)](_0x58bb98=>{const _0x4101ae=_0x5ad868,_0x43b5b1=_0xf01b89[_0x4101ae(0x221)][_0x4101ae(0x2b5)](config[_0x4101ae(0x1fb)]+'/'),_0x588929=fns[_0x4101ae(0x28d)](fns['parseISO'](_0x58bb98[_0x4101ae(0x2cf)]),_0x4101ae(0x2ac)),_0x426227=fns[_0x4101ae(0x28d)](fns[_0x4101ae(0x2ea)](_0x58bb98[_0x4101ae(0x2cf)]),_0x4101ae(0x2c2));let _0x13eba0;if(_0x58bb98['side']==_0x4101ae(0x29f)&&_0x43b5b1==![])_0x13eba0=_0x58bb98[_0x4101ae(0x28a)];if(_0x58bb98[_0x4101ae(0x2a5)]==_0x4101ae(0x29f)&&_0x43b5b1==!![])_0x13eba0=-_0x58bb98[_0x4101ae(0x28a)]*_0x58bb98[_0x4101ae(0x2be)];if(_0x58bb98[_0x4101ae(0x2a5)]==_0x4101ae(0x232)&&_0x43b5b1==![])_0x13eba0=-_0x58bb98[_0x4101ae(0x28a)];if(_0x58bb98[_0x4101ae(0x2a5)]==_0x4101ae(0x232)&&_0x43b5b1==!![])_0x13eba0=_0x58bb98[_0x4101ae(0x28a)]*_0x58bb98['price'];_0x3b1644[_0x4101ae(0x251)]({'timestamp':_0x588929,'date':_0x426227,'coin':_0xf01b89[_0x4101ae(0x243)],'symbol':_0xf01b89[_0x4101ae(0x221)],'type':_0x58bb98[_0x4101ae(0x1ce)],'side':_0x58bb98[_0x4101ae(0x2a5)],'reverse':_0x43b5b1,'amount':formatResult(_0x58bb98[_0x4101ae(0x244)],0x8),'filled':formatResult(_0x58bb98[_0x4101ae(0x244)],0x8),'coinamount':formatResult(_0x13eba0,0x8),'price':formatResult(_0x58bb98['price'],0x8)});let _0x13c73f;if(_0x58bb98[_0x4101ae(0x2a5)]==_0x4101ae(0x29f)&&_0x43b5b1==![])_0x13c73f=-_0x58bb98[_0x4101ae(0x28a)]*_0x58bb98['price'];if(_0x58bb98[_0x4101ae(0x2a5)]==_0x4101ae(0x29f)&&_0x43b5b1==!![])_0x13c73f=_0x58bb98['amount'];if(_0x58bb98[_0x4101ae(0x2a5)]==_0x4101ae(0x232)&&_0x43b5b1==![])_0x13c73f=_0x58bb98[_0x4101ae(0x28a)]*_0x58bb98['price'];if(_0x58bb98['side']==_0x4101ae(0x232)&&_0x43b5b1==!![])_0x13c73f=-_0x58bb98['amount'];_0x3b1644[_0x4101ae(0x251)]({'date':_0x426227,'coin':config['basecoin'],'coinamount':formatResult(_0x13c73f,0x8)});});}_0x3b1644[_0x5ad868(0x1d4)]((_0x1c3dec,_0x150061)=>_0x1c3dec[_0x5ad868(0x298)]>_0x150061[_0x5ad868(0x298)]?0x1:_0x150061['timestamp']>_0x1c3dec['timestamp']?-0x1:0x0),dbLogs[_0x5ad868(0x218)](_0x5ad868(0x29e))[_0x5ad868(0x280)]()[_0x5ad868(0x2de)](),_0x3b1644[_0x5ad868(0x212)](_0x7f0e7d=>{const _0xbe02c=_0x5ad868;let _0x21472a;_0x7f0e7d['coin']!=config[_0xbe02c(0x1fb)]&&(_0x21472a={'time':_0x7f0e7d[_0xbe02c(0x298)],'type':'order','event':_0xbe02c(0x203)+_0x7f0e7d[_0xbe02c(0x221)]+'\x20'+_0x7f0e7d[_0xbe02c(0x2a5)]+'\x20#'+_0x7f0e7d['amount']+'\x20@'+_0x7f0e7d[_0xbe02c(0x2be)]},dbLogs[_0xbe02c(0x218)](_0xbe02c(0x29e))['push'](_0x21472a)[_0xbe02c(0x2de)]());});const _0x34949b=fns['eachDayOfInterval']({'start':new Date(_0x433eef['startdate']),'end':new Date()})[_0x5ad868(0x23f)](_0x4ac14c=>fns[_0x5ad868(0x28d)](_0x4ac14c,_0x5ad868(0x2c2)));let _0x5cb439=[];_0x433eef[_0x5ad868(0x1d0)][_0x5ad868(0x212)](_0x3effba=>{const _0x2fd241=_0x5ad868;if(!_0x3effba[_0x2fd241(0x27a)]){_0x5cb439[_0x3effba['coin']]=[];let _0xe3759=_0x3effba[_0x2fd241(0x299)];_0x34949b['forEach']((_0x525a19,_0x4454cb)=>{const _0x18c87e=_0x2fd241;let _0x64e1fe=_0x3b1644[_0x18c87e(0x1da)](_0x5a3591=>_0x5a3591['coin']==_0x3effba[_0x18c87e(0x243)]&&_0x5a3591['date']==_0x525a19);if(_0x64e1fe[_0x18c87e(0x2cc)]!=0x0){let _0x102fbf=_0x64e1fe[_0x18c87e(0x1fd)]((_0x405765,_0x573cc8)=>{return _0x405765+=_0x573cc8['coinamount'],_0x405765;},0x0);_0xe3759+=_0x102fbf;}_0x5cb439[_0x3effba[_0x18c87e(0x243)]][_0x525a19]=_0xe3759;});}});const _0x189f25=[..._0x3ccaf8];_0x189f25[_0x5ad868(0x251)]({'coin':stablecoins[_0x5ad868(0x27f)][_0x5ad868(0x243)],'symbol':stablecoins[_0x5ad868(0x27f)][_0x5ad868(0x221)]}),_0x189f25['push']({'coin':stablecoins[_0x5ad868(0x248)][_0x5ad868(0x243)],'symbol':stablecoins[_0x5ad868(0x248)][_0x5ad868(0x221)]});let _0x10e017=[];for(const _0x1a2b0f of _0x189f25){_0x10e017[_0x1a2b0f[_0x5ad868(0x243)]]=await getCloses(_0x1a2b0f[_0x5ad868(0x221)],new Date(_0x433eef[_0x5ad868(0x23d)]));}dbPerformance[_0x5ad868(0x218)](_0x5ad868(0x272))[_0x5ad868(0x280)]()[_0x5ad868(0x2de)](),_0x34949b[_0x5ad868(0x212)]((_0x5c4e13,_0x9be8d8)=>{const _0x2ce42e=_0x5ad868;let _0xbcfb24,_0x245de0=[];_0x9be8d8==0x0?(_0x433eef['portfolio'][_0x2ce42e(0x212)](_0x299ade=>{const _0x47572f=_0x2ce42e;!_0x299ade[_0x47572f(0x27a)]&&_0x245de0['push']({'coin':_0x299ade[_0x47572f(0x243)],'number':_0x299ade[_0x47572f(0x299)],'price':_0x299ade['startprice']});}),_0xbcfb24={'date':_0x5c4e13,'eur':_0x10e017[stablecoins['eur'][_0x2ce42e(0x243)]][_0x9be8d8],'usd':_0x10e017[stablecoins[_0x2ce42e(0x248)][_0x2ce42e(0x243)]][_0x9be8d8],'coins':_0x245de0}):(_0x433eef[_0x2ce42e(0x1d0)][_0x2ce42e(0x212)](_0x2a6bf6=>{const _0x38a599=_0x2ce42e;!_0x2a6bf6[_0x38a599(0x27a)]&&_0x245de0[_0x38a599(0x251)]({'coin':_0x2a6bf6['coin'],'number':_0x5cb439[_0x2a6bf6[_0x38a599(0x243)]][_0x5c4e13],'price':_0x2a6bf6['coin']==config[_0x38a599(0x1fb)]?0x1:_0x10e017[_0x2a6bf6[_0x38a599(0x243)]][_0x9be8d8]});}),_0xbcfb24={'date':_0x5c4e13,'eur':_0x10e017[stablecoins['eur'][_0x2ce42e(0x243)]][_0x9be8d8],'usd':_0x10e017[stablecoins[_0x2ce42e(0x248)][_0x2ce42e(0x243)]][_0x9be8d8],'coins':_0x245de0}),dbPerformance[_0x2ce42e(0x218)]('data')['push'](_0xbcfb24)[_0x2ce42e(0x2de)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x35f26e of _0x3b1644){_0x35f26e[_0x5ad868(0x243)]!=config[_0x5ad868(0x1fb)]&&await updateCoinResults(_0x35f26e);}logHistory(_0x5ad868(0x21e),_0x5ad868(0x26a));}catch(_0x1c0df7){await handleError(_0x1c0df7,_0x5ad868(0x2a0));}}async function validate24hChanges(){const _0x238d97=_0x2d7d06;let _0x71e9db;for(const _0x485cbd of currentCoins){if(_0x485cbd['coin']!=config[_0x238d97(0x1fb)]){let _0x5ce35e;_0x485cbd[_0x238d97(0x24d)]?_0x5ce35e=formatResult((0x1/(global[_0x238d97(0x247)][noslash(_0x485cbd['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x5ce35e=global['change'][noslash(_0x485cbd['symbol'])],_0x5ce35e<config['change24h']&&(logHistory('error',_0x485cbd[_0x238d97(0x243)]+_0x238d97(0x1eb)+_0x5ce35e+'%'),logHistory('error',_0x238d97(0x25f)),logHistory(_0x238d97(0x277),_0x238d97(0x1ed)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x924365,_0x441a91,_0x5e1ee2=undefined){const _0x488a5e=_0x2d7d06,_0x238307='1d';let _0x2afe0a,_0x3508c6;const _0x402f33=fns[_0x488a5e(0x271)](new Date(),_0x441a91)+0x1;try{const _0x5c324e=exchange[_0x488a5e(0x20f)]()-_0x402f33*0x18*0xe10*0x3e8;_0x2afe0a=await exchange['fetchOHLCV'](_0x924365,_0x238307,_0x5c324e,_0x5e1ee2),_0x3508c6=await exchange[_0x488a5e(0x2bc)](_0x924365);}catch(_0x28385c){await handleError(_0x28385c,_0x488a5e(0x2d3));}let _0x36b9a5=ohlcvToCloses(_0x2afe0a);return _0x36b9a5[_0x488a5e(0x251)](_0x3508c6[_0x924365][_0x488a5e(0x2b1)]),_0x36b9a5;}function ohlcvToCloses(_0x432320){const _0x1fd091=_0x2d7d06;let _0x4ac3c6=[];return _0x432320[_0x1fd091(0x212)](function(_0x21d8a4){_0x4ac3c6['push'](_0x21d8a4[0x4]);}),_0x4ac3c6;}function oneTimeMigration(){const _0x280de7=_0x2d7d06;let _0x11992b=dbLogs[_0x280de7(0x218)]('version')[_0x280de7(0x227)]();if(_0x11992b!='2.3.5'){dbLogs[_0x280de7(0x234)](_0x280de7(0x288),'2.3.5')[_0x280de7(0x2de)]();let _0x564cae=[];const _0x52be8c=dbLogs['get'](_0x280de7(0x29e))[_0x280de7(0x227)]();_0x52be8c[_0x280de7(0x212)](_0x56f480=>{const _0x368f25=_0x280de7;_0x564cae[_0x368f25(0x251)]({'time':_0x56f480[_0x368f25(0x1e3)],'type':_0x56f480[_0x368f25(0x1ce)],'event':_0x56f480[_0x368f25(0x1d5)]});}),dbLogs[_0x280de7(0x218)]('logs')[_0x280de7(0x269)](_0x564cae)[_0x280de7(0x2de)]();}let _0x4a8015=dbConfig['get'](_0x280de7(0x288))[_0x280de7(0x227)]();if(_0x4a8015!='2.3.5'){dbConfig['set'](_0x280de7(0x288),_0x280de7(0x252))[_0x280de7(0x2de)]();let _0x1afc2c=dbConfig[_0x280de7(0x218)](_0x280de7(0x2c1))[_0x280de7(0x2bf)]({'botID':botID})[_0x280de7(0x227)]();if(_0x1afc2c){let _0x5cfae0=[];_0x1afc2c['portfolio'][_0x280de7(0x212)](_0x6de5c8=>{const _0x17257c=_0x280de7;_0x5cfae0[_0x17257c(0x251)]({'coin':_0x6de5c8[_0x17257c(0x243)],'number':_0x6de5c8[_0x17257c(0x299)],'price':_0x6de5c8[_0x17257c(0x282)]}),delete _0x6de5c8[_0x17257c(0x299)],delete _0x6de5c8[_0x17257c(0x282)];});if(_0x5cfae0['length']!==0x0)fs['writeFile'](configbackuppath+(_0x280de7(0x259)+botID+_0x280de7(0x216)),JSON[_0x280de7(0x2bd)](_0x5cfae0,null,0x4),function(_0x452fe0){if(_0x452fe0){}});const _0x4e584c=(_0x2f1bcf,_0x243a2a)=>{let _0x71076e=[];_0x243a2a['forEach'](_0x5b7c47=>{const _0x3c879d=_0x361d,_0x3db1d5=_0x2f1bcf['find'](_0x5c6be2=>_0x5c6be2[_0x3c879d(0x243)]==_0x5b7c47['coin']);if(!_0x3db1d5)_0x71076e[_0x3c879d(0x251)](_0x5b7c47);});let _0x23c4f8=[];return _0x2f1bcf['forEach'](_0x43e34b=>{const _0x35d162=_0x361d,_0x3d16e5=_0x243a2a[_0x35d162(0x2bf)](_0x283779=>_0x283779['coin']==_0x43e34b[_0x35d162(0x243)]);if(!_0x3d16e5||_0x3d16e5[_0x35d162(0x25a)]==0x0&&_0x43e34b['number']!=0x0)_0x23c4f8[_0x35d162(0x251)](_0x43e34b);}),{'missingDay1':_0x71076e,'notInDay2':_0x23c4f8};},_0x22c092=dbPerformance[_0x280de7(0x218)](_0x280de7(0x272))['cloneDeep']()[_0x280de7(0x227)]();if(_0x22c092['length']>0x1){const {missingDay1:_0x511b83,notInDay2:_0x160833}=_0x4e584c(_0x5cfae0,_0x22c092[0x1]['coins']);_0x5cfae0=[..._0x5cfae0,..._0x511b83],_0x160833[_0x280de7(0x212)](_0x491649=>{const _0x548d15=_0x280de7;let _0x55d208=_0x5cfae0[_0x548d15(0x1d6)](_0x1a7627=>_0x1a7627['coin']==_0x491649[_0x548d15(0x243)]);_0x55d208!=-0x1&&_0x5cfae0[_0x548d15(0x22b)](_0x55d208,0x1);});}_0x5cfae0['sort']((_0x544806,_0x545c6d)=>_0x544806[_0x280de7(0x243)]>_0x545c6d['coin']?0x1:_0x545c6d[_0x280de7(0x243)]>_0x544806[_0x280de7(0x243)]?-0x1:0x0);let _0xddfc4e=[{'date':_0x1afc2c['startdate'],'changes':_0x5cfae0}];_0x22c092['length']>0x2&&_0x22c092[_0x280de7(0x212)]((_0xa5de73,_0x4af56e)=>{const _0x396ca1=_0x280de7;if(_0x4af56e>0x0&&_0x4af56e<_0x22c092['length']-0x1){const {missingDay1:_0x107190,notInDay2:_0x5c7b69}=_0x4e584c(_0x22c092[_0x4af56e]['coins'],_0x22c092[_0x4af56e+0x1][_0x396ca1(0x2ba)]);_0x5cfae0=[],(_0x107190[_0x396ca1(0x2cc)]!=0x0||_0x5c7b69[_0x396ca1(0x2cc)]!=0x0)&&(_0x107190['length']!=0x0&&_0x5cfae0[_0x396ca1(0x251)](..._0x107190),_0x5c7b69[_0x396ca1(0x2cc)]!=0x0&&(_0x5c7b69[_0x396ca1(0x212)](_0x34f95c=>{const _0x58ceab=_0x396ca1;_0x34f95c['number']=-_0x34f95c[_0x58ceab(0x25a)];}),_0x5cfae0[_0x396ca1(0x251)](..._0x5c7b69)),_0x5cfae0[_0x396ca1(0x1d4)]((_0x578c5f,_0x2f0920)=>_0x578c5f[_0x396ca1(0x243)]>_0x2f0920[_0x396ca1(0x243)]?0x1:_0x2f0920[_0x396ca1(0x243)]>_0x578c5f['coin']?-0x1:0x0),_0xddfc4e['push']({'date':_0x22c092[_0x4af56e+0x1][_0x396ca1(0x2d6)],'changes':_0x5cfae0}));}}),dbConfig[_0x280de7(0x218)]('bot')[_0x280de7(0x2bf)]({'botID':botID})[_0x280de7(0x269)]({..._0x1afc2c,'liquidity':_0xddfc4e})[_0x280de7(0x2de)]();}}config=getConfiguration(botID);let _0x5d1ca6=dbPerformance[_0x280de7(0x218)](_0x280de7(0x288))[_0x280de7(0x227)]();_0x5d1ca6!=_0x280de7(0x252)&&(dbPerformance[_0x280de7(0x234)](_0x280de7(0x288),'2.3.5')[_0x280de7(0x2de)](),setStartDatePerformance());let _0x6aa337=dbCoinResults[_0x280de7(0x218)]('version')[_0x280de7(0x227)]();_0x6aa337!=_0x280de7(0x2a4)&&(dbCoinResults[_0x280de7(0x218)](_0x280de7(0x2ba))[_0x280de7(0x280)]()[_0x280de7(0x2de)](),dbCoinResults['set'](_0x280de7(0x288),_0x280de7(0x2a4))['write'](),dbCoinResults[_0x280de7(0x234)](_0x280de7(0x1ff),getTimeStamp())[_0x280de7(0x2de)]());}function getConfiguration(_0x44216e){const _0x762e98=_0x2d7d06;let _0x4dd2d8=dbConfig[_0x762e98(0x218)]('bot')[_0x762e98(0x2bf)]({'botID':_0x44216e})['value']();if(_0x4dd2d8){let _0x203295=![];typeof _0x4dd2d8[_0x762e98(0x25b)]==_0x762e98(0x2b8)&&(_0x4dd2d8={..._0x4dd2d8,'threshold':Number(_0x4dd2d8[_0x762e98(0x25b)])},_0x203295=!![]),_0x4dd2d8[_0x762e98(0x2b2)]==null&&(_0x4dd2d8={..._0x4dd2d8,'change24h':-0x14},_0x203295=!![]),_0x203295&&(_0x4dd2d8={'botID':_0x4dd2d8[_0x762e98(0x2eb)],'exchange':_0x4dd2d8[_0x762e98(0x1f3)],'apiKey':_0x4dd2d8[_0x762e98(0x2c3)],'apiSecret':_0x4dd2d8['apiSecret'],'basecoin':_0x4dd2d8[_0x762e98(0x1fb)],'botname':_0x4dd2d8['botname'],'showname':_0x4dd2d8['showname'],'threshold':_0x4dd2d8[_0x762e98(0x25b)],'ordertype':_0x4dd2d8['ordertype'],'timeout':_0x4dd2d8[_0x762e98(0x1d8)],'startdate':_0x4dd2d8['startdate'],'recreate':_0x4dd2d8[_0x762e98(0x26f)],'timeshift':_0x4dd2d8[_0x762e98(0x262)],'headless':_0x4dd2d8[_0x762e98(0x211)],'cooldown':_0x4dd2d8['cooldown'],'change24h':_0x4dd2d8[_0x762e98(0x2b2)],'emojibuy':_0x4dd2d8['emojibuy'],'emojisell':_0x4dd2d8['emojisell'],'portfolio':_0x4dd2d8['portfolio'],'liquidity':_0x4dd2d8[_0x762e98(0x26d)]},dbConfig[_0x762e98(0x218)](_0x762e98(0x2c1))['remove']()[_0x762e98(0x2de)](),dbConfig[_0x762e98(0x218)]('bot')['push'](_0x4dd2d8)[_0x762e98(0x2de)]());}else _0x4dd2d8={'botID':_0x44216e,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x762e98(0x229)+_0x44216e,'showname':![],'threshold':0x3,'ordertype':_0x762e98(0x215),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x762e98(0x262)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x4dd2d8;}function emittedConfiguration(){const _0x4ee973=_0x2d7d06;let _0x124910;return config['apiKey']==''?_0x124910=config:_0x124910={...config,'apiKey':_0x4ee973(0x27e),'apiSecret':_0x4ee973(0x27e)},_0x124910;}function getSettings(){const _0x199624=_0x2d7d06;return dbSettings[_0x199624(0x218)](_0x199624(0x2a6))['value']();}function getSecure(){const _0x33cd55=_0x2d7d06;return dbSecure[_0x33cd55(0x218)]('secure')['value']()||{};}function updateTimeshift(_0x30b94a){const _0x14dbe7=_0x2d7d06;let _0xb83be8=dbConfig[_0x14dbe7(0x218)](_0x14dbe7(0x2c1))[_0x14dbe7(0x2bf)]({'botID':botID})[_0x14dbe7(0x227)]();_0xb83be8&&dbConfig['get'](_0x14dbe7(0x2c1))['find']({'botID':botID})[_0x14dbe7(0x269)]({'timeshift':_0x30b94a})[_0x14dbe7(0x2de)](),config[_0x14dbe7(0x262)]=_0x30b94a,proxyEmit(_0x14dbe7(0x1f9),emittedConfiguration());}async function storeConfiguration(_0x3c60a3){const _0x10d1e3=_0x2d7d06;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x493ff2=dbConfig[_0x10d1e3(0x218)](_0x10d1e3(0x2c1))[_0x10d1e3(0x2bf)]({'botID':botID})[_0x10d1e3(0x227)]();_0x3c60a3={..._0x3c60a3,'apiKey':crypt[_0x10d1e3(0x205)](secure[_0x10d1e3(0x2ab)],_0x3c60a3[_0x10d1e3(0x2c3)])[_0x10d1e3(0x1c9)],'apiSecret':crypt[_0x10d1e3(0x205)](secure[_0x10d1e3(0x2ab)],_0x3c60a3[_0x10d1e3(0x270)])[_0x10d1e3(0x1c9)]};if(_0x493ff2){if(_0x3c60a3[_0x10d1e3(0x2c3)]==_0x10d1e3(0x27e))_0x3c60a3['apiKey']=config[_0x10d1e3(0x2c3)];if(_0x3c60a3[_0x10d1e3(0x270)]==_0x10d1e3(0x27e))_0x3c60a3['apiSecret']=config['apiSecret'];dbConfig[_0x10d1e3(0x218)](_0x10d1e3(0x2c1))[_0x10d1e3(0x2bf)]({'botID':botID})[_0x10d1e3(0x269)](_0x3c60a3)[_0x10d1e3(0x2de)]();}else dbConfig[_0x10d1e3(0x218)](_0x10d1e3(0x2c1))[_0x10d1e3(0x251)](_0x3c60a3)[_0x10d1e3(0x2de)](),process[_0x10d1e3(0x219)]({'status':_0x10d1e3(0x20e),'live':'running'},_0x879771=>{});config={..._0x3c60a3},setStartDatePerformance(),process[_0x10d1e3(0x219)]({'botname':_0x3c60a3[_0x10d1e3(0x230)]},_0x5b443b=>{}),updateBotManager();const _0x2d532f=getNormalizedPerformance();getStartingBalances(_0x2d532f),emitPerformance(_0x2d532f),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0xe433ea){const _0x53c0ad=_0x2d7d06,_0x40aec9={...config,'headless':_0xe433ea['headless']};let _0x20c387=dbConfig[_0x53c0ad(0x218)](_0x53c0ad(0x2c1))['find']({'botID':botID})[_0x53c0ad(0x227)]();_0x20c387&&dbConfig[_0x53c0ad(0x218)](_0x53c0ad(0x2c1))['find']({'botID':botID})[_0x53c0ad(0x269)](_0x40aec9)[_0x53c0ad(0x2de)](),config={..._0x40aec9},updateBotManager(),proxyEmit(_0x53c0ad(0x1f9),emittedConfiguration());}function noslash(_0x256af0){const _0x215d87=_0x2d7d06;return _0x256af0[_0x215d87(0x2ad)]('/','');}async function updateNumberCoins(_0x173f17){const _0x38174b=_0x2d7d06;_0x173f17[_0x38174b(0x1e7)]&&_0x173f17[_0x38174b(0x1e7)]==_0x38174b(0x2a9)&&(_0x173f17[_0x38174b(0x1c7)]!=lastOutboundEventTime&&(lastOutboundEventTime=_0x173f17[_0x38174b(0x1c7)],currentCoins=await getCoins(),validateOrders()));if(_0x173f17['eventType']&&_0x173f17[_0x38174b(0x1e7)]==_0x38174b(0x2d4)){if(_0x173f17[_0x38174b(0x285)]=='FILLED'){if(lastOrders)lastOrders[_0x38174b(0x212)](async _0x3b00b2=>{const _0x274039=_0x38174b;if(_0x3b00b2[_0x274039(0x2ae)]==_0x173f17[_0x274039(0x2ae)]&&_0x3b00b2[_0x274039(0x244)]==0x0){_0x3b00b2['price']=_0x173f17['cumulativeQuoteAssetTransactedQty']/_0x173f17[_0x274039(0x207)];if(_0x3b00b2[_0x274039(0x24d)])_0x3b00b2[_0x274039(0x244)]=_0x173f17[_0x274039(0x207)]*_0x3b00b2[_0x274039(0x2be)];else _0x3b00b2[_0x274039(0x244)]=_0x173f17[_0x274039(0x207)];_0x3b00b2['fee']={'cost':_0x173f17[_0x274039(0x2a2)],'currency':_0x173f17['commissionAsset']},currentCoins=await getCoins(),validateOrders(),await updateCoinResults(_0x3b00b2);}});}}}async function getCoins(_0x43910f=!![],_0x1261fa=config[_0x2d7d06(0x1fb)]){const _0x12bf05=_0x2d7d06;let _0x1b905c,_0x1935ae=[],_0x12ba3d=[],_0x5e597e=[];try{_0x1b905c=await exchange['fetchBalance'](),mybalances=_0x1b905c[_0x12bf05(0x289)];if(!_0x43910f)for(const [_0x283d28,_0x28dfcf]of Object[_0x12bf05(0x24c)](mybalances)){_0x5e597e[_0x12bf05(0x251)](_0x283d28);}else config['portfolio'][_0x12bf05(0x212)](_0x5f33c4=>{const _0x25d18b=_0x12bf05;if(!_0x5f33c4['excluded'])_0x5e597e[_0x25d18b(0x251)](_0x5f33c4[_0x25d18b(0x243)]);});if(_0x1261fa=='')for(const [_0x223e12,_0x12ad41]of Object[_0x12bf05(0x24c)](mybalances)){_0x12ad41[_0x12bf05(0x276)]()!=0x0&&_0x12ba3d[_0x12bf05(0x251)]({'coin':_0x223e12});}else{let _0x1b70d9=0x0,_0x2e8a49=![];for(const [_0x76aeb5,_0x583b97]of Object[_0x12bf05(0x24c)](mybalances)){if(_0x5e597e['includes'](_0x76aeb5)){const _0x34c2cc=config[_0x12bf05(0x1d0)][_0x12bf05(0x2bf)](_0x236f98=>_0x236f98[_0x12bf05(0x243)]==_0x76aeb5),_0x37f331=_0x76aeb5+'/'+_0x1261fa,_0x338983=_0x1261fa+'/'+_0x76aeb5;_0x2e8a49=![];if((_0x583b97[_0x12bf05(0x276)]()!=0x0||_0x34c2cc)&&(allSymbols[_0x12bf05(0x2b5)](_0x37f331)||_0x76aeb5==_0x1261fa)){if(_0x76aeb5!=_0x1261fa){_0x1935ae[_0x12bf05(0x251)](_0x37f331);const _0x4cdccc=await exchange[_0x12bf05(0x2a7)](_0x37f331);_0x4cdccc['length']>0x0&&(_0x2e8a49=!![]);}_0x12ba3d['push']({'coin':_0x76aeb5,'symbol':_0x37f331,'reverse':![],'number':Math[_0x12bf05(0x2f5)](_0x583b97+(_0x34c2cc&&_0x34c2cc['offset']||0x0),0x0),'order':_0x2e8a49});}else{if((_0x583b97['toString']()!=0x0||_0x34c2cc)&&allSymbols['includes'](_0x338983)){if(_0x76aeb5!=_0x1261fa){_0x1935ae[_0x12bf05(0x251)](_0x338983);const _0x1903fd=await exchange[_0x12bf05(0x2a7)](_0x338983);_0x1903fd['length']>0x0&&(_0x2e8a49=!![]);}_0x12ba3d['push']({'coin':_0x76aeb5,'symbol':_0x338983,'reverse':!![],'number':Math[_0x12bf05(0x2f5)](_0x583b97+(_0x34c2cc&&_0x34c2cc[_0x12bf05(0x2cb)]||0x0),0x0),'order':_0x2e8a49});}}}if(_0x2e8a49)_0x1b70d9++;}_0x1b70d9==0x0&&(lockOrders&&validateOrders(_0x12bf05(0x2d0)));}}catch(_0x49f98c){if(!_0x43910f){if(_0x49f98c[_0x12bf05(0x276)]()[_0x12bf05(0x2b5)](_0x12bf05(0x20c)))return logHistory(_0x12bf05(0x277),_0x12bf05(0x245)),![];else{if(_0x49f98c[_0x12bf05(0x276)]()['includes'](_0x12bf05(0x27c)))return logHistory(_0x12bf05(0x277),'Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x49f98c[_0x12bf05(0x276)]()[_0x12bf05(0x2b5)](_0x12bf05(0x21b)))return logHistory(_0x12bf05(0x277),_0x12bf05(0x2b9)),![];else await handleError(_0x49f98c,'getCoins()');}}}else await handleError(_0x49f98c,_0x12bf05(0x2d7));}return _0x12ba3d;}async function getPortfolio(_0x3316cb){const _0x310608=_0x2d7d06;let _0x4901c3=[],_0x467bd5=[],_0x3322b2,_0x485bb5=[],_0x27e80f,_0x19dacf;_0x3316cb[_0x310608(0x2c3)]===_0x310608(0x27e)||_0x3316cb[_0x310608(0x270)]===_0x310608(0x27e)?(_0x27e80f=config['apiKey'],_0x19dacf=config['apiSecret']):(_0x27e80f=_0x3316cb[_0x310608(0x2c3)],_0x19dacf=_0x3316cb['apiSecret']);await initExchange(_0x27e80f,_0x19dacf);let _0x198019=await loadSymbols();if(_0x198019){_0x485bb5=await getCoins(![],_0x3316cb[_0x310608(0x1fb)]);if(_0x485bb5===![])proxyEmit(_0x310608(0x1d0),![]);else{if(_0x3316cb[_0x310608(0x1fb)]=='')proxyEmit(_0x310608(0x1d0),_0x485bb5);else{_0x485bb5['forEach'](_0x221d28=>{const _0x4bfa5f=_0x310608;if(_0x221d28[_0x4bfa5f(0x243)]!=_0x3316cb['basecoin'])_0x4901c3['push'](_0x221d28[_0x4bfa5f(0x221)]);});try{_0x467bd5=await exchange['fetchTickers'](_0x4901c3);}catch(_0x11893a){await handleError(_0x11893a,_0x310608(0x297));}_0x485bb5[_0x310608(0x212)](_0x19116b=>{const _0x3f0efa=_0x310608;_0x19116b['coin']!=_0x3316cb[_0x3f0efa(0x1fb)]?_0x3322b2=_0x19116b['reverse']?0x1/_0x467bd5[_0x19116b[_0x3f0efa(0x221)]][_0x3f0efa(0x2b1)]:_0x467bd5[_0x19116b['symbol']][_0x3f0efa(0x2b1)]:_0x3322b2=0x1,_0x19116b['price']=formatResult(_0x3322b2,0x8);}),proxyEmit(_0x310608(0x1d0),_0x485bb5);}}}else proxyEmit(_0x310608(0x1d0),![]);}function checkMinimums(_0x3456e9){const _0x25844a=_0x2d7d06;let _0x29542e=!![];const _0x4cd933=!_0x3456e9[_0x25844a(0x24d)]?markets[_0x3456e9[_0x25844a(0x221)]][_0x25844a(0x274)][_0x25844a(0x28a)][_0x25844a(0x228)]:markets[_0x3456e9['symbol']]['limits'][_0x25844a(0x2d9)]['min'],_0x10b6b1=!_0x3456e9['reverse']?markets[_0x3456e9[_0x25844a(0x221)]]['limits'][_0x25844a(0x2d9)][_0x25844a(0x228)]:markets[_0x3456e9['symbol']][_0x25844a(0x274)][_0x25844a(0x28a)][_0x25844a(0x228)];if(Math['abs'](_0x3456e9[_0x25844a(0x2e8)])<_0x4cd933)_0x29542e=![];if(Math[_0x25844a(0x2f3)](_0x3456e9['trade'])*_0x3456e9['last']<_0x10b6b1)_0x29542e=![];if(_0x3456e9[_0x25844a(0x2a5)]==_0x25844a(0x232)){let _0x3e9a40=config[_0x25844a(0x1d0)][_0x25844a(0x2bf)](_0x5ac817=>_0x5ac817['coin']==_0x3456e9[_0x25844a(0x243)]);if(_0x3e9a40['offset']>0x0){if(Math[_0x25844a(0x2f3)](_0x3456e9['trade'])>_0x3456e9[_0x25844a(0x25a)]-_0x3e9a40[_0x25844a(0x2cb)])_0x29542e=![];}else{if(Math[_0x25844a(0x2f3)](_0x3456e9[_0x25844a(0x2e8)])>_0x3456e9['number'])_0x29542e=![];}}if(_0x3456e9[_0x25844a(0x2a5)]==_0x25844a(0x29f)){let _0x11f2d9=config['portfolio'][_0x25844a(0x2bf)](_0x978ba4=>_0x978ba4['coin']==config[_0x25844a(0x1fb)]),_0x584b55=currentCoins[_0x25844a(0x2bf)](_0x2d6ce1=>_0x2d6ce1[_0x25844a(0x243)]==config['basecoin']);if(_0x11f2d9[_0x25844a(0x2cb)]>0x0){if(Math[_0x25844a(0x2f3)](_0x3456e9[_0x25844a(0x2e8)])*_0x3456e9[_0x25844a(0x2b1)]>_0x584b55[_0x25844a(0x25a)]-_0x11f2d9[_0x25844a(0x2cb)])_0x29542e=![];}else{if(Math[_0x25844a(0x2f3)](_0x3456e9[_0x25844a(0x2e8)])*_0x3456e9[_0x25844a(0x2b1)]>_0x584b55[_0x25844a(0x25a)])_0x29542e=![];}}return _0x29542e;}async function getBalances(){const _0x5b3d33=_0x2d7d06;let _0x5a6509=0x0,_0x371b3a;const _0x5cc22d=config[_0x5b3d33(0x25b)];if(config['headless']&&config[_0x5b3d33(0x2b2)]<0x0)await validate24hChanges();currentCoins[_0x5b3d33(0x212)](_0x3a2476=>{const _0x50702b=_0x5b3d33;if(_0x3a2476['coin']!=config[_0x50702b(0x1fb)]){let _0x13b35a=global[_0x50702b(0x21f)][noslash(_0x3a2476[_0x50702b(0x221)])];_0x371b3a=_0x3a2476[_0x50702b(0x24d)]?0x1/_0x13b35a:_0x13b35a;}else _0x371b3a=0x1;let _0x4cdf4f=_0x3a2476[_0x50702b(0x25a)]*_0x371b3a;_0x5a6509+=_0x4cdf4f,_0x3a2476[_0x50702b(0x2b1)]=formatResult(Number(_0x371b3a),0x8),_0x3a2476[_0x50702b(0x227)]=_0x4cdf4f;}),currentCoins[_0x5b3d33(0x212)](_0x369fd3=>{const _0x952c1e=_0x5b3d33;let _0xb0f553=config[_0x952c1e(0x1d0)][_0x952c1e(0x2bf)](_0x1da48a=>_0x1da48a['coin']==_0x369fd3[_0x952c1e(0x243)]),_0x424332=Number(_0xb0f553[_0x952c1e(0x204)]),_0x116ec0=_0x369fd3[_0x952c1e(0x227)]/_0x5a6509*0x64,_0x281df7=_0x424332*_0x5a6509/0x64/_0x369fd3[_0x952c1e(0x2b1)]-_0x369fd3[_0x952c1e(0x25a)];_0x369fd3[_0x952c1e(0x204)]=formatResult(_0x116ec0,0x3),_0x369fd3[_0x952c1e(0x2f0)]=formatResult(_0x424332,0x3),_0x369fd3[_0x952c1e(0x2e8)]=formatResult(_0x281df7,0x8),_0x369fd3[_0x952c1e(0x2a5)]='',_0x369fd3[_0x952c1e(0x1fa)]=![];if(_0x369fd3[_0x952c1e(0x243)]!=config[_0x952c1e(0x1fb)]){if(_0x369fd3[_0x952c1e(0x204)]>_0x424332)_0x369fd3[_0x952c1e(0x2a5)]=_0x952c1e(0x232),_0x369fd3[_0x952c1e(0x1fa)]=checkMinimums(_0x369fd3);else _0x369fd3[_0x952c1e(0x204)]<_0x424332&&(_0x369fd3[_0x952c1e(0x2a5)]=_0x952c1e(0x29f),_0x369fd3[_0x952c1e(0x1fa)]=checkMinimums(_0x369fd3));}_0x369fd3['delta']=_0x369fd3['distribution']/_0x369fd3[_0x952c1e(0x2f0)]-0x1;}),currentCoins[_0x5b3d33(0x1d4)]((_0x35a00f,_0x198f3d)=>_0x35a00f['delta']<_0x198f3d[_0x5b3d33(0x261)]?0x1:_0x198f3d[_0x5b3d33(0x261)]<_0x35a00f[_0x5b3d33(0x261)]?-0x1:0x0);const _0x5a8745=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5a8745[_0x5b3d33(0x27f)],'usd':_0x5a8745[_0x5b3d33(0x248)],'portfolio':JSON[_0x5b3d33(0x2bd)](currentCoins),'threshold':_0x5cc22d},proxyEmit(_0x5b3d33(0x286),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x5b3d33(0x211)])headlessMode({'portfolio':currentCoins,'threshold':_0x5cc22d});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x5cc22d});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xf34a6b=_0x2d7d06;if(!lastBalances)return;let _0x29be18=[],_0x1177e5,_0x5aa028=JSON['parse'](lastBalances[_0xf34a6b(0x1d0)]);_0x5aa028[_0xf34a6b(0x1d4)]((_0x37f3e6,_0x26cdc1)=>_0x37f3e6[_0xf34a6b(0x243)]>_0x26cdc1['coin']?0x1:_0x26cdc1['coin']>_0x37f3e6[_0xf34a6b(0x243)]?-0x1:0x0),_0x5aa028[_0xf34a6b(0x212)](_0x202578=>{const _0x3fda3b=_0xf34a6b;let _0x14aa60={'coin':_0x202578[_0x3fda3b(0x243)],'number':_0x202578[_0x3fda3b(0x25a)],'price':_0x202578[_0x3fda3b(0x2b1)]};_0x29be18[_0x3fda3b(0x251)](_0x14aa60);});const _0x34862c=await getFiat();_0x1177e5={'date':lastBalances['time'][_0xf34a6b(0x2c0)]('\x20')[0x0],'eur':_0x34862c[_0xf34a6b(0x27f)],'usd':_0x34862c[_0xf34a6b(0x248)],'coins':_0x29be18};let _0x25632c=dbPerformance[_0xf34a6b(0x218)]('data')[_0xf34a6b(0x2bf)]({'date':_0x1177e5[_0xf34a6b(0x2d6)]})[_0xf34a6b(0x227)]();_0x25632c?_0x1177e5['date']!=config[_0xf34a6b(0x23d)]&&dbPerformance[_0xf34a6b(0x218)]('data')['find']({'date':_0x1177e5[_0xf34a6b(0x2d6)]})['assign'](_0x1177e5)[_0xf34a6b(0x2de)]():dbPerformance['get'](_0xf34a6b(0x272))[_0xf34a6b(0x251)](_0x1177e5)[_0xf34a6b(0x2de)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x5654fa=_0x2d7d06;let _0x286154=[];if(dbPerformance[_0x5654fa(0x29a)](_0x5654fa(0x272))[_0x5654fa(0x227)]()){let _0x189b49=dbPerformance[_0x5654fa(0x218)](_0x5654fa(0x272))[_0x5654fa(0x2ec)]()[_0x5654fa(0x28b)](_0x5654fa(0x2d6))[_0x5654fa(0x227)](),_0xb7b423=[...config['liquidity']];_0xb7b423['sort']((_0x5cbecf,_0x4cd3c4)=>_0x5cbecf[_0x5654fa(0x2d6)]>_0x4cd3c4[_0x5654fa(0x2d6)]?-0x1:_0x4cd3c4[_0x5654fa(0x2d6)]>_0x5cbecf[_0x5654fa(0x2d6)]?0x1:0x0);let _0x5a5587=0x1,_0x98b5ea=[],_0x149155=0x0;_0x189b49[_0x5654fa(0x2b7)]()[_0x5654fa(0x24d)]()[_0x5654fa(0x212)]((_0x1930b7,_0xd4ac13)=>{const _0x5b06bf=_0x5654fa;if(_0xb7b423[_0x149155]){if(_0x189b49[_0x189b49['length']-_0xd4ac13]&&_0xb7b423[_0x149155][_0x5b06bf(0x2d6)]==_0x189b49[_0x189b49[_0x5b06bf(0x2cc)]-_0xd4ac13][_0x5b06bf(0x2d6)]){if(_0xd4ac13<_0x189b49[_0x5b06bf(0x2cc)]){let _0x22bfc8=0x0,_0x3bd716=0x0;_0x189b49[_0x189b49[_0x5b06bf(0x2cc)]-_0xd4ac13]['coins'][_0x5b06bf(0x212)](_0x52a11b=>{_0x3bd716+=_0x52a11b['number']*_0x52a11b['price'];}),_0xb7b423[_0x149155][_0x5b06bf(0x1ca)][_0x5b06bf(0x212)](_0xd9b6ea=>{const _0x93e253=_0x5b06bf;_0x22bfc8+=_0xd9b6ea[_0x93e253(0x25a)]*_0xd9b6ea[_0x93e253(0x2be)];}),_0x5a5587*=_0x22bfc8/(_0x3bd716-_0x22bfc8)+0x1;}_0x149155++;}}let _0x41ac55=0x0;_0x1930b7[_0x5b06bf(0x2ba)][_0x5b06bf(0x212)](_0x2b59c1=>{const _0x7f1091=_0x5b06bf;_0x41ac55+=_0x2b59c1['number']*_0x2b59c1[_0x7f1091(0x2be)];}),_0x98b5ea[_0x189b49[_0x5b06bf(0x2cc)]-_0xd4ac13-0x1]=_0x41ac55*(_0x5a5587-0x1);});let _0x32d3c4=[];_0xb7b423=[...config['liquidity']]||[];let _0x393ac0=0x0;_0x149155=0x0,_0x189b49[_0x5654fa(0x212)]((_0x186b93,_0x3e3a2e)=>{const _0x18a1d0=_0x5654fa;if(_0xb7b423[_0x149155]){const _0x45348c=fns[_0x18a1d0(0x257)](_0xb7b423[_0x149155][_0x18a1d0(0x2d6)],'yyyy/MM/dd',new Date()),_0x46d8d7=fns['parse'](_0x186b93[_0x18a1d0(0x2d6)],_0x18a1d0(0x2c2),new Date());if(fns['isEqual'](_0x45348c,_0x46d8d7)){let _0x11c79a=0x0;_0xb7b423[_0x149155][_0x18a1d0(0x1ca)][_0x18a1d0(0x212)](_0x100ae1=>{const _0x34215e=_0x18a1d0;!_0x32d3c4[_0x100ae1['coin']]?_0x32d3c4[_0x100ae1[_0x34215e(0x243)]]=_0x100ae1[_0x34215e(0x25a)]:(_0x11c79a=_0x32d3c4[_0x100ae1['coin']],_0x32d3c4[_0x100ae1[_0x34215e(0x243)]]+=_0x100ae1['number']);const _0xeba687=_0x186b93[_0x34215e(0x2ba)][_0x34215e(0x2bf)](_0x3378ad=>_0x3378ad[_0x34215e(0x243)]==_0x100ae1[_0x34215e(0x243)]);(!_0xeba687||_0xeba687[_0x34215e(0x25a)]==0x0)&&(_0x393ac0+=(-_0x100ae1[_0x34215e(0x25a)]-_0x11c79a)*_0x100ae1['price']);}),_0x149155++;}}_0x186b93['coins'][_0x18a1d0(0x212)]((_0x3241f9,_0x24bbdb)=>{const _0x509a24=_0x18a1d0;_0x32d3c4[_0x3241f9['coin']]&&(_0x3241f9={..._0x3241f9,'initial':_0x32d3c4[_0x3241f9[_0x509a24(0x243)]]}),_0x186b93[_0x509a24(0x2ba)][_0x24bbdb]=_0x3241f9;}),_0x286154[_0x18a1d0(0x251)]({'date':_0x186b93[_0x18a1d0(0x2d6)],'eur':_0x186b93[_0x18a1d0(0x27f)],'usd':_0x186b93[_0x18a1d0(0x248)],'offset':_0x98b5ea[_0x3e3a2e],'netoffset':_0x393ac0,'coins':_0x186b93[_0x18a1d0(0x2ba)]});});}return _0x286154;}function emitPerformance(_0x37d70d){const _0x2ecb2b=_0x2d7d06;_0x37d70d['length']!==0x0?(proxyEmit(_0x2ecb2b(0x2ed),_0x37d70d),lastPerformanceEmitted=getDate()):proxyEmit(_0x2ecb2b(0x2ed),[]);}function getPerf(_0x389a68,_0x191612){const _0x3e397d=_0x2d7d06;let _0x35ccac=0x0,_0x170a88=0x0,_0x4a9d7b=0x0;_0x389a68['coins'][_0x3e397d(0x212)](_0x360037=>{const _0x18ce1e=_0x3e397d;_0x35ccac+=_0x360037[_0x18ce1e(0x25a)]*_0x360037[_0x18ce1e(0x2be)];});_0x191612&&(_0x35ccac+=_0x389a68['offset']);if(config['basecoin']==='BTC'||config['basecoin']===_0x3e397d(0x2b3))_0x170a88=_0x35ccac*_0x389a68['eur'],_0x4a9d7b=_0x35ccac*_0x389a68[_0x3e397d(0x248)];else{if(config[_0x3e397d(0x1fb)]===_0x3e397d(0x2f2)||config[_0x3e397d(0x1fb)]===_0x3e397d(0x1d2)||config['basecoin']==='USDC')_0x170a88=_0x35ccac*_0x389a68[_0x3e397d(0x27f)]/_0x389a68[_0x3e397d(0x248)],_0x4a9d7b=_0x35ccac;else config['basecoin']==='EUR'&&(_0x170a88=_0x35ccac,_0x4a9d7b=_0x35ccac*_0x389a68[_0x3e397d(0x248)]/_0x389a68[_0x3e397d(0x27f)]);}return[_0x35ccac,_0x170a88,_0x4a9d7b];}async function getStartingBalances(_0x3d4b46,_0x74eda=!![]){const _0x49a0ab=_0x2d7d06;if(_0x3d4b46[_0x49a0ab(0x2cc)]!==0x0){const [_0x34ce21,_0x4045a6,_0x3f47af]=getPerf(_0x3d4b46[0x0],!![]);let _0x24339f=[];config[_0x49a0ab(0x1d0)][_0x49a0ab(0x212)](_0x9778f2=>{const _0x4cc5de=_0x49a0ab;let _0xa582d7=0x0,_0xf11abf;config[_0x4cc5de(0x26d)]['forEach'](_0x464f01=>{const _0x5afc54=_0x4cc5de;let _0x486580=_0x464f01[_0x5afc54(0x1ca)][_0x5afc54(0x2bf)](_0x401b60=>_0x401b60['coin']==_0x9778f2[_0x5afc54(0x243)]);if(_0x486580){_0xa582d7+=_0x486580[_0x5afc54(0x25a)];if(!_0xf11abf)_0xf11abf=_0x486580[_0x5afc54(0x2be)];}}),_0x24339f[_0x4cc5de(0x251)]({'coin':_0x9778f2[_0x4cc5de(0x243)],'number':_0xa582d7,'initialprice':_0xf11abf});});const _0x2e7bde={'basecoin':_0x34ce21,'eur':_0x4045a6,'usd':_0x3f47af,'coins':_0x24339f};if(_0x74eda)proxyEmit(_0x49a0ab(0x2d5),_0x2e7bde);return _0x2e7bde;}}function headlessMode(_0x4f2533){const _0x32aff8=_0x2d7d06;let _0x355d31=_0x4f2533[_0x32aff8(0x1d0)],_0x5deded=_0x4f2533[_0x32aff8(0x25b)],_0x241a08=[];for(let _0xb28fc9 of _0x355d31){if(_0xb28fc9['coin']!=config[_0x32aff8(0x1fb)]){if(_0xb28fc9[_0x32aff8(0x261)]>=_0x5deded/0x64){if(_0xb28fc9[_0x32aff8(0x1fa)])_0x241a08[_0x32aff8(0x251)](_0xb28fc9);}else{if(_0xb28fc9['delta']<=-_0x5deded/0x64){if(_0xb28fc9[_0x32aff8(0x1fa)])_0x241a08[_0x32aff8(0x251)](_0xb28fc9);}}}}_0x241a08[_0x32aff8(0x2cc)]>0x0&&placeOrder(_0x241a08);}function notifyBalance(_0x1cfba3){const _0x5e154a=_0x2d7d06;let _0x303b30=_0x1cfba3[_0x5e154a(0x1d0)],_0x1f06bc=_0x1cfba3[_0x5e154a(0x25b)],_0x10e36d=[];for(let _0x5de8c5 of _0x303b30){if(_0x5de8c5[_0x5e154a(0x243)]!=config[_0x5e154a(0x1fb)]){if(_0x5de8c5['delta']>=_0x1f06bc/0x64){if(_0x5de8c5[_0x5e154a(0x1fa)])_0x10e36d[_0x5e154a(0x251)](_0x5de8c5);}else{if(_0x5de8c5[_0x5e154a(0x261)]<=-_0x1f06bc/0x64){if(_0x5de8c5[_0x5e154a(0x1fa)])_0x10e36d[_0x5e154a(0x251)](_0x5de8c5);}}}}if(_0x10e36d[_0x5e154a(0x2cc)]>0x0){let _0x5058ef=_0x10e36d[_0x5e154a(0x23f)](_0x388a81=>_0x388a81['coin']);_0x5058ef[_0x5e154a(0x1d4)]();let _0x2ec0cf=_0x5058ef[_0x5e154a(0x2f1)](',\x20');if(lastCoinsToBalance!==_0x2ec0cf)logHistory(_0x5e154a(0x21e),_0x5e154a(0x21c)+_0x2ec0cf);lastCoinsToBalance=_0x2ec0cf;}}function symbolToCoin(_0x3d5019){const _0x102d08=_0x2d7d06;let _0x45db60;if(_0x3d5019[_0x102d08(0x2b5)]('/'+config['basecoin']))_0x45db60=_0x3d5019[_0x102d08(0x2ad)]('/'+config[_0x102d08(0x1fb)],'');if(_0x3d5019[_0x102d08(0x2b5)](config['basecoin']+'/'))_0x45db60=_0x3d5019[_0x102d08(0x2ad)](config[_0x102d08(0x1fb)]+'/','');return _0x45db60;}async function validateOrders(_0x348424){const _0xde7687=_0x2d7d06;if(_0x348424)validateOrdersState=_0x348424;let _0xaa055=[],_0x58dcec=config[_0xde7687(0x217)]==_0xde7687(0x215)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;lastOrders[_0xde7687(0x212)](_0x4aa050=>{const _0x551ca4=_0xde7687;let _0x2065d9=![];if(_0x4aa050[_0x551ca4(0x244)]>0x0)_0x2065d9=!![];else{let _0x45895b=previousCoins[_0x551ca4(0x2bf)](_0x307043=>_0x307043[_0x551ca4(0x243)]==symbolToCoin(_0x4aa050[_0x551ca4(0x221)])),_0x100d7b=currentCoins[_0x551ca4(0x2bf)](_0x3d84ac=>_0x3d84ac[_0x551ca4(0x243)]==symbolToCoin(_0x4aa050['symbol'])),_0x47a50e,_0x162c26;_0x4aa050[_0x551ca4(0x2a5)]==_0x551ca4(0x29f)&&!_0x4aa050['reverse']||_0x4aa050[_0x551ca4(0x2a5)]==_0x551ca4(0x232)&&_0x4aa050[_0x551ca4(0x24d)]?(_0x47a50e=_0x45895b[_0x551ca4(0x25a)]+0.9*_0x4aa050['filled'],_0x162c26=_0x45895b['number']+1.1*_0x4aa050[_0x551ca4(0x244)]):(_0x47a50e=_0x45895b[_0x551ca4(0x25a)]-1.1*_0x4aa050['filled'],_0x162c26=_0x45895b[_0x551ca4(0x25a)]-0.9*_0x4aa050[_0x551ca4(0x244)]),_0x2065d9=_0x4aa050['filled']!=0x0&&_0x100d7b[_0x551ca4(0x25a)]>=_0x47a50e&&_0x100d7b[_0x551ca4(0x25a)]<=_0x162c26,_0x2065d9&&(_0x100d7b[_0x551ca4(0x260)]=![]);}_0xaa055[_0x551ca4(0x251)](_0x2065d9);if(_0x2065d9&&config[_0x551ca4(0x217)]!='market'){if(_0x4aa050[_0x551ca4(0x24d)])logHistory(_0x551ca4(0x260),'Order\x20filled:\x20'+_0x4aa050[_0x551ca4(0x221)]+'\x20'+_0x4aa050[_0x551ca4(0x2a5)]+'\x20#'+formatResult(_0x4aa050[_0x551ca4(0x244)]/_0x4aa050['price'],0x8)+'\x20@'+formatResult(_0x4aa050[_0x551ca4(0x2be)],0x8));else logHistory('order',_0x551ca4(0x287)+_0x4aa050[_0x551ca4(0x221)]+'\x20'+_0x4aa050[_0x551ca4(0x2a5)]+'\x20#'+formatResult(_0x4aa050[_0x551ca4(0x244)],0x8)+'\x20@'+formatResult(_0x4aa050[_0x551ca4(0x2be)],0x8));}}),_0xaa055[_0xde7687(0x212)]((_0x2e9de5,_0x41eebf)=>{const _0x1952d7=_0xde7687;if(_0x2e9de5)lastOrders[_0x1952d7(0x22b)](_0x41eebf,0x1);});const _0x3a3e3e=coolingDown?_0xde7687(0x24f):_0xde7687(0x1c8);if(validateOrdersState==_0xde7687(0x256))validateOrdersState=_0xde7687(0x240),_0xaa055['includes'](![])?config[_0xde7687(0x217)]==_0xde7687(0x215)?logHistory(_0xde7687(0x277),_0xde7687(0x210)):logHistory('error','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):lockOrders=![];else{if(validateOrdersState==_0xde7687(0x240)){if(_0xaa055['includes'](![])){}else lockOrders=![],config[_0xde7687(0x217)]==_0xde7687(0x215)?logHistory(_0xde7687(0x21e),_0xde7687(0x235)+_0x3a3e3e):logHistory('success',_0xde7687(0x28f)+_0x3a3e3e);}else{if(validateOrdersState==_0xde7687(0x293))lockOrders=![],_0xaa055['includes'](![])?config[_0xde7687(0x217)]==_0xde7687(0x215)?logHistory(_0xde7687(0x21e),_0xde7687(0x2c6)+Math['round'](_0x58dcec*validateOrderInterval/0xea60)+_0xde7687(0x1cf)+_0x3a3e3e):(await cancelOrders(),logHistory(_0xde7687(0x21e),_0xde7687(0x24e)+Math[_0xde7687(0x275)](_0x58dcec*validateOrderInterval/0xea60)+_0xde7687(0x1cf)+_0x3a3e3e)):logHistory('success','No\x20more\x20open\x20orders\x20-\x20'+_0x3a3e3e),currentCoins=await getCoins();else{if(validateOrdersState==_0xde7687(0x2d0)){lockOrders=![];if(config[_0xde7687(0x217)]!=_0xde7687(0x215))logHistory(_0xde7687(0x21e),'No\x20more\x20open\x20orders\x20-\x20'+_0x3a3e3e);}}}}}async function cancelOrders(){const _0x16d641=_0x2d7d06;lastOrders[_0x16d641(0x212)](async _0x57cf34=>{const _0x3670f8=_0x16d641;try{const _0x5dc9ec=await exchange[_0x3670f8(0x2e3)](_0x57cf34[_0x3670f8(0x2ae)],_0x57cf34[_0x3670f8(0x221)]);}catch(_0x1b1da1){if(_0x1b1da1[_0x3670f8(0x276)]()[_0x3670f8(0x2b5)](_0x3670f8(0x267))){}else await handleError(_0x1b1da1,_0x3670f8(0x2aa));}});}async function resetCoinResults(){const _0xac9f96=_0x2d7d06;dbCoinResults[_0xac9f96(0x218)](_0xac9f96(0x2ba))['remove']()[_0xac9f96(0x2de)]();let _0x5ae678=await getStartingBalances(getNormalizedPerformance(),![]);_0x5ae678[_0xac9f96(0x2ba)][_0xac9f96(0x212)](_0x4c426a=>{const _0x1e8645=_0xac9f96;if(_0x4c426a[_0x1e8645(0x243)]!=config['basecoin']){let _0x75449={'coin':_0x4c426a[_0x1e8645(0x243)],'number':_0x4c426a[_0x1e8645(0x25a)],'breakeven':formatResult(_0x4c426a['initialprice'],0x8),'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x1e8645(0x218)](_0x1e8645(0x2ba))[_0x1e8645(0x251)](_0x75449)[_0x1e8645(0x2de)]();}});}async function updateCoinResults(_0x1755ff){const _0x5798cb=_0x2d7d06;let _0x4213cf,_0x167420,_0x1a22af,_0x29d6a2,_0x26130e,_0x10549d;console[_0x5798cb(0x23b)](_0x5798cb(0x231),_0x1755ff);let _0x2f4924=dbCoinResults[_0x5798cb(0x218)]('coins')[_0x5798cb(0x2bf)]({'coin':_0x1755ff[_0x5798cb(0x243)]})['value']();if(!_0x2f4924)return;if(_0x1755ff[_0x5798cb(0x22c)]&&_0x1755ff['fee']['currency']==config[_0x5798cb(0x1fb)])_0x4213cf=_0x1755ff[_0x5798cb(0x22c)][_0x5798cb(0x2d9)];else{if(_0x1755ff[_0x5798cb(0x22c)]&&_0x1755ff['fee']['currency']==_0x5798cb(0x2dd))_0x4213cf=_0x1755ff[_0x5798cb(0x22c)][_0x5798cb(0x2d9)]*global[_0x5798cb(0x21f)][_0x5798cb(0x2dd)+config[_0x5798cb(0x1fb)]];else _0x4213cf=0.001*_0x1755ff[_0x5798cb(0x244)];}_0x1755ff[_0x5798cb(0x24d)]&&(_0x10549d={'coin':_0x1755ff['coin'],'symbol':_0x1755ff[_0x5798cb(0x221)],'filled':_0x1755ff[_0x5798cb(0x244)]*_0x1755ff[_0x5798cb(0x2be)],'side':_0x1755ff[_0x5798cb(0x2a5)]=='sell'?'buy':_0x5798cb(0x232),'price':0x1/_0x1755ff[_0x5798cb(0x2be)]},_0x1755ff={..._0x10549d});_0x1755ff[_0x5798cb(0x2a5)]=='buy'?_0x1a22af=(_0x2f4924['breakeven']*_0x2f4924['number']+_0x1755ff[_0x5798cb(0x2be)]*_0x1755ff[_0x5798cb(0x244)])/(_0x2f4924[_0x5798cb(0x25a)]+_0x1755ff[_0x5798cb(0x244)]):_0x1a22af=(_0x2f4924['breakeven']*_0x2f4924[_0x5798cb(0x25a)]-_0x1755ff[_0x5798cb(0x2be)]*_0x1755ff[_0x5798cb(0x244)])/(_0x2f4924[_0x5798cb(0x25a)]-_0x1755ff[_0x5798cb(0x244)]);_0x1755ff[_0x5798cb(0x2a5)]=='buy'?_0x29d6a2=_0x2f4924[_0x5798cb(0x25d)]:_0x29d6a2=_0x2f4924[_0x5798cb(0x25d)]+(_0x1755ff['price']-_0x2f4924[_0x5798cb(0x2e2)])*_0x1755ff[_0x5798cb(0x244)];const _0x5d0127=currentCoins[_0x5798cb(0x2bf)](_0x13bc13=>_0x13bc13[_0x5798cb(0x243)]==_0x1755ff[_0x5798cb(0x243)]);_0x167420=_0x5d0127[_0x5798cb(0x25a)],_0x26130e=(_0x1755ff[_0x5798cb(0x2be)]-_0x1a22af)*_0x167420;let _0x3a2c6c={'coin':_0x1755ff[_0x5798cb(0x243)],'number':_0x167420,'breakeven':formatResult(_0x1a22af,0x8),'realized':formatResult(_0x29d6a2,0x8),'unrealized':formatResult(_0x26130e,0x8),'fees':formatResult(_0x2f4924[_0x5798cb(0x1e2)]+_0x4213cf,0x8),'sells':_0x1755ff[_0x5798cb(0x2a5)]==_0x5798cb(0x232)?_0x2f4924[_0x5798cb(0x202)]+0x1:_0x2f4924[_0x5798cb(0x202)],'buys':_0x1755ff['side']==_0x5798cb(0x29f)?_0x2f4924['buys']+0x1:_0x2f4924[_0x5798cb(0x2ee)]};dbCoinResults[_0x5798cb(0x218)](_0x5798cb(0x2ba))[_0x5798cb(0x2bf)]({'coin':_0x1755ff['coin']})[_0x5798cb(0x269)](_0x3a2c6c)['write']();if(_0x1755ff['fee']&&_0x1755ff[_0x5798cb(0x22c)][_0x5798cb(0x24a)]==_0x5798cb(0x2dd)){const _0x3d4097=currentCoins[_0x5798cb(0x2bf)](_0x3a5fa8=>_0x3a5fa8[_0x5798cb(0x243)]=='BNB');_0x167420=_0x3d4097[_0x5798cb(0x25a)];let _0x2cc315=dbCoinResults[_0x5798cb(0x218)](_0x5798cb(0x2ba))[_0x5798cb(0x2bf)]({'coin':_0x5798cb(0x2dd)})[_0x5798cb(0x227)]();_0x3a2c6c={..._0x2cc315,'number':_0x167420},dbCoinResults[_0x5798cb(0x218)](_0x5798cb(0x2ba))[_0x5798cb(0x2bf)]({'coin':'BNB'})[_0x5798cb(0x269)](_0x3a2c6c)['write']();}}async function placeOrder(_0x25eb0f){const _0x4731c5=_0x2d7d06,_0x3062d7=config[_0x4731c5(0x217)]==_0x4731c5(0x215)?'market':_0x4731c5(0x2db);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x4731c5(0x257)](JSON[_0x4731c5(0x2bd)](currentCoins));for(const _0x3e875b of _0x25eb0f){let _0x5be831,_0x302e9b,_0x32dfdd,_0x5ed610,_0x5c4ef1,_0x1e1492=_0x3e875b[_0x4731c5(0x221)];try{const _0x3098b3=await exchange['fetchTickers']([_0x1e1492]),_0x55bb71=_0x3098b3[_0x1e1492];_0x5be831=_0x3e875b[_0x4731c5(0x24d)]?0x1/_0x3e875b[_0x4731c5(0x2b1)]:_0x3e875b[_0x4731c5(0x2b1)],_0x302e9b=_0x55bb71[_0x4731c5(0x2d8)],_0x32dfdd=_0x55bb71[_0x4731c5(0x1e8)];_0x3e875b[_0x4731c5(0x24d)]?(_0x5ed610=_0x3e875b['side']==_0x4731c5(0x29f)?_0x4731c5(0x232):_0x4731c5(0x29f),_0x5c4ef1=Math[_0x4731c5(0x2f3)](_0x3e875b[_0x4731c5(0x2e8)])/_0x5be831):(_0x5ed610=_0x3e875b[_0x4731c5(0x2a5)],_0x5c4ef1=Math[_0x4731c5(0x2f3)](_0x3e875b[_0x4731c5(0x2e8)]));_0x3062d7==_0x4731c5(0x2db)&&(config[_0x4731c5(0x217)]==_0x4731c5(0x1df)&&(_0x5be831=_0x5ed610==_0x4731c5(0x29f)?_0x302e9b:_0x32dfdd),config[_0x4731c5(0x217)]=='limit-low'&&(_0x5be831=_0x5ed610=='buy'?_0x32dfdd:_0x302e9b));_0x5c4ef1=formatResult(_0x5c4ef1,0x8),_0x5be831=formatResult(_0x5be831,0x8);const _0x133b1b=await exchange[_0x4731c5(0x1db)](_0x1e1492,_0x3062d7,_0x5ed610,_0x5c4ef1,_0x5be831);lastOrders[_0x4731c5(0x251)]({'orderId':_0x133b1b['id'],'symbol':_0x1e1492,'coin':_0x3e875b[_0x4731c5(0x243)],'side':_0x5ed610,'reverse':_0x3e875b['reverse'],'amount':_0x3e875b[_0x4731c5(0x24d)]?_0x133b1b[_0x4731c5(0x28a)]*_0x133b1b['price']:_0x133b1b[_0x4731c5(0x28a)],'filled':0x0,'price':_0x133b1b[_0x4731c5(0x2be)],'fee':_0x133b1b['fee']});const _0x44685d=_0x5ed610==_0x4731c5(0x232)?config[_0x4731c5(0x25c)]?String['fromCodePoint']('0x'+config[_0x4731c5(0x25c)])+'\x20':'':config['emojibuy']?String['fromCodePoint']('0x'+config[_0x4731c5(0x2dc)])+'\x20':'',_0x1e9ccc=_0x3062d7==_0x4731c5(0x215)?'Market':config['ordertype']==_0x4731c5(0x1df)?_0x4731c5(0x233):_0x4731c5(0x1f7);if(_0x3062d7=='market')logHistory(_0x4731c5(0x260),''+_0x44685d+_0x1e9ccc+_0x4731c5(0x1c4)+_0x1e1492+'\x20'+_0x5ed610+'\x20#'+formatResult(_0x133b1b[_0x4731c5(0x244)],0x8)+'\x20@'+formatResult(_0x133b1b[_0x4731c5(0x2be)],0x8));else logHistory('order',''+_0x44685d+_0x1e9ccc+'\x20order:\x20'+_0x1e1492+'\x20'+_0x5ed610+'\x20#'+formatResult(_0x133b1b[_0x4731c5(0x28a)],0x8)+'\x20@'+formatResult(_0x133b1b[_0x4731c5(0x2be)],0x8));let _0x3874f5=currentCoins[_0x4731c5(0x2bf)](_0xc92188=>_0xc92188[_0x4731c5(0x243)]==_0x3e875b[_0x4731c5(0x243)]);_0x3874f5[_0x4731c5(0x260)]=!![];if(config['cooldown']!=0x0){let _0x2d041b=null;if(cooldownTracker[_0x4731c5(0x2cc)]==config[_0x4731c5(0x1ea)]-0x1)_0x2d041b=cooldownTracker[_0x4731c5(0x1fe)]();const _0x1fae8d=getTimeStamp();cooldownTracker['push'](_0x1fae8d);if(_0x2d041b){const _0x2db73e=fns['differenceInSeconds'](new Date(_0x1fae8d),new Date(_0x2d041b));if(_0x2db73e<cooldownInterval){logHistory(_0x4731c5(0x277),_0x4731c5(0x296)+config[_0x4731c5(0x1ea)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x4731c5(0x24b)+cooldownPeriod/(0xe10*0x3e8)+_0x4731c5(0x1c6)),coolingDown=!![];break;}}}}catch(_0x4dec81){if(_0x4dec81[_0x4731c5(0x276)]()['includes']('MIN_NOTIONAL'))logHistory(_0x4731c5(0x277),_0x4731c5(0x2c9)+_0x1e1492);else{if(_0x4dec81[_0x4731c5(0x276)]()[_0x4731c5(0x2b5)](_0x4731c5(0x20b)))logHistory(_0x4731c5(0x277),_0x4731c5(0x1cd)+_0x1e1492);else await handleError(_0x4dec81,_0x4731c5(0x1cc),_0x1e1492);}}}if(lastOrders[_0x4731c5(0x2cc)]!=0x0){lockOrders=!![],validateOrdersState=_0x4731c5(0x256);const _0x186849=config['ordertype']==_0x4731c5(0x215)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x49b5d1=_0x4731c5;validateOrders(_0x49b5d1(0x293));},_0x186849);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4731c5(0x21e),_0x4731c5(0x22f)));}else{if(coolingDown)!config[_0x4731c5(0x211)]&&logHistory(_0x4731c5(0x277),_0x4731c5(0x225));else lockOrders&&(!config[_0x4731c5(0x211)]&&(config[_0x4731c5(0x217)]=='market'?logHistory(_0x4731c5(0x277),_0x4731c5(0x26e)):logHistory(_0x4731c5(0x277),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function logHistory(_0x3d47de,_0x4032dc,_0x4604b5=''){const _0x3135d1=_0x2d7d06;let _0x544849={'time':getTimeStamp(),'type':_0x3d47de,'event':_0x4032dc};dbLogs[_0x3135d1(0x218)](_0x3135d1(0x29e))['push'](_0x544849)['write']();if(_0x4604b5=='')_0x4604b5=_0x4032dc;proxyEmit(_0x3135d1(0x1d5),{'log':_0x544849,'summary':_0x4604b5}),process[_0x3135d1(0x219)]({'telegram':{..._0x544849,'botname':config['botname'],'showname':config[_0x3135d1(0x284)]}},_0x54eaaa=>{}),logging(''+_0x544849['event']);}function emitHistory(_0x13ae63={}){const _0x2a0756=_0x2d7d06;Object[_0x2a0756(0x206)](_0x13ae63)['length']==0x0&&(_0x13ae63={'type':[_0x2a0756(0x260),'event'],'event':'','page':0x1});if(_0x13ae63[_0x2a0756(0x1ce)][_0x2a0756(0x2b5)](_0x2a0756(0x1d5)))_0x13ae63[_0x2a0756(0x1ce)][_0x2a0756(0x22b)](_0x13ae63[_0x2a0756(0x1ce)]['indexOf'](_0x2a0756(0x1d5)),0x1,_0x2a0756(0x277),_0x2a0756(0x21e));if(dbLogs[_0x2a0756(0x29a)](_0x2a0756(0x29e))[_0x2a0756(0x227)]()){let _0x2c7618=dbLogs[_0x2a0756(0x218)](_0x2a0756(0x29e))[_0x2a0756(0x1da)](_0x121b7a=>{const _0x1930ea=_0x2a0756;if(_0x13ae63[_0x1930ea(0x1ce)][_0x1930ea(0x2cc)]==0x0)return![];else return _0x13ae63[_0x1930ea(0x1ce)]['includes'](_0x121b7a[_0x1930ea(0x1ce)]);})[_0x2a0756(0x1da)](_0x417817=>{const _0xb77442=_0x2a0756;if(_0x13ae63[_0xb77442(0x1d5)]=='')return!![];else return _0x417817[_0xb77442(0x1d5)][_0xb77442(0x2c7)]()[_0xb77442(0x2b5)](_0x13ae63[_0xb77442(0x1d5)][_0xb77442(0x2c7)]());})[_0x2a0756(0x28b)](_0x2a0756(0x1e3)),_0x66f506=_0x2c7618[_0x2a0756(0x227)]()['length'];_0x2c7618=_0x2c7618[_0x2a0756(0x24d)]()[_0x2a0756(0x2b7)]((_0x13ae63['page']-0x1)*logPageSize,_0x13ae63[_0x2a0756(0x22d)]*logPageSize-0x1)[_0x2a0756(0x24d)]()[_0x2a0756(0x227)](),proxyEmit('event-history',{'logs':_0x2c7618,'total':_0x66f506});}else proxyEmit(_0x2a0756(0x2b6),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x63f62c){const _0x1211d4=_0x2d7d06;if(dbLogs['has'](_0x1211d4(0x29e))[_0x1211d4(0x227)]()){const _0x4ef44b=dbLogs[_0x1211d4(0x218)](_0x1211d4(0x29e))[_0x1211d4(0x28b)](_0x1211d4(0x1e3))[_0x1211d4(0x1da)](_0x9db22e=>{const _0x5c40df=_0x1211d4;return _0x9db22e[_0x5c40df(0x1ce)]=='order';})[_0x1211d4(0x227)]();dbLogs[_0x1211d4(0x218)]('logs')[_0x1211d4(0x280)]()[_0x1211d4(0x2de)](),dbLogs[_0x1211d4(0x218)](_0x1211d4(0x29e))[_0x1211d4(0x269)](_0x4ef44b)[_0x1211d4(0x2de)](),emitHistory(_0x63f62c);}}async function pauseBot(_0x593336=''){const _0x56c03e=_0x2d7d06,_0x1154bf=new Date()[_0x56c03e(0x23c)]();if(!lastBotPause)lastBotPause=new Date()[_0x56c03e(0x23c)](),consecutivePauses=0x1;else{if(_0x1154bf-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x56c03e(0x2a3)},_0x1b0f56=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x56c03e(0x23c)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x593336)_0x593336+=_0x56c03e(0x254);logHistory(_0x56c03e(0x277),_0x593336+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x56c03e(0x1d9)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x4bddfa=_0x2d7d06;process[_0x4bddfa(0x219)]({'stop':_0x4bddfa(0x1e0)},_0x49a4ed=>{}),await sleep(0x7d0);}async function handleError(_0x5f36c6,_0x36e2c8,_0x589f65=''){const _0x40d106=_0x2d7d06;if(_0x5f36c6[_0x40d106(0x276)]()[_0x40d106(0x2b5)](_0x40d106(0x2b4)))await pauseBot(_0x40d106(0x263));else{if(_0x5f36c6[_0x40d106(0x276)]()['includes'](_0x40d106(0x278)))await pauseBot(_0x40d106(0x209));else{if(_0x5f36c6['toString']()[_0x40d106(0x2b5)](_0x40d106(0x2df)))await pauseBot(_0x40d106(0x1cb));else{if(_0x5f36c6[_0x40d106(0x276)]()[_0x40d106(0x2b5)](_0x40d106(0x20c)))logHistory(_0x40d106(0x277),_0x36e2c8+_0x40d106(0x250)),logHistory(_0x40d106(0x277),_0x40d106(0x2a8)),await killBot();else{if(_0x5f36c6[_0x40d106(0x276)]()[_0x40d106(0x2b5)](_0x40d106(0x27c)))logHistory(_0x40d106(0x277),_0x36e2c8+_0x40d106(0x253)),logHistory(_0x40d106(0x277),_0x40d106(0x2a8)),await killBot();else{if(_0x5f36c6['toString']()[_0x40d106(0x2b5)](_0x40d106(0x21b)))logHistory(_0x40d106(0x277),_0x36e2c8+_0x40d106(0x1e1)),logHistory('error',_0x40d106(0x2a8)),await killBot();else{if(_0x5f36c6['toString']()[_0x40d106(0x2b5)](_0x40d106(0x1e6)))logHistory(_0x40d106(0x277),_0x36e2c8+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x40d106(0x277),_0x40d106(0x2a8)),await killBot();else{if(_0x5f36c6[_0x40d106(0x276)]()['includes']('InvalidNonce'))await pauseBot(_0x40d106(0x1f1)),process[_0x40d106(0x219)]({'stop':_0x40d106(0x2a3)},_0x1b08b9=>{});else _0x5f36c6['toString']()[_0x40d106(0x2b5)](_0x40d106(0x22e))?logHistory(_0x40d106(0x277),_0x36e2c8+_0x40d106(0x2e0)+_0x589f65):(logging(_0x36e2c8+_0x40d106(0x1e4),_0x5f36c6),await pauseBot(_0x40d106(0x2bb)));}}}}}}}}function formatResult(_0x448050,_0x7e496b){return _0x448050?parseFloat(_0x448050['toFixed'](_0x7e496b)):null;}function logging(_0x3461aa,_0x3689e2=''){const _0x5d4ad2=_0x2d7d06;if(config['showname'])console['log'](getTimeStamp()+':\x20'+config['botname']+_0x5d4ad2(0x214)+_0x3461aa,_0x3689e2);else console[_0x5d4ad2(0x23b)](getTimeStamp()+_0x5d4ad2(0x283)+botID+_0x5d4ad2(0x214)+_0x3461aa,_0x3689e2);}function getServerTime(){const _0x118e71=_0x2d7d06,_0x549809=new Date();return _0x549809[_0x118e71(0x239)]()+'/'+(_0x549809[_0x118e71(0x2c4)]()+0x1)[_0x118e71(0x276)]()[_0x118e71(0x21a)](0x2,'0')+'/'+_0x549809[_0x118e71(0x29b)]()[_0x118e71(0x276)]()['padStart'](0x2,'0')+'\x20'+_0x549809[_0x118e71(0x29c)]()[_0x118e71(0x276)]()['padStart'](0x2,'0')+':'+_0x549809[_0x118e71(0x246)]()[_0x118e71(0x276)]()[_0x118e71(0x21a)](0x2,'0')+':'+_0x549809[_0x118e71(0x2f4)]()[_0x118e71(0x276)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x2429cd=_0x2d7d06,_0x1ce54a=shiftedTime();return _0x1ce54a[_0x2429cd(0x239)]()+'/'+(_0x1ce54a['getMonth']()+0x1)['toString']()[_0x2429cd(0x21a)](0x2,'0')+'/'+_0x1ce54a[_0x2429cd(0x29b)]()[_0x2429cd(0x276)]()[_0x2429cd(0x21a)](0x2,'0')+'\x20'+_0x1ce54a[_0x2429cd(0x29c)]()['toString']()[_0x2429cd(0x21a)](0x2,'0')+':'+_0x1ce54a['getMinutes']()[_0x2429cd(0x276)]()[_0x2429cd(0x21a)](0x2,'0')+':'+_0x1ce54a['getSeconds']()[_0x2429cd(0x276)]()[_0x2429cd(0x21a)](0x2,'0');}function getDate(){const _0x5e427c=_0x2d7d06,_0x4381b1=shiftedTime();return _0x4381b1[_0x5e427c(0x239)]()+'/'+(_0x4381b1[_0x5e427c(0x2c4)]()+0x1)[_0x5e427c(0x276)]()['padStart'](0x2,'0')+'/'+_0x4381b1[_0x5e427c(0x29b)]()[_0x5e427c(0x276)]()['padStart'](0x2,'0');}function getHour(){const _0x5f3880=_0x2d7d06,_0x53aedf=shiftedTime();return _0x53aedf[_0x5f3880(0x29c)]()[_0x5f3880(0x276)]()[_0x5f3880(0x21a)](0x2,'0');}function sleep(_0x5f332a){return new Promise(_0x3b15f6=>setTimeout(_0x3b15f6,_0x5f332a));}function shiftedTime(){const _0x1c903e=_0x2d7d06,_0x56e344=new Date();let _0x56e6e7=_0x56e344;if(config&&config[_0x1c903e(0x262)]!==0x0)_0x56e6e7=fns[_0x1c903e(0x2d2)](_0x56e344,{'hours':config['timeshift']});return _0x56e6e7;}