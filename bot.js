const _0x1243a3=_0x4c1b;(function(_0x260b67,_0x204604){const _0x4e124f=_0x4c1b,_0x11609b=_0x260b67();while(!![]){try{const _0x56f681=-parseInt(_0x4e124f(0x153))/0x1*(-parseInt(_0x4e124f(0xaa))/0x2)+-parseInt(_0x4e124f(0xa7))/0x3*(-parseInt(_0x4e124f(0x1d1))/0x4)+-parseInt(_0x4e124f(0xb7))/0x5+parseInt(_0x4e124f(0x12a))/0x6+parseInt(_0x4e124f(0x127))/0x7*(-parseInt(_0x4e124f(0xb4))/0x8)+parseInt(_0x4e124f(0x164))/0x9*(-parseInt(_0x4e124f(0x1c9))/0xa)+parseInt(_0x4e124f(0x1d2))/0xb*(parseInt(_0x4e124f(0x1ca))/0xc);if(_0x56f681===_0x204604)break;else _0x11609b['push'](_0x11609b['shift']());}catch(_0x1d0457){_0x11609b['push'](_0x11609b['shift']());}}}(_0x37b6,0xddb17));const _0x3b93ce=function(){let _0x3a332c=!![];return function(_0x17cfc3,_0x8effac){const _0x3e9b97=_0x3a332c?function(){const _0x28461b=_0x4c1b;if(_0x8effac){const _0xec4b66=_0x8effac[_0x28461b(0x1e6)](_0x17cfc3,arguments);return _0x8effac=null,_0xec4b66;}}:function(){};return _0x3a332c=![],_0x3e9b97;};}(),_0x164ba2=_0x3b93ce(this,function(){const _0x489025=_0x4c1b;return _0x164ba2[_0x489025(0xb9)]()[_0x489025(0xe2)](_0x489025(0x144))[_0x489025(0xb9)]()['constructor'](_0x164ba2)[_0x489025(0xe2)](_0x489025(0x144));});_0x164ba2();'use strict';const ccxt=require(_0x1243a3(0x174)),low=require(_0x1243a3(0xe0)),FileSync=require(_0x1243a3(0x1b4)),fs=require('fs'),fns=require(_0x1243a3(0xa2)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x1243a3(0x1e2)),Crypt=require(_0x1243a3(0x115))[_0x1243a3(0x170)],util=require(_0x1243a3(0x188));let exchange,wsClient;global[_0x1243a3(0x119)]={},global[_0x1243a3(0x9f)]={};let ws1=[],ws2=null,ws3=[];const exceptions=['DAI/',_0x1243a3(0xc8),'HOT/EUR','XEM/BUSD',_0x1243a3(0x1a0),'YOYOW/'];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x1243a3(0x13c)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x1243a3(0x109))[_0x1243a3(0x1e5)],botID=process[_0x1243a3(0xf6)][0x2]||_0x1243a3(0xbb),pattern=/^[0-9]{3}$/;!pattern[_0x1243a3(0xb0)](botID)&&(console[_0x1243a3(0x135)](_0x1243a3(0x13b)+botID+_0x1243a3(0xff)),process[_0x1243a3(0xd3)](0x1));const userID=process[_0x1243a3(0xf6)][0x3]||'',configpath=userID?_0x1243a3(0x194)+userID+'/':_0x1243a3(0x194),logspath=userID?_0x1243a3(0x121)+userID+'/':'./logs/',loggerfile=fs[_0x1243a3(0x187)](logspath+_0x1243a3(0xcb),{'flags':'a'});!fs[_0x1243a3(0x105)](configpath)&&fs[_0x1243a3(0x17a)](configpath);!fs[_0x1243a3(0x105)](logspath)&&fs[_0x1243a3(0x17a)](logspath);const configfile=configpath+_0x1243a3(0x92)+botID+_0x1243a3(0x85),logfile=configpath+_0x1243a3(0x92)+botID+_0x1243a3(0x162),performancefile=configpath+_0x1243a3(0x92)+botID+'-performance.json',coinresultsfile=configpath+_0x1243a3(0x92)+botID+'-results.json',settingsfile=configpath+_0x1243a3(0x113),securefile=configpath+'bb-secure.json',configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x1243a3(0x198)]({'logs':[]})[_0x1243a3(0x14e)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1243a3(0x198)]({'data':[]})[_0x1243a3(0x14e)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1243a3(0x198)]({'coins':[]})[_0x1243a3(0x14e)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x427db3)=>{},'debug':(..._0x300586)=>{},'notice':(..._0x29cf63)=>{},'info':(..._0x2181d2)=>{},'warning':(..._0x16eb5a)=>{},'error':async function(..._0x1e5431){const _0x53ce7c=_0x1243a3,_0x59f780=new Date()[_0x53ce7c(0xe5)]();if(!lastErrorShown||_0x59f780-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x53ce7c(0xe5)]();let _0x7b476c='';if(_0x1e5431[0x0])_0x7b476c+=_0x1e5431[0x0];if(_0x1e5431[0x1]&&_0x1e5431[0x1][_0x53ce7c(0x1d0)]&&_0x1e5431[0x1][_0x53ce7c(0x1d0)]['message'])_0x7b476c+=_0x53ce7c(0xb3)+_0x1e5431[0x1][_0x53ce7c(0x1d0)][_0x53ce7c(0x1de)];logger[_0x53ce7c(0x1d5)](_0x53ce7c(0x1cc)+consecutivePauses+_0x53ce7c(0x1c7),''+_0x7b476c),await pauseBot(_0x53ce7c(0xa4));}}};function _0x4c1b(_0x5623d9,_0x54773b){const _0x28fe00=_0x37b6();return _0x4c1b=function(_0x164ba2,_0x3b93ce){_0x164ba2=_0x164ba2-0x81;let _0x37b6e3=_0x28fe00[_0x164ba2];return _0x37b6e3;},_0x4c1b(_0x5623d9,_0x54773b);}wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x1243a3(0x13d),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x19a540=>{const _0x4703fc=_0x1243a3;console[_0x4703fc(0x135)](_0x19a540);},'simple':_0x288410=>{const _0x2c84eb=_0x1243a3;console[_0x2c84eb(0x135)](_0x288410),loggerfile[_0x2c84eb(0x14e)](util[_0x2c84eb(0xf8)](_0x288410)+'\x0a');},'full':async(_0x49d91d,_0x16f89e='')=>{const _0x467f51=_0x1243a3;let _0x10d8a7;if(config['showname'])_0x10d8a7=getTimeStamp()+':\x20'+config[_0x467f51(0x176)]+'\x20>\x20'+_0x49d91d;else _0x10d8a7=getTimeStamp()+_0x467f51(0x19b)+botID+'\x20>\x20'+_0x49d91d;console['log'](_0x10d8a7),loggerfile[_0x467f51(0x14e)](util[_0x467f51(0xf8)](_0x10d8a7)+'\x0a'),_0x16f89e&&(console[_0x467f51(0x135)](_0x16f89e),loggerfile[_0x467f51(0x14e)](util[_0x467f51(0xf8)](_0x16f89e)+'\x0a'));},'debug':async(_0x2dccce,_0x3f3ae6='')=>{const _0x4104f5=_0x1243a3;let _0x4a6db6;if(config[_0x4104f5(0x14b)])_0x4a6db6=getTimeStamp()+':\x20'+config[_0x4104f5(0x176)]+_0x4104f5(0x147)+_0x2dccce;else _0x4a6db6=getTimeStamp()+_0x4104f5(0x19b)+botID+_0x4104f5(0x147)+_0x2dccce;if(debugLoggingScreen)console[_0x4104f5(0x135)](_0x4a6db6);loggerfile[_0x4104f5(0x14e)](util[_0x4104f5(0xf8)](_0x4a6db6)+'\x0a');if(_0x3f3ae6){if(debugLoggingScreen)console[_0x4104f5(0x135)](_0x3f3ae6);loggerfile[_0x4104f5(0x14e)](util[_0x4104f5(0xf8)](_0x3f3ae6)+'\x0a');}}};process['on'](_0x1243a3(0x137),function(_0x381fbe){const _0x480bcc=_0x1243a3;logger[_0x480bcc(0x1e0)](_0x381fbe);});settings[_0x1243a3(0x110)]!=config[_0x1243a3(0x110)]&&updateTimeshift(settings[_0x1243a3(0x110)]);process['send']({'started':_0x1243a3(0x182)},_0x3a6ef5=>{}),initializeProcessListeners();function proxyEmit(_0x3f7310,_0x2ad01d=null){process['send']({'function':_0x3f7310,'args':_0x2ad01d},_0x57cffe=>{});}function initializeProcessListeners(){const _0x4a389a=_0x1243a3;process['on'](_0x4a389a(0x1de),_0x3f66a8=>{const _0x315f48=_0x4a389a;switch(Object['keys'](_0x3f66a8)[0x0]){case _0x315f48(0x110):_0x3f66a8[_0x315f48(0x110)]!=undefined&&(settings[_0x315f48(0x110)]=_0x3f66a8[_0x315f48(0x110)],updateTimeshift(settings[_0x315f48(0x110)]));break;case _0x315f48(0xe8):switch(_0x3f66a8[_0x315f48(0xe8)]){case'initclient':initclient();break;case _0x315f48(0x161):toggleBotMode();break;case'emitHistory':emitHistory(_0x3f66a8[_0x315f48(0x1c0)]);break;case _0x315f48(0x168):deleteHistoryAlerts(_0x3f66a8[_0x315f48(0x1c0)]);break;case _0x315f48(0x160):getPortfolio(_0x3f66a8[_0x315f48(0x1c0)]);break;case'storeConfiguration':storeConfiguration(_0x3f66a8[_0x315f48(0x1c0)]);break;case _0x315f48(0x84):storeHeadless(_0x3f66a8['args']);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x3f66a8[_0x315f48(0x1c0)]);break;case _0x315f48(0x15a):cancelLoading();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x4e0024=_0x1243a3;if(pidBalances)clearTimeout(pidBalances);if(config[_0x4e0024(0x17e)]!=''&&config[_0x4e0024(0x17e)]!=_0x4e0024(0x114)){await initExchange(config[_0x4e0024(0x17e)],config[_0x4e0024(0xab)]),await initWsEvents();let _0x29583c=![];try{_0x29583c=await loadSymbols();}catch(_0xc77e3e){handleError(_0xc77e3e,_0x4e0024(0x177));}if(_0x29583c){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x4e0024(0xe3)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x135700,_0x9dd315){const _0x504277=_0x1243a3,_0x6ad1bb=ccxt[config['exchange']];let _0x1f78ab;switch(config[_0x504277(0x13e)]){case _0x504277(0x1e2):_0x1f78ab=_0x504277(0x11b);break;case'binanceus':_0x1f78ab=_0x504277(0xdf);break;default:_0x1f78ab=_0x504277(0x11b);}exchange=new _0x6ad1bb({'apiKey':_0x135700,'secret':_0x9dd315,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x504277(0x10d)][_0x504277(0x1b9)]=_0x135700,wsClient[_0x504277(0x10d)]['api_secret']=_0x9dd315,wsClient['options'][_0x504277(0x143)]=_0x1f78ab;let _0x3fa229=config[_0x504277(0x13e)]==_0x504277(0xec)?_0x504277(0x166):_0x504277(0xfb),_0x161b5b=config[_0x504277(0x8f)]==_0x504277(0x9b)?_0x504277(0x9b):'BTC';stablecoins={'eur':{'coin':''+_0x161b5b+_0x3fa229,'symbol':_0x161b5b+'/'+_0x3fa229},'usd':{'coin':_0x161b5b+_0x504277(0x166),'symbol':_0x161b5b+_0x504277(0x150)}};}async function initWsEvents(){const _0x3ba54d=_0x1243a3;!wsClient['_events'][_0x3ba54d(0x89)]&&wsClient['on'](_0x3ba54d(0x89),_0x34fa81=>{const _0xbe3fae=_0x3ba54d;if(isWsFormattedKline(_0x34fa81)){global[_0xbe3fae(0x119)][_0x34fa81['kline'][_0xbe3fae(0x1bc)]]=_0x34fa81[_0xbe3fae(0x1df)][_0xbe3fae(0x173)];return;}else{if(isWsFormatted24hrTicker(_0x34fa81)){global[_0xbe3fae(0x9f)][_0x34fa81[_0xbe3fae(0x1bc)]]=_0x34fa81['priceChangePercent'];return;}else{if(!Array[_0xbe3fae(0x1b2)](_0x34fa81)&&_0x34fa81[_0xbe3fae(0x12f)][_0xbe3fae(0x1cf)](_0xbe3fae(0x19d))){if(_0x34fa81[_0xbe3fae(0x148)]['includes']('spot')){updateNumberCoins(_0x34fa81);return;}}}}}),!wsClient['_events'][_0x3ba54d(0x9d)]&&wsClient['on'](_0x3ba54d(0x9d),async _0x44b62b=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}function _0x37b6(){const _0x4a55a9=['\x20|\x20lock\x20orders:\x20','cost','join','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','liquidity','milliseconds','delta','toLowerCase','rightTxt','enabled','isArray','coins','lowdb/adapters/FileSync','getCoins()','botID','startprice','differenceInSeconds','api_key','Net\x20effect','getMinutes','symbol','realized','\x20change','Binance\x20API\x20blocked','args','limits','usd','No\x20more\x20open\x20orders\x20-\x20','subscribeSpotKline','change24h','open',')\x20|\x20Error\x20details:\x20','Order(s)\x20filled\x20-\x20','14372030dLuYsH','8412mTHVDp','starting-balance-','WebSockets(','type','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','includes','error','397852TKBORI','10219teAZtC','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','stringify','full','indexOf','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','canceled','market','createOrder','2\x20-\x20Handled\x20open\x20orders','\x20order:\x20','threshold','message','kline','simple','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','binance','add','fetchTickers','version','apply','changes','breakeven','2\x20-\x20Validate\x20orders:\x20','storeHeadless','-config.json','keys','currency','secure','formattedMessage','ongoing','Order(s)\x20validated\x20-\x20','Binance\x20not\x20available\x20(2)','target','sort','basecoin','2.3.5','exec','bot-','debug','find','eur','set','precision','restart','cloneDeep','UNLOCKING','ETH','has','reconnected','customId','change','filled','coin','date-fns','OrderNotFound','Binance\x20not\x20available\x20(1)','2\x20-\x20FILLED\x20known\x20order:\x20','startdate','54KaRTcN','data','forEach','9182nOKwcJ','apiSecret','0\x20-\x20EXECUTION:\x20','splice','coin-loading-progress','net-basecoin','test','padStart','-------------------------------\x0a','\x20-\x20','597096whCoLD','emojisell','replace','3063925mQqqgv','kill','toString','\x20minutes','001','ordertype','\x20minutes\x20-\x20','</pre>','\x20portfolio:</b>\x20\x0a\x0a','AuthenticationError','datetime','Bot\x20','eventType','netoffset','balances','Order\x20amount\x20is\x20invalid:\x20','Binance\x20API\x20secret\x20is\x20invalid','HOT/BTC','balancing\x20resumed','sortBy','/output-000.log','order','BNB','ask','Net\x20','getSeconds','excluded','API-key\x20format\x20invalid','exit','leftTxt','event-history','1\x20-\x20Unlock\x20orders','min','2\x20-\x20Orders\x20unlocked','toFixed','fetchBalance','assign','Order\x20filled:\x20','side','last','wss://stream.binance.us:9443','lowdb','success','search','length','sells','getTime','remainingSymbols','\x20|\x20Binance\x20API\x20secret\x20invalid','function','%\x20\x0a','recreate','progress','binanceus','yyyy-MM-dd\x27T\x27HH:mm:ss','<b>Bot\x20','Limit\x20(low-margin)','Unfilled\x20order(s)\x20canceled\x20after\x20','InvalidNonce','orderStatus','entries','2.5.0','slice','argv','\x20|\x20Error\x20details:\x20','format','BTC','valid','EUR','cancel','performance','<pre>',',\x20must\x20be\x20a\x203\x20digit\x20number','initws()','cancelOrder','DDoSProtection','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','<b>','existsSync','timeout','MIN_NOTIONAL','trade','./version.json','balancing\x20resumes\x20when\x20cooldown\x20ends','************','CANCELED','options','amount','total','timeshift','fromCodePoint','event','bb-settings.json','***','hybrid-crypto-js','emojibuy','padEnd','filter','ticker','subscribeSpotUserDataStream','wss://stream.binance.com:9443','ORDERS.UNLOCKING','sell','get','subscribeSymbol24hrTicker','placeOrder()','./logs/','remove','orderstatus','isEqual','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','split','105JjiXBd','concat','getDate','395478FBuxcr','getFullYear','page','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','executionReport','wsKey','BUSD','net-fiat','cooldown','fee','accumulatedQuantity','log','Market','uncaughtException','\x20value','getFiat()','max','Error:\x20Invalid\x20argument\x20','UNLOCKED','sha256','exchange','timestamp','random','shift','\x20-\x20bot\x20not\x20started','wsUrl','(((.+)+)+)+$','distribution','price','\x20>\x20[DEBUG]\x20','wsMarket','time','fiat','showname','Net\x20effect\x20(','date','write','limit-low','/USDT','reverse','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','342VccWvk','decrypt','limit-high','map','buy','NEW','Unknown\x20error\x20occured','cancelLoading','final','send','no\x20open\x20orders','getHours','initial','getPortfolio','toggleBotMode','-events.json','bot','9uBoRCs','3\x20-\x20handling\x20FILLED\x20order:\x20','USDT','round','deleteHistoryAlerts','bid','offset','none','fetchClosedOrders','cumulativeQuoteAssetTransactedQty','logs','getMonth','Crypt','BNB/','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','close','ccxt','privateKey','botname','loadSymbols()','warning','getOpenOrders()','mkdirSync','portfolio','push','value','apiKey','\x20|\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Binance\x20API\x20key\x20is\x20invalid','running','orderId','Failed\x20to\x20load\x20coin\x20data\x20for\x20','Order(s)\x20not\x20validated\x20after\x20','configuration-stored','createWriteStream','util','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','settings','\x20orders\x20in\x20less\x20than\x20','newClientOrderId','findIndex','startnumber','openOrders','abs','symbols','getPortfolio()','string','./config/','configuration','cancelOrders()','Limit\x20(high-margin)','defaults','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','Binance\x20not\x20responding',':\x20Bot\x20','buys','userData','headless','1\x20-\x20Validate\x20orders:\x20','NANO/','yyyy/MM/dd','LOCKED','commission','commissionAsset','number','parse','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'];_0x37b6=function(){return _0x4a55a9;};return _0x37b6();}async function loadSymbols(){const _0x53cb49=_0x1243a3;let _0x4d123b=![];try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x53cb49(0x191)][_0x53cb49(0x118)](_0x449664=>{const _0x3ab708=_0x53cb49;let _0x6d3ee6=![];return exceptions[_0x3ab708(0xa9)](_0x290fb8=>{if(_0x449664['includes'](_0x290fb8))_0x6d3ee6=!![];}),!_0x6d3ee6;}),_0x4d123b=!![];}catch(_0x2912c5){_0x4d123b=![];throw _0x2912c5;}return _0x4d123b;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x24c69f=_0x1243a3;proxyEmit(_0x24c69f(0x195),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x24c69f(0xc5),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x36bad3=getNormalizedPerformance();emitPerformance(_0x36bad3),await getStartingBalances(_0x36bad3);}async function toggleBotMode(){const _0x3cdb64=_0x1243a3;let _0xf7b50f=dbConfig[_0x3cdb64(0x11e)](_0x3cdb64(0x163))[_0x3cdb64(0x94)]({'botID':botID})[_0x3cdb64(0x17d)]();if(_0xf7b50f){const _0x35ed85=!_0xf7b50f['headless'];dbConfig[_0x3cdb64(0x11e)](_0x3cdb64(0x163))[_0x3cdb64(0x94)]({'botID':botID})['assign']({'headless':_0x35ed85})[_0x3cdb64(0x14e)](),config[_0x3cdb64(0x19e)]=_0x35ed85,proxyEmit(_0x3cdb64(0x195),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x4bfda7=_0x1243a3;process[_0x4bfda7(0x15c)]({'updatebotmanager':!![]},_0x41d2b7=>{});}function cleanws(){const _0x3a25d8=_0x1243a3;wsinitialized=![];ws1&&(ws1[_0x3a25d8(0xa9)](_0xc896ef=>{try{wsClient['close'](_0xc896ef);}catch(_0x40853e){}}),ws1=[]);if(ws2){try{wsClient['close'](ws2);}catch(_0x30fb8a){}ws2=null;}ws3&&(ws3[_0x3a25d8(0xa9)](_0x548e64=>{const _0xc8dc26=_0x3a25d8;try{wsClient[_0xc8dc26(0x173)](_0x548e64);}catch(_0x41c5d9){}}),ws3=[]);}async function initws(){const _0x13a33a=_0x1243a3;cleanws();let _0x367e41=[];currentCoins[_0x13a33a(0xa9)](_0x56f55b=>{const _0x567ef9=_0x13a33a;if(_0x56f55b['coin']!=config[_0x567ef9(0x8f)])_0x367e41['push'](_0x56f55b[_0x567ef9(0x1bc)]);});if(!_0x367e41[_0x13a33a(0x1cf)](stablecoins[_0x13a33a(0x95)]['symbol']))_0x367e41[_0x13a33a(0x17c)](stablecoins[_0x13a33a(0x95)][_0x13a33a(0x1bc)]);if(!_0x367e41[_0x13a33a(0x1cf)](stablecoins[_0x13a33a(0x1c2)][_0x13a33a(0x1bc)]))_0x367e41[_0x13a33a(0x17c)](stablecoins[_0x13a33a(0x1c2)][_0x13a33a(0x1bc)]);if(!_0x367e41[_0x13a33a(0x1cf)](_0x13a33a(0x171)+config[_0x13a33a(0x8f)]))_0x367e41['push'](_0x13a33a(0x171)+config[_0x13a33a(0x8f)]);try{_0x367e41[_0x13a33a(0xa9)]((_0x1c4806,_0x17381f)=>{const _0x18d07c=_0x13a33a;ws1[_0x17381f]=wsClient[_0x18d07c(0x1c4)](noslash(_0x1c4806),'1m'),ws3[_0x17381f]=wsClient[_0x18d07c(0x11f)](noslash(_0x1c4806),'spot');}),ws2=wsClient[_0x13a33a(0x11a)]();}catch(_0x26a31e){await handleError(_0x26a31e,_0x13a33a(0x100));}let _0x44ebf6,_0x571026=0x0;loading[_0x13a33a(0xe6)]=[];let _0x1f04b0=0x0;_0x367e41['forEach'](_0x3a1045=>{const _0x97308b=_0x13a33a;loading[_0x97308b(0xe6)][_0x97308b(0x17c)](_0x3a1045);}),loadingCanceled=![];let _0x274162=![];while(_0x44ebf6!=_0x367e41['length']){_0x44ebf6=0x0,_0x367e41[_0x13a33a(0xa9)](_0xc3050a=>{const _0xb0cf00=_0x13a33a;global[_0xb0cf00(0x119)][noslash(_0xc3050a)]&&(loading[_0xb0cf00(0xe6)]=loading['remainingSymbols'][_0xb0cf00(0x118)](_0x2dc0ef=>_0x2dc0ef!=_0xc3050a),_0x44ebf6++);}),loading[_0x13a33a(0xeb)]=Math[_0x13a33a(0x167)](_0x44ebf6/_0x367e41[_0x13a33a(0xe3)]*0x64);loading[_0x13a33a(0xeb)]!=0x64&&(_0x1f04b0>0x1e*0x5&&(loading[_0x13a33a(0x106)]=!![],emitLoadingProgress()),_0x1f04b0>0x3c*0x5&&!_0x274162&&(_0x274162=!![],logHistory(_0x13a33a(0x1d0),_0x13a33a(0x184)+loading['remainingSymbols'][_0x13a33a(0x1aa)](',\x20')+_0x13a33a(0x142)),logHistory(_0x13a33a(0x1d0),'Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x13a33a(0x152)),await sleep(loadCoinsRetryInterval),process[_0x13a33a(0x15c)]({'stop':'restart'},_0x852101=>{})));if(loadingCanceled){loading[_0x13a33a(0xfc)]=!![],emitLoadingProgress();break;}else _0x44ebf6!=_0x571026&&(_0x571026=_0x44ebf6,emitLoadingProgress()),_0x1f04b0++,await sleep(0xc8);}_0x274162&&logHistory(_0x13a33a(0xe1),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started');if(_0x44ebf6==_0x367e41[_0x13a33a(0xe3)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x137474=_0x1243a3;proxyEmit(_0x137474(0xae),loading);}async function getFiat(){const _0x4a42b0=_0x1243a3;let _0x53fabc=0x0,_0x124308=0x0;try{_0x53fabc=global[_0x4a42b0(0x119)][stablecoins[_0x4a42b0(0x95)][_0x4a42b0(0xa1)]],_0x124308=global[_0x4a42b0(0x119)][stablecoins[_0x4a42b0(0x1c2)][_0x4a42b0(0xa1)]];}catch(_0x50865f){await handleError(_0x50865f,_0x4a42b0(0x139));}return{'eur':Number(_0x53fabc),'usd':Number(_0x124308)};}function setStartDatePerformance(){const _0x5476a8=_0x1243a3;if(config&&config[_0x5476a8(0x1ac)][0x0]['changes']['length']!=0x0){const _0x3e4c70=config[_0x5476a8(0x1ac)][0x0][_0x5476a8(0x81)];dbPerformance[_0x5476a8(0x11e)]('data')['find']({'date':config[_0x5476a8(0xa6)]})[_0x5476a8(0xdb)]({'coins':_0x3e4c70})[_0x5476a8(0x14e)]();}}async function recreateCoinResults(){const _0x58a0ab=_0x1243a3;let _0x3bae1b,_0x1fc864=[];try{const _0x1e6fad=fns['format'](fns['parseISO'](config[_0x58a0ab(0xa6)][_0x58a0ab(0xb6)](/\//g,'-')),_0x58a0ab(0xed));for(const _0x564242 of currentCoins){if(_0x564242[_0x58a0ab(0xa1)]!=config['basecoin']){let _0x4834a8=0x0,_0x355a2f,_0x1120c7;_0x3bae1b=await getAllEventOrders(_0x564242[_0x58a0ab(0x1bc)]);if(_0x3bae1b['length']>0x0)_0x3bae1b['forEach'](_0x4df484=>{const _0x40af13=_0x58a0ab,_0x321918=_0x564242[_0x40af13(0x1bc)][_0x40af13(0x1cf)](config[_0x40af13(0x8f)]+'/');_0x1fc864[_0x40af13(0x17c)]({'datetime':_0x4df484['datetime'],'coin':_0x564242[_0x40af13(0xa1)],'symbol':_0x564242[_0x40af13(0x1bc)],'side':_0x4df484[_0x40af13(0xdd)],'reverse':_0x321918,'amount':formatResult(_0x4df484[_0x40af13(0xa0)],0x8),'filled':formatResult(_0x4df484['filled'],0x8),'price':formatResult(_0x4df484[_0x40af13(0x146)],0x8)}),_0x4834a8=_0x4df484['side']==_0x40af13(0x157)?_0x4834a8+_0x4df484[_0x40af13(0xa0)]:_0x4834a8-_0x4df484[_0x40af13(0xa0)];if(!_0x1120c7)_0x1120c7=_0x4df484[_0x40af13(0x146)];});_0x355a2f=_0x564242[_0x58a0ab(0x1a5)]-_0x4834a8;let _0x37e749;config['liquidity'][_0x58a0ab(0xa9)](_0x29e711=>{const _0x3f17d0=_0x58a0ab;!_0x37e749&&(_0x37e749=_0x29e711['changes'][_0x3f17d0(0x94)](_0x315171=>_0x315171[_0x3f17d0(0xa1)]==_0x564242[_0x3f17d0(0xa1)]),_0x37e749&&(_0x355a2f=_0x37e749[_0x3f17d0(0x1a5)],_0x1120c7=_0x37e749[_0x3f17d0(0x146)]));});let _0x54d045=dbCoinResults['get']('coins')[_0x58a0ab(0x94)]({'coin':_0x564242[_0x58a0ab(0xa1)]})[_0x58a0ab(0x17d)]();_0x54d045={'coin':_0x564242[_0x58a0ab(0xa1)],'number':_0x355a2f,'breakeven':_0x1120c7,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')['find']({'coin':_0x564242[_0x58a0ab(0xa1)]})[_0x58a0ab(0xdb)](_0x54d045)[_0x58a0ab(0x14e)]();}}_0x1fc864[_0x58a0ab(0x8e)]((_0x5cdbc9,_0x2ebdd4)=>_0x5cdbc9[_0x58a0ab(0xc1)]>_0x2ebdd4[_0x58a0ab(0xc1)]?0x1:_0x2ebdd4['datetime']>_0x5cdbc9[_0x58a0ab(0xc1)]?-0x1:0x0);let _0x3c34ac=0x0;for(let _0x4e2a8c of _0x1fc864){await updateCoinResults(_0x4e2a8c,!![]);}}catch(_0x84ec57){await handleError(_0x84ec57,'recreateCoinResults()');}}async function getAllEventOrders(_0x539ed2){const _0x1a24c3=_0x1243a3;let _0x279d6d=[],_0x2728bf=dbLogs['get'](_0x1a24c3(0x16e))[_0x1a24c3(0x118)](_0x517c42=>{const _0x3563ad=_0x1a24c3,_0xb7870e=_0x517c42[_0x3563ad(0x112)]['toLowerCase']();return _0xb7870e[_0x3563ad(0x1cf)](_0x539ed2[_0x3563ad(0x1af)]())&&(_0xb7870e[_0x3563ad(0x1cf)](_0x3563ad(0x1d9))&&_0xb7870e[_0x3563ad(0x1cf)](_0x3563ad(0xcc))||_0xb7870e[_0x3563ad(0x1cf)]('filled')&&_0xb7870e[_0x3563ad(0x1cf)](_0x3563ad(0xcc)));})[_0x1a24c3(0xca)](_0x1a24c3(0x149))[_0x1a24c3(0x17d)]();return _0x2728bf[_0x1a24c3(0xa9)](_0x1780e3=>{const _0x2f9379=_0x1a24c3,_0x4956d9=_0x1780e3[_0x2f9379(0x112)][_0x2f9379(0x1cf)](_0x2f9379(0x11d))?'sell':_0x2f9379(0x157),_0x4c7833=/#([0-9]|\.)+\s/i,_0x5ad91d=Number(_0x4c7833[_0x2f9379(0x91)](_0x1780e3['event'])[0x0][_0x2f9379(0xf5)](0x1)),_0x2a9820=/@([0-9]|\.)+$/i,_0x2aa3ac=Number(_0x2a9820[_0x2f9379(0x91)](_0x1780e3['event'])[0x0]['slice'](0x1));_0x279d6d['push']({'datetime':_0x1780e3[_0x2f9379(0x149)],'coin':symbolToCoin(_0x539ed2),'symbol':_0x539ed2,'side':_0x4956d9,'amount':_0x5ad91d,'filled':_0x5ad91d,'price':_0x2aa3ac});}),_0x279d6d;}async function getAllOrders(_0x5da4ee,_0x5aff15){const _0x110fd5=_0x1243a3;let _0x55199b=[];while(_0x5aff15<exchange[_0x110fd5(0x1ad)]()){const _0x47f949=0x1f4,_0x1ca975=await exchange[_0x110fd5(0x16c)](_0x5da4ee,_0x5aff15,_0x47f949);if(_0x1ca975[_0x110fd5(0xe3)])_0x5aff15=_0x1ca975[_0x1ca975[_0x110fd5(0xe3)]-0x1][_0x110fd5(0x13f)]+0x1,_0x55199b=_0x55199b[_0x110fd5(0x128)](_0x1ca975);else break;}return _0x55199b;}async function validate24hChanges(){const _0x58b777=_0x1243a3;let _0x1d7b93;for(const _0x551de0 of currentCoins){if(_0x551de0['coin']!=config[_0x58b777(0x8f)]){let _0x362338;_0x551de0[_0x58b777(0x151)]?_0x362338=formatResult((0x1/(global[_0x58b777(0x9f)][noslash(_0x551de0[_0x58b777(0x1bc)])]/0x64+0x1)-0x1)*0x64,0x3):_0x362338=global[_0x58b777(0x9f)][noslash(_0x551de0['symbol'])],_0x362338<config['change24h']&&(logHistory(_0x58b777(0x1d0),_0x551de0['coin']+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x362338+'%'),logHistory(_0x58b777(0x1d0),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x58b777(0x1d0),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x233e97=_0x1243a3;let _0x11c360=dbLogs[_0x233e97(0x11e)]('version')['value']();if(_0x11c360!=_0x233e97(0x90)){dbLogs['set']('version',_0x233e97(0x90))[_0x233e97(0x14e)]();let _0x196fa5=[];const _0xd84e6f=dbLogs['get'](_0x233e97(0x16e))[_0x233e97(0x17d)]();_0xd84e6f[_0x233e97(0xa9)](_0x55af09=>{const _0x117fbe=_0x233e97;_0x196fa5[_0x117fbe(0x17c)]({'time':_0x55af09[_0x117fbe(0x149)],'type':_0x55af09[_0x117fbe(0x1cd)],'event':_0x55af09[_0x117fbe(0x112)]});}),dbLogs['get'](_0x233e97(0x16e))['assign'](_0x196fa5)['write']();}let _0x16987c=dbConfig[_0x233e97(0x11e)](_0x233e97(0x1e5))[_0x233e97(0x17d)]();if(_0x16987c!=_0x233e97(0x90)){dbConfig[_0x233e97(0x96)](_0x233e97(0x1e5),_0x233e97(0x90))['write']();let _0x4d4dda=dbConfig[_0x233e97(0x11e)](_0x233e97(0x163))[_0x233e97(0x94)]({'botID':botID})['value']();if(_0x4d4dda){let _0x389d9=[];_0x4d4dda['portfolio']['forEach'](_0x71b70e=>{const _0x2fc2ae=_0x233e97;_0x389d9[_0x2fc2ae(0x17c)]({'coin':_0x71b70e['coin'],'number':_0x71b70e[_0x2fc2ae(0x18e)],'price':_0x71b70e[_0x2fc2ae(0x1b7)]}),delete _0x71b70e[_0x2fc2ae(0x18e)],delete _0x71b70e[_0x2fc2ae(0x1b7)];});if(_0x389d9[_0x233e97(0xe3)]!==0x0)fs['writeFile'](configbackuppath+(_0x233e97(0x1cb)+botID+'.json'),JSON['stringify'](_0x389d9,null,0x4),function(_0xd26a41){if(_0xd26a41){}});const _0x6a6176=(_0x2452a9,_0x580c78)=>{const _0xc95513=_0x233e97;let _0x12866c=[];_0x580c78[_0xc95513(0xa9)](_0x46a76c=>{const _0x4c3698=_0xc95513,_0xa8f2a=_0x2452a9[_0x4c3698(0x94)](_0x32488b=>_0x32488b[_0x4c3698(0xa1)]==_0x46a76c[_0x4c3698(0xa1)]);if(!_0xa8f2a)_0x12866c[_0x4c3698(0x17c)](_0x46a76c);});let _0x1bb93a=[];return _0x2452a9['forEach'](_0x158a61=>{const _0x98cb7e=_0xc95513,_0x39ef82=_0x580c78[_0x98cb7e(0x94)](_0x16a59e=>_0x16a59e[_0x98cb7e(0xa1)]==_0x158a61['coin']);if(!_0x39ef82||_0x39ef82[_0x98cb7e(0x1a5)]==0x0&&_0x158a61[_0x98cb7e(0x1a5)]!=0x0)_0x1bb93a['push'](_0x158a61);}),{'missingDay1':_0x12866c,'notInDay2':_0x1bb93a};},_0x2e0f1c=dbPerformance['get']('data')[_0x233e97(0x99)]()[_0x233e97(0x17d)]();if(_0x2e0f1c[_0x233e97(0xe3)]>0x1){const {missingDay1:_0x41d47b,notInDay2:_0x1750a9}=_0x6a6176(_0x389d9,_0x2e0f1c[0x1][_0x233e97(0x1b3)]);_0x389d9=[..._0x389d9,..._0x41d47b],_0x1750a9[_0x233e97(0xa9)](_0x17217f=>{const _0x272f78=_0x233e97;let _0x3ce9c4=_0x389d9[_0x272f78(0x18d)](_0x4a313a=>_0x4a313a[_0x272f78(0xa1)]==_0x17217f[_0x272f78(0xa1)]);_0x3ce9c4!=-0x1&&_0x389d9[_0x272f78(0xad)](_0x3ce9c4,0x1);});}_0x389d9[_0x233e97(0x8e)]((_0x2bbbb3,_0x694a0a)=>_0x2bbbb3[_0x233e97(0xa1)]>_0x694a0a[_0x233e97(0xa1)]?0x1:_0x694a0a[_0x233e97(0xa1)]>_0x2bbbb3['coin']?-0x1:0x0);let _0x5d7f56=[{'date':_0x4d4dda[_0x233e97(0xa6)],'changes':_0x389d9}];_0x2e0f1c[_0x233e97(0xe3)]>0x2&&_0x2e0f1c[_0x233e97(0xa9)]((_0x3bce93,_0x2c9f9f)=>{const _0x239ce1=_0x233e97;if(_0x2c9f9f>0x0&&_0x2c9f9f<_0x2e0f1c[_0x239ce1(0xe3)]-0x1){const {missingDay1:_0x47418b,notInDay2:_0xceacfa}=_0x6a6176(_0x2e0f1c[_0x2c9f9f][_0x239ce1(0x1b3)],_0x2e0f1c[_0x2c9f9f+0x1]['coins']);_0x389d9=[],(_0x47418b[_0x239ce1(0xe3)]!=0x0||_0xceacfa['length']!=0x0)&&(_0x47418b[_0x239ce1(0xe3)]!=0x0&&_0x389d9[_0x239ce1(0x17c)](..._0x47418b),_0xceacfa[_0x239ce1(0xe3)]!=0x0&&(_0xceacfa[_0x239ce1(0xa9)](_0x3e9948=>{const _0x55dda3=_0x239ce1;_0x3e9948['number']=-_0x3e9948[_0x55dda3(0x1a5)];}),_0x389d9[_0x239ce1(0x17c)](..._0xceacfa)),_0x389d9[_0x239ce1(0x8e)]((_0x5bf4ed,_0x4d4db9)=>_0x5bf4ed['coin']>_0x4d4db9['coin']?0x1:_0x4d4db9['coin']>_0x5bf4ed[_0x239ce1(0xa1)]?-0x1:0x0),_0x5d7f56[_0x239ce1(0x17c)]({'date':_0x2e0f1c[_0x2c9f9f+0x1]['date'],'changes':_0x389d9}));}}),dbConfig[_0x233e97(0x11e)](_0x233e97(0x163))[_0x233e97(0x94)]({'botID':botID})[_0x233e97(0xdb)]({..._0x4d4dda,'liquidity':_0x5d7f56})[_0x233e97(0x14e)]();}}config=getConfiguration(botID);let _0x4dcec6=dbPerformance[_0x233e97(0x11e)](_0x233e97(0x1e5))[_0x233e97(0x17d)]();_0x4dcec6!=_0x233e97(0x90)&&(dbPerformance[_0x233e97(0x96)]('version','2.3.5')[_0x233e97(0x14e)](),setStartDatePerformance());let _0x3deafe=dbCoinResults['get'](_0x233e97(0x1e5))[_0x233e97(0x17d)]();if(_0x3deafe!='2.5.0'){dbCoinResults[_0x233e97(0x96)](_0x233e97(0x1e5),_0x233e97(0xf4))[_0x233e97(0x14e)]();let _0x274655=dbCoinResults['get'](_0x233e97(0x1b3))[_0x233e97(0x17d)]();if(_0x274655[_0x233e97(0xe3)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x2ee363){const _0x161296=_0x1243a3;let _0x35c631=dbConfig[_0x161296(0x11e)](_0x161296(0x163))['find']({'botID':_0x2ee363})[_0x161296(0x17d)]();if(_0x35c631){let _0x2e95c4=![];typeof _0x35c631[_0x161296(0x1dd)]==_0x161296(0x193)&&(_0x35c631={..._0x35c631,'threshold':Number(_0x35c631[_0x161296(0x1dd)])},_0x2e95c4=!![]),_0x35c631[_0x161296(0x1c5)]==null&&(_0x35c631={..._0x35c631,'change24h':-0x14},_0x2e95c4=!![]),_0x2e95c4&&(_0x35c631={'botID':_0x35c631[_0x161296(0x1b6)],'exchange':_0x35c631[_0x161296(0x13e)],'apiKey':_0x35c631[_0x161296(0x17e)],'apiSecret':_0x35c631[_0x161296(0xab)],'basecoin':_0x35c631[_0x161296(0x8f)],'botname':_0x35c631[_0x161296(0x176)],'showname':_0x35c631[_0x161296(0x14b)],'threshold':_0x35c631[_0x161296(0x1dd)],'ordertype':_0x35c631[_0x161296(0xbc)],'timeout':_0x35c631[_0x161296(0x106)],'startdate':_0x35c631[_0x161296(0xa6)],'recreate':_0x35c631[_0x161296(0xea)],'timeshift':_0x35c631['timeshift'],'headless':_0x35c631[_0x161296(0x19e)],'cooldown':_0x35c631[_0x161296(0x132)],'change24h':_0x35c631[_0x161296(0x1c5)],'emojibuy':_0x35c631[_0x161296(0x116)],'emojisell':_0x35c631['emojisell'],'portfolio':_0x35c631[_0x161296(0x17b)],'liquidity':_0x35c631[_0x161296(0x1ac)]},dbConfig[_0x161296(0x11e)](_0x161296(0x163))[_0x161296(0x122)]()[_0x161296(0x14e)](),dbConfig[_0x161296(0x11e)](_0x161296(0x163))[_0x161296(0x17c)](_0x35c631)['write']());}else _0x35c631={'botID':_0x2ee363,'exchange':_0x161296(0x1e2),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x161296(0xc2)+_0x2ee363,'showname':![],'threshold':0x3,'ordertype':_0x161296(0x1d9),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x35c631;}function emittedConfiguration(){const _0x23d424=_0x1243a3;let _0x380cd6;if(config['apiKey']=='')_0x380cd6={...config,'configstate':_0x23d424(0x15f)};else config[_0x23d424(0x17e)]=='***'?_0x380cd6={...config,'configstate':'recovery'}:_0x380cd6={...config,'apiKey':_0x23d424(0x10b),'apiSecret':_0x23d424(0x10b)};return _0x380cd6;}function getSettings(){const _0x53da11=_0x1243a3;return dbSettings[_0x53da11(0x11e)](_0x53da11(0x18a))[_0x53da11(0x17d)]();}function getSecure(){const _0x141d8b=_0x1243a3;return dbSecure[_0x141d8b(0x11e)](_0x141d8b(0x88))[_0x141d8b(0x17d)]()||{};}function updateTimeshift(_0x5cf1bb){const _0x1f1aeb=_0x1243a3;let _0x4a0899=dbConfig['get'](_0x1f1aeb(0x163))[_0x1f1aeb(0x94)]({'botID':botID})[_0x1f1aeb(0x17d)]();_0x4a0899&&dbConfig[_0x1f1aeb(0x11e)]('bot')[_0x1f1aeb(0x94)]({'botID':botID})[_0x1f1aeb(0xdb)]({'timeshift':_0x5cf1bb})[_0x1f1aeb(0x14e)](),config['timeshift']=_0x5cf1bb,proxyEmit(_0x1f1aeb(0x195),emittedConfiguration());}async function storeConfiguration(_0x4268e6){const _0x276bf9=_0x1243a3;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x1f3f48=dbConfig[_0x276bf9(0x11e)](_0x276bf9(0x163))[_0x276bf9(0x94)]({'botID':botID})['value']();_0x4268e6={..._0x4268e6,'apiKey':crypt[_0x276bf9(0x154)](secure[_0x276bf9(0x175)],_0x4268e6[_0x276bf9(0x17e)])[_0x276bf9(0x1de)],'apiSecret':crypt[_0x276bf9(0x154)](secure[_0x276bf9(0x175)],_0x4268e6['apiSecret'])[_0x276bf9(0x1de)]};if(_0x1f3f48){if(_0x4268e6[_0x276bf9(0x17e)]=='************')_0x4268e6[_0x276bf9(0x17e)]=config[_0x276bf9(0x17e)];if(_0x4268e6[_0x276bf9(0xab)]==_0x276bf9(0x10b))_0x4268e6[_0x276bf9(0xab)]=config[_0x276bf9(0xab)];dbConfig[_0x276bf9(0x11e)](_0x276bf9(0x163))[_0x276bf9(0x94)]({'botID':botID})['assign'](_0x4268e6)[_0x276bf9(0x14e)]();}else dbConfig[_0x276bf9(0x11e)](_0x276bf9(0x163))['push'](_0x4268e6)[_0x276bf9(0x14e)](),process['send']({'status':_0x276bf9(0x1b1),'live':_0x276bf9(0x182)},_0xd89689=>{});config={..._0x4268e6},setStartDatePerformance(),process[_0x276bf9(0x15c)]({'botname':_0x4268e6[_0x276bf9(0x176)]},_0x3516e4=>{}),updateBotManager();const _0x5040db=getNormalizedPerformance();getStartingBalances(_0x5040db),emitPerformance(_0x5040db),proxyEmit(_0x276bf9(0x186)),await initCoinResults(),reset();}async function storeHeadless(_0x4fb92f){const _0x4664ea=_0x1243a3,_0x5ffdeb={...config,'headless':_0x4fb92f['headless']};let _0x180460=dbConfig[_0x4664ea(0x11e)]('bot')[_0x4664ea(0x94)]({'botID':botID})[_0x4664ea(0x17d)]();_0x180460&&dbConfig[_0x4664ea(0x11e)](_0x4664ea(0x163))[_0x4664ea(0x94)]({'botID':botID})['assign'](_0x5ffdeb)[_0x4664ea(0x14e)](),config={..._0x5ffdeb},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0x3d1dd0){const _0x372107=_0x1243a3;return _0x3d1dd0[_0x372107(0xb6)]('/','');}async function updateNumberCoins(_0x39f2ab){const _0x1085e7=_0x1243a3;if(_0x39f2ab[_0x1085e7(0xc3)]&&_0x39f2ab[_0x1085e7(0xc3)]==_0x1085e7(0x12e)){logger[_0x1085e7(0x93)](_0x1085e7(0xac)+_0x39f2ab[_0x1085e7(0x1bc)]+_0x1085e7(0x17f)+_0x39f2ab['orderStatus']+_0x1085e7(0x17f)+_0x39f2ab[_0x1085e7(0x183)]+_0x1085e7(0x17f)+_0x39f2ab[_0x1085e7(0x18c)]);let _0x17a9f2=_0x39f2ab[_0x1085e7(0xf2)],_0x582ce7=![];currentCoins['forEach'](_0x3ab2ff=>{const _0x59ddbc=_0x1085e7;noslash(_0x3ab2ff[_0x59ddbc(0x1bc)])==_0x39f2ab[_0x59ddbc(0x1bc)]&&(_0x582ce7=!![]);});if(!_0x582ce7)return;const _0x368b84=currentCoins[_0x1085e7(0x94)](_0x3ae7ac=>noslash(_0x3ae7ac[_0x1085e7(0x1bc)])==_0x39f2ab['symbol']),_0x44efb1=_0x40e91b=>{const _0x2000df=_0x1085e7;if(_0x368b84)_0x368b84[_0x2000df(0x123)]=_0x40e91b;};if(_0x17a9f2==_0x1085e7(0x158))_0x44efb1('open');else{if(_0x17a9f2==_0x1085e7(0x10c))_0x44efb1(_0x1085e7(0x1d8)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x17a9f2=='FILLED'){logger[_0x1085e7(0x93)]('1\x20-\x20FILLED:\x20'+_0x39f2ab[_0x1085e7(0x1bc)]+_0x1085e7(0x17f)+_0x39f2ab[_0x1085e7(0x134)]+_0x1085e7(0x17f)+_0x39f2ab['orderId']+_0x1085e7(0x17f)+_0x39f2ab[_0x1085e7(0x18c)]);let _0x26ba48=![];if(lastOrders)lastOrders['forEach'](async _0x503d5c=>{const _0x1b0f86=_0x1085e7;if(_0x503d5c[_0x1b0f86(0x9e)]==_0x39f2ab[_0x1b0f86(0x18c)]){logger[_0x1b0f86(0x93)](_0x1b0f86(0xa5)+_0x39f2ab[_0x1b0f86(0x18c)]),_0x26ba48=!![];if(_0x503d5c[_0x1b0f86(0xa0)]==0x0){logger[_0x1b0f86(0x93)](_0x1b0f86(0x165)+_0x39f2ab[_0x1b0f86(0x18c)]),_0x503d5c[_0x1b0f86(0x146)]=_0x39f2ab[_0x1b0f86(0x16d)]/_0x39f2ab[_0x1b0f86(0x134)],_0x503d5c[_0x1b0f86(0xa0)]=_0x39f2ab[_0x1b0f86(0x134)],_0x503d5c['fee']={'cost':_0x39f2ab[_0x1b0f86(0x1a3)],'currency':_0x39f2ab[_0x1b0f86(0x1a4)]},_0x44efb1(_0x1b0f86(0xa0)),await validateOrders();if(lockOrders==ORDERS[_0x1b0f86(0x1a2)])currentCoins=await getCoins();await updateCoinResults(_0x503d5c);}}});!_0x26ba48&&(logger['debug']('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x39f2ab[_0x1085e7(0x183)]),_0x44efb1(_0x1085e7(0xa0)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0xaa2acd=JSON[_0x1085e7(0x1a6)](lastBalances[_0x1085e7(0x17b)]);const _0x3aadc5=_0xaa2acd['find'](_0x5f1cc2=>noslash(_0x5f1cc2[_0x1085e7(0x1bc)])==_0x39f2ab[_0x1085e7(0x1bc)]);if(_0x3aadc5){if(_0x17a9f2=='NEW')_0x3aadc5[_0x1085e7(0x123)]=_0x3aadc5['orderstatus']=='filled'?_0x1085e7(0xa0):_0x1085e7(0x1c6);else{if(_0x17a9f2==_0x1085e7(0x10c))_0x3aadc5[_0x1085e7(0x123)]=_0x3aadc5[_0x1085e7(0x123)]=='filled'?_0x1085e7(0xa0):_0x1085e7(0x1d8);else _0x17a9f2=='FILLED'&&(_0x3aadc5[_0x1085e7(0x123)]=_0x1085e7(0xa0));}}lastBalances={...lastBalances,'portfolio':JSON[_0x1085e7(0x1d4)](_0xaa2acd)},proxyEmit(_0x1085e7(0xc5),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0xdef20c=![],_0x42d894=!![],_0x524403=config[_0x1243a3(0x8f)]){const _0x1da78e=_0x1243a3;let _0x5383c2,_0x45366a=[],_0x51b3d0=[],_0x559992=[];try{_0x5383c2=await exchange[_0x1da78e(0xda)](),mybalances=_0x5383c2[_0x1da78e(0x10f)];if(!_0x42d894)for(const [_0x4ed9ac,_0x392e3c]of Object[_0x1da78e(0xf3)](mybalances)){_0x559992[_0x1da78e(0x17c)](_0x4ed9ac);}else config[_0x1da78e(0x17b)][_0x1da78e(0xa9)](_0x58b1c8=>{const _0x33606c=_0x1da78e;if(!_0x58b1c8[_0x33606c(0xd1)])_0x559992['push'](_0x58b1c8['coin']);});if(_0x524403=='')for(const [_0x3a7b7f,_0x1f6ed0]of Object[_0x1da78e(0xf3)](mybalances)){_0x1f6ed0[_0x1da78e(0xb9)]()!=0x0&&_0x51b3d0[_0x1da78e(0x17c)]({'coin':_0x3a7b7f});}else{if(_0xdef20c)await getOpenOrders();let _0x1387e8=![];for(const [_0x3723c6,_0x6dc603]of Object['entries'](mybalances)){if(_0x559992['includes'](_0x3723c6)){const _0x180bb0=config['portfolio'][_0x1da78e(0x94)](_0x41da69=>_0x41da69[_0x1da78e(0xa1)]==_0x3723c6),_0x5d0fdc=_0x3723c6+'/'+_0x524403,_0x498d66=_0x524403+'/'+_0x3723c6,_0x3c00bb=currentCoins[_0x1da78e(0x94)](_0x4e2e05=>_0x4e2e05['coin']==_0x3723c6);_0x1387e8=![];_0xdef20c&&(_0x1387e8=allOpenOrders[_0x1da78e(0x94)](_0xe9676c=>_0xe9676c[_0x1da78e(0x1bc)]==_0x180bb0[_0x1da78e(0x1bc)]));if((_0x6dc603[_0x1da78e(0xb9)]()!=0x0||_0x180bb0)&&(allSymbols[_0x1da78e(0x1cf)](_0x5d0fdc)||_0x3723c6==_0x524403))_0x3723c6!=_0x524403&&_0x45366a[_0x1da78e(0x17c)](_0x5d0fdc),_0x51b3d0[_0x1da78e(0x17c)]({'coin':_0x3723c6,'symbol':_0x5d0fdc,'reverse':![],'number':Math[_0x1da78e(0x13a)](_0x6dc603+(_0x180bb0&&_0x180bb0['offset']||0x0),0x0),'orderstatus':_0xdef20c?_0x1387e8?_0x1da78e(0x1c6):_0x1da78e(0x16b):_0x3c00bb?_0x3c00bb[_0x1da78e(0x123)]:'none'});else(_0x6dc603[_0x1da78e(0xb9)]()!=0x0||_0x180bb0)&&allSymbols[_0x1da78e(0x1cf)](_0x498d66)&&(_0x3723c6!=_0x524403&&_0x45366a[_0x1da78e(0x17c)](_0x498d66),_0x51b3d0[_0x1da78e(0x17c)]({'coin':_0x3723c6,'symbol':_0x498d66,'reverse':!![],'number':Math[_0x1da78e(0x13a)](_0x6dc603+(_0x180bb0&&_0x180bb0[_0x1da78e(0x16a)]||0x0),0x0),'orderstatus':_0xdef20c?_0x1387e8?'open':_0x1da78e(0x16b):_0x3c00bb?_0x3c00bb[_0x1da78e(0x123)]:'none'}));}}}}catch(_0x315065){if(!_0x42d894)handleErrorNoStop(_0x315065,_0x1da78e(0x1b5));else await handleError(_0x315065,_0x1da78e(0x1b5));}return _0x51b3d0;}async function getCoinNumber(_0x38f5e7){const _0x2fc53f=_0x1243a3;let _0x2d5566;try{const _0x203dcf=await exchange[_0x2fc53f(0xda)]();_0x2d5566=_0x203dcf['total'][_0x38f5e7];}catch(_0x147e6f){await handleError(_0x147e6f,'getCoinNumber()');}return _0x2d5566;}async function getOpenOrders(){const _0x392004=_0x1243a3;let _0x1302ff;allOpenOrders=[];try{for(const _0x523079 of config[_0x392004(0x17b)]){!_0x523079['excluded']&&_0x523079[_0x392004(0xa1)]!=config['basecoin']&&(_0x1302ff=await exchange['fetchOpenOrders'](_0x523079[_0x392004(0x1bc)]),_0x1302ff[_0x392004(0xe3)]>0x0&&allOpenOrders[_0x392004(0x17c)](_0x1302ff[0x0]));}}catch(_0x41addb){await handleError(_0x41addb,_0x392004(0x179));}}async function handleOpenOrders(_0x2ace32=0x0){const _0x3a63fe=_0x1243a3;allOpenOrders[_0x3a63fe(0xe3)]==0x0&&lockOrders==ORDERS[_0x3a63fe(0x1a2)]&&allOrdersPlaced&&(_0x2ace32==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x2ace32++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x3a63fe(0x1db)),validateOrders(_0x3a63fe(0x15d))));}async function getPortfolio(_0x2c86b8){const _0x332d30=_0x1243a3;let _0x18348b=[],_0x11c06e=[],_0x430651,_0x4afc77=[],_0x4eadbc,_0x3ed666;_0x2c86b8[_0x332d30(0x17e)]===_0x332d30(0x10b)||_0x2c86b8['apiSecret']===_0x332d30(0x10b)?(_0x4eadbc=config[_0x332d30(0x17e)],_0x3ed666=config['apiSecret']):(_0x4eadbc=_0x2c86b8[_0x332d30(0x17e)],_0x3ed666=_0x2c86b8['apiSecret']);await initExchange(_0x4eadbc,_0x3ed666);let _0x246870=![];try{_0x246870=await loadSymbols();}catch(_0x4b9fe9){_0x246870=![],handleErrorNoStop(_0x4b9fe9,_0x332d30(0x177));}if(_0x246870){_0x4afc77=await getCoins(![],![],_0x2c86b8['basecoin']);if(_0x4afc77===![])proxyEmit('portfolio',![]);else{if(_0x2c86b8[_0x332d30(0x8f)]=='')proxyEmit(_0x332d30(0x17b),_0x4afc77);else{_0x4afc77[_0x332d30(0xa9)](_0x2b6743=>{const _0xca86d9=_0x332d30;if(_0x2b6743[_0xca86d9(0xa1)]!=_0x2c86b8[_0xca86d9(0x8f)])_0x18348b[_0xca86d9(0x17c)](_0x2b6743[_0xca86d9(0x1bc)]);});try{_0x11c06e=await exchange[_0x332d30(0x1e4)](_0x18348b);}catch(_0x499b45){await handleError(_0x499b45,_0x332d30(0x192));}_0x4afc77['forEach'](_0x8a9c0a=>{const _0x52cc6c=_0x332d30;_0x8a9c0a[_0x52cc6c(0xa1)]!=_0x2c86b8['basecoin']?_0x430651=_0x8a9c0a[_0x52cc6c(0x151)]?0x1/_0x11c06e[_0x8a9c0a[_0x52cc6c(0x1bc)]][_0x52cc6c(0xde)]:_0x11c06e[_0x8a9c0a['symbol']]['last']:_0x430651=0x1,_0x8a9c0a[_0x52cc6c(0x146)]=formatResult(_0x430651,0x8);}),proxyEmit('portfolio',_0x4afc77);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x2630cc){const _0x3d0f97=_0x1243a3;let _0xc3ee19=!![];const _0x26afb4=!_0x2630cc[_0x3d0f97(0x151)]?markets[_0x2630cc[_0x3d0f97(0x1bc)]][_0x3d0f97(0x1c1)][_0x3d0f97(0x10e)]['min']:markets[_0x2630cc[_0x3d0f97(0x1bc)]][_0x3d0f97(0x1c1)]['cost']['min'],_0x1d7fb3=!_0x2630cc[_0x3d0f97(0x151)]?markets[_0x2630cc[_0x3d0f97(0x1bc)]][_0x3d0f97(0x1c1)]['cost'][_0x3d0f97(0xd7)]:markets[_0x2630cc['symbol']][_0x3d0f97(0x1c1)][_0x3d0f97(0x10e)]['min'],_0x3a2e6d=markets[_0x2630cc[_0x3d0f97(0x1bc)]][_0x3d0f97(0x97)][_0x3d0f97(0x10e)];_0x2630cc[_0x3d0f97(0x108)]=formatResultTruncate(_0x2630cc[_0x3d0f97(0x108)],_0x3a2e6d);if(Math['abs'](_0x2630cc['trade'])<_0x26afb4)_0xc3ee19=![];if(Math['abs'](_0x2630cc[_0x3d0f97(0x108)])*_0x2630cc[_0x3d0f97(0xde)]<_0x1d7fb3)_0xc3ee19=![];if(_0x2630cc['side']==_0x3d0f97(0x11d)){let _0x4fbea9=config['portfolio'][_0x3d0f97(0x94)](_0x3e43ba=>_0x3e43ba['coin']==_0x2630cc[_0x3d0f97(0xa1)]);if(_0x4fbea9[_0x3d0f97(0x16a)]>0x0){if(Math[_0x3d0f97(0x190)](_0x2630cc[_0x3d0f97(0x108)])>_0x2630cc['number']-_0x4fbea9[_0x3d0f97(0x16a)])_0xc3ee19=![];}else{if(Math[_0x3d0f97(0x190)](_0x2630cc[_0x3d0f97(0x108)])>_0x2630cc[_0x3d0f97(0x1a5)])_0xc3ee19=![];}}if(_0x2630cc[_0x3d0f97(0xdd)]==_0x3d0f97(0x157)){let _0x46a92d=config[_0x3d0f97(0x17b)]['find'](_0x1add4b=>_0x1add4b[_0x3d0f97(0xa1)]==config[_0x3d0f97(0x8f)]),_0x1a0450=currentCoins[_0x3d0f97(0x94)](_0x424281=>_0x424281['coin']==config[_0x3d0f97(0x8f)]);if(_0x46a92d[_0x3d0f97(0x16a)]>0x0){if(Math['abs'](_0x2630cc[_0x3d0f97(0x108)])*_0x2630cc['last']>_0x1a0450[_0x3d0f97(0x1a5)]-_0x46a92d[_0x3d0f97(0x16a)])_0xc3ee19=![];}else{if(Math[_0x3d0f97(0x190)](_0x2630cc[_0x3d0f97(0x108)])*_0x2630cc[_0x3d0f97(0xde)]>_0x1a0450[_0x3d0f97(0x1a5)])_0xc3ee19=![];}}return _0xc3ee19;}async function getBalances(){const _0x1a086d=_0x1243a3;let _0x11166b=0x0,_0x4eba58;const _0x8e4b5f=config[_0x1a086d(0x1dd)];if(config[_0x1a086d(0x19e)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x1a086d(0xa9)](_0x20235d=>{const _0x11ffc1=_0x1a086d;if(_0x20235d[_0x11ffc1(0xa1)]!=config[_0x11ffc1(0x8f)]){let _0x1f3691=global[_0x11ffc1(0x119)][noslash(_0x20235d[_0x11ffc1(0x1bc)])];_0x4eba58=_0x20235d[_0x11ffc1(0x151)]?0x1/_0x1f3691:_0x1f3691;}else _0x4eba58=0x1;let _0xbef657=_0x20235d[_0x11ffc1(0x1a5)]*_0x4eba58;_0x11166b+=_0xbef657,_0x20235d['last']=formatResult(Number(_0x4eba58),0x8),_0x20235d[_0x11ffc1(0x17d)]=_0xbef657;}),currentCoins['forEach'](_0x314af4=>{const _0x1286fc=_0x1a086d;let _0x58b3d5=config[_0x1286fc(0x17b)][_0x1286fc(0x94)](_0x3c966a=>_0x3c966a[_0x1286fc(0xa1)]==_0x314af4[_0x1286fc(0xa1)]),_0x4e3101=Number(_0x58b3d5[_0x1286fc(0x145)]),_0x1a538d=_0x314af4['value']/_0x11166b*0x64,_0x221d62=_0x4e3101*_0x11166b/0x64/_0x314af4[_0x1286fc(0xde)]-_0x314af4[_0x1286fc(0x1a5)];_0x314af4[_0x1286fc(0x145)]=formatResult(_0x1a538d,0x3),_0x314af4['target']=formatResult(_0x4e3101,0x3),_0x314af4[_0x1286fc(0x108)]=formatResult(_0x221d62,0x8),_0x314af4[_0x1286fc(0xdd)]='',_0x314af4[_0x1286fc(0xfa)]=![];if(_0x314af4[_0x1286fc(0xa1)]!=config[_0x1286fc(0x8f)]){if(_0x314af4[_0x1286fc(0x145)]>_0x4e3101)_0x314af4[_0x1286fc(0xdd)]=_0x1286fc(0x11d),_0x314af4['valid']=checkMinimums(_0x314af4);else _0x314af4[_0x1286fc(0x145)]<_0x4e3101&&(_0x314af4[_0x1286fc(0xdd)]=_0x1286fc(0x157),_0x314af4[_0x1286fc(0xfa)]=checkMinimums(_0x314af4));}_0x314af4[_0x1286fc(0x1ae)]=_0x314af4['distribution']/_0x314af4[_0x1286fc(0x8d)]-0x1;if(_0x314af4[_0x1286fc(0x123)]==_0x1286fc(0xa0)||_0x314af4[_0x1286fc(0x123)]=='canceled')_0x314af4['orderstatus']='none';}),currentCoins[_0x1a086d(0x8e)]((_0x3edc9d,_0x1e1057)=>_0x3edc9d[_0x1a086d(0x1ae)]<_0x1e1057[_0x1a086d(0x1ae)]?0x1:_0x1e1057[_0x1a086d(0x1ae)]<_0x3edc9d['delta']?-0x1:0x0);const _0x57604f=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x57604f[_0x1a086d(0x95)],'usd':_0x57604f['usd'],'portfolio':JSON[_0x1a086d(0x1d4)](currentCoins),'threshold':_0x8e4b5f},proxyEmit(_0x1a086d(0xc5),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x8e4b5f});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x8e4b5f});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x345810=_0x1243a3;if(!lastBalances)return;let _0x3e1579=[],_0x240459,_0x239a27=JSON[_0x345810(0x1a6)](lastBalances[_0x345810(0x17b)]);_0x239a27[_0x345810(0x8e)]((_0x2a892a,_0x242f6c)=>_0x2a892a['coin']>_0x242f6c[_0x345810(0xa1)]?0x1:_0x242f6c['coin']>_0x2a892a[_0x345810(0xa1)]?-0x1:0x0),_0x239a27[_0x345810(0xa9)](_0x5364ee=>{const _0x354ee8=_0x345810;let _0x58c655={'coin':_0x5364ee['coin'],'number':_0x5364ee[_0x354ee8(0x1a5)],'price':_0x5364ee['last']};_0x3e1579[_0x354ee8(0x17c)](_0x58c655);});const _0x16cf42=await getFiat();_0x240459={'date':lastBalances[_0x345810(0x149)]['split']('\x20')[0x0],'eur':_0x16cf42[_0x345810(0x95)],'usd':_0x16cf42[_0x345810(0x1c2)],'coins':_0x3e1579};let _0x10638a=dbPerformance['get'](_0x345810(0xa8))[_0x345810(0x94)]({'date':_0x240459[_0x345810(0x14d)]})[_0x345810(0x17d)]();_0x10638a?_0x240459[_0x345810(0x14d)]!=config[_0x345810(0xa6)]&&dbPerformance[_0x345810(0x11e)](_0x345810(0xa8))[_0x345810(0x94)]({'date':_0x240459['date']})[_0x345810(0xdb)](_0x240459)[_0x345810(0x14e)]():dbPerformance['get'](_0x345810(0xa8))[_0x345810(0x17c)](_0x240459)[_0x345810(0x14e)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3ffff8=_0x1243a3;let _0x46b27e=[];if(dbPerformance[_0x3ffff8(0x9c)](_0x3ffff8(0xa8))['value']()){let _0x28308a=dbPerformance['get'](_0x3ffff8(0xa8))['cloneDeep']()[_0x3ffff8(0xca)](_0x3ffff8(0x14d))[_0x3ffff8(0x17d)](),_0xe66cc9=[...config['liquidity']];_0xe66cc9[_0x3ffff8(0x8e)]((_0x26afd3,_0x4d0493)=>_0x26afd3[_0x3ffff8(0x14d)]>_0x4d0493[_0x3ffff8(0x14d)]?-0x1:_0x4d0493[_0x3ffff8(0x14d)]>_0x26afd3[_0x3ffff8(0x14d)]?0x1:0x0);let _0x416189=0x1,_0x4c05a4=[],_0x56c684=0x0;_0x28308a[_0x3ffff8(0xf5)]()[_0x3ffff8(0x151)]()['forEach']((_0x714c4f,_0x5b7532)=>{const _0x3d34bb=_0x3ffff8;if(_0xe66cc9[_0x56c684]){if(_0x28308a[_0x28308a[_0x3d34bb(0xe3)]-_0x5b7532]&&_0xe66cc9[_0x56c684][_0x3d34bb(0x14d)]==_0x28308a[_0x28308a['length']-_0x5b7532][_0x3d34bb(0x14d)]){if(_0x5b7532<_0x28308a[_0x3d34bb(0xe3)]){let _0x26919d=0x0,_0x1dd029=0x0;_0x28308a[_0x28308a[_0x3d34bb(0xe3)]-_0x5b7532][_0x3d34bb(0x1b3)]['forEach'](_0xc01f52=>{const _0x3e4710=_0x3d34bb;_0x1dd029+=_0xc01f52[_0x3e4710(0x1a5)]*_0xc01f52[_0x3e4710(0x146)];}),_0xe66cc9[_0x56c684]['changes'][_0x3d34bb(0xa9)](_0x129c81=>{const _0x58a631=_0x3d34bb;_0x26919d+=_0x129c81[_0x58a631(0x1a5)]*_0x129c81[_0x58a631(0x146)];}),_0x416189*=_0x26919d/(_0x1dd029-_0x26919d)+0x1;}_0x56c684++;}}let _0xb35306=0x0;_0x714c4f[_0x3d34bb(0x1b3)]['forEach'](_0x3ecea7=>{const _0x555d0c=_0x3d34bb;_0xb35306+=_0x3ecea7[_0x555d0c(0x1a5)]*_0x3ecea7[_0x555d0c(0x146)];}),_0x4c05a4[_0x28308a[_0x3d34bb(0xe3)]-_0x5b7532-0x1]=_0xb35306*(_0x416189-0x1);});let _0x4edbb6=[];_0xe66cc9=[...config[_0x3ffff8(0x1ac)]]||[];let _0x1a344b=0x0;_0x56c684=0x0,_0x28308a[_0x3ffff8(0xa9)]((_0x75343b,_0x569a18)=>{const _0x959d5d=_0x3ffff8;if(_0xe66cc9[_0x56c684]){const _0x305515=fns['parse'](_0xe66cc9[_0x56c684]['date'],_0x959d5d(0x1a1),new Date()),_0x535ab0=fns[_0x959d5d(0x1a6)](_0x75343b[_0x959d5d(0x14d)],_0x959d5d(0x1a1),new Date());if(fns[_0x959d5d(0x124)](_0x305515,_0x535ab0)){let _0x3647e8=0x0;_0xe66cc9[_0x56c684][_0x959d5d(0x81)][_0x959d5d(0xa9)](_0x4bb077=>{const _0x6b17f=_0x959d5d;!_0x4edbb6[_0x4bb077[_0x6b17f(0xa1)]]?_0x4edbb6[_0x4bb077['coin']]=_0x4bb077[_0x6b17f(0x1a5)]:(_0x3647e8=_0x4edbb6[_0x4bb077[_0x6b17f(0xa1)]],_0x4edbb6[_0x4bb077['coin']]+=_0x4bb077[_0x6b17f(0x1a5)]);const _0x488d98=_0x75343b[_0x6b17f(0x1b3)]['find'](_0x4bc977=>_0x4bc977[_0x6b17f(0xa1)]==_0x4bb077['coin']);(!_0x488d98||_0x488d98[_0x6b17f(0x1a5)]==0x0)&&(_0x1a344b+=(-_0x4bb077['number']-_0x3647e8)*_0x4bb077[_0x6b17f(0x146)]);}),_0x56c684++;}}_0x75343b[_0x959d5d(0x1b3)][_0x959d5d(0xa9)]((_0x1c1957,_0x49f154)=>{const _0x50a2e8=_0x959d5d;_0x4edbb6[_0x1c1957[_0x50a2e8(0xa1)]]&&(_0x1c1957={..._0x1c1957,'initial':_0x4edbb6[_0x1c1957[_0x50a2e8(0xa1)]]}),_0x75343b[_0x50a2e8(0x1b3)][_0x49f154]=_0x1c1957;}),_0x46b27e[_0x959d5d(0x17c)]({'date':_0x75343b[_0x959d5d(0x14d)],'eur':_0x75343b[_0x959d5d(0x95)],'usd':_0x75343b[_0x959d5d(0x1c2)],'offset':_0x4c05a4[_0x569a18],'netoffset':_0x1a344b,'coins':_0x75343b['coins']});});}return _0x46b27e;}function emitPerformance(_0x218667){const _0x161f11=_0x1243a3;_0x218667[_0x161f11(0xe3)]!==0x0?(proxyEmit(_0x161f11(0xfd),_0x218667),lastPerformanceEmitted=getDate()):proxyEmit(_0x161f11(0xfd),[]);}function getPerf(_0xf453de,_0x34dd25){const _0xc0fa51=_0x1243a3;let _0x2b6e0f=0x0,_0x25c894=0x0,_0x1b237f=0x0;_0xf453de['coins'][_0xc0fa51(0xa9)](_0xbe3f5d=>{const _0x566883=_0xc0fa51;_0x2b6e0f+=_0xbe3f5d[_0x566883(0x1a5)]*_0xbe3f5d[_0x566883(0x146)];});_0x34dd25&&(_0x2b6e0f+=_0xf453de[_0xc0fa51(0x16a)]);if(config[_0xc0fa51(0x8f)]==='BTC'||config[_0xc0fa51(0x8f)]===_0xc0fa51(0x9b))_0x25c894=_0x2b6e0f*_0xf453de[_0xc0fa51(0x95)],_0x1b237f=_0x2b6e0f*_0xf453de[_0xc0fa51(0x1c2)];else{if(config[_0xc0fa51(0x8f)]===_0xc0fa51(0x130)||config['basecoin']===_0xc0fa51(0x166))_0x25c894=_0x2b6e0f*_0xf453de[_0xc0fa51(0x95)]/_0xf453de[_0xc0fa51(0x1c2)],_0x1b237f=_0x2b6e0f;else config[_0xc0fa51(0x8f)]===_0xc0fa51(0xfb)&&(_0x25c894=_0x2b6e0f,_0x1b237f=_0x2b6e0f*_0xf453de[_0xc0fa51(0x1c2)]/_0xf453de[_0xc0fa51(0x95)]);}return[_0x2b6e0f,_0x25c894,_0x1b237f];}function getKPIs(_0xa69214,_0x1e1798=_0x1243a3(0xfb)){const _0x2bf803=_0x1243a3,_0x58f463=config[_0x2bf803(0x8f)],_0x327694=config[_0x2bf803(0xc5)],_0x38fec7=currentCoins,_0x280692=getNormalizedPerformance(),_0x337ca0=_0xa69214===_0x2bf803(0x8f)?_0x58f463:_0xa69214===_0x2bf803(0x14a)||_0xa69214==='net-fiat'?_0x1e1798:_0x2bf803(0xcf)+_0x58f463,_0x3d0074=_0xa69214===_0x2bf803(0xaf)?_0x2bf803(0x1ba):_0xa69214===_0x2bf803(0x131)?_0x2bf803(0x14c)+_0x337ca0+')':_0x337ca0+_0x2bf803(0x138),_0x595a5=_0xa69214===_0x2bf803(0xaf)||_0xa69214===_0x2bf803(0x131)?'Net\x20effect':_0x337ca0+_0x2bf803(0x1be);let _0x132e68=0x0;_0x38fec7[_0x2bf803(0xa9)](_0x394458=>{const _0x40bfdb=_0x2bf803;_0x132e68+=_0x394458[_0x40bfdb(0x1a5)]*_0x394458[_0x40bfdb(0xde)];});if(_0xa69214===_0x2bf803(0x14a)||_0xa69214==='net-fiat'){if(_0x58f463===_0x2bf803(0xf9)||_0x58f463===_0x2bf803(0x9b))_0x132e68=_0x132e68*(_0x1e1798===_0x2bf803(0xfb)?_0x327694['eur']:_0x327694[_0x2bf803(0x1c2)]);else{if(_0x58f463===_0x2bf803(0x130)||_0x58f463===_0x2bf803(0x166))_0x132e68=_0x132e68*(_0x1e1798===_0x2bf803(0xfb)?_0x327694[_0x2bf803(0x95)]/_0x327694[_0x2bf803(0x1c2)]:0x1);else _0x58f463===_0x2bf803(0xfb)&&(_0x132e68=_0x132e68*(_0x1e1798===_0x2bf803(0xfb)?0x1:_0x327694[_0x2bf803(0x1c2)]/_0x327694[_0x2bf803(0x95)]));}}let _0x28df98;if(_0x132e68!==0x0){if(_0xa69214===_0x2bf803(0x8f))_0x28df98=(_0x132e68/startingBalances['basecoin']-0x1)*0x64;else{if(_0x1e1798===_0x2bf803(0xfb))_0x28df98=(_0x132e68/startingBalances['eur']-0x1)*0x64;else _0x28df98=(_0x132e68/startingBalances['usd']-0x1)*0x64;}let _0x5a20b7=0x0;if(startingBalances[_0x2bf803(0x1b3)])_0x38fec7[_0x2bf803(0xa9)](_0x3519d5=>{const _0x3ebbe5=_0x2bf803;let _0x3445ad=startingBalances['coins'][_0x3ebbe5(0x94)](_0x3329fb=>_0x3329fb[_0x3ebbe5(0xa1)]===_0x3519d5['coin']);if(_0x3445ad&&_0x3445ad['coin']&&_0x3519d5[_0x3ebbe5(0x1a5)]!==0x0)_0x5a20b7+=_0x3445ad[_0x3ebbe5(0x1a5)]*_0x3519d5[_0x3ebbe5(0xde)];});let _0x4c073a=0x0;if(_0x280692[_0x2bf803(0xe3)]!==0x0){let _0x2eb3fd=_0x280692[_0x280692[_0x2bf803(0xe3)]-0x1];_0x4c073a=_0x2eb3fd[_0x2bf803(0xc4)];}_0x5a20b7-=_0x4c073a;_0xa69214==='net-basecoin'&&(_0x28df98=(_0x132e68-_0x5a20b7)/startingBalances[_0x2bf803(0x8f)]*0x64,_0x132e68=_0x132e68-_0x5a20b7);if(_0xa69214==='net-fiat'){let _0x33f2fe=_0x1e1798==='EUR'?startingBalances[_0x2bf803(0x95)]:startingBalances[_0x2bf803(0x1c2)];if(_0x58f463===_0x2bf803(0xf9)||_0x58f463==='ETH')_0x5a20b7=_0x1e1798==='EUR'?_0x5a20b7*_0x327694[_0x2bf803(0x95)]:_0x5a20b7*_0x327694['usd'];else{if(_0x58f463===_0x2bf803(0x130)||_0x58f463===_0x2bf803(0x166))_0x5a20b7=_0x1e1798===_0x2bf803(0xfb)?_0x5a20b7*_0x327694[_0x2bf803(0x95)]/_0x327694['usd']:_0x5a20b7;else _0x58f463===_0x2bf803(0xfb)&&(_0x5a20b7=_0x1e1798==='EUR'?_0x5a20b7:_0x5a20b7*_0x327694['usd']/_0x327694[_0x2bf803(0x95)]);}_0x28df98=(_0x132e68-_0x5a20b7)/_0x33f2fe*0x64,_0x132e68=_0x132e68-_0x5a20b7;}if(_0x28df98){if(_0x28df98<0x64)_0x28df98=_0x28df98['toFixed'](0x2);else{if(_0x28df98<0x3e8)_0x28df98=_0x28df98[_0x2bf803(0xd9)](0x1);else _0x28df98=_0x28df98[_0x2bf803(0xd9)](0x0);}}else _0x28df98=Number('0')[_0x2bf803(0xd9)](0x2);if(_0x132e68){if(Math[_0x2bf803(0x190)](_0x132e68)<0.000001)_0x132e68=_0x132e68[_0x2bf803(0xd9)](0x2);else{if(Math['abs'](_0x132e68)<0.1)_0x132e68=_0x132e68['toFixed'](0x6);else{if(Math[_0x2bf803(0x190)](_0x132e68)<0x1)_0x132e68=_0x132e68[_0x2bf803(0xd9)](0x5);else{if(Math[_0x2bf803(0x190)](_0x132e68)<0xa)_0x132e68=_0x132e68['toFixed'](0x4);else{if(Math[_0x2bf803(0x190)](_0x132e68)<0x64)_0x132e68=_0x132e68[_0x2bf803(0xd9)](0x3);else{if(Math[_0x2bf803(0x190)](_0x132e68)<0x3e8)_0x132e68=_0x132e68[_0x2bf803(0xd9)](0x2);else _0x132e68=_0x132e68[_0x2bf803(0xd9)](0x2);}}}}}}else _0x132e68=Number('0')[_0x2bf803(0xd9)](0x2);}else _0x28df98=Number('0')[_0x2bf803(0xd9)](0x2);return{'value':_0x132e68,'change':_0x28df98,'leftTxt':_0x3d0074,'rightTxt':_0x595a5};}async function getStartingBalances(_0x4df5a7,_0x2a864c=!![]){const _0x4638df=_0x1243a3;if(_0x4df5a7['length']!==0x0){const [_0x34e487,_0x3ae183,_0x446527]=getPerf(_0x4df5a7[0x0],!![]);let _0xab1b48=[];config[_0x4638df(0x17b)]['forEach'](_0x59edcf=>{const _0x23c28f=_0x4638df;let _0x4c17b5=0x0,_0x10dd77;config[_0x23c28f(0x1ac)][_0x23c28f(0xa9)](_0x58a54f=>{const _0x5087b4=_0x23c28f;let _0x133377=_0x58a54f[_0x5087b4(0x81)][_0x5087b4(0x94)](_0x52f145=>_0x52f145[_0x5087b4(0xa1)]==_0x59edcf[_0x5087b4(0xa1)]);if(_0x133377){_0x4c17b5+=_0x133377['number'];if(!_0x10dd77)_0x10dd77=_0x133377['price'];}}),_0xab1b48[_0x23c28f(0x17c)]({'coin':_0x59edcf[_0x23c28f(0xa1)],'number':_0x4c17b5,'initialprice':_0x10dd77});});const _0x556cf8={'basecoin':_0x34e487,'eur':_0x3ae183,'usd':_0x446527,'coins':_0xab1b48};if(_0x2a864c)proxyEmit('starting-balances',_0x556cf8);startingBalances=_0x556cf8;}}function headlessMode(_0x37c315){const _0x294d5d=_0x1243a3;let _0x3d65ee=_0x37c315[_0x294d5d(0x17b)],_0x186c4b=_0x37c315[_0x294d5d(0x1dd)],_0x2cb39b=[];for(let _0xe55309 of _0x3d65ee){if(_0xe55309['coin']!=config[_0x294d5d(0x8f)]){if(_0xe55309['delta']>=_0x186c4b/0x64){if(_0xe55309[_0x294d5d(0xfa)])_0x2cb39b['push'](_0xe55309);}else{if(_0xe55309[_0x294d5d(0x1ae)]<=-_0x186c4b/0x64){if(_0xe55309[_0x294d5d(0xfa)])_0x2cb39b['push'](_0xe55309);}}}}_0x2cb39b['length']>0x0&&placeOrder(_0x2cb39b);}function notifyBalance(_0x4570ef){const _0x51483d=_0x1243a3;let _0x5a3c3f=_0x4570ef['portfolio'],_0x2be520=_0x4570ef['threshold'],_0x5b43db=[];for(let _0xfe9100 of _0x5a3c3f){if(_0xfe9100[_0x51483d(0xa1)]!=config[_0x51483d(0x8f)]){if(_0xfe9100[_0x51483d(0x1ae)]>=_0x2be520/0x64){if(_0xfe9100[_0x51483d(0xfa)])_0x5b43db[_0x51483d(0x17c)](_0xfe9100);}else{if(_0xfe9100['delta']<=-_0x2be520/0x64){if(_0xfe9100[_0x51483d(0xfa)])_0x5b43db[_0x51483d(0x17c)](_0xfe9100);}}}}if(_0x5b43db[_0x51483d(0xe3)]>0x0){let _0x1944b4=_0x5b43db[_0x51483d(0x156)](_0x1ba814=>_0x1ba814['coin']);_0x1944b4[_0x51483d(0x8e)]();let _0x4387f6=_0x1944b4[_0x51483d(0x1aa)](',\x20');if(!lastCoinsToBalance)logHistory(_0x51483d(0x178),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x4387f6;}}function symbolToCoin(_0x1e4857){const _0x504cef=_0x1243a3;let _0x5a883a;if(_0x1e4857['includes']('/'+config[_0x504cef(0x8f)]))_0x5a883a=_0x1e4857[_0x504cef(0xb6)]('/'+config[_0x504cef(0x8f)],'');if(_0x1e4857[_0x504cef(0x1cf)](config[_0x504cef(0x8f)]+'/'))_0x5a883a=_0x1e4857[_0x504cef(0xb6)](config[_0x504cef(0x8f)]+'/','');return _0x5a883a;}async function unlockOrders(){const _0x12d8fe=_0x1243a3;if(allOrdersPlaced&&lockOrders==ORDERS[_0x12d8fe(0x1a2)]){logger[_0x12d8fe(0x93)](_0x12d8fe(0xd6)),lockOrders=ORDERS[_0x12d8fe(0x9a)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x12d8fe(0x93)](_0x12d8fe(0xd8));}}async function validateOrders(_0x5938ec){const _0x4a620a=_0x1243a3;if(_0x5938ec)validateOrdersState=_0x5938ec;logger[_0x4a620a(0x93)](_0x4a620a(0x19f)+validateOrdersState+_0x4a620a(0x1a8)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x4a620a(0x11c):'ORDERS.UNLOCKED'));let _0x228098=[],_0x257204=config[_0x4a620a(0xbc)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4a620a(0x106)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4a620a(0x1a2)])return;logger['debug'](_0x4a620a(0x83)+validateOrdersState),lastOrders[_0x4a620a(0xa9)](_0x50abdb=>{const _0x1dd869=_0x4a620a;let _0x394341=![];_0x50abdb[_0x1dd869(0xa0)]>0x0&&(_0x394341=!![]),_0x228098[_0x1dd869(0x17c)](_0x394341),_0x394341&&config[_0x1dd869(0xbc)]!=_0x1dd869(0x1d9)&&logHistory('order',_0x1dd869(0xdc)+_0x50abdb['symbol']+'\x20'+_0x50abdb[_0x1dd869(0xdd)]+'\x20#'+formatResult(_0x50abdb[_0x1dd869(0xa0)],0x8)+'\x20@'+formatResult(_0x50abdb['price'],0x8));}),_0x228098['forEach']((_0x47745b,_0x5244b5)=>{const _0x4e778b=_0x4a620a;if(_0x47745b)lastOrders[_0x4e778b(0xad)](_0x5244b5,0x1);}),persistOpenOrders(lastOrders);const _0x12a6d5=coolingDown?_0x4a620a(0x10a):_0x4a620a(0xc9);if(validateOrdersState==_0x4a620a(0x15f))validateOrdersState=_0x4a620a(0x8a),_0x228098[_0x4a620a(0x1cf)](![])?config[_0x4a620a(0xbc)]==_0x4a620a(0x1d9)?logHistory(_0x4a620a(0x178),_0x4a620a(0x199)):logHistory(_0x4a620a(0x178),_0x4a620a(0x103)):await unlockOrders();else{if(validateOrdersState==_0x4a620a(0x8a)){if(_0x228098[_0x4a620a(0x1cf)](![])){}else allOrdersPlaced&&(config[_0x4a620a(0xbc)]==_0x4a620a(0x1d9)?logHistory('success',_0x4a620a(0x8b)+_0x12a6d5):logHistory('success',_0x4a620a(0x1c8)+_0x12a6d5),await unlockOrders());}else{if(validateOrdersState=='final')_0x228098[_0x4a620a(0x1cf)](![])&&(config['ordertype']==_0x4a620a(0x1d9)?logHistory(_0x4a620a(0xe1),_0x4a620a(0x185)+Math[_0x4a620a(0x167)](_0x257204*validateOrderInterval/0xea60)+_0x4a620a(0xbd)+_0x12a6d5):(await cancelOrders(),logHistory(_0x4a620a(0xe1),_0x4a620a(0xf0)+Math[_0x4a620a(0x167)](_0x257204*validateOrderInterval/0xea60)+_0x4a620a(0xbd)+_0x12a6d5))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x4a620a(0xbc)]!='market')logHistory(_0x4a620a(0xe1),_0x4a620a(0x1c3)+_0x12a6d5);await unlockOrders();}}}}}async function cancelOrders(){const _0x3f5be0=_0x1243a3;lastOrders[_0x3f5be0(0xa9)](async _0x345a01=>{const _0x5080ff=_0x3f5be0;try{const _0x37fe70=await exchange[_0x5080ff(0x101)](_0x345a01[_0x5080ff(0x183)],_0x345a01[_0x5080ff(0x1bc)]);}catch(_0x2e5a5e){if(_0x2e5a5e[_0x5080ff(0xb9)]()[_0x5080ff(0x1cf)](_0x5080ff(0xa3))){}else await handleError(_0x2e5a5e,_0x5080ff(0x196));}});}async function initCoinResults(){const _0x135eff=_0x1243a3;let _0x5330f8=[];config[_0x135eff(0x17b)][_0x135eff(0xa9)](_0x48feb7=>{const _0x413252=_0x135eff;if(!_0x48feb7[_0x413252(0xd1)]&&_0x48feb7[_0x413252(0xa1)]!=config[_0x413252(0x8f)]){let _0x4596fc=dbCoinResults[_0x413252(0x11e)](_0x413252(0x1b3))['find']({'coin':_0x48feb7[_0x413252(0xa1)]})[_0x413252(0x17d)]();if(!_0x4596fc){const _0x166b88=currentCoins[_0x413252(0x94)](_0x498745=>_0x498745[_0x413252(0xa1)]==_0x48feb7[_0x413252(0xa1)]),_0xfffb68=global[_0x413252(0x119)][noslash(_0x48feb7[_0x413252(0x1bc)])];let _0x4cdb4f=_0x166b88?_0x166b88['number']:null,_0x44eadd=_0x48feb7[_0x413252(0x151)]?0x1/_0xfffb68:_0xfffb68,_0x44d442;config[_0x413252(0x1ac)][_0x413252(0xa9)](_0x471b04=>{const _0xaa4b94=_0x413252;!_0x44d442&&(_0x44d442=_0x471b04[_0xaa4b94(0x81)]['find'](_0x1fc805=>_0x1fc805[_0xaa4b94(0xa1)]==_0x48feb7['coin']),_0x44d442&&(_0x4cdb4f=_0x44d442[_0xaa4b94(0x1a5)],_0x44eadd=_0x44d442['price']));}),_0x5330f8[_0x413252(0x17c)]({'coin':_0x48feb7['coin'],'number':_0x4cdb4f,'price':_0x44eadd});}}}),_0x5330f8[_0x135eff(0xa9)](_0x4173b8=>{const _0xdd3289=_0x135eff,_0x5307d9={'coin':_0x4173b8['coin'],'number':_0x4173b8['number'],'breakeven':_0x4173b8[_0xdd3289(0x146)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xdd3289(0x11e)](_0xdd3289(0x1b3))[_0xdd3289(0x17c)](_0x5307d9)['write']();});}async function updateCoinResults(_0x318729,_0x1aac85=![]){const _0x471560=_0x1243a3;let _0x3d78cc,_0x170cef,_0x2f9512,_0x176f20,_0x4fd1a4,_0x48dfe2,_0x35c309=dbCoinResults[_0x471560(0x11e)](_0x471560(0x1b3))[_0x471560(0x94)]({'coin':_0x318729['coin']})['value']();!_0x35c309&&await initCoinResults();_0x318729[_0x471560(0x151)]&&(_0x48dfe2={'filled':_0x318729[_0x471560(0xa0)]*_0x318729[_0x471560(0x146)],'amount':_0x318729['filled']*_0x318729['price'],'side':_0x318729[_0x471560(0xdd)]==_0x471560(0x11d)?_0x471560(0x157):_0x471560(0x11d),'price':0x1/_0x318729['price']},_0x318729={..._0x318729,..._0x48dfe2});_0x1aac85?_0x170cef=_0x318729['side']==_0x471560(0x157)?_0x35c309[_0x471560(0x1a5)]+_0x318729['filled']:_0x35c309['number']-_0x318729['filled']:_0x170cef=await getCoinNumber(_0x318729[_0x471560(0xa1)]);if(_0x318729[_0x471560(0x133)]&&_0x318729['fee'][_0x471560(0x87)]==config['basecoin'])_0x3d78cc=_0x318729[_0x471560(0x133)][_0x471560(0x1a9)];else{if(_0x318729[_0x471560(0x133)]&&_0x318729[_0x471560(0x133)][_0x471560(0x87)]==_0x471560(0xcd)&&!_0x1aac85)_0x3d78cc=_0x318729[_0x471560(0x133)][_0x471560(0x1a9)]*global[_0x471560(0x119)][_0x471560(0xcd)+config[_0x471560(0x8f)]];else _0x3d78cc=defaultFee*_0x318729[_0x471560(0xa0)]*_0x318729['price'];}_0x318729[_0x471560(0xdd)]==_0x471560(0x157)?(_0x2f9512=_0x170cef!=0x0?(_0x35c309[_0x471560(0x82)]*_0x35c309[_0x471560(0x1a5)]+_0x318729[_0x471560(0x146)]*(_0x170cef-_0x35c309['number'])+_0x3d78cc)/_0x170cef:0x0,_0x176f20=_0x35c309[_0x471560(0x1bd)]):(_0x2f9512=_0x170cef!=0x0?(_0x35c309[_0x471560(0x82)]*_0x35c309['number']-_0x318729[_0x471560(0x146)]*(_0x35c309[_0x471560(0x1a5)]-_0x170cef)+_0x3d78cc)/_0x170cef:0x0,_0x176f20=_0x35c309[_0x471560(0x1bd)]+(_0x318729[_0x471560(0x146)]-_0x35c309['breakeven'])*_0x318729[_0x471560(0xa0)]);_0x4fd1a4=(_0x318729['price']-_0x2f9512-_0x3d78cc/_0x318729['filled'])*_0x170cef;let _0x5e6c11={'coin':_0x318729[_0x471560(0xa1)],'number':_0x170cef,'breakeven':formatResult(_0x2f9512,0x8),'realized':formatResult(_0x176f20,0x8),'unrealized':formatResult(_0x4fd1a4,0x8),'fees':formatResult(_0x35c309['fees']+_0x3d78cc,0x8),'sells':_0x318729[_0x471560(0xdd)]==_0x471560(0x11d)?_0x35c309[_0x471560(0xe4)]+0x1:_0x35c309['sells'],'buys':_0x318729[_0x471560(0xdd)]==_0x471560(0x157)?_0x35c309['buys']+0x1:_0x35c309[_0x471560(0x19c)]};dbCoinResults[_0x471560(0x11e)](_0x471560(0x1b3))['find']({'coin':_0x318729[_0x471560(0xa1)]})[_0x471560(0xdb)](_0x5e6c11)['write']();if(!_0x1aac85){if(_0x318729[_0x471560(0x133)]&&_0x318729['fee'][_0x471560(0x87)]=='BNB'){const _0x43bd27=currentCoins[_0x471560(0x94)](_0x1be068=>_0x1be068[_0x471560(0xa1)]==_0x471560(0xcd));if(_0x43bd27){let _0x6b5fa7=dbCoinResults['get']('coins')['find']({'coin':_0x471560(0xcd)})[_0x471560(0x17d)]();_0x5e6c11={..._0x6b5fa7,'number':_0x43bd27['number']},dbCoinResults[_0x471560(0x11e)](_0x471560(0x1b3))['find']({'coin':'BNB'})['assign'](_0x5e6c11)['write']();}}}}async function placeOrder(_0x3cd284){const _0x4f72b2=_0x1243a3,_0x4b8d0e=config[_0x4f72b2(0xbc)]=='market'?'market':'limit';if(lockOrders==ORDERS[_0x4f72b2(0x13c)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS['LOCKED'],allOrdersPlaced=![],validateOrdersState=_0x4f72b2(0x15f),lastOrders=[];for(const _0x468bef of _0x3cd284){let _0x260403,_0x76fd92,_0x47e0cc,_0xf2d6d0,_0x1986c7,_0x4904ac=_0x468bef[_0x4f72b2(0x1bc)];try{const _0x3b561b=await exchange['fetchTickers']([_0x4904ac]),_0x39c775=_0x3b561b[_0x4904ac];_0x260403=_0x468bef[_0x4f72b2(0x151)]?0x1/_0x468bef[_0x4f72b2(0xde)]:_0x468bef['last'],_0x76fd92=_0x39c775[_0x4f72b2(0x169)],_0x47e0cc=_0x39c775[_0x4f72b2(0xce)];_0x468bef[_0x4f72b2(0x151)]?(_0xf2d6d0=_0x468bef['side']=='buy'?_0x4f72b2(0x11d):_0x4f72b2(0x157),_0x1986c7=Math[_0x4f72b2(0x190)](_0x468bef[_0x4f72b2(0x108)])/_0x260403):(_0xf2d6d0=_0x468bef[_0x4f72b2(0xdd)],_0x1986c7=Math['abs'](_0x468bef['trade']));_0x4b8d0e=='limit'&&(config[_0x4f72b2(0xbc)]==_0x4f72b2(0x155)&&(_0x260403=_0xf2d6d0==_0x4f72b2(0x157)?_0x76fd92:_0x47e0cc),config['ordertype']==_0x4f72b2(0x14f)&&(_0x260403=_0xf2d6d0==_0x4f72b2(0x157)?_0x47e0cc:_0x76fd92));_0x1986c7=formatResult(_0x1986c7,0x8),_0x260403=formatResult(_0x260403,0x8);const _0x818e65=_0xf2d6d0=='sell'?config[_0x4f72b2(0xb5)]?String['fromCodePoint']('0x'+config[_0x4f72b2(0xb5)])+'\x20':'':config[_0x4f72b2(0x116)]?String[_0x4f72b2(0x111)]('0x'+config[_0x4f72b2(0x116)])+'\x20':'',_0x24d405=_0x4b8d0e==_0x4f72b2(0x1d9)?_0x4f72b2(0x136):config[_0x4f72b2(0xbc)]==_0x4f72b2(0x155)?_0x4f72b2(0x197):_0x4f72b2(0xef),_0x4913c3=new Date()[_0x4f72b2(0xe5)]()[_0x4f72b2(0xb9)]()['slice'](-0x6)+'-'+Math[_0x4f72b2(0x140)]()['toString']()[_0x4f72b2(0xf5)](-0x6);lastOrders[_0x4f72b2(0x17c)]({'customId':_0x4913c3,'symbol':_0x4904ac,'coin':_0x468bef[_0x4f72b2(0xa1)],'side':_0xf2d6d0,'reverse':_0x468bef[_0x4f72b2(0x151)],'filled':0x0});if(_0x4b8d0e==_0x4f72b2(0x1d9))logHistory(_0x4f72b2(0xcc),''+_0x818e65+_0x24d405+_0x4f72b2(0x1dc)+_0x4904ac+'\x20'+_0xf2d6d0+'\x20#'+formatResult(_0x1986c7,0x8)+'\x20@'+formatResult(_0x260403,0x8));else logHistory(_0x4f72b2(0xcc),''+_0x818e65+_0x24d405+'\x20order:\x20'+_0x4904ac+'\x20'+_0xf2d6d0+'\x20#'+formatResult(_0x1986c7,0x8)+'\x20@'+formatResult(_0x260403,0x8));const _0x739e4a=await exchange[_0x4f72b2(0x1da)](_0x4904ac,_0x4b8d0e,_0xf2d6d0,_0x1986c7,_0x260403,{'clientOrderId':_0x4913c3}),_0xcf6430=lastOrders[_0x4f72b2(0xe3)]-0x1;_0xcf6430>=0x0&&lastOrders[_0xcf6430][_0x4f72b2(0x9e)]==_0x4913c3&&(lastOrders[_0xcf6430]={...lastOrders[_0xcf6430],'orderId':_0x739e4a['id'],'amount':_0x739e4a[_0x4f72b2(0x10e)],'price':_0x739e4a[_0x4f72b2(0x146)],'fee':_0x739e4a[_0x4f72b2(0x133)]});if(config['cooldown']!=0x0){let _0x16a940=null;if(cooldownTracker[_0x4f72b2(0xe3)]==config[_0x4f72b2(0x132)]-0x1)_0x16a940=cooldownTracker[_0x4f72b2(0x141)]();const _0x6962a3=getTimeStamp();cooldownTracker[_0x4f72b2(0x17c)](_0x6962a3);if(_0x16a940){const _0x49b369=fns[_0x4f72b2(0x1b8)](new Date(_0x6962a3),new Date(_0x16a940));if(_0x49b369<cooldownInterval){logHistory('error','Executed\x20'+config[_0x4f72b2(0x132)]+_0x4f72b2(0x18b)+cooldownInterval/0x3c+_0x4f72b2(0x180)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x537fed){if(_0x537fed[_0x4f72b2(0xb9)]()[_0x4f72b2(0x1cf)](_0x4f72b2(0x107)))lastOrders=lastOrders['filter'](_0x448297=>_0x448297[_0x4f72b2(0x1bc)]!=_0x4904ac),logHistory('error','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x4904ac);else _0x537fed[_0x4f72b2(0xb9)]()['includes']('Invalid\x20quantity')?(lastOrders=lastOrders[_0x4f72b2(0x118)](_0x3aafb0=>_0x3aafb0[_0x4f72b2(0x1bc)]!=_0x4904ac),logHistory(_0x4f72b2(0x1d0),_0x4f72b2(0xc6)+_0x4904ac)):(lastOrders=lastOrders[_0x4f72b2(0x118)](_0x4fda5c=>_0x4fda5c[_0x4f72b2(0x1bc)]!=_0x4904ac),await handleError(_0x537fed,_0x4f72b2(0x120),_0x4904ac));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x4f72b2(0xe3)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0xbe490f=config[_0x4f72b2(0xbc)]==_0x4f72b2(0x1d9)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5b67d8=_0x4f72b2;validateOrders(_0x5b67d8(0x15b));},_0xbe490f);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4f72b2(0xe1),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x4f72b2(0x19e)]&&logHistory('error',_0x4f72b2(0x189));else lockOrders!=ORDERS[_0x4f72b2(0x13c)]&&(!config[_0x4f72b2(0x19e)]&&(config[_0x4f72b2(0xbc)]==_0x4f72b2(0x1d9)?logHistory(_0x4f72b2(0x1d0),_0x4f72b2(0x125)):logHistory(_0x4f72b2(0x1d0),_0x4f72b2(0x12d))));}}function persistOpenOrders(_0x2b0738){const _0x511810=_0x1243a3,_0x114aee={...config,'openOrders':_0x2b0738};let _0x51284e=dbConfig[_0x511810(0x11e)](_0x511810(0x163))[_0x511810(0x94)]({'botID':botID})[_0x511810(0x17d)]();_0x51284e&&dbConfig[_0x511810(0x11e)](_0x511810(0x163))[_0x511810(0x94)]({'botID':botID})[_0x511810(0xdb)](_0x114aee)[_0x511810(0x14e)]();}function restoreOrders(){const _0x36bbd5=_0x1243a3;let _0x3a3cb4;config[_0x36bbd5(0x18f)]&&allOpenOrders[_0x36bbd5(0xa9)](_0x42f037=>{const _0x2d4e98=_0x36bbd5,_0x5a6675=config['openOrders'][_0x2d4e98(0x94)](_0x55f314=>_0x55f314[_0x2d4e98(0x183)]==_0x42f037['id']);_0x5a6675&&(lastOrders[_0x2d4e98(0x17c)](_0x5a6675),_0x3a3cb4=_0x42f037[_0x2d4e98(0x13f)]);});if(lastOrders[_0x36bbd5(0xe3)]>0x0){lockOrders=ORDERS[_0x36bbd5(0x1a2)],validateOrdersState=_0x36bbd5(0x8a),allOrdersPlaced=!![];const _0xe646c1=new Date()[_0x36bbd5(0xe5)](),_0x25db6a=config[_0x36bbd5(0xbc)]==_0x36bbd5(0x1d9)?validateOrderTimeout*0x3c*0x3e8:config[_0x36bbd5(0x106)]*0x3c*0x3e8;if(_0x3a3cb4+_0x25db6a>_0xe646c1){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x5e5d09=_0x36bbd5;validateOrders(_0x5e5d09(0x15b));},_0x3a3cb4+_0x25db6a-_0xe646c1);}else validateOrders(_0x36bbd5(0x15b));}}async function sendPortfolioTelegram(){const _0x57f533=_0x1243a3;if(loading[_0x57f533(0xeb)]!=0x64){process[_0x57f533(0x15c)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x48dc80=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x1487aa=[_0x57f533(0xfb),'BUSD',_0x57f533(0x166)],_0x39b4d9=_0x1487aa[_0x57f533(0x1cf)](config['basecoin'])?0x2:0x8;let _0x1cee83='';if(config['showname'])_0x1cee83=_0x57f533(0x104)+config[_0x57f533(0x176)]+_0x57f533(0xbf);else _0x1cee83=_0x57f533(0xee)+botID+_0x57f533(0xbf);const _0x12f55f=getKPIs('basecoin'),_0x27817d=getKPIs(_0x57f533(0xaf));_0x1cee83+=_0x57f533(0xfe),_0x1cee83+=_0x12f55f['leftTxt']+'\x20:\x20'+_0x12f55f[_0x57f533(0x17d)]+'\x20\x0a',_0x1cee83+=_0x12f55f[_0x57f533(0x1b0)]+':\x20'+_0x12f55f[_0x57f533(0x9f)]+_0x57f533(0xe9),_0x1cee83+=_0x27817d[_0x57f533(0xd4)]+':\x20'+_0x27817d['value']+'\x20'+config[_0x57f533(0x8f)]+'\x0a',_0x1cee83+=_0x27817d[_0x57f533(0x1b0)]+':\x20'+_0x27817d['change']+_0x57f533(0xe9),_0x1cee83+='\x0a',_0x1cee83+=_0x57f533(0xb2),_0x1cee83+=_0x57f533(0x1d7),_0x1cee83+=_0x57f533(0xb2),currentCoins[_0x57f533(0xa9)](_0x1c5511=>{const _0xf91e16=_0x57f533;_0x1cee83+=_0x1c5511[_0xf91e16(0xa1)][_0xf91e16(0x117)](0x7)+'|\x20'+formatPad(_0x1c5511[_0xf91e16(0x145)],0x2,0x6)+'|\x20'+formatPad(_0x1c5511[_0xf91e16(0x8d)],0x2,0x6)+'|\x20'+formatPad(_0x1c5511[_0xf91e16(0x1ae)]*0x64,0x2,0x6)+'\x0a';}),_0x1cee83+=_0x57f533(0xbe),process['send']({'telegrammsg':_0x1cee83},_0xdd55a=>{});}function formatPad(_0xfbc75a,_0x1610bd,_0x5d51ad){const _0x1bc8c8=_0x1243a3,_0x19fc29=formatResultString(_0xfbc75a,_0x1610bd);return _0x19fc29?_0x19fc29[_0x1bc8c8(0xb1)](_0x5d51ad):''['padStart'](_0x5d51ad);}function logHistory(_0x4cb226,_0x3f9342,_0x5dd850=''){const _0x4260be=_0x1243a3;let _0x1cdf84={'time':getTimeStamp(),'type':_0x4cb226,'event':_0x3f9342};dbLogs[_0x4260be(0x11e)](_0x4260be(0x16e))['push'](_0x1cdf84)['write']();if(_0x5dd850=='')_0x5dd850=_0x3f9342;proxyEmit(_0x4260be(0x112),{'log':_0x1cdf84,'summary':_0x5dd850}),process[_0x4260be(0x15c)]({'telegram':{..._0x1cdf84,'botname':config[_0x4260be(0x176)],'showname':config[_0x4260be(0x14b)]}},_0x2b5fdf=>{}),logger[_0x4260be(0x1d5)](''+_0x1cdf84['event']);}function emitHistory(_0x26bb16={}){const _0xbcbc60=_0x1243a3;Object[_0xbcbc60(0x86)](_0x26bb16)['length']==0x0&&(_0x26bb16={'type':[_0xbcbc60(0xcc),_0xbcbc60(0x112)],'event':'','page':0x1});if(_0x26bb16['type'][_0xbcbc60(0x1cf)](_0xbcbc60(0x112)))_0x26bb16[_0xbcbc60(0x1cd)][_0xbcbc60(0xad)](_0x26bb16[_0xbcbc60(0x1cd)][_0xbcbc60(0x1d6)](_0xbcbc60(0x112)),0x1,'error',_0xbcbc60(0xe1));if(dbLogs[_0xbcbc60(0x9c)](_0xbcbc60(0x16e))[_0xbcbc60(0x17d)]()){let _0x3cfc8f=dbLogs[_0xbcbc60(0x11e)](_0xbcbc60(0x16e))[_0xbcbc60(0x118)](_0x5977e2=>{const _0xcb24b=_0xbcbc60;if(_0x26bb16[_0xcb24b(0x1cd)]['length']==0x0)return![];else return _0x26bb16[_0xcb24b(0x1cd)]['includes'](_0x5977e2['type']);})[_0xbcbc60(0x118)](_0x2b1e0a=>{const _0x531575=_0xbcbc60;if(_0x26bb16[_0x531575(0x112)]=='')return!![];else return _0x2b1e0a[_0x531575(0x112)][_0x531575(0x1af)]()[_0x531575(0x1cf)](_0x26bb16[_0x531575(0x112)][_0x531575(0x1af)]());})[_0xbcbc60(0xca)]('time'),_0xeab39c=_0x3cfc8f[_0xbcbc60(0x17d)]()[_0xbcbc60(0xe3)];_0x3cfc8f=_0x3cfc8f['reverse']()[_0xbcbc60(0xf5)]((_0x26bb16[_0xbcbc60(0x12c)]-0x1)*logPageSize,_0x26bb16[_0xbcbc60(0x12c)]*logPageSize-0x1)[_0xbcbc60(0x151)]()[_0xbcbc60(0x17d)](),proxyEmit(_0xbcbc60(0xd5),{'logs':_0x3cfc8f,'total':_0xeab39c});}else proxyEmit(_0xbcbc60(0xd5),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x3306dc){const _0x4e5b5c=_0x1243a3;if(dbLogs[_0x4e5b5c(0x9c)]('logs')[_0x4e5b5c(0x17d)]()){const _0xca6e67=dbLogs[_0x4e5b5c(0x11e)](_0x4e5b5c(0x16e))[_0x4e5b5c(0xca)](_0x4e5b5c(0x149))[_0x4e5b5c(0x118)](_0xd2cd71=>{const _0x42489b=_0x4e5b5c;return _0xd2cd71[_0x42489b(0x1cd)]==_0x42489b(0xcc);})['value']();dbLogs['get'](_0x4e5b5c(0x16e))['remove']()['write'](),dbLogs[_0x4e5b5c(0x11e)](_0x4e5b5c(0x16e))['assign'](_0xca6e67)['write'](),emitHistory(_0x3306dc);}}async function pauseBot(_0x1ab3eb=''){const _0x1447e7=_0x1243a3,_0x3063c8=new Date()[_0x1447e7(0xe5)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x3063c8-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x1447e7(0x15c)]({'stop':_0x1447e7(0x98)},_0x167ad2=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x1ab3eb)_0x1ab3eb+='\x20|\x20';logHistory('error',_0x1ab3eb+'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x1447e7(0xba)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x26f705=_0x1243a3;process['send']({'stop':_0x26f705(0xb8)},_0x4645e0=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x434f53,_0x2c223b){const _0x10a4bd=_0x1243a3;if(_0x434f53['toString']()['includes'](_0x10a4bd(0xd2)))return logHistory(_0x10a4bd(0x1d0),_0x10a4bd(0x181)),![];else{if(_0x434f53[_0x10a4bd(0xb9)]()[_0x10a4bd(0x1cf)]('AuthenticationError'))return logHistory('error','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),![];else{if(_0x434f53[_0x10a4bd(0xb9)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory('error',_0x10a4bd(0xc7)),![];else await handleError(_0x434f53,_0x2c223b);}}}async function handleError(_0x18fbee,_0x2af17e,_0x3aa1ed=''){const _0x1258b8=_0x1243a3;if(_0x18fbee[_0x1258b8(0xb9)]()[_0x1258b8(0x1cf)](_0x1258b8(0x102)))await pauseBot(_0x1258b8(0x1bf));else{if(_0x18fbee[_0x1258b8(0xb9)]()['includes']('ExchangeNotAvailable'))await pauseBot(_0x1258b8(0x8c));else{if(_0x18fbee[_0x1258b8(0xb9)]()['includes']('RequestTimeout'))await pauseBot(_0x1258b8(0x19a));else{if(_0x18fbee[_0x1258b8(0xb9)]()[_0x1258b8(0x1cf)]('API-key\x20format\x20invalid'))logHistory(_0x1258b8(0x1d0),_0x2af17e+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory(_0x1258b8(0x1d0),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x18fbee[_0x1258b8(0xb9)]()[_0x1258b8(0x1cf)](_0x1258b8(0xc0)))logHistory(_0x1258b8(0x1d0),_0x2af17e+_0x1258b8(0x1ab)),logHistory(_0x1258b8(0x1d0),_0x1258b8(0x172)),await killBot();else{if(_0x18fbee[_0x1258b8(0xb9)]()[_0x1258b8(0x1cf)](_0x1258b8(0x1ce)))logHistory('error',_0x2af17e+_0x1258b8(0xe7)),logHistory(_0x1258b8(0x1d0),_0x1258b8(0x172)),await killBot();else{if(_0x18fbee[_0x1258b8(0xb9)]()['includes'](_0x1258b8(0x1e1)))logHistory('error',_0x2af17e+_0x1258b8(0x1d3)),logHistory(_0x1258b8(0x1d0),_0x1258b8(0x172)),await killBot();else{if(_0x18fbee['toString']()[_0x1258b8(0x1cf)](_0x1258b8(0xf1)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process[_0x1258b8(0x15c)]({'stop':_0x1258b8(0x98)},_0x2a13c2=>{});else _0x18fbee[_0x1258b8(0xb9)]()[_0x1258b8(0x1cf)]('InsufficientFunds')?logHistory(_0x1258b8(0x1d0),_0x2af17e+_0x1258b8(0x1a7)+_0x3aa1ed):(logger[_0x1258b8(0x1d5)](_0x2af17e+_0x1258b8(0xf7),_0x18fbee),await pauseBot(_0x1258b8(0x159)));}}}}}}}}function formatResult(_0x52e766,_0x2a8a68){const _0x3785db=_0x1243a3;return parseFloat(_0x52e766[_0x3785db(0xd9)](_0x2a8a68));}function formatResultTruncate(_0x3f2ff6,_0x5bfd9e){const _0x3fe046=_0x1243a3;let _0x46f6c8=formatResultString(_0x3f2ff6,0xa),_0xa42ed0=_0x46f6c8[_0x3fe046(0x1d6)]('.');return _0xa42ed0!=-0x1&&(_0x46f6c8=_0x46f6c8['slice'](0x0,_0xa42ed0+_0x5bfd9e+0x1)),Number(_0x46f6c8);}function formatResultString(_0x4ba920,_0x1b5501){const _0x154f9e=_0x1243a3;let _0x8fdb74;if(!(''+_0x4ba920)[_0x154f9e(0x1cf)]('e'))_0x8fdb74=+(Math[_0x154f9e(0x167)](_0x4ba920+'e+'+_0x1b5501)+'e-'+_0x1b5501);else{let _0x152332=(''+_0x4ba920)[_0x154f9e(0x126)]('e'),_0x13b013='';+_0x152332[0x1]+_0x1b5501>0x0&&(_0x13b013='+'),_0x8fdb74=+(Math[_0x154f9e(0x167)](+_0x152332[0x0]+'e'+_0x13b013+(+_0x152332[0x1]+_0x1b5501))+'e-'+_0x1b5501);}return Number(_0x8fdb74)['toFixed'](_0x1b5501);}function getServerTime(){const _0x6929c8=_0x1243a3,_0x10a57a=new Date();return _0x10a57a[_0x6929c8(0x12b)]()+'/'+(_0x10a57a[_0x6929c8(0x16f)]()+0x1)['toString']()[_0x6929c8(0xb1)](0x2,'0')+'/'+_0x10a57a[_0x6929c8(0x129)]()[_0x6929c8(0xb9)]()[_0x6929c8(0xb1)](0x2,'0')+'\x20'+_0x10a57a['getHours']()[_0x6929c8(0xb9)]()[_0x6929c8(0xb1)](0x2,'0')+':'+_0x10a57a[_0x6929c8(0x1bb)]()[_0x6929c8(0xb9)]()[_0x6929c8(0xb1)](0x2,'0')+':'+_0x10a57a[_0x6929c8(0xd0)]()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4a5b83=_0x1243a3,_0x290236=shiftedTime();return _0x290236[_0x4a5b83(0x12b)]()+'/'+(_0x290236[_0x4a5b83(0x16f)]()+0x1)[_0x4a5b83(0xb9)]()['padStart'](0x2,'0')+'/'+_0x290236[_0x4a5b83(0x129)]()[_0x4a5b83(0xb9)]()[_0x4a5b83(0xb1)](0x2,'0')+'\x20'+_0x290236[_0x4a5b83(0x15e)]()[_0x4a5b83(0xb9)]()[_0x4a5b83(0xb1)](0x2,'0')+':'+_0x290236[_0x4a5b83(0x1bb)]()['toString']()['padStart'](0x2,'0')+':'+_0x290236['getSeconds']()[_0x4a5b83(0xb9)]()[_0x4a5b83(0xb1)](0x2,'0');}function getDate(){const _0x34ed3a=_0x1243a3,_0x2d3813=shiftedTime();return _0x2d3813['getFullYear']()+'/'+(_0x2d3813[_0x34ed3a(0x16f)]()+0x1)[_0x34ed3a(0xb9)]()[_0x34ed3a(0xb1)](0x2,'0')+'/'+_0x2d3813[_0x34ed3a(0x129)]()[_0x34ed3a(0xb9)]()[_0x34ed3a(0xb1)](0x2,'0');}function getHour(){const _0x10625a=_0x1243a3,_0x571230=shiftedTime();return _0x571230['getHours']()[_0x10625a(0xb9)]()['padStart'](0x2,'0');}function sleep(_0x1d6461){return new Promise(_0x4edd9e=>setTimeout(_0x4edd9e,_0x1d6461));}function shiftedTime(){const _0x9fa96=_0x1243a3,_0xcf7b19=new Date();let _0x5be2a9=_0xcf7b19;if(config&&config['timeshift']!==0x0)_0x5be2a9=fns[_0x9fa96(0x1e3)](_0xcf7b19,{'hours':config[_0x9fa96(0x110)]});return _0x5be2a9;}