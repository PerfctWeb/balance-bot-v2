const _0x188c77=_0x38fa;(function(_0xa11548,_0x2b90b3){const _0x4a4a22=_0x38fa,_0x396c94=_0xa11548();while(!![]){try{const _0x3ce848=parseInt(_0x4a4a22(0x1ed))/0x1*(-parseInt(_0x4a4a22(0x1f2))/0x2)+parseInt(_0x4a4a22(0x18a))/0x3*(-parseInt(_0x4a4a22(0x15b))/0x4)+parseInt(_0x4a4a22(0x20d))/0x5*(parseInt(_0x4a4a22(0x12f))/0x6)+parseInt(_0x4a4a22(0x15d))/0x7*(-parseInt(_0x4a4a22(0x21e))/0x8)+-parseInt(_0x4a4a22(0x29c))/0x9*(-parseInt(_0x4a4a22(0x137))/0xa)+-parseInt(_0x4a4a22(0x1f4))/0xb*(parseInt(_0x4a4a22(0x148))/0xc)+-parseInt(_0x4a4a22(0x17c))/0xd*(-parseInt(_0x4a4a22(0x149))/0xe);if(_0x3ce848===_0x2b90b3)break;else _0x396c94['push'](_0x396c94['shift']());}catch(_0x38a6df){_0x396c94['push'](_0x396c94['shift']());}}}(_0x5435,0x8141d));const _0x5da6fc=function(){let _0x17b583=!![];return function(_0x10d209,_0x29db2c){const _0x357143=_0x17b583?function(){const _0x882719=_0x38fa;if(_0x29db2c){const _0x28fdb9=_0x29db2c[_0x882719(0x1be)](_0x10d209,arguments);return _0x29db2c=null,_0x28fdb9;}}:function(){};return _0x17b583=![],_0x357143;};}(),_0x2892f1=_0x5da6fc(this,function(){const _0x1beaf3=_0x38fa;return _0x2892f1[_0x1beaf3(0x16e)]()[_0x1beaf3(0x2ac)]('(((.+)+)+)+$')[_0x1beaf3(0x16e)]()['constructor'](_0x2892f1)[_0x1beaf3(0x2ac)](_0x1beaf3(0x26f));});_0x2892f1();'use strict';const ccxt=require('ccxt'),low=require(_0x188c77(0x20a)),FileSync=require(_0x188c77(0x27b)),fs=require('fs'),fns=require(_0x188c77(0x130)),Crypt=require(_0x188c77(0x29b))[_0x188c77(0x27d)],util=require('util'),argv=require(_0x188c77(0x297))(process[_0x188c77(0x291)][_0x188c77(0x29a)](0x2))[_0x188c77(0x291)],path=require(_0x188c77(0x259)),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x188c77(0x261),_0x188c77(0x14a),_0x188c77(0x1b4),_0x188c77(0x114),_0x188c77(0x202),'USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg='\x20-\x20pausing\x20bot\x20for\x20'+pauseBotInterval/0xea60+_0x188c77(0x1c4),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require('./version.json')[_0x188c77(0x1c6)],botID=process[_0x188c77(0x291)][0x2]||_0x188c77(0x1ac),pattern=/^[0-9]{3}$/;!pattern[_0x188c77(0x1e7)](botID)&&(console[_0x188c77(0x23e)](_0x188c77(0x238)+botID+_0x188c77(0x254)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x188c77(0x164)+userID+'/':_0x188c77(0x164),logspath=userID?_0x188c77(0x23b)+userID+'/':_0x188c77(0x23b),loggerfile=fs[_0x188c77(0x198)](logspath+_0x188c77(0x235),{'flags':'a'});!fs[_0x188c77(0x194)](configpath)&&fs[_0x188c77(0x24c)](configpath);function _0x5435(){const _0x236999=['sell','Error:\x20Invalid\x20argument\x20','autoliquidity','warning','./logs/','getPortfolio','realized','log','1\x20-\x20Validate\x20orders:\x20','side','offset','Manual\x20balancing\x20required','%\x20(','\x20order:\x20','No\x20more\x20open\x20orders\x20-\x20','getTime','change24h','ask','Bybit','-events.json','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','mkdirSync','performance','error','-results.json','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','format','startsWith','RETRY\x20-\x20Problem\x20resolved\x20after\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','ETH','<pre>','ongoing','path','watchTrades','slider','loadSymbols()','coin','quote','concat','initTickers()','USD','type','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','buy','limit-low','timeshift','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','recreateCoinResults()','debug','valid','map','Reset\x20|\x20','ExchangeError','-config.json','(((.+)+)+)+$','entries','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','complete','yyyy/MM/dd','cost','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','differenceInSeconds','marketcapEnabled','max','distribution','PAXG','lowdb/adapters/FileSync','full','Crypt','change','includes','min','</pre>','Order\x20is\x20invalid:\x20','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','splice','apiPassword','balances','AuthenticationError','Cryptocom','watchOrders()','starting-balance-','request-time','push','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','configuration','Pausing\x20for\x20','\x20minutes\x20-\x20','argv','orderId','toggleBotMode','Loading\x20completed','.json','Exception\x20thrown\x20in\x20','yargs/yargs','/USD','settings','slice','hybrid-crypto-js','492777HMWnON','highest','\x20|\x20Custom\x20ID:\x20','changes','percentage','\x20API\x20secret\x20is\x20invalid','code','Error\x20details:','InsufficientFunds','balancing\x20resumed','BNB','UNLOCKED','recreate','-------------------------------\x0a','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','search','getHours','exchanges','event','trade','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','fetchBalance','indexOf','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','event-history','datetime','-performance.json','write','price','cancelOrder','DDoSProtection','forEach','quick','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','canceled','watchTradesForSymbols()','added','orderstatus','abs','sha256','closed','USDT','toFixed','value','EUR','\x20exchange','amount','limits','initial','secure','stringify','Avoiding\x20continuous\x20order\x20attempts','\x20value','currency','Invalid\x20symbol:\x20','function','Binance','fromCodePoint','getCoins()','BTC','RETRY\x20-\x20Error\x20in\x20','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','sendMetricsTelegram','detectLiquidityChange()','starting-balances','getPortfolio(1)','\x20-\x20bot\x20not\x20started','Insufficient\x20funds\x20to\x20execute\x20order:\x20','6KdNIxK','date-fns','recent20','net-fiat','bb-settings.json','\x20portfolio:</b>\x20\x0a\x0a','threshold','2.3.5','20UShaSs','coin-loading-progress','getFullYear','getStartingBalances','\x20hour','amountToPrecision','padStart','1\x20-\x20Handle\x20open\x20orders','none','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','Bot\x20','RSA-OAEP','split','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','watchTradesForSymbols','Invalid\x20quantity','filled','648636NAHell','70uksSht','BUSD','MIN_NOTIONAL','page','\x20metrics:</b>\x20\x0a\x0a','net-basecoin','running','delta','loadMarkets','symbol','botname','Net\x20','storeHeadless','order','assign','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','<b>Bot\x20','netoffset','256FxNhvR','1\x20-\x20partially\x20FILLED\x20unknown\x20order:\x20','384629JLXugZ','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','target','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','\x20has\x20a\x2024h\x20drop\x20of\x20',':\x20Bot\x20','getDate','./config/','timeout','bots','Bitget','\x20orders\x20in\x20less\x20than\x20','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','customId','sort','/backup/','get','toString','emojisell','timestamp','open','Net\x20effect','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','openOrders','watchOrders','\x20|\x20','no\x20open\x20orders','removed','limit','emojibuy','PermissionDenied','4430049WYQjVo','remove','getPortfolio(2)','loading-canceled','eur','basecoinvalue','date','usd',':\x20timer\x20>','cloneDeep','sortBy','message','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','Limit\x20(low-margin)','22212EynuLc','configuration-stored','find','coins','ExchangeNotAvailable','Unfilled\x20order(s)\x20canceled\x20after\x20','heapUsed','\x20network\x20error','getMinutes','Resuming\x20(','existsSync','LOCKED','headless','getMonth','createWriteStream','password','\x20uses\x20','market_cap','length','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','************','time','startdate','initclient','getSeconds','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','\x20>\x20[DEBUG]\x20','total','Trigger:\x20','2\x20-\x20handling\x20FILLED\x20order:\x20','Limit\x20(high-margin)','fetchTickers()','breakeven','2\x20-\x20Orders\x20unlocked','001','1\x20-\x20FILLED\x20known\x20order:\x20','decrypt','resetHistory','round','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','RequestTimeout','cooldown','TUSD','isEqual','exchange','filter','success','2.5.0','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','buys','Symbol(s):\x20','Block\x20transaction\x20detection:\x20','apply','writeFile','UNLOCKING','keys','toLowerCase','\x20MB','\x20minutes','fees','version','placeOrder()','Order\x20filled:\x20','OrderNotFound','ordertype','send','bot-','startprice','getAllOrders()','\x20|\x20lock\x20orders:\x20','Saving\x20configuration','pro','parse','excluded','data','***','fetchTickers','portfolio','Portfolio\x20change\x20detected:\x20','Fee\x20discount\x20refund\x20detected:\x20','kill','sendPortfolioTelegram','bot','\x20change','\x20attempts','sqrt','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','number','onepagemode','reverse','apiSecret','2.6.22','red_yellow_blue','test','substring','update-liquidity','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','privateKey','defaults','5zQUvmc','Huobi','\x20>\x20','Unknown\x20error\x20occured','uncaughtException','236834BhDvIi','leftTxt','165KCiXAC','progress','marketcap','bb-secure.json','\x20>\x20details:','\x20exchange\x20error','Order(s)\x20not\x20validated\x20after\x20','sells','fiat','args','<b>','basecoin','ORDERS.LOCKED','createOrder','USDC','unlinkSync','marketcapApi','marketcapsqrt','colorscheme','BNB/','API-key\x20format\x20invalid','\x20|\x20highest\x20fee:\x20','lowdb','fee','\x20:\x20','3238745qNBhZg','shift','Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)',')\x20|\x20exchange:\x20','final','Waited\x20','\x20/\x20','average','findIndex','Invalid\x20API\x20key,\x20secret\x20or\x20password\x20entered','has','\x20API\x20key\x20is\x20invalid','remainingSymbols','rightTxt','apiKey','join','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','8XCqhFb','fetchTicker','ORDERS.UNLOCKED','bid','2\x20-\x20Validate\x20orders:\x20','Error\x20details:\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','logs','Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','exec','emitHistory','liquidity','showConfig','replace','Exchange','fetchOpenOrders','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','cancelOrders()','last','set','showname','market','/output-000.log','2.6.0'];_0x5435=function(){return _0x236999;};return _0x5435();}!fs[_0x188c77(0x194)](logspath)&&fs[_0x188c77(0x24c)](logspath);const configfile=configpath+'bot-'+botID+_0x188c77(0x26e),logfile=configpath+_0x188c77(0x1cc)+botID+_0x188c77(0x24a),performancefile=configpath+_0x188c77(0x1cc)+botID+_0x188c77(0x105),coinresultsfile=configpath+'bot-'+botID+_0x188c77(0x24f),settingsfile=configpath+_0x188c77(0x133),securefile=configpath+_0x188c77(0x1f7),configbackuppath=configpath+_0x188c77(0x16c),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x188c77(0x1ec)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x188c77(0x1ec)]({'data':[],'version':serverversion})[_0x188c77(0x106)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x188c77(0x1ec)]({'bot':[],'version':serverversion})[_0x188c77(0x106)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x188c77(0x1ec)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x188c77(0x112),'rsaStandard':_0x188c77(0x142)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3344=>{const _0x3390c1=_0x188c77;console[_0x3390c1(0x23e)](_0x3344);},'simple':_0x24ddf1=>{const _0xe08c73=_0x188c77;console[_0xe08c73(0x23e)](_0x24ddf1),loggerfile['write'](util[_0xe08c73(0x251)](_0x24ddf1)+'\x0a');},'full':async(_0xf2c9cf,_0x191c09='')=>{const _0x4b1d45=_0x188c77;let _0x1c1fe7;if(config[_0x4b1d45(0x233)])_0x1c1fe7=getTimeStamp()+':\x20'+config[_0x4b1d45(0x153)]+_0x4b1d45(0x1ef)+_0xf2c9cf;else _0x1c1fe7=getTimeStamp()+':\x20Bot\x20'+botID+_0x4b1d45(0x1ef)+_0xf2c9cf;console[_0x4b1d45(0x23e)](_0x1c1fe7),loggerfile[_0x4b1d45(0x106)](util[_0x4b1d45(0x251)](_0x1c1fe7)+'\x0a'),_0x191c09&&(console['log'](_0x191c09),loggerfile[_0x4b1d45(0x106)](util[_0x4b1d45(0x251)](_0x191c09)+'\x0a'));},'debug':async(_0x138e87,_0x27d2b4='')=>{const _0x1b3fa0=_0x188c77;let _0x45adb5;if(config[_0x1b3fa0(0x233)])_0x45adb5=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20[DEBUG]\x20'+_0x138e87;else _0x45adb5=getTimeStamp()+_0x1b3fa0(0x162)+botID+_0x1b3fa0(0x1a4)+_0x138e87;if(debugging)console[_0x1b3fa0(0x23e)](_0x45adb5);loggerfile[_0x1b3fa0(0x106)](util[_0x1b3fa0(0x251)](_0x45adb5)+'\x0a');if(_0x27d2b4){if(debugging)console['log'](_0x27d2b4);loggerfile[_0x1b3fa0(0x106)](util[_0x1b3fa0(0x251)](_0x27d2b4)+'\x0a');}}};process['on'](_0x188c77(0x1f1),function(_0x2083f8){handleError(_0x2083f8,'uncaughtException');});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0x188c77(0x266)]);settings[_0x188c77(0x1e2)]!=config[_0x188c77(0x1e2)]&&updateOnepagemode(settings['onepagemode']);(settings[_0x188c77(0x204)]&&!config[_0x188c77(0x204)]||!settings['marketcapApi']&&config[_0x188c77(0x204)])&&updateMarketcapApi(settings['marketcapApi']);process['send']({'started':_0x188c77(0x14f)},_0x262094=>{}),initializeProcessListeners();function proxyEmit(_0x1ff136,_0x2c572d=null){process['send']({'function':_0x1ff136,'args':_0x2c572d},_0x244d42=>{});}function initializeProcessListeners(){const _0x53c5db=_0x188c77;process['on'](_0x53c5db(0x187),_0xcb6735=>{const _0x191b9b=_0x53c5db;switch(Object[_0x191b9b(0x1c1)](_0xcb6735)[0x0]){case _0x191b9b(0x266):_0xcb6735[_0x191b9b(0x266)]!=undefined&&(settings[_0x191b9b(0x266)]=_0xcb6735[_0x191b9b(0x266)],updateTimeshift(settings[_0x191b9b(0x266)]));break;case'onepagemode':_0xcb6735[_0x191b9b(0x1e2)]!=undefined&&(settings[_0x191b9b(0x1e2)]=_0xcb6735[_0x191b9b(0x1e2)],updateOnepagemode(settings[_0x191b9b(0x1e2)]));break;case _0x191b9b(0x204):_0xcb6735[_0x191b9b(0x204)]!=undefined&&(settings[_0x191b9b(0x204)]=_0xcb6735[_0x191b9b(0x204)],updateMarketcapApi(settings[_0x191b9b(0x204)]));break;case _0x191b9b(0x166):_0xcb6735[_0x191b9b(0x166)]!=undefined&&(bots=JSON[_0x191b9b(0x1d2)](_0xcb6735['bots']),proxyEmit(_0x191b9b(0x166),bots));break;case _0x191b9b(0x122):switch(_0xcb6735[_0x191b9b(0x122)]){case _0x191b9b(0x1a1):initclient();break;case _0x191b9b(0x293):toggleBotMode();break;case _0x191b9b(0x228):emitHistory(_0xcb6735[_0x191b9b(0x1fd)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0xcb6735[_0x191b9b(0x1fd)]);break;case _0x191b9b(0x23c):getPortfolio(_0xcb6735[_0x191b9b(0x1fd)]);break;case'storeConfiguration':storeConfiguration(_0xcb6735['args']);break;case _0x191b9b(0x155):storeHeadless(_0xcb6735[_0x191b9b(0x1fd)]);break;case'storeFiat':storeFiat(_0xcb6735['args']);break;case _0x191b9b(0x1af):resetHistory();break;case _0x191b9b(0x13a):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0xcb6735[_0x191b9b(0x1fd)]);break;case'cancelLoading':cancelLoading();break;case _0x191b9b(0x22a):showConfig();break;case _0x191b9b(0x129):sendMetricsTelegram();break;case _0x191b9b(0x1db):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x3813b4=![]){const _0x377057=_0x188c77;logger[_0x377057(0x269)](_0x377057(0x26c)+(_0x3813b4?'exchange\x20reloaded':'exchange\x20not\x20reloaded')+'\x20|\x20exchange:\x20'+config[_0x377057(0x1b6)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x3813b4)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x377057(0x21b)]!=''&&config[_0x377057(0x21b)]!=_0x377057(0x1d5)){loadingProgress=0x0;if(_0x3813b4){if(pidCoinReloading)clearTimeout(pidCoinReloading);await initExchange();try{await loadSymbols();}catch(_0x10701c){handleErrorNoStop(_0x10701c,_0x377057(0x25c));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x4eaf86=await getCoins();[currentCoins,currentCoinsAll]=_0x4eaf86,setBlockTransactionDetection(![]),getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x377057(0x269)](_0x377057(0x294)),getBalances(![]),await updateOpenOrders();if(lastOrders['length']==0x0&&allOpenOrders[_0x377057(0x19c)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x4c15eb=![]){const _0x26ea48=_0x188c77;logger['debug'](_0x26ea48(0x193)+(_0x4c15eb?_0x26ea48(0x10b):_0x26ea48(0x272))+_0x26ea48(0x210)+config[_0x26ea48(0x1b6)]);if(pidBalances)clearTimeout(pidBalances);if(_0x4c15eb){getBalances();return;}coinsLoaded=![];if(config[_0x26ea48(0x21b)]!=''&&config[_0x26ea48(0x21b)]!=_0x26ea48(0x1d5)){loadingProgress=0x1;const _0x346632=await getCoins();[currentCoins,currentCoinsAll]=_0x346632,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x26ea48(0x294)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x26ea48(0x19c)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x15db52){const _0x21f119=_0x188c77;let _0x415a8b=![];if(_0x15db52)_0x415a8b=!![];let _0x2451dd;_0x415a8b?_0x2451dd=_0x15db52[_0x21f119(0x26b)](_0xaa0311=>_0xaa0311[_0x21f119(0x25d)]):_0x2451dd=currentCoinsAll[_0x21f119(0x26b)](_0x2208a5=>_0x2208a5['coin']);if(!config[_0x21f119(0x204)]||!_0x415a8b&&!config[_0x21f119(0x277)]||_0x2451dd[_0x21f119(0x19c)]==0x0)return;let _0x4889a2=null;try{_0x4889a2=await axios['get'](_0x21f119(0x28d),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x21f119(0x204)]},'params':{'symbol':_0x2451dd[_0x21f119(0x16e)]()}});}catch(_0x5710a5){_0x4889a2=null,_0x5710a5[_0x21f119(0x16e)]()[_0x21f119(0x27f)]('status\x20code\x20401')?(config[_0x21f119(0x204)]=![],updateConfig(),proxyEmit(_0x21f119(0x28e),emittedConfiguration()),logHistory(_0x21f119(0x24e),_0x21f119(0x1b1))):(logHistory('error',_0x21f119(0x275)+schedulerInterval/(0x3c*0x3e8)+_0x21f119(0x1c4)),logger[_0x21f119(0x269)](_0x21f119(0x2a3),_0x5710a5[_0x21f119(0x16e)]()+'\x20-\x20'+_0x5710a5[_0x21f119(0x2a2)]));}if(_0x4889a2){let _0x21b79d=0x0;const _0x31554b=_0x4889a2[_0x21f119(0x1d4)];_0x2451dd[_0x21f119(0x10a)](_0x452863=>{const _0x348dc5=_0x21f119;if(_0x31554b[_0x348dc5(0x1d4)][_0x452863][0x0])_0x21b79d+=_0x31554b[_0x348dc5(0x1d4)][_0x452863][0x0][_0x348dc5(0x25e)][_0x348dc5(0x261)][_0x348dc5(0x19b)];}),_0x2451dd[_0x21f119(0x10a)](_0x39a2ea=>{const _0x2cbef3=_0x21f119,_0x26a713=_0x31554b['data'][_0x39a2ea][0x0]?_0x31554b['data'][_0x39a2ea][0x0]['quote'][_0x2cbef3(0x261)][_0x2cbef3(0x19b)]:0x0;if(_0x415a8b){const _0x4bd357=_0x15db52['find'](_0x2a8426=>_0x2a8426[_0x2cbef3(0x25d)]==_0x39a2ea);_0x4bd357&&(_0x4bd357[_0x2cbef3(0x1f6)]=_0x26a713);}else{const _0x1ce722=currentCoins[_0x2cbef3(0x18c)](_0x2499be=>_0x2499be['coin']==_0x39a2ea);_0x1ce722&&(_0x1ce722['marketcap']=_0x26a713);const _0x839acd=currentCoinsAll['find'](_0xd3217c=>_0xd3217c[_0x2cbef3(0x25d)]==_0x39a2ea);_0x839acd&&(_0x839acd[_0x2cbef3(0x1f6)]=_0x26a713);}}),!_0x415a8b&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x456fc1=_0x188c77,_0x4c4724=0x2;let _0xa327a=0x0,_0x16d1dd=0x0,_0x45f9fb=0x0,_0x3da494=0x0,_0x113248=0x0;config[_0x456fc1(0x1d7)][_0x456fc1(0x10a)](_0x41f37f=>{const _0x2cd995=_0x456fc1;if(!_0x41f37f[_0x2cd995(0x1d3)]){_0x45f9fb++,_0xa327a+=_0x41f37f['slider'];if(_0x41f37f[_0x2cd995(0x25b)]===-0x1){_0xa327a++;const _0xb162e=currentCoinsAll[_0x2cd995(0x18c)](_0x22b0ac=>_0x22b0ac[_0x2cd995(0x25d)]==_0x41f37f[_0x2cd995(0x25d)]);_0xb162e&&(_0x3da494+=_0xb162e['marketcap'],_0x113248+=Math[_0x2cd995(0x1df)](_0xb162e[_0x2cd995(0x1f6)]));}if(_0x41f37f['slider']!==-0x1)_0x16d1dd++;}});let _0x40d586;const _0x51a63e=0x64-_0xa327a,_0x3758ea=_0x45f9fb-_0x16d1dd;_0x40d586=_0x3758ea===0x0?_0xa327a:Math[_0x456fc1(0x278)](0x64,_0xa327a),config['portfolio']['forEach'](_0xe979e4=>{const _0x5ce90a=_0x456fc1,_0x5161bc=currentCoinsAll[_0x5ce90a(0x18c)](_0x1eda6e=>_0x1eda6e[_0x5ce90a(0x25d)]==_0xe979e4[_0x5ce90a(0x25d)]);_0x5161bc&&(_0xe979e4[_0x5ce90a(0x1f6)]=_0x5161bc[_0x5ce90a(0x1f6)]);if(!_0xe979e4[_0x5ce90a(0x1d3)]){if(_0x40d586<=0x64){if(_0xe979e4[_0x5ce90a(0x25b)]===-0x1){if(_0x3da494!==0x0&&config[_0x5ce90a(0x277)]){if(_0x5161bc){if(config[_0x5ce90a(0x277)]==_0x5ce90a(0x1f6))_0xe979e4[_0x5ce90a(0x279)]=(_0x51a63e/(_0x3da494/_0x5161bc[_0x5ce90a(0x1f6)]))['toFixed'](_0x4c4724);else config['marketcapEnabled']==_0x5ce90a(0x205)&&(_0xe979e4[_0x5ce90a(0x279)]=(_0x51a63e/(_0x113248/Math[_0x5ce90a(0x1df)](_0x5161bc[_0x5ce90a(0x1f6)])))[_0x5ce90a(0x115)](_0x4c4724));}}}}}}),updateConfig();}function updateConfig(){const _0x3ff09a=_0x188c77;let _0x4db85f=dbConfig[_0x3ff09a(0x16d)]('bot')[_0x3ff09a(0x18c)]({'botID':botID})['value']();_0x4db85f&&dbConfig[_0x3ff09a(0x16d)](_0x3ff09a(0x1dc))[_0x3ff09a(0x18c)]({'botID':botID})[_0x3ff09a(0x157)](config)[_0x3ff09a(0x106)]();}async function startScheduler(){const _0x8e59bb=_0x188c77,_0x58fd17=process['memoryUsage']()[_0x8e59bb(0x190)]/0x400/0x400;logger[_0x8e59bb(0x269)]('process\x20'+process['pid']+_0x8e59bb(0x19a)+_0x58fd17+_0x8e59bb(0x1c3)),getMarketCap(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x5f1aea=![]){const _0x3d5653=_0x188c77;logger[_0x3d5653(0x269)]('Initiating\x20bot\x20restart');if(!_0x5f1aea)while(lockOrders!=ORDERS[_0x3d5653(0x2a7)]||coolingDown){await sleep(0xa*0x3e8);}process[_0x3d5653(0x1cb)]({'stop':'restart'},_0x1a35a1=>{});}async function initExchange(_0x3b9d6a=config[_0x188c77(0x1b6)],_0x48d8ca=config[_0x188c77(0x21b)],_0x4bbf90=config['apiSecret'],_0x2c1dd4=config[_0x188c77(0x285)]){const _0xd94b6f=_0x188c77;!supportedExchanges()[_0xd94b6f(0x27f)](_0x3b9d6a)&&(logHistory(_0xd94b6f(0x24e),_0xd94b6f(0x19d)+_0x3b9d6a+_0xd94b6f(0x118)),killBot());const _0x5e5c87=ccxt['pro'][_0x3b9d6a[_0xd94b6f(0x1c2)]()];exchange=new _0x5e5c87({'apiKey':_0x48d8ca,'secret':_0x4bbf90,'options':{'defaultType':'spot'}});if(_0x2c1dd4)exchange[_0xd94b6f(0x199)]=_0x2c1dd4;}function updateExchange(_0x4dc122,_0x283830,_0xe20851=null){const _0x3bf548=_0x188c77;exchange[_0x3bf548(0x21b)]=_0x4dc122,exchange[_0x3bf548(0x1e4)]=_0x283830,exchange[_0x3bf548(0x285)]=_0xe20851,logger['debug'](_0x3bf548(0x20f));}function setStableCoins(){const _0x485e2c=_0x188c77;let _0x22aeef=config[_0x485e2c(0x1ff)]=='ETH'?_0x485e2c(0x256):config[_0x485e2c(0x1ff)]==_0x485e2c(0x27a)?_0x485e2c(0x27a):_0x485e2c(0x126),_0x2e4d86=!allSymbols[_0x485e2c(0x27f)](_0x22aeef+_0x485e2c(0x298))?_0x485e2c(0x114):_0x485e2c(0x261),_0x153500=!allSymbols[_0x485e2c(0x27f)](_0x22aeef+'/EUR')?_0x2e4d86:_0x485e2c(0x117);stablecoins={'eur':{'coin':''+_0x22aeef+_0x153500,'symbol':_0x22aeef+'/'+_0x153500},'usd':{'coin':''+_0x22aeef+_0x2e4d86,'symbol':_0x22aeef+'/'+_0x2e4d86}};}async function initwsCcxt(){const _0xce7afa=_0x188c77;initCycle++;const _0x1c3d94=initCycle;let _0x494427=[];config[_0xce7afa(0x1d7)][_0xce7afa(0x10a)](_0x50271b=>{const _0x2eb2d4=_0xce7afa;if(!_0x50271b['excluded']&&_0x50271b[_0x2eb2d4(0x25d)]!=config[_0x2eb2d4(0x1ff)])_0x494427[_0x2eb2d4(0x28c)](_0x50271b[_0x2eb2d4(0x152)]);});if(!_0x494427[_0xce7afa(0x27f)](stablecoins[_0xce7afa(0x180)][_0xce7afa(0x152)]))_0x494427[_0xce7afa(0x28c)](stablecoins[_0xce7afa(0x180)][_0xce7afa(0x152)]);if(!_0x494427['includes'](stablecoins[_0xce7afa(0x183)][_0xce7afa(0x152)]))_0x494427[_0xce7afa(0x28c)](stablecoins['usd'][_0xce7afa(0x152)]);if(config['exchange'][_0xce7afa(0x252)](_0xce7afa(0x123))&&config[_0xce7afa(0x1ff)]!=_0xce7afa(0x27a)){if(!_0x494427[_0xce7afa(0x27f)](_0xce7afa(0x207)+config[_0xce7afa(0x1ff)]))_0x494427[_0xce7afa(0x28c)]('BNB/'+config[_0xce7afa(0x1ff)]);}loadCoins(_0x494427),_0x494427=validateSymbols(_0x494427);const _0x538420=async _0x5d22f0=>{const _0x49ec63=_0xce7afa;let _0x4c204d;try{const _0x4ebb48=await getTickers(_0x5d22f0);Object['entries'](_0x4ebb48)[_0x49ec63(0x10a)](_0x29cb70=>{const _0x536c61=_0x49ec63;_0x4c204d=_0x29cb70[0x1][_0x536c61(0x152)],gTicker[noslash(_0x4c204d)]=_0x29cb70[0x1][_0x536c61(0x231)],gChange[_0x4c204d]=_0x29cb70[0x1][_0x536c61(0x2a0)];});}catch(_0x546ebd){await handleError(_0x546ebd,_0x49ec63(0x260),_0x4c204d);}},_0xff5fac=async _0x549fc2=>{const _0x15f8e6=_0xce7afa;while(initCycle==_0x1c3d94){if(!botPaused)try{const _0xb2b3f=await exchange[_0x15f8e6(0x25a)](_0x549fc2);gTicker[noslash(_0xb2b3f[0x0][_0x15f8e6(0x152)])]=_0xb2b3f[0x0][_0x15f8e6(0x107)];}catch(_0x336411){if(!exchangeStopped)await handleError(_0x336411,'watchTrades()',_0x549fc2);}else await sleep(0x64);}},_0x5490bb=async _0x3069c5=>{const _0x564be1=_0xce7afa;while(initCycle==_0x1c3d94){if(!botPaused)try{const _0x30683a=await exchange[_0x564be1(0x145)](_0x3069c5),_0x4523e3=_0x30683a['pop']();gTicker[noslash(_0x4523e3[_0x564be1(0x152)])]=_0x4523e3[_0x564be1(0x107)];}catch(_0x2abaaf){if(!exchangeStopped)await handleError(_0x2abaaf,_0x564be1(0x10e),_0x3069c5[_0x564be1(0x16e)]());}else await sleep(0x64);}},_0x2b8ebd=async _0x2dd70c=>{const _0x19299c=_0xce7afa;while(initCycle==_0x1c3d94){if(!botPaused){let _0xaa7ad6;try{await sleep(0x3c*0x3e8);const _0x37ae78=await getTickers(_0x2dd70c);Object[_0x19299c(0x270)](_0x37ae78)[_0x19299c(0x10a)](_0x25d8ba=>{const _0x146726=_0x19299c;_0xaa7ad6=_0x25d8ba[0x1][_0x146726(0x152)],gChange[_0xaa7ad6]=_0x25d8ba[0x1][_0x146726(0x2a0)];});}catch(_0x164c5f){if(!exchangeStopped)await handleError(_0x164c5f,_0x19299c(0x1a9),_0xaa7ad6);}}else await sleep(0x64);}},_0x47d60d=async _0x326172=>{const _0x325d4c=_0xce7afa;while(initCycle==_0x1c3d94){if(!botPaused)try{const _0x26f775=await exchange[_0x325d4c(0x175)](_0x326172);initCycle==_0x1c3d94&&_0x26f775[_0x325d4c(0x10a)](_0x1b266b=>{updateNumberCoinsCcxt(_0x1b266b);});}catch(_0x1ec0db){if(!exchangeStopped)await handleError(_0x1ec0db,_0x325d4c(0x289));}else await sleep(0x64);}};_0x538420(_0x494427),_0x2b8ebd(_0x494427),exchange[_0xce7afa(0x217)]['watchTradesForSymbols']&&!(config[_0xce7afa(0x1b6)]==_0xce7afa(0x249)&&_0x494427['length']>0xa)?_0x5490bb(_0x494427):_0x494427['forEach'](_0x3a38cf=>{_0xff5fac(_0x3a38cf);}),_0x494427[_0xce7afa(0x10a)](_0x5b8712=>{_0x47d60d(_0x5b8712);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x53cbbb){const _0x4dbaa2=_0x188c77;let _0x4ae913={};try{if(config[_0x4dbaa2(0x1b6)]!=_0x4dbaa2(0x288))_0x4ae913=await exchange[_0x4dbaa2(0x1d6)](_0x53cbbb);else for(const _0x1e6385 of _0x53cbbb){const _0x1a3a18=await exchange[_0x4dbaa2(0x21f)](_0x1e6385);_0x4ae913[_0x1e6385]=_0x1a3a18;}return _0x4ae913;}catch(_0x381bfc){throw _0x381bfc;}}function setBlockTransactionDetection(_0x39c998){const _0x3f361c=_0x188c77;blockTransactionDetection=_0x39c998,logger[_0x3f361c(0x269)](_0x3f361c(0x1bd)+blockTransactionDetection);}async function detectLiquidityChange(_0x513fa5=0x0){const _0x46d528=_0x188c77;transactionDetectionOngoing=!![];try{const _0x2f04e9=await getCoins(_0x513fa5),[_0x230f29,_0x15ed10]=_0x2f04e9;let _0x1189c6=[];currentCoins['forEach'](_0x61fd9f=>{const _0x101ca7=_0x38fa,_0x58223e=_0x230f29[_0x101ca7(0x18c)](_0x15d121=>_0x15d121[_0x101ca7(0x25d)]==_0x61fd9f[_0x101ca7(0x25d)]);if(_0x58223e){if(_0x61fd9f['number']!=_0x58223e[_0x101ca7(0x1e1)]){let _0xd9ff5;if(_0x61fd9f['coin']!=config[_0x101ca7(0x1ff)]){const _0xff1d45=gTicker[noslash(_0x61fd9f[_0x101ca7(0x152)])];_0xd9ff5=_0x61fd9f['reverse']?0x1/_0xff1d45:_0xff1d45;}else _0xd9ff5=0x1;_0x1189c6['push']({'coin':_0x61fd9f[_0x101ca7(0x25d)],'symbol':_0x61fd9f[_0x101ca7(0x152)],'price':_0xd9ff5,'number':Number(formatResult(_0x58223e[_0x101ca7(0x1e1)]-_0x61fd9f[_0x101ca7(0x1e1)],0x8)),'basecoinvalue':_0xd9ff5*(_0x58223e[_0x101ca7(0x1e1)]-_0x61fd9f[_0x101ca7(0x1e1)])});}}});if(_0x1189c6[_0x46d528(0x19c)]>0x0&&!blockTransactionDetection)for(const _0x51fabc of _0x1189c6){if(config['autoliquidity']){logger[_0x46d528(0x269)](_0x46d528(0x1a3)+_0x51fabc[_0x46d528(0x181)]+_0x46d528(0x209)+lastFees[_0x46d528(0x29d)]);if(lastFees[_0x46d528(0x29d)]==0x0||Math[_0x46d528(0x111)](_0x51fabc[_0x46d528(0x181)])>lastFees[_0x46d528(0x29d)]*1.2){if(config[_0x46d528(0x239)]==_0x46d528(0x1e9)){delete _0x51fabc[_0x46d528(0x152)],delete _0x51fabc['basecoinvalue'];let _0x400f97=[],_0x3aca72=[...config[_0x46d528(0x229)]]||[],_0x3c2c8a=config[_0x46d528(0x229)];_0x3aca72[_0x46d528(0x16b)]((_0x52e5e4,_0x3b6fac)=>_0x52e5e4[_0x46d528(0x182)]>_0x3b6fac[_0x46d528(0x182)]?-0x1:_0x3b6fac[_0x46d528(0x182)]>_0x52e5e4[_0x46d528(0x182)]?0x1:0x0);const _0x1d3a39=getDate();if(_0x3aca72[0x0]){const _0x4268bc=fns[_0x46d528(0x1d2)](_0x3aca72[0x0][_0x46d528(0x182)],_0x46d528(0x273),new Date()),_0x418492=fns[_0x46d528(0x1d2)](_0x1d3a39,_0x46d528(0x273),new Date());if(fns[_0x46d528(0x1b5)](_0x4268bc,_0x418492)){_0x400f97=_0x3aca72[0x0][_0x46d528(0x29f)];const _0x33b527=_0x400f97[_0x46d528(0x18c)](_0x5072f8=>_0x5072f8['coin']==_0x51fabc['coin']);_0x33b527?(_0x33b527['number']+=_0x51fabc['number'],_0x33b527[_0x46d528(0x1e1)]==0x0&&(_0x400f97=_0x400f97['filter'](_0x5b9e35=>{const _0x2f5be4=_0x46d528;return _0x5b9e35[_0x2f5be4(0x25d)]!=_0x51fabc['coin'];}))):_0x400f97[_0x46d528(0x28c)](_0x51fabc);const _0x498de7=_0x3c2c8a[_0x46d528(0x18c)](_0x292bd5=>_0x292bd5[_0x46d528(0x182)]==_0x1d3a39);_0x498de7[_0x46d528(0x29f)]=_0x400f97;}else _0x3c2c8a[_0x46d528(0x28c)]({'date':_0x1d3a39,'changes':[_0x51fabc]});}const _0x46eec3=_0x3c2c8a[_0x46d528(0x18c)](_0x41ac06=>_0x41ac06['date']==_0x1d3a39);if(_0x46eec3){let _0x24d640=!![];_0x46eec3['changes'][_0x46d528(0x10a)](_0x594028=>{const _0x2f64f6=_0x46d528;if(_0x594028[_0x2f64f6(0x1e1)]!=0x0)_0x24d640=![];}),_0x24d640&&(_0x3c2c8a=_0x3c2c8a['filter'](_0x11e63f=>{return _0x11e63f['date']!=_0x1d3a39;}));}let _0x2f7970=dbConfig[_0x46d528(0x16d)]('bot')[_0x46d528(0x18c)]({'botID':botID})[_0x46d528(0x116)]();_0x2f7970&&(dbConfig[_0x46d528(0x16d)]('bot')[_0x46d528(0x18c)]({'botID':botID})[_0x46d528(0x157)]({'liquidity':_0x3c2c8a})[_0x46d528(0x106)](),config[_0x46d528(0x229)]=_0x3c2c8a);logHistory(_0x46d528(0x1b8),'Portfolio\x20change\x20detected:\x20'+Math[_0x46d528(0x111)](_0x51fabc[_0x46d528(0x1e1)])+'\x20'+_0x51fabc[_0x46d528(0x25d)]+'\x20'+(_0x51fabc['number']>0x0?_0x46d528(0x10f):_0x46d528(0x178))+_0x46d528(0x160)),proxyEmit(_0x46d528(0x28e),emittedConfiguration());const _0x5c4005=getNormalizedPerformance();emitPerformance(_0x5c4005),getStartingBalances(_0x5c4005),logger[_0x46d528(0x269)](_0x46d528(0x226));}else config[_0x46d528(0x239)]=='switch-manual'&&(config[_0x46d528(0x196)]?(await storeHeadless({'headless':![]}),logHistory(_0x46d528(0x1b8),_0x46d528(0x1d8)+Math[_0x46d528(0x111)](_0x51fabc[_0x46d528(0x1e1)])+'\x20'+_0x51fabc[_0x46d528(0x25d)]+'\x20'+(_0x51fabc[_0x46d528(0x1e1)]>0x0?_0x46d528(0x10f):_0x46d528(0x178))+_0x46d528(0x144))):logger[_0x46d528(0x269)](_0x46d528(0x1d8)+Math['abs'](_0x51fabc[_0x46d528(0x1e1)])+'\x20'+_0x51fabc[_0x46d528(0x25d)]+'\x20'+(_0x51fabc[_0x46d528(0x1e1)]>0x0?_0x46d528(0x10f):'removed')+_0x46d528(0x188)));}else logger[_0x46d528(0x269)](_0x46d528(0x1d9)+Math[_0x46d528(0x111)](_0x51fabc[_0x46d528(0x1e1)])+'\x20'+_0x51fabc[_0x46d528(0x25d)]+'\x20'+(_0x51fabc[_0x46d528(0x1e1)]>0x0?'added':'removed'));}else logger[_0x46d528(0x269)](_0x46d528(0x1d8)+Math[_0x46d528(0x111)](_0x51fabc[_0x46d528(0x1e1)])+'\x20'+_0x51fabc[_0x46d528(0x25d)]+'\x20'+(_0x51fabc[_0x46d528(0x1e1)]>0x0?_0x46d528(0x10f):_0x46d528(0x178))+_0x46d528(0x2ab));}currentCoins=_0x230f29,currentCoinsAll=_0x15ed10;}catch(_0x397395){if(!exchangeStopped)await handleError(_0x397395,_0x46d528(0x12a));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x193c5d=_0x188c77;try{markets=await exchange[_0x193c5d(0x151)](),allSymbols=[],Object[_0x193c5d(0x270)](markets)['forEach'](_0xb5ee74=>{const _0x25b598=_0x193c5d;_0xb5ee74[0x1]['active']&&_0xb5ee74[0x1]['spot']&&allSymbols[_0x25b598(0x28c)](_0xb5ee74[0x0]);});}catch(_0x1da9e1){throw _0x1da9e1;}}function validateSymbols(_0x438b88){let _0x33d30e=[];return _0x438b88['forEach'](_0x84054e=>{const _0x51a63f=_0x38fa;!allSymbols[_0x51a63f(0x27f)](_0x84054e)?logHistory(_0x51a63f(0x24e),_0x51a63f(0x121)+_0x84054e+'\x20-\x20exclude\x20coin\x20in\x20the\x20configuration'):_0x33d30e[_0x51a63f(0x28c)](_0x84054e);}),_0x33d30e;}async function initclient(){const _0x54e9d0=_0x188c77;proxyEmit(_0x54e9d0(0x28e),emittedConfiguration()),proxyEmit(_0x54e9d0(0x2ae),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x54e9d0(0x286),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5872bc=getNormalizedPerformance();emitPerformance(_0x5872bc),getStartingBalances(_0x5872bc);}async function toggleBotMode(){const _0x3a915d=_0x188c77;let _0x5a41a0=dbConfig[_0x3a915d(0x16d)](_0x3a915d(0x1dc))[_0x3a915d(0x18c)]({'botID':botID})[_0x3a915d(0x116)]();if(_0x5a41a0){const _0x197bc3=!_0x5a41a0['headless'];dbConfig['get'](_0x3a915d(0x1dc))['find']({'botID':botID})[_0x3a915d(0x157)]({'headless':_0x197bc3})['write'](),config[_0x3a915d(0x196)]=_0x197bc3,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1fd425=_0x188c77;process[_0x1fd425(0x1cb)]({'updatebotmanager':!![]},_0x30d97b=>{}),logger['debug']('Headless:\x20'+config['headless']);}async function loadCoins(_0x36fe44){const _0x3fd0cb=_0x188c77;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x8bcce1,_0x1e3a41=0x0,_0x41b31a=0x0;_0x36fe44[_0x3fd0cb(0x10a)](_0x50643b=>{const _0x31ccee=_0x3fd0cb;loading['remainingSymbols'][_0x31ccee(0x28c)](_0x50643b);}),loadingCanceled=![];let _0x321dd0=![];while(_0x8bcce1!=_0x36fe44[_0x3fd0cb(0x19c)]+maxLoadingProgress){_0x8bcce1=loadingProgress,_0x36fe44[_0x3fd0cb(0x10a)](_0x56ed33=>{const _0x4f72b5=_0x3fd0cb;if(gTicker[noslash(_0x56ed33)]){loading[_0x4f72b5(0x219)]=loading[_0x4f72b5(0x219)][_0x4f72b5(0x1b7)](_0x503bc7=>_0x503bc7!=_0x56ed33);if(!watchedSymbols[_0x4f72b5(0x27f)](_0x56ed33))watchedSymbols[_0x4f72b5(0x28c)](_0x56ed33);_0x8bcce1++;}}),loading['progress']=Math[_0x3fd0cb(0x1b0)](_0x8bcce1/(_0x36fe44['length']+maxLoadingProgress)*0x64);loading[_0x3fd0cb(0x1f5)]!=0x64&&(_0x41b31a>0x1e*0x5&&(loading[_0x3fd0cb(0x165)]=!![],emitLoadingProgress()),_0x41b31a>0x78*0x5&&!_0x321dd0&&(_0x321dd0=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x3fd0cb(0x219)][_0x3fd0cb(0x21c)](',\x20')+_0x3fd0cb(0x12d)),logHistory(_0x3fd0cb(0x24e),_0x3fd0cb(0x28f)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{restartBot();},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x1e3a41!=loading['progress']&&(_0x1e3a41=loading[_0x3fd0cb(0x1f5)],emitLoadingProgress()),_0x41b31a++,await sleep(0xc8);}_0x8bcce1==_0x36fe44[_0x3fd0cb(0x19c)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x3fd0cb(0x1cb)]({'status':'enabled','live':_0x3fd0cb(0x14f)},_0x4000fe=>{}),_0x321dd0&&logHistory(_0x3fd0cb(0x1b8),_0x3fd0cb(0x169)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x41510c=_0x188c77;proxyEmit(_0x41510c(0x28e),{...emittedConfiguration(),'configstate':_0x41510c(0x17f)});}function emitLoadingProgress(){const _0x2e615c=_0x188c77;proxyEmit(_0x2e615c(0x138),loading);}async function getFiat(){const _0x2329a7=_0x188c77;let _0x1d3484=gTicker[stablecoins[_0x2329a7(0x180)][_0x2329a7(0x25d)]],_0x27137f=gTicker[stablecoins[_0x2329a7(0x183)][_0x2329a7(0x25d)]];return{'eur':Number(_0x1d3484),'usd':Number(_0x27137f)};}function capitalize(_0x356f9c){const _0x3165de=_0x188c77;return _0x356f9c['substring'](0x0,0x1)['toUpperCase']()+_0x356f9c[_0x3165de(0x1e8)](0x1);}function supportedExchanges(){const _0x13ad16=_0x188c77,_0x2bddf8=['ws','fetchTickers',_0x13ad16(0x21f),'watchTrades',_0x13ad16(0x175),'cancelOrder',_0x13ad16(0x201),_0x13ad16(0x22d),'fetchClosedOrders',_0x13ad16(0x2b2)];let _0x11f6c9=[],_0x5d32da=[],_0x4c5076=ccxt[_0x13ad16(0x1d1)][_0x13ad16(0x2ae)];_0x4c5076[_0x13ad16(0x10a)](_0x2510a0=>{const _0x1d7a85=_0x13ad16;try{const _0xd2a4b9=new ccxt[(_0x1d7a85(0x1d1))][_0x2510a0]();_0x5d32da['push'](_0xd2a4b9);}catch(_0x20029b){}}),_0x5d32da[_0x13ad16(0x10a)](_0x2b45af=>{const _0x579efd=_0x13ad16;let _0x493c35=0x0;_0x2bddf8[_0x579efd(0x10a)](_0x63440a=>{const _0x1c42ec=_0x579efd;_0x63440a in _0x2b45af['has']&&_0x2b45af[_0x1c42ec(0x217)][_0x63440a]&&_0x493c35++;}),_0x493c35==_0x2bddf8[_0x579efd(0x19c)]&&_0x11f6c9[_0x579efd(0x28c)](capitalize(_0x2b45af['id']));});let _0x1e2543=[];return _0x4c5076['forEach'](_0x29c723=>{const _0x207a6e=_0x13ad16;_0x29c723=capitalize(_0x29c723);if(!_0x11f6c9[_0x207a6e(0x27f)](_0x29c723))_0x1e2543[_0x207a6e(0x28c)](_0x29c723);}),_0x11f6c9;}function setStartDatePerformance(){const _0x506d29=_0x188c77;if(config&&config[_0x506d29(0x229)][0x0]['changes'][_0x506d29(0x19c)]!=0x0){const _0x124125=config['liquidity'][0x0][_0x506d29(0x29f)];dbPerformance[_0x506d29(0x16d)](_0x506d29(0x1d4))[_0x506d29(0x18c)]({'date':config[_0x506d29(0x1a0)]})[_0x506d29(0x157)]({'coins':_0x124125})['write']();}}async function recreateCoinResults(){const _0x29638e=_0x188c77;recreationNeeded=![];let _0x286643,_0x345ba8=[];try{for(const _0x1157eb of currentCoins){if(_0x1157eb['coin']!=config[_0x29638e(0x1ff)]){let _0x3332cf=0x0,_0x182578,_0x293c98;_0x286643=await getAllEventOrders(_0x1157eb['symbol']);if(_0x286643[_0x29638e(0x19c)]>0x0)_0x286643[_0x29638e(0x10a)](_0x4e492a=>{const _0x372f8a=_0x29638e,_0x3e900f=_0x1157eb[_0x372f8a(0x152)][_0x372f8a(0x27f)](config['basecoin']+'/');_0x345ba8[_0x372f8a(0x28c)]({'datetime':_0x4e492a['datetime'],'coin':_0x1157eb[_0x372f8a(0x25d)],'symbol':_0x1157eb[_0x372f8a(0x152)],'side':_0x4e492a[_0x372f8a(0x240)],'reverse':_0x3e900f,'amount':formatResult(_0x4e492a[_0x372f8a(0x147)],0x8),'filled':formatResult(_0x4e492a[_0x372f8a(0x147)],0x8),'price':formatResult(_0x4e492a[_0x372f8a(0x107)],0x8)}),_0x3332cf=_0x4e492a['side']==_0x372f8a(0x264)?_0x3332cf+_0x4e492a[_0x372f8a(0x147)]:_0x3332cf-_0x4e492a[_0x372f8a(0x147)];if(!_0x293c98)_0x293c98=_0x4e492a[_0x372f8a(0x107)];});_0x182578=_0x1157eb[_0x29638e(0x1e1)]-_0x3332cf;let _0x29cb51;config[_0x29638e(0x229)][_0x29638e(0x10a)](_0x35e982=>{const _0x52dec0=_0x29638e;!_0x29cb51&&(_0x29cb51=_0x35e982['changes'][_0x52dec0(0x18c)](_0x28ad70=>_0x28ad70['coin']==_0x1157eb[_0x52dec0(0x25d)]),_0x29cb51&&(_0x182578=_0x29cb51[_0x52dec0(0x1e1)],_0x293c98=_0x29cb51[_0x52dec0(0x107)]));});let _0x12321c=dbCoinResults[_0x29638e(0x16d)](_0x29638e(0x18d))[_0x29638e(0x18c)]({'coin':_0x1157eb[_0x29638e(0x25d)]})['value']();_0x12321c={'coin':_0x1157eb[_0x29638e(0x25d)],'number':_0x182578,'breakeven':_0x293c98,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x29638e(0x18d))[_0x29638e(0x18c)]({'coin':_0x1157eb[_0x29638e(0x25d)]})[_0x29638e(0x157)](_0x12321c)[_0x29638e(0x106)]();}}_0x345ba8[_0x29638e(0x16b)]((_0x43bc0b,_0x4887c4)=>_0x43bc0b[_0x29638e(0x104)]>_0x4887c4['datetime']?0x1:_0x4887c4[_0x29638e(0x104)]>_0x43bc0b['datetime']?-0x1:0x0);let _0x279c6d=0x0;for(let _0x59a6e3 of _0x345ba8){await updateCoinResults(_0x59a6e3,!![]);}}catch(_0x295848){await handleError(_0x295848,_0x29638e(0x268));}}async function getAllEventOrders(_0x54dd3e){const _0x6a53ea=_0x188c77;let _0x294d2a=[],_0x41aaf5=dbLogs[_0x6a53ea(0x16d)](_0x6a53ea(0x225))[_0x6a53ea(0x1b7)](_0x2972d3=>{const _0x308048=_0x6a53ea,_0x2f3298=_0x2972d3[_0x308048(0x2af)][_0x308048(0x1c2)]();return _0x2f3298[_0x308048(0x27f)](_0x54dd3e['toLowerCase']())&&(_0x2f3298[_0x308048(0x27f)]('market')&&_0x2f3298[_0x308048(0x27f)]('order')||_0x2f3298[_0x308048(0x27f)](_0x308048(0x147))&&_0x2f3298['includes'](_0x308048(0x156)));})[_0x6a53ea(0x186)](_0x6a53ea(0x19f))[_0x6a53ea(0x116)]();return _0x41aaf5[_0x6a53ea(0x10a)](_0x2794df=>{const _0x57df3b=_0x6a53ea,_0xc54a3=_0x2794df[_0x57df3b(0x2af)][_0x57df3b(0x27f)](_0x57df3b(0x237))?_0x57df3b(0x237):_0x57df3b(0x264),_0x247045=/#([0-9]|\.)+\s/i,_0x134bd2=Number(_0x247045[_0x57df3b(0x227)](_0x2794df[_0x57df3b(0x2af)])[0x0][_0x57df3b(0x29a)](0x1)),_0x40f553=/@([0-9]|\.)+$/i,_0x36d1f4=Number(_0x40f553['exec'](_0x2794df[_0x57df3b(0x2af)])[0x0]['slice'](0x1));_0x294d2a[_0x57df3b(0x28c)]({'datetime':_0x2794df[_0x57df3b(0x19f)],'coin':symbolToCoin(_0x54dd3e),'symbol':_0x54dd3e,'side':_0xc54a3,'amount':_0x134bd2,'filled':_0x134bd2,'price':_0x36d1f4});}),_0x294d2a;}async function getAllOrders(_0x40bfa7,_0x106d39){const _0xafacd8=_0x188c77;let _0x1eccbd=[];while(_0x106d39<exchange['milliseconds']()){const _0x82ce73=0x1f4;try{const _0x5118e3=await exchange['fetchClosedOrders'](_0x40bfa7,_0x106d39,_0x82ce73);if(_0x5118e3[_0xafacd8(0x19c)])_0x106d39=_0x5118e3[_0x5118e3['length']-0x1][_0xafacd8(0x170)]+0x1,_0x1eccbd=_0x1eccbd[_0xafacd8(0x25f)](_0x5118e3);else break;}catch(_0x1b96e8){await handleError(_0x1b96e8,_0xafacd8(0x1ce),_0x40bfa7);}}return _0x1eccbd;}async function validate24hChanges(){const _0x5bca68=_0x188c77;for(const _0x3b1bf4 of currentCoins){if(_0x3b1bf4[_0x5bca68(0x25d)]!=config[_0x5bca68(0x1ff)]){let _0x5711e7;_0x3b1bf4['reverse']?_0x5711e7=formatResult((0x1/(gChange[_0x3b1bf4[_0x5bca68(0x152)]]/0x64+0x1)-0x1)*0x64,0x3):_0x5711e7=gChange[_0x3b1bf4[_0x5bca68(0x152)]],_0x5711e7<config[_0x5bca68(0x247)]&&(logHistory(_0x5bca68(0x24e),_0x3b1bf4['coin']+_0x5bca68(0x161)+_0x5711e7+'%'),logHistory(_0x5bca68(0x24e),_0x5bca68(0x271)),logHistory('error','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x122bb1,_0x445515){const _0x1dd2b3=_0x188c77;if(!_0x122bb1)return!![];const _0x20f658=_0x445515[_0x1dd2b3(0x143)]('.'),_0x497b99=_0x122bb1[_0x1dd2b3(0x143)]('.');for(var _0xe10418=0x0;_0xe10418<_0x497b99['length'];_0xe10418++){const _0x565cd6=~~_0x497b99[_0xe10418],_0x57dee4=~~_0x20f658[_0xe10418];if(_0x565cd6<_0x57dee4)return!![];if(_0x565cd6>_0x57dee4)return![];}return![];}async function oneTimeMigration(){const _0x2e5402=_0x188c77;let _0x49af8c=dbLogs[_0x2e5402(0x16d)](_0x2e5402(0x1c6))['value']();if(isOlderVersion(_0x49af8c,_0x2e5402(0x136))){let _0x24a7f8=[];const _0x42a445=dbLogs[_0x2e5402(0x16d)](_0x2e5402(0x225))[_0x2e5402(0x116)]();_0x42a445[_0x2e5402(0x10a)](_0x5f3f2e=>{const _0x37ef59=_0x2e5402;_0x24a7f8[_0x37ef59(0x28c)]({'time':_0x5f3f2e[_0x37ef59(0x19f)],'type':_0x5f3f2e[_0x37ef59(0x262)],'event':_0x5f3f2e['event']});}),dbLogs['get'](_0x2e5402(0x225))[_0x2e5402(0x157)](_0x24a7f8)[_0x2e5402(0x106)]();}let _0x2cae82=dbConfig[_0x2e5402(0x16d)](_0x2e5402(0x1c6))[_0x2e5402(0x116)]();if(isOlderVersion(_0x2cae82,'2.3.5')){let _0x2665a4=dbConfig[_0x2e5402(0x16d)](_0x2e5402(0x1dc))[_0x2e5402(0x18c)]({'botID':botID})[_0x2e5402(0x116)]();if(_0x2665a4){let _0x1c6016=[];_0x2665a4['portfolio'][_0x2e5402(0x10a)](_0x5690c8=>{const _0x3bc0a9=_0x2e5402;_0x1c6016[_0x3bc0a9(0x28c)]({'coin':_0x5690c8['coin'],'number':_0x5690c8['startnumber'],'price':_0x5690c8[_0x3bc0a9(0x1cd)]}),delete _0x5690c8['startnumber'],delete _0x5690c8[_0x3bc0a9(0x1cd)];});if(_0x1c6016[_0x2e5402(0x19c)]!==0x0)fs[_0x2e5402(0x1bf)](configbackuppath+(_0x2e5402(0x28a)+botID+_0x2e5402(0x295)),JSON[_0x2e5402(0x11d)](_0x1c6016,null,0x4),function(_0x56fcda){if(_0x56fcda){}});const _0x4f78da=(_0x544a96,_0x260d5a)=>{const _0x24c272=_0x2e5402;let _0x13f240=[];_0x260d5a[_0x24c272(0x10a)](_0x19c63a=>{const _0x3c1482=_0x24c272,_0xb680fb=_0x544a96[_0x3c1482(0x18c)](_0x27cd53=>_0x27cd53[_0x3c1482(0x25d)]==_0x19c63a[_0x3c1482(0x25d)]);if(!_0xb680fb)_0x13f240[_0x3c1482(0x28c)](_0x19c63a);});let _0x1ce0e2=[];return _0x544a96[_0x24c272(0x10a)](_0x3bf985=>{const _0xc18a61=_0x24c272,_0x283297=_0x260d5a[_0xc18a61(0x18c)](_0x2b8d04=>_0x2b8d04[_0xc18a61(0x25d)]==_0x3bf985[_0xc18a61(0x25d)]);if(!_0x283297||_0x283297[_0xc18a61(0x1e1)]==0x0&&_0x3bf985[_0xc18a61(0x1e1)]!=0x0)_0x1ce0e2[_0xc18a61(0x28c)](_0x3bf985);}),{'missingDay1':_0x13f240,'notInDay2':_0x1ce0e2};},_0x408665=dbPerformance[_0x2e5402(0x16d)]('data')['cloneDeep']()[_0x2e5402(0x116)]();if(_0x408665[_0x2e5402(0x19c)]>0x1){const {missingDay1:_0x2da3e8,notInDay2:_0x582e29}=_0x4f78da(_0x1c6016,_0x408665[0x1][_0x2e5402(0x18d)]);_0x1c6016=[..._0x1c6016,..._0x2da3e8],_0x582e29[_0x2e5402(0x10a)](_0x1e03f4=>{const _0x7745f5=_0x2e5402;let _0x519a65=_0x1c6016[_0x7745f5(0x215)](_0x23e5b1=>_0x23e5b1['coin']==_0x1e03f4[_0x7745f5(0x25d)]);_0x519a65!=-0x1&&_0x1c6016[_0x7745f5(0x284)](_0x519a65,0x1);});}_0x1c6016[_0x2e5402(0x16b)]((_0x17a7a7,_0x43095d)=>_0x17a7a7[_0x2e5402(0x25d)]>_0x43095d[_0x2e5402(0x25d)]?0x1:_0x43095d[_0x2e5402(0x25d)]>_0x17a7a7[_0x2e5402(0x25d)]?-0x1:0x0);let _0xadf262=[{'date':_0x2665a4[_0x2e5402(0x1a0)],'changes':_0x1c6016}];_0x408665[_0x2e5402(0x19c)]>0x2&&_0x408665[_0x2e5402(0x10a)]((_0x56d3cf,_0x54fb0a)=>{const _0xc1e9db=_0x2e5402;if(_0x54fb0a>0x0&&_0x54fb0a<_0x408665[_0xc1e9db(0x19c)]-0x1){const {missingDay1:_0x319110,notInDay2:_0x291241}=_0x4f78da(_0x408665[_0x54fb0a][_0xc1e9db(0x18d)],_0x408665[_0x54fb0a+0x1]['coins']);_0x1c6016=[],(_0x319110[_0xc1e9db(0x19c)]!=0x0||_0x291241[_0xc1e9db(0x19c)]!=0x0)&&(_0x319110['length']!=0x0&&_0x1c6016[_0xc1e9db(0x28c)](..._0x319110),_0x291241[_0xc1e9db(0x19c)]!=0x0&&(_0x291241[_0xc1e9db(0x10a)](_0xcd0e6f=>{const _0x5b5e13=_0xc1e9db;_0xcd0e6f['number']=-_0xcd0e6f[_0x5b5e13(0x1e1)];}),_0x1c6016[_0xc1e9db(0x28c)](..._0x291241)),_0x1c6016[_0xc1e9db(0x16b)]((_0x3afe02,_0x6ea2d4)=>_0x3afe02[_0xc1e9db(0x25d)]>_0x6ea2d4[_0xc1e9db(0x25d)]?0x1:_0x6ea2d4[_0xc1e9db(0x25d)]>_0x3afe02['coin']?-0x1:0x0),_0xadf262[_0xc1e9db(0x28c)]({'date':_0x408665[_0x54fb0a+0x1][_0xc1e9db(0x182)],'changes':_0x1c6016}));}}),dbConfig[_0x2e5402(0x16d)](_0x2e5402(0x1dc))[_0x2e5402(0x18c)]({'botID':botID})[_0x2e5402(0x157)]({..._0x2665a4,'liquidity':_0xadf262})[_0x2e5402(0x106)]();}}if(isOlderVersion(_0x2cae82,_0x2e5402(0x236))){let _0x2f1f3e=dbConfig[_0x2e5402(0x16d)](_0x2e5402(0x1dc))[_0x2e5402(0x18c)]({'botID':botID})['value']();if(_0x2f1f3e){const _0x54ca60=_0x2f1f3e[_0x2e5402(0x1b6)],_0x48c578=_0x54ca60?capitalize(_0x54ca60):'Binance';dbConfig[_0x2e5402(0x16d)]('bot')['find']({'botID':botID})[_0x2e5402(0x157)]({'exchange':_0x48c578})[_0x2e5402(0x106)]();}}if(isOlderVersion(_0x2cae82,_0x2e5402(0x1e5))){let _0x3663a8=dbConfig[_0x2e5402(0x16d)](_0x2e5402(0x1dc))[_0x2e5402(0x18c)]({'botID':botID})['value']();if(_0x3663a8){const _0x4adf63=_0x3663a8['marketcapEnabled'],_0x52dba3=_0x4adf63?_0x2e5402(0x1f6):![];dbConfig[_0x2e5402(0x16d)](_0x2e5402(0x1dc))[_0x2e5402(0x18c)]({'botID':botID})[_0x2e5402(0x157)]({'marketcapEnabled':_0x52dba3})[_0x2e5402(0x106)]();}}if(isOlderVersion(_0x2cae82,'2.6.23')){let _0x4cab27=dbConfig[_0x2e5402(0x16d)](_0x2e5402(0x1dc))[_0x2e5402(0x18c)]({'botID':botID})[_0x2e5402(0x116)]();if(_0x4cab27){const _0x378434=_0x4cab27[_0x2e5402(0x239)],_0x57de58=_0x378434?_0x2e5402(0x1e9):![];dbConfig[_0x2e5402(0x16d)](_0x2e5402(0x1dc))['find']({'botID':botID})[_0x2e5402(0x157)]({'autoliquidity':_0x57de58})['write']();}}let _0x39866e=dbPerformance[_0x2e5402(0x16d)](_0x2e5402(0x1c6))['value']();isOlderVersion(_0x39866e,_0x2e5402(0x136))&&setStartDatePerformance();let _0x235ed7=dbCoinResults['get'](_0x2e5402(0x1c6))[_0x2e5402(0x116)]();if(isOlderVersion(_0x235ed7,_0x2e5402(0x1b9))){let _0x424a45=dbCoinResults['get']('coins')[_0x2e5402(0x116)]();if(_0x424a45[_0x2e5402(0x19c)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x4f235b=_0x188c77;dbConfig['set'](_0x4f235b(0x1c6),serverversion)[_0x4f235b(0x106)](),dbPerformance[_0x4f235b(0x232)](_0x4f235b(0x1c6),serverversion)[_0x4f235b(0x106)](),dbLogs[_0x4f235b(0x232)](_0x4f235b(0x1c6),serverversion)[_0x4f235b(0x106)](),dbCoinResults[_0x4f235b(0x232)]('version',serverversion)[_0x4f235b(0x106)]();}function getConfiguration(_0x2cae49){const _0x10ab38=_0x188c77;let _0x59cd51=dbConfig['get'](_0x10ab38(0x1dc))[_0x10ab38(0x18c)]({'botID':_0x2cae49})['value']();if(_0x59cd51){let _0x1cda9b=![];typeof _0x59cd51[_0x10ab38(0x135)]=='string'&&(_0x59cd51={..._0x59cd51,'threshold':Number(_0x59cd51['threshold'])},_0x1cda9b=!![]),_0x59cd51['change24h']==undefined&&(_0x59cd51={..._0x59cd51,'change24h':-0x14},_0x1cda9b=!![]),_0x59cd51[_0x10ab38(0x1fc)]==undefined&&(_0x59cd51={..._0x59cd51,'fiat':_0x10ab38(0x261)},_0x1cda9b=!![]),_0x59cd51[_0x10ab38(0x1e2)]==undefined&&(_0x59cd51={..._0x59cd51,'onepagemode':settings['onepagemode']},_0x1cda9b=!![]),_0x59cd51[_0x10ab38(0x206)]==undefined&&(_0x59cd51={..._0x59cd51,'colorscheme':_0x10ab38(0x1e6)},_0x1cda9b=!![]),_0x59cd51[_0x10ab38(0x239)]==undefined&&(_0x59cd51={..._0x59cd51,'autoliquidity':_0x10ab38(0x1e9)},_0x1cda9b=!![]),_0x59cd51['marketcapApi']==undefined&&(_0x59cd51={..._0x59cd51,'marketcapApi':settings[_0x10ab38(0x204)]?!![]:![]},_0x1cda9b=!![]),_0x59cd51['marketcapEnabled']==undefined&&(_0x59cd51={..._0x59cd51,'marketcapEnabled':![]},_0x1cda9b=!![]),_0x1cda9b&&(_0x59cd51={'botID':_0x59cd51['botID'],'exchange':_0x59cd51[_0x10ab38(0x1b6)],'apiKey':_0x59cd51[_0x10ab38(0x21b)],'apiSecret':_0x59cd51[_0x10ab38(0x1e4)],'apiPassword':_0x59cd51[_0x10ab38(0x285)],'basecoin':_0x59cd51[_0x10ab38(0x1ff)],'botname':_0x59cd51[_0x10ab38(0x153)],'showname':_0x59cd51[_0x10ab38(0x233)],'threshold':_0x59cd51['threshold'],'ordertype':_0x59cd51[_0x10ab38(0x1ca)],'timeout':_0x59cd51['timeout'],'fiat':_0x59cd51[_0x10ab38(0x1fc)],'startdate':_0x59cd51['startdate'],'recreate':_0x59cd51[_0x10ab38(0x2a8)],'timeshift':_0x59cd51['timeshift'],'onepagemode':_0x59cd51['onepagemode'],'headless':_0x59cd51[_0x10ab38(0x196)],'cooldown':_0x59cd51[_0x10ab38(0x1b3)],'change24h':_0x59cd51[_0x10ab38(0x247)],'emojibuy':_0x59cd51['emojibuy'],'emojisell':_0x59cd51[_0x10ab38(0x16f)],'colorscheme':_0x59cd51[_0x10ab38(0x206)],'marketcapApi':_0x59cd51[_0x10ab38(0x204)],'marketcapEnabled':_0x59cd51[_0x10ab38(0x277)],'portfolio':_0x59cd51[_0x10ab38(0x1d7)],'autoliquidity':_0x59cd51[_0x10ab38(0x239)],'liquidity':_0x59cd51[_0x10ab38(0x229)],'openOrders':_0x59cd51[_0x10ab38(0x174)]},dbConfig[_0x10ab38(0x16d)]('bot')[_0x10ab38(0x17d)]()[_0x10ab38(0x106)](),dbConfig[_0x10ab38(0x16d)](_0x10ab38(0x1dc))[_0x10ab38(0x28c)](_0x59cd51)['write']());}else _0x59cd51={'botID':_0x2cae49,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x10ab38(0x141)+_0x2cae49,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x10ab38(0x261),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x10ab38(0x266)],'onepagemode':settings[_0x10ab38(0x1e2)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings[_0x10ab38(0x204)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x10ab38(0x1e9),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x59cd51;}function emittedConfiguration(){const _0x24c0ff=_0x188c77;let _0x5219b6;if(config[_0x24c0ff(0x21b)]=='')_0x5219b6={...config,'configstate':'initial'};else config['apiKey']==_0x24c0ff(0x1d5)?_0x5219b6={...config,'configstate':'recovery'}:(_0x5219b6={...config,'apiKey':_0x24c0ff(0x19e),'apiSecret':'************'},config[_0x24c0ff(0x285)]&&(_0x5219b6['apiPassword']=_0x24c0ff(0x19e)));return _0x5219b6;}function getSettings(){const _0x4b66d7=_0x188c77;return dbSettings[_0x4b66d7(0x16d)](_0x4b66d7(0x299))[_0x4b66d7(0x116)]();}function getSecure(){const _0x539b99=_0x188c77;return dbSecure[_0x539b99(0x16d)](_0x539b99(0x11c))[_0x539b99(0x116)]()||{};}function updateTimeshift(_0x153783){const _0x114292=_0x188c77;let _0xae1256=dbConfig[_0x114292(0x16d)](_0x114292(0x1dc))[_0x114292(0x18c)]({'botID':botID})[_0x114292(0x116)]();_0xae1256&&dbConfig[_0x114292(0x16d)](_0x114292(0x1dc))[_0x114292(0x18c)]({'botID':botID})['assign']({'timeshift':_0x153783})[_0x114292(0x106)](),config[_0x114292(0x266)]=_0x153783,proxyEmit(_0x114292(0x28e),emittedConfiguration());}function updateOnepagemode(_0x4bd490){const _0x5242d1=_0x188c77;let _0x4075c1=dbConfig['get'](_0x5242d1(0x1dc))[_0x5242d1(0x18c)]({'botID':botID})[_0x5242d1(0x116)]();_0x4075c1&&dbConfig[_0x5242d1(0x16d)](_0x5242d1(0x1dc))['find']({'botID':botID})[_0x5242d1(0x157)]({'onepagemode':_0x4bd490})['write'](),config[_0x5242d1(0x1e2)]=_0x4bd490,proxyEmit(_0x5242d1(0x28e),emittedConfiguration());}function updateMarketcapApi(_0x43bb10){const _0x830c1e=_0x188c77,_0x16d12c=_0x43bb10?!![]:![];let _0x7c0c8f=dbConfig[_0x830c1e(0x16d)](_0x830c1e(0x1dc))[_0x830c1e(0x18c)]({'botID':botID})[_0x830c1e(0x116)]();_0x7c0c8f&&dbConfig[_0x830c1e(0x16d)](_0x830c1e(0x1dc))[_0x830c1e(0x18c)]({'botID':botID})['assign']({'marketcapApi':_0x16d12c})['write'](),config['marketcapApi']=_0x16d12c,getMarketCap(),proxyEmit(_0x830c1e(0x28e),emittedConfiguration());}async function storeConfiguration(_0x3b6585){const _0x13ecea=_0x188c77;logger[_0x13ecea(0x269)](_0x13ecea(0x1d0));if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x366224=![],_0x322af2=![],_0x20c0bb=[];_0x3b6585[_0x13ecea(0x1d7)][_0x13ecea(0x10a)](_0x400bc4=>{const _0x49ad7f=_0x13ecea;if(!_0x400bc4[_0x49ad7f(0x1d3)]&&_0x400bc4[_0x49ad7f(0x25d)]!=_0x3b6585[_0x49ad7f(0x1ff)])_0x20c0bb[_0x49ad7f(0x28c)](_0x400bc4[_0x49ad7f(0x152)]);}),_0x20c0bb[_0x13ecea(0x10a)](_0x223631=>{const _0x5d8f95=_0x13ecea,_0x48c473=currentCoins['find'](_0x19fa32=>_0x19fa32[_0x5d8f95(0x152)]==_0x223631);!_0x48c473&&(_0x366224=!![]);}),currentCoins[_0x13ecea(0x10a)](_0x1397d8=>{const _0x5b5b95=_0x13ecea;if(_0x1397d8[_0x5b5b95(0x25d)]!=config[_0x5b5b95(0x1ff)]){const _0x20e09a=_0x20c0bb[_0x5b5b95(0x18c)](_0x4bf4f0=>_0x4bf4f0==_0x1397d8[_0x5b5b95(0x152)]);!_0x20e09a&&(_0x366224=!![]);}}),_0x3b6585[_0x13ecea(0x1d7)][_0x13ecea(0x10a)](_0x4ca5b8=>{const _0x3ec0ae=_0x13ecea,_0x1b69ac=config[_0x3ec0ae(0x1d7)]['find'](_0x4aa549=>_0x4aa549[_0x3ec0ae(0x25d)]==_0x4ca5b8['coin']);if(_0x1b69ac&&_0x4ca5b8['offset']!=_0x1b69ac['offset'])_0x322af2=!![];});let _0x305ec7=dbConfig[_0x13ecea(0x16d)](_0x13ecea(0x1dc))[_0x13ecea(0x18c)]({'botID':botID})[_0x13ecea(0x116)]();_0x3b6585={..._0x3b6585,'apiKey':crypt[_0x13ecea(0x1ae)](secure[_0x13ecea(0x1eb)],_0x3b6585[_0x13ecea(0x21b)])[_0x13ecea(0x187)],'apiSecret':crypt[_0x13ecea(0x1ae)](secure['privateKey'],_0x3b6585[_0x13ecea(0x1e4)])['message']};_0x3b6585[_0x13ecea(0x285)]&&(_0x3b6585[_0x13ecea(0x285)]=crypt[_0x13ecea(0x1ae)](secure[_0x13ecea(0x1eb)],_0x3b6585[_0x13ecea(0x285)])[_0x13ecea(0x187)]);let _0x4eda3a=![];if(_0x305ec7){_0x3b6585[_0x13ecea(0x21b)]==_0x13ecea(0x19e)?_0x3b6585['apiKey']=config[_0x13ecea(0x21b)]:_0x4eda3a=!![];_0x3b6585[_0x13ecea(0x1e4)]==_0x13ecea(0x19e)?_0x3b6585[_0x13ecea(0x1e4)]=config[_0x13ecea(0x1e4)]:_0x4eda3a=!![];if(_0x3b6585['apiPassword']==_0x13ecea(0x19e))_0x3b6585['apiPassword']=config[_0x13ecea(0x285)];else{if(_0x3b6585[_0x13ecea(0x285)])_0x4eda3a=!![];}dbConfig['get']('bot')[_0x13ecea(0x18c)]({'botID':botID})[_0x13ecea(0x157)](_0x3b6585)[_0x13ecea(0x106)]();}else dbConfig['get'](_0x13ecea(0x1dc))[_0x13ecea(0x28c)](_0x3b6585)[_0x13ecea(0x106)](),_0x4eda3a=!![],process[_0x13ecea(0x1cb)]({'status':'enabled','live':_0x13ecea(0x14f)},_0x580d50=>{});process['send']({'botname':_0x3b6585['botname']},_0x36dc57=>{}),config={..._0x3b6585},updateBotManager(),proxyEmit(_0x13ecea(0x18b)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x4eda3a)!_0x305ec7?await reset(!![]):getBalances();else _0x366224||_0x322af2?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x32efc6){const _0x4ff0ac=_0x188c77,_0xd00047={...config,'headless':_0x32efc6[_0x4ff0ac(0x196)]};let _0x2a2786=dbConfig[_0x4ff0ac(0x16d)]('bot')['find']({'botID':botID})[_0x4ff0ac(0x116)]();_0x2a2786&&dbConfig[_0x4ff0ac(0x16d)](_0x4ff0ac(0x1dc))['find']({'botID':botID})['assign'](_0xd00047)[_0x4ff0ac(0x106)](),config={..._0xd00047},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x222366){const _0x27c530=_0x188c77,_0x450b49={...config,'fiat':_0x222366};let _0x11c7c2=dbConfig[_0x27c530(0x16d)](_0x27c530(0x1dc))[_0x27c530(0x18c)]({'botID':botID})[_0x27c530(0x116)]();_0x11c7c2&&dbConfig['get'](_0x27c530(0x1dc))[_0x27c530(0x18c)]({'botID':botID})['assign'](_0x450b49)[_0x27c530(0x106)](),config={..._0x450b49},proxyEmit(_0x27c530(0x28e),emittedConfiguration());}function resetHistory(){const _0x22a331=_0x188c77;logger['full']('Resetting\x20bot\x20history');try{if(fs['existsSync'](path[_0x22a331(0x21c)](configpath,_0x22a331(0x1cc)+botID+_0x22a331(0x24a))))fs[_0x22a331(0x203)](path[_0x22a331(0x21c)](configpath,_0x22a331(0x1cc)+botID+_0x22a331(0x24a)));if(fs['existsSync'](path[_0x22a331(0x21c)](configpath,'bot-'+botID+_0x22a331(0x105))))fs[_0x22a331(0x203)](path[_0x22a331(0x21c)](configpath,_0x22a331(0x1cc)+botID+_0x22a331(0x105)));if(fs[_0x22a331(0x194)](path[_0x22a331(0x21c)](configpath,_0x22a331(0x1cc)+botID+_0x22a331(0x24f))))fs[_0x22a331(0x203)](path[_0x22a331(0x21c)](configpath,_0x22a331(0x1cc)+botID+_0x22a331(0x24f)));}catch(_0x2218eb){if(_0x2218eb)logger[_0x22a331(0x27c)]('Error\x20while\x20deleting\x20files:\x20',_0x2218eb);}const _0x2b7322=getDate();let _0x237d6a=[];currentCoins[_0x22a331(0x10a)](_0x5e14bd=>{const _0x313bb2=_0x22a331;_0x237d6a[_0x313bb2(0x28c)]({'coin':_0x5e14bd['coin'],'number':_0x5e14bd['number'],'price':_0x5e14bd['last']});});let _0x56025d=dbConfig[_0x22a331(0x16d)]('bot')[_0x22a331(0x18c)]({'botID':botID})[_0x22a331(0x116)]();_0x56025d&&(dbConfig['get'](_0x22a331(0x1dc))[_0x22a331(0x18c)]({'botID':botID})[_0x22a331(0x157)]({'liquidity':[{'date':_0x2b7322,'changes':_0x237d6a}]})[_0x22a331(0x106)](),config[_0x22a331(0x229)]=[]),restartBot(!![]);}function noslash(_0x4dc4f1){return _0x4dc4f1['replace']('/','');}function updateHighestFee(_0x3b448b){const _0x232113=_0x188c77;if(_0x3b448b[_0x232113(0x1e3)]){let _0x3ba7c1={'filled':_0x3b448b[_0x232113(0x147)]*_0x3b448b['price'],'amount':_0x3b448b[_0x232113(0x147)]*_0x3b448b[_0x232113(0x107)],'side':_0x3b448b[_0x232113(0x240)]==_0x232113(0x237)?_0x232113(0x264):'sell','price':0x1/_0x3b448b[_0x232113(0x107)]};_0x3b448b={..._0x3b448b,..._0x3ba7c1};}const _0x835094=defaultFee*_0x3b448b['filled']*_0x3b448b[_0x232113(0x107)];lastFees['recent20'][_0x232113(0x19c)]===0x14&&lastFees[_0x232113(0x131)][_0x232113(0x20e)](),lastFees[_0x232113(0x131)][_0x232113(0x28c)](_0x835094),lastFees['highest']=Math[_0x232113(0x278)](...lastFees[_0x232113(0x131)]);}async function updateNumberCoinsCcxt(_0x337275){const _0x424ac5=_0x188c77;logger[_0x424ac5(0x269)]('0\x20-\x20EXECUTION:\x20'+_0x337275[_0x424ac5(0x152)]+'\x20|\x20'+_0x337275['status']+_0x424ac5(0x176)+_0x337275['filled']+_0x424ac5(0x213)+_0x337275[_0x424ac5(0x119)]+'\x20|\x20'+_0x337275['id']);let _0x1b024f=_0x337275['status'],_0x1f4ca3=![];currentCoins[_0x424ac5(0x10a)](_0x380e88=>{const _0x1f53db=_0x424ac5;_0x380e88[_0x1f53db(0x152)]==_0x337275[_0x1f53db(0x152)]&&(_0x1f4ca3=!![]);});if(!_0x1f4ca3)return;const _0x36ac2e=currentCoins[_0x424ac5(0x18c)](_0x4ba26f=>_0x4ba26f[_0x424ac5(0x152)]==_0x337275['symbol']),_0x2df7c8=_0x2d51e5=>{const _0x48fc3e=_0x424ac5;if(_0x36ac2e)_0x36ac2e[_0x48fc3e(0x110)]=_0x2d51e5;};let _0x67e6cf=![];for(const _0x5afb0a of lastOrders){const _0x361657=0x64,_0x16811d=0x1388;let _0x3b43d1=0x0;while(!_0x5afb0a[_0x424ac5(0x292)]&&_0x3b43d1*_0x361657<_0x16811d){_0x3b43d1++,await sleep(_0x361657);}if(_0x3b43d1>0x0)logger['debug'](_0x424ac5(0x212)+_0x3b43d1*_0x361657/0x3e8+_0x424ac5(0x1ba));_0x5afb0a[_0x424ac5(0x292)]==_0x337275['id']&&(_0x67e6cf=!![]);}if(_0x1b024f=='open'){_0x2df7c8(_0x424ac5(0x171));if(_0x337275[_0x424ac5(0x147)]>0x0){if(_0x67e6cf){setBlockTransactionDetection(!![]),logger[_0x424ac5(0x269)]('1\x20-\x20partially\x20FILLED\x20known\x20order:\x20'+_0x337275['id']);const _0x1f7aa2=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1f7aa2,setBlockTransactionDetection(![]);}else logger['debug'](_0x424ac5(0x15c)+_0x337275['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x1b024f=='canceled'){_0x2df7c8(_0x424ac5(0x10d));const _0x120545=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x120545,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x1b024f==_0x424ac5(0x113)){if(lastOrders)for(const _0x32d44d of lastOrders){if(_0x32d44d['orderId']==_0x337275['id']){logger[_0x424ac5(0x269)](_0x424ac5(0x1ad)+_0x337275['id']),_0x67e6cf=!![];if(_0x32d44d[_0x424ac5(0x147)]==0x0){setBlockTransactionDetection(!![]),logger['debug'](_0x424ac5(0x1a7)+_0x337275['id']);if(_0x337275[_0x424ac5(0x214)])_0x32d44d['price']=_0x337275['average'];else{if(_0x337275[_0x424ac5(0x107)])_0x32d44d['price']=_0x337275[_0x424ac5(0x107)];else{}}_0x32d44d[_0x424ac5(0x147)]=_0x337275[_0x424ac5(0x147)],updateHighestFee(_0x32d44d),_0x2df7c8('filled'),await validateOrders();if(lockOrders==ORDERS[_0x424ac5(0x195)]){const _0x1a764d=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x1a764d,setBlockTransactionDetection(![]);}_0x32d44d['fee']={'currency':_0x337275[_0x424ac5(0x20b)]?_0x337275[_0x424ac5(0x20b)]['currency']:null,'cost':_0x337275[_0x424ac5(0x20b)]?_0x337275[_0x424ac5(0x20b)][_0x424ac5(0x274)]:0x0},await updateCoinResults(_0x32d44d);}}}!_0x67e6cf&&(logger['debug']('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x337275['id']),_0x2df7c8('filled'),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0xa8c4f1=JSON[_0x424ac5(0x1d2)](lastBalances[_0x424ac5(0x1d7)]);const _0x1bb0b4=_0xa8c4f1[_0x424ac5(0x18c)](_0x17f081=>_0x17f081['symbol']==_0x337275[_0x424ac5(0x152)]);if(_0x1bb0b4){if(_0x1b024f=='open')_0x1bb0b4[_0x424ac5(0x110)]=_0x1bb0b4[_0x424ac5(0x110)]==_0x424ac5(0x147)?_0x424ac5(0x147):_0x424ac5(0x171);else{if(_0x1b024f=='canceled')_0x1bb0b4['orderstatus']=_0x1bb0b4[_0x424ac5(0x110)]==_0x424ac5(0x147)?_0x424ac5(0x147):_0x424ac5(0x10d);else _0x1b024f==_0x424ac5(0x113)&&(_0x1bb0b4[_0x424ac5(0x110)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x424ac5(0x11d)](_0xa8c4f1)},proxyEmit(_0x424ac5(0x286),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x475901=_0x188c77;await getOpenOrders();let _0x30593f=![];currentCoins[_0x475901(0x10a)](_0x489957=>{const _0x394089=_0x475901;_0x30593f=allOpenOrders[_0x394089(0x18c)](_0x26fa4d=>_0x26fa4d[_0x394089(0x152)]==_0x489957[_0x394089(0x152)]),_0x489957[_0x394089(0x110)]=_0x30593f?_0x394089(0x171):_0x394089(0x13f);});}async function getCoins(_0x311314=0x0,_0x3da38a=!![],_0x412595=config[_0x188c77(0x1ff)]){const _0x45e3d1=_0x188c77;let _0x21a4e4,_0x106925=[],_0x30b684=[],_0x2cbf87=[];if(_0x311314)await sleep(_0x311314);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x21a4e4=await exchange[_0x45e3d1(0x2b2)](),mybalances=_0x21a4e4[_0x45e3d1(0x1a5)];for(const [_0x38f1ec,_0x37b596]of Object[_0x45e3d1(0x270)](mybalances)){_0x2cbf87[_0x45e3d1(0x28c)](_0x38f1ec);}config[_0x45e3d1(0x1d7)][_0x45e3d1(0x10a)](_0x46ede0=>{!_0x2cbf87['includes'](_0x46ede0['coin'])&&(mybalances[_0x46ede0['coin']]=0x0);});if(_0x412595=='')for(const [_0xa9f8ee,_0x3916ed]of Object[_0x45e3d1(0x270)](mybalances)){_0x3916ed!=0x0&&_0x106925['push']({'coin':_0xa9f8ee});}else for(const [_0x3aa44c,_0x5078c5]of Object[_0x45e3d1(0x270)](mybalances)){const _0x28cf12=config[_0x45e3d1(0x1d7)][_0x45e3d1(0x18c)](_0x3be9d7=>_0x3be9d7[_0x45e3d1(0x25d)]==_0x3aa44c),_0x3824cd=_0x3aa44c+'/'+_0x412595,_0x24d898=_0x412595+'/'+_0x3aa44c,_0x1cb51f=currentCoins['find'](_0x465124=>_0x465124[_0x45e3d1(0x25d)]==_0x3aa44c);if((_0x5078c5!=0x0||_0x28cf12)&&(allSymbols[_0x45e3d1(0x27f)](_0x3824cd)||_0x3aa44c==_0x412595))_0x1cb51f?_0x106925[_0x45e3d1(0x28c)]({..._0x1cb51f,'number':Math['max'](_0x5078c5+(_0x28cf12&&_0x28cf12[_0x45e3d1(0x241)]||0x0),0x0)}):_0x106925['push']({'coin':_0x3aa44c,'symbol':_0x3824cd,'reverse':![],'number':Math['max'](_0x5078c5+(_0x28cf12&&_0x28cf12['offset']||0x0),0x0),'orderstatus':_0x45e3d1(0x13f)});else{if((_0x5078c5!=0x0||_0x28cf12)&&allSymbols[_0x45e3d1(0x27f)](_0x24d898))_0x1cb51f?_0x106925[_0x45e3d1(0x28c)]({..._0x1cb51f,'number':Math['max'](_0x5078c5+(_0x28cf12&&_0x28cf12[_0x45e3d1(0x241)]||0x0),0x0)}):_0x106925[_0x45e3d1(0x28c)]({'coin':_0x3aa44c,'symbol':_0x24d898,'reverse':!![],'number':Math['max'](_0x5078c5+(_0x28cf12&&_0x28cf12['offset']||0x0),0x0),'orderstatus':'none'});else _0x28cf12&&_0x106925['push']({'coin':_0x28cf12[_0x45e3d1(0x25d)],'symbol':_0x28cf12['symbol'],'reverse':_0x28cf12[_0x45e3d1(0x1e3)],'number':0x0,'orderstatus':'none'});}}}catch(_0x29ec7c){if(!_0x3da38a)handleErrorNoStop(_0x29ec7c,_0x45e3d1(0x125));else await handleError(_0x29ec7c,_0x45e3d1(0x125));}return _0x106925[_0x45e3d1(0x16b)]((_0x24eb2a,_0x59ca82)=>_0x24eb2a[_0x45e3d1(0x150)]<_0x59ca82['delta']?0x1:_0x59ca82['delta']<_0x24eb2a[_0x45e3d1(0x150)]?-0x1:0x0),_0x30b684=cloneDeep(_0x106925),_0x106925=_0x106925[_0x45e3d1(0x1b7)](_0x5f5310=>{const _0x3d1297=_0x45e3d1,_0x42c06a=config['portfolio'][_0x3d1297(0x18c)](_0x2f2654=>_0x2f2654[_0x3d1297(0x25d)]==_0x5f5310[_0x3d1297(0x25d)]);return _0x42c06a&&!_0x42c06a[_0x3d1297(0x1d3)];}),[_0x106925,_0x30b684];}async function getCoinNumber(_0xaa03a8){const _0x2a7c00=_0x188c77;let _0x571c3f;try{const _0xfa2f13=await exchange[_0x2a7c00(0x2b2)]();_0x571c3f=_0xfa2f13[_0x2a7c00(0x1a5)][_0xaa03a8];}catch(_0x3c31cb){await handleError(_0x3c31cb,'getCoinNumber()');}return _0x571c3f;}async function getOpenOrders(){const _0x511a9e=_0x188c77;let _0x51f8e5;allOpenOrders=[];try{for(const _0x81e329 of config['portfolio']){!_0x81e329[_0x511a9e(0x1d3)]&&_0x81e329[_0x511a9e(0x25d)]!=config[_0x511a9e(0x1ff)]&&(_0x51f8e5=await exchange[_0x511a9e(0x22d)](_0x81e329[_0x511a9e(0x152)]),_0x51f8e5[_0x511a9e(0x19c)]>0x0&&allOpenOrders[_0x511a9e(0x28c)](_0x51f8e5[0x0]));}}catch(_0x1b5790){await handleError(_0x1b5790,'getOpenOrders()');}}async function handleOpenOrders(_0x28af92=0x0){const _0x3fb230=_0x188c77;allOpenOrders[_0x3fb230(0x19c)]==0x0&&lockOrders==ORDERS[_0x3fb230(0x195)]&&allOrdersPlaced&&(_0x28af92==0x0?(logger['debug'](_0x3fb230(0x13e)),_0x28af92++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug']('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x3fb230(0x177))));}async function testAPI(_0x3efad0){const _0x8d4446=_0x188c77,_0x5397e7=ccxt[_0x8d4446(0x1d1)][_0x3efad0[_0x8d4446(0x1b6)][_0x8d4446(0x1c2)]()],_0xdb1a0d=new _0x5397e7({'apiKey':_0x3efad0['apiKey'],'secret':_0x3efad0[_0x8d4446(0x1e4)],'options':{'defaultType':'spot'}});if(_0x3efad0[_0x8d4446(0x285)])_0xdb1a0d[_0x8d4446(0x199)]=_0x3efad0['apiPassword'];try{await _0xdb1a0d[_0x8d4446(0x2b2)]();}catch(_0x14264f){throw _0x14264f;}}function cloneDeep(_0x444a4c){const _0x1371f4=_0x188c77;return JSON['parse'](JSON[_0x1371f4(0x11d)](_0x444a4c));}async function getPortfolio(_0x3dd390){const _0xad9af=_0x188c77;let _0x3b23fb=[],_0x1b8c69=[],_0x4403a4=[],_0x466628;if(_0x3dd390[_0xad9af(0x21b)]!==_0xad9af(0x19e)||_0x3dd390[_0xad9af(0x1e4)]!=='************'||_0x3dd390[_0xad9af(0x285)]&&_0x3dd390[_0xad9af(0x285)]!=='************'){if(config[_0xad9af(0x1b6)]){if(_0x3dd390[_0xad9af(0x21b)]==_0xad9af(0x19e))_0x3dd390[_0xad9af(0x21b)]=config[_0xad9af(0x21b)];if(_0x3dd390[_0xad9af(0x1e4)]==_0xad9af(0x19e))_0x3dd390[_0xad9af(0x1e4)]=config['apiSecret'];if(_0x3dd390[_0xad9af(0x285)]==_0xad9af(0x19e))_0x3dd390[_0xad9af(0x285)]=config['apiPassword'];try{await testAPI(_0x3dd390);}catch(_0x5892f6){if(_0x5892f6[_0xad9af(0x16e)]()[_0xad9af(0x27f)](_0xad9af(0x287))){logger[_0xad9af(0x269)](_0xad9af(0x216)),proxyEmit(_0xad9af(0x1d7),![]);return;}else{handleError(_0x5892f6,'getPortfolio(0)');return;}}}config[_0xad9af(0x1b6)]?updateExchange(_0x3dd390[_0xad9af(0x21b)],_0x3dd390[_0xad9af(0x1e4)],_0x3dd390[_0xad9af(0x285)]):await initExchange(_0x3dd390[_0xad9af(0x1b6)],_0x3dd390[_0xad9af(0x21b)],_0x3dd390[_0xad9af(0x1e4)],_0x3dd390[_0xad9af(0x285)]);try{await loadSymbols();}catch(_0x4d78fd){if(_0x4d78fd['toString']()[_0xad9af(0x27f)]('AuthenticationError')){proxyEmit('portfolio',![]);return;}else{handleError(_0x4d78fd,_0xad9af(0x12c));return;}}const _0x252094=await getCoins(0x0,![],_0x3dd390[_0xad9af(0x1ff)]);_0x4403a4=cloneDeep(_0x252094[0x1]);}else{const _0x1883a3=await getCoins();_0x4403a4=cloneDeep(_0x1883a3[0x1]);}if(_0x3dd390[_0xad9af(0x1ff)]=='')proxyEmit(_0xad9af(0x1d7),_0x4403a4);else{_0x4403a4[_0xad9af(0x10a)](_0x82de58=>{const _0x1182f8=_0xad9af;if(_0x82de58[_0x1182f8(0x25d)]!=_0x3dd390[_0x1182f8(0x1ff)]&&allSymbols['includes'](_0x82de58['symbol']))_0x3b23fb[_0x1182f8(0x28c)](_0x82de58[_0x1182f8(0x152)]);});if(_0x3b23fb[_0xad9af(0x19c)]==0x0)logHistory(_0xad9af(0x24e),_0xad9af(0x255));else{try{_0x1b8c69=await getTickers(_0x3b23fb);}catch(_0x1da9ff){if(_0x1da9ff[_0xad9af(0x16e)]()[_0xad9af(0x27f)](_0xad9af(0x287))){proxyEmit(_0xad9af(0x1d7),![]);return;}else handleError(_0x1da9ff,_0xad9af(0x17e));}_0x4403a4[_0xad9af(0x10a)](_0xeb3ec4=>{const _0x5bdd87=_0xad9af;_0xeb3ec4[_0x5bdd87(0x25d)]!=_0x3dd390['basecoin']?_0x1b8c69[_0xeb3ec4[_0x5bdd87(0x152)]]?_0x466628=_0xeb3ec4[_0x5bdd87(0x1e3)]?0x1/_0x1b8c69[_0xeb3ec4[_0x5bdd87(0x152)]][_0x5bdd87(0x231)]:_0x1b8c69[_0xeb3ec4['symbol']][_0x5bdd87(0x231)]:_0x466628=0x0:_0x466628=0x1,_0xeb3ec4[_0x5bdd87(0x107)]=formatResult(_0x466628,0x8);}),await getMarketCap(_0x4403a4),proxyEmit(_0xad9af(0x1d7),_0x4403a4);}}}function truncateTradeAmount(_0xd25696,_0x2415be){const _0x26e30e=_0x188c77;let _0x514ffd=0x0;try{_0x514ffd=exchange[_0x26e30e(0x13c)](_0xd25696,_0x2415be);}catch(_0x20c566){}return _0x514ffd;}function checkMinimums(_0x159170){const _0x237092=_0x188c77;let _0x16df75=!![];const _0x132e36=!_0x159170[_0x237092(0x1e3)]?markets[_0x159170[_0x237092(0x152)]]['limits'][_0x237092(0x119)][_0x237092(0x280)]:markets[_0x159170['symbol']]['limits'][_0x237092(0x274)][_0x237092(0x280)],_0x2649c2=!_0x159170[_0x237092(0x1e3)]?markets[_0x159170[_0x237092(0x152)]][_0x237092(0x11a)]['cost']['min']:markets[_0x159170['symbol']][_0x237092(0x11a)][_0x237092(0x119)][_0x237092(0x280)],_0x31d14f=truncateTradeAmount(_0x159170[_0x237092(0x152)],_0x159170[_0x237092(0x2b0)]);_0x159170[_0x237092(0x2b0)]=_0x31d14f;if(Math[_0x237092(0x111)](_0x31d14f)<_0x132e36)_0x16df75=![];if(Math[_0x237092(0x111)](_0x31d14f)*_0x159170['last']<_0x2649c2)_0x16df75=![];if(_0x159170[_0x237092(0x240)]==_0x237092(0x237)){let _0x5467b0=config[_0x237092(0x1d7)]['find'](_0x45ca7b=>_0x45ca7b['coin']==_0x159170[_0x237092(0x25d)]);if(_0x5467b0[_0x237092(0x241)]>0x0){if(Math[_0x237092(0x111)](_0x31d14f)>_0x159170['number']-_0x5467b0[_0x237092(0x241)])_0x16df75=![];}else{if(Math[_0x237092(0x111)](_0x31d14f)>_0x159170[_0x237092(0x1e1)])_0x16df75=![];}}if(_0x159170[_0x237092(0x240)]==_0x237092(0x264)){let _0xf5c479=config['portfolio'][_0x237092(0x18c)](_0x13d553=>_0x13d553['coin']==config['basecoin']),_0x1ca397=currentCoins[_0x237092(0x18c)](_0x57e8dd=>_0x57e8dd[_0x237092(0x25d)]==config['basecoin']);if(_0xf5c479[_0x237092(0x241)]>0x0){if(Math[_0x237092(0x111)](_0x31d14f)*_0x159170[_0x237092(0x231)]>_0x1ca397[_0x237092(0x1e1)]-_0xf5c479[_0x237092(0x241)])_0x16df75=![];}else{if(Math[_0x237092(0x111)](_0x31d14f)*_0x159170['last']>_0x1ca397[_0x237092(0x1e1)])_0x16df75=![];}}return _0x16df75;}async function getBalances(_0x4773a5=!![]){const _0x3bd5a4=_0x188c77;let _0x1f528c=0x0,_0x32f3c9;const _0x4b8388=config[_0x3bd5a4(0x135)];if(config[_0x3bd5a4(0x196)]&&config[_0x3bd5a4(0x247)]<0x0)await validate24hChanges();currentCoins[_0x3bd5a4(0x10a)](_0x316323=>{const _0x20ebb9=_0x3bd5a4;if(_0x316323[_0x20ebb9(0x25d)]!=config['basecoin']){let _0xd282e=gTicker[noslash(_0x316323[_0x20ebb9(0x152)])];_0x32f3c9=_0x316323[_0x20ebb9(0x1e3)]?0x1/_0xd282e:_0xd282e;}else _0x32f3c9=0x1;let _0x4ba41a=_0x316323['number']*_0x32f3c9;_0x1f528c+=_0x4ba41a,_0x316323[_0x20ebb9(0x231)]=formatResult(Number(_0x32f3c9),0x8),_0x316323[_0x20ebb9(0x116)]=_0x4ba41a;}),currentCoins['forEach'](_0x4b8d71=>{const _0x2c90a6=_0x3bd5a4;let _0x55a198=config[_0x2c90a6(0x1d7)]['find'](_0x5a505f=>_0x5a505f[_0x2c90a6(0x25d)]==_0x4b8d71[_0x2c90a6(0x25d)]),_0x5bd80e=Number(_0x55a198[_0x2c90a6(0x279)]),_0x49ea0f=_0x4b8d71[_0x2c90a6(0x116)]/_0x1f528c*0x64,_0x51c93d=_0x5bd80e*_0x1f528c/0x64/_0x4b8d71[_0x2c90a6(0x231)]-_0x4b8d71[_0x2c90a6(0x1e1)];_0x4b8d71[_0x2c90a6(0x279)]=formatResult(_0x49ea0f,0x3),_0x4b8d71[_0x2c90a6(0x15f)]=formatResult(_0x5bd80e,0x3),_0x4b8d71[_0x2c90a6(0x2b0)]=formatResult(_0x51c93d,0x8),_0x4b8d71[_0x2c90a6(0x240)]='',_0x4b8d71[_0x2c90a6(0x26a)]=![];if(_0x4b8d71[_0x2c90a6(0x25d)]!=config['basecoin']){if(_0x4b8d71[_0x2c90a6(0x279)]>_0x5bd80e)_0x4b8d71[_0x2c90a6(0x240)]=_0x2c90a6(0x237),_0x4b8d71['valid']=checkMinimums(_0x4b8d71);else _0x4b8d71[_0x2c90a6(0x279)]<_0x5bd80e&&(_0x4b8d71[_0x2c90a6(0x240)]=_0x2c90a6(0x264),_0x4b8d71[_0x2c90a6(0x26a)]=checkMinimums(_0x4b8d71));}_0x4b8d71[_0x2c90a6(0x150)]=_0x4b8d71[_0x2c90a6(0x279)]/_0x4b8d71[_0x2c90a6(0x15f)]-0x1;if(_0x4b8d71[_0x2c90a6(0x110)]==_0x2c90a6(0x147)||_0x4b8d71['orderstatus']==_0x2c90a6(0x10d))_0x4b8d71[_0x2c90a6(0x110)]=_0x2c90a6(0x13f);}),currentCoins[_0x3bd5a4(0x16b)]((_0x544461,_0x482737)=>_0x544461[_0x3bd5a4(0x150)]<_0x482737['delta']?0x1:_0x482737[_0x3bd5a4(0x150)]<_0x544461[_0x3bd5a4(0x150)]?-0x1:0x0);const _0x2f3b52=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2f3b52[_0x3bd5a4(0x180)],'usd':_0x2f3b52[_0x3bd5a4(0x183)],'portfolio':JSON[_0x3bd5a4(0x11d)](currentCoins),'threshold':_0x4b8388},proxyEmit(_0x3bd5a4(0x286),{'serverversion':serverversion,'balances':lastBalances});if(_0x4773a5){if(config[_0x3bd5a4(0x196)])headlessMode({'portfolio':currentCoins,'threshold':_0x4b8388});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x4b8388});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x25bb97=getNormalizedPerformance();getStartingBalances(_0x25bb97),emitPerformance(_0x25bb97);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x46383e=_0x188c77;if(!lastBalances)return;let _0x32be3e=[],_0x169230,_0x391141=JSON[_0x46383e(0x1d2)](lastBalances['portfolio']);_0x391141[_0x46383e(0x16b)]((_0x3aeaa7,_0x29f32e)=>_0x3aeaa7[_0x46383e(0x25d)]>_0x29f32e[_0x46383e(0x25d)]?0x1:_0x29f32e[_0x46383e(0x25d)]>_0x3aeaa7[_0x46383e(0x25d)]?-0x1:0x0),_0x391141[_0x46383e(0x10a)](_0x2b2815=>{const _0x4d5385=_0x46383e;let _0x511a74={'coin':_0x2b2815[_0x4d5385(0x25d)],'number':_0x2b2815[_0x4d5385(0x1e1)],'price':_0x2b2815[_0x4d5385(0x231)]};_0x32be3e[_0x4d5385(0x28c)](_0x511a74);});const _0x5b0b62=await getFiat();_0x169230={'date':lastBalances[_0x46383e(0x19f)][_0x46383e(0x143)]('\x20')[0x0],'eur':_0x5b0b62[_0x46383e(0x180)],'usd':_0x5b0b62[_0x46383e(0x183)],'coins':_0x32be3e};let _0x2fc487=dbPerformance[_0x46383e(0x16d)](_0x46383e(0x1d4))['find']({'date':_0x169230[_0x46383e(0x182)]})[_0x46383e(0x116)]();_0x2fc487?_0x169230['date']!=config[_0x46383e(0x1a0)]&&dbPerformance[_0x46383e(0x16d)](_0x46383e(0x1d4))[_0x46383e(0x18c)]({'date':_0x169230[_0x46383e(0x182)]})['assign'](_0x169230)['write']():dbPerformance['get'](_0x46383e(0x1d4))[_0x46383e(0x28c)](_0x169230)[_0x46383e(0x106)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x582d2c=_0x188c77;let _0x4b9d06=[];if(dbPerformance['has'](_0x582d2c(0x1d4))[_0x582d2c(0x116)]()){let _0x3244a9=dbPerformance[_0x582d2c(0x16d)](_0x582d2c(0x1d4))[_0x582d2c(0x185)]()['filter'](_0x3554da=>{const _0x924bc5=_0x582d2c;if(_0x3554da[_0x924bc5(0x18d)][_0x924bc5(0x19c)]==0x0)return![];else return!![];})['sortBy'](_0x582d2c(0x182))[_0x582d2c(0x116)](),_0x12cbf6=[...config[_0x582d2c(0x229)]];_0x12cbf6[_0x582d2c(0x16b)]((_0x5b228f,_0x4990e8)=>_0x5b228f[_0x582d2c(0x182)]>_0x4990e8['date']?-0x1:_0x4990e8[_0x582d2c(0x182)]>_0x5b228f[_0x582d2c(0x182)]?0x1:0x0);let _0x53dc7a=0x1,_0x268df2=[],_0x3306e2=0x0;_0x3244a9[_0x582d2c(0x29a)]()[_0x582d2c(0x1e3)]()['forEach']((_0x4d0d3b,_0xcb36c0)=>{const _0xb81796=_0x582d2c;if(_0x12cbf6[_0x3306e2]){if(_0x3244a9[_0x3244a9[_0xb81796(0x19c)]-_0xcb36c0]&&_0x12cbf6[_0x3306e2]['date']==_0x3244a9[_0x3244a9['length']-_0xcb36c0]['date']){if(_0xcb36c0<_0x3244a9[_0xb81796(0x19c)]){let _0x5a1123=0x0,_0xe99624=0x0;_0x3244a9[_0x3244a9[_0xb81796(0x19c)]-_0xcb36c0][_0xb81796(0x18d)]['forEach'](_0x8df3e0=>{const _0x4d8b61=_0xb81796;_0xe99624+=_0x8df3e0['number']*_0x8df3e0[_0x4d8b61(0x107)];}),_0x12cbf6[_0x3306e2][_0xb81796(0x29f)][_0xb81796(0x10a)](_0x307874=>{_0x5a1123+=_0x307874['number']*_0x307874['price'];}),_0x53dc7a*=_0x5a1123/(_0xe99624-_0x5a1123)+0x1;}_0x3306e2++;}}let _0x530eda=0x0;_0x4d0d3b[_0xb81796(0x18d)][_0xb81796(0x10a)](_0x596acc=>{const _0x35ed78=_0xb81796;_0x530eda+=_0x596acc[_0x35ed78(0x1e1)]*_0x596acc['price'];}),_0x268df2[_0x3244a9[_0xb81796(0x19c)]-_0xcb36c0-0x1]=_0x530eda*(_0x53dc7a-0x1);});let _0x1e3a87=[];_0x12cbf6=[...config[_0x582d2c(0x229)]]||[];let _0x14265c=0x0;_0x3306e2=0x0,_0x3244a9[_0x582d2c(0x10a)]((_0x56b814,_0x367f37)=>{const _0x5740ce=_0x582d2c;if(_0x12cbf6[_0x3306e2]){const _0x1a15b4=fns[_0x5740ce(0x1d2)](_0x12cbf6[_0x3306e2][_0x5740ce(0x182)],'yyyy/MM/dd',new Date()),_0x1f5590=fns[_0x5740ce(0x1d2)](_0x56b814['date'],_0x5740ce(0x273),new Date());if(fns[_0x5740ce(0x1b5)](_0x1a15b4,_0x1f5590)){let _0x547efa=0x0;_0x12cbf6[_0x3306e2]['changes'][_0x5740ce(0x10a)](_0x1a5ba2=>{const _0x4819a0=_0x5740ce;!_0x1e3a87[_0x1a5ba2[_0x4819a0(0x25d)]]?_0x1e3a87[_0x1a5ba2[_0x4819a0(0x25d)]]=_0x1a5ba2[_0x4819a0(0x1e1)]:(_0x547efa=_0x1e3a87[_0x1a5ba2[_0x4819a0(0x25d)]],_0x1e3a87[_0x1a5ba2['coin']]+=_0x1a5ba2['number']);const _0x33f909=_0x56b814['coins'][_0x4819a0(0x18c)](_0x5789f2=>_0x5789f2[_0x4819a0(0x25d)]==_0x1a5ba2[_0x4819a0(0x25d)]);(!_0x33f909||_0x33f909['number']==0x0)&&(_0x14265c+=(-_0x1a5ba2['number']-_0x547efa)*_0x1a5ba2[_0x4819a0(0x107)]);}),_0x3306e2++;}}_0x56b814['coins'][_0x5740ce(0x10a)]((_0x135bc8,_0x2680b5)=>{const _0x530a67=_0x5740ce;_0x1e3a87[_0x135bc8[_0x530a67(0x25d)]]&&(_0x135bc8[_0x530a67(0x11b)]=_0x1e3a87[_0x135bc8[_0x530a67(0x25d)]]);}),_0x4b9d06[_0x5740ce(0x28c)]({'date':_0x56b814[_0x5740ce(0x182)],'eur':_0x56b814['eur'],'usd':_0x56b814[_0x5740ce(0x183)],'offset':_0x268df2[_0x367f37],'netoffset':_0x14265c,'coins':_0x56b814[_0x5740ce(0x18d)]});});}return _0x4b9d06;}function emitPerformance(_0x59a228){const _0xeb4bf0=_0x188c77;_0x59a228[_0xeb4bf0(0x19c)]!==0x0?(proxyEmit(_0xeb4bf0(0x24d),_0x59a228),lastPerformanceEmitted=getDate()):proxyEmit(_0xeb4bf0(0x24d),[]);}function getPerf(_0x344dab,_0x5ac4b2){const _0x184b75=_0x188c77;let _0x1f92bd=0x0,_0x58ce7e=0x0,_0xd6c66d=0x0;_0x344dab[_0x184b75(0x18d)][_0x184b75(0x10a)](_0x31073c=>{const _0x54a8dc=_0x184b75;_0x1f92bd+=_0x31073c['number']*_0x31073c[_0x54a8dc(0x107)];});_0x5ac4b2&&(_0x1f92bd+=_0x344dab['offset']);if(config[_0x184b75(0x1ff)]==='BTC'||config[_0x184b75(0x1ff)]===_0x184b75(0x256)||config[_0x184b75(0x1ff)]===_0x184b75(0x27a))_0x58ce7e=_0x1f92bd*_0x344dab['eur'],_0xd6c66d=_0x1f92bd*_0x344dab[_0x184b75(0x183)];else{if(usdBasecoins['includes'](config[_0x184b75(0x1ff)]))_0x58ce7e=_0x1f92bd*_0x344dab[_0x184b75(0x180)]/_0x344dab[_0x184b75(0x183)],_0xd6c66d=_0x1f92bd;else config['basecoin']===_0x184b75(0x117)&&(_0x58ce7e=_0x1f92bd,_0xd6c66d=_0x1f92bd*_0x344dab[_0x184b75(0x183)]/_0x344dab['eur']);}return[_0x1f92bd,_0x58ce7e,_0xd6c66d];}function getKPIs(_0x835cbe,_0x486c9a=_0x188c77(0x117)){const _0x5378ff=_0x188c77,_0x1151b9=config[_0x5378ff(0x1ff)],_0x23a37c=lastBalances,_0x1deeaf=currentCoins,_0x526087=getNormalizedPerformance(),_0x5d118b=_0x835cbe===_0x5378ff(0x1ff)?_0x1151b9:_0x835cbe===_0x5378ff(0x1fc)||_0x835cbe===_0x5378ff(0x132)?_0x486c9a:_0x5378ff(0x154)+_0x1151b9,_0x2627c9=_0x835cbe===_0x5378ff(0x14e)?_0x5378ff(0x172):_0x835cbe===_0x5378ff(0x132)?_0x5378ff(0x172):_0x5d118b+_0x5378ff(0x11f),_0x3d6897=_0x835cbe===_0x5378ff(0x14e)||_0x835cbe===_0x5378ff(0x132)?'Net\x20effect':_0x5d118b+_0x5378ff(0x1dd);let _0x5bf80c=0x0;_0x1deeaf[_0x5378ff(0x10a)](_0xac2d27=>{const _0x379198=_0x5378ff;_0x5bf80c+=_0xac2d27['number']*_0xac2d27[_0x379198(0x231)];});if(_0x835cbe===_0x5378ff(0x1fc)||_0x835cbe===_0x5378ff(0x132)){if(_0x1151b9===_0x5378ff(0x126)||_0x1151b9===_0x5378ff(0x256)||_0x1151b9==='PAXG')_0x5bf80c=_0x5bf80c*(_0x486c9a===_0x5378ff(0x117)?_0x23a37c[_0x5378ff(0x180)]:_0x23a37c['usd']);else{if(usdBasecoins[_0x5378ff(0x27f)](_0x1151b9))_0x5bf80c=_0x5bf80c*(_0x486c9a===_0x5378ff(0x117)?_0x23a37c[_0x5378ff(0x180)]/_0x23a37c[_0x5378ff(0x183)]:0x1);else _0x1151b9==='EUR'&&(_0x5bf80c=_0x5bf80c*(_0x486c9a===_0x5378ff(0x117)?0x1:_0x23a37c[_0x5378ff(0x183)]/_0x23a37c[_0x5378ff(0x180)]));}}let _0x168ce8;if(_0x5bf80c!==0x0){if(_0x835cbe===_0x5378ff(0x1ff))_0x168ce8=(_0x5bf80c/startingBalances[_0x5378ff(0x1ff)]-0x1)*0x64;else{if(_0x486c9a===_0x5378ff(0x117))_0x168ce8=(_0x5bf80c/startingBalances[_0x5378ff(0x180)]-0x1)*0x64;else _0x168ce8=(_0x5bf80c/startingBalances[_0x5378ff(0x183)]-0x1)*0x64;}let _0x48ed6d=0x0;if(startingBalances['coins'])_0x1deeaf['forEach'](_0x48f252=>{const _0x3e454b=_0x5378ff;let _0x35a8f2=startingBalances[_0x3e454b(0x18d)]['find'](_0x201395=>_0x201395['coin']===_0x48f252[_0x3e454b(0x25d)]);if(_0x35a8f2&&_0x35a8f2[_0x3e454b(0x25d)]&&_0x48f252['number']!==0x0)_0x48ed6d+=_0x35a8f2[_0x3e454b(0x1e1)]*_0x48f252['last'];});let _0x28cd09=0x0;if(_0x526087[_0x5378ff(0x19c)]!==0x0){let _0x130dcf=_0x526087[_0x526087[_0x5378ff(0x19c)]-0x1];_0x28cd09=_0x130dcf[_0x5378ff(0x15a)];}_0x48ed6d-=_0x28cd09;_0x835cbe==='net-basecoin'&&(_0x168ce8=(_0x5bf80c-_0x48ed6d)/startingBalances[_0x5378ff(0x1ff)]*0x64,_0x5bf80c=_0x5bf80c-_0x48ed6d);if(_0x835cbe===_0x5378ff(0x132)){let _0x198cbe=_0x486c9a===_0x5378ff(0x117)?startingBalances[_0x5378ff(0x180)]:startingBalances[_0x5378ff(0x183)];if(_0x1151b9==='BTC'||_0x1151b9==='ETH'||_0x1151b9===_0x5378ff(0x27a))_0x48ed6d=_0x486c9a===_0x5378ff(0x117)?_0x48ed6d*_0x23a37c['eur']:_0x48ed6d*_0x23a37c[_0x5378ff(0x183)];else{if(usdBasecoins[_0x5378ff(0x27f)](_0x1151b9))_0x48ed6d=_0x486c9a===_0x5378ff(0x117)?_0x48ed6d*_0x23a37c[_0x5378ff(0x180)]/_0x23a37c['usd']:_0x48ed6d;else _0x1151b9===_0x5378ff(0x117)&&(_0x48ed6d=_0x486c9a==='EUR'?_0x48ed6d:_0x48ed6d*_0x23a37c[_0x5378ff(0x183)]/_0x23a37c['eur']);}_0x168ce8=(_0x5bf80c-_0x48ed6d)/_0x198cbe*0x64,_0x5bf80c=_0x5bf80c-_0x48ed6d;}if(_0x168ce8){if(_0x168ce8<0x64)_0x168ce8=_0x168ce8[_0x5378ff(0x115)](0x2);else{if(_0x168ce8<0x3e8)_0x168ce8=_0x168ce8[_0x5378ff(0x115)](0x1);else _0x168ce8=_0x168ce8[_0x5378ff(0x115)](0x0);}}else _0x168ce8=Number('0')[_0x5378ff(0x115)](0x2);if(_0x5bf80c){if(Math[_0x5378ff(0x111)](_0x5bf80c)<0.000001)_0x5bf80c=_0x5bf80c[_0x5378ff(0x115)](0x2);else{if(Math['abs'](_0x5bf80c)<0.1)_0x5bf80c=_0x5bf80c[_0x5378ff(0x115)](0x6);else{if(Math[_0x5378ff(0x111)](_0x5bf80c)<0x1)_0x5bf80c=_0x5bf80c[_0x5378ff(0x115)](0x5);else{if(Math[_0x5378ff(0x111)](_0x5bf80c)<0xa)_0x5bf80c=_0x5bf80c[_0x5378ff(0x115)](0x4);else{if(Math[_0x5378ff(0x111)](_0x5bf80c)<0x64)_0x5bf80c=_0x5bf80c[_0x5378ff(0x115)](0x3);else{if(Math[_0x5378ff(0x111)](_0x5bf80c)<0x3e8)_0x5bf80c=_0x5bf80c[_0x5378ff(0x115)](0x2);else _0x5bf80c=_0x5bf80c[_0x5378ff(0x115)](0x2);}}}}}}else _0x5bf80c=Number('0')[_0x5378ff(0x115)](0x2);}else _0x168ce8=Number('0')[_0x5378ff(0x115)](0x2);return{'value':_0x5bf80c,'change':_0x168ce8,'leftTxt':_0x2627c9,'rightTxt':_0x3d6897};}async function getStartingBalances(_0x4367ab,_0x142f58=!![]){const _0x12484f=_0x188c77;if(_0x4367ab['length']!==0x0){const [_0xd2e2,_0x9e297d,_0x4fa8ad]=getPerf(_0x4367ab[0x0],!![]);let _0x2bde45=[];config[_0x12484f(0x1d7)]['forEach'](_0x112e6e=>{const _0x4aac88=_0x12484f;let _0x43f5ea=0x0,_0xb7af5e;config['liquidity'][_0x4aac88(0x10a)](_0x3e1048=>{const _0x491f76=_0x4aac88;let _0x51d852=_0x3e1048[_0x491f76(0x29f)]['find'](_0x2245dc=>_0x2245dc[_0x491f76(0x25d)]==_0x112e6e[_0x491f76(0x25d)]);if(_0x51d852){_0x43f5ea+=_0x51d852['number'];if(!_0xb7af5e)_0xb7af5e=_0x51d852['price'];}}),_0x2bde45[_0x4aac88(0x28c)]({'coin':_0x112e6e['coin'],'number':_0x43f5ea,'initialprice':_0xb7af5e});});const _0x1f3115={'basecoin':_0xd2e2,'eur':_0x9e297d,'usd':_0x4fa8ad,'coins':_0x2bde45};if(_0x142f58)proxyEmit(_0x12484f(0x12b),_0x1f3115);startingBalances=_0x1f3115;}}function headlessMode(_0x340926){const _0x5549e6=_0x188c77;let _0x170647=_0x340926['portfolio'],_0x2cb937=_0x340926[_0x5549e6(0x135)],_0x3e5f17=[];for(let _0x43723c of _0x170647){if(_0x43723c[_0x5549e6(0x25d)]!=config['basecoin']){if(_0x43723c[_0x5549e6(0x150)]>=_0x2cb937/0x64){if(_0x43723c[_0x5549e6(0x26a)])_0x3e5f17['push'](_0x43723c);}else{if(_0x43723c[_0x5549e6(0x150)]<=-_0x2cb937/0x64){if(_0x43723c['valid'])_0x3e5f17[_0x5549e6(0x28c)](_0x43723c);}}}}_0x3e5f17['length']>0x0&&(lockOrders==ORDERS['UNLOCKED']&&!coolingDown&&_0x3e5f17[_0x5549e6(0x10a)](_0x267c25=>{const _0x589d20=_0x5549e6;logger['debug'](_0x589d20(0x1a6)+_0x267c25['coin']+'\x20'+_0x267c25[_0x589d20(0x1e1)]+'\x20'+_0x267c25[_0x589d20(0x231)]+'\x20'+_0x267c25['distribution']+'%\x20'+_0x267c25['target']+'%\x20'+(0x64*_0x267c25['delta'])[_0x589d20(0x115)](0x2)+_0x589d20(0x243)+_0x2cb937[_0x589d20(0x115)](0x2)+'%)');}),placeOrder(_0x3e5f17));}function notifyBalance(_0x32533e){const _0x4e29f8=_0x188c77;let _0x174832=_0x32533e[_0x4e29f8(0x1d7)],_0x1ccf89=_0x32533e[_0x4e29f8(0x135)],_0x2f0435=[];for(let _0x2ad423 of _0x174832){if(_0x2ad423['coin']!=config[_0x4e29f8(0x1ff)]){if(_0x2ad423[_0x4e29f8(0x150)]>=_0x1ccf89/0x64){if(_0x2ad423[_0x4e29f8(0x26a)])_0x2f0435['push'](_0x2ad423);}else{if(_0x2ad423[_0x4e29f8(0x150)]<=-_0x1ccf89/0x64){if(_0x2ad423[_0x4e29f8(0x26a)])_0x2f0435[_0x4e29f8(0x28c)](_0x2ad423);}}}}if(_0x2f0435[_0x4e29f8(0x19c)]>0x0){let _0x40f4e3=_0x2f0435[_0x4e29f8(0x26b)](_0x32b631=>_0x32b631['coin']);_0x40f4e3[_0x4e29f8(0x16b)]();let _0x4712b6=_0x40f4e3['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x4e29f8(0x23a),_0x4e29f8(0x242));lastCoinsToBalance=_0x4712b6;}}function symbolToCoin(_0x37f90a){const _0x54849e=_0x188c77;let _0x2630ca;if(_0x37f90a[_0x54849e(0x27f)]('/'+config[_0x54849e(0x1ff)]))_0x2630ca=_0x37f90a[_0x54849e(0x22b)]('/'+config[_0x54849e(0x1ff)],'');if(_0x37f90a[_0x54849e(0x27f)](config[_0x54849e(0x1ff)]+'/'))_0x2630ca=_0x37f90a['replace'](config[_0x54849e(0x1ff)]+'/','');return _0x2630ca;}async function unlockOrders(){const _0x4b891a=_0x188c77;if(allOrdersPlaced&&lockOrders==ORDERS[_0x4b891a(0x195)]){logger['debug']('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x4b891a(0x1c0)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x2fe4a6=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2fe4a6,setBlockTransactionDetection(![]),validateOrdersState=_0x4b891a(0x11b),persistOpenOrders([]),lockOrders=ORDERS[_0x4b891a(0x2a7)],logger[_0x4b891a(0x269)](_0x4b891a(0x1ab));}}async function validateOrders(_0x2b5487){const _0x149098=_0x188c77;if(_0x2b5487)validateOrdersState=_0x2b5487;logger[_0x149098(0x269)](_0x149098(0x23f)+validateOrdersState+_0x149098(0x1cf)+(lockOrders==0x1?_0x149098(0x200):lockOrders==0x2?'ORDERS.UNLOCKING':_0x149098(0x220)));let _0x2adab2=[],_0x5a70bf=config[_0x149098(0x1ca)]==_0x149098(0x234)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x149098(0x195)])return;logger[_0x149098(0x269)](_0x149098(0x222)+validateOrdersState),lastOrders['forEach'](_0xfe64e7=>{const _0x120b25=_0x149098;let _0x2191c2=![];_0xfe64e7[_0x120b25(0x147)]>0x0&&(_0x2191c2=!![]),_0x2adab2[_0x120b25(0x28c)](_0x2191c2),_0x2191c2&&config[_0x120b25(0x1ca)]!='market'&&logHistory('order',_0x120b25(0x1c8)+_0xfe64e7[_0x120b25(0x152)]+'\x20'+_0xfe64e7['side']+'\x20#'+formatResult(_0xfe64e7[_0x120b25(0x147)],0x8)+'\x20@'+formatResult(_0xfe64e7[_0x120b25(0x107)],0x8));}),_0x2adab2[_0x149098(0x10a)]((_0x260946,_0x4a0145)=>{if(_0x260946)lastOrders['splice'](_0x4a0145,0x1);}),persistOpenOrders(lastOrders);const _0x332bf5=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x149098(0x2a5);if(validateOrdersState==_0x149098(0x11b)){validateOrdersState=_0x149098(0x258);if(_0x2adab2[_0x149098(0x27f)](![])){if(config['ordertype']==_0x149098(0x234)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x149098(0x258)){if(_0x2adab2[_0x149098(0x27f)](![])){}else{if(allOrdersPlaced){if(config[_0x149098(0x1ca)]=='market'){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x149098(0x211))_0x2adab2[_0x149098(0x27f)](![])&&(config[_0x149098(0x1ca)]==_0x149098(0x234)?logHistory(_0x149098(0x1b8),_0x149098(0x1fa)+Math[_0x149098(0x1b0)](_0x5a70bf*validateOrderInterval/0xea60)+_0x149098(0x290)+_0x332bf5):(await cancelOrders(),logHistory(_0x149098(0x1b8),_0x149098(0x18f)+Math[_0x149098(0x1b0)](_0x5a70bf*validateOrderInterval/0xea60)+_0x149098(0x290)+_0x332bf5))),await unlockOrders();else{if(validateOrdersState==_0x149098(0x177)){if(config['ordertype']!=_0x149098(0x234))logHistory(_0x149098(0x1b8),_0x149098(0x245)+_0x332bf5);await unlockOrders();}}}}}async function cancelOrders(){const _0x582659=_0x188c77;lastOrders[_0x582659(0x10a)](async _0x3eceae=>{const _0x2694e5=_0x582659;try{const _0x461063=await exchange[_0x2694e5(0x108)](_0x3eceae['orderId'],_0x3eceae['symbol']);}catch(_0x5d5342){if(_0x5d5342[_0x2694e5(0x16e)]()[_0x2694e5(0x27f)](_0x2694e5(0x1c9))){}else await handleError(_0x5d5342,_0x2694e5(0x230));}});}async function initCoinResults(_0x51a44c){const _0x81db26=_0x188c77;_0x51a44c?logger['debug']('Resetting\x20coin\x20results:\x20'+_0x51a44c):logger['debug']('Initializing\x20coin\x20results'),config[_0x81db26(0x1d7)]['forEach'](_0x17cd3e=>{const _0x343383=_0x81db26;if(!_0x17cd3e[_0x343383(0x1d3)]&&_0x17cd3e[_0x343383(0x25d)]!=config[_0x343383(0x1ff)]){const _0x23b1a7=currentCoins[_0x343383(0x18c)](_0x3f3ddd=>_0x3f3ddd[_0x343383(0x25d)]==_0x17cd3e[_0x343383(0x25d)]),_0x531319=gTicker[noslash(_0x17cd3e['symbol'])];let _0x2a645f=_0x23b1a7?_0x23b1a7[_0x343383(0x1e1)]:null,_0x32b16e=_0x17cd3e[_0x343383(0x1e3)]?0x1/_0x531319:_0x531319,_0xbfcad1;config[_0x343383(0x229)]['forEach'](_0x1b6661=>{const _0x64fde2=_0x343383;!_0xbfcad1&&(_0xbfcad1=_0x1b6661[_0x64fde2(0x29f)]['find'](_0x1ae198=>_0x1ae198[_0x64fde2(0x25d)]==_0x17cd3e[_0x64fde2(0x25d)]),_0xbfcad1&&(_0x2a645f=_0xbfcad1['number'],_0x32b16e=_0xbfcad1['price']));});let _0x4288df=dbCoinResults[_0x343383(0x16d)]('coins')[_0x343383(0x18c)]({'coin':_0x17cd3e[_0x343383(0x25d)]})[_0x343383(0x116)]();if(!_0x4288df){const _0x4aa74f={'coin':_0x17cd3e[_0x343383(0x25d)],'number':_0x2a645f,'breakeven':_0x32b16e,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x343383(0x16d)](_0x343383(0x18d))['push'](_0x4aa74f)[_0x343383(0x106)]();}else{if(_0x51a44c&&_0x17cd3e[_0x343383(0x25d)]==_0x51a44c){const _0x329f1d={'coin':_0x17cd3e[_0x343383(0x25d)],'number':_0x2a645f,'breakeven':_0x32b16e,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x343383(0x16d)](_0x343383(0x18d))[_0x343383(0x18c)]({'coin':_0x17cd3e['coin']})[_0x343383(0x157)](_0x329f1d)[_0x343383(0x106)]();}}}});}async function updateCoinResults(_0x4b536b,_0x5b19f9=![]){const _0x52bfe4=_0x188c77;let _0xbb20c9,_0xd9cd10,_0x5db1ab,_0x4f5c24,_0x3cdeb2,_0x496511,_0x6d8a94=dbCoinResults[_0x52bfe4(0x16d)]('coins')['find']({'coin':_0x4b536b[_0x52bfe4(0x25d)]})[_0x52bfe4(0x116)](),_0x39a69d=![];_0x6d8a94&&Object['entries'](_0x6d8a94)[_0x52bfe4(0x10a)](([_0x20acce,_0x353e7e])=>{if(_0x353e7e==null)_0x39a69d=!![];});(!_0x6d8a94||_0x39a69d)&&(await initCoinResults(_0x4b536b[_0x52bfe4(0x25d)]),_0x6d8a94=dbCoinResults[_0x52bfe4(0x16d)](_0x52bfe4(0x18d))[_0x52bfe4(0x18c)]({'coin':_0x4b536b[_0x52bfe4(0x25d)]})['value']());_0x4b536b[_0x52bfe4(0x1e3)]&&(_0x496511={'filled':_0x4b536b[_0x52bfe4(0x147)]*_0x4b536b['price'],'amount':_0x4b536b['filled']*_0x4b536b['price'],'side':_0x4b536b['side']==_0x52bfe4(0x237)?_0x52bfe4(0x264):_0x52bfe4(0x237),'price':0x1/_0x4b536b['price']},_0x4b536b={..._0x4b536b,..._0x496511});_0x5b19f9?_0xd9cd10=_0x4b536b['side']==_0x52bfe4(0x264)?_0x6d8a94[_0x52bfe4(0x1e1)]+_0x4b536b[_0x52bfe4(0x147)]:_0x6d8a94[_0x52bfe4(0x1e1)]-_0x4b536b[_0x52bfe4(0x147)]:_0xd9cd10=await getCoinNumber(_0x4b536b[_0x52bfe4(0x25d)]);if(_0x4b536b['fee']&&_0x4b536b[_0x52bfe4(0x20b)][_0x52bfe4(0x120)]==config[_0x52bfe4(0x1ff)])_0xbb20c9=Number(_0x4b536b['fee'][_0x52bfe4(0x274)]);else{if(_0x4b536b['fee']&&_0x4b536b[_0x52bfe4(0x20b)][_0x52bfe4(0x120)]=='BNB'&&!_0x5b19f9&&config['basecoin']!=_0x52bfe4(0x27a))_0xbb20c9=Number(_0x4b536b[_0x52bfe4(0x20b)][_0x52bfe4(0x274)])*gTicker[_0x52bfe4(0x2a6)+config[_0x52bfe4(0x1ff)]];else _0xbb20c9=defaultFee*_0x4b536b['filled']*_0x4b536b[_0x52bfe4(0x107)];}_0x4b536b['side']==_0x52bfe4(0x264)?(_0x5db1ab=_0xd9cd10!=0x0?(_0x6d8a94[_0x52bfe4(0x1aa)]*_0x6d8a94['number']+_0x4b536b[_0x52bfe4(0x107)]*(_0xd9cd10-_0x6d8a94[_0x52bfe4(0x1e1)])+_0xbb20c9)/_0xd9cd10:0x0,_0x4f5c24=_0x6d8a94[_0x52bfe4(0x23d)]):(_0x5db1ab=_0xd9cd10!=0x0?(_0x6d8a94['breakeven']*_0x6d8a94[_0x52bfe4(0x1e1)]-_0x4b536b[_0x52bfe4(0x107)]*(_0x6d8a94[_0x52bfe4(0x1e1)]-_0xd9cd10)+_0xbb20c9)/_0xd9cd10:0x0,_0x4f5c24=_0x6d8a94[_0x52bfe4(0x23d)]+(_0x4b536b[_0x52bfe4(0x107)]-_0x6d8a94[_0x52bfe4(0x1aa)])*_0x4b536b[_0x52bfe4(0x147)]);_0x3cdeb2=(_0x4b536b[_0x52bfe4(0x107)]-_0x5db1ab-_0xbb20c9/_0x4b536b[_0x52bfe4(0x147)])*_0xd9cd10;let _0x767310={'coin':_0x4b536b[_0x52bfe4(0x25d)],'number':_0xd9cd10,'breakeven':formatResult(_0x5db1ab,0x8),'realized':formatResult(_0x4f5c24,0x8),'unrealized':formatResult(_0x3cdeb2,0x8),'fees':formatResult(_0x6d8a94[_0x52bfe4(0x1c5)]+_0xbb20c9,0x8),'sells':_0x4b536b['side']==_0x52bfe4(0x237)?_0x6d8a94[_0x52bfe4(0x1fb)]+0x1:_0x6d8a94['sells'],'buys':_0x4b536b['side']==_0x52bfe4(0x264)?_0x6d8a94[_0x52bfe4(0x1bb)]+0x1:_0x6d8a94[_0x52bfe4(0x1bb)]};dbCoinResults[_0x52bfe4(0x16d)](_0x52bfe4(0x18d))['find']({'coin':_0x4b536b[_0x52bfe4(0x25d)]})[_0x52bfe4(0x157)](_0x767310)[_0x52bfe4(0x106)]();if(!_0x5b19f9){if(_0x4b536b[_0x52bfe4(0x20b)]&&_0x4b536b[_0x52bfe4(0x20b)][_0x52bfe4(0x120)]==_0x52bfe4(0x2a6)){const _0x2fe40d=currentCoins[_0x52bfe4(0x18c)](_0x3d145d=>_0x3d145d['coin']==_0x52bfe4(0x2a6));if(_0x2fe40d){let _0x9d8b5a=dbCoinResults['get']('coins')['find']({'coin':_0x52bfe4(0x2a6)})[_0x52bfe4(0x116)]();_0x767310={..._0x9d8b5a,'number':_0x2fe40d[_0x52bfe4(0x1e1)]},dbCoinResults['get'](_0x52bfe4(0x18d))[_0x52bfe4(0x18c)]({'coin':_0x52bfe4(0x2a6)})[_0x52bfe4(0x157)](_0x767310)[_0x52bfe4(0x106)]();}}}}async function placeOrder(_0x46d972){const _0x3465b0=_0x188c77,_0x3ff545=config[_0x3465b0(0x1ca)]==_0x3465b0(0x234)?_0x3465b0(0x234):_0x3465b0(0x179);if(lockOrders==ORDERS[_0x3465b0(0x2a7)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS['LOCKED'],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState='initial';let _0x272dcf=![];lastOrders=[];for(const _0x20f5c0 of _0x46d972){let _0x56f742,_0x30eeba,_0x2a723c,_0x1a1a03,_0x570ab9,_0x292454=_0x20f5c0[_0x3465b0(0x152)];try{const _0xad2a47=await exchange['fetchTicker'](_0x292454);_0x56f742=_0x20f5c0['reverse']?0x1/_0x20f5c0['last']:_0x20f5c0[_0x3465b0(0x231)],_0x30eeba=_0xad2a47[_0x3465b0(0x221)],_0x2a723c=_0xad2a47[_0x3465b0(0x248)];_0x20f5c0[_0x3465b0(0x1e3)]?(_0x1a1a03=_0x20f5c0[_0x3465b0(0x240)]=='buy'?_0x3465b0(0x237):'buy',_0x570ab9=Math[_0x3465b0(0x111)](_0x20f5c0[_0x3465b0(0x2b0)])/_0x56f742):(_0x1a1a03=_0x20f5c0[_0x3465b0(0x240)],_0x570ab9=Math[_0x3465b0(0x111)](_0x20f5c0['trade']));_0x3ff545=='limit'&&(config[_0x3465b0(0x1ca)]=='limit-high'&&(_0x56f742=_0x1a1a03==_0x3465b0(0x264)?_0x30eeba:_0x2a723c),config[_0x3465b0(0x1ca)]==_0x3465b0(0x265)&&(_0x56f742=_0x1a1a03=='buy'?_0x2a723c:_0x30eeba));_0x570ab9=formatResult(_0x570ab9,0x8),_0x56f742=formatResult(_0x56f742,0x8);const _0x10382f=_0x1a1a03==_0x3465b0(0x237)?config[_0x3465b0(0x16f)]?String['fromCodePoint']('0x'+config['emojisell'])+'\x20':'':config[_0x3465b0(0x17a)]?String[_0x3465b0(0x124)]('0x'+config[_0x3465b0(0x17a)])+'\x20':'',_0x4ff8e9=_0x3ff545==_0x3465b0(0x234)?'Market':config[_0x3465b0(0x1ca)]=='limit-high'?_0x3465b0(0x1a8):_0x3465b0(0x189),_0x58427b=(Math['floor'](Math['random']()*0x35a4e900)+0x5f5e100)['toString']();lastOrders[_0x3465b0(0x28c)]({'customId':_0x58427b,'symbol':_0x292454,'coin':_0x20f5c0[_0x3465b0(0x25d)],'amount':_0x570ab9,'price':_0x56f742,'side':_0x1a1a03,'reverse':_0x20f5c0[_0x3465b0(0x1e3)],'filled':0x0});if(_0x3ff545==_0x3465b0(0x234))logHistory(_0x3465b0(0x156),''+_0x10382f+_0x4ff8e9+_0x3465b0(0x244)+_0x292454+'\x20'+_0x1a1a03+'\x20#'+formatResult(_0x570ab9,0x8)+'\x20@'+formatResult(_0x56f742,0x8));else logHistory(_0x3465b0(0x156),''+_0x10382f+_0x4ff8e9+_0x3465b0(0x244)+_0x292454+'\x20'+_0x1a1a03+'\x20#'+formatResult(_0x570ab9,0x8)+'\x20@'+formatResult(_0x56f742,0x8));let _0x527363;_0x3ff545==_0x3465b0(0x234)?_0x1a1a03==_0x3465b0(0x264)&&['Bybit',_0x3465b0(0x167),'Cex',_0x3465b0(0x1ee),'Huobipro'][_0x3465b0(0x27f)](config[_0x3465b0(0x1b6)])?_0x527363=await exchange[_0x3465b0(0x201)](_0x292454,_0x3ff545,_0x1a1a03,_0x570ab9,_0x56f742):_0x527363=await exchange[_0x3465b0(0x201)](_0x292454,_0x3ff545,_0x1a1a03,_0x570ab9,undefined):_0x527363=await exchange[_0x3465b0(0x201)](_0x292454,_0x3ff545,_0x1a1a03,_0x570ab9,_0x56f742);logger['debug']('ID:\x20'+_0x527363['id']+_0x3465b0(0x29e)+_0x58427b);const _0x28d665=lastOrders[_0x3465b0(0x19c)]-0x1;if(_0x28d665>=0x0&&lastOrders[_0x28d665][_0x3465b0(0x16a)]==_0x58427b){lastOrders[_0x28d665][_0x3465b0(0x292)]=_0x527363['id'];if(_0x527363[_0x3465b0(0x119)])lastOrders[_0x28d665]['amount']=_0x527363[_0x3465b0(0x119)];if(_0x527363['price'])lastOrders[_0x28d665]['price']=_0x527363[_0x3465b0(0x107)];lastOrders[_0x28d665][_0x3465b0(0x20b)]=_0x527363[_0x3465b0(0x20b)];}if(config[_0x3465b0(0x1b3)]!=0x0){let _0xa436aa=null;if(cooldownTracker['length']==config[_0x3465b0(0x1b3)]-0x1)_0xa436aa=cooldownTracker['shift']();const _0x4dfef3=getTimeStamp();cooldownTracker[_0x3465b0(0x28c)](_0x4dfef3);if(_0xa436aa){const _0x27217a=fns[_0x3465b0(0x276)](new Date(_0x4dfef3),new Date(_0xa436aa));if(_0x27217a<cooldownInterval){logHistory(_0x3465b0(0x24e),'Executed\x20'+config[_0x3465b0(0x1b3)]+_0x3465b0(0x168)+cooldownInterval/0x3c+_0x3465b0(0x24b)+cooldownPeriod/(0xe10*0x3e8)+_0x3465b0(0x13b)),coolingDown=!![];break;}}}}catch(_0x43d518){if(_0x43d518[_0x3465b0(0x16e)]()['includes'](_0x3465b0(0x14b)))lastOrders=lastOrders[_0x3465b0(0x1b7)](_0x18c6e1=>_0x18c6e1['symbol']!=_0x292454),logHistory(_0x3465b0(0x24e),_0x3465b0(0x22e)+_0x292454),_0x272dcf=!![];else{if(_0x43d518[_0x3465b0(0x16e)]()['includes'](_0x3465b0(0x146)))lastOrders=lastOrders[_0x3465b0(0x1b7)](_0x3c2e6e=>_0x3c2e6e[_0x3465b0(0x152)]!=_0x292454),logHistory(_0x3465b0(0x24e),'Order\x20amount\x20is\x20invalid:\x20'+_0x292454),_0x272dcf=!![];else{if(_0x43d518[_0x3465b0(0x16e)]()[_0x3465b0(0x27f)]('InvalidOrder'))lastOrders=lastOrders[_0x3465b0(0x1b7)](_0xfc3d98=>_0xfc3d98['symbol']!=_0x292454),logHistory(_0x3465b0(0x24e),_0x3465b0(0x282)+_0x292454),logger['debug'](_0x43d518),_0x272dcf=!![];else _0x43d518[_0x3465b0(0x16e)]()[_0x3465b0(0x27f)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders[_0x3465b0(0x1b7)](_0x31e7aa=>_0x31e7aa[_0x3465b0(0x152)]!=_0x292454),logHistory('error',_0x3465b0(0x22e)+_0x292454),_0x272dcf=!![]):(lastOrders=lastOrders[_0x3465b0(0x1b7)](_0x30d90b=>_0x30d90b[_0x3465b0(0x152)]!=_0x292454),await handleError(_0x43d518,_0x3465b0(0x1c7),_0x292454));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x3465b0(0x19c)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0xf9dfc9=config[_0x3465b0(0x1ca)]==_0x3465b0(0x234)?validateOrderTimeout*0x3c*0x3e8:config[_0x3465b0(0x165)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x7830d0=_0x3465b0;validateOrders(_0x7830d0(0x211));},_0xf9dfc9);}else unlockOrders();_0x272dcf&&config[_0x3465b0(0x196)]&&(logHistory(_0x3465b0(0x24e),_0x3465b0(0x11e)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x3465b0(0x1b8),_0x3465b0(0x224)));}else{if(coolingDown)!config[_0x3465b0(0x196)]&&logHistory('error',_0x3465b0(0x15e));else lockOrders!=ORDERS[_0x3465b0(0x2a7)]&&(!config[_0x3465b0(0x196)]&&(config['ordertype']=='market'?logHistory(_0x3465b0(0x24e),_0x3465b0(0x2b1)):logHistory(_0x3465b0(0x24e),_0x3465b0(0x140))));}}function persistOpenOrders(_0xda6883){const _0x1ede6b=_0x188c77,_0x1925ea={...config,'openOrders':_0xda6883};let _0x799184=dbConfig[_0x1ede6b(0x16d)]('bot')[_0x1ede6b(0x18c)]({'botID':botID})[_0x1ede6b(0x116)]();_0x799184&&dbConfig['get'](_0x1ede6b(0x1dc))[_0x1ede6b(0x18c)]({'botID':botID})['assign'](_0x1925ea)[_0x1ede6b(0x106)]();}function restoreOrders(){const _0x405014=_0x188c77;let _0x4eea1d;config[_0x405014(0x174)]&&allOpenOrders[_0x405014(0x10a)](_0x2d2e40=>{const _0x2c2705=_0x405014,_0x5d3c8e=config['openOrders']['find'](_0x43c1c8=>_0x43c1c8['orderId']==_0x2d2e40['id']);_0x5d3c8e&&(lastOrders[_0x2c2705(0x28c)](_0x5d3c8e),_0x4eea1d=_0x2d2e40['timestamp']);});if(lastOrders['length']>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x405014(0x258),allOrdersPlaced=!![];const _0xe42514=new Date()[_0x405014(0x246)](),_0xf0c0e3=config[_0x405014(0x1ca)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x405014(0x165)]*0x3c*0x3e8;if(_0x4eea1d+_0xf0c0e3>_0xe42514){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x4eea1d+_0xf0c0e3-_0xe42514);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x46be0b=_0x188c77;if(!coinsLoaded){process[_0x46be0b(0x1cb)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x24937e=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x58c7d7='';if(config[_0x46be0b(0x233)])_0x58c7d7=_0x46be0b(0x1fe)+config[_0x46be0b(0x153)]+_0x46be0b(0x14d);else _0x58c7d7='<b>Bot\x20'+botID+'\x20metrics:</b>\x20\x0a\x0a';const _0x190eee=getKPIs(_0x46be0b(0x1ff)),_0x47959d=getKPIs('fiat',config['fiat']),_0x4e14a7=getKPIs(_0x46be0b(0x14e)),_0x33d018=getKPIs(_0x46be0b(0x132),config['fiat']);_0x58c7d7+=_0x46be0b(0x257),_0x58c7d7+=_0x190eee['leftTxt']+_0x46be0b(0x20c)+_0x190eee[_0x46be0b(0x116)]+'\x0a',_0x58c7d7+=_0x190eee['rightTxt']+':\x20'+_0x190eee[_0x46be0b(0x27e)]+'%\x0a',_0x58c7d7+=_0x47959d[_0x46be0b(0x1f3)]+_0x46be0b(0x20c)+_0x47959d['value']+'\x0a',_0x58c7d7+=_0x47959d[_0x46be0b(0x21a)]+':\x20'+_0x47959d[_0x46be0b(0x27e)]+'%\x0a',_0x58c7d7+=_0x4e14a7[_0x46be0b(0x1f3)]+':\x20'+_0x4e14a7['value']+'\x20('+config[_0x46be0b(0x1ff)]+')\x0a',_0x58c7d7+=_0x4e14a7[_0x46be0b(0x21a)]+':\x20'+_0x4e14a7['change']+_0x46be0b(0x243)+config[_0x46be0b(0x1ff)]+')\x0a',_0x58c7d7+=_0x33d018['leftTxt']+':\x20'+_0x33d018[_0x46be0b(0x116)]+'\x20('+config[_0x46be0b(0x1fc)]+')\x0a',_0x58c7d7+=_0x33d018[_0x46be0b(0x21a)]+':\x20'+_0x33d018[_0x46be0b(0x27e)]+'%\x20('+config[_0x46be0b(0x1fc)]+')\x0a',_0x58c7d7+=_0x46be0b(0x281),process[_0x46be0b(0x1cb)]({'telegrammsg':_0x58c7d7},_0x1e4e08=>{});}async function sendPortfolioTelegram(){const _0x5e1dc3=_0x188c77;if(!coinsLoaded||!currentCoins[0x0][_0x5e1dc3(0x279)]){process['send']({'telegrammsg':_0x5e1dc3(0x158)},_0x460eb2=>{});return;}let _0x2922f5='';if(config[_0x5e1dc3(0x233)])_0x2922f5=_0x5e1dc3(0x1fe)+config['botname']+_0x5e1dc3(0x134);else _0x2922f5=_0x5e1dc3(0x159)+botID+_0x5e1dc3(0x134);_0x2922f5+=_0x5e1dc3(0x257),_0x2922f5+=_0x5e1dc3(0x2a9),_0x2922f5+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x2922f5+=_0x5e1dc3(0x2a9),currentCoins[_0x5e1dc3(0x10a)](_0x341335=>{const _0x566051=_0x5e1dc3;_0x2922f5+=_0x341335['coin']['padEnd'](0x7)+'|\x20'+formatPad(_0x341335['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x341335[_0x566051(0x15f)],0x2,0x6)+'|\x20'+formatPad(_0x341335[_0x566051(0x150)]*0x64,0x2,0x6)+'\x0a';}),_0x2922f5+='</pre>',process[_0x5e1dc3(0x1cb)]({'telegrammsg':_0x2922f5},_0x4199a7=>{});}function formatPad(_0x337245,_0x449767,_0x19d096){const _0x18637c=_0x188c77,_0x353f56=formatResultString(_0x337245,_0x449767);return _0x353f56?_0x353f56['padStart'](_0x19d096):''[_0x18637c(0x13d)](_0x19d096);}function logHistory(_0xcc32b4,_0xaad7b4,_0x38eec4=''){const _0x362e08=_0x188c77;logger['full'](''+_0xaad7b4);let _0x30bc78={'time':getTimeStamp(),'type':_0xcc32b4,'event':_0xaad7b4};dbLogs[_0x362e08(0x16d)](_0x362e08(0x225))[_0x362e08(0x28c)](_0x30bc78)[_0x362e08(0x106)]();if(_0x38eec4=='')_0x38eec4=_0xaad7b4;proxyEmit(_0x362e08(0x2af),{'log':_0x30bc78,'summary':_0x38eec4}),process['send']({'telegram':{..._0x30bc78,'botname':config[_0x362e08(0x153)],'showname':config['showname']}},_0x33f793=>{});}function emitHistory(_0x5b65c8={}){const _0x5f214f=_0x188c77;Object['keys'](_0x5b65c8)[_0x5f214f(0x19c)]==0x0&&(_0x5b65c8={'type':[_0x5f214f(0x156),_0x5f214f(0x2af)],'event':'','page':0x1});if(_0x5b65c8[_0x5f214f(0x262)]['includes'](_0x5f214f(0x2af)))_0x5b65c8['type'][_0x5f214f(0x284)](_0x5b65c8[_0x5f214f(0x262)][_0x5f214f(0x2b3)](_0x5f214f(0x2af)),0x1,_0x5f214f(0x24e),_0x5f214f(0x23a),'success');if(dbLogs['has']('logs')[_0x5f214f(0x116)]()){let _0x7dfd65=dbLogs[_0x5f214f(0x16d)](_0x5f214f(0x225))[_0x5f214f(0x1b7)](_0x48ca59=>{const _0x264641=_0x5f214f;if(_0x5b65c8[_0x264641(0x262)]['length']==0x0)return![];else return _0x5b65c8[_0x264641(0x262)]['includes'](_0x48ca59[_0x264641(0x262)]);})[_0x5f214f(0x1b7)](_0x5183e9=>{const _0x38004d=_0x5f214f;if(_0x5b65c8[_0x38004d(0x2af)]=='')return!![];else return _0x5183e9['event'][_0x38004d(0x1c2)]()[_0x38004d(0x27f)](_0x5b65c8['event'][_0x38004d(0x1c2)]());})[_0x5f214f(0x186)]('time'),_0x232292=_0x7dfd65[_0x5f214f(0x116)]()[_0x5f214f(0x19c)];_0x7dfd65=_0x7dfd65[_0x5f214f(0x1e3)]()[_0x5f214f(0x29a)]((_0x5b65c8[_0x5f214f(0x14c)]-0x1)*logPageSize,_0x5b65c8['page']*logPageSize-0x1)[_0x5f214f(0x1e3)]()[_0x5f214f(0x116)](),proxyEmit(_0x5f214f(0x2b5),{'logs':_0x7dfd65,'total':_0x232292});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x18fbfd){const _0x41acab=_0x188c77;if(dbLogs['has']('logs')[_0x41acab(0x116)]()){const _0x4b2b1f=dbLogs[_0x41acab(0x16d)](_0x41acab(0x225))[_0x41acab(0x186)](_0x41acab(0x19f))[_0x41acab(0x1b7)](_0x44bc10=>{const _0x23bad0=_0x41acab;return _0x44bc10[_0x23bad0(0x262)]==_0x23bad0(0x156);})[_0x41acab(0x116)]();dbLogs['get'](_0x41acab(0x225))[_0x41acab(0x17d)]()[_0x41acab(0x106)](),dbLogs[_0x41acab(0x16d)](_0x41acab(0x225))[_0x41acab(0x157)](_0x4b2b1f)[_0x41acab(0x106)](),emitHistory(_0x18fbfd);}}async function pauseBot(_0x341d70=pauseBotIntervalShort,_0x9b7c0f,_0x4c02bb){const _0x455990=_0x188c77,_0x3a2dea=new Date()[_0x455990(0x246)]();if(!lastErrorShown||_0x3a2dea-lastErrorShown>=_0x341d70){lastErrorShown=_0x3a2dea;!lastBotPause?(lastBotPause=_0x3a2dea,consecutivePauses=0x1):(_0x3a2dea-lastBotPause-_0x341d70<0x5a*0x3e8?(consecutivePauses++,consecutivePauses>maxPauseRetries&&(logHistory('error',_0x9b7c0f+pauseBotMsg),_0x341d70=pauseBotInterval)):consecutivePauses=0x1,lastBotPause=_0x3a2dea);_0x4c02bb?logger[_0x455990(0x269)]('('+consecutivePauses+')\x20'+_0x9b7c0f+_0x455990(0x1f8),_0x4c02bb):logger[_0x455990(0x269)]('('+consecutivePauses+')\x20'+_0x9b7c0f);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x341d70),botPaused=![],_0x341d70==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x3cdcf7=_0x188c77;botPaused=!![],await sleep(0x3e8),process[_0x3cdcf7(0x1cb)]({'stop':_0x3cdcf7(0x1da)},_0x2e7fc1=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x2c50f6,_0x1a918c){const _0x164896=_0x188c77;if(botPaused)return;const _0x5b704c=config[_0x164896(0x1b6)]||'Exchange';if(_0x1a918c)logger[_0x164896(0x269)](_0x164896(0x296)+_0x1a918c);const _0x29bea8=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x2c50f6['toString']()[_0x164896(0x27f)](_0x164896(0x208)))logHistory('error',_0x5b704c+_0x164896(0x250)),_0x29bea8();else{if(_0x2c50f6[_0x164896(0x16e)]()[_0x164896(0x27f)](_0x164896(0x128)))logHistory(_0x164896(0x24e),_0x5b704c+_0x164896(0x2b4)),_0x29bea8();else _0x2c50f6[_0x164896(0x16e)]()[_0x164896(0x27f)](_0x164896(0x287))?(logHistory('error',_0x5b704c+_0x164896(0x173)),logHistory('error','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)'),_0x29bea8()):await handleError(_0x2c50f6,null);}}async function handleError(_0x252493,_0xf898b9,_0x5c1ff4=''){const _0x4c9cdb=_0x188c77;if(botPaused)return;let _0x5b504d;const _0x42b39b=config[_0x4c9cdb(0x1b6)]||_0x4c9cdb(0x22c);if(_0xf898b9)logger[_0x4c9cdb(0x269)](_0x4c9cdb(0x296)+_0xf898b9);if(_0x252493[_0x4c9cdb(0x16e)]()['includes'](_0x4c9cdb(0x109)))_0x5b504d=_0x42b39b+_0x4c9cdb(0x21d),await pauseBot(undefined,_0x5b504d,_0x252493);else{if(_0x252493[_0x4c9cdb(0x16e)]()[_0x4c9cdb(0x27f)]('RateLimitExceeded'))_0x5b504d=_0x42b39b+_0x4c9cdb(0x283),await pauseBot(undefined,_0x5b504d,_0x252493);else{if(_0x252493[_0x4c9cdb(0x16e)]()[_0x4c9cdb(0x27f)](_0x4c9cdb(0x18e))||_0x252493[_0x4c9cdb(0x16e)]()['includes']('OnMaintenance'))_0x5b504d=_0x42b39b+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)',await pauseBot(undefined,_0x5b504d,_0x252493);else{if(_0x252493[_0x4c9cdb(0x16e)]()[_0x4c9cdb(0x27f)](_0x4c9cdb(0x1b2)))_0x5b504d=_0x42b39b+_0x4c9cdb(0x263),await pauseBot(undefined,_0x5b504d,_0x252493);else{if(_0x252493[_0x4c9cdb(0x16e)]()[_0x4c9cdb(0x27f)](_0x4c9cdb(0x22f)))_0x5b504d=_0x42b39b+_0x4c9cdb(0x10c),await pauseBot(undefined,_0x5b504d,_0x252493);else{if(_0x252493['toString']()[_0x4c9cdb(0x1c2)]()[_0x4c9cdb(0x27f)](_0x4c9cdb(0x170))||_0x252493[_0x4c9cdb(0x16e)]()[_0x4c9cdb(0x1c2)]()[_0x4c9cdb(0x27f)](_0x4c9cdb(0x28b)))_0x5b504d=_0x4c9cdb(0x1e0),await pauseBot(undefined,_0x5b504d,_0x252493);else{if(_0x252493[_0x4c9cdb(0x16e)]()['includes']('InvalidNonce'))_0x5b504d=_0x42b39b+_0x4c9cdb(0x2aa),await pauseBot(undefined,_0x5b504d,_0x252493);else{if(_0x252493 instanceof ccxt['NetworkError'])_0x5b504d=_0x42b39b+_0x4c9cdb(0x191),await pauseBot(undefined,_0x5b504d,_0x252493);else{if(_0x252493[_0x4c9cdb(0x16e)]()[_0x4c9cdb(0x27f)](_0x4c9cdb(0x208)))logHistory(_0x4c9cdb(0x24e),_0x42b39b+_0x4c9cdb(0x218)),logHistory(_0x4c9cdb(0x24e),_0x4c9cdb(0x1ea)),await killBot();else{if(_0x252493[_0x4c9cdb(0x16e)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x4c9cdb(0x24e),_0x42b39b+_0x4c9cdb(0x2a1)),logHistory(_0x4c9cdb(0x24e),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x252493[_0x4c9cdb(0x16e)]()['includes'](_0x4c9cdb(0x287)))logHistory(_0x4c9cdb(0x24e),_0x42b39b+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logger[_0x4c9cdb(0x269)](_0x4c9cdb(0x223)+config['apiKey'][_0x4c9cdb(0x29a)](-0x5)+'\x20'+config[_0x4c9cdb(0x1e4)][_0x4c9cdb(0x29a)](-0x5)+'\x20'+config['apiPassword']['slice'](-0x5),_0x252493),logHistory(_0x4c9cdb(0x24e),_0x4c9cdb(0x1ea)),await killBot();else{if(_0x252493[_0x4c9cdb(0x16e)]()[_0x4c9cdb(0x27f)](_0x4c9cdb(0x17b)))logHistory(_0x4c9cdb(0x24e),_0x42b39b+_0x4c9cdb(0x267)),logHistory(_0x4c9cdb(0x24e),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x252493[_0x4c9cdb(0x16e)]()[_0x4c9cdb(0x27f)](_0x4c9cdb(0x2a4)))logHistory(_0x4c9cdb(0x24e),_0x4c9cdb(0x12e)+_0x5c1ff4);else{if(_0x252493 instanceof ccxt[_0x4c9cdb(0x26d)]){logHistory(_0x4c9cdb(0x24e),_0x42b39b+_0x4c9cdb(0x1f9)),logger[_0x4c9cdb(0x269)](_0x4c9cdb(0x2a3),_0x252493);if(_0x5c1ff4)logger[_0x4c9cdb(0x269)](_0x4c9cdb(0x1bc)+_0x5c1ff4);}else{_0x5b504d=_0x4c9cdb(0x1f0),logger['debug'](_0x5b504d+_0x4c9cdb(0x1f8),_0x252493);if(_0x5c1ff4)logger[_0x4c9cdb(0x269)](_0x4c9cdb(0x1bc)+_0x5c1ff4);await pauseBot(undefined,_0x5b504d);}}}}}}}}}}}}}}}async function withRetry(_0x5d0faa,_0x2dafab){const _0x12f8d3=_0x188c77;let _0x46f413=![],_0x5e0dc6=0x0,_0x401525,_0x10c753;while(_0x5e0dc6<maxRetries){try{_0x401525=await _0x2dafab();break;}catch(_0x3cf19d){_0x10c753=_0x3cf19d,!_0x46f413?(_0x46f413=!![],logger[_0x12f8d3(0x269)](_0x12f8d3(0x127)+_0x5d0faa+':',_0x3cf19d[_0x12f8d3(0x16e)]())):await sleep(retryInterval);}_0x5e0dc6++;}if(_0x5e0dc6==0x0)return _0x401525;if(_0x5e0dc6>=maxRetries)throw _0x10c753;else return logger[_0x12f8d3(0x269)](_0x12f8d3(0x253)+_0x5e0dc6+_0x12f8d3(0x1de)),_0x401525;}function formatResult(_0x4239f4,_0x4e53a7){const _0x32b9b0=_0x188c77;return parseFloat(_0x4239f4[_0x32b9b0(0x115)](_0x4e53a7));}function formatResultTruncate(_0x4733be,_0x36f57d){const _0x1feb45=_0x188c77;let _0x277fc6=formatResultString(_0x4733be,0xa),_0x4ddabf=_0x277fc6[_0x1feb45(0x2b3)]('.');return _0x4ddabf!=-0x1&&(_0x277fc6=_0x277fc6['slice'](0x0,_0x4ddabf+_0x36f57d+0x1)),Number(_0x277fc6);}function formatResultString(_0x2a984c,_0x311c99){const _0x57cbc4=_0x188c77;let _0xdafc61;if(!(''+_0x2a984c)[_0x57cbc4(0x27f)]('e'))_0xdafc61=+(Math[_0x57cbc4(0x1b0)](_0x2a984c+'e+'+_0x311c99)+'e-'+_0x311c99);else{let _0x2b3d23=(''+_0x2a984c)['split']('e'),_0x27b12e='';+_0x2b3d23[0x1]+_0x311c99>0x0&&(_0x27b12e='+'),_0xdafc61=+(Math[_0x57cbc4(0x1b0)](+_0x2b3d23[0x0]+'e'+_0x27b12e+(+_0x2b3d23[0x1]+_0x311c99))+'e-'+_0x311c99);}return Number(_0xdafc61)[_0x57cbc4(0x115)](_0x311c99);}function getServerTime(){const _0x688c44=_0x188c77,_0x28ac67=new Date();return _0x28ac67[_0x688c44(0x139)]()+'/'+(_0x28ac67['getMonth']()+0x1)[_0x688c44(0x16e)]()[_0x688c44(0x13d)](0x2,'0')+'/'+_0x28ac67['getDate']()[_0x688c44(0x16e)]()[_0x688c44(0x13d)](0x2,'0')+'\x20'+_0x28ac67[_0x688c44(0x2ad)]()['toString']()[_0x688c44(0x13d)](0x2,'0')+':'+_0x28ac67[_0x688c44(0x192)]()[_0x688c44(0x16e)]()['padStart'](0x2,'0')+':'+_0x28ac67['getSeconds']()[_0x688c44(0x16e)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x3663cd=_0x188c77,_0x35ffa8=shiftedTime();return _0x35ffa8['getFullYear']()+'/'+(_0x35ffa8[_0x3663cd(0x197)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x35ffa8[_0x3663cd(0x163)]()[_0x3663cd(0x16e)]()[_0x3663cd(0x13d)](0x2,'0')+'\x20'+_0x35ffa8['getHours']()['toString']()[_0x3663cd(0x13d)](0x2,'0')+':'+_0x35ffa8[_0x3663cd(0x192)]()['toString']()[_0x3663cd(0x13d)](0x2,'0')+':'+_0x35ffa8[_0x3663cd(0x1a2)]()[_0x3663cd(0x16e)]()[_0x3663cd(0x13d)](0x2,'0');}function getDate(){const _0x15edec=_0x188c77,_0x1050b6=shiftedTime();return _0x1050b6[_0x15edec(0x139)]()+'/'+(_0x1050b6[_0x15edec(0x197)]()+0x1)[_0x15edec(0x16e)]()[_0x15edec(0x13d)](0x2,'0')+'/'+_0x1050b6['getDate']()['toString']()[_0x15edec(0x13d)](0x2,'0');}function _0x38fa(_0x23bf8f,_0x775109){const _0x5a461c=_0x5435();return _0x38fa=function(_0x2892f1,_0x5da6fc){_0x2892f1=_0x2892f1-0x104;let _0x543595=_0x5a461c[_0x2892f1];return _0x543595;},_0x38fa(_0x23bf8f,_0x775109);}function getHour(){const _0x4a6bb0=_0x188c77,_0x495b28=shiftedTime();return _0x495b28[_0x4a6bb0(0x2ad)]()['toString']()['padStart'](0x2,'0');}function sleep(_0x30d19b){return new Promise(_0x28b529=>setTimeout(_0x28b529,_0x30d19b));}function shiftedTime(){const _0x1d0452=_0x188c77,_0x109d90=new Date();let _0xd5d9d9=_0x109d90;if(config&&config[_0x1d0452(0x266)]!==0x0)_0xd5d9d9=fns['add'](_0x109d90,{'hours':config[_0x1d0452(0x266)]});return _0xd5d9d9;}function timer(_0x316635){const _0x297022=_0x188c77,_0x1243e2=new Date();!lasttime?console[_0x297022(0x23e)](getTimeStamp()+_0x297022(0x184),_0x316635,_0x1243e2):console['log'](getTimeStamp()+_0x297022(0x184),_0x316635,(_0x1243e2-lasttime)/0x3e8),lasttime=_0x1243e2;}