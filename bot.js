const _0x3f964d=_0x3350;(function(_0x342d6c,_0x59624c){const _0xd8d2b=_0x3350,_0x167989=_0x342d6c();while(!![]){try{const _0xe51406=parseInt(_0xd8d2b(0x153))/0x1+-parseInt(_0xd8d2b(0x1b4))/0x2*(-parseInt(_0xd8d2b(0x200))/0x3)+-parseInt(_0xd8d2b(0x1dc))/0x4+parseInt(_0xd8d2b(0x220))/0x5+-parseInt(_0xd8d2b(0x1c9))/0x6+parseInt(_0xd8d2b(0x154))/0x7*(parseInt(_0xd8d2b(0x1b0))/0x8)+parseInt(_0xd8d2b(0x229))/0x9;if(_0xe51406===_0x59624c)break;else _0x167989['push'](_0x167989['shift']());}catch(_0x50a254){_0x167989['push'](_0x167989['shift']());}}}(_0x3a23,0x807f3));const _0x4c42c5=function(){let _0x4588b6=!![];return function(_0x24a086,_0xcc6f83){const _0x2ae8b8=_0x4588b6?function(){if(_0xcc6f83){const _0x330e86=_0xcc6f83['apply'](_0x24a086,arguments);return _0xcc6f83=null,_0x330e86;}}:function(){};return _0x4588b6=![],_0x2ae8b8;};}(),_0x3fb288=_0x4c42c5(this,function(){const _0x275f22=_0x3350;return _0x3fb288[_0x275f22(0x1fc)]()[_0x275f22(0x1cd)]('(((.+)+)+)+$')['toString']()['constructor'](_0x3fb288)[_0x275f22(0x1cd)]('(((.+)+)+)+$');});_0x3fb288();'use strict';const ccxt=require('ccxt'),low=require('lowdb'),FileSync=require(_0x3f964d(0x1b6)),fs=require('fs'),fns=require(_0x3f964d(0x1c8)),{WebsocketClient,DefaultLogger}=require(_0x3f964d(0x1a4)),Crypt=require(_0x3f964d(0x211))['Crypt'];let exchange,wsClient;global[_0x3f964d(0x160)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x3f964d(0x21b))['version'],botID=process['argv'][0x2]||_0x3f964d(0x164),pattern=/^[0-9]{3}$/;if(!pattern['test'](botID))return console[_0x3f964d(0x1b9)]('Error:\x20Invalid\x20argument\x20'+botID+_0x3f964d(0x212)),process[_0x3f964d(0x140)](0x1);const userID=process[_0x3f964d(0x1e2)][0x3]||'',configpath=userID?_0x3f964d(0x21d)+userID+'/':_0x3f964d(0x21d);!fs[_0x3f964d(0x1e7)](configpath)&&fs[_0x3f964d(0x149)](configpath);const configfile=configpath+_0x3f964d(0x117)+botID+_0x3f964d(0x224),logfile=configpath+_0x3f964d(0x117)+botID+_0x3f964d(0x131),performancefile=configpath+_0x3f964d(0x117)+botID+_0x3f964d(0x132),coinresultsfile=configpath+_0x3f964d(0x117)+botID+'-results.json',settingsfile=configpath+_0x3f964d(0x155),securefile=configpath+_0x3f964d(0x159),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x3f964d(0x1da)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})[_0x3f964d(0x13a)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x3f964d(0x1da)]({'bot':[]})[_0x3f964d(0x13a)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x3f964d(0x13a)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x3f964d(0x1b5),'symbol':_0x3f964d(0x1f8)},'usd':{'coin':_0x3f964d(0x1f0),'symbol':_0x3f964d(0x121)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x2bdae8)=>{},'debug':(..._0x5ce60b)=>{},'notice':(..._0x5c8201)=>{},'info':(..._0x22aa7d)=>{},'warning':(..._0x2ca31b)=>{},'error':async function(..._0x44784b){const _0x1278bc=_0x3f964d,_0x4b8dfa=new Date()[_0x1278bc(0x207)]();if(!lastErrorShown||_0x4b8dfa-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x1278bc(0x207)](),logHistory('error','WebSockets('+consecutivePauses+_0x1278bc(0x198));let _0x484895='';if(_0x44784b[0x0])_0x484895+=_0x44784b[0x0];if(_0x44784b[0x1]&&_0x44784b[0x1][_0x1278bc(0x1fe)]&&_0x44784b[0x1][_0x1278bc(0x1fe)]['message'])_0x484895+='\x20-\x20'+_0x44784b[0x1][_0x1278bc(0x1fe)][_0x1278bc(0x19b)];logging(_0x1278bc(0x1d3)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x484895),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0x3f964d(0x1a8)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings['timeshift']!=config[_0x3f964d(0x1ce)]&&updateTimeshift(settings[_0x3f964d(0x1ce)]);process['send']({'started':'running'},_0xb3a8f2=>{}),initializeProcessListeners();function proxyEmit(_0x3d24ba,_0x2f9237=null){const _0x23dfbb=_0x3f964d;process[_0x23dfbb(0x12c)]({'function':_0x3d24ba,'args':_0x2f9237},_0x2c59d0=>{});}function initializeProcessListeners(){process['on']('message',_0x800074=>{const _0x2a27d0=_0x3350;switch(Object[_0x2a27d0(0x1b7)](_0x800074)[0x0]){case _0x2a27d0(0x1ce):_0x800074[_0x2a27d0(0x1ce)]!=undefined&&(settings[_0x2a27d0(0x1ce)]=_0x800074[_0x2a27d0(0x1ce)],updateTimeshift(settings[_0x2a27d0(0x1ce)]));break;case _0x2a27d0(0x193):switch(_0x800074[_0x2a27d0(0x193)]){case'initclient':initclient();break;case _0x2a27d0(0x228):emitHistory(_0x800074['args']);break;case _0x2a27d0(0x215):getPortfolio(_0x800074[_0x2a27d0(0x180)]);break;case _0x2a27d0(0x16f):storeConfiguration(_0x800074[_0x2a27d0(0x180)]);break;case _0x2a27d0(0x15a):storeHeadless(_0x800074['args']);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x2a27d0(0x125):placeOrder(_0x800074[_0x2a27d0(0x180)]);break;case'cancelLoading':cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}function _0x3a23(){const _0x1d797a=['Limit\x20(low-margin)','map','shift','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','Order\x20filled:\x20','value','fees','BTC/EUR','eventType','createOrder','abs','toString','ordertype','error','last','21ILKQXB','LIMIT','secure','\x20|\x20Error\x20details:\x20','changes','set','\x20orders\x20in\x20less\x20than\x20','getTime','version','round','assign','date','Unfilled\x20order(s)\x20canceled\x20after\x20','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','forEach','toLowerCase','Order(s)\x20not\x20validated\x20after\x20','hybrid-crypto-js',',\x20must\x20be\x20a\x203\x20digit\x20number','amount','BTC','getPortfolio','InvalidNonce','asset','valid','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','BNB','./version.json','isArray','./config/','add','type','1682615hBGOmI','showname','placeOrder()','reconnected','-config.json','slice','Manual\x20balancing\x20required:\x20','apiSecret','emitHistory','11924280fJjnZK','realized','find','getHours','getSeconds','includes','configuration-stored','bot-','configuration','emojibuy','exchange','join','Market','subscribeSpotUserDataStream','apiKey','push','get','BTC/USDT','kill','buy','split','placeOrder','buys','startdate','sell','has','reverse','fetchBalance','send','fetchTickers','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','restart','limit-high','-events.json','-performance.json','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','delta','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','\x20|\x20Unknown\x20error\x20occured','getCloses()','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','executionReport','write','length','event','orderStatus','accumulatedQuantity','usd','exit','eachDayOfInterval','parseISO','performance','entries','yyyy/MM/dd\x20HH:mm:ss','settings','splice','Limit\x20(high-margin)','mkdirSync','emojisell','cooldown','bid','starting-balances','event-history','replace','filled',':\x20Bot\x20','fetchOHLCV','203052dwxuie','5369hkBGHB','bb-settings.json','offset','max','fromCodePoint','bb-secure.json','storeHeadless','symbol','sells','getMinutes','limit','portfolio','ticker','ExchangeNotAvailable','2.3.5','currency','001','min','findIndex','logs','userData','BTC/BUSD','remainingSymbols','USDT','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','success','timestamp','storeConfiguration','binanceus','getCoins()','differenceInSeconds','DDoSProtection','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','recreateHistory()','toFixed','Invalid\x20quantity','total','format','getFullYear','\x20|\x20Binance\x20API\x20key\x20is\x20invalid','trade','FILLED','outboundAccountPosition','coins','args','balances','kline','loadMarkets','subscribeSpotKline','starting-balance-','Order(s)\x20validated\x20-\x20balancing\x20resumed','basecoin','stringify','availableBalance','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','data','padStart','HOT/EUR','startnumber','DAI/','isEqual','breakeven','yyyy/MM/dd','function','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','side','MIN_NOTIONAL','sort',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','wss://stream.binance.com:9443','limits','message','USDC','time','Order\x20amount\x20is\x20invalid:\x20','orderId','Executed\x20','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','order','getMonth','binance','\x20hour','cancel','number','RSA-OAEP','threshold','bot','\x20>\x20','ask','Order:\x20','target','datetime','2936cYFqev','filter','Binance\x20API\x20key\x20is\x20invalid','headless','6802pFhrhF','BTCEUR','lowdb/adapters/FileSync','keys','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','log','decrypt','cost','milliseconds','coin','page','eur','\x20minutes\x20-\x20balancing\x20resumed','timeout','API-key\x20format\x20invalid','startprice','cancelOrder()','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','limit-low','excluded','date-fns','6118380YVWHEg','fee','loadSymbols()','wsMarket','search','timeshift','closeWs','getFiat()','price','BTCBUSD','WebSockets(','Binance\x20API\x20secret\x20is\x20invalid','\x20order:\x20','OrderNotFound','distribution','InsufficientFunds','remove','defaults','************','2494952Nadpre','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','privateKey','getDate','addDays','market','argv','botname','getPortfolio()','Order(s)\x20filled\x20-\x20balancing\x20resumed','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','existsSync','cloneDeep','sortBy','indexOf','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','coin-loading-progress','liquidity','close','parse','BTCUSDT'];_0x3a23=function(){return _0x1d797a;};return _0x3a23();}async function reset(){const _0x14193b=_0x3f964d;if(pidBalances)clearTimeout(pidBalances);if(config[_0x14193b(0x11e)]!=''){await initExchange(config[_0x14193b(0x11e)],config[_0x14193b(0x227)]);let _0x4d58a1=await loadSymbols();_0x4d58a1&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x1f8018,_0x335a6a){const _0x2f7c0f=_0x3f964d,_0x2dac00=ccxt[config[_0x2f7c0f(0x11a)]];let _0x29db57;switch(config[_0x2f7c0f(0x11a)]){case _0x2f7c0f(0x1a4):_0x29db57=_0x2f7c0f(0x199);break;case _0x2f7c0f(0x170):_0x29db57='wss://stream.binance.us:9443';break;default:_0x29db57='wss://stream.binance.com:9443';}exchange=new _0x2dac00({'apiKey':_0x1f8018,'secret':_0x335a6a,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x1f8018,'api_secret':_0x335a6a,'beautify':!![],'wsUrl':_0x29db57},logger),config['exchange']=='binanceus'&&(stablecoins={'eur':{'coin':_0x2f7c0f(0x1d2),'symbol':_0x2f7c0f(0x169)},'usd':{'coin':_0x2f7c0f(0x1f0),'symbol':_0x2f7c0f(0x121)}});}async function loadSymbols(){const _0x3bcea1=_0x3f964d;let _0x251cae;try{markets=await exchange[_0x3bcea1(0x183)]();const _0x19a714=[_0x3bcea1(0x18f),'HOT/BTC',_0x3bcea1(0x18d)];allSymbols=exchange['symbols']['filter'](_0x5996ff=>{let _0x3303c3=![];return _0x19a714['forEach'](_0x26a8df=>{const _0x283ca1=_0x3350;if(_0x5996ff[_0x283ca1(0x115)](_0x26a8df))_0x3303c3=!![];}),!_0x3303c3;}),_0x251cae=!![];}catch(_0xeb67cc){await handleError(_0xeb67cc,_0x3bcea1(0x1cb)),_0x251cae=![];}return _0x251cae;}async function initbot(){const _0x3ec15a=_0x3f964d;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x388a79=dbCoinResults[_0x3ec15a(0x120)](_0x3ec15a(0x17f))['value']();if(_0x388a79['length']==0x0)await resetCoinResults();}async function initclient(){const _0x1acfd1=_0x3f964d;proxyEmit(_0x1acfd1(0x118),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x1acfd1(0x181),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x4b72f9=getNormalizedPerformance();emitPerformance(_0x4b72f9),await getStartingBalances(_0x4b72f9);}function cleanws(){const _0x12f1f2=_0x3f964d;wsinitialized=![];ws1&&(ws1[_0x12f1f2(0x20e)](_0x148932=>{const _0x3e423d=_0x12f1f2;try{wsClient[_0x3e423d(0x1cf)](_0x148932);}catch(_0x2d678c){}}),ws1=[]);if(ws2){try{wsClient[_0x12f1f2(0x1cf)](ws2);}catch(_0x25f927){}ws2=null;}}async function initws(){const _0x192dc9=_0x3f964d;cleanws();let _0x1cfadc=[];currentCoins[_0x192dc9(0x20e)](_0x2a56fd=>{const _0x4f6756=_0x192dc9;if(_0x2a56fd[_0x4f6756(0x1bd)]!=config[_0x4f6756(0x187)])_0x1cfadc['push'](noslash(_0x2a56fd[_0x4f6756(0x15b)]));});if(!_0x1cfadc[_0x192dc9(0x115)](stablecoins['eur'][_0x192dc9(0x1bd)]))_0x1cfadc[_0x192dc9(0x11f)](stablecoins[_0x192dc9(0x1bf)][_0x192dc9(0x1bd)]);if(!_0x1cfadc[_0x192dc9(0x115)](stablecoins['usd']['coin']))_0x1cfadc[_0x192dc9(0x11f)](stablecoins['usd'][_0x192dc9(0x1bd)]);if(!_0x1cfadc['includes'](_0x192dc9(0x21a)+config[_0x192dc9(0x187)]))_0x1cfadc[_0x192dc9(0x11f)]('BNB'+config[_0x192dc9(0x187)]);try{_0x1cfadc[_0x192dc9(0x20e)]((_0x1d8c2e,_0x2e15a6)=>{const _0x218709=_0x192dc9;ws1[_0x2e15a6]=wsClient[_0x218709(0x184)](_0x1d8c2e,'1m');}),ws2=wsClient[_0x192dc9(0x11d)](),wsClient['on']('formattedMessage',_0x32f49a=>{const _0x340729=_0x192dc9;if(!Array[_0x340729(0x21c)](_0x32f49a)&&!_0x32f49a['wsKey'][_0x340729(0x115)](_0x340729(0x168))){if(_0x32f49a[_0x340729(0x1f9)]===_0x340729(0x182)){global['ticker'][_0x32f49a[_0x340729(0x182)][_0x340729(0x15b)]]=_0x32f49a[_0x340729(0x182)][_0x340729(0x1ee)];return;}}else{if(!Array['isArray'](_0x32f49a)&&_0x32f49a['wsKey'][_0x340729(0x115)](_0x340729(0x168))){if(_0x32f49a[_0x340729(0x1cc)]['includes']('spot')){updateNumberCoins(_0x32f49a);return;}}}}),wsClient['on'](_0x192dc9(0x223),async _0x29397b=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x39fa40){await handleError(_0x39fa40,'initws()');}let _0x265ff1,_0xb15e3e=0x0;loading['remainingSymbols']=[];let _0x1e7f91=0x0;currentCoins[_0x192dc9(0x20e)](_0x52ee61=>{const _0x26c3a0=_0x192dc9;if(_0x52ee61['coin']!=config[_0x26c3a0(0x187)])loading[_0x26c3a0(0x16a)][_0x26c3a0(0x11f)](_0x52ee61[_0x26c3a0(0x15b)]);}),loadingCanceled=![];while(_0x265ff1!=currentCoins[_0x192dc9(0x13b)]-0x1){_0x265ff1=0x0,currentCoins[_0x192dc9(0x20e)](_0x38d535=>{const _0xab97d5=_0x192dc9;_0x38d535[_0xab97d5(0x1bd)]!=config[_0xab97d5(0x187)]&&global[_0xab97d5(0x160)][noslash(_0x38d535[_0xab97d5(0x15b)])]&&(loading[_0xab97d5(0x16a)]=loading[_0xab97d5(0x16a)][_0xab97d5(0x1b1)](_0x33fc27=>_0x33fc27!=_0x38d535[_0xab97d5(0x15b)]),_0x265ff1++);}),loading['progress']=Math['round'](_0x265ff1/(currentCoins[_0x192dc9(0x13b)]-0x1)*0x64);_0x1e7f91>0x1e*0x5&&(loading[_0x192dc9(0x1c1)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x192dc9(0x1a6)]=!![],emitLoadingProgress();break;}else _0x265ff1!=_0xb15e3e&&(_0xb15e3e=_0x265ff1,emitLoadingProgress()),_0x1e7f91++,await sleep(0xc8);}if(_0x265ff1==currentCoins[_0x192dc9(0x13b)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0xebe5f1=_0x3f964d;proxyEmit(_0xebe5f1(0x1ec),loading);}async function getFiat(){const _0x50d20e=_0x3f964d;let _0x41bc3e=0x0,_0x4dfd77=0x0;try{_0x41bc3e=global['ticker'][stablecoins[_0x50d20e(0x1bf)][_0x50d20e(0x1bd)]],_0x4dfd77=global[_0x50d20e(0x160)][stablecoins[_0x50d20e(0x13f)][_0x50d20e(0x1bd)]];}catch(_0x5627fa){await handleError(_0x5627fa,_0x50d20e(0x1d0));}return{'eur':Number(_0x41bc3e),'usd':Number(_0x4dfd77)};}function setStartDatePerformance(){const _0x5ad454=_0x3f964d;if(config&&config[_0x5ad454(0x1ed)][0x0][_0x5ad454(0x204)]['length']!=0x0){const _0x1b08c8=config[_0x5ad454(0x1ed)][0x0]['changes'];dbPerformance[_0x5ad454(0x120)]('data')[_0x5ad454(0x22b)]({'date':config[_0x5ad454(0x127)]})[_0x5ad454(0x20a)]({'coins':_0x1b08c8})[_0x5ad454(0x13a)]();}}async function recreateHistory(_0x55aa37){const _0x3db2d6=_0x3f964d;let _0x4f9468,_0x1f4ca7=[];logHistory(_0x3db2d6(0x16d),_0x3db2d6(0x1eb)),_0x55aa37[_0x3db2d6(0x15f)][_0x3db2d6(0x20e)](_0x17f401=>{const _0x7d79b9=_0x3db2d6;if(_0x17f401['coin']!=config[_0x7d79b9(0x187)]&&!_0x17f401[_0x7d79b9(0x1c7)])_0x1f4ca7[_0x7d79b9(0x11f)]({'coin':_0x17f401[_0x7d79b9(0x1bd)],'symbol':_0x17f401[_0x7d79b9(0x15b)]});});let _0x51f7a8=[];try{const _0x4d2818=fns[_0x3db2d6(0x179)](fns[_0x3db2d6(0x142)](_0x55aa37[_0x3db2d6(0x127)][_0x3db2d6(0x14f)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x4c46aa of _0x1f4ca7){if(_0x4c46aa[_0x3db2d6(0x1bd)]!=config[_0x3db2d6(0x187)])_0x4f9468=await exchange['fetchOrders'](_0x4c46aa['symbol'],Date[_0x3db2d6(0x1ef)](_0x4d2818));_0x4f9468[_0x3db2d6(0x20e)](_0x2d7c95=>{const _0x2b8fa1=_0x3db2d6,_0x46235c=_0x4c46aa['symbol'][_0x2b8fa1(0x115)](config[_0x2b8fa1(0x187)]+'/'),_0x1e8c57=fns['format'](fns[_0x2b8fa1(0x142)](_0x2d7c95[_0x2b8fa1(0x1af)]),_0x2b8fa1(0x145)),_0x324956=fns['format'](fns[_0x2b8fa1(0x142)](_0x2d7c95['datetime']),_0x2b8fa1(0x192));let _0x7889ba;if(_0x2d7c95[_0x2b8fa1(0x195)]==_0x2b8fa1(0x123)&&_0x46235c==![])_0x7889ba=_0x2d7c95[_0x2b8fa1(0x213)];if(_0x2d7c95['side']==_0x2b8fa1(0x123)&&_0x46235c==!![])_0x7889ba=-_0x2d7c95[_0x2b8fa1(0x213)]*_0x2d7c95[_0x2b8fa1(0x1d1)];if(_0x2d7c95[_0x2b8fa1(0x195)]=='sell'&&_0x46235c==![])_0x7889ba=-_0x2d7c95[_0x2b8fa1(0x213)];if(_0x2d7c95[_0x2b8fa1(0x195)]=='sell'&&_0x46235c==!![])_0x7889ba=_0x2d7c95['amount']*_0x2d7c95[_0x2b8fa1(0x1d1)];_0x51f7a8[_0x2b8fa1(0x11f)]({'timestamp':_0x1e8c57,'date':_0x324956,'coin':_0x4c46aa[_0x2b8fa1(0x1bd)],'symbol':_0x4c46aa[_0x2b8fa1(0x15b)],'type':_0x2d7c95[_0x2b8fa1(0x21f)],'side':_0x2d7c95[_0x2b8fa1(0x195)],'reverse':_0x46235c,'amount':formatResult(_0x2d7c95[_0x2b8fa1(0x150)],0x8),'filled':formatResult(_0x2d7c95['filled'],0x8),'coinamount':formatResult(_0x7889ba,0x8),'price':formatResult(_0x2d7c95[_0x2b8fa1(0x1d1)],0x8)});let _0x58e1b9;if(_0x2d7c95[_0x2b8fa1(0x195)]==_0x2b8fa1(0x123)&&_0x46235c==![])_0x58e1b9=-_0x2d7c95[_0x2b8fa1(0x213)]*_0x2d7c95[_0x2b8fa1(0x1d1)];if(_0x2d7c95[_0x2b8fa1(0x195)]=='buy'&&_0x46235c==!![])_0x58e1b9=_0x2d7c95['amount'];if(_0x2d7c95[_0x2b8fa1(0x195)]==_0x2b8fa1(0x128)&&_0x46235c==![])_0x58e1b9=_0x2d7c95[_0x2b8fa1(0x213)]*_0x2d7c95[_0x2b8fa1(0x1d1)];if(_0x2d7c95[_0x2b8fa1(0x195)]==_0x2b8fa1(0x128)&&_0x46235c==!![])_0x58e1b9=-_0x2d7c95[_0x2b8fa1(0x213)];_0x51f7a8['push']({'date':_0x324956,'coin':config[_0x2b8fa1(0x187)],'coinamount':formatResult(_0x58e1b9,0x8)});});}_0x51f7a8[_0x3db2d6(0x197)]((_0x28a532,_0x12eb39)=>_0x28a532[_0x3db2d6(0x16e)]>_0x12eb39[_0x3db2d6(0x16e)]?0x1:_0x12eb39[_0x3db2d6(0x16e)]>_0x28a532[_0x3db2d6(0x16e)]?-0x1:0x0),dbLogs[_0x3db2d6(0x120)](_0x3db2d6(0x167))[_0x3db2d6(0x1d9)]()[_0x3db2d6(0x13a)](),_0x51f7a8[_0x3db2d6(0x20e)](_0x3b66c1=>{const _0x15f474=_0x3db2d6;let _0x312cc0;_0x3b66c1[_0x15f474(0x1bd)]!=config[_0x15f474(0x187)]&&(_0x312cc0={'time':_0x3b66c1[_0x15f474(0x16e)],'type':'order','event':_0x15f474(0x1ad)+_0x3b66c1['symbol']+'\x20'+_0x3b66c1[_0x15f474(0x195)]+'\x20#'+_0x3b66c1['amount']+'\x20@'+_0x3b66c1[_0x15f474(0x1d1)]},dbLogs['get'](_0x15f474(0x167))[_0x15f474(0x11f)](_0x312cc0)[_0x15f474(0x13a)]());});const _0x267f57=fns[_0x3db2d6(0x141)]({'start':new Date(_0x55aa37[_0x3db2d6(0x127)]),'end':new Date()})['map'](_0x56bbb6=>fns[_0x3db2d6(0x179)](_0x56bbb6,_0x3db2d6(0x192)));let _0x2321cd=[];_0x55aa37['portfolio'][_0x3db2d6(0x20e)](_0x8e4ec=>{const _0x222300=_0x3db2d6;if(!_0x8e4ec[_0x222300(0x1c7)]){_0x2321cd[_0x8e4ec[_0x222300(0x1bd)]]=[];let _0x3d15b7=_0x8e4ec[_0x222300(0x18e)];_0x267f57[_0x222300(0x20e)]((_0x28374f,_0x11ddb0)=>{const _0x1348a7=_0x222300;let _0x52f6c5=_0x51f7a8[_0x1348a7(0x1b1)](_0x5698a8=>_0x5698a8[_0x1348a7(0x1bd)]==_0x8e4ec[_0x1348a7(0x1bd)]&&_0x5698a8[_0x1348a7(0x20b)]==_0x28374f);if(_0x52f6c5[_0x1348a7(0x13b)]!=0x0){let _0x1833b4=_0x52f6c5['reduce']((_0xc09285,_0x4fa7a7)=>{return _0xc09285+=_0x4fa7a7['coinamount'],_0xc09285;},0x0);_0x3d15b7+=_0x1833b4;}_0x2321cd[_0x8e4ec[_0x1348a7(0x1bd)]][_0x28374f]=_0x3d15b7;});}});const _0x5ba2ba=[..._0x1f4ca7];_0x5ba2ba[_0x3db2d6(0x11f)]({'coin':stablecoins[_0x3db2d6(0x1bf)]['coin'],'symbol':stablecoins[_0x3db2d6(0x1bf)]['symbol']}),_0x5ba2ba[_0x3db2d6(0x11f)]({'coin':stablecoins['usd'][_0x3db2d6(0x1bd)],'symbol':stablecoins[_0x3db2d6(0x13f)][_0x3db2d6(0x15b)]});let _0x257696=[];for(const _0x33c2ba of _0x5ba2ba){_0x257696[_0x33c2ba['coin']]=await getCloses(_0x33c2ba[_0x3db2d6(0x15b)],new Date(_0x55aa37['startdate']));}dbPerformance[_0x3db2d6(0x120)](_0x3db2d6(0x18b))['remove']()[_0x3db2d6(0x13a)](),_0x267f57[_0x3db2d6(0x20e)]((_0x5c39ad,_0xa09883)=>{const _0x7302eb=_0x3db2d6;let _0x339e0e,_0x43b7a7=[];_0xa09883==0x0?(_0x55aa37[_0x7302eb(0x15f)]['forEach'](_0x27bc5e=>{const _0x24a8ae=_0x7302eb;!_0x27bc5e[_0x24a8ae(0x1c7)]&&_0x43b7a7[_0x24a8ae(0x11f)]({'coin':_0x27bc5e[_0x24a8ae(0x1bd)],'number':_0x27bc5e[_0x24a8ae(0x18e)],'price':_0x27bc5e[_0x24a8ae(0x1c3)]});}),_0x339e0e={'date':_0x5c39ad,'eur':_0x257696[stablecoins['eur'][_0x7302eb(0x1bd)]][_0xa09883],'usd':_0x257696[stablecoins[_0x7302eb(0x13f)]['coin']][_0xa09883],'coins':_0x43b7a7}):(_0x55aa37[_0x7302eb(0x15f)][_0x7302eb(0x20e)](_0x564e7f=>{const _0x4193a4=_0x7302eb;!_0x564e7f[_0x4193a4(0x1c7)]&&_0x43b7a7[_0x4193a4(0x11f)]({'coin':_0x564e7f[_0x4193a4(0x1bd)],'number':_0x2321cd[_0x564e7f['coin']][_0x5c39ad],'price':_0x564e7f[_0x4193a4(0x1bd)]==config[_0x4193a4(0x187)]?0x1:_0x257696[_0x564e7f[_0x4193a4(0x1bd)]][_0xa09883]});}),_0x339e0e={'date':_0x5c39ad,'eur':_0x257696[stablecoins[_0x7302eb(0x1bf)][_0x7302eb(0x1bd)]][_0xa09883],'usd':_0x257696[stablecoins[_0x7302eb(0x13f)][_0x7302eb(0x1bd)]][_0xa09883],'coins':_0x43b7a7}),dbPerformance[_0x7302eb(0x120)]('data')[_0x7302eb(0x11f)](_0x339e0e)[_0x7302eb(0x13a)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x44d089 of _0x51f7a8){_0x44d089['coin']!=config[_0x3db2d6(0x187)]&&await updateCoinResults(_0x44d089);}logHistory(_0x3db2d6(0x16d),'Performance\x20recreation\x20completed\x20successfully');}catch(_0x24a0bd){await handleError(_0x24a0bd,_0x3db2d6(0x175));}}async function getCloses(_0x2c16d8,_0x2c14ce,_0x14f6b6=undefined){const _0x2de662=_0x3f964d,_0x500904='1d';let _0x502482,_0x11db18;const _0x48ef1c=fns['differenceInCalendarDays'](new Date(),_0x2c14ce)+0x1;try{const _0x5ee213=exchange[_0x2de662(0x1bc)]()-_0x48ef1c*0x18*0xe10*0x3e8;_0x502482=await exchange[_0x2de662(0x152)](_0x2c16d8,_0x500904,_0x5ee213,_0x14f6b6),_0x11db18=await exchange[_0x2de662(0x12d)](_0x2c16d8);}catch(_0x16f90f){await handleError(_0x16f90f,_0x2de662(0x137));}let _0x369457=ohlcvToCloses(_0x502482);return _0x369457[_0x2de662(0x11f)](_0x11db18[_0x2c16d8][_0x2de662(0x1ff)]),_0x369457;}function ohlcvToCloses(_0x574bae){let _0x10c180=[];return _0x574bae['forEach'](function(_0x1422d9){const _0x51f444=_0x3350;_0x10c180[_0x51f444(0x11f)](_0x1422d9[0x4]);}),_0x10c180;}function oneTimeMigration(){const _0x37e1eb=_0x3f964d;let _0x35c749=dbLogs[_0x37e1eb(0x120)](_0x37e1eb(0x208))[_0x37e1eb(0x1f6)]();if(_0x35c749!=_0x37e1eb(0x162)){dbLogs[_0x37e1eb(0x205)](_0x37e1eb(0x208),_0x37e1eb(0x162))[_0x37e1eb(0x13a)]();let _0x1436a8=[];const _0x139bba=dbLogs['get'](_0x37e1eb(0x167))[_0x37e1eb(0x1f6)]();_0x139bba[_0x37e1eb(0x20e)](_0x4d8232=>{const _0x17618e=_0x37e1eb;_0x1436a8[_0x17618e(0x11f)]({'time':_0x4d8232[_0x17618e(0x19d)],'type':_0x4d8232[_0x17618e(0x21f)],'event':_0x4d8232['event']});}),dbLogs[_0x37e1eb(0x120)](_0x37e1eb(0x167))[_0x37e1eb(0x20a)](_0x1436a8)[_0x37e1eb(0x13a)]();}let _0x51b299=dbConfig[_0x37e1eb(0x120)](_0x37e1eb(0x208))[_0x37e1eb(0x1f6)]();if(_0x51b299!=_0x37e1eb(0x162)){dbConfig[_0x37e1eb(0x205)]('version',_0x37e1eb(0x162))[_0x37e1eb(0x13a)]();let _0x4afd9f=dbConfig[_0x37e1eb(0x120)](_0x37e1eb(0x1aa))['find']({'botID':botID})['value']();if(_0x4afd9f){let _0x4a978c=[];_0x4afd9f[_0x37e1eb(0x15f)][_0x37e1eb(0x20e)](_0x2bf984=>{const _0x361441=_0x37e1eb;_0x4a978c[_0x361441(0x11f)]({'coin':_0x2bf984[_0x361441(0x1bd)],'number':_0x2bf984[_0x361441(0x18e)],'price':_0x2bf984[_0x361441(0x1c3)]}),delete _0x2bf984['startnumber'],delete _0x2bf984['startprice'];});if(_0x4a978c['length']!==0x0)fs['writeFile'](configbackuppath+(_0x37e1eb(0x185)+botID+'.json'),JSON['stringify'](_0x4a978c,null,0x4),function(_0x34d34f){if(_0x34d34f){}});const _0x217aab=(_0x1658ef,_0x5ea90b)=>{const _0x25f292=_0x37e1eb;let _0xb4bedc=[];_0x5ea90b[_0x25f292(0x20e)](_0x57260f=>{const _0x137545=_0x25f292,_0x53f5b2=_0x1658ef[_0x137545(0x22b)](_0x41208c=>_0x41208c[_0x137545(0x1bd)]==_0x57260f[_0x137545(0x1bd)]);if(!_0x53f5b2)_0xb4bedc[_0x137545(0x11f)](_0x57260f);});let _0x531fe7=[];return _0x1658ef[_0x25f292(0x20e)](_0x5e036c=>{const _0x5c8318=_0x25f292,_0x5ed083=_0x5ea90b['find'](_0x227d81=>_0x227d81[_0x5c8318(0x1bd)]==_0x5e036c[_0x5c8318(0x1bd)]);if(!_0x5ed083||_0x5ed083[_0x5c8318(0x1a7)]==0x0&&_0x5e036c[_0x5c8318(0x1a7)]!=0x0)_0x531fe7['push'](_0x5e036c);}),{'missingDay1':_0xb4bedc,'notInDay2':_0x531fe7};},_0xdf91dd=dbPerformance['get']('data')['cloneDeep']()[_0x37e1eb(0x1f6)]();if(_0xdf91dd[_0x37e1eb(0x13b)]>0x1){const {missingDay1:_0x7f46c4,notInDay2:_0x535d96}=_0x217aab(_0x4a978c,_0xdf91dd[0x1][_0x37e1eb(0x17f)]);_0x4a978c=[..._0x4a978c,..._0x7f46c4],_0x535d96[_0x37e1eb(0x20e)](_0x314ec3=>{const _0x4b55f8=_0x37e1eb;let _0x5881a4=_0x4a978c[_0x4b55f8(0x166)](_0xfa7c25=>_0xfa7c25[_0x4b55f8(0x1bd)]==_0x314ec3[_0x4b55f8(0x1bd)]);_0x5881a4!=-0x1&&_0x4a978c[_0x4b55f8(0x147)](_0x5881a4,0x1);});}_0x4a978c[_0x37e1eb(0x197)]((_0x40809c,_0xe4564f)=>_0x40809c[_0x37e1eb(0x1bd)]>_0xe4564f[_0x37e1eb(0x1bd)]?0x1:_0xe4564f[_0x37e1eb(0x1bd)]>_0x40809c[_0x37e1eb(0x1bd)]?-0x1:0x0);let _0x144c4=[{'date':_0x4afd9f['startdate'],'changes':_0x4a978c}];_0xdf91dd[_0x37e1eb(0x13b)]>0x2&&_0xdf91dd[_0x37e1eb(0x20e)]((_0x5a8148,_0x868c4)=>{const _0xf47cea=_0x37e1eb;if(_0x868c4>0x0&&_0x868c4<_0xdf91dd[_0xf47cea(0x13b)]-0x1){const {missingDay1:_0x260a05,notInDay2:_0x4ee7cf}=_0x217aab(_0xdf91dd[_0x868c4][_0xf47cea(0x17f)],_0xdf91dd[_0x868c4+0x1]['coins']);_0x4a978c=[],(_0x260a05[_0xf47cea(0x13b)]!=0x0||_0x4ee7cf[_0xf47cea(0x13b)]!=0x0)&&(_0x260a05[_0xf47cea(0x13b)]!=0x0&&_0x4a978c[_0xf47cea(0x11f)](..._0x260a05),_0x4ee7cf[_0xf47cea(0x13b)]!=0x0&&(_0x4ee7cf[_0xf47cea(0x20e)](_0x1cb1c1=>{const _0x1244cd=_0xf47cea;_0x1cb1c1[_0x1244cd(0x1a7)]=-_0x1cb1c1[_0x1244cd(0x1a7)];}),_0x4a978c[_0xf47cea(0x11f)](..._0x4ee7cf)),_0x4a978c[_0xf47cea(0x197)]((_0x5b7e34,_0x1e6b81)=>_0x5b7e34[_0xf47cea(0x1bd)]>_0x1e6b81[_0xf47cea(0x1bd)]?0x1:_0x1e6b81[_0xf47cea(0x1bd)]>_0x5b7e34['coin']?-0x1:0x0),_0x144c4[_0xf47cea(0x11f)]({'date':_0xdf91dd[_0x868c4+0x1]['date'],'changes':_0x4a978c}));}}),dbConfig[_0x37e1eb(0x120)](_0x37e1eb(0x1aa))['find']({'botID':botID})[_0x37e1eb(0x20a)]({..._0x4afd9f,'liquidity':_0x144c4})[_0x37e1eb(0x13a)]();}}config=getConfiguration(botID);let _0x6a2281=dbPerformance[_0x37e1eb(0x120)](_0x37e1eb(0x208))[_0x37e1eb(0x1f6)]();_0x6a2281!=_0x37e1eb(0x162)&&(dbPerformance[_0x37e1eb(0x205)](_0x37e1eb(0x208),'2.3.5')[_0x37e1eb(0x13a)](),setStartDatePerformance());let _0x23ab01=dbCoinResults[_0x37e1eb(0x120)](_0x37e1eb(0x208))[_0x37e1eb(0x1f6)]();_0x23ab01!=_0x37e1eb(0x162)&&dbCoinResults[_0x37e1eb(0x205)](_0x37e1eb(0x208),_0x37e1eb(0x162))[_0x37e1eb(0x13a)]();}function getConfiguration(_0x3a13e0){const _0x4a1720=_0x3f964d;let _0x55a67d=dbConfig[_0x4a1720(0x120)](_0x4a1720(0x1aa))[_0x4a1720(0x22b)]({'botID':_0x3a13e0})['value']();if(_0x55a67d){}else _0x55a67d={'botID':_0x3a13e0,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x3a13e0,'showname':![],'threshold':'3','ordertype':_0x4a1720(0x1e1),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x4a1720(0x1ce)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x55a67d;}function emittedConfiguration(){let _0x3bfc16;return config['apiKey']==''?_0x3bfc16=config:_0x3bfc16={...config,'apiKey':'************','apiSecret':'************'},_0x3bfc16;}function getSettings(){const _0x141d23=_0x3f964d;return dbSettings[_0x141d23(0x120)](_0x141d23(0x146))['value']();}function getSecure(){const _0x39860c=_0x3f964d;return dbSecure['get'](_0x39860c(0x202))['value']()||{};}function updateTimeshift(_0x51689f){const _0xad04d3=_0x3f964d;let _0x2f91f9=dbConfig['get'](_0xad04d3(0x1aa))[_0xad04d3(0x22b)]({'botID':botID})[_0xad04d3(0x1f6)]();_0x2f91f9&&dbConfig['get'](_0xad04d3(0x1aa))['find']({'botID':botID})[_0xad04d3(0x20a)]({'timeshift':_0x51689f})[_0xad04d3(0x13a)](),config[_0xad04d3(0x1ce)]=_0x51689f,proxyEmit(_0xad04d3(0x118),emittedConfiguration());}async function storeConfiguration(_0x32e165){const _0x59b065=_0x3f964d;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0xd83a22=dbConfig[_0x59b065(0x120)](_0x59b065(0x1aa))[_0x59b065(0x22b)]({'botID':botID})[_0x59b065(0x1f6)]();_0x32e165={..._0x32e165,'apiKey':crypt[_0x59b065(0x1ba)](secure[_0x59b065(0x1de)],_0x32e165[_0x59b065(0x11e)])[_0x59b065(0x19b)],'apiSecret':crypt[_0x59b065(0x1ba)](secure[_0x59b065(0x1de)],_0x32e165[_0x59b065(0x227)])[_0x59b065(0x19b)]};if(_0xd83a22){if(_0x32e165['apiKey']==_0x59b065(0x1db))_0x32e165['apiKey']=config[_0x59b065(0x11e)];if(_0x32e165[_0x59b065(0x227)]==_0x59b065(0x1db))_0x32e165[_0x59b065(0x227)]=config['apiSecret'];dbConfig[_0x59b065(0x120)]('bot')[_0x59b065(0x22b)]({'botID':botID})['assign'](_0x32e165)['write']();}else dbConfig[_0x59b065(0x120)](_0x59b065(0x1aa))[_0x59b065(0x11f)](_0x32e165)[_0x59b065(0x13a)](),process['send']({'status':'enabled','live':'running'},_0x4c3c1f=>{});config={..._0x32e165},setStartDatePerformance(),process[_0x59b065(0x12c)]({'botname':_0x32e165[_0x59b065(0x1e3)]},_0x5d7f5b=>{});const _0x2723a8=getNormalizedPerformance();getStartingBalances(_0x2723a8),emitPerformance(_0x2723a8),proxyEmit(_0x59b065(0x116)),reset();}async function storeHeadless(_0x45ef30){const _0x3d13e1=_0x3f964d,_0x15d2e9={...config,'headless':_0x45ef30[_0x3d13e1(0x1b3)]};let _0x2445f8=dbConfig[_0x3d13e1(0x120)](_0x3d13e1(0x1aa))[_0x3d13e1(0x22b)]({'botID':botID})[_0x3d13e1(0x1f6)]();_0x2445f8&&dbConfig['get'](_0x3d13e1(0x1aa))[_0x3d13e1(0x22b)]({'botID':botID})[_0x3d13e1(0x20a)](_0x15d2e9)[_0x3d13e1(0x13a)](),config={..._0x15d2e9},proxyEmit(_0x3d13e1(0x118),emittedConfiguration());}function noslash(_0x27d4c7){const _0xbc9ff7=_0x3f964d;return _0x27d4c7[_0xbc9ff7(0x14f)]('/','');}function updateNumberCoins(_0x44352c){const _0x4be645=_0x3f964d;_0x44352c['eventType']&&_0x44352c[_0x4be645(0x1f9)]==_0x4be645(0x17e)&&_0x44352c['balances'][_0x4be645(0x20e)](_0x1e5957=>{const _0x4b1113=_0x4be645;let _0x3ca7d6=currentCoins['find'](_0x5eac51=>_0x5eac51['coin']==_0x1e5957['asset']),_0x265fca=config[_0x4b1113(0x15f)]['find'](_0x353e07=>_0x353e07['coin']==_0x1e5957[_0x4b1113(0x217)]);if(_0x3ca7d6&&_0x265fca)_0x3ca7d6[_0x4b1113(0x1a7)]=Math['max'](Number(_0x1e5957[_0x4b1113(0x189)])+(_0x265fca[_0x4b1113(0x156)]||0x0),0x0);});if(_0x44352c['eventType']&&_0x44352c[_0x4be645(0x1f9)]==_0x4be645(0x139)){if(_0x44352c['orderType']==_0x4be645(0x201)&&_0x44352c[_0x4be645(0x13d)]==_0x4be645(0x17d)){if(lastOrders)lastOrders['forEach'](_0x432d51=>{const _0x4fac0a=_0x4be645;if(_0x432d51[_0x4fac0a(0x19f)]==_0x44352c[_0x4fac0a(0x19f)]){if(_0x432d51['reverse'])_0x432d51['filled']=_0x44352c[_0x4fac0a(0x13e)]*_0x432d51[_0x4fac0a(0x1d1)];else _0x432d51[_0x4fac0a(0x150)]=_0x44352c['accumulatedQuantity'];}});}}}async function getCoins(_0x21c51d=!![],_0x3f5246=config[_0x3f964d(0x187)]){const _0x1b09aa=_0x3f964d;let _0x188547,_0x1ade09=[],_0x1b79b9=[],_0x340335=[];try{_0x188547=await exchange[_0x1b09aa(0x12b)](),mybalances=_0x188547[_0x1b09aa(0x178)];if(!_0x21c51d)for(const [_0xa6c767,_0x300aeb]of Object[_0x1b09aa(0x144)](mybalances)){_0x340335['push'](_0xa6c767);}else config[_0x1b09aa(0x15f)][_0x1b09aa(0x20e)](_0x5a7055=>{const _0x2d8073=_0x1b09aa;if(!_0x5a7055[_0x2d8073(0x1c7)])_0x340335[_0x2d8073(0x11f)](_0x5a7055[_0x2d8073(0x1bd)]);});if(_0x3f5246=='')for(const [_0x2cfa52,_0x454b21]of Object['entries'](mybalances)){_0x454b21[_0x1b09aa(0x1fc)]()!=0x0&&_0x1b79b9[_0x1b09aa(0x11f)]({'coin':_0x2cfa52});}else for(const [_0x36b7ad,_0x583b60]of Object[_0x1b09aa(0x144)](mybalances)){if(_0x340335[_0x1b09aa(0x115)](_0x36b7ad)){const _0x3257c7=config[_0x1b09aa(0x15f)][_0x1b09aa(0x22b)](_0xe60426=>_0xe60426[_0x1b09aa(0x1bd)]==_0x36b7ad);if((_0x583b60[_0x1b09aa(0x1fc)]()!=0x0||_0x3257c7)&&(allSymbols['includes'](_0x36b7ad+'/'+_0x3f5246)||_0x36b7ad==_0x3f5246))_0x1b79b9[_0x1b09aa(0x11f)]({'coin':_0x36b7ad,'symbol':_0x36b7ad+'/'+_0x3f5246,'reverse':![],'number':Math[_0x1b09aa(0x157)](_0x583b60+(_0x3257c7&&_0x3257c7['offset']||0x0),0x0)}),_0x36b7ad!=_0x3f5246&&_0x1ade09[_0x1b09aa(0x11f)](_0x36b7ad+'/'+_0x3f5246);else(_0x583b60[_0x1b09aa(0x1fc)]()!=0x0||_0x3257c7)&&allSymbols[_0x1b09aa(0x115)](_0x3f5246+'/'+_0x36b7ad)&&(_0x1b79b9[_0x1b09aa(0x11f)]({'coin':_0x36b7ad,'symbol':_0x3f5246+'/'+_0x36b7ad,'reverse':!![],'number':Math['max'](_0x583b60+(_0x3257c7&&_0x3257c7[_0x1b09aa(0x156)]||0x0),0x0)}),_0x36b7ad!=_0x3f5246&&_0x1ade09[_0x1b09aa(0x11f)](_0x3f5246+'/'+_0x36b7ad));}}}catch(_0x30dd33){if(!_0x21c51d){if(_0x30dd33[_0x1b09aa(0x1fc)]()[_0x1b09aa(0x115)](_0x1b09aa(0x1c2)))return logHistory(_0x1b09aa(0x1fe),_0x1b09aa(0x1b2)),![];else{if(_0x30dd33[_0x1b09aa(0x1fc)]()[_0x1b09aa(0x115)]('AuthenticationError'))return logHistory(_0x1b09aa(0x1fe),_0x1b09aa(0x1a1)),![];else{if(_0x30dd33['toString']()[_0x1b09aa(0x115)](_0x1b09aa(0x18a)))return logHistory(_0x1b09aa(0x1fe),_0x1b09aa(0x1d4)),![];else await handleError(_0x30dd33,_0x1b09aa(0x171));}}}else await handleError(_0x30dd33,_0x1b09aa(0x171));}return _0x1b79b9;}async function getPortfolio(_0x11f427){const _0x25958d=_0x3f964d;let _0x196ae6=[],_0x1f9524=[],_0x49bc51,_0x52d386=[],_0x437885,_0x5875d8;_0x11f427[_0x25958d(0x11e)]==='************'||_0x11f427['apiSecret']==='************'?(_0x437885=config[_0x25958d(0x11e)],_0x5875d8=config[_0x25958d(0x227)]):(_0x437885=_0x11f427[_0x25958d(0x11e)],_0x5875d8=_0x11f427[_0x25958d(0x227)]);await initExchange(_0x437885,_0x5875d8);let _0x57a200=await loadSymbols();if(_0x57a200){_0x52d386=await getCoins(![],_0x11f427[_0x25958d(0x187)]);if(_0x52d386===![])proxyEmit(_0x25958d(0x15f),![]);else{if(_0x11f427[_0x25958d(0x187)]=='')proxyEmit(_0x25958d(0x15f),_0x52d386);else{_0x52d386[_0x25958d(0x20e)](_0x11cac6=>{const _0x44f45e=_0x25958d;_0x196ae6[_0x44f45e(0x11f)](_0x11cac6['symbol']);});try{_0x1f9524=await exchange['fetchTickers'](_0x196ae6);}catch(_0xb603ee){await handleError(_0xb603ee,_0x25958d(0x1e4));}_0x52d386['forEach'](_0x51e9d8=>{const _0x14960e=_0x25958d;_0x51e9d8[_0x14960e(0x1bd)]!=_0x11f427[_0x14960e(0x187)]?_0x49bc51=_0x51e9d8[_0x14960e(0x12a)]?0x1/_0x1f9524[_0x51e9d8['symbol']]['last']:_0x1f9524[_0x51e9d8['symbol']][_0x14960e(0x1ff)]:_0x49bc51=0x1,_0x51e9d8[_0x14960e(0x1d1)]=formatResult(_0x49bc51,0x8);}),proxyEmit(_0x25958d(0x15f),_0x52d386);}}}else proxyEmit(_0x25958d(0x15f),![]);}function _0x3350(_0x543f76,_0x2192a1){const _0x5c7d72=_0x3a23();return _0x3350=function(_0x3fb288,_0x4c42c5){_0x3fb288=_0x3fb288-0x115;let _0x3a2341=_0x5c7d72[_0x3fb288];return _0x3a2341;},_0x3350(_0x543f76,_0x2192a1);}function checkMinimums(_0x1cbf58){const _0x574d3a=_0x3f964d;let _0x352483=!![];const _0x17941f=!_0x1cbf58[_0x574d3a(0x12a)]?markets[_0x1cbf58[_0x574d3a(0x15b)]][_0x574d3a(0x19a)][_0x574d3a(0x213)][_0x574d3a(0x165)]:markets[_0x1cbf58[_0x574d3a(0x15b)]][_0x574d3a(0x19a)]['cost'][_0x574d3a(0x165)],_0x5cbbdb=!_0x1cbf58[_0x574d3a(0x12a)]?markets[_0x1cbf58['symbol']]['limits'][_0x574d3a(0x1bb)]['min']:markets[_0x1cbf58[_0x574d3a(0x15b)]][_0x574d3a(0x19a)]['amount'][_0x574d3a(0x165)];if(Math['abs'](_0x1cbf58[_0x574d3a(0x17c)])<_0x17941f)_0x352483=![];if(Math[_0x574d3a(0x1fb)](_0x1cbf58['trade'])*_0x1cbf58[_0x574d3a(0x1ff)]<_0x5cbbdb)_0x352483=![];let _0x1caad3=config[_0x574d3a(0x15f)]['find'](_0x181718=>_0x181718['coin']==_0x1cbf58[_0x574d3a(0x1bd)]);if(Math[_0x574d3a(0x1fb)](_0x1cbf58[_0x574d3a(0x17c)])>_0x1cbf58[_0x574d3a(0x1a7)]-_0x1caad3[_0x574d3a(0x156)])_0x352483=![];return _0x352483;}async function getBalances(){const _0x110b61=_0x3f964d;let _0x6c12ca=0x0,_0x3088b1;const _0x56e871=config[_0x110b61(0x1a9)];currentCoins[_0x110b61(0x20e)](_0x22bae0=>{const _0x34de3c=_0x110b61;if(_0x22bae0[_0x34de3c(0x1bd)]!=config[_0x34de3c(0x187)]){let _0x56263e=global[_0x34de3c(0x160)][noslash(_0x22bae0[_0x34de3c(0x15b)])];_0x3088b1=_0x22bae0[_0x34de3c(0x12a)]?0x1/_0x56263e:_0x56263e;}else _0x3088b1=0x1;let _0x45115c=_0x22bae0[_0x34de3c(0x1a7)]*_0x3088b1;_0x6c12ca+=_0x45115c,_0x22bae0[_0x34de3c(0x1ff)]=formatResult(Number(_0x3088b1),0x8),_0x22bae0['value']=_0x45115c;}),currentCoins[_0x110b61(0x20e)](_0x4a5492=>{const _0xb6e27c=_0x110b61;let _0x4e3762=config[_0xb6e27c(0x15f)][_0xb6e27c(0x22b)](_0x2b2262=>_0x2b2262['coin']==_0x4a5492[_0xb6e27c(0x1bd)]),_0x563f43=Number(_0x4e3762['distribution']),_0x4cb205=_0x4a5492[_0xb6e27c(0x1f6)]/_0x6c12ca*0x64,_0x2210eb=_0x563f43*_0x6c12ca/0x64/_0x4a5492[_0xb6e27c(0x1ff)]-_0x4a5492[_0xb6e27c(0x1a7)];_0x4a5492[_0xb6e27c(0x1d7)]=formatResult(_0x4cb205,0x3),_0x4a5492[_0xb6e27c(0x1ae)]=formatResult(_0x563f43,0x3),_0x4a5492[_0xb6e27c(0x17c)]=formatResult(_0x2210eb,0x8),_0x4a5492[_0xb6e27c(0x195)]='',_0x4a5492[_0xb6e27c(0x218)]='';if(_0x4a5492['coin']!=config[_0xb6e27c(0x187)]){if(_0x4a5492[_0xb6e27c(0x1d7)]>_0x563f43)_0x4a5492[_0xb6e27c(0x195)]=_0xb6e27c(0x128),_0x4a5492['valid']=checkMinimums(_0x4a5492);else _0x4a5492[_0xb6e27c(0x1d7)]<_0x563f43&&(_0x4a5492['side']='buy',_0x4a5492['valid']=checkMinimums(_0x4a5492));}_0x4a5492[_0xb6e27c(0x134)]=_0x4a5492[_0xb6e27c(0x1d7)]/_0x4a5492[_0xb6e27c(0x1ae)]-0x1;}),currentCoins[_0x110b61(0x197)]((_0x3542cb,_0x262fd4)=>_0x3542cb['delta']<_0x262fd4['delta']?0x1:_0x262fd4['delta']<_0x3542cb[_0x110b61(0x134)]?-0x1:0x0);const _0x4ab6fb=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x4ab6fb[_0x110b61(0x1bf)],'usd':_0x4ab6fb[_0x110b61(0x13f)],'portfolio':JSON[_0x110b61(0x188)](currentCoins),'threshold':_0x56e871},proxyEmit(_0x110b61(0x181),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x110b61(0x1b3)])headlessMode({'portfolio':currentCoins,'threshold':_0x56e871});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x56e871});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x6bae1a=_0x3f964d;if(!lastBalances)return;let _0x53e8e2=[],_0x40364f,_0x2ab8ea=JSON[_0x6bae1a(0x1ef)](lastBalances['portfolio']);_0x2ab8ea[_0x6bae1a(0x197)]((_0x355a05,_0x9d7332)=>_0x355a05['coin']>_0x9d7332[_0x6bae1a(0x1bd)]?0x1:_0x9d7332[_0x6bae1a(0x1bd)]>_0x355a05[_0x6bae1a(0x1bd)]?-0x1:0x0),_0x2ab8ea['forEach'](_0x2dfcd4=>{const _0x476c9d=_0x6bae1a;let _0x5bdc07={'coin':_0x2dfcd4[_0x476c9d(0x1bd)],'number':_0x2dfcd4[_0x476c9d(0x1a7)],'price':_0x2dfcd4[_0x476c9d(0x1ff)]};_0x53e8e2[_0x476c9d(0x11f)](_0x5bdc07);});const _0x11b978=await getFiat();_0x40364f={'date':lastBalances[_0x6bae1a(0x19d)][_0x6bae1a(0x124)]('\x20')[0x0],'eur':_0x11b978['eur'],'usd':_0x11b978[_0x6bae1a(0x13f)],'coins':_0x53e8e2};let _0x3a52b7=dbPerformance[_0x6bae1a(0x120)]('data')[_0x6bae1a(0x22b)]({'date':_0x40364f[_0x6bae1a(0x20b)]})[_0x6bae1a(0x1f6)]();_0x3a52b7?_0x40364f['date']!=config[_0x6bae1a(0x127)]&&dbPerformance[_0x6bae1a(0x120)](_0x6bae1a(0x18b))[_0x6bae1a(0x22b)]({'date':_0x40364f[_0x6bae1a(0x20b)]})['assign'](_0x40364f)['write']():dbPerformance[_0x6bae1a(0x120)](_0x6bae1a(0x18b))[_0x6bae1a(0x11f)](_0x40364f)[_0x6bae1a(0x13a)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3f01b3=_0x3f964d;let _0x23f26d=[];if(dbPerformance[_0x3f01b3(0x129)](_0x3f01b3(0x18b))[_0x3f01b3(0x1f6)]()){let _0x10435e=dbPerformance['get'](_0x3f01b3(0x18b))[_0x3f01b3(0x1e8)]()[_0x3f01b3(0x1e9)](_0x3f01b3(0x20b))[_0x3f01b3(0x1f6)](),_0x7ac1d8=[...config[_0x3f01b3(0x1ed)]];_0x7ac1d8[_0x3f01b3(0x197)]((_0x3dbf4b,_0x50d2d5)=>_0x3dbf4b[_0x3f01b3(0x20b)]>_0x50d2d5[_0x3f01b3(0x20b)]?-0x1:_0x50d2d5[_0x3f01b3(0x20b)]>_0x3dbf4b['date']?0x1:0x0);let _0x3ce243=0x1,_0x5ba755=[],_0x5d9294=0x0;_0x10435e[_0x3f01b3(0x225)]()[_0x3f01b3(0x12a)]()['forEach']((_0x26b441,_0x51a8f1)=>{const _0x47df70=_0x3f01b3;if(_0x7ac1d8[_0x5d9294]){const _0x3781d8=fns['parse'](_0x7ac1d8[_0x5d9294][_0x47df70(0x20b)],_0x47df70(0x192),new Date()),_0x4a06b6=fns[_0x47df70(0x1ef)](_0x26b441[_0x47df70(0x20b)],_0x47df70(0x192),new Date());if(fns[_0x47df70(0x190)](_0x3781d8,fns[_0x47df70(0x1e0)](_0x4a06b6,0x1))){if(_0x51a8f1<_0x10435e[_0x47df70(0x13b)]){let _0x433768=0x0,_0x1db965=0x0;_0x10435e[_0x10435e[_0x47df70(0x13b)]-_0x51a8f1-0x1][_0x47df70(0x17f)][_0x47df70(0x20e)](_0x31c975=>{const _0x7bdb3f=_0x47df70;_0x1db965+=_0x31c975[_0x7bdb3f(0x1a7)]*_0x31c975['price'];}),_0x7ac1d8[_0x5d9294]['changes']['forEach'](_0x1b0c5c=>{const _0x1fbd5c=_0x47df70;_0x433768+=_0x1b0c5c[_0x1fbd5c(0x1a7)]*_0x1b0c5c[_0x1fbd5c(0x1d1)];}),_0x3ce243*=_0x433768/_0x1db965+0x1;}_0x5d9294++;}}let _0x45af90=0x0;_0x26b441[_0x47df70(0x17f)][_0x47df70(0x20e)](_0x3c3ed8=>{const _0x3983a3=_0x47df70;_0x45af90+=_0x3c3ed8[_0x3983a3(0x1a7)]*_0x3c3ed8[_0x3983a3(0x1d1)];}),_0x5ba755[_0x10435e['length']-_0x51a8f1-0x1]=_0x45af90*(_0x3ce243-0x1);});let _0x49fb40=[];_0x7ac1d8=[...config[_0x3f01b3(0x1ed)]]||[];let _0x256467=0x0;_0x5d9294=0x0,_0x10435e[_0x3f01b3(0x20e)]((_0x27e5bc,_0x21dc58)=>{const _0x22b2af=_0x3f01b3;if(_0x7ac1d8[_0x5d9294]){const _0x11b9af=fns['parse'](_0x7ac1d8[_0x5d9294]['date'],_0x22b2af(0x192),new Date()),_0x27a1b5=fns[_0x22b2af(0x1ef)](_0x27e5bc[_0x22b2af(0x20b)],_0x22b2af(0x192),new Date()),_0x1c9028=fns[_0x22b2af(0x179)](fns['subDays'](_0x27a1b5,0x1),_0x22b2af(0x192));if(fns[_0x22b2af(0x190)](_0x11b9af,_0x27a1b5)){let _0x5c3cb4=0x0;_0x7ac1d8[_0x5d9294]['changes'][_0x22b2af(0x20e)](_0x57f16a=>{const _0x11e3d2=_0x22b2af;!_0x49fb40[_0x57f16a[_0x11e3d2(0x1bd)]]?_0x49fb40[_0x57f16a[_0x11e3d2(0x1bd)]]=_0x57f16a[_0x11e3d2(0x1a7)]:(_0x5c3cb4=_0x49fb40[_0x57f16a['coin']],_0x49fb40[_0x57f16a[_0x11e3d2(0x1bd)]]+=_0x57f16a[_0x11e3d2(0x1a7)]);const _0x474018=_0x27e5bc[_0x11e3d2(0x17f)]['find'](_0x44d325=>_0x44d325[_0x11e3d2(0x1bd)]==_0x57f16a['coin']);(!_0x474018||_0x474018['number']==0x0)&&(_0x256467+=(-_0x57f16a[_0x11e3d2(0x1a7)]-_0x5c3cb4)*_0x57f16a[_0x11e3d2(0x1d1)]);}),_0x5d9294++;}}_0x27e5bc[_0x22b2af(0x17f)][_0x22b2af(0x20e)]((_0x53eada,_0xf0b4c6)=>{const _0x29e345=_0x22b2af;_0x49fb40[_0x53eada[_0x29e345(0x1bd)]]&&(_0x53eada={..._0x53eada,'initial':_0x49fb40[_0x53eada[_0x29e345(0x1bd)]]}),_0x27e5bc['coins'][_0xf0b4c6]=_0x53eada;}),_0x23f26d[_0x22b2af(0x11f)]({'date':_0x27e5bc[_0x22b2af(0x20b)],'eur':_0x27e5bc['eur'],'usd':_0x27e5bc['usd'],'offset':_0x5ba755[_0x21dc58],'netoffset':_0x256467,'coins':_0x27e5bc[_0x22b2af(0x17f)]});});}return _0x23f26d;}function emitPerformance(_0x59975d){const _0x136f20=_0x3f964d;_0x59975d[_0x136f20(0x13b)]!==0x0?(proxyEmit(_0x136f20(0x143),_0x59975d),lastPerformanceEmitted=getDate()):proxyEmit(_0x136f20(0x143),[]);}function getPerf(_0x144588,_0x3245a3){const _0x5a0f42=_0x3f964d;let _0x3096c9=0x0,_0x50d365=0x0,_0x345d02=0x0;_0x144588[_0x5a0f42(0x17f)][_0x5a0f42(0x20e)](_0x149c18=>{const _0x204602=_0x5a0f42;_0x3096c9+=_0x149c18['number']*_0x149c18[_0x204602(0x1d1)];});_0x3245a3&&(_0x3096c9+=_0x144588['offset']);if(config['basecoin']===_0x5a0f42(0x214))_0x50d365=_0x3096c9*_0x144588['eur'],_0x345d02=_0x3096c9*_0x144588[_0x5a0f42(0x13f)];else{if(config[_0x5a0f42(0x187)]==='BUSD'||config[_0x5a0f42(0x187)]===_0x5a0f42(0x16b)||config[_0x5a0f42(0x187)]===_0x5a0f42(0x19c))_0x50d365=_0x3096c9*_0x144588[_0x5a0f42(0x1bf)]/_0x144588['usd'],_0x345d02=_0x3096c9;else config[_0x5a0f42(0x187)]==='EUR'&&(_0x50d365=_0x3096c9,_0x345d02=_0x3096c9*_0x144588['usd']/_0x144588[_0x5a0f42(0x1bf)]);}return[_0x3096c9,_0x50d365,_0x345d02];}async function getStartingBalances(_0x300e9a,_0x1521e1=!![]){const _0x10d4ee=_0x3f964d;if(_0x300e9a[_0x10d4ee(0x13b)]!==0x0){const [_0x56136f,_0x47b3cc,_0x4e2493]=getPerf(_0x300e9a[0x0],!![]);let _0x3bdb47=[];config[_0x10d4ee(0x15f)][_0x10d4ee(0x20e)](_0x1ffd9a=>{const _0x41ef20=_0x10d4ee;let _0x2e4c83=0x0;config['liquidity']['forEach'](_0x595b0a=>{const _0x215b58=_0x3350;let _0x39b1fa=_0x595b0a['changes'][_0x215b58(0x22b)](_0x430244=>_0x430244['coin']==_0x1ffd9a[_0x215b58(0x1bd)]);if(_0x39b1fa)_0x2e4c83+=_0x39b1fa[_0x215b58(0x1a7)];}),_0x3bdb47[_0x41ef20(0x11f)]({'coin':_0x1ffd9a[_0x41ef20(0x1bd)],'number':_0x2e4c83,'price':_0x1ffd9a['price']});});const _0x4c92c9={'basecoin':_0x56136f,'eur':_0x47b3cc,'usd':_0x4e2493,'coins':_0x3bdb47};if(_0x1521e1)proxyEmit(_0x10d4ee(0x14d),_0x4c92c9);return _0x4c92c9;}}function headlessMode(_0x43c56f){const _0x50a9de=_0x3f964d;let _0x28c390=_0x43c56f[_0x50a9de(0x15f)],_0x286e45=_0x43c56f[_0x50a9de(0x1a9)],_0x266b00=[];for(let _0x3338c5 of _0x28c390){if(_0x3338c5[_0x50a9de(0x1bd)]!=config['basecoin']){if(_0x3338c5[_0x50a9de(0x1d7)]/_0x3338c5[_0x50a9de(0x1ae)]-0x1>=_0x286e45/0x64){if(_0x3338c5[_0x50a9de(0x218)])_0x266b00['push'](_0x3338c5);}else{if(_0x3338c5[_0x50a9de(0x1d7)]/_0x3338c5[_0x50a9de(0x1ae)]-0x1<=-_0x286e45/0x64){if(_0x3338c5[_0x50a9de(0x218)])_0x266b00[_0x50a9de(0x11f)](_0x3338c5);}}}}_0x266b00[_0x50a9de(0x13b)]>0x0&&placeOrder(_0x266b00);}function notifyBalance(_0x5d1d33){const _0x31946f=_0x3f964d;let _0x30e0e2=_0x5d1d33[_0x31946f(0x15f)],_0x30fefb=_0x5d1d33[_0x31946f(0x1a9)],_0x309560=[];for(let _0x55e7b6 of _0x30e0e2){if(_0x55e7b6['coin']!=config['basecoin']){if(_0x55e7b6[_0x31946f(0x1d7)]/_0x55e7b6[_0x31946f(0x1ae)]-0x1>=_0x30fefb/0x64){if(_0x55e7b6['valid'])_0x309560['push'](_0x55e7b6);}else{if(_0x55e7b6[_0x31946f(0x1d7)]/_0x55e7b6[_0x31946f(0x1ae)]-0x1<=-_0x30fefb/0x64){if(_0x55e7b6[_0x31946f(0x218)])_0x309560[_0x31946f(0x11f)](_0x55e7b6);}}}}if(_0x309560[_0x31946f(0x13b)]>0x0){let _0x1d4812=_0x309560[_0x31946f(0x1f2)](_0x182c8e=>_0x182c8e[_0x31946f(0x1bd)]);_0x1d4812['sort']();let _0x50bb58=_0x1d4812[_0x31946f(0x11b)](',\x20');if(lastCoinsToBalance!==_0x50bb58)logHistory(_0x31946f(0x16d),_0x31946f(0x226)+_0x50bb58);lastCoinsToBalance=_0x50bb58;}}function symbolToCoin(_0x37fc12){const _0x102060=_0x3f964d;let _0x48a83c;if(_0x37fc12['includes']('/'+config['basecoin']))_0x48a83c=_0x37fc12[_0x102060(0x14f)]('/'+config[_0x102060(0x187)],'');if(_0x37fc12[_0x102060(0x115)](config[_0x102060(0x187)]+'/'))_0x48a83c=_0x37fc12['replace'](config[_0x102060(0x187)]+'/','');return _0x48a83c;}async function validateOrders(_0x4f297c=0x0){const _0x33a4d7=_0x3f964d;let _0xe928b2=[],_0x1bcf7c=config[_0x33a4d7(0x1fd)]==_0x33a4d7(0x1e1)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x33a4d7(0x1c1)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x33a4d7(0x20e)](_0xe33895=>{const _0x5bb9b8=_0x33a4d7;let _0x4bee95=previousCoins[_0x5bb9b8(0x22b)](_0x2158b5=>_0x2158b5[_0x5bb9b8(0x1bd)]==symbolToCoin(_0xe33895[_0x5bb9b8(0x15b)])),_0xb5c034=currentCoins[_0x5bb9b8(0x22b)](_0x4d2a2d=>_0x4d2a2d[_0x5bb9b8(0x1bd)]==symbolToCoin(_0xe33895[_0x5bb9b8(0x15b)])),_0x1a2a81,_0x4c49bb;_0xe33895['side']==_0x5bb9b8(0x123)&&!_0xe33895[_0x5bb9b8(0x12a)]||_0xe33895['side']==_0x5bb9b8(0x128)&&_0xe33895['reverse']?(_0x1a2a81=_0x4bee95[_0x5bb9b8(0x1a7)]+0.9*_0xe33895[_0x5bb9b8(0x150)],_0x4c49bb=_0x4bee95[_0x5bb9b8(0x1a7)]+1.1*_0xe33895[_0x5bb9b8(0x150)]):(_0x1a2a81=_0x4bee95[_0x5bb9b8(0x1a7)]-1.1*_0xe33895[_0x5bb9b8(0x150)],_0x4c49bb=_0x4bee95['number']-0.9*_0xe33895['filled']);const _0x2fc0a5=_0xe33895['filled']!=0x0&&_0xb5c034[_0x5bb9b8(0x1a7)]>=_0x1a2a81&&_0xb5c034[_0x5bb9b8(0x1a7)]<=_0x4c49bb;_0xe928b2['push'](_0x2fc0a5);if(_0x2fc0a5&&config[_0x5bb9b8(0x1fd)]!='market'){if(_0xe33895[_0x5bb9b8(0x12a)])logHistory('order','Order\x20filled:\x20'+_0xe33895[_0x5bb9b8(0x15b)]+'\x20'+_0xe33895[_0x5bb9b8(0x195)]+'\x20#'+formatResult(_0xe33895['filled']/_0xe33895[_0x5bb9b8(0x1d1)],0x8)+'\x20@'+formatResult(_0xe33895[_0x5bb9b8(0x1d1)],0x8));else logHistory(_0x5bb9b8(0x1a2),_0x5bb9b8(0x1f5)+_0xe33895[_0x5bb9b8(0x15b)]+'\x20'+_0xe33895['side']+'\x20#'+formatResult(_0xe33895[_0x5bb9b8(0x150)],0x8)+'\x20@'+formatResult(_0xe33895['price'],0x8));}}),_0xe928b2[_0x33a4d7(0x20e)]((_0x54bc6c,_0x3ac011)=>{if(_0x54bc6c)lastOrders['splice'](_0x3ac011,0x1);});if(_0x4f297c<_0x1bcf7c&&_0xe928b2[_0x33a4d7(0x115)](![])){if(_0x4f297c==0x0){config[_0x33a4d7(0x1fd)]==_0x33a4d7(0x1e1)?logHistory(_0x33a4d7(0x1fe),_0x33a4d7(0x133)):logHistory(_0x33a4d7(0x1fe),_0x33a4d7(0x1f4));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x4f297c);},0xa*0x3e8);}else{(_0x4f297c==0x1||_0x4f297c==Math[_0x33a4d7(0x209)](_0x1bcf7c/0x2)||_0x4f297c==_0x1bcf7c-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x4f297c);},validateOrderInterval);}}else{lockOrders=![];if(_0x4f297c>0x0&&!_0xe928b2[_0x33a4d7(0x115)](![]))config[_0x33a4d7(0x1fd)]==_0x33a4d7(0x1e1)?logHistory(_0x33a4d7(0x16d),_0x33a4d7(0x186)):logHistory(_0x33a4d7(0x16d),_0x33a4d7(0x1e5));else _0x4f297c>0x0&&_0xe928b2[_0x33a4d7(0x115)](![])&&(config[_0x33a4d7(0x1fd)]==_0x33a4d7(0x1e1)?logHistory(_0x33a4d7(0x16d),_0x33a4d7(0x210)+Math[_0x33a4d7(0x209)](_0x1bcf7c*validateOrderInterval/0xea60)+_0x33a4d7(0x1c0)):(lastOrders['forEach'](async _0x6072a2=>{const _0x529e08=_0x33a4d7;try{const _0x571088=await exchange['cancelOrder'](_0x6072a2[_0x529e08(0x19f)],_0x6072a2[_0x529e08(0x15b)]);}catch(_0x533ef0){if(_0x533ef0[_0x529e08(0x1fc)]()[_0x529e08(0x115)](_0x529e08(0x1d6))){}else await handleError(_0x533ef0,_0x529e08(0x1c4));}}),logHistory(_0x33a4d7(0x16d),_0x33a4d7(0x20c)+Math['round'](_0x1bcf7c*validateOrderInterval/0xea60)+_0x33a4d7(0x1c0))));}}async function resetCoinResults(){const _0x228ec8=_0x3f964d;dbCoinResults[_0x228ec8(0x120)]('coins')[_0x228ec8(0x1d9)]()['write']();let _0x2f96b0=await getStartingBalances(getNormalizedPerformance(),![]);_0x2f96b0[_0x228ec8(0x17f)][_0x228ec8(0x20e)](_0x5a1a4c=>{const _0x20a189=_0x228ec8;if(_0x5a1a4c[_0x20a189(0x1bd)]!=config[_0x20a189(0x187)]){let _0x2348e1={'coin':_0x5a1a4c[_0x20a189(0x1bd)],'number':_0x5a1a4c[_0x20a189(0x1a7)],'breakeven':_0x5a1a4c[_0x20a189(0x1d1)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x20a189(0x120)](_0x20a189(0x17f))[_0x20a189(0x11f)](_0x2348e1)['write']();}});}async function updateCoinResults(_0x11bb5c){const _0x3089b0=_0x3f964d;let _0x33e6ff,_0x4b194a,_0x50f70d,_0x509f70,_0x31cc24,_0x2d242e,_0x51d56a=dbCoinResults[_0x3089b0(0x120)](_0x3089b0(0x17f))[_0x3089b0(0x22b)]({'coin':_0x11bb5c[_0x3089b0(0x1bd)]})[_0x3089b0(0x1f6)]();if(!_0x51d56a)return;if(_0x11bb5c[_0x3089b0(0x1ca)]&&_0x11bb5c[_0x3089b0(0x1ca)][_0x3089b0(0x163)]==config[_0x3089b0(0x187)])_0x33e6ff=_0x11bb5c['fee'][_0x3089b0(0x1bb)];else{if(_0x11bb5c[_0x3089b0(0x1ca)]&&_0x11bb5c['fee'][_0x3089b0(0x163)]==_0x3089b0(0x21a))_0x33e6ff=_0x11bb5c[_0x3089b0(0x1ca)]['cost']*global['ticker'][_0x3089b0(0x21a)+config[_0x3089b0(0x187)]];else _0x33e6ff=0.001*_0x11bb5c['filled'];}const _0xb4598c=_0x11bb5c['symbol'][_0x3089b0(0x115)](config[_0x3089b0(0x187)]+'/');_0xb4598c&&(_0x2d242e={'coin':_0x11bb5c[_0x3089b0(0x1bd)],'symbol':_0x11bb5c[_0x3089b0(0x15b)],'filled':_0x11bb5c[_0x3089b0(0x150)]*_0x11bb5c[_0x3089b0(0x1d1)],'side':_0x11bb5c[_0x3089b0(0x195)]==_0x3089b0(0x128)?_0x3089b0(0x123):'sell','price':0x1/_0x11bb5c[_0x3089b0(0x1d1)]},_0x11bb5c={..._0x2d242e});_0x11bb5c[_0x3089b0(0x195)]==_0x3089b0(0x123)?_0x50f70d=(_0x51d56a[_0x3089b0(0x191)]*_0x51d56a[_0x3089b0(0x1a7)]+_0x11bb5c[_0x3089b0(0x1d1)]*_0x11bb5c[_0x3089b0(0x150)])/(_0x51d56a[_0x3089b0(0x1a7)]+_0x11bb5c[_0x3089b0(0x150)]):_0x50f70d=(_0x51d56a[_0x3089b0(0x191)]*_0x51d56a['number']-_0x11bb5c['price']*_0x11bb5c[_0x3089b0(0x150)])/(_0x51d56a[_0x3089b0(0x1a7)]-_0x11bb5c['filled']);_0x11bb5c[_0x3089b0(0x195)]==_0x3089b0(0x123)?_0x509f70=_0x51d56a[_0x3089b0(0x22a)]:_0x509f70=_0x51d56a[_0x3089b0(0x22a)]+(_0x11bb5c['price']-_0x51d56a[_0x3089b0(0x191)])*_0x11bb5c[_0x3089b0(0x150)];_0x4b194a=_0x11bb5c['side']=='sell'?_0x51d56a['number']-_0x11bb5c['filled']:_0x51d56a[_0x3089b0(0x1a7)]+_0x11bb5c[_0x3089b0(0x150)],_0x31cc24=(_0x11bb5c[_0x3089b0(0x1d1)]-_0x50f70d)*_0x4b194a;let _0x1bf7e2={'coin':_0x11bb5c[_0x3089b0(0x1bd)],'number':_0x4b194a,'breakeven':formatResult(_0x50f70d,0x8),'realized':formatResult(_0x509f70,0x8),'unrealized':formatResult(_0x31cc24,0x8),'fees':formatResult(_0x51d56a[_0x3089b0(0x1f7)]+_0x33e6ff,0x8),'sells':_0x11bb5c[_0x3089b0(0x195)]=='sell'?_0x51d56a[_0x3089b0(0x15c)]+0x1:_0x51d56a[_0x3089b0(0x15c)],'buys':_0x11bb5c[_0x3089b0(0x195)]==_0x3089b0(0x123)?_0x51d56a[_0x3089b0(0x126)]+0x1:_0x51d56a[_0x3089b0(0x126)]};dbCoinResults[_0x3089b0(0x120)](_0x3089b0(0x17f))[_0x3089b0(0x22b)]({'coin':_0x11bb5c[_0x3089b0(0x1bd)]})[_0x3089b0(0x20a)](_0x1bf7e2)['write']();}async function placeOrder(_0x3eaaca){const _0x1dcbea=_0x3f964d,_0x386a19=config[_0x1dcbea(0x1fd)]=='market'?_0x1dcbea(0x1e1):'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x1dcbea(0x188)](currentCoins));for(const _0x958a3c of _0x3eaaca){let _0x50fd84,_0xcb1a7e,_0x14406d,_0x23d05d,_0x17c4d0,_0x9f1b75=_0x958a3c[_0x1dcbea(0x15b)];try{const _0x3a87ec=await exchange[_0x1dcbea(0x12d)](_0x9f1b75),_0x1b8d4f=_0x3a87ec[_0x9f1b75];_0x50fd84=_0x1b8d4f[_0x1dcbea(0x1ff)],_0xcb1a7e=_0x1b8d4f[_0x1dcbea(0x14c)],_0x14406d=_0x1b8d4f[_0x1dcbea(0x1ac)];_0x958a3c['reverse']?(_0x23d05d=_0x958a3c[_0x1dcbea(0x195)]==_0x1dcbea(0x123)?'sell':_0x1dcbea(0x123),_0x17c4d0=Math[_0x1dcbea(0x1fb)](_0x958a3c[_0x1dcbea(0x17c)])/_0x50fd84):(_0x23d05d=_0x958a3c[_0x1dcbea(0x195)],_0x17c4d0=Math[_0x1dcbea(0x1fb)](_0x958a3c[_0x1dcbea(0x17c)]));_0x386a19==_0x1dcbea(0x15e)&&(config[_0x1dcbea(0x1fd)]==_0x1dcbea(0x130)&&(_0x50fd84=_0x23d05d=='buy'?_0xcb1a7e:_0x14406d),config[_0x1dcbea(0x1fd)]==_0x1dcbea(0x1c6)&&(_0x50fd84=_0x23d05d==_0x1dcbea(0x123)?_0x14406d:_0xcb1a7e));_0x17c4d0=formatResult(_0x17c4d0,0x8),_0x50fd84=formatResult(_0x50fd84,0x8);const _0x3f59ca=await exchange[_0x1dcbea(0x1fa)](_0x9f1b75,_0x386a19,_0x23d05d,_0x17c4d0,_0x50fd84);lastOrders[_0x1dcbea(0x11f)]({'orderId':_0x3f59ca['id'],'symbol':_0x9f1b75,'side':_0x23d05d,'reverse':_0x958a3c['reverse'],'amount':_0x958a3c[_0x1dcbea(0x12a)]?_0x3f59ca[_0x1dcbea(0x213)]*_0x3f59ca[_0x1dcbea(0x1d1)]:_0x3f59ca['amount'],'filled':_0x958a3c[_0x1dcbea(0x12a)]?_0x3f59ca[_0x1dcbea(0x150)]*_0x3f59ca[_0x1dcbea(0x1d1)]:_0x3f59ca[_0x1dcbea(0x150)],'price':_0x3f59ca[_0x1dcbea(0x1d1)]});const _0x4d56a1=_0x23d05d==_0x1dcbea(0x128)?config['emojisell']?String[_0x1dcbea(0x158)]('0x'+config[_0x1dcbea(0x14a)])+'\x20':'':config[_0x1dcbea(0x119)]?String[_0x1dcbea(0x158)]('0x'+config[_0x1dcbea(0x119)])+'\x20':'',_0x1a95cd=_0x386a19==_0x1dcbea(0x1e1)?_0x1dcbea(0x11c):config[_0x1dcbea(0x1fd)]==_0x1dcbea(0x130)?_0x1dcbea(0x148):_0x1dcbea(0x1f1);if(_0x386a19=='market')logHistory(_0x1dcbea(0x1a2),''+_0x4d56a1+_0x1a95cd+_0x1dcbea(0x1d5)+_0x9f1b75+'\x20'+_0x23d05d+'\x20#'+formatResult(_0x3f59ca[_0x1dcbea(0x150)],0x8)+'\x20@'+formatResult(_0x3f59ca[_0x1dcbea(0x1d1)],0x8));else logHistory(_0x1dcbea(0x1a2),''+_0x4d56a1+_0x1a95cd+_0x1dcbea(0x1d5)+_0x9f1b75+'\x20'+_0x23d05d+'\x20#'+formatResult(_0x3f59ca['amount'],0x8)+'\x20@'+formatResult(_0x3f59ca['price'],0x8));_0x3f59ca[_0x1dcbea(0x1bd)]=_0x958a3c['coin'],await updateCoinResults(_0x3f59ca);if(config[_0x1dcbea(0x14b)]!=0x0){let _0xd4f016=null;if(cooldownTracker[_0x1dcbea(0x13b)]==config['cooldown']-0x1)_0xd4f016=cooldownTracker[_0x1dcbea(0x1f3)]();const _0x34fbd4=getTimeStamp();cooldownTracker[_0x1dcbea(0x11f)](_0x34fbd4);if(_0xd4f016){const _0x435dc3=fns[_0x1dcbea(0x172)](new Date(_0x34fbd4),new Date(_0xd4f016));_0x435dc3<cooldownInterval&&(logHistory('error',_0x1dcbea(0x1a0)+config[_0x1dcbea(0x14b)]+_0x1dcbea(0x206)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+_0x1dcbea(0x1a5)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0xb912b1){if(_0xb912b1[_0x1dcbea(0x1fc)]()['includes'](_0x1dcbea(0x196)))logHistory(_0x1dcbea(0x1fe),_0x1dcbea(0x1e6)+_0x9f1b75);else{if(_0xb912b1[_0x1dcbea(0x1fc)]()[_0x1dcbea(0x115)](_0x1dcbea(0x177)))logHistory(_0x1dcbea(0x1fe),_0x1dcbea(0x19e)+_0x9f1b75);else await handleError(_0xb912b1,_0x1dcbea(0x222));}}}if(lastOrders[_0x1dcbea(0x13b)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x1dcbea(0x1b3)]&&(config['ordertype']==_0x1dcbea(0x1e1)?logHistory(_0x1dcbea(0x1fe),_0x1dcbea(0x1b8)):logHistory(_0x1dcbea(0x1fe),_0x1dcbea(0x12e)));else coolingDown&&(!config[_0x1dcbea(0x1b3)]&&logHistory(_0x1dcbea(0x1fe),_0x1dcbea(0x16c)));}}function logHistory(_0x59f031,_0x17adf6,_0x3ce20a=''){const _0x4caeb9=_0x3f964d;let _0x3dceb7={'time':getTimeStamp(),'type':_0x59f031,'event':_0x17adf6};dbLogs[_0x4caeb9(0x120)](_0x4caeb9(0x167))[_0x4caeb9(0x11f)](_0x3dceb7)[_0x4caeb9(0x13a)]();if(_0x3ce20a=='')_0x3ce20a=_0x17adf6;proxyEmit(_0x4caeb9(0x13c),{'log':_0x3dceb7,'summary':_0x3ce20a}),process[_0x4caeb9(0x12c)]({'telegram':{..._0x3dceb7,'botname':config[_0x4caeb9(0x1e3)],'showname':config['showname']}},_0x3beebc=>{}),logging(''+_0x3dceb7[_0x4caeb9(0x13c)]);}function emitHistory(_0x2d8565={}){const _0xc48a17=_0x3f964d;Object[_0xc48a17(0x1b7)](_0x2d8565)[_0xc48a17(0x13b)]==0x0&&(_0x2d8565={'type':[_0xc48a17(0x1a2),_0xc48a17(0x13c)],'event':'','page':0x1});if(_0x2d8565[_0xc48a17(0x21f)][_0xc48a17(0x115)](_0xc48a17(0x13c)))_0x2d8565[_0xc48a17(0x21f)][_0xc48a17(0x147)](_0x2d8565[_0xc48a17(0x21f)][_0xc48a17(0x1ea)](_0xc48a17(0x13c)),0x1,_0xc48a17(0x1fe),'success');if(dbLogs[_0xc48a17(0x129)](_0xc48a17(0x167))[_0xc48a17(0x1f6)]()){let _0x35547f=dbLogs['get'](_0xc48a17(0x167))['filter'](_0x4841eb=>{const _0x50c8c6=_0xc48a17;if(_0x2d8565[_0x50c8c6(0x21f)][_0x50c8c6(0x13b)]==0x0)return![];else return _0x2d8565[_0x50c8c6(0x21f)][_0x50c8c6(0x115)](_0x4841eb[_0x50c8c6(0x21f)]);})[_0xc48a17(0x1b1)](_0x5f006d=>{const _0x5390a8=_0xc48a17;if(_0x2d8565['event']=='')return!![];else return _0x5f006d['event'][_0x5390a8(0x20f)]()[_0x5390a8(0x115)](_0x2d8565[_0x5390a8(0x13c)][_0x5390a8(0x20f)]());})[_0xc48a17(0x1e9)](_0xc48a17(0x19d)),_0x49e4ac=_0x35547f[_0xc48a17(0x1f6)]()[_0xc48a17(0x13b)];_0x35547f=_0x35547f[_0xc48a17(0x12a)]()[_0xc48a17(0x225)]((_0x2d8565[_0xc48a17(0x1be)]-0x1)*logPageSize,_0x2d8565['page']*logPageSize-0x1)[_0xc48a17(0x12a)]()['value'](),proxyEmit(_0xc48a17(0x14e),{'logs':_0x35547f,'total':_0x49e4ac});}else proxyEmit(_0xc48a17(0x14e),{'logs':[],'total':0x0});}async function pauseBot(_0x24c866){const _0x22c290=_0x3f964d,_0x642c1f=new Date()[_0x22c290(0x207)]();if(!lastBotPause)lastBotPause=new Date()[_0x22c290(0x207)](),consecutivePauses=0x1;else{if(_0x642c1f-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x22c290(0x12c)]({'stop':_0x22c290(0x12f)},_0x565562=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x22c290(0x207)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x22c290(0x1fe),'Pausing\x20bot\x20for\x205\x20minutes\x20('+consecutivePauses+')'),await sleep(_0x24c866),botPaused=![],reset();}}async function handleError(_0x461ead,_0xd55c2c,_0x324216=''){const _0x3ad1da=_0x3f964d;if(_0x461ead[_0x3ad1da(0x1fc)]()['includes'](_0x3ad1da(0x173)))logHistory('error',_0xd55c2c+_0x3ad1da(0x219)),await pauseBot(pauseBotInterval);else{if(_0x461ead[_0x3ad1da(0x1fc)]()[_0x3ad1da(0x115)](_0x3ad1da(0x161)))logHistory(_0x3ad1da(0x1fe),_0xd55c2c+'\x20|\x20Binance\x20exchange\x20is\x20not\x20available'),await pauseBot(pauseBotInterval);else{if(_0x461ead[_0x3ad1da(0x1fc)]()['includes']('RequestTimeout'))logHistory(_0x3ad1da(0x1fe),_0xd55c2c+_0x3ad1da(0x135)),await pauseBot(pauseBotInterval);else{if(_0x461ead[_0x3ad1da(0x1fc)]()[_0x3ad1da(0x115)](_0x3ad1da(0x1c2)))logHistory(_0x3ad1da(0x1fe),_0xd55c2c+_0x3ad1da(0x17b)),logHistory(_0x3ad1da(0x1fe),_0x3ad1da(0x194)),process['send']({'stop':_0x3ad1da(0x122)},_0x110896=>{});else{if(_0x461ead[_0x3ad1da(0x1fc)]()[_0x3ad1da(0x115)]('AuthenticationError'))logHistory('error',_0xd55c2c+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory('error',_0x3ad1da(0x194)),process['send']({'stop':_0x3ad1da(0x122)},_0x5f0e6b=>{});else{if(_0x461ead['toString']()[_0x3ad1da(0x115)](_0x3ad1da(0x18a)))logHistory(_0x3ad1da(0x1fe),_0xd55c2c+_0x3ad1da(0x1dd)),logHistory(_0x3ad1da(0x1fe),_0x3ad1da(0x194)),process[_0x3ad1da(0x12c)]({'stop':_0x3ad1da(0x122)},_0x34e235=>{});else{if(_0x461ead[_0x3ad1da(0x1fc)]()['includes'](_0x3ad1da(0x138)))logHistory(_0x3ad1da(0x1fe),_0xd55c2c+_0x3ad1da(0x1c5)),logHistory('error',_0x3ad1da(0x194)),process['send']({'stop':'kill'},_0x9d9701=>{});else{if(_0x461ead[_0x3ad1da(0x1fc)]()[_0x3ad1da(0x115)](_0x3ad1da(0x216)))logHistory(_0x3ad1da(0x1fe),_0xd55c2c+_0x3ad1da(0x20d)),await pauseBot(pauseBotInterval),process['send']({'stop':'restart'},_0x45b504=>{});else _0x461ead[_0x3ad1da(0x1fc)]()[_0x3ad1da(0x115)](_0x3ad1da(0x1d8))?logHistory(_0x3ad1da(0x1fe),_0xd55c2c+_0x3ad1da(0x174)):(logHistory('error',_0xd55c2c+_0x3ad1da(0x136)),logging(_0xd55c2c+_0x3ad1da(0x203),_0x461ead),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x47d1f7,_0x2a1925){const _0x1bf53a=_0x3f964d;return parseFloat(_0x47d1f7[_0x1bf53a(0x176)](_0x2a1925));}function logging(_0x5e40f0,_0x352edb=''){const _0x131b79=_0x3f964d;if(config[_0x131b79(0x221)])console['log'](getTimeStamp()+':\x20'+config['botname']+'\x20>\x20'+_0x5e40f0,_0x352edb);else console[_0x131b79(0x1b9)](getTimeStamp()+_0x131b79(0x151)+botID+_0x131b79(0x1ab)+_0x5e40f0,_0x352edb);}function getServerTime(){const _0x31da71=_0x3f964d,_0x3e1887=new Date();return _0x3e1887[_0x31da71(0x17a)]()+'/'+(_0x3e1887[_0x31da71(0x1a3)]()+0x1)[_0x31da71(0x1fc)]()[_0x31da71(0x18c)](0x2,'0')+'/'+_0x3e1887[_0x31da71(0x1df)]()['toString']()[_0x31da71(0x18c)](0x2,'0')+'\x20'+_0x3e1887['getHours']()[_0x31da71(0x1fc)]()[_0x31da71(0x18c)](0x2,'0')+':'+_0x3e1887[_0x31da71(0x15d)]()[_0x31da71(0x1fc)]()[_0x31da71(0x18c)](0x2,'0')+':'+_0x3e1887['getSeconds']()[_0x31da71(0x1fc)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x284034=_0x3f964d,_0x5463d5=shiftedTime();return _0x5463d5[_0x284034(0x17a)]()+'/'+(_0x5463d5['getMonth']()+0x1)[_0x284034(0x1fc)]()[_0x284034(0x18c)](0x2,'0')+'/'+_0x5463d5[_0x284034(0x1df)]()[_0x284034(0x1fc)]()[_0x284034(0x18c)](0x2,'0')+'\x20'+_0x5463d5[_0x284034(0x22c)]()['toString']()[_0x284034(0x18c)](0x2,'0')+':'+_0x5463d5['getMinutes']()[_0x284034(0x1fc)]()[_0x284034(0x18c)](0x2,'0')+':'+_0x5463d5[_0x284034(0x22d)]()[_0x284034(0x1fc)]()[_0x284034(0x18c)](0x2,'0');}function getDate(){const _0x1a41d4=_0x3f964d,_0x5b22a7=shiftedTime();return _0x5b22a7['getFullYear']()+'/'+(_0x5b22a7[_0x1a41d4(0x1a3)]()+0x1)[_0x1a41d4(0x1fc)]()[_0x1a41d4(0x18c)](0x2,'0')+'/'+_0x5b22a7['getDate']()[_0x1a41d4(0x1fc)]()[_0x1a41d4(0x18c)](0x2,'0');}function getHour(){const _0x46f16b=_0x3f964d,_0x47ab79=shiftedTime();return _0x47ab79[_0x46f16b(0x22c)]()[_0x46f16b(0x1fc)]()[_0x46f16b(0x18c)](0x2,'0');}function sleep(_0x348ffa){return new Promise(_0x367f0b=>setTimeout(_0x367f0b,_0x348ffa));}function shiftedTime(){const _0x3ef1d8=_0x3f964d,_0x44bab1=new Date();let _0x476918=_0x44bab1;if(config&&config[_0x3ef1d8(0x1ce)]!==0x0)_0x476918=fns[_0x3ef1d8(0x21e)](_0x44bab1,{'hours':config[_0x3ef1d8(0x1ce)]});return _0x476918;}