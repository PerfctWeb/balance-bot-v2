const _0x25d848=_0x43b5;(function(_0x6d5e99,_0x561a2f){const _0x39ea95=_0x43b5,_0x534069=_0x6d5e99();while(!![]){try{const _0x34b37a=parseInt(_0x39ea95(0x1db))/0x1+parseInt(_0x39ea95(0x212))/0x2+parseInt(_0x39ea95(0x1f1))/0x3*(parseInt(_0x39ea95(0x251))/0x4)+parseInt(_0x39ea95(0x228))/0x5*(-parseInt(_0x39ea95(0x109))/0x6)+-parseInt(_0x39ea95(0x237))/0x7+-parseInt(_0x39ea95(0x210))/0x8+parseInt(_0x39ea95(0x1f0))/0x9;if(_0x34b37a===_0x561a2f)break;else _0x534069['push'](_0x534069['shift']());}catch(_0xf06ed9){_0x534069['push'](_0x534069['shift']());}}}(_0x468c,0x2c602));const _0x301113=function(){let _0x3c29c0=!![];return function(_0x286c98,_0x12af13){const _0x5d2ea2=_0x3c29c0?function(){const _0x50cacf=_0x43b5;if(_0x12af13){const _0x1e100d=_0x12af13[_0x50cacf(0x141)](_0x286c98,arguments);return _0x12af13=null,_0x1e100d;}}:function(){};return _0x3c29c0=![],_0x5d2ea2;};}(),_0x473f4a=_0x301113(this,function(){const _0x1d3ec2=_0x43b5;return _0x473f4a[_0x1d3ec2(0x25c)]()[_0x1d3ec2(0xf5)](_0x1d3ec2(0x148))[_0x1d3ec2(0x25c)]()[_0x1d3ec2(0x1ef)](_0x473f4a)[_0x1d3ec2(0xf5)]('(((.+)+)+)+$');});_0x473f4a();'use strict';const ccxt=require(_0x25d848(0x12f)),low=require(_0x25d848(0x1e0)),FileSync=require(_0x25d848(0x11d)),fs=require('fs'),fns=require(_0x25d848(0x14b)),Crypt=require(_0x25d848(0x133))[_0x25d848(0x19b)],util=require(_0x25d848(0x1e8)),argv=require(_0x25d848(0x15f))(process['argv'][_0x25d848(0x16a)](0x2))[_0x25d848(0x23e)],path=require(_0x25d848(0xd8));let exchange;global['ticker']={},global[_0x25d848(0x17e)]={};const usdBasecoins=[_0x25d848(0x124),'BUSD',_0x25d848(0x207),_0x25d848(0x1c1),_0x25d848(0x189),'USDP'],debugging=argv['d']||![];function _0x468c(){const _0x279e1c=['write','delta','logs','Invalid\x20quantity','net-fiat','watchTrades','side','milliseconds','2103040UqcBzG','coin','382270ooEHzC','DDoSProtection','buys','1\x20-\x20FILLED:\x20','./version.json','getFullYear','emojisell','\x20>\x20[DEBUG]\x20','Limit\x20(high-margin)','message','Limit\x20(low-margin)','Transaction\x20detection\x20unblocked','join','sendPortfolioTelegram','botname','NetworkError','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','currency','ExchangeNotAvailable','ETH','splice','295WhyhzR','net-basecoin','limit-high','order','assign','-performance.json','startnumber','\x20|\x20Error\x20details:\x20','existsSync','buy','cancel','fiat','./logs/','getMinutes','padStart','1502018wXLjss','<b>','exchange','\x20portfolio:</b>\x20\x0a\x0a','string','netoffset','changes','argv','change24h','canceled','pro','sells','RSA-OAEP','writeFile','2\x20-\x20FILLED\x20known\x20order:\x20','openOrders','fetchOpenOrders','total','event','mkdirSync','autoliquidity','red_yellow_blue','set','exchange\x20not\x20reloaded','map','fromCodePoint','30880hKdGjJ','offset','startprice','cloneDeep','cancelOrders()','no\x20open\x20orders','OrderNotFound','UNLOCKING','ORDERS.UNLOCKING','performance','Reset\x20|\x20','toString','1\x20-\x20Unlock\x20orders','parseISO','basecoinvalue','/output-000.log',':\x20Bot\x20','Bot\x20','./config/','sort','price','2\x20-\x20Validate\x20orders:\x20','keys','final','path','storeHeadless','starting-balances','restart','data','loading-canceled','getPortfolio(2)','recovery','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','2\x20-\x20Handled\x20open\x20orders','Order\x20amount\x20is\x20invalid:\x20','number','\x20:\x20','Unknown\x20error\x20occured','ongoing','floor','placeOrder()','max','value','No\x20more\x20open\x20orders\x20-\x20','valid','split','Net\x20','Manual\x20balancing\x20required','warning','fee','EUR','success','balancing\x20resumed','search','Net\x20effect','initclient','event-history','exchange\x20reloaded','apiKey','fetchBalance','none','log','getSeconds','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Error:\x20Invalid\x20argument\x20','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','replace','1\x20-\x20Validate\x20orders:\x20','highest','getCoins()','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','getPortfolio','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','12126tnGzel','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20metrics:</b>\x20\x0a\x0a','ORDERS.UNLOCKED','Initializing\x20coin\x20results','LOCKED','remainingSymbols','bb-secure.json','excluded','realized','Saving\x20configuration','%\x20(','kill','sell','-config.json','getHours','Portfolio\x20change\x20detected:\x20','2.3.5','InvalidOrder','test','lowdb/adapters/FileSync','limits','2.6.0','<pre>','\x20closed\x20the\x20connection','function','\x20|\x20','USD','coins','-events.json','Order\x20is\x20invalid:\x20','round','running','getDate','timestamp','toUpperCase',',\x20must\x20be\x20a\x203\x20digit\x20number','001','ccxt','recent20','\x20API\x20secret\x20is\x20invalid','timeshift','hybrid-crypto-js','shift','Exchange','2.5.0','progress','ID:\x20','toFixed','amount','unlinkSync','filter','BNB','concat','threshold','reverse','apply','page','stringify','min','createWriteStream','Waited\x20','\x20order:\x20','(((.+)+)+)+$','yyyy/MM/dd','parse','date-fns','send','isEqual','yyyy-MM-dd\x27T\x27HH:mm:ss','configuration','market','format','bots','datetime','get','limit','/backup/','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','leftTxt','getMonth','.json','Uncaught\x20Exception:','\x20not\x20available','target','indexOf','yargs/yargs','\x20orders\x20in\x20less\x20than\x20','limit-low','Pausing\x20for\x20','starting-balance-','getPortfolio(1)','rightTxt','\x20|\x20Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','timeout','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','fetchTicker','slice','time','\x20|\x20exchange:\x20','BTC','percentage','distribution','deleteHistoryAlerts','ExchangeError','3\x20-\x20handling\x20FILLED\x20order:\x20','exec','\x20|\x20lock\x20orders:\x20','\x20minutes','watchOrders','headless','placeOrder','abs','Fee\x20discount\x20refund\x20detected:\x20','eur','toLowerCase','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','change','portfolio','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','added','status','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','privateKey','forEach','RateLimitExceeded','breakeven','storeConfiguration','USDC','BNB/','Unfilled\x20order(s)\x20canceled\x20after\x20','trade','defaults','random','liquidity','colorscheme','average','\x20hour','bot-','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','initial','Cooldown\x20ended\x20-\x20balancing\x20resumed','loadSymbols()','debug','Avoiding\x20continuous\x20order\x20attempts','UNLOCKED','Crypt','open','additional\x20symbols\x20','\x20exchange','onepagemode','</pre>','API-key\x20format\x20invalid','type','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','length','<b>Bot\x20','closed','no\x20additional\x20symbols','apiSecret','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','-------------------------------\x0a','cooldown','symbol','customId','/EUR','Resetting\x20coin\x20results:\x20','recreateCoinResults()','version','Uncaught\x20NetworkError:','\x20not\x20responding',':\x20timer\x20>','\x20change','createOrder','freeze','error','emojibuy','configuration-stored','/USD','ticker','startsWith','substring','balances','AuthenticationError','USDT','************','fetchClosedOrders','\x20minutes\x20-\x20','orderId','push','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','remove','find','entries','emitHistory','\x20-\x20bot\x20not\x20started','full','\x20>\x20','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration','basecoin','cancelLoading','secure','Order\x20filled:\x20','\x20API\x20key\x20is\x20invalid','includes','last','Executed\x20','MIN_NOTIONAL','usd','bb-settings.json','314660YsXbsS','fetchTickers','getTime','decrypt','amountToPrecision','lowdb','watchTransactions','loadMarkets','Binance','cost','startdate','Market','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details','util','password','removed','orderstatus','bid','Transaction\x20detection\x20blocked','apiPassword','constructor','1342260ZDuzst','48DsXFQR','bot','date','ordertype','\x20has\x20a\x2024h\x20drop\x20of\x20','uncaughtException','filled','spot','\x20value','has','coin-loading-progress','showname','getStartingBalances','\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','active','sortBy','-results.json','getCoinNumber()','exchanges','args','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','TUSD'];_0x468c=function(){return _0x279e1c;};return _0x468c();}let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x25d848(0x1b7)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x25d848(0x19a)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0x18*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loading={'progress':null,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require(_0x25d848(0x216))[_0x25d848(0x1b1)],botID=process[_0x25d848(0x23e)][0x2]||_0x25d848(0x12e),pattern=/^[0-9]{3}$/;!pattern[_0x25d848(0x11c)](botID)&&(console[_0x25d848(0xfd)](_0x25d848(0x100)+botID+_0x25d848(0x12d)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x25d848(0xd2)+userID+'/':_0x25d848(0xd2),logspath=userID?_0x25d848(0x234)+userID+'/':'./logs/',loggerfile=fs[_0x25d848(0x145)](logspath+_0x25d848(0x260),{'flags':'a'});!fs[_0x25d848(0x230)](configpath)&&fs[_0x25d848(0x24a)](configpath);!fs[_0x25d848(0x230)](logspath)&&fs[_0x25d848(0x24a)](logspath);const configfile=configpath+_0x25d848(0x193)+botID+_0x25d848(0x117),logfile=configpath+_0x25d848(0x193)+botID+_0x25d848(0x126),performancefile=configpath+_0x25d848(0x193)+botID+_0x25d848(0x22d),coinresultsfile=configpath+_0x25d848(0x193)+botID+_0x25d848(0x202),settingsfile=configpath+_0x25d848(0x1da),securefile=configpath+_0x25d848(0x110),configbackuppath=configpath+_0x25d848(0x156),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x25d848(0x208)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x25d848(0x18d)]({'data':[],'version':serverversion})[_0x25d848(0x208)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})[_0x25d848(0x208)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x25d848(0x18d)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x25d848(0x243)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x2dd851=>{console['log'](_0x2dd851);},'simple':_0x3c5b46=>{const _0x6c712a=_0x25d848;console[_0x6c712a(0xfd)](_0x3c5b46),loggerfile['write'](util[_0x6c712a(0x151)](_0x3c5b46)+'\x0a');},'full':async(_0x9ecca5,_0x5dbaeb='')=>{const _0x561c50=_0x25d848;let _0xd033fe;if(config[_0x561c50(0x1fc)])_0xd033fe=getTimeStamp()+':\x20'+config[_0x561c50(0x220)]+_0x561c50(0x1ce)+_0x9ecca5;else _0xd033fe=getTimeStamp()+_0x561c50(0x261)+botID+'\x20>\x20'+_0x9ecca5;console[_0x561c50(0xfd)](_0xd033fe),loggerfile[_0x561c50(0x208)](util[_0x561c50(0x151)](_0xd033fe)+'\x0a'),_0x5dbaeb&&(console[_0x561c50(0xfd)](_0x5dbaeb),loggerfile[_0x561c50(0x208)](util[_0x561c50(0x151)](_0x5dbaeb)+'\x0a'));},'debug':async(_0x4a4a87,_0x59086b='')=>{const _0x278fb6=_0x25d848;let _0x408bfe;if(config[_0x278fb6(0x1fc)])_0x408bfe=getTimeStamp()+':\x20'+config[_0x278fb6(0x220)]+_0x278fb6(0x219)+_0x4a4a87;else _0x408bfe=getTimeStamp()+':\x20Bot\x20'+botID+_0x278fb6(0x219)+_0x4a4a87;if(debugging)console[_0x278fb6(0xfd)](_0x408bfe);loggerfile[_0x278fb6(0x208)](util[_0x278fb6(0x151)](_0x408bfe)+'\x0a');if(_0x59086b){if(debugging)console[_0x278fb6(0xfd)](_0x59086b);loggerfile[_0x278fb6(0x208)](util[_0x278fb6(0x151)](_0x59086b)+'\x0a');}}};process['on'](_0x25d848(0x1f6),function(_0x34d934){const _0xd304=_0x25d848;logHistory(_0xd304(0x1b8),_0xd304(0x1e7)),logger[_0xd304(0x198)](_0xd304(0x15b),_0x34d934);});settings[_0x25d848(0x132)]!=config[_0x25d848(0x132)]&&updateTimeshift(settings[_0x25d848(0x132)]);settings['onepagemode']!=config[_0x25d848(0x19f)]&&updateOnepagemode(settings[_0x25d848(0x19f)]);process[_0x25d848(0x14c)]({'started':_0x25d848(0x129)},_0x851229=>{}),initializeProcessListeners();function proxyEmit(_0x21359f,_0x1b0ff8=null){const _0x530f7f=_0x25d848;process[_0x530f7f(0x14c)]({'function':_0x21359f,'args':_0x1b0ff8},_0x135a78=>{});}function initializeProcessListeners(){const _0x28d1cb=_0x25d848;process['on'](_0x28d1cb(0x21b),_0x91cae5=>{const _0x267795=_0x28d1cb;switch(Object['keys'](_0x91cae5)[0x0]){case _0x267795(0x132):_0x91cae5[_0x267795(0x132)]!=undefined&&(settings['timeshift']=_0x91cae5[_0x267795(0x132)],updateTimeshift(settings[_0x267795(0x132)]));break;case _0x267795(0x19f):_0x91cae5['onepagemode']!=undefined&&(settings['onepagemode']=_0x91cae5[_0x267795(0x19f)],updateOnepagemode(settings[_0x267795(0x19f)]));break;case _0x267795(0x152):_0x91cae5[_0x267795(0x152)]!=undefined&&(bots=JSON[_0x267795(0x14a)](_0x91cae5['bots']),proxyEmit(_0x267795(0x152),bots));break;case _0x267795(0x122):switch(_0x91cae5[_0x267795(0x122)]){case _0x267795(0xf7):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x267795(0x1cb):emitHistory(_0x91cae5['args']);break;case _0x267795(0x170):deleteHistoryAlerts(_0x91cae5['args']);break;case _0x267795(0x107):getPortfolio(_0x91cae5[_0x267795(0x205)]);break;case _0x267795(0x188):storeConfiguration(_0x91cae5[_0x267795(0x205)]);break;case _0x267795(0xd9):storeHeadless(_0x91cae5['args']);break;case'storeFiat':storeFiat(_0x91cae5[_0x267795(0x205)]);break;case'resetHistory':resetHistory();break;case _0x267795(0x1fd):getStartingBalances(getNormalizedPerformance());break;case _0x267795(0x178):placeOrder(_0x91cae5[_0x267795(0x205)]);break;case _0x267795(0x1d1):cancelLoading();break;case'showConfig':showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x267795(0x21f):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x326657=null,_0x1c8da5=![]){const _0x436db3=_0x25d848;logger[_0x436db3(0x198)](_0x436db3(0x25b)+(_0x326657&&_0x326657[_0x436db3(0x1a4)]>0x0?_0x436db3(0x19d)+_0x326657['join'](','):_0x436db3(0x1a7))+'\x20|\x20'+(_0x1c8da5?_0x436db3(0xf9):_0x436db3(0x24e))+_0x436db3(0x16c)+config[_0x436db3(0x239)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x1c8da5)lastCoinsToBalance='';coinsLoaded=![];if(config['apiKey']!=''&&config['apiKey']!='***'){if(_0x1c8da5){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x581296){handleErrorNoStop(_0x581296,_0x436db3(0x197));return;}setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x326657);const _0x73ebf5=await getCoins();[currentCoins,currentCoinsAll]=_0x73ebf5,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x436db3(0x1a4)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){exchangeStopped=!![],await exchange['close']();}async function reloadExchange(){const _0x239bc5=_0x25d848;logger[_0x239bc5(0x198)]('Initiating\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x239bc5(0x19a)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x239bc5(0x198)]('Executing\x20exchange\x20reload'),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x21f970=config[_0x25d848(0x239)],_0x146ca7=config[_0x25d848(0xfa)],_0x283b3f=config[_0x25d848(0x1a8)],_0x5ba85d=config[_0x25d848(0x1ee)]){const _0x5da502=_0x25d848;exchange&&await stopExchange();!supportedExchanges()[_0x5da502(0x1d5)](_0x21f970)&&(logHistory(_0x5da502(0x1b8),_0x5da502(0x101)+_0x21f970+_0x5da502(0x19e)),killBot());const _0x3d34d0=ccxt[_0x5da502(0x241)][_0x21f970[_0x5da502(0x17c)]()];exchange=new _0x3d34d0({'apiKey':_0x146ca7,'secret':_0x283b3f,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5da502(0x1f8)}});if(_0x5ba85d)exchange[_0x5da502(0x1e9)]=_0x5ba85d;}function setStableCoins(){const _0x3bd0e8=_0x25d848;let _0x591761=config[_0x3bd0e8(0x1d0)]=='ETH'?'ETH':_0x3bd0e8(0x16d),_0x3773d2=!allSymbols[_0x3bd0e8(0x1d5)](_0x591761+_0x3bd0e8(0x1bb))?'USDT':_0x3bd0e8(0x124),_0x51732f=!allSymbols['includes'](_0x591761+_0x3bd0e8(0x1ae))?_0x3773d2:_0x3bd0e8(0xf2);stablecoins={'eur':{'coin':''+_0x591761+_0x51732f,'symbol':_0x591761+'/'+_0x51732f},'usd':{'coin':''+_0x591761+_0x3773d2,'symbol':_0x591761+'/'+_0x3773d2}};}async function initwsCcxt(_0x3161ac){const _0x556eb9=_0x25d848;_0x3161ac==null&&(_0x3161ac=[],config[_0x556eb9(0x17f)][_0x556eb9(0x185)](_0xf71bb4=>{const _0x431f88=_0x556eb9;if(!_0xf71bb4[_0x431f88(0x111)]&&_0xf71bb4[_0x431f88(0x211)]!=config['basecoin'])_0x3161ac['push'](_0xf71bb4['symbol']);}));if(!_0x3161ac[_0x556eb9(0x1d5)](stablecoins[_0x556eb9(0x17b)][_0x556eb9(0x1ac)]))_0x3161ac['push'](stablecoins[_0x556eb9(0x17b)]['symbol']);if(!_0x3161ac['includes'](stablecoins[_0x556eb9(0x1d9)][_0x556eb9(0x1ac)]))_0x3161ac[_0x556eb9(0x1c6)](stablecoins[_0x556eb9(0x1d9)]['symbol']);if(config['exchange'][_0x556eb9(0x1bd)](_0x556eb9(0x1e3))){if(!_0x3161ac[_0x556eb9(0x1d5)](_0x556eb9(0x18a)+config[_0x556eb9(0x1d0)]))_0x3161ac[_0x556eb9(0x1c6)](_0x556eb9(0x18a)+config[_0x556eb9(0x1d0)]);}loadCoins(_0x3161ac);const _0x54c11f=async _0x348dae=>{const _0x2b8175=_0x556eb9,_0x225d60=await exchange[_0x2b8175(0x169)](_0x348dae);global[_0x2b8175(0x1bc)][noslash(_0x225d60['symbol'])]=_0x225d60[_0x2b8175(0x1d6)];while(!![]){if(!botPaused)try{const _0x2e9ea5=await exchange[_0x2b8175(0x20d)](_0x348dae);global['ticker'][noslash(_0x2e9ea5[0x0][_0x2b8175(0x1ac)])]=_0x2e9ea5[0x0][_0x2b8175(0xd4)],await sleep(0x3e8);}catch(_0x5413f1){if(!exchangeStopped)await handleError(_0x5413f1,_0x2b8175(0x20d),_0x348dae);}else await sleep(0x64);}},_0x2c961=async _0x49c83a=>{const _0x35d69d=_0x556eb9;while(!![]){if(!botPaused)try{const _0x50018b=await exchange[_0x35d69d(0x169)](_0x49c83a);global[_0x35d69d(0x17e)][_0x50018b[_0x35d69d(0x1ac)]]=_0x50018b[_0x35d69d(0x16e)],await sleep(0x3c*0x3e8);}catch(_0x23f75a){if(!exchangeStopped)await handleError(_0x23f75a,_0x35d69d(0x1dc),_0x49c83a);}else await sleep(0x64);}},_0x3d6c31=async()=>{const _0x4fcbf7=_0x556eb9;while(!![]){if(!botPaused)try{const _0x3a5a59=await exchange[_0x4fcbf7(0x176)]();_0x3a5a59[_0x4fcbf7(0x185)](_0x28be7c=>{updateNumberCoinsCcxt(_0x28be7c);});}catch(_0xa68b14){if(!exchangeStopped)await handleError(_0xa68b14,'watchOrders');}else await sleep(0x64);}};_0x3161ac['forEach'](_0x420bc7=>{_0x54c11f(_0x420bc7),_0x2c961(_0x420bc7);}),!wsEventsSet&&(wsEventsSet=!![],_0x3d6c31(),watchTransactions());}async function watchTransactions(){const _0x37c3f4=_0x25d848;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x43e30a=await getCoins(),[_0x41f5b4,_0x3521d9]=_0x43e30a;let _0x11612a=[];currentCoins['forEach'](_0xc2ff18=>{const _0x29a3cb=_0x43b5,_0xdacc31=_0x41f5b4[_0x29a3cb(0x1c9)](_0x2f2291=>_0x2f2291[_0x29a3cb(0x211)]==_0xc2ff18[_0x29a3cb(0x211)]);if(_0xdacc31){if(_0xc2ff18[_0x29a3cb(0xe3)]!=_0xdacc31[_0x29a3cb(0xe3)]){let _0x1d28de;if(_0xc2ff18[_0x29a3cb(0x211)]!=config['basecoin']){const _0x360fd4=global['ticker'][noslash(_0xc2ff18[_0x29a3cb(0x1ac)])];_0x1d28de=_0xc2ff18[_0x29a3cb(0x140)]?0x1/_0x360fd4:_0x360fd4;}else _0x1d28de=0x1;_0x11612a['push']({'coin':_0xc2ff18[_0x29a3cb(0x211)],'symbol':_0xc2ff18[_0x29a3cb(0x1ac)],'price':_0x1d28de,'number':Number(formatResult(_0xdacc31['number']-_0xc2ff18['number'],0x8)),'basecoinvalue':_0x1d28de*(_0xdacc31[_0x29a3cb(0xe3)]-_0xc2ff18[_0x29a3cb(0xe3)])});}}});if(_0x11612a['length']==0x1&&!blockTransactionDetection){if(config[_0x37c3f4(0x24b)]){logger[_0x37c3f4(0x198)](_0x37c3f4(0x222)+_0x11612a[0x0][_0x37c3f4(0x25f)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x37c3f4(0x104)]);if(lastFees['highest']==0x0||Math[_0x37c3f4(0x179)](_0x11612a[0x0]['basecoinvalue'])>lastFees[_0x37c3f4(0x104)]){delete _0x11612a[0x0][_0x37c3f4(0x1ac)],delete _0x11612a[0x0]['basecoinvalue'];let _0x1826b2=[],_0x477e23=[...config[_0x37c3f4(0x18f)]]||[],_0x5ac066=config[_0x37c3f4(0x18f)];_0x477e23[_0x37c3f4(0xd3)]((_0x4375e8,_0x5bcf04)=>_0x4375e8[_0x37c3f4(0x1f3)]>_0x5bcf04[_0x37c3f4(0x1f3)]?-0x1:_0x5bcf04['date']>_0x4375e8['date']?0x1:0x0);const _0x4aca3f=getDate();if(_0x477e23[0x0]){const _0x726f56=fns[_0x37c3f4(0x14a)](_0x477e23[0x0][_0x37c3f4(0x1f3)],_0x37c3f4(0x149),new Date()),_0x4f5ca6=fns[_0x37c3f4(0x14a)](_0x4aca3f,_0x37c3f4(0x149),new Date());if(fns[_0x37c3f4(0x14d)](_0x726f56,_0x4f5ca6)){_0x1826b2=_0x477e23[0x0][_0x37c3f4(0x23d)];const _0x182547=_0x1826b2['find'](_0x4af19b=>_0x4af19b[_0x37c3f4(0x211)]==_0x11612a[0x0][_0x37c3f4(0x211)]);_0x182547?(_0x182547['number']+=_0x11612a[0x0][_0x37c3f4(0xe3)],_0x182547[_0x37c3f4(0xe3)]==0x0&&(_0x1826b2=_0x1826b2[_0x37c3f4(0x13c)](_0x5837d8=>{const _0x275580=_0x37c3f4;return _0x5837d8[_0x275580(0x211)]!=_0x11612a[0x0]['coin'];}))):_0x1826b2[_0x37c3f4(0x1c6)](_0x11612a[0x0]);const _0xbc3a1a=_0x5ac066[_0x37c3f4(0x1c9)](_0x24f346=>_0x24f346[_0x37c3f4(0x1f3)]==_0x4aca3f);_0xbc3a1a[_0x37c3f4(0x23d)]=_0x1826b2;}else _0x5ac066[_0x37c3f4(0x1c6)]({'date':_0x4aca3f,'changes':[_0x11612a[0x0]]});}const _0x3a9d14=_0x5ac066[_0x37c3f4(0x1c9)](_0x3fea1b=>_0x3fea1b[_0x37c3f4(0x1f3)]==_0x4aca3f);if(_0x3a9d14){let _0x5f73b3=!![];_0x3a9d14[_0x37c3f4(0x23d)][_0x37c3f4(0x185)](_0x33cb5c=>{if(_0x33cb5c['number']!=0x0)_0x5f73b3=![];}),_0x5f73b3&&(_0x5ac066=_0x5ac066[_0x37c3f4(0x13c)](_0x5512f6=>{const _0x1e8735=_0x37c3f4;return _0x5512f6[_0x1e8735(0x1f3)]!=_0x4aca3f;}));}let _0x2bf5d2=dbConfig[_0x37c3f4(0x154)](_0x37c3f4(0x1f2))[_0x37c3f4(0x1c9)]({'botID':botID})[_0x37c3f4(0xea)]();_0x2bf5d2&&(dbConfig['get']('bot')[_0x37c3f4(0x1c9)]({'botID':botID})[_0x37c3f4(0x22c)]({'liquidity':_0x5ac066})[_0x37c3f4(0x208)](),config['liquidity']=_0x5ac066),logHistory(_0x37c3f4(0xf3),_0x37c3f4(0x119)+Math[_0x37c3f4(0x179)](_0x11612a[0x0]['number'])+'\x20'+_0x11612a[0x0][_0x37c3f4(0x211)]+'\x20'+(_0x11612a[0x0][_0x37c3f4(0xe3)]>0x0?'added':_0x37c3f4(0x1ea))+_0x37c3f4(0x183)),proxyEmit(_0x37c3f4(0x14f),emittedConfiguration());}else logger[_0x37c3f4(0x198)](_0x37c3f4(0x17a)+Math['abs'](_0x11612a[0x0][_0x37c3f4(0xe3)])+'\x20'+_0x11612a[0x0][_0x37c3f4(0x211)]+'\x20'+(_0x11612a[0x0][_0x37c3f4(0xe3)]>0x0?_0x37c3f4(0x181):_0x37c3f4(0x1ea)));transactionDetected=!![],currentCoins=_0x41f5b4,currentCoinsAll=_0x3521d9;}else logger[_0x37c3f4(0x198)](_0x37c3f4(0x119)+Math[_0x37c3f4(0x179)](_0x11612a[0x0][_0x37c3f4(0xe3)])+'\x20'+_0x11612a[0x0][_0x37c3f4(0x211)]+'\x20'+(_0x11612a[0x0][_0x37c3f4(0xe3)]>0x0?_0x37c3f4(0x181):'removed')+_0x37c3f4(0x1ff)),currentCoins=_0x41f5b4,currentCoinsAll=_0x3521d9;}await sleep(watchTransactionsInterval);}catch(_0xc124ee){if(!exchangeStopped)await handleError(_0xc124ee,_0x37c3f4(0x1e1));}else await sleep(0x64);}}async function loadSymbols(_0x1e671b=config[_0x25d848(0x239)],_0x357e6c=![]){const _0x5dfd26=_0x25d848;if(allSymbols&&!_0x357e6c)return;try{markets=await exchange['loadMarkets'](),allSymbols=[],Object[_0x5dfd26(0x1ca)](markets)[_0x5dfd26(0x185)](_0x22bd0e=>{const _0x1a168b=_0x5dfd26;_0x22bd0e[0x1][_0x1a168b(0x200)]&&_0x22bd0e[0x1][_0x1a168b(0x1f8)]&&allSymbols['push'](_0x22bd0e[0x0]);});}catch(_0x2d1536){throw _0x2d1536;}}async function initclient(){const _0x2a9348=_0x25d848;emitLoadingProgress(),proxyEmit(_0x2a9348(0x14f),emittedConfiguration()),proxyEmit(_0x2a9348(0x204),supportedExchanges());while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x2a9348(0x1bf),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1e656d=getNormalizedPerformance();emitPerformance(_0x1e656d),getStartingBalances(_0x1e656d);}async function toggleBotMode(){const _0x32f42a=_0x25d848;let _0x404953=dbConfig['get'](_0x32f42a(0x1f2))[_0x32f42a(0x1c9)]({'botID':botID})[_0x32f42a(0xea)]();if(_0x404953){const _0x1d5de3=!_0x404953[_0x32f42a(0x177)];dbConfig[_0x32f42a(0x154)](_0x32f42a(0x1f2))[_0x32f42a(0x1c9)]({'botID':botID})[_0x32f42a(0x22c)]({'headless':_0x1d5de3})[_0x32f42a(0x208)](),config[_0x32f42a(0x177)]=_0x1d5de3,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x5ac05a=_0x25d848;process[_0x5ac05a(0x14c)]({'updatebotmanager':!![]},_0x3ebcae=>{});}async function loadCoins(_0x338ea9){const _0x20ecab=_0x25d848;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x5b2a06,_0x280864=0x0,_0x581361=0x0;_0x338ea9['forEach'](_0x575479=>{const _0x331085=_0x43b5;loading[_0x331085(0x10f)][_0x331085(0x1c6)](_0x575479);}),loadingCanceled=![];let _0x1824ce=![];while(_0x5b2a06!=_0x338ea9[_0x20ecab(0x1a4)]){_0x5b2a06=0x0,_0x338ea9[_0x20ecab(0x185)](_0x4b9a5e=>{const _0x38401b=_0x20ecab;if(global[_0x38401b(0x1bc)][noslash(_0x4b9a5e)]){loading['remainingSymbols']=loading[_0x38401b(0x10f)][_0x38401b(0x13c)](_0x3ba693=>_0x3ba693!=_0x4b9a5e);if(!watchedSymbols['includes'](_0x4b9a5e))watchedSymbols[_0x38401b(0x1c6)](_0x4b9a5e);_0x5b2a06++;}}),loading[_0x20ecab(0x137)]=Math[_0x20ecab(0x128)](_0x5b2a06/_0x338ea9['length']*0x64);loading[_0x20ecab(0x137)]!=0x64&&(_0x581361>0x1e*0x5&&(loading[_0x20ecab(0x167)]=!![],emitLoadingProgress()),_0x581361>0x78*0x5&&!_0x1824ce&&(loading[_0x20ecab(0x232)]=!![],emitLoadingProgress(),_0x1824ce=!![],logHistory('error','Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading['remainingSymbols'][_0x20ecab(0x21e)](',\x20')+_0x20ecab(0x1cc)),logHistory('error',_0x20ecab(0x162)+loadCoinsRetryInterval/0xea60+_0x20ecab(0xff)),pidCoinReloading=setTimeout(()=>{const _0x1cf9d8=_0x20ecab;process[_0x1cf9d8(0x14c)]({'stop':_0x1cf9d8(0xdb)},_0x767756=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x20ecab(0x232)]=!![],emitLoadingProgress();break;}else _0x5b2a06!=_0x280864&&(_0x280864=_0x5b2a06,emitLoadingProgress()),_0x581361++,await sleep(0xc8);}_0x5b2a06==_0x338ea9['length']&&(coinsLoaded=!![],process[_0x20ecab(0x14c)]({'status':'enabled','live':_0x20ecab(0x129)},_0x474dbe=>{}),_0x1824ce&&logHistory(_0x20ecab(0xf3),_0x20ecab(0x223)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0xfbeb08=_0x25d848;proxyEmit('configuration',{...emittedConfiguration(),'configstate':_0xfbeb08(0xdd)});}function emitLoadingProgress(){const _0x9783b3=_0x25d848;proxyEmit(_0x9783b3(0x1fb),loading);}async function getFiat(){const _0x46cc60=_0x25d848;let _0x907faf=global[_0x46cc60(0x1bc)][stablecoins['eur'][_0x46cc60(0x211)]],_0x24023f=global[_0x46cc60(0x1bc)][stablecoins[_0x46cc60(0x1d9)][_0x46cc60(0x211)]];return{'eur':Number(_0x907faf),'usd':Number(_0x24023f)};}function capitalize(_0x170087){const _0x50a208=_0x25d848;return _0x170087['substring'](0x0,0x1)[_0x50a208(0x12c)]()+_0x170087[_0x50a208(0x1be)](0x1);}function supportedExchanges(){const _0x4b4e7d=_0x25d848,_0x38cab7=['ws',_0x4b4e7d(0x1dc),_0x4b4e7d(0x169),_0x4b4e7d(0x20d),_0x4b4e7d(0x176),'cancelOrder',_0x4b4e7d(0x1b6),_0x4b4e7d(0x247),_0x4b4e7d(0x1c3),_0x4b4e7d(0xfb)];let _0x5fbbd0=[],_0x25e9e0=[],_0x370b23=ccxt[_0x4b4e7d(0x241)][_0x4b4e7d(0x204)];_0x370b23[_0x4b4e7d(0x185)](_0xa4b3e8=>{const _0x2e3021=_0x4b4e7d;try{const _0x1634da=new ccxt['pro'][_0xa4b3e8]();_0x25e9e0[_0x2e3021(0x1c6)](_0x1634da);}catch(_0x3eada3){}}),_0x25e9e0[_0x4b4e7d(0x185)](_0x55985c=>{const _0x4170b8=_0x4b4e7d;let _0x4ae9cb=0x0;_0x38cab7['forEach'](_0x41faa8=>{const _0x511bb7=_0x43b5;_0x41faa8 in _0x55985c[_0x511bb7(0x1fa)]&&_0x55985c[_0x511bb7(0x1fa)][_0x41faa8]&&_0x4ae9cb++;}),_0x4ae9cb==_0x38cab7[_0x4170b8(0x1a4)]&&_0x5fbbd0[_0x4170b8(0x1c6)](capitalize(_0x55985c['id']));});let _0x5d8777=[];return _0x370b23['forEach'](_0x11ba0a=>{const _0x59b243=_0x4b4e7d;_0x11ba0a=capitalize(_0x11ba0a);if(!_0x5fbbd0[_0x59b243(0x1d5)](_0x11ba0a))_0x5d8777[_0x59b243(0x1c6)](_0x11ba0a);}),_0x5fbbd0;}function setStartDatePerformance(){const _0x1a0517=_0x25d848;if(config&&config[_0x1a0517(0x18f)][0x0][_0x1a0517(0x23d)][_0x1a0517(0x1a4)]!=0x0){const _0x54768a=config[_0x1a0517(0x18f)][0x0][_0x1a0517(0x23d)];dbPerformance[_0x1a0517(0x154)](_0x1a0517(0xdc))['find']({'date':config[_0x1a0517(0x1e5)]})[_0x1a0517(0x22c)]({'coins':_0x54768a})[_0x1a0517(0x208)]();}}async function recreateCoinResults(){const _0x4359ab=_0x25d848;let _0x335f85,_0x1e89c7=[];try{const _0x18dff0=fns[_0x4359ab(0x151)](fns[_0x4359ab(0x25e)](config[_0x4359ab(0x1e5)][_0x4359ab(0x102)](/\//g,'-')),_0x4359ab(0x14e));for(const _0x3bf07e of currentCoins){if(_0x3bf07e[_0x4359ab(0x211)]!=config['basecoin']){let _0x711dda=0x0,_0x46d122,_0x25f12c;_0x335f85=await getAllEventOrders(_0x3bf07e[_0x4359ab(0x1ac)]);if(_0x335f85[_0x4359ab(0x1a4)]>0x0)_0x335f85[_0x4359ab(0x185)](_0x4c239f=>{const _0x59ec56=_0x4359ab,_0x17ba36=_0x3bf07e[_0x59ec56(0x1ac)]['includes'](config['basecoin']+'/');_0x1e89c7[_0x59ec56(0x1c6)]({'datetime':_0x4c239f[_0x59ec56(0x153)],'coin':_0x3bf07e[_0x59ec56(0x211)],'symbol':_0x3bf07e[_0x59ec56(0x1ac)],'side':_0x4c239f['side'],'reverse':_0x17ba36,'amount':formatResult(_0x4c239f['filled'],0x8),'filled':formatResult(_0x4c239f[_0x59ec56(0x1f7)],0x8),'price':formatResult(_0x4c239f['price'],0x8)}),_0x711dda=_0x4c239f[_0x59ec56(0x20e)]=='buy'?_0x711dda+_0x4c239f['filled']:_0x711dda-_0x4c239f[_0x59ec56(0x1f7)];if(!_0x25f12c)_0x25f12c=_0x4c239f[_0x59ec56(0xd4)];});_0x46d122=_0x3bf07e[_0x4359ab(0xe3)]-_0x711dda;let _0x2a92d4;config[_0x4359ab(0x18f)]['forEach'](_0xd8d9a=>{const _0x193375=_0x4359ab;!_0x2a92d4&&(_0x2a92d4=_0xd8d9a['changes'][_0x193375(0x1c9)](_0x243d3b=>_0x243d3b['coin']==_0x3bf07e[_0x193375(0x211)]),_0x2a92d4&&(_0x46d122=_0x2a92d4['number'],_0x25f12c=_0x2a92d4[_0x193375(0xd4)]));});let _0x12b52b=dbCoinResults[_0x4359ab(0x154)]('coins')['find']({'coin':_0x3bf07e['coin']})[_0x4359ab(0xea)]();_0x12b52b={'coin':_0x3bf07e[_0x4359ab(0x211)],'number':_0x46d122,'breakeven':_0x25f12c,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4359ab(0x154)](_0x4359ab(0x125))[_0x4359ab(0x1c9)]({'coin':_0x3bf07e[_0x4359ab(0x211)]})['assign'](_0x12b52b)[_0x4359ab(0x208)]();}}_0x1e89c7[_0x4359ab(0xd3)]((_0x23d659,_0x51d42c)=>_0x23d659['datetime']>_0x51d42c['datetime']?0x1:_0x51d42c[_0x4359ab(0x153)]>_0x23d659[_0x4359ab(0x153)]?-0x1:0x0);let _0x577b1e=0x0;for(let _0xcc5c69 of _0x1e89c7){await updateCoinResults(_0xcc5c69,!![]);}}catch(_0x2957df){await handleError(_0x2957df,_0x4359ab(0x1b0));}}async function getAllEventOrders(_0x36b0cb){const _0x134331=_0x25d848;let _0x36bab9=[],_0x1cb3e8=dbLogs[_0x134331(0x154)](_0x134331(0x20a))[_0x134331(0x13c)](_0x1e524f=>{const _0x4dcc0c=_0x134331,_0x1c7541=_0x1e524f[_0x4dcc0c(0x249)][_0x4dcc0c(0x17c)]();return _0x1c7541[_0x4dcc0c(0x1d5)](_0x36b0cb[_0x4dcc0c(0x17c)]())&&(_0x1c7541[_0x4dcc0c(0x1d5)](_0x4dcc0c(0x150))&&_0x1c7541['includes'](_0x4dcc0c(0x22b))||_0x1c7541[_0x4dcc0c(0x1d5)]('filled')&&_0x1c7541[_0x4dcc0c(0x1d5)](_0x4dcc0c(0x22b)));})['sortBy'](_0x134331(0x16b))[_0x134331(0xea)]();return _0x1cb3e8['forEach'](_0x15caca=>{const _0x304a14=_0x134331,_0x2f43e8=_0x15caca[_0x304a14(0x249)]['includes'](_0x304a14(0x116))?'sell':_0x304a14(0x231),_0x5b9caa=/#([0-9]|\.)+\s/i,_0x3f64c6=Number(_0x5b9caa[_0x304a14(0x173)](_0x15caca['event'])[0x0][_0x304a14(0x16a)](0x1)),_0x42a354=/@([0-9]|\.)+$/i,_0x197ce1=Number(_0x42a354[_0x304a14(0x173)](_0x15caca[_0x304a14(0x249)])[0x0]['slice'](0x1));_0x36bab9[_0x304a14(0x1c6)]({'datetime':_0x15caca[_0x304a14(0x16b)],'coin':symbolToCoin(_0x36b0cb),'symbol':_0x36b0cb,'side':_0x2f43e8,'amount':_0x3f64c6,'filled':_0x3f64c6,'price':_0x197ce1});}),_0x36bab9;}async function getAllOrders(_0x182874,_0xecf894){const _0x56f308=_0x25d848;let _0x1b6a7a=[];while(_0xecf894<exchange[_0x56f308(0x20f)]()){const _0x1ddff3=0x1f4,_0x12bd16=await exchange[_0x56f308(0x1c3)](_0x182874,_0xecf894,_0x1ddff3);if(_0x12bd16[_0x56f308(0x1a4)])_0xecf894=_0x12bd16[_0x12bd16[_0x56f308(0x1a4)]-0x1]['timestamp']+0x1,_0x1b6a7a=_0x1b6a7a[_0x56f308(0x13e)](_0x12bd16);else break;}return _0x1b6a7a;}async function validate24hChanges(){const _0x2c11c4=_0x25d848;for(const _0x198707 of currentCoins){if(_0x198707['coin']!=config[_0x2c11c4(0x1d0)]){let _0x14770b;_0x198707[_0x2c11c4(0x140)]?_0x14770b=formatResult((0x1/(global[_0x2c11c4(0x17e)][noslash(_0x198707[_0x2c11c4(0x1ac)])]/0x64+0x1)-0x1)*0x64,0x3):_0x14770b=global[_0x2c11c4(0x17e)][noslash(_0x198707[_0x2c11c4(0x1ac)])],_0x14770b<config[_0x2c11c4(0x23f)]&&(logHistory('error',_0x198707[_0x2c11c4(0x211)]+_0x2c11c4(0x1f5)+_0x14770b+'%'),logHistory(_0x2c11c4(0x1b8),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x2c11c4(0x1b8),_0x2c11c4(0x1a9)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x394377,_0x134d90){const _0x4a08bd=_0x25d848;if(!_0x394377)return!![];const _0x11cd05=_0x134d90['split']('.'),_0x340353=_0x394377[_0x4a08bd(0xed)]('.');for(var _0xf9da39=0x0;_0xf9da39<_0x340353[_0x4a08bd(0x1a4)];_0xf9da39++){const _0x285312=~~_0x340353[_0xf9da39],_0xbf654=~~_0x11cd05[_0xf9da39];if(_0x285312<_0xbf654)return!![];if(_0x285312>_0xbf654)return![];}return![];}async function oneTimeMigration(){const _0x5ce108=_0x25d848;let _0x8d1bc5=dbLogs[_0x5ce108(0x154)](_0x5ce108(0x1b1))[_0x5ce108(0xea)]();if(isOlderVersion(_0x8d1bc5,_0x5ce108(0x11a))){let _0x341488=[];const _0x2a269f=dbLogs[_0x5ce108(0x154)]('logs')[_0x5ce108(0xea)]();_0x2a269f[_0x5ce108(0x185)](_0x2af564=>{const _0x1c2c0d=_0x5ce108;_0x341488[_0x1c2c0d(0x1c6)]({'time':_0x2af564[_0x1c2c0d(0x16b)],'type':_0x2af564[_0x1c2c0d(0x1a2)],'event':_0x2af564[_0x1c2c0d(0x249)]});}),dbLogs[_0x5ce108(0x154)](_0x5ce108(0x20a))[_0x5ce108(0x22c)](_0x341488)[_0x5ce108(0x208)]();}let _0x4f4f97=dbConfig[_0x5ce108(0x154)](_0x5ce108(0x1b1))[_0x5ce108(0xea)]();if(isOlderVersion(_0x4f4f97,_0x5ce108(0x11a))){let _0x113cb3=dbConfig['get'](_0x5ce108(0x1f2))[_0x5ce108(0x1c9)]({'botID':botID})[_0x5ce108(0xea)]();if(_0x113cb3){let _0x5b9502=[];_0x113cb3['portfolio'][_0x5ce108(0x185)](_0x1c0553=>{const _0x10c4cf=_0x5ce108;_0x5b9502[_0x10c4cf(0x1c6)]({'coin':_0x1c0553[_0x10c4cf(0x211)],'number':_0x1c0553['startnumber'],'price':_0x1c0553['startprice']}),delete _0x1c0553[_0x10c4cf(0x22e)],delete _0x1c0553[_0x10c4cf(0x253)];});if(_0x5b9502[_0x5ce108(0x1a4)]!==0x0)fs[_0x5ce108(0x244)](configbackuppath+(_0x5ce108(0x163)+botID+_0x5ce108(0x15a)),JSON[_0x5ce108(0x143)](_0x5b9502,null,0x4),function(_0x4af3d8){if(_0x4af3d8){}});const _0x2e824e=(_0x427ab7,_0x5ef239)=>{const _0x20006f=_0x5ce108;let _0x350498=[];_0x5ef239[_0x20006f(0x185)](_0x327350=>{const _0x5edec6=_0x20006f,_0x1ce995=_0x427ab7[_0x5edec6(0x1c9)](_0x392fb6=>_0x392fb6[_0x5edec6(0x211)]==_0x327350[_0x5edec6(0x211)]);if(!_0x1ce995)_0x350498[_0x5edec6(0x1c6)](_0x327350);});let _0xc9bb0f=[];return _0x427ab7['forEach'](_0x11857a=>{const _0x5a9911=_0x20006f,_0x2f1829=_0x5ef239['find'](_0x557ef4=>_0x557ef4[_0x5a9911(0x211)]==_0x11857a[_0x5a9911(0x211)]);if(!_0x2f1829||_0x2f1829[_0x5a9911(0xe3)]==0x0&&_0x11857a[_0x5a9911(0xe3)]!=0x0)_0xc9bb0f[_0x5a9911(0x1c6)](_0x11857a);}),{'missingDay1':_0x350498,'notInDay2':_0xc9bb0f};},_0xfc21da=dbPerformance[_0x5ce108(0x154)]('data')['cloneDeep']()[_0x5ce108(0xea)]();if(_0xfc21da['length']>0x1){const {missingDay1:_0xf182cf,notInDay2:_0x23f907}=_0x2e824e(_0x5b9502,_0xfc21da[0x1][_0x5ce108(0x125)]);_0x5b9502=[..._0x5b9502,..._0xf182cf],_0x23f907['forEach'](_0x4e6cf1=>{const _0x2d5de6=_0x5ce108;let _0xee5f31=_0x5b9502['findIndex'](_0x20e9f4=>_0x20e9f4[_0x2d5de6(0x211)]==_0x4e6cf1[_0x2d5de6(0x211)]);_0xee5f31!=-0x1&&_0x5b9502[_0x2d5de6(0x227)](_0xee5f31,0x1);});}_0x5b9502[_0x5ce108(0xd3)]((_0x125d81,_0x558b7a)=>_0x125d81[_0x5ce108(0x211)]>_0x558b7a[_0x5ce108(0x211)]?0x1:_0x558b7a[_0x5ce108(0x211)]>_0x125d81[_0x5ce108(0x211)]?-0x1:0x0);let _0x403be1=[{'date':_0x113cb3[_0x5ce108(0x1e5)],'changes':_0x5b9502}];_0xfc21da[_0x5ce108(0x1a4)]>0x2&&_0xfc21da[_0x5ce108(0x185)]((_0xcffb35,_0x4c7312)=>{const _0x26b085=_0x5ce108;if(_0x4c7312>0x0&&_0x4c7312<_0xfc21da[_0x26b085(0x1a4)]-0x1){const {missingDay1:_0x4d24e6,notInDay2:_0xfe866f}=_0x2e824e(_0xfc21da[_0x4c7312][_0x26b085(0x125)],_0xfc21da[_0x4c7312+0x1][_0x26b085(0x125)]);_0x5b9502=[],(_0x4d24e6[_0x26b085(0x1a4)]!=0x0||_0xfe866f['length']!=0x0)&&(_0x4d24e6[_0x26b085(0x1a4)]!=0x0&&_0x5b9502[_0x26b085(0x1c6)](..._0x4d24e6),_0xfe866f['length']!=0x0&&(_0xfe866f[_0x26b085(0x185)](_0x2a7c4a=>{_0x2a7c4a['number']=-_0x2a7c4a['number'];}),_0x5b9502[_0x26b085(0x1c6)](..._0xfe866f)),_0x5b9502[_0x26b085(0xd3)]((_0x264371,_0x7a8ccf)=>_0x264371[_0x26b085(0x211)]>_0x7a8ccf[_0x26b085(0x211)]?0x1:_0x7a8ccf['coin']>_0x264371[_0x26b085(0x211)]?-0x1:0x0),_0x403be1[_0x26b085(0x1c6)]({'date':_0xfc21da[_0x4c7312+0x1]['date'],'changes':_0x5b9502}));}}),dbConfig[_0x5ce108(0x154)](_0x5ce108(0x1f2))['find']({'botID':botID})[_0x5ce108(0x22c)]({..._0x113cb3,'liquidity':_0x403be1})[_0x5ce108(0x208)]();}}if(isOlderVersion(_0x4f4f97,_0x5ce108(0x11f))){let _0x263a6d=dbConfig[_0x5ce108(0x154)](_0x5ce108(0x1f2))[_0x5ce108(0x1c9)]({'botID':botID})[_0x5ce108(0xea)]();if(_0x263a6d){const _0x204351=_0x263a6d[_0x5ce108(0x239)],_0x1143ad=_0x204351?capitalize(_0x204351):_0x5ce108(0x1e3);dbConfig[_0x5ce108(0x154)]('bot')[_0x5ce108(0x1c9)]({'botID':botID})[_0x5ce108(0x22c)]({'exchange':_0x1143ad})['write']();}}let _0x2ac62f=dbPerformance[_0x5ce108(0x154)]('version')[_0x5ce108(0xea)]();isOlderVersion(_0x2ac62f,_0x5ce108(0x11a))&&setStartDatePerformance();let _0x228b6a=dbCoinResults[_0x5ce108(0x154)](_0x5ce108(0x1b1))[_0x5ce108(0xea)]();if(isOlderVersion(_0x228b6a,_0x5ce108(0x136))){let _0x4ea1a9=dbCoinResults[_0x5ce108(0x154)](_0x5ce108(0x125))[_0x5ce108(0xea)]();if(_0x4ea1a9['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x1a98b3=_0x25d848;dbConfig[_0x1a98b3(0x24d)](_0x1a98b3(0x1b1),serverversion)['write'](),dbPerformance[_0x1a98b3(0x24d)](_0x1a98b3(0x1b1),serverversion)['write'](),dbLogs[_0x1a98b3(0x24d)]('version',serverversion)[_0x1a98b3(0x208)](),dbCoinResults[_0x1a98b3(0x24d)]('version',serverversion)[_0x1a98b3(0x208)]();}function getConfiguration(_0x2d1b8f){const _0x5e87b6=_0x25d848;let _0x280459=dbConfig[_0x5e87b6(0x154)](_0x5e87b6(0x1f2))[_0x5e87b6(0x1c9)]({'botID':_0x2d1b8f})[_0x5e87b6(0xea)]();if(_0x280459){let _0x4047b8=![];typeof _0x280459[_0x5e87b6(0x13f)]==_0x5e87b6(0x23b)&&(_0x280459={..._0x280459,'threshold':Number(_0x280459[_0x5e87b6(0x13f)])},_0x4047b8=!![]),_0x280459[_0x5e87b6(0x23f)]==undefined&&(_0x280459={..._0x280459,'change24h':-0x14},_0x4047b8=!![]),_0x280459[_0x5e87b6(0x233)]==undefined&&(_0x280459={..._0x280459,'fiat':_0x5e87b6(0x124)},_0x4047b8=!![]),_0x280459[_0x5e87b6(0x19f)]==undefined&&(_0x280459={..._0x280459,'onepagemode':settings[_0x5e87b6(0x19f)]},_0x4047b8=!![]),_0x280459[_0x5e87b6(0x190)]==undefined&&(_0x280459={..._0x280459,'colorscheme':_0x5e87b6(0x24c)},_0x4047b8=!![]),_0x280459['autoliquidity']==undefined&&(_0x280459={..._0x280459,'autoliquidity':!![]},_0x4047b8=!![]),_0x4047b8&&(_0x280459={'botID':_0x280459['botID'],'exchange':_0x280459[_0x5e87b6(0x239)],'apiKey':_0x280459[_0x5e87b6(0xfa)],'apiSecret':_0x280459[_0x5e87b6(0x1a8)],'apiPassword':_0x280459[_0x5e87b6(0x1ee)],'basecoin':_0x280459['basecoin'],'botname':_0x280459[_0x5e87b6(0x220)],'showname':_0x280459[_0x5e87b6(0x1fc)],'threshold':_0x280459['threshold'],'ordertype':_0x280459['ordertype'],'timeout':_0x280459[_0x5e87b6(0x167)],'fiat':_0x280459[_0x5e87b6(0x233)],'startdate':_0x280459[_0x5e87b6(0x1e5)],'recreate':_0x280459['recreate'],'timeshift':_0x280459['timeshift'],'onepagemode':_0x280459[_0x5e87b6(0x19f)],'headless':_0x280459['headless'],'cooldown':_0x280459[_0x5e87b6(0x1ab)],'change24h':_0x280459[_0x5e87b6(0x23f)],'emojibuy':_0x280459[_0x5e87b6(0x1b9)],'emojisell':_0x280459['emojisell'],'colorscheme':_0x280459[_0x5e87b6(0x190)],'portfolio':_0x280459[_0x5e87b6(0x17f)],'autoliquidity':_0x280459['autoliquidity'],'liquidity':_0x280459[_0x5e87b6(0x18f)],'openOrders':_0x280459[_0x5e87b6(0x246)]},dbConfig['get'](_0x5e87b6(0x1f2))[_0x5e87b6(0x1c8)]()[_0x5e87b6(0x208)](),dbConfig[_0x5e87b6(0x154)](_0x5e87b6(0x1f2))[_0x5e87b6(0x1c6)](_0x280459)['write']());}else _0x280459={'botID':_0x2d1b8f,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x5e87b6(0x262)+_0x2d1b8f,'showname':![],'threshold':0x3,'ordertype':_0x5e87b6(0x150),'timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings[_0x5e87b6(0x19f)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x280459;}function emittedConfiguration(){const _0x319c=_0x25d848;let _0x15b802;if(config[_0x319c(0xfa)]=='')_0x15b802={...config,'configstate':_0x319c(0x195)};else config[_0x319c(0xfa)]=='***'?_0x15b802={...config,'configstate':_0x319c(0xdf)}:(_0x15b802={...config,'apiKey':_0x319c(0x1c2),'apiSecret':_0x319c(0x1c2)},config[_0x319c(0x1ee)]&&(_0x15b802['apiPassword']=_0x319c(0x1c2)));return _0x15b802;}function getSettings(){return dbSettings['get']('settings')['value']();}function getSecure(){const _0x4858d7=_0x25d848;return dbSecure[_0x4858d7(0x154)](_0x4858d7(0x1d2))[_0x4858d7(0xea)]()||{};}function updateTimeshift(_0x149da0){const _0x50a59e=_0x25d848;let _0x538d0c=dbConfig[_0x50a59e(0x154)](_0x50a59e(0x1f2))[_0x50a59e(0x1c9)]({'botID':botID})['value']();_0x538d0c&&dbConfig['get']('bot')['find']({'botID':botID})['assign']({'timeshift':_0x149da0})[_0x50a59e(0x208)](),config[_0x50a59e(0x132)]=_0x149da0,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x2ed103){const _0x51d15e=_0x25d848;let _0x119459=dbConfig[_0x51d15e(0x154)]('bot')['find']({'botID':botID})[_0x51d15e(0xea)]();_0x119459&&dbConfig[_0x51d15e(0x154)](_0x51d15e(0x1f2))[_0x51d15e(0x1c9)]({'botID':botID})[_0x51d15e(0x22c)]({'onepagemode':_0x2ed103})['write'](),config[_0x51d15e(0x19f)]=_0x2ed103,proxyEmit(_0x51d15e(0x14f),emittedConfiguration());}async function storeConfiguration(_0x3bd466){const _0x500e34=_0x25d848;logger[_0x500e34(0x198)](_0x500e34(0x113));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x500e34(0x198)](_0x500e34(0x1ed));let _0x246de9=[],_0x9052bd=![],_0x8ca7bf=![],_0xcbfd5e=[];_0x3bd466[_0x500e34(0x17f)][_0x500e34(0x185)](_0x196263=>{const _0x24656a=_0x500e34;if(!_0x196263[_0x24656a(0x111)]&&_0x196263['coin']!=_0x3bd466[_0x24656a(0x1d0)])_0xcbfd5e['push'](_0x196263[_0x24656a(0x1ac)]);}),_0xcbfd5e['forEach'](_0x492256=>{const _0x4b8900=_0x500e34,_0x4d7508=watchedSymbols[_0x4b8900(0x1d5)](_0x492256);!_0x4d7508&&_0x246de9[_0x4b8900(0x1c6)](_0x492256);}),_0xcbfd5e['forEach'](_0x1b40ae=>{const _0x4471fa=_0x500e34,_0x23c5a8=currentCoins[_0x4471fa(0x1c9)](_0x280be6=>_0x280be6[_0x4471fa(0x1ac)]==_0x1b40ae);!_0x23c5a8&&(_0x9052bd=!![]);}),currentCoins['forEach'](_0x3c432b=>{const _0x6b6e5=_0x500e34;if(_0x3c432b[_0x6b6e5(0x211)]!=config['basecoin']){const _0x4c4646=_0xcbfd5e['find'](_0x5f18b6=>_0x5f18b6==_0x3c432b[_0x6b6e5(0x1ac)]);!_0x4c4646&&(_0x9052bd=!![]);}}),_0x3bd466['portfolio']['forEach'](_0x47d266=>{const _0x2011b3=_0x500e34,_0x1dc8e3=config['portfolio']['find'](_0x1810c4=>_0x1810c4[_0x2011b3(0x211)]==_0x47d266[_0x2011b3(0x211)]);if(_0x1dc8e3&&_0x47d266['offset']!=_0x1dc8e3['offset'])_0x8ca7bf=!![];});let _0x1d6bd8=dbConfig['get'](_0x500e34(0x1f2))['find']({'botID':botID})[_0x500e34(0xea)]();_0x3bd466={..._0x3bd466,'apiKey':crypt['decrypt'](secure['privateKey'],_0x3bd466[_0x500e34(0xfa)])['message'],'apiSecret':crypt[_0x500e34(0x1de)](secure[_0x500e34(0x184)],_0x3bd466[_0x500e34(0x1a8)])[_0x500e34(0x21b)]};_0x3bd466['apiPassword']&&(_0x3bd466['apiPassword']=crypt[_0x500e34(0x1de)](secure[_0x500e34(0x184)],_0x3bd466[_0x500e34(0x1ee)])[_0x500e34(0x21b)]);let _0x2e266c=![];if(_0x1d6bd8){_0x3bd466['apiKey']==_0x500e34(0x1c2)?_0x3bd466[_0x500e34(0xfa)]=config[_0x500e34(0xfa)]:_0x2e266c=!![];_0x3bd466[_0x500e34(0x1a8)]=='************'?_0x3bd466[_0x500e34(0x1a8)]=config[_0x500e34(0x1a8)]:_0x2e266c=!![];if(_0x3bd466['apiPassword']==_0x500e34(0x1c2))_0x3bd466[_0x500e34(0x1ee)]=config[_0x500e34(0x1ee)];else{if(_0x3bd466['apiPassword'])_0x2e266c=!![];}dbConfig[_0x500e34(0x154)](_0x500e34(0x1f2))[_0x500e34(0x1c9)]({'botID':botID})[_0x500e34(0x22c)](_0x3bd466)[_0x500e34(0x208)]();}else dbConfig[_0x500e34(0x154)](_0x500e34(0x1f2))['push'](_0x3bd466)[_0x500e34(0x208)](),_0x2e266c=!![],process[_0x500e34(0x14c)]({'status':'enabled','live':_0x500e34(0x129)},_0x5afacf=>{});process[_0x500e34(0x14c)]({'botname':_0x3bd466['botname']},_0x322d32=>{}),updateBotManager(),config={..._0x3bd466},proxyEmit(_0x500e34(0x1ba)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x2e266c)await reset(_0x246de9,!![]);else _0x9052bd||_0x8ca7bf?await reset(_0x246de9,![]):getBalances();blockTransactionDetection=![],logger[_0x500e34(0x198)](_0x500e34(0x21d));}async function storeHeadless(_0x2e4907){const _0x2f4cda=_0x25d848,_0x276227={...config,'headless':_0x2e4907[_0x2f4cda(0x177)]};let _0x1b0281=dbConfig[_0x2f4cda(0x154)](_0x2f4cda(0x1f2))[_0x2f4cda(0x1c9)]({'botID':botID})[_0x2f4cda(0xea)]();_0x1b0281&&dbConfig[_0x2f4cda(0x154)]('bot')[_0x2f4cda(0x1c9)]({'botID':botID})['assign'](_0x276227)[_0x2f4cda(0x208)](),config={..._0x276227},updateBotManager(),proxyEmit(_0x2f4cda(0x14f),emittedConfiguration());}async function storeFiat(_0x1d1f38){const _0x2de782=_0x25d848,_0x360b18={...config,'fiat':_0x1d1f38};let _0x4e03dd=dbConfig[_0x2de782(0x154)](_0x2de782(0x1f2))['find']({'botID':botID})[_0x2de782(0xea)]();_0x4e03dd&&dbConfig[_0x2de782(0x154)](_0x2de782(0x1f2))[_0x2de782(0x1c9)]({'botID':botID})[_0x2de782(0x22c)](_0x360b18)[_0x2de782(0x208)](),config={..._0x360b18},proxyEmit(_0x2de782(0x14f),emittedConfiguration());}function resetHistory(){const _0x2714a4=_0x25d848;logger[_0x2714a4(0x1cd)]('Resetting\x20bot\x20history');try{if(fs['existsSync'](path['join'](configpath,_0x2714a4(0x193)+botID+_0x2714a4(0x126))))fs[_0x2714a4(0x13b)](path['join'](configpath,_0x2714a4(0x193)+botID+_0x2714a4(0x126)));if(fs[_0x2714a4(0x230)](path[_0x2714a4(0x21e)](configpath,'bot-'+botID+_0x2714a4(0x22d))))fs[_0x2714a4(0x13b)](path[_0x2714a4(0x21e)](configpath,_0x2714a4(0x193)+botID+'-performance.json'));if(fs[_0x2714a4(0x230)](path[_0x2714a4(0x21e)](configpath,_0x2714a4(0x193)+botID+_0x2714a4(0x202))))fs['unlinkSync'](path[_0x2714a4(0x21e)](configpath,'bot-'+botID+_0x2714a4(0x202)));}catch(_0x214472){if(_0x214472)logger[_0x2714a4(0x1cd)]('Error\x20while\x20deleting\x20files:\x20',_0x214472);}const _0x1a0243=getDate();let _0x3a3c02=[];currentCoins[_0x2714a4(0x185)](_0x28bbe9=>{const _0x4dc5f5=_0x2714a4;_0x3a3c02[_0x4dc5f5(0x1c6)]({'coin':_0x28bbe9[_0x4dc5f5(0x211)],'number':_0x28bbe9[_0x4dc5f5(0xe3)],'price':_0x28bbe9[_0x4dc5f5(0x1d6)]});});let _0x12df36=dbConfig[_0x2714a4(0x154)](_0x2714a4(0x1f2))[_0x2714a4(0x1c9)]({'botID':botID})[_0x2714a4(0xea)]();_0x12df36&&(dbConfig[_0x2714a4(0x154)](_0x2714a4(0x1f2))[_0x2714a4(0x1c9)]({'botID':botID})[_0x2714a4(0x22c)]({'liquidity':[{'date':_0x1a0243,'changes':_0x3a3c02}]})['write'](),config[_0x2714a4(0x18f)]=[]),process['send']({'stop':_0x2714a4(0xdb)},_0x1817a3=>{});}function noslash(_0x1b54c4){const _0x21f458=_0x25d848;return _0x1b54c4[_0x21f458(0x102)]('/','');}function updateHighestFee(_0x2a72bd){const _0xfb70dd=_0x25d848;if(_0x2a72bd[_0xfb70dd(0x140)]){let _0x2f4fc0={'filled':_0x2a72bd[_0xfb70dd(0x1f7)]*_0x2a72bd['price'],'amount':_0x2a72bd[_0xfb70dd(0x1f7)]*_0x2a72bd[_0xfb70dd(0xd4)],'side':_0x2a72bd['side']==_0xfb70dd(0x116)?_0xfb70dd(0x231):_0xfb70dd(0x116),'price':0x1/_0x2a72bd[_0xfb70dd(0xd4)]};_0x2a72bd={..._0x2a72bd,..._0x2f4fc0};}const _0x5af147=defaultFee*_0x2a72bd[_0xfb70dd(0x1f7)]*_0x2a72bd['price'];lastFees[_0xfb70dd(0x130)][_0xfb70dd(0x1a4)]===0x14&&lastFees[_0xfb70dd(0x130)][_0xfb70dd(0x134)](),lastFees[_0xfb70dd(0x130)]['push'](_0x5af147),lastFees[_0xfb70dd(0x104)]=Math[_0xfb70dd(0xe9)](...lastFees[_0xfb70dd(0x130)]);}async function updateNumberCoinsCcxt(_0x4a9ed1){const _0x2cd6d1=_0x25d848;logger[_0x2cd6d1(0x198)]('0\x20-\x20EXECUTION:\x20'+_0x4a9ed1['symbol']+_0x2cd6d1(0x123)+_0x4a9ed1[_0x2cd6d1(0x182)]+'\x20|\x20'+_0x4a9ed1['id']);let _0x50e845=_0x4a9ed1[_0x2cd6d1(0x182)],_0x5d4c92=![];currentCoins[_0x2cd6d1(0x185)](_0x3b5ab7=>{const _0x471dea=_0x2cd6d1;_0x3b5ab7['symbol']==_0x4a9ed1[_0x471dea(0x1ac)]&&(_0x5d4c92=!![]);});if(!_0x5d4c92)return;const _0x46314b=currentCoins[_0x2cd6d1(0x1c9)](_0x499094=>_0x499094[_0x2cd6d1(0x1ac)]==_0x4a9ed1[_0x2cd6d1(0x1ac)]),_0x338dc0=_0x29ad13=>{const _0x2d993d=_0x2cd6d1;if(_0x46314b)_0x46314b[_0x2d993d(0x1eb)]=_0x29ad13;};if(_0x50e845==_0x2cd6d1(0x19c))_0x338dc0(_0x2cd6d1(0x19c));else{if(_0x50e845==_0x2cd6d1(0x240)){_0x338dc0(_0x2cd6d1(0x240));const _0x27dba4=await getCoins();[currentCoins,currentCoinsAll]=_0x27dba4,await getOpenOrders(),handleOpenOrders();}else{if(_0x50e845==_0x2cd6d1(0x1a6)){logger['debug'](_0x2cd6d1(0x215)+_0x4a9ed1[_0x2cd6d1(0x1ac)]+'\x20|\x20'+_0x4a9ed1[_0x2cd6d1(0x1f7)]+_0x2cd6d1(0x123)+_0x4a9ed1['id']);let _0x524cc4=![];if(lastOrders)for(const _0x5a1d3d of lastOrders){const _0x1749cd=0xc8,_0x1857fa=0x1388;let _0x501295=0x0;while(!_0x5a1d3d['orderId']&&_0x501295*_0x1749cd<_0x1857fa){_0x501295++,await sleep(_0x1749cd);}if(_0x501295>0x0)logger[_0x2cd6d1(0x198)](_0x2cd6d1(0x146)+_0x501295*_0x1749cd/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x5a1d3d[_0x2cd6d1(0x1c5)]==_0x4a9ed1['id']){logger[_0x2cd6d1(0x198)](_0x2cd6d1(0x245)+_0x4a9ed1['id']),_0x524cc4=!![];if(_0x5a1d3d['filled']==0x0){logger[_0x2cd6d1(0x198)](_0x2cd6d1(0x172)+_0x4a9ed1['id']);if(_0x4a9ed1[_0x2cd6d1(0x191)])_0x5a1d3d[_0x2cd6d1(0xd4)]=_0x4a9ed1['average'];else{if(_0x4a9ed1[_0x2cd6d1(0xd4)])_0x5a1d3d['price']=_0x4a9ed1[_0x2cd6d1(0xd4)];else{}}_0x5a1d3d[_0x2cd6d1(0x1f7)]=_0x4a9ed1['filled'],updateHighestFee(_0x5a1d3d),_0x338dc0('filled'),await validateOrders();if(lockOrders==ORDERS[_0x2cd6d1(0x10e)]){const _0x2815eb=await getCoins();[currentCoins,currentCoinsAll]=_0x2815eb;}_0x5a1d3d[_0x2cd6d1(0xf1)]={'currency':_0x4a9ed1[_0x2cd6d1(0xf1)]?_0x4a9ed1[_0x2cd6d1(0xf1)]['currency']:null,'cost':_0x4a9ed1[_0x2cd6d1(0xf1)]?_0x4a9ed1['fee'][_0x2cd6d1(0x1e4)]:0x0},await updateCoinResults(_0x5a1d3d);}}}if(!_0x524cc4){logger[_0x2cd6d1(0x198)]('2\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x4a9ed1['id']),_0x338dc0(_0x2cd6d1(0x1f7));const _0x4c5465=await getCoins();[currentCoins,currentCoinsAll]=_0x4c5465,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x4c80c0=JSON[_0x2cd6d1(0x14a)](lastBalances[_0x2cd6d1(0x17f)]);const _0x4da606=_0x4c80c0['find'](_0x2b4ade=>_0x2b4ade[_0x2cd6d1(0x1ac)]==_0x4a9ed1['symbol']);if(_0x4da606){if(_0x50e845==_0x2cd6d1(0x19c))_0x4da606[_0x2cd6d1(0x1eb)]=_0x4da606[_0x2cd6d1(0x1eb)]==_0x2cd6d1(0x1f7)?_0x2cd6d1(0x1f7):_0x2cd6d1(0x19c);else{if(_0x50e845==_0x2cd6d1(0x240))_0x4da606[_0x2cd6d1(0x1eb)]=_0x4da606[_0x2cd6d1(0x1eb)]==_0x2cd6d1(0x1f7)?_0x2cd6d1(0x1f7):'canceled';else _0x50e845==_0x2cd6d1(0x1a6)&&(_0x4da606[_0x2cd6d1(0x1eb)]=_0x2cd6d1(0x1f7));}}lastBalances={...lastBalances,'portfolio':JSON[_0x2cd6d1(0x143)](_0x4c80c0)},proxyEmit(_0x2cd6d1(0x1bf),{'serverversion':serverversion,'balances':lastBalances});}}function _0x43b5(_0x5bfdf9,_0x1745ed){const _0x5a827e=_0x468c();return _0x43b5=function(_0x473f4a,_0x301113){_0x473f4a=_0x473f4a-0xd2;let _0x468c2c=_0x5a827e[_0x473f4a];return _0x468c2c;},_0x43b5(_0x5bfdf9,_0x1745ed);}async function updateOpenOrders(){const _0x498612=_0x25d848;await getOpenOrders();let _0x4722fa=![];currentCoins[_0x498612(0x185)](_0x486e5b=>{const _0x3ea703=_0x498612;_0x4722fa=allOpenOrders[_0x3ea703(0x1c9)](_0x3e2be9=>_0x3e2be9[_0x3ea703(0x1ac)]==_0x486e5b[_0x3ea703(0x1ac)]),_0x486e5b[_0x3ea703(0x1eb)]=_0x4722fa?_0x3ea703(0x19c):_0x3ea703(0xfc);});}async function getCoins(_0x5c8641=!![],_0xd8e22c=config['basecoin']){const _0x31a58f=_0x25d848;let _0x2cb4fa,_0x25545c=[],_0x23b44e=[],_0x345361=[],_0x3cf973=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x2cb4fa=await exchange['fetchBalance'](),mybalances=_0x2cb4fa[_0x31a58f(0x248)];for(const [_0x3f3f84,_0x4b328c]of Object[_0x31a58f(0x1ca)](mybalances)){_0x3cf973['push'](_0x3f3f84);}if(_0xd8e22c=='')for(const [_0x4e7581,_0x53dbb4]of Object[_0x31a58f(0x1ca)](mybalances)){_0x53dbb4!=0x0&&_0x23b44e[_0x31a58f(0x1c6)]({'coin':_0x4e7581});}else{let _0x51ca98=![];for(const [_0x5ed86c,_0x32978d]of Object[_0x31a58f(0x1ca)](mybalances)){if(_0x3cf973[_0x31a58f(0x1d5)](_0x5ed86c)){const _0x1a9fdb=config[_0x31a58f(0x17f)][_0x31a58f(0x1c9)](_0x168a34=>_0x168a34[_0x31a58f(0x211)]==_0x5ed86c),_0x3166fa=_0x5ed86c+'/'+_0xd8e22c,_0x1855b4=_0xd8e22c+'/'+_0x5ed86c,_0x2aa97c=currentCoins[_0x31a58f(0x1c9)](_0x521bbe=>_0x521bbe[_0x31a58f(0x211)]==_0x5ed86c);_0x51ca98=![];if((_0x32978d!=0x0||_0x1a9fdb)&&(allSymbols[_0x31a58f(0x1d5)](_0x3166fa)||_0x5ed86c==_0xd8e22c))_0x5ed86c!=_0xd8e22c&&_0x25545c['push'](_0x3166fa),_0x23b44e[_0x31a58f(0x1c6)]({'coin':_0x5ed86c,'symbol':_0x3166fa,'reverse':![],'number':Math[_0x31a58f(0xe9)](_0x32978d+(_0x1a9fdb&&_0x1a9fdb[_0x31a58f(0x252)]||0x0),0x0),'orderstatus':_0x2aa97c?_0x2aa97c[_0x31a58f(0x1eb)]:_0x31a58f(0xfc)});else(_0x32978d!=0x0||_0x1a9fdb)&&allSymbols['includes'](_0x1855b4)&&(_0x5ed86c!=_0xd8e22c&&_0x25545c[_0x31a58f(0x1c6)](_0x1855b4),_0x23b44e[_0x31a58f(0x1c6)]({'coin':_0x5ed86c,'symbol':_0x1855b4,'reverse':!![],'number':Math['max'](_0x32978d+(_0x1a9fdb&&_0x1a9fdb['offset']||0x0),0x0),'orderstatus':_0x2aa97c?_0x2aa97c[_0x31a58f(0x1eb)]:_0x31a58f(0xfc)}));}}}}catch(_0x489213){if(!_0x5c8641)handleErrorNoStop(_0x489213,_0x31a58f(0x105));else await handleError(_0x489213,'getCoins()');}return _0x345361=cloneDeep(_0x23b44e),_0x23b44e=_0x23b44e[_0x31a58f(0x13c)](_0x1d841a=>{const _0x25188a=_0x31a58f,_0x4f8243=config[_0x25188a(0x17f)][_0x25188a(0x1c9)](_0xebc206=>_0xebc206[_0x25188a(0x211)]==_0x1d841a[_0x25188a(0x211)]);return _0x4f8243&&!_0x4f8243[_0x25188a(0x111)];}),[_0x23b44e,_0x345361];}async function getCoinNumber(_0x5dc709){const _0x1ecbdc=_0x25d848;let _0x58bbe9;try{const _0x2c48a5=await exchange[_0x1ecbdc(0xfb)]();_0x58bbe9=_0x2c48a5[_0x1ecbdc(0x248)][_0x5dc709];}catch(_0x1248be){await handleError(_0x1248be,_0x1ecbdc(0x203));}return _0x58bbe9;}async function getOpenOrders(){const _0x101ab1=_0x25d848;let _0x52e181;allOpenOrders=[];try{for(const _0x48f145 of config[_0x101ab1(0x17f)]){!_0x48f145['excluded']&&_0x48f145['coin']!=config[_0x101ab1(0x1d0)]&&(_0x52e181=await exchange[_0x101ab1(0x247)](_0x48f145['symbol']),_0x52e181[_0x101ab1(0x1a4)]>0x0&&allOpenOrders[_0x101ab1(0x1c6)](_0x52e181[0x0]));}}catch(_0x53140a){await handleError(_0x53140a,'getOpenOrders()');}}async function handleOpenOrders(_0x45fc0d=0x0){const _0xe0afc4=_0x25d848;allOpenOrders[_0xe0afc4(0x1a4)]==0x0&&lockOrders==ORDERS[_0xe0afc4(0x10e)]&&allOrdersPlaced&&(_0x45fc0d==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x45fc0d++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0xe0afc4(0xe1)),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x2eece8){const _0xb8d7ee=_0x25d848,_0xa967b5=ccxt[_0xb8d7ee(0x241)][_0x2eece8['exchange'][_0xb8d7ee(0x17c)]()],_0x25aca9=new _0xa967b5({'apiKey':_0x2eece8[_0xb8d7ee(0xfa)],'secret':_0x2eece8[_0xb8d7ee(0x1a8)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0xb8d7ee(0x1f8)}});if(_0x2eece8[_0xb8d7ee(0x1ee)])_0x25aca9[_0xb8d7ee(0x1e9)]=_0x2eece8['apiPassword'];try{await _0x25aca9[_0xb8d7ee(0x1e2)]();}catch(_0xa689ba){throw _0xa689ba;}}function cloneDeep(_0x1c41ca){const _0x28b9bc=_0x25d848;return JSON[_0x28b9bc(0x14a)](JSON[_0x28b9bc(0x143)](_0x1c41ca));}async function getPortfolio(_0x3d991b){const _0x13352c=_0x25d848;let _0x55eb9f=[],_0x4d0ae2=[],_0x113567=[],_0x5923b5;if(_0x3d991b[_0x13352c(0xfa)]!==_0x13352c(0x1c2)||_0x3d991b[_0x13352c(0x1a8)]!=='************'||_0x3d991b[_0x13352c(0x1ee)]&&_0x3d991b[_0x13352c(0x1ee)]!==_0x13352c(0x1c2)){if(config['exchange']){if(_0x3d991b[_0x13352c(0xfa)]=='************')_0x3d991b[_0x13352c(0xfa)]=config[_0x13352c(0xfa)];if(_0x3d991b[_0x13352c(0x1a8)]==_0x13352c(0x1c2))_0x3d991b[_0x13352c(0x1a8)]=config[_0x13352c(0x1a8)];if(_0x3d991b[_0x13352c(0x1ee)]==_0x13352c(0x1c2))_0x3d991b[_0x13352c(0x1ee)]=config['apiPassword'];try{await testAPI(_0x3d991b);}catch(_0x39976e){if(_0x39976e[_0x13352c(0x25c)]()[_0x13352c(0x1d5)](_0x13352c(0x1c0))){logger[_0x13352c(0x198)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x13352c(0x17f),![]);return;}else{handleError(_0x39976e,'getPortfolio(0)');return;}}}await initExchange(_0x3d991b['exchange'],_0x3d991b['apiKey'],_0x3d991b['apiSecret'],_0x3d991b[_0x13352c(0x1ee)]);try{await loadSymbols(_0x3d991b['exchange'],!![]);}catch(_0x5771a9){if(_0x5771a9['toString']()['includes'](_0x13352c(0x1c0))){proxyEmit('portfolio',![]);return;}else{handleError(_0x5771a9,_0x13352c(0x164));return;}}const _0x525b56=await getCoins(![],_0x3d991b[_0x13352c(0x1d0)]);_0x113567=cloneDeep(_0x525b56[0x1]);}else _0x113567=cloneDeep(currentCoinsAll);if(_0x3d991b[_0x13352c(0x1d0)]=='')proxyEmit(_0x13352c(0x17f),_0x113567);else{_0x113567[_0x13352c(0x185)](_0x19b870=>{const _0x4e3700=_0x13352c;if(_0x19b870['coin']!=_0x3d991b[_0x4e3700(0x1d0)])_0x55eb9f['push'](_0x19b870['symbol']);});try{_0x4d0ae2=await exchange[_0x13352c(0x1dc)](_0x55eb9f);}catch(_0x18ec5c){if(_0x18ec5c[_0x13352c(0x25c)]()[_0x13352c(0x1d5)](_0x13352c(0x1c0))){proxyEmit(_0x13352c(0x17f),![]);return;}else{handleError(_0x18ec5c,_0x13352c(0xde));return;}}_0x113567['forEach'](_0x1a96ad=>{const _0x2c6b00=_0x13352c;_0x1a96ad[_0x2c6b00(0x211)]!=_0x3d991b[_0x2c6b00(0x1d0)]?_0x5923b5=_0x1a96ad[_0x2c6b00(0x140)]?0x1/_0x4d0ae2[_0x1a96ad[_0x2c6b00(0x1ac)]][_0x2c6b00(0x1d6)]:_0x4d0ae2[_0x1a96ad[_0x2c6b00(0x1ac)]]['last']:_0x5923b5=0x1,_0x1a96ad[_0x2c6b00(0xd4)]=formatResult(_0x5923b5,0x8);}),proxyEmit(_0x13352c(0x17f),_0x113567);}}function truncateTradeAmount(_0x324905,_0x1d5d54){const _0x54f94a=_0x25d848;let _0x483456=0x0;try{_0x483456=exchange[_0x54f94a(0x1df)](_0x324905,_0x1d5d54);}catch(_0x1337e6){}return _0x483456;}function checkMinimums(_0x917f39){const _0x3cb603=_0x25d848;let _0x2354c4=!![];const _0x59c95b=!_0x917f39[_0x3cb603(0x140)]?markets[_0x917f39[_0x3cb603(0x1ac)]][_0x3cb603(0x11e)][_0x3cb603(0x13a)][_0x3cb603(0x144)]:markets[_0x917f39[_0x3cb603(0x1ac)]]['limits'][_0x3cb603(0x1e4)][_0x3cb603(0x144)],_0x54cf2c=!_0x917f39[_0x3cb603(0x140)]?markets[_0x917f39[_0x3cb603(0x1ac)]][_0x3cb603(0x11e)][_0x3cb603(0x1e4)][_0x3cb603(0x144)]:markets[_0x917f39[_0x3cb603(0x1ac)]][_0x3cb603(0x11e)][_0x3cb603(0x13a)][_0x3cb603(0x144)],_0x57b294=truncateTradeAmount(_0x917f39[_0x3cb603(0x1ac)],_0x917f39[_0x3cb603(0x18c)]);_0x917f39[_0x3cb603(0x18c)]=_0x57b294;if(Math[_0x3cb603(0x179)](_0x57b294)<_0x59c95b)_0x2354c4=![];if(Math[_0x3cb603(0x179)](_0x57b294)*_0x917f39[_0x3cb603(0x1d6)]<_0x54cf2c)_0x2354c4=![];if(_0x917f39['side']==_0x3cb603(0x116)){let _0x2da395=config[_0x3cb603(0x17f)][_0x3cb603(0x1c9)](_0x578b1e=>_0x578b1e[_0x3cb603(0x211)]==_0x917f39[_0x3cb603(0x211)]);if(_0x2da395[_0x3cb603(0x252)]>0x0){if(Math[_0x3cb603(0x179)](_0x57b294)>_0x917f39['number']-_0x2da395[_0x3cb603(0x252)])_0x2354c4=![];}else{if(Math[_0x3cb603(0x179)](_0x57b294)>_0x917f39['number'])_0x2354c4=![];}}if(_0x917f39[_0x3cb603(0x20e)]==_0x3cb603(0x231)){let _0x192603=config[_0x3cb603(0x17f)][_0x3cb603(0x1c9)](_0xed8973=>_0xed8973[_0x3cb603(0x211)]==config[_0x3cb603(0x1d0)]),_0x438a52=currentCoins[_0x3cb603(0x1c9)](_0x20bac9=>_0x20bac9[_0x3cb603(0x211)]==config['basecoin']);if(_0x192603[_0x3cb603(0x252)]>0x0){if(Math[_0x3cb603(0x179)](_0x57b294)*_0x917f39[_0x3cb603(0x1d6)]>_0x438a52[_0x3cb603(0xe3)]-_0x192603[_0x3cb603(0x252)])_0x2354c4=![];}else{if(Math['abs'](_0x57b294)*_0x917f39['last']>_0x438a52[_0x3cb603(0xe3)])_0x2354c4=![];}}return _0x2354c4;}async function getBalances(_0x4d3cde=!![]){const _0xca465a=_0x25d848;let _0x1cef31=0x0,_0x57d7dd;const _0x1e7878=config[_0xca465a(0x13f)];if(config[_0xca465a(0x177)]&&config[_0xca465a(0x23f)]<0x0)await validate24hChanges();currentCoins[_0xca465a(0x185)](_0x50b0cb=>{const _0x8aa8c7=_0xca465a;if(_0x50b0cb[_0x8aa8c7(0x211)]!=config[_0x8aa8c7(0x1d0)]){let _0x37db02=global[_0x8aa8c7(0x1bc)][noslash(_0x50b0cb[_0x8aa8c7(0x1ac)])];_0x57d7dd=_0x50b0cb[_0x8aa8c7(0x140)]?0x1/_0x37db02:_0x37db02;}else _0x57d7dd=0x1;let _0x39d691=_0x50b0cb['number']*_0x57d7dd;_0x1cef31+=_0x39d691,_0x50b0cb[_0x8aa8c7(0x1d6)]=formatResult(Number(_0x57d7dd),0x8),_0x50b0cb[_0x8aa8c7(0xea)]=_0x39d691;}),currentCoins[_0xca465a(0x185)](_0x146eb6=>{const _0x1b9dce=_0xca465a;let _0x1cb086=config[_0x1b9dce(0x17f)][_0x1b9dce(0x1c9)](_0x2e6714=>_0x2e6714[_0x1b9dce(0x211)]==_0x146eb6[_0x1b9dce(0x211)]),_0x3e6418=Number(_0x1cb086['distribution']),_0x493529=_0x146eb6[_0x1b9dce(0xea)]/_0x1cef31*0x64,_0x2e1fc6=_0x3e6418*_0x1cef31/0x64/_0x146eb6[_0x1b9dce(0x1d6)]-_0x146eb6[_0x1b9dce(0xe3)];_0x146eb6[_0x1b9dce(0x16f)]=formatResult(_0x493529,0x3),_0x146eb6[_0x1b9dce(0x15d)]=formatResult(_0x3e6418,0x3),_0x146eb6[_0x1b9dce(0x18c)]=formatResult(_0x2e1fc6,0x8),_0x146eb6[_0x1b9dce(0x20e)]='',_0x146eb6['valid']=![];if(_0x146eb6['coin']!=config[_0x1b9dce(0x1d0)]){if(_0x146eb6[_0x1b9dce(0x16f)]>_0x3e6418)_0x146eb6[_0x1b9dce(0x20e)]=_0x1b9dce(0x116),_0x146eb6[_0x1b9dce(0xec)]=checkMinimums(_0x146eb6);else _0x146eb6[_0x1b9dce(0x16f)]<_0x3e6418&&(_0x146eb6[_0x1b9dce(0x20e)]=_0x1b9dce(0x231),_0x146eb6[_0x1b9dce(0xec)]=checkMinimums(_0x146eb6));}_0x146eb6[_0x1b9dce(0x209)]=_0x146eb6[_0x1b9dce(0x16f)]/_0x146eb6[_0x1b9dce(0x15d)]-0x1;if(_0x146eb6[_0x1b9dce(0x1eb)]=='filled'||_0x146eb6[_0x1b9dce(0x1eb)]=='canceled')_0x146eb6[_0x1b9dce(0x1eb)]='none';}),currentCoins[_0xca465a(0xd3)]((_0xd4cad0,_0x3a501a)=>_0xd4cad0[_0xca465a(0x209)]<_0x3a501a[_0xca465a(0x209)]?0x1:_0x3a501a['delta']<_0xd4cad0[_0xca465a(0x209)]?-0x1:0x0);const _0x163abb=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x163abb[_0xca465a(0x17b)],'usd':_0x163abb[_0xca465a(0x1d9)],'portfolio':JSON[_0xca465a(0x143)](currentCoins),'threshold':_0x1e7878},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x4d3cde){if(config[_0xca465a(0x177)])headlessMode({'portfolio':currentCoins,'threshold':_0x1e7878});else{if(lockOrders==ORDERS[_0xca465a(0x19a)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x1e7878});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x44fc9c=getNormalizedPerformance();getStartingBalances(_0x44fc9c),emitPerformance(_0x44fc9c);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x3b9915=getNormalizedPerformance();emitPerformance(_0x3b9915),getStartingBalances(_0x3b9915),logger[_0xca465a(0x198)]('Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x592ef2=_0x25d848;if(!lastBalances)return;let _0x102efa=[],_0x479c72,_0x3aee34=JSON[_0x592ef2(0x14a)](lastBalances['portfolio']);_0x3aee34[_0x592ef2(0xd3)]((_0x552d69,_0x2a74b8)=>_0x552d69[_0x592ef2(0x211)]>_0x2a74b8[_0x592ef2(0x211)]?0x1:_0x2a74b8[_0x592ef2(0x211)]>_0x552d69[_0x592ef2(0x211)]?-0x1:0x0),_0x3aee34[_0x592ef2(0x185)](_0x384187=>{const _0x5dd657=_0x592ef2;let _0x508eb3={'coin':_0x384187[_0x5dd657(0x211)],'number':_0x384187[_0x5dd657(0xe3)],'price':_0x384187[_0x5dd657(0x1d6)]};_0x102efa[_0x5dd657(0x1c6)](_0x508eb3);});const _0x445435=await getFiat();_0x479c72={'date':lastBalances[_0x592ef2(0x16b)][_0x592ef2(0xed)]('\x20')[0x0],'eur':_0x445435['eur'],'usd':_0x445435[_0x592ef2(0x1d9)],'coins':_0x102efa};let _0xb99c57=dbPerformance['get'](_0x592ef2(0xdc))[_0x592ef2(0x1c9)]({'date':_0x479c72[_0x592ef2(0x1f3)]})[_0x592ef2(0xea)]();_0xb99c57?_0x479c72[_0x592ef2(0x1f3)]!=config['startdate']&&dbPerformance['get'](_0x592ef2(0xdc))[_0x592ef2(0x1c9)]({'date':_0x479c72[_0x592ef2(0x1f3)]})[_0x592ef2(0x22c)](_0x479c72)[_0x592ef2(0x208)]():dbPerformance[_0x592ef2(0x154)]('data')[_0x592ef2(0x1c6)](_0x479c72)[_0x592ef2(0x208)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0xb6711b=_0x25d848;let _0x2310f1=[];if(dbPerformance[_0xb6711b(0x1fa)]('data')[_0xb6711b(0xea)]()){let _0x764c25=dbPerformance[_0xb6711b(0x154)](_0xb6711b(0xdc))[_0xb6711b(0x254)]()['filter'](_0x97807b=>{const _0x21ee12=_0xb6711b;if(_0x97807b[_0x21ee12(0x125)][_0x21ee12(0x1a4)]==0x0)return![];else return!![];})[_0xb6711b(0x201)](_0xb6711b(0x1f3))[_0xb6711b(0xea)](),_0x5a4aff=[...config[_0xb6711b(0x18f)]];_0x5a4aff['sort']((_0x410eaf,_0x31e54c)=>_0x410eaf[_0xb6711b(0x1f3)]>_0x31e54c['date']?-0x1:_0x31e54c['date']>_0x410eaf['date']?0x1:0x0);let _0x4b7ffd=0x1,_0x28753e=[],_0x479aba=0x0;_0x764c25[_0xb6711b(0x16a)]()[_0xb6711b(0x140)]()[_0xb6711b(0x185)]((_0x4d5e89,_0x289399)=>{const _0x47d202=_0xb6711b;if(_0x5a4aff[_0x479aba]){if(_0x764c25[_0x764c25[_0x47d202(0x1a4)]-_0x289399]&&_0x5a4aff[_0x479aba][_0x47d202(0x1f3)]==_0x764c25[_0x764c25[_0x47d202(0x1a4)]-_0x289399][_0x47d202(0x1f3)]){if(_0x289399<_0x764c25[_0x47d202(0x1a4)]){let _0x554920=0x0,_0x4573e8=0x0;_0x764c25[_0x764c25['length']-_0x289399]['coins']['forEach'](_0x46eae2=>{const _0xaabde5=_0x47d202;_0x4573e8+=_0x46eae2[_0xaabde5(0xe3)]*_0x46eae2['price'];}),_0x5a4aff[_0x479aba][_0x47d202(0x23d)][_0x47d202(0x185)](_0x247c11=>{_0x554920+=_0x247c11['number']*_0x247c11['price'];}),_0x4b7ffd*=_0x554920/(_0x4573e8-_0x554920)+0x1;}_0x479aba++;}}let _0x201a53=0x0;_0x4d5e89[_0x47d202(0x125)]['forEach'](_0x219b06=>{const _0x315ef1=_0x47d202;_0x201a53+=_0x219b06['number']*_0x219b06[_0x315ef1(0xd4)];}),_0x28753e[_0x764c25['length']-_0x289399-0x1]=_0x201a53*(_0x4b7ffd-0x1);});let _0x11f755=[];_0x5a4aff=[...config[_0xb6711b(0x18f)]]||[];let _0x12f904=0x0;_0x479aba=0x0,_0x764c25[_0xb6711b(0x185)]((_0x4d906,_0xb6dc76)=>{const _0x25fdcc=_0xb6711b;if(_0x5a4aff[_0x479aba]){const _0x344af8=fns[_0x25fdcc(0x14a)](_0x5a4aff[_0x479aba][_0x25fdcc(0x1f3)],_0x25fdcc(0x149),new Date()),_0x843a17=fns['parse'](_0x4d906[_0x25fdcc(0x1f3)],_0x25fdcc(0x149),new Date());if(fns[_0x25fdcc(0x14d)](_0x344af8,_0x843a17)){let _0x157c37=0x0;_0x5a4aff[_0x479aba][_0x25fdcc(0x23d)][_0x25fdcc(0x185)](_0x13eb36=>{const _0x2a306f=_0x25fdcc;!_0x11f755[_0x13eb36[_0x2a306f(0x211)]]?_0x11f755[_0x13eb36[_0x2a306f(0x211)]]=_0x13eb36[_0x2a306f(0xe3)]:(_0x157c37=_0x11f755[_0x13eb36[_0x2a306f(0x211)]],_0x11f755[_0x13eb36[_0x2a306f(0x211)]]+=_0x13eb36[_0x2a306f(0xe3)]);const _0x5d5486=_0x4d906[_0x2a306f(0x125)][_0x2a306f(0x1c9)](_0xfa83a3=>_0xfa83a3[_0x2a306f(0x211)]==_0x13eb36[_0x2a306f(0x211)]);(!_0x5d5486||_0x5d5486[_0x2a306f(0xe3)]==0x0)&&(_0x12f904+=(-_0x13eb36[_0x2a306f(0xe3)]-_0x157c37)*_0x13eb36[_0x2a306f(0xd4)]);}),_0x479aba++;}}_0x4d906[_0x25fdcc(0x125)][_0x25fdcc(0x185)]((_0x46d2af,_0x15fb7a)=>{const _0x57c808=_0x25fdcc;_0x11f755[_0x46d2af[_0x57c808(0x211)]]&&(_0x46d2af['initial']=_0x11f755[_0x46d2af['coin']]);}),_0x2310f1['push']({'date':_0x4d906[_0x25fdcc(0x1f3)],'eur':_0x4d906[_0x25fdcc(0x17b)],'usd':_0x4d906[_0x25fdcc(0x1d9)],'offset':_0x28753e[_0xb6dc76],'netoffset':_0x12f904,'coins':_0x4d906[_0x25fdcc(0x125)]});});}return _0x2310f1;}function emitPerformance(_0x490c76){const _0x2988b5=_0x25d848;_0x490c76[_0x2988b5(0x1a4)]!==0x0?(proxyEmit(_0x2988b5(0x25a),_0x490c76),lastPerformanceEmitted=getDate()):proxyEmit(_0x2988b5(0x25a),[]);}function getPerf(_0x106aae,_0x2210b3){const _0x23d33a=_0x25d848;let _0x2989bb=0x0,_0x179025=0x0,_0x496264=0x0;_0x106aae[_0x23d33a(0x125)][_0x23d33a(0x185)](_0x2db628=>{const _0x347b1f=_0x23d33a;_0x2989bb+=_0x2db628[_0x347b1f(0xe3)]*_0x2db628['price'];});_0x2210b3&&(_0x2989bb+=_0x106aae[_0x23d33a(0x252)]);if(config[_0x23d33a(0x1d0)]==='BTC'||config[_0x23d33a(0x1d0)]===_0x23d33a(0x226))_0x179025=_0x2989bb*_0x106aae[_0x23d33a(0x17b)],_0x496264=_0x2989bb*_0x106aae['usd'];else{if(usdBasecoins[_0x23d33a(0x1d5)](config[_0x23d33a(0x1d0)]))_0x179025=_0x2989bb*_0x106aae['eur']/_0x106aae[_0x23d33a(0x1d9)],_0x496264=_0x2989bb;else config[_0x23d33a(0x1d0)]===_0x23d33a(0xf2)&&(_0x179025=_0x2989bb,_0x496264=_0x2989bb*_0x106aae[_0x23d33a(0x1d9)]/_0x106aae[_0x23d33a(0x17b)]);}return[_0x2989bb,_0x179025,_0x496264];}function getKPIs(_0x4094c5,_0x3e7fa3=_0x25d848(0xf2)){const _0x18f0e3=_0x25d848,_0x5ce522=config[_0x18f0e3(0x1d0)],_0x5a32e0=lastBalances,_0x321219=currentCoins,_0x1c4efe=getNormalizedPerformance(),_0x3d237e=_0x4094c5==='basecoin'?_0x5ce522:_0x4094c5==='fiat'||_0x4094c5==='net-fiat'?_0x3e7fa3:_0x18f0e3(0xee)+_0x5ce522,_0x10d54d=_0x4094c5===_0x18f0e3(0x229)?'Net\x20effect':_0x4094c5===_0x18f0e3(0x20c)?_0x18f0e3(0xf6):_0x3d237e+_0x18f0e3(0x1f9),_0x4131a2=_0x4094c5==='net-basecoin'||_0x4094c5===_0x18f0e3(0x20c)?_0x18f0e3(0xf6):_0x3d237e+_0x18f0e3(0x1b5);let _0x38b263=0x0;_0x321219['forEach'](_0x57e309=>{const _0x4b14ed=_0x18f0e3;_0x38b263+=_0x57e309[_0x4b14ed(0xe3)]*_0x57e309['last'];});if(_0x4094c5==='fiat'||_0x4094c5===_0x18f0e3(0x20c)){if(_0x5ce522==='BTC'||_0x5ce522===_0x18f0e3(0x226))_0x38b263=_0x38b263*(_0x3e7fa3===_0x18f0e3(0xf2)?_0x5a32e0['eur']:_0x5a32e0[_0x18f0e3(0x1d9)]);else{if(usdBasecoins[_0x18f0e3(0x1d5)](_0x5ce522))_0x38b263=_0x38b263*(_0x3e7fa3===_0x18f0e3(0xf2)?_0x5a32e0[_0x18f0e3(0x17b)]/_0x5a32e0[_0x18f0e3(0x1d9)]:0x1);else _0x5ce522===_0x18f0e3(0xf2)&&(_0x38b263=_0x38b263*(_0x3e7fa3===_0x18f0e3(0xf2)?0x1:_0x5a32e0['usd']/_0x5a32e0['eur']));}}let _0x927342;if(_0x38b263!==0x0){if(_0x4094c5===_0x18f0e3(0x1d0))_0x927342=(_0x38b263/startingBalances[_0x18f0e3(0x1d0)]-0x1)*0x64;else{if(_0x3e7fa3==='EUR')_0x927342=(_0x38b263/startingBalances[_0x18f0e3(0x17b)]-0x1)*0x64;else _0x927342=(_0x38b263/startingBalances[_0x18f0e3(0x1d9)]-0x1)*0x64;}let _0x4ddbe3=0x0;if(startingBalances[_0x18f0e3(0x125)])_0x321219[_0x18f0e3(0x185)](_0x509e8d=>{const _0x29dd98=_0x18f0e3;let _0x3259a3=startingBalances[_0x29dd98(0x125)][_0x29dd98(0x1c9)](_0x3f27d1=>_0x3f27d1[_0x29dd98(0x211)]===_0x509e8d[_0x29dd98(0x211)]);if(_0x3259a3&&_0x3259a3[_0x29dd98(0x211)]&&_0x509e8d[_0x29dd98(0xe3)]!==0x0)_0x4ddbe3+=_0x3259a3[_0x29dd98(0xe3)]*_0x509e8d[_0x29dd98(0x1d6)];});let _0x2f330a=0x0;if(_0x1c4efe[_0x18f0e3(0x1a4)]!==0x0){let _0x3d82ee=_0x1c4efe[_0x1c4efe[_0x18f0e3(0x1a4)]-0x1];_0x2f330a=_0x3d82ee[_0x18f0e3(0x23c)];}_0x4ddbe3-=_0x2f330a;_0x4094c5==='net-basecoin'&&(_0x927342=(_0x38b263-_0x4ddbe3)/startingBalances[_0x18f0e3(0x1d0)]*0x64,_0x38b263=_0x38b263-_0x4ddbe3);if(_0x4094c5===_0x18f0e3(0x20c)){let _0x224dbb=_0x3e7fa3===_0x18f0e3(0xf2)?startingBalances[_0x18f0e3(0x17b)]:startingBalances[_0x18f0e3(0x1d9)];if(_0x5ce522===_0x18f0e3(0x16d)||_0x5ce522===_0x18f0e3(0x226))_0x4ddbe3=_0x3e7fa3===_0x18f0e3(0xf2)?_0x4ddbe3*_0x5a32e0['eur']:_0x4ddbe3*_0x5a32e0[_0x18f0e3(0x1d9)];else{if(usdBasecoins[_0x18f0e3(0x1d5)](_0x5ce522))_0x4ddbe3=_0x3e7fa3===_0x18f0e3(0xf2)?_0x4ddbe3*_0x5a32e0[_0x18f0e3(0x17b)]/_0x5a32e0['usd']:_0x4ddbe3;else _0x5ce522===_0x18f0e3(0xf2)&&(_0x4ddbe3=_0x3e7fa3===_0x18f0e3(0xf2)?_0x4ddbe3:_0x4ddbe3*_0x5a32e0[_0x18f0e3(0x1d9)]/_0x5a32e0[_0x18f0e3(0x17b)]);}_0x927342=(_0x38b263-_0x4ddbe3)/_0x224dbb*0x64,_0x38b263=_0x38b263-_0x4ddbe3;}if(_0x927342){if(_0x927342<0x64)_0x927342=_0x927342['toFixed'](0x2);else{if(_0x927342<0x3e8)_0x927342=_0x927342[_0x18f0e3(0x139)](0x1);else _0x927342=_0x927342['toFixed'](0x0);}}else _0x927342=Number('0')['toFixed'](0x2);if(_0x38b263){if(Math[_0x18f0e3(0x179)](_0x38b263)<0.000001)_0x38b263=_0x38b263['toFixed'](0x2);else{if(Math[_0x18f0e3(0x179)](_0x38b263)<0.1)_0x38b263=_0x38b263[_0x18f0e3(0x139)](0x6);else{if(Math['abs'](_0x38b263)<0x1)_0x38b263=_0x38b263['toFixed'](0x5);else{if(Math[_0x18f0e3(0x179)](_0x38b263)<0xa)_0x38b263=_0x38b263['toFixed'](0x4);else{if(Math['abs'](_0x38b263)<0x64)_0x38b263=_0x38b263['toFixed'](0x3);else{if(Math[_0x18f0e3(0x179)](_0x38b263)<0x3e8)_0x38b263=_0x38b263[_0x18f0e3(0x139)](0x2);else _0x38b263=_0x38b263[_0x18f0e3(0x139)](0x2);}}}}}}else _0x38b263=Number('0')[_0x18f0e3(0x139)](0x2);}else _0x927342=Number('0')[_0x18f0e3(0x139)](0x2);return{'value':_0x38b263,'change':_0x927342,'leftTxt':_0x10d54d,'rightTxt':_0x4131a2};}async function getStartingBalances(_0x366a57,_0x325fb6=!![]){const _0x3d3961=_0x25d848;if(_0x366a57['length']!==0x0){const [_0x44958c,_0xa84030,_0x2e0e41]=getPerf(_0x366a57[0x0],!![]);let _0x32f7ce=[];config[_0x3d3961(0x17f)]['forEach'](_0x196163=>{const _0x1534fe=_0x3d3961;let _0x45ff14=0x0,_0x552125;config[_0x1534fe(0x18f)][_0x1534fe(0x185)](_0x27005d=>{const _0x3e17e3=_0x1534fe;let _0x11e19b=_0x27005d[_0x3e17e3(0x23d)]['find'](_0x30009e=>_0x30009e[_0x3e17e3(0x211)]==_0x196163[_0x3e17e3(0x211)]);if(_0x11e19b){_0x45ff14+=_0x11e19b[_0x3e17e3(0xe3)];if(!_0x552125)_0x552125=_0x11e19b[_0x3e17e3(0xd4)];}}),_0x32f7ce[_0x1534fe(0x1c6)]({'coin':_0x196163[_0x1534fe(0x211)],'number':_0x45ff14,'initialprice':_0x552125});});const _0x5ae06b={'basecoin':_0x44958c,'eur':_0xa84030,'usd':_0x2e0e41,'coins':_0x32f7ce};if(_0x325fb6)proxyEmit(_0x3d3961(0xda),_0x5ae06b);startingBalances=_0x5ae06b;}}function headlessMode(_0x42cd2b){const _0x4c0dfe=_0x25d848;let _0x9f6a4c=_0x42cd2b['portfolio'],_0x54c74a=_0x42cd2b['threshold'],_0x29425b=[];for(let _0x5ceb98 of _0x9f6a4c){if(_0x5ceb98[_0x4c0dfe(0x211)]!=config[_0x4c0dfe(0x1d0)]){if(_0x5ceb98[_0x4c0dfe(0x209)]>=_0x54c74a/0x64){if(_0x5ceb98[_0x4c0dfe(0xec)])_0x29425b[_0x4c0dfe(0x1c6)](_0x5ceb98);}else{if(_0x5ceb98[_0x4c0dfe(0x209)]<=-_0x54c74a/0x64){if(_0x5ceb98['valid'])_0x29425b[_0x4c0dfe(0x1c6)](_0x5ceb98);}}}}_0x29425b[_0x4c0dfe(0x1a4)]>0x0&&placeOrder(_0x29425b);}function notifyBalance(_0x25f636){const _0x59f963=_0x25d848;let _0x49045=_0x25f636[_0x59f963(0x17f)],_0x43aeac=_0x25f636['threshold'],_0x42cb7a=[];for(let _0x321da2 of _0x49045){if(_0x321da2['coin']!=config[_0x59f963(0x1d0)]){if(_0x321da2['delta']>=_0x43aeac/0x64){if(_0x321da2['valid'])_0x42cb7a[_0x59f963(0x1c6)](_0x321da2);}else{if(_0x321da2['delta']<=-_0x43aeac/0x64){if(_0x321da2['valid'])_0x42cb7a['push'](_0x321da2);}}}}if(_0x42cb7a[_0x59f963(0x1a4)]>0x0){let _0x2a1f3e=_0x42cb7a[_0x59f963(0x24f)](_0xfe886a=>_0xfe886a[_0x59f963(0x211)]);_0x2a1f3e['sort']();let _0x8ac196=_0x2a1f3e['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x59f963(0xf0),_0x59f963(0xef));lastCoinsToBalance=_0x8ac196;}}function symbolToCoin(_0x1f414f){const _0x19fb77=_0x25d848;let _0x2926d7;if(_0x1f414f['includes']('/'+config[_0x19fb77(0x1d0)]))_0x2926d7=_0x1f414f[_0x19fb77(0x102)]('/'+config[_0x19fb77(0x1d0)],'');if(_0x1f414f[_0x19fb77(0x1d5)](config[_0x19fb77(0x1d0)]+'/'))_0x2926d7=_0x1f414f[_0x19fb77(0x102)](config['basecoin']+'/','');return _0x2926d7;}async function unlockOrders(){const _0x57b195=_0x25d848;if(allOrdersPlaced&&lockOrders==ORDERS[_0x57b195(0x10e)]){logger[_0x57b195(0x198)](_0x57b195(0x25d)),lockOrders=ORDERS[_0x57b195(0x258)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x786076=await getCoins();[currentCoins,currentCoinsAll]=_0x786076,validateOrdersState=_0x57b195(0x195),persistOpenOrders([]),lockOrders=ORDERS[_0x57b195(0x19a)],logger[_0x57b195(0x198)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x371480){const _0x2182cc=_0x25d848;if(_0x371480)validateOrdersState=_0x371480;logger[_0x2182cc(0x198)](_0x2182cc(0x103)+validateOrdersState+_0x2182cc(0x174)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x2182cc(0x259):_0x2182cc(0x10c)));let _0x1fd461=[],_0x4cf78e=config[_0x2182cc(0x1f4)]==_0x2182cc(0x150)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x2182cc(0x10e)])return;logger[_0x2182cc(0x198)](_0x2182cc(0xd5)+validateOrdersState),lastOrders[_0x2182cc(0x185)](_0x4aaada=>{const _0x1ed30f=_0x2182cc;let _0x1a43b8=![];_0x4aaada[_0x1ed30f(0x1f7)]>0x0&&(_0x1a43b8=!![]),_0x1fd461[_0x1ed30f(0x1c6)](_0x1a43b8),_0x1a43b8&&config[_0x1ed30f(0x1f4)]!=_0x1ed30f(0x150)&&logHistory('order',_0x1ed30f(0x1d3)+_0x4aaada[_0x1ed30f(0x1ac)]+'\x20'+_0x4aaada[_0x1ed30f(0x20e)]+'\x20#'+formatResult(_0x4aaada[_0x1ed30f(0x1f7)],0x8)+'\x20@'+formatResult(_0x4aaada['price'],0x8));}),_0x1fd461[_0x2182cc(0x185)]((_0x49ed73,_0x262b21)=>{if(_0x49ed73)lastOrders['splice'](_0x262b21,0x1);}),persistOpenOrders(lastOrders);const _0x9509f1=coolingDown?_0x2182cc(0x10a):_0x2182cc(0xf4);if(validateOrdersState==_0x2182cc(0x195)){validateOrdersState=_0x2182cc(0xe6);if(_0x1fd461[_0x2182cc(0x1d5)](![])){if(config[_0x2182cc(0x1f4)]==_0x2182cc(0x150)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x2182cc(0xe6)){if(_0x1fd461[_0x2182cc(0x1d5)](![])){}else{if(allOrdersPlaced){if(config[_0x2182cc(0x1f4)]==_0x2182cc(0x150)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x2182cc(0xd7))_0x1fd461[_0x2182cc(0x1d5)](![])&&(config['ordertype']==_0x2182cc(0x150)?logHistory(_0x2182cc(0xf3),'Order(s)\x20not\x20validated\x20after\x20'+Math['round'](_0x4cf78e*validateOrderInterval/0xea60)+_0x2182cc(0x1c4)+_0x9509f1):(await cancelOrders(),logHistory('success',_0x2182cc(0x18b)+Math['round'](_0x4cf78e*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x9509f1))),await unlockOrders();else{if(validateOrdersState==_0x2182cc(0x256)){if(config['ordertype']!=_0x2182cc(0x150))logHistory(_0x2182cc(0xf3),_0x2182cc(0xeb)+_0x9509f1);await unlockOrders();}}}}}async function cancelOrders(){const _0x315694=_0x25d848;lastOrders[_0x315694(0x185)](async _0x120737=>{const _0x11c46f=_0x315694;try{const _0x135a62=await exchange['cancelOrder'](_0x120737[_0x11c46f(0x1c5)],_0x120737[_0x11c46f(0x1ac)]);}catch(_0x1a9fa1){if(_0x1a9fa1['toString']()[_0x11c46f(0x1d5)](_0x11c46f(0x257))){}else await handleError(_0x1a9fa1,_0x11c46f(0x255));}});}async function initCoinResults(_0x4a5ef5){const _0x5c86f3=_0x25d848;_0x4a5ef5?logger[_0x5c86f3(0x198)](_0x5c86f3(0x1af)+_0x4a5ef5):logger[_0x5c86f3(0x198)](_0x5c86f3(0x10d)),config[_0x5c86f3(0x17f)][_0x5c86f3(0x185)](_0x1de4e2=>{const _0x50fcaa=_0x5c86f3;if(!_0x1de4e2[_0x50fcaa(0x111)]&&_0x1de4e2[_0x50fcaa(0x211)]!=config[_0x50fcaa(0x1d0)]){const _0x538739=currentCoins[_0x50fcaa(0x1c9)](_0x56c195=>_0x56c195['coin']==_0x1de4e2[_0x50fcaa(0x211)]),_0x3b7fb6=global[_0x50fcaa(0x1bc)][noslash(_0x1de4e2[_0x50fcaa(0x1ac)])];let _0x18507a=_0x538739?_0x538739[_0x50fcaa(0xe3)]:null,_0x269b80=_0x1de4e2[_0x50fcaa(0x140)]?0x1/_0x3b7fb6:_0x3b7fb6,_0x199a39;config[_0x50fcaa(0x18f)][_0x50fcaa(0x185)](_0x2e7f48=>{const _0x4a0dcd=_0x50fcaa;!_0x199a39&&(_0x199a39=_0x2e7f48['changes'][_0x4a0dcd(0x1c9)](_0x5c82cd=>_0x5c82cd[_0x4a0dcd(0x211)]==_0x1de4e2[_0x4a0dcd(0x211)]),_0x199a39&&(_0x18507a=_0x199a39['number'],_0x269b80=_0x199a39[_0x4a0dcd(0xd4)]));});let _0x926f28=dbCoinResults[_0x50fcaa(0x154)](_0x50fcaa(0x125))[_0x50fcaa(0x1c9)]({'coin':_0x1de4e2['coin']})[_0x50fcaa(0xea)]();if(!_0x926f28){const _0x2aaca3={'coin':_0x1de4e2[_0x50fcaa(0x211)],'number':_0x18507a,'breakeven':_0x269b80,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x50fcaa(0x154)](_0x50fcaa(0x125))[_0x50fcaa(0x1c6)](_0x2aaca3)[_0x50fcaa(0x208)]();}else{if(_0x4a5ef5&&_0x1de4e2[_0x50fcaa(0x211)]==_0x4a5ef5){const _0x1965ea={'coin':_0x1de4e2[_0x50fcaa(0x211)],'number':_0x18507a,'breakeven':_0x269b80,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x50fcaa(0x125))[_0x50fcaa(0x1c9)]({'coin':_0x1de4e2[_0x50fcaa(0x211)]})[_0x50fcaa(0x22c)](_0x1965ea)[_0x50fcaa(0x208)]();}}}});}async function updateCoinResults(_0x3c20e8,_0x276b35=![]){const _0x222025=_0x25d848;let _0x144c24,_0x503e8b,_0x404434,_0x495a43,_0x3da493,_0x203935,_0x44427d=dbCoinResults[_0x222025(0x154)](_0x222025(0x125))['find']({'coin':_0x3c20e8['coin']})['value'](),_0x1d7493=![];_0x44427d&&Object[_0x222025(0x1ca)](_0x44427d)[_0x222025(0x185)](([_0x2a708b,_0xea97f3])=>{if(_0xea97f3==null)_0x1d7493=!![];});(!_0x44427d||_0x1d7493)&&(await initCoinResults(_0x3c20e8[_0x222025(0x211)]),_0x44427d=dbCoinResults[_0x222025(0x154)]('coins')['find']({'coin':_0x3c20e8[_0x222025(0x211)]})['value']());_0x3c20e8[_0x222025(0x140)]&&(_0x203935={'filled':_0x3c20e8[_0x222025(0x1f7)]*_0x3c20e8['price'],'amount':_0x3c20e8[_0x222025(0x1f7)]*_0x3c20e8[_0x222025(0xd4)],'side':_0x3c20e8[_0x222025(0x20e)]=='sell'?_0x222025(0x231):_0x222025(0x116),'price':0x1/_0x3c20e8['price']},_0x3c20e8={..._0x3c20e8,..._0x203935});_0x276b35?_0x503e8b=_0x3c20e8[_0x222025(0x20e)]==_0x222025(0x231)?_0x44427d['number']+_0x3c20e8[_0x222025(0x1f7)]:_0x44427d['number']-_0x3c20e8[_0x222025(0x1f7)]:_0x503e8b=await getCoinNumber(_0x3c20e8['coin']);if(_0x3c20e8[_0x222025(0xf1)]&&_0x3c20e8[_0x222025(0xf1)][_0x222025(0x224)]==config[_0x222025(0x1d0)])_0x144c24=_0x3c20e8[_0x222025(0xf1)]['cost'];else{if(_0x3c20e8[_0x222025(0xf1)]&&_0x3c20e8[_0x222025(0xf1)][_0x222025(0x224)]==_0x222025(0x13d)&&!_0x276b35)_0x144c24=_0x3c20e8[_0x222025(0xf1)][_0x222025(0x1e4)]*global[_0x222025(0x1bc)][_0x222025(0x13d)+config[_0x222025(0x1d0)]];else _0x144c24=defaultFee*_0x3c20e8[_0x222025(0x1f7)]*_0x3c20e8['price'];}_0x3c20e8[_0x222025(0x20e)]==_0x222025(0x231)?(_0x404434=_0x503e8b!=0x0?(_0x44427d['breakeven']*_0x44427d[_0x222025(0xe3)]+_0x3c20e8[_0x222025(0xd4)]*(_0x503e8b-_0x44427d['number'])+_0x144c24)/_0x503e8b:0x0,_0x495a43=_0x44427d[_0x222025(0x112)]):(_0x404434=_0x503e8b!=0x0?(_0x44427d['breakeven']*_0x44427d['number']-_0x3c20e8[_0x222025(0xd4)]*(_0x44427d['number']-_0x503e8b)+_0x144c24)/_0x503e8b:0x0,_0x495a43=_0x44427d['realized']+(_0x3c20e8[_0x222025(0xd4)]-_0x44427d[_0x222025(0x187)])*_0x3c20e8['filled']);_0x3da493=(_0x3c20e8['price']-_0x404434-_0x144c24/_0x3c20e8[_0x222025(0x1f7)])*_0x503e8b;let _0x5aee66={'coin':_0x3c20e8[_0x222025(0x211)],'number':_0x503e8b,'breakeven':formatResult(_0x404434,0x8),'realized':formatResult(_0x495a43,0x8),'unrealized':formatResult(_0x3da493,0x8),'fees':formatResult(_0x44427d['fees']+_0x144c24,0x8),'sells':_0x3c20e8[_0x222025(0x20e)]==_0x222025(0x116)?_0x44427d['sells']+0x1:_0x44427d[_0x222025(0x242)],'buys':_0x3c20e8[_0x222025(0x20e)]==_0x222025(0x231)?_0x44427d[_0x222025(0x214)]+0x1:_0x44427d[_0x222025(0x214)]};dbCoinResults[_0x222025(0x154)](_0x222025(0x125))[_0x222025(0x1c9)]({'coin':_0x3c20e8[_0x222025(0x211)]})[_0x222025(0x22c)](_0x5aee66)[_0x222025(0x208)]();if(!_0x276b35){if(_0x3c20e8[_0x222025(0xf1)]&&_0x3c20e8[_0x222025(0xf1)][_0x222025(0x224)]=='BNB'){const _0x6b7de=currentCoins[_0x222025(0x1c9)](_0x52a8ca=>_0x52a8ca[_0x222025(0x211)]==_0x222025(0x13d));if(_0x6b7de){let _0x168c81=dbCoinResults[_0x222025(0x154)](_0x222025(0x125))[_0x222025(0x1c9)]({'coin':_0x222025(0x13d)})[_0x222025(0xea)]();_0x5aee66={..._0x168c81,'number':_0x6b7de['number']},dbCoinResults[_0x222025(0x154)](_0x222025(0x125))[_0x222025(0x1c9)]({'coin':_0x222025(0x13d)})[_0x222025(0x22c)](_0x5aee66)['write']();}}}}async function placeOrder(_0x2c4be7){const _0x5ba18d=_0x25d848,_0x564a7a=config['ordertype']==_0x5ba18d(0x150)?_0x5ba18d(0x150):_0x5ba18d(0x155);if(lockOrders==ORDERS[_0x5ba18d(0x19a)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x5ba18d(0x10e)],allOrdersPlaced=![],validateOrdersState='initial';let _0x396226=![];lastOrders=[];for(const _0x257fff of _0x2c4be7){let _0x494add,_0x41ce76,_0x164554,_0x387d2a,_0x4a9bb0,_0x364e89=_0x257fff[_0x5ba18d(0x1ac)];try{const _0x32ec80=await exchange[_0x5ba18d(0x169)](_0x364e89);_0x494add=_0x257fff[_0x5ba18d(0x140)]?0x1/_0x257fff['last']:_0x257fff[_0x5ba18d(0x1d6)],_0x41ce76=_0x32ec80[_0x5ba18d(0x1ec)],_0x164554=_0x32ec80['ask'];_0x257fff[_0x5ba18d(0x140)]?(_0x387d2a=_0x257fff[_0x5ba18d(0x20e)]==_0x5ba18d(0x231)?_0x5ba18d(0x116):'buy',_0x4a9bb0=Math[_0x5ba18d(0x179)](_0x257fff[_0x5ba18d(0x18c)])/_0x494add):(_0x387d2a=_0x257fff['side'],_0x4a9bb0=Math['abs'](_0x257fff[_0x5ba18d(0x18c)]));_0x564a7a==_0x5ba18d(0x155)&&(config[_0x5ba18d(0x1f4)]==_0x5ba18d(0x22a)&&(_0x494add=_0x387d2a==_0x5ba18d(0x231)?_0x41ce76:_0x164554),config[_0x5ba18d(0x1f4)]==_0x5ba18d(0x161)&&(_0x494add=_0x387d2a==_0x5ba18d(0x231)?_0x164554:_0x41ce76));_0x4a9bb0=formatResult(_0x4a9bb0,0x8),_0x494add=formatResult(_0x494add,0x8);const _0x2b26f9=_0x387d2a==_0x5ba18d(0x116)?config[_0x5ba18d(0x218)]?String[_0x5ba18d(0x250)]('0x'+config[_0x5ba18d(0x218)])+'\x20':'':config['emojibuy']?String[_0x5ba18d(0x250)]('0x'+config[_0x5ba18d(0x1b9)])+'\x20':'',_0x5947f2=_0x564a7a=='market'?_0x5ba18d(0x1e6):config[_0x5ba18d(0x1f4)]==_0x5ba18d(0x22a)?_0x5ba18d(0x21a):_0x5ba18d(0x21c),_0x2a1ca7=(Math[_0x5ba18d(0xe7)](Math[_0x5ba18d(0x18e)]()*0x35a4e900)+0x5f5e100)[_0x5ba18d(0x25c)]();lastOrders[_0x5ba18d(0x1c6)]({'customId':_0x2a1ca7,'symbol':_0x364e89,'coin':_0x257fff['coin'],'amount':_0x4a9bb0,'price':_0x494add,'side':_0x387d2a,'reverse':_0x257fff[_0x5ba18d(0x140)],'filled':0x0});if(_0x564a7a==_0x5ba18d(0x150))logHistory(_0x5ba18d(0x22b),''+_0x2b26f9+_0x5947f2+'\x20order:\x20'+_0x364e89+'\x20'+_0x387d2a+'\x20#'+formatResult(_0x4a9bb0,0x8)+'\x20@'+formatResult(_0x494add,0x8));else logHistory(_0x5ba18d(0x22b),''+_0x2b26f9+_0x5947f2+_0x5ba18d(0x147)+_0x364e89+'\x20'+_0x387d2a+'\x20#'+formatResult(_0x4a9bb0,0x8)+'\x20@'+formatResult(_0x494add,0x8));let _0x2830e9;if(_0x564a7a==_0x5ba18d(0x150))_0x2830e9=await exchange[_0x5ba18d(0x1b6)](_0x364e89,_0x564a7a,_0x387d2a,_0x4a9bb0,undefined);else _0x2830e9=await exchange[_0x5ba18d(0x1b6)](_0x364e89,_0x564a7a,_0x387d2a,_0x4a9bb0,_0x494add);logger['debug'](_0x5ba18d(0x138)+_0x2830e9['id']+'\x20|\x20Custom\x20ID:\x20'+_0x2a1ca7);const _0x1acad8=lastOrders['length']-0x1;if(_0x1acad8>=0x0&&lastOrders[_0x1acad8][_0x5ba18d(0x1ad)]==_0x2a1ca7){lastOrders[_0x1acad8][_0x5ba18d(0x1c5)]=_0x2830e9['id'];if(_0x2830e9[_0x5ba18d(0x13a)])lastOrders[_0x1acad8]['amount']=_0x2830e9[_0x5ba18d(0x13a)];if(_0x2830e9[_0x5ba18d(0xd4)])lastOrders[_0x1acad8][_0x5ba18d(0xd4)]=_0x2830e9[_0x5ba18d(0xd4)];lastOrders[_0x1acad8][_0x5ba18d(0xf1)]=_0x2830e9[_0x5ba18d(0xf1)];}if(config[_0x5ba18d(0x1ab)]!=0x0){let _0x4eb80c=null;if(cooldownTracker[_0x5ba18d(0x1a4)]==config['cooldown']-0x1)_0x4eb80c=cooldownTracker[_0x5ba18d(0x134)]();const _0x2c8fca=getTimeStamp();cooldownTracker['push'](_0x2c8fca);if(_0x4eb80c){const _0xdac031=fns['differenceInSeconds'](new Date(_0x2c8fca),new Date(_0x4eb80c));if(_0xdac031<cooldownInterval){logHistory(_0x5ba18d(0x1b8),_0x5ba18d(0x1d7)+config['cooldown']+_0x5ba18d(0x160)+cooldownInterval/0x3c+_0x5ba18d(0x17d)+cooldownPeriod/(0xe10*0x3e8)+_0x5ba18d(0x192)),coolingDown=!![];break;}}}}catch(_0x4d8177){if(_0x4d8177[_0x5ba18d(0x25c)]()[_0x5ba18d(0x1d5)](_0x5ba18d(0x1d8)))lastOrders=lastOrders[_0x5ba18d(0x13c)](_0x591840=>_0x591840[_0x5ba18d(0x1ac)]!=_0x364e89),logHistory(_0x5ba18d(0x1b8),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x364e89),_0x396226=!![];else{if(_0x4d8177[_0x5ba18d(0x25c)]()[_0x5ba18d(0x1d5)](_0x5ba18d(0x20b)))lastOrders=lastOrders['filter'](_0x566f2a=>_0x566f2a[_0x5ba18d(0x1ac)]!=_0x364e89),logHistory(_0x5ba18d(0x1b8),_0x5ba18d(0xe2)+_0x364e89),_0x396226=!![];else{if(_0x4d8177[_0x5ba18d(0x25c)]()[_0x5ba18d(0x1d5)](_0x5ba18d(0x11b)))lastOrders=lastOrders[_0x5ba18d(0x13c)](_0x36ccc1=>_0x36ccc1['symbol']!=_0x364e89),logHistory(_0x5ba18d(0x1b8),_0x5ba18d(0x127)+_0x364e89),_0x396226=!![];else _0x4d8177[_0x5ba18d(0x25c)]()[_0x5ba18d(0x1d5)]('must\x20be\x20greater\x20than\x20minimum\x20amount')?(lastOrders=lastOrders['filter'](_0x34ad6e=>_0x34ad6e[_0x5ba18d(0x1ac)]!=_0x364e89),logHistory(_0x5ba18d(0x1b8),_0x5ba18d(0x194)+_0x364e89),_0x396226=!![]):(lastOrders=lastOrders[_0x5ba18d(0x13c)](_0x4a1b35=>_0x4a1b35[_0x5ba18d(0x1ac)]!=_0x364e89),await handleError(_0x4d8177,_0x5ba18d(0xe8),_0x364e89));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x5ba18d(0x1a4)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x35587e=config['ordertype']==_0x5ba18d(0x150)?validateOrderTimeout*0x3c*0x3e8:config[_0x5ba18d(0x167)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1e4d9b=_0x5ba18d;validateOrders(_0x1e4d9b(0xd7));},_0x35587e);}else unlockOrders();_0x396226&&config['headless']&&await pauseBot(_0x5ba18d(0x199)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5ba18d(0xf3),_0x5ba18d(0x196)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x5ba18d(0x1a3));else lockOrders!=ORDERS[_0x5ba18d(0x19a)]&&(!config[_0x5ba18d(0x177)]&&(config['ordertype']=='market'?logHistory(_0x5ba18d(0x1b8),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory('error',_0x5ba18d(0x157))));}}function persistOpenOrders(_0x7067e2){const _0x528438=_0x25d848,_0x323c9a={...config,'openOrders':_0x7067e2};let _0x85079a=dbConfig['get']('bot')[_0x528438(0x1c9)]({'botID':botID})[_0x528438(0xea)]();_0x85079a&&dbConfig[_0x528438(0x154)](_0x528438(0x1f2))['find']({'botID':botID})['assign'](_0x323c9a)[_0x528438(0x208)]();}function restoreOrders(){const _0x302e35=_0x25d848;let _0x3b66fa;config['openOrders']&&allOpenOrders[_0x302e35(0x185)](_0x551142=>{const _0x246c87=_0x302e35,_0xac5137=config[_0x246c87(0x246)][_0x246c87(0x1c9)](_0x4b8db2=>_0x4b8db2[_0x246c87(0x1c5)]==_0x551142['id']);_0xac5137&&(lastOrders[_0x246c87(0x1c6)](_0xac5137),_0x3b66fa=_0x551142[_0x246c87(0x12b)]);});if(lastOrders[_0x302e35(0x1a4)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x3f7765=new Date()[_0x302e35(0x1dd)](),_0x3e614c=config[_0x302e35(0x1f4)]==_0x302e35(0x150)?validateOrderTimeout*0x3c*0x3e8:config[_0x302e35(0x167)]*0x3c*0x3e8;if(_0x3b66fa+_0x3e614c>_0x3f7765){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x12bb58=_0x302e35;validateOrders(_0x12bb58(0xd7));},_0x3b66fa+_0x3e614c-_0x3f7765);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x571c00=_0x25d848;if(!coinsLoaded){process[_0x571c00(0x14c)]({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x4b2391=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x156195='';if(config[_0x571c00(0x1fc)])_0x156195=_0x571c00(0x238)+config['botname']+_0x571c00(0x10b);else _0x156195='<b>Bot\x20'+botID+_0x571c00(0x10b);const _0x25ba82=getKPIs(_0x571c00(0x1d0)),_0x3b7677=getKPIs(_0x571c00(0x233),config['fiat']),_0xb8c1b4=getKPIs(_0x571c00(0x229)),_0x59ce3c=getKPIs(_0x571c00(0x20c),config[_0x571c00(0x233)]);_0x156195+=_0x571c00(0x120),_0x156195+=_0x25ba82[_0x571c00(0x158)]+_0x571c00(0xe4)+_0x25ba82['value']+'\x0a',_0x156195+=_0x25ba82[_0x571c00(0x165)]+':\x20'+_0x25ba82[_0x571c00(0x17e)]+'%\x0a',_0x156195+=_0x3b7677['leftTxt']+'\x20:\x20'+_0x3b7677['value']+'\x0a',_0x156195+=_0x3b7677['rightTxt']+':\x20'+_0x3b7677[_0x571c00(0x17e)]+'%\x0a',_0x156195+=_0xb8c1b4[_0x571c00(0x158)]+':\x20'+_0xb8c1b4[_0x571c00(0xea)]+'\x20('+config[_0x571c00(0x1d0)]+')\x0a',_0x156195+=_0xb8c1b4[_0x571c00(0x165)]+':\x20'+_0xb8c1b4['change']+_0x571c00(0x114)+config[_0x571c00(0x1d0)]+')\x0a',_0x156195+=_0x59ce3c['leftTxt']+':\x20'+_0x59ce3c[_0x571c00(0xea)]+'\x20('+config['fiat']+')\x0a',_0x156195+=_0x59ce3c[_0x571c00(0x165)]+':\x20'+_0x59ce3c[_0x571c00(0x17e)]+'%\x20('+config[_0x571c00(0x233)]+')\x0a',_0x156195+=_0x571c00(0x1a0),process['send']({'telegrammsg':_0x156195},_0x4aae18=>{});}async function sendPortfolioTelegram(){const _0x130bad=_0x25d848;if(!coinsLoaded){process['send']({'telegrammsg':'Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x5382c1=>{});return;}let _0x25d6b2='';if(config[_0x130bad(0x1fc)])_0x25d6b2=_0x130bad(0x238)+config[_0x130bad(0x220)]+_0x130bad(0x23a);else _0x25d6b2=_0x130bad(0x1a5)+botID+_0x130bad(0x23a);_0x25d6b2+=_0x130bad(0x120),_0x25d6b2+=_0x130bad(0x1aa),_0x25d6b2+=_0x130bad(0x180),_0x25d6b2+=_0x130bad(0x1aa),currentCoins[_0x130bad(0x185)](_0x4948b5=>{const _0x3f89b8=_0x130bad;_0x25d6b2+=_0x4948b5[_0x3f89b8(0x211)]['padEnd'](0x7)+'|\x20'+formatPad(_0x4948b5[_0x3f89b8(0x16f)],0x2,0x6)+'|\x20'+formatPad(_0x4948b5[_0x3f89b8(0x15d)],0x2,0x6)+'|\x20'+formatPad(_0x4948b5[_0x3f89b8(0x209)]*0x64,0x2,0x6)+'\x0a';}),_0x25d6b2+='</pre>',process[_0x130bad(0x14c)]({'telegrammsg':_0x25d6b2},_0x4e1ffd=>{});}function formatPad(_0x23c5a3,_0x564c3b,_0x1544b9){const _0x1d4e90=_0x25d848,_0x9e890d=formatResultString(_0x23c5a3,_0x564c3b);return _0x9e890d?_0x9e890d[_0x1d4e90(0x236)](_0x1544b9):''[_0x1d4e90(0x236)](_0x1544b9);}function logHistory(_0x139481,_0x4859cc,_0x264984=''){const _0x26c994=_0x25d848;let _0x5645e3={'time':getTimeStamp(),'type':_0x139481,'event':_0x4859cc};dbLogs['get'](_0x26c994(0x20a))[_0x26c994(0x1c6)](_0x5645e3)[_0x26c994(0x208)]();if(_0x264984=='')_0x264984=_0x4859cc;proxyEmit(_0x26c994(0x249),{'log':_0x5645e3,'summary':_0x264984}),process['send']({'telegram':{..._0x5645e3,'botname':config[_0x26c994(0x220)],'showname':config[_0x26c994(0x1fc)]}},_0x1acb00=>{}),logger[_0x26c994(0x1cd)](''+_0x5645e3['event']);}function emitHistory(_0x77f1e7={}){const _0x4aeb1f=_0x25d848;Object[_0x4aeb1f(0xd6)](_0x77f1e7)['length']==0x0&&(_0x77f1e7={'type':[_0x4aeb1f(0x22b),_0x4aeb1f(0x249)],'event':'','page':0x1});if(_0x77f1e7['type'][_0x4aeb1f(0x1d5)](_0x4aeb1f(0x249)))_0x77f1e7[_0x4aeb1f(0x1a2)][_0x4aeb1f(0x227)](_0x77f1e7[_0x4aeb1f(0x1a2)][_0x4aeb1f(0x15e)](_0x4aeb1f(0x249)),0x1,_0x4aeb1f(0x1b8),'warning','success');if(dbLogs[_0x4aeb1f(0x1fa)](_0x4aeb1f(0x20a))['value']()){let _0x12a391=dbLogs[_0x4aeb1f(0x154)](_0x4aeb1f(0x20a))['filter'](_0xfc9834=>{const _0x27a515=_0x4aeb1f;if(_0x77f1e7[_0x27a515(0x1a2)][_0x27a515(0x1a4)]==0x0)return![];else return _0x77f1e7['type']['includes'](_0xfc9834[_0x27a515(0x1a2)]);})[_0x4aeb1f(0x13c)](_0x2fa6f4=>{const _0x3244ff=_0x4aeb1f;if(_0x77f1e7[_0x3244ff(0x249)]=='')return!![];else return _0x2fa6f4[_0x3244ff(0x249)]['toLowerCase']()[_0x3244ff(0x1d5)](_0x77f1e7[_0x3244ff(0x249)][_0x3244ff(0x17c)]());})[_0x4aeb1f(0x201)](_0x4aeb1f(0x16b)),_0x3b2fe1=_0x12a391[_0x4aeb1f(0xea)]()[_0x4aeb1f(0x1a4)];_0x12a391=_0x12a391[_0x4aeb1f(0x140)]()[_0x4aeb1f(0x16a)]((_0x77f1e7[_0x4aeb1f(0x142)]-0x1)*logPageSize,_0x77f1e7['page']*logPageSize-0x1)[_0x4aeb1f(0x140)]()[_0x4aeb1f(0xea)](),proxyEmit(_0x4aeb1f(0xf8),{'logs':_0x12a391,'total':_0x3b2fe1});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4cb258){const _0x11df73=_0x25d848;if(dbLogs[_0x11df73(0x1fa)](_0x11df73(0x20a))[_0x11df73(0xea)]()){const _0x7a432e=dbLogs[_0x11df73(0x154)]('logs')[_0x11df73(0x201)](_0x11df73(0x16b))[_0x11df73(0x13c)](_0x6b8add=>{const _0x5b82e0=_0x11df73;return _0x6b8add[_0x5b82e0(0x1a2)]=='order';})[_0x11df73(0xea)]();dbLogs[_0x11df73(0x154)]('logs')[_0x11df73(0x1c8)]()[_0x11df73(0x208)](),dbLogs[_0x11df73(0x154)](_0x11df73(0x20a))['assign'](_0x7a432e)['write'](),emitHistory(_0x4cb258);}}async function pauseBot(_0x3f1cb8=''){const _0xd145b5=_0x25d848,_0x58b50=new Date()['getTime']();if(!lastErrorShown||_0x58b50-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x58b50;!lastBotPause?(lastBotPause=_0x58b50,consecutivePauses=0x1):(_0x58b50-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0xd145b5(0x14c)]({'stop':'restart'},_0x1af27c=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0xd145b5(0x1dd)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x3f1cb8)_0x3f1cb8+=_0xd145b5(0x123);logHistory(_0xd145b5(0x1b8),_0x3f1cb8+_0xd145b5(0x162)+pauseBotInterval/0xea60+_0xd145b5(0x175)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x10bbf4=_0x25d848;process[_0x10bbf4(0x14c)]({'stop':_0x10bbf4(0x115)},_0x22df05=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1cb5c9,_0x2e52c3){const _0x41c7a2=_0x25d848;if(_0x1cb5c9[_0x41c7a2(0x25c)]()[_0x41c7a2(0x1d5)](_0x41c7a2(0x1a1)))return logHistory(_0x41c7a2(0x1b8),config['exchange']+_0x41c7a2(0x1cf)),![];else{if(_0x1cb5c9[_0x41c7a2(0x25c)]()[_0x41c7a2(0x1d5)](_0x41c7a2(0x206)))return logHistory(_0x41c7a2(0x1b8),config[_0x41c7a2(0x239)]+_0x41c7a2(0x106)),![];else{if(_0x1cb5c9[_0x41c7a2(0x25c)]()[_0x41c7a2(0x1d5)](_0x41c7a2(0x1c0)))return logHistory(_0x41c7a2(0x1b8),config['exchange']+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory(_0x41c7a2(0x1b8),_0x41c7a2(0xe0)),![];else await handleError(_0x1cb5c9,_0x2e52c3);}}}async function handleError(_0x3ef9ad,_0x580bb6,_0x13c152=''){const _0x34c826=_0x25d848,_0x3a6d74=config[_0x34c826(0x239)]||_0x34c826(0x135);if(_0x3ef9ad[_0x34c826(0x25c)]()[_0x34c826(0x1d5)](_0x34c826(0x213))||_0x3ef9ad[_0x34c826(0x25c)]()[_0x34c826(0x1d5)](_0x34c826(0x186)))await pauseBot(config[_0x34c826(0x239)]+_0x34c826(0x1fe));else{if(_0x3ef9ad['toString']()['includes'](_0x34c826(0x225))||_0x3ef9ad[_0x34c826(0x25c)]()[_0x34c826(0x1d5)]('OnMaintenance'))await pauseBot(config[_0x34c826(0x239)]+_0x34c826(0x15c));else{if(_0x3ef9ad[_0x34c826(0x25c)]()[_0x34c826(0x1d5)]('RequestTimeout'))await pauseBot(config[_0x34c826(0x239)]+_0x34c826(0x1b3));else{if(_0x3ef9ad['toString']()['includes'](_0x34c826(0x1c7)))await pauseBot(config['exchange']+_0x34c826(0x121));else{if(_0x3ef9ad[_0x34c826(0x25c)]()[_0x34c826(0x1d5)](_0x34c826(0x168)))logHistory('error',_0x580bb6+_0x34c826(0x166)),logHistory(_0x34c826(0x1b8),_0x34c826(0x108)),await killBot();else{if(_0x3ef9ad['toString']()[_0x34c826(0x1d5)]('InvalidNonce'))logHistory(_0x34c826(0x1b8),_0x580bb6+'\x20|\x20API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x34c826(0x1b8),_0x34c826(0x108)),await killBot();else{if(_0x3ef9ad instanceof ccxt[_0x34c826(0x221)])logger[_0x34c826(0x198)](_0x34c826(0x1b2),_0x3ef9ad),await pauseBot(config[_0x34c826(0x239)]+'\x20network\x20error');else{if(_0x3ef9ad[_0x34c826(0x25c)]()[_0x34c826(0x1d5)](_0x34c826(0x1a1)))logHistory(_0x34c826(0x1b8),_0x580bb6+'\x20|\x20'+config[_0x34c826(0x239)]+_0x34c826(0x1d4)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3ef9ad['toString']()[_0x34c826(0x1d5)](_0x34c826(0x206)))logHistory(_0x34c826(0x1b8),_0x580bb6+_0x34c826(0x123)+config[_0x34c826(0x239)]+_0x34c826(0x131)),logHistory(_0x34c826(0x1b8),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3ef9ad[_0x34c826(0x25c)]()['includes']('AuthenticationError'))logHistory(_0x34c826(0x1b8),_0x580bb6+_0x34c826(0x123)+config[_0x34c826(0x239)]+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3ef9ad[_0x34c826(0x25c)]()['includes']('InsufficientFunds'))logHistory('error',_0x580bb6+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x13c152);else _0x3ef9ad instanceof ccxt[_0x34c826(0x171)]?(logger[_0x34c826(0x198)]('Uncaught\x20ExchangeError:',_0x3ef9ad),logHistory(_0x34c826(0x1b8),_0x580bb6+'\x20|\x20'+config[_0x34c826(0x239)]+'\x20exchange\x20error')):(logger[_0x34c826(0x1cd)](_0x580bb6+_0x34c826(0x22f),_0x3ef9ad),await pauseBot(_0x34c826(0xe5)));}}}}}}}}}}}function formatResult(_0x21895a,_0x5ce174){const _0x5f14a3=_0x25d848;return parseFloat(_0x21895a[_0x5f14a3(0x139)](_0x5ce174));}function formatResultTruncate(_0x5516a4,_0x177f8a){const _0x422ed3=_0x25d848;let _0x48bd94=formatResultString(_0x5516a4,0xa),_0x4cb0d0=_0x48bd94[_0x422ed3(0x15e)]('.');return _0x4cb0d0!=-0x1&&(_0x48bd94=_0x48bd94['slice'](0x0,_0x4cb0d0+_0x177f8a+0x1)),Number(_0x48bd94);}function formatResultString(_0x583a6e,_0x11aa17){const _0x23799c=_0x25d848;let _0x3c42c3;if(!(''+_0x583a6e)[_0x23799c(0x1d5)]('e'))_0x3c42c3=+(Math[_0x23799c(0x128)](_0x583a6e+'e+'+_0x11aa17)+'e-'+_0x11aa17);else{let _0x3a05c8=(''+_0x583a6e)['split']('e'),_0x197b8b='';+_0x3a05c8[0x1]+_0x11aa17>0x0&&(_0x197b8b='+'),_0x3c42c3=+(Math[_0x23799c(0x128)](+_0x3a05c8[0x0]+'e'+_0x197b8b+(+_0x3a05c8[0x1]+_0x11aa17))+'e-'+_0x11aa17);}return Number(_0x3c42c3)[_0x23799c(0x139)](_0x11aa17);}function getServerTime(){const _0x121a74=_0x25d848,_0x564f16=new Date();return _0x564f16[_0x121a74(0x217)]()+'/'+(_0x564f16[_0x121a74(0x159)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x564f16[_0x121a74(0x12a)]()[_0x121a74(0x25c)]()[_0x121a74(0x236)](0x2,'0')+'\x20'+_0x564f16[_0x121a74(0x118)]()['toString']()['padStart'](0x2,'0')+':'+_0x564f16[_0x121a74(0x235)]()[_0x121a74(0x25c)]()['padStart'](0x2,'0')+':'+_0x564f16[_0x121a74(0xfe)]()['toString']()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4eec17=_0x25d848,_0x3e7224=shiftedTime();return _0x3e7224[_0x4eec17(0x217)]()+'/'+(_0x3e7224[_0x4eec17(0x159)]()+0x1)[_0x4eec17(0x25c)]()['padStart'](0x2,'0')+'/'+_0x3e7224[_0x4eec17(0x12a)]()['toString']()[_0x4eec17(0x236)](0x2,'0')+'\x20'+_0x3e7224[_0x4eec17(0x118)]()['toString']()[_0x4eec17(0x236)](0x2,'0')+':'+_0x3e7224[_0x4eec17(0x235)]()['toString']()['padStart'](0x2,'0')+':'+_0x3e7224[_0x4eec17(0xfe)]()[_0x4eec17(0x25c)]()[_0x4eec17(0x236)](0x2,'0');}function getDate(){const _0x1c070f=_0x25d848,_0x265e56=shiftedTime();return _0x265e56[_0x1c070f(0x217)]()+'/'+(_0x265e56[_0x1c070f(0x159)]()+0x1)['toString']()[_0x1c070f(0x236)](0x2,'0')+'/'+_0x265e56['getDate']()[_0x1c070f(0x25c)]()['padStart'](0x2,'0');}function getHour(){const _0x1e1892=_0x25d848,_0x3b2a92=shiftedTime();return _0x3b2a92[_0x1e1892(0x118)]()['toString']()[_0x1e1892(0x236)](0x2,'0');}function sleep(_0x6724b0){return new Promise(_0x2e18a5=>setTimeout(_0x2e18a5,_0x6724b0));}function shiftedTime(){const _0x24091f=_0x25d848,_0x16a8d3=new Date();let _0x1e3151=_0x16a8d3;if(config&&config[_0x24091f(0x132)]!==0x0)_0x1e3151=fns['add'](_0x16a8d3,{'hours':config[_0x24091f(0x132)]});return _0x1e3151;}function timer(_0xa719fe){const _0x3745c8=_0x25d848,_0x379856=new Date();!lasttime?console[_0x3745c8(0xfd)](getTimeStamp()+':\x20timer\x20>',_0xa719fe,_0x379856):console[_0x3745c8(0xfd)](getTimeStamp()+_0x3745c8(0x1b4),_0xa719fe,(_0x379856-lasttime)/0x3e8),lasttime=_0x379856;}