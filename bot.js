const _0xf86ccb=_0x3189;(function(_0x2a0f02,_0x71ba69){const _0x3c11b3=_0x3189,_0x27d0f1=_0x2a0f02();while(!![]){try{const _0x379c40=parseInt(_0x3c11b3(0x1c3))/0x1*(-parseInt(_0x3c11b3(0x1be))/0x2)+parseInt(_0x3c11b3(0xfe))/0x3+-parseInt(_0x3c11b3(0x105))/0x4*(parseInt(_0x3c11b3(0x100))/0x5)+-parseInt(_0x3c11b3(0x1c8))/0x6*(parseInt(_0x3c11b3(0x115))/0x7)+-parseInt(_0x3c11b3(0xd4))/0x8*(parseInt(_0x3c11b3(0x13d))/0x9)+parseInt(_0x3c11b3(0x172))/0xa*(-parseInt(_0x3c11b3(0x1ae))/0xb)+parseInt(_0x3c11b3(0x1cf))/0xc;if(_0x379c40===_0x71ba69)break;else _0x27d0f1['push'](_0x27d0f1['shift']());}catch(_0x2bb286){_0x27d0f1['push'](_0x27d0f1['shift']());}}}(_0x3f11,0x412f5));const _0x2ddad4=function(){let _0x23d917=!![];return function(_0x3442c4,_0xa1d9c6){const _0x245dbf=_0x23d917?function(){if(_0xa1d9c6){const _0x4a3e07=_0xa1d9c6['apply'](_0x3442c4,arguments);return _0xa1d9c6=null,_0x4a3e07;}}:function(){};return _0x23d917=![],_0x245dbf;};}(),_0x46e7f5=_0x2ddad4(this,function(){const _0x36d261=_0x3189;return _0x46e7f5[_0x36d261(0x106)]()['search'](_0x36d261(0xf3))['toString']()[_0x36d261(0x12e)](_0x46e7f5)[_0x36d261(0xa7)](_0x36d261(0xf3));});_0x46e7f5();'use strict';const ccxt=require(_0xf86ccb(0xab)),low=require(_0xf86ccb(0x140)),FileSync=require(_0xf86ccb(0x111)),fs=require('fs'),fns=require(_0xf86ccb(0x177)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0xf86ccb(0x19b)),Crypt=require('hybrid-crypto-js')[_0xf86ccb(0xe4)];let exchange,wsClient;global['ticker']={},global[_0xf86ccb(0x150)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0xf86ccb(0x10e),_0xf86ccb(0x1a9),'HOT/EUR',_0xf86ccb(0xf5),_0xf86ccb(0x13e),_0xf86ccb(0xa5)];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0xf86ccb(0xac)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS['UNLOCKED'],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],wstriggersset=![],pidBalances,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0xf86ccb(0x1cc))[_0xf86ccb(0x104)],botID=process[_0xf86ccb(0x170)][0x2]||_0xf86ccb(0x182),pattern=/^[0-9]{3}$/;!pattern[_0xf86ccb(0xd2)](botID)&&(console[_0xf86ccb(0x184)]('Error:\x20Invalid\x20argument\x20'+botID+_0xf86ccb(0x194)),process[_0xf86ccb(0xf8)](0x1));const userID=process[_0xf86ccb(0x170)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0xf86ccb(0x187);!fs[_0xf86ccb(0xde)](configpath)&&fs[_0xf86ccb(0xf1)](configpath);const configfile=configpath+_0xf86ccb(0x1c2)+botID+'-config.json',logfile=configpath+_0xf86ccb(0x1c2)+botID+'-events.json',performancefile=configpath+_0xf86ccb(0x1c2)+botID+'-performance.json',coinresultsfile=configpath+_0xf86ccb(0x1c2)+botID+'-results.json',settingsfile=configpath+_0xf86ccb(0x14b),securefile=configpath+_0xf86ccb(0x192),configbackuppath=configpath+_0xf86ccb(0xe8),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xf86ccb(0xc0)]({'logs':[]})[_0xf86ccb(0xb6)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xf86ccb(0xc0)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xf86ccb(0xc0)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xf86ccb(0xc0)]({'coins':[]})[_0xf86ccb(0xb6)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x19113f)=>{},'debug':(..._0x449e53)=>{},'notice':(..._0x2ae4ba)=>{},'info':(..._0x5ce7dd)=>{},'warning':(..._0x2bf538)=>{},'error':async function(..._0xf34df0){const _0x31300e=_0xf86ccb,_0x57824e=new Date()[_0x31300e(0x132)]();if(!lastErrorShown||_0x57824e-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x31300e(0x132)]();let _0x217317='';if(_0xf34df0[0x0])_0x217317+=_0xf34df0[0x0];if(_0xf34df0[0x1]&&_0xf34df0[0x1][_0x31300e(0x1cd)]&&_0xf34df0[0x1][_0x31300e(0x1cd)]['message'])_0x217317+='\x20-\x20'+_0xf34df0[0x1][_0x31300e(0x1cd)][_0x31300e(0x101)];logging(_0x31300e(0x112)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x217317),await pauseBot(_0x31300e(0xcd));}}},crypt=new Crypt({'md':'sha256','rsaStandard':_0xf86ccb(0x1a8)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0xf86ccb(0x1d1)]!=config[_0xf86ccb(0x1d1)]&&updateTimeshift(settings['timeshift']);process[_0xf86ccb(0x1ab)]({'started':_0xf86ccb(0xf0)},_0x23ccc9=>{}),initializeProcessListeners();function proxyEmit(_0x864195,_0x5ed284=null){process['send']({'function':_0x864195,'args':_0x5ed284},_0x41d078=>{});}function initializeProcessListeners(){const _0x1df4b0=_0xf86ccb;process['on'](_0x1df4b0(0x101),_0x6cfb0b=>{const _0x5395f1=_0x1df4b0;switch(Object[_0x5395f1(0xbe)](_0x6cfb0b)[0x0]){case _0x5395f1(0x1d1):_0x6cfb0b[_0x5395f1(0x1d1)]!=undefined&&(settings[_0x5395f1(0x1d1)]=_0x6cfb0b[_0x5395f1(0x1d1)],updateTimeshift(settings[_0x5395f1(0x1d1)]));break;case _0x5395f1(0x18a):switch(_0x6cfb0b[_0x5395f1(0x18a)]){case _0x5395f1(0x1ad):initclient();break;case _0x5395f1(0x1c1):toggleBotMode();break;case'emitHistory':emitHistory(_0x6cfb0b[_0x5395f1(0xf6)]);break;case _0x5395f1(0x1b8):deleteHistoryAlerts(_0x6cfb0b['args']);break;case _0x5395f1(0x99):getPortfolio(_0x6cfb0b[_0x5395f1(0xf6)]);break;case _0x5395f1(0x181):storeConfiguration(_0x6cfb0b[_0x5395f1(0xf6)]);break;case'storeHeadless':storeHeadless(_0x6cfb0b['args']);break;case _0x5395f1(0x102):getStartingBalances(getNormalizedPerformance());break;case _0x5395f1(0x8a):placeOrder(_0x6cfb0b[_0x5395f1(0xf6)]);break;case _0x5395f1(0x163):cancelLoading();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x286b15=_0xf86ccb;if(pidBalances)clearTimeout(pidBalances);if(config[_0x286b15(0xdd)]!=''){await initExchange(config[_0x286b15(0xdd)],config[_0x286b15(0xe7)]),await initWsEvents();let _0x314b07=await loadSymbols();if(_0x314b07){currentCoins=await getCoins(!![]),await initws();if(allOpenOrders[_0x286b15(0x199)]!=0x0)restoreOrders();initbot();}}}async function initExchange(_0x1ce8e9,_0x294ce2){const _0x2e35dc=_0xf86ccb,_0x373cad=ccxt[config[_0x2e35dc(0x1ca)]];let _0x37bbe4;switch(config['exchange']){case _0x2e35dc(0x19b):_0x37bbe4=_0x2e35dc(0x142);break;case _0x2e35dc(0xd9):_0x37bbe4='wss://stream.binance.us:9443';break;default:_0x37bbe4=_0x2e35dc(0x142);}exchange=new _0x373cad({'apiKey':_0x1ce8e9,'secret':_0x294ce2,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x1ce8e9,'api_secret':_0x294ce2,'beautify':!![],'wsUrl':_0x37bbe4},logger);let _0x1914a2=config[_0x2e35dc(0x1ca)]==_0x2e35dc(0xd9)?'USDT':_0x2e35dc(0xe6),_0x3ba06d=config[_0x2e35dc(0x15c)]==_0x2e35dc(0x1d0)?'ETH':_0x2e35dc(0x168);stablecoins={'eur':{'coin':''+_0x3ba06d+_0x1914a2,'symbol':_0x3ba06d+'/'+_0x1914a2},'usd':{'coin':_0x3ba06d+'USDT','symbol':_0x3ba06d+_0x2e35dc(0x15e)}};}async function initWsEvents(){!wstriggersset&&(wstriggersset=!![],wsClient['on']('formattedMessage',_0x4d2027=>{const _0xc38afe=_0x3189;if(isWsFormattedKline(_0x4d2027)){global[_0xc38afe(0x14f)][_0x4d2027[_0xc38afe(0xd1)][_0xc38afe(0x152)]]=_0x4d2027[_0xc38afe(0xd1)][_0xc38afe(0x1c9)];return;}else{if(isWsFormatted24hrTicker(_0x4d2027)){global[_0xc38afe(0x150)][_0x4d2027[_0xc38afe(0x152)]]=_0x4d2027[_0xc38afe(0x1b4)];return;}else{if(!Array[_0xc38afe(0x167)](_0x4d2027)&&_0x4d2027['wsKey'][_0xc38afe(0x189)](_0xc38afe(0xb3))){if(_0x4d2027[_0xc38afe(0x9e)]['includes'](_0xc38afe(0xf9))){updateNumberCoins(_0x4d2027);return;}}}}}),wsClient['on']('reconnected',async _0x196697=>{currentCoins=await getCoins(!![]),handleOpenOrders();}));}async function loadSymbols(){const _0x2ff9f3=_0xf86ccb;let _0x308788;try{markets=await exchange[_0x2ff9f3(0x10d)](),allSymbols=exchange['symbols'][_0x2ff9f3(0x12a)](_0x344620=>{const _0x5a3958=_0x2ff9f3;let _0xa5c168=![];return exceptions[_0x5a3958(0x12c)](_0x3bc45e=>{if(_0x344620['includes'](_0x3bc45e))_0xa5c168=!![];}),!_0xa5c168;}),_0x308788=!![];}catch(_0x1aa4b9){await handleError(_0x1aa4b9,_0x2ff9f3(0x180)),_0x308788=![];}return _0x308788;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x44faa9=_0xf86ccb;proxyEmit(_0x44faa9(0x1c5),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x44faa9(0xee),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x33a1bc=getNormalizedPerformance();emitPerformance(_0x33a1bc),await getStartingBalances(_0x33a1bc);}async function toggleBotMode(){const _0x4630b0=_0xf86ccb;let _0x44fa70=dbConfig[_0x4630b0(0x133)]('bot')[_0x4630b0(0x17c)]({'botID':botID})[_0x4630b0(0x18d)]();if(_0x44fa70){const _0x2228fa=!_0x44fa70[_0x4630b0(0xd7)];dbConfig['get'](_0x4630b0(0x1b1))[_0x4630b0(0x17c)]({'botID':botID})[_0x4630b0(0xa9)]({'headless':_0x2228fa})[_0x4630b0(0xb6)](),config[_0x4630b0(0xd7)]=_0x2228fa,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1c3c43=_0xf86ccb;process[_0x1c3c43(0x1ab)]({'updatebotmanager':!![]},_0x407e1d=>{});}function cleanws(){const _0x3038ce=_0xf86ccb;wsinitialized=![];ws1&&(ws1[_0x3038ce(0x12c)](_0x5f1800=>{const _0xbc6910=_0x3038ce;try{wsClient[_0xbc6910(0x1c9)](_0x5f1800);}catch(_0x3107bc){}}),ws1=[]);if(ws2){try{wsClient[_0x3038ce(0x1c9)](ws2);}catch(_0x5439cd){}ws2=null;}ws3&&(ws3[_0x3038ce(0x12c)](_0x278270=>{try{wsClient['close'](_0x278270);}catch(_0x107d34){}}),ws3=[]);}async function initws(){const _0x28bc31=_0xf86ccb;cleanws();let _0x5158f5=[];currentCoins['forEach'](_0x1ad7f7=>{const _0x39ca5f=_0x3189;if(_0x1ad7f7[_0x39ca5f(0x141)]!=config[_0x39ca5f(0x15c)])_0x5158f5[_0x39ca5f(0x178)](_0x1ad7f7[_0x39ca5f(0x152)]);});if(!_0x5158f5[_0x28bc31(0x189)](stablecoins[_0x28bc31(0xa4)][_0x28bc31(0x152)]))_0x5158f5[_0x28bc31(0x178)](stablecoins[_0x28bc31(0xa4)][_0x28bc31(0x152)]);if(!_0x5158f5[_0x28bc31(0x189)](stablecoins[_0x28bc31(0xe5)]['symbol']))_0x5158f5['push'](stablecoins[_0x28bc31(0xe5)][_0x28bc31(0x152)]);if(!_0x5158f5['includes'](_0x28bc31(0x11e)+config[_0x28bc31(0x15c)]))_0x5158f5['push']('BNB/'+config[_0x28bc31(0x15c)]);try{_0x5158f5[_0x28bc31(0x12c)]((_0x5ec2d3,_0x4bfaf3)=>{const _0x579a2e=_0x28bc31;ws1[_0x4bfaf3]=wsClient['subscribeSpotKline'](noslash(_0x5ec2d3),'1m'),ws3[_0x4bfaf3]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x5ec2d3),_0x579a2e(0xf9));}),ws2=wsClient['subscribeSpotUserDataStream']();}catch(_0xf474eb){await handleError(_0xf474eb,'initws()');}let _0x364a35,_0x35c0f0=0x0;loading['remainingSymbols']=[];let _0x43292f=0x0;_0x5158f5['forEach'](_0x4a1b2c=>{const _0x22e0ba=_0x28bc31;loading[_0x22e0ba(0x173)]['push'](_0x4a1b2c);}),loadingCanceled=![];let _0x4fed13=![];while(_0x364a35!=_0x5158f5['length']){_0x364a35=0x0,_0x5158f5[_0x28bc31(0x12c)](_0xc17b2a=>{const _0x338e2b=_0x28bc31;global[_0x338e2b(0x14f)][noslash(_0xc17b2a)]&&(loading['remainingSymbols']=loading[_0x338e2b(0x173)][_0x338e2b(0x12a)](_0x26a1ad=>_0x26a1ad!=_0xc17b2a),_0x364a35++);}),loading['progress']=Math[_0x28bc31(0x1c0)](_0x364a35/_0x5158f5['length']*0x64);loading['progress']!=0x64&&(_0x43292f>0x1e*0x5&&(loading[_0x28bc31(0xcc)]=!![],emitLoadingProgress()),_0x43292f>0x3c*0x5&&!_0x4fed13&&(_0x4fed13=!![],logHistory(_0x28bc31(0x1cd),_0x28bc31(0x127)+loading[_0x28bc31(0x173)][_0x28bc31(0x164)](',\x20')+_0x28bc31(0xaf))));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x364a35!=_0x35c0f0&&(_0x35c0f0=_0x364a35,emitLoadingProgress()),_0x43292f++,await sleep(0xc8);}_0x4fed13&&logHistory(_0x28bc31(0xb2),_0x28bc31(0x158));if(_0x364a35==_0x5158f5[_0x28bc31(0x199)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x76240=_0xf86ccb;proxyEmit(_0x76240(0x17b),loading);}async function getFiat(){const _0x29b3dc=_0xf86ccb;let _0xfc3f44=0x0,_0x1ef11f=0x0;try{_0xfc3f44=global[_0x29b3dc(0x14f)][stablecoins[_0x29b3dc(0xa4)]['coin']],_0x1ef11f=global[_0x29b3dc(0x14f)][stablecoins[_0x29b3dc(0xe5)][_0x29b3dc(0x141)]];}catch(_0x58be44){await handleError(_0x58be44,'getFiat()');}return{'eur':Number(_0xfc3f44),'usd':Number(_0x1ef11f)};}function setStartDatePerformance(){const _0x5c1a1b=_0xf86ccb;if(config&&config[_0x5c1a1b(0xbf)][0x0][_0x5c1a1b(0xf4)]['length']!=0x0){const _0x367349=config['liquidity'][0x0][_0x5c1a1b(0xf4)];dbPerformance[_0x5c1a1b(0x133)](_0x5c1a1b(0x174))[_0x5c1a1b(0x17c)]({'date':config[_0x5c1a1b(0x8c)]})[_0x5c1a1b(0xa9)]({'coins':_0x367349})[_0x5c1a1b(0xb6)]();}}async function recreateCoinResults(){const _0xf6dd1c=_0xf86ccb;let _0x39e327,_0x441bc7=[];try{const _0x56cf7a=fns[_0xf6dd1c(0x137)](fns['parseISO'](config['startdate'][_0xf6dd1c(0x17a)](/\//g,'-')),_0xf6dd1c(0x161));for(const _0x34c191 of currentCoins){if(_0x34c191[_0xf6dd1c(0x141)]!=config[_0xf6dd1c(0x15c)]){let _0x2fdd7f=0x0,_0x3e67dd,_0x373a2b;_0x39e327=await getAllEventOrders(_0x34c191[_0xf6dd1c(0x152)]);if(_0x39e327[_0xf6dd1c(0x199)]>0x0)_0x39e327['forEach'](_0x443f42=>{const _0x4fceae=_0xf6dd1c,_0x344cb1=_0x34c191['symbol'][_0x4fceae(0x189)](config['basecoin']+'/');_0x441bc7[_0x4fceae(0x178)]({'datetime':_0x443f42[_0x4fceae(0xbb)],'coin':_0x34c191[_0x4fceae(0x141)],'symbol':_0x34c191['symbol'],'side':_0x443f42['side'],'reverse':_0x344cb1,'amount':formatResult(_0x443f42['filled'],0x8),'filled':formatResult(_0x443f42[_0x4fceae(0x186)],0x8),'price':formatResult(_0x443f42[_0x4fceae(0x120)],0x8)}),_0x2fdd7f=_0x443f42['side']==_0x4fceae(0x1a3)?_0x2fdd7f+_0x443f42[_0x4fceae(0x186)]:_0x2fdd7f-_0x443f42[_0x4fceae(0x186)];if(!_0x373a2b)_0x373a2b=_0x443f42[_0x4fceae(0x120)];});_0x3e67dd=_0x34c191[_0xf6dd1c(0x130)]-_0x2fdd7f;let _0x44981c;config[_0xf6dd1c(0xbf)][_0xf6dd1c(0x12c)](_0x5f0307=>{const _0x4daa65=_0xf6dd1c;!_0x44981c&&(_0x44981c=_0x5f0307[_0x4daa65(0xf4)]['find'](_0x122740=>_0x122740[_0x4daa65(0x141)]==_0x34c191[_0x4daa65(0x141)]),_0x44981c&&(_0x3e67dd=_0x44981c[_0x4daa65(0x130)],_0x373a2b=_0x44981c['price']));});let _0x492e3a=dbCoinResults[_0xf6dd1c(0x133)](_0xf6dd1c(0x154))[_0xf6dd1c(0x17c)]({'coin':_0x34c191[_0xf6dd1c(0x141)]})['value']();_0x492e3a={'coin':_0x34c191[_0xf6dd1c(0x141)],'number':_0x3e67dd,'breakeven':_0x373a2b,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0xf6dd1c(0x133)]('coins')['find']({'coin':_0x34c191[_0xf6dd1c(0x141)]})[_0xf6dd1c(0xa9)](_0x492e3a)[_0xf6dd1c(0xb6)]();}}_0x441bc7[_0xf6dd1c(0x11f)]((_0x36396a,_0xf79f96)=>_0x36396a['datetime']>_0xf79f96[_0xf6dd1c(0xbb)]?0x1:_0xf79f96[_0xf6dd1c(0xbb)]>_0x36396a[_0xf6dd1c(0xbb)]?-0x1:0x0);let _0x130479=0x0;for(let _0x396b5d of _0x441bc7){await updateCoinResults(_0x396b5d,!![]);}}catch(_0xeda221){await handleError(_0xeda221,_0xf6dd1c(0xbd));}}async function getAllEventOrders(_0x29d416){const _0x15bf9a=_0xf86ccb;let _0x14f4ce=[],_0x9c026d=dbLogs['get'](_0x15bf9a(0x90))['filter'](_0x296d0b=>{const _0x503182=_0x15bf9a,_0xa89713=_0x296d0b['event'][_0x503182(0x1b9)]();return _0xa89713[_0x503182(0x189)](_0x29d416[_0x503182(0x1b9)]())&&(_0xa89713[_0x503182(0x189)](_0x503182(0xb9))&&_0xa89713[_0x503182(0x189)](_0x503182(0x8d))||_0xa89713[_0x503182(0x189)]('filled')&&_0xa89713['includes']('order'));})['sortBy'](_0x15bf9a(0x8e))[_0x15bf9a(0x18d)]();return _0x9c026d['forEach'](_0x125de5=>{const _0x5af1d1=_0x15bf9a,_0x125893=_0x125de5[_0x5af1d1(0x15d)][_0x5af1d1(0x189)](_0x5af1d1(0x12d))?_0x5af1d1(0x12d):'buy',_0x372349=/#([0-9]|\.)+\s/i,_0x32ad8e=Number(_0x372349[_0x5af1d1(0x16d)](_0x125de5[_0x5af1d1(0x15d)])[0x0]['slice'](0x1)),_0x2e83be=/@([0-9]|\.)+$/i,_0x9ae1b6=Number(_0x2e83be[_0x5af1d1(0x16d)](_0x125de5[_0x5af1d1(0x15d)])[0x0]['slice'](0x1));_0x14f4ce[_0x5af1d1(0x178)]({'datetime':_0x125de5[_0x5af1d1(0x8e)],'coin':symbolToCoin(_0x29d416),'symbol':_0x29d416,'side':_0x125893,'amount':_0x32ad8e,'filled':_0x32ad8e,'price':_0x9ae1b6});}),_0x14f4ce;}async function getAllOrders(_0x39c2cb,_0x1b5b07){const _0x586314=_0xf86ccb;let _0x4c72f1=[];while(_0x1b5b07<exchange[_0x586314(0x14e)]()){const _0x449cdf=0x1f4,_0x40a622=await exchange['fetchClosedOrders'](_0x39c2cb,_0x1b5b07,_0x449cdf);if(_0x40a622[_0x586314(0x199)])_0x1b5b07=_0x40a622[_0x40a622['length']-0x1]['timestamp']+0x1,_0x4c72f1=_0x4c72f1[_0x586314(0xdf)](_0x40a622);else break;}return _0x4c72f1;}async function validate24hChanges(){const _0x239850=_0xf86ccb;let _0x34b102;for(const _0x2521a3 of currentCoins){if(_0x2521a3[_0x239850(0x141)]!=config['basecoin']){let _0xd6b321;_0x2521a3['reverse']?_0xd6b321=formatResult((0x1/(global['change'][noslash(_0x2521a3['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0xd6b321=global['change'][noslash(_0x2521a3[_0x239850(0x152)])],_0xd6b321<config[_0x239850(0xf7)]&&(logHistory(_0x239850(0x1cd),_0x2521a3['coin']+_0x239850(0x118)+_0xd6b321+'%'),logHistory('error',_0x239850(0x128)),logHistory(_0x239850(0x1cd),_0x239850(0x1cb)),await storeHeadless({'headless':![]}));}}}function _0x3189(_0xf7321,_0x1b4f46){const _0xca8da5=_0x3f11();return _0x3189=function(_0x46e7f5,_0x2ddad4){_0x46e7f5=_0x46e7f5-0x8a;let _0x3f1164=_0xca8da5[_0x46e7f5];return _0x3f1164;},_0x3189(_0xf7321,_0x1b4f46);}function _0x3f11(){const _0x32f75f=['coins','threshold','Invalid\x20quantity','decrypt','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','getCoinNumber()','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','min','basecoin','event','/USDT','ordertype','Limit\x20(high-margin)','yyyy-MM-dd\x27T\x27HH:mm:ss','date','cancelLoading','join','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','privateKey','isArray','BTC','fiat','execution:','excluded','restart','exec','\x20value','USDT','argv','************','1180TvbTzA','remainingSymbols','data','Cooldown\x20ended\x20-\x20balancing\x20resumed','<b>Bot\x20','date-fns','push','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','replace','coin-loading-progress','find','orderstatus','2.5.0','Order\x20filled:\x20','loadSymbols()','storeConfiguration','001','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','log','FILLED','filled','./config/','Binance\x20API\x20key\x20is\x20invalid','includes','function','Market','getCoins()','value','net-fiat','type','RequestTimeout','Limit\x20(low-margin)','bb-secure.json','realized',',\x20must\x20be\x20a\x203\x20digit\x20number','split','kill','fetchBalance','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','length','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','binance','CANCELED','2.3.5','Unknown\x20error\x20occured','cancelOrder','\x20orders\x20in\x20less\x20than\x20','performance','\x20|\x20Error\x20details:\x20','buy','stringify','botID','final','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','RSA-OAEP','HOT/BTC','yyyy/MM/dd','send','abs','initclient','24277uyiiKO','getFullYear','\x20minutes','bot','</pre>','Net\x20','priceChangePercent','\x20>\x20getcoins:','\x20order:\x20','splice','deleteHistoryAlerts','toLowerCase','string','eventType','emojibuy','sells','2WHhxwc','writeFile','round','toggleBotMode','bot-','2567CrkpvR','fetchOpenOrders','configuration','side','indexOf','312KHUdFo','close','exchange','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','./version.json','error','differenceInSeconds','15088164StFrhc','ETH','timeshift','placeOrder','Net\x20effect','startdate','order','time','startprice','logs','fee','canceled','limit-high','Order(s)\x20not\x20validated\x20after\x20','%\x20\x0a','Bot\x20','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','starting-balances','getPortfolio','AuthenticationError','Pausing\x20for\x20','\x20|\x20Binance\x20API\x20key\x20invalid',':\x20Bot\x20','wsMarket','\x20minutes\x20-\x20','MIN_NOTIONAL','last','offset','getPortfolio()','eur','YOYOW/','toFixed','search','target','assign','\x20|\x20Binance\x20API\x20secret\x20invalid','ccxt','freeze','timestamp','\x20portfolio:</b>\x20\x0a\x0a','\x20-\x20bot\x20not\x20started','distribution','Binance\x20not\x20available\x20(2)','success','userData','fromCodePoint','UNLOCKED','write','secure','Binance\x20not\x20responding','market','OrderNotFound','datetime','slice','recreateCoinResults()','keys','liquidity','defaults','BUSD','open','ongoing','DDoSProtection','entries','Order\x20amount\x20is\x20invalid:\x20','emojisell','settings','placeOrder()','\x20hour','.json','timeout','Binance\x20not\x20available\x20(1)','breakeven','balancing\x20resumed','shift','kline','test','accumulatedQuantity','64rawtRk','findIndex','none','headless','cooldown','binanceus','sortBy','fees','Executed\x20','apiKey','existsSync','concat','leftTxt','\x20>\x20','cancelOrders()','LOCKED','Crypt','usd','EUR','apiSecret','/backup/','getSeconds','event-history','NEW','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','BNB','balances','delta','running','mkdirSync','orderStatus','(((.+)+)+)+$','changes','XEM/BUSD','args','change24h','exit','spot','orderId','UNLOCKING','amount','createOrder','306243pbdqBX','stack','36375zicocw','message','getStartingBalances','netoffset','version','280kMddMl','toString','validate:','max','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','parse','\x20|\x20','bid','loadMarkets','DAI/','Order(s)\x20validated\x20-\x20','net-basecoin','lowdb/adapters/FileSync','WebSockets(','cumulativeQuoteAssetTransactedQty','botname','6279jaAsta','API-key\x20format\x20invalid','InsufficientFunds','\x20has\x20a\x2024h\x20drop\x20of\x20','buys','commission','Manual\x20balancing\x20required:\x20','padStart','fetchTickers','BNB/','sort','price','limits','getDate','initial','enabled','showname','starting-balance-','Failed\x20to\x20load\x20coin\x20data\x20for\x20','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','total','filter','has','forEach','sell','constructor','getHours','number','configuration-stored','getTime','get','trade','remove','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','format','no\x20open\x20orders','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','cloneDeep','API\x20or\x20clock\x20sync\x20issue','<b>','307737BfhBuS','NANO/','-------------------------------\x0a','lowdb','coin','wss://stream.binance.com:9443','reverse','page','portfolio','currency','getMinutes','getMonth','limit','rightTxt','bb-settings.json','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','InvalidNonce','milliseconds','ticker','change','cost','symbol','valid'];_0x3f11=function(){return _0x32f75f;};return _0x3f11();}async function oneTimeMigration(){const _0x133bfc=_0xf86ccb;let _0x141d65=dbLogs[_0x133bfc(0x133)](_0x133bfc(0x104))[_0x133bfc(0x18d)]();if(_0x141d65!=_0x133bfc(0x19d)){dbLogs['set']('version',_0x133bfc(0x19d))[_0x133bfc(0xb6)]();let _0x4eddca=[];const _0x42eaaa=dbLogs[_0x133bfc(0x133)]('logs')[_0x133bfc(0x18d)]();_0x42eaaa[_0x133bfc(0x12c)](_0x1d678b=>{const _0x185c71=_0x133bfc;_0x4eddca[_0x185c71(0x178)]({'time':_0x1d678b[_0x185c71(0x8e)],'type':_0x1d678b['type'],'event':_0x1d678b[_0x185c71(0x15d)]});}),dbLogs[_0x133bfc(0x133)](_0x133bfc(0x90))[_0x133bfc(0xa9)](_0x4eddca)[_0x133bfc(0xb6)]();}let _0x77e2e7=dbConfig['get'](_0x133bfc(0x104))['value']();if(_0x77e2e7!=_0x133bfc(0x19d)){dbConfig['set'](_0x133bfc(0x104),'2.3.5')['write']();let _0xc42a36=dbConfig[_0x133bfc(0x133)]('bot')[_0x133bfc(0x17c)]({'botID':botID})[_0x133bfc(0x18d)]();if(_0xc42a36){let _0x2ebae4=[];_0xc42a36[_0x133bfc(0x145)][_0x133bfc(0x12c)](_0x2dc912=>{const _0x5b6ab9=_0x133bfc;_0x2ebae4['push']({'coin':_0x2dc912[_0x5b6ab9(0x141)],'number':_0x2dc912['startnumber'],'price':_0x2dc912[_0x5b6ab9(0x8f)]}),delete _0x2dc912['startnumber'],delete _0x2dc912[_0x5b6ab9(0x8f)];});if(_0x2ebae4[_0x133bfc(0x199)]!==0x0)fs[_0x133bfc(0x1bf)](configbackuppath+(_0x133bfc(0x126)+botID+_0x133bfc(0xcb)),JSON[_0x133bfc(0x1a4)](_0x2ebae4,null,0x4),function(_0x103d13){if(_0x103d13){}});const _0x4bb40e=(_0x5a6b39,_0xdb6434)=>{const _0x214d1b=_0x133bfc;let _0x591f9d=[];_0xdb6434['forEach'](_0x1c92c7=>{const _0x367d68=_0x3189,_0x4d5335=_0x5a6b39[_0x367d68(0x17c)](_0x11b537=>_0x11b537['coin']==_0x1c92c7[_0x367d68(0x141)]);if(!_0x4d5335)_0x591f9d[_0x367d68(0x178)](_0x1c92c7);});let _0x3452b2=[];return _0x5a6b39[_0x214d1b(0x12c)](_0x222489=>{const _0x4f6cdd=_0x214d1b,_0x565e77=_0xdb6434[_0x4f6cdd(0x17c)](_0x1f1945=>_0x1f1945[_0x4f6cdd(0x141)]==_0x222489[_0x4f6cdd(0x141)]);if(!_0x565e77||_0x565e77[_0x4f6cdd(0x130)]==0x0&&_0x222489['number']!=0x0)_0x3452b2['push'](_0x222489);}),{'missingDay1':_0x591f9d,'notInDay2':_0x3452b2};},_0x591b6e=dbPerformance['get']('data')[_0x133bfc(0x13a)]()[_0x133bfc(0x18d)]();if(_0x591b6e[_0x133bfc(0x199)]>0x1){const {missingDay1:_0x7e0407,notInDay2:_0x30ea2e}=_0x4bb40e(_0x2ebae4,_0x591b6e[0x1][_0x133bfc(0x154)]);_0x2ebae4=[..._0x2ebae4,..._0x7e0407],_0x30ea2e['forEach'](_0x24cb5a=>{const _0x4a7903=_0x133bfc;let _0x330c62=_0x2ebae4[_0x4a7903(0xd5)](_0x2a87b6=>_0x2a87b6[_0x4a7903(0x141)]==_0x24cb5a[_0x4a7903(0x141)]);_0x330c62!=-0x1&&_0x2ebae4[_0x4a7903(0x1b7)](_0x330c62,0x1);});}_0x2ebae4[_0x133bfc(0x11f)]((_0x1828f4,_0xd46694)=>_0x1828f4[_0x133bfc(0x141)]>_0xd46694[_0x133bfc(0x141)]?0x1:_0xd46694['coin']>_0x1828f4[_0x133bfc(0x141)]?-0x1:0x0);let _0x59d9cc=[{'date':_0xc42a36['startdate'],'changes':_0x2ebae4}];_0x591b6e[_0x133bfc(0x199)]>0x2&&_0x591b6e[_0x133bfc(0x12c)]((_0xdca07f,_0x362f9c)=>{const _0xe1d040=_0x133bfc;if(_0x362f9c>0x0&&_0x362f9c<_0x591b6e[_0xe1d040(0x199)]-0x1){const {missingDay1:_0x409d01,notInDay2:_0x5e2142}=_0x4bb40e(_0x591b6e[_0x362f9c]['coins'],_0x591b6e[_0x362f9c+0x1][_0xe1d040(0x154)]);_0x2ebae4=[],(_0x409d01[_0xe1d040(0x199)]!=0x0||_0x5e2142[_0xe1d040(0x199)]!=0x0)&&(_0x409d01['length']!=0x0&&_0x2ebae4[_0xe1d040(0x178)](..._0x409d01),_0x5e2142[_0xe1d040(0x199)]!=0x0&&(_0x5e2142[_0xe1d040(0x12c)](_0x4b16c7=>{const _0x224a58=_0xe1d040;_0x4b16c7[_0x224a58(0x130)]=-_0x4b16c7[_0x224a58(0x130)];}),_0x2ebae4['push'](..._0x5e2142)),_0x2ebae4['sort']((_0x32ed3c,_0x3a8a21)=>_0x32ed3c[_0xe1d040(0x141)]>_0x3a8a21[_0xe1d040(0x141)]?0x1:_0x3a8a21['coin']>_0x32ed3c[_0xe1d040(0x141)]?-0x1:0x0),_0x59d9cc['push']({'date':_0x591b6e[_0x362f9c+0x1]['date'],'changes':_0x2ebae4}));}}),dbConfig[_0x133bfc(0x133)](_0x133bfc(0x1b1))['find']({'botID':botID})[_0x133bfc(0xa9)]({..._0xc42a36,'liquidity':_0x59d9cc})[_0x133bfc(0xb6)]();}}config=getConfiguration(botID);let _0x4afa69=dbPerformance[_0x133bfc(0x133)]('version')['value']();_0x4afa69!='2.3.5'&&(dbPerformance['set'](_0x133bfc(0x104),'2.3.5')[_0x133bfc(0xb6)](),setStartDatePerformance());let _0x162de9=dbCoinResults[_0x133bfc(0x133)](_0x133bfc(0x104))[_0x133bfc(0x18d)]();if(_0x162de9!=_0x133bfc(0x17e)){dbCoinResults['set']('version',_0x133bfc(0x17e))[_0x133bfc(0xb6)]();let _0x5b6549=dbCoinResults[_0x133bfc(0x133)](_0x133bfc(0x154))[_0x133bfc(0x18d)]();if(_0x5b6549[_0x133bfc(0x199)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x5396c5){const _0x3c2230=_0xf86ccb;let _0x46fbaf=dbConfig['get'](_0x3c2230(0x1b1))[_0x3c2230(0x17c)]({'botID':_0x5396c5})['value']();if(_0x46fbaf){let _0x318fa5=![];typeof _0x46fbaf[_0x3c2230(0x155)]==_0x3c2230(0x1ba)&&(_0x46fbaf={..._0x46fbaf,'threshold':Number(_0x46fbaf[_0x3c2230(0x155)])},_0x318fa5=!![]),_0x46fbaf[_0x3c2230(0xf7)]==null&&(_0x46fbaf={..._0x46fbaf,'change24h':-0x14},_0x318fa5=!![]),_0x318fa5&&(_0x46fbaf={'botID':_0x46fbaf[_0x3c2230(0x1a5)],'exchange':_0x46fbaf[_0x3c2230(0x1ca)],'apiKey':_0x46fbaf[_0x3c2230(0xdd)],'apiSecret':_0x46fbaf[_0x3c2230(0xe7)],'basecoin':_0x46fbaf[_0x3c2230(0x15c)],'botname':_0x46fbaf[_0x3c2230(0x114)],'showname':_0x46fbaf[_0x3c2230(0x125)],'threshold':_0x46fbaf[_0x3c2230(0x155)],'ordertype':_0x46fbaf[_0x3c2230(0x15f)],'timeout':_0x46fbaf[_0x3c2230(0xcc)],'startdate':_0x46fbaf['startdate'],'recreate':_0x46fbaf['recreate'],'timeshift':_0x46fbaf['timeshift'],'headless':_0x46fbaf['headless'],'cooldown':_0x46fbaf['cooldown'],'change24h':_0x46fbaf[_0x3c2230(0xf7)],'emojibuy':_0x46fbaf[_0x3c2230(0x1bc)],'emojisell':_0x46fbaf[_0x3c2230(0xc7)],'portfolio':_0x46fbaf[_0x3c2230(0x145)],'liquidity':_0x46fbaf[_0x3c2230(0xbf)]},dbConfig[_0x3c2230(0x133)]('bot')[_0x3c2230(0x135)]()['write'](),dbConfig[_0x3c2230(0x133)]('bot')[_0x3c2230(0x178)](_0x46fbaf)['write']());}else _0x46fbaf={'botID':_0x5396c5,'exchange':_0x3c2230(0x19b),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x3c2230(0x96)+_0x5396c5,'showname':![],'threshold':0x3,'ordertype':_0x3c2230(0xb9),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x3c2230(0x1d1)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x46fbaf;}function emittedConfiguration(){const _0x4a7fdb=_0xf86ccb;let _0x17e8ff;return config['apiKey']==''?_0x17e8ff=config:_0x17e8ff={...config,'apiKey':_0x4a7fdb(0x171),'apiSecret':'************'},_0x17e8ff;}function getSettings(){const _0x50eec6=_0xf86ccb;return dbSettings['get'](_0x50eec6(0xc8))[_0x50eec6(0x18d)]();}function getSecure(){const _0x2b3c47=_0xf86ccb;return dbSecure['get'](_0x2b3c47(0xb7))[_0x2b3c47(0x18d)]()||{};}function updateTimeshift(_0x408df8){const _0x10a6a0=_0xf86ccb;let _0x55ec3d=dbConfig[_0x10a6a0(0x133)](_0x10a6a0(0x1b1))['find']({'botID':botID})[_0x10a6a0(0x18d)]();_0x55ec3d&&dbConfig[_0x10a6a0(0x133)](_0x10a6a0(0x1b1))['find']({'botID':botID})[_0x10a6a0(0xa9)]({'timeshift':_0x408df8})[_0x10a6a0(0xb6)](),config[_0x10a6a0(0x1d1)]=_0x408df8,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x335d9c){const _0x285825=_0xf86ccb;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x227198=dbConfig[_0x285825(0x133)](_0x285825(0x1b1))[_0x285825(0x17c)]({'botID':botID})[_0x285825(0x18d)]();_0x335d9c={..._0x335d9c,'apiKey':crypt[_0x285825(0x157)](secure[_0x285825(0x166)],_0x335d9c[_0x285825(0xdd)])[_0x285825(0x101)],'apiSecret':crypt['decrypt'](secure['privateKey'],_0x335d9c[_0x285825(0xe7)])['message']};if(_0x227198){if(_0x335d9c[_0x285825(0xdd)]==_0x285825(0x171))_0x335d9c[_0x285825(0xdd)]=config[_0x285825(0xdd)];if(_0x335d9c[_0x285825(0xe7)]==_0x285825(0x171))_0x335d9c['apiSecret']=config[_0x285825(0xe7)];dbConfig[_0x285825(0x133)](_0x285825(0x1b1))[_0x285825(0x17c)]({'botID':botID})[_0x285825(0xa9)](_0x335d9c)[_0x285825(0xb6)]();}else dbConfig[_0x285825(0x133)](_0x285825(0x1b1))['push'](_0x335d9c)[_0x285825(0xb6)](),process[_0x285825(0x1ab)]({'status':_0x285825(0x124),'live':_0x285825(0xf0)},_0xd18908=>{});config={..._0x335d9c},setStartDatePerformance(),process[_0x285825(0x1ab)]({'botname':_0x335d9c[_0x285825(0x114)]},_0x5f4235=>{}),updateBotManager();const _0x424ae7=getNormalizedPerformance();getStartingBalances(_0x424ae7),emitPerformance(_0x424ae7),proxyEmit(_0x285825(0x131)),await initCoinResults(),reset();}async function storeHeadless(_0x310e8f){const _0x24b5de=_0xf86ccb,_0x225666={...config,'headless':_0x310e8f[_0x24b5de(0xd7)]};let _0x43937e=dbConfig[_0x24b5de(0x133)](_0x24b5de(0x1b1))[_0x24b5de(0x17c)]({'botID':botID})[_0x24b5de(0x18d)]();_0x43937e&&dbConfig['get'](_0x24b5de(0x1b1))[_0x24b5de(0x17c)]({'botID':botID})[_0x24b5de(0xa9)](_0x225666)[_0x24b5de(0xb6)](),config={..._0x225666},updateBotManager(),proxyEmit(_0x24b5de(0x1c5),emittedConfiguration());}function noslash(_0x540fd6){return _0x540fd6['replace']('/','');}async function updateNumberCoins(_0x53991b){const _0x450bfb=_0xf86ccb;if(_0x53991b[_0x450bfb(0x1bb)]&&_0x53991b[_0x450bfb(0x1bb)]=='executionReport'){logging(_0x450bfb(0x16a),_0x53991b);let _0x3ab5f0=_0x53991b[_0x450bfb(0xf2)],_0x1de4fc=![];currentCoins[_0x450bfb(0x12c)](_0x230aa4=>{const _0x22e64c=_0x450bfb;noslash(_0x230aa4['symbol'])==_0x53991b[_0x22e64c(0x152)]&&(_0x1de4fc=!![]);});if(!_0x1de4fc)return;const _0x14d3e7=currentCoins[_0x450bfb(0x17c)](_0x581b20=>noslash(_0x581b20[_0x450bfb(0x152)])==_0x53991b[_0x450bfb(0x152)]),_0x2bae01=_0x53d7d0=>{const _0x345de1=_0x450bfb;if(_0x14d3e7)_0x14d3e7[_0x345de1(0x17d)]=_0x53d7d0;};if(_0x3ab5f0==_0x450bfb(0xeb))_0x2bae01(_0x450bfb(0xc2));else{if(_0x3ab5f0==_0x450bfb(0x19c))_0x2bae01(_0x450bfb(0x92)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x3ab5f0==_0x450bfb(0x185)){let _0x2c8c13=![];if(lastOrders)lastOrders[_0x450bfb(0x12c)](async _0x115dab=>{const _0x52d79d=_0x450bfb;if(_0x115dab[_0x52d79d(0xfa)]==_0x53991b[_0x52d79d(0xfa)]){_0x2c8c13=!![],logging(_0x52d79d(0x186));if(_0x115dab['filled']==0x0){_0x115dab[_0x52d79d(0x120)]=_0x53991b[_0x52d79d(0x113)]/_0x53991b[_0x52d79d(0xd3)],_0x115dab[_0x52d79d(0x186)]=_0x53991b[_0x52d79d(0xd3)],_0x115dab[_0x52d79d(0x91)]={'cost':_0x53991b[_0x52d79d(0x11a)],'currency':_0x53991b['commissionAsset']},_0x2bae01(_0x52d79d(0x186)),await validateOrders();if(lockOrders==ORDERS[_0x52d79d(0xe3)])currentCoins=await getCoins();await updateCoinResults(_0x115dab);}}});!_0x2c8c13&&(_0x2bae01(_0x450bfb(0x186)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x4d81bb=JSON[_0x450bfb(0x10a)](lastBalances[_0x450bfb(0x145)]);const _0x8793a7=_0x4d81bb[_0x450bfb(0x17c)](_0x53f153=>noslash(_0x53f153[_0x450bfb(0x152)])==_0x53991b[_0x450bfb(0x152)]);if(_0x8793a7){if(_0x3ab5f0==_0x450bfb(0xeb))_0x8793a7['orderstatus']=_0x8793a7[_0x450bfb(0x17d)]==_0x450bfb(0x186)?'filled':'open';else{if(_0x3ab5f0==_0x450bfb(0x19c))_0x8793a7['orderstatus']=_0x8793a7[_0x450bfb(0x17d)]=='filled'?_0x450bfb(0x186):_0x450bfb(0x92);else _0x3ab5f0==_0x450bfb(0x185)&&(_0x8793a7[_0x450bfb(0x17d)]=_0x450bfb(0x186));}}lastBalances={...lastBalances,'portfolio':JSON[_0x450bfb(0x1a4)](_0x4d81bb)},logging(_0x3ab5f0,_0x4d81bb),proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x14e6d7=![],_0x1cb0b4=!![],_0x1deef2=config['basecoin']){const _0x280d67=_0xf86ccb;let _0x958f8,_0x302d13=[],_0x4d6a67=[],_0x2929e7=[],_0x39d370=new Error(),_0x522db9=_0x39d370[_0x280d67(0xff)][_0x280d67(0x195)]('\x0a')[0x2],_0x1ee852=_0x522db9[_0x280d67(0x195)](':')[_0x280d67(0x143)]()[0x1],_0x4d56ca=_0x522db9['split']('\x20')[0x5];logging(_0x4d56ca+'\x20'+_0x1ee852+_0x280d67(0x1b5),_0x14e6d7);try{_0x958f8=await exchange[_0x280d67(0x197)](),mybalances=_0x958f8['total'];if(!_0x1cb0b4)for(const [_0xa83fe5,_0x580ee5]of Object[_0x280d67(0xc5)](mybalances)){_0x2929e7[_0x280d67(0x178)](_0xa83fe5);}else config[_0x280d67(0x145)][_0x280d67(0x12c)](_0x3bd213=>{const _0x20bcab=_0x280d67;if(!_0x3bd213[_0x20bcab(0x16b)])_0x2929e7[_0x20bcab(0x178)](_0x3bd213['coin']);});if(_0x1deef2=='')for(const [_0x112ee5,_0x1be9c3]of Object[_0x280d67(0xc5)](mybalances)){_0x1be9c3['toString']()!=0x0&&_0x4d6a67[_0x280d67(0x178)]({'coin':_0x112ee5});}else{if(_0x14e6d7)await getOpenOrders();let _0x3a5c70=![];for(const [_0x4da353,_0x3f6728]of Object[_0x280d67(0xc5)](mybalances)){if(_0x2929e7['includes'](_0x4da353)){const _0xc639d3=config[_0x280d67(0x145)][_0x280d67(0x17c)](_0x2a5b64=>_0x2a5b64[_0x280d67(0x141)]==_0x4da353),_0x23b5a7=_0x4da353+'/'+_0x1deef2,_0x597376=_0x1deef2+'/'+_0x4da353,_0x32bff7=currentCoins[_0x280d67(0x17c)](_0x3c0a71=>_0x3c0a71[_0x280d67(0x141)]==_0x4da353);_0x3a5c70=![];_0x14e6d7&&(_0x3a5c70=allOpenOrders[_0x280d67(0x17c)](_0x381598=>_0x381598[_0x280d67(0x152)]==noslash(_0xc639d3['symbol'])));if((_0x3f6728[_0x280d67(0x106)]()!=0x0||_0xc639d3)&&(allSymbols[_0x280d67(0x189)](_0x23b5a7)||_0x4da353==_0x1deef2))_0x4da353!=_0x1deef2&&_0x302d13[_0x280d67(0x178)](_0x23b5a7),_0x4d6a67[_0x280d67(0x178)]({'coin':_0x4da353,'symbol':_0x23b5a7,'reverse':![],'number':Math['max'](_0x3f6728+(_0xc639d3&&_0xc639d3[_0x280d67(0xa2)]||0x0),0x0),'orderstatus':_0x14e6d7?_0x3a5c70?_0x280d67(0xc2):'none':_0x32bff7?_0x32bff7[_0x280d67(0x17d)]:'none'});else(_0x3f6728[_0x280d67(0x106)]()!=0x0||_0xc639d3)&&allSymbols[_0x280d67(0x189)](_0x597376)&&(_0x4da353!=_0x1deef2&&_0x302d13[_0x280d67(0x178)](_0x597376),_0x4d6a67[_0x280d67(0x178)]({'coin':_0x4da353,'symbol':_0x597376,'reverse':!![],'number':Math[_0x280d67(0x108)](_0x3f6728+(_0xc639d3&&_0xc639d3['offset']||0x0),0x0),'orderstatus':_0x14e6d7?_0x3a5c70?_0x280d67(0xc2):_0x280d67(0xd6):_0x32bff7?_0x32bff7[_0x280d67(0x17d)]:_0x280d67(0xd6)}));}}}}catch(_0x4b6bed){if(!_0x1cb0b4){if(_0x4b6bed[_0x280d67(0x106)]()[_0x280d67(0x189)](_0x280d67(0x116)))return logHistory(_0x280d67(0x1cd),_0x280d67(0x188)),![];else{if(_0x4b6bed[_0x280d67(0x106)]()[_0x280d67(0x189)](_0x280d67(0x9a)))return logHistory(_0x280d67(0x1cd),_0x280d67(0x19a)),![];else{if(_0x4b6bed[_0x280d67(0x106)]()[_0x280d67(0x189)](_0x280d67(0x183)))return logHistory(_0x280d67(0x1cd),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x4b6bed,_0x280d67(0x18c));}}}else await handleError(_0x4b6bed,'getCoins()');}return _0x4d6a67;}async function getCoinNumber(_0x4d4564){const _0x5916f3=_0xf86ccb;let _0x4ea537;try{const _0x33e141=await exchange['fetchBalance']();_0x4ea537=_0x33e141[_0x5916f3(0x129)][_0x4d4564];}catch(_0x1f53e7){await handleError(_0x1f53e7,_0x5916f3(0x159));}return _0x4ea537;}async function getOpenOrders(){const _0x3bb2ba=_0xf86ccb;let _0x21bed0;allOpenOrders=[];try{for(const _0x4eef08 of config[_0x3bb2ba(0x145)]){!_0x4eef08[_0x3bb2ba(0x16b)]&&_0x4eef08[_0x3bb2ba(0x141)]!=config[_0x3bb2ba(0x15c)]&&(_0x21bed0=await exchange[_0x3bb2ba(0x1c4)](_0x4eef08['symbol']),_0x21bed0[_0x3bb2ba(0x199)]>0x0&&allOpenOrders[_0x3bb2ba(0x178)](_0x21bed0[0x0]));}}catch(_0xad8127){await handleError(_0xad8127,'getOpenOrders()');}}async function handleOpenOrders(_0x17aaf8=0x0){const _0x2bc713=_0xf86ccb;allOpenOrders[_0x2bc713(0x199)]==0x0&&lockOrders==ORDERS['LOCKED']&&allOrdersPlaced&&(_0x17aaf8==0x0?(_0x17aaf8++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders(_0x2bc713(0x138)));}async function getPortfolio(_0x150238){const _0x94f4f7=_0xf86ccb;let _0x5075fa=[],_0x127e31=[],_0xd1560d,_0x3dac3a=[],_0x1bd03e,_0x315786;_0x150238['apiKey']===_0x94f4f7(0x171)||_0x150238[_0x94f4f7(0xe7)]===_0x94f4f7(0x171)?(_0x1bd03e=config['apiKey'],_0x315786=config[_0x94f4f7(0xe7)]):(_0x1bd03e=_0x150238[_0x94f4f7(0xdd)],_0x315786=_0x150238[_0x94f4f7(0xe7)]);await initExchange(_0x1bd03e,_0x315786);let _0x314bc4=await loadSymbols();if(_0x314bc4){_0x3dac3a=await getCoins(![],![],_0x150238['basecoin']);if(_0x3dac3a===![])proxyEmit(_0x94f4f7(0x145),![]);else{if(_0x150238[_0x94f4f7(0x15c)]=='')proxyEmit('portfolio',_0x3dac3a);else{_0x3dac3a[_0x94f4f7(0x12c)](_0x15909b=>{const _0x58682a=_0x94f4f7;if(_0x15909b[_0x58682a(0x141)]!=_0x150238[_0x58682a(0x15c)])_0x5075fa[_0x58682a(0x178)](_0x15909b[_0x58682a(0x152)]);});try{_0x127e31=await exchange[_0x94f4f7(0x11d)](_0x5075fa);}catch(_0x5eeb37){await handleError(_0x5eeb37,_0x94f4f7(0xa3));}_0x3dac3a['forEach'](_0x25a4a5=>{const _0x55b73b=_0x94f4f7;_0x25a4a5[_0x55b73b(0x141)]!=_0x150238[_0x55b73b(0x15c)]?_0xd1560d=_0x25a4a5[_0x55b73b(0x143)]?0x1/_0x127e31[_0x25a4a5[_0x55b73b(0x152)]][_0x55b73b(0xa1)]:_0x127e31[_0x25a4a5[_0x55b73b(0x152)]]['last']:_0xd1560d=0x1,_0x25a4a5['price']=formatResult(_0xd1560d,0x8);}),proxyEmit(_0x94f4f7(0x145),_0x3dac3a);}}}else proxyEmit(_0x94f4f7(0x145),![]);}function checkMinimums(_0x1b3b4a){const _0x56ccdf=_0xf86ccb;let _0x18ce8f=!![];const _0xdbb75c=!_0x1b3b4a['reverse']?markets[_0x1b3b4a[_0x56ccdf(0x152)]]['limits'][_0x56ccdf(0xfc)]['min']:markets[_0x1b3b4a[_0x56ccdf(0x152)]][_0x56ccdf(0x121)][_0x56ccdf(0x151)][_0x56ccdf(0x15b)],_0x62e84b=!_0x1b3b4a[_0x56ccdf(0x143)]?markets[_0x1b3b4a[_0x56ccdf(0x152)]]['limits']['cost'][_0x56ccdf(0x15b)]:markets[_0x1b3b4a[_0x56ccdf(0x152)]][_0x56ccdf(0x121)]['amount'][_0x56ccdf(0x15b)],_0x1e7e54=markets[_0x1b3b4a[_0x56ccdf(0x152)]]['precision']['amount'];_0x1b3b4a[_0x56ccdf(0x134)]=formatResultTruncate(_0x1b3b4a[_0x56ccdf(0x134)],_0x1e7e54);if(Math[_0x56ccdf(0x1ac)](_0x1b3b4a[_0x56ccdf(0x134)])<_0xdbb75c)_0x18ce8f=![];if(Math[_0x56ccdf(0x1ac)](_0x1b3b4a[_0x56ccdf(0x134)])*_0x1b3b4a[_0x56ccdf(0xa1)]<_0x62e84b)_0x18ce8f=![];if(_0x1b3b4a['side']==_0x56ccdf(0x12d)){let _0x2d06c9=config[_0x56ccdf(0x145)]['find'](_0x4bbfac=>_0x4bbfac[_0x56ccdf(0x141)]==_0x1b3b4a[_0x56ccdf(0x141)]);if(_0x2d06c9[_0x56ccdf(0xa2)]>0x0){if(Math[_0x56ccdf(0x1ac)](_0x1b3b4a[_0x56ccdf(0x134)])>_0x1b3b4a[_0x56ccdf(0x130)]-_0x2d06c9[_0x56ccdf(0xa2)])_0x18ce8f=![];}else{if(Math['abs'](_0x1b3b4a[_0x56ccdf(0x134)])>_0x1b3b4a[_0x56ccdf(0x130)])_0x18ce8f=![];}}if(_0x1b3b4a[_0x56ccdf(0x1c6)]==_0x56ccdf(0x1a3)){let _0x4e7451=config['portfolio']['find'](_0x74c333=>_0x74c333['coin']==config[_0x56ccdf(0x15c)]),_0x3498bb=currentCoins[_0x56ccdf(0x17c)](_0x59a26c=>_0x59a26c[_0x56ccdf(0x141)]==config[_0x56ccdf(0x15c)]);if(_0x4e7451[_0x56ccdf(0xa2)]>0x0){if(Math[_0x56ccdf(0x1ac)](_0x1b3b4a[_0x56ccdf(0x134)])*_0x1b3b4a[_0x56ccdf(0xa1)]>_0x3498bb['number']-_0x4e7451[_0x56ccdf(0xa2)])_0x18ce8f=![];}else{if(Math[_0x56ccdf(0x1ac)](_0x1b3b4a[_0x56ccdf(0x134)])*_0x1b3b4a[_0x56ccdf(0xa1)]>_0x3498bb[_0x56ccdf(0x130)])_0x18ce8f=![];}}return _0x18ce8f;}async function getBalances(){const _0x3a74c9=_0xf86ccb;let _0x38e430=0x0,_0x1fdadb;const _0x3dacd5=config['threshold'];if(config[_0x3a74c9(0xd7)]&&config[_0x3a74c9(0xf7)]<0x0)await validate24hChanges();currentCoins['forEach'](_0x4d4540=>{const _0x4a2743=_0x3a74c9;if(_0x4d4540['coin']!=config[_0x4a2743(0x15c)]){let _0x5475b6=global['ticker'][noslash(_0x4d4540[_0x4a2743(0x152)])];_0x1fdadb=_0x4d4540[_0x4a2743(0x143)]?0x1/_0x5475b6:_0x5475b6;}else _0x1fdadb=0x1;let _0x461869=_0x4d4540[_0x4a2743(0x130)]*_0x1fdadb;_0x38e430+=_0x461869,_0x4d4540[_0x4a2743(0xa1)]=formatResult(Number(_0x1fdadb),0x8),_0x4d4540[_0x4a2743(0x18d)]=_0x461869;}),currentCoins['forEach'](_0x3e459d=>{const _0x4707e1=_0x3a74c9;let _0x15da61=config[_0x4707e1(0x145)][_0x4707e1(0x17c)](_0x3c43ea=>_0x3c43ea[_0x4707e1(0x141)]==_0x3e459d['coin']),_0x417040=Number(_0x15da61['distribution']),_0x3ac8cd=_0x3e459d[_0x4707e1(0x18d)]/_0x38e430*0x64,_0x48d356=_0x417040*_0x38e430/0x64/_0x3e459d[_0x4707e1(0xa1)]-_0x3e459d['number'];_0x3e459d['distribution']=formatResult(_0x3ac8cd,0x3),_0x3e459d[_0x4707e1(0xa8)]=formatResult(_0x417040,0x3),_0x3e459d[_0x4707e1(0x134)]=formatResult(_0x48d356,0x8),_0x3e459d[_0x4707e1(0x1c6)]='',_0x3e459d[_0x4707e1(0x153)]=![];if(_0x3e459d[_0x4707e1(0x141)]!=config['basecoin']){if(_0x3e459d[_0x4707e1(0xb0)]>_0x417040)_0x3e459d[_0x4707e1(0x1c6)]=_0x4707e1(0x12d),_0x3e459d['valid']=checkMinimums(_0x3e459d);else _0x3e459d[_0x4707e1(0xb0)]<_0x417040&&(_0x3e459d['side']=_0x4707e1(0x1a3),_0x3e459d[_0x4707e1(0x153)]=checkMinimums(_0x3e459d));}_0x3e459d[_0x4707e1(0xef)]=_0x3e459d['distribution']/_0x3e459d[_0x4707e1(0xa8)]-0x1;if(_0x3e459d[_0x4707e1(0x17d)]==_0x4707e1(0x186)||_0x3e459d[_0x4707e1(0x17d)]==_0x4707e1(0x92))_0x3e459d[_0x4707e1(0x17d)]=_0x4707e1(0xd6);}),currentCoins[_0x3a74c9(0x11f)]((_0x503590,_0xfab611)=>_0x503590[_0x3a74c9(0xef)]<_0xfab611[_0x3a74c9(0xef)]?0x1:_0xfab611[_0x3a74c9(0xef)]<_0x503590[_0x3a74c9(0xef)]?-0x1:0x0);const _0x44b7a0=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x44b7a0[_0x3a74c9(0xa4)],'usd':_0x44b7a0[_0x3a74c9(0xe5)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x3dacd5},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x3dacd5});else{if(lockOrders==ORDERS[_0x3a74c9(0xb5)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3dacd5});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x233ed3=_0xf86ccb;if(!lastBalances)return;let _0x2f6aed=[],_0x3e4233,_0xbf6fe8=JSON[_0x233ed3(0x10a)](lastBalances[_0x233ed3(0x145)]);_0xbf6fe8[_0x233ed3(0x11f)]((_0x5e5fb8,_0x15eaee)=>_0x5e5fb8[_0x233ed3(0x141)]>_0x15eaee[_0x233ed3(0x141)]?0x1:_0x15eaee[_0x233ed3(0x141)]>_0x5e5fb8['coin']?-0x1:0x0),_0xbf6fe8[_0x233ed3(0x12c)](_0x43b3a2=>{const _0x3e7c2c=_0x233ed3;let _0x3a503b={'coin':_0x43b3a2['coin'],'number':_0x43b3a2['number'],'price':_0x43b3a2[_0x3e7c2c(0xa1)]};_0x2f6aed[_0x3e7c2c(0x178)](_0x3a503b);});const _0x29d2ae=await getFiat();_0x3e4233={'date':lastBalances[_0x233ed3(0x8e)]['split']('\x20')[0x0],'eur':_0x29d2ae[_0x233ed3(0xa4)],'usd':_0x29d2ae['usd'],'coins':_0x2f6aed};let _0xc28616=dbPerformance['get'](_0x233ed3(0x174))[_0x233ed3(0x17c)]({'date':_0x3e4233[_0x233ed3(0x162)]})[_0x233ed3(0x18d)]();_0xc28616?_0x3e4233['date']!=config[_0x233ed3(0x8c)]&&dbPerformance[_0x233ed3(0x133)](_0x233ed3(0x174))[_0x233ed3(0x17c)]({'date':_0x3e4233[_0x233ed3(0x162)]})['assign'](_0x3e4233)['write']():dbPerformance[_0x233ed3(0x133)](_0x233ed3(0x174))['push'](_0x3e4233)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x19cb23=_0xf86ccb;let _0x25a585=[];if(dbPerformance['has'](_0x19cb23(0x174))['value']()){let _0x2bd172=dbPerformance[_0x19cb23(0x133)](_0x19cb23(0x174))[_0x19cb23(0x13a)]()['sortBy']('date')[_0x19cb23(0x18d)](),_0x343978=[...config['liquidity']];_0x343978[_0x19cb23(0x11f)]((_0x1e0058,_0x285db3)=>_0x1e0058[_0x19cb23(0x162)]>_0x285db3[_0x19cb23(0x162)]?-0x1:_0x285db3['date']>_0x1e0058['date']?0x1:0x0);let _0x2cd6a5=0x1,_0x243808=[],_0x3575e2=0x0;_0x2bd172['slice']()['reverse']()[_0x19cb23(0x12c)]((_0x170b26,_0x3a9b64)=>{const _0x5273ff=_0x19cb23;if(_0x343978[_0x3575e2]){if(_0x2bd172[_0x2bd172[_0x5273ff(0x199)]-_0x3a9b64]&&_0x343978[_0x3575e2][_0x5273ff(0x162)]==_0x2bd172[_0x2bd172[_0x5273ff(0x199)]-_0x3a9b64]['date']){if(_0x3a9b64<_0x2bd172[_0x5273ff(0x199)]){let _0x87f05f=0x0,_0x4f6d18=0x0;_0x2bd172[_0x2bd172[_0x5273ff(0x199)]-_0x3a9b64]['coins']['forEach'](_0x1ec71b=>{const _0x31bfb8=_0x5273ff;_0x4f6d18+=_0x1ec71b[_0x31bfb8(0x130)]*_0x1ec71b[_0x31bfb8(0x120)];}),_0x343978[_0x3575e2][_0x5273ff(0xf4)][_0x5273ff(0x12c)](_0x5c4448=>{const _0x2237ca=_0x5273ff;_0x87f05f+=_0x5c4448[_0x2237ca(0x130)]*_0x5c4448['price'];}),_0x2cd6a5*=_0x87f05f/(_0x4f6d18-_0x87f05f)+0x1;}_0x3575e2++;}}let _0x363e4c=0x0;_0x170b26[_0x5273ff(0x154)][_0x5273ff(0x12c)](_0x3a4e27=>{const _0xf5a07c=_0x5273ff;_0x363e4c+=_0x3a4e27['number']*_0x3a4e27[_0xf5a07c(0x120)];}),_0x243808[_0x2bd172[_0x5273ff(0x199)]-_0x3a9b64-0x1]=_0x363e4c*(_0x2cd6a5-0x1);});let _0xc0906e=[];_0x343978=[...config['liquidity']]||[];let _0x395a00=0x0;_0x3575e2=0x0,_0x2bd172[_0x19cb23(0x12c)]((_0x3b4814,_0x3f0418)=>{const _0x133724=_0x19cb23;if(_0x343978[_0x3575e2]){const _0x31ae79=fns[_0x133724(0x10a)](_0x343978[_0x3575e2][_0x133724(0x162)],_0x133724(0x1aa),new Date()),_0x17d44a=fns[_0x133724(0x10a)](_0x3b4814[_0x133724(0x162)],_0x133724(0x1aa),new Date());if(fns['isEqual'](_0x31ae79,_0x17d44a)){let _0x543f7a=0x0;_0x343978[_0x3575e2][_0x133724(0xf4)]['forEach'](_0xa6d40c=>{const _0x52a27d=_0x133724;!_0xc0906e[_0xa6d40c[_0x52a27d(0x141)]]?_0xc0906e[_0xa6d40c[_0x52a27d(0x141)]]=_0xa6d40c[_0x52a27d(0x130)]:(_0x543f7a=_0xc0906e[_0xa6d40c['coin']],_0xc0906e[_0xa6d40c[_0x52a27d(0x141)]]+=_0xa6d40c['number']);const _0x3482b4=_0x3b4814[_0x52a27d(0x154)][_0x52a27d(0x17c)](_0x1d30b2=>_0x1d30b2[_0x52a27d(0x141)]==_0xa6d40c[_0x52a27d(0x141)]);(!_0x3482b4||_0x3482b4[_0x52a27d(0x130)]==0x0)&&(_0x395a00+=(-_0xa6d40c[_0x52a27d(0x130)]-_0x543f7a)*_0xa6d40c['price']);}),_0x3575e2++;}}_0x3b4814['coins'][_0x133724(0x12c)]((_0x391d59,_0x2f9da1)=>{const _0x4c2b64=_0x133724;_0xc0906e[_0x391d59[_0x4c2b64(0x141)]]&&(_0x391d59={..._0x391d59,'initial':_0xc0906e[_0x391d59[_0x4c2b64(0x141)]]}),_0x3b4814['coins'][_0x2f9da1]=_0x391d59;}),_0x25a585[_0x133724(0x178)]({'date':_0x3b4814[_0x133724(0x162)],'eur':_0x3b4814[_0x133724(0xa4)],'usd':_0x3b4814['usd'],'offset':_0x243808[_0x3f0418],'netoffset':_0x395a00,'coins':_0x3b4814['coins']});});}return _0x25a585;}function emitPerformance(_0x3b01cf){const _0x2ee9c3=_0xf86ccb;_0x3b01cf['length']!==0x0?(proxyEmit('performance',_0x3b01cf),lastPerformanceEmitted=getDate()):proxyEmit(_0x2ee9c3(0x1a1),[]);}function getPerf(_0x1aadf9,_0x1259ba){const _0x455df1=_0xf86ccb;let _0x2b9425=0x0,_0x4e9aaa=0x0,_0x214d7c=0x0;_0x1aadf9['coins'][_0x455df1(0x12c)](_0x476ec0=>{const _0x27cd43=_0x455df1;_0x2b9425+=_0x476ec0[_0x27cd43(0x130)]*_0x476ec0['price'];});_0x1259ba&&(_0x2b9425+=_0x1aadf9[_0x455df1(0xa2)]);if(config[_0x455df1(0x15c)]===_0x455df1(0x168)||config[_0x455df1(0x15c)]==='ETH')_0x4e9aaa=_0x2b9425*_0x1aadf9['eur'],_0x214d7c=_0x2b9425*_0x1aadf9[_0x455df1(0xe5)];else{if(config['basecoin']===_0x455df1(0xc1)||config[_0x455df1(0x15c)]===_0x455df1(0x16f))_0x4e9aaa=_0x2b9425*_0x1aadf9['eur']/_0x1aadf9[_0x455df1(0xe5)],_0x214d7c=_0x2b9425;else config['basecoin']===_0x455df1(0xe6)&&(_0x4e9aaa=_0x2b9425,_0x214d7c=_0x2b9425*_0x1aadf9[_0x455df1(0xe5)]/_0x1aadf9[_0x455df1(0xa4)]);}return[_0x2b9425,_0x4e9aaa,_0x214d7c];}function getKPIs(_0x594cef,_0x362f72=_0xf86ccb(0xe6)){const _0x1e989a=_0xf86ccb,_0x227e3b=config[_0x1e989a(0x15c)],_0x1fe78c=config[_0x1e989a(0xee)],_0x518a0a=currentCoins,_0x11e3e3=getNormalizedPerformance(),_0x3d4396=_0x594cef===_0x1e989a(0x15c)?_0x227e3b:_0x594cef===_0x1e989a(0x169)||_0x594cef===_0x1e989a(0x18e)?_0x362f72:_0x1e989a(0x1b3)+_0x227e3b,_0x1e108e=_0x594cef===_0x1e989a(0x110)?_0x1e989a(0x8b):_0x594cef===_0x1e989a(0x18e)?'Net\x20effect\x20('+_0x3d4396+')':_0x3d4396+_0x1e989a(0x16e),_0x4cd02f=_0x594cef===_0x1e989a(0x110)||_0x594cef===_0x1e989a(0x18e)?_0x1e989a(0x8b):_0x3d4396+'\x20change';let _0x1f8b96=0x0;_0x518a0a['forEach'](_0x4cb9fc=>{const _0x2eef0b=_0x1e989a;_0x1f8b96+=_0x4cb9fc[_0x2eef0b(0x130)]*_0x4cb9fc[_0x2eef0b(0xa1)];});if(_0x594cef===_0x1e989a(0x169)||_0x594cef==='net-fiat'){if(_0x227e3b===_0x1e989a(0x168)||_0x227e3b==='ETH')_0x1f8b96=_0x1f8b96*(_0x362f72==='EUR'?_0x1fe78c[_0x1e989a(0xa4)]:_0x1fe78c[_0x1e989a(0xe5)]);else{if(_0x227e3b===_0x1e989a(0xc1)||_0x227e3b===_0x1e989a(0x16f))_0x1f8b96=_0x1f8b96*(_0x362f72===_0x1e989a(0xe6)?_0x1fe78c['eur']/_0x1fe78c[_0x1e989a(0xe5)]:0x1);else _0x227e3b===_0x1e989a(0xe6)&&(_0x1f8b96=_0x1f8b96*(_0x362f72===_0x1e989a(0xe6)?0x1:_0x1fe78c[_0x1e989a(0xe5)]/_0x1fe78c['eur']));}}let _0x119ac0;if(_0x1f8b96!==0x0){if(_0x594cef===_0x1e989a(0x15c))_0x119ac0=(_0x1f8b96/startingBalances[_0x1e989a(0x15c)]-0x1)*0x64;else{if(_0x362f72==='EUR')_0x119ac0=(_0x1f8b96/startingBalances['eur']-0x1)*0x64;else _0x119ac0=(_0x1f8b96/startingBalances[_0x1e989a(0xe5)]-0x1)*0x64;}let _0x2b7aba=0x0;if(startingBalances['coins'])_0x518a0a[_0x1e989a(0x12c)](_0x5191e0=>{const _0x14d9b1=_0x1e989a;let _0x2e7921=startingBalances[_0x14d9b1(0x154)]['find'](_0x228903=>_0x228903[_0x14d9b1(0x141)]===_0x5191e0['coin']);if(_0x2e7921&&_0x2e7921[_0x14d9b1(0x141)]&&_0x5191e0['number']!==0x0)_0x2b7aba+=_0x2e7921[_0x14d9b1(0x130)]*_0x5191e0[_0x14d9b1(0xa1)];});let _0xc7fe14=0x0;if(_0x11e3e3[_0x1e989a(0x199)]!==0x0){let _0x186dcb=_0x11e3e3[_0x11e3e3[_0x1e989a(0x199)]-0x1];_0xc7fe14=_0x186dcb[_0x1e989a(0x103)];}_0x2b7aba-=_0xc7fe14;_0x594cef===_0x1e989a(0x110)&&(_0x119ac0=(_0x1f8b96-_0x2b7aba)/startingBalances['basecoin']*0x64,_0x1f8b96=_0x1f8b96-_0x2b7aba);if(_0x594cef===_0x1e989a(0x18e)){let _0x2a445c=_0x362f72===_0x1e989a(0xe6)?startingBalances[_0x1e989a(0xa4)]:startingBalances[_0x1e989a(0xe5)];if(_0x227e3b==='BTC'||_0x227e3b===_0x1e989a(0x1d0))_0x2b7aba=_0x362f72==='EUR'?_0x2b7aba*_0x1fe78c[_0x1e989a(0xa4)]:_0x2b7aba*_0x1fe78c['usd'];else{if(_0x227e3b==='BUSD'||_0x227e3b===_0x1e989a(0x16f))_0x2b7aba=_0x362f72===_0x1e989a(0xe6)?_0x2b7aba*_0x1fe78c[_0x1e989a(0xa4)]/_0x1fe78c[_0x1e989a(0xe5)]:_0x2b7aba;else _0x227e3b===_0x1e989a(0xe6)&&(_0x2b7aba=_0x362f72===_0x1e989a(0xe6)?_0x2b7aba:_0x2b7aba*_0x1fe78c['usd']/_0x1fe78c[_0x1e989a(0xa4)]);}_0x119ac0=(_0x1f8b96-_0x2b7aba)/_0x2a445c*0x64,_0x1f8b96=_0x1f8b96-_0x2b7aba;}if(_0x119ac0){if(_0x119ac0<0x64)_0x119ac0=_0x119ac0[_0x1e989a(0xa6)](0x2);else{if(_0x119ac0<0x3e8)_0x119ac0=_0x119ac0[_0x1e989a(0xa6)](0x1);else _0x119ac0=_0x119ac0[_0x1e989a(0xa6)](0x0);}}else _0x119ac0=Number('0')[_0x1e989a(0xa6)](0x2);if(_0x1f8b96){if(Math[_0x1e989a(0x1ac)](_0x1f8b96)<0.000001)_0x1f8b96=_0x1f8b96[_0x1e989a(0xa6)](0x2);else{if(Math[_0x1e989a(0x1ac)](_0x1f8b96)<0.1)_0x1f8b96=_0x1f8b96['toFixed'](0x6);else{if(Math[_0x1e989a(0x1ac)](_0x1f8b96)<0x1)_0x1f8b96=_0x1f8b96[_0x1e989a(0xa6)](0x5);else{if(Math[_0x1e989a(0x1ac)](_0x1f8b96)<0xa)_0x1f8b96=_0x1f8b96['toFixed'](0x4);else{if(Math[_0x1e989a(0x1ac)](_0x1f8b96)<0x64)_0x1f8b96=_0x1f8b96[_0x1e989a(0xa6)](0x3);else{if(Math[_0x1e989a(0x1ac)](_0x1f8b96)<0x3e8)_0x1f8b96=_0x1f8b96[_0x1e989a(0xa6)](0x2);else _0x1f8b96=_0x1f8b96[_0x1e989a(0xa6)](0x2);}}}}}}else _0x1f8b96=Number('0')[_0x1e989a(0xa6)](0x2);}else _0x119ac0=Number('0')[_0x1e989a(0xa6)](0x2);return{'value':_0x1f8b96,'change':_0x119ac0,'leftTxt':_0x1e108e,'rightTxt':_0x4cd02f};}async function getStartingBalances(_0x23f56f,_0x536629=!![]){const _0x3497dc=_0xf86ccb;if(_0x23f56f['length']!==0x0){const [_0x2306bc,_0x80fa38,_0x12442a]=getPerf(_0x23f56f[0x0],!![]);let _0xc1fd6=[];config[_0x3497dc(0x145)][_0x3497dc(0x12c)](_0x357a30=>{const _0x56b8ea=_0x3497dc;let _0x4d6848=0x0,_0x5ec36b;config['liquidity'][_0x56b8ea(0x12c)](_0x12b756=>{const _0x204446=_0x56b8ea;let _0x189223=_0x12b756['changes'][_0x204446(0x17c)](_0x79270a=>_0x79270a['coin']==_0x357a30[_0x204446(0x141)]);if(_0x189223){_0x4d6848+=_0x189223['number'];if(!_0x5ec36b)_0x5ec36b=_0x189223[_0x204446(0x120)];}}),_0xc1fd6[_0x56b8ea(0x178)]({'coin':_0x357a30[_0x56b8ea(0x141)],'number':_0x4d6848,'initialprice':_0x5ec36b});});const _0x2c6464={'basecoin':_0x2306bc,'eur':_0x80fa38,'usd':_0x12442a,'coins':_0xc1fd6};if(_0x536629)proxyEmit(_0x3497dc(0x98),_0x2c6464);startingBalances=_0x2c6464;}}function headlessMode(_0x5cf934){const _0x584f47=_0xf86ccb;let _0x223de1=_0x5cf934[_0x584f47(0x145)],_0x2e6755=_0x5cf934[_0x584f47(0x155)],_0x493fee=[];for(let _0xb0417e of _0x223de1){if(_0xb0417e[_0x584f47(0x141)]!=config[_0x584f47(0x15c)]){if(_0xb0417e['delta']>=_0x2e6755/0x64){if(_0xb0417e['valid'])_0x493fee[_0x584f47(0x178)](_0xb0417e);}else{if(_0xb0417e['delta']<=-_0x2e6755/0x64){if(_0xb0417e['valid'])_0x493fee[_0x584f47(0x178)](_0xb0417e);}}}}_0x493fee[_0x584f47(0x199)]>0x0&&placeOrder(_0x493fee);}function notifyBalance(_0x195082){const _0x5a3f9e=_0xf86ccb;let _0x23a28a=_0x195082[_0x5a3f9e(0x145)],_0x446f73=_0x195082[_0x5a3f9e(0x155)],_0x4c84f5=[];for(let _0x1cdb69 of _0x23a28a){if(_0x1cdb69[_0x5a3f9e(0x141)]!=config[_0x5a3f9e(0x15c)]){if(_0x1cdb69[_0x5a3f9e(0xef)]>=_0x446f73/0x64){if(_0x1cdb69[_0x5a3f9e(0x153)])_0x4c84f5[_0x5a3f9e(0x178)](_0x1cdb69);}else{if(_0x1cdb69['delta']<=-_0x446f73/0x64){if(_0x1cdb69[_0x5a3f9e(0x153)])_0x4c84f5[_0x5a3f9e(0x178)](_0x1cdb69);}}}}if(_0x4c84f5['length']>0x0){let _0x7f29a2=_0x4c84f5['map'](_0x431d9e=>_0x431d9e['coin']);_0x7f29a2['sort']();let _0x29873f=_0x7f29a2[_0x5a3f9e(0x164)](',\x20');if(lastCoinsToBalance!==_0x29873f)logHistory(_0x5a3f9e(0xb2),_0x5a3f9e(0x11b)+_0x29873f);lastCoinsToBalance=_0x29873f;}}function symbolToCoin(_0x43cc9b){const _0x5bb12c=_0xf86ccb;let _0x47dbe9;if(_0x43cc9b[_0x5bb12c(0x189)]('/'+config['basecoin']))_0x47dbe9=_0x43cc9b[_0x5bb12c(0x17a)]('/'+config[_0x5bb12c(0x15c)],'');if(_0x43cc9b[_0x5bb12c(0x189)](config[_0x5bb12c(0x15c)]+'/'))_0x47dbe9=_0x43cc9b[_0x5bb12c(0x17a)](config[_0x5bb12c(0x15c)]+'/','');return _0x47dbe9;}async function unlockOrders(){const _0x1bebca=_0xf86ccb;if(allOrdersPlaced){lockOrders=ORDERS[_0x1bebca(0xfb)],currentCoins=await getCoins(),validateOrdersState=_0x1bebca(0x123);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);lockOrders=ORDERS[_0x1bebca(0xb5)];}}async function validateOrders(_0x1c661c){const _0x9c06a0=_0xf86ccb;if(_0x1c661c)validateOrdersState=_0x1c661c;let _0x429aaf=[],_0x8df628=config[_0x9c06a0(0x15f)]==_0x9c06a0(0xb9)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x9c06a0(0xcc)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logging(_0x9c06a0(0x107),validateOrdersState),lastOrders[_0x9c06a0(0x12c)](_0x28647d=>{const _0xd5d0c5=_0x9c06a0;let _0x4b3b4b=![];_0x28647d['filled']>0x0&&(_0x4b3b4b=!![]),_0x429aaf[_0xd5d0c5(0x178)](_0x4b3b4b),_0x4b3b4b&&config[_0xd5d0c5(0x15f)]!=_0xd5d0c5(0xb9)&&logHistory(_0xd5d0c5(0x8d),_0xd5d0c5(0x17f)+_0x28647d[_0xd5d0c5(0x152)]+'\x20'+_0x28647d[_0xd5d0c5(0x1c6)]+'\x20#'+formatResult(_0x28647d['filled'],0x8)+'\x20@'+formatResult(_0x28647d[_0xd5d0c5(0x120)],0x8));}),_0x429aaf[_0x9c06a0(0x12c)]((_0x26b283,_0x5f2560)=>{const _0x4f3b40=_0x9c06a0;if(_0x26b283)lastOrders[_0x4f3b40(0x1b7)](_0x5f2560,0x1);});const _0x288c40=coolingDown?'balancing\x20resumes\x20when\x20cooldown\x20ends':_0x9c06a0(0xcf);if(validateOrdersState==_0x9c06a0(0x123))validateOrdersState=_0x9c06a0(0xc3),_0x429aaf[_0x9c06a0(0x189)](![])?config[_0x9c06a0(0x15f)]==_0x9c06a0(0xb9)?logHistory(_0x9c06a0(0x1cd),_0x9c06a0(0xec)):logHistory('error',_0x9c06a0(0x109)):await unlockOrders();else{if(validateOrdersState=='ongoing'){if(_0x429aaf[_0x9c06a0(0x189)](![])){}else allOrdersPlaced&&(config['ordertype']=='market'?logHistory(_0x9c06a0(0xb2),_0x9c06a0(0x10f)+_0x288c40):logHistory(_0x9c06a0(0xb2),'Order(s)\x20filled\x20-\x20'+_0x288c40),await unlockOrders());}else{if(validateOrdersState=='final')_0x429aaf[_0x9c06a0(0x189)](![])&&(config['ordertype']==_0x9c06a0(0xb9)?logHistory(_0x9c06a0(0xb2),_0x9c06a0(0x94)+Math[_0x9c06a0(0x1c0)](_0x8df628*validateOrderInterval/0xea60)+_0x9c06a0(0x9f)+_0x288c40):(await cancelOrders(),logHistory(_0x9c06a0(0xb2),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x9c06a0(0x1c0)](_0x8df628*validateOrderInterval/0xea60)+_0x9c06a0(0x9f)+_0x288c40))),await unlockOrders();else{if(validateOrdersState==_0x9c06a0(0x138)){if(config[_0x9c06a0(0x15f)]!=_0x9c06a0(0xb9))logHistory(_0x9c06a0(0xb2),'No\x20more\x20open\x20orders\x20-\x20'+_0x288c40);await unlockOrders();}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x3491c1=>{const _0x284152=_0x3189;try{const _0x5214d6=await exchange[_0x284152(0x19f)](_0x3491c1['orderId'],_0x3491c1[_0x284152(0x152)]);}catch(_0x2a3448){if(_0x2a3448['toString']()['includes'](_0x284152(0xba))){}else await handleError(_0x2a3448,_0x284152(0xe2));}});}async function initCoinResults(){let _0x503470=[];config['portfolio']['forEach'](_0x2c7a68=>{const _0xb611e5=_0x3189;if(!_0x2c7a68[_0xb611e5(0x16b)]&&_0x2c7a68[_0xb611e5(0x141)]!=config['basecoin']){let _0x39d213=dbCoinResults[_0xb611e5(0x133)](_0xb611e5(0x154))[_0xb611e5(0x17c)]({'coin':_0x2c7a68['coin']})[_0xb611e5(0x18d)]();if(!_0x39d213){const _0x3dfb90=currentCoins[_0xb611e5(0x17c)](_0x1ee5d1=>_0x1ee5d1[_0xb611e5(0x141)]==_0x2c7a68[_0xb611e5(0x141)]),_0x1b7cea=global[_0xb611e5(0x14f)][noslash(_0x2c7a68[_0xb611e5(0x152)])];let _0x174400=_0x3dfb90?_0x3dfb90['number']:null,_0x11a799=_0x2c7a68[_0xb611e5(0x143)]?0x1/_0x1b7cea:_0x1b7cea,_0x4a49df;config[_0xb611e5(0xbf)][_0xb611e5(0x12c)](_0x51dda6=>{const _0x4fae62=_0xb611e5;!_0x4a49df&&(_0x4a49df=_0x51dda6['changes'][_0x4fae62(0x17c)](_0x4cb2c9=>_0x4cb2c9[_0x4fae62(0x141)]==_0x2c7a68['coin']),_0x4a49df&&(_0x174400=_0x4a49df[_0x4fae62(0x130)],_0x11a799=_0x4a49df[_0x4fae62(0x120)]));}),_0x503470[_0xb611e5(0x178)]({'coin':_0x2c7a68[_0xb611e5(0x141)],'number':_0x174400,'price':_0x11a799});}}}),_0x503470['forEach'](_0x38c0ca=>{const _0x2c5fb6=_0x3189,_0x3c2983={'coin':_0x38c0ca[_0x2c5fb6(0x141)],'number':_0x38c0ca[_0x2c5fb6(0x130)],'breakeven':_0x38c0ca[_0x2c5fb6(0x120)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x2c5fb6(0x154))[_0x2c5fb6(0x178)](_0x3c2983)[_0x2c5fb6(0xb6)]();});}async function updateCoinResults(_0x2ea651,_0x36765e=![]){const _0x31c812=_0xf86ccb;let _0x406d4f,_0x4cc159,_0x1aee55,_0x56cb24,_0x380394,_0xa78ae,_0xcadc7d=dbCoinResults['get'](_0x31c812(0x154))[_0x31c812(0x17c)]({'coin':_0x2ea651[_0x31c812(0x141)]})['value']();!_0xcadc7d&&await initCoinResults();_0x2ea651[_0x31c812(0x143)]&&(_0xa78ae={'filled':_0x2ea651[_0x31c812(0x186)]*_0x2ea651[_0x31c812(0x120)],'amount':_0x2ea651[_0x31c812(0x186)]*_0x2ea651[_0x31c812(0x120)],'side':_0x2ea651[_0x31c812(0x1c6)]==_0x31c812(0x12d)?_0x31c812(0x1a3):_0x31c812(0x12d),'price':0x1/_0x2ea651[_0x31c812(0x120)]},_0x2ea651={..._0x2ea651,..._0xa78ae});_0x36765e?_0x4cc159=_0x2ea651[_0x31c812(0x1c6)]==_0x31c812(0x1a3)?_0xcadc7d['number']+_0x2ea651[_0x31c812(0x186)]:_0xcadc7d['number']-_0x2ea651[_0x31c812(0x186)]:_0x4cc159=await getCoinNumber(_0x2ea651['coin']);if(_0x2ea651[_0x31c812(0x91)]&&_0x2ea651[_0x31c812(0x91)][_0x31c812(0x146)]==config[_0x31c812(0x15c)])_0x406d4f=_0x2ea651[_0x31c812(0x91)][_0x31c812(0x151)];else{if(_0x2ea651[_0x31c812(0x91)]&&_0x2ea651[_0x31c812(0x91)][_0x31c812(0x146)]==_0x31c812(0xed)&&!_0x36765e)_0x406d4f=_0x2ea651[_0x31c812(0x91)]['cost']*global[_0x31c812(0x14f)][_0x31c812(0xed)+config[_0x31c812(0x15c)]];else _0x406d4f=defaultFee*_0x2ea651[_0x31c812(0x186)]*_0x2ea651[_0x31c812(0x120)];}_0x2ea651[_0x31c812(0x1c6)]=='buy'?(_0x1aee55=_0x4cc159!=0x0?(_0xcadc7d[_0x31c812(0xce)]*_0xcadc7d[_0x31c812(0x130)]+_0x2ea651['price']*(_0x4cc159-_0xcadc7d['number'])+_0x406d4f)/_0x4cc159:0x0,_0x56cb24=_0xcadc7d[_0x31c812(0x193)]):(_0x1aee55=_0x4cc159!=0x0?(_0xcadc7d[_0x31c812(0xce)]*_0xcadc7d[_0x31c812(0x130)]-_0x2ea651['price']*(_0xcadc7d[_0x31c812(0x130)]-_0x4cc159)+_0x406d4f)/_0x4cc159:0x0,_0x56cb24=_0xcadc7d[_0x31c812(0x193)]+(_0x2ea651[_0x31c812(0x120)]-_0xcadc7d[_0x31c812(0xce)])*_0x2ea651[_0x31c812(0x186)]);_0x380394=(_0x2ea651[_0x31c812(0x120)]-_0x1aee55-_0x406d4f/_0x2ea651[_0x31c812(0x186)])*_0x4cc159;let _0x27e602={'coin':_0x2ea651[_0x31c812(0x141)],'number':_0x4cc159,'breakeven':formatResult(_0x1aee55,0x8),'realized':formatResult(_0x56cb24,0x8),'unrealized':formatResult(_0x380394,0x8),'fees':formatResult(_0xcadc7d[_0x31c812(0xdb)]+_0x406d4f,0x8),'sells':_0x2ea651[_0x31c812(0x1c6)]==_0x31c812(0x12d)?_0xcadc7d['sells']+0x1:_0xcadc7d[_0x31c812(0x1bd)],'buys':_0x2ea651[_0x31c812(0x1c6)]=='buy'?_0xcadc7d[_0x31c812(0x119)]+0x1:_0xcadc7d['buys']};dbCoinResults[_0x31c812(0x133)]('coins')[_0x31c812(0x17c)]({'coin':_0x2ea651[_0x31c812(0x141)]})[_0x31c812(0xa9)](_0x27e602)['write']();if(!_0x36765e){if(_0x2ea651[_0x31c812(0x91)]&&_0x2ea651['fee'][_0x31c812(0x146)]==_0x31c812(0xed)){const _0x2ab2a6=currentCoins[_0x31c812(0x17c)](_0x4d10bd=>_0x4d10bd[_0x31c812(0x141)]==_0x31c812(0xed));if(_0x2ab2a6){let _0x13c755=dbCoinResults[_0x31c812(0x133)](_0x31c812(0x154))['find']({'coin':_0x31c812(0xed)})['value']();_0x27e602={..._0x13c755,'number':_0x2ab2a6[_0x31c812(0x130)]},dbCoinResults['get'](_0x31c812(0x154))[_0x31c812(0x17c)]({'coin':_0x31c812(0xed)})['assign'](_0x27e602)['write']();}}}}async function placeOrder(_0x51dc64){const _0x48d5fc=_0xf86ccb,_0x132b0d=config[_0x48d5fc(0x15f)]=='market'?_0x48d5fc(0xb9):_0x48d5fc(0x149);if(lockOrders==ORDERS[_0x48d5fc(0xb5)]&&!coolingDown){lockOrders=ORDERS[_0x48d5fc(0xe3)],allOrdersPlaced=![],validateOrdersState='initial',lastOrders=[];for(const _0x3ecb84 of _0x51dc64){let _0x15aa8a,_0x1a562a,_0x520b20,_0x2d602b,_0x5b1a75,_0x2f4b6c=_0x3ecb84[_0x48d5fc(0x152)];try{const _0x158943=await exchange['fetchTickers']([_0x2f4b6c]),_0x3556bd=_0x158943[_0x2f4b6c];_0x15aa8a=_0x3ecb84[_0x48d5fc(0x143)]?0x1/_0x3ecb84[_0x48d5fc(0xa1)]:_0x3ecb84[_0x48d5fc(0xa1)],_0x1a562a=_0x3556bd[_0x48d5fc(0x10c)],_0x520b20=_0x3556bd['ask'];_0x3ecb84[_0x48d5fc(0x143)]?(_0x2d602b=_0x3ecb84[_0x48d5fc(0x1c6)]==_0x48d5fc(0x1a3)?_0x48d5fc(0x12d):'buy',_0x5b1a75=Math[_0x48d5fc(0x1ac)](_0x3ecb84['trade'])/_0x15aa8a):(_0x2d602b=_0x3ecb84[_0x48d5fc(0x1c6)],_0x5b1a75=Math[_0x48d5fc(0x1ac)](_0x3ecb84['trade']));_0x132b0d==_0x48d5fc(0x149)&&(config[_0x48d5fc(0x15f)]=='limit-high'&&(_0x15aa8a=_0x2d602b==_0x48d5fc(0x1a3)?_0x1a562a:_0x520b20),config[_0x48d5fc(0x15f)]=='limit-low'&&(_0x15aa8a=_0x2d602b==_0x48d5fc(0x1a3)?_0x520b20:_0x1a562a));_0x5b1a75=formatResult(_0x5b1a75,0x8),_0x15aa8a=formatResult(_0x15aa8a,0x8);const _0x10f99c=await exchange[_0x48d5fc(0xfd)](_0x2f4b6c,_0x132b0d,_0x2d602b,_0x5b1a75,_0x15aa8a);lastOrders[_0x48d5fc(0x178)]({'orderId':_0x10f99c['id'],'symbol':_0x2f4b6c,'coin':_0x3ecb84[_0x48d5fc(0x141)],'side':_0x2d602b,'reverse':_0x3ecb84[_0x48d5fc(0x143)],'amount':_0x10f99c[_0x48d5fc(0xfc)],'filled':0x0,'price':_0x10f99c['price'],'fee':_0x10f99c['fee']});const _0x262172=_0x2d602b==_0x48d5fc(0x12d)?config[_0x48d5fc(0xc7)]?String[_0x48d5fc(0xb4)]('0x'+config[_0x48d5fc(0xc7)])+'\x20':'':config[_0x48d5fc(0x1bc)]?String[_0x48d5fc(0xb4)]('0x'+config['emojibuy'])+'\x20':'',_0x5e99e3=_0x132b0d==_0x48d5fc(0xb9)?_0x48d5fc(0x18b):config[_0x48d5fc(0x15f)]==_0x48d5fc(0x93)?_0x48d5fc(0x160):_0x48d5fc(0x191);if(_0x132b0d=='market')logHistory('order',''+_0x262172+_0x5e99e3+'\x20order:\x20'+_0x2f4b6c+'\x20'+_0x2d602b+'\x20#'+formatResult(_0x10f99c[_0x48d5fc(0x186)],0x8)+'\x20@'+formatResult(_0x10f99c[_0x48d5fc(0x120)],0x8));else logHistory('order',''+_0x262172+_0x5e99e3+_0x48d5fc(0x1b6)+_0x2f4b6c+'\x20'+_0x2d602b+'\x20#'+formatResult(_0x10f99c['amount'],0x8)+'\x20@'+formatResult(_0x10f99c['price'],0x8));let _0xad8027=currentCoins[_0x48d5fc(0x17c)](_0x154e23=>_0x154e23[_0x48d5fc(0x141)]==_0x3ecb84['coin']);_0xad8027['orderstatus']=_0x48d5fc(0xc2);if(config['cooldown']!=0x0){let _0x1a23fb=null;if(cooldownTracker['length']==config[_0x48d5fc(0xd8)]-0x1)_0x1a23fb=cooldownTracker[_0x48d5fc(0xd0)]();const _0x1b657f=getTimeStamp();cooldownTracker[_0x48d5fc(0x178)](_0x1b657f);if(_0x1a23fb){const _0x498887=fns[_0x48d5fc(0x1ce)](new Date(_0x1b657f),new Date(_0x1a23fb));if(_0x498887<cooldownInterval){logHistory(_0x48d5fc(0x1cd),_0x48d5fc(0xdc)+config[_0x48d5fc(0xd8)]+_0x48d5fc(0x1a0)+cooldownInterval/0x3c+_0x48d5fc(0x179)+cooldownPeriod/(0xe10*0x3e8)+_0x48d5fc(0xca)),coolingDown=!![];break;}}}}catch(_0x5b9092){if(_0x5b9092['toString']()['includes'](_0x48d5fc(0xa0)))logHistory('error',_0x48d5fc(0x1a7)+_0x2f4b6c);else{if(_0x5b9092[_0x48d5fc(0x106)]()[_0x48d5fc(0x189)](_0x48d5fc(0x156)))logHistory(_0x48d5fc(0x1cd),_0x48d5fc(0xc6)+_0x2f4b6c);else await handleError(_0x5b9092,_0x48d5fc(0xc9),_0x2f4b6c);}}}allOrdersPlaced=!![],setTimeout(function(){validateOrders();},0x1388);const _0x11cc47=config[_0x48d5fc(0x15f)]==_0x48d5fc(0xb9)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1af078=_0x48d5fc;validateOrders(_0x1af078(0x1a6));},_0x11cc47),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x48d5fc(0x175)));}else{if(coolingDown)!config['headless']&&logHistory('error',_0x48d5fc(0x198));else lockOrders!=ORDERS[_0x48d5fc(0xb5)]&&(!config[_0x48d5fc(0xd7)]&&(config[_0x48d5fc(0x15f)]==_0x48d5fc(0xb9)?logHistory('error',_0x48d5fc(0x136)):logHistory(_0x48d5fc(0x1cd),_0x48d5fc(0x15a))));}}function restoreOrders(){const _0x27f430=_0xf86ccb;let _0x329bef;lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x27f430(0xc3),currentCoins[_0x27f430(0x12c)](_0x576855=>{const _0x453ca6=_0x27f430,_0x1dfbf1=allOpenOrders[_0x453ca6(0x17c)](_0x544f45=>_0x544f45[_0x453ca6(0x152)]==_0x576855[_0x453ca6(0x152)]);_0x1dfbf1&&(lastOrders[_0x453ca6(0x178)]({'orderId':_0x1dfbf1['id'],'symbol':_0x576855['symbol'],'coin':_0x576855[_0x453ca6(0x141)],'side':_0x1dfbf1['side'],'reverse':_0x576855[_0x453ca6(0x143)],'amount':_0x1dfbf1[_0x453ca6(0xfc)],'filled':0x0,'price':_0x1dfbf1[_0x453ca6(0x120)],'fee':_0x1dfbf1[_0x453ca6(0x91)]}),_0x576855[_0x453ca6(0x17d)]=_0x453ca6(0xc2),_0x329bef=_0x1dfbf1[_0x453ca6(0xad)]);}),allOrdersPlaced=!![];const _0x560aff=new Date()[_0x27f430(0x132)](),_0x1b7c60=config['ordertype']==_0x27f430(0xb9)?validateOrderTimeout*0x3c*0x3e8:config[_0x27f430(0xcc)]*0x3c*0x3e8;if(_0x329bef+_0x1b7c60>_0x560aff){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1aeadb=_0x27f430;validateOrders(_0x1aeadb(0x1a6));},_0x329bef+_0x1b7c60-_0x560aff);}else validateOrders('final');}function sendPortfolioTelegram(){const _0x113278=_0xf86ccb,_0x1a4837=[_0x113278(0xe6),_0x113278(0xc1),'USDT'],_0x58a3ca=_0x1a4837[_0x113278(0x189)](config[_0x113278(0x15c)])?0x2:0x8;let _0x6407b2='';if(config[_0x113278(0x125)])_0x6407b2=_0x113278(0x13c)+config['botname']+_0x113278(0xae);else _0x6407b2=_0x113278(0x176)+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x179f59=getKPIs('basecoin'),_0x57bf79=getKPIs(_0x113278(0x110));_0x6407b2+='<pre>',_0x6407b2+=_0x179f59[_0x113278(0xe0)]+'\x20:\x20'+_0x179f59[_0x113278(0x18d)]+'\x20\x0a',_0x6407b2+=_0x179f59[_0x113278(0x14a)]+':\x20'+_0x179f59[_0x113278(0x150)]+_0x113278(0x95),_0x6407b2+=_0x57bf79['leftTxt']+':\x20'+_0x57bf79[_0x113278(0x18d)]+'\x20'+config[_0x113278(0x15c)]+'\x0a',_0x6407b2+=_0x57bf79[_0x113278(0x14a)]+':\x20'+_0x57bf79[_0x113278(0x150)]+_0x113278(0x95),_0x6407b2+='\x0a',_0x6407b2+='-------------------------------\x0a',_0x6407b2+=_0x113278(0x139),_0x6407b2+=_0x113278(0x13f),currentCoins[_0x113278(0x12c)](_0x4f14a8=>{const _0xcc810f=_0x113278;_0x6407b2+=_0x4f14a8[_0xcc810f(0x141)]['padEnd'](0x7)+'|\x20'+formatPad(_0x4f14a8[_0xcc810f(0xb0)],0x2,0x6)+'|\x20'+formatPad(_0x4f14a8[_0xcc810f(0xa8)],0x2,0x6)+'|\x20'+formatPad(_0x4f14a8['delta']*0x64,0x2,0x6)+'\x0a';}),_0x6407b2+=_0x113278(0x1b2),process[_0x113278(0x1ab)]({'telegrammsg':_0x6407b2},_0x672b29=>{});}function formatPad(_0x2c0dc1,_0x6dd473,_0x295f79){const _0x4204f7=_0xf86ccb,_0x3e2021=formatResultString(_0x2c0dc1,_0x6dd473);return _0x3e2021?_0x3e2021[_0x4204f7(0x11c)](_0x295f79):''[_0x4204f7(0x11c)](_0x295f79);}function logHistory(_0x2e1560,_0x50af0f,_0x5f48b=''){const _0x3541d2=_0xf86ccb;let _0x37f030={'time':getTimeStamp(),'type':_0x2e1560,'event':_0x50af0f};dbLogs[_0x3541d2(0x133)](_0x3541d2(0x90))[_0x3541d2(0x178)](_0x37f030)[_0x3541d2(0xb6)]();if(_0x5f48b=='')_0x5f48b=_0x50af0f;proxyEmit('event',{'log':_0x37f030,'summary':_0x5f48b}),process['send']({'telegram':{..._0x37f030,'botname':config['botname'],'showname':config[_0x3541d2(0x125)]}},_0x1bd794=>{}),logging(''+_0x37f030[_0x3541d2(0x15d)]);}function emitHistory(_0xd0361={}){const _0x9179b0=_0xf86ccb;Object[_0x9179b0(0xbe)](_0xd0361)[_0x9179b0(0x199)]==0x0&&(_0xd0361={'type':[_0x9179b0(0x8d),_0x9179b0(0x15d)],'event':'','page':0x1});if(_0xd0361['type'][_0x9179b0(0x189)](_0x9179b0(0x15d)))_0xd0361[_0x9179b0(0x18f)][_0x9179b0(0x1b7)](_0xd0361[_0x9179b0(0x18f)]['indexOf'](_0x9179b0(0x15d)),0x1,_0x9179b0(0x1cd),_0x9179b0(0xb2));if(dbLogs[_0x9179b0(0x12b)]('logs')[_0x9179b0(0x18d)]()){let _0x10c0b6=dbLogs[_0x9179b0(0x133)]('logs')[_0x9179b0(0x12a)](_0x5a0c71=>{const _0x22af3e=_0x9179b0;if(_0xd0361[_0x22af3e(0x18f)]['length']==0x0)return![];else return _0xd0361[_0x22af3e(0x18f)]['includes'](_0x5a0c71['type']);})[_0x9179b0(0x12a)](_0x152bf8=>{const _0x565380=_0x9179b0;if(_0xd0361[_0x565380(0x15d)]=='')return!![];else return _0x152bf8[_0x565380(0x15d)][_0x565380(0x1b9)]()[_0x565380(0x189)](_0xd0361['event'][_0x565380(0x1b9)]());})[_0x9179b0(0xda)](_0x9179b0(0x8e)),_0x16abc1=_0x10c0b6['value']()['length'];_0x10c0b6=_0x10c0b6[_0x9179b0(0x143)]()['slice']((_0xd0361[_0x9179b0(0x144)]-0x1)*logPageSize,_0xd0361[_0x9179b0(0x144)]*logPageSize-0x1)[_0x9179b0(0x143)]()['value'](),proxyEmit(_0x9179b0(0xea),{'logs':_0x10c0b6,'total':_0x16abc1});}else proxyEmit(_0x9179b0(0xea),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4340c7){const _0x43385e=_0xf86ccb;if(dbLogs[_0x43385e(0x12b)](_0x43385e(0x90))['value']()){const _0x5f3b4d=dbLogs[_0x43385e(0x133)](_0x43385e(0x90))[_0x43385e(0xda)](_0x43385e(0x8e))[_0x43385e(0x12a)](_0x3bdea9=>{const _0x2981cf=_0x43385e;return _0x3bdea9[_0x2981cf(0x18f)]==_0x2981cf(0x8d);})[_0x43385e(0x18d)]();dbLogs['get'](_0x43385e(0x90))[_0x43385e(0x135)]()[_0x43385e(0xb6)](),dbLogs[_0x43385e(0x133)]('logs')[_0x43385e(0xa9)](_0x5f3b4d)[_0x43385e(0xb6)](),emitHistory(_0x4340c7);}}async function pauseBot(_0x48ee95=''){const _0x2545ef=_0xf86ccb,_0x38ed75=new Date()['getTime']();if(!lastBotPause)lastBotPause=new Date()[_0x2545ef(0x132)](),consecutivePauses=0x1;else{if(_0x38ed75-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x2545ef(0x16c)},_0x1b1525=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x2545ef(0x132)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x48ee95)_0x48ee95+=_0x2545ef(0x10b);logHistory(_0x2545ef(0x1cd),_0x48ee95+_0x2545ef(0x9b)+pauseBotInterval/0xea60+_0x2545ef(0x1b0)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x4ec6eb=_0xf86ccb;process['send']({'stop':_0x4ec6eb(0x196)},_0x640c0f=>{}),await sleep(0x7d0);}async function handleError(_0x3d3552,_0x2b7aa3,_0x5b4e75=''){const _0x4770ce=_0xf86ccb;if(_0x3d3552[_0x4770ce(0x106)]()[_0x4770ce(0x189)](_0x4770ce(0xc4)))await pauseBot('Binance\x20API\x20blocked');else{if(_0x3d3552['toString']()[_0x4770ce(0x189)]('ExchangeNotAvailable'))await pauseBot(_0x4770ce(0xb1));else{if(_0x3d3552[_0x4770ce(0x106)]()[_0x4770ce(0x189)](_0x4770ce(0x190)))await pauseBot(_0x4770ce(0xb8));else{if(_0x3d3552[_0x4770ce(0x106)]()[_0x4770ce(0x189)](_0x4770ce(0x116)))logHistory(_0x4770ce(0x1cd),_0x2b7aa3+_0x4770ce(0x9c)),logHistory(_0x4770ce(0x1cd),_0x4770ce(0x165)),await killBot();else{if(_0x3d3552[_0x4770ce(0x106)]()[_0x4770ce(0x189)](_0x4770ce(0x9a)))logHistory(_0x4770ce(0x1cd),_0x2b7aa3+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x4770ce(0x1cd),_0x4770ce(0x165)),await killBot();else{if(_0x3d3552[_0x4770ce(0x106)]()[_0x4770ce(0x189)](_0x4770ce(0x183)))logHistory('error',_0x2b7aa3+_0x4770ce(0xaa)),logHistory(_0x4770ce(0x1cd),_0x4770ce(0x165)),await killBot();else{if(_0x3d3552[_0x4770ce(0x106)]()[_0x4770ce(0x189)](_0x4770ce(0x14c)))logHistory('error',_0x2b7aa3+_0x4770ce(0x97)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3d3552['toString']()['includes'](_0x4770ce(0x14d)))await pauseBot(_0x4770ce(0x13b)),process[_0x4770ce(0x1ab)]({'stop':_0x4770ce(0x16c)},_0x447f8b=>{});else _0x3d3552['toString']()[_0x4770ce(0x189)](_0x4770ce(0x117))?logHistory(_0x4770ce(0x1cd),_0x2b7aa3+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x5b4e75):(logging(_0x2b7aa3+_0x4770ce(0x1a2),_0x3d3552),await pauseBot(_0x4770ce(0x19e)));}}}}}}}}function formatResult(_0x5561ef,_0x1971fd){const _0x53bd44=_0xf86ccb;return parseFloat(_0x5561ef[_0x53bd44(0xa6)](_0x1971fd));}function formatResultTruncate(_0x3970bc,_0x41a2ad){const _0x2fadff=_0xf86ccb;let _0x276e32=formatResultString(_0x3970bc,0xa),_0x9b272a=_0x276e32[_0x2fadff(0x1c7)]('.');return _0x9b272a!=-0x1&&(_0x276e32=_0x276e32[_0x2fadff(0xbc)](0x0,_0x9b272a+_0x41a2ad+0x1)),Number(_0x276e32);}function formatResultString(_0x4fb34d,_0x4fd78b){const _0x455a35=_0xf86ccb;let _0x3822df;if(!(''+_0x4fb34d)[_0x455a35(0x189)]('e'))_0x3822df=+(Math[_0x455a35(0x1c0)](_0x4fb34d+'e+'+_0x4fd78b)+'e-'+_0x4fd78b);else{let _0x534092=(''+_0x4fb34d)[_0x455a35(0x195)]('e'),_0x33024e='';+_0x534092[0x1]+_0x4fd78b>0x0&&(_0x33024e='+'),_0x3822df=+(Math[_0x455a35(0x1c0)](+_0x534092[0x0]+'e'+_0x33024e+(+_0x534092[0x1]+_0x4fd78b))+'e-'+_0x4fd78b);}return Number(_0x3822df)[_0x455a35(0xa6)](_0x4fd78b);}function logging(_0x3c5d39,_0x35f2c7=''){const _0x223698=_0xf86ccb;if(config[_0x223698(0x125)])console[_0x223698(0x184)](getTimeStamp()+':\x20'+config[_0x223698(0x114)]+_0x223698(0xe1)+_0x3c5d39,_0x35f2c7);else console[_0x223698(0x184)](getTimeStamp()+_0x223698(0x9d)+botID+_0x223698(0xe1)+_0x3c5d39,_0x35f2c7);}function getServerTime(){const _0x5f39f8=_0xf86ccb,_0x3897a2=new Date();return _0x3897a2['getFullYear']()+'/'+(_0x3897a2[_0x5f39f8(0x148)]()+0x1)[_0x5f39f8(0x106)]()['padStart'](0x2,'0')+'/'+_0x3897a2[_0x5f39f8(0x122)]()[_0x5f39f8(0x106)]()[_0x5f39f8(0x11c)](0x2,'0')+'\x20'+_0x3897a2[_0x5f39f8(0x12f)]()[_0x5f39f8(0x106)]()[_0x5f39f8(0x11c)](0x2,'0')+':'+_0x3897a2[_0x5f39f8(0x147)]()[_0x5f39f8(0x106)]()[_0x5f39f8(0x11c)](0x2,'0')+':'+_0x3897a2[_0x5f39f8(0xe9)]()[_0x5f39f8(0x106)]()[_0x5f39f8(0x11c)](0x2,'0');}function getTimeStamp(){const _0x54d6e3=_0xf86ccb,_0x261dcb=shiftedTime();return _0x261dcb[_0x54d6e3(0x1af)]()+'/'+(_0x261dcb[_0x54d6e3(0x148)]()+0x1)[_0x54d6e3(0x106)]()[_0x54d6e3(0x11c)](0x2,'0')+'/'+_0x261dcb['getDate']()[_0x54d6e3(0x106)]()[_0x54d6e3(0x11c)](0x2,'0')+'\x20'+_0x261dcb[_0x54d6e3(0x12f)]()[_0x54d6e3(0x106)]()['padStart'](0x2,'0')+':'+_0x261dcb[_0x54d6e3(0x147)]()[_0x54d6e3(0x106)]()[_0x54d6e3(0x11c)](0x2,'0')+':'+_0x261dcb[_0x54d6e3(0xe9)]()[_0x54d6e3(0x106)]()[_0x54d6e3(0x11c)](0x2,'0');}function getDate(){const _0x2b6917=_0xf86ccb,_0x1f8a1f=shiftedTime();return _0x1f8a1f[_0x2b6917(0x1af)]()+'/'+(_0x1f8a1f[_0x2b6917(0x148)]()+0x1)['toString']()[_0x2b6917(0x11c)](0x2,'0')+'/'+_0x1f8a1f[_0x2b6917(0x122)]()[_0x2b6917(0x106)]()[_0x2b6917(0x11c)](0x2,'0');}function getHour(){const _0x417819=_0xf86ccb,_0x2e3677=shiftedTime();return _0x2e3677[_0x417819(0x12f)]()[_0x417819(0x106)]()[_0x417819(0x11c)](0x2,'0');}function sleep(_0x4a5ed7){return new Promise(_0x2e8b79=>setTimeout(_0x2e8b79,_0x4a5ed7));}function shiftedTime(){const _0x50669d=_0xf86ccb,_0xf69317=new Date();let _0xaae2e6=_0xf69317;if(config&&config[_0x50669d(0x1d1)]!==0x0)_0xaae2e6=fns['add'](_0xf69317,{'hours':config['timeshift']});return _0xaae2e6;}