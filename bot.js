const _0xd93f1e=_0x4d51;(function(_0x111334,_0x4b9cfc){const _0x517e1f=_0x4d51,_0x665cc6=_0x111334();while(!![]){try{const _0x486da3=-parseInt(_0x517e1f(0x101))/0x1*(parseInt(_0x517e1f(0x1c1))/0x2)+parseInt(_0x517e1f(0x1a8))/0x3*(parseInt(_0x517e1f(0x1c3))/0x4)+-parseInt(_0x517e1f(0x1a2))/0x5+parseInt(_0x517e1f(0x138))/0x6*(-parseInt(_0x517e1f(0x106))/0x7)+parseInt(_0x517e1f(0x23c))/0x8+-parseInt(_0x517e1f(0x1bf))/0x9+parseInt(_0x517e1f(0x23b))/0xa*(parseInt(_0x517e1f(0x1f3))/0xb);if(_0x486da3===_0x4b9cfc)break;else _0x665cc6['push'](_0x665cc6['shift']());}catch(_0x116ab5){_0x665cc6['push'](_0x665cc6['shift']());}}}(_0x3053,0x9d8c8));const _0x1d5cb7=function(){let _0x4c65c8=!![];return function(_0x3ff7cd,_0x459dbe){const _0x3d8bce=_0x4c65c8?function(){const _0x47bde4=_0x4d51;if(_0x459dbe){const _0xe04314=_0x459dbe[_0x47bde4(0x20d)](_0x3ff7cd,arguments);return _0x459dbe=null,_0xe04314;}}:function(){};return _0x4c65c8=![],_0x3d8bce;};}(),_0x280ffe=_0x1d5cb7(this,function(){const _0x486917=_0x4d51;return _0x280ffe['toString']()[_0x486917(0x253)](_0x486917(0x16c))[_0x486917(0x1e4)]()[_0x486917(0x102)](_0x280ffe)['search'](_0x486917(0x16c));});_0x280ffe();'use strict';const ccxt=require('ccxt'),low=require(_0xd93f1e(0x1e2)),FileSync=require(_0xd93f1e(0x239)),fs=require('fs'),fns=require(_0xd93f1e(0x10a)),Crypt=require(_0xd93f1e(0x1f0))[_0xd93f1e(0x1d5)],util=require(_0xd93f1e(0x1e5)),argv=require('yargs/yargs')(process[_0xd93f1e(0x23e)]['slice'](0x2))[_0xd93f1e(0x23e)],path=require(_0xd93f1e(0x1a5)),axios=require(_0xd93f1e(0x245));let exchange;global[_0xd93f1e(0x27b)]={},global[_0xd93f1e(0x178)]={};const usdBasecoins=[_0xd93f1e(0x18b),_0xd93f1e(0x256),'TUSD',_0xd93f1e(0x204),_0xd93f1e(0x13c),'USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0xd93f1e(0x267)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0xd93f1e(0x297)+pauseBotInterval/0xea60+_0xd93f1e(0xf4),loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require(_0xd93f1e(0x27c))[_0xd93f1e(0x11e)],botID=process[_0xd93f1e(0x23e)][0x2]||_0xd93f1e(0x241),pattern=/^[0-9]{3}$/;!pattern[_0xd93f1e(0x127)](botID)&&(console[_0xd93f1e(0x23d)](_0xd93f1e(0x26e)+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),killBot());const userID=process[_0xd93f1e(0x23e)][0x3]||'',configpath=userID?'./config/'+userID+'/':_0xd93f1e(0x16d),logspath=userID?_0xd93f1e(0x1e6)+userID+'/':_0xd93f1e(0x1e6),loggerfile=fs[_0xd93f1e(0x20f)](logspath+'/output-000.log',{'flags':'a'});!fs[_0xd93f1e(0x1f4)](configpath)&&fs[_0xd93f1e(0x14d)](configpath);!fs[_0xd93f1e(0x1f4)](logspath)&&fs[_0xd93f1e(0x14d)](logspath);const configfile=configpath+_0xd93f1e(0x166)+botID+_0xd93f1e(0x1d3),logfile=configpath+_0xd93f1e(0x166)+botID+_0xd93f1e(0x1d2),performancefile=configpath+_0xd93f1e(0x166)+botID+'-performance.json',coinresultsfile=configpath+_0xd93f1e(0x166)+botID+_0xd93f1e(0x1ce),settingsfile=configpath+_0xd93f1e(0x288),securefile=configpath+_0xd93f1e(0x25b),configbackuppath=configpath+_0xd93f1e(0x11f),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0xd93f1e(0x1d1)]({'logs':[],'version':serverversion})[_0xd93f1e(0x10c)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0xd93f1e(0x1d1)]({'data':[],'version':serverversion})[_0xd93f1e(0x10c)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0xd93f1e(0x1d1)]({'bot':[],'version':serverversion})[_0xd93f1e(0x10c)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0xd93f1e(0x1d1)]({'coins':[],'version':serverversion})[_0xd93f1e(0x10c)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0xd93f1e(0x1fb),'rsaStandard':_0xd93f1e(0x1e8)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x17e754=>{const _0x29c6b7=_0xd93f1e;console[_0x29c6b7(0x23d)](_0x17e754);},'simple':_0x2a0aa7=>{const _0x5e6757=_0xd93f1e;console[_0x5e6757(0x23d)](_0x2a0aa7),loggerfile[_0x5e6757(0x10c)](util['format'](_0x2a0aa7)+'\x0a');},'full':async(_0x4265ee,_0x125db6='')=>{const _0x727da8=_0xd93f1e;let _0x14a454;if(config['showname'])_0x14a454=getTimeStamp()+':\x20'+config[_0x727da8(0x22d)]+_0x727da8(0x1d9)+_0x4265ee;else _0x14a454=getTimeStamp()+_0x727da8(0x151)+botID+_0x727da8(0x1d9)+_0x4265ee;console[_0x727da8(0x23d)](_0x14a454),loggerfile['write'](util['format'](_0x14a454)+'\x0a'),_0x125db6&&(console['log'](_0x125db6),loggerfile[_0x727da8(0x10c)](util[_0x727da8(0x28e)](_0x125db6)+'\x0a'));},'debug':async(_0x2e4f48,_0x4e8c35='')=>{const _0x3127b2=_0xd93f1e;let _0x63f7ea;if(config[_0x3127b2(0x11a)])_0x63f7ea=getTimeStamp()+':\x20'+config['botname']+_0x3127b2(0x1b4)+_0x2e4f48;else _0x63f7ea=getTimeStamp()+_0x3127b2(0x151)+botID+'\x20>\x20[DEBUG]\x20'+_0x2e4f48;if(debugging)console[_0x3127b2(0x23d)](_0x63f7ea);loggerfile[_0x3127b2(0x10c)](util[_0x3127b2(0x28e)](_0x63f7ea)+'\x0a');if(_0x4e8c35){if(debugging)console[_0x3127b2(0x23d)](_0x4e8c35);loggerfile[_0x3127b2(0x10c)](util[_0x3127b2(0x28e)](_0x4e8c35)+'\x0a');}}};process['on'](_0xd93f1e(0x104),function(_0x26a22d){const _0x4555a2=_0xd93f1e;handleError(_0x26a22d,_0x4555a2(0x104));});settings['timeshift']!=config['timeshift']&&updateTimeshift(settings[_0xd93f1e(0x188)]);settings[_0xd93f1e(0x18a)]!=config['onepagemode']&&updateOnepagemode(settings['onepagemode']);(settings[_0xd93f1e(0x25a)]&&!config[_0xd93f1e(0x25a)]||!settings[_0xd93f1e(0x25a)]&&config[_0xd93f1e(0x25a)])&&updateMarketcapApi(settings[_0xd93f1e(0x25a)]);process[_0xd93f1e(0x189)]({'started':'running'},_0x474dcd=>{}),initializeProcessListeners();function proxyEmit(_0x260655,_0x1d1ee9=null){const _0x1f54f0=_0xd93f1e;process[_0x1f54f0(0x189)]({'function':_0x260655,'args':_0x1d1ee9},_0x2543d0=>{});}function initializeProcessListeners(){const _0x36e39a=_0xd93f1e;process['on'](_0x36e39a(0x275),_0x155821=>{const _0x342fa8=_0x36e39a;switch(Object[_0x342fa8(0x1a7)](_0x155821)[0x0]){case _0x342fa8(0x188):_0x155821[_0x342fa8(0x188)]!=undefined&&(settings[_0x342fa8(0x188)]=_0x155821[_0x342fa8(0x188)],updateTimeshift(settings[_0x342fa8(0x188)]));break;case _0x342fa8(0x18a):_0x155821[_0x342fa8(0x18a)]!=undefined&&(settings[_0x342fa8(0x18a)]=_0x155821[_0x342fa8(0x18a)],updateOnepagemode(settings[_0x342fa8(0x18a)]));break;case _0x342fa8(0x25a):_0x155821['marketcapApi']!=undefined&&(settings[_0x342fa8(0x25a)]=_0x155821['marketcapApi'],updateMarketcapApi(settings[_0x342fa8(0x25a)]));break;case _0x342fa8(0x212):_0x155821['bots']!=undefined&&(bots=JSON[_0x342fa8(0x23f)](_0x155821[_0x342fa8(0x212)]),proxyEmit(_0x342fa8(0x212),bots));break;case _0x342fa8(0x1b9):switch(_0x155821[_0x342fa8(0x1b9)]){case _0x342fa8(0xf8):initclient();break;case _0x342fa8(0x24e):toggleBotMode();break;case _0x342fa8(0x167):emitHistory(_0x155821[_0x342fa8(0x1cc)]);break;case _0x342fa8(0x1f8):deleteHistoryAlerts(_0x155821[_0x342fa8(0x1cc)]);break;case _0x342fa8(0x269):getPortfolio(_0x155821[_0x342fa8(0x1cc)]);break;case'storeConfiguration':storeConfiguration(_0x155821[_0x342fa8(0x1cc)]);break;case'storeHeadless':storeHeadless(_0x155821[_0x342fa8(0x1cc)]);break;case _0x342fa8(0x258):storeFiat(_0x155821['args']);break;case _0x342fa8(0x125):resetHistory();break;case _0x342fa8(0x137):getStartingBalances(getNormalizedPerformance());break;case _0x342fa8(0x264):placeOrder(_0x155821[_0x342fa8(0x1cc)]);break;case _0x342fa8(0x29c):cancelLoading();break;case _0x342fa8(0x17e):showConfig();break;case _0x342fa8(0x145):sendMetricsTelegram();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x836b9d=![]){const _0x3c4976=_0xd93f1e;logger[_0x3c4976(0x1c8)](_0x3c4976(0x123)+(_0x836b9d?'exchange\x20reloaded':_0x3c4976(0x29f))+_0x3c4976(0x257)+config['exchange']);if(pidBalances)clearTimeout(pidBalances);if(!_0x836b9d)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x3c4976(0x186)]!=''&&config[_0x3c4976(0x186)]!=_0x3c4976(0x18d)){loadingProgress=0x0;if(_0x836b9d){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x5adb0d){handleErrorNoStop(_0x5adb0d,_0x3c4976(0x211));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x32e947=await getCoins();[currentCoins,currentCoinsAll]=_0x32e947,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x3c4976(0x1c8)]('Loading\x20completed'),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x3c4976(0x12c)]==0x0&&allOpenOrders[_0x3c4976(0x12c)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}function _0x4d51(_0x51b782,_0x2ab64d){const _0x4643b0=_0x3053();return _0x4d51=function(_0x280ffe,_0x1d5cb7){_0x280ffe=_0x280ffe-0xec;let _0x305382=_0x4643b0[_0x280ffe];return _0x305382;},_0x4d51(_0x51b782,_0x2ab64d);}async function getMarketCap(_0x2a219a){const _0x5757cd=_0xd93f1e;let _0x21f192=![];if(_0x2a219a)_0x21f192=!![];let _0x2a7b6f;_0x21f192?_0x2a7b6f=_0x2a219a['map'](_0x35187a=>_0x35187a[_0x5757cd(0x16f)]):_0x2a7b6f=currentCoinsAll[_0x5757cd(0x13b)](_0xfb3b2c=>_0xfb3b2c['coin']);if(!config[_0x5757cd(0x25a)]||!_0x21f192&&!config[_0x5757cd(0x142)]||_0x2a7b6f[_0x5757cd(0x12c)]==0x0)return;let _0x3652cd=null;try{_0x3652cd=await axios[_0x5757cd(0x26b)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x5757cd(0x25a)]},'params':{'symbol':_0x2a7b6f[_0x5757cd(0x1e4)]()}});}catch(_0x23801e){_0x3652cd=null,_0x23801e[_0x5757cd(0x1e4)]()[_0x5757cd(0x1c5)]('status\x20code\x20401')?(config[_0x5757cd(0x25a)]=![],updateConfig(),proxyEmit(_0x5757cd(0x27a),emittedConfiguration()),logHistory(_0x5757cd(0x29a),_0x5757cd(0x1f9))):(logHistory(_0x5757cd(0x29a),_0x5757cd(0x157)+marketCapInterval/(0x3c*0x3e8)+_0x5757cd(0xf4)),logger['debug'](_0x5757cd(0x1e1),_0x23801e['toString']()+_0x5757cd(0x233)+_0x23801e[_0x5757cd(0x1f1)]));}if(_0x3652cd){let _0x5cdb1c=0x0;const _0x1b4c90=_0x3652cd['data'];_0x2a7b6f[_0x5757cd(0x1f2)](_0xf62b47=>{const _0x139708=_0x5757cd;if(_0x1b4c90['data'][_0xf62b47][0x0])_0x5cdb1c+=_0x1b4c90[_0x139708(0x112)][_0xf62b47][0x0][_0x139708(0x271)]['USD'][_0x139708(0x19e)];}),_0x2a7b6f[_0x5757cd(0x1f2)](_0x1ed386=>{const _0xfc6558=_0x5757cd,_0x15cc4a=_0x1b4c90[_0xfc6558(0x112)][_0x1ed386][0x0]?_0x1b4c90['data'][_0x1ed386][0x0]['quote']['USD'][_0xfc6558(0x19e)]:0x0;if(_0x21f192){const _0x2d6dbd=_0x2a219a[_0xfc6558(0x222)](_0x1700e5=>_0x1700e5[_0xfc6558(0x16f)]==_0x1ed386);_0x2d6dbd&&(_0x2d6dbd[_0xfc6558(0x117)]=_0x15cc4a);}else{const _0x2f84a5=currentCoins['find'](_0x4ed9f2=>_0x4ed9f2[_0xfc6558(0x16f)]==_0x1ed386);_0x2f84a5&&(_0x2f84a5[_0xfc6558(0x117)]=_0x15cc4a);const _0x3d34e6=currentCoinsAll['find'](_0xf5bfac=>_0xf5bfac[_0xfc6558(0x16f)]==_0x1ed386);_0x3d34e6&&(_0x3d34e6[_0xfc6558(0x117)]=_0x15cc4a);}}),!_0x21f192&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x55fba0=_0xd93f1e,_0x49b909=0x2;let _0x4e5288=0x0,_0x396aa0=0x0,_0x185026=0x0,_0x324001=0x0,_0x44b0e8=0x0;config[_0x55fba0(0x231)]['forEach'](_0x23bf10=>{const _0x4fe3ff=_0x55fba0;if(!_0x23bf10[_0x4fe3ff(0x11b)]){_0x185026++,_0x4e5288+=_0x23bf10['slider'];if(_0x23bf10[_0x4fe3ff(0x195)]===-0x1){_0x4e5288++;const _0x10a8d7=currentCoinsAll['find'](_0x4ed126=>_0x4ed126[_0x4fe3ff(0x16f)]==_0x23bf10[_0x4fe3ff(0x16f)]);_0x10a8d7&&(_0x324001+=_0x10a8d7['marketcap'],_0x44b0e8+=Math['sqrt'](_0x10a8d7[_0x4fe3ff(0x117)]));}if(_0x23bf10[_0x4fe3ff(0x195)]!==-0x1)_0x396aa0++;}});let _0xcdc16c;const _0x5dd1a4=0x64-_0x4e5288,_0x3e08fd=_0x185026-_0x396aa0;_0xcdc16c=_0x3e08fd===0x0?_0x4e5288:Math[_0x55fba0(0x283)](0x64,_0x4e5288),config[_0x55fba0(0x231)][_0x55fba0(0x1f2)](_0x48b942=>{const _0x2e8280=_0x55fba0,_0x4f6905=currentCoinsAll[_0x2e8280(0x222)](_0x59b88d=>_0x59b88d['coin']==_0x48b942['coin']);_0x4f6905&&(_0x48b942[_0x2e8280(0x117)]=_0x4f6905[_0x2e8280(0x117)]);if(!_0x48b942[_0x2e8280(0x11b)]){if(_0xcdc16c<=0x64){if(_0x48b942['slider']===-0x1){if(_0x324001!==0x0&&config['marketcapEnabled']){if(_0x4f6905){if(config['marketcapEnabled']==_0x2e8280(0x117))_0x48b942['distribution']=(_0x5dd1a4/(_0x324001/_0x4f6905['marketcap']))[_0x2e8280(0x1ea)](_0x49b909);else config[_0x2e8280(0x142)]==_0x2e8280(0x26f)&&(_0x48b942[_0x2e8280(0x184)]=(_0x5dd1a4/(_0x44b0e8/Math[_0x2e8280(0x298)](_0x4f6905[_0x2e8280(0x117)])))['toFixed'](_0x49b909));}}}}}}),updateConfig();}function updateConfig(){const _0x7ec82b=_0xd93f1e;let _0x2feeaf=dbConfig[_0x7ec82b(0x26b)](_0x7ec82b(0x229))['find']({'botID':botID})[_0x7ec82b(0x1b6)]();_0x2feeaf&&dbConfig[_0x7ec82b(0x26b)]('bot')[_0x7ec82b(0x222)]({'botID':botID})[_0x7ec82b(0x1c4)](config)[_0x7ec82b(0x10c)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0x179e90=_0xd93f1e;exchangeStopped=!![];try{await exchange[_0x179e90(0x22e)]();}catch(_0x21f5ef){await handleError(_0x21f5ef,_0x179e90(0x1b7));}}async function reloadExchange(){const _0xb4cb98=_0xd93f1e;while(lockOrders!=ORDERS[_0xb4cb98(0x267)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0xb4cb98(0x1bb)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x2421df=config[_0xd93f1e(0x1bd)],_0x350ad2=config[_0xd93f1e(0x186)],_0x546412=config[_0xd93f1e(0x122)],_0x5dbf7=config[_0xd93f1e(0x192)]){const _0x2c3e34=_0xd93f1e;exchange&&await stopExchange();!supportedExchanges()[_0x2c3e34(0x1c5)](_0x2421df)&&(logHistory(_0x2c3e34(0x29a),_0x2c3e34(0x210)+_0x2421df+_0x2c3e34(0x1b3)),killBot());const _0x129136=ccxt[_0x2c3e34(0x185)][_0x2421df[_0x2c3e34(0x22f)]()];exchange=new _0x129136({'apiKey':_0x350ad2,'secret':_0x546412,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x5dbf7)exchange['password']=_0x5dbf7;}function _0x3053(){const _0x455db2=['side','version','/backup/','initTickers()','RETRY\x20-\x20Error\x20in\x20','apiSecret','Reset\x20|\x20','placeOrder()','resetHistory','2\x20-\x20Handled\x20open\x20orders','test','InvalidOrder','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','fetchTickers()','openOrders','length','getMonth','1\x20-\x20FILLED\x20unknown\x20order:\x20','2.3.5','Initializing\x20coin\x20results','getFullYear','Symbol(s):\x20','order','percentage','emojisell','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','getStartingBalances','420738hexYfE','Portfolio\x20change\x20detected:\x20','average','map','USDC','fetchBalance','exchanges','buy','\x20portfolio:</b>\x20\x0a\x0a','\x20order:\x20','marketcapEnabled','privateKey','ordertype','sendMetricsTelegram','Exception\x20thrown\x20in\x20','getCoins()','fee','getMinutes','fetchOpenOrders','cost','<pre>','mkdirSync','\x20metrics:</b>\x20\x0a\x0a','target','parseISO',':\x20Bot\x20','filled','No\x20more\x20open\x20orders\x20-\x20','headless','0\x20-\x20EXECUTION:\x20','Failed\x20to\x20load\x20coin\x20data\x20for\x20','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','\x20has\x20a\x2024h\x20drop\x20of\x20','-------------------------------\x0a','watchOrders','shift','delta','performance','orderstatus','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','full','Cooldown\x20ended\x20-\x20balancing\x20resumed','RequestTimeout','findIndex','2\x20-\x20handling\x20FILLED\x20order:\x20','push','bot-','emitHistory','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','remainingSymbols','request-time','Transaction\x20detection\x20unblocked','(((.+)+)+)+$','./config/','cancelOrder','coin','recovery','breakeven','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','balancing\x20resumes\x20when\x20cooldown\x20ends','warning','final','limit','\x20:\x20','change','balances','unlinkSync','closed','bid','logs','showConfig','join','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','API-key\x20format\x20invalid','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','distribution','pro','apiKey','Cex','timeshift','send','onepagemode','USD','\x20|\x20highest\x20fee:\x20','***','sell','substring','2.6.22','string','apiPassword','BNB/','getPortfolio(1)','slider','restart','sells','2\x20-\x20Orders\x20unlocked','getHours','Limit\x20(low-margin)','ExchangeNotAvailable','basecoinvalue','getPortfolio(2)','market_cap','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','floor','symbol','296080ZXahQL','trade','Huobipro','path','cooldown','keys','162930cSkTZJ','RateLimitExceeded','Headless:\x20','\x20value','Manual\x20balancing\x20required','recreate','amount','\x20network\x20error','recent20','remove','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20exchange','\x20>\x20[DEBUG]\x20','market','value','stopExchange()','BNB','function','OrderNotFound','Executing\x20exchange\x20reload','indexOf','exchange','Waited\x20','8168751TqchVg','DDoSProtection','260NlfIGH','slice','16BflTQI','assign','includes','highest','Bitget','debug','removed','ID:\x20','Invalid\x20quantity','args','change24h','-results.json','threshold','Huobi','defaults','-events.json','-config.json','number','Crypt','coin-loading-progress','netoffset','milliseconds','\x20>\x20','type','limit-low','cancelOrders()','botID','InsufficientFunds','2\x20-\x20Validate\x20orders:\x20','<b>Bot\x20','Error\x20details:','lowdb','event','toString','util','./logs/','added','RSA-OAEP','usd','toFixed','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','cancel','abs','1\x20-\x20Validate\x20orders:\x20','Order\x20amount\x20is\x20invalid:\x20','hybrid-crypto-js','code','forEach','1755611JTLIcV','existsSync','progress','Resetting\x20coin\x20results:\x20','starting-balances','deleteHistoryAlerts','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','PAXG','sha256','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','starting-balance-',':\x20timer\x20>','writeFile','price','ExchangeError','limits','Order(s)\x20not\x20validated\x20after\x20','USDT','pop','date','no\x20open\x20orders','realized','Limit\x20(high-margin)','currency','net-basecoin','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','apply','startdate','createWriteStream','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','loadSymbols()','bots','differenceInSeconds','entries','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','total','watchTradesForSymbols','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','sortBy','fetchClosedOrders','Market','loadMarkets','ETH','Exchange','yyyy/MM/dd','buys','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','find','enabled','Pausing\x20for\x20','Unknown\x20error\x20occured','concat','round','must\x20be\x20greater\x20than\x20minimum\x20amount','bot','time','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','InvalidNonce','botname','close','toLowerCase','getCoinNumber()','portfolio','createOrder','\x20-\x20','timeout','recreateCoinResults()','Trigger:\x20','getTime','fees','lowdb/adapters/FileSync','fetchTickers','130TXGgAG','736920xHxVls','log','argv','parse','padStart','001','offset','getAllOrders()','colorscheme','axios','\x20API\x20key\x20is\x20invalid','timestamp','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','page','isEqual','none','startprice','loading-canceled','toggleBotMode','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','fiat','NetworkError','\x20|\x20lock\x20orders:\x20','search','************','getDate','BUSD','\x20|\x20exchange:\x20','storeFiat','ongoing','marketcapApi','bb-secure.json','emojibuy','datetime','yyyy-MM-dd\x27T\x27HH:mm:ss','Order\x20filled:\x20','liquidity','Order\x20is\x20invalid:\x20','exec','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','placeOrder','\x20|\x20','ORDERS.UNLOCKED','UNLOCKED','\x20change','getPortfolio','Net\x20effect','get','Invalid\x20API\x20key\x20or\x20secret\x20entered','\x20|\x20Custom\x20ID:\x20','Error:\x20Invalid\x20argument\x20','marketcapsqrt','orderId','quote','\x20/\x20','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','reverse','message','Fee\x20discount\x20refund\x20detected:\x20','net-fiat','Binance','splice','configuration','ticker','./version.json','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','stringify','watchTrades','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','\x20exchange\x20error','max','watchTradesForSymbols()','\x20orders\x20in\x20less\x20than\x20','startnumber','last','bb-settings.json','watchOrders()','fromCodePoint','UNLOCKING','changes','limit-high','format','\x20API\x20secret\x20is\x20invalid','rightTxt','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','valid','.json','red_yellow_blue','ask','canceled','\x20-\x20pausing\x20bot\x20for\x20','sqrt','set','error','Resetting\x20bot\x20history','cancelLoading','2.5.0','%\x20(','exchange\x20not\x20reloaded','open','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','replace','toUpperCase','BTC','decrypt','/EUR','sort','kill','\x20minutes','active','initial','AuthenticationError','initclient','leftTxt','has','min','Invalid\x20symbol:\x20','fetchTicker','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','split','Bybit','5399UngnjJ','constructor','basecoin','uncaughtException','LOCKED','7QwOsjh','filter','success','OnMaintenance','date-fns','getSeconds','write','add','EUR','settings','Bot\x20','1\x20-\x20Handle\x20open\x20orders','data','PermissionDenied','autoliquidity','Avoiding\x20continuous\x20order\x20attempts','eur','marketcap','-performance.json','getPortfolio(0)','showname','excluded','coins'];_0x3053=function(){return _0x455db2;};return _0x3053();}function setStableCoins(){const _0x2a82fc=_0xd93f1e;let _0x3b92f9=config[_0x2a82fc(0x103)]=='ETH'?'ETH':config[_0x2a82fc(0x103)]==_0x2a82fc(0x1fa)?_0x2a82fc(0x1fa):_0x2a82fc(0xef),_0x920a31=!allSymbols['includes'](_0x3b92f9+'/USD')?_0x2a82fc(0x204):'USD',_0x4dacbb=!allSymbols[_0x2a82fc(0x1c5)](_0x3b92f9+_0x2a82fc(0xf1))?_0x920a31:_0x2a82fc(0x10e);stablecoins={'eur':{'coin':''+_0x3b92f9+_0x4dacbb,'symbol':_0x3b92f9+'/'+_0x4dacbb},'usd':{'coin':''+_0x3b92f9+_0x920a31,'symbol':_0x3b92f9+'/'+_0x920a31}};}async function initwsCcxt(){const _0x166c14=_0xd93f1e;initCycle++;const _0x5985f6=initCycle;let _0x5ace2e=[];config[_0x166c14(0x231)]['forEach'](_0x226037=>{const _0x4448e0=_0x166c14;if(!_0x226037[_0x4448e0(0x11b)]&&_0x226037[_0x4448e0(0x16f)]!=config[_0x4448e0(0x103)])_0x5ace2e[_0x4448e0(0x165)](_0x226037[_0x4448e0(0x1a1)]);});if(!_0x5ace2e[_0x166c14(0x1c5)](stablecoins[_0x166c14(0x116)][_0x166c14(0x1a1)]))_0x5ace2e[_0x166c14(0x165)](stablecoins[_0x166c14(0x116)][_0x166c14(0x1a1)]);if(!_0x5ace2e[_0x166c14(0x1c5)](stablecoins[_0x166c14(0x1e9)]['symbol']))_0x5ace2e[_0x166c14(0x165)](stablecoins[_0x166c14(0x1e9)][_0x166c14(0x1a1)]);if(config['exchange']['startsWith'](_0x166c14(0x278))&&config['basecoin']!=_0x166c14(0x1fa)){if(!_0x5ace2e['includes'](_0x166c14(0x193)+config[_0x166c14(0x103)]))_0x5ace2e[_0x166c14(0x165)](_0x166c14(0x193)+config['basecoin']);}loadCoins(_0x5ace2e),_0x5ace2e=validateSymbols(_0x5ace2e);const _0x283535=async _0x3bab6f=>{const _0x514a1d=_0x166c14;let _0x4d3781;try{const _0x4a52a0=await getTickers(_0x3bab6f);Object[_0x514a1d(0x214)](_0x4a52a0)[_0x514a1d(0x1f2)](_0x173022=>{const _0x4ff9bd=_0x514a1d;_0x4d3781=_0x173022[0x1][_0x4ff9bd(0x1a1)],global[_0x4ff9bd(0x27b)][noslash(_0x4d3781)]=_0x173022[0x1][_0x4ff9bd(0x287)],global[_0x4ff9bd(0x178)][_0x4d3781]=_0x173022[0x1][_0x4ff9bd(0x134)];});}catch(_0x3960a5){await handleError(_0x3960a5,_0x514a1d(0x120),_0x4d3781);}},_0x24e4cd=async _0x544c3d=>{const _0x4d904d=_0x166c14;while(initCycle==_0x5985f6){if(!botPaused)try{const _0x12abb5=await exchange[_0x4d904d(0x27f)](_0x544c3d);global[_0x4d904d(0x27b)][noslash(_0x12abb5[0x0]['symbol'])]=_0x12abb5[0x0][_0x4d904d(0x200)];}catch(_0x35b18b){if(!exchangeStopped)await handleError(_0x35b18b,'watchTrades()',_0x544c3d);}else await sleep(0x64);}},_0x424675=async _0x5d63fb=>{const _0x4e1f57=_0x166c14;while(initCycle==_0x5985f6){if(!botPaused)try{const _0x49b974=await exchange[_0x4e1f57(0x217)](_0x5d63fb),_0x21bd3c=_0x49b974[_0x4e1f57(0x205)]();global[_0x4e1f57(0x27b)][noslash(_0x21bd3c[_0x4e1f57(0x1a1)])]=_0x21bd3c[_0x4e1f57(0x200)];}catch(_0x13ac26){if(!exchangeStopped)await handleError(_0x13ac26,_0x4e1f57(0x284),_0x5d63fb[_0x4e1f57(0x1e4)]());}else await sleep(0x64);}},_0x12ff1a=async _0x2fa2c8=>{const _0x3e825b=_0x166c14;while(initCycle==_0x5985f6){if(!botPaused){let _0xd38fe7;try{await sleep(0x3c*0x3e8);const _0x102a5c=await getTickers(_0x2fa2c8);Object[_0x3e825b(0x214)](_0x102a5c)[_0x3e825b(0x1f2)](_0x7784c4=>{const _0x1dcb0a=_0x3e825b;_0xd38fe7=_0x7784c4[0x1]['symbol'],global[_0x1dcb0a(0x178)][_0xd38fe7]=_0x7784c4[0x1][_0x1dcb0a(0x134)];});}catch(_0xefc457){if(!exchangeStopped)await handleError(_0xefc457,_0x3e825b(0x12a),_0xd38fe7);}}else await sleep(0x64);}},_0x340db1=async _0x21c677=>{const _0x1afa21=_0x166c14;while(initCycle==_0x5985f6){if(!botPaused)try{const _0x1772a8=await exchange[_0x1afa21(0x15a)](_0x21c677);initCycle==_0x5985f6&&_0x1772a8['forEach'](_0x2d2af2=>{updateNumberCoinsCcxt(_0x2d2af2);});}catch(_0x2dac69){if(!exchangeStopped)await handleError(_0x2dac69,_0x1afa21(0x289));}else await sleep(0x64);}};_0x283535(_0x5ace2e),_0x12ff1a(_0x5ace2e),exchange[_0x166c14(0xfa)][_0x166c14(0x217)]?_0x424675(_0x5ace2e):_0x5ace2e[_0x166c14(0x1f2)](_0x311834=>{_0x24e4cd(_0x311834);}),_0x5ace2e[_0x166c14(0x1f2)](_0x4daf7e=>{_0x340db1(_0x4daf7e);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x47e766){const _0x4a1e9d=_0xd93f1e;let _0x46db0e={};try{if(config[_0x4a1e9d(0x1bd)]!='Cryptocom')_0x46db0e=await exchange['fetchTickers'](_0x47e766);else for(const _0x25d71c of _0x47e766){const _0xf0aa6=await exchange[_0x4a1e9d(0xfd)](_0x25d71c);_0x46db0e[_0x25d71c]=_0xf0aa6;}return _0x46db0e;}catch(_0x4e8778){throw _0x4e8778;}}async function watchTransactions(){const _0x4fad7a=_0xd93f1e;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x424ccd=await getCoins(),[_0x100ef2,_0x52ccfe]=_0x424ccd;let _0x116763=[];currentCoins[_0x4fad7a(0x1f2)](_0x256968=>{const _0x5080e8=_0x4fad7a,_0x5dca77=_0x100ef2[_0x5080e8(0x222)](_0x5931cb=>_0x5931cb[_0x5080e8(0x16f)]==_0x256968[_0x5080e8(0x16f)]);if(_0x5dca77){if(_0x256968[_0x5080e8(0x1d4)]!=_0x5dca77['number']){let _0x3cad33;if(_0x256968[_0x5080e8(0x16f)]!=config[_0x5080e8(0x103)]){const _0x1f252c=global['ticker'][noslash(_0x256968[_0x5080e8(0x1a1)])];_0x3cad33=_0x256968[_0x5080e8(0x274)]?0x1/_0x1f252c:_0x1f252c;}else _0x3cad33=0x1;_0x116763[_0x5080e8(0x165)]({'coin':_0x256968[_0x5080e8(0x16f)],'symbol':_0x256968[_0x5080e8(0x1a1)],'price':_0x3cad33,'number':Number(formatResult(_0x5dca77[_0x5080e8(0x1d4)]-_0x256968[_0x5080e8(0x1d4)],0x8)),'basecoinvalue':_0x3cad33*(_0x5dca77['number']-_0x256968['number'])});}}});if(_0x116763[_0x4fad7a(0x12c)]==0x1&&!blockTransactionDetection){if(config[_0x4fad7a(0x114)]){logger[_0x4fad7a(0x1c8)](_0x4fad7a(0x129)+_0x116763[0x0][_0x4fad7a(0x19c)]+_0x4fad7a(0x18c)+lastFees[_0x4fad7a(0x1c6)]);if(lastFees[_0x4fad7a(0x1c6)]==0x0||Math[_0x4fad7a(0x1ed)](_0x116763[0x0][_0x4fad7a(0x19c)])>lastFees[_0x4fad7a(0x1c6)]){delete _0x116763[0x0][_0x4fad7a(0x1a1)],delete _0x116763[0x0][_0x4fad7a(0x19c)];let _0x2bb387=[],_0x1d0a26=[...config['liquidity']]||[],_0x19975c=config[_0x4fad7a(0x260)];_0x1d0a26['sort']((_0x2b9419,_0xd4a72c)=>_0x2b9419[_0x4fad7a(0x206)]>_0xd4a72c[_0x4fad7a(0x206)]?-0x1:_0xd4a72c[_0x4fad7a(0x206)]>_0x2b9419[_0x4fad7a(0x206)]?0x1:0x0);const _0x34a1b9=getDate();if(_0x1d0a26[0x0]){const _0x266bc3=fns[_0x4fad7a(0x23f)](_0x1d0a26[0x0][_0x4fad7a(0x206)],_0x4fad7a(0x21f),new Date()),_0xd63e34=fns['parse'](_0x34a1b9,'yyyy/MM/dd',new Date());if(fns[_0x4fad7a(0x24a)](_0x266bc3,_0xd63e34)){_0x2bb387=_0x1d0a26[0x0][_0x4fad7a(0x28c)];const _0x131470=_0x2bb387['find'](_0x5f0b1f=>_0x5f0b1f[_0x4fad7a(0x16f)]==_0x116763[0x0]['coin']);_0x131470?(_0x131470[_0x4fad7a(0x1d4)]+=_0x116763[0x0][_0x4fad7a(0x1d4)],_0x131470[_0x4fad7a(0x1d4)]==0x0&&(_0x2bb387=_0x2bb387['filter'](_0x415c1d=>{return _0x415c1d['coin']!=_0x116763[0x0]['coin'];}))):_0x2bb387[_0x4fad7a(0x165)](_0x116763[0x0]);const _0x5383ab=_0x19975c[_0x4fad7a(0x222)](_0x206ec4=>_0x206ec4[_0x4fad7a(0x206)]==_0x34a1b9);_0x5383ab[_0x4fad7a(0x28c)]=_0x2bb387;}else _0x19975c[_0x4fad7a(0x165)]({'date':_0x34a1b9,'changes':[_0x116763[0x0]]});}const _0x394793=_0x19975c['find'](_0x4fa7bf=>_0x4fa7bf[_0x4fad7a(0x206)]==_0x34a1b9);if(_0x394793){let _0x17361c=!![];_0x394793['changes'][_0x4fad7a(0x1f2)](_0x14e8f4=>{const _0x1d771f=_0x4fad7a;if(_0x14e8f4[_0x1d771f(0x1d4)]!=0x0)_0x17361c=![];}),_0x17361c&&(_0x19975c=_0x19975c[_0x4fad7a(0x107)](_0x3dccb7=>{const _0x1c68ed=_0x4fad7a;return _0x3dccb7[_0x1c68ed(0x206)]!=_0x34a1b9;}));}let _0x27452a=dbConfig['get'](_0x4fad7a(0x229))[_0x4fad7a(0x222)]({'botID':botID})[_0x4fad7a(0x1b6)]();_0x27452a&&(dbConfig[_0x4fad7a(0x26b)](_0x4fad7a(0x229))[_0x4fad7a(0x222)]({'botID':botID})[_0x4fad7a(0x1c4)]({'liquidity':_0x19975c})[_0x4fad7a(0x10c)](),config[_0x4fad7a(0x260)]=_0x19975c),logHistory(_0x4fad7a(0x108),'Portfolio\x20change\x20detected:\x20'+Math[_0x4fad7a(0x1ed)](_0x116763[0x0]['number'])+'\x20'+_0x116763[0x0][_0x4fad7a(0x16f)]+'\x20'+(_0x116763[0x0][_0x4fad7a(0x1d4)]>0x0?_0x4fad7a(0x1e7):_0x4fad7a(0x1c9))+_0x4fad7a(0x215)),proxyEmit('configuration',emittedConfiguration());}else logger[_0x4fad7a(0x1c8)](_0x4fad7a(0x276)+Math[_0x4fad7a(0x1ed)](_0x116763[0x0][_0x4fad7a(0x1d4)])+'\x20'+_0x116763[0x0][_0x4fad7a(0x16f)]+'\x20'+(_0x116763[0x0][_0x4fad7a(0x1d4)]>0x0?'added':_0x4fad7a(0x1c9)));transactionDetected=!![];}else logger[_0x4fad7a(0x1c8)](_0x4fad7a(0x139)+Math[_0x4fad7a(0x1ed)](_0x116763[0x0][_0x4fad7a(0x1d4)])+'\x20'+_0x116763[0x0][_0x4fad7a(0x16f)]+'\x20'+(_0x116763[0x0][_0x4fad7a(0x1d4)]>0x0?_0x4fad7a(0x1e7):'removed')+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x100ef2,currentCoinsAll=_0x52ccfe,await sleep(watchTransactionsInterval);}catch(_0x33e42b){if(!exchangeStopped)await handleError(_0x33e42b,'watchTransactions()');}else await sleep(0x64);}}async function loadSymbols(){const _0x4bbab5=_0xd93f1e;try{markets=await exchange[_0x4bbab5(0x21c)](),allSymbols=[],Object[_0x4bbab5(0x214)](markets)[_0x4bbab5(0x1f2)](_0x5efa73=>{const _0x1bb431=_0x4bbab5;_0x5efa73[0x1][_0x1bb431(0xf5)]&&_0x5efa73[0x1]['spot']&&allSymbols[_0x1bb431(0x165)](_0x5efa73[0x0]);});}catch(_0x29a83f){throw _0x29a83f;}}function validateSymbols(_0x3e42ed){const _0x5df852=_0xd93f1e;let _0x134374=[];return _0x3e42ed[_0x5df852(0x1f2)](_0x2b1a11=>{const _0x418019=_0x5df852;!allSymbols[_0x418019(0x1c5)](_0x2b1a11)?logHistory(_0x418019(0x29a),_0x418019(0xfc)+_0x2b1a11+_0x418019(0x281)):_0x134374[_0x418019(0x165)](_0x2b1a11);}),_0x134374;}async function initclient(){const _0x3cb01b=_0xd93f1e;proxyEmit(_0x3cb01b(0x27a),emittedConfiguration()),proxyEmit(_0x3cb01b(0x13e),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x3cb01b(0x179),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x2995d6=getNormalizedPerformance();emitPerformance(_0x2995d6),getStartingBalances(_0x2995d6);}async function toggleBotMode(){const _0x215b66=_0xd93f1e;let _0x4e1671=dbConfig['get'](_0x215b66(0x229))[_0x215b66(0x222)]({'botID':botID})[_0x215b66(0x1b6)]();if(_0x4e1671){const _0x2a95fe=!_0x4e1671[_0x215b66(0x154)];dbConfig[_0x215b66(0x26b)]('bot')[_0x215b66(0x222)]({'botID':botID})[_0x215b66(0x1c4)]({'headless':_0x2a95fe})[_0x215b66(0x10c)](),config[_0x215b66(0x154)]=_0x2a95fe,proxyEmit(_0x215b66(0x27a),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x46e2d1=_0xd93f1e;process['send']({'updatebotmanager':!![]},_0x41963a=>{}),logger[_0x46e2d1(0x1c8)](_0x46e2d1(0x1aa)+config[_0x46e2d1(0x154)]);}async function loadCoins(_0x3c77d0){const _0x2c247c=_0xd93f1e;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x22e1c0,_0x1fe56e=0x0,_0x35aa56=0x0;_0x3c77d0[_0x2c247c(0x1f2)](_0x251b8a=>{const _0x2e6940=_0x2c247c;loading['remainingSymbols'][_0x2e6940(0x165)](_0x251b8a);}),loadingCanceled=![];let _0x4b0baf=![];while(_0x22e1c0!=_0x3c77d0[_0x2c247c(0x12c)]+maxLoadingProgress){_0x22e1c0=loadingProgress,_0x3c77d0[_0x2c247c(0x1f2)](_0x26fb5f=>{const _0x17a4a1=_0x2c247c;if(global[_0x17a4a1(0x27b)][noslash(_0x26fb5f)]){loading[_0x17a4a1(0x169)]=loading['remainingSymbols'][_0x17a4a1(0x107)](_0x41c6ef=>_0x41c6ef!=_0x26fb5f);if(!watchedSymbols[_0x17a4a1(0x1c5)](_0x26fb5f))watchedSymbols[_0x17a4a1(0x165)](_0x26fb5f);_0x22e1c0++;}}),loading[_0x2c247c(0x1f5)]=Math['round'](_0x22e1c0/(_0x3c77d0['length']+maxLoadingProgress)*0x64);loading[_0x2c247c(0x1f5)]!=0x64&&(_0x35aa56>0x1e*0x5&&(loading[_0x2c247c(0x234)]=!![],emitLoadingProgress()),_0x35aa56>0x78*0x5&&!_0x4b0baf&&(_0x4b0baf=!![],logHistory('error',_0x2c247c(0x156)+loading[_0x2c247c(0x169)][_0x2c247c(0x17f)](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x2c247c(0x29a),_0x2c247c(0x224)+loadCoinsRetryInterval/0xea60+_0x2c247c(0x27d)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x5b0c60=_0x2c247c;process['send']({'stop':_0x5b0c60(0x196)},_0x4736f7=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x2c247c(0x1ec)]=!![],emitLoadingProgress();break;}else _0x1fe56e!=loading[_0x2c247c(0x1f5)]&&(_0x1fe56e=loading[_0x2c247c(0x1f5)],emitLoadingProgress()),_0x35aa56++,await sleep(0xc8);}_0x22e1c0==_0x3c77d0[_0x2c247c(0x12c)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x2c247c(0x189)]({'status':'enabled','live':'running'},_0x180975=>{}),_0x4b0baf&&logHistory(_0x2c247c(0x108),_0x2c247c(0xfe)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x13787b=_0xd93f1e;proxyEmit(_0x13787b(0x27a),{...emittedConfiguration(),'configstate':_0x13787b(0x24d)});}function emitLoadingProgress(){const _0x2e75bf=_0xd93f1e;proxyEmit(_0x2e75bf(0x1d6),loading);}async function getFiat(){const _0x5d5fcd=_0xd93f1e;let _0x7684ba=global[_0x5d5fcd(0x27b)][stablecoins['eur'][_0x5d5fcd(0x16f)]],_0x576e6f=global[_0x5d5fcd(0x27b)][stablecoins[_0x5d5fcd(0x1e9)]['coin']];return{'eur':Number(_0x7684ba),'usd':Number(_0x576e6f)};}function capitalize(_0x2bd2f6){const _0x4fae0c=_0xd93f1e;return _0x2bd2f6['substring'](0x0,0x1)[_0x4fae0c(0xee)]()+_0x2bd2f6[_0x4fae0c(0x18f)](0x1);}function supportedExchanges(){const _0x1cd7df=_0xd93f1e,_0x5859da=['ws',_0x1cd7df(0x23a),'fetchTicker','watchTrades',_0x1cd7df(0x15a),_0x1cd7df(0x16e),_0x1cd7df(0x232),'fetchOpenOrders',_0x1cd7df(0x21a),_0x1cd7df(0x13d)];let _0x1d7995=[],_0x45147c=[],_0x10cd7a=ccxt[_0x1cd7df(0x185)][_0x1cd7df(0x13e)];_0x10cd7a['forEach'](_0x230448=>{const _0x58ad3f=_0x1cd7df;try{const _0x4c84c1=new ccxt[(_0x58ad3f(0x185))][_0x230448]();_0x45147c[_0x58ad3f(0x165)](_0x4c84c1);}catch(_0x30b120){}}),_0x45147c[_0x1cd7df(0x1f2)](_0x26e2e6=>{const _0x38fddb=_0x1cd7df;let _0x3daed6=0x0;_0x5859da['forEach'](_0x5077b7=>{const _0x16631d=_0x4d51;_0x5077b7 in _0x26e2e6[_0x16631d(0xfa)]&&_0x26e2e6[_0x16631d(0xfa)][_0x5077b7]&&_0x3daed6++;}),_0x3daed6==_0x5859da[_0x38fddb(0x12c)]&&_0x1d7995['push'](capitalize(_0x26e2e6['id']));});let _0x538f67=[];return _0x10cd7a[_0x1cd7df(0x1f2)](_0x4b889c=>{const _0x4d71c9=_0x1cd7df;_0x4b889c=capitalize(_0x4b889c);if(!_0x1d7995['includes'](_0x4b889c))_0x538f67[_0x4d71c9(0x165)](_0x4b889c);}),_0x1d7995;}function setStartDatePerformance(){const _0x518353=_0xd93f1e;if(config&&config[_0x518353(0x260)][0x0][_0x518353(0x28c)][_0x518353(0x12c)]!=0x0){const _0x5afdf0=config['liquidity'][0x0]['changes'];dbPerformance[_0x518353(0x26b)]('data')[_0x518353(0x222)]({'date':config['startdate']})['assign']({'coins':_0x5afdf0})[_0x518353(0x10c)]();}}async function recreateCoinResults(){const _0x4d13fe=_0xd93f1e;let _0x5639a2,_0x41a575=[];try{const _0x205757=fns[_0x4d13fe(0x28e)](fns[_0x4d13fe(0x150)](config[_0x4d13fe(0x20e)][_0x4d13fe(0xed)](/\//g,'-')),_0x4d13fe(0x25e));for(const _0x4243f3 of currentCoins){if(_0x4243f3[_0x4d13fe(0x16f)]!=config[_0x4d13fe(0x103)]){let _0x33c490=0x0,_0xd7ab22,_0x368fc7;_0x5639a2=await getAllEventOrders(_0x4243f3['symbol']);if(_0x5639a2[_0x4d13fe(0x12c)]>0x0)_0x5639a2[_0x4d13fe(0x1f2)](_0x42b3a3=>{const _0x1f2d14=_0x4d13fe,_0x3c1ec0=_0x4243f3[_0x1f2d14(0x1a1)][_0x1f2d14(0x1c5)](config[_0x1f2d14(0x103)]+'/');_0x41a575[_0x1f2d14(0x165)]({'datetime':_0x42b3a3[_0x1f2d14(0x25d)],'coin':_0x4243f3[_0x1f2d14(0x16f)],'symbol':_0x4243f3[_0x1f2d14(0x1a1)],'side':_0x42b3a3[_0x1f2d14(0x11d)],'reverse':_0x3c1ec0,'amount':formatResult(_0x42b3a3[_0x1f2d14(0x152)],0x8),'filled':formatResult(_0x42b3a3[_0x1f2d14(0x152)],0x8),'price':formatResult(_0x42b3a3[_0x1f2d14(0x200)],0x8)}),_0x33c490=_0x42b3a3['side']==_0x1f2d14(0x13f)?_0x33c490+_0x42b3a3[_0x1f2d14(0x152)]:_0x33c490-_0x42b3a3[_0x1f2d14(0x152)];if(!_0x368fc7)_0x368fc7=_0x42b3a3[_0x1f2d14(0x200)];});_0xd7ab22=_0x4243f3[_0x4d13fe(0x1d4)]-_0x33c490;let _0x52d7bb;config['liquidity']['forEach'](_0x5df417=>{const _0x3a7ae3=_0x4d13fe;!_0x52d7bb&&(_0x52d7bb=_0x5df417[_0x3a7ae3(0x28c)][_0x3a7ae3(0x222)](_0x5dc00a=>_0x5dc00a['coin']==_0x4243f3['coin']),_0x52d7bb&&(_0xd7ab22=_0x52d7bb[_0x3a7ae3(0x1d4)],_0x368fc7=_0x52d7bb[_0x3a7ae3(0x200)]));});let _0x189916=dbCoinResults['get']('coins')[_0x4d13fe(0x222)]({'coin':_0x4243f3[_0x4d13fe(0x16f)]})[_0x4d13fe(0x1b6)]();_0x189916={'coin':_0x4243f3[_0x4d13fe(0x16f)],'number':_0xd7ab22,'breakeven':_0x368fc7,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get'](_0x4d13fe(0x11c))[_0x4d13fe(0x222)]({'coin':_0x4243f3['coin']})[_0x4d13fe(0x1c4)](_0x189916)[_0x4d13fe(0x10c)]();}}_0x41a575[_0x4d13fe(0xf2)]((_0x5eed44,_0x30aa40)=>_0x5eed44[_0x4d13fe(0x25d)]>_0x30aa40[_0x4d13fe(0x25d)]?0x1:_0x30aa40[_0x4d13fe(0x25d)]>_0x5eed44[_0x4d13fe(0x25d)]?-0x1:0x0);let _0x56584e=0x0;for(let _0x2e3133 of _0x41a575){await updateCoinResults(_0x2e3133,!![]);}}catch(_0x104cfd){await handleError(_0x104cfd,_0x4d13fe(0x235));}}async function getAllEventOrders(_0x1a3c4e){const _0x1afb5a=_0xd93f1e;let _0x5773dc=[],_0x27fb84=dbLogs[_0x1afb5a(0x26b)]('logs')[_0x1afb5a(0x107)](_0x1d500f=>{const _0x52bc59=_0x1afb5a,_0x4335ca=_0x1d500f[_0x52bc59(0x1e3)]['toLowerCase']();return _0x4335ca[_0x52bc59(0x1c5)](_0x1a3c4e[_0x52bc59(0x22f)]())&&(_0x4335ca[_0x52bc59(0x1c5)]('market')&&_0x4335ca['includes'](_0x52bc59(0x133))||_0x4335ca[_0x52bc59(0x1c5)](_0x52bc59(0x152))&&_0x4335ca[_0x52bc59(0x1c5)](_0x52bc59(0x133)));})[_0x1afb5a(0x219)](_0x1afb5a(0x22a))['value']();return _0x27fb84[_0x1afb5a(0x1f2)](_0x1459ef=>{const _0x32585a=_0x1afb5a,_0x5b0def=_0x1459ef[_0x32585a(0x1e3)]['includes'](_0x32585a(0x18e))?_0x32585a(0x18e):'buy',_0x557a92=/#([0-9]|\.)+\s/i,_0x314e4c=Number(_0x557a92['exec'](_0x1459ef[_0x32585a(0x1e3)])[0x0]['slice'](0x1)),_0x26aec4=/@([0-9]|\.)+$/i,_0x524819=Number(_0x26aec4[_0x32585a(0x262)](_0x1459ef[_0x32585a(0x1e3)])[0x0][_0x32585a(0x1c2)](0x1));_0x5773dc[_0x32585a(0x165)]({'datetime':_0x1459ef[_0x32585a(0x22a)],'coin':symbolToCoin(_0x1a3c4e),'symbol':_0x1a3c4e,'side':_0x5b0def,'amount':_0x314e4c,'filled':_0x314e4c,'price':_0x524819});}),_0x5773dc;}async function getAllOrders(_0x355943,_0x2a32ff){const _0x4a2cda=_0xd93f1e;let _0x2a92db=[];while(_0x2a32ff<exchange[_0x4a2cda(0x1d8)]()){const _0x54b6d5=0x1f4;try{const _0x42ffe4=await exchange[_0x4a2cda(0x21a)](_0x355943,_0x2a32ff,_0x54b6d5);if(_0x42ffe4[_0x4a2cda(0x12c)])_0x2a32ff=_0x42ffe4[_0x42ffe4[_0x4a2cda(0x12c)]-0x1][_0x4a2cda(0x247)]+0x1,_0x2a92db=_0x2a92db[_0x4a2cda(0x226)](_0x42ffe4);else break;}catch(_0x3eed13){await handleError(_0x3eed13,_0x4a2cda(0x243),_0x355943);}}return _0x2a92db;}async function validate24hChanges(){const _0x3a4119=_0xd93f1e;for(const _0x49d72b of currentCoins){if(_0x49d72b[_0x3a4119(0x16f)]!=config['basecoin']){let _0x20c261;_0x49d72b[_0x3a4119(0x274)]?_0x20c261=formatResult((0x1/(global[_0x3a4119(0x178)][_0x49d72b['symbol']]/0x64+0x1)-0x1)*0x64,0x3):_0x20c261=global[_0x3a4119(0x178)][_0x49d72b[_0x3a4119(0x1a1)]],_0x20c261<config[_0x3a4119(0x1cd)]&&(logHistory('error',_0x49d72b['coin']+_0x3a4119(0x158)+_0x20c261+'%'),logHistory('error',_0x3a4119(0x181)),logHistory(_0x3a4119(0x29a),_0x3a4119(0xec)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x1f9793,_0x2fb5bb){const _0x5b6530=_0xd93f1e;if(!_0x1f9793)return!![];const _0x2a83ed=_0x2fb5bb[_0x5b6530(0xff)]('.'),_0x38ea7e=_0x1f9793[_0x5b6530(0xff)]('.');for(var _0x391ec6=0x0;_0x391ec6<_0x38ea7e[_0x5b6530(0x12c)];_0x391ec6++){const _0x45e35b=~~_0x38ea7e[_0x391ec6],_0x424ee5=~~_0x2a83ed[_0x391ec6];if(_0x45e35b<_0x424ee5)return!![];if(_0x45e35b>_0x424ee5)return![];}return![];}async function oneTimeMigration(){const _0x2f83df=_0xd93f1e;let _0x3f9c56=dbLogs[_0x2f83df(0x26b)]('version')[_0x2f83df(0x1b6)]();if(isOlderVersion(_0x3f9c56,_0x2f83df(0x12f))){let _0x43ba73=[];const _0x323aab=dbLogs['get'](_0x2f83df(0x17d))[_0x2f83df(0x1b6)]();_0x323aab[_0x2f83df(0x1f2)](_0x11668c=>{const _0xb19405=_0x2f83df;_0x43ba73[_0xb19405(0x165)]({'time':_0x11668c[_0xb19405(0x22a)],'type':_0x11668c[_0xb19405(0x1da)],'event':_0x11668c[_0xb19405(0x1e3)]});}),dbLogs[_0x2f83df(0x26b)]('logs')[_0x2f83df(0x1c4)](_0x43ba73)['write']();}let _0xd97285=dbConfig[_0x2f83df(0x26b)](_0x2f83df(0x11e))[_0x2f83df(0x1b6)]();if(isOlderVersion(_0xd97285,_0x2f83df(0x12f))){let _0x5cb647=dbConfig[_0x2f83df(0x26b)](_0x2f83df(0x229))[_0x2f83df(0x222)]({'botID':botID})[_0x2f83df(0x1b6)]();if(_0x5cb647){let _0x3be6a2=[];_0x5cb647[_0x2f83df(0x231)][_0x2f83df(0x1f2)](_0x220b50=>{const _0x1a9b7e=_0x2f83df;_0x3be6a2[_0x1a9b7e(0x165)]({'coin':_0x220b50[_0x1a9b7e(0x16f)],'number':_0x220b50['startnumber'],'price':_0x220b50[_0x1a9b7e(0x24c)]}),delete _0x220b50[_0x1a9b7e(0x286)],delete _0x220b50[_0x1a9b7e(0x24c)];});if(_0x3be6a2[_0x2f83df(0x12c)]!==0x0)fs[_0x2f83df(0x1ff)](configbackuppath+(_0x2f83df(0x1fd)+botID+_0x2f83df(0x293)),JSON[_0x2f83df(0x27e)](_0x3be6a2,null,0x4),function(_0x732437){if(_0x732437){}});const _0x357bbc=(_0x48b1d7,_0x5763b8)=>{const _0x26de47=_0x2f83df;let _0x9df1ed=[];_0x5763b8['forEach'](_0x42d9f0=>{const _0x28be7b=_0x4d51,_0x149407=_0x48b1d7[_0x28be7b(0x222)](_0x2cc541=>_0x2cc541[_0x28be7b(0x16f)]==_0x42d9f0['coin']);if(!_0x149407)_0x9df1ed['push'](_0x42d9f0);});let _0x2d446a=[];return _0x48b1d7[_0x26de47(0x1f2)](_0x97bb2e=>{const _0x46418e=_0x26de47,_0x2b9da6=_0x5763b8['find'](_0x3a2d40=>_0x3a2d40[_0x46418e(0x16f)]==_0x97bb2e['coin']);if(!_0x2b9da6||_0x2b9da6[_0x46418e(0x1d4)]==0x0&&_0x97bb2e['number']!=0x0)_0x2d446a[_0x46418e(0x165)](_0x97bb2e);}),{'missingDay1':_0x9df1ed,'notInDay2':_0x2d446a};},_0x2b18ea=dbPerformance[_0x2f83df(0x26b)](_0x2f83df(0x112))['cloneDeep']()[_0x2f83df(0x1b6)]();if(_0x2b18ea['length']>0x1){const {missingDay1:_0x44921c,notInDay2:_0x23b3b2}=_0x357bbc(_0x3be6a2,_0x2b18ea[0x1][_0x2f83df(0x11c)]);_0x3be6a2=[..._0x3be6a2,..._0x44921c],_0x23b3b2[_0x2f83df(0x1f2)](_0x2a458b=>{const _0x113644=_0x2f83df;let _0x1f9058=_0x3be6a2[_0x113644(0x163)](_0x419a8d=>_0x419a8d['coin']==_0x2a458b[_0x113644(0x16f)]);_0x1f9058!=-0x1&&_0x3be6a2[_0x113644(0x279)](_0x1f9058,0x1);});}_0x3be6a2[_0x2f83df(0xf2)]((_0x1b3f18,_0x1107b4)=>_0x1b3f18['coin']>_0x1107b4[_0x2f83df(0x16f)]?0x1:_0x1107b4[_0x2f83df(0x16f)]>_0x1b3f18[_0x2f83df(0x16f)]?-0x1:0x0);let _0x12956b=[{'date':_0x5cb647[_0x2f83df(0x20e)],'changes':_0x3be6a2}];_0x2b18ea[_0x2f83df(0x12c)]>0x2&&_0x2b18ea[_0x2f83df(0x1f2)]((_0x5c55d2,_0x421d33)=>{const _0x1475b3=_0x2f83df;if(_0x421d33>0x0&&_0x421d33<_0x2b18ea[_0x1475b3(0x12c)]-0x1){const {missingDay1:_0x6cf943,notInDay2:_0x6b4d8c}=_0x357bbc(_0x2b18ea[_0x421d33][_0x1475b3(0x11c)],_0x2b18ea[_0x421d33+0x1][_0x1475b3(0x11c)]);_0x3be6a2=[],(_0x6cf943[_0x1475b3(0x12c)]!=0x0||_0x6b4d8c[_0x1475b3(0x12c)]!=0x0)&&(_0x6cf943[_0x1475b3(0x12c)]!=0x0&&_0x3be6a2[_0x1475b3(0x165)](..._0x6cf943),_0x6b4d8c[_0x1475b3(0x12c)]!=0x0&&(_0x6b4d8c[_0x1475b3(0x1f2)](_0x323299=>{const _0x1566c7=_0x1475b3;_0x323299[_0x1566c7(0x1d4)]=-_0x323299['number'];}),_0x3be6a2[_0x1475b3(0x165)](..._0x6b4d8c)),_0x3be6a2[_0x1475b3(0xf2)]((_0x13a283,_0x884ac)=>_0x13a283[_0x1475b3(0x16f)]>_0x884ac[_0x1475b3(0x16f)]?0x1:_0x884ac[_0x1475b3(0x16f)]>_0x13a283[_0x1475b3(0x16f)]?-0x1:0x0),_0x12956b[_0x1475b3(0x165)]({'date':_0x2b18ea[_0x421d33+0x1][_0x1475b3(0x206)],'changes':_0x3be6a2}));}}),dbConfig[_0x2f83df(0x26b)](_0x2f83df(0x229))['find']({'botID':botID})['assign']({..._0x5cb647,'liquidity':_0x12956b})['write']();}}if(isOlderVersion(_0xd97285,'2.6.0')){let _0x21c37b=dbConfig[_0x2f83df(0x26b)](_0x2f83df(0x229))[_0x2f83df(0x222)]({'botID':botID})[_0x2f83df(0x1b6)]();if(_0x21c37b){const _0x4a0dd5=_0x21c37b[_0x2f83df(0x1bd)],_0x28ea08=_0x4a0dd5?capitalize(_0x4a0dd5):_0x2f83df(0x278);dbConfig[_0x2f83df(0x26b)]('bot')[_0x2f83df(0x222)]({'botID':botID})[_0x2f83df(0x1c4)]({'exchange':_0x28ea08})[_0x2f83df(0x10c)]();}}if(isOlderVersion(_0xd97285,_0x2f83df(0x190))){let _0x1617e8=dbConfig[_0x2f83df(0x26b)](_0x2f83df(0x229))['find']({'botID':botID})[_0x2f83df(0x1b6)]();if(_0x1617e8){const _0x1def82=_0x1617e8[_0x2f83df(0x142)],_0x3c01be=_0x1def82?'marketcap':![];dbConfig['get'](_0x2f83df(0x229))[_0x2f83df(0x222)]({'botID':botID})[_0x2f83df(0x1c4)]({'marketcapEnabled':_0x3c01be})['write']();}}let _0x587002=dbPerformance[_0x2f83df(0x26b)](_0x2f83df(0x11e))[_0x2f83df(0x1b6)]();isOlderVersion(_0x587002,_0x2f83df(0x12f))&&setStartDatePerformance();let _0x1f2472=dbCoinResults[_0x2f83df(0x26b)](_0x2f83df(0x11e))[_0x2f83df(0x1b6)]();if(isOlderVersion(_0x1f2472,_0x2f83df(0x29d))){let _0x2da9e1=dbCoinResults[_0x2f83df(0x26b)](_0x2f83df(0x11c))[_0x2f83df(0x1b6)]();if(_0x2da9e1[_0x2f83df(0x12c)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x2da3bf=_0xd93f1e;dbConfig[_0x2da3bf(0x299)]('version',serverversion)[_0x2da3bf(0x10c)](),dbPerformance[_0x2da3bf(0x299)]('version',serverversion)[_0x2da3bf(0x10c)](),dbLogs[_0x2da3bf(0x299)](_0x2da3bf(0x11e),serverversion)['write'](),dbCoinResults[_0x2da3bf(0x299)](_0x2da3bf(0x11e),serverversion)[_0x2da3bf(0x10c)]();}function getConfiguration(_0x99dc24){const _0x584cad=_0xd93f1e;let _0x135a0d=dbConfig[_0x584cad(0x26b)]('bot')[_0x584cad(0x222)]({'botID':_0x99dc24})[_0x584cad(0x1b6)]();if(_0x135a0d){let _0x2037c8=![];typeof _0x135a0d['threshold']==_0x584cad(0x191)&&(_0x135a0d={..._0x135a0d,'threshold':Number(_0x135a0d[_0x584cad(0x1cf)])},_0x2037c8=!![]),_0x135a0d[_0x584cad(0x1cd)]==undefined&&(_0x135a0d={..._0x135a0d,'change24h':-0x14},_0x2037c8=!![]),_0x135a0d[_0x584cad(0x250)]==undefined&&(_0x135a0d={..._0x135a0d,'fiat':_0x584cad(0x18b)},_0x2037c8=!![]),_0x135a0d[_0x584cad(0x18a)]==undefined&&(_0x135a0d={..._0x135a0d,'onepagemode':settings[_0x584cad(0x18a)]},_0x2037c8=!![]),_0x135a0d[_0x584cad(0x244)]==undefined&&(_0x135a0d={..._0x135a0d,'colorscheme':_0x584cad(0x294)},_0x2037c8=!![]),_0x135a0d['autoliquidity']==undefined&&(_0x135a0d={..._0x135a0d,'autoliquidity':!![]},_0x2037c8=!![]),_0x135a0d['marketcapApi']==undefined&&(_0x135a0d={..._0x135a0d,'marketcapApi':settings['marketcapApi']?!![]:![]},_0x2037c8=!![]),_0x135a0d['marketcapEnabled']==undefined&&(_0x135a0d={..._0x135a0d,'marketcapEnabled':![]},_0x2037c8=!![]),_0x2037c8&&(_0x135a0d={'botID':_0x135a0d[_0x584cad(0x1dd)],'exchange':_0x135a0d[_0x584cad(0x1bd)],'apiKey':_0x135a0d['apiKey'],'apiSecret':_0x135a0d['apiSecret'],'apiPassword':_0x135a0d[_0x584cad(0x192)],'basecoin':_0x135a0d[_0x584cad(0x103)],'botname':_0x135a0d[_0x584cad(0x22d)],'showname':_0x135a0d['showname'],'threshold':_0x135a0d[_0x584cad(0x1cf)],'ordertype':_0x135a0d['ordertype'],'timeout':_0x135a0d[_0x584cad(0x234)],'fiat':_0x135a0d['fiat'],'startdate':_0x135a0d[_0x584cad(0x20e)],'recreate':_0x135a0d[_0x584cad(0x1ad)],'timeshift':_0x135a0d['timeshift'],'onepagemode':_0x135a0d['onepagemode'],'headless':_0x135a0d[_0x584cad(0x154)],'cooldown':_0x135a0d[_0x584cad(0x1a6)],'change24h':_0x135a0d[_0x584cad(0x1cd)],'emojibuy':_0x135a0d[_0x584cad(0x25c)],'emojisell':_0x135a0d[_0x584cad(0x135)],'colorscheme':_0x135a0d['colorscheme'],'marketcapApi':_0x135a0d['marketcapApi'],'marketcapEnabled':_0x135a0d[_0x584cad(0x142)],'portfolio':_0x135a0d[_0x584cad(0x231)],'autoliquidity':_0x135a0d[_0x584cad(0x114)],'liquidity':_0x135a0d[_0x584cad(0x260)],'openOrders':_0x135a0d[_0x584cad(0x12b)]},dbConfig[_0x584cad(0x26b)]('bot')[_0x584cad(0x1b1)]()['write'](),dbConfig[_0x584cad(0x26b)]('bot')[_0x584cad(0x165)](_0x135a0d)[_0x584cad(0x10c)]());}else _0x135a0d={'botID':_0x99dc24,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x584cad(0x110)+_0x99dc24,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x584cad(0x188)],'onepagemode':settings[_0x584cad(0x18a)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x584cad(0x294),'marketcapApi':settings[_0x584cad(0x25a)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x135a0d;}function emittedConfiguration(){const _0x3d85ad=_0xd93f1e;let _0x1e17c6;if(config[_0x3d85ad(0x186)]=='')_0x1e17c6={...config,'configstate':_0x3d85ad(0xf6)};else config[_0x3d85ad(0x186)]==_0x3d85ad(0x18d)?_0x1e17c6={...config,'configstate':_0x3d85ad(0x170)}:(_0x1e17c6={...config,'apiKey':'************','apiSecret':_0x3d85ad(0x254)},config[_0x3d85ad(0x192)]&&(_0x1e17c6['apiPassword']=_0x3d85ad(0x254)));return _0x1e17c6;}function getSettings(){const _0x56c6f5=_0xd93f1e;return dbSettings['get'](_0x56c6f5(0x10f))[_0x56c6f5(0x1b6)]();}function getSecure(){const _0x3db2b5=_0xd93f1e;return dbSecure[_0x3db2b5(0x26b)]('secure')[_0x3db2b5(0x1b6)]()||{};}function updateTimeshift(_0x1ba288){const _0x342547=_0xd93f1e;let _0x1beee2=dbConfig[_0x342547(0x26b)](_0x342547(0x229))[_0x342547(0x222)]({'botID':botID})[_0x342547(0x1b6)]();_0x1beee2&&dbConfig[_0x342547(0x26b)](_0x342547(0x229))['find']({'botID':botID})['assign']({'timeshift':_0x1ba288})[_0x342547(0x10c)](),config[_0x342547(0x188)]=_0x1ba288,proxyEmit(_0x342547(0x27a),emittedConfiguration());}function updateOnepagemode(_0x48ac91){const _0x57f3b4=_0xd93f1e;let _0x1b5794=dbConfig[_0x57f3b4(0x26b)](_0x57f3b4(0x229))[_0x57f3b4(0x222)]({'botID':botID})[_0x57f3b4(0x1b6)]();_0x1b5794&&dbConfig[_0x57f3b4(0x26b)](_0x57f3b4(0x229))['find']({'botID':botID})[_0x57f3b4(0x1c4)]({'onepagemode':_0x48ac91})[_0x57f3b4(0x10c)](),config[_0x57f3b4(0x18a)]=_0x48ac91,proxyEmit(_0x57f3b4(0x27a),emittedConfiguration());}function updateMarketcapApi(_0x47c025){const _0x3a535c=_0xd93f1e,_0x4d8912=_0x47c025?!![]:![];let _0xa09123=dbConfig[_0x3a535c(0x26b)]('bot')['find']({'botID':botID})[_0x3a535c(0x1b6)]();_0xa09123&&dbConfig[_0x3a535c(0x26b)](_0x3a535c(0x229))[_0x3a535c(0x222)]({'botID':botID})['assign']({'marketcapApi':_0x4d8912})[_0x3a535c(0x10c)](),config['marketcapApi']=_0x4d8912,getMarketCap(),proxyEmit(_0x3a535c(0x27a),emittedConfiguration());}async function storeConfiguration(_0x31cb28){const _0x35c02e=_0xd93f1e;logger[_0x35c02e(0x1c8)]('Saving\x20configuration');if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x35c02e(0x1c8)]('Transaction\x20detection\x20blocked');let _0x2718e6=![],_0x3415cc=![],_0x391f19=[];_0x31cb28[_0x35c02e(0x231)][_0x35c02e(0x1f2)](_0x648901=>{const _0x40c9b8=_0x35c02e;if(!_0x648901[_0x40c9b8(0x11b)]&&_0x648901[_0x40c9b8(0x16f)]!=_0x31cb28['basecoin'])_0x391f19[_0x40c9b8(0x165)](_0x648901['symbol']);}),_0x391f19[_0x35c02e(0x1f2)](_0x4a7461=>{const _0x1a6eff=_0x35c02e,_0x3befaf=currentCoins['find'](_0x5864bc=>_0x5864bc[_0x1a6eff(0x1a1)]==_0x4a7461);!_0x3befaf&&(_0x2718e6=!![]);}),currentCoins[_0x35c02e(0x1f2)](_0x103ba3=>{const _0x3fba7c=_0x35c02e;if(_0x103ba3['coin']!=config['basecoin']){const _0x13ca43=_0x391f19[_0x3fba7c(0x222)](_0x5ed07f=>_0x5ed07f==_0x103ba3[_0x3fba7c(0x1a1)]);!_0x13ca43&&(_0x2718e6=!![]);}}),_0x31cb28[_0x35c02e(0x231)][_0x35c02e(0x1f2)](_0x1659a5=>{const _0x119443=_0x35c02e,_0x30ca7b=config[_0x119443(0x231)][_0x119443(0x222)](_0x2247f5=>_0x2247f5[_0x119443(0x16f)]==_0x1659a5[_0x119443(0x16f)]);if(_0x30ca7b&&_0x1659a5[_0x119443(0x242)]!=_0x30ca7b['offset'])_0x3415cc=!![];});let _0x5d0e2f=dbConfig[_0x35c02e(0x26b)](_0x35c02e(0x229))[_0x35c02e(0x222)]({'botID':botID})[_0x35c02e(0x1b6)]();_0x31cb28={..._0x31cb28,'apiKey':crypt[_0x35c02e(0xf0)](secure[_0x35c02e(0x143)],_0x31cb28[_0x35c02e(0x186)])['message'],'apiSecret':crypt['decrypt'](secure[_0x35c02e(0x143)],_0x31cb28['apiSecret'])[_0x35c02e(0x275)]};_0x31cb28[_0x35c02e(0x192)]&&(_0x31cb28[_0x35c02e(0x192)]=crypt[_0x35c02e(0xf0)](secure[_0x35c02e(0x143)],_0x31cb28['apiPassword'])['message']);let _0x59b402=![];if(_0x5d0e2f){_0x31cb28['apiKey']==_0x35c02e(0x254)?_0x31cb28[_0x35c02e(0x186)]=config[_0x35c02e(0x186)]:_0x59b402=!![];_0x31cb28[_0x35c02e(0x122)]=='************'?_0x31cb28[_0x35c02e(0x122)]=config[_0x35c02e(0x122)]:_0x59b402=!![];if(_0x31cb28[_0x35c02e(0x192)]==_0x35c02e(0x254))_0x31cb28[_0x35c02e(0x192)]=config[_0x35c02e(0x192)];else{if(_0x31cb28[_0x35c02e(0x192)])_0x59b402=!![];}dbConfig[_0x35c02e(0x26b)]('bot')[_0x35c02e(0x222)]({'botID':botID})['assign'](_0x31cb28)[_0x35c02e(0x10c)]();}else dbConfig[_0x35c02e(0x26b)]('bot')[_0x35c02e(0x165)](_0x31cb28)[_0x35c02e(0x10c)](),_0x59b402=!![],process['send']({'status':_0x35c02e(0x223),'live':'running'},_0x397a7f=>{});process['send']({'botname':_0x31cb28[_0x35c02e(0x22d)]},_0x48b751=>{}),config={..._0x31cb28},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x59b402)await reset(!![]);else _0x2718e6||_0x3415cc?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x35c02e(0x1c8)](_0x35c02e(0x16b));}async function storeHeadless(_0x9857c8){const _0xfc6421=_0xd93f1e,_0x40c50a={...config,'headless':_0x9857c8['headless']};let _0x384f31=dbConfig[_0xfc6421(0x26b)](_0xfc6421(0x229))['find']({'botID':botID})[_0xfc6421(0x1b6)]();_0x384f31&&dbConfig['get'](_0xfc6421(0x229))[_0xfc6421(0x222)]({'botID':botID})['assign'](_0x40c50a)[_0xfc6421(0x10c)](),config={..._0x40c50a},updateBotManager(),proxyEmit(_0xfc6421(0x27a),emittedConfiguration());}async function storeFiat(_0x4b9e6a){const _0x3979ad=_0xd93f1e,_0x448790={...config,'fiat':_0x4b9e6a};let _0x5f9d68=dbConfig[_0x3979ad(0x26b)](_0x3979ad(0x229))[_0x3979ad(0x222)]({'botID':botID})[_0x3979ad(0x1b6)]();_0x5f9d68&&dbConfig['get'](_0x3979ad(0x229))[_0x3979ad(0x222)]({'botID':botID})[_0x3979ad(0x1c4)](_0x448790)[_0x3979ad(0x10c)](),config={..._0x448790},proxyEmit(_0x3979ad(0x27a),emittedConfiguration());}function resetHistory(){const _0x887fb6=_0xd93f1e;logger[_0x887fb6(0x160)](_0x887fb6(0x29b));try{if(fs['existsSync'](path[_0x887fb6(0x17f)](configpath,'bot-'+botID+_0x887fb6(0x1d2))))fs[_0x887fb6(0x17a)](path[_0x887fb6(0x17f)](configpath,_0x887fb6(0x166)+botID+_0x887fb6(0x1d2)));if(fs['existsSync'](path[_0x887fb6(0x17f)](configpath,'bot-'+botID+'-performance.json')))fs[_0x887fb6(0x17a)](path[_0x887fb6(0x17f)](configpath,_0x887fb6(0x166)+botID+_0x887fb6(0x118)));if(fs[_0x887fb6(0x1f4)](path[_0x887fb6(0x17f)](configpath,_0x887fb6(0x166)+botID+_0x887fb6(0x1ce))))fs['unlinkSync'](path[_0x887fb6(0x17f)](configpath,_0x887fb6(0x166)+botID+_0x887fb6(0x1ce)));}catch(_0x48924d){if(_0x48924d)logger[_0x887fb6(0x160)]('Error\x20while\x20deleting\x20files:\x20',_0x48924d);}const _0x504bee=getDate();let _0x426141=[];currentCoins[_0x887fb6(0x1f2)](_0x3685a9=>{const _0x293ef1=_0x887fb6;_0x426141[_0x293ef1(0x165)]({'coin':_0x3685a9[_0x293ef1(0x16f)],'number':_0x3685a9['number'],'price':_0x3685a9[_0x293ef1(0x287)]});});let _0x45d81b=dbConfig['get'](_0x887fb6(0x229))[_0x887fb6(0x222)]({'botID':botID})[_0x887fb6(0x1b6)]();_0x45d81b&&(dbConfig['get'](_0x887fb6(0x229))[_0x887fb6(0x222)]({'botID':botID})['assign']({'liquidity':[{'date':_0x504bee,'changes':_0x426141}]})[_0x887fb6(0x10c)](),config[_0x887fb6(0x260)]=[]),process[_0x887fb6(0x189)]({'stop':'restart'},_0x382cce=>{});}function noslash(_0x297d10){const _0x513955=_0xd93f1e;return _0x297d10[_0x513955(0xed)]('/','');}function updateHighestFee(_0x3d67fc){const _0x454370=_0xd93f1e;if(_0x3d67fc[_0x454370(0x274)]){let _0x5a940f={'filled':_0x3d67fc[_0x454370(0x152)]*_0x3d67fc[_0x454370(0x200)],'amount':_0x3d67fc['filled']*_0x3d67fc[_0x454370(0x200)],'side':_0x3d67fc[_0x454370(0x11d)]=='sell'?_0x454370(0x13f):'sell','price':0x1/_0x3d67fc[_0x454370(0x200)]};_0x3d67fc={..._0x3d67fc,..._0x5a940f};}const _0x31dcff=defaultFee*_0x3d67fc[_0x454370(0x152)]*_0x3d67fc[_0x454370(0x200)];lastFees[_0x454370(0x1b0)]['length']===0x14&&lastFees[_0x454370(0x1b0)][_0x454370(0x15b)](),lastFees[_0x454370(0x1b0)][_0x454370(0x165)](_0x31dcff),lastFees[_0x454370(0x1c6)]=Math['max'](...lastFees[_0x454370(0x1b0)]);}async function updateNumberCoinsCcxt(_0x1c4e51){const _0xc9aeed=_0xd93f1e;logger['debug'](_0xc9aeed(0x155)+_0x1c4e51['symbol']+_0xc9aeed(0x265)+_0x1c4e51['status']+'\x20|\x20'+_0x1c4e51[_0xc9aeed(0x152)]+_0xc9aeed(0x272)+_0x1c4e51[_0xc9aeed(0x1ae)]+_0xc9aeed(0x265)+_0x1c4e51['id']);let _0x1031bf=_0x1c4e51['status'],_0x50bd86=![];currentCoins['forEach'](_0x8dab12=>{const _0x40fdbd=_0xc9aeed;_0x8dab12[_0x40fdbd(0x1a1)]==_0x1c4e51[_0x40fdbd(0x1a1)]&&(_0x50bd86=!![]);});if(!_0x50bd86)return;const _0x2102d7=currentCoins[_0xc9aeed(0x222)](_0x2f251b=>_0x2f251b[_0xc9aeed(0x1a1)]==_0x1c4e51[_0xc9aeed(0x1a1)]),_0x2a137b=_0x330f65=>{const _0xb69746=_0xc9aeed;if(_0x2102d7)_0x2102d7[_0xb69746(0x15e)]=_0x330f65;};if(_0x1031bf=='open')_0x2a137b('open');else{if(_0x1031bf==_0xc9aeed(0x296)){_0x2a137b('canceled');const _0x3f5e74=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3f5e74,await getOpenOrders(),handleOpenOrders();}else{if(_0x1031bf==_0xc9aeed(0x17b)){let _0x1684ee=![];if(lastOrders)for(const _0x31abb5 of lastOrders){const _0x2a3c81=0xc8,_0x32b5e8=0x1388;let _0x17a6e5=0x0;while(!_0x31abb5['orderId']&&_0x17a6e5*_0x2a3c81<_0x32b5e8){_0x17a6e5++,await sleep(_0x2a3c81);}if(_0x17a6e5>0x0)logger['debug'](_0xc9aeed(0x1be)+_0x17a6e5*_0x2a3c81/0x3e8+'\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed');if(_0x31abb5[_0xc9aeed(0x270)]==_0x1c4e51['id']){logger[_0xc9aeed(0x1c8)]('1\x20-\x20FILLED\x20known\x20order:\x20'+_0x1c4e51['id']),_0x1684ee=!![];if(_0x31abb5[_0xc9aeed(0x152)]==0x0){logger[_0xc9aeed(0x1c8)](_0xc9aeed(0x164)+_0x1c4e51['id']);if(_0x1c4e51[_0xc9aeed(0x13a)])_0x31abb5[_0xc9aeed(0x200)]=_0x1c4e51[_0xc9aeed(0x13a)];else{if(_0x1c4e51[_0xc9aeed(0x200)])_0x31abb5[_0xc9aeed(0x200)]=_0x1c4e51['price'];else{}}_0x31abb5['filled']=_0x1c4e51[_0xc9aeed(0x152)],updateHighestFee(_0x31abb5),_0x2a137b(_0xc9aeed(0x152)),await validateOrders();if(lockOrders==ORDERS[_0xc9aeed(0x105)]){const _0x33d64d=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x33d64d;}_0x31abb5[_0xc9aeed(0x148)]={'currency':_0x1c4e51[_0xc9aeed(0x148)]?_0x1c4e51[_0xc9aeed(0x148)][_0xc9aeed(0x20a)]:null,'cost':_0x1c4e51[_0xc9aeed(0x148)]?_0x1c4e51[_0xc9aeed(0x148)]['cost']:0x0},await updateCoinResults(_0x31abb5);}}}if(!_0x1684ee){logger[_0xc9aeed(0x1c8)](_0xc9aeed(0x12e)+_0x1c4e51['id']),_0x2a137b(_0xc9aeed(0x152));const _0x12d99e=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x12d99e,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x1a6e44=JSON['parse'](lastBalances['portfolio']);const _0x322da8=_0x1a6e44[_0xc9aeed(0x222)](_0x134d3c=>_0x134d3c[_0xc9aeed(0x1a1)]==_0x1c4e51[_0xc9aeed(0x1a1)]);if(_0x322da8){if(_0x1031bf==_0xc9aeed(0x2a0))_0x322da8[_0xc9aeed(0x15e)]=_0x322da8['orderstatus']=='filled'?'filled':_0xc9aeed(0x2a0);else{if(_0x1031bf==_0xc9aeed(0x296))_0x322da8['orderstatus']=_0x322da8[_0xc9aeed(0x15e)]==_0xc9aeed(0x152)?_0xc9aeed(0x152):_0xc9aeed(0x296);else _0x1031bf==_0xc9aeed(0x17b)&&(_0x322da8[_0xc9aeed(0x15e)]=_0xc9aeed(0x152));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x1a6e44)},proxyEmit(_0xc9aeed(0x179),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x28ddc7=_0xd93f1e;await getOpenOrders();let _0x395e73=![];currentCoins[_0x28ddc7(0x1f2)](_0x3dce9a=>{const _0x31e973=_0x28ddc7;_0x395e73=allOpenOrders[_0x31e973(0x222)](_0x5d3924=>_0x5d3924[_0x31e973(0x1a1)]==_0x3dce9a[_0x31e973(0x1a1)]),_0x3dce9a[_0x31e973(0x15e)]=_0x395e73?_0x31e973(0x2a0):_0x31e973(0x24b);});}async function getCoins(_0x495a68=0x0,_0x509d21=!![],_0x129a3f=config[_0xd93f1e(0x103)]){const _0x33f359=_0xd93f1e;let _0x1bbef6,_0x169175=[],_0x4017e0=[],_0x3e8f7b=[];if(_0x495a68)await sleep(_0x495a68);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x1bbef6=await exchange['fetchBalance'](),mybalances=_0x1bbef6[_0x33f359(0x216)];for(const [_0x2bd815,_0xe19bae]of Object[_0x33f359(0x214)](mybalances)){_0x3e8f7b[_0x33f359(0x165)](_0x2bd815);}config[_0x33f359(0x231)][_0x33f359(0x1f2)](_0x1857d6=>{const _0x455bff=_0x33f359;!_0x3e8f7b[_0x455bff(0x1c5)](_0x1857d6[_0x455bff(0x16f)])&&(mybalances[_0x1857d6[_0x455bff(0x16f)]]=0x0);});if(_0x129a3f=='')for(const [_0x505cd3,_0x19bd20]of Object[_0x33f359(0x214)](mybalances)){_0x19bd20!=0x0&&_0x169175['push']({'coin':_0x505cd3});}else for(const [_0x45eadc,_0x24ffee]of Object['entries'](mybalances)){const _0x1382af=config['portfolio']['find'](_0x93d05e=>_0x93d05e[_0x33f359(0x16f)]==_0x45eadc),_0x1caae0=_0x45eadc+'/'+_0x129a3f,_0x4e468d=_0x129a3f+'/'+_0x45eadc,_0x1d8c4d=currentCoins[_0x33f359(0x222)](_0x3bcd05=>_0x3bcd05[_0x33f359(0x16f)]==_0x45eadc);if((_0x24ffee!=0x0||_0x1382af)&&(allSymbols[_0x33f359(0x1c5)](_0x1caae0)||_0x45eadc==_0x129a3f))_0x1d8c4d?_0x169175[_0x33f359(0x165)]({..._0x1d8c4d,'number':Math[_0x33f359(0x283)](_0x24ffee+(_0x1382af&&_0x1382af['offset']||0x0),0x0)}):_0x169175['push']({'coin':_0x45eadc,'symbol':_0x1caae0,'reverse':![],'number':Math['max'](_0x24ffee+(_0x1382af&&_0x1382af[_0x33f359(0x242)]||0x0),0x0),'orderstatus':_0x33f359(0x24b)});else{if((_0x24ffee!=0x0||_0x1382af)&&allSymbols[_0x33f359(0x1c5)](_0x4e468d))_0x1d8c4d?_0x169175['push']({..._0x1d8c4d,'number':Math[_0x33f359(0x283)](_0x24ffee+(_0x1382af&&_0x1382af[_0x33f359(0x242)]||0x0),0x0)}):_0x169175[_0x33f359(0x165)]({'coin':_0x45eadc,'symbol':_0x4e468d,'reverse':!![],'number':Math[_0x33f359(0x283)](_0x24ffee+(_0x1382af&&_0x1382af['offset']||0x0),0x0),'orderstatus':_0x33f359(0x24b)});else _0x1382af&&_0x169175[_0x33f359(0x165)]({'coin':_0x1382af['coin'],'symbol':_0x1382af[_0x33f359(0x1a1)],'reverse':_0x1382af[_0x33f359(0x274)],'number':0x0,'orderstatus':_0x33f359(0x24b)});}}}catch(_0x25fd98){if(!_0x509d21)handleErrorNoStop(_0x25fd98,_0x33f359(0x147));else await handleError(_0x25fd98,_0x33f359(0x147));}return _0x169175[_0x33f359(0xf2)]((_0xdfa08b,_0x2d1bb0)=>_0xdfa08b[_0x33f359(0x15c)]<_0x2d1bb0['delta']?0x1:_0x2d1bb0[_0x33f359(0x15c)]<_0xdfa08b[_0x33f359(0x15c)]?-0x1:0x0),_0x4017e0=cloneDeep(_0x169175),_0x169175=_0x169175[_0x33f359(0x107)](_0x4c7d33=>{const _0x583a27=_0x33f359,_0x368bc8=config[_0x583a27(0x231)][_0x583a27(0x222)](_0x20f11a=>_0x20f11a[_0x583a27(0x16f)]==_0x4c7d33[_0x583a27(0x16f)]);return _0x368bc8&&!_0x368bc8[_0x583a27(0x11b)];}),[_0x169175,_0x4017e0];}async function getCoinNumber(_0x26d739){const _0x597ce5=_0xd93f1e;let _0x281ad5;try{const _0x24ab17=await exchange[_0x597ce5(0x13d)]();_0x281ad5=_0x24ab17['total'][_0x26d739];}catch(_0x46d9c5){await handleError(_0x46d9c5,_0x597ce5(0x230));}return _0x281ad5;}async function getOpenOrders(){const _0x2dd098=_0xd93f1e;let _0x3f4e2e;allOpenOrders=[];try{for(const _0x3b21d8 of config[_0x2dd098(0x231)]){!_0x3b21d8['excluded']&&_0x3b21d8[_0x2dd098(0x16f)]!=config['basecoin']&&(_0x3f4e2e=await exchange[_0x2dd098(0x14a)](_0x3b21d8['symbol']),_0x3f4e2e[_0x2dd098(0x12c)]>0x0&&allOpenOrders[_0x2dd098(0x165)](_0x3f4e2e[0x0]));}}catch(_0xefb3ff){await handleError(_0xefb3ff,'getOpenOrders()');}}async function handleOpenOrders(_0x578523=0x0){const _0x28c33e=_0xd93f1e;allOpenOrders[_0x28c33e(0x12c)]==0x0&&lockOrders==ORDERS[_0x28c33e(0x105)]&&allOrdersPlaced&&(_0x578523==0x0?(logger[_0x28c33e(0x1c8)](_0x28c33e(0x111)),_0x578523++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x28c33e(0x1c8)](_0x28c33e(0x126)),validateOrders(_0x28c33e(0x207))));}async function testAPI(_0x42754b){const _0x8e1740=_0xd93f1e,_0x330b17=ccxt[_0x8e1740(0x185)][_0x42754b[_0x8e1740(0x1bd)][_0x8e1740(0x22f)]()],_0x1fc4fe=new _0x330b17({'apiKey':_0x42754b[_0x8e1740(0x186)],'secret':_0x42754b['apiSecret'],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x42754b[_0x8e1740(0x192)])_0x1fc4fe['password']=_0x42754b['apiPassword'];try{await _0x1fc4fe[_0x8e1740(0x21c)]();}catch(_0x19a06f){throw _0x19a06f;}}function cloneDeep(_0x2c8acb){const _0x4655aa=_0xd93f1e;return JSON['parse'](JSON[_0x4655aa(0x27e)](_0x2c8acb));}async function getPortfolio(_0x230e24){const _0x59c0cf=_0xd93f1e;let _0x42170b=[],_0x2ce41d=[],_0x16e608=[],_0x43bfff;if(_0x230e24[_0x59c0cf(0x186)]!==_0x59c0cf(0x254)||_0x230e24['apiSecret']!==_0x59c0cf(0x254)||_0x230e24[_0x59c0cf(0x192)]&&_0x230e24[_0x59c0cf(0x192)]!==_0x59c0cf(0x254)){if(config[_0x59c0cf(0x1bd)]){if(_0x230e24['apiKey']==_0x59c0cf(0x254))_0x230e24[_0x59c0cf(0x186)]=config[_0x59c0cf(0x186)];if(_0x230e24[_0x59c0cf(0x122)]==_0x59c0cf(0x254))_0x230e24[_0x59c0cf(0x122)]=config[_0x59c0cf(0x122)];if(_0x230e24['apiPassword']==_0x59c0cf(0x254))_0x230e24['apiPassword']=config[_0x59c0cf(0x192)];try{await testAPI(_0x230e24);}catch(_0x14f9a4){if(_0x14f9a4['toString']()[_0x59c0cf(0x1c5)](_0x59c0cf(0xf7))){logger[_0x59c0cf(0x1c8)](_0x59c0cf(0x26c)),proxyEmit(_0x59c0cf(0x231),![]);return;}else{handleError(_0x14f9a4,_0x59c0cf(0x119));return;}}}await initExchange(_0x230e24[_0x59c0cf(0x1bd)],_0x230e24['apiKey'],_0x230e24[_0x59c0cf(0x122)],_0x230e24[_0x59c0cf(0x192)]);try{await loadSymbols();}catch(_0xdfa9a){if(_0xdfa9a['toString']()['includes'](_0x59c0cf(0xf7))){proxyEmit(_0x59c0cf(0x231),![]);return;}else{handleError(_0xdfa9a,_0x59c0cf(0x194));return;}}const _0x140c1a=await getCoins(0x0,![],_0x230e24[_0x59c0cf(0x103)]);_0x16e608=cloneDeep(_0x140c1a[0x1]);}else{const _0x49084f=await getCoins();_0x16e608=cloneDeep(_0x49084f[0x1]);}if(_0x230e24[_0x59c0cf(0x103)]=='')proxyEmit('portfolio',_0x16e608);else{_0x16e608[_0x59c0cf(0x1f2)](_0x3eba7f=>{const _0x3e65eb=_0x59c0cf;if(_0x3eba7f[_0x3e65eb(0x16f)]!=_0x230e24[_0x3e65eb(0x103)]&&allSymbols['includes'](_0x3eba7f[_0x3e65eb(0x1a1)]))_0x42170b[_0x3e65eb(0x165)](_0x3eba7f['symbol']);});if(_0x42170b[_0x59c0cf(0x12c)]==0x0)logHistory(_0x59c0cf(0x29a),_0x59c0cf(0x136));else{try{_0x2ce41d=await getTickers(_0x42170b);}catch(_0x2c2d68){if(_0x2c2d68[_0x59c0cf(0x1e4)]()['includes'](_0x59c0cf(0xf7))){proxyEmit('portfolio',![]);return;}else handleError(_0x2c2d68,_0x59c0cf(0x19d));}_0x16e608[_0x59c0cf(0x1f2)](_0x13cc2f=>{const _0x3ca08e=_0x59c0cf;_0x13cc2f[_0x3ca08e(0x16f)]!=_0x230e24['basecoin']?_0x2ce41d[_0x13cc2f['symbol']]?_0x43bfff=_0x13cc2f[_0x3ca08e(0x274)]?0x1/_0x2ce41d[_0x13cc2f['symbol']]['last']:_0x2ce41d[_0x13cc2f[_0x3ca08e(0x1a1)]][_0x3ca08e(0x287)]:_0x43bfff=0x0:_0x43bfff=0x1,_0x13cc2f[_0x3ca08e(0x200)]=formatResult(_0x43bfff,0x8);}),await getMarketCap(_0x16e608),proxyEmit(_0x59c0cf(0x231),_0x16e608);}}}function truncateTradeAmount(_0xcac0e1,_0x35eb48){let _0x11dd77=0x0;try{_0x11dd77=exchange['amountToPrecision'](_0xcac0e1,_0x35eb48);}catch(_0x1f6a1f){}return _0x11dd77;}function checkMinimums(_0x5202b7){const _0x1dc84d=_0xd93f1e;let _0x1ffa64=!![];const _0x3a5777=!_0x5202b7[_0x1dc84d(0x274)]?markets[_0x5202b7[_0x1dc84d(0x1a1)]][_0x1dc84d(0x202)][_0x1dc84d(0x1ae)][_0x1dc84d(0xfb)]:markets[_0x5202b7['symbol']][_0x1dc84d(0x202)][_0x1dc84d(0x14b)][_0x1dc84d(0xfb)],_0x37755a=!_0x5202b7['reverse']?markets[_0x5202b7['symbol']][_0x1dc84d(0x202)]['cost'][_0x1dc84d(0xfb)]:markets[_0x5202b7[_0x1dc84d(0x1a1)]][_0x1dc84d(0x202)][_0x1dc84d(0x1ae)][_0x1dc84d(0xfb)],_0x443586=truncateTradeAmount(_0x5202b7[_0x1dc84d(0x1a1)],_0x5202b7[_0x1dc84d(0x1a3)]);_0x5202b7[_0x1dc84d(0x1a3)]=_0x443586;if(Math[_0x1dc84d(0x1ed)](_0x443586)<_0x3a5777)_0x1ffa64=![];if(Math[_0x1dc84d(0x1ed)](_0x443586)*_0x5202b7[_0x1dc84d(0x287)]<_0x37755a)_0x1ffa64=![];if(_0x5202b7['side']==_0x1dc84d(0x18e)){let _0x288c44=config[_0x1dc84d(0x231)][_0x1dc84d(0x222)](_0x49af62=>_0x49af62[_0x1dc84d(0x16f)]==_0x5202b7[_0x1dc84d(0x16f)]);if(_0x288c44[_0x1dc84d(0x242)]>0x0){if(Math[_0x1dc84d(0x1ed)](_0x443586)>_0x5202b7[_0x1dc84d(0x1d4)]-_0x288c44[_0x1dc84d(0x242)])_0x1ffa64=![];}else{if(Math[_0x1dc84d(0x1ed)](_0x443586)>_0x5202b7[_0x1dc84d(0x1d4)])_0x1ffa64=![];}}if(_0x5202b7[_0x1dc84d(0x11d)]==_0x1dc84d(0x13f)){let _0x475058=config[_0x1dc84d(0x231)][_0x1dc84d(0x222)](_0x32e18f=>_0x32e18f[_0x1dc84d(0x16f)]==config[_0x1dc84d(0x103)]),_0x4a51db=currentCoins[_0x1dc84d(0x222)](_0x589d99=>_0x589d99[_0x1dc84d(0x16f)]==config[_0x1dc84d(0x103)]);if(_0x475058['offset']>0x0){if(Math[_0x1dc84d(0x1ed)](_0x443586)*_0x5202b7[_0x1dc84d(0x287)]>_0x4a51db[_0x1dc84d(0x1d4)]-_0x475058[_0x1dc84d(0x242)])_0x1ffa64=![];}else{if(Math[_0x1dc84d(0x1ed)](_0x443586)*_0x5202b7[_0x1dc84d(0x287)]>_0x4a51db[_0x1dc84d(0x1d4)])_0x1ffa64=![];}}return _0x1ffa64;}async function getBalances(_0x17d7f7=!![]){const _0x198f23=_0xd93f1e;let _0x425b22=0x0,_0x1c7ea3;const _0x33830c=config[_0x198f23(0x1cf)];if(config['headless']&&config['change24h']<0x0)await validate24hChanges();currentCoins['forEach'](_0x3fd312=>{const _0x24648c=_0x198f23;if(_0x3fd312[_0x24648c(0x16f)]!=config[_0x24648c(0x103)]){let _0x64e57e=global[_0x24648c(0x27b)][noslash(_0x3fd312[_0x24648c(0x1a1)])];_0x1c7ea3=_0x3fd312[_0x24648c(0x274)]?0x1/_0x64e57e:_0x64e57e;}else _0x1c7ea3=0x1;let _0x5a5131=_0x3fd312[_0x24648c(0x1d4)]*_0x1c7ea3;_0x425b22+=_0x5a5131,_0x3fd312['last']=formatResult(Number(_0x1c7ea3),0x8),_0x3fd312[_0x24648c(0x1b6)]=_0x5a5131;}),currentCoins['forEach'](_0x480808=>{const _0x2e1830=_0x198f23;let _0x2d3397=config[_0x2e1830(0x231)][_0x2e1830(0x222)](_0x5972d4=>_0x5972d4[_0x2e1830(0x16f)]==_0x480808[_0x2e1830(0x16f)]),_0x5a65a9=Number(_0x2d3397[_0x2e1830(0x184)]),_0x58d3a9=_0x480808['value']/_0x425b22*0x64,_0x344707=_0x5a65a9*_0x425b22/0x64/_0x480808['last']-_0x480808[_0x2e1830(0x1d4)];_0x480808[_0x2e1830(0x184)]=formatResult(_0x58d3a9,0x3),_0x480808[_0x2e1830(0x14f)]=formatResult(_0x5a65a9,0x3),_0x480808[_0x2e1830(0x1a3)]=formatResult(_0x344707,0x8),_0x480808[_0x2e1830(0x11d)]='',_0x480808[_0x2e1830(0x292)]=![];if(_0x480808[_0x2e1830(0x16f)]!=config[_0x2e1830(0x103)]){if(_0x480808[_0x2e1830(0x184)]>_0x5a65a9)_0x480808['side']='sell',_0x480808['valid']=checkMinimums(_0x480808);else _0x480808[_0x2e1830(0x184)]<_0x5a65a9&&(_0x480808[_0x2e1830(0x11d)]=_0x2e1830(0x13f),_0x480808[_0x2e1830(0x292)]=checkMinimums(_0x480808));}_0x480808['delta']=_0x480808['distribution']/_0x480808[_0x2e1830(0x14f)]-0x1;if(_0x480808[_0x2e1830(0x15e)]==_0x2e1830(0x152)||_0x480808['orderstatus']==_0x2e1830(0x296))_0x480808[_0x2e1830(0x15e)]=_0x2e1830(0x24b);}),currentCoins[_0x198f23(0xf2)]((_0x2d998c,_0x3c45c8)=>_0x2d998c[_0x198f23(0x15c)]<_0x3c45c8['delta']?0x1:_0x3c45c8['delta']<_0x2d998c[_0x198f23(0x15c)]?-0x1:0x0);const _0x5e9296=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x5e9296[_0x198f23(0x116)],'usd':_0x5e9296[_0x198f23(0x1e9)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x33830c},proxyEmit(_0x198f23(0x179),{'serverversion':serverversion,'balances':lastBalances});if(_0x17d7f7){if(config[_0x198f23(0x154)])headlessMode({'portfolio':currentCoins,'threshold':_0x33830c});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x33830c});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x173d6e=getNormalizedPerformance();getStartingBalances(_0x173d6e),emitPerformance(_0x173d6e);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x2e8525=getNormalizedPerformance();emitPerformance(_0x2e8525),getStartingBalances(_0x2e8525),logger[_0x198f23(0x1c8)](_0x198f23(0x20c));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x13f71c=_0xd93f1e;if(!lastBalances)return;let _0x3db4e9=[],_0x211910,_0x13d6f4=JSON[_0x13f71c(0x23f)](lastBalances[_0x13f71c(0x231)]);_0x13d6f4['sort']((_0x4e4281,_0x1c96cf)=>_0x4e4281[_0x13f71c(0x16f)]>_0x1c96cf[_0x13f71c(0x16f)]?0x1:_0x1c96cf[_0x13f71c(0x16f)]>_0x4e4281[_0x13f71c(0x16f)]?-0x1:0x0),_0x13d6f4[_0x13f71c(0x1f2)](_0x517e18=>{const _0x20b391=_0x13f71c;let _0x5a3106={'coin':_0x517e18[_0x20b391(0x16f)],'number':_0x517e18[_0x20b391(0x1d4)],'price':_0x517e18[_0x20b391(0x287)]};_0x3db4e9[_0x20b391(0x165)](_0x5a3106);});const _0x108a43=await getFiat();_0x211910={'date':lastBalances[_0x13f71c(0x22a)][_0x13f71c(0xff)]('\x20')[0x0],'eur':_0x108a43[_0x13f71c(0x116)],'usd':_0x108a43[_0x13f71c(0x1e9)],'coins':_0x3db4e9};let _0xf02def=dbPerformance[_0x13f71c(0x26b)]('data')[_0x13f71c(0x222)]({'date':_0x211910[_0x13f71c(0x206)]})[_0x13f71c(0x1b6)]();_0xf02def?_0x211910[_0x13f71c(0x206)]!=config[_0x13f71c(0x20e)]&&dbPerformance[_0x13f71c(0x26b)](_0x13f71c(0x112))[_0x13f71c(0x222)]({'date':_0x211910[_0x13f71c(0x206)]})['assign'](_0x211910)[_0x13f71c(0x10c)]():dbPerformance['get']('data')[_0x13f71c(0x165)](_0x211910)[_0x13f71c(0x10c)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x193905=_0xd93f1e;let _0x283893=[];if(dbPerformance[_0x193905(0xfa)](_0x193905(0x112))[_0x193905(0x1b6)]()){let _0x51a120=dbPerformance[_0x193905(0x26b)](_0x193905(0x112))['cloneDeep']()['filter'](_0x173a5e=>{const _0x3e45e0=_0x193905;if(_0x173a5e[_0x3e45e0(0x11c)][_0x3e45e0(0x12c)]==0x0)return![];else return!![];})[_0x193905(0x219)](_0x193905(0x206))[_0x193905(0x1b6)](),_0xb4c274=[...config[_0x193905(0x260)]];_0xb4c274[_0x193905(0xf2)]((_0x607f1e,_0x4e6554)=>_0x607f1e[_0x193905(0x206)]>_0x4e6554[_0x193905(0x206)]?-0x1:_0x4e6554[_0x193905(0x206)]>_0x607f1e[_0x193905(0x206)]?0x1:0x0);let _0x38a268=0x1,_0xd3cf61=[],_0x2c51ef=0x0;_0x51a120['slice']()[_0x193905(0x274)]()[_0x193905(0x1f2)]((_0x24cadc,_0x3203ce)=>{const _0x39063b=_0x193905;if(_0xb4c274[_0x2c51ef]){if(_0x51a120[_0x51a120[_0x39063b(0x12c)]-_0x3203ce]&&_0xb4c274[_0x2c51ef]['date']==_0x51a120[_0x51a120[_0x39063b(0x12c)]-_0x3203ce][_0x39063b(0x206)]){if(_0x3203ce<_0x51a120['length']){let _0x14633c=0x0,_0x4323b9=0x0;_0x51a120[_0x51a120[_0x39063b(0x12c)]-_0x3203ce]['coins'][_0x39063b(0x1f2)](_0x3dbc53=>{const _0x4059d2=_0x39063b;_0x4323b9+=_0x3dbc53[_0x4059d2(0x1d4)]*_0x3dbc53[_0x4059d2(0x200)];}),_0xb4c274[_0x2c51ef][_0x39063b(0x28c)][_0x39063b(0x1f2)](_0x5135a5=>{const _0x1bcb90=_0x39063b;_0x14633c+=_0x5135a5[_0x1bcb90(0x1d4)]*_0x5135a5[_0x1bcb90(0x200)];}),_0x38a268*=_0x14633c/(_0x4323b9-_0x14633c)+0x1;}_0x2c51ef++;}}let _0x3b1ea9=0x0;_0x24cadc[_0x39063b(0x11c)][_0x39063b(0x1f2)](_0x49bcde=>{const _0x3b183c=_0x39063b;_0x3b1ea9+=_0x49bcde[_0x3b183c(0x1d4)]*_0x49bcde['price'];}),_0xd3cf61[_0x51a120['length']-_0x3203ce-0x1]=_0x3b1ea9*(_0x38a268-0x1);});let _0x591fc=[];_0xb4c274=[...config[_0x193905(0x260)]]||[];let _0x606bc9=0x0;_0x2c51ef=0x0,_0x51a120[_0x193905(0x1f2)]((_0x2c5082,_0x15609d)=>{const _0x471f35=_0x193905;if(_0xb4c274[_0x2c51ef]){const _0x1f8ae6=fns['parse'](_0xb4c274[_0x2c51ef]['date'],_0x471f35(0x21f),new Date()),_0x20ba35=fns['parse'](_0x2c5082[_0x471f35(0x206)],_0x471f35(0x21f),new Date());if(fns[_0x471f35(0x24a)](_0x1f8ae6,_0x20ba35)){let _0x102147=0x0;_0xb4c274[_0x2c51ef]['changes'][_0x471f35(0x1f2)](_0x50fee6=>{const _0x165331=_0x471f35;!_0x591fc[_0x50fee6[_0x165331(0x16f)]]?_0x591fc[_0x50fee6[_0x165331(0x16f)]]=_0x50fee6[_0x165331(0x1d4)]:(_0x102147=_0x591fc[_0x50fee6[_0x165331(0x16f)]],_0x591fc[_0x50fee6[_0x165331(0x16f)]]+=_0x50fee6['number']);const _0x2b6cb6=_0x2c5082['coins'][_0x165331(0x222)](_0x2917d8=>_0x2917d8[_0x165331(0x16f)]==_0x50fee6['coin']);(!_0x2b6cb6||_0x2b6cb6[_0x165331(0x1d4)]==0x0)&&(_0x606bc9+=(-_0x50fee6[_0x165331(0x1d4)]-_0x102147)*_0x50fee6[_0x165331(0x200)]);}),_0x2c51ef++;}}_0x2c5082[_0x471f35(0x11c)][_0x471f35(0x1f2)]((_0x590a84,_0x1adbc7)=>{const _0x16e848=_0x471f35;_0x591fc[_0x590a84[_0x16e848(0x16f)]]&&(_0x590a84[_0x16e848(0xf6)]=_0x591fc[_0x590a84['coin']]);}),_0x283893[_0x471f35(0x165)]({'date':_0x2c5082[_0x471f35(0x206)],'eur':_0x2c5082[_0x471f35(0x116)],'usd':_0x2c5082['usd'],'offset':_0xd3cf61[_0x15609d],'netoffset':_0x606bc9,'coins':_0x2c5082[_0x471f35(0x11c)]});});}return _0x283893;}function emitPerformance(_0x12834d){const _0x4a1b0c=_0xd93f1e;_0x12834d[_0x4a1b0c(0x12c)]!==0x0?(proxyEmit(_0x4a1b0c(0x15d),_0x12834d),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x5c7933,_0xcf2fff){const _0x2ebce8=_0xd93f1e;let _0x4bee3b=0x0,_0x190fae=0x0,_0xaf0a4c=0x0;_0x5c7933['coins']['forEach'](_0xad1302=>{const _0x1e4124=_0x4d51;_0x4bee3b+=_0xad1302['number']*_0xad1302[_0x1e4124(0x200)];});_0xcf2fff&&(_0x4bee3b+=_0x5c7933['offset']);if(config[_0x2ebce8(0x103)]===_0x2ebce8(0xef)||config[_0x2ebce8(0x103)]===_0x2ebce8(0x21d)||config[_0x2ebce8(0x103)]==='PAXG')_0x190fae=_0x4bee3b*_0x5c7933[_0x2ebce8(0x116)],_0xaf0a4c=_0x4bee3b*_0x5c7933[_0x2ebce8(0x1e9)];else{if(usdBasecoins[_0x2ebce8(0x1c5)](config['basecoin']))_0x190fae=_0x4bee3b*_0x5c7933[_0x2ebce8(0x116)]/_0x5c7933[_0x2ebce8(0x1e9)],_0xaf0a4c=_0x4bee3b;else config[_0x2ebce8(0x103)]===_0x2ebce8(0x10e)&&(_0x190fae=_0x4bee3b,_0xaf0a4c=_0x4bee3b*_0x5c7933[_0x2ebce8(0x1e9)]/_0x5c7933[_0x2ebce8(0x116)]);}return[_0x4bee3b,_0x190fae,_0xaf0a4c];}function getKPIs(_0x11b724,_0x72626f=_0xd93f1e(0x10e)){const _0x1d182e=_0xd93f1e,_0x26262d=config[_0x1d182e(0x103)],_0x656361=lastBalances,_0x4ab5b2=currentCoins,_0x4ac1e2=getNormalizedPerformance(),_0x32b7e6=_0x11b724===_0x1d182e(0x103)?_0x26262d:_0x11b724==='fiat'||_0x11b724===_0x1d182e(0x277)?_0x72626f:'Net\x20'+_0x26262d,_0x14b8fb=_0x11b724==='net-basecoin'?_0x1d182e(0x26a):_0x11b724===_0x1d182e(0x277)?_0x1d182e(0x26a):_0x32b7e6+_0x1d182e(0x1ab),_0x2301df=_0x11b724===_0x1d182e(0x20b)||_0x11b724==='net-fiat'?_0x1d182e(0x26a):_0x32b7e6+_0x1d182e(0x268);let _0x3f4e14=0x0;_0x4ab5b2[_0x1d182e(0x1f2)](_0x57a076=>{const _0x3c46be=_0x1d182e;_0x3f4e14+=_0x57a076[_0x3c46be(0x1d4)]*_0x57a076['last'];});if(_0x11b724==='fiat'||_0x11b724===_0x1d182e(0x277)){if(_0x26262d==='BTC'||_0x26262d===_0x1d182e(0x21d)||_0x26262d==='PAXG')_0x3f4e14=_0x3f4e14*(_0x72626f===_0x1d182e(0x10e)?_0x656361['eur']:_0x656361[_0x1d182e(0x1e9)]);else{if(usdBasecoins[_0x1d182e(0x1c5)](_0x26262d))_0x3f4e14=_0x3f4e14*(_0x72626f===_0x1d182e(0x10e)?_0x656361[_0x1d182e(0x116)]/_0x656361[_0x1d182e(0x1e9)]:0x1);else _0x26262d==='EUR'&&(_0x3f4e14=_0x3f4e14*(_0x72626f===_0x1d182e(0x10e)?0x1:_0x656361[_0x1d182e(0x1e9)]/_0x656361[_0x1d182e(0x116)]));}}let _0x29a7a4;if(_0x3f4e14!==0x0){if(_0x11b724===_0x1d182e(0x103))_0x29a7a4=(_0x3f4e14/startingBalances[_0x1d182e(0x103)]-0x1)*0x64;else{if(_0x72626f===_0x1d182e(0x10e))_0x29a7a4=(_0x3f4e14/startingBalances[_0x1d182e(0x116)]-0x1)*0x64;else _0x29a7a4=(_0x3f4e14/startingBalances[_0x1d182e(0x1e9)]-0x1)*0x64;}let _0x4edebc=0x0;if(startingBalances[_0x1d182e(0x11c)])_0x4ab5b2['forEach'](_0xb61bb7=>{const _0x2c6938=_0x1d182e;let _0x3d7346=startingBalances[_0x2c6938(0x11c)][_0x2c6938(0x222)](_0x3a5dd2=>_0x3a5dd2['coin']===_0xb61bb7[_0x2c6938(0x16f)]);if(_0x3d7346&&_0x3d7346[_0x2c6938(0x16f)]&&_0xb61bb7[_0x2c6938(0x1d4)]!==0x0)_0x4edebc+=_0x3d7346[_0x2c6938(0x1d4)]*_0xb61bb7[_0x2c6938(0x287)];});let _0x3bde33=0x0;if(_0x4ac1e2[_0x1d182e(0x12c)]!==0x0){let _0x3080d5=_0x4ac1e2[_0x4ac1e2['length']-0x1];_0x3bde33=_0x3080d5[_0x1d182e(0x1d7)];}_0x4edebc-=_0x3bde33;_0x11b724==='net-basecoin'&&(_0x29a7a4=(_0x3f4e14-_0x4edebc)/startingBalances['basecoin']*0x64,_0x3f4e14=_0x3f4e14-_0x4edebc);if(_0x11b724===_0x1d182e(0x277)){let _0x28857f=_0x72626f===_0x1d182e(0x10e)?startingBalances[_0x1d182e(0x116)]:startingBalances[_0x1d182e(0x1e9)];if(_0x26262d===_0x1d182e(0xef)||_0x26262d===_0x1d182e(0x21d)||_0x26262d===_0x1d182e(0x1fa))_0x4edebc=_0x72626f===_0x1d182e(0x10e)?_0x4edebc*_0x656361[_0x1d182e(0x116)]:_0x4edebc*_0x656361[_0x1d182e(0x1e9)];else{if(usdBasecoins['includes'](_0x26262d))_0x4edebc=_0x72626f===_0x1d182e(0x10e)?_0x4edebc*_0x656361['eur']/_0x656361[_0x1d182e(0x1e9)]:_0x4edebc;else _0x26262d===_0x1d182e(0x10e)&&(_0x4edebc=_0x72626f===_0x1d182e(0x10e)?_0x4edebc:_0x4edebc*_0x656361['usd']/_0x656361['eur']);}_0x29a7a4=(_0x3f4e14-_0x4edebc)/_0x28857f*0x64,_0x3f4e14=_0x3f4e14-_0x4edebc;}if(_0x29a7a4){if(_0x29a7a4<0x64)_0x29a7a4=_0x29a7a4[_0x1d182e(0x1ea)](0x2);else{if(_0x29a7a4<0x3e8)_0x29a7a4=_0x29a7a4[_0x1d182e(0x1ea)](0x1);else _0x29a7a4=_0x29a7a4[_0x1d182e(0x1ea)](0x0);}}else _0x29a7a4=Number('0')[_0x1d182e(0x1ea)](0x2);if(_0x3f4e14){if(Math[_0x1d182e(0x1ed)](_0x3f4e14)<0.000001)_0x3f4e14=_0x3f4e14[_0x1d182e(0x1ea)](0x2);else{if(Math[_0x1d182e(0x1ed)](_0x3f4e14)<0.1)_0x3f4e14=_0x3f4e14[_0x1d182e(0x1ea)](0x6);else{if(Math['abs'](_0x3f4e14)<0x1)_0x3f4e14=_0x3f4e14['toFixed'](0x5);else{if(Math[_0x1d182e(0x1ed)](_0x3f4e14)<0xa)_0x3f4e14=_0x3f4e14[_0x1d182e(0x1ea)](0x4);else{if(Math[_0x1d182e(0x1ed)](_0x3f4e14)<0x64)_0x3f4e14=_0x3f4e14[_0x1d182e(0x1ea)](0x3);else{if(Math[_0x1d182e(0x1ed)](_0x3f4e14)<0x3e8)_0x3f4e14=_0x3f4e14[_0x1d182e(0x1ea)](0x2);else _0x3f4e14=_0x3f4e14['toFixed'](0x2);}}}}}}else _0x3f4e14=Number('0')[_0x1d182e(0x1ea)](0x2);}else _0x29a7a4=Number('0')[_0x1d182e(0x1ea)](0x2);return{'value':_0x3f4e14,'change':_0x29a7a4,'leftTxt':_0x14b8fb,'rightTxt':_0x2301df};}async function getStartingBalances(_0x4fc52f,_0x1fcbdd=!![]){const _0x207694=_0xd93f1e;if(_0x4fc52f[_0x207694(0x12c)]!==0x0){const [_0x22746d,_0x52bea0,_0x3771f9]=getPerf(_0x4fc52f[0x0],!![]);let _0x1b4a54=[];config['portfolio'][_0x207694(0x1f2)](_0x746fb2=>{const _0x40a8ad=_0x207694;let _0x525a11=0x0,_0x5e86cc;config['liquidity'][_0x40a8ad(0x1f2)](_0x8738e=>{const _0xd3470c=_0x40a8ad;let _0x39055b=_0x8738e['changes'][_0xd3470c(0x222)](_0x82d540=>_0x82d540['coin']==_0x746fb2['coin']);if(_0x39055b){_0x525a11+=_0x39055b[_0xd3470c(0x1d4)];if(!_0x5e86cc)_0x5e86cc=_0x39055b[_0xd3470c(0x200)];}}),_0x1b4a54[_0x40a8ad(0x165)]({'coin':_0x746fb2[_0x40a8ad(0x16f)],'number':_0x525a11,'initialprice':_0x5e86cc});});const _0x2fb341={'basecoin':_0x22746d,'eur':_0x52bea0,'usd':_0x3771f9,'coins':_0x1b4a54};if(_0x1fcbdd)proxyEmit(_0x207694(0x1f7),_0x2fb341);startingBalances=_0x2fb341;}}function headlessMode(_0x4a9c1e){const _0x4c3229=_0xd93f1e;let _0x5c2184=_0x4a9c1e[_0x4c3229(0x231)],_0x29524a=_0x4a9c1e[_0x4c3229(0x1cf)],_0x5bf5cc=[];for(let _0x13d6bc of _0x5c2184){if(_0x13d6bc[_0x4c3229(0x16f)]!=config['basecoin']){if(_0x13d6bc[_0x4c3229(0x15c)]>=_0x29524a/0x64){if(_0x13d6bc[_0x4c3229(0x292)])_0x5bf5cc['push'](_0x13d6bc);}else{if(_0x13d6bc[_0x4c3229(0x15c)]<=-_0x29524a/0x64){if(_0x13d6bc[_0x4c3229(0x292)])_0x5bf5cc[_0x4c3229(0x165)](_0x13d6bc);}}}}_0x5bf5cc[_0x4c3229(0x12c)]>0x0&&(lockOrders==ORDERS[_0x4c3229(0x267)]&&!coolingDown&&_0x5bf5cc['forEach'](_0x568f38=>{const _0x1010b0=_0x4c3229;logger[_0x1010b0(0x1c8)](_0x1010b0(0x236)+_0x568f38[_0x1010b0(0x16f)]+'\x20'+_0x568f38[_0x1010b0(0x1d4)]+'\x20'+_0x568f38[_0x1010b0(0x287)]+'\x20'+_0x568f38[_0x1010b0(0x184)]+'%\x20'+_0x568f38[_0x1010b0(0x14f)]+'%\x20'+(0x64*_0x568f38[_0x1010b0(0x15c)])[_0x1010b0(0x1ea)](0x2)+_0x1010b0(0x29e)+_0x29524a[_0x1010b0(0x1ea)](0x2)+'%)');}),placeOrder(_0x5bf5cc));}function notifyBalance(_0x7ffa45){const _0x5331d1=_0xd93f1e;let _0x1c5cf2=_0x7ffa45[_0x5331d1(0x231)],_0x3f6776=_0x7ffa45[_0x5331d1(0x1cf)],_0x2c6e0d=[];for(let _0x167478 of _0x1c5cf2){if(_0x167478[_0x5331d1(0x16f)]!=config[_0x5331d1(0x103)]){if(_0x167478[_0x5331d1(0x15c)]>=_0x3f6776/0x64){if(_0x167478[_0x5331d1(0x292)])_0x2c6e0d['push'](_0x167478);}else{if(_0x167478[_0x5331d1(0x15c)]<=-_0x3f6776/0x64){if(_0x167478[_0x5331d1(0x292)])_0x2c6e0d[_0x5331d1(0x165)](_0x167478);}}}}if(_0x2c6e0d[_0x5331d1(0x12c)]>0x0){let _0x42f17f=_0x2c6e0d['map'](_0x3f0147=>_0x3f0147[_0x5331d1(0x16f)]);_0x42f17f[_0x5331d1(0xf2)]();let _0x315988=_0x42f17f[_0x5331d1(0x17f)](',\x20');if(!lastCoinsToBalance)logHistory(_0x5331d1(0x174),_0x5331d1(0x1ac));lastCoinsToBalance=_0x315988;}}function symbolToCoin(_0x114f34){const _0xa8ee66=_0xd93f1e;let _0x33f3d7;if(_0x114f34[_0xa8ee66(0x1c5)]('/'+config['basecoin']))_0x33f3d7=_0x114f34[_0xa8ee66(0xed)]('/'+config[_0xa8ee66(0x103)],'');if(_0x114f34['includes'](config['basecoin']+'/'))_0x33f3d7=_0x114f34[_0xa8ee66(0xed)](config[_0xa8ee66(0x103)]+'/','');return _0x33f3d7;}async function unlockOrders(){const _0x4b082f=_0xd93f1e;if(allOrdersPlaced&&lockOrders==ORDERS[_0x4b082f(0x105)]){logger[_0x4b082f(0x1c8)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x4b082f(0x28b)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x2e7ef1=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2e7ef1,validateOrdersState=_0x4b082f(0xf6),persistOpenOrders([]),lockOrders=ORDERS[_0x4b082f(0x267)],logger[_0x4b082f(0x1c8)](_0x4b082f(0x198));}}async function validateOrders(_0x1d3ee9){const _0x45c89b=_0xd93f1e;if(_0x1d3ee9)validateOrdersState=_0x1d3ee9;logger[_0x45c89b(0x1c8)](_0x45c89b(0x1ee)+validateOrdersState+_0x45c89b(0x252)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?'ORDERS.UNLOCKING':_0x45c89b(0x266)));let _0x49557f=[],_0x28acd6=config[_0x45c89b(0x144)]==_0x45c89b(0x1b5)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x45c89b(0x105)])return;logger[_0x45c89b(0x1c8)](_0x45c89b(0x1df)+validateOrdersState),lastOrders[_0x45c89b(0x1f2)](_0x39b36a=>{const _0x3f70cc=_0x45c89b;let _0x505ded=![];_0x39b36a[_0x3f70cc(0x152)]>0x0&&(_0x505ded=!![]),_0x49557f[_0x3f70cc(0x165)](_0x505ded),_0x505ded&&config[_0x3f70cc(0x144)]!=_0x3f70cc(0x1b5)&&logHistory('order',_0x3f70cc(0x25f)+_0x39b36a[_0x3f70cc(0x1a1)]+'\x20'+_0x39b36a['side']+'\x20#'+formatResult(_0x39b36a[_0x3f70cc(0x152)],0x8)+'\x20@'+formatResult(_0x39b36a['price'],0x8));}),_0x49557f['forEach']((_0x5e3c8a,_0xb3f97a)=>{const _0x411aba=_0x45c89b;if(_0x5e3c8a)lastOrders[_0x411aba(0x279)](_0xb3f97a,0x1);}),persistOpenOrders(lastOrders);const _0x45f465=coolingDown?_0x45c89b(0x173):'balancing\x20resumed';if(validateOrdersState==_0x45c89b(0xf6)){validateOrdersState=_0x45c89b(0x259);if(_0x49557f[_0x45c89b(0x1c5)](![])){if(config[_0x45c89b(0x144)]==_0x45c89b(0x1b5)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x45c89b(0x259)){if(_0x49557f[_0x45c89b(0x1c5)](![])){}else{if(allOrdersPlaced){if(config[_0x45c89b(0x144)]==_0x45c89b(0x1b5)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x45c89b(0x175))_0x49557f['includes'](![])&&(config[_0x45c89b(0x144)]==_0x45c89b(0x1b5)?logHistory(_0x45c89b(0x108),_0x45c89b(0x203)+Math['round'](_0x28acd6*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x45f465):(await cancelOrders(),logHistory(_0x45c89b(0x108),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x45c89b(0x227)](_0x28acd6*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x45f465))),await unlockOrders();else{if(validateOrdersState==_0x45c89b(0x207)){if(config[_0x45c89b(0x144)]!=_0x45c89b(0x1b5))logHistory(_0x45c89b(0x108),_0x45c89b(0x153)+_0x45f465);await unlockOrders();}}}}}async function cancelOrders(){const _0x497299=_0xd93f1e;lastOrders[_0x497299(0x1f2)](async _0x547cd5=>{const _0x12a79c=_0x497299;try{const _0x18003a=await exchange[_0x12a79c(0x16e)](_0x547cd5[_0x12a79c(0x270)],_0x547cd5[_0x12a79c(0x1a1)]);}catch(_0x3d2eab){if(_0x3d2eab[_0x12a79c(0x1e4)]()[_0x12a79c(0x1c5)](_0x12a79c(0x1ba))){}else await handleError(_0x3d2eab,_0x12a79c(0x1dc));}});}async function initCoinResults(_0x44f2e1){const _0x4f5018=_0xd93f1e;_0x44f2e1?logger['debug'](_0x4f5018(0x1f6)+_0x44f2e1):logger[_0x4f5018(0x1c8)](_0x4f5018(0x130)),config[_0x4f5018(0x231)][_0x4f5018(0x1f2)](_0x390af4=>{const _0x209a2c=_0x4f5018;if(!_0x390af4[_0x209a2c(0x11b)]&&_0x390af4[_0x209a2c(0x16f)]!=config[_0x209a2c(0x103)]){const _0x2bc74d=currentCoins['find'](_0x251aa2=>_0x251aa2[_0x209a2c(0x16f)]==_0x390af4[_0x209a2c(0x16f)]),_0x284564=global['ticker'][noslash(_0x390af4[_0x209a2c(0x1a1)])];let _0xd0e46b=_0x2bc74d?_0x2bc74d['number']:null,_0x40c432=_0x390af4['reverse']?0x1/_0x284564:_0x284564,_0x3027dc;config['liquidity']['forEach'](_0x2ab996=>{const _0x2ff12a=_0x209a2c;!_0x3027dc&&(_0x3027dc=_0x2ab996[_0x2ff12a(0x28c)][_0x2ff12a(0x222)](_0x49602d=>_0x49602d[_0x2ff12a(0x16f)]==_0x390af4[_0x2ff12a(0x16f)]),_0x3027dc&&(_0xd0e46b=_0x3027dc[_0x2ff12a(0x1d4)],_0x40c432=_0x3027dc['price']));});let _0x5b97e=dbCoinResults[_0x209a2c(0x26b)](_0x209a2c(0x11c))[_0x209a2c(0x222)]({'coin':_0x390af4[_0x209a2c(0x16f)]})[_0x209a2c(0x1b6)]();if(!_0x5b97e){const _0x5ec73d={'coin':_0x390af4[_0x209a2c(0x16f)],'number':_0xd0e46b,'breakeven':_0x40c432,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x209a2c(0x11c))[_0x209a2c(0x165)](_0x5ec73d)[_0x209a2c(0x10c)]();}else{if(_0x44f2e1&&_0x390af4[_0x209a2c(0x16f)]==_0x44f2e1){const _0x5f4b86={'coin':_0x390af4[_0x209a2c(0x16f)],'number':_0xd0e46b,'breakeven':_0x40c432,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x209a2c(0x11c))[_0x209a2c(0x222)]({'coin':_0x390af4[_0x209a2c(0x16f)]})[_0x209a2c(0x1c4)](_0x5f4b86)[_0x209a2c(0x10c)]();}}}});}async function updateCoinResults(_0x294b62,_0x9d9480=![]){const _0x2e6757=_0xd93f1e;let _0x15143b,_0x205e0d,_0x26994c,_0x42e602,_0x43fa82,_0x295174,_0x161351=dbCoinResults[_0x2e6757(0x26b)](_0x2e6757(0x11c))[_0x2e6757(0x222)]({'coin':_0x294b62['coin']})[_0x2e6757(0x1b6)](),_0x103cfc=![];_0x161351&&Object[_0x2e6757(0x214)](_0x161351)[_0x2e6757(0x1f2)](([_0xc9a1f0,_0x56e071])=>{if(_0x56e071==null)_0x103cfc=!![];});(!_0x161351||_0x103cfc)&&(await initCoinResults(_0x294b62[_0x2e6757(0x16f)]),_0x161351=dbCoinResults['get'](_0x2e6757(0x11c))[_0x2e6757(0x222)]({'coin':_0x294b62[_0x2e6757(0x16f)]})[_0x2e6757(0x1b6)]());_0x294b62[_0x2e6757(0x274)]&&(_0x295174={'filled':_0x294b62['filled']*_0x294b62['price'],'amount':_0x294b62['filled']*_0x294b62['price'],'side':_0x294b62[_0x2e6757(0x11d)]==_0x2e6757(0x18e)?_0x2e6757(0x13f):_0x2e6757(0x18e),'price':0x1/_0x294b62[_0x2e6757(0x200)]},_0x294b62={..._0x294b62,..._0x295174});_0x9d9480?_0x205e0d=_0x294b62[_0x2e6757(0x11d)]==_0x2e6757(0x13f)?_0x161351[_0x2e6757(0x1d4)]+_0x294b62[_0x2e6757(0x152)]:_0x161351[_0x2e6757(0x1d4)]-_0x294b62[_0x2e6757(0x152)]:_0x205e0d=await getCoinNumber(_0x294b62['coin']);if(_0x294b62['fee']&&_0x294b62[_0x2e6757(0x148)][_0x2e6757(0x20a)]==config[_0x2e6757(0x103)])_0x15143b=Number(_0x294b62[_0x2e6757(0x148)][_0x2e6757(0x14b)]);else{if(_0x294b62['fee']&&_0x294b62['fee']['currency']==_0x2e6757(0x1b8)&&!_0x9d9480&&config[_0x2e6757(0x103)]!=_0x2e6757(0x1fa))_0x15143b=Number(_0x294b62[_0x2e6757(0x148)]['cost'])*global[_0x2e6757(0x27b)][_0x2e6757(0x1b8)+config[_0x2e6757(0x103)]];else _0x15143b=defaultFee*_0x294b62['filled']*_0x294b62[_0x2e6757(0x200)];}_0x294b62[_0x2e6757(0x11d)]==_0x2e6757(0x13f)?(_0x26994c=_0x205e0d!=0x0?(_0x161351['breakeven']*_0x161351['number']+_0x294b62[_0x2e6757(0x200)]*(_0x205e0d-_0x161351['number'])+_0x15143b)/_0x205e0d:0x0,_0x42e602=_0x161351[_0x2e6757(0x208)]):(_0x26994c=_0x205e0d!=0x0?(_0x161351['breakeven']*_0x161351[_0x2e6757(0x1d4)]-_0x294b62[_0x2e6757(0x200)]*(_0x161351['number']-_0x205e0d)+_0x15143b)/_0x205e0d:0x0,_0x42e602=_0x161351[_0x2e6757(0x208)]+(_0x294b62[_0x2e6757(0x200)]-_0x161351[_0x2e6757(0x171)])*_0x294b62[_0x2e6757(0x152)]);_0x43fa82=(_0x294b62[_0x2e6757(0x200)]-_0x26994c-_0x15143b/_0x294b62[_0x2e6757(0x152)])*_0x205e0d;let _0x55aadf={'coin':_0x294b62['coin'],'number':_0x205e0d,'breakeven':formatResult(_0x26994c,0x8),'realized':formatResult(_0x42e602,0x8),'unrealized':formatResult(_0x43fa82,0x8),'fees':formatResult(_0x161351[_0x2e6757(0x238)]+_0x15143b,0x8),'sells':_0x294b62['side']==_0x2e6757(0x18e)?_0x161351[_0x2e6757(0x197)]+0x1:_0x161351[_0x2e6757(0x197)],'buys':_0x294b62[_0x2e6757(0x11d)]==_0x2e6757(0x13f)?_0x161351[_0x2e6757(0x220)]+0x1:_0x161351[_0x2e6757(0x220)]};dbCoinResults[_0x2e6757(0x26b)](_0x2e6757(0x11c))['find']({'coin':_0x294b62[_0x2e6757(0x16f)]})['assign'](_0x55aadf)[_0x2e6757(0x10c)]();if(!_0x9d9480){if(_0x294b62[_0x2e6757(0x148)]&&_0x294b62['fee'][_0x2e6757(0x20a)]==_0x2e6757(0x1b8)){const _0x2fd838=currentCoins[_0x2e6757(0x222)](_0x430ebf=>_0x430ebf['coin']==_0x2e6757(0x1b8));if(_0x2fd838){let _0x1ef6d8=dbCoinResults['get'](_0x2e6757(0x11c))[_0x2e6757(0x222)]({'coin':_0x2e6757(0x1b8)})[_0x2e6757(0x1b6)]();_0x55aadf={..._0x1ef6d8,'number':_0x2fd838[_0x2e6757(0x1d4)]},dbCoinResults[_0x2e6757(0x26b)]('coins')[_0x2e6757(0x222)]({'coin':'BNB'})[_0x2e6757(0x1c4)](_0x55aadf)[_0x2e6757(0x10c)]();}}}}async function placeOrder(_0x202e7d){const _0xb79701=_0xd93f1e,_0x467bdd=config[_0xb79701(0x144)]==_0xb79701(0x1b5)?_0xb79701(0x1b5):_0xb79701(0x176);if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0xb79701(0x105)],allOrdersPlaced=![],validateOrdersState='initial';let _0x4fd5ce=![];lastOrders=[];for(const _0x100ab2 of _0x202e7d){let _0xc4d9a3,_0x494f29,_0x54cf5a,_0x3a0d54,_0x503073,_0x147c87=_0x100ab2[_0xb79701(0x1a1)];try{const _0x191750=await exchange[_0xb79701(0xfd)](_0x147c87);_0xc4d9a3=_0x100ab2[_0xb79701(0x274)]?0x1/_0x100ab2[_0xb79701(0x287)]:_0x100ab2['last'],_0x494f29=_0x191750[_0xb79701(0x17c)],_0x54cf5a=_0x191750[_0xb79701(0x295)];_0x100ab2[_0xb79701(0x274)]?(_0x3a0d54=_0x100ab2['side']==_0xb79701(0x13f)?'sell':'buy',_0x503073=Math['abs'](_0x100ab2[_0xb79701(0x1a3)])/_0xc4d9a3):(_0x3a0d54=_0x100ab2[_0xb79701(0x11d)],_0x503073=Math[_0xb79701(0x1ed)](_0x100ab2[_0xb79701(0x1a3)]));_0x467bdd==_0xb79701(0x176)&&(config[_0xb79701(0x144)]==_0xb79701(0x28d)&&(_0xc4d9a3=_0x3a0d54=='buy'?_0x494f29:_0x54cf5a),config['ordertype']==_0xb79701(0x1db)&&(_0xc4d9a3=_0x3a0d54=='buy'?_0x54cf5a:_0x494f29));_0x503073=formatResult(_0x503073,0x8),_0xc4d9a3=formatResult(_0xc4d9a3,0x8);const _0x5eb72c=_0x3a0d54==_0xb79701(0x18e)?config[_0xb79701(0x135)]?String[_0xb79701(0x28a)]('0x'+config[_0xb79701(0x135)])+'\x20':'':config[_0xb79701(0x25c)]?String[_0xb79701(0x28a)]('0x'+config['emojibuy'])+'\x20':'',_0x7fea59=_0x467bdd==_0xb79701(0x1b5)?_0xb79701(0x21b):config[_0xb79701(0x144)]==_0xb79701(0x28d)?_0xb79701(0x209):_0xb79701(0x19a),_0x4ac811=(Math[_0xb79701(0x1a0)](Math['random']()*0x35a4e900)+0x5f5e100)[_0xb79701(0x1e4)]();lastOrders[_0xb79701(0x165)]({'customId':_0x4ac811,'symbol':_0x147c87,'coin':_0x100ab2[_0xb79701(0x16f)],'amount':_0x503073,'price':_0xc4d9a3,'side':_0x3a0d54,'reverse':_0x100ab2['reverse'],'filled':0x0});if(_0x467bdd==_0xb79701(0x1b5))logHistory('order',''+_0x5eb72c+_0x7fea59+_0xb79701(0x141)+_0x147c87+'\x20'+_0x3a0d54+'\x20#'+formatResult(_0x503073,0x8)+'\x20@'+formatResult(_0xc4d9a3,0x8));else logHistory(_0xb79701(0x133),''+_0x5eb72c+_0x7fea59+_0xb79701(0x141)+_0x147c87+'\x20'+_0x3a0d54+'\x20#'+formatResult(_0x503073,0x8)+'\x20@'+formatResult(_0xc4d9a3,0x8));let _0x539327;_0x467bdd==_0xb79701(0x1b5)?_0x3a0d54==_0xb79701(0x13f)&&[_0xb79701(0x100),_0xb79701(0x1c7),_0xb79701(0x187),_0xb79701(0x1d0),_0xb79701(0x1a4)][_0xb79701(0x1c5)](config[_0xb79701(0x1bd)])?_0x539327=await exchange[_0xb79701(0x232)](_0x147c87,_0x467bdd,_0x3a0d54,_0x503073,_0xc4d9a3):_0x539327=await exchange[_0xb79701(0x232)](_0x147c87,_0x467bdd,_0x3a0d54,_0x503073,undefined):_0x539327=await exchange[_0xb79701(0x232)](_0x147c87,_0x467bdd,_0x3a0d54,_0x503073,_0xc4d9a3);logger[_0xb79701(0x1c8)](_0xb79701(0x1ca)+_0x539327['id']+_0xb79701(0x26d)+_0x4ac811);const _0x2ac33c=lastOrders[_0xb79701(0x12c)]-0x1;if(_0x2ac33c>=0x0&&lastOrders[_0x2ac33c]['customId']==_0x4ac811){lastOrders[_0x2ac33c][_0xb79701(0x270)]=_0x539327['id'];if(_0x539327[_0xb79701(0x1ae)])lastOrders[_0x2ac33c][_0xb79701(0x1ae)]=_0x539327[_0xb79701(0x1ae)];if(_0x539327[_0xb79701(0x200)])lastOrders[_0x2ac33c][_0xb79701(0x200)]=_0x539327[_0xb79701(0x200)];lastOrders[_0x2ac33c][_0xb79701(0x148)]=_0x539327[_0xb79701(0x148)];}if(config[_0xb79701(0x1a6)]!=0x0){let _0x59cf39=null;if(cooldownTracker[_0xb79701(0x12c)]==config[_0xb79701(0x1a6)]-0x1)_0x59cf39=cooldownTracker['shift']();const _0x380d84=getTimeStamp();cooldownTracker[_0xb79701(0x165)](_0x380d84);if(_0x59cf39){const _0x2a5209=fns[_0xb79701(0x213)](new Date(_0x380d84),new Date(_0x59cf39));if(_0x2a5209<cooldownInterval){logHistory(_0xb79701(0x29a),'Executed\x20'+config[_0xb79701(0x1a6)]+_0xb79701(0x285)+cooldownInterval/0x3c+_0xb79701(0x248)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x30bd26){if(_0x30bd26[_0xb79701(0x1e4)]()[_0xb79701(0x1c5)]('MIN_NOTIONAL'))lastOrders=lastOrders['filter'](_0x26ef20=>_0x26ef20[_0xb79701(0x1a1)]!=_0x147c87),logHistory('error',_0xb79701(0x280)+_0x147c87),_0x4fd5ce=!![];else{if(_0x30bd26[_0xb79701(0x1e4)]()[_0xb79701(0x1c5)](_0xb79701(0x1cb)))lastOrders=lastOrders[_0xb79701(0x107)](_0x3ec445=>_0x3ec445['symbol']!=_0x147c87),logHistory('error',_0xb79701(0x1ef)+_0x147c87),_0x4fd5ce=!![];else{if(_0x30bd26['toString']()[_0xb79701(0x1c5)](_0xb79701(0x128)))lastOrders=lastOrders['filter'](_0x3591f8=>_0x3591f8[_0xb79701(0x1a1)]!=_0x147c87),logHistory('error',_0xb79701(0x261)+_0x147c87),logger[_0xb79701(0x1c8)](_0x30bd26),_0x4fd5ce=!![];else _0x30bd26['toString']()[_0xb79701(0x1c5)](_0xb79701(0x228))?(lastOrders=lastOrders[_0xb79701(0x107)](_0xdacc19=>_0xdacc19['symbol']!=_0x147c87),logHistory(_0xb79701(0x29a),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x147c87),_0x4fd5ce=!![]):(lastOrders=lastOrders[_0xb79701(0x107)](_0x50e5ce=>_0x50e5ce[_0xb79701(0x1a1)]!=_0x147c87),await handleError(_0x30bd26,_0xb79701(0x124),_0x147c87));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0xb79701(0x12c)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x3143a8=config[_0xb79701(0x144)]==_0xb79701(0x1b5)?validateOrderTimeout*0x3c*0x3e8:config[_0xb79701(0x234)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x131e5e=_0xb79701;validateOrders(_0x131e5e(0x175));},_0x3143a8);}else unlockOrders();_0x4fd5ce&&config[_0xb79701(0x154)]&&(logHistory('error',_0xb79701(0x115)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0xb79701(0x108),_0xb79701(0x161)));}else{if(coolingDown)!config[_0xb79701(0x154)]&&logHistory('error',_0xb79701(0x291));else lockOrders!=ORDERS[_0xb79701(0x267)]&&(!config['headless']&&(config[_0xb79701(0x144)]==_0xb79701(0x1b5)?logHistory(_0xb79701(0x29a),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0xb79701(0x29a),_0xb79701(0x22b))));}}function persistOpenOrders(_0x4addb5){const _0x15a629=_0xd93f1e,_0x45556f={...config,'openOrders':_0x4addb5};let _0xcf4f55=dbConfig[_0x15a629(0x26b)](_0x15a629(0x229))['find']({'botID':botID})[_0x15a629(0x1b6)]();_0xcf4f55&&dbConfig[_0x15a629(0x26b)]('bot')[_0x15a629(0x222)]({'botID':botID})['assign'](_0x45556f)[_0x15a629(0x10c)]();}function restoreOrders(){const _0x48dac3=_0xd93f1e;let _0xe17849;config[_0x48dac3(0x12b)]&&allOpenOrders['forEach'](_0x4e5158=>{const _0x5cb46c=_0x48dac3,_0x1dcced=config['openOrders'][_0x5cb46c(0x222)](_0xb42d20=>_0xb42d20[_0x5cb46c(0x270)]==_0x4e5158['id']);_0x1dcced&&(lastOrders[_0x5cb46c(0x165)](_0x1dcced),_0xe17849=_0x4e5158[_0x5cb46c(0x247)]);});if(lastOrders[_0x48dac3(0x12c)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState=_0x48dac3(0x259),allOrdersPlaced=!![];const _0x2aef3d=new Date()[_0x48dac3(0x237)](),_0x579264=config['ordertype']==_0x48dac3(0x1b5)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0xe17849+_0x579264>_0x2aef3d){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x3073d1=_0x48dac3;validateOrders(_0x3073d1(0x175));},_0xe17849+_0x579264-_0x2aef3d);}else validateOrders(_0x48dac3(0x175));}}async function sendMetricsTelegram(){const _0x1a8f9a=_0xd93f1e;if(!coinsLoaded){process[_0x1a8f9a(0x189)]({'telegrammsg':_0x1a8f9a(0x183)},_0x17390a=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x39f189='';if(config[_0x1a8f9a(0x11a)])_0x39f189='<b>'+config[_0x1a8f9a(0x22d)]+_0x1a8f9a(0x14e);else _0x39f189=_0x1a8f9a(0x1e0)+botID+_0x1a8f9a(0x14e);const _0x4dbd67=getKPIs('basecoin'),_0x5884f1=getKPIs(_0x1a8f9a(0x250),config[_0x1a8f9a(0x250)]),_0x2d68e5=getKPIs('net-basecoin'),_0x7f588d=getKPIs(_0x1a8f9a(0x277),config[_0x1a8f9a(0x250)]);_0x39f189+=_0x1a8f9a(0x14c),_0x39f189+=_0x4dbd67['leftTxt']+_0x1a8f9a(0x177)+_0x4dbd67[_0x1a8f9a(0x1b6)]+'\x0a',_0x39f189+=_0x4dbd67[_0x1a8f9a(0x290)]+':\x20'+_0x4dbd67[_0x1a8f9a(0x178)]+'%\x0a',_0x39f189+=_0x5884f1['leftTxt']+_0x1a8f9a(0x177)+_0x5884f1[_0x1a8f9a(0x1b6)]+'\x0a',_0x39f189+=_0x5884f1[_0x1a8f9a(0x290)]+':\x20'+_0x5884f1[_0x1a8f9a(0x178)]+'%\x0a',_0x39f189+=_0x2d68e5['leftTxt']+':\x20'+_0x2d68e5[_0x1a8f9a(0x1b6)]+'\x20('+config[_0x1a8f9a(0x103)]+')\x0a',_0x39f189+=_0x2d68e5[_0x1a8f9a(0x290)]+':\x20'+_0x2d68e5[_0x1a8f9a(0x178)]+_0x1a8f9a(0x29e)+config['basecoin']+')\x0a',_0x39f189+=_0x7f588d[_0x1a8f9a(0xf9)]+':\x20'+_0x7f588d[_0x1a8f9a(0x1b6)]+'\x20('+config[_0x1a8f9a(0x250)]+')\x0a',_0x39f189+=_0x7f588d[_0x1a8f9a(0x290)]+':\x20'+_0x7f588d[_0x1a8f9a(0x178)]+'%\x20('+config[_0x1a8f9a(0x250)]+')\x0a',_0x39f189+='</pre>',process[_0x1a8f9a(0x189)]({'telegrammsg':_0x39f189},_0x4b5a2b=>{});}async function sendPortfolioTelegram(){const _0x2cc1a0=_0xd93f1e;if(!coinsLoaded||!currentCoins[0x0]['distribution']){process[_0x2cc1a0(0x189)]({'telegrammsg':_0x2cc1a0(0x183)},_0x4303d7=>{});return;}let _0x4cb626='';if(config[_0x2cc1a0(0x11a)])_0x4cb626='<b>'+config[_0x2cc1a0(0x22d)]+_0x2cc1a0(0x140);else _0x4cb626=_0x2cc1a0(0x1e0)+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x4cb626+='<pre>',_0x4cb626+='-------------------------------\x0a',_0x4cb626+=_0x2cc1a0(0x1eb),_0x4cb626+=_0x2cc1a0(0x159),currentCoins[_0x2cc1a0(0x1f2)](_0x978b0=>{const _0xc04fcd=_0x2cc1a0;_0x4cb626+=_0x978b0[_0xc04fcd(0x16f)]['padEnd'](0x7)+'|\x20'+formatPad(_0x978b0[_0xc04fcd(0x184)],0x2,0x6)+'|\x20'+formatPad(_0x978b0['target'],0x2,0x6)+'|\x20'+formatPad(_0x978b0[_0xc04fcd(0x15c)]*0x64,0x2,0x6)+'\x0a';}),_0x4cb626+='</pre>',process[_0x2cc1a0(0x189)]({'telegrammsg':_0x4cb626},_0x1a8e61=>{});}function formatPad(_0x488ea1,_0x132926,_0x7d9068){const _0x2eb8cf=_0xd93f1e,_0x36d3ac=formatResultString(_0x488ea1,_0x132926);return _0x36d3ac?_0x36d3ac[_0x2eb8cf(0x240)](_0x7d9068):''[_0x2eb8cf(0x240)](_0x7d9068);}function logHistory(_0x146310,_0x4fae1d,_0xf79d06=''){const _0x155ff6=_0xd93f1e;logger[_0x155ff6(0x160)](''+_0x4fae1d);let _0x27ed56={'time':getTimeStamp(),'type':_0x146310,'event':_0x4fae1d};dbLogs[_0x155ff6(0x26b)](_0x155ff6(0x17d))[_0x155ff6(0x165)](_0x27ed56)['write']();if(_0xf79d06=='')_0xf79d06=_0x4fae1d;proxyEmit(_0x155ff6(0x1e3),{'log':_0x27ed56,'summary':_0xf79d06}),process[_0x155ff6(0x189)]({'telegram':{..._0x27ed56,'botname':config[_0x155ff6(0x22d)],'showname':config[_0x155ff6(0x11a)]}},_0x131b3c=>{});}function emitHistory(_0x3d6fd5={}){const _0x4c037a=_0xd93f1e;Object['keys'](_0x3d6fd5)[_0x4c037a(0x12c)]==0x0&&(_0x3d6fd5={'type':['order','event'],'event':'','page':0x1});if(_0x3d6fd5[_0x4c037a(0x1da)][_0x4c037a(0x1c5)]('event'))_0x3d6fd5[_0x4c037a(0x1da)][_0x4c037a(0x279)](_0x3d6fd5[_0x4c037a(0x1da)][_0x4c037a(0x1bc)](_0x4c037a(0x1e3)),0x1,'error','warning',_0x4c037a(0x108));if(dbLogs[_0x4c037a(0xfa)](_0x4c037a(0x17d))[_0x4c037a(0x1b6)]()){let _0xbdeaff=dbLogs[_0x4c037a(0x26b)](_0x4c037a(0x17d))['filter'](_0x2d50bf=>{const _0x46a6d8=_0x4c037a;if(_0x3d6fd5[_0x46a6d8(0x1da)]['length']==0x0)return![];else return _0x3d6fd5['type'][_0x46a6d8(0x1c5)](_0x2d50bf[_0x46a6d8(0x1da)]);})['filter'](_0x2ad425=>{const _0x415136=_0x4c037a;if(_0x3d6fd5[_0x415136(0x1e3)]=='')return!![];else return _0x2ad425[_0x415136(0x1e3)][_0x415136(0x22f)]()[_0x415136(0x1c5)](_0x3d6fd5['event']['toLowerCase']());})['sortBy'](_0x4c037a(0x22a)),_0x4880e0=_0xbdeaff[_0x4c037a(0x1b6)]()[_0x4c037a(0x12c)];_0xbdeaff=_0xbdeaff[_0x4c037a(0x274)]()['slice']((_0x3d6fd5[_0x4c037a(0x249)]-0x1)*logPageSize,_0x3d6fd5['page']*logPageSize-0x1)[_0x4c037a(0x274)]()[_0x4c037a(0x1b6)](),proxyEmit('event-history',{'logs':_0xbdeaff,'total':_0x4880e0});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0xfce5e3){const _0x960611=_0xd93f1e;if(dbLogs[_0x960611(0xfa)]('logs')[_0x960611(0x1b6)]()){const _0x40879e=dbLogs['get'](_0x960611(0x17d))[_0x960611(0x219)](_0x960611(0x22a))[_0x960611(0x107)](_0x211057=>{const _0x3bb352=_0x960611;return _0x211057['type']==_0x3bb352(0x133);})['value']();dbLogs[_0x960611(0x26b)](_0x960611(0x17d))[_0x960611(0x1b1)]()[_0x960611(0x10c)](),dbLogs[_0x960611(0x26b)](_0x960611(0x17d))['assign'](_0x40879e)['write'](),emitHistory(_0xfce5e3);}}async function pauseBot(_0xd40427=pauseBotInterval){const _0x41dcfb=_0xd93f1e,_0x543b72=new Date()[_0x41dcfb(0x237)]();if(!lastErrorShown||_0x543b72-lastErrorShown>=_0xd40427){lastErrorShown=_0x543b72;!lastBotPause?(lastBotPause=_0x543b72,consecutivePauses=0x1):(_0x543b72-lastBotPause-_0xd40427<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x41dcfb(0x189)]({'stop':_0x41dcfb(0x196)},_0x537255=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0xd40427),botPaused=![],reset(!![]);}}}async function killBot(){const _0x7d07e1=_0xd93f1e;botPaused=!![],await sleep(0x3e8),process[_0x7d07e1(0x189)]({'stop':_0x7d07e1(0xf3)},_0x3eb7df=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x6c9cbd,_0x21b110){const _0x7e7c67=_0xd93f1e;if(botPaused)return;const _0x3dd62e=config[_0x7e7c67(0x1bd)]||_0x7e7c67(0x21e);if(_0x21b110)logger[_0x7e7c67(0x1c8)](_0x7e7c67(0x146)+_0x21b110);const _0x28243f=()=>{const _0x326f7a=_0x7e7c67;loading[_0x326f7a(0x29a)]=!![],emitLoadingProgress();};if(_0x6c9cbd[_0x7e7c67(0x1e4)]()[_0x7e7c67(0x1c5)](_0x7e7c67(0x182)))logHistory(_0x7e7c67(0x29a),_0x3dd62e+_0x7e7c67(0x168)),_0x28243f();else{if(_0x6c9cbd['toString']()['includes'](_0x7e7c67(0x218)))logHistory(_0x7e7c67(0x29a),_0x3dd62e+_0x7e7c67(0x1fc)),_0x28243f();else _0x6c9cbd['toString']()['includes'](_0x7e7c67(0xf7))?(logHistory(_0x7e7c67(0x29a),_0x3dd62e+'\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration'),logHistory('error',_0x7e7c67(0x263)),_0x28243f()):await handleError(_0x6c9cbd,null);}}async function handleError(_0x2f6dda,_0x40c38b,_0x3ed82b=''){const _0xba8560=_0xd93f1e;if(botPaused)return;const _0x119e56=config[_0xba8560(0x1bd)]||_0xba8560(0x21e);if(_0x40c38b)logger[_0xba8560(0x1c8)](_0xba8560(0x146)+_0x40c38b);if(_0x2f6dda[_0xba8560(0x1e4)]()[_0xba8560(0x1c5)](_0xba8560(0x1c0)))logHistory('error',_0x119e56+_0xba8560(0x172)+pauseBotMsg),logger[_0xba8560(0x1c8)]('Error\x20details:',_0x2f6dda),await pauseBot();else{if(_0x2f6dda[_0xba8560(0x1e4)]()[_0xba8560(0x1c5)](_0xba8560(0x1a9)))logHistory(_0xba8560(0x29a),_0x119e56+_0xba8560(0x221)+pauseBotMsg),logger[_0xba8560(0x1c8)](_0xba8560(0x1e1),_0x2f6dda),await pauseBot();else{if(_0x2f6dda[_0xba8560(0x1e4)]()[_0xba8560(0x1c5)](_0xba8560(0x19b))||_0x2f6dda[_0xba8560(0x1e4)]()['includes'](_0xba8560(0x109)))logHistory(_0xba8560(0x29a),_0x119e56+'\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)'+pauseBotMsg),await pauseBot();else{if(_0x2f6dda[_0xba8560(0x1e4)]()[_0xba8560(0x1c5)](_0xba8560(0x162)))logHistory(_0xba8560(0x29a),_0x119e56+_0xba8560(0x19f)+pauseBotMsg),logger['debug']('Error\x20details:',_0x2f6dda),await pauseBot();else{if(_0x2f6dda[_0xba8560(0x1e4)]()[_0xba8560(0x1c5)]('NetworkError:\x20connection\x20closed\x20by\x20remote\x20server'))logHistory(_0xba8560(0x29a),_0x119e56+_0xba8560(0x180)+pauseBotMsg),logger[_0xba8560(0x1c8)](_0xba8560(0x1e1),_0x2f6dda),await pauseBot();else{if(_0x2f6dda[_0xba8560(0x1e4)]()['toLowerCase']()[_0xba8560(0x1c5)]('timestamp')||_0x2f6dda[_0xba8560(0x1e4)]()['toLowerCase']()[_0xba8560(0x1c5)](_0xba8560(0x16a)))logHistory(_0xba8560(0x29a),'Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)'+pauseBotMsg),logger[_0xba8560(0x1c8)]('Error\x20details:',_0x2f6dda['toString']()),await pauseBot();else{if(_0x2f6dda['toString']()[_0xba8560(0x1c5)](_0xba8560(0x22c)))logHistory('error',_0x119e56+_0xba8560(0x24f)+pauseBotMsg),logger[_0xba8560(0x1c8)](_0xba8560(0x1e1),_0x2f6dda),await pauseBot();else{if(_0x2f6dda instanceof ccxt[_0xba8560(0x251)])logHistory(_0xba8560(0x29a),_0x119e56+_0xba8560(0x1af)+pauseBotMsg),logger[_0xba8560(0x1c8)](_0xba8560(0x1e1),_0x2f6dda),await pauseBot();else{if(_0x2f6dda[_0xba8560(0x1e4)]()[_0xba8560(0x1c5)](_0xba8560(0x182)))logHistory('error',_0x119e56+_0xba8560(0x246)),logHistory('error',_0xba8560(0x15f)),await killBot();else{if(_0x2f6dda['toString']()[_0xba8560(0x1c5)](_0xba8560(0x218)))logHistory(_0xba8560(0x29a),_0x119e56+_0xba8560(0x28f)),logHistory(_0xba8560(0x29a),_0xba8560(0x15f)),await killBot();else{if(_0x2f6dda['toString']()[_0xba8560(0x1c5)](_0xba8560(0xf7)))logHistory(_0xba8560(0x29a),_0x119e56+_0xba8560(0x1b2)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)'),await killBot();else{if(_0x2f6dda[_0xba8560(0x1e4)]()[_0xba8560(0x1c5)](_0xba8560(0x113)))logHistory(_0xba8560(0x29a),_0x119e56+_0xba8560(0x273)),logHistory('error',_0xba8560(0x15f)),await killBot();else{if(_0x2f6dda['toString']()['includes'](_0xba8560(0x1de)))logHistory(_0xba8560(0x29a),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x3ed82b);else{if(_0x2f6dda instanceof ccxt[_0xba8560(0x201)]){logHistory(_0xba8560(0x29a),_0x119e56+_0xba8560(0x282)),logger['debug']('Error\x20details:',_0x2f6dda);if(_0x3ed82b)logger[_0xba8560(0x1c8)]('Symbol(s):\x20'+_0x3ed82b);}else{logHistory(_0xba8560(0x29a),_0xba8560(0x225)+pauseBotMsg),logger[_0xba8560(0x1c8)](_0xba8560(0x1e1),_0x2f6dda);if(_0x3ed82b)logger[_0xba8560(0x1c8)](_0xba8560(0x132)+_0x3ed82b);await pauseBot();}}}}}}}}}}}}}}}async function withRetry(_0x11b593,_0x12c638){const _0x2f92ef=_0xd93f1e;let _0x24f660=![],_0x37a952=0x0,_0xc2ac66,_0x6bd0e5;while(_0x37a952<maxRetries){try{_0xc2ac66=await _0x12c638();break;}catch(_0x45a412){_0x6bd0e5=_0x45a412,!_0x24f660?(_0x24f660=!![],logger['debug'](_0x2f92ef(0x121)+_0x11b593+':',_0x45a412['toString']())):await sleep(retryInterval);}_0x37a952++;}if(_0x37a952==0x0)return _0xc2ac66;if(_0x37a952>=maxRetries)throw _0x6bd0e5;else return logger[_0x2f92ef(0x1c8)]('RETRY\x20-\x20Problem\x20resolved\x20after\x20'+_0x37a952+'\x20attempts'),_0xc2ac66;}function formatResult(_0x28018b,_0x2c9ecb){return parseFloat(_0x28018b['toFixed'](_0x2c9ecb));}function formatResultTruncate(_0x4ec3c9,_0x1d148f){const _0x53eec3=_0xd93f1e;let _0x13c509=formatResultString(_0x4ec3c9,0xa),_0x3ea3ea=_0x13c509[_0x53eec3(0x1bc)]('.');return _0x3ea3ea!=-0x1&&(_0x13c509=_0x13c509['slice'](0x0,_0x3ea3ea+_0x1d148f+0x1)),Number(_0x13c509);}function formatResultString(_0x371f3f,_0x176f0b){const _0x26d619=_0xd93f1e;let _0x386018;if(!(''+_0x371f3f)[_0x26d619(0x1c5)]('e'))_0x386018=+(Math[_0x26d619(0x227)](_0x371f3f+'e+'+_0x176f0b)+'e-'+_0x176f0b);else{let _0x5e77a1=(''+_0x371f3f)[_0x26d619(0xff)]('e'),_0x24b862='';+_0x5e77a1[0x1]+_0x176f0b>0x0&&(_0x24b862='+'),_0x386018=+(Math[_0x26d619(0x227)](+_0x5e77a1[0x0]+'e'+_0x24b862+(+_0x5e77a1[0x1]+_0x176f0b))+'e-'+_0x176f0b);}return Number(_0x386018)[_0x26d619(0x1ea)](_0x176f0b);}function getServerTime(){const _0x909819=_0xd93f1e,_0xc391bd=new Date();return _0xc391bd['getFullYear']()+'/'+(_0xc391bd[_0x909819(0x12d)]()+0x1)[_0x909819(0x1e4)]()['padStart'](0x2,'0')+'/'+_0xc391bd[_0x909819(0x255)]()[_0x909819(0x1e4)]()[_0x909819(0x240)](0x2,'0')+'\x20'+_0xc391bd[_0x909819(0x199)]()['toString']()[_0x909819(0x240)](0x2,'0')+':'+_0xc391bd[_0x909819(0x149)]()['toString']()['padStart'](0x2,'0')+':'+_0xc391bd[_0x909819(0x10b)]()[_0x909819(0x1e4)]()[_0x909819(0x240)](0x2,'0');}function getTimeStamp(){const _0x379a80=_0xd93f1e,_0x20f8b6=shiftedTime();return _0x20f8b6['getFullYear']()+'/'+(_0x20f8b6[_0x379a80(0x12d)]()+0x1)['toString']()[_0x379a80(0x240)](0x2,'0')+'/'+_0x20f8b6[_0x379a80(0x255)]()[_0x379a80(0x1e4)]()[_0x379a80(0x240)](0x2,'0')+'\x20'+_0x20f8b6['getHours']()['toString']()[_0x379a80(0x240)](0x2,'0')+':'+_0x20f8b6[_0x379a80(0x149)]()['toString']()[_0x379a80(0x240)](0x2,'0')+':'+_0x20f8b6[_0x379a80(0x10b)]()[_0x379a80(0x1e4)]()[_0x379a80(0x240)](0x2,'0');}function getDate(){const _0x87e9e8=_0xd93f1e,_0x11aed1=shiftedTime();return _0x11aed1[_0x87e9e8(0x131)]()+'/'+(_0x11aed1['getMonth']()+0x1)['toString']()[_0x87e9e8(0x240)](0x2,'0')+'/'+_0x11aed1[_0x87e9e8(0x255)]()['toString']()[_0x87e9e8(0x240)](0x2,'0');}function getHour(){const _0xce3614=_0xd93f1e,_0x1d263a=shiftedTime();return _0x1d263a[_0xce3614(0x199)]()['toString']()[_0xce3614(0x240)](0x2,'0');}function sleep(_0x4476b5){return new Promise(_0xb9ff05=>setTimeout(_0xb9ff05,_0x4476b5));}function shiftedTime(){const _0x5e63d8=_0xd93f1e,_0x36ad3b=new Date();let _0x3132e5=_0x36ad3b;if(config&&config['timeshift']!==0x0)_0x3132e5=fns[_0x5e63d8(0x10d)](_0x36ad3b,{'hours':config[_0x5e63d8(0x188)]});return _0x3132e5;}function timer(_0x92c3aa){const _0x38aa1c=_0xd93f1e,_0x2f8953=new Date();!lasttime?console[_0x38aa1c(0x23d)](getTimeStamp()+':\x20timer\x20>',_0x92c3aa,_0x2f8953):console[_0x38aa1c(0x23d)](getTimeStamp()+_0x38aa1c(0x1fe),_0x92c3aa,(_0x2f8953-lasttime)/0x3e8),lasttime=_0x2f8953;}