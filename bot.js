const _0x5d06a0=_0x4032;(function(_0x540c83,_0x464311){const _0x4a7a5c=_0x4032,_0x3fcfc8=_0x540c83();while(!![]){try{const _0x5f35f3=-parseInt(_0x4a7a5c(0x25c))/0x1*(-parseInt(_0x4a7a5c(0x24a))/0x2)+-parseInt(_0x4a7a5c(0x37e))/0x3+parseInt(_0x4a7a5c(0x34c))/0x4*(-parseInt(_0x4a7a5c(0x1fd))/0x5)+parseInt(_0x4a7a5c(0x235))/0x6+parseInt(_0x4a7a5c(0x1f1))/0x7+parseInt(_0x4a7a5c(0x372))/0x8+-parseInt(_0x4a7a5c(0x2d8))/0x9;if(_0x5f35f3===_0x464311)break;else _0x3fcfc8['push'](_0x3fcfc8['shift']());}catch(_0x526ef9){_0x3fcfc8['push'](_0x3fcfc8['shift']());}}}(_0x5006,0x48149));const _0x5958b3=function(){let _0x5e2c47=!![];return function(_0xf11201,_0x45719a){const _0x12215d=_0x5e2c47?function(){const _0x3ed122=_0x4032;if(_0x45719a){const _0x25d4ae=_0x45719a[_0x3ed122(0x22b)](_0xf11201,arguments);return _0x45719a=null,_0x25d4ae;}}:function(){};return _0x5e2c47=![],_0x12215d;};}(),_0xd9cbe9=_0x5958b3(this,function(){const _0x13602e=_0x4032;return _0xd9cbe9[_0x13602e(0x2a5)]()['search'](_0x13602e(0x1e7))[_0x13602e(0x2a5)]()[_0x13602e(0x21e)](_0xd9cbe9)['search'](_0x13602e(0x1e7));});_0xd9cbe9();'use strict';const ccxt=require(_0x5d06a0(0x315)),low=require('lowdb'),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x5d06a0(0x2ff)),forge=require(_0x5d06a0(0x2d7)),util=require(_0x5d06a0(0x342)),argv=require(_0x5d06a0(0x21f))(process[_0x5d06a0(0x32b)][_0x5d06a0(0x2a8)](0x2))[_0x5d06a0(0x32b)],path=require('path'),axios=require('axios');let exchange,gTicker={},gChange={};const usdBasecoins=[_0x5d06a0(0x211),_0x5d06a0(0x237),'TUSD','USDT',_0x5d06a0(0x262),'USDP'],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x5d06a0(0x2e0)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x5d06a0(0x377)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x5d06a0(0x1d6)+pauseBotInterval/0xea60+_0x5d06a0(0x223),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.003;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x7d0;let enableFiatToggle,prevAmountAtOrder={};const serverversion=require(_0x5d06a0(0x23e))[_0x5d06a0(0x1e0)],environment=require(_0x5d06a0(0x23e))[_0x5d06a0(0x351)]||_0x5d06a0(0x274),botID=process[_0x5d06a0(0x32b)][0x2]||'001',pattern=/^[0-9]{3}$/;!pattern[_0x5d06a0(0x1e4)](botID)&&(console['log'](_0x5d06a0(0x21b)+botID+_0x5d06a0(0x339)),killBot());const userID=process[_0x5d06a0(0x32b)][0x3]||'',configpath=userID?_0x5d06a0(0x382)+userID+'/':_0x5d06a0(0x382),logspath=userID?_0x5d06a0(0x23d)+userID+'/':'./logs/',loggerfile=fs['createWriteStream'](logspath+_0x5d06a0(0x2d9),{'flags':'a'});!fs[_0x5d06a0(0x1ce)](configpath)&&fs['mkdirSync'](configpath);!fs[_0x5d06a0(0x1ce)](logspath)&&fs[_0x5d06a0(0x236)](logspath);const configfile=configpath+'bot-'+botID+_0x5d06a0(0x297),logfile=configpath+_0x5d06a0(0x1e9)+botID+_0x5d06a0(0x1f6),performancefile=configpath+'bot-'+botID+_0x5d06a0(0x31e),coinresultsfile=configpath+_0x5d06a0(0x1e9)+botID+_0x5d06a0(0x1d2),settingsfile=configpath+_0x5d06a0(0x27e),securefile=configpath+_0x5d06a0(0x220),configbackuppath=configpath+_0x5d06a0(0x21a),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x5d06a0(0x300)]({'logs':[],'version':serverversion})[_0x5d06a0(0x225)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x5d06a0(0x300)]({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[],'version':serverversion})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x5d06a0(0x300)]({'coins':[],'version':serverversion})[_0x5d06a0(0x225)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0,settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x134263=>{console['log'](_0x134263);},'simple':_0x4c322a=>{const _0x44c59a=_0x5d06a0;console[_0x44c59a(0x24e)](_0x4c322a),loggerfile[_0x44c59a(0x225)](util[_0x44c59a(0x28f)](_0x4c322a)+'\x0a');},'full':async(_0x44720c,_0x52b488='')=>{const _0x594f04=_0x5d06a0;let _0x48b520;if(config[_0x594f04(0x32d)])_0x48b520=getTimeStamp()+':\x20'+config[_0x594f04(0x255)]+_0x594f04(0x27b)+_0x44720c;else _0x48b520=getTimeStamp()+_0x594f04(0x251)+botID+_0x594f04(0x27b)+_0x44720c;console[_0x594f04(0x24e)](_0x48b520),loggerfile[_0x594f04(0x225)](util[_0x594f04(0x28f)](_0x48b520)+'\x0a'),_0x52b488&&(console['log'](_0x52b488),loggerfile[_0x594f04(0x225)](util[_0x594f04(0x28f)](_0x52b488)+'\x0a'));},'debug':async(_0x30341e,_0x57ff6b='')=>{const _0x550c86=_0x5d06a0;let _0x424bd8;if(config[_0x550c86(0x32d)])_0x424bd8=getTimeStamp()+':\x20'+config[_0x550c86(0x255)]+_0x550c86(0x25b)+_0x30341e;else _0x424bd8=getTimeStamp()+_0x550c86(0x251)+botID+_0x550c86(0x25b)+_0x30341e;if(debugging)console[_0x550c86(0x24e)](_0x424bd8);loggerfile['write'](util[_0x550c86(0x28f)](_0x424bd8)+'\x0a');if(_0x57ff6b){if(debugging)console[_0x550c86(0x24e)](_0x57ff6b);loggerfile[_0x550c86(0x225)](util['format'](_0x57ff6b)+'\x0a');}}};process['on'](_0x5d06a0(0x33d),function(_0x64318d){const _0x12daa6=_0x5d06a0;handleError(_0x64318d,_0x12daa6(0x33d));});settings[_0x5d06a0(0x227)]!=config[_0x5d06a0(0x227)]&&updateTimeshift(settings[_0x5d06a0(0x227)]);settings[_0x5d06a0(0x1bd)]!=config[_0x5d06a0(0x1bd)]&&updateOnepagemode(settings[_0x5d06a0(0x1bd)]);(settings[_0x5d06a0(0x36a)]&&!config[_0x5d06a0(0x36a)]||!settings['marketcapApi']&&config[_0x5d06a0(0x36a)])&&updateMarketcapApi(settings['marketcapApi']);process[_0x5d06a0(0x219)]({'started':_0x5d06a0(0x37a)},_0x5c4163=>{}),initializeProcessListeners();function proxyEmit(_0x19914a,_0x48d4f0=null){process['send']({'function':_0x19914a,'args':_0x48d4f0},_0x5d78c0=>{});}function initializeProcessListeners(){process['on']('message',_0x4fce8c=>{const _0x395c98=_0x4032;switch(Object['keys'](_0x4fce8c)[0x0]){case'timeshift':_0x4fce8c[_0x395c98(0x227)]!=undefined&&(settings['timeshift']=_0x4fce8c['timeshift'],updateTimeshift(settings[_0x395c98(0x227)]));break;case _0x395c98(0x1bd):_0x4fce8c['onepagemode']!=undefined&&(settings[_0x395c98(0x1bd)]=_0x4fce8c['onepagemode'],updateOnepagemode(settings[_0x395c98(0x1bd)]));break;case _0x395c98(0x36a):_0x4fce8c[_0x395c98(0x36a)]!=undefined&&(settings[_0x395c98(0x36a)]=_0x4fce8c[_0x395c98(0x36a)],updateMarketcapApi(settings[_0x395c98(0x36a)]));break;case'bots':_0x4fce8c['bots']!=undefined&&(bots=JSON['parse'](_0x4fce8c[_0x395c98(0x358)]),proxyEmit(_0x395c98(0x358),bots));break;case'function':switch(_0x4fce8c[_0x395c98(0x2ab)]){case _0x395c98(0x2ea):initclient();break;case _0x395c98(0x2a0):toggleBotMode();break;case _0x395c98(0x29b):emitHistory(_0x4fce8c[_0x395c98(0x1e5)]);break;case _0x395c98(0x245):deleteHistoryAlerts(_0x4fce8c['args']);break;case'getPortfolio':getPortfolio(_0x4fce8c[_0x395c98(0x1e5)]);break;case _0x395c98(0x208):storeConfiguration(_0x4fce8c[_0x395c98(0x1e5)]);break;case _0x395c98(0x213):storeHeadless(_0x4fce8c[_0x395c98(0x1e5)]);break;case'storeFiat':storeFiat(_0x4fce8c[_0x395c98(0x1e5)]);break;case _0x395c98(0x2db):resetHistory();break;case _0x395c98(0x23b):getStartingBalances(getNormalizedPerformance());break;case _0x395c98(0x1ee):placeOrder(_0x4fce8c[_0x395c98(0x1e5)]);break;case _0x395c98(0x246):cancelLoading();break;case _0x395c98(0x2f6):showConfig();break;case _0x395c98(0x2ed):sendMetricsTelegram();break;case _0x395c98(0x349):sendPortfolioTelegram();break;}}});}reset(!![]);async function reset(_0x3ae970=![]){const _0x120f3c=_0x5d06a0;logger[_0x120f3c(0x337)]('Reset\x20|\x20'+(_0x3ae970?_0x120f3c(0x2a2):_0x120f3c(0x2ae))+'\x20|\x20exchange:\x20'+config[_0x120f3c(0x203)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x3ae970)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x120f3c(0x1ec)]!=''&&config[_0x120f3c(0x1ec)]!=_0x120f3c(0x1e6)){loadingProgress=0x0;_0x3ae970&&(await initExchange(),await loadSymbols(),loadingProgress=0x1,setStableCoins(),proxyEmit(_0x120f3c(0x328),emittedConfiguration()),initialPerformanceStored=![]);const _0x49fd49=await getCoins();[currentCoins,currentCoinsAll]=_0x49fd49,setBlockTransactionDetection(![]),startScheduler(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x120f3c(0x337)](_0x120f3c(0x323)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x120f3c(0x26c)]==0x0&&allOpenOrders[_0x120f3c(0x26c)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function resumeBot(_0x5aff79=![]){const _0x4cfdeb=_0x5d06a0;logger['debug'](_0x4cfdeb(0x1ca)+(_0x5aff79?'quick':_0x4cfdeb(0x36c))+_0x4cfdeb(0x2ec)+config[_0x4cfdeb(0x203)]);if(pidBalances)clearTimeout(pidBalances);if(_0x5aff79){getBalances();return;}coinsLoaded=![];if(config['apiKey']!=''&&config[_0x4cfdeb(0x1ec)]!=_0x4cfdeb(0x1e6)){loadingProgress=0x1;const _0x564bec=await getCoins();[currentCoins,currentCoinsAll]=_0x564bec,setBlockTransactionDetection(![]),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger[_0x4cfdeb(0x337)](_0x4cfdeb(0x323)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x4cfdeb(0x26c)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();}}async function getMarketCap(_0x33efe7){const _0x4de3bb=_0x5d06a0;let _0x4f4450=![];if(_0x33efe7)_0x4f4450=!![];let _0x2968d2;_0x4f4450?_0x2968d2=_0x33efe7[_0x4de3bb(0x269)](_0x4ecc85=>_0x4ecc85[_0x4de3bb(0x2c8)]):_0x2968d2=currentCoinsAll[_0x4de3bb(0x269)](_0x1403c4=>_0x1403c4[_0x4de3bb(0x2c8)]);if(!config['marketcapApi']||!_0x4f4450&&!config[_0x4de3bb(0x2bd)]||_0x2968d2['length']==0x0)return;let _0x21637f=null;try{_0x21637f=await axios[_0x4de3bb(0x25f)](_0x4de3bb(0x370),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x4de3bb(0x36a)]},'params':{'symbol':_0x2968d2[_0x4de3bb(0x2a5)]()}});}catch(_0x147302){_0x21637f=null,_0x147302[_0x4de3bb(0x2a5)]()['includes'](_0x4de3bb(0x1c8))?(config[_0x4de3bb(0x36a)]=![],updateConfig(),proxyEmit(_0x4de3bb(0x328),emittedConfiguration()),logHistory(_0x4de3bb(0x1eb),_0x4de3bb(0x25e))):(logHistory('error',_0x4de3bb(0x249)+schedulerInterval/(0x3c*0x3e8)+_0x4de3bb(0x223)),logger[_0x4de3bb(0x337)](_0x4de3bb(0x34a),_0x147302[_0x4de3bb(0x2a5)]()+_0x4de3bb(0x2b7)+_0x147302[_0x4de3bb(0x29d)]));}if(_0x21637f){let _0x4fc380=0x0;const _0x30185d=_0x21637f['data'];_0x2968d2[_0x4de3bb(0x2da)](_0x55796c=>{const _0x1a1848=_0x4de3bb;if(_0x30185d[_0x1a1848(0x24d)][_0x55796c][0x0])_0x4fc380+=_0x30185d[_0x1a1848(0x24d)][_0x55796c][0x0][_0x1a1848(0x31a)]['USD'][_0x1a1848(0x2dd)];}),_0x2968d2[_0x4de3bb(0x2da)](_0x2d87d5=>{const _0xc3ad36=_0x4de3bb,_0x4e0ade=_0x30185d[_0xc3ad36(0x24d)][_0x2d87d5][0x0]?_0x30185d['data'][_0x2d87d5][0x0][_0xc3ad36(0x31a)]['USD']['market_cap']:0x0;if(_0x4f4450){const _0x263595=_0x33efe7[_0xc3ad36(0x2d0)](_0x3da730=>_0x3da730[_0xc3ad36(0x2c8)]==_0x2d87d5);_0x263595&&(_0x263595[_0xc3ad36(0x348)]=_0x4e0ade);}else{const _0x3d703d=currentCoins[_0xc3ad36(0x2d0)](_0x3eef15=>_0x3eef15[_0xc3ad36(0x2c8)]==_0x2d87d5);_0x3d703d&&(_0x3d703d[_0xc3ad36(0x348)]=_0x4e0ade);const _0x4650c8=currentCoinsAll['find'](_0x58b2a3=>_0x58b2a3['coin']==_0x2d87d5);_0x4650c8&&(_0x4650c8[_0xc3ad36(0x348)]=_0x4e0ade);}}),!_0x4f4450&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x1aff63=_0x5d06a0,_0x4ce309=0x2;let _0xf3bed7=0x0,_0x36722e=0x0,_0x20b2b1=0x0,_0x5009ec=0x0,_0x3def89=0x0;config['portfolio'][_0x1aff63(0x2da)](_0x11d505=>{const _0x184d58=_0x1aff63;if(!_0x11d505[_0x184d58(0x275)]){_0x20b2b1++,_0xf3bed7+=_0x11d505[_0x184d58(0x20d)];if(_0x11d505[_0x184d58(0x20d)]===-0x1){_0xf3bed7++;const _0x203b9c=currentCoinsAll['find'](_0x5e5efb=>_0x5e5efb[_0x184d58(0x2c8)]==_0x11d505[_0x184d58(0x2c8)]);_0x203b9c&&(_0x5009ec+=_0x203b9c[_0x184d58(0x348)],_0x3def89+=Math[_0x184d58(0x288)](_0x203b9c['marketcap']));}if(_0x11d505[_0x184d58(0x20d)]!==-0x1)_0x36722e++;}});let _0x18e1cd;const _0x18d05e=0x64-_0xf3bed7,_0x3c6a6c=_0x20b2b1-_0x36722e;_0x18e1cd=_0x3c6a6c===0x0?_0xf3bed7:Math[_0x1aff63(0x293)](0x64,_0xf3bed7),config[_0x1aff63(0x2b4)][_0x1aff63(0x2da)](_0x4a911e=>{const _0x51bcd9=_0x1aff63,_0x359942=currentCoinsAll[_0x51bcd9(0x2d0)](_0x571d95=>_0x571d95[_0x51bcd9(0x2c8)]==_0x4a911e[_0x51bcd9(0x2c8)]);_0x359942&&(_0x4a911e[_0x51bcd9(0x348)]=_0x359942[_0x51bcd9(0x348)]);if(!_0x4a911e[_0x51bcd9(0x275)]){if(_0x18e1cd<=0x64){if(_0x4a911e[_0x51bcd9(0x20d)]===-0x1){if(_0x5009ec!==0x0&&config[_0x51bcd9(0x2bd)]){if(_0x359942){if(config[_0x51bcd9(0x2bd)]==_0x51bcd9(0x348))_0x4a911e[_0x51bcd9(0x27d)]=(_0x18d05e/(_0x5009ec/_0x359942[_0x51bcd9(0x348)]))[_0x51bcd9(0x1be)](_0x4ce309);else config[_0x51bcd9(0x2bd)]==_0x51bcd9(0x2f3)&&(_0x4a911e[_0x51bcd9(0x27d)]=(_0x18d05e/(_0x3def89/Math[_0x51bcd9(0x288)](_0x359942[_0x51bcd9(0x348)])))[_0x51bcd9(0x1be)](_0x4ce309));}}}}}}),updateConfig();}function updateConfig(){const _0x11455c=_0x5d06a0;let _0x1ed625=dbConfig[_0x11455c(0x25f)](_0x11455c(0x23f))[_0x11455c(0x2d0)]({'botID':botID})[_0x11455c(0x2a9)]();_0x1ed625&&dbConfig[_0x11455c(0x25f)](_0x11455c(0x23f))[_0x11455c(0x2d0)]({'botID':botID})[_0x11455c(0x311)](config)['write']();}function logMemory(){const _0x5ce5d7=_0x5d06a0;if(environment!=_0x5ce5d7(0x299))return;const _0xa74a84=process[_0x5ce5d7(0x305)]()[_0x5ce5d7(0x322)]/0x400/0x400;logger['debug']('process\x20'+process[_0x5ce5d7(0x376)]+_0x5ce5d7(0x2bc)+formatResult(_0xa74a84,0x1)+_0x5ce5d7(0x243));}async function startScheduler(){const _0x4a1a28=_0x5d06a0,_0x49ca04=shiftedTime()[_0x4a1a28(0x1d9)]();getMarketCap(),_0x49ca04==0x1&&logMemory(),(_0x49ca04==0x2||_0x49ca04==0xe)&&loadSymbols(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x34fbce=![]){const _0x298391=_0x5d06a0;logger[_0x298391(0x337)](_0x298391(0x310));if(!_0x34fbce)while(lockOrders!=ORDERS['UNLOCKED']||coolingDown){await sleep(0x3e8);}process[_0x298391(0x219)]({'stop':_0x298391(0x2e4)},_0x9ad3ca=>{});}async function initExchange(_0x9a7420=config[_0x5d06a0(0x203)],_0x2951a6=config[_0x5d06a0(0x1ec)],_0x2acf23=config[_0x5d06a0(0x28e)],_0x32d15f=config['apiPassword']){const _0x3555a8=_0x5d06a0;if(exchange){logger[_0x3555a8(0x337)](_0x3555a8(0x229));return;}logger[_0x3555a8(0x337)](_0x3555a8(0x36e));!supportedExchanges()[_0x3555a8(0x371)](_0x9a7420)&&(logHistory('error',_0x3555a8(0x331)+_0x9a7420+_0x3555a8(0x314)),killBot());const _0x840f9a=ccxt[_0x3555a8(0x33a)][_0x9a7420[_0x3555a8(0x221)]()];exchange=new _0x840f9a({'apiKey':_0x2951a6,'secret':_0x2acf23,'options':{'defaultType':_0x3555a8(0x30d)}});if(_0x32d15f)exchange[_0x3555a8(0x318)]=_0x32d15f;}function updateExchange(_0x18a8c0,_0x438d27,_0x315eab=null){const _0x2c2635=_0x5d06a0;exchange[_0x2c2635(0x1ec)]=_0x18a8c0,exchange['apiSecret']=_0x438d27,exchange[_0x2c2635(0x24f)]=_0x315eab,logger[_0x2c2635(0x337)]('Updating\x20API\x20key\x20(not\x20saved\x20in\x20config\x20file\x20yet)');}function setStableCoins(){const _0x7037db=_0x5d06a0;let _0xd86204=config['basecoin']=='ETH'?_0x7037db(0x359):config[_0x7037db(0x2af)]=='PAXG'?'PAXG':'BTC',_0x4c77cf=allSymbols['includes'](_0xd86204+'/USD')?_0x7037db(0x211):allSymbols[_0x7037db(0x371)](_0xd86204+'/USDT')?'USDT':_0x7037db(0x30f),_0xb68ad8=allSymbols[_0x7037db(0x371)](_0xd86204+_0x7037db(0x210))?_0x7037db(0x30f):_0x4c77cf;enableFiatToggle=!![],_0x4c77cf=='EUR'&&(enableFiatToggle=![],storeFiat(_0x7037db(0x30f))),_0xb68ad8!='EUR'&&(enableFiatToggle=![],storeFiat(_0x7037db(0x211))),stablecoins={'eur':{'coin':''+_0xd86204+_0xb68ad8,'symbol':_0xd86204+'/'+_0xb68ad8},'usd':{'coin':''+_0xd86204+_0x4c77cf,'symbol':_0xd86204+'/'+_0x4c77cf}};}async function initwsCcxt(){const _0x28ed1e=_0x5d06a0;initCycle++;const _0x188989=initCycle;let _0x286707=[];config[_0x28ed1e(0x2b4)][_0x28ed1e(0x2da)](_0x11bee9=>{const _0x5854eb=_0x28ed1e;if(!_0x11bee9[_0x5854eb(0x275)]&&_0x11bee9[_0x5854eb(0x2c8)]!=config[_0x5854eb(0x2af)])_0x286707[_0x5854eb(0x2ca)](_0x11bee9[_0x5854eb(0x1f3)]);});if(!_0x286707['includes'](stablecoins[_0x28ed1e(0x238)][_0x28ed1e(0x1f3)]))_0x286707[_0x28ed1e(0x2ca)](stablecoins[_0x28ed1e(0x238)][_0x28ed1e(0x1f3)]);if(!_0x286707[_0x28ed1e(0x371)](stablecoins['usd']['symbol']))_0x286707[_0x28ed1e(0x2ca)](stablecoins['usd'][_0x28ed1e(0x1f3)]);if(config[_0x28ed1e(0x203)][_0x28ed1e(0x33e)]('Binance')&&config[_0x28ed1e(0x2af)]!=_0x28ed1e(0x369)){if(!_0x286707[_0x28ed1e(0x371)](_0x28ed1e(0x2c0)+config['basecoin']))_0x286707[_0x28ed1e(0x2ca)](_0x28ed1e(0x2c0)+config['basecoin']);}loadCoins(_0x286707),_0x286707=validateSymbols(_0x286707);const _0x56d3a7=async _0x3150ce=>{const _0x19c66c=_0x28ed1e;let _0x824899;try{const _0x3fca75=await getTickers(_0x3150ce);Object[_0x19c66c(0x304)](_0x3fca75)[_0x19c66c(0x2da)](_0xa4d3f6=>{const _0x264188=_0x19c66c;_0x824899=_0xa4d3f6[0x1]['symbol'],gTicker[noslash(_0x824899)]=_0xa4d3f6[0x1]['last'],gChange[_0x824899]=_0xa4d3f6[0x1][_0x264188(0x2e8)];});}catch(_0x419a81){await handleError(_0x419a81,_0x19c66c(0x1d0),_0x824899);}},_0x12a286=async _0x5ee0fe=>{const _0x93030a=_0x28ed1e;while(initCycle==_0x188989){if(!botPaused)try{const _0xcf4734=await exchange['watchTrades'](_0x5ee0fe);gTicker[noslash(_0xcf4734[0x0][_0x93030a(0x1f3)])]=_0xcf4734[0x0][_0x93030a(0x1da)];}catch(_0x30f437){if(!exchangeStopped)await handleError(_0x30f437,_0x93030a(0x1c2),_0x5ee0fe);}else await sleep(0x64);}},_0x531cd3=async _0x41c8dc=>{const _0x1a88d3=_0x28ed1e;while(initCycle==_0x188989){if(!botPaused)try{const _0x5cb0a7=await exchange[_0x1a88d3(0x36f)](_0x41c8dc),_0x19176f=_0x5cb0a7[_0x1a88d3(0x32e)]();gTicker[noslash(_0x19176f[_0x1a88d3(0x1f3)])]=_0x19176f[_0x1a88d3(0x1da)];}catch(_0x81c1d2){if(!exchangeStopped)await handleError(_0x81c1d2,_0x1a88d3(0x2c2),_0x41c8dc[_0x1a88d3(0x2a5)]());}else await sleep(0x64);}},_0x2ca014=async _0x217bc0=>{const _0x21f900=_0x28ed1e;while(initCycle==_0x188989){if(!botPaused){let _0x5de681;try{await sleep(0x3c*0x3e8);const _0x41424e=await getTickers(_0x217bc0);Object[_0x21f900(0x304)](_0x41424e)[_0x21f900(0x2da)](_0x3649f0=>{const _0xb788ed=_0x21f900;_0x5de681=_0x3649f0[0x1]['symbol'],gChange[_0x5de681]=_0x3649f0[0x1][_0xb788ed(0x2e8)];});}catch(_0x47bec4){if(!exchangeStopped)await handleError(_0x47bec4,_0x21f900(0x294),_0x5de681);}}else await sleep(0x64);}},_0x49c7d7=async _0x5c62ce=>{const _0x3f9037=_0x28ed1e;while(initCycle==_0x188989){if(!botPaused)try{const _0x5218fd=await exchange[_0x3f9037(0x1f0)](_0x5c62ce);initCycle==_0x188989&&_0x5218fd[_0x3f9037(0x2da)](_0x4a8a13=>{updateNumberCoinsCcxt(_0x4a8a13);});}catch(_0x2de594){if(!exchangeStopped)await handleError(_0x2de594,'watchOrders()');}else await sleep(0x64);}};_0x56d3a7(_0x286707),_0x2ca014(_0x286707),exchange['has']['watchTradesForSymbols']&&!(config['exchange']==_0x28ed1e(0x37f)&&_0x286707[_0x28ed1e(0x26c)]>0xa)?_0x531cd3(_0x286707):_0x286707[_0x28ed1e(0x2da)](_0x436052=>{_0x12a286(_0x436052);}),_0x286707['forEach'](_0x1212f6=>{_0x49c7d7(_0x1212f6);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x4e22c2){const _0x1e2072=_0x5d06a0;let _0x227775={};try{if(config['exchange']!=_0x1e2072(0x23c))_0x227775=await exchange[_0x1e2072(0x21c)](_0x4e22c2);else for(const _0x31beb9 of _0x4e22c2){const _0xc30dbb=await exchange[_0x1e2072(0x2bf)](_0x31beb9);_0x227775[_0x31beb9]=_0xc30dbb;}return _0x227775;}catch(_0x4ae57a){throw _0x4ae57a;}}function setBlockTransactionDetection(_0x2381d6){const _0x9bed34=_0x5d06a0;blockTransactionDetection=_0x2381d6,logger[_0x9bed34(0x337)](_0x9bed34(0x239)+blockTransactionDetection);}async function detectLiquidityChange(_0x3ff434=0x0){const _0x26bec7=_0x5d06a0;transactionDetectionOngoing=!![];try{const _0x4cbfdc=await getCoins(_0x3ff434),[_0x29378c,_0x273b53]=_0x4cbfdc;let _0x175855=[];currentCoins[_0x26bec7(0x2da)](_0x373995=>{const _0x50855c=_0x26bec7,_0x488529=_0x29378c[_0x50855c(0x2d0)](_0x37be6c=>_0x37be6c[_0x50855c(0x2c8)]==_0x373995[_0x50855c(0x2c8)]);if(_0x488529){if(_0x373995['number']!=_0x488529[_0x50855c(0x1c1)]){let _0x1a0229;if(_0x373995['coin']!=config[_0x50855c(0x2af)]){const _0x9d1cc5=gTicker[noslash(_0x373995['symbol'])];_0x1a0229=_0x373995[_0x50855c(0x35b)]?0x1/_0x9d1cc5:_0x9d1cc5;}else _0x1a0229=0x1;_0x175855[_0x50855c(0x2ca)]({'coin':_0x373995[_0x50855c(0x2c8)],'symbol':_0x373995['symbol'],'price':_0x1a0229,'number':Number(formatResult(_0x488529[_0x50855c(0x1c1)]-_0x373995[_0x50855c(0x1c1)],0x8)),'basecoinvalue':_0x1a0229*(_0x488529[_0x50855c(0x1c1)]-_0x373995[_0x50855c(0x1c1)])});}}});if(_0x175855[_0x26bec7(0x26c)]>0x0&&!blockTransactionDetection)for(const _0x1a063b of _0x175855){if(config[_0x26bec7(0x268)]){logger[_0x26bec7(0x337)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x1a063b[_0x26bec7(0x2e6)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x26bec7(0x302)]);if(lastFees[_0x26bec7(0x302)]==0x0||Math[_0x26bec7(0x34d)](_0x1a063b[_0x26bec7(0x2e6)])>lastFees[_0x26bec7(0x302)]*0x3){if(config[_0x26bec7(0x268)]==_0x26bec7(0x353)){delete _0x1a063b[_0x26bec7(0x1f3)],delete _0x1a063b[_0x26bec7(0x2e6)];let _0x156d3d=[],_0x16e548=[...config[_0x26bec7(0x2a1)]]||[],_0x1b5337=config[_0x26bec7(0x2a1)];_0x16e548['sort']((_0x5f30f7,_0x1f8504)=>_0x5f30f7[_0x26bec7(0x25d)]>_0x1f8504[_0x26bec7(0x25d)]?-0x1:_0x1f8504[_0x26bec7(0x25d)]>_0x5f30f7[_0x26bec7(0x25d)]?0x1:0x0);const _0x28bab4=getDate();if(_0x16e548[0x0]){const _0x3427f2=fns[_0x26bec7(0x233)](_0x16e548[0x0][_0x26bec7(0x25d)],_0x26bec7(0x343),new Date()),_0x141956=fns['parse'](_0x28bab4,'yyyy/MM/dd',new Date());if(fns[_0x26bec7(0x356)](_0x3427f2,_0x141956)){_0x156d3d=_0x16e548[0x0]['changes'];const _0x4d6570=_0x156d3d['find'](_0x16c648=>_0x16c648[_0x26bec7(0x2c8)]==_0x1a063b[_0x26bec7(0x2c8)]);_0x4d6570?(_0x4d6570[_0x26bec7(0x1c1)]+=_0x1a063b['number'],_0x4d6570[_0x26bec7(0x1c1)]==0x0&&(_0x156d3d=_0x156d3d['filter'](_0x2bec6d=>{const _0x237ca1=_0x26bec7;return _0x2bec6d[_0x237ca1(0x2c8)]!=_0x1a063b[_0x237ca1(0x2c8)];}))):_0x156d3d['push'](_0x1a063b);const _0xcc4bf2=_0x1b5337[_0x26bec7(0x2d0)](_0xcd143d=>_0xcd143d[_0x26bec7(0x25d)]==_0x28bab4);_0xcc4bf2['changes']=_0x156d3d;}else _0x1b5337[_0x26bec7(0x2ca)]({'date':_0x28bab4,'changes':[_0x1a063b]});}const _0x296dd8=_0x1b5337[_0x26bec7(0x2d0)](_0x527ff8=>_0x527ff8[_0x26bec7(0x25d)]==_0x28bab4);if(_0x296dd8){let _0x469794=!![];_0x296dd8[_0x26bec7(0x1f4)][_0x26bec7(0x2da)](_0x1726db=>{const _0x3bca34=_0x26bec7;if(_0x1726db[_0x3bca34(0x1c1)]!=0x0)_0x469794=![];}),_0x469794&&(_0x1b5337=_0x1b5337['filter'](_0x3c9efa=>{const _0x5799a4=_0x26bec7;return _0x3c9efa[_0x5799a4(0x25d)]!=_0x28bab4;}));}let _0x5d7c9c=dbConfig[_0x26bec7(0x25f)](_0x26bec7(0x23f))[_0x26bec7(0x2d0)]({'botID':botID})['value']();_0x5d7c9c&&(dbConfig[_0x26bec7(0x25f)](_0x26bec7(0x23f))['find']({'botID':botID})[_0x26bec7(0x311)]({'liquidity':_0x1b5337})[_0x26bec7(0x225)](),config[_0x26bec7(0x2a1)]=_0x1b5337);logHistory(_0x26bec7(0x1fe),_0x26bec7(0x35e)+Math[_0x26bec7(0x34d)](_0x1a063b['number'])+'\x20'+_0x1a063b[_0x26bec7(0x2c8)]+'\x20'+(_0x1a063b['number']>0x0?_0x26bec7(0x29a):'removed')+_0x26bec7(0x224)),proxyEmit(_0x26bec7(0x328),emittedConfiguration());const _0xcbc7fd=getNormalizedPerformance();emitPerformance(_0xcbc7fd),getStartingBalances(_0xcbc7fd),logger['debug']('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x26bec7(0x268)]==_0x26bec7(0x26f)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory(_0x26bec7(0x1fe),_0x26bec7(0x35e)+Math[_0x26bec7(0x34d)](_0x1a063b['number'])+'\x20'+_0x1a063b[_0x26bec7(0x2c8)]+'\x20'+(_0x1a063b['number']>0x0?_0x26bec7(0x29a):_0x26bec7(0x2f1))+_0x26bec7(0x265))):logger[_0x26bec7(0x337)](_0x26bec7(0x35e)+Math[_0x26bec7(0x34d)](_0x1a063b[_0x26bec7(0x1c1)])+'\x20'+_0x1a063b[_0x26bec7(0x2c8)]+'\x20'+(_0x1a063b[_0x26bec7(0x1c1)]>0x0?_0x26bec7(0x29a):_0x26bec7(0x2f1))+'\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode'));}else logger[_0x26bec7(0x337)](_0x26bec7(0x2fe)+Math[_0x26bec7(0x34d)](_0x1a063b[_0x26bec7(0x1c1)])+'\x20'+_0x1a063b['coin']+'\x20'+(_0x1a063b[_0x26bec7(0x1c1)]>0x0?_0x26bec7(0x29a):_0x26bec7(0x2f1)));}else logger[_0x26bec7(0x337)]('Portfolio\x20change\x20detected:\x20'+Math[_0x26bec7(0x34d)](_0x1a063b[_0x26bec7(0x1c1)])+'\x20'+_0x1a063b[_0x26bec7(0x2c8)]+'\x20'+(_0x1a063b['number']>0x0?'added':_0x26bec7(0x2f1))+_0x26bec7(0x35f));}currentCoins=_0x29378c,currentCoinsAll=_0x273b53;}catch(_0x2c114c){if(!exchangeStopped)await handleError(_0x2c114c,_0x26bec7(0x35c));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x313567=_0x5d06a0;logger[_0x313567(0x337)](_0x313567(0x327));try{markets=await exchange['loadMarkets']();}catch(_0x235a09){logger[_0x313567(0x337)](_0x313567(0x2f2)+_0x235a09[_0x313567(0x2a5)]());if(markets){}else(_0x235a09[_0x313567(0x2a5)]()[_0x313567(0x221)]()[_0x313567(0x371)]('timestamp')||_0x235a09['toString']()[_0x313567(0x221)]()[_0x313567(0x371)](_0x313567(0x375)))&&logHistory(_0x313567(0x1eb),_0x313567(0x209)),logHistory(_0x313567(0x1eb),_0x313567(0x301)),logHistory('error',_0x313567(0x350)+loadCoinsRetryInterval/0xea60+_0x313567(0x258)),logger[_0x313567(0x337)](_0x313567(0x34a),_0x235a09),loading[_0x313567(0x2f9)]=!![],emitLoadingProgress(),await sleep(loadCoinsRetryInterval),restartBot();}allSymbols=[],Object[_0x313567(0x304)](markets)['forEach'](_0xbb4ea1=>{const _0x28f0a2=_0x313567;_0xbb4ea1[0x1]['active']&&_0xbb4ea1[0x1][_0x28f0a2(0x30d)]&&allSymbols[_0x28f0a2(0x2ca)](_0xbb4ea1[0x0]);});}function validateSymbols(_0x59e764){const _0x1576b8=_0x5d06a0;let _0x37246d=[];return _0x59e764[_0x1576b8(0x2da)](_0x218ba6=>{const _0x39d9c0=_0x1576b8;!allSymbols['includes'](_0x218ba6)?logHistory(_0x39d9c0(0x1eb),'Invalid\x20symbol:\x20'+_0x218ba6+_0x39d9c0(0x2c4)):_0x37246d['push'](_0x218ba6);}),_0x37246d;}function _0x4032(_0x14e772,_0x12ebb9){const _0x1f4699=_0x5006();return _0x4032=function(_0xd9cbe9,_0x5958b3){_0xd9cbe9=_0xd9cbe9-0x1bd;let _0x50062f=_0x1f4699[_0xd9cbe9];return _0x50062f;},_0x4032(_0x14e772,_0x12ebb9);}async function initclient(){const _0x16f40f=_0x5d06a0;proxyEmit(_0x16f40f(0x328),emittedConfiguration()),proxyEmit(_0x16f40f(0x205),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x16f40f(0x2f8),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x11762e=getNormalizedPerformance();emitPerformance(_0x11762e),getStartingBalances(_0x11762e);}async function toggleBotMode(){const _0x1a4ac1=_0x5d06a0;let _0x58d1b4=dbConfig[_0x1a4ac1(0x25f)]('bot')[_0x1a4ac1(0x2d0)]({'botID':botID})[_0x1a4ac1(0x2a9)]();if(_0x58d1b4){const _0x19c2b2=!_0x58d1b4['headless'];dbConfig[_0x1a4ac1(0x25f)](_0x1a4ac1(0x23f))[_0x1a4ac1(0x2d0)]({'botID':botID})['assign']({'headless':_0x19c2b2})[_0x1a4ac1(0x225)](),config[_0x1a4ac1(0x1cc)]=_0x19c2b2,proxyEmit(_0x1a4ac1(0x328),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x39594e=_0x5d06a0;process['send']({'updatebotmanager':!![]},_0x1bc956=>{}),logger[_0x39594e(0x337)]('Headless:\x20'+config[_0x39594e(0x1cc)]);}async function loadCoins(_0xc52200){const _0x43a4d1=_0x5d06a0;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x390704,_0x5325bd=0x0,_0xba14da=0x0;_0xc52200['forEach'](_0x91e75f=>{const _0x32c873=_0x4032;loading[_0x32c873(0x2cf)][_0x32c873(0x2ca)](_0x91e75f);}),loadingCanceled=![];let _0x4dcedd=![];while(_0x390704!=_0xc52200[_0x43a4d1(0x26c)]+maxLoadingProgress){_0x390704=loadingProgress,_0xc52200[_0x43a4d1(0x2da)](_0x20366b=>{const _0x5a1d00=_0x43a4d1;if(gTicker[noslash(_0x20366b)]){loading[_0x5a1d00(0x2cf)]=loading[_0x5a1d00(0x2cf)]['filter'](_0xa9a30=>_0xa9a30!=_0x20366b);if(!watchedSymbols['includes'](_0x20366b))watchedSymbols['push'](_0x20366b);_0x390704++;}}),loading['progress']=Math['round'](_0x390704/(_0xc52200[_0x43a4d1(0x26c)]+maxLoadingProgress)*0x64);loading[_0x43a4d1(0x1d3)]!=0x64&&(_0xba14da>0x1e*0x5&&(loading[_0x43a4d1(0x34b)]=!![],emitLoadingProgress()),_0xba14da>0x78*0x5&&!_0x4dcedd&&(_0x4dcedd=!![],logHistory(_0x43a4d1(0x1eb),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x43a4d1(0x2cf)][_0x43a4d1(0x231)](',\x20')+_0x43a4d1(0x32f)),logHistory(_0x43a4d1(0x1eb),_0x43a4d1(0x350)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],await sleep(loadCoinsRetryInterval),restartBot()));if(loadingCanceled){loading[_0x43a4d1(0x2f9)]=!![],emitLoadingProgress();break;}else _0x5325bd!=loading[_0x43a4d1(0x1d3)]&&(_0x5325bd=loading[_0x43a4d1(0x1d3)],emitLoadingProgress()),_0xba14da++,await sleep(0xc8);}_0x390704==_0xc52200['length']+maxLoadingProgress&&(coinsLoaded=!![],process[_0x43a4d1(0x219)]({'status':_0x43a4d1(0x1c0),'live':_0x43a4d1(0x37a)},_0x4b27ba=>{}),_0x4dcedd&&logHistory('success',_0x43a4d1(0x312)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x26dcc4=_0x5d06a0;proxyEmit(_0x26dcc4(0x328),{...emittedConfiguration(),'configstate':_0x26dcc4(0x264)});}function emitLoadingProgress(){const _0x5451e0=_0x5d06a0;proxyEmit(_0x5451e0(0x1f8),loading);}async function getFiat(){const _0x666553=_0x5d06a0;let _0x1de881=gTicker[stablecoins[_0x666553(0x238)][_0x666553(0x2c8)]],_0x50937e=gTicker[stablecoins[_0x666553(0x2dc)][_0x666553(0x2c8)]];return{'eur':Number(_0x1de881),'usd':Number(_0x50937e)};}function capitalize(_0x844a13){const _0x382526=_0x5d06a0;return _0x844a13[_0x382526(0x2c9)](0x0,0x1)[_0x382526(0x329)]()+_0x844a13[_0x382526(0x2c9)](0x1);}function supportedExchanges(){const _0xc81fef=_0x5d06a0,_0xf49513=['ws',_0xc81fef(0x21c),_0xc81fef(0x2bf),_0xc81fef(0x277),_0xc81fef(0x1f0),_0xc81fef(0x2b9),_0xc81fef(0x2de),_0xc81fef(0x20c),_0xc81fef(0x26b)];let _0x56452d=[],_0x56051c=[],_0x134264=ccxt['pro'][_0xc81fef(0x205)];_0x134264[_0xc81fef(0x2da)](_0x985564=>{const _0x326fc8=_0xc81fef;try{const _0x2f84f4=new ccxt[(_0x326fc8(0x33a))][_0x985564]();_0x56051c[_0x326fc8(0x2ca)](_0x2f84f4);}catch(_0x4fbc8c){}}),_0x56051c[_0xc81fef(0x2da)](_0x5490fc=>{const _0x315d01=_0xc81fef;let _0x324088=0x0;_0xf49513[_0x315d01(0x2da)](_0x469140=>{const _0x48fa35=_0x315d01;_0x469140 in _0x5490fc[_0x48fa35(0x1ff)]&&_0x5490fc[_0x48fa35(0x1ff)][_0x469140]&&_0x324088++;}),_0x324088==_0xf49513[_0x315d01(0x26c)]&&_0x56452d[_0x315d01(0x2ca)](capitalize(_0x5490fc['id']));});let _0x3be2da=[];return _0x134264['forEach'](_0x156c57=>{const _0x29cde1=_0xc81fef;_0x156c57=capitalize(_0x156c57);if(!_0x56452d[_0x29cde1(0x371)](_0x156c57))_0x3be2da[_0x29cde1(0x2ca)](_0x156c57);}),_0x56452d;}function setStartDatePerformance(){const _0x29d08c=_0x5d06a0;if(config&&config[_0x29d08c(0x2a1)][0x0][_0x29d08c(0x1f4)][_0x29d08c(0x26c)]!=0x0){const _0x5d6a20=config['liquidity'][0x0][_0x29d08c(0x1f4)];dbPerformance[_0x29d08c(0x25f)](_0x29d08c(0x24d))[_0x29d08c(0x2d0)]({'date':config['startdate']})[_0x29d08c(0x311)]({'coins':_0x5d6a20})[_0x29d08c(0x225)]();}}async function recreateCoinResults(){const _0x58bf90=_0x5d06a0;recreationNeeded=![];let _0x372522,_0x1e7337=[];try{for(const _0x3855db of currentCoins){if(_0x3855db['coin']!=config['basecoin']){let _0x217aeb=0x0,_0x16d560,_0x4bec01;_0x372522=await getAllEventOrders(_0x3855db[_0x58bf90(0x1f3)]);if(_0x372522[_0x58bf90(0x26c)]>0x0)_0x372522[_0x58bf90(0x2da)](_0x33ee55=>{const _0x5acf4e=_0x58bf90,_0x45826f=_0x3855db[_0x5acf4e(0x1f3)]['includes'](config[_0x5acf4e(0x2af)]+'/');_0x1e7337[_0x5acf4e(0x2ca)]({'datetime':_0x33ee55[_0x5acf4e(0x1d1)],'coin':_0x3855db[_0x5acf4e(0x2c8)],'symbol':_0x3855db[_0x5acf4e(0x1f3)],'side':_0x33ee55['side'],'reverse':_0x45826f,'amount':formatResult(_0x33ee55[_0x5acf4e(0x1fc)],0x8),'filled':formatResult(_0x33ee55[_0x5acf4e(0x1fc)],0x8),'price':formatResult(_0x33ee55[_0x5acf4e(0x1da)],0x8)}),_0x217aeb=_0x33ee55['side']==_0x5acf4e(0x355)?_0x217aeb+_0x33ee55[_0x5acf4e(0x1fc)]:_0x217aeb-_0x33ee55['filled'];if(!_0x4bec01)_0x4bec01=_0x33ee55[_0x5acf4e(0x1da)];});_0x16d560=_0x3855db[_0x58bf90(0x1c1)]-_0x217aeb;let _0x3d758b;config[_0x58bf90(0x2a1)][_0x58bf90(0x2da)](_0x457e05=>{const _0x1c12af=_0x58bf90;!_0x3d758b&&(_0x3d758b=_0x457e05[_0x1c12af(0x1f4)][_0x1c12af(0x2d0)](_0x511231=>_0x511231['coin']==_0x3855db[_0x1c12af(0x2c8)]),_0x3d758b&&(_0x16d560=_0x3d758b['number'],_0x4bec01=_0x3d758b[_0x1c12af(0x1da)]));});let _0x316ca0=dbCoinResults[_0x58bf90(0x25f)](_0x58bf90(0x284))['find']({'coin':_0x3855db[_0x58bf90(0x2c8)]})[_0x58bf90(0x2a9)]();_0x316ca0={'coin':_0x3855db[_0x58bf90(0x2c8)],'number':_0x16d560,'breakeven':_0x4bec01,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults['get']('coins')['find']({'coin':_0x3855db[_0x58bf90(0x2c8)]})['assign'](_0x316ca0)[_0x58bf90(0x225)]();}}_0x1e7337[_0x58bf90(0x360)]((_0x1d619f,_0x55e00f)=>_0x1d619f['datetime']>_0x55e00f[_0x58bf90(0x1d1)]?0x1:_0x55e00f[_0x58bf90(0x1d1)]>_0x1d619f['datetime']?-0x1:0x0);let _0x254b47=0x0;for(let _0x34287f of _0x1e7337){await updateCoinResults(_0x34287f,!![]);}}catch(_0x4b75bb){await handleError(_0x4b75bb,_0x58bf90(0x286));}}async function getAllEventOrders(_0x110538){const _0x42056d=_0x5d06a0;let _0x2301d3=[],_0x2d15c8=dbLogs[_0x42056d(0x25f)](_0x42056d(0x34e))['filter'](_0x20f643=>{const _0x2ae915=_0x42056d,_0x13fa51=_0x20f643['event'][_0x2ae915(0x221)]();return _0x13fa51[_0x2ae915(0x371)](_0x110538[_0x2ae915(0x221)]())&&(_0x13fa51[_0x2ae915(0x371)](_0x2ae915(0x1f2))&&_0x13fa51[_0x2ae915(0x371)](_0x2ae915(0x309))||_0x13fa51[_0x2ae915(0x371)](_0x2ae915(0x1fc))&&_0x13fa51[_0x2ae915(0x371)](_0x2ae915(0x309)));})['sortBy'](_0x42056d(0x242))[_0x42056d(0x2a9)]();return _0x2d15c8[_0x42056d(0x2da)](_0x4a7437=>{const _0x25bb0f=_0x42056d,_0x56b15c=_0x4a7437[_0x25bb0f(0x2b5)]['includes'](_0x25bb0f(0x289))?_0x25bb0f(0x289):_0x25bb0f(0x355),_0x2e495f=/#([0-9]|\.)+\s/i,_0x1818fc=Number(_0x2e495f['exec'](_0x4a7437[_0x25bb0f(0x2b5)])[0x0]['slice'](0x1)),_0x471145=/@([0-9]|\.)+$/i,_0x15c21c=Number(_0x471145[_0x25bb0f(0x241)](_0x4a7437[_0x25bb0f(0x2b5)])[0x0][_0x25bb0f(0x2a8)](0x1));_0x2301d3[_0x25bb0f(0x2ca)]({'datetime':_0x4a7437[_0x25bb0f(0x242)],'coin':symbolToCoin(_0x110538),'symbol':_0x110538,'side':_0x56b15c,'amount':_0x1818fc,'filled':_0x1818fc,'price':_0x15c21c});}),_0x2301d3;}async function validate24hChanges(){const _0x2e8fa6=_0x5d06a0;for(const _0x316b73 of currentCoins){if(_0x316b73[_0x2e8fa6(0x2c8)]!=config[_0x2e8fa6(0x2af)]){let _0x45716e;_0x316b73['reverse']?_0x45716e=formatResult((0x1/(gChange[_0x316b73['symbol']]/0x64+0x1)-0x1)*0x64,0x3):_0x45716e=gChange[_0x316b73[_0x2e8fa6(0x1f3)]],_0x45716e<config['change24h']&&(logHistory('error',_0x316b73[_0x2e8fa6(0x2c8)]+_0x2e8fa6(0x2e5)+_0x45716e+'%'),logHistory(_0x2e8fa6(0x1eb),_0x2e8fa6(0x24b)),logHistory(_0x2e8fa6(0x1eb),_0x2e8fa6(0x23a)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x4dd4fc,_0x787949){const _0x1d6b98=_0x5d06a0;if(!_0x4dd4fc)return!![];const _0x3db2e6=_0x787949[_0x1d6b98(0x2a6)]('.'),_0x1dd914=_0x4dd4fc[_0x1d6b98(0x2a6)]('.');for(var _0x3ccb51=0x0;_0x3ccb51<_0x1dd914['length'];_0x3ccb51++){const _0x32cfcc=~~_0x1dd914[_0x3ccb51],_0x1c87d9=~~_0x3db2e6[_0x3ccb51];if(_0x32cfcc<_0x1c87d9)return!![];if(_0x32cfcc>_0x1c87d9)return![];}return![];}async function oneTimeMigration(){const _0xf72fb6=_0x5d06a0;let _0x45c60a=dbLogs[_0xf72fb6(0x25f)](_0xf72fb6(0x1e0))[_0xf72fb6(0x2a9)]();if(isOlderVersion(_0x45c60a,_0xf72fb6(0x364))){let _0x2c4818=[];const _0x48af96=dbLogs[_0xf72fb6(0x25f)]('logs')[_0xf72fb6(0x2a9)]();_0x48af96[_0xf72fb6(0x2da)](_0x26059a=>{const _0x21e73b=_0xf72fb6;_0x2c4818[_0x21e73b(0x2ca)]({'time':_0x26059a[_0x21e73b(0x242)],'type':_0x26059a[_0x21e73b(0x278)],'event':_0x26059a[_0x21e73b(0x2b5)]});}),dbLogs[_0xf72fb6(0x25f)](_0xf72fb6(0x34e))[_0xf72fb6(0x311)](_0x2c4818)[_0xf72fb6(0x225)]();}let _0x5e228c=dbConfig[_0xf72fb6(0x25f)](_0xf72fb6(0x1e0))[_0xf72fb6(0x2a9)]();if(isOlderVersion(_0x5e228c,_0xf72fb6(0x364))){let _0x349047=dbConfig[_0xf72fb6(0x25f)](_0xf72fb6(0x23f))[_0xf72fb6(0x2d0)]({'botID':botID})[_0xf72fb6(0x2a9)]();if(_0x349047){let _0x5c4fda=[];_0x349047[_0xf72fb6(0x2b4)][_0xf72fb6(0x2da)](_0x1446c4=>{const _0x28e601=_0xf72fb6;_0x5c4fda['push']({'coin':_0x1446c4[_0x28e601(0x2c8)],'number':_0x1446c4['startnumber'],'price':_0x1446c4[_0x28e601(0x2b1)]}),delete _0x1446c4[_0x28e601(0x257)],delete _0x1446c4['startprice'];});if(_0x5c4fda[_0xf72fb6(0x26c)]!==0x0)fs['writeFile'](configbackuppath+(_0xf72fb6(0x28c)+botID+'.json'),JSON['stringify'](_0x5c4fda,null,0x4),function(_0x185f8d){if(_0x185f8d){}});const _0x921474=(_0x15cfcd,_0xbdeeda)=>{const _0x149b94=_0xf72fb6;let _0x4232fb=[];_0xbdeeda[_0x149b94(0x2da)](_0x5d052f=>{const _0x488dce=_0x149b94,_0x197828=_0x15cfcd[_0x488dce(0x2d0)](_0x3cbce3=>_0x3cbce3['coin']==_0x5d052f['coin']);if(!_0x197828)_0x4232fb[_0x488dce(0x2ca)](_0x5d052f);});let _0x56d458=[];return _0x15cfcd[_0x149b94(0x2da)](_0x3baef1=>{const _0x58868a=_0x149b94,_0x177348=_0xbdeeda[_0x58868a(0x2d0)](_0x4f7c3e=>_0x4f7c3e['coin']==_0x3baef1[_0x58868a(0x2c8)]);if(!_0x177348||_0x177348[_0x58868a(0x1c1)]==0x0&&_0x3baef1[_0x58868a(0x1c1)]!=0x0)_0x56d458['push'](_0x3baef1);}),{'missingDay1':_0x4232fb,'notInDay2':_0x56d458};},_0x5660ca=dbPerformance[_0xf72fb6(0x25f)](_0xf72fb6(0x24d))[_0xf72fb6(0x1d5)]()['value']();if(_0x5660ca[_0xf72fb6(0x26c)]>0x1){const {missingDay1:_0x3e775b,notInDay2:_0x3668f1}=_0x921474(_0x5c4fda,_0x5660ca[0x1]['coins']);_0x5c4fda=[..._0x5c4fda,..._0x3e775b],_0x3668f1[_0xf72fb6(0x2da)](_0x2c6036=>{const _0xac63fb=_0xf72fb6;let _0x32a62c=_0x5c4fda[_0xac63fb(0x2c5)](_0x47cef9=>_0x47cef9['coin']==_0x2c6036[_0xac63fb(0x2c8)]);_0x32a62c!=-0x1&&_0x5c4fda[_0xac63fb(0x28b)](_0x32a62c,0x1);});}_0x5c4fda[_0xf72fb6(0x360)]((_0x3dfe5b,_0x189093)=>_0x3dfe5b[_0xf72fb6(0x2c8)]>_0x189093['coin']?0x1:_0x189093[_0xf72fb6(0x2c8)]>_0x3dfe5b[_0xf72fb6(0x2c8)]?-0x1:0x0);let _0x97d69d=[{'date':_0x349047[_0xf72fb6(0x2e2)],'changes':_0x5c4fda}];_0x5660ca['length']>0x2&&_0x5660ca[_0xf72fb6(0x2da)]((_0x21f63f,_0x3f20bf)=>{const _0x5cc6c7=_0xf72fb6;if(_0x3f20bf>0x0&&_0x3f20bf<_0x5660ca[_0x5cc6c7(0x26c)]-0x1){const {missingDay1:_0x44fc78,notInDay2:_0x56c960}=_0x921474(_0x5660ca[_0x3f20bf][_0x5cc6c7(0x284)],_0x5660ca[_0x3f20bf+0x1][_0x5cc6c7(0x284)]);_0x5c4fda=[],(_0x44fc78[_0x5cc6c7(0x26c)]!=0x0||_0x56c960[_0x5cc6c7(0x26c)]!=0x0)&&(_0x44fc78[_0x5cc6c7(0x26c)]!=0x0&&_0x5c4fda['push'](..._0x44fc78),_0x56c960[_0x5cc6c7(0x26c)]!=0x0&&(_0x56c960[_0x5cc6c7(0x2da)](_0x3ef950=>{const _0x6ddf6d=_0x5cc6c7;_0x3ef950[_0x6ddf6d(0x1c1)]=-_0x3ef950[_0x6ddf6d(0x1c1)];}),_0x5c4fda[_0x5cc6c7(0x2ca)](..._0x56c960)),_0x5c4fda['sort']((_0x59f29f,_0x33445d)=>_0x59f29f['coin']>_0x33445d['coin']?0x1:_0x33445d[_0x5cc6c7(0x2c8)]>_0x59f29f[_0x5cc6c7(0x2c8)]?-0x1:0x0),_0x97d69d[_0x5cc6c7(0x2ca)]({'date':_0x5660ca[_0x3f20bf+0x1][_0x5cc6c7(0x25d)],'changes':_0x5c4fda}));}}),dbConfig['get'](_0xf72fb6(0x23f))[_0xf72fb6(0x2d0)]({'botID':botID})[_0xf72fb6(0x311)]({..._0x349047,'liquidity':_0x97d69d})[_0xf72fb6(0x225)]();}}if(isOlderVersion(_0x5e228c,'2.6.0')){let _0x45d6b0=dbConfig[_0xf72fb6(0x25f)](_0xf72fb6(0x23f))[_0xf72fb6(0x2d0)]({'botID':botID})['value']();if(_0x45d6b0){const _0x3f5628=_0x45d6b0[_0xf72fb6(0x203)],_0x533a89=_0x3f5628?capitalize(_0x3f5628):_0xf72fb6(0x248);dbConfig[_0xf72fb6(0x25f)](_0xf72fb6(0x23f))[_0xf72fb6(0x2d0)]({'botID':botID})[_0xf72fb6(0x311)]({'exchange':_0x533a89})[_0xf72fb6(0x225)]();}}if(isOlderVersion(_0x5e228c,'2.6.22')){let _0x579ea9=dbConfig['get'](_0xf72fb6(0x23f))[_0xf72fb6(0x2d0)]({'botID':botID})['value']();if(_0x579ea9){const _0xdad809=_0x579ea9['marketcapEnabled'],_0x227c90=_0xdad809?_0xf72fb6(0x348):![];dbConfig['get']('bot')['find']({'botID':botID})['assign']({'marketcapEnabled':_0x227c90})[_0xf72fb6(0x225)]();}}if(isOlderVersion(_0x5e228c,'2.6.23')){let _0x2cb3fa=dbConfig[_0xf72fb6(0x25f)](_0xf72fb6(0x23f))['find']({'botID':botID})[_0xf72fb6(0x2a9)]();if(_0x2cb3fa){const _0x2897c1=_0x2cb3fa['autoliquidity'],_0x4ef376=_0x2897c1?_0xf72fb6(0x353):![];dbConfig[_0xf72fb6(0x25f)](_0xf72fb6(0x23f))[_0xf72fb6(0x2d0)]({'botID':botID})[_0xf72fb6(0x311)]({'autoliquidity':_0x4ef376})['write']();}}let _0x28af5a=dbPerformance[_0xf72fb6(0x25f)]('version')[_0xf72fb6(0x2a9)]();isOlderVersion(_0x28af5a,'2.3.5')&&setStartDatePerformance();let _0x595c34=dbCoinResults['get'](_0xf72fb6(0x1e0))[_0xf72fb6(0x2a9)]();if(isOlderVersion(_0x595c34,_0xf72fb6(0x1cf))){let _0x47febb=dbCoinResults[_0xf72fb6(0x25f)](_0xf72fb6(0x284))[_0xf72fb6(0x2a9)]();if(_0x47febb[_0xf72fb6(0x26c)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x549d67=_0x5d06a0;dbConfig['set']('version',serverversion)['write'](),dbPerformance['set'](_0x549d67(0x1e0),serverversion)[_0x549d67(0x225)](),dbLogs[_0x549d67(0x2f5)](_0x549d67(0x1e0),serverversion)[_0x549d67(0x225)](),dbCoinResults[_0x549d67(0x2f5)](_0x549d67(0x1e0),serverversion)['write']();}function getConfiguration(_0x2724ef){const _0x4e9494=_0x5d06a0;let _0x1145e6=dbConfig[_0x4e9494(0x25f)](_0x4e9494(0x23f))[_0x4e9494(0x2d0)]({'botID':_0x2724ef})[_0x4e9494(0x2a9)]();if(_0x1145e6){let _0x5ebd7c=![];typeof _0x1145e6[_0x4e9494(0x244)]==_0x4e9494(0x308)&&(_0x1145e6={..._0x1145e6,'threshold':Number(_0x1145e6[_0x4e9494(0x244)])},_0x5ebd7c=!![]),_0x1145e6['change24h']==undefined&&(_0x1145e6={..._0x1145e6,'change24h':-0x14},_0x5ebd7c=!![]),_0x1145e6[_0x4e9494(0x1dd)]==undefined&&(_0x1145e6={..._0x1145e6,'fiat':_0x4e9494(0x211)},_0x5ebd7c=!![]),_0x1145e6[_0x4e9494(0x1bd)]==undefined&&(_0x1145e6={..._0x1145e6,'onepagemode':settings[_0x4e9494(0x1bd)]},_0x5ebd7c=!![]),_0x1145e6[_0x4e9494(0x1fb)]==undefined&&(_0x1145e6={..._0x1145e6,'colorscheme':_0x4e9494(0x2d6)},_0x5ebd7c=!![]),_0x1145e6['autoliquidity']==undefined&&(_0x1145e6={..._0x1145e6,'autoliquidity':'update-liquidity'},_0x5ebd7c=!![]),_0x1145e6[_0x4e9494(0x36a)]==undefined&&(_0x1145e6={..._0x1145e6,'marketcapApi':settings[_0x4e9494(0x36a)]?!![]:![]},_0x5ebd7c=!![]),_0x1145e6[_0x4e9494(0x2bd)]==undefined&&(_0x1145e6={..._0x1145e6,'marketcapEnabled':![]},_0x5ebd7c=!![]),_0x5ebd7c&&(_0x1145e6={'botID':_0x1145e6[_0x4e9494(0x28a)],'exchange':_0x1145e6['exchange'],'apiKey':_0x1145e6[_0x4e9494(0x1ec)],'apiSecret':_0x1145e6['apiSecret'],'apiPassword':_0x1145e6[_0x4e9494(0x24f)],'basecoin':_0x1145e6[_0x4e9494(0x2af)],'botname':_0x1145e6[_0x4e9494(0x255)],'showname':_0x1145e6[_0x4e9494(0x32d)],'threshold':_0x1145e6[_0x4e9494(0x244)],'ordertype':_0x1145e6[_0x4e9494(0x2d1)],'timeout':_0x1145e6[_0x4e9494(0x34b)],'fiat':_0x1145e6[_0x4e9494(0x1dd)],'startdate':_0x1145e6[_0x4e9494(0x2e2)],'recreate':_0x1145e6['recreate'],'timeshift':_0x1145e6[_0x4e9494(0x227)],'onepagemode':_0x1145e6[_0x4e9494(0x1bd)],'headless':_0x1145e6[_0x4e9494(0x1cc)],'cooldown':_0x1145e6[_0x4e9494(0x261)],'change24h':_0x1145e6[_0x4e9494(0x2ac)],'emojibuy':_0x1145e6['emojibuy'],'emojisell':_0x1145e6['emojisell'],'colorscheme':_0x1145e6[_0x4e9494(0x1fb)],'marketcapApi':_0x1145e6['marketcapApi'],'marketcapEnabled':_0x1145e6[_0x4e9494(0x2bd)],'portfolio':_0x1145e6[_0x4e9494(0x2b4)],'autoliquidity':_0x1145e6[_0x4e9494(0x268)],'liquidity':_0x1145e6[_0x4e9494(0x2a1)],'openOrders':_0x1145e6['openOrders']},dbConfig[_0x4e9494(0x25f)](_0x4e9494(0x23f))['remove']()[_0x4e9494(0x225)](),dbConfig[_0x4e9494(0x25f)](_0x4e9494(0x23f))[_0x4e9494(0x2ca)](_0x1145e6)[_0x4e9494(0x225)]());}else _0x1145e6={'botID':_0x2724ef,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x4e9494(0x346)+_0x2724ef,'showname':![],'threshold':0x3,'ordertype':_0x4e9494(0x1f2),'timeout':0x14,'fiat':_0x4e9494(0x211),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x4e9494(0x227)],'onepagemode':settings[_0x4e9494(0x1bd)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x4e9494(0x2d6),'marketcapApi':settings[_0x4e9494(0x36a)]?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':_0x4e9494(0x353),'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x1145e6;}function emittedConfiguration(){const _0x5c75f2=_0x5d06a0;let _0x516900;if(config[_0x5c75f2(0x1ec)]=='')_0x516900={...config,'configstate':'initial'};else config[_0x5c75f2(0x1ec)]=='***'?_0x516900={...config,'configstate':'recovery'}:(_0x516900={...config,'apiKey':_0x5c75f2(0x256),'apiSecret':_0x5c75f2(0x256)},config[_0x5c75f2(0x24f)]&&(_0x516900[_0x5c75f2(0x24f)]=_0x5c75f2(0x256)));return _0x516900['enableFiatToggle']=enableFiatToggle,_0x516900;}function getSettings(){const _0x547027=_0x5d06a0;return dbSettings[_0x547027(0x25f)](_0x547027(0x320))[_0x547027(0x2a9)]();}function getSecure(){const _0x73caa=_0x5d06a0;return dbSecure[_0x73caa(0x25f)](_0x73caa(0x2ad))[_0x73caa(0x2a9)]()||{};}function updateTimeshift(_0x49f12a){const _0x1f7af0=_0x5d06a0;let _0x5673d4=dbConfig[_0x1f7af0(0x25f)](_0x1f7af0(0x23f))[_0x1f7af0(0x2d0)]({'botID':botID})['value']();_0x5673d4&&dbConfig['get'](_0x1f7af0(0x23f))[_0x1f7af0(0x2d0)]({'botID':botID})[_0x1f7af0(0x311)]({'timeshift':_0x49f12a})['write'](),config['timeshift']=_0x49f12a,proxyEmit(_0x1f7af0(0x328),emittedConfiguration());}function updateOnepagemode(_0x3d4094){const _0x3f49a3=_0x5d06a0;let _0x3efd05=dbConfig[_0x3f49a3(0x25f)]('bot')[_0x3f49a3(0x2d0)]({'botID':botID})[_0x3f49a3(0x2a9)]();_0x3efd05&&dbConfig[_0x3f49a3(0x25f)](_0x3f49a3(0x23f))['find']({'botID':botID})[_0x3f49a3(0x311)]({'onepagemode':_0x3d4094})[_0x3f49a3(0x225)](),config[_0x3f49a3(0x1bd)]=_0x3d4094,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x5ee896){const _0x3fd6d2=_0x5d06a0,_0x535180=_0x5ee896?!![]:![];let _0x6effd6=dbConfig[_0x3fd6d2(0x25f)]('bot')[_0x3fd6d2(0x2d0)]({'botID':botID})[_0x3fd6d2(0x2a9)]();_0x6effd6&&dbConfig[_0x3fd6d2(0x25f)](_0x3fd6d2(0x23f))[_0x3fd6d2(0x2d0)]({'botID':botID})['assign']({'marketcapApi':_0x535180})[_0x3fd6d2(0x225)](),config['marketcapApi']=_0x535180,getMarketCap(),proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x578572){const _0xee8ea0=_0x5d06a0;logger[_0xee8ea0(0x337)](_0xee8ea0(0x380));if(pidBalances)clearTimeout(pidBalances);setBlockTransactionDetection(!![]);let _0x18e6d3=![],_0x2835ed=![],_0x2e208f=[];_0x578572[_0xee8ea0(0x2b4)][_0xee8ea0(0x2da)](_0x5877f2=>{const _0x2b47e3=_0xee8ea0;if(!_0x5877f2['excluded']&&_0x5877f2[_0x2b47e3(0x2c8)]!=_0x578572['basecoin'])_0x2e208f['push'](_0x5877f2[_0x2b47e3(0x1f3)]);}),_0x2e208f[_0xee8ea0(0x2da)](_0x33c7b7=>{const _0xf664d9=_0xee8ea0,_0x3edacd=currentCoins[_0xf664d9(0x2d0)](_0x28dc82=>_0x28dc82[_0xf664d9(0x1f3)]==_0x33c7b7);!_0x3edacd&&(_0x18e6d3=!![]);}),currentCoins[_0xee8ea0(0x2da)](_0x79eb85=>{const _0x2d5bcc=_0xee8ea0;if(_0x79eb85[_0x2d5bcc(0x2c8)]!=config[_0x2d5bcc(0x2af)]){const _0x264afd=_0x2e208f[_0x2d5bcc(0x2d0)](_0x927135=>_0x927135==_0x79eb85[_0x2d5bcc(0x1f3)]);!_0x264afd&&(_0x18e6d3=!![]);}}),_0x578572[_0xee8ea0(0x2b4)][_0xee8ea0(0x2da)](_0x3d21e2=>{const _0x2b5eec=_0xee8ea0,_0x5107d2=config[_0x2b5eec(0x2b4)]['find'](_0x354987=>_0x354987[_0x2b5eec(0x2c8)]==_0x3d21e2['coin']);if(_0x5107d2&&_0x3d21e2[_0x2b5eec(0x1ef)]!=_0x5107d2['offset'])_0x2835ed=!![];});let _0x436083=dbConfig[_0xee8ea0(0x25f)](_0xee8ea0(0x23f))[_0xee8ea0(0x2d0)]({'botID':botID})[_0xee8ea0(0x2a9)]();_0x578572={..._0x578572,'apiKey':decryptRSA(secure['privateKey'],_0x578572[_0xee8ea0(0x1ec)]),'apiSecret':decryptRSA(secure[_0xee8ea0(0x218)],_0x578572[_0xee8ea0(0x28e)])};_0x578572[_0xee8ea0(0x24f)]&&(_0x578572[_0xee8ea0(0x24f)]=decryptRSA(secure['privateKey'],_0x578572[_0xee8ea0(0x24f)]));let _0x3344b4=![];if(_0x436083){_0x578572['apiKey']==_0xee8ea0(0x256)?_0x578572[_0xee8ea0(0x1ec)]=config[_0xee8ea0(0x1ec)]:_0x3344b4=!![];_0x578572[_0xee8ea0(0x28e)]==_0xee8ea0(0x256)?_0x578572[_0xee8ea0(0x28e)]=config['apiSecret']:_0x3344b4=!![];if(_0x578572[_0xee8ea0(0x24f)]==_0xee8ea0(0x256))_0x578572['apiPassword']=config['apiPassword'];else{if(_0x578572[_0xee8ea0(0x24f)])_0x3344b4=!![];}dbConfig['get']('bot')[_0xee8ea0(0x2d0)]({'botID':botID})[_0xee8ea0(0x311)](_0x578572)[_0xee8ea0(0x225)]();}else dbConfig[_0xee8ea0(0x25f)](_0xee8ea0(0x23f))[_0xee8ea0(0x2ca)](_0x578572)[_0xee8ea0(0x225)](),_0x3344b4=!![],process[_0xee8ea0(0x219)]({'status':_0xee8ea0(0x1c0),'live':_0xee8ea0(0x37a)},_0x21c3c8=>{});process[_0xee8ea0(0x219)]({'botname':_0x578572[_0xee8ea0(0x255)]},_0x25dbf6=>{}),config={..._0x578572},updateBotManager(),proxyEmit('configuration-stored'),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x3344b4)!_0x436083?await reset(!![]):getBalances();else _0x18e6d3||_0x2835ed?await reset(![]):getBalances();setBlockTransactionDetection(![]);}async function storeHeadless(_0x4442c0){const _0x117182=_0x5d06a0,_0x1788bd={...config,'headless':_0x4442c0[_0x117182(0x1cc)]};let _0x4055ab=dbConfig[_0x117182(0x25f)](_0x117182(0x23f))[_0x117182(0x2d0)]({'botID':botID})['value']();_0x4055ab&&dbConfig[_0x117182(0x25f)]('bot')[_0x117182(0x2d0)]({'botID':botID})[_0x117182(0x311)](_0x1788bd)[_0x117182(0x225)](),config={..._0x1788bd},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x356a9d){const _0x16491a=_0x5d06a0,_0x400c4f={...config,'fiat':_0x356a9d};let _0x29bdcf=dbConfig[_0x16491a(0x25f)](_0x16491a(0x23f))['find']({'botID':botID})['value']();_0x29bdcf&&dbConfig[_0x16491a(0x25f)](_0x16491a(0x23f))['find']({'botID':botID})[_0x16491a(0x311)](_0x400c4f)[_0x16491a(0x225)](),config={..._0x400c4f},proxyEmit(_0x16491a(0x328),emittedConfiguration());}function resetHistory(){const _0x50b645=_0x5d06a0;logger[_0x50b645(0x279)](_0x50b645(0x222));try{if(fs[_0x50b645(0x1ce)](path[_0x50b645(0x231)](configpath,_0x50b645(0x1e9)+botID+'-events.json')))fs['unlinkSync'](path[_0x50b645(0x231)](configpath,_0x50b645(0x1e9)+botID+_0x50b645(0x1f6)));if(fs['existsSync'](path[_0x50b645(0x231)](configpath,_0x50b645(0x1e9)+botID+_0x50b645(0x31e))))fs[_0x50b645(0x2f7)](path[_0x50b645(0x231)](configpath,'bot-'+botID+_0x50b645(0x31e)));if(fs[_0x50b645(0x1ce)](path['join'](configpath,'bot-'+botID+_0x50b645(0x1d2))))fs[_0x50b645(0x2f7)](path['join'](configpath,_0x50b645(0x1e9)+botID+'-results.json'));}catch(_0x275d3f){if(_0x275d3f)logger[_0x50b645(0x279)](_0x50b645(0x330),_0x275d3f);}const _0x196033=getDate();let _0x3aac09=[];currentCoins[_0x50b645(0x2da)](_0x202ff4=>{const _0x1255e5=_0x50b645;_0x3aac09[_0x1255e5(0x2ca)]({'coin':_0x202ff4[_0x1255e5(0x2c8)],'number':_0x202ff4[_0x1255e5(0x1c1)],'price':_0x202ff4[_0x1255e5(0x29e)]});});let _0x2f06bb=dbConfig[_0x50b645(0x25f)](_0x50b645(0x23f))[_0x50b645(0x2d0)]({'botID':botID})[_0x50b645(0x2a9)]();_0x2f06bb&&(dbConfig[_0x50b645(0x25f)](_0x50b645(0x23f))[_0x50b645(0x2d0)]({'botID':botID})[_0x50b645(0x311)]({'liquidity':[{'date':_0x196033,'changes':_0x3aac09}]})[_0x50b645(0x225)](),config[_0x50b645(0x2a1)]=[]),restartBot(!![]);}function noslash(_0x3c6970){return _0x3c6970['replace']('/','');}function updateHighestFee(_0x19143e){const _0x3b3a9a=_0x5d06a0;if(_0x19143e[_0x3b3a9a(0x35b)]){let _0x5525ed={'filled':_0x19143e['filled']*_0x19143e[_0x3b3a9a(0x1da)],'amount':_0x19143e[_0x3b3a9a(0x1fc)]*_0x19143e[_0x3b3a9a(0x1da)],'side':_0x19143e[_0x3b3a9a(0x207)]==_0x3b3a9a(0x289)?_0x3b3a9a(0x355):'sell','price':0x1/_0x19143e[_0x3b3a9a(0x1da)]};_0x19143e={..._0x19143e,..._0x5525ed};}const _0x442357=defaultFee*_0x19143e[_0x3b3a9a(0x1fc)]*_0x19143e['price'];lastFees[_0x3b3a9a(0x2c7)]['length']===0x14&&lastFees['recent20']['shift'](),lastFees[_0x3b3a9a(0x2c7)][_0x3b3a9a(0x2ca)](_0x442357),lastFees[_0x3b3a9a(0x302)]=Math[_0x3b3a9a(0x293)](...lastFees['recent20']);}async function updateNumberCoinsCcxt(_0x2d6597){const _0x590f3f=_0x5d06a0;logger[_0x590f3f(0x337)]('0\x20-\x20EXECUTION:\x20'+_0x2d6597['symbol']+'\x20|\x20'+_0x2d6597[_0x590f3f(0x266)]+_0x590f3f(0x2e1)+_0x2d6597['filled']+'\x20/\x20'+_0x2d6597[_0x590f3f(0x2d5)]+_0x590f3f(0x2e1)+_0x2d6597['id']);let _0x4583ac=_0x2d6597['status'],_0x50820f=![];currentCoins[_0x590f3f(0x2da)](_0x4c70c8=>{const _0x4af9c1=_0x590f3f;_0x4c70c8[_0x4af9c1(0x1f3)]==_0x2d6597['symbol']&&(_0x50820f=!![]);});if(!_0x50820f)return;const _0x55a562=currentCoins['find'](_0x1fe339=>_0x1fe339[_0x590f3f(0x1f3)]==_0x2d6597[_0x590f3f(0x1f3)]),_0x511091=_0x13cf7d=>{const _0x561aed=_0x590f3f;if(_0x55a562)_0x55a562[_0x561aed(0x22a)]=_0x13cf7d;};let _0x2f32e2=![];for(const _0x3f177e of lastOrders){const _0xc32964=0x64,_0x9d7952=0x1388;let _0x2db276=0x0;while(!_0x3f177e[_0x590f3f(0x368)]&&_0x2db276*_0xc32964<_0x9d7952){_0x2db276++,await sleep(_0xc32964);}if(_0x2db276>0x0)logger[_0x590f3f(0x337)]('Waited\x20'+_0x2db276*_0xc32964/0x3e8+_0x590f3f(0x20a));_0x3f177e[_0x590f3f(0x368)]==_0x2d6597['id']&&(_0x2f32e2=!![]);}if(_0x4583ac=='open'){_0x511091('open');if(_0x2d6597[_0x590f3f(0x1fc)]>0x0){if(_0x2f32e2){setBlockTransactionDetection(!![]),logger['debug']('1\x20-\x20partially\x20FILLED\x20known\x20order:\x20'+_0x2d6597['id']);const _0x24921c=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x24921c,setBlockTransactionDetection(![]);}else logger['debug'](_0x590f3f(0x2c6)+_0x2d6597['id']),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay);}}else{if(_0x4583ac==_0x590f3f(0x367)){_0x511091(_0x590f3f(0x367));const _0x3393e6=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x3393e6,setBlockTransactionDetection(![]),await getOpenOrders(),handleOpenOrders();}else{if(_0x4583ac==_0x590f3f(0x354)){if(lastOrders)for(const _0x9dd2b7 of lastOrders){if(_0x9dd2b7[_0x590f3f(0x368)]==_0x2d6597['id']){logger[_0x590f3f(0x337)]('1\x20-\x20FILLED\x20known\x20order:\x20'+_0x2d6597['id']),_0x2f32e2=!![];if(_0x9dd2b7[_0x590f3f(0x1fc)]==0x0){setBlockTransactionDetection(!![]),logger[_0x590f3f(0x337)](_0x590f3f(0x30b)+_0x2d6597['id']);if(_0x2d6597['average'])_0x9dd2b7[_0x590f3f(0x1da)]=_0x2d6597[_0x590f3f(0x2cd)];else{if(_0x2d6597[_0x590f3f(0x1da)])_0x9dd2b7[_0x590f3f(0x1da)]=_0x2d6597[_0x590f3f(0x1da)];else{}}_0x9dd2b7['filled']=_0x2d6597['filled'],updateHighestFee(_0x9dd2b7),_0x511091(_0x590f3f(0x1fc)),prevAmountAtOrder[_0x55a562[_0x590f3f(0x2c8)]]=_0x55a562[_0x590f3f(0x1d7)];const _0xfb6c6f=await getCoins(balanceUpdateDelay,undefined,undefined,_0x55a562);[currentCoins,currentCoinsAll]=_0xfb6c6f,setBlockTransactionDetection(![]),await validateOrders(),_0x9dd2b7[_0x590f3f(0x271)]={'currency':_0x2d6597['fee']?_0x2d6597[_0x590f3f(0x271)]['currency']:null,'cost':_0x2d6597['fee']?_0x2d6597[_0x590f3f(0x271)][_0x590f3f(0x217)]:0x0},await updateCoinResults(_0x9dd2b7);}}}!_0x2f32e2&&(logger[_0x590f3f(0x337)](_0x590f3f(0x21d)+_0x2d6597['id']),_0x511091(_0x590f3f(0x1fc)),setBlockTransactionDetection(![]),await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0xf3eb03=JSON['parse'](lastBalances[_0x590f3f(0x2b4)]);const _0x117522=_0xf3eb03[_0x590f3f(0x2d0)](_0x45f0a5=>_0x45f0a5[_0x590f3f(0x1f3)]==_0x2d6597[_0x590f3f(0x1f3)]);if(_0x117522){if(_0x4583ac==_0x590f3f(0x2b8))_0x117522[_0x590f3f(0x22a)]=_0x117522[_0x590f3f(0x22a)]==_0x590f3f(0x1fc)?_0x590f3f(0x1fc):_0x590f3f(0x2b8);else{if(_0x4583ac==_0x590f3f(0x367))_0x117522[_0x590f3f(0x22a)]=_0x117522[_0x590f3f(0x22a)]==_0x590f3f(0x1fc)?_0x590f3f(0x1fc):_0x590f3f(0x367);else _0x4583ac=='closed'&&(_0x117522[_0x590f3f(0x22a)]=_0x590f3f(0x1fc));}}lastBalances={...lastBalances,'portfolio':JSON[_0x590f3f(0x253)](_0xf3eb03)},proxyEmit(_0x590f3f(0x2f8),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x1cbedd=_0x5d06a0;await getOpenOrders();let _0x243fdf=![];currentCoins[_0x1cbedd(0x2da)](_0x12363f=>{const _0xf8dd2d=_0x1cbedd;_0x243fdf=allOpenOrders['find'](_0x1aa1dd=>_0x1aa1dd[_0xf8dd2d(0x1f3)]==_0x12363f[_0xf8dd2d(0x1f3)]),_0x12363f[_0xf8dd2d(0x22a)]=_0x243fdf?'open':_0xf8dd2d(0x1c3);});}async function fetchBalance(_0x2aa743=!![]){const _0x3e0225=_0x5d06a0;let _0x24e21b;try{return _0x24e21b=await exchange[_0x3e0225(0x26b)](),mybalances=_0x24e21b[_0x3e0225(0x27c)],!![];}catch(_0x225afa){return!_0x2aa743?handleErrorNoStop(_0x225afa,_0x3e0225(0x32c)):await handleError(_0x225afa,_0x3e0225(0x32c)),![];}}async function getCoins(_0x33ca4b=0x0,_0x39d632=!![],_0x423786=config[_0x5d06a0(0x2af)],_0x29d72f){const _0x820651=_0x5d06a0;let _0xa30437=[],_0x40251a=[],_0x11bc7e=[];if(_0x33ca4b)await sleep(_0x33ca4b);if(botPaused)return[currentCoins,currentCoinsAll];let _0x1ad374=![],_0x5d5a74=0x0;while(!_0x1ad374){const _0x1784bc=await fetchBalance(_0x39d632);if(_0x1784bc){if(_0x29d72f){if(mybalances[_0x29d72f['coin']]!=prevAmountAtOrder[_0x29d72f['coin']])logger[_0x820651(0x337)](_0x820651(0x291)+_0x29d72f[_0x820651(0x2c8)]+':\x20'+mybalances[_0x29d72f['coin']]+'\x20('+prevAmountAtOrder[_0x29d72f[_0x820651(0x2c8)]]+')'),_0x1ad374=!![];else{logger['debug'](_0x820651(0x2ee)+_0x29d72f[_0x820651(0x2c8)]+':\x20'+mybalances[_0x29d72f[_0x820651(0x2c8)]]+'\x20('+prevAmountAtOrder[_0x29d72f[_0x820651(0x2c8)]]+')'),_0x5d5a74++;if(_0x5d5a74<0x3)await sleep(balanceUpdateDelay);else{logger[_0x820651(0x337)](_0x820651(0x1bf)+_0x5d5a74+_0x820651(0x267));break;}}}else break;}}for(const [_0x8a605e,_0x1e3b18]of Object[_0x820651(0x304)](mybalances)){_0x11bc7e[_0x820651(0x2ca)](_0x8a605e);}config[_0x820651(0x2b4)][_0x820651(0x2da)](_0x486ae=>{const _0x5541de=_0x820651;!_0x11bc7e[_0x5541de(0x371)](_0x486ae[_0x5541de(0x2c8)])&&(mybalances[_0x486ae['coin']]=0x0);});if(_0x423786=='')for(const [_0x4c463d,_0x2157fe]of Object[_0x820651(0x304)](mybalances)){_0x2157fe!=0x0&&_0xa30437[_0x820651(0x2ca)]({'coin':_0x4c463d});}else for(const [_0x19d239,_0x10530e]of Object[_0x820651(0x304)](mybalances)){const _0x29b1e1=config['portfolio'][_0x820651(0x2d0)](_0x25b221=>_0x25b221[_0x820651(0x2c8)]==_0x19d239),_0x3b70e1=_0x19d239+'/'+_0x423786,_0x1768dd=_0x423786+'/'+_0x19d239,_0x1911d9=currentCoins[_0x820651(0x2d0)](_0x2b8cbe=>_0x2b8cbe[_0x820651(0x2c8)]==_0x19d239);if((_0x10530e!=0x0||_0x29b1e1)&&(allSymbols[_0x820651(0x371)](_0x3b70e1)||_0x19d239==_0x423786))_0x1911d9?_0xa30437[_0x820651(0x2ca)]({..._0x1911d9,'number':Math[_0x820651(0x293)](_0x10530e+(_0x29b1e1&&_0x29b1e1[_0x820651(0x1ef)]||0x0),0x0)}):_0xa30437['push']({'coin':_0x19d239,'symbol':_0x3b70e1,'reverse':![],'number':Math[_0x820651(0x293)](_0x10530e+(_0x29b1e1&&_0x29b1e1[_0x820651(0x1ef)]||0x0),0x0),'orderstatus':_0x820651(0x1c3)});else{if((_0x10530e!=0x0||_0x29b1e1)&&allSymbols[_0x820651(0x371)](_0x1768dd))_0x1911d9?_0xa30437[_0x820651(0x2ca)]({..._0x1911d9,'number':Math['max'](_0x10530e+(_0x29b1e1&&_0x29b1e1['offset']||0x0),0x0)}):_0xa30437[_0x820651(0x2ca)]({'coin':_0x19d239,'symbol':_0x1768dd,'reverse':!![],'number':Math['max'](_0x10530e+(_0x29b1e1&&_0x29b1e1[_0x820651(0x1ef)]||0x0),0x0),'orderstatus':'none'});else _0x29b1e1&&_0xa30437['push']({'coin':_0x29b1e1[_0x820651(0x2c8)],'symbol':_0x29b1e1[_0x820651(0x1f3)],'reverse':_0x29b1e1[_0x820651(0x35b)],'number':0x0,'orderstatus':'none'});}}return _0xa30437[_0x820651(0x360)]((_0x60080,_0x234eb3)=>_0x60080[_0x820651(0x362)]<_0x234eb3[_0x820651(0x362)]?0x1:_0x234eb3[_0x820651(0x362)]<_0x60080[_0x820651(0x362)]?-0x1:0x0),_0x40251a=cloneDeep(_0xa30437),_0xa30437=_0xa30437[_0x820651(0x204)](_0x50943b=>{const _0x4a397e=_0x820651,_0x2ed7d8=config[_0x4a397e(0x2b4)][_0x4a397e(0x2d0)](_0x233203=>_0x233203['coin']==_0x50943b[_0x4a397e(0x2c8)]);return _0x2ed7d8&&!_0x2ed7d8[_0x4a397e(0x275)];}),[_0xa30437,_0x40251a];}async function getCoinNumber(_0x203bfc){const _0x327b17=_0x5d06a0;let _0x145d52;try{const _0xfa8c0c=await exchange['fetchBalance']();_0x145d52=_0xfa8c0c[_0x327b17(0x27c)][_0x203bfc];}catch(_0x2f8825){await handleError(_0x2f8825,_0x327b17(0x1fa));}return _0x145d52;}async function getOpenOrders(){const _0x5be1fe=_0x5d06a0;let _0x3b6bd7;allOpenOrders=[];try{for(const _0x142804 of config[_0x5be1fe(0x2b4)]){!_0x142804[_0x5be1fe(0x275)]&&_0x142804[_0x5be1fe(0x2c8)]!=config[_0x5be1fe(0x2af)]&&(_0x3b6bd7=await exchange['fetchOpenOrders'](_0x142804['symbol']),_0x3b6bd7[_0x5be1fe(0x26c)]>0x0&&allOpenOrders[_0x5be1fe(0x2ca)](_0x3b6bd7[0x0]));}}catch(_0x4638e1){await handleError(_0x4638e1,_0x5be1fe(0x31b));}}async function handleOpenOrders(_0x378b15=0x0){const _0x596add=_0x5d06a0;allOpenOrders[_0x596add(0x26c)]==0x0&&lockOrders==ORDERS[_0x596add(0x2e9)]&&allOrdersPlaced&&(_0x378b15==0x0?(logger['debug']('1\x20-\x20Handle\x20open\x20orders'),_0x378b15++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger['debug'](_0x596add(0x270)),validateOrders(_0x596add(0x285))));}async function testAPI(_0x9a8fef){const _0x1174fc=_0x5d06a0,_0x5b09bb=ccxt[_0x1174fc(0x33a)][_0x9a8fef['exchange']['toLowerCase']()],_0x2f47b6=new _0x5b09bb({'apiKey':_0x9a8fef[_0x1174fc(0x1ec)],'secret':_0x9a8fef[_0x1174fc(0x28e)],'options':{'defaultType':_0x1174fc(0x30d)}});if(_0x9a8fef[_0x1174fc(0x24f)])_0x2f47b6[_0x1174fc(0x318)]=_0x9a8fef[_0x1174fc(0x24f)];try{await _0x2f47b6['fetchBalance']();}catch(_0xa80480){logger[_0x1174fc(0x337)](_0x1174fc(0x352)+_0xa80480[_0x1174fc(0x2a5)]());throw _0xa80480;}}function cloneDeep(_0x518333){const _0x6e5d36=_0x5d06a0;return JSON[_0x6e5d36(0x233)](JSON[_0x6e5d36(0x253)](_0x518333));}async function getPortfolio(_0x19bdb4){const _0x4cf5f8=_0x5d06a0;let _0x4d7326=[],_0x2f6752=[],_0x3fbfb8=[],_0x92b0ef;_0x19bdb4[_0x4cf5f8(0x1ec)]=decryptRSA(secure[_0x4cf5f8(0x218)],_0x19bdb4[_0x4cf5f8(0x1ec)]),_0x19bdb4[_0x4cf5f8(0x28e)]=decryptRSA(secure[_0x4cf5f8(0x218)],_0x19bdb4[_0x4cf5f8(0x28e)]);if(_0x19bdb4['apiPassword'])_0x19bdb4[_0x4cf5f8(0x24f)]=decryptRSA(secure[_0x4cf5f8(0x218)],_0x19bdb4[_0x4cf5f8(0x24f)]);if(_0x19bdb4[_0x4cf5f8(0x1ec)]!==_0x4cf5f8(0x256)||_0x19bdb4['apiSecret']!==_0x4cf5f8(0x256)||_0x19bdb4['apiPassword']&&_0x19bdb4['apiPassword']!==_0x4cf5f8(0x256)){if(config['exchange']){if(_0x19bdb4[_0x4cf5f8(0x1ec)]=='************')_0x19bdb4[_0x4cf5f8(0x1ec)]=config[_0x4cf5f8(0x1ec)];if(_0x19bdb4[_0x4cf5f8(0x28e)]=='************')_0x19bdb4[_0x4cf5f8(0x28e)]=config['apiSecret'];if(_0x19bdb4['apiPassword']==_0x4cf5f8(0x256))_0x19bdb4[_0x4cf5f8(0x24f)]=config[_0x4cf5f8(0x24f)];}try{await testAPI(_0x19bdb4);}catch(_0x11a589){if(_0x11a589[_0x4cf5f8(0x2a5)]()[_0x4cf5f8(0x371)](_0x4cf5f8(0x2e3))){logHistory(_0x4cf5f8(0x1eb),_0x4cf5f8(0x37c)),proxyEmit(_0x4cf5f8(0x345),![]);return;}else{logHistory('error',_0x4cf5f8(0x1cd)),logger[_0x4cf5f8(0x337)]('Error\x20details\x20(0):',_0x11a589),proxyEmit(_0x4cf5f8(0x345),![]);return;}}exchange?updateExchange(_0x19bdb4[_0x4cf5f8(0x1ec)],_0x19bdb4['apiSecret'],_0x19bdb4[_0x4cf5f8(0x24f)]):await initExchange(_0x19bdb4[_0x4cf5f8(0x203)],_0x19bdb4[_0x4cf5f8(0x1ec)],_0x19bdb4[_0x4cf5f8(0x28e)],_0x19bdb4[_0x4cf5f8(0x24f)]);await loadSymbols();const _0x4c59a8=await getCoins(0x0,![],_0x19bdb4[_0x4cf5f8(0x2af)]);_0x3fbfb8=cloneDeep(_0x4c59a8[0x1]);}else{const _0x5162f6=await getCoins();_0x3fbfb8=cloneDeep(_0x5162f6[0x1]);}if(_0x19bdb4[_0x4cf5f8(0x2af)]=='')proxyEmit(_0x4cf5f8(0x345),!![]),proxyEmit(_0x4cf5f8(0x31d),_0x3fbfb8);else{_0x3fbfb8['forEach'](_0x4fa5c8=>{const _0x21d69b=_0x4cf5f8;if(_0x4fa5c8[_0x21d69b(0x2c8)]!=_0x19bdb4[_0x21d69b(0x2af)]&&allSymbols[_0x21d69b(0x371)](_0x4fa5c8[_0x21d69b(0x1f3)]))_0x4d7326[_0x21d69b(0x2ca)](_0x4fa5c8['symbol']);});if(_0x4d7326[_0x4cf5f8(0x26c)]==0x0)logHistory(_0x4cf5f8(0x1eb),_0x4cf5f8(0x2f4));else{try{_0x2f6752=await getTickers(_0x4d7326);}catch(_0x5ad99d){logHistory(_0x4cf5f8(0x1eb),'Unknown\x20error\x20-\x20check\x20logs'),logger[_0x4cf5f8(0x337)](_0x4cf5f8(0x250),_0x5ad99d),proxyEmit('portfolio1',![]);return;}_0x3fbfb8[_0x4cf5f8(0x2da)](_0x1dc5bc=>{const _0x3dd4e0=_0x4cf5f8;_0x1dc5bc[_0x3dd4e0(0x2c8)]!=_0x19bdb4[_0x3dd4e0(0x2af)]?_0x2f6752[_0x1dc5bc[_0x3dd4e0(0x1f3)]]?_0x92b0ef=_0x1dc5bc[_0x3dd4e0(0x35b)]?0x1/_0x2f6752[_0x1dc5bc[_0x3dd4e0(0x1f3)]]['last']:_0x2f6752[_0x1dc5bc[_0x3dd4e0(0x1f3)]][_0x3dd4e0(0x29e)]:_0x92b0ef=0x0:_0x92b0ef=0x1,_0x1dc5bc[_0x3dd4e0(0x1da)]=formatResult(_0x92b0ef,0x8);}),await getMarketCap(_0x3fbfb8),proxyEmit(_0x4cf5f8(0x345),!![]),proxyEmit(_0x4cf5f8(0x31d),_0x3fbfb8);}}}function truncateTradeAmount(_0x391332,_0x41bf44){const _0x59cd42=_0x5d06a0;let _0x31520c=0x0;try{_0x31520c=exchange[_0x59cd42(0x381)](_0x391332,_0x41bf44);}catch(_0x1d48c6){}return _0x31520c;}function checkMinimums(_0x5b9235){const _0x56d32f=_0x5d06a0;let _0x2ef578=!![];const _0x2ddf23=!_0x5b9235['reverse']?markets[_0x5b9235['symbol']]['limits']['amount']['min']:markets[_0x5b9235['symbol']][_0x56d32f(0x1f9)]['cost']['min'],_0x28128f=!_0x5b9235[_0x56d32f(0x35b)]?markets[_0x5b9235['symbol']][_0x56d32f(0x1f9)][_0x56d32f(0x217)][_0x56d32f(0x20e)]:markets[_0x5b9235[_0x56d32f(0x1f3)]]['limits'][_0x56d32f(0x2d5)][_0x56d32f(0x20e)],_0x1599ee=truncateTradeAmount(_0x5b9235[_0x56d32f(0x1f3)],_0x5b9235['trade']);_0x5b9235[_0x56d32f(0x32a)]=_0x1599ee;if(Math['abs'](_0x1599ee)<_0x2ddf23)_0x2ef578=![];if(Math[_0x56d32f(0x34d)](_0x1599ee)*_0x5b9235[_0x56d32f(0x29e)]<_0x28128f)_0x2ef578=![];if(_0x5b9235[_0x56d32f(0x207)]==_0x56d32f(0x289)){let _0x2db6c5=config[_0x56d32f(0x2b4)][_0x56d32f(0x2d0)](_0x57ea62=>_0x57ea62[_0x56d32f(0x2c8)]==_0x5b9235[_0x56d32f(0x2c8)]);if(_0x2db6c5[_0x56d32f(0x1ef)]>0x0){if(Math['abs'](_0x1599ee)>_0x5b9235[_0x56d32f(0x1c1)]-_0x2db6c5[_0x56d32f(0x1ef)])_0x2ef578=![];}else{if(Math[_0x56d32f(0x34d)](_0x1599ee)>_0x5b9235[_0x56d32f(0x1c1)])_0x2ef578=![];}}if(_0x5b9235[_0x56d32f(0x207)]==_0x56d32f(0x355)){let _0xda915b=config[_0x56d32f(0x2b4)][_0x56d32f(0x2d0)](_0x3897fd=>_0x3897fd[_0x56d32f(0x2c8)]==config['basecoin']),_0x2c0fa4=currentCoins[_0x56d32f(0x2d0)](_0x3691d0=>_0x3691d0[_0x56d32f(0x2c8)]==config['basecoin']);if(_0xda915b[_0x56d32f(0x1ef)]>0x0){if(Math['abs'](_0x1599ee)*_0x5b9235[_0x56d32f(0x29e)]>_0x2c0fa4[_0x56d32f(0x1c1)]-_0xda915b[_0x56d32f(0x1ef)])_0x2ef578=![];}else{if(Math[_0x56d32f(0x34d)](_0x1599ee)*_0x5b9235[_0x56d32f(0x29e)]>_0x2c0fa4['number'])_0x2ef578=![];}}return _0x2ef578;}async function getBalances(_0x2dd47e=!![]){const _0x5019be=_0x5d06a0;let _0x3f3ed7=0x0,_0x22d497;const _0x815311=config[_0x5019be(0x244)];if(config[_0x5019be(0x1cc)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x5019be(0x2da)](_0x5d4b9c=>{const _0x1dbaa0=_0x5019be;if(_0x5d4b9c[_0x1dbaa0(0x2c8)]!=config[_0x1dbaa0(0x2af)]){let _0x52d30e=gTicker[noslash(_0x5d4b9c[_0x1dbaa0(0x1f3)])];_0x22d497=_0x5d4b9c['reverse']?0x1/_0x52d30e:_0x52d30e;}else _0x22d497=0x1;let _0x2dcf6c=_0x5d4b9c['number']*_0x22d497;_0x3f3ed7+=_0x2dcf6c,_0x5d4b9c[_0x1dbaa0(0x29e)]=formatResult(Number(_0x22d497),0x8),_0x5d4b9c[_0x1dbaa0(0x2a9)]=_0x2dcf6c;}),currentCoins[_0x5019be(0x2da)](_0x177d7f=>{const _0x2e702e=_0x5019be;let _0x303483=config['portfolio'][_0x2e702e(0x2d0)](_0x473403=>_0x473403['coin']==_0x177d7f[_0x2e702e(0x2c8)]),_0x19e057=Number(_0x303483[_0x2e702e(0x27d)]),_0x2cdc55=_0x177d7f['value']/_0x3f3ed7*0x64,_0x560c35=_0x19e057*_0x3f3ed7/0x64/_0x177d7f[_0x2e702e(0x29e)]-_0x177d7f['number'];_0x177d7f['distribution']=formatResult(_0x2cdc55,0x3),_0x177d7f['target']=formatResult(_0x19e057,0x3),_0x177d7f[_0x2e702e(0x32a)]=formatResult(_0x560c35,0x8),_0x177d7f[_0x2e702e(0x207)]='',_0x177d7f[_0x2e702e(0x26a)]=![];if(_0x177d7f[_0x2e702e(0x2c8)]!=config[_0x2e702e(0x2af)]){if(_0x177d7f[_0x2e702e(0x27d)]>_0x19e057)_0x177d7f[_0x2e702e(0x207)]=_0x2e702e(0x289),_0x177d7f[_0x2e702e(0x26a)]=checkMinimums(_0x177d7f);else _0x177d7f[_0x2e702e(0x27d)]<_0x19e057&&(_0x177d7f[_0x2e702e(0x207)]=_0x2e702e(0x355),_0x177d7f[_0x2e702e(0x26a)]=checkMinimums(_0x177d7f));}_0x177d7f['delta']=_0x177d7f['distribution']/_0x177d7f[_0x2e702e(0x30c)]-0x1;if(_0x177d7f[_0x2e702e(0x22a)]==_0x2e702e(0x1fc)||_0x177d7f[_0x2e702e(0x22a)]==_0x2e702e(0x367))_0x177d7f['orderstatus']=_0x2e702e(0x1c3);}),currentCoins[_0x5019be(0x360)]((_0x5f095a,_0x47abe2)=>_0x5f095a['delta']<_0x47abe2[_0x5019be(0x362)]?0x1:_0x47abe2[_0x5019be(0x362)]<_0x5f095a[_0x5019be(0x362)]?-0x1:0x0);const _0x1d11b1=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1d11b1['eur'],'usd':_0x1d11b1[_0x5019be(0x2dc)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x815311},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(_0x2dd47e){if(config[_0x5019be(0x1cc)])headlessMode({'portfolio':currentCoins,'threshold':_0x815311});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x815311});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x5ccf1=getNormalizedPerformance();getStartingBalances(_0x5ccf1),emitPerformance(_0x5ccf1);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x4d065b=_0x5d06a0;if(!lastBalances)return;let _0x1aa1d0=[],_0x32a9eb,_0x1e0b0e=JSON[_0x4d065b(0x233)](lastBalances['portfolio']);_0x1e0b0e['sort']((_0x1b5be3,_0xea8d72)=>_0x1b5be3[_0x4d065b(0x2c8)]>_0xea8d72[_0x4d065b(0x2c8)]?0x1:_0xea8d72[_0x4d065b(0x2c8)]>_0x1b5be3[_0x4d065b(0x2c8)]?-0x1:0x0),_0x1e0b0e[_0x4d065b(0x2da)](_0x474845=>{const _0x53bba1=_0x4d065b;let _0x4dd52d={'coin':_0x474845[_0x53bba1(0x2c8)],'number':_0x474845[_0x53bba1(0x1c1)],'price':_0x474845[_0x53bba1(0x29e)]};_0x1aa1d0[_0x53bba1(0x2ca)](_0x4dd52d);});const _0x428a4a=await getFiat();_0x32a9eb={'date':lastBalances['time'][_0x4d065b(0x2a6)]('\x20')[0x0],'eur':_0x428a4a[_0x4d065b(0x238)],'usd':_0x428a4a[_0x4d065b(0x2dc)],'coins':_0x1aa1d0};let _0x2d7211=dbPerformance['get'](_0x4d065b(0x24d))['find']({'date':_0x32a9eb[_0x4d065b(0x25d)]})[_0x4d065b(0x2a9)]();_0x2d7211?_0x32a9eb[_0x4d065b(0x25d)]!=config['startdate']&&dbPerformance[_0x4d065b(0x25f)]('data')[_0x4d065b(0x2d0)]({'date':_0x32a9eb[_0x4d065b(0x25d)]})['assign'](_0x32a9eb)[_0x4d065b(0x225)]():dbPerformance[_0x4d065b(0x25f)](_0x4d065b(0x24d))['push'](_0x32a9eb)[_0x4d065b(0x225)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x1d1be8=_0x5d06a0;let _0x2a43ab=[];if(dbPerformance['has']('data')[_0x1d1be8(0x2a9)]()){let _0x11f2da=dbPerformance[_0x1d1be8(0x25f)](_0x1d1be8(0x24d))[_0x1d1be8(0x1d5)]()[_0x1d1be8(0x204)](_0x54498e=>{const _0x25a350=_0x1d1be8;if(_0x54498e[_0x25a350(0x284)][_0x25a350(0x26c)]==0x0)return![];else return!![];})['sortBy'](_0x1d1be8(0x25d))[_0x1d1be8(0x2a9)](),_0x48f219=[...config['liquidity']];_0x48f219[_0x1d1be8(0x360)]((_0x451950,_0x53888a)=>_0x451950[_0x1d1be8(0x25d)]>_0x53888a[_0x1d1be8(0x25d)]?-0x1:_0x53888a[_0x1d1be8(0x25d)]>_0x451950[_0x1d1be8(0x25d)]?0x1:0x0);let _0x481af5=0x1,_0x5d090a=[],_0xb5f48e=0x0;_0x11f2da[_0x1d1be8(0x2a8)]()[_0x1d1be8(0x35b)]()[_0x1d1be8(0x2da)]((_0x381805,_0x37cb79)=>{const _0x5d33be=_0x1d1be8;if(_0x48f219[_0xb5f48e]){if(_0x11f2da[_0x11f2da[_0x5d33be(0x26c)]-_0x37cb79]&&_0x48f219[_0xb5f48e][_0x5d33be(0x25d)]==_0x11f2da[_0x11f2da[_0x5d33be(0x26c)]-_0x37cb79][_0x5d33be(0x25d)]){if(_0x37cb79<_0x11f2da[_0x5d33be(0x26c)]){let _0x1de338=0x0,_0x197acb=0x0;_0x11f2da[_0x11f2da[_0x5d33be(0x26c)]-_0x37cb79]['coins']['forEach'](_0x4a85d7=>{const _0x5c88e3=_0x5d33be;_0x197acb+=_0x4a85d7[_0x5c88e3(0x1c1)]*_0x4a85d7['price'];}),_0x48f219[_0xb5f48e][_0x5d33be(0x1f4)][_0x5d33be(0x2da)](_0x3e2f6e=>{const _0x48b12d=_0x5d33be;_0x1de338+=_0x3e2f6e[_0x48b12d(0x1c1)]*_0x3e2f6e[_0x48b12d(0x1da)];}),_0x481af5*=_0x1de338/(_0x197acb-_0x1de338)+0x1;}_0xb5f48e++;}}let _0x27e4bb=0x0;_0x381805[_0x5d33be(0x284)][_0x5d33be(0x2da)](_0x3e65b9=>{const _0x260a0d=_0x5d33be;_0x27e4bb+=_0x3e65b9[_0x260a0d(0x1c1)]*_0x3e65b9[_0x260a0d(0x1da)];}),_0x5d090a[_0x11f2da[_0x5d33be(0x26c)]-_0x37cb79-0x1]=_0x27e4bb*(_0x481af5-0x1);});let _0xc97d5b=[];_0x48f219=[...config[_0x1d1be8(0x2a1)]]||[];let _0x1f35ce=0x0;_0xb5f48e=0x0,_0x11f2da[_0x1d1be8(0x2da)]((_0xf9075c,_0x5c0f8b)=>{const _0x54c5b6=_0x1d1be8;if(_0x48f219[_0xb5f48e]){const _0x3ab839=fns[_0x54c5b6(0x233)](_0x48f219[_0xb5f48e][_0x54c5b6(0x25d)],_0x54c5b6(0x343),new Date()),_0x44a73a=fns[_0x54c5b6(0x233)](_0xf9075c[_0x54c5b6(0x25d)],_0x54c5b6(0x343),new Date());if(fns['isEqual'](_0x3ab839,_0x44a73a)){let _0x373f6c=0x0;_0x48f219[_0xb5f48e][_0x54c5b6(0x1f4)][_0x54c5b6(0x2da)](_0x126f69=>{const _0x3b7cbc=_0x54c5b6;!_0xc97d5b[_0x126f69['coin']]?_0xc97d5b[_0x126f69[_0x3b7cbc(0x2c8)]]=_0x126f69[_0x3b7cbc(0x1c1)]:(_0x373f6c=_0xc97d5b[_0x126f69[_0x3b7cbc(0x2c8)]],_0xc97d5b[_0x126f69[_0x3b7cbc(0x2c8)]]+=_0x126f69['number']);const _0x29ee29=_0xf9075c[_0x3b7cbc(0x284)][_0x3b7cbc(0x2d0)](_0x6bd321=>_0x6bd321['coin']==_0x126f69[_0x3b7cbc(0x2c8)]);(!_0x29ee29||_0x29ee29[_0x3b7cbc(0x1c1)]==0x0)&&(_0x1f35ce+=(-_0x126f69[_0x3b7cbc(0x1c1)]-_0x373f6c)*_0x126f69['price']);}),_0xb5f48e++;}}_0xf9075c[_0x54c5b6(0x284)][_0x54c5b6(0x2da)]((_0x14cdc4,_0x496dd3)=>{const _0x5b59d0=_0x54c5b6;_0xc97d5b[_0x14cdc4['coin']]&&(_0x14cdc4[_0x5b59d0(0x1f7)]=_0xc97d5b[_0x14cdc4[_0x5b59d0(0x2c8)]]);}),_0x2a43ab[_0x54c5b6(0x2ca)]({'date':_0xf9075c['date'],'eur':_0xf9075c[_0x54c5b6(0x238)],'usd':_0xf9075c['usd'],'offset':_0x5d090a[_0x5c0f8b],'netoffset':_0x1f35ce,'coins':_0xf9075c['coins']});});}return _0x2a43ab;}function emitPerformance(_0x4a651f){const _0x59f096=_0x5d06a0;_0x4a651f['length']!==0x0?(proxyEmit(_0x59f096(0x30e),_0x4a651f),lastPerformanceEmitted=getDate()):proxyEmit(_0x59f096(0x30e),[]);}function getPerf(_0x3aefec,_0x37c08d){const _0x3c3b19=_0x5d06a0;let _0x439034=0x0,_0x5cc360=0x0,_0x250363=0x0;_0x3aefec[_0x3c3b19(0x284)][_0x3c3b19(0x2da)](_0x48f575=>{const _0xa60afe=_0x3c3b19;_0x439034+=_0x48f575['number']*_0x48f575[_0xa60afe(0x1da)];});_0x37c08d&&(_0x439034+=_0x3aefec[_0x3c3b19(0x1ef)]);if(config[_0x3c3b19(0x2af)]==='BTC'||config[_0x3c3b19(0x2af)]==='ETH'||config[_0x3c3b19(0x2af)]===_0x3c3b19(0x369))_0x5cc360=_0x439034*_0x3aefec[_0x3c3b19(0x238)],_0x250363=_0x439034*_0x3aefec[_0x3c3b19(0x2dc)];else{if(usdBasecoins[_0x3c3b19(0x371)](config['basecoin']))_0x5cc360=_0x439034*_0x3aefec[_0x3c3b19(0x238)]/_0x3aefec['usd'],_0x250363=_0x439034;else config[_0x3c3b19(0x2af)]===_0x3c3b19(0x30f)&&(_0x5cc360=_0x439034,_0x250363=_0x439034*_0x3aefec[_0x3c3b19(0x2dc)]/_0x3aefec[_0x3c3b19(0x238)]);}return[_0x439034,_0x5cc360,_0x250363];}function getKPIs(_0x7a6e4,_0x3f26d3=_0x5d06a0(0x30f)){const _0x652eb4=_0x5d06a0,_0x217d75=config[_0x652eb4(0x2af)],_0x781130=lastBalances,_0x1fc5a0=currentCoins,_0xdde462=getNormalizedPerformance(),_0x3d026b=_0x7a6e4===_0x652eb4(0x2af)?_0x217d75:_0x7a6e4===_0x652eb4(0x1dd)||_0x7a6e4===_0x652eb4(0x282)?_0x3f26d3:_0x652eb4(0x27a)+_0x217d75,_0xb6ebeb=_0x7a6e4==='net-basecoin'?_0x652eb4(0x35a):_0x7a6e4===_0x652eb4(0x282)?'Net\x20effect':_0x3d026b+'\x20value',_0x11fdf3=_0x7a6e4===_0x652eb4(0x2fb)||_0x7a6e4===_0x652eb4(0x282)?_0x652eb4(0x35a):_0x3d026b+'\x20change';let _0x11a138=0x0;_0x1fc5a0[_0x652eb4(0x2da)](_0x53d355=>{const _0x3fe8e4=_0x652eb4;_0x11a138+=_0x53d355['number']*_0x53d355[_0x3fe8e4(0x29e)];});if(_0x7a6e4==='fiat'||_0x7a6e4===_0x652eb4(0x282)){if(_0x217d75===_0x652eb4(0x22c)||_0x217d75===_0x652eb4(0x359)||_0x217d75==='PAXG')_0x11a138=_0x11a138*(_0x3f26d3===_0x652eb4(0x30f)?_0x781130[_0x652eb4(0x238)]:_0x781130[_0x652eb4(0x2dc)]);else{if(usdBasecoins[_0x652eb4(0x371)](_0x217d75))_0x11a138=_0x11a138*(_0x3f26d3==='EUR'?_0x781130[_0x652eb4(0x238)]/_0x781130[_0x652eb4(0x2dc)]:0x1);else _0x217d75===_0x652eb4(0x30f)&&(_0x11a138=_0x11a138*(_0x3f26d3===_0x652eb4(0x30f)?0x1:_0x781130[_0x652eb4(0x2dc)]/_0x781130[_0x652eb4(0x238)]));}}let _0x9346af;if(_0x11a138!==0x0){if(_0x7a6e4===_0x652eb4(0x2af))_0x9346af=(_0x11a138/startingBalances['basecoin']-0x1)*0x64;else{if(_0x3f26d3===_0x652eb4(0x30f))_0x9346af=(_0x11a138/startingBalances[_0x652eb4(0x238)]-0x1)*0x64;else _0x9346af=(_0x11a138/startingBalances[_0x652eb4(0x2dc)]-0x1)*0x64;}let _0x3a1ebe=0x0;if(startingBalances[_0x652eb4(0x284)])_0x1fc5a0[_0x652eb4(0x2da)](_0x2f76c5=>{const _0x1cccec=_0x652eb4;let _0x59dc4c=startingBalances[_0x1cccec(0x284)]['find'](_0x40bc25=>_0x40bc25[_0x1cccec(0x2c8)]===_0x2f76c5[_0x1cccec(0x2c8)]);if(_0x59dc4c&&_0x59dc4c[_0x1cccec(0x2c8)]&&_0x2f76c5['number']!==0x0)_0x3a1ebe+=_0x59dc4c[_0x1cccec(0x1c1)]*_0x2f76c5[_0x1cccec(0x29e)];});let _0x405076=0x0;if(_0xdde462[_0x652eb4(0x26c)]!==0x0){let _0x3fb9f7=_0xdde462[_0xdde462[_0x652eb4(0x26c)]-0x1];_0x405076=_0x3fb9f7[_0x652eb4(0x2b0)];}_0x3a1ebe-=_0x405076;_0x7a6e4===_0x652eb4(0x2fb)&&(_0x9346af=(_0x11a138-_0x3a1ebe)/startingBalances['basecoin']*0x64,_0x11a138=_0x11a138-_0x3a1ebe);if(_0x7a6e4===_0x652eb4(0x282)){let _0x59e1ff=_0x3f26d3===_0x652eb4(0x30f)?startingBalances['eur']:startingBalances[_0x652eb4(0x2dc)];if(_0x217d75==='BTC'||_0x217d75===_0x652eb4(0x359)||_0x217d75===_0x652eb4(0x369))_0x3a1ebe=_0x3f26d3===_0x652eb4(0x30f)?_0x3a1ebe*_0x781130['eur']:_0x3a1ebe*_0x781130[_0x652eb4(0x2dc)];else{if(usdBasecoins[_0x652eb4(0x371)](_0x217d75))_0x3a1ebe=_0x3f26d3==='EUR'?_0x3a1ebe*_0x781130[_0x652eb4(0x238)]/_0x781130[_0x652eb4(0x2dc)]:_0x3a1ebe;else _0x217d75===_0x652eb4(0x30f)&&(_0x3a1ebe=_0x3f26d3==='EUR'?_0x3a1ebe:_0x3a1ebe*_0x781130['usd']/_0x781130['eur']);}_0x9346af=(_0x11a138-_0x3a1ebe)/_0x59e1ff*0x64,_0x11a138=_0x11a138-_0x3a1ebe;}if(_0x9346af){if(_0x9346af<0x64)_0x9346af=_0x9346af[_0x652eb4(0x1be)](0x2);else{if(_0x9346af<0x3e8)_0x9346af=_0x9346af[_0x652eb4(0x1be)](0x1);else _0x9346af=_0x9346af[_0x652eb4(0x1be)](0x0);}}else _0x9346af=Number('0')[_0x652eb4(0x1be)](0x2);if(_0x11a138){if(Math[_0x652eb4(0x34d)](_0x11a138)<0.000001)_0x11a138=_0x11a138[_0x652eb4(0x1be)](0x2);else{if(Math[_0x652eb4(0x34d)](_0x11a138)<0.1)_0x11a138=_0x11a138[_0x652eb4(0x1be)](0x6);else{if(Math[_0x652eb4(0x34d)](_0x11a138)<0x1)_0x11a138=_0x11a138[_0x652eb4(0x1be)](0x5);else{if(Math[_0x652eb4(0x34d)](_0x11a138)<0xa)_0x11a138=_0x11a138[_0x652eb4(0x1be)](0x4);else{if(Math['abs'](_0x11a138)<0x64)_0x11a138=_0x11a138[_0x652eb4(0x1be)](0x3);else{if(Math[_0x652eb4(0x34d)](_0x11a138)<0x3e8)_0x11a138=_0x11a138[_0x652eb4(0x1be)](0x2);else _0x11a138=_0x11a138['toFixed'](0x2);}}}}}}else _0x11a138=Number('0')[_0x652eb4(0x1be)](0x2);}else _0x9346af=Number('0')[_0x652eb4(0x1be)](0x2);return{'value':_0x11a138,'change':_0x9346af,'leftTxt':_0xb6ebeb,'rightTxt':_0x11fdf3};}async function getStartingBalances(_0x269ad2,_0x14b90b=!![]){const _0x25ebc3=_0x5d06a0;if(_0x269ad2['length']!==0x0){const [_0x5b2beb,_0x5f33d4,_0x1b791f]=getPerf(_0x269ad2[0x0],!![]);let _0x2311d8=[];config[_0x25ebc3(0x2b4)]['forEach'](_0x4545dd=>{const _0x3553cb=_0x25ebc3;let _0x4911c8=0x0,_0x2eca98;config[_0x3553cb(0x2a1)][_0x3553cb(0x2da)](_0xbef89b=>{const _0x589e3b=_0x3553cb;let _0x5a44bd=_0xbef89b['changes'][_0x589e3b(0x2d0)](_0x1634f1=>_0x1634f1['coin']==_0x4545dd[_0x589e3b(0x2c8)]);if(_0x5a44bd){_0x4911c8+=_0x5a44bd[_0x589e3b(0x1c1)];if(!_0x2eca98)_0x2eca98=_0x5a44bd[_0x589e3b(0x1da)];}}),_0x2311d8[_0x3553cb(0x2ca)]({'coin':_0x4545dd['coin'],'number':_0x4911c8,'initialprice':_0x2eca98});});const _0x19432a={'basecoin':_0x5b2beb,'eur':_0x5f33d4,'usd':_0x1b791f,'coins':_0x2311d8};if(_0x14b90b)proxyEmit(_0x25ebc3(0x1df),_0x19432a);startingBalances=_0x19432a;}}async function headlessMode(_0xa71e6){const _0x437fdc=_0x5d06a0;let _0x1bc567=_0xa71e6[_0x437fdc(0x2b4)],_0x3fe128=_0xa71e6[_0x437fdc(0x244)],_0x2de5a7=[];for(let _0x3ee3ee of _0x1bc567){if(_0x3ee3ee[_0x437fdc(0x2c8)]!=config[_0x437fdc(0x2af)]){if(_0x3ee3ee['delta']>=_0x3fe128/0x64){if(_0x3ee3ee[_0x437fdc(0x26a)])_0x2de5a7[_0x437fdc(0x2ca)](_0x3ee3ee);}else{if(_0x3ee3ee[_0x437fdc(0x362)]<=-_0x3fe128/0x64){if(_0x3ee3ee[_0x437fdc(0x26a)])_0x2de5a7[_0x437fdc(0x2ca)](_0x3ee3ee);}}}}let _0x4f3bed=!![];if(_0x2de5a7[_0x437fdc(0x26c)]>0x0){lockOrders==ORDERS[_0x437fdc(0x377)]&&!coolingDown&&_0x2de5a7[_0x437fdc(0x2da)](_0x36fff8=>{const _0x43c219=_0x437fdc;_0x36fff8[_0x43c219(0x1c1)]!=prevAmountAtOrder[_0x36fff8[_0x43c219(0x2c8)]]?logger[_0x43c219(0x337)](_0x43c219(0x2d3)+_0x36fff8[_0x43c219(0x2c8)]+'\x20'+_0x36fff8[_0x43c219(0x1c1)]+'\x20'+_0x36fff8[_0x43c219(0x29e)]+'\x20'+_0x36fff8['distribution']+'%\x20'+_0x36fff8[_0x43c219(0x30c)]+'%\x20'+(0x64*_0x36fff8[_0x43c219(0x362)])['toFixed'](0x2)+_0x43c219(0x228)+_0x3fe128[_0x43c219(0x1be)](0x2)+'%)'):(logger[_0x43c219(0x337)]('Invalid\x20trigger:\x20'+_0x36fff8[_0x43c219(0x2c8)]+'\x20'+_0x36fff8[_0x43c219(0x1c1)]+'\x20'+_0x36fff8['last']+'\x20'+_0x36fff8[_0x43c219(0x27d)]+'%\x20'+_0x36fff8['target']+'%\x20'+(0x64*_0x36fff8[_0x43c219(0x362)])[_0x43c219(0x1be)](0x2)+_0x43c219(0x228)+_0x3fe128[_0x43c219(0x1be)](0x2)+'%)'),logger[_0x43c219(0x337)]('Previous\x20amount\x20at\x20order\x20for\x20'+_0x36fff8[_0x43c219(0x2c8)]+':\x20'+prevAmountAtOrder[_0x36fff8[_0x43c219(0x2c8)]]),_0x4f3bed=![]);});if(_0x4f3bed)placeOrder(_0x2de5a7);else{const _0x4d9c48=await getCoins();[currentCoins,currentCoinsAll]=_0x4d9c48;}}}function notifyBalance(_0x2e12da){const _0x13c633=_0x5d06a0;let _0x4d90d6=_0x2e12da[_0x13c633(0x2b4)],_0x4ea77a=_0x2e12da[_0x13c633(0x244)],_0x1e68e8=[];for(let _0x49a32b of _0x4d90d6){if(_0x49a32b['coin']!=config[_0x13c633(0x2af)]){if(_0x49a32b[_0x13c633(0x362)]>=_0x4ea77a/0x64){if(_0x49a32b[_0x13c633(0x26a)])_0x1e68e8[_0x13c633(0x2ca)](_0x49a32b);}else{if(_0x49a32b[_0x13c633(0x362)]<=-_0x4ea77a/0x64){if(_0x49a32b[_0x13c633(0x26a)])_0x1e68e8[_0x13c633(0x2ca)](_0x49a32b);}}}}if(_0x1e68e8[_0x13c633(0x26c)]>0x0){let _0x3ce6d9=_0x1e68e8[_0x13c633(0x269)](_0x3a0cf2=>_0x3a0cf2[_0x13c633(0x2c8)]);_0x3ce6d9['sort']();let _0xb87b7f=_0x3ce6d9[_0x13c633(0x231)](',\x20');if(!lastCoinsToBalance)logHistory('warning',_0x13c633(0x2cc));lastCoinsToBalance=_0xb87b7f;}}function symbolToCoin(_0x15a57f){const _0x2ce910=_0x5d06a0;let _0x356257;if(_0x15a57f[_0x2ce910(0x371)]('/'+config['basecoin']))_0x356257=_0x15a57f[_0x2ce910(0x27f)]('/'+config['basecoin'],'');if(_0x15a57f[_0x2ce910(0x371)](config[_0x2ce910(0x2af)]+'/'))_0x356257=_0x15a57f['replace'](config[_0x2ce910(0x2af)]+'/','');return _0x356257;}async function unlockOrders(_0x4849a6=![]){const _0x6c1395=_0x5d06a0;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x6c1395(0x337)](_0x6c1395(0x37b)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);if(_0x4849a6){const _0x49f948=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x49f948,setBlockTransactionDetection(![]);}validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x6c1395(0x377)],logger[_0x6c1395(0x337)](_0x6c1395(0x232));}}async function validateOrders(_0x347cf7){const _0xa7327a=_0x5d06a0;if(_0x347cf7)validateOrdersState=_0x347cf7;logger[_0xa7327a(0x337)](_0xa7327a(0x26e)+validateOrdersState+_0xa7327a(0x2a4)+(lockOrders==0x1?_0xa7327a(0x2b3):lockOrders==0x2?'ORDERS.UNLOCKING':'ORDERS.UNLOCKED'));let _0x196882=[],_0x2a2e0f=config[_0xa7327a(0x2d1)]==_0xa7327a(0x1f2)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0xa7327a(0x2e9)])return;logger[_0xa7327a(0x337)](_0xa7327a(0x212)+validateOrdersState),lastOrders[_0xa7327a(0x2da)](_0x3a078f=>{const _0x50ca71=_0xa7327a;let _0x2ff029=![];_0x3a078f[_0x50ca71(0x1fc)]>0x0&&(_0x2ff029=!![]),_0x196882[_0x50ca71(0x2ca)](_0x2ff029),_0x2ff029&&config[_0x50ca71(0x2d1)]!=_0x50ca71(0x1f2)&&logHistory(_0x50ca71(0x309),'Order\x20filled:\x20'+_0x3a078f[_0x50ca71(0x1f3)]+'\x20'+_0x3a078f[_0x50ca71(0x207)]+'\x20#'+formatResult(_0x3a078f[_0x50ca71(0x1fc)],0x8)+'\x20@'+formatResult(_0x3a078f['price'],0x8));}),_0x196882['forEach']((_0x26c5ff,_0x26e1f0)=>{const _0x4064bb=_0xa7327a;if(_0x26c5ff)lastOrders[_0x4064bb(0x28b)](_0x26e1f0,0x1);}),persistOpenOrders(lastOrders);const _0x340f70=coolingDown?_0xa7327a(0x316):'balancing\x20resumed';if(validateOrdersState==_0xa7327a(0x1f7)){validateOrdersState=_0xa7327a(0x307);if(_0x196882[_0xa7327a(0x371)](![])){if(config[_0xa7327a(0x2d1)]=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0xa7327a(0x307)){if(_0x196882[_0xa7327a(0x371)](![])){}else{if(allOrdersPlaced){if(config[_0xa7327a(0x2d1)]==_0xa7327a(0x1f2)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0xa7327a(0x1e1))_0x196882[_0xa7327a(0x371)](![])&&(config['ordertype']==_0xa7327a(0x1f2)?logHistory('success',_0xa7327a(0x20b)+Math[_0xa7327a(0x2a7)](_0x2a2e0f*validateOrderInterval/0xea60)+_0xa7327a(0x2fa)+_0x340f70):(await cancelOrders(),logHistory('success',_0xa7327a(0x33f)+Math[_0xa7327a(0x2a7)](_0x2a2e0f*validateOrderInterval/0xea60)+_0xa7327a(0x2fa)+_0x340f70))),await unlockOrders(!![]);else{if(validateOrdersState==_0xa7327a(0x285)){if(config[_0xa7327a(0x2d1)]!='market')logHistory(_0xa7327a(0x1fe),'No\x20more\x20open\x20orders\x20-\x20'+_0x340f70);await unlockOrders(!![]);}}}}}async function cancelOrders(){lastOrders['forEach'](async _0x496952=>{const _0x1115ba=_0x4032;try{const _0x3f224a=await exchange[_0x1115ba(0x2b9)](_0x496952['orderId'],_0x496952[_0x1115ba(0x1f3)]);}catch(_0x2a4a96){if(_0x2a4a96['toString']()[_0x1115ba(0x371)]('OrderNotFound')){}else await handleError(_0x2a4a96,'cancelOrders()');}});}async function initCoinResults(_0xc36a73){const _0x1d8a9d=_0x5d06a0;_0xc36a73?logger[_0x1d8a9d(0x337)](_0x1d8a9d(0x22d)+_0xc36a73):logger[_0x1d8a9d(0x337)](_0x1d8a9d(0x366)),config['portfolio'][_0x1d8a9d(0x2da)](_0x32c143=>{const _0x9d4669=_0x1d8a9d;if(!_0x32c143['excluded']&&_0x32c143['coin']!=config[_0x9d4669(0x2af)]){const _0x45ff89=currentCoins['find'](_0x3ebd59=>_0x3ebd59[_0x9d4669(0x2c8)]==_0x32c143[_0x9d4669(0x2c8)]),_0x53ab0f=gTicker[noslash(_0x32c143['symbol'])];let _0x221215=_0x45ff89?_0x45ff89[_0x9d4669(0x1c1)]:null,_0x3f3991=_0x32c143[_0x9d4669(0x35b)]?0x1/_0x53ab0f:_0x53ab0f,_0x334b77;config[_0x9d4669(0x2a1)][_0x9d4669(0x2da)](_0xc76ffc=>{const _0x163d63=_0x9d4669;!_0x334b77&&(_0x334b77=_0xc76ffc[_0x163d63(0x1f4)][_0x163d63(0x2d0)](_0x2b92c6=>_0x2b92c6['coin']==_0x32c143[_0x163d63(0x2c8)]),_0x334b77&&(_0x221215=_0x334b77[_0x163d63(0x1c1)],_0x3f3991=_0x334b77[_0x163d63(0x1da)]));});let _0x28ada4=dbCoinResults[_0x9d4669(0x25f)](_0x9d4669(0x284))[_0x9d4669(0x2d0)]({'coin':_0x32c143['coin']})[_0x9d4669(0x2a9)]();if(!_0x28ada4){const _0x49a6ec={'coin':_0x32c143[_0x9d4669(0x2c8)],'number':_0x221215,'breakeven':_0x3f3991,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x9d4669(0x284))[_0x9d4669(0x2ca)](_0x49a6ec)[_0x9d4669(0x225)]();}else{if(_0xc36a73&&_0x32c143['coin']==_0xc36a73){const _0xc54692={'coin':_0x32c143['coin'],'number':_0x221215,'breakeven':_0x3f3991,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x9d4669(0x284))['find']({'coin':_0x32c143[_0x9d4669(0x2c8)]})[_0x9d4669(0x311)](_0xc54692)[_0x9d4669(0x225)]();}}}});}async function updateCoinResults(_0x3943ee,_0x1832a2=![]){const _0x4e1bca=_0x5d06a0;let _0x2ef5a5,_0x4e9a89,_0x219279,_0x49ff0c,_0x4574d9,_0x2422eb,_0x159d2e=dbCoinResults['get']('coins')['find']({'coin':_0x3943ee[_0x4e1bca(0x2c8)]})[_0x4e1bca(0x2a9)](),_0x190912=![];_0x159d2e&&Object[_0x4e1bca(0x304)](_0x159d2e)[_0x4e1bca(0x2da)](([_0x18cf1b,_0x3d378b])=>{if(_0x3d378b==null)_0x190912=!![];});(!_0x159d2e||_0x190912)&&(await initCoinResults(_0x3943ee['coin']),_0x159d2e=dbCoinResults[_0x4e1bca(0x25f)](_0x4e1bca(0x284))[_0x4e1bca(0x2d0)]({'coin':_0x3943ee['coin']})[_0x4e1bca(0x2a9)]());_0x3943ee[_0x4e1bca(0x35b)]&&(_0x2422eb={'filled':_0x3943ee[_0x4e1bca(0x1fc)]*_0x3943ee[_0x4e1bca(0x1da)],'amount':_0x3943ee[_0x4e1bca(0x1fc)]*_0x3943ee[_0x4e1bca(0x1da)],'side':_0x3943ee[_0x4e1bca(0x207)]=='sell'?'buy':_0x4e1bca(0x289),'price':0x1/_0x3943ee[_0x4e1bca(0x1da)]},_0x3943ee={..._0x3943ee,..._0x2422eb});_0x1832a2?_0x4e9a89=_0x3943ee[_0x4e1bca(0x207)]==_0x4e1bca(0x355)?_0x159d2e[_0x4e1bca(0x1c1)]+_0x3943ee['filled']:_0x159d2e[_0x4e1bca(0x1c1)]-_0x3943ee[_0x4e1bca(0x1fc)]:_0x4e9a89=await getCoinNumber(_0x3943ee[_0x4e1bca(0x2c8)]);if(_0x3943ee[_0x4e1bca(0x271)]&&_0x3943ee[_0x4e1bca(0x271)][_0x4e1bca(0x30a)]==config[_0x4e1bca(0x2af)])_0x2ef5a5=Number(_0x3943ee[_0x4e1bca(0x271)]['cost']);else{if(_0x3943ee[_0x4e1bca(0x271)]&&_0x3943ee[_0x4e1bca(0x271)]['currency']==_0x4e1bca(0x2df)&&!_0x1832a2&&config[_0x4e1bca(0x2af)]!=_0x4e1bca(0x369))_0x2ef5a5=Number(_0x3943ee['fee'][_0x4e1bca(0x217)])*gTicker['BNB'+config[_0x4e1bca(0x2af)]];else _0x2ef5a5=defaultFee*_0x3943ee[_0x4e1bca(0x1fc)]*_0x3943ee[_0x4e1bca(0x1da)];}_0x3943ee[_0x4e1bca(0x207)]=='buy'?(_0x219279=_0x4e9a89!=0x0?(_0x159d2e[_0x4e1bca(0x2ce)]*_0x159d2e[_0x4e1bca(0x1c1)]+_0x3943ee[_0x4e1bca(0x1da)]*(_0x4e9a89-_0x159d2e[_0x4e1bca(0x1c1)])+_0x2ef5a5)/_0x4e9a89:0x0,_0x49ff0c=_0x159d2e[_0x4e1bca(0x214)]):(_0x219279=_0x4e9a89!=0x0?(_0x159d2e[_0x4e1bca(0x2ce)]*_0x159d2e['number']-_0x3943ee[_0x4e1bca(0x1da)]*(_0x159d2e['number']-_0x4e9a89)+_0x2ef5a5)/_0x4e9a89:0x0,_0x49ff0c=_0x159d2e['realized']+(_0x3943ee[_0x4e1bca(0x1da)]-_0x159d2e[_0x4e1bca(0x2ce)])*_0x3943ee[_0x4e1bca(0x1fc)]);_0x4574d9=(_0x3943ee[_0x4e1bca(0x1da)]-_0x219279-_0x2ef5a5/_0x3943ee[_0x4e1bca(0x1fc)])*_0x4e9a89;let _0x319d82={'coin':_0x3943ee[_0x4e1bca(0x2c8)],'number':_0x4e9a89,'breakeven':formatResult(_0x219279,0x8),'realized':formatResult(_0x49ff0c,0x8),'unrealized':formatResult(_0x4574d9,0x8),'fees':formatResult(_0x159d2e[_0x4e1bca(0x1f5)]+_0x2ef5a5,0x8),'sells':_0x3943ee['side']=='sell'?_0x159d2e[_0x4e1bca(0x290)]+0x1:_0x159d2e['sells'],'buys':_0x3943ee[_0x4e1bca(0x207)]==_0x4e1bca(0x355)?_0x159d2e[_0x4e1bca(0x324)]+0x1:_0x159d2e['buys']};dbCoinResults['get']('coins')[_0x4e1bca(0x2d0)]({'coin':_0x3943ee[_0x4e1bca(0x2c8)]})['assign'](_0x319d82)[_0x4e1bca(0x225)]();if(!_0x1832a2){if(_0x3943ee[_0x4e1bca(0x271)]&&_0x3943ee['fee'][_0x4e1bca(0x30a)]==_0x4e1bca(0x2df)){const _0x5dbed0=currentCoins[_0x4e1bca(0x2d0)](_0x5e1996=>_0x5e1996[_0x4e1bca(0x2c8)]==_0x4e1bca(0x2df));if(_0x5dbed0){let _0x2bd2f6=dbCoinResults[_0x4e1bca(0x25f)](_0x4e1bca(0x284))[_0x4e1bca(0x2d0)]({'coin':_0x4e1bca(0x2df)})['value']();_0x319d82={..._0x2bd2f6,'number':_0x5dbed0[_0x4e1bca(0x1c1)]},dbCoinResults[_0x4e1bca(0x25f)]('coins')[_0x4e1bca(0x2d0)]({'coin':_0x4e1bca(0x2df)})[_0x4e1bca(0x311)](_0x319d82)[_0x4e1bca(0x225)]();}}}}async function placeOrder(_0x19550d){const _0x524943=_0x5d06a0,_0x5d70ff=config[_0x524943(0x2d1)]==_0x524943(0x1f2)?'market':_0x524943(0x1c6);if(lockOrders==ORDERS[_0x524943(0x377)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS['LOCKED'],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x524943(0x1f7);let _0x284453=![];lastOrders=[];for(const _0xb68f9a of _0x19550d){let _0x3aba32,_0x53569c,_0x8dc8ef,_0x3ccdb6,_0x31c12b,_0x9c06fd=_0xb68f9a['symbol'];try{const _0x76e397=await exchange[_0x524943(0x2bf)](_0x9c06fd);_0x3aba32=_0xb68f9a[_0x524943(0x35b)]?0x1/_0xb68f9a[_0x524943(0x29e)]:_0xb68f9a[_0x524943(0x29e)],_0x53569c=_0x76e397[_0x524943(0x287)],_0x8dc8ef=_0x76e397[_0x524943(0x365)];_0xb68f9a['reverse']?(_0x3ccdb6=_0xb68f9a['side']==_0x524943(0x355)?_0x524943(0x289):'buy',_0x31c12b=Math[_0x524943(0x34d)](_0xb68f9a[_0x524943(0x32a)])/_0x3aba32):(_0x3ccdb6=_0xb68f9a['side'],_0x31c12b=Math[_0x524943(0x34d)](_0xb68f9a[_0x524943(0x32a)]));_0x5d70ff==_0x524943(0x1c6)&&(config[_0x524943(0x2d1)]==_0x524943(0x26d)&&(_0x3aba32=_0x3ccdb6=='buy'?_0x53569c:_0x8dc8ef),config[_0x524943(0x2d1)]==_0x524943(0x1c4)&&(_0x3aba32=_0x3ccdb6=='buy'?_0x8dc8ef:_0x53569c));_0x31c12b=formatResult(_0x31c12b,0x8),_0x3aba32=formatResult(_0x3aba32,0x8);const _0x256ad0=_0x3ccdb6==_0x524943(0x289)?config[_0x524943(0x36b)]?String['fromCodePoint']('0x'+config[_0x524943(0x36b)])+'\x20':'':config[_0x524943(0x263)]?String[_0x524943(0x1c5)]('0x'+config[_0x524943(0x263)])+'\x20':'',_0x43db95=_0x5d70ff=='market'?_0x524943(0x313):config[_0x524943(0x2d1)]==_0x524943(0x26d)?_0x524943(0x336):_0x524943(0x378),_0x1f0e12=(Math[_0x524943(0x298)](Math[_0x524943(0x347)]()*0x35a4e900)+0x5f5e100)[_0x524943(0x2a5)]();lastOrders[_0x524943(0x2ca)]({'customId':_0x1f0e12,'symbol':_0x9c06fd,'coin':_0xb68f9a[_0x524943(0x2c8)],'amount':_0x31c12b,'price':_0x3aba32,'side':_0x3ccdb6,'reverse':_0xb68f9a[_0x524943(0x35b)],'filled':0x0});if(_0x5d70ff=='market')logHistory(_0x524943(0x309),''+_0x256ad0+_0x43db95+'\x20order:\x20'+_0x9c06fd+'\x20'+_0x3ccdb6+'\x20#'+formatResult(_0x31c12b,0x8)+'\x20@'+formatResult(_0x3aba32,0x8));else logHistory(_0x524943(0x309),''+_0x256ad0+_0x43db95+_0x524943(0x259)+_0x9c06fd+'\x20'+_0x3ccdb6+'\x20#'+formatResult(_0x31c12b,0x8)+'\x20@'+formatResult(_0x3aba32,0x8));let _0x39a09a;_0x5d70ff==_0x524943(0x1f2)?_0x3ccdb6=='buy'&&['Bybit',_0x524943(0x2c1),_0x524943(0x31f),_0x524943(0x1db),'Huobipro'][_0x524943(0x371)](config[_0x524943(0x203)])?_0x39a09a=await exchange['createOrder'](_0x9c06fd,_0x5d70ff,_0x3ccdb6,_0x31c12b,_0x3aba32):_0x39a09a=await exchange[_0x524943(0x2de)](_0x9c06fd,_0x5d70ff,_0x3ccdb6,_0x31c12b,undefined):_0x39a09a=await exchange[_0x524943(0x2de)](_0x9c06fd,_0x5d70ff,_0x3ccdb6,_0x31c12b,_0x3aba32);_0xb68f9a[_0x524943(0x1d7)]=_0xb68f9a['number'],logger['debug'](_0x524943(0x2cb)+_0x39a09a['id']+'\x20|\x20Custom\x20ID:\x20'+_0x1f0e12);const _0x103f77=lastOrders[_0x524943(0x26c)]-0x1;if(_0x103f77>=0x0&&lastOrders[_0x103f77]['customId']==_0x1f0e12){lastOrders[_0x103f77][_0x524943(0x368)]=_0x39a09a['id'];if(_0x39a09a['amount'])lastOrders[_0x103f77]['amount']=_0x39a09a[_0x524943(0x2d5)];if(_0x39a09a['price'])lastOrders[_0x103f77][_0x524943(0x1da)]=_0x39a09a[_0x524943(0x1da)];lastOrders[_0x103f77][_0x524943(0x271)]=_0x39a09a[_0x524943(0x271)];}if(config[_0x524943(0x261)]!=0x0){let _0x4c8d38=null;if(cooldownTracker[_0x524943(0x26c)]==config[_0x524943(0x261)]-0x1)_0x4c8d38=cooldownTracker['shift']();const _0xe12f69=getTimeStamp();cooldownTracker['push'](_0xe12f69);if(_0x4c8d38){const _0x4dc8c2=fns[_0x524943(0x2be)](new Date(_0xe12f69),new Date(_0x4c8d38));if(_0x4dc8c2<cooldownInterval){logHistory('error',_0x524943(0x383)+config['cooldown']+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x524943(0x31c)+cooldownPeriod/(0xe10*0x3e8)+_0x524943(0x379)),coolingDown=!![];break;}}}}catch(_0x35c675){if(_0x35c675['toString']()['includes'](_0x524943(0x273)))lastOrders=lastOrders[_0x524943(0x204)](_0x4c024c=>_0x4c024c[_0x524943(0x1f3)]!=_0x9c06fd),logHistory(_0x524943(0x1eb),_0x524943(0x22f)+_0x9c06fd),_0x284453=!![];else{if(_0x35c675[_0x524943(0x2a5)]()[_0x524943(0x371)](_0x524943(0x29c)))lastOrders=lastOrders['filter'](_0x4ff292=>_0x4ff292[_0x524943(0x1f3)]!=_0x9c06fd),logHistory(_0x524943(0x1eb),_0x524943(0x2bb)+_0x9c06fd),_0x284453=!![];else{if(_0x35c675['toString']()['includes'](_0x524943(0x296)))lastOrders=lastOrders[_0x524943(0x204)](_0x52117a=>_0x52117a[_0x524943(0x1f3)]!=_0x9c06fd),logHistory(_0x524943(0x1eb),_0x524943(0x254)+_0x9c06fd),logger[_0x524943(0x337)](_0x35c675),_0x284453=!![];else _0x35c675[_0x524943(0x2a5)]()[_0x524943(0x371)](_0x524943(0x226))?(lastOrders=lastOrders['filter'](_0x115e07=>_0x115e07[_0x524943(0x1f3)]!=_0x9c06fd),logHistory(_0x524943(0x1eb),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x9c06fd),_0x284453=!![]):(lastOrders=lastOrders[_0x524943(0x204)](_0x35efd4=>_0x35efd4[_0x524943(0x1f3)]!=_0x9c06fd),await handleError(_0x35c675,_0x524943(0x2b2),_0x9c06fd));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x524943(0x26c)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0xc2ddeb=config[_0x524943(0x2d1)]=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2a552b=_0x524943;validateOrders(_0x2a552b(0x1e1));},_0xc2ddeb);}else unlockOrders();_0x284453&&config['headless']&&(logHistory(_0x524943(0x1eb),_0x524943(0x202)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x524943(0x230)));}else{if(coolingDown)!config['headless']&&logHistory(_0x524943(0x1eb),_0x524943(0x1d8));else lockOrders!=ORDERS[_0x524943(0x377)]&&(!config[_0x524943(0x1cc)]&&(config[_0x524943(0x2d1)]==_0x524943(0x1f2)?logHistory(_0x524943(0x1eb),_0x524943(0x2d2)):logHistory(_0x524943(0x1eb),_0x524943(0x2a3))));}}function persistOpenOrders(_0x14e14d){const _0x19899c=_0x5d06a0,_0x390cd8={...config,'openOrders':_0x14e14d};let _0x39f83d=dbConfig['get'](_0x19899c(0x23f))['find']({'botID':botID})[_0x19899c(0x2a9)]();_0x39f83d&&dbConfig['get'](_0x19899c(0x23f))['find']({'botID':botID})[_0x19899c(0x311)](_0x390cd8)['write']();}function restoreOrders(){const _0x4c32bf=_0x5d06a0;let _0x19c0f6;config[_0x4c32bf(0x215)]&&allOpenOrders[_0x4c32bf(0x2da)](_0x59160c=>{const _0x410051=_0x4c32bf,_0x264cdd=config[_0x410051(0x215)][_0x410051(0x2d0)](_0x4d637e=>_0x4d637e[_0x410051(0x368)]==_0x59160c['id']);_0x264cdd&&(lastOrders['push'](_0x264cdd),_0x19c0f6=_0x59160c[_0x410051(0x357)]);});if(lastOrders[_0x4c32bf(0x26c)]>0x0){lockOrders=ORDERS[_0x4c32bf(0x2e9)],validateOrdersState=_0x4c32bf(0x307),allOrdersPlaced=!![];const _0x335196=new Date()[_0x4c32bf(0x338)](),_0x1b4394=config[_0x4c32bf(0x2d1)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x4c32bf(0x34b)]*0x3c*0x3e8;if(_0x19c0f6+_0x1b4394>_0x335196){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x26a870=_0x4c32bf;validateOrders(_0x26a870(0x1e1));},_0x19c0f6+_0x1b4394-_0x335196);}else validateOrders('final');}}async function sendMetricsTelegram(){const _0x53f43d=_0x5d06a0;if(!coinsLoaded){process[_0x53f43d(0x219)]({'telegrammsg':'Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x522bcb=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x3bc45f='';if(config[_0x53f43d(0x32d)])_0x3bc45f=_0x53f43d(0x1ea)+config['botname']+_0x53f43d(0x373);else _0x3bc45f=_0x53f43d(0x33b)+botID+_0x53f43d(0x373);const _0x4377c8=getKPIs(_0x53f43d(0x2af)),_0x3a3232=getKPIs(_0x53f43d(0x1dd),config[_0x53f43d(0x1dd)]),_0x257796=getKPIs(_0x53f43d(0x2fb)),_0x348788=getKPIs('net-fiat',config[_0x53f43d(0x1dd)]);_0x3bc45f+='<pre>',_0x3bc45f+=_0x4377c8['leftTxt']+'\x20:\x20'+_0x4377c8[_0x53f43d(0x2a9)]+'\x0a',_0x3bc45f+=_0x4377c8['rightTxt']+':\x20'+_0x4377c8[_0x53f43d(0x283)]+'%\x0a',_0x3bc45f+=_0x3a3232[_0x53f43d(0x2c3)]+_0x53f43d(0x36d)+_0x3a3232[_0x53f43d(0x2a9)]+'\x0a',_0x3bc45f+=_0x3a3232[_0x53f43d(0x374)]+':\x20'+_0x3a3232[_0x53f43d(0x283)]+'%\x0a',_0x3bc45f+=_0x257796[_0x53f43d(0x2c3)]+':\x20'+_0x257796[_0x53f43d(0x2a9)]+'\x20('+config[_0x53f43d(0x2af)]+')\x0a',_0x3bc45f+=_0x257796[_0x53f43d(0x374)]+':\x20'+_0x257796['change']+_0x53f43d(0x228)+config[_0x53f43d(0x2af)]+')\x0a',_0x3bc45f+=_0x348788['leftTxt']+':\x20'+_0x348788[_0x53f43d(0x2a9)]+'\x20('+config[_0x53f43d(0x1dd)]+')\x0a',_0x3bc45f+=_0x348788['rightTxt']+':\x20'+_0x348788['change']+_0x53f43d(0x228)+config[_0x53f43d(0x1dd)]+')\x0a',_0x3bc45f+=_0x53f43d(0x333),process['send']({'telegrammsg':_0x3bc45f},_0x16bb4b=>{});}async function sendPortfolioTelegram(){const _0x5788ee=_0x5d06a0;if(!coinsLoaded||!currentCoins[0x0][_0x5788ee(0x27d)]){process[_0x5788ee(0x219)]({'telegrammsg':_0x5788ee(0x292)},_0x49af19=>{});return;}let _0x3f9f06='';if(config[_0x5788ee(0x32d)])_0x3f9f06=_0x5788ee(0x1ea)+config['botname']+_0x5788ee(0x306);else _0x3f9f06=_0x5788ee(0x33b)+botID+_0x5788ee(0x306);_0x3f9f06+=_0x5788ee(0x2aa),_0x3f9f06+=_0x5788ee(0x341),_0x3f9f06+=_0x5788ee(0x2f0),_0x3f9f06+=_0x5788ee(0x341),currentCoins['forEach'](_0x2ef870=>{const _0x469b21=_0x5788ee;_0x3f9f06+=_0x2ef870['coin']['padEnd'](0x7)+'|\x20'+formatPad(_0x2ef870[_0x469b21(0x27d)],0x2,0x6)+'|\x20'+formatPad(_0x2ef870[_0x469b21(0x30c)],0x2,0x6)+'|\x20'+formatPad(_0x2ef870[_0x469b21(0x362)]*0x64,0x2,0x6)+'\x0a';}),_0x3f9f06+=_0x5788ee(0x333),process['send']({'telegrammsg':_0x3f9f06},_0x39848b=>{});}function formatPad(_0x2028b2,_0x5dfb05,_0x59566c){const _0x58a884=_0x5d06a0,_0xfa1283=formatResultString(_0x2028b2,_0x5dfb05);return _0xfa1283?_0xfa1283[_0x58a884(0x260)](_0x59566c):''['padStart'](_0x59566c);}function logHistory(_0x333d8d,_0xfa349e,_0x599e06=''){const _0x372c95=_0x5d06a0;logger['full'](''+_0xfa349e);let _0x5b41c6={'time':getTimeStamp(),'type':_0x333d8d,'event':_0xfa349e};dbLogs['get'](_0x372c95(0x34e))[_0x372c95(0x2ca)](_0x5b41c6)['write']();if(_0x599e06=='')_0x599e06=_0xfa349e;proxyEmit(_0x372c95(0x2b5),{'log':_0x5b41c6,'summary':_0x599e06}),process[_0x372c95(0x219)]({'telegram':{..._0x5b41c6,'botname':config['botname'],'showname':config[_0x372c95(0x32d)]}},_0x244993=>{});}function emitHistory(_0x59f0db={}){const _0x42d3aa=_0x5d06a0;Object[_0x42d3aa(0x2e7)](_0x59f0db)[_0x42d3aa(0x26c)]==0x0&&(_0x59f0db={'type':['order',_0x42d3aa(0x2b5)],'event':'','page':0x1});if(_0x59f0db['type'][_0x42d3aa(0x371)]('event'))_0x59f0db[_0x42d3aa(0x278)][_0x42d3aa(0x28b)](_0x59f0db['type']['indexOf']('event'),0x1,_0x42d3aa(0x1eb),_0x42d3aa(0x334),_0x42d3aa(0x1fe));if(dbLogs[_0x42d3aa(0x1ff)]('logs')[_0x42d3aa(0x2a9)]()){let _0x35878c=dbLogs[_0x42d3aa(0x25f)](_0x42d3aa(0x34e))[_0x42d3aa(0x204)](_0x176a86=>{const _0xf2574b=_0x42d3aa;if(_0x59f0db[_0xf2574b(0x278)][_0xf2574b(0x26c)]==0x0)return![];else return _0x59f0db[_0xf2574b(0x278)][_0xf2574b(0x371)](_0x176a86[_0xf2574b(0x278)]);})[_0x42d3aa(0x204)](_0x280d50=>{const _0x303faa=_0x42d3aa;if(_0x59f0db[_0x303faa(0x2b5)]=='')return!![];else return _0x280d50[_0x303faa(0x2b5)][_0x303faa(0x221)]()[_0x303faa(0x371)](_0x59f0db[_0x303faa(0x2b5)][_0x303faa(0x221)]());})[_0x42d3aa(0x335)]('time'),_0x2ce353=_0x35878c['value']()['length'];_0x35878c=_0x35878c[_0x42d3aa(0x35b)]()[_0x42d3aa(0x2a8)]((_0x59f0db[_0x42d3aa(0x37d)]-0x1)*logPageSize,_0x59f0db['page']*logPageSize-0x1)[_0x42d3aa(0x35b)]()[_0x42d3aa(0x2a9)](),proxyEmit(_0x42d3aa(0x1ed),{'logs':_0x35878c,'total':_0x2ce353});}else proxyEmit(_0x42d3aa(0x1ed),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2b4503){const _0x51b58d=_0x5d06a0;if(dbLogs[_0x51b58d(0x1ff)](_0x51b58d(0x34e))[_0x51b58d(0x2a9)]()){const _0x144376=dbLogs[_0x51b58d(0x25f)](_0x51b58d(0x34e))[_0x51b58d(0x335)]('time')[_0x51b58d(0x204)](_0x523358=>{const _0x11417b=_0x51b58d;return _0x523358[_0x11417b(0x278)]==_0x11417b(0x309);})['value']();dbLogs['get']('logs')[_0x51b58d(0x201)]()[_0x51b58d(0x225)](),dbLogs['get'](_0x51b58d(0x34e))[_0x51b58d(0x311)](_0x144376)[_0x51b58d(0x225)](),emitHistory(_0x2b4503);}}async function pauseBot(_0x528f0f=pauseBotIntervalShort,_0x435680,_0x34bbb7,_0x5b4f4b=![]){const _0x2ddc03=_0x5d06a0,_0x5e1eda=new Date()['getTime']();if(!lastErrorShown||_0x5e1eda-lastErrorShown>=_0x528f0f){lastErrorShown=_0x5e1eda;if(!lastBotPause)lastBotPause=_0x5e1eda,consecutivePauses=0x1;else{if(_0x5e1eda-lastBotPause-_0x528f0f<0x5a*0x3e8){consecutivePauses++;if(consecutivePauses>maxPauseRetries){if(_0x5b4f4b){logHistory(_0x2ddc03(0x1eb),_0x435680+_0x2ddc03(0x240)),await killBot();return;}else logHistory('error',_0x435680+pauseBotMsg),_0x528f0f=pauseBotInterval;}}else consecutivePauses=0x1;lastBotPause=_0x5e1eda;}_0x34bbb7?logger['debug']('('+consecutivePauses+')\x20'+_0x435680+_0x2ddc03(0x2eb),_0x34bbb7):logger[_0x2ddc03(0x337)]('('+consecutivePauses+')\x20'+_0x435680);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);await sleep(_0x528f0f),botPaused=![],_0x528f0f==pauseBotIntervalShort?resumeBot(!![]):resumeBot(![]);}}}async function killBot(){const _0x1044b8=_0x5d06a0;botPaused=!![],await sleep(0x3e8),process[_0x1044b8(0x219)]({'stop':_0x1044b8(0x1de)},_0x2a7856=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x3aeb26,_0x3b2f74){const _0x2c9dd6=_0x5d06a0;if(botPaused)return;const _0x31fde0=config[_0x2c9dd6(0x203)]||_0x2c9dd6(0x2fc);if(_0x3b2f74)logger[_0x2c9dd6(0x337)]('Exception\x20thrown\x20in\x20'+_0x3b2f74);const _0x1dad6d=()=>{const _0x5ef089=_0x2c9dd6;loading[_0x5ef089(0x1eb)]=!![],emitLoadingProgress();};if(_0x3aeb26[_0x2c9dd6(0x2a5)]()[_0x2c9dd6(0x371)](_0x2c9dd6(0x28d)))logHistory('error',_0x31fde0+_0x2c9dd6(0x361)),_0x1dad6d();else{if(_0x3aeb26[_0x2c9dd6(0x2a5)]()[_0x2c9dd6(0x371)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x2c9dd6(0x1eb),_0x31fde0+_0x2c9dd6(0x2b6)),_0x1dad6d();else _0x3aeb26[_0x2c9dd6(0x2a5)]()[_0x2c9dd6(0x371)](_0x2c9dd6(0x2e3))?(logHistory(_0x2c9dd6(0x1eb),_0x31fde0+_0x2c9dd6(0x216)),logHistory(_0x2c9dd6(0x1eb),_0x2c9dd6(0x234)),_0x1dad6d()):await handleError(_0x3aeb26,null);}}function _0x5006(){const _0x3d49fe=['ordertype','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','Valid\x20trigger:\x20','decrypt','amount','red_yellow_blue','node-forge','3987774Hmurot','/output-000.log','forEach','resetHistory','usd','market_cap','createOrder','BNB','freeze','\x20|\x20','startdate','AuthenticationError','restart','\x20has\x20a\x2024h\x20drop\x20of\x20','basecoinvalue','keys','percentage','LOCKED','initclient','\x20>\x20details:',')\x20|\x20exchange:\x20','sendMetricsTelegram','Invalid\x20balance\x20for\x20','\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','removed','Error\x20in\x20loadSymbols():\x20','marketcapsqrt','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','set','showConfig','unlinkSync','balances','cancel','\x20minutes\x20-\x20','net-basecoin','Exchange','getDate','Fee\x20discount\x20refund\x20detected:\x20','date-fns','defaults','Failed\x20to\x20load\x20market\x20data\x20-\x20bot\x20not\x20started','highest','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','entries','memoryUsage','\x20portfolio:</b>\x20\x0a\x0a','ongoing','string','order','currency','2\x20-\x20handling\x20FILLED\x20order:\x20','target','spot','performance','EUR','Initiating\x20bot\x20restart','assign','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','Market','\x20exchange','ccxt','balancing\x20resumes\x20when\x20cooldown\x20ends','\x20network\x20error:\x20','password','PermissionDenied','quote','getOpenOrders()','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','portfolio2','-performance.json','Cex','settings','InsufficientFunds','heapUsed','Loading\x20completed','buys','OnMaintenance','getMinutes','Loading\x20symbols','configuration','toUpperCase','trade','argv','fetchBalance()','showname','pop','\x20-\x20bot\x20not\x20started','Error\x20while\x20deleting\x20files:\x20','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','</pre>','warning','sortBy','Limit\x20(high-margin)','debug','getTime',',\x20must\x20be\x20a\x203\x20digit\x20number','pro','<b>Bot\x20','\x20exchange\x20error:\x20','uncaughtException','startsWith','Unfilled\x20order(s)\x20canceled\x20after\x20','decode64','-------------------------------\x0a','util','yyyy/MM/dd','add','portfolio1','Bot\x20','random','marketcap','sendPortfolioTelegram','Error\x20details:','timeout','3768GaQJSo','abs','logs','\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)','Pausing\x20for\x20','environment','Error\x20in\x20testAPI():\x20','update-liquidity','closed','buy','isEqual','timestamp','bots','ETH','Net\x20effect','reverse','detectLiquidityChange()','getSeconds','Portfolio\x20change\x20detected:\x20','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','sort','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','delta','ExchangeNotAvailable','2.3.5','ask','Initializing\x20coin\x20results','canceled','orderId','PAXG','marketcapApi','emojisell','complete','\x20:\x20','Initializing\x20exchange','watchTradesForSymbols','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','includes','4546168JwEbFk','\x20metrics:</b>\x20\x0a\x0a','rightTxt','request-time','pid','UNLOCKED','Limit\x20(low-margin)','\x20hour','running','1\x20-\x20Unlocking\x20orders','Invalid\x20API\x20details,\x20please\x20try\x20again\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','page','485157kIAPeL','Bybit','Saving\x20configuration','amountToPrecision','./config/','Executed\x20','onepagemode','toFixed','Stopped\x20fetching\x20balance\x20after\x20','enabled','number','watchTrades()','none','limit-low','fromCodePoint','limit','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','status\x20code\x20401','token\x20is\x20expired','Resuming\x20(','\x20API\x20key,\x20secret\x20or\x20password\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','headless','Unknown\x20error\x20-\x20check\x20logs','existsSync','2.5.0','initTickers()','datetime','-results.json','progress','create','cloneDeep','\x20>\x20pausing\x20bot\x20for\x20','prevamount','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','getHours','price','Huobi','sha256','fiat','kill','starting-balances','version','final','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','test','args','***','(((.+)+)+)+$','DDoSProtection','bot-','<b>','error','apiKey','event-history','placeOrder','offset','watchOrders','3129868LYhkVN','market','symbol','changes','fees','-events.json','initial','coin-loading-progress','limits','getCoinNumber()','colorscheme','filled','1435dnlTda','success','has','RequestTimeout','remove','Avoiding\x20continuous\x20order\x20attempts','exchange','filter','exchanges','getFullYear','side','storeConfiguration','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','Order(s)\x20not\x20validated\x20after\x20','fetchOpenOrders','slider','min',':\x20timer\x20>','/EUR','USD','2\x20-\x20Validate\x20orders:\x20','storeHeadless','realized','openOrders','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','cost','privateKey','send','/backup/','Error:\x20Invalid\x20argument\x20','fetchTickers','1\x20-\x20FILLED\x20unknown\x20order:\x20','constructor','yargs/yargs','bb-secure.json','toLowerCase','Resetting\x20bot\x20history','\x20minutes','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','write','must\x20be\x20greater\x20than\x20minimum\x20amount','timeshift','%\x20(','Initializing\x20exchange:\x20already\x20done','orderstatus','apply','BTC','Resetting\x20coin\x20results:\x20','indexOf','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Cooldown\x20ended\x20-\x20balancing\x20resumed','join','2\x20-\x20Orders\x20unlocked','parse','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','27318lRCsQv','mkdirSync','BUSD','eur','Block\x20transaction\x20detection:\x20','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','getStartingBalances','Cryptocom','./logs/','./version.json','bot','\x20>\x20stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','exec','time','\x20MB','threshold','deleteHistoryAlerts','cancelLoading','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','Binance','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','232EERQda','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','RateLimitExceeded','data','log','apiPassword','Error\x20details\x20(1):',':\x20Bot\x20','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','stringify','Order\x20is\x20invalid:\x20','botname','************','startnumber','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','\x20order:\x20','getMonth','\x20>\x20[DEBUG]\x20','1297RWFxsv','date','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','get','padStart','cooldown','USDC','emojibuy','loading-canceled','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','status','\x20attempts','autoliquidity','map','valid','fetchBalance','length','limit-high','1\x20-\x20Validate\x20orders:\x20','switch-manual','2\x20-\x20Handled\x20open\x20orders','fee','privateKeyFromPem','MIN_NOTIONAL','production','excluded','RSA-OAEP','watchTrades','type','full','Net\x20','\x20>\x20','total','distribution','bb-settings.json','replace','RETRY\x20-\x20Problem\x20resolved\x20after\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','net-fiat','change','coins','no\x20open\x20orders','recreateCoinResults()','bid','sqrt','sell','botID','splice','starting-balance-','API-key\x20format\x20invalid','apiSecret','format','sells','Valid\x20balance\x20for\x20','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','max','fetchTickers()','\x20API\x20secret\x20is\x20invalid','InvalidOrder','-config.json','floor','staging','added','emitHistory','Invalid\x20quantity','code','last','Exchange\x20error\x20details:','toggleBotMode','liquidity','exchange\x20reload','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','\x20|\x20lock\x20orders:\x20','toString','split','round','slice','value','<pre>','function','change24h','secure','no\x20exchange\x20reloaded','basecoin','netoffset','startprice','placeOrder()','ORDERS.LOCKED','portfolio','event','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','\x20-\x20','open','cancelOrder','\x20API\x20key\x20is\x20invalid','Order\x20amount\x20is\x20invalid:\x20','\x20uses\x20','marketcapEnabled','differenceInSeconds','fetchTicker','BNB/','Bitget','watchTradesForSymbols()','leftTxt','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','findIndex','1\x20-\x20partially\x20FILLED\x20unknown\x20order:\x20','recent20','coin','substring','push','ID:\x20','Manual\x20balancing\x20required','average','breakeven','remainingSymbols','find'];_0x5006=function(){return _0x3d49fe;};return _0x5006();}async function handleError(_0x2f80a6,_0x584809,_0x43df86=''){const _0x58bc31=_0x5d06a0;if(botPaused)return;let _0x590628;const _0x226c2f=config[_0x58bc31(0x203)]||_0x58bc31(0x2fc);if(_0x584809)logger[_0x58bc31(0x337)]('Exception\x20thrown\x20in\x20'+_0x584809);if(_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x371)](_0x58bc31(0x1e8)))_0x590628=_0x226c2f+_0x58bc31(0x1e2),await pauseBot(undefined,_0x590628,_0x2f80a6);else{if(_0x2f80a6['toString']()[_0x58bc31(0x371)](_0x58bc31(0x24c)))_0x590628=_0x226c2f+'\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading',await pauseBot(undefined,_0x590628,_0x2f80a6);else{if(_0x2f80a6['toString']()[_0x58bc31(0x371)](_0x58bc31(0x363))||_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x371)](_0x58bc31(0x325)))_0x590628=_0x226c2f+_0x58bc31(0x252),await pauseBot(undefined,_0x590628,_0x2f80a6[_0x58bc31(0x2a5)]());else{if(_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x371)](_0x58bc31(0x200)))_0x590628=_0x226c2f+_0x58bc31(0x34f),await pauseBot(undefined,_0x590628,_0x2f80a6[_0x58bc31(0x2a5)]());else{if(_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x371)](_0x58bc31(0x247)))_0x590628=_0x226c2f+_0x58bc31(0x2ef),await pauseBot(undefined,_0x590628,_0x2f80a6['toString']());else{if(_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x221)]()[_0x58bc31(0x371)](_0x58bc31(0x357))||_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x221)]()['includes'](_0x58bc31(0x375)))_0x590628=_0x58bc31(0x209),await pauseBot(undefined,_0x590628,_0x2f80a6[_0x58bc31(0x2a5)]());else{if(_0x2f80a6[_0x58bc31(0x2a5)]()['includes']('InvalidNonce'))_0x590628=_0x226c2f+'\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)',await pauseBot(undefined,_0x590628,_0x2f80a6[_0x58bc31(0x2a5)]());else{if(_0x2f80a6 instanceof ccxt['NetworkError'])_0x590628=_0x226c2f+_0x58bc31(0x317)+_0x2f80a6[_0x58bc31(0x2a5)](),logger['debug']('Network\x20error\x20details:',_0x2f80a6),await pauseBot(undefined,_0x590628,_0x2f80a6);else{if(_0x2f80a6['toString']()[_0x58bc31(0x371)](_0x58bc31(0x28d)))logHistory(_0x58bc31(0x1eb),_0x226c2f+_0x58bc31(0x2ba)),logHistory(_0x58bc31(0x1eb),_0x58bc31(0x281)),await killBot();else{if(_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x371)](_0x58bc31(0x1e3)))logHistory(_0x58bc31(0x1eb),_0x226c2f+_0x58bc31(0x295)),logHistory(_0x58bc31(0x1eb),_0x58bc31(0x281)),await killBot();else{if(_0x2f80a6['toString']()[_0x58bc31(0x371)](_0x58bc31(0x2e3))&&_0x2f80a6['toString']()[_0x58bc31(0x371)](_0x58bc31(0x1c9)))_0x590628=_0x226c2f+_0x58bc31(0x332),await pauseBot(undefined,_0x590628,_0x2f80a6,!![]);else{if(_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x371)](_0x58bc31(0x2e3)))config[_0x58bc31(0x24f)]?_0x590628=_0x226c2f+_0x58bc31(0x1cb):_0x590628=_0x226c2f+_0x58bc31(0x1c7),logHistory('error',_0x590628),logHistory(_0x58bc31(0x1eb),_0x58bc31(0x281)),await killBot();else{if(_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x371)](_0x58bc31(0x319)))logHistory('error',_0x226c2f+_0x58bc31(0x303)),logHistory(_0x58bc31(0x1eb),_0x58bc31(0x281)),await killBot();else{if(_0x2f80a6[_0x58bc31(0x2a5)]()[_0x58bc31(0x371)](_0x58bc31(0x321)))logHistory(_0x58bc31(0x1eb),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x43df86);else{if(_0x2f80a6 instanceof ccxt['ExchangeError']){_0x590628=_0x226c2f+_0x58bc31(0x33c)+_0x2f80a6[_0x58bc31(0x2a5)](),logHistory(_0x58bc31(0x1eb),_0x590628),logger[_0x58bc31(0x337)](_0x58bc31(0x29f),_0x2f80a6);if(_0x43df86)logger['debug']('Symbol(s):\x20'+_0x43df86);await pauseBot(undefined,_0x590628,_0x2f80a6);}else{_0x590628='Unknown\x20error:\x20'+_0x2f80a6['toString'](),logHistory('error',_0x590628),logger[_0x58bc31(0x337)](_0x590628+_0x58bc31(0x2eb),_0x2f80a6);if(_0x43df86)logger[_0x58bc31(0x337)]('Symbol(s):\x20'+_0x43df86);await pauseBot(undefined,_0x590628);}}}}}}}}}}}}}}}}function decryptRSA(_0xac2c91,_0x3d6f14){const _0x3ab6b2=_0x5d06a0,_0xc34746=forge['pki'][_0x3ab6b2(0x272)](_0xac2c91),_0x13cd7b=_0xc34746[_0x3ab6b2(0x2d4)](forge[_0x3ab6b2(0x342)][_0x3ab6b2(0x340)](_0x3d6f14),_0x3ab6b2(0x276),{'md':forge['md'][_0x3ab6b2(0x1dc)][_0x3ab6b2(0x1d4)](),'mgf1':{'md':forge['md'][_0x3ab6b2(0x1dc)][_0x3ab6b2(0x1d4)]()}});return _0x13cd7b;}async function withRetry(_0x6cee42,_0x2dc679){const _0x1e2c79=_0x5d06a0;let _0x22db9b=![],_0x1043d0=0x0,_0x121681,_0x1b78c0;while(_0x1043d0<maxRetries){try{_0x121681=await _0x2dc679();break;}catch(_0x31ec02){_0x1b78c0=_0x31ec02,!_0x22db9b?(_0x22db9b=!![],logger[_0x1e2c79(0x337)]('RETRY\x20-\x20Error\x20in\x20'+_0x6cee42+':',_0x31ec02[_0x1e2c79(0x2a5)]())):await sleep(retryInterval);}_0x1043d0++;}if(_0x1043d0==0x0)return _0x121681;if(_0x1043d0>=maxRetries)throw _0x1b78c0;else return logger['debug'](_0x1e2c79(0x280)+_0x1043d0+_0x1e2c79(0x267)),_0x121681;}function formatResult(_0x1b1b6a,_0x8690eb){const _0x5349b6=_0x5d06a0;return parseFloat(_0x1b1b6a[_0x5349b6(0x1be)](_0x8690eb));}function formatResultTruncate(_0xfca351,_0x5613ba){const _0x738ee1=_0x5d06a0;let _0x4f7118=formatResultString(_0xfca351,0xa),_0x4de455=_0x4f7118[_0x738ee1(0x22e)]('.');return _0x4de455!=-0x1&&(_0x4f7118=_0x4f7118[_0x738ee1(0x2a8)](0x0,_0x4de455+_0x5613ba+0x1)),Number(_0x4f7118);}function formatResultString(_0x501ae7,_0x5c0434){const _0x4f9881=_0x5d06a0;let _0x372465;if(!(''+_0x501ae7)[_0x4f9881(0x371)]('e'))_0x372465=+(Math[_0x4f9881(0x2a7)](_0x501ae7+'e+'+_0x5c0434)+'e-'+_0x5c0434);else{let _0x4c912b=(''+_0x501ae7)[_0x4f9881(0x2a6)]('e'),_0x3f9104='';+_0x4c912b[0x1]+_0x5c0434>0x0&&(_0x3f9104='+'),_0x372465=+(Math[_0x4f9881(0x2a7)](+_0x4c912b[0x0]+'e'+_0x3f9104+(+_0x4c912b[0x1]+_0x5c0434))+'e-'+_0x5c0434);}return Number(_0x372465)[_0x4f9881(0x1be)](_0x5c0434);}function getServerTime(){const _0x2b48f5=_0x5d06a0,_0x46c924=new Date();return _0x46c924['getFullYear']()+'/'+(_0x46c924[_0x2b48f5(0x25a)]()+0x1)[_0x2b48f5(0x2a5)]()[_0x2b48f5(0x260)](0x2,'0')+'/'+_0x46c924[_0x2b48f5(0x2fd)]()[_0x2b48f5(0x2a5)]()['padStart'](0x2,'0')+'\x20'+_0x46c924[_0x2b48f5(0x1d9)]()[_0x2b48f5(0x2a5)]()[_0x2b48f5(0x260)](0x2,'0')+':'+_0x46c924[_0x2b48f5(0x326)]()[_0x2b48f5(0x2a5)]()[_0x2b48f5(0x260)](0x2,'0')+':'+_0x46c924[_0x2b48f5(0x35d)]()[_0x2b48f5(0x2a5)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4cb5a8=_0x5d06a0,_0x430baf=shiftedTime();return _0x430baf[_0x4cb5a8(0x206)]()+'/'+(_0x430baf[_0x4cb5a8(0x25a)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x430baf['getDate']()[_0x4cb5a8(0x2a5)]()[_0x4cb5a8(0x260)](0x2,'0')+'\x20'+_0x430baf[_0x4cb5a8(0x1d9)]()[_0x4cb5a8(0x2a5)]()['padStart'](0x2,'0')+':'+_0x430baf[_0x4cb5a8(0x326)]()['toString']()['padStart'](0x2,'0')+':'+_0x430baf[_0x4cb5a8(0x35d)]()[_0x4cb5a8(0x2a5)]()[_0x4cb5a8(0x260)](0x2,'0');}function getDate(){const _0x44468f=_0x5d06a0,_0x52c310=shiftedTime();return _0x52c310[_0x44468f(0x206)]()+'/'+(_0x52c310['getMonth']()+0x1)[_0x44468f(0x2a5)]()['padStart'](0x2,'0')+'/'+_0x52c310[_0x44468f(0x2fd)]()[_0x44468f(0x2a5)]()[_0x44468f(0x260)](0x2,'0');}function getHour(){const _0x47d7e8=_0x5d06a0,_0x4544b9=shiftedTime();return _0x4544b9['getHours']()[_0x47d7e8(0x2a5)]()['padStart'](0x2,'0');}function sleep(_0x12e883){return new Promise(_0x50c665=>setTimeout(_0x50c665,_0x12e883));}function shiftedTime(){const _0x1699c7=_0x5d06a0,_0x53b5db=new Date();let _0x1aad0f=_0x53b5db;if(config&&config[_0x1699c7(0x227)]!==0x0)_0x1aad0f=fns[_0x1699c7(0x344)](_0x53b5db,{'hours':config[_0x1699c7(0x227)]});return _0x1aad0f;}function timer(_0x2c4dc5){const _0x291a08=_0x5d06a0,_0x280e6f=new Date();!lasttime?console[_0x291a08(0x24e)](getTimeStamp()+':\x20timer\x20>',_0x2c4dc5,_0x280e6f):console['log'](getTimeStamp()+_0x291a08(0x20f),_0x2c4dc5,(_0x280e6f-lasttime)/0x3e8),lasttime=_0x280e6f;}