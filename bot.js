const _0x2c03d6=_0x1fc9;(function(_0x5c00a6,_0x3543c1){const _0x292a54=_0x1fc9,_0x5645d5=_0x5c00a6();while(!![]){try{const _0x224bd0=-parseInt(_0x292a54(0x258))/0x1*(-parseInt(_0x292a54(0x16d))/0x2)+-parseInt(_0x292a54(0x189))/0x3*(parseInt(_0x292a54(0x163))/0x4)+parseInt(_0x292a54(0x1b7))/0x5+-parseInt(_0x292a54(0x17b))/0x6*(-parseInt(_0x292a54(0x267))/0x7)+parseInt(_0x292a54(0x1a7))/0x8*(parseInt(_0x292a54(0x208))/0x9)+parseInt(_0x292a54(0x299))/0xa+-parseInt(_0x292a54(0x240))/0xb;if(_0x224bd0===_0x3543c1)break;else _0x5645d5['push'](_0x5645d5['shift']());}catch(_0x472389){_0x5645d5['push'](_0x5645d5['shift']());}}}(_0xd2e4,0xd25c4));const _0xd361cf=function(){let _0x5a0bfb=!![];return function(_0x20b08e,_0x3837cf){const _0x3f0829=_0x5a0bfb?function(){const _0xa8d5c8=_0x1fc9;if(_0x3837cf){const _0x5a2717=_0x3837cf[_0xa8d5c8(0x1b5)](_0x20b08e,arguments);return _0x3837cf=null,_0x5a2717;}}:function(){};return _0x5a0bfb=![],_0x3f0829;};}(),_0x34d900=_0xd361cf(this,function(){const _0xb3ecac=_0x1fc9;return _0x34d900[_0xb3ecac(0x26a)]()['search'](_0xb3ecac(0x27f))[_0xb3ecac(0x26a)]()[_0xb3ecac(0x239)](_0x34d900)[_0xb3ecac(0x27d)](_0xb3ecac(0x27f));});_0x34d900();'use strict';const ccxt=require(_0x2c03d6(0x236)),low=require('lowdb'),FileSync=require(_0x2c03d6(0x24d)),fs=require('fs'),fns=require(_0x2c03d6(0x217)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require(_0x2c03d6(0x1ce))[_0x2c03d6(0x1c3)],util=require(_0x2c03d6(0x25a));let exchange,wsClient;global[_0x2c03d6(0x260)]={},global[_0x2c03d6(0x15b)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x2c03d6(0x179),'HOT/BTC',_0x2c03d6(0x228),_0x2c03d6(0x28e),'NANO/',_0x2c03d6(0x26f)];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x2c03d6(0x19f)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});function _0xd2e4(){const _0x500f49=['limits','initclient','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','netoffset','fromCodePoint','timestamp','timeshift','./config/','Unfilled\x20order(s)\x20canceled\x20after\x20','price','***','net-fiat','ask','40374cutdIB','none','sortBy','cancelOrders()','bot','placeOrder()','recreateCoinResults()','commissionAsset','kill','getMinutes','/output-000.log','limit-high','cancelOrder','offset','exit','date-fns','storeConfiguration','error','cooldown','Error:\x20Invalid\x20argument\x20','bot-','configuration','\x20>\x20[DEBUG]\x20','orderStatus','liquidity',',\x20must\x20be\x20a\x203\x20digit\x20number','find','filter','fees',':\x20Bot\x20','\x20|\x20Binance\x20API\x20secret\x20invalid','fetchOpenOrders','HOT/EUR','threshold','MIN_NOTIONAL','time','sell','bid','order','1\x20-\x20Handle\x20open\x20orders','recreate','\x20-\x20','priceChangePercent','Order\x20amount\x20is\x20invalid:\x20','type','exec','ccxt','keys','/backup/','constructor','************','exchange','LOCKED','\x20portfolio:</b>\x20\x0a\x0a','length','version','31746088vNjPrX','write','sells','total','fetchTickers','\x20orders\x20in\x20less\x20than\x20','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','Pausing\x20for\x20','binanceus','last','date','emojibuy','abs','lowdb/adapters/FileSync','trade','max','side','Binance\x20not\x20available\x20(2)','NEW','cumulativeQuoteAssetTransactedQty','get','getOpenOrders()','-events.json','shift','369esrnwd','Bot\x20','util','final','wss://stream.binance.us:9443','headless','Binance\x20API\x20blocked','canceled','ticker','001','reverse','BNB','getFiat()','\x20|\x20','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','2397157iwQXhP','.json','add','toString','binance','2\x20-\x20FILLED\x20known\x20order:\x20','showConfig','initws()','YOYOW/','\x20|\x20lock\x20orders:\x20','breakeven','\x20value','getDate','value','fiat','performance','RequestTimeout','options','message','-config.json','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','accumulatedQuantity','search','market','(((.+)+)+)+$','USDT','amount','BUSD','enabled','customId','spot','2.5.0','eventType','defaults','sort','uncaughtException','orderId','privateKey','configuration-stored','XEM/BUSD','FILLED','ORDERS.UNLOCKED','balances','Order(s)\x20not\x20validated\x20after\x20','commission','getPortfolio()','wsUrl','Net\x20effect\x20(','limit','yyyy/MM/dd','14946580tBiQDy','-performance.json','No\x20more\x20open\x20orders\x20-\x20','startnumber','eur','restart','progress','userData','format','parseISO','Net\x20','1\x20-\x20Unlock\x20orders','Binance\x20not\x20responding','getFullYear','starting-balances','/USDT','number','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','settings','RSA-OAEP','Net\x20effect','includes','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','log','subscribeSymbol24hrTicker','1\x20-\x20Validate\x20orders:\x20','orderstatus','argv','-------------------------------\x0a','precision','toLowerCase','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','debug','initial','reconnected','remainingSymbols','Binance\x20not\x20available\x20(1)','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','valid','event-history','basecoin','args','Binance\x20API\x20secret\x20is\x20invalid','change','findIndex','splice','open','Limit\x20(high-margin)','excluded','set','no\x20open\x20orders','76CzEhOM','BNB/','apiSecret','createOrder','portfolio','getHours','Invalid\x20quantity','<b>Bot\x20','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','ORDERS.UNLOCKING','3894trPEzB','coin','AuthenticationError','\x20:\x20','close','push','executionReport','UNLOCKED','showname','fee','Market','page','DAI/','leftTxt','6ETGYmM','event','starting-balance-','full','delta','kline','ongoing','net-basecoin','./logs/','\x20order:\x20','balancing\x20resumes\x20when\x20cooldown\x20ends','min','bb-secure.json','createWriteStream','65628FsLVnF','DDoSProtection','startprice','existsSync','Cooldown\x20ended\x20-\x20balancing\x20resumed','assign','logs','change24h','BTC','1\x20-\x20FILLED:\x20','\x20minutes\x20-\x20','wsKey','mkdirSync','secure','loading-canceled','toFixed','2.3.5','concat','isArray','loadSymbols()','split','\x20minutes','freeze','currency','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','2\x20-\x20FILLED\x20unknown\x20order:\x20','rightTxt','cancel','\x20|\x20Binance\x20API\x20key\x20invalid','emojisell','1960HTphzJ','forEach','\x20>\x20','startdate','API\x20or\x20clock\x20sync\x20issue','emitHistory','sha256','function','botname','map','yyyy-MM-dd\x27T\x27HH:mm:ss','getMonth','timeout','padEnd','apply','InvalidNonce','2543330zpftZR','simple','openOrders','symbol','writeFile','realized','target','replace','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','getCoins()','decrypt','warning','Crypt','differenceInSeconds','fetchBalance','symbols','placeOrder','distribution','slice','coins','Failed\x20to\x20load\x20coin\x20data\x20for\x20','data','coin-loading-progress','hybrid-crypto-js','api_key','test','send','ETH','deleteHistoryAlerts','Order(s)\x20filled\x20-\x20','apiKey','%\x20\x0a','buy','usd','padStart','indexOf','wss://stream.binance.com:9443','InsufficientFunds','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','EUR','ORDERS.LOCKED','getSeconds','cost','cloneDeep','CANCELED','ordertype','datetime','success','newClientOrderId','round','filled','changes','running','loadMarkets','2\x20-\x20Validate\x20orders:\x20','milliseconds','getTime','entries','</pre>','<pre>','_events','subscribeSpotUserDataStream','parse','API-key\x20format\x20invalid','Order(s)\x20validated\x20-\x20','./version.json','has','fetchClosedOrders'];_0xd2e4=function(){return _0x500f49;};return _0xd2e4();}let lockOrders=ORDERS[_0x2c03d6(0x174)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x2c03d6(0x1f8))[_0x2c03d6(0x23f)],botID=process['argv'][0x2]||_0x2c03d6(0x261),pattern=/^[0-9]{3}$/;!pattern[_0x2c03d6(0x1d0)](botID)&&(console[_0x2c03d6(0x147)](_0x2c03d6(0x21b)+botID+_0x2c03d6(0x221)),process[_0x2c03d6(0x216)](0x1));const userID=process[_0x2c03d6(0x14b)][0x3]||'',configpath=userID?_0x2c03d6(0x202)+userID+'/':_0x2c03d6(0x202),logspath=userID?_0x2c03d6(0x183)+userID+'/':_0x2c03d6(0x183),loggerfile=fs[_0x2c03d6(0x188)](logspath+_0x2c03d6(0x212),{'flags':'a'});!fs[_0x2c03d6(0x18c)](configpath)&&fs[_0x2c03d6(0x195)](configpath);!fs[_0x2c03d6(0x18c)](logspath)&&fs[_0x2c03d6(0x195)](logspath);const configfile=configpath+_0x2c03d6(0x21c)+botID+_0x2c03d6(0x27a),logfile=configpath+_0x2c03d6(0x21c)+botID+_0x2c03d6(0x256),performancefile=configpath+_0x2c03d6(0x21c)+botID+_0x2c03d6(0x29a),coinresultsfile=configpath+'bot-'+botID+'-results.json',settingsfile=configpath+'bb-settings.json',securefile=configpath+_0x2c03d6(0x187),configbackuppath=configpath+_0x2c03d6(0x238),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[]})[_0x2c03d6(0x241)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x2c03d6(0x288)]({'data':[]})[_0x2c03d6(0x241)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x2c03d6(0x288)]({'bot':[]})[_0x2c03d6(0x241)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x2c03d6(0x288)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x56e1d0)=>{},'debug':(..._0x4eacfd)=>{},'notice':(..._0x1b2aa7)=>{},'info':(..._0x45fede)=>{},'warning':(..._0x1c0d76)=>{},'error':async function(..._0x564447){const _0x28dc15=_0x2c03d6,_0x109dc8=new Date()[_0x28dc15(0x1ef)]();if(!lastErrorShown||_0x109dc8-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x28dc15(0x1ef)]();let _0x3d5650='';if(_0x564447[0x0])_0x3d5650+=_0x564447[0x0];if(_0x564447[0x1]&&_0x564447[0x1]['error']&&_0x564447[0x1]['error'][_0x28dc15(0x279)])_0x3d5650+=_0x28dc15(0x231)+_0x564447[0x1][_0x28dc15(0x219)][_0x28dc15(0x279)];logger['full']('WebSockets('+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x3d5650),await pauseBot(_0x28dc15(0x154));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x2c03d6(0x1ad),'rsaStandard':_0x2c03d6(0x143)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3f501d=>{const _0x526ea6=_0x2c03d6;console[_0x526ea6(0x147)](_0x3f501d);},'simple':_0x5a2236=>{const _0x2b2b0a=_0x2c03d6;console['log'](_0x5a2236),loggerfile[_0x2b2b0a(0x241)](util[_0x2b2b0a(0x138)](_0x5a2236)+'\x0a');},'full':async(_0x319508,_0x17a202='')=>{const _0x30e916=_0x2c03d6;let _0xd0f0aa;if(config[_0x30e916(0x175)])_0xd0f0aa=getTimeStamp()+':\x20'+config[_0x30e916(0x1af)]+'\x20>\x20'+_0x319508;else _0xd0f0aa=getTimeStamp()+_0x30e916(0x225)+botID+_0x30e916(0x1a9)+_0x319508;console[_0x30e916(0x147)](_0xd0f0aa),loggerfile[_0x30e916(0x241)](util[_0x30e916(0x138)](_0xd0f0aa)+'\x0a'),_0x17a202&&(console[_0x30e916(0x147)](_0x17a202),loggerfile[_0x30e916(0x241)](util[_0x30e916(0x138)](_0x17a202)+'\x0a'));},'debug':async(_0x3f190d,_0x1b0f24='')=>{const _0x500693=_0x2c03d6;let _0x5dd94d;if(config[_0x500693(0x175)])_0x5dd94d=getTimeStamp()+':\x20'+config[_0x500693(0x1af)]+_0x500693(0x21e)+_0x3f190d;else _0x5dd94d=getTimeStamp()+_0x500693(0x225)+botID+'\x20>\x20[DEBUG]\x20'+_0x3f190d;if(debugLoggingScreen)console[_0x500693(0x147)](_0x5dd94d);loggerfile[_0x500693(0x241)](util[_0x500693(0x138)](_0x5dd94d)+'\x0a');if(_0x1b0f24){if(debugLoggingScreen)console[_0x500693(0x147)](_0x1b0f24);loggerfile['write'](util[_0x500693(0x138)](_0x1b0f24)+'\x0a');}}};process['on'](_0x2c03d6(0x28a),function(_0x47070a){const _0x2ad35b=_0x2c03d6;logger[_0x2ad35b(0x1b8)](_0x47070a);});settings[_0x2c03d6(0x201)]!=config[_0x2c03d6(0x201)]&&updateTimeshift(settings[_0x2c03d6(0x201)]);process[_0x2c03d6(0x1d1)]({'started':_0x2c03d6(0x1eb)},_0x1aba5e=>{}),initializeProcessListeners();function proxyEmit(_0x514821,_0x5412b9=null){const _0x2a35c6=_0x2c03d6;process[_0x2a35c6(0x1d1)]({'function':_0x514821,'args':_0x5412b9},_0x54ffba=>{});}function initializeProcessListeners(){const _0x193ef1=_0x2c03d6;process['on'](_0x193ef1(0x279),_0x426202=>{const _0x4aa110=_0x193ef1;switch(Object[_0x4aa110(0x237)](_0x426202)[0x0]){case'timeshift':_0x426202[_0x4aa110(0x201)]!=undefined&&(settings[_0x4aa110(0x201)]=_0x426202[_0x4aa110(0x201)],updateTimeshift(settings['timeshift']));break;case _0x4aa110(0x1ae):switch(_0x426202[_0x4aa110(0x1ae)]){case _0x4aa110(0x1fc):initclient();break;case'toggleBotMode':toggleBotMode();break;case _0x4aa110(0x1ac):emitHistory(_0x426202[_0x4aa110(0x159)]);break;case _0x4aa110(0x1d3):deleteHistoryAlerts(_0x426202[_0x4aa110(0x159)]);break;case'getPortfolio':getPortfolio(_0x426202['args']);break;case _0x4aa110(0x218):storeConfiguration(_0x426202['args']);break;case'storeHeadless':storeHeadless(_0x426202['args']);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x4aa110(0x1c7):placeOrder(_0x426202[_0x4aa110(0x159)]);break;case'cancelLoading':cancelLoading();break;case _0x4aa110(0x26d):showConfig();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x15d5c1=_0x2c03d6;if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(config[_0x15d5c1(0x1d5)]!=''&&config[_0x15d5c1(0x1d5)]!=_0x15d5c1(0x205)){await initExchange(config[_0x15d5c1(0x1d5)],config[_0x15d5c1(0x165)]),await initWsEvents();let _0x43e609=![];try{_0x43e609=await loadSymbols();}catch(_0x43c8ed){handleError(_0x43c8ed,_0x15d5c1(0x19c));}if(_0x43e609){currentCoins=await getCoins(!![]),await initws();if(lastOrders['length']==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x1cbab9,_0x42b219){const _0x2f274e=_0x2c03d6,_0x4dc9bb=ccxt[config['exchange']];let _0x4eddb8;switch(config[_0x2f274e(0x23b)]){case _0x2f274e(0x26b):_0x4eddb8='wss://stream.binance.com:9443';break;case _0x2f274e(0x248):_0x4eddb8=_0x2f274e(0x25c);break;default:_0x4eddb8=_0x2f274e(0x1db);}exchange=new _0x4dc9bb({'apiKey':_0x1cbab9,'secret':_0x42b219,'timeout':0x7530,'enableRateLimit':!![]}),wsClient['options'][_0x2f274e(0x1cf)]=_0x1cbab9,wsClient[_0x2f274e(0x278)]['api_secret']=_0x42b219,wsClient[_0x2f274e(0x278)][_0x2f274e(0x295)]=_0x4eddb8;let _0x4b9e29=config[_0x2f274e(0x23b)]==_0x2f274e(0x248)?'USDT':_0x2f274e(0x1de),_0x6d70bb=config[_0x2f274e(0x158)]==_0x2f274e(0x1d2)?_0x2f274e(0x1d2):_0x2f274e(0x191);stablecoins={'eur':{'coin':''+_0x6d70bb+_0x4b9e29,'symbol':_0x6d70bb+'/'+_0x4b9e29},'usd':{'coin':_0x6d70bb+_0x2f274e(0x280),'symbol':_0x6d70bb+_0x2f274e(0x13f)}};}function _0x1fc9(_0x3b7b53,_0x57c1f2){const _0x5f2a11=_0xd2e4();return _0x1fc9=function(_0x34d900,_0xd361cf){_0x34d900=_0x34d900-0x135;let _0xd2e40a=_0x5f2a11[_0x34d900];return _0xd2e40a;},_0x1fc9(_0x3b7b53,_0x57c1f2);}async function initWsEvents(){const _0xd4631d=_0x2c03d6;!wsClient['_events']['formattedMessage']&&wsClient['on']('formattedMessage',_0x7e8dea=>{const _0x1d2933=_0x1fc9;if(isWsFormattedKline(_0x7e8dea)){global[_0x1d2933(0x260)][_0x7e8dea[_0x1d2933(0x180)][_0x1d2933(0x1ba)]]=_0x7e8dea[_0x1d2933(0x180)][_0x1d2933(0x171)];return;}else{if(isWsFormatted24hrTicker(_0x7e8dea)){global[_0x1d2933(0x15b)][_0x7e8dea['symbol']]=_0x7e8dea[_0x1d2933(0x232)];return;}else{if(!Array[_0x1d2933(0x19b)](_0x7e8dea)&&_0x7e8dea[_0x1d2933(0x194)][_0x1d2933(0x145)](_0x1d2933(0x137))){if(_0x7e8dea['wsMarket'][_0x1d2933(0x145)](_0x1d2933(0x285))){updateNumberCoins(_0x7e8dea);return;}}}}}),!wsClient[_0xd4631d(0x1f3)]['reconnected']&&wsClient['on'](_0xd4631d(0x152),async _0x2b77f2=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0xb61542=_0x2c03d6;let _0x30414d=![];try{markets=await exchange[_0xb61542(0x1ec)](),allSymbols=exchange[_0xb61542(0x1c6)]['filter'](_0x1400b6=>{const _0x40b895=_0xb61542;let _0x31dc82=![];return exceptions[_0x40b895(0x1a8)](_0x1bc2ba=>{const _0x1c9796=_0x40b895;if(_0x1400b6[_0x1c9796(0x145)](_0x1bc2ba))_0x31dc82=!![];}),!_0x31dc82;}),_0x30414d=!![];}catch(_0x509d6e){_0x30414d=![];throw _0x509d6e;}return _0x30414d;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x34670b=_0x2c03d6;proxyEmit(_0x34670b(0x21d),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x34670b(0x291),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x3c8603=getNormalizedPerformance();emitPerformance(_0x3c8603),await getStartingBalances(_0x3c8603);}async function toggleBotMode(){const _0x26e882=_0x2c03d6;let _0x420d73=dbConfig[_0x26e882(0x254)]('bot')[_0x26e882(0x222)]({'botID':botID})[_0x26e882(0x274)]();if(_0x420d73){const _0x464e57=!_0x420d73[_0x26e882(0x25d)];dbConfig['get'](_0x26e882(0x20c))['find']({'botID':botID})[_0x26e882(0x18e)]({'headless':_0x464e57})[_0x26e882(0x241)](),config['headless']=_0x464e57,proxyEmit(_0x26e882(0x21d),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x3e8e6f=_0x2c03d6;process[_0x3e8e6f(0x1d1)]({'updatebotmanager':!![]},_0x231617=>{});}function cleanws(){const _0x371046=_0x2c03d6;wsinitialized=![];ws1&&(ws1['forEach'](_0x52c78f=>{const _0x3aee19=_0x1fc9;try{wsClient[_0x3aee19(0x171)](_0x52c78f);}catch(_0x5b633e){}}),ws1=[]);if(ws2){try{wsClient[_0x371046(0x171)](ws2);}catch(_0x2c54c2){}ws2=null;}ws3&&(ws3[_0x371046(0x1a8)](_0x775fc1=>{const _0x3b740e=_0x371046;try{wsClient[_0x3b740e(0x171)](_0x775fc1);}catch(_0xce9cd0){}}),ws3=[]);}async function initws(){const _0x36fafc=_0x2c03d6;cleanws();let _0x4ff94c=[];currentCoins[_0x36fafc(0x1a8)](_0x14c25b=>{const _0x177af2=_0x36fafc;if(_0x14c25b[_0x177af2(0x16e)]!=config[_0x177af2(0x158)])_0x4ff94c[_0x177af2(0x172)](_0x14c25b[_0x177af2(0x1ba)]);});if(!_0x4ff94c[_0x36fafc(0x145)](stablecoins[_0x36fafc(0x29d)][_0x36fafc(0x1ba)]))_0x4ff94c[_0x36fafc(0x172)](stablecoins[_0x36fafc(0x29d)][_0x36fafc(0x1ba)]);if(!_0x4ff94c[_0x36fafc(0x145)](stablecoins[_0x36fafc(0x1d8)]['symbol']))_0x4ff94c['push'](stablecoins[_0x36fafc(0x1d8)]['symbol']);if(!_0x4ff94c[_0x36fafc(0x145)](_0x36fafc(0x164)+config[_0x36fafc(0x158)]))_0x4ff94c[_0x36fafc(0x172)](_0x36fafc(0x164)+config[_0x36fafc(0x158)]);try{_0x4ff94c[_0x36fafc(0x1a8)]((_0x4a5a4d,_0x43cfb6)=>{const _0xeb1cd6=_0x36fafc;ws1[_0x43cfb6]=wsClient['subscribeSpotKline'](noslash(_0x4a5a4d),'1m'),ws3[_0x43cfb6]=wsClient[_0xeb1cd6(0x148)](noslash(_0x4a5a4d),_0xeb1cd6(0x285));}),ws2=wsClient[_0x36fafc(0x1f4)]();}catch(_0x553c15){await handleError(_0x553c15,_0x36fafc(0x26e));}let _0x223ca3,_0x3f083e=0x0;loading[_0x36fafc(0x153)]=[];let _0x334975=0x0;_0x4ff94c[_0x36fafc(0x1a8)](_0x149155=>{const _0x28827c=_0x36fafc;loading[_0x28827c(0x153)][_0x28827c(0x172)](_0x149155);}),loadingCanceled=![];let _0x50997e=![];while(_0x223ca3!=_0x4ff94c['length']){_0x223ca3=0x0,_0x4ff94c['forEach'](_0x30d94=>{const _0x1f37b5=_0x36fafc;global['ticker'][noslash(_0x30d94)]&&(loading['remainingSymbols']=loading[_0x1f37b5(0x153)][_0x1f37b5(0x223)](_0x5d4d41=>_0x5d4d41!=_0x30d94),_0x223ca3++);}),loading[_0x36fafc(0x136)]=Math[_0x36fafc(0x1e8)](_0x223ca3/_0x4ff94c[_0x36fafc(0x23e)]*0x64);loading[_0x36fafc(0x136)]!=0x64&&(_0x334975>0x1e*0x5&&(loading['timeout']=!![],emitLoadingProgress()),_0x334975>0x78*0x5&&!_0x50997e&&(loading[_0x36fafc(0x1a4)]=!![],emitLoadingProgress(),_0x50997e=!![],logHistory(_0x36fafc(0x219),_0x36fafc(0x1cb)+loading[_0x36fafc(0x153)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x36fafc(0x219),_0x36fafc(0x247)+loadCoinsRetryInterval/0xea60+_0x36fafc(0x246)),pidCoinReloading=setTimeout(()=>{const _0x5baa25=_0x36fafc;process[_0x5baa25(0x1d1)]({'stop':_0x5baa25(0x135)},_0x395483=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x223ca3!=_0x3f083e&&(_0x3f083e=_0x223ca3,emitLoadingProgress()),_0x334975++,await sleep(0xc8);}_0x223ca3==_0x4ff94c[_0x36fafc(0x23e)]&&(wsinitialized=!![],_0x50997e&&logHistory(_0x36fafc(0x1e6),_0x36fafc(0x1a1)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x2a054d=_0x2c03d6;proxyEmit(_0x2a054d(0x21d),{...emittedConfiguration(),'configstate':_0x2a054d(0x197)});}function emitLoadingProgress(){const _0x4e2565=_0x2c03d6;proxyEmit(_0x4e2565(0x1cd),loading);}async function getFiat(){const _0x87d7e0=_0x2c03d6;let _0x22bc1d=0x0,_0x32264a=0x0;try{_0x22bc1d=global['ticker'][stablecoins['eur'][_0x87d7e0(0x16e)]],_0x32264a=global['ticker'][stablecoins[_0x87d7e0(0x1d8)][_0x87d7e0(0x16e)]];}catch(_0x20f3e1){await handleError(_0x20f3e1,_0x87d7e0(0x264));}return{'eur':Number(_0x22bc1d),'usd':Number(_0x32264a)};}function setStartDatePerformance(){const _0x2bf08f=_0x2c03d6;if(config&&config[_0x2bf08f(0x220)][0x0]['changes'][_0x2bf08f(0x23e)]!=0x0){const _0x245e33=config[_0x2bf08f(0x220)][0x0][_0x2bf08f(0x1ea)];dbPerformance[_0x2bf08f(0x254)](_0x2bf08f(0x1cc))[_0x2bf08f(0x222)]({'date':config[_0x2bf08f(0x1aa)]})['assign']({'coins':_0x245e33})[_0x2bf08f(0x241)]();}}async function recreateCoinResults(){const _0x1ecaae=_0x2c03d6;let _0x1c3bfd,_0x3992c2=[];try{const _0x4766f7=fns[_0x1ecaae(0x138)](fns[_0x1ecaae(0x139)](config[_0x1ecaae(0x1aa)][_0x1ecaae(0x1be)](/\//g,'-')),_0x1ecaae(0x1b1));for(const _0x43107c of currentCoins){if(_0x43107c[_0x1ecaae(0x16e)]!=config[_0x1ecaae(0x158)]){let _0x53c9b7=0x0,_0x448567,_0x3b2592;_0x1c3bfd=await getAllEventOrders(_0x43107c['symbol']);if(_0x1c3bfd[_0x1ecaae(0x23e)]>0x0)_0x1c3bfd['forEach'](_0x19559a=>{const _0x1546ef=_0x1ecaae,_0x1ed950=_0x43107c[_0x1546ef(0x1ba)]['includes'](config[_0x1546ef(0x158)]+'/');_0x3992c2[_0x1546ef(0x172)]({'datetime':_0x19559a[_0x1546ef(0x1e5)],'coin':_0x43107c[_0x1546ef(0x16e)],'symbol':_0x43107c[_0x1546ef(0x1ba)],'side':_0x19559a['side'],'reverse':_0x1ed950,'amount':formatResult(_0x19559a[_0x1546ef(0x1e9)],0x8),'filled':formatResult(_0x19559a[_0x1546ef(0x1e9)],0x8),'price':formatResult(_0x19559a[_0x1546ef(0x204)],0x8)}),_0x53c9b7=_0x19559a[_0x1546ef(0x250)]==_0x1546ef(0x1d7)?_0x53c9b7+_0x19559a[_0x1546ef(0x1e9)]:_0x53c9b7-_0x19559a[_0x1546ef(0x1e9)];if(!_0x3b2592)_0x3b2592=_0x19559a[_0x1546ef(0x204)];});_0x448567=_0x43107c[_0x1ecaae(0x140)]-_0x53c9b7;let _0x8579cc;config[_0x1ecaae(0x220)][_0x1ecaae(0x1a8)](_0x59cacd=>{const _0x276571=_0x1ecaae;!_0x8579cc&&(_0x8579cc=_0x59cacd[_0x276571(0x1ea)][_0x276571(0x222)](_0x35d65b=>_0x35d65b[_0x276571(0x16e)]==_0x43107c['coin']),_0x8579cc&&(_0x448567=_0x8579cc[_0x276571(0x140)],_0x3b2592=_0x8579cc[_0x276571(0x204)]));});let _0x287443=dbCoinResults[_0x1ecaae(0x254)](_0x1ecaae(0x1ca))[_0x1ecaae(0x222)]({'coin':_0x43107c['coin']})[_0x1ecaae(0x274)]();_0x287443={'coin':_0x43107c['coin'],'number':_0x448567,'breakeven':_0x3b2592,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x1ecaae(0x254)](_0x1ecaae(0x1ca))[_0x1ecaae(0x222)]({'coin':_0x43107c[_0x1ecaae(0x16e)]})[_0x1ecaae(0x18e)](_0x287443)[_0x1ecaae(0x241)]();}}_0x3992c2[_0x1ecaae(0x289)]((_0x5e97ba,_0x8be502)=>_0x5e97ba[_0x1ecaae(0x1e5)]>_0x8be502[_0x1ecaae(0x1e5)]?0x1:_0x8be502['datetime']>_0x5e97ba[_0x1ecaae(0x1e5)]?-0x1:0x0);let _0x4c903a=0x0;for(let _0x1116af of _0x3992c2){await updateCoinResults(_0x1116af,!![]);}}catch(_0xdaa7f4){await handleError(_0xdaa7f4,_0x1ecaae(0x20e));}}async function getAllEventOrders(_0x2df243){const _0xb13089=_0x2c03d6;let _0x495e61=[],_0x25587a=dbLogs[_0xb13089(0x254)]('logs')['filter'](_0x17d2cf=>{const _0x49105a=_0xb13089,_0x13f3ec=_0x17d2cf[_0x49105a(0x17c)][_0x49105a(0x14e)]();return _0x13f3ec['includes'](_0x2df243[_0x49105a(0x14e)]())&&(_0x13f3ec['includes'](_0x49105a(0x27e))&&_0x13f3ec[_0x49105a(0x145)](_0x49105a(0x22e))||_0x13f3ec['includes']('filled')&&_0x13f3ec[_0x49105a(0x145)]('order'));})['sortBy']('time')[_0xb13089(0x274)]();return _0x25587a[_0xb13089(0x1a8)](_0x5d1bd2=>{const _0x13d14f=_0xb13089,_0x399c8d=_0x5d1bd2[_0x13d14f(0x17c)][_0x13d14f(0x145)](_0x13d14f(0x22c))?_0x13d14f(0x22c):_0x13d14f(0x1d7),_0x560ce2=/#([0-9]|\.)+\s/i,_0x34cccf=Number(_0x560ce2[_0x13d14f(0x235)](_0x5d1bd2['event'])[0x0][_0x13d14f(0x1c9)](0x1)),_0x2566c8=/@([0-9]|\.)+$/i,_0x376cb8=Number(_0x2566c8[_0x13d14f(0x235)](_0x5d1bd2[_0x13d14f(0x17c)])[0x0][_0x13d14f(0x1c9)](0x1));_0x495e61[_0x13d14f(0x172)]({'datetime':_0x5d1bd2[_0x13d14f(0x22b)],'coin':symbolToCoin(_0x2df243),'symbol':_0x2df243,'side':_0x399c8d,'amount':_0x34cccf,'filled':_0x34cccf,'price':_0x376cb8});}),_0x495e61;}async function getAllOrders(_0x39110a,_0x365a05){const _0x1a6ee2=_0x2c03d6;let _0x231a7e=[];while(_0x365a05<exchange[_0x1a6ee2(0x1ee)]()){const _0x4fa606=0x1f4,_0x3f94bc=await exchange[_0x1a6ee2(0x1fa)](_0x39110a,_0x365a05,_0x4fa606);if(_0x3f94bc[_0x1a6ee2(0x23e)])_0x365a05=_0x3f94bc[_0x3f94bc[_0x1a6ee2(0x23e)]-0x1][_0x1a6ee2(0x200)]+0x1,_0x231a7e=_0x231a7e[_0x1a6ee2(0x19a)](_0x3f94bc);else break;}return _0x231a7e;}async function validate24hChanges(){const _0xb68837=_0x2c03d6;let _0x2cc9b9;for(const _0x3dfefb of currentCoins){if(_0x3dfefb[_0xb68837(0x16e)]!=config['basecoin']){let _0x58c6bb;_0x3dfefb[_0xb68837(0x262)]?_0x58c6bb=formatResult((0x1/(global[_0xb68837(0x15b)][noslash(_0x3dfefb['symbol'])]/0x64+0x1)-0x1)*0x64,0x3):_0x58c6bb=global[_0xb68837(0x15b)][noslash(_0x3dfefb[_0xb68837(0x1ba)])],_0x58c6bb<config[_0xb68837(0x190)]&&(logHistory(_0xb68837(0x219),_0x3dfefb[_0xb68837(0x16e)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x58c6bb+'%'),logHistory(_0xb68837(0x219),_0xb68837(0x14f)),logHistory('error',_0xb68837(0x155)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x31b9ab=_0x2c03d6;let _0x3ada11=dbLogs[_0x31b9ab(0x254)](_0x31b9ab(0x23f))[_0x31b9ab(0x274)]();if(_0x3ada11!=_0x31b9ab(0x199)){dbLogs['set'](_0x31b9ab(0x23f),_0x31b9ab(0x199))[_0x31b9ab(0x241)]();let _0x563991=[];const _0x7d1983=dbLogs['get'](_0x31b9ab(0x18f))[_0x31b9ab(0x274)]();_0x7d1983[_0x31b9ab(0x1a8)](_0x3809d2=>{const _0x361a10=_0x31b9ab;_0x563991[_0x361a10(0x172)]({'time':_0x3809d2[_0x361a10(0x22b)],'type':_0x3809d2[_0x361a10(0x234)],'event':_0x3809d2[_0x361a10(0x17c)]});}),dbLogs[_0x31b9ab(0x254)](_0x31b9ab(0x18f))[_0x31b9ab(0x18e)](_0x563991)[_0x31b9ab(0x241)]();}let _0x280d57=dbConfig['get'](_0x31b9ab(0x23f))[_0x31b9ab(0x274)]();if(_0x280d57!=_0x31b9ab(0x199)){dbConfig[_0x31b9ab(0x161)](_0x31b9ab(0x23f),_0x31b9ab(0x199))[_0x31b9ab(0x241)]();let _0x12e3b6=dbConfig[_0x31b9ab(0x254)](_0x31b9ab(0x20c))['find']({'botID':botID})[_0x31b9ab(0x274)]();if(_0x12e3b6){let _0x32f225=[];_0x12e3b6[_0x31b9ab(0x167)][_0x31b9ab(0x1a8)](_0x248fdc=>{const _0x311481=_0x31b9ab;_0x32f225['push']({'coin':_0x248fdc[_0x311481(0x16e)],'number':_0x248fdc[_0x311481(0x29c)],'price':_0x248fdc['startprice']}),delete _0x248fdc[_0x311481(0x29c)],delete _0x248fdc[_0x311481(0x18b)];});if(_0x32f225['length']!==0x0)fs[_0x31b9ab(0x1bb)](configbackuppath+(_0x31b9ab(0x17d)+botID+_0x31b9ab(0x268)),JSON['stringify'](_0x32f225,null,0x4),function(_0x5879cc){if(_0x5879cc){}});const _0x58e571=(_0x1e9941,_0x235e0b)=>{const _0x92cde=_0x31b9ab;let _0x330445=[];_0x235e0b[_0x92cde(0x1a8)](_0x55104a=>{const _0x4ddf38=_0x92cde,_0x248e35=_0x1e9941['find'](_0x4f709b=>_0x4f709b[_0x4ddf38(0x16e)]==_0x55104a[_0x4ddf38(0x16e)]);if(!_0x248e35)_0x330445[_0x4ddf38(0x172)](_0x55104a);});let _0x502345=[];return _0x1e9941[_0x92cde(0x1a8)](_0xcd6eae=>{const _0x56ce66=_0x92cde,_0x250f60=_0x235e0b[_0x56ce66(0x222)](_0x482614=>_0x482614[_0x56ce66(0x16e)]==_0xcd6eae[_0x56ce66(0x16e)]);if(!_0x250f60||_0x250f60[_0x56ce66(0x140)]==0x0&&_0xcd6eae[_0x56ce66(0x140)]!=0x0)_0x502345[_0x56ce66(0x172)](_0xcd6eae);}),{'missingDay1':_0x330445,'notInDay2':_0x502345};},_0x44e0ce=dbPerformance['get'](_0x31b9ab(0x1cc))[_0x31b9ab(0x1e2)]()[_0x31b9ab(0x274)]();if(_0x44e0ce['length']>0x1){const {missingDay1:_0x227782,notInDay2:_0x1b488e}=_0x58e571(_0x32f225,_0x44e0ce[0x1][_0x31b9ab(0x1ca)]);_0x32f225=[..._0x32f225,..._0x227782],_0x1b488e['forEach'](_0xf923f=>{const _0xb1bbfb=_0x31b9ab;let _0x3f76da=_0x32f225[_0xb1bbfb(0x15c)](_0x381c95=>_0x381c95[_0xb1bbfb(0x16e)]==_0xf923f[_0xb1bbfb(0x16e)]);_0x3f76da!=-0x1&&_0x32f225['splice'](_0x3f76da,0x1);});}_0x32f225['sort']((_0x55bc29,_0x52577f)=>_0x55bc29['coin']>_0x52577f[_0x31b9ab(0x16e)]?0x1:_0x52577f['coin']>_0x55bc29[_0x31b9ab(0x16e)]?-0x1:0x0);let _0x491730=[{'date':_0x12e3b6[_0x31b9ab(0x1aa)],'changes':_0x32f225}];_0x44e0ce[_0x31b9ab(0x23e)]>0x2&&_0x44e0ce[_0x31b9ab(0x1a8)]((_0x59c2b5,_0x22fa2)=>{const _0xc09aad=_0x31b9ab;if(_0x22fa2>0x0&&_0x22fa2<_0x44e0ce['length']-0x1){const {missingDay1:_0x260255,notInDay2:_0x488b4e}=_0x58e571(_0x44e0ce[_0x22fa2][_0xc09aad(0x1ca)],_0x44e0ce[_0x22fa2+0x1][_0xc09aad(0x1ca)]);_0x32f225=[],(_0x260255[_0xc09aad(0x23e)]!=0x0||_0x488b4e['length']!=0x0)&&(_0x260255[_0xc09aad(0x23e)]!=0x0&&_0x32f225['push'](..._0x260255),_0x488b4e[_0xc09aad(0x23e)]!=0x0&&(_0x488b4e[_0xc09aad(0x1a8)](_0x537de3=>{const _0x28e6f5=_0xc09aad;_0x537de3[_0x28e6f5(0x140)]=-_0x537de3[_0x28e6f5(0x140)];}),_0x32f225[_0xc09aad(0x172)](..._0x488b4e)),_0x32f225[_0xc09aad(0x289)]((_0x274ff3,_0x34b367)=>_0x274ff3[_0xc09aad(0x16e)]>_0x34b367[_0xc09aad(0x16e)]?0x1:_0x34b367[_0xc09aad(0x16e)]>_0x274ff3['coin']?-0x1:0x0),_0x491730[_0xc09aad(0x172)]({'date':_0x44e0ce[_0x22fa2+0x1][_0xc09aad(0x24a)],'changes':_0x32f225}));}}),dbConfig[_0x31b9ab(0x254)]('bot')[_0x31b9ab(0x222)]({'botID':botID})[_0x31b9ab(0x18e)]({..._0x12e3b6,'liquidity':_0x491730})[_0x31b9ab(0x241)]();}}config=getConfiguration(botID);let _0x2b3592=dbPerformance['get'](_0x31b9ab(0x23f))[_0x31b9ab(0x274)]();_0x2b3592!=_0x31b9ab(0x199)&&(dbPerformance[_0x31b9ab(0x161)](_0x31b9ab(0x23f),_0x31b9ab(0x199))['write'](),setStartDatePerformance());let _0x3e94fc=dbCoinResults['get'](_0x31b9ab(0x23f))[_0x31b9ab(0x274)]();if(_0x3e94fc!=_0x31b9ab(0x286)){dbCoinResults[_0x31b9ab(0x161)](_0x31b9ab(0x23f),_0x31b9ab(0x286))[_0x31b9ab(0x241)]();let _0x588f25=dbCoinResults[_0x31b9ab(0x254)](_0x31b9ab(0x1ca))['value']();if(_0x588f25[_0x31b9ab(0x23e)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x17c2b8){const _0x54e74e=_0x2c03d6;let _0x5307a4=dbConfig[_0x54e74e(0x254)](_0x54e74e(0x20c))['find']({'botID':_0x17c2b8})[_0x54e74e(0x274)]();if(_0x5307a4){let _0x262ddc=![];typeof _0x5307a4[_0x54e74e(0x229)]=='string'&&(_0x5307a4={..._0x5307a4,'threshold':Number(_0x5307a4[_0x54e74e(0x229)])},_0x262ddc=!![]),_0x5307a4['change24h']==null&&(_0x5307a4={..._0x5307a4,'change24h':-0x14},_0x262ddc=!![]),_0x262ddc&&(_0x5307a4={'botID':_0x5307a4['botID'],'exchange':_0x5307a4[_0x54e74e(0x23b)],'apiKey':_0x5307a4[_0x54e74e(0x1d5)],'apiSecret':_0x5307a4[_0x54e74e(0x165)],'basecoin':_0x5307a4[_0x54e74e(0x158)],'botname':_0x5307a4[_0x54e74e(0x1af)],'showname':_0x5307a4[_0x54e74e(0x175)],'threshold':_0x5307a4[_0x54e74e(0x229)],'ordertype':_0x5307a4[_0x54e74e(0x1e4)],'timeout':_0x5307a4[_0x54e74e(0x1b3)],'startdate':_0x5307a4[_0x54e74e(0x1aa)],'recreate':_0x5307a4[_0x54e74e(0x230)],'timeshift':_0x5307a4[_0x54e74e(0x201)],'headless':_0x5307a4[_0x54e74e(0x25d)],'cooldown':_0x5307a4[_0x54e74e(0x21a)],'change24h':_0x5307a4[_0x54e74e(0x190)],'emojibuy':_0x5307a4[_0x54e74e(0x24b)],'emojisell':_0x5307a4[_0x54e74e(0x1a6)],'portfolio':_0x5307a4[_0x54e74e(0x167)],'liquidity':_0x5307a4[_0x54e74e(0x220)]},dbConfig[_0x54e74e(0x254)](_0x54e74e(0x20c))['remove']()[_0x54e74e(0x241)](),dbConfig['get'](_0x54e74e(0x20c))[_0x54e74e(0x172)](_0x5307a4)[_0x54e74e(0x241)]());}else _0x5307a4={'botID':_0x17c2b8,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x54e74e(0x259)+_0x17c2b8,'showname':![],'threshold':0x3,'ordertype':_0x54e74e(0x27e),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x54e74e(0x201)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x5307a4;}function emittedConfiguration(){const _0x39d843=_0x2c03d6;let _0xc17544;if(config[_0x39d843(0x1d5)]=='')_0xc17544={...config,'configstate':_0x39d843(0x151)};else config['apiKey']=='***'?_0xc17544={...config,'configstate':'recovery'}:_0xc17544={...config,'apiKey':_0x39d843(0x23a),'apiSecret':'************'};return _0xc17544;}function getSettings(){const _0xda0ac=_0x2c03d6;return dbSettings[_0xda0ac(0x254)](_0xda0ac(0x142))['value']();}function getSecure(){const _0x18efa0=_0x2c03d6;return dbSecure[_0x18efa0(0x254)](_0x18efa0(0x196))[_0x18efa0(0x274)]()||{};}function updateTimeshift(_0x52a851){const _0x48cafb=_0x2c03d6;let _0x460ee0=dbConfig[_0x48cafb(0x254)](_0x48cafb(0x20c))['find']({'botID':botID})['value']();_0x460ee0&&dbConfig[_0x48cafb(0x254)](_0x48cafb(0x20c))['find']({'botID':botID})['assign']({'timeshift':_0x52a851})[_0x48cafb(0x241)](),config[_0x48cafb(0x201)]=_0x52a851,proxyEmit(_0x48cafb(0x21d),emittedConfiguration());}async function storeConfiguration(_0x51d110){const _0x31d460=_0x2c03d6;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x4db750=dbConfig[_0x31d460(0x254)]('bot')['find']({'botID':botID})[_0x31d460(0x274)]();_0x51d110={..._0x51d110,'apiKey':crypt[_0x31d460(0x1c1)](secure[_0x31d460(0x28c)],_0x51d110['apiKey'])[_0x31d460(0x279)],'apiSecret':crypt[_0x31d460(0x1c1)](secure[_0x31d460(0x28c)],_0x51d110['apiSecret'])['message']};if(_0x4db750){if(_0x51d110[_0x31d460(0x1d5)]==_0x31d460(0x23a))_0x51d110[_0x31d460(0x1d5)]=config[_0x31d460(0x1d5)];if(_0x51d110[_0x31d460(0x165)]==_0x31d460(0x23a))_0x51d110[_0x31d460(0x165)]=config[_0x31d460(0x165)];dbConfig[_0x31d460(0x254)](_0x31d460(0x20c))[_0x31d460(0x222)]({'botID':botID})[_0x31d460(0x18e)](_0x51d110)[_0x31d460(0x241)]();}else dbConfig[_0x31d460(0x254)](_0x31d460(0x20c))['push'](_0x51d110)[_0x31d460(0x241)](),process['send']({'status':_0x31d460(0x283),'live':_0x31d460(0x1eb)},_0x127eb0=>{});config={..._0x51d110},setStartDatePerformance(),process[_0x31d460(0x1d1)]({'botname':_0x51d110[_0x31d460(0x1af)]},_0x2fe2df=>{}),updateBotManager();const _0x35ecb9=getNormalizedPerformance();getStartingBalances(_0x35ecb9),emitPerformance(_0x35ecb9),proxyEmit(_0x31d460(0x28d)),await initCoinResults(),reset();}async function storeHeadless(_0x4e4389){const _0x3b6750=_0x2c03d6,_0x5b163a={...config,'headless':_0x4e4389[_0x3b6750(0x25d)]};let _0x22c433=dbConfig[_0x3b6750(0x254)](_0x3b6750(0x20c))[_0x3b6750(0x222)]({'botID':botID})[_0x3b6750(0x274)]();_0x22c433&&dbConfig[_0x3b6750(0x254)](_0x3b6750(0x20c))[_0x3b6750(0x222)]({'botID':botID})['assign'](_0x5b163a)['write'](),config={..._0x5b163a},updateBotManager(),proxyEmit(_0x3b6750(0x21d),emittedConfiguration());}function noslash(_0x41e55a){const _0x10a6a2=_0x2c03d6;return _0x41e55a[_0x10a6a2(0x1be)]('/','');}async function updateNumberCoins(_0x5e0669){const _0x576268=_0x2c03d6;if(_0x5e0669[_0x576268(0x287)]&&_0x5e0669[_0x576268(0x287)]==_0x576268(0x173)){logger[_0x576268(0x150)]('0\x20-\x20EXECUTION:\x20'+_0x5e0669[_0x576268(0x1ba)]+_0x576268(0x265)+_0x5e0669[_0x576268(0x21f)]+_0x576268(0x265)+_0x5e0669['orderId']+'\x20|\x20'+_0x5e0669[_0x576268(0x1e7)]);let _0x38423d=_0x5e0669[_0x576268(0x21f)],_0x4b683c=![];currentCoins[_0x576268(0x1a8)](_0x2db365=>{const _0x4a7303=_0x576268;noslash(_0x2db365[_0x4a7303(0x1ba)])==_0x5e0669[_0x4a7303(0x1ba)]&&(_0x4b683c=!![]);});if(!_0x4b683c)return;const _0x2c10c6=currentCoins[_0x576268(0x222)](_0x24f346=>noslash(_0x24f346[_0x576268(0x1ba)])==_0x5e0669[_0x576268(0x1ba)]),_0x5316c9=_0x3fe592=>{const _0x421968=_0x576268;if(_0x2c10c6)_0x2c10c6[_0x421968(0x14a)]=_0x3fe592;};if(_0x38423d==_0x576268(0x252))_0x5316c9('open');else{if(_0x38423d==_0x576268(0x1e3))_0x5316c9(_0x576268(0x25f)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x38423d=='FILLED'){logger[_0x576268(0x150)](_0x576268(0x192)+_0x5e0669[_0x576268(0x1ba)]+_0x576268(0x265)+_0x5e0669[_0x576268(0x27c)]+_0x576268(0x265)+_0x5e0669['orderId']+_0x576268(0x265)+_0x5e0669[_0x576268(0x1e7)]);let _0x29cd92=![];if(lastOrders)lastOrders[_0x576268(0x1a8)](async _0x341906=>{const _0xb93ff6=_0x576268;if(_0x341906[_0xb93ff6(0x284)]==_0x5e0669[_0xb93ff6(0x1e7)]){logger[_0xb93ff6(0x150)](_0xb93ff6(0x26c)+_0x5e0669[_0xb93ff6(0x1e7)]),_0x29cd92=!![];if(_0x341906[_0xb93ff6(0x1e9)]==0x0){logger[_0xb93ff6(0x150)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x5e0669[_0xb93ff6(0x1e7)]),_0x341906[_0xb93ff6(0x204)]=_0x5e0669[_0xb93ff6(0x253)]/_0x5e0669[_0xb93ff6(0x27c)],_0x341906[_0xb93ff6(0x1e9)]=_0x5e0669['accumulatedQuantity'],_0x341906[_0xb93ff6(0x176)]={'cost':_0x5e0669[_0xb93ff6(0x293)],'currency':_0x5e0669[_0xb93ff6(0x20f)]},_0x5316c9(_0xb93ff6(0x1e9)),await validateOrders();if(lockOrders==ORDERS[_0xb93ff6(0x23c)])currentCoins=await getCoins();await updateCoinResults(_0x341906);}}});!_0x29cd92&&(logger['debug'](_0x576268(0x1a2)+_0x5e0669['orderId']),_0x5316c9(_0x576268(0x1e9)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x45fff5=JSON[_0x576268(0x1f5)](lastBalances['portfolio']);const _0x24d7e2=_0x45fff5[_0x576268(0x222)](_0x154716=>noslash(_0x154716['symbol'])==_0x5e0669[_0x576268(0x1ba)]);if(_0x24d7e2){if(_0x38423d==_0x576268(0x252))_0x24d7e2['orderstatus']=_0x24d7e2[_0x576268(0x14a)]==_0x576268(0x1e9)?'filled':'open';else{if(_0x38423d=='CANCELED')_0x24d7e2['orderstatus']=_0x24d7e2['orderstatus']==_0x576268(0x1e9)?_0x576268(0x1e9):_0x576268(0x25f);else _0x38423d==_0x576268(0x28f)&&(_0x24d7e2[_0x576268(0x14a)]=_0x576268(0x1e9));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x45fff5)},proxyEmit(_0x576268(0x291),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x293872=![],_0x2e56d8=!![],_0xe2cbf7=config[_0x2c03d6(0x158)]){const _0x282340=_0x2c03d6;let _0x48da36,_0x4728a4=[],_0x64b2b8=[],_0x51b103=[];try{_0x48da36=await exchange['fetchBalance'](),mybalances=_0x48da36[_0x282340(0x243)];if(!_0x2e56d8)for(const [_0x4cc717,_0x1aff04]of Object['entries'](mybalances)){_0x51b103['push'](_0x4cc717);}else config[_0x282340(0x167)][_0x282340(0x1a8)](_0x47d657=>{const _0x36873c=_0x282340;if(!_0x47d657[_0x36873c(0x160)])_0x51b103[_0x36873c(0x172)](_0x47d657[_0x36873c(0x16e)]);});if(_0xe2cbf7=='')for(const [_0xc1319e,_0x50585a]of Object[_0x282340(0x1f0)](mybalances)){_0x50585a['toString']()!=0x0&&_0x64b2b8['push']({'coin':_0xc1319e});}else{if(_0x293872)await getOpenOrders();let _0x17d682=![];for(const [_0x56a2be,_0x5d5b68]of Object[_0x282340(0x1f0)](mybalances)){if(_0x51b103[_0x282340(0x145)](_0x56a2be)){const _0x212735=config[_0x282340(0x167)][_0x282340(0x222)](_0x2333a3=>_0x2333a3['coin']==_0x56a2be),_0x5c09a2=_0x56a2be+'/'+_0xe2cbf7,_0x58bfb9=_0xe2cbf7+'/'+_0x56a2be,_0x2f9cde=currentCoins[_0x282340(0x222)](_0x341850=>_0x341850[_0x282340(0x16e)]==_0x56a2be);_0x17d682=![];_0x293872&&(_0x17d682=allOpenOrders[_0x282340(0x222)](_0x5be473=>_0x5be473[_0x282340(0x1ba)]==_0x212735[_0x282340(0x1ba)]));if((_0x5d5b68['toString']()!=0x0||_0x212735)&&(allSymbols[_0x282340(0x145)](_0x5c09a2)||_0x56a2be==_0xe2cbf7))_0x56a2be!=_0xe2cbf7&&_0x4728a4[_0x282340(0x172)](_0x5c09a2),_0x64b2b8[_0x282340(0x172)]({'coin':_0x56a2be,'symbol':_0x5c09a2,'reverse':![],'number':Math['max'](_0x5d5b68+(_0x212735&&_0x212735[_0x282340(0x215)]||0x0),0x0),'orderstatus':_0x293872?_0x17d682?_0x282340(0x15e):_0x282340(0x209):_0x2f9cde?_0x2f9cde[_0x282340(0x14a)]:_0x282340(0x209)});else(_0x5d5b68[_0x282340(0x26a)]()!=0x0||_0x212735)&&allSymbols['includes'](_0x58bfb9)&&(_0x56a2be!=_0xe2cbf7&&_0x4728a4[_0x282340(0x172)](_0x58bfb9),_0x64b2b8[_0x282340(0x172)]({'coin':_0x56a2be,'symbol':_0x58bfb9,'reverse':!![],'number':Math[_0x282340(0x24f)](_0x5d5b68+(_0x212735&&_0x212735[_0x282340(0x215)]||0x0),0x0),'orderstatus':_0x293872?_0x17d682?_0x282340(0x15e):_0x282340(0x209):_0x2f9cde?_0x2f9cde[_0x282340(0x14a)]:_0x282340(0x209)}));}}}}catch(_0x429766){if(!_0x2e56d8)handleErrorNoStop(_0x429766,_0x282340(0x1c0));else await handleError(_0x429766,_0x282340(0x1c0));}return _0x64b2b8;}async function getCoinNumber(_0x2b7135){const _0xc4a420=_0x2c03d6;let _0xa84e7;try{const _0x1e933b=await exchange[_0xc4a420(0x1c5)]();_0xa84e7=_0x1e933b['total'][_0x2b7135];}catch(_0x1d6195){await handleError(_0x1d6195,'getCoinNumber()');}return _0xa84e7;}async function getOpenOrders(){const _0x50b089=_0x2c03d6;let _0x1c8a21;allOpenOrders=[];try{for(const _0x5654a9 of config[_0x50b089(0x167)]){!_0x5654a9[_0x50b089(0x160)]&&_0x5654a9['coin']!=config[_0x50b089(0x158)]&&(_0x1c8a21=await exchange[_0x50b089(0x227)](_0x5654a9[_0x50b089(0x1ba)]),_0x1c8a21[_0x50b089(0x23e)]>0x0&&allOpenOrders['push'](_0x1c8a21[0x0]));}}catch(_0x1944bd){await handleError(_0x1944bd,_0x50b089(0x255));}}async function handleOpenOrders(_0x5d6d0f=0x0){const _0x3ac3c8=_0x2c03d6;allOpenOrders[_0x3ac3c8(0x23e)]==0x0&&lockOrders==ORDERS[_0x3ac3c8(0x23c)]&&allOrdersPlaced&&(_0x5d6d0f==0x0?(logger[_0x3ac3c8(0x150)](_0x3ac3c8(0x22f)),_0x5d6d0f++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x3ac3c8(0x150)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x3ac3c8(0x162))));}async function getPortfolio(_0x50676f){const _0x4e3082=_0x2c03d6;let _0x146cda=[],_0x148a7d=[],_0x36de08,_0x21dd1b=[],_0x1e3b8e,_0x18ea70;_0x50676f[_0x4e3082(0x1d5)]===_0x4e3082(0x23a)||_0x50676f[_0x4e3082(0x165)]===_0x4e3082(0x23a)?(_0x1e3b8e=config['apiKey'],_0x18ea70=config[_0x4e3082(0x165)]):(_0x1e3b8e=_0x50676f[_0x4e3082(0x1d5)],_0x18ea70=_0x50676f[_0x4e3082(0x165)]);await initExchange(_0x1e3b8e,_0x18ea70);let _0x2cf592=![];try{_0x2cf592=await loadSymbols();}catch(_0x619c10){_0x2cf592=![],handleErrorNoStop(_0x619c10,_0x4e3082(0x19c));}if(_0x2cf592){_0x21dd1b=await getCoins(![],![],_0x50676f[_0x4e3082(0x158)]);if(_0x21dd1b===![])proxyEmit(_0x4e3082(0x167),![]);else{if(_0x50676f[_0x4e3082(0x158)]=='')proxyEmit('portfolio',_0x21dd1b);else{_0x21dd1b[_0x4e3082(0x1a8)](_0x1d8821=>{const _0x484d78=_0x4e3082;if(_0x1d8821['coin']!=_0x50676f[_0x484d78(0x158)])_0x146cda[_0x484d78(0x172)](_0x1d8821[_0x484d78(0x1ba)]);});try{_0x148a7d=await exchange[_0x4e3082(0x244)](_0x146cda);}catch(_0x3d1543){await handleError(_0x3d1543,_0x4e3082(0x294));}_0x21dd1b[_0x4e3082(0x1a8)](_0x49809a=>{const _0x1b5833=_0x4e3082;_0x49809a[_0x1b5833(0x16e)]!=_0x50676f['basecoin']?_0x36de08=_0x49809a[_0x1b5833(0x262)]?0x1/_0x148a7d[_0x49809a[_0x1b5833(0x1ba)]][_0x1b5833(0x249)]:_0x148a7d[_0x49809a[_0x1b5833(0x1ba)]][_0x1b5833(0x249)]:_0x36de08=0x1,_0x49809a[_0x1b5833(0x204)]=formatResult(_0x36de08,0x8);}),proxyEmit(_0x4e3082(0x167),_0x21dd1b);}}}else proxyEmit(_0x4e3082(0x167),![]);}function checkMinimums(_0x298cb4){const _0x32f864=_0x2c03d6;let _0x29d294=!![];const _0x3cb439=!_0x298cb4[_0x32f864(0x262)]?markets[_0x298cb4[_0x32f864(0x1ba)]][_0x32f864(0x1fb)]['amount'][_0x32f864(0x186)]:markets[_0x298cb4[_0x32f864(0x1ba)]][_0x32f864(0x1fb)][_0x32f864(0x1e1)][_0x32f864(0x186)],_0x52e0e2=!_0x298cb4[_0x32f864(0x262)]?markets[_0x298cb4[_0x32f864(0x1ba)]][_0x32f864(0x1fb)][_0x32f864(0x1e1)][_0x32f864(0x186)]:markets[_0x298cb4['symbol']][_0x32f864(0x1fb)]['amount'][_0x32f864(0x186)],_0x306a11=markets[_0x298cb4[_0x32f864(0x1ba)]][_0x32f864(0x14d)][_0x32f864(0x281)];_0x298cb4[_0x32f864(0x24e)]=formatResultTruncate(_0x298cb4[_0x32f864(0x24e)],_0x306a11);if(Math['abs'](_0x298cb4['trade'])<_0x3cb439)_0x29d294=![];if(Math[_0x32f864(0x24c)](_0x298cb4[_0x32f864(0x24e)])*_0x298cb4[_0x32f864(0x249)]<_0x52e0e2)_0x29d294=![];if(_0x298cb4['side']==_0x32f864(0x22c)){let _0x4c3e7c=config[_0x32f864(0x167)][_0x32f864(0x222)](_0x114379=>_0x114379[_0x32f864(0x16e)]==_0x298cb4['coin']);if(_0x4c3e7c[_0x32f864(0x215)]>0x0){if(Math[_0x32f864(0x24c)](_0x298cb4[_0x32f864(0x24e)])>_0x298cb4[_0x32f864(0x140)]-_0x4c3e7c[_0x32f864(0x215)])_0x29d294=![];}else{if(Math[_0x32f864(0x24c)](_0x298cb4[_0x32f864(0x24e)])>_0x298cb4[_0x32f864(0x140)])_0x29d294=![];}}if(_0x298cb4[_0x32f864(0x250)]==_0x32f864(0x1d7)){let _0x38d191=config['portfolio'][_0x32f864(0x222)](_0x819d54=>_0x819d54['coin']==config[_0x32f864(0x158)]),_0x1fe944=currentCoins[_0x32f864(0x222)](_0x135e39=>_0x135e39['coin']==config[_0x32f864(0x158)]);if(_0x38d191['offset']>0x0){if(Math[_0x32f864(0x24c)](_0x298cb4[_0x32f864(0x24e)])*_0x298cb4[_0x32f864(0x249)]>_0x1fe944[_0x32f864(0x140)]-_0x38d191[_0x32f864(0x215)])_0x29d294=![];}else{if(Math['abs'](_0x298cb4['trade'])*_0x298cb4[_0x32f864(0x249)]>_0x1fe944[_0x32f864(0x140)])_0x29d294=![];}}return _0x29d294;}async function getBalances(){const _0x13c922=_0x2c03d6;let _0x3c88fc=0x0,_0x47f525;const _0x19cae0=config[_0x13c922(0x229)];if(config['headless']&&config[_0x13c922(0x190)]<0x0)await validate24hChanges();currentCoins[_0x13c922(0x1a8)](_0x2b84b7=>{const _0x3dcd58=_0x13c922;if(_0x2b84b7[_0x3dcd58(0x16e)]!=config[_0x3dcd58(0x158)]){let _0x344b55=global[_0x3dcd58(0x260)][noslash(_0x2b84b7[_0x3dcd58(0x1ba)])];_0x47f525=_0x2b84b7[_0x3dcd58(0x262)]?0x1/_0x344b55:_0x344b55;}else _0x47f525=0x1;let _0x4ecb1c=_0x2b84b7[_0x3dcd58(0x140)]*_0x47f525;_0x3c88fc+=_0x4ecb1c,_0x2b84b7[_0x3dcd58(0x249)]=formatResult(Number(_0x47f525),0x8),_0x2b84b7[_0x3dcd58(0x274)]=_0x4ecb1c;}),currentCoins[_0x13c922(0x1a8)](_0x1b5595=>{const _0x12b437=_0x13c922;let _0x33e715=config['portfolio'][_0x12b437(0x222)](_0x4faf52=>_0x4faf52[_0x12b437(0x16e)]==_0x1b5595[_0x12b437(0x16e)]),_0x3d1535=Number(_0x33e715[_0x12b437(0x1c8)]),_0x384070=_0x1b5595[_0x12b437(0x274)]/_0x3c88fc*0x64,_0x456862=_0x3d1535*_0x3c88fc/0x64/_0x1b5595[_0x12b437(0x249)]-_0x1b5595[_0x12b437(0x140)];_0x1b5595[_0x12b437(0x1c8)]=formatResult(_0x384070,0x3),_0x1b5595[_0x12b437(0x1bd)]=formatResult(_0x3d1535,0x3),_0x1b5595[_0x12b437(0x24e)]=formatResult(_0x456862,0x8),_0x1b5595[_0x12b437(0x250)]='',_0x1b5595[_0x12b437(0x156)]=![];if(_0x1b5595['coin']!=config[_0x12b437(0x158)]){if(_0x1b5595[_0x12b437(0x1c8)]>_0x3d1535)_0x1b5595['side']=_0x12b437(0x22c),_0x1b5595['valid']=checkMinimums(_0x1b5595);else _0x1b5595[_0x12b437(0x1c8)]<_0x3d1535&&(_0x1b5595[_0x12b437(0x250)]=_0x12b437(0x1d7),_0x1b5595[_0x12b437(0x156)]=checkMinimums(_0x1b5595));}_0x1b5595['delta']=_0x1b5595[_0x12b437(0x1c8)]/_0x1b5595['target']-0x1;if(_0x1b5595[_0x12b437(0x14a)]==_0x12b437(0x1e9)||_0x1b5595[_0x12b437(0x14a)]==_0x12b437(0x25f))_0x1b5595[_0x12b437(0x14a)]=_0x12b437(0x209);}),currentCoins[_0x13c922(0x289)]((_0x2fc021,_0x529975)=>_0x2fc021[_0x13c922(0x17f)]<_0x529975['delta']?0x1:_0x529975[_0x13c922(0x17f)]<_0x2fc021[_0x13c922(0x17f)]?-0x1:0x0);const _0x1bac36=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1bac36['eur'],'usd':_0x1bac36[_0x13c922(0x1d8)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x19cae0},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config[_0x13c922(0x25d)])headlessMode({'portfolio':currentCoins,'threshold':_0x19cae0});else{if(lockOrders==ORDERS['UNLOCKED']&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x19cae0});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x492780=_0x2c03d6;if(!lastBalances)return;let _0x5e5de1=[],_0x157eba,_0x3746e5=JSON[_0x492780(0x1f5)](lastBalances[_0x492780(0x167)]);_0x3746e5[_0x492780(0x289)]((_0x2d2d49,_0x5b6254)=>_0x2d2d49[_0x492780(0x16e)]>_0x5b6254[_0x492780(0x16e)]?0x1:_0x5b6254[_0x492780(0x16e)]>_0x2d2d49[_0x492780(0x16e)]?-0x1:0x0),_0x3746e5[_0x492780(0x1a8)](_0x5dd380=>{const _0x53095d=_0x492780;let _0x226401={'coin':_0x5dd380['coin'],'number':_0x5dd380[_0x53095d(0x140)],'price':_0x5dd380[_0x53095d(0x249)]};_0x5e5de1['push'](_0x226401);});const _0x54fc82=await getFiat();_0x157eba={'date':lastBalances[_0x492780(0x22b)][_0x492780(0x19d)]('\x20')[0x0],'eur':_0x54fc82[_0x492780(0x29d)],'usd':_0x54fc82[_0x492780(0x1d8)],'coins':_0x5e5de1};let _0x5f0fb4=dbPerformance['get']('data')[_0x492780(0x222)]({'date':_0x157eba[_0x492780(0x24a)]})[_0x492780(0x274)]();_0x5f0fb4?_0x157eba[_0x492780(0x24a)]!=config[_0x492780(0x1aa)]&&dbPerformance['get'](_0x492780(0x1cc))['find']({'date':_0x157eba['date']})[_0x492780(0x18e)](_0x157eba)[_0x492780(0x241)]():dbPerformance['get'](_0x492780(0x1cc))['push'](_0x157eba)[_0x492780(0x241)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x1b43c9=_0x2c03d6;let _0x24cc88=[];if(dbPerformance['has'](_0x1b43c9(0x1cc))[_0x1b43c9(0x274)]()){let _0x2e3535=dbPerformance[_0x1b43c9(0x254)]('data')[_0x1b43c9(0x1e2)]()[_0x1b43c9(0x20a)](_0x1b43c9(0x24a))['value'](),_0x4f8452=[...config[_0x1b43c9(0x220)]];_0x4f8452[_0x1b43c9(0x289)]((_0x3595bc,_0x1af81a)=>_0x3595bc[_0x1b43c9(0x24a)]>_0x1af81a[_0x1b43c9(0x24a)]?-0x1:_0x1af81a[_0x1b43c9(0x24a)]>_0x3595bc[_0x1b43c9(0x24a)]?0x1:0x0);let _0x2bcb37=0x1,_0x7e3869=[],_0x16b1c7=0x0;_0x2e3535[_0x1b43c9(0x1c9)]()[_0x1b43c9(0x262)]()['forEach']((_0x29cc58,_0x2c080c)=>{const _0x48e3df=_0x1b43c9;if(_0x4f8452[_0x16b1c7]){if(_0x2e3535[_0x2e3535[_0x48e3df(0x23e)]-_0x2c080c]&&_0x4f8452[_0x16b1c7][_0x48e3df(0x24a)]==_0x2e3535[_0x2e3535[_0x48e3df(0x23e)]-_0x2c080c][_0x48e3df(0x24a)]){if(_0x2c080c<_0x2e3535[_0x48e3df(0x23e)]){let _0x7ad9e5=0x0,_0x1713ed=0x0;_0x2e3535[_0x2e3535[_0x48e3df(0x23e)]-_0x2c080c][_0x48e3df(0x1ca)]['forEach'](_0x27b2a0=>{const _0x45e7dd=_0x48e3df;_0x1713ed+=_0x27b2a0[_0x45e7dd(0x140)]*_0x27b2a0[_0x45e7dd(0x204)];}),_0x4f8452[_0x16b1c7][_0x48e3df(0x1ea)][_0x48e3df(0x1a8)](_0x35cda3=>{const _0x443427=_0x48e3df;_0x7ad9e5+=_0x35cda3['number']*_0x35cda3[_0x443427(0x204)];}),_0x2bcb37*=_0x7ad9e5/(_0x1713ed-_0x7ad9e5)+0x1;}_0x16b1c7++;}}let _0x3c3140=0x0;_0x29cc58[_0x48e3df(0x1ca)][_0x48e3df(0x1a8)](_0x177be4=>{const _0x41852e=_0x48e3df;_0x3c3140+=_0x177be4['number']*_0x177be4[_0x41852e(0x204)];}),_0x7e3869[_0x2e3535['length']-_0x2c080c-0x1]=_0x3c3140*(_0x2bcb37-0x1);});let _0x2236e8=[];_0x4f8452=[...config['liquidity']]||[];let _0x40e005=0x0;_0x16b1c7=0x0,_0x2e3535['forEach']((_0x2cfb32,_0x429ad2)=>{const _0x14bb02=_0x1b43c9;if(_0x4f8452[_0x16b1c7]){const _0x4287e5=fns[_0x14bb02(0x1f5)](_0x4f8452[_0x16b1c7][_0x14bb02(0x24a)],_0x14bb02(0x298),new Date()),_0x2d9ca4=fns[_0x14bb02(0x1f5)](_0x2cfb32[_0x14bb02(0x24a)],_0x14bb02(0x298),new Date());if(fns['isEqual'](_0x4287e5,_0x2d9ca4)){let _0x50df90=0x0;_0x4f8452[_0x16b1c7][_0x14bb02(0x1ea)][_0x14bb02(0x1a8)](_0x28d627=>{const _0x4efa30=_0x14bb02;!_0x2236e8[_0x28d627[_0x4efa30(0x16e)]]?_0x2236e8[_0x28d627[_0x4efa30(0x16e)]]=_0x28d627[_0x4efa30(0x140)]:(_0x50df90=_0x2236e8[_0x28d627[_0x4efa30(0x16e)]],_0x2236e8[_0x28d627['coin']]+=_0x28d627['number']);const _0x23dcdc=_0x2cfb32['coins']['find'](_0x2098fe=>_0x2098fe['coin']==_0x28d627[_0x4efa30(0x16e)]);(!_0x23dcdc||_0x23dcdc[_0x4efa30(0x140)]==0x0)&&(_0x40e005+=(-_0x28d627[_0x4efa30(0x140)]-_0x50df90)*_0x28d627[_0x4efa30(0x204)]);}),_0x16b1c7++;}}_0x2cfb32[_0x14bb02(0x1ca)][_0x14bb02(0x1a8)]((_0x4104f4,_0x97c9d2)=>{const _0x45ed36=_0x14bb02;_0x2236e8[_0x4104f4[_0x45ed36(0x16e)]]&&(_0x4104f4={..._0x4104f4,'initial':_0x2236e8[_0x4104f4[_0x45ed36(0x16e)]]}),_0x2cfb32[_0x45ed36(0x1ca)][_0x97c9d2]=_0x4104f4;}),_0x24cc88[_0x14bb02(0x172)]({'date':_0x2cfb32[_0x14bb02(0x24a)],'eur':_0x2cfb32[_0x14bb02(0x29d)],'usd':_0x2cfb32[_0x14bb02(0x1d8)],'offset':_0x7e3869[_0x429ad2],'netoffset':_0x40e005,'coins':_0x2cfb32[_0x14bb02(0x1ca)]});});}return _0x24cc88;}function emitPerformance(_0x213cd1){const _0x19ab18=_0x2c03d6;_0x213cd1[_0x19ab18(0x23e)]!==0x0?(proxyEmit('performance',_0x213cd1),lastPerformanceEmitted=getDate()):proxyEmit(_0x19ab18(0x276),[]);}function getPerf(_0x5ad6ed,_0x229c21){const _0x33219e=_0x2c03d6;let _0x4b97d9=0x0,_0x49e114=0x0,_0x220479=0x0;_0x5ad6ed[_0x33219e(0x1ca)][_0x33219e(0x1a8)](_0xd9a151=>{const _0x3332bb=_0x33219e;_0x4b97d9+=_0xd9a151[_0x3332bb(0x140)]*_0xd9a151[_0x3332bb(0x204)];});_0x229c21&&(_0x4b97d9+=_0x5ad6ed[_0x33219e(0x215)]);if(config[_0x33219e(0x158)]==='BTC'||config['basecoin']===_0x33219e(0x1d2))_0x49e114=_0x4b97d9*_0x5ad6ed[_0x33219e(0x29d)],_0x220479=_0x4b97d9*_0x5ad6ed[_0x33219e(0x1d8)];else{if(config[_0x33219e(0x158)]===_0x33219e(0x282)||config[_0x33219e(0x158)]===_0x33219e(0x280))_0x49e114=_0x4b97d9*_0x5ad6ed[_0x33219e(0x29d)]/_0x5ad6ed[_0x33219e(0x1d8)],_0x220479=_0x4b97d9;else config['basecoin']===_0x33219e(0x1de)&&(_0x49e114=_0x4b97d9,_0x220479=_0x4b97d9*_0x5ad6ed[_0x33219e(0x1d8)]/_0x5ad6ed[_0x33219e(0x29d)]);}return[_0x4b97d9,_0x49e114,_0x220479];}function getKPIs(_0x1153f6,_0x414526='EUR'){const _0x3ce667=_0x2c03d6,_0x516f98=config['basecoin'],_0x28adf0=config[_0x3ce667(0x291)],_0x273faa=currentCoins,_0x2ce820=getNormalizedPerformance(),_0x4035d2=_0x1153f6==='basecoin'?_0x516f98:_0x1153f6===_0x3ce667(0x275)||_0x1153f6===_0x3ce667(0x206)?_0x414526:_0x3ce667(0x13a)+_0x516f98,_0xa85ff4=_0x1153f6===_0x3ce667(0x182)?_0x3ce667(0x144):_0x1153f6===_0x3ce667(0x206)?_0x3ce667(0x296)+_0x4035d2+')':_0x4035d2+_0x3ce667(0x272),_0x1f3a6d=_0x1153f6==='net-basecoin'||_0x1153f6===_0x3ce667(0x206)?'Net\x20effect':_0x4035d2+'\x20change';let _0x4a6f80=0x0;_0x273faa[_0x3ce667(0x1a8)](_0x2c82bf=>{const _0x3cf5cf=_0x3ce667;_0x4a6f80+=_0x2c82bf[_0x3cf5cf(0x140)]*_0x2c82bf[_0x3cf5cf(0x249)];});if(_0x1153f6===_0x3ce667(0x275)||_0x1153f6===_0x3ce667(0x206)){if(_0x516f98==='BTC'||_0x516f98===_0x3ce667(0x1d2))_0x4a6f80=_0x4a6f80*(_0x414526===_0x3ce667(0x1de)?_0x28adf0[_0x3ce667(0x29d)]:_0x28adf0[_0x3ce667(0x1d8)]);else{if(_0x516f98===_0x3ce667(0x282)||_0x516f98===_0x3ce667(0x280))_0x4a6f80=_0x4a6f80*(_0x414526===_0x3ce667(0x1de)?_0x28adf0[_0x3ce667(0x29d)]/_0x28adf0['usd']:0x1);else _0x516f98===_0x3ce667(0x1de)&&(_0x4a6f80=_0x4a6f80*(_0x414526===_0x3ce667(0x1de)?0x1:_0x28adf0[_0x3ce667(0x1d8)]/_0x28adf0[_0x3ce667(0x29d)]));}}let _0x26d8fe;if(_0x4a6f80!==0x0){if(_0x1153f6===_0x3ce667(0x158))_0x26d8fe=(_0x4a6f80/startingBalances[_0x3ce667(0x158)]-0x1)*0x64;else{if(_0x414526===_0x3ce667(0x1de))_0x26d8fe=(_0x4a6f80/startingBalances[_0x3ce667(0x29d)]-0x1)*0x64;else _0x26d8fe=(_0x4a6f80/startingBalances[_0x3ce667(0x1d8)]-0x1)*0x64;}let _0x518cc9=0x0;if(startingBalances['coins'])_0x273faa[_0x3ce667(0x1a8)](_0x4aa191=>{const _0x5eaa05=_0x3ce667;let _0x3d3124=startingBalances[_0x5eaa05(0x1ca)][_0x5eaa05(0x222)](_0x4605df=>_0x4605df[_0x5eaa05(0x16e)]===_0x4aa191[_0x5eaa05(0x16e)]);if(_0x3d3124&&_0x3d3124['coin']&&_0x4aa191[_0x5eaa05(0x140)]!==0x0)_0x518cc9+=_0x3d3124['number']*_0x4aa191[_0x5eaa05(0x249)];});let _0x32397e=0x0;if(_0x2ce820[_0x3ce667(0x23e)]!==0x0){let _0xd1496c=_0x2ce820[_0x2ce820[_0x3ce667(0x23e)]-0x1];_0x32397e=_0xd1496c[_0x3ce667(0x1fe)];}_0x518cc9-=_0x32397e;_0x1153f6===_0x3ce667(0x182)&&(_0x26d8fe=(_0x4a6f80-_0x518cc9)/startingBalances['basecoin']*0x64,_0x4a6f80=_0x4a6f80-_0x518cc9);if(_0x1153f6==='net-fiat'){let _0x407d2a=_0x414526===_0x3ce667(0x1de)?startingBalances['eur']:startingBalances['usd'];if(_0x516f98===_0x3ce667(0x191)||_0x516f98===_0x3ce667(0x1d2))_0x518cc9=_0x414526===_0x3ce667(0x1de)?_0x518cc9*_0x28adf0[_0x3ce667(0x29d)]:_0x518cc9*_0x28adf0[_0x3ce667(0x1d8)];else{if(_0x516f98===_0x3ce667(0x282)||_0x516f98===_0x3ce667(0x280))_0x518cc9=_0x414526==='EUR'?_0x518cc9*_0x28adf0['eur']/_0x28adf0[_0x3ce667(0x1d8)]:_0x518cc9;else _0x516f98==='EUR'&&(_0x518cc9=_0x414526===_0x3ce667(0x1de)?_0x518cc9:_0x518cc9*_0x28adf0[_0x3ce667(0x1d8)]/_0x28adf0['eur']);}_0x26d8fe=(_0x4a6f80-_0x518cc9)/_0x407d2a*0x64,_0x4a6f80=_0x4a6f80-_0x518cc9;}if(_0x26d8fe){if(_0x26d8fe<0x64)_0x26d8fe=_0x26d8fe[_0x3ce667(0x198)](0x2);else{if(_0x26d8fe<0x3e8)_0x26d8fe=_0x26d8fe[_0x3ce667(0x198)](0x1);else _0x26d8fe=_0x26d8fe[_0x3ce667(0x198)](0x0);}}else _0x26d8fe=Number('0')[_0x3ce667(0x198)](0x2);if(_0x4a6f80){if(Math[_0x3ce667(0x24c)](_0x4a6f80)<0.000001)_0x4a6f80=_0x4a6f80[_0x3ce667(0x198)](0x2);else{if(Math[_0x3ce667(0x24c)](_0x4a6f80)<0.1)_0x4a6f80=_0x4a6f80[_0x3ce667(0x198)](0x6);else{if(Math['abs'](_0x4a6f80)<0x1)_0x4a6f80=_0x4a6f80[_0x3ce667(0x198)](0x5);else{if(Math['abs'](_0x4a6f80)<0xa)_0x4a6f80=_0x4a6f80[_0x3ce667(0x198)](0x4);else{if(Math[_0x3ce667(0x24c)](_0x4a6f80)<0x64)_0x4a6f80=_0x4a6f80[_0x3ce667(0x198)](0x3);else{if(Math[_0x3ce667(0x24c)](_0x4a6f80)<0x3e8)_0x4a6f80=_0x4a6f80['toFixed'](0x2);else _0x4a6f80=_0x4a6f80['toFixed'](0x2);}}}}}}else _0x4a6f80=Number('0')[_0x3ce667(0x198)](0x2);}else _0x26d8fe=Number('0')[_0x3ce667(0x198)](0x2);return{'value':_0x4a6f80,'change':_0x26d8fe,'leftTxt':_0xa85ff4,'rightTxt':_0x1f3a6d};}async function getStartingBalances(_0x471636,_0x2c7525=!![]){const _0x2bacca=_0x2c03d6;if(_0x471636[_0x2bacca(0x23e)]!==0x0){const [_0x4c0d32,_0x22e594,_0x5191d5]=getPerf(_0x471636[0x0],!![]);let _0x3cc5bd=[];config[_0x2bacca(0x167)][_0x2bacca(0x1a8)](_0x1195ca=>{const _0x123502=_0x2bacca;let _0x5bcabe=0x0,_0x48e3f8;config[_0x123502(0x220)][_0x123502(0x1a8)](_0x3f5585=>{const _0x339c71=_0x123502;let _0x5ae870=_0x3f5585[_0x339c71(0x1ea)][_0x339c71(0x222)](_0x51298f=>_0x51298f['coin']==_0x1195ca['coin']);if(_0x5ae870){_0x5bcabe+=_0x5ae870[_0x339c71(0x140)];if(!_0x48e3f8)_0x48e3f8=_0x5ae870['price'];}}),_0x3cc5bd[_0x123502(0x172)]({'coin':_0x1195ca['coin'],'number':_0x5bcabe,'initialprice':_0x48e3f8});});const _0x8a1e19={'basecoin':_0x4c0d32,'eur':_0x22e594,'usd':_0x5191d5,'coins':_0x3cc5bd};if(_0x2c7525)proxyEmit(_0x2bacca(0x13e),_0x8a1e19);startingBalances=_0x8a1e19;}}function headlessMode(_0x15cdae){const _0x180864=_0x2c03d6;let _0x82c7c8=_0x15cdae[_0x180864(0x167)],_0x234717=_0x15cdae[_0x180864(0x229)],_0x521365=[];for(let _0x19344a of _0x82c7c8){if(_0x19344a['coin']!=config[_0x180864(0x158)]){if(_0x19344a['delta']>=_0x234717/0x64){if(_0x19344a[_0x180864(0x156)])_0x521365[_0x180864(0x172)](_0x19344a);}else{if(_0x19344a[_0x180864(0x17f)]<=-_0x234717/0x64){if(_0x19344a['valid'])_0x521365[_0x180864(0x172)](_0x19344a);}}}}_0x521365[_0x180864(0x23e)]>0x0&&placeOrder(_0x521365);}function notifyBalance(_0x14ea1f){const _0x5b9e5e=_0x2c03d6;let _0x468aa1=_0x14ea1f[_0x5b9e5e(0x167)],_0x1e1988=_0x14ea1f['threshold'],_0x1296ab=[];for(let _0x4acee2 of _0x468aa1){if(_0x4acee2['coin']!=config[_0x5b9e5e(0x158)]){if(_0x4acee2[_0x5b9e5e(0x17f)]>=_0x1e1988/0x64){if(_0x4acee2['valid'])_0x1296ab[_0x5b9e5e(0x172)](_0x4acee2);}else{if(_0x4acee2['delta']<=-_0x1e1988/0x64){if(_0x4acee2['valid'])_0x1296ab[_0x5b9e5e(0x172)](_0x4acee2);}}}}if(_0x1296ab[_0x5b9e5e(0x23e)]>0x0){let _0x45b4dc=_0x1296ab[_0x5b9e5e(0x1b0)](_0x192f53=>_0x192f53['coin']);_0x45b4dc[_0x5b9e5e(0x289)]();let _0x399290=_0x45b4dc['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x399290;}}function symbolToCoin(_0x57426e){const _0x2a3b6a=_0x2c03d6;let _0x49880e;if(_0x57426e[_0x2a3b6a(0x145)]('/'+config[_0x2a3b6a(0x158)]))_0x49880e=_0x57426e[_0x2a3b6a(0x1be)]('/'+config[_0x2a3b6a(0x158)],'');if(_0x57426e[_0x2a3b6a(0x145)](config[_0x2a3b6a(0x158)]+'/'))_0x49880e=_0x57426e[_0x2a3b6a(0x1be)](config['basecoin']+'/','');return _0x49880e;}async function unlockOrders(){const _0x26cc26=_0x2c03d6;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger['debug'](_0x26cc26(0x13b)),lockOrders=ORDERS['UNLOCKING'];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x26cc26(0x151),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x26cc26(0x150)]('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x1b83c0){const _0x271c49=_0x2c03d6;if(_0x1b83c0)validateOrdersState=_0x1b83c0;logger[_0x271c49(0x150)](_0x271c49(0x149)+validateOrdersState+_0x271c49(0x270)+(lockOrders==0x1?_0x271c49(0x1df):lockOrders==0x2?_0x271c49(0x16c):_0x271c49(0x290)));let _0x47cb69=[],_0x13926e=config['ordertype']==_0x271c49(0x27e)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x271c49(0x1b3)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x271c49(0x23c)])return;logger['debug'](_0x271c49(0x1ed)+validateOrdersState),lastOrders['forEach'](_0x290b76=>{const _0x5e8814=_0x271c49;let _0x26382a=![];_0x290b76['filled']>0x0&&(_0x26382a=!![]),_0x47cb69[_0x5e8814(0x172)](_0x26382a),_0x26382a&&config['ordertype']!=_0x5e8814(0x27e)&&logHistory(_0x5e8814(0x22e),'Order\x20filled:\x20'+_0x290b76[_0x5e8814(0x1ba)]+'\x20'+_0x290b76[_0x5e8814(0x250)]+'\x20#'+formatResult(_0x290b76[_0x5e8814(0x1e9)],0x8)+'\x20@'+formatResult(_0x290b76[_0x5e8814(0x204)],0x8));}),_0x47cb69[_0x271c49(0x1a8)]((_0xbc99a5,_0x22b17d)=>{const _0x2389c3=_0x271c49;if(_0xbc99a5)lastOrders[_0x2389c3(0x15d)](_0x22b17d,0x1);}),persistOpenOrders(lastOrders);const _0x5ec76b=coolingDown?_0x271c49(0x185):'balancing\x20resumed';if(validateOrdersState==_0x271c49(0x151))validateOrdersState=_0x271c49(0x181),_0x47cb69[_0x271c49(0x145)](![])?config[_0x271c49(0x1e4)]==_0x271c49(0x27e)?logHistory(_0x271c49(0x1c2),_0x271c49(0x146)):logHistory('warning','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):await unlockOrders();else{if(validateOrdersState=='ongoing'){if(_0x47cb69[_0x271c49(0x145)](![])){}else allOrdersPlaced&&(config['ordertype']==_0x271c49(0x27e)?logHistory(_0x271c49(0x1e6),_0x271c49(0x1f7)+_0x5ec76b):logHistory(_0x271c49(0x1e6),_0x271c49(0x1d4)+_0x5ec76b),await unlockOrders());}else{if(validateOrdersState=='final')_0x47cb69[_0x271c49(0x145)](![])&&(config['ordertype']=='market'?logHistory(_0x271c49(0x1e6),_0x271c49(0x292)+Math[_0x271c49(0x1e8)](_0x13926e*validateOrderInterval/0xea60)+_0x271c49(0x193)+_0x5ec76b):(await cancelOrders(),logHistory(_0x271c49(0x1e6),_0x271c49(0x203)+Math[_0x271c49(0x1e8)](_0x13926e*validateOrderInterval/0xea60)+_0x271c49(0x193)+_0x5ec76b))),await unlockOrders();else{if(validateOrdersState==_0x271c49(0x162)){if(config['ordertype']!=_0x271c49(0x27e))logHistory(_0x271c49(0x1e6),_0x271c49(0x29b)+_0x5ec76b);await unlockOrders();}}}}}async function cancelOrders(){const _0x1dc28f=_0x2c03d6;lastOrders[_0x1dc28f(0x1a8)](async _0x5cfd48=>{const _0x283401=_0x1dc28f;try{const _0x2b3b6d=await exchange[_0x283401(0x214)](_0x5cfd48[_0x283401(0x28b)],_0x5cfd48[_0x283401(0x1ba)]);}catch(_0x51b0fa){if(_0x51b0fa[_0x283401(0x26a)]()[_0x283401(0x145)]('OrderNotFound')){}else await handleError(_0x51b0fa,_0x283401(0x20b));}});}async function initCoinResults(){const _0x243b8c=_0x2c03d6;let _0x3f6ba6=[];config[_0x243b8c(0x167)][_0x243b8c(0x1a8)](_0x108943=>{const _0x4f53c1=_0x243b8c;if(!_0x108943[_0x4f53c1(0x160)]&&_0x108943[_0x4f53c1(0x16e)]!=config['basecoin']){let _0x594d7b=dbCoinResults[_0x4f53c1(0x254)](_0x4f53c1(0x1ca))[_0x4f53c1(0x222)]({'coin':_0x108943[_0x4f53c1(0x16e)]})[_0x4f53c1(0x274)]();if(!_0x594d7b){const _0x108c1f=currentCoins[_0x4f53c1(0x222)](_0x23bb4d=>_0x23bb4d['coin']==_0x108943[_0x4f53c1(0x16e)]),_0x75b0d3=global['ticker'][noslash(_0x108943[_0x4f53c1(0x1ba)])];let _0x1f328a=_0x108c1f?_0x108c1f['number']:null,_0x3d241a=_0x108943['reverse']?0x1/_0x75b0d3:_0x75b0d3,_0x25bf1a;config[_0x4f53c1(0x220)][_0x4f53c1(0x1a8)](_0x2e58b9=>{const _0x13b9ab=_0x4f53c1;!_0x25bf1a&&(_0x25bf1a=_0x2e58b9[_0x13b9ab(0x1ea)][_0x13b9ab(0x222)](_0x306337=>_0x306337[_0x13b9ab(0x16e)]==_0x108943[_0x13b9ab(0x16e)]),_0x25bf1a&&(_0x1f328a=_0x25bf1a[_0x13b9ab(0x140)],_0x3d241a=_0x25bf1a[_0x13b9ab(0x204)]));}),_0x3f6ba6[_0x4f53c1(0x172)]({'coin':_0x108943[_0x4f53c1(0x16e)],'number':_0x1f328a,'price':_0x3d241a});}}}),_0x3f6ba6['forEach'](_0x588bb7=>{const _0x528aea=_0x243b8c,_0x123a78={'coin':_0x588bb7[_0x528aea(0x16e)],'number':_0x588bb7[_0x528aea(0x140)],'breakeven':_0x588bb7['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x528aea(0x254)]('coins')['push'](_0x123a78)['write']();});}async function updateCoinResults(_0x4110ea,_0x14054c=![]){const _0x584c94=_0x2c03d6;let _0xd05a05,_0x196482,_0x441227,_0x7db2da,_0x27afea,_0x11ec79,_0x448fd0=dbCoinResults[_0x584c94(0x254)]('coins')[_0x584c94(0x222)]({'coin':_0x4110ea[_0x584c94(0x16e)]})[_0x584c94(0x274)]();!_0x448fd0&&await initCoinResults();_0x4110ea['reverse']&&(_0x11ec79={'filled':_0x4110ea[_0x584c94(0x1e9)]*_0x4110ea[_0x584c94(0x204)],'amount':_0x4110ea[_0x584c94(0x1e9)]*_0x4110ea[_0x584c94(0x204)],'side':_0x4110ea[_0x584c94(0x250)]==_0x584c94(0x22c)?_0x584c94(0x1d7):_0x584c94(0x22c),'price':0x1/_0x4110ea[_0x584c94(0x204)]},_0x4110ea={..._0x4110ea,..._0x11ec79});_0x14054c?_0x196482=_0x4110ea[_0x584c94(0x250)]==_0x584c94(0x1d7)?_0x448fd0[_0x584c94(0x140)]+_0x4110ea[_0x584c94(0x1e9)]:_0x448fd0[_0x584c94(0x140)]-_0x4110ea[_0x584c94(0x1e9)]:_0x196482=await getCoinNumber(_0x4110ea['coin']);if(_0x4110ea[_0x584c94(0x176)]&&_0x4110ea['fee']['currency']==config[_0x584c94(0x158)])_0xd05a05=_0x4110ea['fee'][_0x584c94(0x1e1)];else{if(_0x4110ea['fee']&&_0x4110ea[_0x584c94(0x176)]['currency']==_0x584c94(0x263)&&!_0x14054c)_0xd05a05=_0x4110ea[_0x584c94(0x176)]['cost']*global[_0x584c94(0x260)][_0x584c94(0x263)+config['basecoin']];else _0xd05a05=defaultFee*_0x4110ea[_0x584c94(0x1e9)]*_0x4110ea[_0x584c94(0x204)];}_0x4110ea['side']=='buy'?(_0x441227=_0x196482!=0x0?(_0x448fd0['breakeven']*_0x448fd0['number']+_0x4110ea[_0x584c94(0x204)]*(_0x196482-_0x448fd0[_0x584c94(0x140)])+_0xd05a05)/_0x196482:0x0,_0x7db2da=_0x448fd0[_0x584c94(0x1bc)]):(_0x441227=_0x196482!=0x0?(_0x448fd0[_0x584c94(0x271)]*_0x448fd0[_0x584c94(0x140)]-_0x4110ea['price']*(_0x448fd0[_0x584c94(0x140)]-_0x196482)+_0xd05a05)/_0x196482:0x0,_0x7db2da=_0x448fd0[_0x584c94(0x1bc)]+(_0x4110ea[_0x584c94(0x204)]-_0x448fd0[_0x584c94(0x271)])*_0x4110ea[_0x584c94(0x1e9)]);_0x27afea=(_0x4110ea[_0x584c94(0x204)]-_0x441227-_0xd05a05/_0x4110ea[_0x584c94(0x1e9)])*_0x196482;let _0x20b9c6={'coin':_0x4110ea[_0x584c94(0x16e)],'number':_0x196482,'breakeven':formatResult(_0x441227,0x8),'realized':formatResult(_0x7db2da,0x8),'unrealized':formatResult(_0x27afea,0x8),'fees':formatResult(_0x448fd0[_0x584c94(0x224)]+_0xd05a05,0x8),'sells':_0x4110ea['side']=='sell'?_0x448fd0[_0x584c94(0x242)]+0x1:_0x448fd0['sells'],'buys':_0x4110ea[_0x584c94(0x250)]=='buy'?_0x448fd0['buys']+0x1:_0x448fd0['buys']};dbCoinResults[_0x584c94(0x254)](_0x584c94(0x1ca))['find']({'coin':_0x4110ea[_0x584c94(0x16e)]})[_0x584c94(0x18e)](_0x20b9c6)[_0x584c94(0x241)]();if(!_0x14054c){if(_0x4110ea[_0x584c94(0x176)]&&_0x4110ea['fee'][_0x584c94(0x1a0)]==_0x584c94(0x263)){const _0x5a590e=currentCoins[_0x584c94(0x222)](_0x285b5a=>_0x285b5a['coin']==_0x584c94(0x263));if(_0x5a590e){let _0x387e95=dbCoinResults[_0x584c94(0x254)]('coins')['find']({'coin':_0x584c94(0x263)})[_0x584c94(0x274)]();_0x20b9c6={..._0x387e95,'number':_0x5a590e[_0x584c94(0x140)]},dbCoinResults['get'](_0x584c94(0x1ca))[_0x584c94(0x222)]({'coin':_0x584c94(0x263)})[_0x584c94(0x18e)](_0x20b9c6)['write']();}}}}async function placeOrder(_0x45f3c0){const _0x2fda4f=_0x2c03d6,_0x46318c=config[_0x2fda4f(0x1e4)]==_0x2fda4f(0x27e)?_0x2fda4f(0x27e):_0x2fda4f(0x297);if(lockOrders==ORDERS[_0x2fda4f(0x174)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x2fda4f(0x23c)],allOrdersPlaced=![],validateOrdersState=_0x2fda4f(0x151),lastOrders=[];for(const _0x31bf29 of _0x45f3c0){let _0x39ade6,_0x49616a,_0x11af5b,_0x5b2341,_0x352ed7,_0xd24c1f=_0x31bf29[_0x2fda4f(0x1ba)];try{const _0x4261c7=await exchange[_0x2fda4f(0x244)]([_0xd24c1f]),_0x57cb66=_0x4261c7[_0xd24c1f];_0x39ade6=_0x31bf29[_0x2fda4f(0x262)]?0x1/_0x31bf29['last']:_0x31bf29[_0x2fda4f(0x249)],_0x49616a=_0x57cb66[_0x2fda4f(0x22d)],_0x11af5b=_0x57cb66[_0x2fda4f(0x207)];_0x31bf29[_0x2fda4f(0x262)]?(_0x5b2341=_0x31bf29['side']==_0x2fda4f(0x1d7)?_0x2fda4f(0x22c):_0x2fda4f(0x1d7),_0x352ed7=Math['abs'](_0x31bf29[_0x2fda4f(0x24e)])/_0x39ade6):(_0x5b2341=_0x31bf29['side'],_0x352ed7=Math[_0x2fda4f(0x24c)](_0x31bf29[_0x2fda4f(0x24e)]));_0x46318c=='limit'&&(config[_0x2fda4f(0x1e4)]==_0x2fda4f(0x213)&&(_0x39ade6=_0x5b2341==_0x2fda4f(0x1d7)?_0x49616a:_0x11af5b),config[_0x2fda4f(0x1e4)]=='limit-low'&&(_0x39ade6=_0x5b2341==_0x2fda4f(0x1d7)?_0x11af5b:_0x49616a));_0x352ed7=formatResult(_0x352ed7,0x8),_0x39ade6=formatResult(_0x39ade6,0x8);const _0x5b2e8b=_0x5b2341==_0x2fda4f(0x22c)?config['emojisell']?String[_0x2fda4f(0x1ff)]('0x'+config[_0x2fda4f(0x1a6)])+'\x20':'':config[_0x2fda4f(0x24b)]?String[_0x2fda4f(0x1ff)]('0x'+config[_0x2fda4f(0x24b)])+'\x20':'',_0x16a79e=_0x46318c==_0x2fda4f(0x27e)?_0x2fda4f(0x177):config['ordertype']==_0x2fda4f(0x213)?_0x2fda4f(0x15f):'Limit\x20(low-margin)',_0x203a4d=new Date()[_0x2fda4f(0x1ef)]()[_0x2fda4f(0x26a)]()[_0x2fda4f(0x1c9)](-0x6)+'-'+Math['random']()['toString']()[_0x2fda4f(0x1c9)](-0x6);lastOrders[_0x2fda4f(0x172)]({'customId':_0x203a4d,'symbol':_0xd24c1f,'coin':_0x31bf29[_0x2fda4f(0x16e)],'side':_0x5b2341,'reverse':_0x31bf29[_0x2fda4f(0x262)],'filled':0x0});if(_0x46318c=='market')logHistory(_0x2fda4f(0x22e),''+_0x5b2e8b+_0x16a79e+_0x2fda4f(0x184)+_0xd24c1f+'\x20'+_0x5b2341+'\x20#'+formatResult(_0x352ed7,0x8)+'\x20@'+formatResult(_0x39ade6,0x8));else logHistory(_0x2fda4f(0x22e),''+_0x5b2e8b+_0x16a79e+_0x2fda4f(0x184)+_0xd24c1f+'\x20'+_0x5b2341+'\x20#'+formatResult(_0x352ed7,0x8)+'\x20@'+formatResult(_0x39ade6,0x8));const _0x37a122=await exchange[_0x2fda4f(0x166)](_0xd24c1f,_0x46318c,_0x5b2341,_0x352ed7,_0x39ade6,{'clientOrderId':_0x203a4d}),_0x826474=lastOrders[_0x2fda4f(0x23e)]-0x1;_0x826474>=0x0&&lastOrders[_0x826474]['customId']==_0x203a4d&&(lastOrders[_0x826474]={...lastOrders[_0x826474],'orderId':_0x37a122['id'],'amount':_0x37a122[_0x2fda4f(0x281)],'price':_0x37a122[_0x2fda4f(0x204)],'fee':_0x37a122[_0x2fda4f(0x176)]});if(config[_0x2fda4f(0x21a)]!=0x0){let _0x11da75=null;if(cooldownTracker[_0x2fda4f(0x23e)]==config[_0x2fda4f(0x21a)]-0x1)_0x11da75=cooldownTracker[_0x2fda4f(0x257)]();const _0x1aebcb=getTimeStamp();cooldownTracker[_0x2fda4f(0x172)](_0x1aebcb);if(_0x11da75){const _0x22dbdc=fns[_0x2fda4f(0x1c4)](new Date(_0x1aebcb),new Date(_0x11da75));if(_0x22dbdc<cooldownInterval){logHistory(_0x2fda4f(0x219),'Executed\x20'+config['cooldown']+_0x2fda4f(0x245)+cooldownInterval/0x3c+_0x2fda4f(0x141)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0x37a035){if(_0x37a035['toString']()[_0x2fda4f(0x145)](_0x2fda4f(0x22a)))lastOrders=lastOrders['filter'](_0x5caa73=>_0x5caa73[_0x2fda4f(0x1ba)]!=_0xd24c1f),logHistory('error',_0x2fda4f(0x1fd)+_0xd24c1f);else _0x37a035[_0x2fda4f(0x26a)]()[_0x2fda4f(0x145)](_0x2fda4f(0x169))?(lastOrders=lastOrders[_0x2fda4f(0x223)](_0x4fac9f=>_0x4fac9f[_0x2fda4f(0x1ba)]!=_0xd24c1f),logHistory(_0x2fda4f(0x219),_0x2fda4f(0x233)+_0xd24c1f)):(lastOrders=lastOrders['filter'](_0x16f3ea=>_0x16f3ea[_0x2fda4f(0x1ba)]!=_0xd24c1f),await handleError(_0x37a035,_0x2fda4f(0x20d),_0xd24c1f));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x2fda4f(0x23e)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x31081c=config[_0x2fda4f(0x1e4)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x2fda4f(0x1b3)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x26ca0c=_0x2fda4f;validateOrders(_0x26ca0c(0x25b));},_0x31081c);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x2fda4f(0x18d)));}else{if(coolingDown)!config['headless']&&logHistory(_0x2fda4f(0x219),_0x2fda4f(0x266));else lockOrders!=ORDERS[_0x2fda4f(0x174)]&&(!config[_0x2fda4f(0x25d)]&&(config[_0x2fda4f(0x1e4)]==_0x2fda4f(0x27e)?logHistory('error',_0x2fda4f(0x1bf)):logHistory(_0x2fda4f(0x219),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x3f96d0){const _0x5b7cfb=_0x2c03d6,_0x2b2ed7={...config,'openOrders':_0x3f96d0};let _0x42da6b=dbConfig[_0x5b7cfb(0x254)](_0x5b7cfb(0x20c))[_0x5b7cfb(0x222)]({'botID':botID})[_0x5b7cfb(0x274)]();_0x42da6b&&dbConfig[_0x5b7cfb(0x254)](_0x5b7cfb(0x20c))[_0x5b7cfb(0x222)]({'botID':botID})[_0x5b7cfb(0x18e)](_0x2b2ed7)[_0x5b7cfb(0x241)]();}function restoreOrders(){const _0x324236=_0x2c03d6;let _0xb7b331;config[_0x324236(0x1b9)]&&allOpenOrders[_0x324236(0x1a8)](_0x2c690a=>{const _0x4a7962=_0x324236,_0x360e30=config[_0x4a7962(0x1b9)][_0x4a7962(0x222)](_0x3ace17=>_0x3ace17[_0x4a7962(0x28b)]==_0x2c690a['id']);_0x360e30&&(lastOrders[_0x4a7962(0x172)](_0x360e30),_0xb7b331=_0x2c690a[_0x4a7962(0x200)]);});if(lastOrders[_0x324236(0x23e)]>0x0){lockOrders=ORDERS[_0x324236(0x23c)],validateOrdersState=_0x324236(0x181),allOrdersPlaced=!![];const _0x3159a1=new Date()[_0x324236(0x1ef)](),_0x2615c8=config[_0x324236(0x1e4)]==_0x324236(0x27e)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0xb7b331+_0x2615c8>_0x3159a1){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0xb7b331+_0x2615c8-_0x3159a1);}else validateOrders(_0x324236(0x25b));}}async function sendPortfolioTelegram(){const _0x252301=_0x2c03d6;if(loading[_0x252301(0x136)]!=0x64){process[_0x252301(0x1d1)]({'telegrammsg':'Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute'},_0x416bc9=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x49315d=[_0x252301(0x1de),_0x252301(0x282),'USDT'],_0x3172b4=_0x49315d['includes'](config[_0x252301(0x158)])?0x2:0x8;let _0x71ab07='';if(config[_0x252301(0x175)])_0x71ab07='<b>'+config[_0x252301(0x1af)]+'\x20portfolio:</b>\x20\x0a\x0a';else _0x71ab07=_0x252301(0x16a)+botID+_0x252301(0x23d);const _0x20f18a=getKPIs(_0x252301(0x158)),_0x4ba492=getKPIs('net-basecoin');_0x71ab07+=_0x252301(0x1f2),_0x71ab07+=_0x20f18a[_0x252301(0x17a)]+_0x252301(0x170)+_0x20f18a[_0x252301(0x274)]+'\x20\x0a',_0x71ab07+=_0x20f18a[_0x252301(0x1a3)]+':\x20'+_0x20f18a[_0x252301(0x15b)]+_0x252301(0x1d6),_0x71ab07+=_0x4ba492['leftTxt']+':\x20'+_0x4ba492[_0x252301(0x274)]+'\x20'+config['basecoin']+'\x0a',_0x71ab07+=_0x4ba492[_0x252301(0x1a3)]+':\x20'+_0x4ba492['change']+_0x252301(0x1d6),_0x71ab07+='\x0a',_0x71ab07+=_0x252301(0x14c),_0x71ab07+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x71ab07+='-------------------------------\x0a',currentCoins['forEach'](_0x43240a=>{const _0x5605d2=_0x252301;_0x71ab07+=_0x43240a['coin'][_0x5605d2(0x1b4)](0x7)+'|\x20'+formatPad(_0x43240a['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x43240a['target'],0x2,0x6)+'|\x20'+formatPad(_0x43240a[_0x5605d2(0x17f)]*0x64,0x2,0x6)+'\x0a';}),_0x71ab07+=_0x252301(0x1f1),process[_0x252301(0x1d1)]({'telegrammsg':_0x71ab07},_0x3438b7=>{});}function formatPad(_0x2a64d1,_0x16ac5a,_0x78c58a){const _0x2ca067=_0x2c03d6,_0x45325=formatResultString(_0x2a64d1,_0x16ac5a);return _0x45325?_0x45325[_0x2ca067(0x1d9)](_0x78c58a):''[_0x2ca067(0x1d9)](_0x78c58a);}function logHistory(_0x5b04d5,_0x2570e5,_0x8a9b70=''){const _0xccdd29=_0x2c03d6;let _0x5b640f={'time':getTimeStamp(),'type':_0x5b04d5,'event':_0x2570e5};dbLogs[_0xccdd29(0x254)](_0xccdd29(0x18f))[_0xccdd29(0x172)](_0x5b640f)['write']();if(_0x8a9b70=='')_0x8a9b70=_0x2570e5;proxyEmit(_0xccdd29(0x17c),{'log':_0x5b640f,'summary':_0x8a9b70}),process['send']({'telegram':{..._0x5b640f,'botname':config[_0xccdd29(0x1af)],'showname':config[_0xccdd29(0x175)]}},_0x5c0261=>{}),logger[_0xccdd29(0x17e)](''+_0x5b640f[_0xccdd29(0x17c)]);}function emitHistory(_0x3b5b1e={}){const _0x4f2117=_0x2c03d6;Object[_0x4f2117(0x237)](_0x3b5b1e)[_0x4f2117(0x23e)]==0x0&&(_0x3b5b1e={'type':[_0x4f2117(0x22e),_0x4f2117(0x17c)],'event':'','page':0x1});if(_0x3b5b1e[_0x4f2117(0x234)][_0x4f2117(0x145)](_0x4f2117(0x17c)))_0x3b5b1e[_0x4f2117(0x234)]['splice'](_0x3b5b1e['type'][_0x4f2117(0x1da)](_0x4f2117(0x17c)),0x1,_0x4f2117(0x219),_0x4f2117(0x1e6));if(dbLogs['has'](_0x4f2117(0x18f))[_0x4f2117(0x274)]()){let _0x380cef=dbLogs[_0x4f2117(0x254)]('logs')[_0x4f2117(0x223)](_0x3b0436=>{const _0x33b09a=_0x4f2117;if(_0x3b5b1e[_0x33b09a(0x234)][_0x33b09a(0x23e)]==0x0)return![];else return _0x3b5b1e[_0x33b09a(0x234)]['includes'](_0x3b0436[_0x33b09a(0x234)]);})[_0x4f2117(0x223)](_0x6d4cd0=>{const _0x29d72e=_0x4f2117;if(_0x3b5b1e[_0x29d72e(0x17c)]=='')return!![];else return _0x6d4cd0[_0x29d72e(0x17c)]['toLowerCase']()[_0x29d72e(0x145)](_0x3b5b1e['event'][_0x29d72e(0x14e)]());})[_0x4f2117(0x20a)](_0x4f2117(0x22b)),_0x3093a9=_0x380cef[_0x4f2117(0x274)]()[_0x4f2117(0x23e)];_0x380cef=_0x380cef[_0x4f2117(0x262)]()[_0x4f2117(0x1c9)]((_0x3b5b1e[_0x4f2117(0x178)]-0x1)*logPageSize,_0x3b5b1e[_0x4f2117(0x178)]*logPageSize-0x1)[_0x4f2117(0x262)]()[_0x4f2117(0x274)](),proxyEmit(_0x4f2117(0x157),{'logs':_0x380cef,'total':_0x3093a9});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5eaf32){const _0x3d7d01=_0x2c03d6;if(dbLogs[_0x3d7d01(0x1f9)]('logs')[_0x3d7d01(0x274)]()){const _0x36dbdf=dbLogs['get'](_0x3d7d01(0x18f))[_0x3d7d01(0x20a)](_0x3d7d01(0x22b))['filter'](_0x35ca41=>{const _0x3ac0fe=_0x3d7d01;return _0x35ca41[_0x3ac0fe(0x234)]=='order';})[_0x3d7d01(0x274)]();dbLogs['get'](_0x3d7d01(0x18f))['remove']()[_0x3d7d01(0x241)](),dbLogs['get']('logs')['assign'](_0x36dbdf)[_0x3d7d01(0x241)](),emitHistory(_0x5eaf32);}}async function pauseBot(_0xef404f=''){const _0x479973=_0x2c03d6,_0x55ef99=new Date()[_0x479973(0x1ef)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x55ef99-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x479973(0x135)},_0x10fa09=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x479973(0x1ef)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0xef404f)_0xef404f+=_0x479973(0x265);logHistory('error',_0xef404f+_0x479973(0x247)+pauseBotInterval/0xea60+_0x479973(0x19e)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x32d6e2=_0x2c03d6;process[_0x32d6e2(0x1d1)]({'stop':_0x32d6e2(0x210)},_0x9b0d66=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x1bd7de,_0x6465a5){const _0x3edd78=_0x2c03d6;if(_0x1bd7de['toString']()[_0x3edd78(0x145)](_0x3edd78(0x1f6)))return logHistory('error','Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x1bd7de[_0x3edd78(0x26a)]()[_0x3edd78(0x145)](_0x3edd78(0x16f)))return logHistory(_0x3edd78(0x219),_0x3edd78(0x16b)),![];else{if(_0x1bd7de[_0x3edd78(0x26a)]()[_0x3edd78(0x145)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x3edd78(0x219),_0x3edd78(0x15a)),![];else await handleError(_0x1bd7de,_0x6465a5);}}}async function handleError(_0x45191c,_0x4a61cd,_0x11b924=''){const _0x51dec9=_0x2c03d6;if(_0x45191c[_0x51dec9(0x26a)]()['includes'](_0x51dec9(0x18a)))await pauseBot(_0x51dec9(0x25e));else{if(_0x45191c['toString']()[_0x51dec9(0x145)]('ExchangeNotAvailable'))await pauseBot(_0x51dec9(0x251));else{if(_0x45191c[_0x51dec9(0x26a)]()[_0x51dec9(0x145)](_0x51dec9(0x277)))await pauseBot(_0x51dec9(0x13c));else{if(_0x45191c[_0x51dec9(0x26a)]()[_0x51dec9(0x145)](_0x51dec9(0x1f6)))logHistory(_0x51dec9(0x219),_0x4a61cd+_0x51dec9(0x1a5)),logHistory('error',_0x51dec9(0x1dd)),await killBot();else{if(_0x45191c[_0x51dec9(0x26a)]()[_0x51dec9(0x145)](_0x51dec9(0x16f)))logHistory('error',_0x4a61cd+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory('error',_0x51dec9(0x1dd)),await killBot();else{if(_0x45191c[_0x51dec9(0x26a)]()[_0x51dec9(0x145)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x51dec9(0x219),_0x4a61cd+_0x51dec9(0x226)),logHistory(_0x51dec9(0x219),_0x51dec9(0x1dd)),await killBot();else{if(_0x45191c['toString']()[_0x51dec9(0x145)](_0x51dec9(0x27b)))logHistory(_0x51dec9(0x219),_0x4a61cd+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x51dec9(0x219),_0x51dec9(0x1dd)),await killBot();else{if(_0x45191c['toString']()['includes'](_0x51dec9(0x1b6)))await pauseBot(_0x51dec9(0x1ab)),process['send']({'stop':_0x51dec9(0x135)},_0x3cfa5c=>{});else _0x45191c[_0x51dec9(0x26a)]()[_0x51dec9(0x145)](_0x51dec9(0x1dc))?logHistory('error',_0x4a61cd+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x11b924):(logger[_0x51dec9(0x17e)](_0x4a61cd+'\x20|\x20Error\x20details:\x20',_0x45191c),await pauseBot('Unknown\x20error\x20occured'));}}}}}}}}function formatResult(_0x20d112,_0x587d43){const _0x418321=_0x2c03d6;return parseFloat(_0x20d112[_0x418321(0x198)](_0x587d43));}function formatResultTruncate(_0x5ced5a,_0x4b8b38){const _0x1a260a=_0x2c03d6;let _0x43ca78=formatResultString(_0x5ced5a,0xa),_0x5550c4=_0x43ca78[_0x1a260a(0x1da)]('.');return _0x5550c4!=-0x1&&(_0x43ca78=_0x43ca78[_0x1a260a(0x1c9)](0x0,_0x5550c4+_0x4b8b38+0x1)),Number(_0x43ca78);}function formatResultString(_0x3d693c,_0x175169){const _0x27d30f=_0x2c03d6;let _0x3940f2;if(!(''+_0x3d693c)[_0x27d30f(0x145)]('e'))_0x3940f2=+(Math['round'](_0x3d693c+'e+'+_0x175169)+'e-'+_0x175169);else{let _0x1ad997=(''+_0x3d693c)[_0x27d30f(0x19d)]('e'),_0x32206c='';+_0x1ad997[0x1]+_0x175169>0x0&&(_0x32206c='+'),_0x3940f2=+(Math[_0x27d30f(0x1e8)](+_0x1ad997[0x0]+'e'+_0x32206c+(+_0x1ad997[0x1]+_0x175169))+'e-'+_0x175169);}return Number(_0x3940f2)[_0x27d30f(0x198)](_0x175169);}function getServerTime(){const _0x82f17b=_0x2c03d6,_0x570d71=new Date();return _0x570d71[_0x82f17b(0x13d)]()+'/'+(_0x570d71[_0x82f17b(0x1b2)]()+0x1)[_0x82f17b(0x26a)]()['padStart'](0x2,'0')+'/'+_0x570d71[_0x82f17b(0x273)]()[_0x82f17b(0x26a)]()[_0x82f17b(0x1d9)](0x2,'0')+'\x20'+_0x570d71['getHours']()[_0x82f17b(0x26a)]()[_0x82f17b(0x1d9)](0x2,'0')+':'+_0x570d71[_0x82f17b(0x211)]()['toString']()[_0x82f17b(0x1d9)](0x2,'0')+':'+_0x570d71[_0x82f17b(0x1e0)]()['toString']()[_0x82f17b(0x1d9)](0x2,'0');}function getTimeStamp(){const _0x5b176c=_0x2c03d6,_0x3336c5=shiftedTime();return _0x3336c5[_0x5b176c(0x13d)]()+'/'+(_0x3336c5[_0x5b176c(0x1b2)]()+0x1)[_0x5b176c(0x26a)]()[_0x5b176c(0x1d9)](0x2,'0')+'/'+_0x3336c5['getDate']()['toString']()['padStart'](0x2,'0')+'\x20'+_0x3336c5[_0x5b176c(0x168)]()['toString']()['padStart'](0x2,'0')+':'+_0x3336c5['getMinutes']()[_0x5b176c(0x26a)]()[_0x5b176c(0x1d9)](0x2,'0')+':'+_0x3336c5['getSeconds']()[_0x5b176c(0x26a)]()[_0x5b176c(0x1d9)](0x2,'0');}function getDate(){const _0x5f184e=_0x2c03d6,_0x55d5f8=shiftedTime();return _0x55d5f8[_0x5f184e(0x13d)]()+'/'+(_0x55d5f8[_0x5f184e(0x1b2)]()+0x1)[_0x5f184e(0x26a)]()[_0x5f184e(0x1d9)](0x2,'0')+'/'+_0x55d5f8['getDate']()[_0x5f184e(0x26a)]()['padStart'](0x2,'0');}function getHour(){const _0x199a9b=_0x2c03d6,_0x501e79=shiftedTime();return _0x501e79['getHours']()[_0x199a9b(0x26a)]()[_0x199a9b(0x1d9)](0x2,'0');}function sleep(_0x526fa0){return new Promise(_0x44360b=>setTimeout(_0x44360b,_0x526fa0));}function shiftedTime(){const _0x43fd9d=_0x2c03d6,_0x4ddb3e=new Date();let _0x25f813=_0x4ddb3e;if(config&&config[_0x43fd9d(0x201)]!==0x0)_0x25f813=fns[_0x43fd9d(0x269)](_0x4ddb3e,{'hours':config[_0x43fd9d(0x201)]});return _0x25f813;}