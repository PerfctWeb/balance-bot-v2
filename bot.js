const _0x1903e3=_0x14ec;(function(_0xc0b4b6,_0x53ac15){const _0x4c91d4=_0x14ec,_0x32a3b2=_0xc0b4b6();while(!![]){try{const _0x25f017=-parseInt(_0x4c91d4(0x1d3))/0x1*(parseInt(_0x4c91d4(0xf5))/0x2)+-parseInt(_0x4c91d4(0x11b))/0x3*(parseInt(_0x4c91d4(0x172))/0x4)+-parseInt(_0x4c91d4(0xf9))/0x5*(-parseInt(_0x4c91d4(0x1cd))/0x6)+-parseInt(_0x4c91d4(0x12a))/0x7*(-parseInt(_0x4c91d4(0x18e))/0x8)+-parseInt(_0x4c91d4(0xd3))/0x9+parseInt(_0x4c91d4(0x182))/0xa+-parseInt(_0x4c91d4(0x13e))/0xb;if(_0x25f017===_0x53ac15)break;else _0x32a3b2['push'](_0x32a3b2['shift']());}catch(_0x4ff60d){_0x32a3b2['push'](_0x32a3b2['shift']());}}}(_0x3408,0x90d84));const _0x4a9fe3=function(){let _0x294759=!![];return function(_0x9a15ca,_0x25d411){const _0x55ad53=_0x294759?function(){const _0x5924fc=_0x14ec;if(_0x25d411){const _0x645144=_0x25d411[_0x5924fc(0x19e)](_0x9a15ca,arguments);return _0x25d411=null,_0x645144;}}:function(){};return _0x294759=![],_0x55ad53;};}(),_0xf71c03=_0x4a9fe3(this,function(){const _0x32e587=_0x14ec;return _0xf71c03[_0x32e587(0x106)]()[_0x32e587(0x1e4)](_0x32e587(0x120))[_0x32e587(0x106)]()['constructor'](_0xf71c03)[_0x32e587(0x1e4)](_0x32e587(0x120));});_0xf71c03();'use strict';const ccxt=require(_0x1903e3(0x221)),low=require(_0x1903e3(0x225)),FileSync=require(_0x1903e3(0x181)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x1903e3(0x157)),Crypt=require(_0x1903e3(0x21d))[_0x1903e3(0x1c9)],util=require(_0x1903e3(0x129));function _0x3408(){const _0xa50cba=['api_secret','writeFile','min','Unknown\x20error\x20occured','limit-high','getMonth','log','3\x20-\x20handling\x20FILLED\x20order:\x20','toFixed','%\x20\x0a','EUR','\x20order:\x20','placeOrder()','target','balancing\x20resumed','HOT/BTC','value','indexOf','1\x20-\x20Validate\x20orders:\x20','ORDERS.LOCKED','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','exchange','Pausing\x20for\x20','timeshift','version','\x20|\x20lock\x20orders:\x20','wsKey','configuration-stored','startdate','getStartingBalances','Binance\x20API\x20blocked','showConfig','offset','find','loadSymbols()','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','coin','sortBy','/output-000.log','fetchTickers','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','newClientOrderId','coin-loading-progress','fiat','subscribeSpotKline','hybrid-crypto-js','type','last','./version.json','ccxt','settings','has','liquidity','lowdb','debug','buy','length','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','API-key\x20format\x20invalid','precision','\x20|\x20','kill','number','initclient','storeHeadless','remove','data','cancelOrder','exec','-results.json','fetchOpenOrders','emitHistory','1811709eZxnez','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','<b>Bot\x20','canceled','datetime','privateKey','LOCKED','existsSync','sell','getTime','Binance\x20not\x20available\x20(2)','storeConfiguration','\x20-\x20','ongoing','-events.json','filter','side','************','mkdirSync','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','net-fiat','changes','basecoin','\x20has\x20a\x2024h\x20drop\x20of\x20','yyyy-MM-dd\x27T\x27HH:mm:ss','accumulatedQuantity','spot','getDate','toLowerCase','rightTxt','botID','fees','getCoins()','success','274iLTaIv','padStart','Net\x20','\x20portfolio:</b>\x20\x0a\x0a','25XDlMCi','total','leftTxt','MIN_NOTIONAL','placeOrder','2.5.0','cloneDeep','recreate','stringify','Cooldown\x20ended\x20-\x20balancing\x20resumed','map','startprice','DDoSProtection','toString','performance','\x20>\x20','forEach','***','\x20-\x20bot\x20not\x20started','isArray','1\x20-\x20Handle\x20open\x20orders','orderstatus','Order\x20amount\x20is\x20invalid:\x20','fee','Order(s)\x20filled\x20-\x20','findIndex','\x20value','Limit\x20(low-margin)','close','RSA-OAEP','2\x20-\x20Validate\x20orders:\x20','ExchangeNotAvailable','emojisell','order','5307Oridgq','valid','NANO/','open','UNLOCKING','(((.+)+)+)+$','excluded','Order(s)\x20validated\x20-\x20','Net\x20effect','net-basecoin','HOT/EUR','limits','progress','change','util','6230bENiAj','formattedMessage','time','2.3.5','RequestTimeout','decrypt','defaults','usd','WebSockets(',':\x20Bot\x20','keys','remainingSymbols','cancel','set','starting-balance-','XEM/BUSD','\x20|\x20Binance\x20API\x20secret\x20invalid','replace','\x20minutes','no\x20open\x20orders','3068285vSwmNR','market','headless','buys','Net\x20effect\x20(','random','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','./config/','string','_events','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','message','milliseconds','full','getSeconds','add','deleteHistoryAlerts','yyyy/MM/dd','differenceInSeconds','startnumber','eur','Market','exit',',\x20must\x20be\x20a\x203\x20digit\x20number','eventType','binance','FILLED','api_key','CANCELED','fetchBalance','enabled','\x20change','parseISO','wss://stream.binance.us:9443','.json','cancelOrders()','bb-settings.json','page','portfolio','assign','orderId','BUSD','argv','format','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','get','kline','BNB','customId','getCoinNumber()','botname','date','2312ibVGea','InsufficientFunds','emojibuy','error','Executed\x20','BNB/','\x20|\x20Error\x20details:\x20','toggleBotMode','No\x20more\x20open\x20orders\x20-\x20','symbols','send','wss://stream.binance.com:9443','<b>','reconnected','1\x20-\x20Unlock\x20orders','lowdb/adapters/FileSync','3591520eKmnJU','args','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','\x20hour','Order\x20filled:\x20','amount','001','showname','\x20>\x20[DEBUG]\x20','cost','limit-low','freeze','9992qrWBni','2\x20-\x20FILLED\x20unknown\x20order:\x20','<pre>','Limit\x20(high-margin)','bot-','1\x20-\x20FILLED:\x20','simple','./logs/','/backup/','getPortfolio()','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','/USDT','breakeven','loadMarkets','restart','options','apply','sells','threshold','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','orderStatus','none','wsMarket','openOrders','Bot\x20','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','ticker','distribution','sort','2\x20-\x20FILLED\x20known\x20order:\x20','Failed\x20to\x20load\x20coin\x20data\x20for\x20','apiKey','timeout','join','realized','logs','slice','bot','initial','ask','limit','final','change24h','getFullYear','BTC','parse','ORDERS.UNLOCKING','sha256','\x20:\x20','0\x20-\x20EXECUTION:\x20','event','write','price','apiSecret','InvalidNonce','ETH','event-history','filled','getMinutes','Crypt','trade','bid','delta','1259106QhJfhy','balances','warning','round','API\x20or\x20clock\x20sync\x20issue','balancing\x20resumes\x20when\x20cooldown\x20ends','3095XUdRdF','fetchClosedOrders','configuration','NEW','UNLOCKED','currency','USDT','YOYOW/','recovery','includes','splice','executionReport','ordertype','uncaughtException','symbol','coins','push','search','reverse','Binance\x20not\x20responding','getHours','\x20minutes\x20-\x20','-------------------------------\x0a','getOpenOrders()','abs','entries','\x20|\x20Binance\x20API\x20key\x20invalid','function','cooldown'];_0x3408=function(){return _0xa50cba;};return _0x3408();}let exchange,wsClient;global[_0x1903e3(0x1a8)]={},global[_0x1903e3(0x128)]={};let ws1=[],ws2=null,ws3=[];const exceptions=['DAI/',_0x1903e3(0x1ff),_0x1903e3(0x125),_0x1903e3(0x139),_0x1903e3(0x11d),_0x1903e3(0x1da)];let debugLoggingScreen=![],config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x1903e3(0x18d)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x1903e3(0x1d7)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x1903e3(0x220))['version'],botID=process[_0x1903e3(0x168)][0x2]||_0x1903e3(0x188),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x1903e3(0x1f6)]('Error:\x20Invalid\x20argument\x20'+botID+_0x1903e3(0x155)),process[_0x1903e3(0x154)](0x1));const userID=process[_0x1903e3(0x168)][0x3]||'',configpath=userID?_0x1903e3(0x145)+userID+'/':'./config/',logspath=userID?_0x1903e3(0x195)+userID+'/':_0x1903e3(0x195),loggerfile=fs['createWriteStream'](logspath+_0x1903e3(0x216),{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x1903e3(0xe5)](configpath);function _0x14ec(_0x1d6f64,_0xbe2414){const _0x33253c=_0x3408();return _0x14ec=function(_0xf71c03,_0x4a9fe3){_0xf71c03=_0xf71c03-0xc7;let _0x3408e2=_0x33253c[_0xf71c03];return _0x3408e2;},_0x14ec(_0x1d6f64,_0xbe2414);}!fs[_0x1903e3(0xda)](logspath)&&fs[_0x1903e3(0xe5)](logspath);const configfile=configpath+_0x1903e3(0x192)+botID+'-config.json',logfile=configpath+_0x1903e3(0x192)+botID+_0x1903e3(0xe1),performancefile=configpath+_0x1903e3(0x192)+botID+'-performance.json',coinresultsfile=configpath+_0x1903e3(0x192)+botID+_0x1903e3(0xd0),settingsfile=configpath+_0x1903e3(0x162),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x1903e3(0x196),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x1903e3(0x130)]({'logs':[]})[_0x1903e3(0x1c1)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x1903e3(0x130)]({'data':[]})[_0x1903e3(0x1c1)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x1903e3(0x1c1)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x1903e3(0x130)]({'coins':[]})[_0x1903e3(0x1c1)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x294ae9)=>{},'debug':(..._0x1153e4)=>{},'notice':(..._0x5ee31b)=>{},'info':(..._0x198606)=>{},'warning':(..._0xe3d6d7)=>{},'error':async function(..._0x1820cf){const _0x31641b=_0x1903e3,_0x3999cb=new Date()[_0x31641b(0xdc)]();if(!lastErrorShown||_0x3999cb-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x31641b(0xdc)]();let _0x3edce9='';if(_0x1820cf[0x0])_0x3edce9+=_0x1820cf[0x0];if(_0x1820cf[0x1]&&_0x1820cf[0x1][_0x31641b(0x175)]&&_0x1820cf[0x1][_0x31641b(0x175)]['message'])_0x3edce9+=_0x31641b(0xdf)+_0x1820cf[0x1][_0x31641b(0x175)][_0x31641b(0x149)];logger[_0x31641b(0x14b)](_0x31641b(0x132)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x3edce9),await pauseBot('Binance\x20not\x20available\x20(1)');}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x1903e3(0x1bd),'rsaStandard':_0x1903e3(0x116)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x186622=>{const _0x48bc58=_0x1903e3;console[_0x48bc58(0x1f6)](_0x186622);},'simple':_0x2e1555=>{console['log'](_0x2e1555),loggerfile['write'](util['format'](_0x2e1555)+'\x0a');},'full':async(_0x3bd256,_0xdf99a7='')=>{const _0x58e979=_0x1903e3;let _0x1fbe28;if(config['showname'])_0x1fbe28=getTimeStamp()+':\x20'+config['botname']+_0x58e979(0x108)+_0x3bd256;else _0x1fbe28=getTimeStamp()+':\x20Bot\x20'+botID+'\x20>\x20'+_0x3bd256;console[_0x58e979(0x1f6)](_0x1fbe28),loggerfile['write'](util['format'](_0x1fbe28)+'\x0a'),_0xdf99a7&&(console['log'](_0xdf99a7),loggerfile['write'](util[_0x58e979(0x169)](_0xdf99a7)+'\x0a'));},'debug':async(_0x24d843,_0x4c7728='')=>{const _0x148db7=_0x1903e3;let _0x31aa6b;if(config[_0x148db7(0x189)])_0x31aa6b=getTimeStamp()+':\x20'+config['botname']+_0x148db7(0x18a)+_0x24d843;else _0x31aa6b=getTimeStamp()+_0x148db7(0x133)+botID+_0x148db7(0x18a)+_0x24d843;if(debugLoggingScreen)console[_0x148db7(0x1f6)](_0x31aa6b);loggerfile[_0x148db7(0x1c1)](util[_0x148db7(0x169)](_0x31aa6b)+'\x0a');if(_0x4c7728){if(debugLoggingScreen)console['log'](_0x4c7728);loggerfile[_0x148db7(0x1c1)](util['format'](_0x4c7728)+'\x0a');}}};process['on'](_0x1903e3(0x1e0),function(_0x4d08b0){const _0x368535=_0x1903e3;logger[_0x368535(0x194)](_0x4d08b0);});settings['timeshift']!=config[_0x1903e3(0x207)]&&updateTimeshift(settings[_0x1903e3(0x207)]);process['send']({'started':'running'},_0xc6709b=>{}),initializeProcessListeners();function proxyEmit(_0x88b30c,_0x17e277=null){const _0x3ec974=_0x1903e3;process[_0x3ec974(0x17c)]({'function':_0x88b30c,'args':_0x17e277},_0x139bf3=>{});}function initializeProcessListeners(){const _0x578a5d=_0x1903e3;process['on'](_0x578a5d(0x149),_0x28e98d=>{const _0x22a3d6=_0x578a5d;switch(Object[_0x22a3d6(0x134)](_0x28e98d)[0x0]){case _0x22a3d6(0x207):_0x28e98d[_0x22a3d6(0x207)]!=undefined&&(settings[_0x22a3d6(0x207)]=_0x28e98d[_0x22a3d6(0x207)],updateTimeshift(settings[_0x22a3d6(0x207)]));break;case _0x22a3d6(0x1ee):switch(_0x28e98d[_0x22a3d6(0x1ee)]){case _0x22a3d6(0xca):initclient();break;case _0x22a3d6(0x179):toggleBotMode();break;case _0x22a3d6(0xd2):emitHistory(_0x28e98d['args']);break;case _0x22a3d6(0x14e):deleteHistoryAlerts(_0x28e98d[_0x22a3d6(0x183)]);break;case'getPortfolio':getPortfolio(_0x28e98d[_0x22a3d6(0x183)]);break;case _0x22a3d6(0xde):storeConfiguration(_0x28e98d[_0x22a3d6(0x183)]);break;case _0x22a3d6(0xcb):storeHeadless(_0x28e98d[_0x22a3d6(0x183)]);break;case _0x22a3d6(0x20d):getStartingBalances(getNormalizedPerformance());break;case _0x22a3d6(0xfd):placeOrder(_0x28e98d[_0x22a3d6(0x183)]);break;case'cancelLoading':cancelLoading();break;case _0x22a3d6(0x20f):showConfig();break;case'sendPortfolioTelegram':sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x51d1d7=_0x1903e3;if(pidBalances)clearTimeout(pidBalances);if(pidCoinReloading)clearTimeout(pidCoinReloading);if(config[_0x51d1d7(0x1ad)]!=''&&config[_0x51d1d7(0x1ad)]!='***'){await initExchange(config[_0x51d1d7(0x1ad)],config[_0x51d1d7(0x1c3)]),await initWsEvents();let _0x2d3bdd=![];try{_0x2d3bdd=await loadSymbols();}catch(_0x10214e){handleError(_0x10214e,_0x51d1d7(0x212));}if(_0x2d3bdd){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x51d1d7(0x228)]==0x0&&allOpenOrders[_0x51d1d7(0x228)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x3552ff,_0x2d0729){const _0x542aa7=_0x1903e3,_0x1bf748=ccxt[config[_0x542aa7(0x205)]];let _0x5d5d00;switch(config[_0x542aa7(0x205)]){case'binance':_0x5d5d00=_0x542aa7(0x17d);break;case'binanceus':_0x5d5d00=_0x542aa7(0x15f);break;default:_0x5d5d00='wss://stream.binance.com:9443';}exchange=new _0x1bf748({'apiKey':_0x3552ff,'secret':_0x2d0729,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x542aa7(0x19d)][_0x542aa7(0x159)]=_0x3552ff,wsClient[_0x542aa7(0x19d)][_0x542aa7(0x1f0)]=_0x2d0729,wsClient['options']['wsUrl']=_0x5d5d00;let _0x244c6d=config[_0x542aa7(0x205)]=='binanceus'?_0x542aa7(0x1d9):'EUR',_0x3ae886=config[_0x542aa7(0xe9)]==_0x542aa7(0x1c5)?'ETH':_0x542aa7(0x1ba);stablecoins={'eur':{'coin':''+_0x3ae886+_0x244c6d,'symbol':_0x3ae886+'/'+_0x244c6d},'usd':{'coin':_0x3ae886+_0x542aa7(0x1d9),'symbol':_0x3ae886+_0x542aa7(0x199)}};}async function initWsEvents(){const _0x33231b=_0x1903e3;!wsClient[_0x33231b(0x147)][_0x33231b(0x12b)]&&wsClient['on']('formattedMessage',_0x242e88=>{const _0xe0af16=_0x33231b;if(isWsFormattedKline(_0x242e88)){global[_0xe0af16(0x1a8)][_0x242e88[_0xe0af16(0x16c)]['symbol']]=_0x242e88['kline']['close'];return;}else{if(isWsFormatted24hrTicker(_0x242e88)){global[_0xe0af16(0x128)][_0x242e88[_0xe0af16(0x1e1)]]=_0x242e88['priceChangePercent'];return;}else{if(!Array[_0xe0af16(0x10c)](_0x242e88)&&_0x242e88[_0xe0af16(0x20a)][_0xe0af16(0x1dc)]('userData')){if(_0x242e88[_0xe0af16(0x1a4)][_0xe0af16(0x1dc)](_0xe0af16(0xed))){updateNumberCoins(_0x242e88);return;}}}}}),!wsClient[_0x33231b(0x147)][_0x33231b(0x17f)]&&wsClient['on'](_0x33231b(0x17f),async _0x1fb7e2=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x45da12=_0x1903e3;let _0x131c81=![];try{markets=await exchange[_0x45da12(0x19b)](),allSymbols=exchange[_0x45da12(0x17b)]['filter'](_0x5c7fb3=>{let _0x1a6e28=![];return exceptions['forEach'](_0x142ba3=>{const _0x43a787=_0x14ec;if(_0x5c7fb3[_0x43a787(0x1dc)](_0x142ba3))_0x1a6e28=!![];}),!_0x1a6e28;}),_0x131c81=!![];}catch(_0xefd98b){_0x131c81=![];throw _0xefd98b;}return _0x131c81;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0x4dcea3=_0x1903e3;proxyEmit(_0x4dcea3(0x1d5),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x4dcea3(0x1ce),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x380c5e=getNormalizedPerformance();emitPerformance(_0x380c5e),await getStartingBalances(_0x380c5e);}async function toggleBotMode(){const _0x573cbc=_0x1903e3;let _0x18f6a9=dbConfig[_0x573cbc(0x16b)](_0x573cbc(0x1b3))[_0x573cbc(0x211)]({'botID':botID})[_0x573cbc(0x200)]();if(_0x18f6a9){const _0x2538d6=!_0x18f6a9[_0x573cbc(0x140)];dbConfig[_0x573cbc(0x16b)](_0x573cbc(0x1b3))[_0x573cbc(0x211)]({'botID':botID})[_0x573cbc(0x165)]({'headless':_0x2538d6})[_0x573cbc(0x1c1)](),config[_0x573cbc(0x140)]=_0x2538d6,proxyEmit(_0x573cbc(0x1d5),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2566b0=_0x1903e3;process[_0x2566b0(0x17c)]({'updatebotmanager':!![]},_0x13c11e=>{});}function cleanws(){const _0x3c1d1a=_0x1903e3;wsinitialized=![];ws1&&(ws1[_0x3c1d1a(0x109)](_0x5d1951=>{const _0x247d41=_0x3c1d1a;try{wsClient[_0x247d41(0x115)](_0x5d1951);}catch(_0x59b86e){}}),ws1=[]);if(ws2){try{wsClient['close'](ws2);}catch(_0x996f78){}ws2=null;}ws3&&(ws3['forEach'](_0x42f12d=>{try{wsClient['close'](_0x42f12d);}catch(_0x3bbe40){}}),ws3=[]);}async function initws(){const _0x4d8ece=_0x1903e3;cleanws();let _0x550184=[];currentCoins[_0x4d8ece(0x109)](_0x1d910d=>{const _0x57430a=_0x4d8ece;if(_0x1d910d['coin']!=config[_0x57430a(0xe9)])_0x550184['push'](_0x1d910d['symbol']);});if(!_0x550184['includes'](stablecoins[_0x4d8ece(0x152)][_0x4d8ece(0x1e1)]))_0x550184[_0x4d8ece(0x1e3)](stablecoins[_0x4d8ece(0x152)][_0x4d8ece(0x1e1)]);if(!_0x550184[_0x4d8ece(0x1dc)](stablecoins['usd'][_0x4d8ece(0x1e1)]))_0x550184[_0x4d8ece(0x1e3)](stablecoins[_0x4d8ece(0x131)][_0x4d8ece(0x1e1)]);if(!_0x550184[_0x4d8ece(0x1dc)](_0x4d8ece(0x177)+config['basecoin']))_0x550184[_0x4d8ece(0x1e3)](_0x4d8ece(0x177)+config[_0x4d8ece(0xe9)]);try{_0x550184['forEach']((_0x1e0371,_0x16d6b6)=>{const _0x526d76=_0x4d8ece;ws1[_0x16d6b6]=wsClient[_0x526d76(0x21c)](noslash(_0x1e0371),'1m'),ws3[_0x16d6b6]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x1e0371),_0x526d76(0xed));}),ws2=wsClient['subscribeSpotUserDataStream']();}catch(_0x1ef34f){await handleError(_0x1ef34f,'initws()');}let _0x1c967a,_0x244b0e=0x0;loading['remainingSymbols']=[];let _0x4bf8d9=0x0;_0x550184[_0x4d8ece(0x109)](_0x5da8a6=>{const _0x2c812e=_0x4d8ece;loading['remainingSymbols'][_0x2c812e(0x1e3)](_0x5da8a6);}),loadingCanceled=![];let _0x2a992b=![];while(_0x1c967a!=_0x550184[_0x4d8ece(0x228)]){_0x1c967a=0x0,_0x550184[_0x4d8ece(0x109)](_0x3393fa=>{const _0x345dcb=_0x4d8ece;global[_0x345dcb(0x1a8)][noslash(_0x3393fa)]&&(loading[_0x345dcb(0x135)]=loading[_0x345dcb(0x135)][_0x345dcb(0xe2)](_0xd8a3d7=>_0xd8a3d7!=_0x3393fa),_0x1c967a++);}),loading[_0x4d8ece(0x127)]=Math[_0x4d8ece(0x1d0)](_0x1c967a/_0x550184['length']*0x64);loading['progress']!=0x64&&(_0x4bf8d9>0x1e*0x5&&(loading[_0x4d8ece(0x1ae)]=!![],emitLoadingProgress()),_0x4bf8d9>0x78*0x5&&!_0x2a992b&&(loading[_0x4d8ece(0x136)]=!![],emitLoadingProgress(),_0x2a992b=!![],logHistory(_0x4d8ece(0x175),_0x4d8ece(0x1ac)+loading[_0x4d8ece(0x135)][_0x4d8ece(0x1af)](',\x20')+_0x4d8ece(0x10b)),logHistory(_0x4d8ece(0x175),_0x4d8ece(0x206)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),pidCoinReloading=setTimeout(()=>{const _0x536d8d=_0x4d8ece;process[_0x536d8d(0x17c)]({'stop':_0x536d8d(0x19c)},_0x544a1e=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x4d8ece(0x136)]=!![],emitLoadingProgress();break;}else _0x1c967a!=_0x244b0e&&(_0x244b0e=_0x1c967a,emitLoadingProgress()),_0x4bf8d9++,await sleep(0xc8);}_0x1c967a==_0x550184[_0x4d8ece(0x228)]&&(wsinitialized=!![],_0x2a992b&&logHistory(_0x4d8ece(0xf4),_0x4d8ece(0xd4)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x537675=_0x1903e3;proxyEmit(_0x537675(0x1d5),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x41f5e6=_0x1903e3;proxyEmit(_0x41f5e6(0x21a),loading);}async function getFiat(){const _0xece5b4=_0x1903e3;let _0x4f12ea=0x0,_0x2d482c=0x0;try{_0x4f12ea=global[_0xece5b4(0x1a8)][stablecoins[_0xece5b4(0x152)][_0xece5b4(0x214)]],_0x2d482c=global[_0xece5b4(0x1a8)][stablecoins[_0xece5b4(0x131)][_0xece5b4(0x214)]];}catch(_0x5392d5){await handleError(_0x5392d5,'getFiat()');}return{'eur':Number(_0x4f12ea),'usd':Number(_0x2d482c)};}function setStartDatePerformance(){const _0x56bc30=_0x1903e3;if(config&&config[_0x56bc30(0x224)][0x0][_0x56bc30(0xe8)]['length']!=0x0){const _0x3a0eb8=config[_0x56bc30(0x224)][0x0][_0x56bc30(0xe8)];dbPerformance[_0x56bc30(0x16b)](_0x56bc30(0xcd))[_0x56bc30(0x211)]({'date':config[_0x56bc30(0x20c)]})[_0x56bc30(0x165)]({'coins':_0x3a0eb8})[_0x56bc30(0x1c1)]();}}async function recreateCoinResults(){const _0x2234f5=_0x1903e3;let _0xcb4a1c,_0x35532f=[];try{const _0x35751e=fns['format'](fns[_0x2234f5(0x15e)](config[_0x2234f5(0x20c)]['replace'](/\//g,'-')),_0x2234f5(0xeb));for(const _0xecd804 of currentCoins){if(_0xecd804[_0x2234f5(0x214)]!=config[_0x2234f5(0xe9)]){let _0x4c8adb=0x0,_0x29c987,_0x3c2ff5;_0xcb4a1c=await getAllEventOrders(_0xecd804['symbol']);if(_0xcb4a1c[_0x2234f5(0x228)]>0x0)_0xcb4a1c[_0x2234f5(0x109)](_0x2ad7b5=>{const _0x1d9ea8=_0x2234f5,_0x542940=_0xecd804[_0x1d9ea8(0x1e1)][_0x1d9ea8(0x1dc)](config[_0x1d9ea8(0xe9)]+'/');_0x35532f[_0x1d9ea8(0x1e3)]({'datetime':_0x2ad7b5['datetime'],'coin':_0xecd804[_0x1d9ea8(0x214)],'symbol':_0xecd804[_0x1d9ea8(0x1e1)],'side':_0x2ad7b5['side'],'reverse':_0x542940,'amount':formatResult(_0x2ad7b5[_0x1d9ea8(0x1c7)],0x8),'filled':formatResult(_0x2ad7b5[_0x1d9ea8(0x1c7)],0x8),'price':formatResult(_0x2ad7b5['price'],0x8)}),_0x4c8adb=_0x2ad7b5[_0x1d9ea8(0xe3)]==_0x1d9ea8(0x227)?_0x4c8adb+_0x2ad7b5[_0x1d9ea8(0x1c7)]:_0x4c8adb-_0x2ad7b5[_0x1d9ea8(0x1c7)];if(!_0x3c2ff5)_0x3c2ff5=_0x2ad7b5[_0x1d9ea8(0x1c2)];});_0x29c987=_0xecd804[_0x2234f5(0xc9)]-_0x4c8adb;let _0xc6463b;config[_0x2234f5(0x224)][_0x2234f5(0x109)](_0x2e11f7=>{const _0x2afd9d=_0x2234f5;!_0xc6463b&&(_0xc6463b=_0x2e11f7[_0x2afd9d(0xe8)]['find'](_0xfdede=>_0xfdede[_0x2afd9d(0x214)]==_0xecd804['coin']),_0xc6463b&&(_0x29c987=_0xc6463b[_0x2afd9d(0xc9)],_0x3c2ff5=_0xc6463b[_0x2afd9d(0x1c2)]));});let _0x3f68aa=dbCoinResults['get']('coins')[_0x2234f5(0x211)]({'coin':_0xecd804[_0x2234f5(0x214)]})['value']();_0x3f68aa={'coin':_0xecd804[_0x2234f5(0x214)],'number':_0x29c987,'breakeven':_0x3c2ff5,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x2234f5(0x16b)]('coins')[_0x2234f5(0x211)]({'coin':_0xecd804[_0x2234f5(0x214)]})['assign'](_0x3f68aa)['write']();}}_0x35532f[_0x2234f5(0x1aa)]((_0x423f42,_0x3c567c)=>_0x423f42[_0x2234f5(0xd7)]>_0x3c567c[_0x2234f5(0xd7)]?0x1:_0x3c567c[_0x2234f5(0xd7)]>_0x423f42[_0x2234f5(0xd7)]?-0x1:0x0);let _0x3be6d2=0x0;for(let _0x5f91fd of _0x35532f){await updateCoinResults(_0x5f91fd,!![]);}}catch(_0x372894){await handleError(_0x372894,'recreateCoinResults()');}}async function getAllEventOrders(_0x1aa799){const _0xee7dfd=_0x1903e3;let _0x58f765=[],_0x3e1225=dbLogs['get'](_0xee7dfd(0x1b1))[_0xee7dfd(0xe2)](_0x22bc97=>{const _0x3ed50b=_0xee7dfd,_0x5bbf6d=_0x22bc97[_0x3ed50b(0x1c0)][_0x3ed50b(0xef)]();return _0x5bbf6d[_0x3ed50b(0x1dc)](_0x1aa799['toLowerCase']())&&(_0x5bbf6d['includes']('market')&&_0x5bbf6d['includes']('order')||_0x5bbf6d[_0x3ed50b(0x1dc)]('filled')&&_0x5bbf6d['includes'](_0x3ed50b(0x11a)));})[_0xee7dfd(0x215)](_0xee7dfd(0x12c))['value']();return _0x3e1225['forEach'](_0x1c6093=>{const _0x55aa34=_0xee7dfd,_0x2f0f16=_0x1c6093['event'][_0x55aa34(0x1dc)](_0x55aa34(0xdb))?'sell':_0x55aa34(0x227),_0x4ed949=/#([0-9]|\.)+\s/i,_0x462c18=Number(_0x4ed949['exec'](_0x1c6093[_0x55aa34(0x1c0)])[0x0]['slice'](0x1)),_0x5f172b=/@([0-9]|\.)+$/i,_0x226956=Number(_0x5f172b[_0x55aa34(0xcf)](_0x1c6093['event'])[0x0][_0x55aa34(0x1b2)](0x1));_0x58f765[_0x55aa34(0x1e3)]({'datetime':_0x1c6093[_0x55aa34(0x12c)],'coin':symbolToCoin(_0x1aa799),'symbol':_0x1aa799,'side':_0x2f0f16,'amount':_0x462c18,'filled':_0x462c18,'price':_0x226956});}),_0x58f765;}async function getAllOrders(_0x26d9d7,_0xb64c14){const _0x20a9ba=_0x1903e3;let _0x47ba8f=[];while(_0xb64c14<exchange[_0x20a9ba(0x14a)]()){const _0x353f6b=0x1f4,_0x42b449=await exchange[_0x20a9ba(0x1d4)](_0x26d9d7,_0xb64c14,_0x353f6b);if(_0x42b449[_0x20a9ba(0x228)])_0xb64c14=_0x42b449[_0x42b449['length']-0x1]['timestamp']+0x1,_0x47ba8f=_0x47ba8f['concat'](_0x42b449);else break;}return _0x47ba8f;}async function validate24hChanges(){const _0x329eb3=_0x1903e3;let _0x4a7621;for(const _0xc0df11 of currentCoins){if(_0xc0df11[_0x329eb3(0x214)]!=config[_0x329eb3(0xe9)]){let _0x12da2d;_0xc0df11[_0x329eb3(0x1e5)]?_0x12da2d=formatResult((0x1/(global['change'][noslash(_0xc0df11[_0x329eb3(0x1e1)])]/0x64+0x1)-0x1)*0x64,0x3):_0x12da2d=global[_0x329eb3(0x128)][noslash(_0xc0df11[_0x329eb3(0x1e1)])],_0x12da2d<config['change24h']&&(logHistory(_0x329eb3(0x175),_0xc0df11['coin']+_0x329eb3(0xea)+_0x12da2d+'%'),logHistory(_0x329eb3(0x175),'Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses'),logHistory(_0x329eb3(0x175),_0x329eb3(0x148)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x108557=_0x1903e3;let _0x2fd93e=dbLogs[_0x108557(0x16b)](_0x108557(0x208))[_0x108557(0x200)]();if(_0x2fd93e!=_0x108557(0x12d)){dbLogs[_0x108557(0x137)](_0x108557(0x208),_0x108557(0x12d))['write']();let _0x19acde=[];const _0x22f6f7=dbLogs[_0x108557(0x16b)]('logs')[_0x108557(0x200)]();_0x22f6f7[_0x108557(0x109)](_0x38ff7f=>{const _0x1ea982=_0x108557;_0x19acde[_0x1ea982(0x1e3)]({'time':_0x38ff7f[_0x1ea982(0x12c)],'type':_0x38ff7f[_0x1ea982(0x21e)],'event':_0x38ff7f[_0x1ea982(0x1c0)]});}),dbLogs[_0x108557(0x16b)](_0x108557(0x1b1))[_0x108557(0x165)](_0x19acde)[_0x108557(0x1c1)]();}let _0x1fecdd=dbConfig[_0x108557(0x16b)]('version')[_0x108557(0x200)]();if(_0x1fecdd!=_0x108557(0x12d)){dbConfig['set'](_0x108557(0x208),_0x108557(0x12d))[_0x108557(0x1c1)]();let _0x22cae1=dbConfig[_0x108557(0x16b)](_0x108557(0x1b3))[_0x108557(0x211)]({'botID':botID})[_0x108557(0x200)]();if(_0x22cae1){let _0x18405a=[];_0x22cae1[_0x108557(0x164)]['forEach'](_0x3912aa=>{const _0x342392=_0x108557;_0x18405a[_0x342392(0x1e3)]({'coin':_0x3912aa['coin'],'number':_0x3912aa[_0x342392(0x151)],'price':_0x3912aa[_0x342392(0x104)]}),delete _0x3912aa[_0x342392(0x151)],delete _0x3912aa[_0x342392(0x104)];});if(_0x18405a['length']!==0x0)fs[_0x108557(0x1f1)](configbackuppath+(_0x108557(0x138)+botID+_0x108557(0x160)),JSON['stringify'](_0x18405a,null,0x4),function(_0x5a868b){if(_0x5a868b){}});const _0x5057ee=(_0x2b7850,_0x15e677)=>{const _0x5f5361=_0x108557;let _0x23b250=[];_0x15e677[_0x5f5361(0x109)](_0x3dcc2f=>{const _0x30d200=_0x5f5361,_0x4768f3=_0x2b7850[_0x30d200(0x211)](_0x46367c=>_0x46367c[_0x30d200(0x214)]==_0x3dcc2f[_0x30d200(0x214)]);if(!_0x4768f3)_0x23b250[_0x30d200(0x1e3)](_0x3dcc2f);});let _0x13f7d2=[];return _0x2b7850['forEach'](_0x477a0e=>{const _0x572c70=_0x5f5361,_0x59d0e0=_0x15e677[_0x572c70(0x211)](_0x315c7d=>_0x315c7d[_0x572c70(0x214)]==_0x477a0e[_0x572c70(0x214)]);if(!_0x59d0e0||_0x59d0e0[_0x572c70(0xc9)]==0x0&&_0x477a0e[_0x572c70(0xc9)]!=0x0)_0x13f7d2[_0x572c70(0x1e3)](_0x477a0e);}),{'missingDay1':_0x23b250,'notInDay2':_0x13f7d2};},_0x1034d5=dbPerformance[_0x108557(0x16b)](_0x108557(0xcd))['cloneDeep']()[_0x108557(0x200)]();if(_0x1034d5[_0x108557(0x228)]>0x1){const {missingDay1:_0x2f7884,notInDay2:_0xb7bf9}=_0x5057ee(_0x18405a,_0x1034d5[0x1][_0x108557(0x1e2)]);_0x18405a=[..._0x18405a,..._0x2f7884],_0xb7bf9['forEach'](_0x2fb725=>{const _0x15b67f=_0x108557;let _0x1ea7d0=_0x18405a[_0x15b67f(0x112)](_0x297534=>_0x297534[_0x15b67f(0x214)]==_0x2fb725[_0x15b67f(0x214)]);_0x1ea7d0!=-0x1&&_0x18405a['splice'](_0x1ea7d0,0x1);});}_0x18405a[_0x108557(0x1aa)]((_0x50ff56,_0x1a30ad)=>_0x50ff56[_0x108557(0x214)]>_0x1a30ad[_0x108557(0x214)]?0x1:_0x1a30ad[_0x108557(0x214)]>_0x50ff56['coin']?-0x1:0x0);let _0x419e2e=[{'date':_0x22cae1[_0x108557(0x20c)],'changes':_0x18405a}];_0x1034d5[_0x108557(0x228)]>0x2&&_0x1034d5[_0x108557(0x109)]((_0x4f3011,_0x287c28)=>{const _0x5c50b6=_0x108557;if(_0x287c28>0x0&&_0x287c28<_0x1034d5[_0x5c50b6(0x228)]-0x1){const {missingDay1:_0x4db97e,notInDay2:_0x37aabc}=_0x5057ee(_0x1034d5[_0x287c28][_0x5c50b6(0x1e2)],_0x1034d5[_0x287c28+0x1]['coins']);_0x18405a=[],(_0x4db97e[_0x5c50b6(0x228)]!=0x0||_0x37aabc['length']!=0x0)&&(_0x4db97e[_0x5c50b6(0x228)]!=0x0&&_0x18405a[_0x5c50b6(0x1e3)](..._0x4db97e),_0x37aabc[_0x5c50b6(0x228)]!=0x0&&(_0x37aabc[_0x5c50b6(0x109)](_0x502062=>{const _0xdcd0bf=_0x5c50b6;_0x502062[_0xdcd0bf(0xc9)]=-_0x502062[_0xdcd0bf(0xc9)];}),_0x18405a[_0x5c50b6(0x1e3)](..._0x37aabc)),_0x18405a['sort']((_0x458c1f,_0x3dbead)=>_0x458c1f[_0x5c50b6(0x214)]>_0x3dbead['coin']?0x1:_0x3dbead[_0x5c50b6(0x214)]>_0x458c1f[_0x5c50b6(0x214)]?-0x1:0x0),_0x419e2e[_0x5c50b6(0x1e3)]({'date':_0x1034d5[_0x287c28+0x1]['date'],'changes':_0x18405a}));}}),dbConfig[_0x108557(0x16b)](_0x108557(0x1b3))[_0x108557(0x211)]({'botID':botID})[_0x108557(0x165)]({..._0x22cae1,'liquidity':_0x419e2e})[_0x108557(0x1c1)]();}}config=getConfiguration(botID);let _0x58a75a=dbPerformance['get'](_0x108557(0x208))['value']();_0x58a75a!=_0x108557(0x12d)&&(dbPerformance[_0x108557(0x137)](_0x108557(0x208),_0x108557(0x12d))[_0x108557(0x1c1)](),setStartDatePerformance());let _0x5bc7e5=dbCoinResults['get'](_0x108557(0x208))[_0x108557(0x200)]();if(_0x5bc7e5!=_0x108557(0xfe)){dbCoinResults['set'](_0x108557(0x208),_0x108557(0xfe))[_0x108557(0x1c1)]();let _0x4efb7e=dbCoinResults['get']('coins')[_0x108557(0x200)]();if(_0x4efb7e[_0x108557(0x228)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x3553e8){const _0x25b397=_0x1903e3;let _0x5e745a=dbConfig[_0x25b397(0x16b)](_0x25b397(0x1b3))['find']({'botID':_0x3553e8})['value']();if(_0x5e745a){let _0xff8a44=![];typeof _0x5e745a[_0x25b397(0x1a0)]==_0x25b397(0x146)&&(_0x5e745a={..._0x5e745a,'threshold':Number(_0x5e745a[_0x25b397(0x1a0)])},_0xff8a44=!![]),_0x5e745a[_0x25b397(0x1b8)]==null&&(_0x5e745a={..._0x5e745a,'change24h':-0x14},_0xff8a44=!![]),_0xff8a44&&(_0x5e745a={'botID':_0x5e745a[_0x25b397(0xf1)],'exchange':_0x5e745a['exchange'],'apiKey':_0x5e745a['apiKey'],'apiSecret':_0x5e745a[_0x25b397(0x1c3)],'basecoin':_0x5e745a['basecoin'],'botname':_0x5e745a[_0x25b397(0x170)],'showname':_0x5e745a['showname'],'threshold':_0x5e745a['threshold'],'ordertype':_0x5e745a['ordertype'],'timeout':_0x5e745a[_0x25b397(0x1ae)],'startdate':_0x5e745a['startdate'],'recreate':_0x5e745a[_0x25b397(0x100)],'timeshift':_0x5e745a[_0x25b397(0x207)],'headless':_0x5e745a[_0x25b397(0x140)],'cooldown':_0x5e745a[_0x25b397(0x1ef)],'change24h':_0x5e745a[_0x25b397(0x1b8)],'emojibuy':_0x5e745a[_0x25b397(0x174)],'emojisell':_0x5e745a[_0x25b397(0x119)],'portfolio':_0x5e745a[_0x25b397(0x164)],'liquidity':_0x5e745a['liquidity']},dbConfig[_0x25b397(0x16b)]('bot')[_0x25b397(0xcc)]()[_0x25b397(0x1c1)](),dbConfig[_0x25b397(0x16b)](_0x25b397(0x1b3))['push'](_0x5e745a)['write']());}else _0x5e745a={'botID':_0x3553e8,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x25b397(0x1a6)+_0x3553e8,'showname':![],'threshold':0x3,'ordertype':_0x25b397(0x13f),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x25b397(0x207)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x5e745a;}function emittedConfiguration(){const _0x45b3ec=_0x1903e3;let _0x106131;if(config[_0x45b3ec(0x1ad)]=='')_0x106131={...config,'configstate':_0x45b3ec(0x1b4)};else config[_0x45b3ec(0x1ad)]==_0x45b3ec(0x10a)?_0x106131={...config,'configstate':_0x45b3ec(0x1db)}:_0x106131={...config,'apiKey':_0x45b3ec(0xe4),'apiSecret':_0x45b3ec(0xe4)};return _0x106131;}function getSettings(){const _0x39c644=_0x1903e3;return dbSettings['get'](_0x39c644(0x222))[_0x39c644(0x200)]();}function getSecure(){const _0x3acba0=_0x1903e3;return dbSecure[_0x3acba0(0x16b)]('secure')[_0x3acba0(0x200)]()||{};}function updateTimeshift(_0x4090a4){const _0x50d721=_0x1903e3;let _0x3a4295=dbConfig[_0x50d721(0x16b)](_0x50d721(0x1b3))[_0x50d721(0x211)]({'botID':botID})[_0x50d721(0x200)]();_0x3a4295&&dbConfig[_0x50d721(0x16b)](_0x50d721(0x1b3))[_0x50d721(0x211)]({'botID':botID})[_0x50d721(0x165)]({'timeshift':_0x4090a4})[_0x50d721(0x1c1)](),config[_0x50d721(0x207)]=_0x4090a4,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x4ec392){const _0x4f596e=_0x1903e3;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x43eae5=dbConfig['get'](_0x4f596e(0x1b3))[_0x4f596e(0x211)]({'botID':botID})[_0x4f596e(0x200)]();_0x4ec392={..._0x4ec392,'apiKey':crypt['decrypt'](secure['privateKey'],_0x4ec392[_0x4f596e(0x1ad)])['message'],'apiSecret':crypt[_0x4f596e(0x12f)](secure[_0x4f596e(0xd8)],_0x4ec392[_0x4f596e(0x1c3)])['message']};if(_0x43eae5){if(_0x4ec392[_0x4f596e(0x1ad)]==_0x4f596e(0xe4))_0x4ec392[_0x4f596e(0x1ad)]=config['apiKey'];if(_0x4ec392[_0x4f596e(0x1c3)]==_0x4f596e(0xe4))_0x4ec392[_0x4f596e(0x1c3)]=config[_0x4f596e(0x1c3)];dbConfig[_0x4f596e(0x16b)]('bot')['find']({'botID':botID})[_0x4f596e(0x165)](_0x4ec392)[_0x4f596e(0x1c1)]();}else dbConfig[_0x4f596e(0x16b)]('bot')['push'](_0x4ec392)[_0x4f596e(0x1c1)](),process[_0x4f596e(0x17c)]({'status':_0x4f596e(0x15c),'live':'running'},_0x39eac0=>{});config={..._0x4ec392},setStartDatePerformance(),process[_0x4f596e(0x17c)]({'botname':_0x4ec392[_0x4f596e(0x170)]},_0x3a8982=>{}),updateBotManager();const _0xe6e8ef=getNormalizedPerformance();getStartingBalances(_0xe6e8ef),emitPerformance(_0xe6e8ef),proxyEmit(_0x4f596e(0x20b)),await initCoinResults(),reset();}async function storeHeadless(_0x575fdd){const _0x3a82d3=_0x1903e3,_0x3ed256={...config,'headless':_0x575fdd['headless']};let _0xb2c82=dbConfig[_0x3a82d3(0x16b)](_0x3a82d3(0x1b3))[_0x3a82d3(0x211)]({'botID':botID})['value']();_0xb2c82&&dbConfig[_0x3a82d3(0x16b)]('bot')['find']({'botID':botID})['assign'](_0x3ed256)['write'](),config={..._0x3ed256},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}function noslash(_0xacff93){return _0xacff93['replace']('/','');}async function updateNumberCoins(_0x285c7e){const _0x836c13=_0x1903e3;if(_0x285c7e[_0x836c13(0x156)]&&_0x285c7e[_0x836c13(0x156)]==_0x836c13(0x1de)){logger[_0x836c13(0x226)](_0x836c13(0x1bf)+_0x285c7e[_0x836c13(0x1e1)]+_0x836c13(0xc7)+_0x285c7e['orderStatus']+'\x20|\x20'+_0x285c7e[_0x836c13(0x166)]+_0x836c13(0xc7)+_0x285c7e[_0x836c13(0x219)]);let _0x2689b3=_0x285c7e[_0x836c13(0x1a2)],_0x418222=![];currentCoins[_0x836c13(0x109)](_0x3442e9=>{const _0x434941=_0x836c13;noslash(_0x3442e9[_0x434941(0x1e1)])==_0x285c7e[_0x434941(0x1e1)]&&(_0x418222=!![]);});if(!_0x418222)return;const _0x3991f8=currentCoins[_0x836c13(0x211)](_0x5abcc8=>noslash(_0x5abcc8['symbol'])==_0x285c7e[_0x836c13(0x1e1)]),_0x24d31e=_0x55ce1f=>{const _0x667635=_0x836c13;if(_0x3991f8)_0x3991f8[_0x667635(0x10e)]=_0x55ce1f;};if(_0x2689b3==_0x836c13(0x1d6))_0x24d31e('open');else{if(_0x2689b3==_0x836c13(0x15a))_0x24d31e(_0x836c13(0xd6)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x2689b3==_0x836c13(0x158)){logger['debug'](_0x836c13(0x193)+_0x285c7e[_0x836c13(0x1e1)]+_0x836c13(0xc7)+_0x285c7e[_0x836c13(0xec)]+'\x20|\x20'+_0x285c7e[_0x836c13(0x166)]+_0x836c13(0xc7)+_0x285c7e[_0x836c13(0x219)]);let _0x465bf4=![];if(lastOrders)lastOrders[_0x836c13(0x109)](async _0x110618=>{const _0x3f4f40=_0x836c13;if(_0x110618[_0x3f4f40(0x16e)]==_0x285c7e[_0x3f4f40(0x219)]){logger['debug'](_0x3f4f40(0x1ab)+_0x285c7e[_0x3f4f40(0x219)]),_0x465bf4=!![];if(_0x110618[_0x3f4f40(0x1c7)]==0x0){logger['debug'](_0x3f4f40(0x1f7)+_0x285c7e[_0x3f4f40(0x219)]),_0x110618[_0x3f4f40(0x1c2)]=_0x285c7e['cumulativeQuoteAssetTransactedQty']/_0x285c7e[_0x3f4f40(0xec)],_0x110618[_0x3f4f40(0x1c7)]=_0x285c7e[_0x3f4f40(0xec)],_0x110618[_0x3f4f40(0x110)]={'cost':_0x285c7e['commission'],'currency':_0x285c7e['commissionAsset']},_0x24d31e(_0x3f4f40(0x1c7)),await validateOrders();if(lockOrders==ORDERS[_0x3f4f40(0xd9)])currentCoins=await getCoins();await updateCoinResults(_0x110618);}}});!_0x465bf4&&(logger[_0x836c13(0x226)](_0x836c13(0x18f)+_0x285c7e[_0x836c13(0x166)]),_0x24d31e(_0x836c13(0x1c7)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x156bfe=JSON[_0x836c13(0x1bb)](lastBalances['portfolio']);const _0x6af682=_0x156bfe[_0x836c13(0x211)](_0x263eb7=>noslash(_0x263eb7['symbol'])==_0x285c7e[_0x836c13(0x1e1)]);if(_0x6af682){if(_0x2689b3==_0x836c13(0x1d6))_0x6af682[_0x836c13(0x10e)]=_0x6af682[_0x836c13(0x10e)]==_0x836c13(0x1c7)?_0x836c13(0x1c7):_0x836c13(0x11e);else{if(_0x2689b3=='CANCELED')_0x6af682[_0x836c13(0x10e)]=_0x6af682[_0x836c13(0x10e)]==_0x836c13(0x1c7)?_0x836c13(0x1c7):'canceled';else _0x2689b3==_0x836c13(0x158)&&(_0x6af682[_0x836c13(0x10e)]=_0x836c13(0x1c7));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x156bfe)},proxyEmit(_0x836c13(0x1ce),{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x2fe928=![],_0x49ba61=!![],_0x3017d1=config[_0x1903e3(0xe9)]){const _0x4c0f18=_0x1903e3;let _0x4d6325,_0x5a34b9=[],_0x67381a=[],_0x4714a0=[];try{_0x4d6325=await exchange['fetchBalance'](),mybalances=_0x4d6325[_0x4c0f18(0xfa)];if(!_0x49ba61)for(const [_0x218c2f,_0x3d1063]of Object[_0x4c0f18(0x1ec)](mybalances)){_0x4714a0[_0x4c0f18(0x1e3)](_0x218c2f);}else config[_0x4c0f18(0x164)][_0x4c0f18(0x109)](_0x3eda1b=>{const _0x39b64e=_0x4c0f18;if(!_0x3eda1b[_0x39b64e(0x121)])_0x4714a0[_0x39b64e(0x1e3)](_0x3eda1b[_0x39b64e(0x214)]);});if(_0x3017d1=='')for(const [_0x5eecc8,_0x1612a0]of Object[_0x4c0f18(0x1ec)](mybalances)){_0x1612a0[_0x4c0f18(0x106)]()!=0x0&&_0x67381a[_0x4c0f18(0x1e3)]({'coin':_0x5eecc8});}else{if(_0x2fe928)await getOpenOrders();let _0x5c842b=![];for(const [_0x4612a9,_0x108f21]of Object[_0x4c0f18(0x1ec)](mybalances)){if(_0x4714a0[_0x4c0f18(0x1dc)](_0x4612a9)){const _0x4c0828=config[_0x4c0f18(0x164)][_0x4c0f18(0x211)](_0x455e3d=>_0x455e3d[_0x4c0f18(0x214)]==_0x4612a9),_0x3846cf=_0x4612a9+'/'+_0x3017d1,_0x4ea515=_0x3017d1+'/'+_0x4612a9,_0x8f05d8=currentCoins[_0x4c0f18(0x211)](_0xf60392=>_0xf60392[_0x4c0f18(0x214)]==_0x4612a9);_0x5c842b=![];_0x2fe928&&(_0x5c842b=allOpenOrders[_0x4c0f18(0x211)](_0x55ce34=>_0x55ce34[_0x4c0f18(0x1e1)]==_0x4c0828[_0x4c0f18(0x1e1)]));if((_0x108f21[_0x4c0f18(0x106)]()!=0x0||_0x4c0828)&&(allSymbols[_0x4c0f18(0x1dc)](_0x3846cf)||_0x4612a9==_0x3017d1))_0x4612a9!=_0x3017d1&&_0x5a34b9[_0x4c0f18(0x1e3)](_0x3846cf),_0x67381a[_0x4c0f18(0x1e3)]({'coin':_0x4612a9,'symbol':_0x3846cf,'reverse':![],'number':Math['max'](_0x108f21+(_0x4c0828&&_0x4c0828[_0x4c0f18(0x210)]||0x0),0x0),'orderstatus':_0x2fe928?_0x5c842b?_0x4c0f18(0x11e):_0x4c0f18(0x1a3):_0x8f05d8?_0x8f05d8[_0x4c0f18(0x10e)]:_0x4c0f18(0x1a3)});else(_0x108f21[_0x4c0f18(0x106)]()!=0x0||_0x4c0828)&&allSymbols['includes'](_0x4ea515)&&(_0x4612a9!=_0x3017d1&&_0x5a34b9[_0x4c0f18(0x1e3)](_0x4ea515),_0x67381a[_0x4c0f18(0x1e3)]({'coin':_0x4612a9,'symbol':_0x4ea515,'reverse':!![],'number':Math['max'](_0x108f21+(_0x4c0828&&_0x4c0828[_0x4c0f18(0x210)]||0x0),0x0),'orderstatus':_0x2fe928?_0x5c842b?_0x4c0f18(0x11e):'none':_0x8f05d8?_0x8f05d8[_0x4c0f18(0x10e)]:_0x4c0f18(0x1a3)}));}}}}catch(_0x3a773e){if(!_0x49ba61)handleErrorNoStop(_0x3a773e,_0x4c0f18(0xf3));else await handleError(_0x3a773e,_0x4c0f18(0xf3));}return _0x67381a;}async function getCoinNumber(_0x516a82){const _0x41f716=_0x1903e3;let _0x3f6429;try{const _0x121ab5=await exchange[_0x41f716(0x15b)]();_0x3f6429=_0x121ab5[_0x41f716(0xfa)][_0x516a82];}catch(_0x41ec4d){await handleError(_0x41ec4d,_0x41f716(0x16f));}return _0x3f6429;}async function getOpenOrders(){const _0x32c6de=_0x1903e3;let _0x37d673;allOpenOrders=[];try{for(const _0x1b9b98 of config[_0x32c6de(0x164)]){!_0x1b9b98[_0x32c6de(0x121)]&&_0x1b9b98['coin']!=config[_0x32c6de(0xe9)]&&(_0x37d673=await exchange[_0x32c6de(0xd1)](_0x1b9b98['symbol']),_0x37d673[_0x32c6de(0x228)]>0x0&&allOpenOrders['push'](_0x37d673[0x0]));}}catch(_0x442e51){await handleError(_0x442e51,_0x32c6de(0x1ea));}}async function handleOpenOrders(_0xb6472f=0x0){const _0x32e733=_0x1903e3;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x32e733(0xd9)]&&allOrdersPlaced&&(_0xb6472f==0x0?(logger[_0x32e733(0x226)](_0x32e733(0x10d)),_0xb6472f++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x32e733(0x226)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders('no\x20open\x20orders')));}async function getPortfolio(_0x1f2bc2){const _0x2e393c=_0x1903e3;let _0x212e73=[],_0x129b22=[],_0x574db2,_0x285df7=[],_0x162e6a,_0x66d6e5;_0x1f2bc2[_0x2e393c(0x1ad)]===_0x2e393c(0xe4)||_0x1f2bc2[_0x2e393c(0x1c3)]===_0x2e393c(0xe4)?(_0x162e6a=config['apiKey'],_0x66d6e5=config[_0x2e393c(0x1c3)]):(_0x162e6a=_0x1f2bc2['apiKey'],_0x66d6e5=_0x1f2bc2[_0x2e393c(0x1c3)]);await initExchange(_0x162e6a,_0x66d6e5);let _0x2ca103=![];try{_0x2ca103=await loadSymbols();}catch(_0x29a212){_0x2ca103=![],handleErrorNoStop(_0x29a212,_0x2e393c(0x212));}if(_0x2ca103){_0x285df7=await getCoins(![],![],_0x1f2bc2[_0x2e393c(0xe9)]);if(_0x285df7===![])proxyEmit(_0x2e393c(0x164),![]);else{if(_0x1f2bc2[_0x2e393c(0xe9)]=='')proxyEmit(_0x2e393c(0x164),_0x285df7);else{_0x285df7[_0x2e393c(0x109)](_0x5580e0=>{const _0x6c4dc0=_0x2e393c;if(_0x5580e0[_0x6c4dc0(0x214)]!=_0x1f2bc2[_0x6c4dc0(0xe9)])_0x212e73[_0x6c4dc0(0x1e3)](_0x5580e0['symbol']);});try{_0x129b22=await exchange[_0x2e393c(0x217)](_0x212e73);}catch(_0x495657){await handleError(_0x495657,_0x2e393c(0x197));}_0x285df7[_0x2e393c(0x109)](_0x248a59=>{const _0x405226=_0x2e393c;_0x248a59['coin']!=_0x1f2bc2[_0x405226(0xe9)]?_0x574db2=_0x248a59[_0x405226(0x1e5)]?0x1/_0x129b22[_0x248a59[_0x405226(0x1e1)]][_0x405226(0x21f)]:_0x129b22[_0x248a59[_0x405226(0x1e1)]][_0x405226(0x21f)]:_0x574db2=0x1,_0x248a59['price']=formatResult(_0x574db2,0x8);}),proxyEmit(_0x2e393c(0x164),_0x285df7);}}}else proxyEmit(_0x2e393c(0x164),![]);}function checkMinimums(_0x58c63c){const _0x237145=_0x1903e3;let _0x4d3d83=!![];const _0x2b8e10=!_0x58c63c['reverse']?markets[_0x58c63c[_0x237145(0x1e1)]][_0x237145(0x126)][_0x237145(0x187)][_0x237145(0x1f2)]:markets[_0x58c63c[_0x237145(0x1e1)]]['limits'][_0x237145(0x18b)][_0x237145(0x1f2)],_0x18801e=!_0x58c63c['reverse']?markets[_0x58c63c[_0x237145(0x1e1)]]['limits'][_0x237145(0x18b)][_0x237145(0x1f2)]:markets[_0x58c63c['symbol']]['limits'][_0x237145(0x187)]['min'],_0x25c938=markets[_0x58c63c['symbol']][_0x237145(0x22b)][_0x237145(0x187)];_0x58c63c[_0x237145(0x1ca)]=formatResultTruncate(_0x58c63c[_0x237145(0x1ca)],_0x25c938);if(Math[_0x237145(0x1eb)](_0x58c63c[_0x237145(0x1ca)])<_0x2b8e10)_0x4d3d83=![];if(Math[_0x237145(0x1eb)](_0x58c63c[_0x237145(0x1ca)])*_0x58c63c[_0x237145(0x21f)]<_0x18801e)_0x4d3d83=![];if(_0x58c63c[_0x237145(0xe3)]==_0x237145(0xdb)){let _0x4bd1d6=config[_0x237145(0x164)][_0x237145(0x211)](_0x451b5d=>_0x451b5d[_0x237145(0x214)]==_0x58c63c[_0x237145(0x214)]);if(_0x4bd1d6[_0x237145(0x210)]>0x0){if(Math[_0x237145(0x1eb)](_0x58c63c[_0x237145(0x1ca)])>_0x58c63c['number']-_0x4bd1d6[_0x237145(0x210)])_0x4d3d83=![];}else{if(Math[_0x237145(0x1eb)](_0x58c63c[_0x237145(0x1ca)])>_0x58c63c[_0x237145(0xc9)])_0x4d3d83=![];}}if(_0x58c63c[_0x237145(0xe3)]==_0x237145(0x227)){let _0x5ce9f1=config[_0x237145(0x164)]['find'](_0x734029=>_0x734029[_0x237145(0x214)]==config[_0x237145(0xe9)]),_0x58f4ee=currentCoins[_0x237145(0x211)](_0x30a6e1=>_0x30a6e1['coin']==config[_0x237145(0xe9)]);if(_0x5ce9f1[_0x237145(0x210)]>0x0){if(Math[_0x237145(0x1eb)](_0x58c63c[_0x237145(0x1ca)])*_0x58c63c['last']>_0x58f4ee[_0x237145(0xc9)]-_0x5ce9f1[_0x237145(0x210)])_0x4d3d83=![];}else{if(Math[_0x237145(0x1eb)](_0x58c63c[_0x237145(0x1ca)])*_0x58c63c[_0x237145(0x21f)]>_0x58f4ee['number'])_0x4d3d83=![];}}return _0x4d3d83;}async function getBalances(){const _0xf2b100=_0x1903e3;let _0x284d0c=0x0,_0xc34e2;const _0x352de0=config[_0xf2b100(0x1a0)];if(config[_0xf2b100(0x140)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0xf2b100(0x109)](_0xb4d9a=>{const _0x83cef4=_0xf2b100;if(_0xb4d9a[_0x83cef4(0x214)]!=config[_0x83cef4(0xe9)]){let _0xe9adad=global[_0x83cef4(0x1a8)][noslash(_0xb4d9a[_0x83cef4(0x1e1)])];_0xc34e2=_0xb4d9a[_0x83cef4(0x1e5)]?0x1/_0xe9adad:_0xe9adad;}else _0xc34e2=0x1;let _0x26905d=_0xb4d9a['number']*_0xc34e2;_0x284d0c+=_0x26905d,_0xb4d9a[_0x83cef4(0x21f)]=formatResult(Number(_0xc34e2),0x8),_0xb4d9a[_0x83cef4(0x200)]=_0x26905d;}),currentCoins[_0xf2b100(0x109)](_0x2b4133=>{const _0x5bd286=_0xf2b100;let _0x369fe4=config[_0x5bd286(0x164)][_0x5bd286(0x211)](_0x2efb29=>_0x2efb29[_0x5bd286(0x214)]==_0x2b4133[_0x5bd286(0x214)]),_0x520234=Number(_0x369fe4[_0x5bd286(0x1a9)]),_0x50a423=_0x2b4133[_0x5bd286(0x200)]/_0x284d0c*0x64,_0x19d4d5=_0x520234*_0x284d0c/0x64/_0x2b4133[_0x5bd286(0x21f)]-_0x2b4133[_0x5bd286(0xc9)];_0x2b4133[_0x5bd286(0x1a9)]=formatResult(_0x50a423,0x3),_0x2b4133[_0x5bd286(0x1fd)]=formatResult(_0x520234,0x3),_0x2b4133[_0x5bd286(0x1ca)]=formatResult(_0x19d4d5,0x8),_0x2b4133[_0x5bd286(0xe3)]='',_0x2b4133['valid']=![];if(_0x2b4133['coin']!=config[_0x5bd286(0xe9)]){if(_0x2b4133[_0x5bd286(0x1a9)]>_0x520234)_0x2b4133[_0x5bd286(0xe3)]=_0x5bd286(0xdb),_0x2b4133[_0x5bd286(0x11c)]=checkMinimums(_0x2b4133);else _0x2b4133['distribution']<_0x520234&&(_0x2b4133[_0x5bd286(0xe3)]=_0x5bd286(0x227),_0x2b4133[_0x5bd286(0x11c)]=checkMinimums(_0x2b4133));}_0x2b4133[_0x5bd286(0x1cc)]=_0x2b4133[_0x5bd286(0x1a9)]/_0x2b4133[_0x5bd286(0x1fd)]-0x1;if(_0x2b4133[_0x5bd286(0x10e)]=='filled'||_0x2b4133['orderstatus']=='canceled')_0x2b4133[_0x5bd286(0x10e)]=_0x5bd286(0x1a3);}),currentCoins[_0xf2b100(0x1aa)]((_0x16805a,_0xf9d588)=>_0x16805a[_0xf2b100(0x1cc)]<_0xf9d588['delta']?0x1:_0xf9d588['delta']<_0x16805a['delta']?-0x1:0x0);const _0x380ceb=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x380ceb[_0xf2b100(0x152)],'usd':_0x380ceb['usd'],'portfolio':JSON[_0xf2b100(0x101)](currentCoins),'threshold':_0x352de0},proxyEmit(_0xf2b100(0x1ce),{'serverversion':serverversion,'balances':lastBalances});if(config[_0xf2b100(0x140)])headlessMode({'portfolio':currentCoins,'threshold':_0x352de0});else{if(lockOrders==ORDERS[_0xf2b100(0x1d7)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x352de0});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xf6ea64=_0x1903e3;if(!lastBalances)return;let _0x2ca438=[],_0x27888d,_0x2de78a=JSON[_0xf6ea64(0x1bb)](lastBalances[_0xf6ea64(0x164)]);_0x2de78a[_0xf6ea64(0x1aa)]((_0x18307b,_0x45f185)=>_0x18307b[_0xf6ea64(0x214)]>_0x45f185['coin']?0x1:_0x45f185[_0xf6ea64(0x214)]>_0x18307b[_0xf6ea64(0x214)]?-0x1:0x0),_0x2de78a[_0xf6ea64(0x109)](_0xd08f1=>{const _0x289c3f=_0xf6ea64;let _0x1c4100={'coin':_0xd08f1['coin'],'number':_0xd08f1[_0x289c3f(0xc9)],'price':_0xd08f1[_0x289c3f(0x21f)]};_0x2ca438[_0x289c3f(0x1e3)](_0x1c4100);});const _0x1cff67=await getFiat();_0x27888d={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x1cff67[_0xf6ea64(0x152)],'usd':_0x1cff67['usd'],'coins':_0x2ca438};let _0x24707e=dbPerformance[_0xf6ea64(0x16b)](_0xf6ea64(0xcd))[_0xf6ea64(0x211)]({'date':_0x27888d[_0xf6ea64(0x171)]})[_0xf6ea64(0x200)]();_0x24707e?_0x27888d['date']!=config[_0xf6ea64(0x20c)]&&dbPerformance[_0xf6ea64(0x16b)]('data')['find']({'date':_0x27888d[_0xf6ea64(0x171)]})[_0xf6ea64(0x165)](_0x27888d)[_0xf6ea64(0x1c1)]():dbPerformance['get'](_0xf6ea64(0xcd))[_0xf6ea64(0x1e3)](_0x27888d)[_0xf6ea64(0x1c1)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x2fb6f3=_0x1903e3;let _0x3cd5db=[];if(dbPerformance['has']('data')[_0x2fb6f3(0x200)]()){let _0x5d3b4e=dbPerformance['get']('data')[_0x2fb6f3(0xff)]()[_0x2fb6f3(0x215)](_0x2fb6f3(0x171))['value'](),_0x56044c=[...config['liquidity']];_0x56044c['sort']((_0x5f35b9,_0x4d568c)=>_0x5f35b9[_0x2fb6f3(0x171)]>_0x4d568c[_0x2fb6f3(0x171)]?-0x1:_0x4d568c['date']>_0x5f35b9[_0x2fb6f3(0x171)]?0x1:0x0);let _0x2d3163=0x1,_0x57853b=[],_0x33c504=0x0;_0x5d3b4e[_0x2fb6f3(0x1b2)]()[_0x2fb6f3(0x1e5)]()[_0x2fb6f3(0x109)]((_0x390bc8,_0x4d7fa2)=>{const _0x429101=_0x2fb6f3;if(_0x56044c[_0x33c504]){if(_0x5d3b4e[_0x5d3b4e[_0x429101(0x228)]-_0x4d7fa2]&&_0x56044c[_0x33c504][_0x429101(0x171)]==_0x5d3b4e[_0x5d3b4e[_0x429101(0x228)]-_0x4d7fa2][_0x429101(0x171)]){if(_0x4d7fa2<_0x5d3b4e['length']){let _0x4a16b5=0x0,_0x22514b=0x0;_0x5d3b4e[_0x5d3b4e[_0x429101(0x228)]-_0x4d7fa2][_0x429101(0x1e2)][_0x429101(0x109)](_0x18b146=>{const _0x17a99c=_0x429101;_0x22514b+=_0x18b146['number']*_0x18b146[_0x17a99c(0x1c2)];}),_0x56044c[_0x33c504]['changes'][_0x429101(0x109)](_0x35abcc=>{const _0x51bef3=_0x429101;_0x4a16b5+=_0x35abcc[_0x51bef3(0xc9)]*_0x35abcc[_0x51bef3(0x1c2)];}),_0x2d3163*=_0x4a16b5/(_0x22514b-_0x4a16b5)+0x1;}_0x33c504++;}}let _0x148d5c=0x0;_0x390bc8['coins'][_0x429101(0x109)](_0x5c66ab=>{const _0x5b137f=_0x429101;_0x148d5c+=_0x5c66ab[_0x5b137f(0xc9)]*_0x5c66ab[_0x5b137f(0x1c2)];}),_0x57853b[_0x5d3b4e[_0x429101(0x228)]-_0x4d7fa2-0x1]=_0x148d5c*(_0x2d3163-0x1);});let _0x3f6694=[];_0x56044c=[...config[_0x2fb6f3(0x224)]]||[];let _0x1a65f7=0x0;_0x33c504=0x0,_0x5d3b4e[_0x2fb6f3(0x109)]((_0x31a043,_0x527563)=>{const _0x517f57=_0x2fb6f3;if(_0x56044c[_0x33c504]){const _0x128280=fns[_0x517f57(0x1bb)](_0x56044c[_0x33c504]['date'],_0x517f57(0x14f),new Date()),_0x56a951=fns[_0x517f57(0x1bb)](_0x31a043['date'],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x128280,_0x56a951)){let _0x4832a2=0x0;_0x56044c[_0x33c504][_0x517f57(0xe8)][_0x517f57(0x109)](_0xca47e=>{const _0x132ee6=_0x517f57;!_0x3f6694[_0xca47e[_0x132ee6(0x214)]]?_0x3f6694[_0xca47e[_0x132ee6(0x214)]]=_0xca47e['number']:(_0x4832a2=_0x3f6694[_0xca47e[_0x132ee6(0x214)]],_0x3f6694[_0xca47e['coin']]+=_0xca47e['number']);const _0x3aa1a7=_0x31a043[_0x132ee6(0x1e2)][_0x132ee6(0x211)](_0x53a77c=>_0x53a77c['coin']==_0xca47e[_0x132ee6(0x214)]);(!_0x3aa1a7||_0x3aa1a7[_0x132ee6(0xc9)]==0x0)&&(_0x1a65f7+=(-_0xca47e[_0x132ee6(0xc9)]-_0x4832a2)*_0xca47e[_0x132ee6(0x1c2)]);}),_0x33c504++;}}_0x31a043[_0x517f57(0x1e2)][_0x517f57(0x109)]((_0x295b5a,_0x538eec)=>{const _0x3a2757=_0x517f57;_0x3f6694[_0x295b5a[_0x3a2757(0x214)]]&&(_0x295b5a={..._0x295b5a,'initial':_0x3f6694[_0x295b5a[_0x3a2757(0x214)]]}),_0x31a043[_0x3a2757(0x1e2)][_0x538eec]=_0x295b5a;}),_0x3cd5db[_0x517f57(0x1e3)]({'date':_0x31a043[_0x517f57(0x171)],'eur':_0x31a043[_0x517f57(0x152)],'usd':_0x31a043['usd'],'offset':_0x57853b[_0x527563],'netoffset':_0x1a65f7,'coins':_0x31a043[_0x517f57(0x1e2)]});});}return _0x3cd5db;}function emitPerformance(_0x1a3782){const _0x2a210d=_0x1903e3;_0x1a3782['length']!==0x0?(proxyEmit('performance',_0x1a3782),lastPerformanceEmitted=getDate()):proxyEmit(_0x2a210d(0x107),[]);}function getPerf(_0x36a101,_0x497f0c){const _0x10e319=_0x1903e3;let _0x413946=0x0,_0x56202a=0x0,_0x3d19cd=0x0;_0x36a101[_0x10e319(0x1e2)][_0x10e319(0x109)](_0x9a70e5=>{const _0x3c17c0=_0x10e319;_0x413946+=_0x9a70e5[_0x3c17c0(0xc9)]*_0x9a70e5[_0x3c17c0(0x1c2)];});_0x497f0c&&(_0x413946+=_0x36a101[_0x10e319(0x210)]);if(config[_0x10e319(0xe9)]==='BTC'||config['basecoin']===_0x10e319(0x1c5))_0x56202a=_0x413946*_0x36a101[_0x10e319(0x152)],_0x3d19cd=_0x413946*_0x36a101[_0x10e319(0x131)];else{if(config[_0x10e319(0xe9)]===_0x10e319(0x167)||config['basecoin']===_0x10e319(0x1d9))_0x56202a=_0x413946*_0x36a101['eur']/_0x36a101['usd'],_0x3d19cd=_0x413946;else config[_0x10e319(0xe9)]==='EUR'&&(_0x56202a=_0x413946,_0x3d19cd=_0x413946*_0x36a101['usd']/_0x36a101[_0x10e319(0x152)]);}return[_0x413946,_0x56202a,_0x3d19cd];}function getKPIs(_0x3e72ff,_0x58fc40=_0x1903e3(0x1fa)){const _0x7ee71d=_0x1903e3,_0x1a0cd0=config[_0x7ee71d(0xe9)],_0x3c4e8f=config['balances'],_0x533599=currentCoins,_0x49dcb6=getNormalizedPerformance(),_0x38fb82=_0x3e72ff===_0x7ee71d(0xe9)?_0x1a0cd0:_0x3e72ff===_0x7ee71d(0x21b)||_0x3e72ff===_0x7ee71d(0xe7)?_0x58fc40:_0x7ee71d(0xf7)+_0x1a0cd0,_0x7fe12a=_0x3e72ff==='net-basecoin'?'Net\x20effect':_0x3e72ff===_0x7ee71d(0xe7)?_0x7ee71d(0x142)+_0x38fb82+')':_0x38fb82+_0x7ee71d(0x113),_0x3232eb=_0x3e72ff===_0x7ee71d(0x124)||_0x3e72ff==='net-fiat'?_0x7ee71d(0x123):_0x38fb82+_0x7ee71d(0x15d);let _0x3f423c=0x0;_0x533599[_0x7ee71d(0x109)](_0x59e9f1=>{_0x3f423c+=_0x59e9f1['number']*_0x59e9f1['last'];});if(_0x3e72ff===_0x7ee71d(0x21b)||_0x3e72ff===_0x7ee71d(0xe7)){if(_0x1a0cd0===_0x7ee71d(0x1ba)||_0x1a0cd0===_0x7ee71d(0x1c5))_0x3f423c=_0x3f423c*(_0x58fc40===_0x7ee71d(0x1fa)?_0x3c4e8f[_0x7ee71d(0x152)]:_0x3c4e8f[_0x7ee71d(0x131)]);else{if(_0x1a0cd0===_0x7ee71d(0x167)||_0x1a0cd0===_0x7ee71d(0x1d9))_0x3f423c=_0x3f423c*(_0x58fc40===_0x7ee71d(0x1fa)?_0x3c4e8f[_0x7ee71d(0x152)]/_0x3c4e8f[_0x7ee71d(0x131)]:0x1);else _0x1a0cd0===_0x7ee71d(0x1fa)&&(_0x3f423c=_0x3f423c*(_0x58fc40===_0x7ee71d(0x1fa)?0x1:_0x3c4e8f[_0x7ee71d(0x131)]/_0x3c4e8f[_0x7ee71d(0x152)]));}}let _0x45a23b;if(_0x3f423c!==0x0){if(_0x3e72ff==='basecoin')_0x45a23b=(_0x3f423c/startingBalances[_0x7ee71d(0xe9)]-0x1)*0x64;else{if(_0x58fc40===_0x7ee71d(0x1fa))_0x45a23b=(_0x3f423c/startingBalances[_0x7ee71d(0x152)]-0x1)*0x64;else _0x45a23b=(_0x3f423c/startingBalances[_0x7ee71d(0x131)]-0x1)*0x64;}let _0x104678=0x0;if(startingBalances[_0x7ee71d(0x1e2)])_0x533599['forEach'](_0x307011=>{const _0x221d18=_0x7ee71d;let _0x54c056=startingBalances[_0x221d18(0x1e2)]['find'](_0x177702=>_0x177702[_0x221d18(0x214)]===_0x307011[_0x221d18(0x214)]);if(_0x54c056&&_0x54c056[_0x221d18(0x214)]&&_0x307011['number']!==0x0)_0x104678+=_0x54c056[_0x221d18(0xc9)]*_0x307011[_0x221d18(0x21f)];});let _0x49314f=0x0;if(_0x49dcb6[_0x7ee71d(0x228)]!==0x0){let _0x44d5e6=_0x49dcb6[_0x49dcb6[_0x7ee71d(0x228)]-0x1];_0x49314f=_0x44d5e6['netoffset'];}_0x104678-=_0x49314f;_0x3e72ff==='net-basecoin'&&(_0x45a23b=(_0x3f423c-_0x104678)/startingBalances[_0x7ee71d(0xe9)]*0x64,_0x3f423c=_0x3f423c-_0x104678);if(_0x3e72ff===_0x7ee71d(0xe7)){let _0x320e75=_0x58fc40==='EUR'?startingBalances[_0x7ee71d(0x152)]:startingBalances[_0x7ee71d(0x131)];if(_0x1a0cd0===_0x7ee71d(0x1ba)||_0x1a0cd0==='ETH')_0x104678=_0x58fc40===_0x7ee71d(0x1fa)?_0x104678*_0x3c4e8f[_0x7ee71d(0x152)]:_0x104678*_0x3c4e8f[_0x7ee71d(0x131)];else{if(_0x1a0cd0==='BUSD'||_0x1a0cd0==='USDT')_0x104678=_0x58fc40===_0x7ee71d(0x1fa)?_0x104678*_0x3c4e8f['eur']/_0x3c4e8f[_0x7ee71d(0x131)]:_0x104678;else _0x1a0cd0===_0x7ee71d(0x1fa)&&(_0x104678=_0x58fc40===_0x7ee71d(0x1fa)?_0x104678:_0x104678*_0x3c4e8f['usd']/_0x3c4e8f[_0x7ee71d(0x152)]);}_0x45a23b=(_0x3f423c-_0x104678)/_0x320e75*0x64,_0x3f423c=_0x3f423c-_0x104678;}if(_0x45a23b){if(_0x45a23b<0x64)_0x45a23b=_0x45a23b[_0x7ee71d(0x1f8)](0x2);else{if(_0x45a23b<0x3e8)_0x45a23b=_0x45a23b[_0x7ee71d(0x1f8)](0x1);else _0x45a23b=_0x45a23b['toFixed'](0x0);}}else _0x45a23b=Number('0')[_0x7ee71d(0x1f8)](0x2);if(_0x3f423c){if(Math[_0x7ee71d(0x1eb)](_0x3f423c)<0.000001)_0x3f423c=_0x3f423c[_0x7ee71d(0x1f8)](0x2);else{if(Math[_0x7ee71d(0x1eb)](_0x3f423c)<0.1)_0x3f423c=_0x3f423c[_0x7ee71d(0x1f8)](0x6);else{if(Math[_0x7ee71d(0x1eb)](_0x3f423c)<0x1)_0x3f423c=_0x3f423c[_0x7ee71d(0x1f8)](0x5);else{if(Math[_0x7ee71d(0x1eb)](_0x3f423c)<0xa)_0x3f423c=_0x3f423c['toFixed'](0x4);else{if(Math[_0x7ee71d(0x1eb)](_0x3f423c)<0x64)_0x3f423c=_0x3f423c['toFixed'](0x3);else{if(Math[_0x7ee71d(0x1eb)](_0x3f423c)<0x3e8)_0x3f423c=_0x3f423c[_0x7ee71d(0x1f8)](0x2);else _0x3f423c=_0x3f423c['toFixed'](0x2);}}}}}}else _0x3f423c=Number('0')[_0x7ee71d(0x1f8)](0x2);}else _0x45a23b=Number('0')['toFixed'](0x2);return{'value':_0x3f423c,'change':_0x45a23b,'leftTxt':_0x7fe12a,'rightTxt':_0x3232eb};}async function getStartingBalances(_0x4250e2,_0x9da512=!![]){const _0x4d3086=_0x1903e3;if(_0x4250e2[_0x4d3086(0x228)]!==0x0){const [_0x4b708f,_0x5b1cbe,_0x3457cd]=getPerf(_0x4250e2[0x0],!![]);let _0xfa7cdd=[];config[_0x4d3086(0x164)][_0x4d3086(0x109)](_0x35cd5d=>{const _0x1aba5b=_0x4d3086;let _0xff8c23=0x0,_0x166b2e;config['liquidity']['forEach'](_0x101ae3=>{const _0x507216=_0x14ec;let _0x443561=_0x101ae3[_0x507216(0xe8)][_0x507216(0x211)](_0x5ce0ba=>_0x5ce0ba['coin']==_0x35cd5d['coin']);if(_0x443561){_0xff8c23+=_0x443561[_0x507216(0xc9)];if(!_0x166b2e)_0x166b2e=_0x443561[_0x507216(0x1c2)];}}),_0xfa7cdd['push']({'coin':_0x35cd5d[_0x1aba5b(0x214)],'number':_0xff8c23,'initialprice':_0x166b2e});});const _0x3e8c52={'basecoin':_0x4b708f,'eur':_0x5b1cbe,'usd':_0x3457cd,'coins':_0xfa7cdd};if(_0x9da512)proxyEmit('starting-balances',_0x3e8c52);startingBalances=_0x3e8c52;}}function headlessMode(_0xb82aa9){const _0x2f58c7=_0x1903e3;let _0x4f5b84=_0xb82aa9['portfolio'],_0x19acae=_0xb82aa9[_0x2f58c7(0x1a0)],_0x5229a3=[];for(let _0x3a0fe8 of _0x4f5b84){if(_0x3a0fe8[_0x2f58c7(0x214)]!=config[_0x2f58c7(0xe9)]){if(_0x3a0fe8['delta']>=_0x19acae/0x64){if(_0x3a0fe8[_0x2f58c7(0x11c)])_0x5229a3['push'](_0x3a0fe8);}else{if(_0x3a0fe8['delta']<=-_0x19acae/0x64){if(_0x3a0fe8[_0x2f58c7(0x11c)])_0x5229a3['push'](_0x3a0fe8);}}}}_0x5229a3['length']>0x0&&placeOrder(_0x5229a3);}function notifyBalance(_0x3d0ce1){const _0x46332d=_0x1903e3;let _0x439dcb=_0x3d0ce1['portfolio'],_0x2acb9e=_0x3d0ce1['threshold'],_0x5db7ae=[];for(let _0x32e0a0 of _0x439dcb){if(_0x32e0a0[_0x46332d(0x214)]!=config[_0x46332d(0xe9)]){if(_0x32e0a0[_0x46332d(0x1cc)]>=_0x2acb9e/0x64){if(_0x32e0a0[_0x46332d(0x11c)])_0x5db7ae[_0x46332d(0x1e3)](_0x32e0a0);}else{if(_0x32e0a0['delta']<=-_0x2acb9e/0x64){if(_0x32e0a0['valid'])_0x5db7ae[_0x46332d(0x1e3)](_0x32e0a0);}}}}if(_0x5db7ae[_0x46332d(0x228)]>0x0){let _0xc4bb9a=_0x5db7ae[_0x46332d(0x103)](_0x42efd4=>_0x42efd4[_0x46332d(0x214)]);_0xc4bb9a[_0x46332d(0x1aa)]();let _0x4eee97=_0xc4bb9a[_0x46332d(0x1af)](',\x20');if(!lastCoinsToBalance)logHistory(_0x46332d(0x1cf),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x4eee97;}}function symbolToCoin(_0x38e813){const _0xeffeca=_0x1903e3;let _0x119dc8;if(_0x38e813[_0xeffeca(0x1dc)]('/'+config[_0xeffeca(0xe9)]))_0x119dc8=_0x38e813['replace']('/'+config[_0xeffeca(0xe9)],'');if(_0x38e813[_0xeffeca(0x1dc)](config['basecoin']+'/'))_0x119dc8=_0x38e813[_0xeffeca(0x13b)](config[_0xeffeca(0xe9)]+'/','');return _0x119dc8;}async function unlockOrders(){const _0x59a29e=_0x1903e3;if(allOrdersPlaced&&lockOrders==ORDERS['LOCKED']){logger[_0x59a29e(0x226)](_0x59a29e(0x180)),lockOrders=ORDERS[_0x59a29e(0x11f)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState=_0x59a29e(0x1b4),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger['debug']('2\x20-\x20Orders\x20unlocked');}}async function validateOrders(_0x2a25f9){const _0x4a379f=_0x1903e3;if(_0x2a25f9)validateOrdersState=_0x2a25f9;logger[_0x4a379f(0x226)](_0x4a379f(0x202)+validateOrdersState+_0x4a379f(0x209)+(lockOrders==0x1?_0x4a379f(0x203):lockOrders==0x2?_0x4a379f(0x1bc):'ORDERS.UNLOCKED'));let _0x7ae716=[],_0x3c305c=config[_0x4a379f(0x1df)]==_0x4a379f(0x13f)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x4a379f(0x1ae)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4a379f(0xd9)])return;logger[_0x4a379f(0x226)](_0x4a379f(0x117)+validateOrdersState),lastOrders['forEach'](_0x12971d=>{const _0x10a471=_0x4a379f;let _0x428647=![];_0x12971d[_0x10a471(0x1c7)]>0x0&&(_0x428647=!![]),_0x7ae716[_0x10a471(0x1e3)](_0x428647),_0x428647&&config['ordertype']!=_0x10a471(0x13f)&&logHistory('order',_0x10a471(0x186)+_0x12971d['symbol']+'\x20'+_0x12971d[_0x10a471(0xe3)]+'\x20#'+formatResult(_0x12971d[_0x10a471(0x1c7)],0x8)+'\x20@'+formatResult(_0x12971d[_0x10a471(0x1c2)],0x8));}),_0x7ae716[_0x4a379f(0x109)]((_0x19f921,_0x446789)=>{const _0x1e1e09=_0x4a379f;if(_0x19f921)lastOrders[_0x1e1e09(0x1dd)](_0x446789,0x1);}),persistOpenOrders(lastOrders);const _0x282349=coolingDown?_0x4a379f(0x1d2):_0x4a379f(0x1fe);if(validateOrdersState==_0x4a379f(0x1b4))validateOrdersState=_0x4a379f(0xe0),_0x7ae716['includes'](![])?config[_0x4a379f(0x1df)]=='market'?logHistory(_0x4a379f(0x1cf),_0x4a379f(0x144)):logHistory(_0x4a379f(0x1cf),_0x4a379f(0x213)):await unlockOrders();else{if(validateOrdersState==_0x4a379f(0xe0)){if(_0x7ae716[_0x4a379f(0x1dc)](![])){}else allOrdersPlaced&&(config['ordertype']==_0x4a379f(0x13f)?logHistory(_0x4a379f(0xf4),_0x4a379f(0x122)+_0x282349):logHistory(_0x4a379f(0xf4),_0x4a379f(0x111)+_0x282349),await unlockOrders());}else{if(validateOrdersState==_0x4a379f(0x1b7))_0x7ae716['includes'](![])&&(config[_0x4a379f(0x1df)]==_0x4a379f(0x13f)?logHistory(_0x4a379f(0xf4),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x4a379f(0x1d0)](_0x3c305c*validateOrderInterval/0xea60)+_0x4a379f(0x1e8)+_0x282349):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x4a379f(0x1d0)](_0x3c305c*validateOrderInterval/0xea60)+_0x4a379f(0x1e8)+_0x282349))),await unlockOrders();else{if(validateOrdersState==_0x4a379f(0x13d)){if(config[_0x4a379f(0x1df)]!=_0x4a379f(0x13f))logHistory('success',_0x4a379f(0x17a)+_0x282349);await unlockOrders();}}}}}async function cancelOrders(){const _0x5cbc6b=_0x1903e3;lastOrders[_0x5cbc6b(0x109)](async _0x2039cc=>{const _0x46523e=_0x5cbc6b;try{const _0x1e6038=await exchange[_0x46523e(0xce)](_0x2039cc[_0x46523e(0x166)],_0x2039cc[_0x46523e(0x1e1)]);}catch(_0x2be8a1){if(_0x2be8a1['toString']()['includes']('OrderNotFound')){}else await handleError(_0x2be8a1,_0x46523e(0x161));}});}async function initCoinResults(){const _0x489a87=_0x1903e3;let _0x54591c=[];config[_0x489a87(0x164)][_0x489a87(0x109)](_0x2ea31f=>{const _0x23f977=_0x489a87;if(!_0x2ea31f[_0x23f977(0x121)]&&_0x2ea31f[_0x23f977(0x214)]!=config['basecoin']){let _0x1f7093=dbCoinResults[_0x23f977(0x16b)](_0x23f977(0x1e2))[_0x23f977(0x211)]({'coin':_0x2ea31f[_0x23f977(0x214)]})[_0x23f977(0x200)]();if(!_0x1f7093){const _0x1143cc=currentCoins[_0x23f977(0x211)](_0x53b41a=>_0x53b41a[_0x23f977(0x214)]==_0x2ea31f[_0x23f977(0x214)]),_0x1a79c3=global['ticker'][noslash(_0x2ea31f[_0x23f977(0x1e1)])];let _0x15b2c3=_0x1143cc?_0x1143cc[_0x23f977(0xc9)]:null,_0x35b181=_0x2ea31f[_0x23f977(0x1e5)]?0x1/_0x1a79c3:_0x1a79c3,_0x274899;config['liquidity']['forEach'](_0xecf5f3=>{const _0x57a3ed=_0x23f977;!_0x274899&&(_0x274899=_0xecf5f3['changes'][_0x57a3ed(0x211)](_0x4ce70c=>_0x4ce70c[_0x57a3ed(0x214)]==_0x2ea31f[_0x57a3ed(0x214)]),_0x274899&&(_0x15b2c3=_0x274899[_0x57a3ed(0xc9)],_0x35b181=_0x274899['price']));}),_0x54591c[_0x23f977(0x1e3)]({'coin':_0x2ea31f[_0x23f977(0x214)],'number':_0x15b2c3,'price':_0x35b181});}}}),_0x54591c[_0x489a87(0x109)](_0x4e4fff=>{const _0x38b860=_0x489a87,_0x15e53e={'coin':_0x4e4fff[_0x38b860(0x214)],'number':_0x4e4fff[_0x38b860(0xc9)],'breakeven':_0x4e4fff['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x38b860(0x16b)](_0x38b860(0x1e2))[_0x38b860(0x1e3)](_0x15e53e)[_0x38b860(0x1c1)]();});}async function updateCoinResults(_0x5456d1,_0x1963c6=![]){const _0xc1fc1=_0x1903e3;let _0x24ec82,_0x40b834,_0x30654d,_0x1ff704,_0x2adaef,_0x1c11b4,_0x19f321=dbCoinResults[_0xc1fc1(0x16b)](_0xc1fc1(0x1e2))['find']({'coin':_0x5456d1[_0xc1fc1(0x214)]})[_0xc1fc1(0x200)]();!_0x19f321&&await initCoinResults();_0x5456d1[_0xc1fc1(0x1e5)]&&(_0x1c11b4={'filled':_0x5456d1[_0xc1fc1(0x1c7)]*_0x5456d1[_0xc1fc1(0x1c2)],'amount':_0x5456d1[_0xc1fc1(0x1c7)]*_0x5456d1['price'],'side':_0x5456d1['side']=='sell'?'buy':_0xc1fc1(0xdb),'price':0x1/_0x5456d1[_0xc1fc1(0x1c2)]},_0x5456d1={..._0x5456d1,..._0x1c11b4});_0x1963c6?_0x40b834=_0x5456d1[_0xc1fc1(0xe3)]==_0xc1fc1(0x227)?_0x19f321[_0xc1fc1(0xc9)]+_0x5456d1[_0xc1fc1(0x1c7)]:_0x19f321[_0xc1fc1(0xc9)]-_0x5456d1[_0xc1fc1(0x1c7)]:_0x40b834=await getCoinNumber(_0x5456d1[_0xc1fc1(0x214)]);if(_0x5456d1[_0xc1fc1(0x110)]&&_0x5456d1['fee'][_0xc1fc1(0x1d8)]==config['basecoin'])_0x24ec82=_0x5456d1[_0xc1fc1(0x110)][_0xc1fc1(0x18b)];else{if(_0x5456d1['fee']&&_0x5456d1[_0xc1fc1(0x110)][_0xc1fc1(0x1d8)]=='BNB'&&!_0x1963c6)_0x24ec82=_0x5456d1[_0xc1fc1(0x110)]['cost']*global[_0xc1fc1(0x1a8)][_0xc1fc1(0x16d)+config['basecoin']];else _0x24ec82=defaultFee*_0x5456d1[_0xc1fc1(0x1c7)]*_0x5456d1[_0xc1fc1(0x1c2)];}_0x5456d1[_0xc1fc1(0xe3)]==_0xc1fc1(0x227)?(_0x30654d=_0x40b834!=0x0?(_0x19f321[_0xc1fc1(0x19a)]*_0x19f321[_0xc1fc1(0xc9)]+_0x5456d1[_0xc1fc1(0x1c2)]*(_0x40b834-_0x19f321[_0xc1fc1(0xc9)])+_0x24ec82)/_0x40b834:0x0,_0x1ff704=_0x19f321[_0xc1fc1(0x1b0)]):(_0x30654d=_0x40b834!=0x0?(_0x19f321[_0xc1fc1(0x19a)]*_0x19f321[_0xc1fc1(0xc9)]-_0x5456d1['price']*(_0x19f321['number']-_0x40b834)+_0x24ec82)/_0x40b834:0x0,_0x1ff704=_0x19f321['realized']+(_0x5456d1[_0xc1fc1(0x1c2)]-_0x19f321[_0xc1fc1(0x19a)])*_0x5456d1['filled']);_0x2adaef=(_0x5456d1[_0xc1fc1(0x1c2)]-_0x30654d-_0x24ec82/_0x5456d1[_0xc1fc1(0x1c7)])*_0x40b834;let _0x2a2584={'coin':_0x5456d1[_0xc1fc1(0x214)],'number':_0x40b834,'breakeven':formatResult(_0x30654d,0x8),'realized':formatResult(_0x1ff704,0x8),'unrealized':formatResult(_0x2adaef,0x8),'fees':formatResult(_0x19f321[_0xc1fc1(0xf2)]+_0x24ec82,0x8),'sells':_0x5456d1[_0xc1fc1(0xe3)]==_0xc1fc1(0xdb)?_0x19f321[_0xc1fc1(0x19f)]+0x1:_0x19f321['sells'],'buys':_0x5456d1['side']=='buy'?_0x19f321[_0xc1fc1(0x141)]+0x1:_0x19f321[_0xc1fc1(0x141)]};dbCoinResults[_0xc1fc1(0x16b)](_0xc1fc1(0x1e2))['find']({'coin':_0x5456d1['coin']})[_0xc1fc1(0x165)](_0x2a2584)['write']();if(!_0x1963c6){if(_0x5456d1[_0xc1fc1(0x110)]&&_0x5456d1['fee']['currency']==_0xc1fc1(0x16d)){const _0x568e57=currentCoins[_0xc1fc1(0x211)](_0x36edb6=>_0x36edb6[_0xc1fc1(0x214)]==_0xc1fc1(0x16d));if(_0x568e57){let _0x6220fd=dbCoinResults['get'](_0xc1fc1(0x1e2))[_0xc1fc1(0x211)]({'coin':_0xc1fc1(0x16d)})[_0xc1fc1(0x200)]();_0x2a2584={..._0x6220fd,'number':_0x568e57[_0xc1fc1(0xc9)]},dbCoinResults[_0xc1fc1(0x16b)](_0xc1fc1(0x1e2))[_0xc1fc1(0x211)]({'coin':_0xc1fc1(0x16d)})[_0xc1fc1(0x165)](_0x2a2584)[_0xc1fc1(0x1c1)]();}}}}async function placeOrder(_0x4fddc7){const _0x1d3708=_0x1903e3,_0x37ff98=config['ordertype']==_0x1d3708(0x13f)?_0x1d3708(0x13f):_0x1d3708(0x1b6);if(lockOrders==ORDERS[_0x1d3708(0x1d7)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x1d3708(0xd9)],allOrdersPlaced=![],validateOrdersState='initial',lastOrders=[];for(const _0x5d0285 of _0x4fddc7){let _0x4042d5,_0x9c022,_0x559e23,_0x283bbb,_0x5222bd,_0x4fedd7=_0x5d0285[_0x1d3708(0x1e1)];try{const _0xdfae6a=await exchange[_0x1d3708(0x217)]([_0x4fedd7]),_0x49818a=_0xdfae6a[_0x4fedd7];_0x4042d5=_0x5d0285['reverse']?0x1/_0x5d0285[_0x1d3708(0x21f)]:_0x5d0285['last'],_0x9c022=_0x49818a[_0x1d3708(0x1cb)],_0x559e23=_0x49818a[_0x1d3708(0x1b5)];_0x5d0285['reverse']?(_0x283bbb=_0x5d0285['side']==_0x1d3708(0x227)?_0x1d3708(0xdb):'buy',_0x5222bd=Math['abs'](_0x5d0285[_0x1d3708(0x1ca)])/_0x4042d5):(_0x283bbb=_0x5d0285[_0x1d3708(0xe3)],_0x5222bd=Math[_0x1d3708(0x1eb)](_0x5d0285[_0x1d3708(0x1ca)]));_0x37ff98==_0x1d3708(0x1b6)&&(config[_0x1d3708(0x1df)]=='limit-high'&&(_0x4042d5=_0x283bbb=='buy'?_0x9c022:_0x559e23),config['ordertype']==_0x1d3708(0x18c)&&(_0x4042d5=_0x283bbb==_0x1d3708(0x227)?_0x559e23:_0x9c022));_0x5222bd=formatResult(_0x5222bd,0x8),_0x4042d5=formatResult(_0x4042d5,0x8);const _0x41b9c4=_0x283bbb==_0x1d3708(0xdb)?config[_0x1d3708(0x119)]?String['fromCodePoint']('0x'+config[_0x1d3708(0x119)])+'\x20':'':config[_0x1d3708(0x174)]?String['fromCodePoint']('0x'+config[_0x1d3708(0x174)])+'\x20':'',_0x7d57e3=_0x37ff98==_0x1d3708(0x13f)?_0x1d3708(0x153):config[_0x1d3708(0x1df)]==_0x1d3708(0x1f4)?_0x1d3708(0x191):_0x1d3708(0x114),_0x57bb3c=new Date()[_0x1d3708(0xdc)]()[_0x1d3708(0x106)]()[_0x1d3708(0x1b2)](-0x6)+'-'+Math[_0x1d3708(0x143)]()[_0x1d3708(0x106)]()[_0x1d3708(0x1b2)](-0x6);lastOrders['push']({'customId':_0x57bb3c,'symbol':_0x4fedd7,'coin':_0x5d0285['coin'],'side':_0x283bbb,'reverse':_0x5d0285[_0x1d3708(0x1e5)],'filled':0x0});if(_0x37ff98==_0x1d3708(0x13f))logHistory(_0x1d3708(0x11a),''+_0x41b9c4+_0x7d57e3+_0x1d3708(0x1fb)+_0x4fedd7+'\x20'+_0x283bbb+'\x20#'+formatResult(_0x5222bd,0x8)+'\x20@'+formatResult(_0x4042d5,0x8));else logHistory(_0x1d3708(0x11a),''+_0x41b9c4+_0x7d57e3+'\x20order:\x20'+_0x4fedd7+'\x20'+_0x283bbb+'\x20#'+formatResult(_0x5222bd,0x8)+'\x20@'+formatResult(_0x4042d5,0x8));const _0x179699=await exchange['createOrder'](_0x4fedd7,_0x37ff98,_0x283bbb,_0x5222bd,_0x4042d5,{'clientOrderId':_0x57bb3c}),_0x5f2c8d=lastOrders[_0x1d3708(0x228)]-0x1;_0x5f2c8d>=0x0&&lastOrders[_0x5f2c8d][_0x1d3708(0x16e)]==_0x57bb3c&&(lastOrders[_0x5f2c8d]={...lastOrders[_0x5f2c8d],'orderId':_0x179699['id'],'amount':_0x179699[_0x1d3708(0x187)],'price':_0x179699[_0x1d3708(0x1c2)],'fee':_0x179699[_0x1d3708(0x110)]});if(config[_0x1d3708(0x1ef)]!=0x0){let _0x14d8c4=null;if(cooldownTracker[_0x1d3708(0x228)]==config[_0x1d3708(0x1ef)]-0x1)_0x14d8c4=cooldownTracker['shift']();const _0x481884=getTimeStamp();cooldownTracker['push'](_0x481884);if(_0x14d8c4){const _0x34012a=fns[_0x1d3708(0x150)](new Date(_0x481884),new Date(_0x14d8c4));if(_0x34012a<cooldownInterval){logHistory('error',_0x1d3708(0x176)+config[_0x1d3708(0x1ef)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x1d3708(0xe6)+cooldownPeriod/(0xe10*0x3e8)+_0x1d3708(0x185)),coolingDown=!![];break;}}}}catch(_0x1225bc){if(_0x1225bc[_0x1d3708(0x106)]()[_0x1d3708(0x1dc)](_0x1d3708(0xfc)))lastOrders=lastOrders[_0x1d3708(0xe2)](_0x3dc93c=>_0x3dc93c[_0x1d3708(0x1e1)]!=_0x4fedd7),logHistory(_0x1d3708(0x175),_0x1d3708(0x204)+_0x4fedd7);else _0x1225bc['toString']()[_0x1d3708(0x1dc)]('Invalid\x20quantity')?(lastOrders=lastOrders[_0x1d3708(0xe2)](_0x3cd905=>_0x3cd905['symbol']!=_0x4fedd7),logHistory(_0x1d3708(0x175),_0x1d3708(0x10f)+_0x4fedd7)):(lastOrders=lastOrders[_0x1d3708(0xe2)](_0x39bb47=>_0x39bb47[_0x1d3708(0x1e1)]!=_0x4fedd7),await handleError(_0x1225bc,_0x1d3708(0x1fc),_0x4fedd7));}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders['length']>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x353144=config[_0x1d3708(0x1df)]==_0x1d3708(0x13f)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x555f64=_0x1d3708;validateOrders(_0x555f64(0x1b7));},_0x353144);}else unlockOrders();coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x1d3708(0xf4),_0x1d3708(0x102)));}else{if(coolingDown)!config[_0x1d3708(0x140)]&&logHistory(_0x1d3708(0x175),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x1d3708(0x140)]&&(config[_0x1d3708(0x1df)]==_0x1d3708(0x13f)?logHistory('error',_0x1d3708(0x184)):logHistory('error','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x5a4744){const _0x59b719=_0x1903e3,_0x45b2f5={...config,'openOrders':_0x5a4744};let _0x1012cb=dbConfig['get']('bot')[_0x59b719(0x211)]({'botID':botID})[_0x59b719(0x200)]();_0x1012cb&&dbConfig[_0x59b719(0x16b)](_0x59b719(0x1b3))[_0x59b719(0x211)]({'botID':botID})[_0x59b719(0x165)](_0x45b2f5)[_0x59b719(0x1c1)]();}function restoreOrders(){const _0x44f4c8=_0x1903e3;let _0xabbcfb;config[_0x44f4c8(0x1a5)]&&allOpenOrders['forEach'](_0x299973=>{const _0x3f2495=_0x44f4c8,_0x303a52=config[_0x3f2495(0x1a5)]['find'](_0x4a888e=>_0x4a888e['orderId']==_0x299973['id']);_0x303a52&&(lastOrders[_0x3f2495(0x1e3)](_0x303a52),_0xabbcfb=_0x299973['timestamp']);});if(lastOrders[_0x44f4c8(0x228)]>0x0){lockOrders=ORDERS['LOCKED'],validateOrdersState='ongoing',allOrdersPlaced=!![];const _0x496042=new Date()[_0x44f4c8(0xdc)](),_0xbaae54=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(_0xabbcfb+_0xbaae54>_0x496042){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0xabbcfb+_0xbaae54-_0x496042);}else validateOrders(_0x44f4c8(0x1b7));}}async function sendPortfolioTelegram(){const _0x2d5b63=_0x1903e3;if(loading[_0x2d5b63(0x127)]!=0x64){process[_0x2d5b63(0x17c)]({'telegrammsg':_0x2d5b63(0x16a)},_0x31c729=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x18d3a4=['EUR',_0x2d5b63(0x167),_0x2d5b63(0x1d9)],_0x37c581=_0x18d3a4[_0x2d5b63(0x1dc)](config[_0x2d5b63(0xe9)])?0x2:0x8;let _0x760fb5='';if(config[_0x2d5b63(0x189)])_0x760fb5=_0x2d5b63(0x17e)+config[_0x2d5b63(0x170)]+_0x2d5b63(0xf8);else _0x760fb5=_0x2d5b63(0xd5)+botID+'\x20portfolio:</b>\x20\x0a\x0a';const _0x4bc48f=getKPIs(_0x2d5b63(0xe9)),_0x2dedd9=getKPIs(_0x2d5b63(0x124));_0x760fb5+=_0x2d5b63(0x190),_0x760fb5+=_0x4bc48f[_0x2d5b63(0xfb)]+_0x2d5b63(0x1be)+_0x4bc48f[_0x2d5b63(0x200)]+'\x20\x0a',_0x760fb5+=_0x4bc48f[_0x2d5b63(0xf0)]+':\x20'+_0x4bc48f[_0x2d5b63(0x128)]+_0x2d5b63(0x1f9),_0x760fb5+=_0x2dedd9['leftTxt']+':\x20'+_0x2dedd9[_0x2d5b63(0x200)]+'\x20'+config[_0x2d5b63(0xe9)]+'\x0a',_0x760fb5+=_0x2dedd9[_0x2d5b63(0xf0)]+':\x20'+_0x2dedd9[_0x2d5b63(0x128)]+_0x2d5b63(0x1f9),_0x760fb5+='\x0a',_0x760fb5+=_0x2d5b63(0x1e9),_0x760fb5+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x760fb5+=_0x2d5b63(0x1e9),currentCoins[_0x2d5b63(0x109)](_0x875ea3=>{const _0x1afe28=_0x2d5b63;_0x760fb5+=_0x875ea3['coin']['padEnd'](0x7)+'|\x20'+formatPad(_0x875ea3['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x875ea3[_0x1afe28(0x1fd)],0x2,0x6)+'|\x20'+formatPad(_0x875ea3[_0x1afe28(0x1cc)]*0x64,0x2,0x6)+'\x0a';}),_0x760fb5+='</pre>',process[_0x2d5b63(0x17c)]({'telegrammsg':_0x760fb5},_0x3240f2=>{});}function formatPad(_0xa15d40,_0x3e6b66,_0x1a7402){const _0x5c14bd=_0x1903e3,_0x37b88c=formatResultString(_0xa15d40,_0x3e6b66);return _0x37b88c?_0x37b88c[_0x5c14bd(0xf6)](_0x1a7402):''['padStart'](_0x1a7402);}function logHistory(_0x5a3a0a,_0x6e2710,_0x1147a4=''){const _0x5d742d=_0x1903e3;let _0x7e4694={'time':getTimeStamp(),'type':_0x5a3a0a,'event':_0x6e2710};dbLogs[_0x5d742d(0x16b)](_0x5d742d(0x1b1))[_0x5d742d(0x1e3)](_0x7e4694)['write']();if(_0x1147a4=='')_0x1147a4=_0x6e2710;proxyEmit(_0x5d742d(0x1c0),{'log':_0x7e4694,'summary':_0x1147a4}),process[_0x5d742d(0x17c)]({'telegram':{..._0x7e4694,'botname':config['botname'],'showname':config[_0x5d742d(0x189)]}},_0x23724e=>{}),logger[_0x5d742d(0x14b)](''+_0x7e4694[_0x5d742d(0x1c0)]);}function emitHistory(_0x4aedf5={}){const _0x2a2db1=_0x1903e3;Object[_0x2a2db1(0x134)](_0x4aedf5)[_0x2a2db1(0x228)]==0x0&&(_0x4aedf5={'type':[_0x2a2db1(0x11a),'event'],'event':'','page':0x1});if(_0x4aedf5['type'][_0x2a2db1(0x1dc)](_0x2a2db1(0x1c0)))_0x4aedf5['type'][_0x2a2db1(0x1dd)](_0x4aedf5[_0x2a2db1(0x21e)]['indexOf'](_0x2a2db1(0x1c0)),0x1,_0x2a2db1(0x175),_0x2a2db1(0xf4));if(dbLogs[_0x2a2db1(0x223)](_0x2a2db1(0x1b1))[_0x2a2db1(0x200)]()){let _0x4d6bbb=dbLogs[_0x2a2db1(0x16b)](_0x2a2db1(0x1b1))[_0x2a2db1(0xe2)](_0x26105e=>{const _0x2935e8=_0x2a2db1;if(_0x4aedf5[_0x2935e8(0x21e)][_0x2935e8(0x228)]==0x0)return![];else return _0x4aedf5['type'][_0x2935e8(0x1dc)](_0x26105e[_0x2935e8(0x21e)]);})['filter'](_0x4fd5d6=>{const _0x55fd37=_0x2a2db1;if(_0x4aedf5[_0x55fd37(0x1c0)]=='')return!![];else return _0x4fd5d6[_0x55fd37(0x1c0)][_0x55fd37(0xef)]()['includes'](_0x4aedf5[_0x55fd37(0x1c0)][_0x55fd37(0xef)]());})[_0x2a2db1(0x215)](_0x2a2db1(0x12c)),_0x3f40f1=_0x4d6bbb[_0x2a2db1(0x200)]()[_0x2a2db1(0x228)];_0x4d6bbb=_0x4d6bbb[_0x2a2db1(0x1e5)]()[_0x2a2db1(0x1b2)]((_0x4aedf5[_0x2a2db1(0x163)]-0x1)*logPageSize,_0x4aedf5[_0x2a2db1(0x163)]*logPageSize-0x1)[_0x2a2db1(0x1e5)]()[_0x2a2db1(0x200)](),proxyEmit(_0x2a2db1(0x1c6),{'logs':_0x4d6bbb,'total':_0x3f40f1});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x2e52c8){const _0xc62cd7=_0x1903e3;if(dbLogs[_0xc62cd7(0x223)]('logs')[_0xc62cd7(0x200)]()){const _0x35c237=dbLogs['get']('logs')[_0xc62cd7(0x215)](_0xc62cd7(0x12c))[_0xc62cd7(0xe2)](_0x23a3f0=>{const _0x1c1e29=_0xc62cd7;return _0x23a3f0[_0x1c1e29(0x21e)]==_0x1c1e29(0x11a);})[_0xc62cd7(0x200)]();dbLogs[_0xc62cd7(0x16b)](_0xc62cd7(0x1b1))['remove']()[_0xc62cd7(0x1c1)](),dbLogs[_0xc62cd7(0x16b)](_0xc62cd7(0x1b1))['assign'](_0x35c237)['write'](),emitHistory(_0x2e52c8);}}async function pauseBot(_0x239c62=''){const _0x5141c7=_0x1903e3,_0x1549eb=new Date()[_0x5141c7(0xdc)]();if(!lastBotPause)lastBotPause=new Date()[_0x5141c7(0xdc)](),consecutivePauses=0x1;else{if(_0x1549eb-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x5141c7(0x17c)]({'stop':_0x5141c7(0x19c)},_0x4c2e30=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x239c62)_0x239c62+='\x20|\x20';logHistory(_0x5141c7(0x175),_0x239c62+_0x5141c7(0x206)+pauseBotInterval/0xea60+_0x5141c7(0x13c)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x3baefd=_0x1903e3;process[_0x3baefd(0x17c)]({'stop':_0x3baefd(0xc8)},_0x3fd9d2=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x18c6b0,_0x2fedf6){const _0x161864=_0x1903e3;if(_0x18c6b0[_0x161864(0x106)]()['includes'](_0x161864(0x22a)))return logHistory(_0x161864(0x175),'Binance\x20API\x20key\x20is\x20invalid'),![];else{if(_0x18c6b0[_0x161864(0x106)]()['includes']('AuthenticationError'))return logHistory('error',_0x161864(0x1a7)),![];else{if(_0x18c6b0[_0x161864(0x106)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))return logHistory(_0x161864(0x175),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x18c6b0,_0x2fedf6);}}}async function handleError(_0x3ca47b,_0x3f2e38,_0x427e3b=''){const _0x2582ae=_0x1903e3;if(_0x3ca47b[_0x2582ae(0x106)]()[_0x2582ae(0x1dc)](_0x2582ae(0x105)))await pauseBot(_0x2582ae(0x20e));else{if(_0x3ca47b[_0x2582ae(0x106)]()['includes'](_0x2582ae(0x118)))await pauseBot(_0x2582ae(0xdd));else{if(_0x3ca47b['toString']()[_0x2582ae(0x1dc)](_0x2582ae(0x12e)))await pauseBot(_0x2582ae(0x1e6));else{if(_0x3ca47b[_0x2582ae(0x106)]()[_0x2582ae(0x1dc)](_0x2582ae(0x22a)))logHistory('error',_0x3f2e38+_0x2582ae(0x1ed)),logHistory(_0x2582ae(0x175),_0x2582ae(0x229)),await killBot();else{if(_0x3ca47b[_0x2582ae(0x106)]()['includes']('AuthenticationError'))logHistory(_0x2582ae(0x175),_0x3f2e38+'\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance'),logHistory(_0x2582ae(0x175),_0x2582ae(0x229)),await killBot();else{if(_0x3ca47b[_0x2582ae(0x106)]()['includes']('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x2582ae(0x175),_0x3f2e38+_0x2582ae(0x13a)),logHistory(_0x2582ae(0x175),_0x2582ae(0x229)),await killBot();else{if(_0x3ca47b[_0x2582ae(0x106)]()[_0x2582ae(0x1dc)](_0x2582ae(0x218)))logHistory(_0x2582ae(0x175),_0x3f2e38+_0x2582ae(0x198)),logHistory(_0x2582ae(0x175),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3ca47b[_0x2582ae(0x106)]()[_0x2582ae(0x1dc)](_0x2582ae(0x1c4)))await pauseBot(_0x2582ae(0x1d1)),process[_0x2582ae(0x17c)]({'stop':_0x2582ae(0x19c)},_0x261811=>{});else _0x3ca47b['toString']()[_0x2582ae(0x1dc)](_0x2582ae(0x173))?logHistory('error',_0x3f2e38+_0x2582ae(0x1a1)+_0x427e3b):(logger['full'](_0x3f2e38+_0x2582ae(0x178),_0x3ca47b),await pauseBot(_0x2582ae(0x1f3)));}}}}}}}}function formatResult(_0x525cd3,_0x22452a){const _0x351910=_0x1903e3;return parseFloat(_0x525cd3[_0x351910(0x1f8)](_0x22452a));}function formatResultTruncate(_0x250268,_0x499e53){const _0x2ccb34=_0x1903e3;let _0x1fbf9f=formatResultString(_0x250268,0xa),_0xc1297a=_0x1fbf9f[_0x2ccb34(0x201)]('.');return _0xc1297a!=-0x1&&(_0x1fbf9f=_0x1fbf9f['slice'](0x0,_0xc1297a+_0x499e53+0x1)),Number(_0x1fbf9f);}function formatResultString(_0x2b3e84,_0xbaf686){const _0x90ec9b=_0x1903e3;let _0x2b791d;if(!(''+_0x2b3e84)[_0x90ec9b(0x1dc)]('e'))_0x2b791d=+(Math[_0x90ec9b(0x1d0)](_0x2b3e84+'e+'+_0xbaf686)+'e-'+_0xbaf686);else{let _0x383525=(''+_0x2b3e84)['split']('e'),_0x51d05b='';+_0x383525[0x1]+_0xbaf686>0x0&&(_0x51d05b='+'),_0x2b791d=+(Math['round'](+_0x383525[0x0]+'e'+_0x51d05b+(+_0x383525[0x1]+_0xbaf686))+'e-'+_0xbaf686);}return Number(_0x2b791d)['toFixed'](_0xbaf686);}function getServerTime(){const _0x566c73=_0x1903e3,_0x501b06=new Date();return _0x501b06[_0x566c73(0x1b9)]()+'/'+(_0x501b06[_0x566c73(0x1f5)]()+0x1)[_0x566c73(0x106)]()[_0x566c73(0xf6)](0x2,'0')+'/'+_0x501b06[_0x566c73(0xee)]()[_0x566c73(0x106)]()[_0x566c73(0xf6)](0x2,'0')+'\x20'+_0x501b06[_0x566c73(0x1e7)]()['toString']()[_0x566c73(0xf6)](0x2,'0')+':'+_0x501b06[_0x566c73(0x1c8)]()[_0x566c73(0x106)]()['padStart'](0x2,'0')+':'+_0x501b06['getSeconds']()[_0x566c73(0x106)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x33d209=_0x1903e3,_0x4a9beb=shiftedTime();return _0x4a9beb[_0x33d209(0x1b9)]()+'/'+(_0x4a9beb[_0x33d209(0x1f5)]()+0x1)[_0x33d209(0x106)]()[_0x33d209(0xf6)](0x2,'0')+'/'+_0x4a9beb[_0x33d209(0xee)]()[_0x33d209(0x106)]()[_0x33d209(0xf6)](0x2,'0')+'\x20'+_0x4a9beb['getHours']()[_0x33d209(0x106)]()[_0x33d209(0xf6)](0x2,'0')+':'+_0x4a9beb[_0x33d209(0x1c8)]()[_0x33d209(0x106)]()[_0x33d209(0xf6)](0x2,'0')+':'+_0x4a9beb[_0x33d209(0x14c)]()[_0x33d209(0x106)]()['padStart'](0x2,'0');}function getDate(){const _0x10e8b6=_0x1903e3,_0x57daa9=shiftedTime();return _0x57daa9[_0x10e8b6(0x1b9)]()+'/'+(_0x57daa9[_0x10e8b6(0x1f5)]()+0x1)['toString']()[_0x10e8b6(0xf6)](0x2,'0')+'/'+_0x57daa9[_0x10e8b6(0xee)]()[_0x10e8b6(0x106)]()['padStart'](0x2,'0');}function getHour(){const _0xb60d27=_0x1903e3,_0x2a81eb=shiftedTime();return _0x2a81eb[_0xb60d27(0x1e7)]()['toString']()[_0xb60d27(0xf6)](0x2,'0');}function sleep(_0x3c79f7){return new Promise(_0x5e5c58=>setTimeout(_0x5e5c58,_0x3c79f7));}function shiftedTime(){const _0x553d11=_0x1903e3,_0x3afb2b=new Date();let _0x357890=_0x3afb2b;if(config&&config[_0x553d11(0x207)]!==0x0)_0x357890=fns[_0x553d11(0x14d)](_0x3afb2b,{'hours':config[_0x553d11(0x207)]});return _0x357890;}