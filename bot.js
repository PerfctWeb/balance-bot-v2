const _0x53d243=_0x3c04;(function(_0x161976,_0x2ee72d){const _0xd0212c=_0x3c04,_0x4b668d=_0x161976();while(!![]){try{const _0x4be20d=-parseInt(_0xd0212c(0x157))/0x1+-parseInt(_0xd0212c(0x1e6))/0x2*(parseInt(_0xd0212c(0xf2))/0x3)+-parseInt(_0xd0212c(0xab))/0x4+parseInt(_0xd0212c(0x9c))/0x5*(parseInt(_0xd0212c(0x9d))/0x6)+parseInt(_0xd0212c(0x1b0))/0x7+parseInt(_0xd0212c(0xed))/0x8*(-parseInt(_0xd0212c(0x144))/0x9)+parseInt(_0xd0212c(0x134))/0xa;if(_0x4be20d===_0x2ee72d)break;else _0x4b668d['push'](_0x4b668d['shift']());}catch(_0x58b5bd){_0x4b668d['push'](_0x4b668d['shift']());}}}(_0x5e83,0xcfd86));const _0x390b17=function(){let _0x1832d5=!![];return function(_0x4dfe4a,_0x9af78a){const _0x5090cf=_0x1832d5?function(){if(_0x9af78a){const _0x263b93=_0x9af78a['apply'](_0x4dfe4a,arguments);return _0x9af78a=null,_0x263b93;}}:function(){};return _0x1832d5=![],_0x5090cf;};}(),_0x4d650f=_0x390b17(this,function(){const _0x892e29=_0x3c04;return _0x4d650f[_0x892e29(0x199)]()[_0x892e29(0x19a)](_0x892e29(0x13a))[_0x892e29(0x199)]()[_0x892e29(0x178)](_0x4d650f)[_0x892e29(0x19a)](_0x892e29(0x13a));});_0x4d650f();'use strict';const ccxt=require(_0x53d243(0x188)),low=require(_0x53d243(0x167)),FileSync=require(_0x53d243(0x13f)),fs=require('fs'),fns=require(_0x53d243(0xdc)),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require(_0x53d243(0x1dc)),Crypt=require(_0x53d243(0x14c))[_0x53d243(0x149)],util=require('util');let exchange,wsClient;global['ticker']={},global[_0x53d243(0x168)]={};let ws1=[],ws2=null,ws3=[];const exceptions=[_0x53d243(0x185),'HOT/BTC',_0x53d243(0xd8),_0x53d243(0x19e),'NANO/','YOYOW/'];let config,markets,allSymbols,currentCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object['freeze']({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x53d243(0x181)],validateOrdersState,allOpenOrders,lastOrders=[],allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsinitialized=![],pidBalances,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],loadingCanceled=![],loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x53d243(0x18c))[_0x53d243(0x122)],botID=process['argv'][0x2]||_0x53d243(0x8a),pattern=/^[0-9]{3}$/;!pattern[_0x53d243(0x116)](botID)&&(console['log'](_0x53d243(0xd1)+botID+_0x53d243(0x100)),process[_0x53d243(0x193)](0x1));const userID=process['argv'][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x53d243(0x18f),logspath=userID?_0x53d243(0x8e)+userID+'/':_0x53d243(0x8e),loggerfile=fs['createWriteStream'](logspath+_0x53d243(0x1d2),{'flags':'a'});!fs[_0x53d243(0x93)](configpath)&&fs[_0x53d243(0x15e)](configpath);!fs[_0x53d243(0x93)](logspath)&&fs[_0x53d243(0x15e)](logspath);const configfile=configpath+_0x53d243(0x1a5)+botID+'-config.json',logfile=configpath+_0x53d243(0x1a5)+botID+_0x53d243(0xe7),performancefile=configpath+_0x53d243(0x1a5)+botID+_0x53d243(0x169),coinresultsfile=configpath+'bot-'+botID+_0x53d243(0xd9),settingsfile=configpath+_0x53d243(0x137),securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x53d243(0x1dd),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x53d243(0xb8)]({'logs':[]})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x53d243(0xb8)]({'data':[]})[_0x53d243(0xfe)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x53d243(0xb8)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x53d243(0xb8)]({'coins':[]})[_0x53d243(0xfe)]();function _0x3c04(_0x1e8fb4,_0x440ccc){const _0x3c176f=_0x5e83();return _0x3c04=function(_0x4d650f,_0x390b17){_0x4d650f=_0x4d650f-0x85;let _0x5e832d=_0x3c176f[_0x4d650f];return _0x5e832d;},_0x3c04(_0x1e8fb4,_0x440ccc);}const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const wslogger={...DefaultLogger,'silly':(..._0x493b99)=>{},'debug':(..._0x55ce1d)=>{},'notice':(..._0xe942d9)=>{},'info':(..._0x11b509)=>{},'warning':(..._0x4afff8)=>{},'error':async function(..._0xc9ca11){const _0x1252dc=_0x53d243,_0x55e53c=new Date()[_0x1252dc(0x107)]();if(!lastErrorShown||_0x55e53c-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x1252dc(0x107)]();let _0xe42b69='';if(_0xc9ca11[0x0])_0xe42b69+=_0xc9ca11[0x0];if(_0xc9ca11[0x1]&&_0xc9ca11[0x1]['error']&&_0xc9ca11[0x1][_0x1252dc(0x19f)][_0x1252dc(0x176)])_0xe42b69+=_0x1252dc(0xa8)+_0xc9ca11[0x1][_0x1252dc(0x19f)]['message'];logger[_0x1252dc(0x161)](_0x1252dc(0x1a6)+consecutivePauses+_0x1252dc(0x102),''+_0xe42b69),await pauseBot(_0x1252dc(0x1ca));}}};wsClient=new WebsocketClient({'beautify':!![]},wslogger);const crypt=new Crypt({'md':_0x53d243(0x1a2),'rsaStandard':_0x53d243(0x8d)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x3ccef1=>{const _0x52d8e7=_0x53d243;console[_0x52d8e7(0x16f)](_0x3ccef1);},'simple':_0x239ad3=>{const _0x592384=_0x53d243;console[_0x592384(0x16f)](_0x239ad3),loggerfile[_0x592384(0xfe)](util[_0x592384(0x19c)](_0x239ad3)+'\x0a');},'full':async(_0x2cabb3,_0x2ab27f='')=>{const _0x318caf=_0x53d243;let _0xde24a;if(config[_0x318caf(0x15d)])_0xde24a=getTimeStamp()+':\x20'+config[_0x318caf(0x198)]+_0x318caf(0x11a)+_0x2cabb3;else _0xde24a=getTimeStamp()+_0x318caf(0x179)+botID+_0x318caf(0x11a)+_0x2cabb3;console[_0x318caf(0x16f)](_0xde24a),loggerfile[_0x318caf(0xfe)](util[_0x318caf(0x19c)](_0xde24a)+'\x0a'),_0x2ab27f&&(console[_0x318caf(0x16f)](_0x2ab27f),loggerfile['write'](util[_0x318caf(0x19c)](_0x2ab27f)+'\x0a'));}};process['on'](_0x53d243(0x8f),function(_0x1668d8){const _0x1b70ad=_0x53d243;logger[_0x1b70ad(0x17b)](_0x1668d8);});settings[_0x53d243(0x1b5)]!=config['timeshift']&&updateTimeshift(settings[_0x53d243(0x1b5)]);process[_0x53d243(0x145)]({'started':_0x53d243(0xe3)},_0x228954=>{}),initializeProcessListeners();function proxyEmit(_0x6c273d,_0x28156a=null){const _0x1e3147=_0x53d243;process[_0x1e3147(0x145)]({'function':_0x6c273d,'args':_0x28156a},_0x270c7a=>{});}function initializeProcessListeners(){const _0x44fe76=_0x53d243;process['on'](_0x44fe76(0x176),_0x61d9a8=>{const _0x50ad0c=_0x44fe76;switch(Object[_0x50ad0c(0x101)](_0x61d9a8)[0x0]){case _0x50ad0c(0x1b5):_0x61d9a8[_0x50ad0c(0x1b5)]!=undefined&&(settings[_0x50ad0c(0x1b5)]=_0x61d9a8[_0x50ad0c(0x1b5)],updateTimeshift(settings[_0x50ad0c(0x1b5)]));break;case _0x50ad0c(0x1a0):switch(_0x61d9a8[_0x50ad0c(0x1a0)]){case'initclient':initclient();break;case _0x50ad0c(0xd2):toggleBotMode();break;case _0x50ad0c(0x155):emitHistory(_0x61d9a8[_0x50ad0c(0x110)]);break;case _0x50ad0c(0xa3):deleteHistoryAlerts(_0x61d9a8[_0x50ad0c(0x110)]);break;case _0x50ad0c(0x129):getPortfolio(_0x61d9a8['args']);break;case'storeConfiguration':storeConfiguration(_0x61d9a8['args']);break;case _0x50ad0c(0x1db):storeHeadless(_0x61d9a8[_0x50ad0c(0x110)]);break;case'getStartingBalances':getStartingBalances(getNormalizedPerformance());break;case _0x50ad0c(0x1ad):placeOrder(_0x61d9a8[_0x50ad0c(0x110)]);break;case'cancelLoading':cancelLoading();break;case _0x50ad0c(0xde):sendPortfolioTelegram();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x54d594=_0x53d243;if(pidBalances)clearTimeout(pidBalances);if(config[_0x54d594(0x12a)]!=''&&config[_0x54d594(0x12a)]!='***'){await initExchange(config['apiKey'],config[_0x54d594(0x154)]),await initWsEvents();let _0x4e2b2f=await loadSymbols();if(_0x4e2b2f){currentCoins=await getCoins(!![]),await initws();if(lastOrders[_0x54d594(0xdb)]==0x0&&allOpenOrders[_0x54d594(0xdb)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),initbot();}}}async function initExchange(_0x21154b,_0x50f545){const _0x37d2ae=_0x53d243,_0x49bc1f=ccxt[config[_0x37d2ae(0x1d6)]];let _0x1a7c87;switch(config['exchange']){case _0x37d2ae(0x1dc):_0x1a7c87=_0x37d2ae(0x19d);break;case _0x37d2ae(0x1be):_0x1a7c87=_0x37d2ae(0xba);break;default:_0x1a7c87=_0x37d2ae(0x19d);}exchange=new _0x49bc1f({'apiKey':_0x21154b,'secret':_0x50f545,'timeout':0x7530,'enableRateLimit':!![]}),wsClient[_0x37d2ae(0xe4)][_0x37d2ae(0xe1)]=_0x21154b,wsClient[_0x37d2ae(0xe4)][_0x37d2ae(0x15f)]=_0x50f545,wsClient[_0x37d2ae(0xe4)][_0x37d2ae(0x10d)]=_0x1a7c87;let _0x5c4905=config[_0x37d2ae(0x1d6)]==_0x37d2ae(0x1be)?_0x37d2ae(0xd6):'EUR',_0x1e32ce=config[_0x37d2ae(0x108)]==_0x37d2ae(0xe0)?_0x37d2ae(0xe0):'BTC';stablecoins={'eur':{'coin':''+_0x1e32ce+_0x5c4905,'symbol':_0x1e32ce+'/'+_0x5c4905},'usd':{'coin':_0x1e32ce+'USDT','symbol':_0x1e32ce+'/USDT'}};}async function initWsEvents(){const _0x1142d7=_0x53d243;!wsClient['_events']['formattedMessage']&&wsClient['on'](_0x1142d7(0xe5),_0x515df0=>{const _0x36fb5b=_0x1142d7;if(isWsFormattedKline(_0x515df0)){global['ticker'][_0x515df0['kline']['symbol']]=_0x515df0[_0x36fb5b(0x9a)][_0x36fb5b(0xb3)];return;}else{if(isWsFormatted24hrTicker(_0x515df0)){global['change'][_0x515df0[_0x36fb5b(0x9e)]]=_0x515df0[_0x36fb5b(0x18e)];return;}else{if(!Array['isArray'](_0x515df0)&&_0x515df0[_0x36fb5b(0xc1)]['includes'](_0x36fb5b(0xbc))){if(_0x515df0[_0x36fb5b(0xa4)]['includes'](_0x36fb5b(0x195))){updateNumberCoins(_0x515df0);return;}}}}}),!wsClient['_events'][_0x1142d7(0x96)]&&wsClient['on'](_0x1142d7(0x96),async _0x3bd0f5=>{currentCoins=await getCoins(!![]),handleOpenOrders();});}async function loadSymbols(){const _0x241789=_0x53d243;let _0x7498aa;try{markets=await exchange[_0x241789(0x1ab)](),allSymbols=exchange[_0x241789(0x94)][_0x241789(0x1a7)](_0x45e4c8=>{const _0x5eeed4=_0x241789;let _0x21478e=![];return exceptions[_0x5eeed4(0x1e1)](_0x1c40d1=>{const _0x345897=_0x5eeed4;if(_0x45e4c8[_0x345897(0x1b3)](_0x1c40d1))_0x21478e=!![];}),!_0x21478e;}),_0x7498aa=!![];}catch(_0x188c07){await handleError(_0x188c07,_0x241789(0x1e5)),_0x7498aa=![];}return _0x7498aa;}async function initbot(){while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();if(recreationNeeded)await recreateCoinResults();}async function initclient(){const _0xe16489=_0x53d243;proxyEmit(_0xe16489(0x132),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xe16489(0x130),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x558ca3=getNormalizedPerformance();emitPerformance(_0x558ca3),await getStartingBalances(_0x558ca3);}async function toggleBotMode(){const _0x11f11d=_0x53d243;let _0x4cda42=dbConfig[_0x11f11d(0x1bc)](_0x11f11d(0x10a))[_0x11f11d(0x92)]({'botID':botID})[_0x11f11d(0xfa)]();if(_0x4cda42){const _0x47afb2=!_0x4cda42[_0x11f11d(0xc5)];dbConfig[_0x11f11d(0x1bc)](_0x11f11d(0x10a))[_0x11f11d(0x92)]({'botID':botID})[_0x11f11d(0xee)]({'headless':_0x47afb2})[_0x11f11d(0xfe)](),config[_0x11f11d(0xc5)]=_0x47afb2,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2b31a5=_0x53d243;process[_0x2b31a5(0x145)]({'updatebotmanager':!![]},_0x570f74=>{});}function cleanws(){const _0x103b0a=_0x53d243;wsinitialized=![];ws1&&(ws1[_0x103b0a(0x1e1)](_0x43cca2=>{const _0x14dadb=_0x103b0a;try{wsClient[_0x14dadb(0xb3)](_0x43cca2);}catch(_0x4921f1){}}),ws1=[]);if(ws2){try{wsClient[_0x103b0a(0xb3)](ws2);}catch(_0x42a4af){}ws2=null;}ws3&&(ws3['forEach'](_0x26a7f8=>{const _0x2f3090=_0x103b0a;try{wsClient[_0x2f3090(0xb3)](_0x26a7f8);}catch(_0x19ee4d){}}),ws3=[]);}async function initws(){const _0x26731d=_0x53d243;cleanws();let _0x598516=[];currentCoins['forEach'](_0x131743=>{const _0x4832d3=_0x3c04;if(_0x131743[_0x4832d3(0x98)]!=config[_0x4832d3(0x108)])_0x598516[_0x4832d3(0xf4)](_0x131743[_0x4832d3(0x9e)]);});if(!_0x598516[_0x26731d(0x1b3)](stablecoins[_0x26731d(0xa1)]['symbol']))_0x598516[_0x26731d(0xf4)](stablecoins[_0x26731d(0xa1)][_0x26731d(0x9e)]);if(!_0x598516[_0x26731d(0x1b3)](stablecoins[_0x26731d(0x1e4)][_0x26731d(0x9e)]))_0x598516[_0x26731d(0xf4)](stablecoins[_0x26731d(0x1e4)][_0x26731d(0x9e)]);if(!_0x598516[_0x26731d(0x1b3)](_0x26731d(0x1a3)+config['basecoin']))_0x598516[_0x26731d(0xf4)](_0x26731d(0x1a3)+config[_0x26731d(0x108)]);try{_0x598516['forEach']((_0x2680c4,_0x556be6)=>{const _0x14aeeb=_0x26731d;ws1[_0x556be6]=wsClient[_0x14aeeb(0x1cc)](noslash(_0x2680c4),'1m'),ws3[_0x556be6]=wsClient['subscribeSymbol24hrTicker'](noslash(_0x2680c4),_0x14aeeb(0x195));}),ws2=wsClient[_0x26731d(0x87)]();}catch(_0x5c473b){await handleError(_0x5c473b,_0x26731d(0x13d));}let _0x584098,_0x3763d2=0x0;loading[_0x26731d(0xb1)]=[];let _0x324b98=0x0;_0x598516[_0x26731d(0x1e1)](_0x2d88a8=>{const _0x12af4c=_0x26731d;loading[_0x12af4c(0xb1)][_0x12af4c(0xf4)](_0x2d88a8);}),loadingCanceled=![];let _0x4a6a03=![];while(_0x584098!=_0x598516[_0x26731d(0xdb)]){_0x584098=0x0,_0x598516[_0x26731d(0x1e1)](_0x3bb0b1=>{const _0x2dea6e=_0x26731d;global[_0x2dea6e(0x1b9)][noslash(_0x3bb0b1)]&&(loading[_0x2dea6e(0xb1)]=loading[_0x2dea6e(0xb1)][_0x2dea6e(0x1a7)](_0x33d069=>_0x33d069!=_0x3bb0b1),_0x584098++);}),loading['progress']=Math[_0x26731d(0x1bd)](_0x584098/_0x598516[_0x26731d(0xdb)]*0x64);loading[_0x26731d(0x1ae)]!=0x64&&(_0x324b98>0x1e*0x5&&(loading[_0x26731d(0x153)]=!![],emitLoadingProgress()),_0x324b98>0x3c*0x5&&!_0x4a6a03&&(_0x4a6a03=!![],logHistory(_0x26731d(0x19f),_0x26731d(0x1e0)+loading[_0x26731d(0xb1)][_0x26731d(0x1d9)](',\x20')+_0x26731d(0xe2)),logHistory(_0x26731d(0x19f),'Pausing\x20for\x20'+pauseBotInterval/0xea60+_0x26731d(0xac)),await sleep(pauseBotInterval),process[_0x26731d(0x145)]({'stop':_0x26731d(0x127)},_0x49dbaf=>{})));if(loadingCanceled){loading[_0x26731d(0xce)]=!![],emitLoadingProgress();break;}else _0x584098!=_0x3763d2&&(_0x3763d2=_0x584098,emitLoadingProgress()),_0x324b98++,await sleep(0xc8);}_0x4a6a03&&logHistory(_0x26731d(0x194),_0x26731d(0xbf));if(_0x584098==_0x598516[_0x26731d(0xdb)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x2d83ba=_0x53d243;proxyEmit(_0x2d83ba(0xb7),loading);}async function getFiat(){const _0x3e0b79=_0x53d243;let _0x2c930b=0x0,_0x5cd6fe=0x0;try{_0x2c930b=global[_0x3e0b79(0x1b9)][stablecoins['eur'][_0x3e0b79(0x98)]],_0x5cd6fe=global[_0x3e0b79(0x1b9)][stablecoins['usd'][_0x3e0b79(0x98)]];}catch(_0x1450c1){await handleError(_0x1450c1,_0x3e0b79(0xaf));}return{'eur':Number(_0x2c930b),'usd':Number(_0x5cd6fe)};}function setStartDatePerformance(){const _0x2a55d1=_0x53d243;if(config&&config[_0x2a55d1(0x1b2)][0x0][_0x2a55d1(0x131)][_0x2a55d1(0xdb)]!=0x0){const _0x45e3d5=config[_0x2a55d1(0x1b2)][0x0][_0x2a55d1(0x131)];dbPerformance[_0x2a55d1(0x1bc)](_0x2a55d1(0xc0))['find']({'date':config[_0x2a55d1(0x10e)]})['assign']({'coins':_0x45e3d5})[_0x2a55d1(0xfe)]();}}async function recreateCoinResults(){const _0x3dbea3=_0x53d243;let _0x50b986,_0x2eecb8=[];try{const _0x4e3300=fns[_0x3dbea3(0x19c)](fns[_0x3dbea3(0x1d4)](config[_0x3dbea3(0x10e)][_0x3dbea3(0xbd)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x129158 of currentCoins){if(_0x129158[_0x3dbea3(0x98)]!=config[_0x3dbea3(0x108)]){let _0x5d931f=0x0,_0x29ed37,_0x1af4b6;_0x50b986=await getAllEventOrders(_0x129158['symbol']);if(_0x50b986[_0x3dbea3(0xdb)]>0x0)_0x50b986[_0x3dbea3(0x1e1)](_0x47a23d=>{const _0x3f32d3=_0x3dbea3,_0x19862a=_0x129158[_0x3f32d3(0x9e)]['includes'](config[_0x3f32d3(0x108)]+'/');_0x2eecb8[_0x3f32d3(0xf4)]({'datetime':_0x47a23d[_0x3f32d3(0x1de)],'coin':_0x129158[_0x3f32d3(0x98)],'symbol':_0x129158['symbol'],'side':_0x47a23d['side'],'reverse':_0x19862a,'amount':formatResult(_0x47a23d[_0x3f32d3(0xb2)],0x8),'filled':formatResult(_0x47a23d[_0x3f32d3(0xb2)],0x8),'price':formatResult(_0x47a23d[_0x3f32d3(0xfb)],0x8)}),_0x5d931f=_0x47a23d['side']==_0x3f32d3(0x12f)?_0x5d931f+_0x47a23d[_0x3f32d3(0xb2)]:_0x5d931f-_0x47a23d[_0x3f32d3(0xb2)];if(!_0x1af4b6)_0x1af4b6=_0x47a23d['price'];});_0x29ed37=_0x129158['number']-_0x5d931f;let _0x16345c;config[_0x3dbea3(0x1b2)][_0x3dbea3(0x1e1)](_0x34bcfb=>{const _0x2580de=_0x3dbea3;!_0x16345c&&(_0x16345c=_0x34bcfb[_0x2580de(0x131)][_0x2580de(0x92)](_0x58afab=>_0x58afab[_0x2580de(0x98)]==_0x129158['coin']),_0x16345c&&(_0x29ed37=_0x16345c['number'],_0x1af4b6=_0x16345c['price']));});let _0x24f1ed=dbCoinResults[_0x3dbea3(0x1bc)](_0x3dbea3(0x85))[_0x3dbea3(0x92)]({'coin':_0x129158['coin']})[_0x3dbea3(0xfa)]();_0x24f1ed={'coin':_0x129158[_0x3dbea3(0x98)],'number':_0x29ed37,'breakeven':_0x1af4b6,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x3dbea3(0x1bc)](_0x3dbea3(0x85))['find']({'coin':_0x129158[_0x3dbea3(0x98)]})[_0x3dbea3(0xee)](_0x24f1ed)[_0x3dbea3(0xfe)]();}}_0x2eecb8[_0x3dbea3(0x1cf)]((_0x2de6c7,_0x43d852)=>_0x2de6c7[_0x3dbea3(0x1de)]>_0x43d852['datetime']?0x1:_0x43d852[_0x3dbea3(0x1de)]>_0x2de6c7[_0x3dbea3(0x1de)]?-0x1:0x0);let _0x59b3c8=0x0;for(let _0x482ace of _0x2eecb8){await updateCoinResults(_0x482ace,!![]);}}catch(_0xf1b9d1){await handleError(_0xf1b9d1,_0x3dbea3(0x182));}}async function getAllEventOrders(_0x18cf54){const _0x4674cb=_0x53d243;let _0x3858b5=[],_0x5e82ff=dbLogs[_0x4674cb(0x1bc)](_0x4674cb(0x105))['filter'](_0x343387=>{const _0x12766e=_0x4674cb,_0x114707=_0x343387['event']['toLowerCase']();return _0x114707[_0x12766e(0x1b3)](_0x18cf54[_0x12766e(0x1da)]())&&(_0x114707['includes'](_0x12766e(0xca))&&_0x114707['includes'](_0x12766e(0x143))||_0x114707[_0x12766e(0x1b3)]('filled')&&_0x114707[_0x12766e(0x1b3)](_0x12766e(0x143)));})['sortBy'](_0x4674cb(0xda))['value']();return _0x5e82ff['forEach'](_0x1cb593=>{const _0x17f561=_0x4674cb,_0x390cca=_0x1cb593['event'][_0x17f561(0x1b3)](_0x17f561(0x189))?_0x17f561(0x189):'buy',_0x1178b4=/#([0-9]|\.)+\s/i,_0x594b74=Number(_0x1178b4[_0x17f561(0xb0)](_0x1cb593[_0x17f561(0xa2)])[0x0][_0x17f561(0x12c)](0x1)),_0xcf6f4=/@([0-9]|\.)+$/i,_0x5580be=Number(_0xcf6f4[_0x17f561(0xb0)](_0x1cb593[_0x17f561(0xa2)])[0x0][_0x17f561(0x12c)](0x1));_0x3858b5['push']({'datetime':_0x1cb593[_0x17f561(0xda)],'coin':symbolToCoin(_0x18cf54),'symbol':_0x18cf54,'side':_0x390cca,'amount':_0x594b74,'filled':_0x594b74,'price':_0x5580be});}),_0x3858b5;}async function getAllOrders(_0x54b069,_0x62b9e9){const _0x2ddbaf=_0x53d243;let _0x1ab3b7=[];while(_0x62b9e9<exchange[_0x2ddbaf(0x16c)]()){const _0x119852=0x1f4,_0x42141d=await exchange[_0x2ddbaf(0x14a)](_0x54b069,_0x62b9e9,_0x119852);if(_0x42141d[_0x2ddbaf(0xdb)])_0x62b9e9=_0x42141d[_0x42141d[_0x2ddbaf(0xdb)]-0x1][_0x2ddbaf(0x160)]+0x1,_0x1ab3b7=_0x1ab3b7[_0x2ddbaf(0x1bb)](_0x42141d);else break;}return _0x1ab3b7;}async function validate24hChanges(){const _0x3b44a8=_0x53d243;let _0x1f2286;for(const _0x5ab368 of currentCoins){if(_0x5ab368[_0x3b44a8(0x98)]!=config[_0x3b44a8(0x108)]){let _0x17d3f6;_0x5ab368[_0x3b44a8(0x174)]?_0x17d3f6=formatResult((0x1/(global['change'][noslash(_0x5ab368[_0x3b44a8(0x9e)])]/0x64+0x1)-0x1)*0x64,0x3):_0x17d3f6=global[_0x3b44a8(0x168)][noslash(_0x5ab368['symbol'])],_0x17d3f6<config['change24h']&&(logHistory(_0x3b44a8(0x19f),_0x5ab368[_0x3b44a8(0x98)]+'\x20has\x20a\x2024h\x20drop\x20of\x20'+_0x17d3f6+'%'),logHistory(_0x3b44a8(0x19f),_0x3b44a8(0xb6)),logHistory(_0x3b44a8(0x19f),_0x3b44a8(0xf1)),await storeHeadless({'headless':![]}));}}}async function oneTimeMigration(){const _0x504c3c=_0x53d243;let _0x4a2b46=dbLogs[_0x504c3c(0x1bc)](_0x504c3c(0x122))[_0x504c3c(0xfa)]();if(_0x4a2b46!='2.3.5'){dbLogs[_0x504c3c(0x186)]('version','2.3.5')['write']();let _0x4b283b=[];const _0x34c2f7=dbLogs[_0x504c3c(0x1bc)](_0x504c3c(0x105))[_0x504c3c(0xfa)]();_0x34c2f7[_0x504c3c(0x1e1)](_0x3cb97f=>{const _0x457acb=_0x504c3c;_0x4b283b[_0x457acb(0xf4)]({'time':_0x3cb97f[_0x457acb(0xda)],'type':_0x3cb97f[_0x457acb(0x1b4)],'event':_0x3cb97f['event']});}),dbLogs[_0x504c3c(0x1bc)](_0x504c3c(0x105))['assign'](_0x4b283b)[_0x504c3c(0xfe)]();}let _0x35db6a=dbConfig[_0x504c3c(0x1bc)](_0x504c3c(0x122))[_0x504c3c(0xfa)]();if(_0x35db6a!=_0x504c3c(0x1d3)){dbConfig[_0x504c3c(0x186)]('version',_0x504c3c(0x1d3))[_0x504c3c(0xfe)]();let _0x1c34d7=dbConfig[_0x504c3c(0x1bc)]('bot')[_0x504c3c(0x92)]({'botID':botID})['value']();if(_0x1c34d7){let _0x1ab130=[];_0x1c34d7[_0x504c3c(0x13b)][_0x504c3c(0x1e1)](_0x5df0c1=>{const _0x25e711=_0x504c3c;_0x1ab130[_0x25e711(0xf4)]({'coin':_0x5df0c1[_0x25e711(0x98)],'number':_0x5df0c1[_0x25e711(0x113)],'price':_0x5df0c1[_0x25e711(0x141)]}),delete _0x5df0c1['startnumber'],delete _0x5df0c1['startprice'];});if(_0x1ab130[_0x504c3c(0xdb)]!==0x0)fs[_0x504c3c(0x1d5)](configbackuppath+(_0x504c3c(0x183)+botID+_0x504c3c(0x9b)),JSON[_0x504c3c(0x14e)](_0x1ab130,null,0x4),function(_0x218667){if(_0x218667){}});const _0x8a8f1f=(_0x4d43f0,_0x2ee2a8)=>{const _0x45e486=_0x504c3c;let _0x120c00=[];_0x2ee2a8['forEach'](_0x1a7522=>{const _0x360598=_0x3c04,_0x4cc9b6=_0x4d43f0[_0x360598(0x92)](_0x22a1de=>_0x22a1de['coin']==_0x1a7522[_0x360598(0x98)]);if(!_0x4cc9b6)_0x120c00[_0x360598(0xf4)](_0x1a7522);});let _0x226e9d=[];return _0x4d43f0[_0x45e486(0x1e1)](_0x2eb32f=>{const _0x3c3252=_0x45e486,_0xa256df=_0x2ee2a8[_0x3c3252(0x92)](_0x374cd1=>_0x374cd1[_0x3c3252(0x98)]==_0x2eb32f['coin']);if(!_0xa256df||_0xa256df[_0x3c3252(0xd3)]==0x0&&_0x2eb32f[_0x3c3252(0xd3)]!=0x0)_0x226e9d[_0x3c3252(0xf4)](_0x2eb32f);}),{'missingDay1':_0x120c00,'notInDay2':_0x226e9d};},_0x10089c=dbPerformance[_0x504c3c(0x1bc)](_0x504c3c(0xc0))[_0x504c3c(0xcc)]()[_0x504c3c(0xfa)]();if(_0x10089c[_0x504c3c(0xdb)]>0x1){const {missingDay1:_0xd0b75d,notInDay2:_0x4fde6c}=_0x8a8f1f(_0x1ab130,_0x10089c[0x1][_0x504c3c(0x85)]);_0x1ab130=[..._0x1ab130,..._0xd0b75d],_0x4fde6c['forEach'](_0x5bf6a3=>{const _0x43a64b=_0x504c3c;let _0x5a9e56=_0x1ab130['findIndex'](_0x2dfdf7=>_0x2dfdf7[_0x43a64b(0x98)]==_0x5bf6a3[_0x43a64b(0x98)]);_0x5a9e56!=-0x1&&_0x1ab130[_0x43a64b(0x95)](_0x5a9e56,0x1);});}_0x1ab130[_0x504c3c(0x1cf)]((_0x390ee0,_0x4f3af4)=>_0x390ee0[_0x504c3c(0x98)]>_0x4f3af4['coin']?0x1:_0x4f3af4[_0x504c3c(0x98)]>_0x390ee0['coin']?-0x1:0x0);let _0x534ad3=[{'date':_0x1c34d7[_0x504c3c(0x10e)],'changes':_0x1ab130}];_0x10089c[_0x504c3c(0xdb)]>0x2&&_0x10089c['forEach']((_0x5623b4,_0x4d31b9)=>{const _0x28030d=_0x504c3c;if(_0x4d31b9>0x0&&_0x4d31b9<_0x10089c[_0x28030d(0xdb)]-0x1){const {missingDay1:_0x21e41a,notInDay2:_0xc9529f}=_0x8a8f1f(_0x10089c[_0x4d31b9]['coins'],_0x10089c[_0x4d31b9+0x1][_0x28030d(0x85)]);_0x1ab130=[],(_0x21e41a[_0x28030d(0xdb)]!=0x0||_0xc9529f[_0x28030d(0xdb)]!=0x0)&&(_0x21e41a[_0x28030d(0xdb)]!=0x0&&_0x1ab130[_0x28030d(0xf4)](..._0x21e41a),_0xc9529f[_0x28030d(0xdb)]!=0x0&&(_0xc9529f[_0x28030d(0x1e1)](_0x5b500b=>{const _0x169bfc=_0x28030d;_0x5b500b[_0x169bfc(0xd3)]=-_0x5b500b[_0x169bfc(0xd3)];}),_0x1ab130[_0x28030d(0xf4)](..._0xc9529f)),_0x1ab130[_0x28030d(0x1cf)]((_0x1e0838,_0x50073c)=>_0x1e0838[_0x28030d(0x98)]>_0x50073c[_0x28030d(0x98)]?0x1:_0x50073c[_0x28030d(0x98)]>_0x1e0838[_0x28030d(0x98)]?-0x1:0x0),_0x534ad3[_0x28030d(0xf4)]({'date':_0x10089c[_0x4d31b9+0x1][_0x28030d(0x1a4)],'changes':_0x1ab130}));}}),dbConfig[_0x504c3c(0x1bc)](_0x504c3c(0x10a))['find']({'botID':botID})[_0x504c3c(0xee)]({..._0x1c34d7,'liquidity':_0x534ad3})[_0x504c3c(0xfe)]();}}config=getConfiguration(botID);let _0xd53972=dbPerformance[_0x504c3c(0x1bc)](_0x504c3c(0x122))['value']();_0xd53972!='2.3.5'&&(dbPerformance[_0x504c3c(0x186)](_0x504c3c(0x122),_0x504c3c(0x1d3))[_0x504c3c(0xfe)](),setStartDatePerformance());let _0x5cb000=dbCoinResults[_0x504c3c(0x1bc)](_0x504c3c(0x122))[_0x504c3c(0xfa)]();if(_0x5cb000!=_0x504c3c(0x86)){dbCoinResults['set']('version',_0x504c3c(0x86))[_0x504c3c(0xfe)]();let _0x595f28=dbCoinResults[_0x504c3c(0x1bc)]('coins')[_0x504c3c(0xfa)]();if(_0x595f28[_0x504c3c(0xdb)]!=0x0)recreationNeeded=!![];}}function getConfiguration(_0x3f1ba2){const _0x345e20=_0x53d243;let _0x512339=dbConfig['get'](_0x345e20(0x10a))[_0x345e20(0x92)]({'botID':_0x3f1ba2})[_0x345e20(0xfa)]();if(_0x512339){let _0x1466a6=![];typeof _0x512339[_0x345e20(0x1a8)]==_0x345e20(0x1c2)&&(_0x512339={..._0x512339,'threshold':Number(_0x512339[_0x345e20(0x1a8)])},_0x1466a6=!![]),_0x512339['change24h']==null&&(_0x512339={..._0x512339,'change24h':-0x14},_0x1466a6=!![]),_0x1466a6&&(_0x512339={'botID':_0x512339['botID'],'exchange':_0x512339['exchange'],'apiKey':_0x512339[_0x345e20(0x12a)],'apiSecret':_0x512339[_0x345e20(0x154)],'basecoin':_0x512339['basecoin'],'botname':_0x512339[_0x345e20(0x198)],'showname':_0x512339[_0x345e20(0x15d)],'threshold':_0x512339[_0x345e20(0x1a8)],'ordertype':_0x512339[_0x345e20(0x1af)],'timeout':_0x512339[_0x345e20(0x153)],'startdate':_0x512339[_0x345e20(0x10e)],'recreate':_0x512339['recreate'],'timeshift':_0x512339['timeshift'],'headless':_0x512339[_0x345e20(0xc5)],'cooldown':_0x512339['cooldown'],'change24h':_0x512339[_0x345e20(0x156)],'emojibuy':_0x512339['emojibuy'],'emojisell':_0x512339[_0x345e20(0x18a)],'portfolio':_0x512339[_0x345e20(0x13b)],'liquidity':_0x512339['liquidity']},dbConfig[_0x345e20(0x1bc)](_0x345e20(0x10a))[_0x345e20(0x190)]()[_0x345e20(0xfe)](),dbConfig['get'](_0x345e20(0x10a))[_0x345e20(0xf4)](_0x512339)[_0x345e20(0xfe)]());}else _0x512339={'botID':_0x3f1ba2,'exchange':_0x345e20(0x1dc),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x345e20(0xf6)+_0x3f1ba2,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x345e20(0x1b5)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x512339;}function emittedConfiguration(){const _0x205faa=_0x53d243;let _0x523f9d;if(config[_0x205faa(0x12a)]=='')_0x523f9d={...config,'configstate':_0x205faa(0xe9)};else config[_0x205faa(0x12a)]=='***'?_0x523f9d={...config,'configstate':'recovery'}:_0x523f9d={...config,'apiKey':_0x205faa(0x187),'apiSecret':_0x205faa(0x187)};return _0x523f9d;}function getSettings(){const _0x408079=_0x53d243;return dbSettings['get'](_0x408079(0x91))['value']();}function getSecure(){const _0x5760f1=_0x53d243;return dbSecure[_0x5760f1(0x1bc)]('secure')[_0x5760f1(0xfa)]()||{};}function updateTimeshift(_0x270bc6){const _0x458115=_0x53d243;let _0x1b1436=dbConfig['get'](_0x458115(0x10a))[_0x458115(0x92)]({'botID':botID})[_0x458115(0xfa)]();_0x1b1436&&dbConfig[_0x458115(0x1bc)](_0x458115(0x10a))['find']({'botID':botID})['assign']({'timeshift':_0x270bc6})[_0x458115(0xfe)](),config[_0x458115(0x1b5)]=_0x270bc6,proxyEmit(_0x458115(0x132),emittedConfiguration());}async function storeConfiguration(_0x486420){const _0x5c82c1=_0x53d243;lastCoinsToBalance='',loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x531ac2=dbConfig[_0x5c82c1(0x1bc)](_0x5c82c1(0x10a))[_0x5c82c1(0x92)]({'botID':botID})[_0x5c82c1(0xfa)]();_0x486420={..._0x486420,'apiKey':crypt[_0x5c82c1(0x111)](secure[_0x5c82c1(0x171)],_0x486420[_0x5c82c1(0x12a)])[_0x5c82c1(0x176)],'apiSecret':crypt[_0x5c82c1(0x111)](secure[_0x5c82c1(0x171)],_0x486420['apiSecret'])['message']};if(_0x531ac2){if(_0x486420['apiKey']==_0x5c82c1(0x187))_0x486420[_0x5c82c1(0x12a)]=config[_0x5c82c1(0x12a)];if(_0x486420[_0x5c82c1(0x154)]==_0x5c82c1(0x187))_0x486420[_0x5c82c1(0x154)]=config[_0x5c82c1(0x154)];dbConfig[_0x5c82c1(0x1bc)]('bot')[_0x5c82c1(0x92)]({'botID':botID})['assign'](_0x486420)[_0x5c82c1(0xfe)]();}else dbConfig['get'](_0x5c82c1(0x10a))[_0x5c82c1(0xf4)](_0x486420)[_0x5c82c1(0xfe)](),process['send']({'status':'enabled','live':'running'},_0x2efa32=>{});config={..._0x486420},setStartDatePerformance(),process[_0x5c82c1(0x145)]({'botname':_0x486420[_0x5c82c1(0x198)]},_0x91a261=>{}),updateBotManager();const _0x24ab58=getNormalizedPerformance();getStartingBalances(_0x24ab58),emitPerformance(_0x24ab58),proxyEmit(_0x5c82c1(0x142)),await initCoinResults(),reset();}async function storeHeadless(_0x6b3027){const _0x20a7a1=_0x53d243,_0x380c1b={...config,'headless':_0x6b3027[_0x20a7a1(0xc5)]};let _0x1b0fc3=dbConfig['get'](_0x20a7a1(0x10a))[_0x20a7a1(0x92)]({'botID':botID})[_0x20a7a1(0xfa)]();_0x1b0fc3&&dbConfig[_0x20a7a1(0x1bc)](_0x20a7a1(0x10a))[_0x20a7a1(0x92)]({'botID':botID})[_0x20a7a1(0xee)](_0x380c1b)[_0x20a7a1(0xfe)](),config={..._0x380c1b},updateBotManager(),proxyEmit(_0x20a7a1(0x132),emittedConfiguration());}function noslash(_0x2ae1b7){const _0x228a71=_0x53d243;return _0x2ae1b7[_0x228a71(0xbd)]('/','');}async function updateNumberCoins(_0x2a07b9){const _0x822370=_0x53d243;if(_0x2a07b9[_0x822370(0x97)]&&_0x2a07b9[_0x822370(0x97)]==_0x822370(0x11f)){let _0x5059be=_0x2a07b9[_0x822370(0xd7)],_0x487d72=![];currentCoins[_0x822370(0x1e1)](_0x3f833e=>{const _0x320426=_0x822370;noslash(_0x3f833e[_0x320426(0x9e)])==_0x2a07b9[_0x320426(0x9e)]&&(_0x487d72=!![]);});if(!_0x487d72)return;const _0x365cf4=currentCoins['find'](_0x41f55b=>noslash(_0x41f55b[_0x822370(0x9e)])==_0x2a07b9['symbol']),_0x8a444=_0x1ed9ab=>{const _0x4e2fac=_0x822370;if(_0x365cf4)_0x365cf4[_0x4e2fac(0x15c)]=_0x1ed9ab;};if(_0x5059be==_0x822370(0x1d7))_0x8a444(_0x822370(0x8c));else{if(_0x5059be==_0x822370(0xf7))_0x8a444(_0x822370(0x136)),currentCoins=await getCoins(),await getOpenOrders(),handleOpenOrders();else{if(_0x5059be=='FILLED'){let _0x5e1b2e=![];console['log'](_0x822370(0x106)),console[_0x822370(0x16f)](_0x822370(0x1d8),lastOrders),console[_0x822370(0x16f)](_0x822370(0xc0),_0x2a07b9);if(lastOrders)lastOrders[_0x822370(0x1e1)](async _0x36399d=>{const _0x9a6d48=_0x822370;if(_0x36399d[_0x9a6d48(0xd4)]==_0x2a07b9[_0x9a6d48(0x1c4)]){_0x5e1b2e=!![];if(_0x36399d[_0x9a6d48(0xb2)]==0x0){_0x36399d[_0x9a6d48(0xfb)]=_0x2a07b9[_0x9a6d48(0xf3)]/_0x2a07b9['accumulatedQuantity'],_0x36399d[_0x9a6d48(0xb2)]=_0x2a07b9[_0x9a6d48(0x151)],_0x36399d['fee']={'cost':_0x2a07b9[_0x9a6d48(0xe8)],'currency':_0x2a07b9['commissionAsset']},_0x8a444(_0x9a6d48(0xb2)),await validateOrders();if(lockOrders==ORDERS['LOCKED'])currentCoins=await getCoins();await updateCoinResults(_0x36399d);}}});!_0x5e1b2e&&(_0x8a444(_0x822370(0xb2)),currentCoins=await getCoins(!![]),handleOpenOrders());}}}if(lastBalances){let _0x12c407=JSON[_0x822370(0x1b8)](lastBalances['portfolio']);const _0x4bbc86=_0x12c407[_0x822370(0x92)](_0x1916a9=>noslash(_0x1916a9[_0x822370(0x9e)])==_0x2a07b9[_0x822370(0x9e)]);if(_0x4bbc86){if(_0x5059be==_0x822370(0x1d7))_0x4bbc86[_0x822370(0x15c)]=_0x4bbc86[_0x822370(0x15c)]==_0x822370(0xb2)?_0x822370(0xb2):'open';else{if(_0x5059be==_0x822370(0xf7))_0x4bbc86[_0x822370(0x15c)]=_0x4bbc86['orderstatus']==_0x822370(0xb2)?_0x822370(0xb2):_0x822370(0x136);else _0x5059be==_0x822370(0x106)&&(_0x4bbc86[_0x822370(0x15c)]=_0x822370(0xb2));}}lastBalances={...lastBalances,'portfolio':JSON['stringify'](_0x12c407)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}}async function getCoins(_0x24fe5d=![],_0x2529ea=!![],_0x43b927=config[_0x53d243(0x108)]){const _0x3546e7=_0x53d243;let _0x4ec1d4,_0x137cf0=[],_0x470749=[],_0x1e68c3=[];try{_0x4ec1d4=await exchange[_0x3546e7(0x124)](),mybalances=_0x4ec1d4[_0x3546e7(0x12e)];if(!_0x2529ea)for(const [_0x271644,_0x5ac6d3]of Object['entries'](mybalances)){_0x1e68c3[_0x3546e7(0xf4)](_0x271644);}else config['portfolio'][_0x3546e7(0x1e1)](_0x1f750c=>{const _0x22e83a=_0x3546e7;if(!_0x1f750c[_0x22e83a(0x1c0)])_0x1e68c3['push'](_0x1f750c[_0x22e83a(0x98)]);});if(_0x43b927=='')for(const [_0x3d855a,_0x4694f9]of Object[_0x3546e7(0x1c3)](mybalances)){_0x4694f9[_0x3546e7(0x199)]()!=0x0&&_0x470749[_0x3546e7(0xf4)]({'coin':_0x3d855a});}else{if(_0x24fe5d)await getOpenOrders();let _0x44770d=![];for(const [_0x51c89b,_0x309104]of Object['entries'](mybalances)){if(_0x1e68c3[_0x3546e7(0x1b3)](_0x51c89b)){const _0x1a9d87=config[_0x3546e7(0x13b)]['find'](_0x2940fb=>_0x2940fb['coin']==_0x51c89b),_0x3a74b7=_0x51c89b+'/'+_0x43b927,_0x4497d1=_0x43b927+'/'+_0x51c89b,_0x52eb86=currentCoins[_0x3546e7(0x92)](_0x133132=>_0x133132[_0x3546e7(0x98)]==_0x51c89b);_0x44770d=![];_0x24fe5d&&(_0x44770d=allOpenOrders[_0x3546e7(0x92)](_0x4749f0=>_0x4749f0[_0x3546e7(0x9e)]==_0x1a9d87[_0x3546e7(0x9e)]));if((_0x309104[_0x3546e7(0x199)]()!=0x0||_0x1a9d87)&&(allSymbols[_0x3546e7(0x1b3)](_0x3a74b7)||_0x51c89b==_0x43b927))_0x51c89b!=_0x43b927&&_0x137cf0['push'](_0x3a74b7),_0x470749[_0x3546e7(0xf4)]({'coin':_0x51c89b,'symbol':_0x3a74b7,'reverse':![],'number':Math[_0x3546e7(0x17a)](_0x309104+(_0x1a9d87&&_0x1a9d87[_0x3546e7(0x126)]||0x0),0x0),'orderstatus':_0x24fe5d?_0x44770d?'open':'none':_0x52eb86?_0x52eb86['orderstatus']:_0x3546e7(0x128)});else(_0x309104[_0x3546e7(0x199)]()!=0x0||_0x1a9d87)&&allSymbols[_0x3546e7(0x1b3)](_0x4497d1)&&(_0x51c89b!=_0x43b927&&_0x137cf0[_0x3546e7(0xf4)](_0x4497d1),_0x470749['push']({'coin':_0x51c89b,'symbol':_0x4497d1,'reverse':!![],'number':Math[_0x3546e7(0x17a)](_0x309104+(_0x1a9d87&&_0x1a9d87[_0x3546e7(0x126)]||0x0),0x0),'orderstatus':_0x24fe5d?_0x44770d?_0x3546e7(0x8c):_0x3546e7(0x128):_0x52eb86?_0x52eb86[_0x3546e7(0x15c)]:_0x3546e7(0x128)}));}}}}catch(_0x645345){if(!_0x2529ea){if(_0x645345[_0x3546e7(0x199)]()[_0x3546e7(0x1b3)](_0x3546e7(0x133)))return logHistory(_0x3546e7(0x19f),_0x3546e7(0x125)),![];else{if(_0x645345[_0x3546e7(0x199)]()[_0x3546e7(0x1b3)]('AuthenticationError'))return logHistory(_0x3546e7(0x19f),_0x3546e7(0xbb)),![];else{if(_0x645345[_0x3546e7(0x199)]()[_0x3546e7(0x1b3)](_0x3546e7(0x119)))return logHistory(_0x3546e7(0x19f),_0x3546e7(0x1c5)),![];else await handleError(_0x645345,_0x3546e7(0x12b));}}}else await handleError(_0x645345,_0x3546e7(0x12b));}return _0x470749;}async function getCoinNumber(_0x5a7673){const _0x567480=_0x53d243;let _0x2f3975;try{const _0x44c9e8=await exchange[_0x567480(0x124)]();_0x2f3975=_0x44c9e8[_0x567480(0x12e)][_0x5a7673];}catch(_0x5c90b5){await handleError(_0x5c90b5,_0x567480(0x117));}return _0x2f3975;}async function getOpenOrders(){const _0x418a03=_0x53d243;let _0x1c8e44;allOpenOrders=[];try{for(const _0x171c3c of config['portfolio']){!_0x171c3c[_0x418a03(0x1c0)]&&_0x171c3c[_0x418a03(0x98)]!=config[_0x418a03(0x108)]&&(_0x1c8e44=await exchange[_0x418a03(0x175)](_0x171c3c[_0x418a03(0x9e)]),_0x1c8e44[_0x418a03(0xdb)]>0x0&&allOpenOrders['push'](_0x1c8e44[0x0]));}}catch(_0x35d7e7){await handleError(_0x35d7e7,_0x418a03(0x163));}}async function handleOpenOrders(_0x50dde0=0x0){const _0x555788=_0x53d243;allOpenOrders[_0x555788(0xdb)]==0x0&&lockOrders==ORDERS[_0x555788(0x114)]&&allOrdersPlaced&&(_0x50dde0==0x0?(_0x50dde0++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):validateOrders('no\x20open\x20orders'));}async function getPortfolio(_0x349360){const _0x50e15c=_0x53d243;let _0x38eb58=[],_0x47cd77=[],_0x3015a4,_0x1b0c2b=[],_0xe2b014,_0x17db9c;_0x349360['apiKey']===_0x50e15c(0x187)||_0x349360[_0x50e15c(0x154)]===_0x50e15c(0x187)?(_0xe2b014=config[_0x50e15c(0x12a)],_0x17db9c=config['apiSecret']):(_0xe2b014=_0x349360['apiKey'],_0x17db9c=_0x349360[_0x50e15c(0x154)]);await initExchange(_0xe2b014,_0x17db9c);let _0x3c1548=await loadSymbols();if(_0x3c1548){_0x1b0c2b=await getCoins(![],![],_0x349360[_0x50e15c(0x108)]);if(_0x1b0c2b===![])proxyEmit(_0x50e15c(0x13b),![]);else{if(_0x349360[_0x50e15c(0x108)]=='')proxyEmit(_0x50e15c(0x13b),_0x1b0c2b);else{_0x1b0c2b[_0x50e15c(0x1e1)](_0xce988b=>{const _0x132586=_0x50e15c;if(_0xce988b['coin']!=_0x349360[_0x132586(0x108)])_0x38eb58['push'](_0xce988b[_0x132586(0x9e)]);});try{_0x47cd77=await exchange['fetchTickers'](_0x38eb58);}catch(_0x5a4947){await handleError(_0x5a4947,'getPortfolio()');}_0x1b0c2b[_0x50e15c(0x1e1)](_0x2896a0=>{const _0xf1f6df=_0x50e15c;_0x2896a0[_0xf1f6df(0x98)]!=_0x349360[_0xf1f6df(0x108)]?_0x3015a4=_0x2896a0['reverse']?0x1/_0x47cd77[_0x2896a0[_0xf1f6df(0x9e)]][_0xf1f6df(0xc3)]:_0x47cd77[_0x2896a0[_0xf1f6df(0x9e)]][_0xf1f6df(0xc3)]:_0x3015a4=0x1,_0x2896a0[_0xf1f6df(0xfb)]=formatResult(_0x3015a4,0x8);}),proxyEmit(_0x50e15c(0x13b),_0x1b0c2b);}}}else proxyEmit(_0x50e15c(0x13b),![]);}function checkMinimums(_0x5ca954){const _0x2f1a96=_0x53d243;let _0x30de62=!![];const _0x410711=!_0x5ca954['reverse']?markets[_0x5ca954[_0x2f1a96(0x9e)]][_0x2f1a96(0x165)][_0x2f1a96(0x196)]['min']:markets[_0x5ca954[_0x2f1a96(0x9e)]]['limits'][_0x2f1a96(0xad)][_0x2f1a96(0x8b)],_0x55db49=!_0x5ca954[_0x2f1a96(0x174)]?markets[_0x5ca954[_0x2f1a96(0x9e)]][_0x2f1a96(0x165)][_0x2f1a96(0xad)]['min']:markets[_0x5ca954[_0x2f1a96(0x9e)]][_0x2f1a96(0x165)][_0x2f1a96(0x196)][_0x2f1a96(0x8b)],_0xe69888=markets[_0x5ca954[_0x2f1a96(0x9e)]]['precision'][_0x2f1a96(0x196)];_0x5ca954[_0x2f1a96(0x164)]=formatResultTruncate(_0x5ca954[_0x2f1a96(0x164)],_0xe69888);if(Math[_0x2f1a96(0x19b)](_0x5ca954['trade'])<_0x410711)_0x30de62=![];if(Math[_0x2f1a96(0x19b)](_0x5ca954[_0x2f1a96(0x164)])*_0x5ca954[_0x2f1a96(0xc3)]<_0x55db49)_0x30de62=![];if(_0x5ca954[_0x2f1a96(0x146)]==_0x2f1a96(0x189)){let _0x31846a=config[_0x2f1a96(0x13b)][_0x2f1a96(0x92)](_0x584401=>_0x584401[_0x2f1a96(0x98)]==_0x5ca954[_0x2f1a96(0x98)]);if(_0x31846a[_0x2f1a96(0x126)]>0x0){if(Math[_0x2f1a96(0x19b)](_0x5ca954[_0x2f1a96(0x164)])>_0x5ca954[_0x2f1a96(0xd3)]-_0x31846a[_0x2f1a96(0x126)])_0x30de62=![];}else{if(Math[_0x2f1a96(0x19b)](_0x5ca954[_0x2f1a96(0x164)])>_0x5ca954[_0x2f1a96(0xd3)])_0x30de62=![];}}if(_0x5ca954[_0x2f1a96(0x146)]==_0x2f1a96(0x12f)){let _0x5da56b=config[_0x2f1a96(0x13b)]['find'](_0x5bb797=>_0x5bb797[_0x2f1a96(0x98)]==config[_0x2f1a96(0x108)]),_0x3db595=currentCoins['find'](_0x5e1ced=>_0x5e1ced[_0x2f1a96(0x98)]==config['basecoin']);if(_0x5da56b[_0x2f1a96(0x126)]>0x0){if(Math['abs'](_0x5ca954[_0x2f1a96(0x164)])*_0x5ca954['last']>_0x3db595['number']-_0x5da56b[_0x2f1a96(0x126)])_0x30de62=![];}else{if(Math[_0x2f1a96(0x19b)](_0x5ca954['trade'])*_0x5ca954[_0x2f1a96(0xc3)]>_0x3db595[_0x2f1a96(0xd3)])_0x30de62=![];}}return _0x30de62;}async function getBalances(){const _0x2b083b=_0x53d243;let _0x2e22db=0x0,_0x3fa847;const _0x411a75=config[_0x2b083b(0x1a8)];if(config[_0x2b083b(0xc5)]&&config[_0x2b083b(0x156)]<0x0)await validate24hChanges();currentCoins[_0x2b083b(0x1e1)](_0x1cf452=>{const _0xc3cd05=_0x2b083b;if(_0x1cf452['coin']!=config[_0xc3cd05(0x108)]){let _0x1113c0=global[_0xc3cd05(0x1b9)][noslash(_0x1cf452[_0xc3cd05(0x9e)])];_0x3fa847=_0x1cf452[_0xc3cd05(0x174)]?0x1/_0x1113c0:_0x1113c0;}else _0x3fa847=0x1;let _0x13d2ba=_0x1cf452[_0xc3cd05(0xd3)]*_0x3fa847;_0x2e22db+=_0x13d2ba,_0x1cf452[_0xc3cd05(0xc3)]=formatResult(Number(_0x3fa847),0x8),_0x1cf452[_0xc3cd05(0xfa)]=_0x13d2ba;}),currentCoins['forEach'](_0x89c6b5=>{const _0x56310f=_0x2b083b;let _0x34b8e5=config[_0x56310f(0x13b)]['find'](_0x1c4898=>_0x1c4898[_0x56310f(0x98)]==_0x89c6b5['coin']),_0x5957ea=Number(_0x34b8e5[_0x56310f(0xc2)]),_0xd4c590=_0x89c6b5[_0x56310f(0xfa)]/_0x2e22db*0x64,_0x4ddc94=_0x5957ea*_0x2e22db/0x64/_0x89c6b5['last']-_0x89c6b5[_0x56310f(0xd3)];_0x89c6b5[_0x56310f(0xc2)]=formatResult(_0xd4c590,0x3),_0x89c6b5[_0x56310f(0x17c)]=formatResult(_0x5957ea,0x3),_0x89c6b5[_0x56310f(0x164)]=formatResult(_0x4ddc94,0x8),_0x89c6b5[_0x56310f(0x146)]='',_0x89c6b5[_0x56310f(0x10f)]=![];if(_0x89c6b5[_0x56310f(0x98)]!=config[_0x56310f(0x108)]){if(_0x89c6b5['distribution']>_0x5957ea)_0x89c6b5[_0x56310f(0x146)]=_0x56310f(0x189),_0x89c6b5[_0x56310f(0x10f)]=checkMinimums(_0x89c6b5);else _0x89c6b5[_0x56310f(0xc2)]<_0x5957ea&&(_0x89c6b5['side']='buy',_0x89c6b5['valid']=checkMinimums(_0x89c6b5));}_0x89c6b5[_0x56310f(0xf5)]=_0x89c6b5[_0x56310f(0xc2)]/_0x89c6b5[_0x56310f(0x17c)]-0x1;if(_0x89c6b5['orderstatus']==_0x56310f(0xb2)||_0x89c6b5['orderstatus']==_0x56310f(0x136))_0x89c6b5[_0x56310f(0x15c)]='none';}),currentCoins[_0x2b083b(0x1cf)]((_0x322f83,_0x1531e5)=>_0x322f83[_0x2b083b(0xf5)]<_0x1531e5[_0x2b083b(0xf5)]?0x1:_0x1531e5[_0x2b083b(0xf5)]<_0x322f83[_0x2b083b(0xf5)]?-0x1:0x0);const _0x2e052a=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x2e052a[_0x2b083b(0xa1)],'usd':_0x2e052a[_0x2b083b(0x1e4)],'portfolio':JSON[_0x2b083b(0x14e)](currentCoins),'threshold':_0x411a75},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x411a75});else{if(lockOrders==ORDERS[_0x2b083b(0x181)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x411a75});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x59e7af=_0x53d243;if(!lastBalances)return;let _0x1c776d=[],_0x44bbf9,_0x4e6d87=JSON[_0x59e7af(0x1b8)](lastBalances[_0x59e7af(0x13b)]);_0x4e6d87[_0x59e7af(0x1cf)]((_0x56a142,_0x255d37)=>_0x56a142[_0x59e7af(0x98)]>_0x255d37[_0x59e7af(0x98)]?0x1:_0x255d37[_0x59e7af(0x98)]>_0x56a142[_0x59e7af(0x98)]?-0x1:0x0),_0x4e6d87[_0x59e7af(0x1e1)](_0x2bfb18=>{const _0x335d3c=_0x59e7af;let _0x5d8dbb={'coin':_0x2bfb18[_0x335d3c(0x98)],'number':_0x2bfb18[_0x335d3c(0xd3)],'price':_0x2bfb18['last']};_0x1c776d[_0x335d3c(0xf4)](_0x5d8dbb);});const _0x275a7d=await getFiat();_0x44bbf9={'date':lastBalances['time'][_0x59e7af(0xe6)]('\x20')[0x0],'eur':_0x275a7d[_0x59e7af(0xa1)],'usd':_0x275a7d[_0x59e7af(0x1e4)],'coins':_0x1c776d};let _0x54ef30=dbPerformance[_0x59e7af(0x1bc)](_0x59e7af(0xc0))[_0x59e7af(0x92)]({'date':_0x44bbf9['date']})['value']();_0x54ef30?_0x44bbf9['date']!=config[_0x59e7af(0x10e)]&&dbPerformance[_0x59e7af(0x1bc)](_0x59e7af(0xc0))[_0x59e7af(0x92)]({'date':_0x44bbf9[_0x59e7af(0x1a4)]})['assign'](_0x44bbf9)[_0x59e7af(0xfe)]():dbPerformance[_0x59e7af(0x1bc)](_0x59e7af(0xc0))[_0x59e7af(0xf4)](_0x44bbf9)[_0x59e7af(0xfe)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x34b313=_0x53d243;let _0x34ce6a=[];if(dbPerformance[_0x34b313(0x13e)](_0x34b313(0xc0))[_0x34b313(0xfa)]()){let _0x1f733f=dbPerformance[_0x34b313(0x1bc)](_0x34b313(0xc0))['cloneDeep']()[_0x34b313(0xcf)](_0x34b313(0x1a4))[_0x34b313(0xfa)](),_0x659a93=[...config[_0x34b313(0x1b2)]];_0x659a93[_0x34b313(0x1cf)]((_0x177b8e,_0x14329d)=>_0x177b8e[_0x34b313(0x1a4)]>_0x14329d['date']?-0x1:_0x14329d[_0x34b313(0x1a4)]>_0x177b8e[_0x34b313(0x1a4)]?0x1:0x0);let _0x5e286a=0x1,_0x1d2592=[],_0x3b9351=0x0;_0x1f733f[_0x34b313(0x12c)]()[_0x34b313(0x174)]()['forEach']((_0x59fb28,_0x4d0ced)=>{const _0x100d81=_0x34b313;if(_0x659a93[_0x3b9351]){if(_0x1f733f[_0x1f733f[_0x100d81(0xdb)]-_0x4d0ced]&&_0x659a93[_0x3b9351][_0x100d81(0x1a4)]==_0x1f733f[_0x1f733f[_0x100d81(0xdb)]-_0x4d0ced][_0x100d81(0x1a4)]){if(_0x4d0ced<_0x1f733f['length']){let _0x38342d=0x0,_0x2632ef=0x0;_0x1f733f[_0x1f733f['length']-_0x4d0ced]['coins'][_0x100d81(0x1e1)](_0x3e519b=>{const _0x213ff5=_0x100d81;_0x2632ef+=_0x3e519b[_0x213ff5(0xd3)]*_0x3e519b[_0x213ff5(0xfb)];}),_0x659a93[_0x3b9351][_0x100d81(0x131)]['forEach'](_0x5d6c96=>{const _0x5022f0=_0x100d81;_0x38342d+=_0x5d6c96[_0x5022f0(0xd3)]*_0x5d6c96[_0x5022f0(0xfb)];}),_0x5e286a*=_0x38342d/(_0x2632ef-_0x38342d)+0x1;}_0x3b9351++;}}let _0x7f1f46=0x0;_0x59fb28[_0x100d81(0x85)][_0x100d81(0x1e1)](_0x5da32b=>{const _0x5c3e30=_0x100d81;_0x7f1f46+=_0x5da32b[_0x5c3e30(0xd3)]*_0x5da32b[_0x5c3e30(0xfb)];}),_0x1d2592[_0x1f733f['length']-_0x4d0ced-0x1]=_0x7f1f46*(_0x5e286a-0x1);});let _0x30daba=[];_0x659a93=[...config[_0x34b313(0x1b2)]]||[];let _0x3ec22c=0x0;_0x3b9351=0x0,_0x1f733f[_0x34b313(0x1e1)]((_0x2c610a,_0x467807)=>{const _0x2e5b45=_0x34b313;if(_0x659a93[_0x3b9351]){const _0x468943=fns[_0x2e5b45(0x1b8)](_0x659a93[_0x3b9351]['date'],_0x2e5b45(0x118),new Date()),_0x23ba7c=fns['parse'](_0x2c610a[_0x2e5b45(0x1a4)],_0x2e5b45(0x118),new Date());if(fns[_0x2e5b45(0x1b7)](_0x468943,_0x23ba7c)){let _0x553ffd=0x0;_0x659a93[_0x3b9351]['changes'][_0x2e5b45(0x1e1)](_0x424755=>{const _0x590bc1=_0x2e5b45;!_0x30daba[_0x424755['coin']]?_0x30daba[_0x424755[_0x590bc1(0x98)]]=_0x424755['number']:(_0x553ffd=_0x30daba[_0x424755['coin']],_0x30daba[_0x424755['coin']]+=_0x424755[_0x590bc1(0xd3)]);const _0x5ab4f1=_0x2c610a[_0x590bc1(0x85)][_0x590bc1(0x92)](_0x16222e=>_0x16222e[_0x590bc1(0x98)]==_0x424755[_0x590bc1(0x98)]);(!_0x5ab4f1||_0x5ab4f1['number']==0x0)&&(_0x3ec22c+=(-_0x424755['number']-_0x553ffd)*_0x424755[_0x590bc1(0xfb)]);}),_0x3b9351++;}}_0x2c610a[_0x2e5b45(0x85)]['forEach']((_0x139181,_0x326fef)=>{const _0x325904=_0x2e5b45;_0x30daba[_0x139181[_0x325904(0x98)]]&&(_0x139181={..._0x139181,'initial':_0x30daba[_0x139181[_0x325904(0x98)]]}),_0x2c610a[_0x325904(0x85)][_0x326fef]=_0x139181;}),_0x34ce6a[_0x2e5b45(0xf4)]({'date':_0x2c610a[_0x2e5b45(0x1a4)],'eur':_0x2c610a[_0x2e5b45(0xa1)],'usd':_0x2c610a['usd'],'offset':_0x1d2592[_0x467807],'netoffset':_0x3ec22c,'coins':_0x2c610a['coins']});});}return _0x34ce6a;}function emitPerformance(_0x53e69b){const _0x110a3c=_0x53d243;_0x53e69b[_0x110a3c(0xdb)]!==0x0?(proxyEmit(_0x110a3c(0xff),_0x53e69b),lastPerformanceEmitted=getDate()):proxyEmit(_0x110a3c(0xff),[]);}function getPerf(_0x16ef4d,_0x4b428b){const _0xc73386=_0x53d243;let _0x4136df=0x0,_0x2ca43c=0x0,_0x2fad81=0x0;_0x16ef4d[_0xc73386(0x85)]['forEach'](_0x44f98d=>{const _0x419cdc=_0xc73386;_0x4136df+=_0x44f98d[_0x419cdc(0xd3)]*_0x44f98d['price'];});_0x4b428b&&(_0x4136df+=_0x16ef4d[_0xc73386(0x126)]);if(config[_0xc73386(0x108)]==='BTC'||config['basecoin']===_0xc73386(0xe0))_0x2ca43c=_0x4136df*_0x16ef4d[_0xc73386(0xa1)],_0x2fad81=_0x4136df*_0x16ef4d[_0xc73386(0x1e4)];else{if(config[_0xc73386(0x108)]===_0xc73386(0x1b6)||config['basecoin']===_0xc73386(0xd6))_0x2ca43c=_0x4136df*_0x16ef4d['eur']/_0x16ef4d['usd'],_0x2fad81=_0x4136df;else config[_0xc73386(0x108)]===_0xc73386(0x17e)&&(_0x2ca43c=_0x4136df,_0x2fad81=_0x4136df*_0x16ef4d[_0xc73386(0x1e4)]/_0x16ef4d['eur']);}return[_0x4136df,_0x2ca43c,_0x2fad81];}function getKPIs(_0xaa182c,_0x1bc95e=_0x53d243(0x17e)){const _0x19f3da=_0x53d243,_0x36c028=config[_0x19f3da(0x108)],_0x4ab1cf=config[_0x19f3da(0x130)],_0x19aff8=currentCoins,_0x37f777=getNormalizedPerformance(),_0xcba3bf=_0xaa182c===_0x19f3da(0x108)?_0x36c028:_0xaa182c===_0x19f3da(0xfd)||_0xaa182c===_0x19f3da(0x10c)?_0x1bc95e:_0x19f3da(0xa9)+_0x36c028,_0x2a0643=_0xaa182c==='net-basecoin'?'Net\x20effect':_0xaa182c==='net-fiat'?_0x19f3da(0xa5)+_0xcba3bf+')':_0xcba3bf+_0x19f3da(0x1df),_0x19f9df=_0xaa182c==='net-basecoin'||_0xaa182c===_0x19f3da(0x10c)?_0x19f3da(0x16a):_0xcba3bf+_0x19f3da(0x11d);let _0x42b19a=0x0;_0x19aff8['forEach'](_0x1c64a0=>{const _0x4a92be=_0x19f3da;_0x42b19a+=_0x1c64a0[_0x4a92be(0xd3)]*_0x1c64a0[_0x4a92be(0xc3)];});if(_0xaa182c===_0x19f3da(0xfd)||_0xaa182c===_0x19f3da(0x10c)){if(_0x36c028===_0x19f3da(0x162)||_0x36c028==='ETH')_0x42b19a=_0x42b19a*(_0x1bc95e===_0x19f3da(0x17e)?_0x4ab1cf[_0x19f3da(0xa1)]:_0x4ab1cf[_0x19f3da(0x1e4)]);else{if(_0x36c028==='BUSD'||_0x36c028===_0x19f3da(0xd6))_0x42b19a=_0x42b19a*(_0x1bc95e===_0x19f3da(0x17e)?_0x4ab1cf['eur']/_0x4ab1cf[_0x19f3da(0x1e4)]:0x1);else _0x36c028===_0x19f3da(0x17e)&&(_0x42b19a=_0x42b19a*(_0x1bc95e===_0x19f3da(0x17e)?0x1:_0x4ab1cf[_0x19f3da(0x1e4)]/_0x4ab1cf['eur']));}}let _0x1a96ad;if(_0x42b19a!==0x0){if(_0xaa182c===_0x19f3da(0x108))_0x1a96ad=(_0x42b19a/startingBalances[_0x19f3da(0x108)]-0x1)*0x64;else{if(_0x1bc95e===_0x19f3da(0x17e))_0x1a96ad=(_0x42b19a/startingBalances['eur']-0x1)*0x64;else _0x1a96ad=(_0x42b19a/startingBalances['usd']-0x1)*0x64;}let _0x4f1216=0x0;if(startingBalances[_0x19f3da(0x85)])_0x19aff8[_0x19f3da(0x1e1)](_0x145882=>{const _0x21c1ac=_0x19f3da;let _0x130f6e=startingBalances['coins'][_0x21c1ac(0x92)](_0x380d9f=>_0x380d9f[_0x21c1ac(0x98)]===_0x145882['coin']);if(_0x130f6e&&_0x130f6e[_0x21c1ac(0x98)]&&_0x145882[_0x21c1ac(0xd3)]!==0x0)_0x4f1216+=_0x130f6e[_0x21c1ac(0xd3)]*_0x145882[_0x21c1ac(0xc3)];});let _0x3b2d29=0x0;if(_0x37f777[_0x19f3da(0xdb)]!==0x0){let _0x4c0022=_0x37f777[_0x37f777[_0x19f3da(0xdb)]-0x1];_0x3b2d29=_0x4c0022['netoffset'];}_0x4f1216-=_0x3b2d29;_0xaa182c===_0x19f3da(0xdf)&&(_0x1a96ad=(_0x42b19a-_0x4f1216)/startingBalances['basecoin']*0x64,_0x42b19a=_0x42b19a-_0x4f1216);if(_0xaa182c===_0x19f3da(0x10c)){let _0x3cb9f0=_0x1bc95e===_0x19f3da(0x17e)?startingBalances['eur']:startingBalances['usd'];if(_0x36c028==='BTC'||_0x36c028===_0x19f3da(0xe0))_0x4f1216=_0x1bc95e===_0x19f3da(0x17e)?_0x4f1216*_0x4ab1cf[_0x19f3da(0xa1)]:_0x4f1216*_0x4ab1cf[_0x19f3da(0x1e4)];else{if(_0x36c028===_0x19f3da(0x1b6)||_0x36c028===_0x19f3da(0xd6))_0x4f1216=_0x1bc95e==='EUR'?_0x4f1216*_0x4ab1cf[_0x19f3da(0xa1)]/_0x4ab1cf[_0x19f3da(0x1e4)]:_0x4f1216;else _0x36c028===_0x19f3da(0x17e)&&(_0x4f1216=_0x1bc95e===_0x19f3da(0x17e)?_0x4f1216:_0x4f1216*_0x4ab1cf[_0x19f3da(0x1e4)]/_0x4ab1cf[_0x19f3da(0xa1)]);}_0x1a96ad=(_0x42b19a-_0x4f1216)/_0x3cb9f0*0x64,_0x42b19a=_0x42b19a-_0x4f1216;}if(_0x1a96ad){if(_0x1a96ad<0x64)_0x1a96ad=_0x1a96ad['toFixed'](0x2);else{if(_0x1a96ad<0x3e8)_0x1a96ad=_0x1a96ad['toFixed'](0x1);else _0x1a96ad=_0x1a96ad['toFixed'](0x0);}}else _0x1a96ad=Number('0')[_0x19f3da(0xcb)](0x2);if(_0x42b19a){if(Math[_0x19f3da(0x19b)](_0x42b19a)<0.000001)_0x42b19a=_0x42b19a[_0x19f3da(0xcb)](0x2);else{if(Math['abs'](_0x42b19a)<0.1)_0x42b19a=_0x42b19a['toFixed'](0x6);else{if(Math[_0x19f3da(0x19b)](_0x42b19a)<0x1)_0x42b19a=_0x42b19a['toFixed'](0x5);else{if(Math[_0x19f3da(0x19b)](_0x42b19a)<0xa)_0x42b19a=_0x42b19a[_0x19f3da(0xcb)](0x4);else{if(Math[_0x19f3da(0x19b)](_0x42b19a)<0x64)_0x42b19a=_0x42b19a[_0x19f3da(0xcb)](0x3);else{if(Math[_0x19f3da(0x19b)](_0x42b19a)<0x3e8)_0x42b19a=_0x42b19a[_0x19f3da(0xcb)](0x2);else _0x42b19a=_0x42b19a['toFixed'](0x2);}}}}}}else _0x42b19a=Number('0')[_0x19f3da(0xcb)](0x2);}else _0x1a96ad=Number('0')[_0x19f3da(0xcb)](0x2);return{'value':_0x42b19a,'change':_0x1a96ad,'leftTxt':_0x2a0643,'rightTxt':_0x19f9df};}async function getStartingBalances(_0x5b95b5,_0x3a9eea=!![]){const _0x326fd1=_0x53d243;if(_0x5b95b5[_0x326fd1(0xdb)]!==0x0){const [_0x201265,_0x5ad4dc,_0x692e67]=getPerf(_0x5b95b5[0x0],!![]);let _0x1d501a=[];config[_0x326fd1(0x13b)][_0x326fd1(0x1e1)](_0xb22f6e=>{const _0x285c23=_0x326fd1;let _0x2b7d52=0x0,_0x2be6ce;config['liquidity'][_0x285c23(0x1e1)](_0x1639c3=>{const _0x5d97d9=_0x285c23;let _0x39cb40=_0x1639c3[_0x5d97d9(0x131)][_0x5d97d9(0x92)](_0x2fa148=>_0x2fa148['coin']==_0xb22f6e[_0x5d97d9(0x98)]);if(_0x39cb40){_0x2b7d52+=_0x39cb40[_0x5d97d9(0xd3)];if(!_0x2be6ce)_0x2be6ce=_0x39cb40['price'];}}),_0x1d501a[_0x285c23(0xf4)]({'coin':_0xb22f6e['coin'],'number':_0x2b7d52,'initialprice':_0x2be6ce});});const _0xf5bbca={'basecoin':_0x201265,'eur':_0x5ad4dc,'usd':_0x692e67,'coins':_0x1d501a};if(_0x3a9eea)proxyEmit(_0x326fd1(0xb5),_0xf5bbca);startingBalances=_0xf5bbca;}}function headlessMode(_0x4470b4){const _0xf3b9f4=_0x53d243;let _0x43509d=_0x4470b4[_0xf3b9f4(0x13b)],_0x5c3f98=_0x4470b4[_0xf3b9f4(0x1a8)],_0xf0518e=[];for(let _0x2be1eb of _0x43509d){if(_0x2be1eb[_0xf3b9f4(0x98)]!=config['basecoin']){if(_0x2be1eb[_0xf3b9f4(0xf5)]>=_0x5c3f98/0x64){if(_0x2be1eb[_0xf3b9f4(0x10f)])_0xf0518e['push'](_0x2be1eb);}else{if(_0x2be1eb[_0xf3b9f4(0xf5)]<=-_0x5c3f98/0x64){if(_0x2be1eb[_0xf3b9f4(0x10f)])_0xf0518e[_0xf3b9f4(0xf4)](_0x2be1eb);}}}}_0xf0518e[_0xf3b9f4(0xdb)]>0x0&&placeOrder(_0xf0518e);}function notifyBalance(_0x18b7c6){const _0x1d49ff=_0x53d243;let _0x3a13bc=_0x18b7c6[_0x1d49ff(0x13b)],_0x5329d8=_0x18b7c6[_0x1d49ff(0x1a8)],_0x2c22d2=[];for(let _0x3aad0b of _0x3a13bc){if(_0x3aad0b[_0x1d49ff(0x98)]!=config['basecoin']){if(_0x3aad0b[_0x1d49ff(0xf5)]>=_0x5329d8/0x64){if(_0x3aad0b[_0x1d49ff(0x10f)])_0x2c22d2[_0x1d49ff(0xf4)](_0x3aad0b);}else{if(_0x3aad0b[_0x1d49ff(0xf5)]<=-_0x5329d8/0x64){if(_0x3aad0b['valid'])_0x2c22d2[_0x1d49ff(0xf4)](_0x3aad0b);}}}}if(_0x2c22d2[_0x1d49ff(0xdb)]>0x0){let _0x2febf9=_0x2c22d2[_0x1d49ff(0xb4)](_0x1f4ad5=>_0x1f4ad5[_0x1d49ff(0x98)]);_0x2febf9[_0x1d49ff(0x1cf)]();let _0x78efa4=_0x2febf9[_0x1d49ff(0x1d9)](',\x20');if(!lastCoinsToBalance)logHistory(_0x1d49ff(0xef),_0x1d49ff(0xa6));lastCoinsToBalance=_0x78efa4;}}function symbolToCoin(_0x2f3719){const _0x5bac26=_0x53d243;let _0x1c11f2;if(_0x2f3719['includes']('/'+config[_0x5bac26(0x108)]))_0x1c11f2=_0x2f3719[_0x5bac26(0xbd)]('/'+config['basecoin'],'');if(_0x2f3719[_0x5bac26(0x1b3)](config[_0x5bac26(0x108)]+'/'))_0x1c11f2=_0x2f3719['replace'](config[_0x5bac26(0x108)]+'/','');return _0x1c11f2;}async function unlockOrders(){const _0x22cd34=_0x53d243;if(allOrdersPlaced){lockOrders=ORDERS[_0x22cd34(0x192)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);currentCoins=await getCoins(),validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x22cd34(0x181)];}}async function validateOrders(_0x495b86){const _0x4a0a4c=_0x53d243;if(_0x495b86)validateOrdersState=_0x495b86;let _0xf48ec8=[],_0x15b422=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x4a0a4c(0x114)])return;lastOrders[_0x4a0a4c(0x1e1)](_0x2a5652=>{const _0x2ddc46=_0x4a0a4c;let _0x2c2d6a=![];_0x2a5652[_0x2ddc46(0xb2)]>0x0&&(_0x2c2d6a=!![]),_0xf48ec8[_0x2ddc46(0xf4)](_0x2c2d6a),_0x2c2d6a&&config[_0x2ddc46(0x1af)]!='market'&&logHistory(_0x2ddc46(0x143),_0x2ddc46(0x1b1)+_0x2a5652['symbol']+'\x20'+_0x2a5652[_0x2ddc46(0x146)]+'\x20#'+formatResult(_0x2a5652[_0x2ddc46(0xb2)],0x8)+'\x20@'+formatResult(_0x2a5652[_0x2ddc46(0xfb)],0x8));}),_0xf48ec8[_0x4a0a4c(0x1e1)]((_0x34e8e4,_0x4b5beb)=>{if(_0x34e8e4)lastOrders['splice'](_0x4b5beb,0x1);}),persistOpenOrders(lastOrders);const _0x3a3f16=coolingDown?_0x4a0a4c(0x18d):_0x4a0a4c(0x11e);if(validateOrdersState==_0x4a0a4c(0xe9))validateOrdersState=_0x4a0a4c(0x1d0),_0xf48ec8['includes'](![])?config[_0x4a0a4c(0x1af)]=='market'?logHistory(_0x4a0a4c(0xef),_0x4a0a4c(0x172)):logHistory('warning','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused'):await unlockOrders();else{if(validateOrdersState==_0x4a0a4c(0x1d0)){if(_0xf48ec8['includes'](![])){}else allOrdersPlaced&&(config[_0x4a0a4c(0x1af)]=='market'?logHistory(_0x4a0a4c(0x194),_0x4a0a4c(0x13c)+_0x3a3f16):logHistory(_0x4a0a4c(0x194),'Order(s)\x20filled\x20-\x20'+_0x3a3f16),await unlockOrders());}else{if(validateOrdersState==_0x4a0a4c(0x16d))_0xf48ec8[_0x4a0a4c(0x1b3)](![])&&(config['ordertype']==_0x4a0a4c(0xca)?logHistory('success',_0x4a0a4c(0xd0)+Math[_0x4a0a4c(0x1bd)](_0x15b422*validateOrderInterval/0xea60)+_0x4a0a4c(0xae)+_0x3a3f16):(await cancelOrders(),logHistory(_0x4a0a4c(0x194),_0x4a0a4c(0xc9)+Math[_0x4a0a4c(0x1bd)](_0x15b422*validateOrderInterval/0xea60)+_0x4a0a4c(0xae)+_0x3a3f16))),await unlockOrders();else{if(validateOrdersState==_0x4a0a4c(0x112)){if(config[_0x4a0a4c(0x1af)]!=_0x4a0a4c(0xca))logHistory('success',_0x4a0a4c(0x1cb)+_0x3a3f16);await unlockOrders();}}}}}async function cancelOrders(){const _0x5a83de=_0x53d243;lastOrders[_0x5a83de(0x1e1)](async _0x17cce0=>{const _0x1f25c3=_0x5a83de;try{const _0x40e1c3=await exchange[_0x1f25c3(0x121)](_0x17cce0[_0x1f25c3(0x159)],_0x17cce0[_0x1f25c3(0x9e)]);}catch(_0x252749){if(_0x252749['toString']()[_0x1f25c3(0x1b3)](_0x1f25c3(0x10b))){}else await handleError(_0x252749,_0x1f25c3(0x1c9));}});}async function initCoinResults(){const _0x13ee09=_0x53d243;let _0x203dc0=[];config[_0x13ee09(0x13b)][_0x13ee09(0x1e1)](_0x1c0910=>{const _0x29de63=_0x13ee09;if(!_0x1c0910[_0x29de63(0x1c0)]&&_0x1c0910['coin']!=config[_0x29de63(0x108)]){let _0x472063=dbCoinResults[_0x29de63(0x1bc)]('coins')[_0x29de63(0x92)]({'coin':_0x1c0910[_0x29de63(0x98)]})[_0x29de63(0xfa)]();if(!_0x472063){const _0x5c1309=currentCoins[_0x29de63(0x92)](_0x1fa0af=>_0x1fa0af[_0x29de63(0x98)]==_0x1c0910['coin']),_0x13c953=global[_0x29de63(0x1b9)][noslash(_0x1c0910[_0x29de63(0x9e)])];let _0x1d352d=_0x5c1309?_0x5c1309['number']:null,_0x423bb8=_0x1c0910[_0x29de63(0x174)]?0x1/_0x13c953:_0x13c953,_0x5e00fe;config[_0x29de63(0x1b2)]['forEach'](_0x22b8cd=>{const _0x572bf1=_0x29de63;!_0x5e00fe&&(_0x5e00fe=_0x22b8cd[_0x572bf1(0x131)][_0x572bf1(0x92)](_0x449f00=>_0x449f00[_0x572bf1(0x98)]==_0x1c0910['coin']),_0x5e00fe&&(_0x1d352d=_0x5e00fe[_0x572bf1(0xd3)],_0x423bb8=_0x5e00fe[_0x572bf1(0xfb)]));}),_0x203dc0['push']({'coin':_0x1c0910['coin'],'number':_0x1d352d,'price':_0x423bb8});}}}),_0x203dc0[_0x13ee09(0x1e1)](_0x452c3b=>{const _0x5ce33b=_0x13ee09,_0x40f1e0={'coin':_0x452c3b[_0x5ce33b(0x98)],'number':_0x452c3b[_0x5ce33b(0xd3)],'breakeven':_0x452c3b['price'],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x5ce33b(0x1bc)](_0x5ce33b(0x85))['push'](_0x40f1e0)[_0x5ce33b(0xfe)]();});}async function updateCoinResults(_0x2f1dcd,_0x151559=![]){const _0x7b6412=_0x53d243;let _0x268fdd,_0x52b51e,_0x208fc3,_0x28d07a,_0x231844,_0x2f6830,_0x3b0989=dbCoinResults[_0x7b6412(0x1bc)](_0x7b6412(0x85))[_0x7b6412(0x92)]({'coin':_0x2f1dcd[_0x7b6412(0x98)]})[_0x7b6412(0xfa)]();!_0x3b0989&&await initCoinResults();_0x2f1dcd[_0x7b6412(0x174)]&&(_0x2f6830={'filled':_0x2f1dcd[_0x7b6412(0xb2)]*_0x2f1dcd['price'],'amount':_0x2f1dcd['filled']*_0x2f1dcd['price'],'side':_0x2f1dcd[_0x7b6412(0x146)]==_0x7b6412(0x189)?_0x7b6412(0x12f):_0x7b6412(0x189),'price':0x1/_0x2f1dcd[_0x7b6412(0xfb)]},_0x2f1dcd={..._0x2f1dcd,..._0x2f6830});_0x151559?_0x52b51e=_0x2f1dcd[_0x7b6412(0x146)]==_0x7b6412(0x12f)?_0x3b0989[_0x7b6412(0xd3)]+_0x2f1dcd[_0x7b6412(0xb2)]:_0x3b0989[_0x7b6412(0xd3)]-_0x2f1dcd['filled']:_0x52b51e=await getCoinNumber(_0x2f1dcd[_0x7b6412(0x98)]);if(_0x2f1dcd[_0x7b6412(0xdd)]&&_0x2f1dcd[_0x7b6412(0xdd)][_0x7b6412(0x88)]==config[_0x7b6412(0x108)])_0x268fdd=_0x2f1dcd[_0x7b6412(0xdd)][_0x7b6412(0xad)];else{if(_0x2f1dcd[_0x7b6412(0xdd)]&&_0x2f1dcd[_0x7b6412(0xdd)][_0x7b6412(0x88)]==_0x7b6412(0xc6)&&!_0x151559)_0x268fdd=_0x2f1dcd['fee'][_0x7b6412(0xad)]*global[_0x7b6412(0x1b9)][_0x7b6412(0xc6)+config[_0x7b6412(0x108)]];else _0x268fdd=defaultFee*_0x2f1dcd[_0x7b6412(0xb2)]*_0x2f1dcd[_0x7b6412(0xfb)];}_0x2f1dcd['side']==_0x7b6412(0x12f)?(_0x208fc3=_0x52b51e!=0x0?(_0x3b0989['breakeven']*_0x3b0989[_0x7b6412(0xd3)]+_0x2f1dcd['price']*(_0x52b51e-_0x3b0989[_0x7b6412(0xd3)])+_0x268fdd)/_0x52b51e:0x0,_0x28d07a=_0x3b0989[_0x7b6412(0x147)]):(_0x208fc3=_0x52b51e!=0x0?(_0x3b0989['breakeven']*_0x3b0989[_0x7b6412(0xd3)]-_0x2f1dcd[_0x7b6412(0xfb)]*(_0x3b0989[_0x7b6412(0xd3)]-_0x52b51e)+_0x268fdd)/_0x52b51e:0x0,_0x28d07a=_0x3b0989['realized']+(_0x2f1dcd[_0x7b6412(0xfb)]-_0x3b0989[_0x7b6412(0x109)])*_0x2f1dcd[_0x7b6412(0xb2)]);_0x231844=(_0x2f1dcd['price']-_0x208fc3-_0x268fdd/_0x2f1dcd[_0x7b6412(0xb2)])*_0x52b51e;let _0x5cadbc={'coin':_0x2f1dcd[_0x7b6412(0x98)],'number':_0x52b51e,'breakeven':formatResult(_0x208fc3,0x8),'realized':formatResult(_0x28d07a,0x8),'unrealized':formatResult(_0x231844,0x8),'fees':formatResult(_0x3b0989['fees']+_0x268fdd,0x8),'sells':_0x2f1dcd['side']=='sell'?_0x3b0989['sells']+0x1:_0x3b0989[_0x7b6412(0x135)],'buys':_0x2f1dcd[_0x7b6412(0x146)]==_0x7b6412(0x12f)?_0x3b0989['buys']+0x1:_0x3b0989[_0x7b6412(0xf8)]};dbCoinResults[_0x7b6412(0x1bc)](_0x7b6412(0x85))[_0x7b6412(0x92)]({'coin':_0x2f1dcd['coin']})[_0x7b6412(0xee)](_0x5cadbc)[_0x7b6412(0xfe)]();if(!_0x151559){if(_0x2f1dcd[_0x7b6412(0xdd)]&&_0x2f1dcd['fee'][_0x7b6412(0x88)]==_0x7b6412(0xc6)){const _0x578015=currentCoins[_0x7b6412(0x92)](_0xb325e7=>_0xb325e7[_0x7b6412(0x98)]==_0x7b6412(0xc6));if(_0x578015){let _0x24880d=dbCoinResults['get'](_0x7b6412(0x85))[_0x7b6412(0x92)]({'coin':'BNB'})[_0x7b6412(0xfa)]();_0x5cadbc={..._0x24880d,'number':_0x578015[_0x7b6412(0xd3)]},dbCoinResults[_0x7b6412(0x1bc)](_0x7b6412(0x85))[_0x7b6412(0x92)]({'coin':_0x7b6412(0xc6)})['assign'](_0x5cadbc)['write']();}}}}async function placeOrder(_0x3ba8d8){const _0x537d58=_0x53d243,_0x1d2048=config[_0x537d58(0x1af)]==_0x537d58(0xca)?_0x537d58(0xca):_0x537d58(0x14d);if(lockOrders==ORDERS[_0x537d58(0x181)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x537d58(0x114)],allOrdersPlaced=![],validateOrdersState=_0x537d58(0xe9),lastOrders=[];for(const _0x54f320 of _0x3ba8d8){let _0x314160,_0x95fe99,_0x20f12b,_0x222e07,_0x1dcd94,_0x5e60e0=_0x54f320[_0x537d58(0x9e)];try{const _0x1691bd=await exchange[_0x537d58(0x152)]([_0x5e60e0]),_0x369e7c=_0x1691bd[_0x5e60e0];_0x314160=_0x54f320['reverse']?0x1/_0x54f320[_0x537d58(0xc3)]:_0x54f320[_0x537d58(0xc3)],_0x95fe99=_0x369e7c[_0x537d58(0x1ba)],_0x20f12b=_0x369e7c[_0x537d58(0x138)];_0x54f320[_0x537d58(0x174)]?(_0x222e07=_0x54f320['side']=='buy'?'sell':_0x537d58(0x12f),_0x1dcd94=Math[_0x537d58(0x19b)](_0x54f320[_0x537d58(0x164)])/_0x314160):(_0x222e07=_0x54f320[_0x537d58(0x146)],_0x1dcd94=Math[_0x537d58(0x19b)](_0x54f320[_0x537d58(0x164)]));_0x1d2048==_0x537d58(0x14d)&&(config[_0x537d58(0x1af)]==_0x537d58(0x123)&&(_0x314160=_0x222e07==_0x537d58(0x12f)?_0x95fe99:_0x20f12b),config[_0x537d58(0x1af)]==_0x537d58(0x16e)&&(_0x314160=_0x222e07==_0x537d58(0x12f)?_0x20f12b:_0x95fe99));_0x1dcd94=formatResult(_0x1dcd94,0x8),_0x314160=formatResult(_0x314160,0x8);const _0xe7d16d=new Date()[_0x537d58(0x107)]()[_0x537d58(0x199)]()[_0x537d58(0x12c)](-0x6)+'-'+Math['random']()['toString']()['slice'](-0x6);lastOrders[_0x537d58(0xf4)]({'customId':_0xe7d16d,'symbol':_0x5e60e0,'coin':_0x54f320['coin'],'side':_0x222e07,'reverse':_0x54f320[_0x537d58(0x174)],'filled':0x0}),console[_0x537d58(0x16f)]('pre:',lastOrders);const _0x18aa22=await exchange[_0x537d58(0x170)](_0x5e60e0,_0x1d2048,_0x222e07,_0x1dcd94,_0x314160,{'clientOrderId':_0xe7d16d}),_0x5ce9a7=lastOrders[_0x537d58(0xdb)]-0x1;_0x5ce9a7>=0x0&&lastOrders[_0x5ce9a7][_0x537d58(0xd4)]==_0xe7d16d&&(lastOrders[_0x5ce9a7]={...lastOrders[_0x5ce9a7],'orderId':_0x18aa22['id'],'amount':_0x18aa22[_0x537d58(0x196)],'price':_0x18aa22[_0x537d58(0xfb)],'fee':_0x18aa22[_0x537d58(0xdd)]});console[_0x537d58(0x16f)](_0x537d58(0xf0),lastOrders);const _0x48db7d=_0x222e07==_0x537d58(0x189)?config[_0x537d58(0x18a)]?String[_0x537d58(0x17d)]('0x'+config[_0x537d58(0x18a)])+'\x20':'':config[_0x537d58(0x150)]?String[_0x537d58(0x17d)]('0x'+config['emojibuy'])+'\x20':'',_0x4e706c=_0x1d2048==_0x537d58(0xca)?_0x537d58(0x17f):config[_0x537d58(0x1af)]==_0x537d58(0x123)?_0x537d58(0x99):_0x537d58(0x115);if(_0x1d2048==_0x537d58(0xca))logHistory('order',''+_0x48db7d+_0x4e706c+_0x537d58(0xaa)+_0x5e60e0+'\x20'+_0x222e07+'\x20#'+formatResult(_0x18aa22[_0x537d58(0xb2)],0x8)+'\x20@'+formatResult(_0x18aa22['price'],0x8));else logHistory(_0x537d58(0x143),''+_0x48db7d+_0x4e706c+_0x537d58(0xaa)+_0x5e60e0+'\x20'+_0x222e07+'\x20#'+formatResult(_0x18aa22['amount'],0x8)+'\x20@'+formatResult(_0x18aa22[_0x537d58(0xfb)],0x8));let _0x356329=currentCoins['find'](_0x5cbac4=>_0x5cbac4[_0x537d58(0x98)]==_0x54f320[_0x537d58(0x98)]);_0x356329[_0x537d58(0x15c)]='open';if(config['cooldown']!=0x0){let _0x2b515c=null;if(cooldownTracker['length']==config[_0x537d58(0x140)]-0x1)_0x2b515c=cooldownTracker[_0x537d58(0x177)]();const _0x414a13=getTimeStamp();cooldownTracker[_0x537d58(0xf4)](_0x414a13);if(_0x2b515c){const _0x320eb9=fns[_0x537d58(0xc4)](new Date(_0x414a13),new Date(_0x2b515c));if(_0x320eb9<cooldownInterval){logHistory(_0x537d58(0x19f),_0x537d58(0x1c8)+config['cooldown']+_0x537d58(0x103)+cooldownInterval/0x3c+_0x537d58(0x1aa)+cooldownPeriod/(0xe10*0x3e8)+_0x537d58(0xa0)),coolingDown=!![];break;}}}}catch(_0x570e6b){if(_0x570e6b[_0x537d58(0x199)]()[_0x537d58(0x1b3)](_0x537d58(0x1ac)))logHistory(_0x537d58(0x19f),_0x537d58(0x1a9)+_0x5e60e0);else{if(_0x570e6b[_0x537d58(0x199)]()[_0x537d58(0x1b3)](_0x537d58(0x120)))logHistory(_0x537d58(0x19f),_0x537d58(0x11b)+_0x5e60e0);else await handleError(_0x570e6b,'placeOrder()',_0x5e60e0);}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x537d58(0xdb)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x50f814=config['ordertype']==_0x537d58(0xca)?validateOrderTimeout*0x3c*0x3e8:config[_0x537d58(0x153)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x50f814);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory('success',_0x537d58(0xcd)));}else{if(coolingDown)!config[_0x537d58(0xc5)]&&logHistory(_0x537d58(0x19f),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x537d58(0x181)]&&(!config[_0x537d58(0xc5)]&&(config[_0x537d58(0x1af)]==_0x537d58(0xca)?logHistory(_0x537d58(0x19f),_0x537d58(0x90)):logHistory(_0x537d58(0x19f),_0x537d58(0x180))));}}function persistOpenOrders(_0x3c88d2){const _0x668c68=_0x53d243,_0x113dfb={...config,'openOrders':_0x3c88d2};let _0xb8a2c=dbConfig[_0x668c68(0x1bc)]('bot')['find']({'botID':botID})[_0x668c68(0xfa)]();_0xb8a2c&&dbConfig[_0x668c68(0x1bc)](_0x668c68(0x10a))['find']({'botID':botID})[_0x668c68(0xee)](_0x113dfb)['write']();}function restoreOrders(){const _0x1c8c7f=_0x53d243;let _0x1c43f8;allOpenOrders['forEach'](_0x1af02f=>{const _0x9085fc=_0x3c04,_0x5b6f9e=config['openOrders'][_0x9085fc(0x92)](_0x1c1d76=>_0x1c1d76[_0x9085fc(0x159)]==_0x1af02f['id']);_0x5b6f9e&&(lastOrders[_0x9085fc(0xf4)](_0x5b6f9e),_0x1c43f8=_0x1af02f['timestamp']);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x1c8c7f(0x114)],validateOrdersState=_0x1c8c7f(0x1d0),allOrdersPlaced=!![];const _0x2c712c=new Date()[_0x1c8c7f(0x107)](),_0x2e2018=config[_0x1c8c7f(0x1af)]=='market'?validateOrderTimeout*0x3c*0x3e8:config[_0x1c8c7f(0x153)]*0x3c*0x3e8;if(_0x1c43f8+_0x2e2018>_0x2c712c){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x2844f2=_0x1c8c7f;validateOrders(_0x2844f2(0x16d));},_0x1c43f8+_0x2e2018-_0x2c712c);}else validateOrders('final');}}async function sendPortfolioTelegram(){const _0x4f08c1=_0x53d243;if(loading['progress']!=0x64){process['send']({'telegrammsg':_0x4f08c1(0x1cd)},_0xf780ce=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());const _0x5f5792=[_0x4f08c1(0x17e),_0x4f08c1(0x1b6),_0x4f08c1(0xd6)],_0x17bc37=_0x5f5792['includes'](config['basecoin'])?0x2:0x8;let _0x2aa4b9='';if(config[_0x4f08c1(0x15d)])_0x2aa4b9=_0x4f08c1(0x89)+config[_0x4f08c1(0x198)]+_0x4f08c1(0x148);else _0x2aa4b9='<b>Bot\x20'+botID+_0x4f08c1(0x148);const _0x67c2bb=getKPIs(_0x4f08c1(0x108)),_0x29b7bc=getKPIs(_0x4f08c1(0xdf));_0x2aa4b9+=_0x4f08c1(0x158),_0x2aa4b9+=_0x67c2bb[_0x4f08c1(0xfc)]+'\x20:\x20'+_0x67c2bb[_0x4f08c1(0xfa)]+'\x20\x0a',_0x2aa4b9+=_0x67c2bb[_0x4f08c1(0x184)]+':\x20'+_0x67c2bb[_0x4f08c1(0x168)]+_0x4f08c1(0x15b),_0x2aa4b9+=_0x29b7bc['leftTxt']+':\x20'+_0x29b7bc[_0x4f08c1(0xfa)]+'\x20'+config[_0x4f08c1(0x108)]+'\x0a',_0x2aa4b9+=_0x29b7bc[_0x4f08c1(0x184)]+':\x20'+_0x29b7bc[_0x4f08c1(0x168)]+_0x4f08c1(0x15b),_0x2aa4b9+='\x0a',_0x2aa4b9+='-------------------------------\x0a',_0x2aa4b9+=_0x4f08c1(0x1e2),_0x2aa4b9+=_0x4f08c1(0x1ce),currentCoins[_0x4f08c1(0x1e1)](_0x41d3cc=>{const _0x25927d=_0x4f08c1;_0x2aa4b9+=_0x41d3cc[_0x25927d(0x98)][_0x25927d(0xeb)](0x7)+'|\x20'+formatPad(_0x41d3cc[_0x25927d(0xc2)],0x2,0x6)+'|\x20'+formatPad(_0x41d3cc[_0x25927d(0x17c)],0x2,0x6)+'|\x20'+formatPad(_0x41d3cc[_0x25927d(0xf5)]*0x64,0x2,0x6)+'\x0a';}),_0x2aa4b9+=_0x4f08c1(0x11c),process[_0x4f08c1(0x145)]({'telegrammsg':_0x2aa4b9},_0x575ce1=>{});}function formatPad(_0x44dd18,_0xf86016,_0x321267){const _0x174b6f=_0x53d243,_0x5efcc1=formatResultString(_0x44dd18,_0xf86016);return _0x5efcc1?_0x5efcc1[_0x174b6f(0x139)](_0x321267):''[_0x174b6f(0x139)](_0x321267);}function logHistory(_0x138236,_0x443332,_0x44e713=''){const _0x55322e=_0x53d243;let _0x56815b={'time':getTimeStamp(),'type':_0x138236,'event':_0x443332};dbLogs[_0x55322e(0x1bc)](_0x55322e(0x105))[_0x55322e(0xf4)](_0x56815b)[_0x55322e(0xfe)]();if(_0x44e713=='')_0x44e713=_0x443332;proxyEmit(_0x55322e(0xa2),{'log':_0x56815b,'summary':_0x44e713}),process[_0x55322e(0x145)]({'telegram':{..._0x56815b,'botname':config[_0x55322e(0x198)],'showname':config[_0x55322e(0x15d)]}},_0x3b4b57=>{}),logger[_0x55322e(0x161)](''+_0x56815b[_0x55322e(0xa2)]);}function emitHistory(_0x561a50={}){const _0x3fa7a3=_0x53d243;Object[_0x3fa7a3(0x101)](_0x561a50)[_0x3fa7a3(0xdb)]==0x0&&(_0x561a50={'type':['order',_0x3fa7a3(0xa2)],'event':'','page':0x1});if(_0x561a50[_0x3fa7a3(0x1b4)][_0x3fa7a3(0x1b3)](_0x3fa7a3(0xa2)))_0x561a50[_0x3fa7a3(0x1b4)][_0x3fa7a3(0x95)](_0x561a50[_0x3fa7a3(0x1b4)][_0x3fa7a3(0x18b)](_0x3fa7a3(0xa2)),0x1,_0x3fa7a3(0x19f),_0x3fa7a3(0x194));if(dbLogs['has']('logs')[_0x3fa7a3(0xfa)]()){let _0x1a0daa=dbLogs[_0x3fa7a3(0x1bc)]('logs')['filter'](_0x22f951=>{const _0x589190=_0x3fa7a3;if(_0x561a50['type']['length']==0x0)return![];else return _0x561a50[_0x589190(0x1b4)][_0x589190(0x1b3)](_0x22f951[_0x589190(0x1b4)]);})[_0x3fa7a3(0x1a7)](_0x38108d=>{const _0x295493=_0x3fa7a3;if(_0x561a50[_0x295493(0xa2)]=='')return!![];else return _0x38108d[_0x295493(0xa2)][_0x295493(0x1da)]()['includes'](_0x561a50['event'][_0x295493(0x1da)]());})[_0x3fa7a3(0xcf)](_0x3fa7a3(0xda)),_0x2fe318=_0x1a0daa[_0x3fa7a3(0xfa)]()[_0x3fa7a3(0xdb)];_0x1a0daa=_0x1a0daa[_0x3fa7a3(0x174)]()[_0x3fa7a3(0x12c)]((_0x561a50[_0x3fa7a3(0x166)]-0x1)*logPageSize,_0x561a50[_0x3fa7a3(0x166)]*logPageSize-0x1)[_0x3fa7a3(0x174)]()[_0x3fa7a3(0xfa)](),proxyEmit(_0x3fa7a3(0xc8),{'logs':_0x1a0daa,'total':_0x2fe318});}else proxyEmit(_0x3fa7a3(0xc8),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x4ac937){const _0x1592a1=_0x53d243;if(dbLogs[_0x1592a1(0x13e)](_0x1592a1(0x105))[_0x1592a1(0xfa)]()){const _0x2e5834=dbLogs[_0x1592a1(0x1bc)]('logs')[_0x1592a1(0xcf)](_0x1592a1(0xda))[_0x1592a1(0x1a7)](_0x3b755f=>{const _0x2d9788=_0x1592a1;return _0x3b755f[_0x2d9788(0x1b4)]==_0x2d9788(0x143);})[_0x1592a1(0xfa)]();dbLogs[_0x1592a1(0x1bc)](_0x1592a1(0x105))['remove']()['write'](),dbLogs[_0x1592a1(0x1bc)](_0x1592a1(0x105))[_0x1592a1(0xee)](_0x2e5834)['write'](),emitHistory(_0x4ac937);}}async function pauseBot(_0x2b7f14=''){const _0x567dc3=_0x53d243,_0x26286c=new Date()[_0x567dc3(0x107)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x26286c-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process['send']({'stop':_0x567dc3(0x127)},_0x513440=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x2b7f14)_0x2b7f14+='\x20|\x20';logHistory(_0x567dc3(0x19f),_0x2b7f14+_0x567dc3(0x191)+pauseBotInterval/0xea60+_0x567dc3(0x16b)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){process['send']({'stop':'kill'},_0x384dbc=>{}),await sleep(0x7d0);}async function handleError(_0x3f3ba7,_0x1d18bc,_0x42ded1=''){const _0x20689c=_0x53d243;if(_0x3f3ba7[_0x20689c(0x199)]()[_0x20689c(0x1b3)](_0x20689c(0x12d)))await pauseBot(_0x20689c(0x1c6));else{if(_0x3f3ba7['toString']()[_0x20689c(0x1b3)](_0x20689c(0xa7)))await pauseBot(_0x20689c(0x9f));else{if(_0x3f3ba7[_0x20689c(0x199)]()[_0x20689c(0x1b3)]('RequestTimeout'))await pauseBot(_0x20689c(0xd5));else{if(_0x3f3ba7[_0x20689c(0x199)]()['includes'](_0x20689c(0x133)))logHistory('error',_0x1d18bc+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory(_0x20689c(0x19f),_0x20689c(0x197)),await killBot();else{if(_0x3f3ba7['toString']()[_0x20689c(0x1b3)](_0x20689c(0x1d1)))logHistory(_0x20689c(0x19f),_0x1d18bc+_0x20689c(0xc7)),logHistory(_0x20689c(0x19f),_0x20689c(0x197)),await killBot();else{if(_0x3f3ba7[_0x20689c(0x199)]()[_0x20689c(0x1b3)](_0x20689c(0x119)))logHistory('error',_0x1d18bc+_0x20689c(0x104)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x3f3ba7[_0x20689c(0x199)]()[_0x20689c(0x1b3)](_0x20689c(0x173)))logHistory('error',_0x1d18bc+_0x20689c(0xf9)),logHistory(_0x20689c(0x19f),_0x20689c(0x197)),await killBot();else{if(_0x3f3ba7[_0x20689c(0x199)]()['includes'](_0x20689c(0xbe)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process['send']({'stop':_0x20689c(0x127)},_0x3ef9f9=>{});else _0x3f3ba7[_0x20689c(0x199)]()[_0x20689c(0x1b3)](_0x20689c(0x1a1))?logHistory(_0x20689c(0x19f),_0x1d18bc+_0x20689c(0xec)+_0x42ded1):(logger['full'](_0x1d18bc+_0x20689c(0x14b),_0x3f3ba7),await pauseBot(_0x20689c(0x15a)));}}}}}}}}function formatResult(_0x5cd847,_0x1d9d54){const _0x512b27=_0x53d243;return parseFloat(_0x5cd847[_0x512b27(0xcb)](_0x1d9d54));}function formatResultTruncate(_0x33b042,_0x3e5464){const _0x374dc2=_0x53d243;let _0x1c7e33=formatResultString(_0x33b042,0xa),_0x17186b=_0x1c7e33['indexOf']('.');return _0x17186b!=-0x1&&(_0x1c7e33=_0x1c7e33[_0x374dc2(0x12c)](0x0,_0x17186b+_0x3e5464+0x1)),Number(_0x1c7e33);}function formatResultString(_0x2b7980,_0x576b73){const _0x242cc8=_0x53d243;let _0x42e457;if(!(''+_0x2b7980)[_0x242cc8(0x1b3)]('e'))_0x42e457=+(Math[_0x242cc8(0x1bd)](_0x2b7980+'e+'+_0x576b73)+'e-'+_0x576b73);else{let _0x14eb2c=(''+_0x2b7980)[_0x242cc8(0xe6)]('e'),_0x1a38d1='';+_0x14eb2c[0x1]+_0x576b73>0x0&&(_0x1a38d1='+'),_0x42e457=+(Math['round'](+_0x14eb2c[0x0]+'e'+_0x1a38d1+(+_0x14eb2c[0x1]+_0x576b73))+'e-'+_0x576b73);}return Number(_0x42e457)[_0x242cc8(0xcb)](_0x576b73);}function _0x5e83(){const _0x1caa76=['side','realized','\x20portfolio:</b>\x20\x0a\x0a','Crypt','fetchClosedOrders','\x20|\x20Error\x20details:\x20','hybrid-crypto-js','limit','stringify','getHours','emojibuy','accumulatedQuantity','fetchTickers','timeout','apiSecret','emitHistory','change24h','173321hkXLjm','<pre>','orderId','Unknown\x20error\x20occured','%\x20\x0a','orderstatus','showname','mkdirSync','api_secret','timestamp','full','BTC','getOpenOrders()','trade','limits','page','lowdb','change','-performance.json','Net\x20effect','\x20minutes','milliseconds','final','limit-low','log','createOrder','privateKey','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','reverse','fetchOpenOrders','message','shift','constructor',':\x20Bot\x20','max','simple','target','fromCodePoint','EUR','Market','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','UNLOCKED','recreateCoinResults()','starting-balance-','rightTxt','DAI/','set','************','ccxt','sell','emojisell','indexOf','./version.json','balancing\x20resumes\x20when\x20cooldown\x20ends','priceChangePercent','./config/','remove','Pausing\x20for\x20','UNLOCKING','exit','success','spot','amount','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','botname','toString','search','abs','format','wss://stream.binance.com:9443','XEM/BUSD','error','function','InsufficientFunds','sha256','BNB/','date','bot-','WebSockets(','filter','threshold','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','loadMarkets','MIN_NOTIONAL','placeOrder','progress','ordertype','3032344RwRdwF','Order\x20filled:\x20','liquidity','includes','type','timeshift','BUSD','isEqual','parse','ticker','bid','concat','get','round','binanceus','add','excluded','getMinutes','string','entries','newClientOrderId','Binance\x20API\x20secret\x20is\x20invalid','Binance\x20API\x20blocked','getDate','Executed\x20','cancelOrders()','Binance\x20not\x20available\x20(1)','No\x20more\x20open\x20orders\x20-\x20','subscribeSpotKline','Not\x20all\x20coin\x20data\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','-------------------------------\x0a','sort','ongoing','AuthenticationError','/output-000.log','2.3.5','parseISO','writeFile','exchange','NEW','lastOrders','join','toLowerCase','storeHeadless','binance','/backup/','datetime','\x20value','Failed\x20to\x20load\x20coin\x20data\x20for\x20','forEach','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','getMonth','usd','loadSymbols()','2680138ViBiHr','coins','2.5.0','subscribeSpotUserDataStream','currency','<b>','001','min','open','RSA-OAEP','./logs/','uncaughtException','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','settings','find','existsSync','symbols','splice','reconnected','eventType','coin','Limit\x20(high-margin)','kline','.json','579265rYRkql','24NgJpqY','symbol','Binance\x20not\x20available\x20(2)','\x20hour','eur','event','deleteHistoryAlerts','wsMarket','Net\x20effect\x20(','Manual\x20balancing\x20required','ExchangeNotAvailable','\x20-\x20','Net\x20','\x20order:\x20','5048320XGzOPh','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','cost','\x20minutes\x20-\x20','getFiat()','exec','remainingSymbols','filled','close','map','starting-balances','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','coin-loading-progress','defaults','getSeconds','wss://stream.binance.us:9443','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','userData','replace','InvalidNonce','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','data','wsKey','distribution','last','differenceInSeconds','headless','BNB','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','event-history','Unfilled\x20order(s)\x20canceled\x20after\x20','market','toFixed','cloneDeep','Cooldown\x20ended\x20-\x20balancing\x20resumed','cancel','sortBy','Order(s)\x20not\x20validated\x20after\x20','Error:\x20Invalid\x20argument\x20','toggleBotMode','number','customId','Binance\x20not\x20responding','USDT','orderStatus','HOT/EUR','-results.json','time','length','date-fns','fee','sendPortfolioTelegram','net-basecoin','ETH','api_key','\x20-\x20bot\x20not\x20started','running','options','formattedMessage','split','-events.json','commission','initial','getFullYear','padEnd','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20','8VVXAHR','assign','warning','post:','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','3IHszHr','cumulativeQuoteAssetTransactedQty','push','delta','Bot\x20','CANCELED','buys','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','value','price','leftTxt','fiat','write','performance',',\x20must\x20be\x20a\x203\x20digit\x20number','keys',')\x20|\x20Error\x20details:\x20','\x20orders\x20in\x20less\x20than\x20','\x20|\x20Binance\x20API\x20secret\x20invalid','logs','FILLED','getTime','basecoin','breakeven','bot','OrderNotFound','net-fiat','wsUrl','startdate','valid','args','decrypt','no\x20open\x20orders','startnumber','LOCKED','Limit\x20(low-margin)','test','getCoinNumber()','yyyy/MM/dd','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','\x20>\x20','Order\x20amount\x20is\x20invalid:\x20','</pre>','\x20change','balancing\x20resumed','executionReport','Invalid\x20quantity','cancelOrder','version','limit-high','fetchBalance','Binance\x20API\x20key\x20is\x20invalid','offset','restart','none','getPortfolio','apiKey','getCoins()','slice','DDoSProtection','total','buy','balances','changes','configuration','API-key\x20format\x20invalid','27324970oFmoPK','sells','canceled','bb-settings.json','ask','padStart','(((.+)+)+)+$','portfolio','Order(s)\x20validated\x20-\x20','initws()','has','lowdb/adapters/FileSync','cooldown','startprice','configuration-stored','order','20673fyvRxS','send'];_0x5e83=function(){return _0x1caa76;};return _0x5e83();}function getServerTime(){const _0x18eb2f=_0x53d243,_0x177fbd=new Date();return _0x177fbd[_0x18eb2f(0xea)]()+'/'+(_0x177fbd[_0x18eb2f(0x1e3)]()+0x1)[_0x18eb2f(0x199)]()[_0x18eb2f(0x139)](0x2,'0')+'/'+_0x177fbd[_0x18eb2f(0x1c7)]()[_0x18eb2f(0x199)]()[_0x18eb2f(0x139)](0x2,'0')+'\x20'+_0x177fbd[_0x18eb2f(0x14f)]()[_0x18eb2f(0x199)]()[_0x18eb2f(0x139)](0x2,'0')+':'+_0x177fbd[_0x18eb2f(0x1c1)]()[_0x18eb2f(0x199)]()[_0x18eb2f(0x139)](0x2,'0')+':'+_0x177fbd['getSeconds']()['toString']()[_0x18eb2f(0x139)](0x2,'0');}function getTimeStamp(){const _0x56cdf4=_0x53d243,_0x4b34f7=shiftedTime();return _0x4b34f7[_0x56cdf4(0xea)]()+'/'+(_0x4b34f7[_0x56cdf4(0x1e3)]()+0x1)[_0x56cdf4(0x199)]()['padStart'](0x2,'0')+'/'+_0x4b34f7[_0x56cdf4(0x1c7)]()[_0x56cdf4(0x199)]()['padStart'](0x2,'0')+'\x20'+_0x4b34f7[_0x56cdf4(0x14f)]()[_0x56cdf4(0x199)]()[_0x56cdf4(0x139)](0x2,'0')+':'+_0x4b34f7[_0x56cdf4(0x1c1)]()[_0x56cdf4(0x199)]()[_0x56cdf4(0x139)](0x2,'0')+':'+_0x4b34f7[_0x56cdf4(0xb9)]()[_0x56cdf4(0x199)]()[_0x56cdf4(0x139)](0x2,'0');}function getDate(){const _0x537a18=_0x53d243,_0x448ba0=shiftedTime();return _0x448ba0[_0x537a18(0xea)]()+'/'+(_0x448ba0['getMonth']()+0x1)[_0x537a18(0x199)]()[_0x537a18(0x139)](0x2,'0')+'/'+_0x448ba0[_0x537a18(0x1c7)]()[_0x537a18(0x199)]()['padStart'](0x2,'0');}function getHour(){const _0x2a63bf=_0x53d243,_0x1d9b9d=shiftedTime();return _0x1d9b9d[_0x2a63bf(0x14f)]()[_0x2a63bf(0x199)]()[_0x2a63bf(0x139)](0x2,'0');}function sleep(_0x4007bb){return new Promise(_0x56b5b0=>setTimeout(_0x56b5b0,_0x4007bb));}function shiftedTime(){const _0x40b39d=_0x53d243,_0x46d978=new Date();let _0x1a39f8=_0x46d978;if(config&&config[_0x40b39d(0x1b5)]!==0x0)_0x1a39f8=fns[_0x40b39d(0x1bf)](_0x46d978,{'hours':config[_0x40b39d(0x1b5)]});return _0x1a39f8;}