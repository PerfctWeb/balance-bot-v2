const _0x322b92=_0x4f88;(function(_0x2f385f,_0x2bf138){const _0x3b03a9=_0x4f88,_0x3d84b9=_0x2f385f();while(!![]){try{const _0x54ffc9=-parseInt(_0x3b03a9(0x19e))/0x1+parseInt(_0x3b03a9(0x220))/0x2*(-parseInt(_0x3b03a9(0x26c))/0x3)+parseInt(_0x3b03a9(0x1cd))/0x4*(-parseInt(_0x3b03a9(0x269))/0x5)+-parseInt(_0x3b03a9(0x18e))/0x6*(parseInt(_0x3b03a9(0x1fd))/0x7)+parseInt(_0x3b03a9(0x17e))/0x8+-parseInt(_0x3b03a9(0x1c7))/0x9+parseInt(_0x3b03a9(0x21d))/0xa*(parseInt(_0x3b03a9(0x1cb))/0xb);if(_0x54ffc9===_0x2bf138)break;else _0x3d84b9['push'](_0x3d84b9['shift']());}catch(_0x381a56){_0x3d84b9['push'](_0x3d84b9['shift']());}}}(_0x4a46,0x9d79e));const _0xc5c281=function(){let _0x1f12f7=!![];return function(_0x4d1024,_0x267fca){const _0x34d8d6=_0x1f12f7?function(){if(_0x267fca){const _0x156ca5=_0x267fca['apply'](_0x4d1024,arguments);return _0x267fca=null,_0x156ca5;}}:function(){};return _0x1f12f7=![],_0x34d8d6;};}(),_0x922870=_0xc5c281(this,function(){const _0x196d10=_0x4f88;return _0x922870[_0x196d10(0x23f)]()[_0x196d10(0x1f7)](_0x196d10(0x275))[_0x196d10(0x23f)]()[_0x196d10(0x18b)](_0x922870)[_0x196d10(0x1f7)](_0x196d10(0x275));});_0x922870();'use strict';const ccxt=require(_0x322b92(0x1c4)),low=require(_0x322b92(0x247)),FileSync=require(_0x322b92(0x14f)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger,isWsFormatted24hrTicker,isWsFormattedKline}=require('binance'),Crypt=require(_0x322b92(0x176))[_0x322b92(0x172)];let exchange,wsClient;global['ticker']={},global[_0x322b92(0x251)]={};let ws1=[],ws2=null,ws3=[];const exceptions=['DAI/',_0x322b92(0x201),_0x322b92(0x16a),_0x322b92(0x169),'NANO/',_0x322b92(0x244)];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],validateOrdersState,lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,pidOrdersTimeout,botPaused=![],lastCoinsToBalance='',lastOutboundEventTime,loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x322b92(0x23a))['version'],botID=process['argv'][0x2]||_0x322b92(0x1b3),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x322b92(0x1fc)](_0x322b92(0x268)+botID+_0x322b92(0x25f)),process[_0x322b92(0x1f8)](0x1));const userID=process['argv'][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x322b92(0x158);!fs['existsSync'](configpath)&&fs[_0x322b92(0x186)](configpath);const configfile=configpath+'bot-'+botID+_0x322b92(0x200),logfile=configpath+_0x322b92(0x154)+botID+_0x322b92(0x264),performancefile=configpath+_0x322b92(0x154)+botID+_0x322b92(0x25b),coinresultsfile=configpath+_0x322b92(0x154)+botID+_0x322b92(0x1ed),settingsfile=configpath+'bb-settings.json',securefile=configpath+'bb-secure.json',configbackuppath=configpath+_0x322b92(0x20c),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x322b92(0x155)]({'logs':[]})[_0x322b92(0x185)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x322b92(0x155)]({'data':[]})[_0x322b92(0x185)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig['defaults']({'bot':[]})[_0x322b92(0x185)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x322b92(0x185)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0xb41d47)=>{},'debug':(..._0x132904)=>{},'notice':(..._0x3f25c7)=>{},'info':(..._0x133373)=>{},'warning':(..._0x211f3f)=>{},'error':async function(..._0x4ca21e){const _0x3342b1=_0x322b92,_0x4ae2f0=new Date()['getTime']();if(!lastErrorShown||_0x4ae2f0-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x3342b1(0x27a)]();let _0x3e87ee='';if(_0x4ca21e[0x0])_0x3e87ee+=_0x4ca21e[0x0];if(_0x4ca21e[0x1]&&_0x4ca21e[0x1]['error']&&_0x4ca21e[0x1][_0x3342b1(0x166)][_0x3342b1(0x273)])_0x3e87ee+=_0x3342b1(0x171)+_0x4ca21e[0x1][_0x3342b1(0x166)][_0x3342b1(0x273)];logging('WebSockets('+consecutivePauses+_0x3342b1(0x1dc),''+_0x3e87ee),await pauseBot(_0x3342b1(0x151));}}},crypt=new Crypt({'md':_0x322b92(0x24d),'rsaStandard':_0x322b92(0x167)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x322b92(0x1e3)]!=config['timeshift']&&updateTimeshift(settings['timeshift']);process[_0x322b92(0x233)]({'started':_0x322b92(0x16c)},_0x16a8ed=>{}),initializeProcessListeners();function proxyEmit(_0xc561bc,_0x1a5aa5=null){const _0x57eae7=_0x322b92;process[_0x57eae7(0x233)]({'function':_0xc561bc,'args':_0x1a5aa5},_0x3aa19f=>{});}function initializeProcessListeners(){process['on']('message',_0x451e9c=>{const _0x39a151=_0x4f88;switch(Object['keys'](_0x451e9c)[0x0]){case _0x39a151(0x1e3):_0x451e9c[_0x39a151(0x1e3)]!=undefined&&(settings['timeshift']=_0x451e9c[_0x39a151(0x1e3)],updateTimeshift(settings[_0x39a151(0x1e3)]));break;case _0x39a151(0x1ee):switch(_0x451e9c[_0x39a151(0x1ee)]){case _0x39a151(0x209):initclient();break;case _0x39a151(0x1f3):toggleBotMode();break;case _0x39a151(0x190):emitHistory(_0x451e9c[_0x39a151(0x211)]);break;case _0x39a151(0x263):deleteHistoryAlerts(_0x451e9c['args']);break;case'getPortfolio':getPortfolio(_0x451e9c[_0x39a151(0x211)]);break;case _0x39a151(0x1ea):storeConfiguration(_0x451e9c['args']);break;case _0x39a151(0x163):storeHeadless(_0x451e9c[_0x39a151(0x211)]);break;case _0x39a151(0x1ff):getStartingBalances(getNormalizedPerformance());break;case _0x39a151(0x14b):placeOrder(_0x451e9c[_0x39a151(0x211)]);break;case _0x39a151(0x262):cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x4d9732=_0x322b92;if(pidBalances)clearTimeout(pidBalances);if(config[_0x4d9732(0x1b8)]!=''){await initExchange(config['apiKey'],config['apiSecret']);let _0x2a91b9=await loadSymbols();_0x2a91b9&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x1ee07f,_0x303bd2){const _0x597dc1=_0x322b92,_0x1ab537=ccxt[config['exchange']];let _0x5b8bbb;switch(config[_0x597dc1(0x266)]){case _0x597dc1(0x1c8):_0x5b8bbb=_0x597dc1(0x261);break;case _0x597dc1(0x22c):_0x5b8bbb='wss://stream.binance.us:9443';break;default:_0x5b8bbb=_0x597dc1(0x261);}exchange=new _0x1ab537({'apiKey':_0x1ee07f,'secret':_0x303bd2,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x1ee07f,'api_secret':_0x303bd2,'beautify':!![],'wsUrl':_0x5b8bbb},logger);let _0xcf315d=config['exchange']=='binanceus'?_0x597dc1(0x278):'EUR',_0x4812de=config['basecoin']==_0x597dc1(0x1e2)?_0x597dc1(0x1e2):_0x597dc1(0x1fb);stablecoins={'eur':{'coin':''+_0x4812de+_0xcf315d,'symbol':_0x4812de+'/'+_0xcf315d},'usd':{'coin':_0x4812de+'USDT','symbol':_0x4812de+'/USDT'}};}async function loadSymbols(){const _0x46ad41=_0x322b92;let _0x584c3d;try{markets=await exchange[_0x46ad41(0x1da)](),allSymbols=exchange['symbols'][_0x46ad41(0x221)](_0x49faf0=>{const _0x5940f4=_0x46ad41;let _0x3fb656=![];return exceptions[_0x5940f4(0x183)](_0x3b5628=>{const _0x1a92b4=_0x5940f4;if(_0x49faf0[_0x1a92b4(0x1b2)](_0x3b5628))_0x3fb656=!![];}),!_0x3fb656;}),_0x584c3d=!![];}catch(_0xe0886b){await handleError(_0xe0886b,_0x46ad41(0x21a)),_0x584c3d=![];}return _0x584c3d;}async function initbot(){const _0x218d5a=_0x322b92;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x2ca877=dbCoinResults['get'](_0x218d5a(0x1df))['value']();if(_0x2ca877[_0x218d5a(0x23b)]==0x0)await resetCoinResults();}async function initclient(){const _0x35579e=_0x322b92;proxyEmit('configuration',emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x35579e(0x19a),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x1a3dbd=getNormalizedPerformance();emitPerformance(_0x1a3dbd),await getStartingBalances(_0x1a3dbd);}async function toggleBotMode(){const _0x159a7a=_0x322b92;let _0x141e8f=dbConfig['get'](_0x159a7a(0x1fa))[_0x159a7a(0x15f)]({'botID':botID})[_0x159a7a(0x26e)]();if(_0x141e8f){const _0x5ca984=!_0x141e8f['headless'];dbConfig[_0x159a7a(0x20d)](_0x159a7a(0x1fa))[_0x159a7a(0x15f)]({'botID':botID})[_0x159a7a(0x272)]({'headless':_0x5ca984})[_0x159a7a(0x185)](),config[_0x159a7a(0x162)]=_0x5ca984,proxyEmit(_0x159a7a(0x170),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x23b6c2=_0x322b92;process[_0x23b6c2(0x233)]({'updatebotmanager':!![]},_0x299bc0=>{});}function cleanws(){wsinitialized=![];ws1&&(ws1['forEach'](_0x10acee=>{const _0x129508=_0x4f88;try{wsClient[_0x129508(0x156)](_0x10acee);}catch(_0x46b122){}}),ws1=[]);if(ws2){try{wsClient['closeWs'](ws2);}catch(_0x3ac806){}ws2=null;}ws3&&(ws3['forEach'](_0x22efa9=>{try{wsClient['closeWs'](_0x22efa9);}catch(_0x295f09){}}),ws3=[]);}async function initws(){const _0x286b6a=_0x322b92;cleanws();let _0x59f96e=[];currentCoins[_0x286b6a(0x183)](_0xa98fca=>{const _0x4abfd9=_0x286b6a;if(_0xa98fca[_0x4abfd9(0x187)]!=config['basecoin'])_0x59f96e[_0x4abfd9(0x25e)](_0xa98fca['symbol']);});if(!_0x59f96e[_0x286b6a(0x1b2)](stablecoins[_0x286b6a(0x192)]['symbol']))_0x59f96e[_0x286b6a(0x25e)](stablecoins[_0x286b6a(0x192)][_0x286b6a(0x24e)]);if(!_0x59f96e[_0x286b6a(0x1b2)](stablecoins['usd'][_0x286b6a(0x24e)]))_0x59f96e[_0x286b6a(0x25e)](stablecoins[_0x286b6a(0x197)][_0x286b6a(0x24e)]);if(!_0x59f96e[_0x286b6a(0x1b2)]('BNB/'+config[_0x286b6a(0x1d6)]))_0x59f96e[_0x286b6a(0x25e)](_0x286b6a(0x181)+config['basecoin']);try{_0x59f96e[_0x286b6a(0x183)]((_0x75918f,_0xa9cef4)=>{const _0x3634cc=_0x286b6a;ws1[_0xa9cef4]=wsClient['subscribeSpotKline'](noslash(_0x75918f),'1m'),ws3[_0xa9cef4]=wsClient[_0x3634cc(0x277)](noslash(_0x75918f),_0x3634cc(0x203));}),ws2=wsClient[_0x286b6a(0x1f5)](),wsClient['on'](_0x286b6a(0x219),_0x5e6be0=>{const _0x51fd87=_0x286b6a;if(isWsFormattedKline(_0x5e6be0)){global[_0x51fd87(0x227)][_0x5e6be0[_0x51fd87(0x242)][_0x51fd87(0x24e)]]=_0x5e6be0['kline'][_0x51fd87(0x255)];return;}else{if(isWsFormatted24hrTicker(_0x5e6be0)){global['change'][_0x5e6be0[_0x51fd87(0x24e)]]=_0x5e6be0[_0x51fd87(0x20a)];return;}else{if(!Array['isArray'](_0x5e6be0)&&_0x5e6be0[_0x51fd87(0x1b7)]['includes'](_0x51fd87(0x157))){if(_0x5e6be0[_0x51fd87(0x1dd)][_0x51fd87(0x1b2)](_0x51fd87(0x203))){updateNumberCoins(_0x5e6be0);return;}}}}}),wsClient['on'](_0x286b6a(0x1a2),async _0x54b238=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x4dad82){await handleError(_0x4dad82,_0x286b6a(0x1a6));}let _0x1b8139,_0x4512c3=0x0;loading[_0x286b6a(0x239)]=[];let _0x5f2e79=0x0;_0x59f96e[_0x286b6a(0x183)](_0x6fe049=>{const _0x3dc08a=_0x286b6a;loading[_0x3dc08a(0x239)][_0x3dc08a(0x25e)](_0x6fe049);}),loadingCanceled=![];while(_0x1b8139!=_0x59f96e[_0x286b6a(0x23b)]){_0x1b8139=0x0,_0x59f96e[_0x286b6a(0x183)](_0x464b5f=>{const _0x4c99c9=_0x286b6a;global[_0x4c99c9(0x227)][noslash(_0x464b5f)]&&(loading['remainingSymbols']=loading[_0x4c99c9(0x239)]['filter'](_0x28eb58=>_0x28eb58!=_0x464b5f),_0x1b8139++);}),loading[_0x286b6a(0x24c)]=Math[_0x286b6a(0x1ba)](_0x1b8139/_0x59f96e[_0x286b6a(0x23b)]*0x64);_0x5f2e79>0x1e*0x5&&(loading[_0x286b6a(0x210)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x286b6a(0x1d2)]=!![],emitLoadingProgress();break;}else _0x1b8139!=_0x4512c3&&(_0x4512c3=_0x1b8139,emitLoadingProgress()),_0x5f2e79++,await sleep(0xc8);}if(_0x1b8139==_0x59f96e[_0x286b6a(0x23b)])wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}async function getFiat(){const _0x231999=_0x322b92;let _0x1b148d=0x0,_0x222e73=0x0;try{_0x1b148d=global[_0x231999(0x227)][stablecoins[_0x231999(0x192)]['coin']],_0x222e73=global['ticker'][stablecoins['usd'][_0x231999(0x187)]];}catch(_0x525ee8){await handleError(_0x525ee8,_0x231999(0x174));}return{'eur':Number(_0x1b148d),'usd':Number(_0x222e73)};}function setStartDatePerformance(){const _0x9f4053=_0x322b92;if(config&&config[_0x9f4053(0x1b0)][0x0][_0x9f4053(0x20f)][_0x9f4053(0x23b)]!=0x0){const _0x6d57d7=config[_0x9f4053(0x1b0)][0x0][_0x9f4053(0x20f)];dbPerformance[_0x9f4053(0x20d)](_0x9f4053(0x196))[_0x9f4053(0x15f)]({'date':config[_0x9f4053(0x1ca)]})['assign']({'coins':_0x6d57d7})[_0x9f4053(0x185)]();}}async function recreateHistory(_0x336175){const _0x5b3acb=_0x322b92;let _0x47467f,_0x1550e2=[];logHistory(_0x5b3acb(0x230),_0x5b3acb(0x1e4)),_0x336175[_0x5b3acb(0x15a)][_0x5b3acb(0x183)](_0x194fda=>{const _0x435a25=_0x5b3acb;if(_0x194fda['coin']!=config[_0x435a25(0x1d6)]&&!_0x194fda[_0x435a25(0x224)])_0x1550e2['push']({'coin':_0x194fda[_0x435a25(0x187)],'symbol':_0x194fda[_0x435a25(0x24e)]});});let _0x11ea09=[];try{const _0x3cb0bb=fns[_0x5b3acb(0x152)](fns[_0x5b3acb(0x1ad)](_0x336175[_0x5b3acb(0x1ca)][_0x5b3acb(0x25d)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x3d212f of _0x1550e2){if(_0x3d212f[_0x5b3acb(0x187)]!=config[_0x5b3acb(0x1d6)])_0x47467f=await exchange[_0x5b3acb(0x159)](_0x3d212f['symbol'],Date[_0x5b3acb(0x265)](_0x3cb0bb));_0x47467f[_0x5b3acb(0x183)](_0x4fac3c=>{const _0x1c1e93=_0x5b3acb,_0x139fe1=_0x3d212f[_0x1c1e93(0x24e)][_0x1c1e93(0x1b2)](config[_0x1c1e93(0x1d6)]+'/'),_0x648faa=fns[_0x1c1e93(0x152)](fns[_0x1c1e93(0x1ad)](_0x4fac3c[_0x1c1e93(0x193)]),_0x1c1e93(0x184)),_0x1cf71c=fns[_0x1c1e93(0x152)](fns['parseISO'](_0x4fac3c['datetime']),_0x1c1e93(0x26d));let _0x11ddcc;if(_0x4fac3c[_0x1c1e93(0x240)]==_0x1c1e93(0x189)&&_0x139fe1==![])_0x11ddcc=_0x4fac3c[_0x1c1e93(0x1a3)];if(_0x4fac3c['side']==_0x1c1e93(0x189)&&_0x139fe1==!![])_0x11ddcc=-_0x4fac3c[_0x1c1e93(0x1a3)]*_0x4fac3c[_0x1c1e93(0x235)];if(_0x4fac3c[_0x1c1e93(0x240)]==_0x1c1e93(0x19c)&&_0x139fe1==![])_0x11ddcc=-_0x4fac3c[_0x1c1e93(0x1a3)];if(_0x4fac3c[_0x1c1e93(0x240)]==_0x1c1e93(0x19c)&&_0x139fe1==!![])_0x11ddcc=_0x4fac3c[_0x1c1e93(0x1a3)]*_0x4fac3c[_0x1c1e93(0x235)];_0x11ea09['push']({'timestamp':_0x648faa,'date':_0x1cf71c,'coin':_0x3d212f[_0x1c1e93(0x187)],'symbol':_0x3d212f[_0x1c1e93(0x24e)],'type':_0x4fac3c['type'],'side':_0x4fac3c[_0x1c1e93(0x240)],'reverse':_0x139fe1,'amount':formatResult(_0x4fac3c[_0x1c1e93(0x260)],0x8),'filled':formatResult(_0x4fac3c[_0x1c1e93(0x260)],0x8),'coinamount':formatResult(_0x11ddcc,0x8),'price':formatResult(_0x4fac3c[_0x1c1e93(0x235)],0x8)});let _0x36064b;if(_0x4fac3c[_0x1c1e93(0x240)]==_0x1c1e93(0x189)&&_0x139fe1==![])_0x36064b=-_0x4fac3c['amount']*_0x4fac3c[_0x1c1e93(0x235)];if(_0x4fac3c[_0x1c1e93(0x240)]==_0x1c1e93(0x189)&&_0x139fe1==!![])_0x36064b=_0x4fac3c[_0x1c1e93(0x1a3)];if(_0x4fac3c['side']==_0x1c1e93(0x19c)&&_0x139fe1==![])_0x36064b=_0x4fac3c[_0x1c1e93(0x1a3)]*_0x4fac3c['price'];if(_0x4fac3c[_0x1c1e93(0x240)]=='sell'&&_0x139fe1==!![])_0x36064b=-_0x4fac3c[_0x1c1e93(0x1a3)];_0x11ea09[_0x1c1e93(0x25e)]({'date':_0x1cf71c,'coin':config[_0x1c1e93(0x1d6)],'coinamount':formatResult(_0x36064b,0x8)});});}_0x11ea09[_0x5b3acb(0x168)]((_0x2820c9,_0xbb3526)=>_0x2820c9[_0x5b3acb(0x23e)]>_0xbb3526[_0x5b3acb(0x23e)]?0x1:_0xbb3526['timestamp']>_0x2820c9[_0x5b3acb(0x23e)]?-0x1:0x0),dbLogs['get'](_0x5b3acb(0x1c9))[_0x5b3acb(0x1b4)]()[_0x5b3acb(0x185)](),_0x11ea09['forEach'](_0x2a0108=>{const _0x2e7dd1=_0x5b3acb;let _0x3b291b;_0x2a0108['coin']!=config[_0x2e7dd1(0x1d6)]&&(_0x3b291b={'time':_0x2a0108['timestamp'],'type':_0x2e7dd1(0x1b9),'event':_0x2e7dd1(0x195)+_0x2a0108[_0x2e7dd1(0x24e)]+'\x20'+_0x2a0108['side']+'\x20#'+_0x2a0108[_0x2e7dd1(0x1a3)]+'\x20@'+_0x2a0108[_0x2e7dd1(0x235)]},dbLogs[_0x2e7dd1(0x20d)](_0x2e7dd1(0x1c9))['push'](_0x3b291b)['write']());});const _0x189a79=fns['eachDayOfInterval']({'start':new Date(_0x336175[_0x5b3acb(0x1ca)]),'end':new Date()})['map'](_0x427efa=>fns[_0x5b3acb(0x152)](_0x427efa,_0x5b3acb(0x26d)));let _0x13b530=[];_0x336175[_0x5b3acb(0x15a)]['forEach'](_0x167229=>{const _0x263fa7=_0x5b3acb;if(!_0x167229['excluded']){_0x13b530[_0x167229['coin']]=[];let _0x1eceab=_0x167229[_0x263fa7(0x243)];_0x189a79['forEach']((_0x2c3c9c,_0x28e2c4)=>{const _0x3fa64c=_0x263fa7;let _0x22031e=_0x11ea09[_0x3fa64c(0x221)](_0x24ea4f=>_0x24ea4f[_0x3fa64c(0x187)]==_0x167229[_0x3fa64c(0x187)]&&_0x24ea4f[_0x3fa64c(0x1f0)]==_0x2c3c9c);if(_0x22031e[_0x3fa64c(0x23b)]!=0x0){let _0x53ddbc=_0x22031e['reduce']((_0x13655a,_0x4f748e)=>{const _0x1a0b9f=_0x3fa64c;return _0x13655a+=_0x4f748e[_0x1a0b9f(0x1a8)],_0x13655a;},0x0);_0x1eceab+=_0x53ddbc;}_0x13b530[_0x167229[_0x3fa64c(0x187)]][_0x2c3c9c]=_0x1eceab;});}});const _0x498118=[..._0x1550e2];_0x498118[_0x5b3acb(0x25e)]({'coin':stablecoins['eur'][_0x5b3acb(0x187)],'symbol':stablecoins[_0x5b3acb(0x192)]['symbol']}),_0x498118[_0x5b3acb(0x25e)]({'coin':stablecoins[_0x5b3acb(0x197)]['coin'],'symbol':stablecoins['usd'][_0x5b3acb(0x24e)]});let _0x2a7db7=[];for(const _0x1b8832 of _0x498118){_0x2a7db7[_0x1b8832[_0x5b3acb(0x187)]]=await getCloses(_0x1b8832['symbol'],new Date(_0x336175['startdate']));}dbPerformance[_0x5b3acb(0x20d)](_0x5b3acb(0x196))[_0x5b3acb(0x1b4)]()[_0x5b3acb(0x185)](),_0x189a79['forEach']((_0x21f7cb,_0x50d931)=>{const _0x2cf4e9=_0x5b3acb;let _0x44b35d,_0x4fbb54=[];_0x50d931==0x0?(_0x336175[_0x2cf4e9(0x15a)]['forEach'](_0x5ede08=>{const _0x2a3659=_0x2cf4e9;!_0x5ede08[_0x2a3659(0x224)]&&_0x4fbb54['push']({'coin':_0x5ede08[_0x2a3659(0x187)],'number':_0x5ede08[_0x2a3659(0x243)],'price':_0x5ede08[_0x2a3659(0x231)]});}),_0x44b35d={'date':_0x21f7cb,'eur':_0x2a7db7[stablecoins[_0x2cf4e9(0x192)][_0x2cf4e9(0x187)]][_0x50d931],'usd':_0x2a7db7[stablecoins[_0x2cf4e9(0x197)][_0x2cf4e9(0x187)]][_0x50d931],'coins':_0x4fbb54}):(_0x336175[_0x2cf4e9(0x15a)][_0x2cf4e9(0x183)](_0x264a80=>{const _0x27c4f1=_0x2cf4e9;!_0x264a80[_0x27c4f1(0x224)]&&_0x4fbb54['push']({'coin':_0x264a80['coin'],'number':_0x13b530[_0x264a80[_0x27c4f1(0x187)]][_0x21f7cb],'price':_0x264a80[_0x27c4f1(0x187)]==config['basecoin']?0x1:_0x2a7db7[_0x264a80[_0x27c4f1(0x187)]][_0x50d931]});}),_0x44b35d={'date':_0x21f7cb,'eur':_0x2a7db7[stablecoins[_0x2cf4e9(0x192)][_0x2cf4e9(0x187)]][_0x50d931],'usd':_0x2a7db7[stablecoins[_0x2cf4e9(0x197)][_0x2cf4e9(0x187)]][_0x50d931],'coins':_0x4fbb54}),dbPerformance[_0x2cf4e9(0x20d)](_0x2cf4e9(0x196))[_0x2cf4e9(0x25e)](_0x44b35d)['write']();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x421197 of _0x11ea09){_0x421197[_0x5b3acb(0x187)]!=config[_0x5b3acb(0x1d6)]&&await updateCoinResults(_0x421197);}logHistory(_0x5b3acb(0x230),_0x5b3acb(0x24f));}catch(_0x275e3c){await handleError(_0x275e3c,'recreateHistory()');}}async function validate24hChanges(){const _0x52dada=_0x322b92;let _0x3e773e;for(const _0x50bfb4 of currentCoins){if(_0x50bfb4[_0x52dada(0x187)]!=config[_0x52dada(0x1d6)]){let _0x36ff8d;_0x50bfb4[_0x52dada(0x18d)]?_0x36ff8d=formatResult((0x1/(global[_0x52dada(0x251)][noslash(_0x50bfb4[_0x52dada(0x24e)])]/0x64+0x1)-0x1)*0x64,0x3):_0x36ff8d=global[_0x52dada(0x251)][noslash(_0x50bfb4[_0x52dada(0x24e)])],_0x36ff8d<config['change24h']&&(logHistory(_0x52dada(0x166),_0x50bfb4[_0x52dada(0x187)]+_0x52dada(0x18a)+_0x36ff8d+'%'),logHistory('error',_0x52dada(0x250)),logHistory('error',_0x52dada(0x17b)),await storeHeadless({'headless':![]}));}}}async function getCloses(_0x32974e,_0x2cf4e3,_0x10973f=undefined){const _0x5bbe21=_0x322b92,_0x79d674='1d';let _0x2b30d9,_0xb2256d;const _0x383cb3=fns[_0x5bbe21(0x21e)](new Date(),_0x2cf4e3)+0x1;try{const _0x93de5=exchange[_0x5bbe21(0x215)]()-_0x383cb3*0x18*0xe10*0x3e8;_0x2b30d9=await exchange[_0x5bbe21(0x164)](_0x32974e,_0x79d674,_0x93de5,_0x10973f),_0xb2256d=await exchange['fetchTickers'](_0x32974e);}catch(_0x449915){await handleError(_0x449915,_0x5bbe21(0x175));}let _0x28ee97=ohlcvToCloses(_0x2b30d9);return _0x28ee97[_0x5bbe21(0x25e)](_0xb2256d[_0x32974e][_0x5bbe21(0x217)]),_0x28ee97;}function ohlcvToCloses(_0x91724d){const _0x34847b=_0x322b92;let _0xd05e40=[];return _0x91724d[_0x34847b(0x183)](function(_0x250b89){const _0xfe5905=_0x34847b;_0xd05e40[_0xfe5905(0x25e)](_0x250b89[0x4]);}),_0xd05e40;}function oneTimeMigration(){const _0x338d24=_0x322b92;let _0x1a2599=dbLogs['get']('version')[_0x338d24(0x26e)]();if(_0x1a2599!='2.3.5'){dbLogs[_0x338d24(0x225)](_0x338d24(0x205),_0x338d24(0x173))['write']();let _0x3c6f7e=[];const _0x47f9bc=dbLogs[_0x338d24(0x20d)](_0x338d24(0x1c9))[_0x338d24(0x26e)]();_0x47f9bc[_0x338d24(0x183)](_0x20e745=>{const _0x2a4e27=_0x338d24;_0x3c6f7e['push']({'time':_0x20e745[_0x2a4e27(0x160)],'type':_0x20e745[_0x2a4e27(0x1f6)],'event':_0x20e745[_0x2a4e27(0x177)]});}),dbLogs[_0x338d24(0x20d)]('logs')[_0x338d24(0x272)](_0x3c6f7e)[_0x338d24(0x185)]();}let _0x284b02=dbConfig[_0x338d24(0x20d)](_0x338d24(0x205))[_0x338d24(0x26e)]();if(_0x284b02!=_0x338d24(0x173)){dbConfig[_0x338d24(0x225)]('version',_0x338d24(0x173))[_0x338d24(0x185)]();let _0x356dc0=dbConfig[_0x338d24(0x20d)](_0x338d24(0x1fa))[_0x338d24(0x15f)]({'botID':botID})[_0x338d24(0x26e)]();if(_0x356dc0){let _0x43ceb9=[];_0x356dc0['portfolio']['forEach'](_0x28129f=>{const _0xd63509=_0x338d24;_0x43ceb9[_0xd63509(0x25e)]({'coin':_0x28129f[_0xd63509(0x187)],'number':_0x28129f[_0xd63509(0x243)],'price':_0x28129f['startprice']}),delete _0x28129f[_0xd63509(0x243)],delete _0x28129f[_0xd63509(0x231)];});if(_0x43ceb9['length']!==0x0)fs[_0x338d24(0x25a)](configbackuppath+('starting-balance-'+botID+'.json'),JSON[_0x338d24(0x1bc)](_0x43ceb9,null,0x4),function(_0xf43ed1){if(_0xf43ed1){}});const _0xd30f0c=(_0x1fc738,_0x264071)=>{const _0x435195=_0x338d24;let _0x239d61=[];_0x264071[_0x435195(0x183)](_0x3a4048=>{const _0x53e945=_0x435195,_0x24d570=_0x1fc738[_0x53e945(0x15f)](_0x31a120=>_0x31a120[_0x53e945(0x187)]==_0x3a4048[_0x53e945(0x187)]);if(!_0x24d570)_0x239d61['push'](_0x3a4048);});let _0x5ee3a1=[];return _0x1fc738['forEach'](_0xbe29b0=>{const _0x565eea=_0x435195,_0x5f0a8d=_0x264071[_0x565eea(0x15f)](_0x334549=>_0x334549[_0x565eea(0x187)]==_0xbe29b0[_0x565eea(0x187)]);if(!_0x5f0a8d||_0x5f0a8d[_0x565eea(0x1a0)]==0x0&&_0xbe29b0['number']!=0x0)_0x5ee3a1[_0x565eea(0x25e)](_0xbe29b0);}),{'missingDay1':_0x239d61,'notInDay2':_0x5ee3a1};},_0x4757ab=dbPerformance[_0x338d24(0x20d)](_0x338d24(0x196))[_0x338d24(0x223)]()[_0x338d24(0x26e)]();if(_0x4757ab[_0x338d24(0x23b)]>0x1){const {missingDay1:_0x426148,notInDay2:_0x4aaa2b}=_0xd30f0c(_0x43ceb9,_0x4757ab[0x1][_0x338d24(0x1df)]);_0x43ceb9=[..._0x43ceb9,..._0x426148],_0x4aaa2b[_0x338d24(0x183)](_0x543c1b=>{const _0x332635=_0x338d24;let _0x365c58=_0x43ceb9[_0x332635(0x165)](_0x4667fc=>_0x4667fc[_0x332635(0x187)]==_0x543c1b[_0x332635(0x187)]);_0x365c58!=-0x1&&_0x43ceb9['splice'](_0x365c58,0x1);});}_0x43ceb9[_0x338d24(0x168)]((_0x165f23,_0x57146e)=>_0x165f23[_0x338d24(0x187)]>_0x57146e[_0x338d24(0x187)]?0x1:_0x57146e[_0x338d24(0x187)]>_0x165f23['coin']?-0x1:0x0);let _0x4e7d63=[{'date':_0x356dc0[_0x338d24(0x1ca)],'changes':_0x43ceb9}];_0x4757ab['length']>0x2&&_0x4757ab[_0x338d24(0x183)]((_0x5e53fe,_0x402f95)=>{const _0x34c830=_0x338d24;if(_0x402f95>0x0&&_0x402f95<_0x4757ab[_0x34c830(0x23b)]-0x1){const {missingDay1:_0x3277e8,notInDay2:_0x207110}=_0xd30f0c(_0x4757ab[_0x402f95][_0x34c830(0x1df)],_0x4757ab[_0x402f95+0x1][_0x34c830(0x1df)]);_0x43ceb9=[],(_0x3277e8[_0x34c830(0x23b)]!=0x0||_0x207110['length']!=0x0)&&(_0x3277e8[_0x34c830(0x23b)]!=0x0&&_0x43ceb9['push'](..._0x3277e8),_0x207110[_0x34c830(0x23b)]!=0x0&&(_0x207110[_0x34c830(0x183)](_0x3ccac6=>{const _0x3271f0=_0x34c830;_0x3ccac6[_0x3271f0(0x1a0)]=-_0x3ccac6[_0x3271f0(0x1a0)];}),_0x43ceb9['push'](..._0x207110)),_0x43ceb9[_0x34c830(0x168)]((_0x32c1c4,_0x3fff7c)=>_0x32c1c4[_0x34c830(0x187)]>_0x3fff7c[_0x34c830(0x187)]?0x1:_0x3fff7c[_0x34c830(0x187)]>_0x32c1c4[_0x34c830(0x187)]?-0x1:0x0),_0x4e7d63[_0x34c830(0x25e)]({'date':_0x4757ab[_0x402f95+0x1][_0x34c830(0x1f0)],'changes':_0x43ceb9}));}}),dbConfig[_0x338d24(0x20d)](_0x338d24(0x1fa))[_0x338d24(0x15f)]({'botID':botID})['assign']({..._0x356dc0,'liquidity':_0x4e7d63})[_0x338d24(0x185)]();}}config=getConfiguration(botID);let _0x557c0e=dbPerformance[_0x338d24(0x20d)](_0x338d24(0x205))[_0x338d24(0x26e)]();_0x557c0e!=_0x338d24(0x173)&&(dbPerformance[_0x338d24(0x225)]('version',_0x338d24(0x173))[_0x338d24(0x185)](),setStartDatePerformance());let _0xe33c=dbCoinResults[_0x338d24(0x20d)](_0x338d24(0x205))[_0x338d24(0x26e)]();_0xe33c!=_0x338d24(0x1b5)&&(dbCoinResults[_0x338d24(0x20d)]('coins')[_0x338d24(0x1b4)]()['write'](),dbCoinResults[_0x338d24(0x225)](_0x338d24(0x205),_0x338d24(0x1b5))[_0x338d24(0x185)](),dbCoinResults[_0x338d24(0x225)](_0x338d24(0x256),getTimeStamp())[_0x338d24(0x185)]());}function getConfiguration(_0x5b816e){const _0x1057cc=_0x322b92;let _0x2e2107=dbConfig[_0x1057cc(0x20d)]('bot')[_0x1057cc(0x15f)]({'botID':_0x5b816e})[_0x1057cc(0x26e)]();if(_0x2e2107){let _0x28609c=![];typeof _0x2e2107[_0x1057cc(0x19b)]==_0x1057cc(0x270)&&(_0x2e2107={..._0x2e2107,'threshold':Number(_0x2e2107[_0x1057cc(0x19b)])},_0x28609c=!![]),_0x2e2107['change24h']==null&&(_0x2e2107={..._0x2e2107,'change24h':-0x14},_0x28609c=!![]),_0x28609c&&(_0x2e2107={'botID':_0x2e2107[_0x1057cc(0x267)],'exchange':_0x2e2107[_0x1057cc(0x266)],'apiKey':_0x2e2107['apiKey'],'apiSecret':_0x2e2107[_0x1057cc(0x1c6)],'basecoin':_0x2e2107['basecoin'],'botname':_0x2e2107['botname'],'showname':_0x2e2107[_0x1057cc(0x22d)],'threshold':_0x2e2107[_0x1057cc(0x19b)],'ordertype':_0x2e2107[_0x1057cc(0x248)],'timeout':_0x2e2107[_0x1057cc(0x210)],'startdate':_0x2e2107['startdate'],'recreate':_0x2e2107[_0x1057cc(0x1b1)],'timeshift':_0x2e2107[_0x1057cc(0x1e3)],'headless':_0x2e2107['headless'],'cooldown':_0x2e2107['cooldown'],'change24h':_0x2e2107[_0x1057cc(0x1ac)],'emojibuy':_0x2e2107['emojibuy'],'emojisell':_0x2e2107[_0x1057cc(0x1cc)],'portfolio':_0x2e2107[_0x1057cc(0x15a)],'liquidity':_0x2e2107[_0x1057cc(0x1b0)]},dbConfig[_0x1057cc(0x20d)](_0x1057cc(0x1fa))[_0x1057cc(0x1b4)]()[_0x1057cc(0x185)](),dbConfig['get'](_0x1057cc(0x1fa))[_0x1057cc(0x25e)](_0x2e2107)[_0x1057cc(0x185)]());}else _0x2e2107={'botID':_0x5b816e,'exchange':'binance','apiKey':'','apiSecret':'','basecoin':'','botname':_0x1057cc(0x208)+_0x5b816e,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x1057cc(0x1e3)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x2e2107;}function emittedConfiguration(){const _0x5da3cf=_0x322b92;let _0x124865;return config['apiKey']==''?_0x124865=config:_0x124865={...config,'apiKey':'************','apiSecret':_0x5da3cf(0x241)},_0x124865;}function getSettings(){const _0x5a080f=_0x322b92;return dbSettings[_0x5a080f(0x20d)](_0x5a080f(0x27c))[_0x5a080f(0x26e)]();}function getSecure(){const _0x5d1840=_0x322b92;return dbSecure[_0x5d1840(0x20d)](_0x5d1840(0x16f))[_0x5d1840(0x26e)]()||{};}function updateTimeshift(_0x1262e5){const _0x5c6465=_0x322b92;let _0x24f563=dbConfig['get'](_0x5c6465(0x1fa))[_0x5c6465(0x15f)]({'botID':botID})['value']();_0x24f563&&dbConfig[_0x5c6465(0x20d)](_0x5c6465(0x1fa))['find']({'botID':botID})[_0x5c6465(0x272)]({'timeshift':_0x1262e5})[_0x5c6465(0x185)](),config['timeshift']=_0x1262e5,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x564eb0){const _0x4c3e56=_0x322b92;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x108573=dbConfig[_0x4c3e56(0x20d)](_0x4c3e56(0x1fa))[_0x4c3e56(0x15f)]({'botID':botID})[_0x4c3e56(0x26e)]();_0x564eb0={..._0x564eb0,'apiKey':crypt[_0x4c3e56(0x15e)](secure['privateKey'],_0x564eb0[_0x4c3e56(0x1b8)])[_0x4c3e56(0x273)],'apiSecret':crypt[_0x4c3e56(0x15e)](secure[_0x4c3e56(0x22f)],_0x564eb0[_0x4c3e56(0x1c6)])['message']};if(_0x108573){if(_0x564eb0[_0x4c3e56(0x1b8)]==_0x4c3e56(0x241))_0x564eb0[_0x4c3e56(0x1b8)]=config[_0x4c3e56(0x1b8)];if(_0x564eb0[_0x4c3e56(0x1c6)]=='************')_0x564eb0[_0x4c3e56(0x1c6)]=config[_0x4c3e56(0x1c6)];dbConfig['get'](_0x4c3e56(0x1fa))['find']({'botID':botID})[_0x4c3e56(0x272)](_0x564eb0)['write']();}else dbConfig[_0x4c3e56(0x20d)](_0x4c3e56(0x1fa))['push'](_0x564eb0)[_0x4c3e56(0x185)](),process[_0x4c3e56(0x233)]({'status':'enabled','live':_0x4c3e56(0x16c)},_0x155e61=>{});config={..._0x564eb0},setStartDatePerformance(),process[_0x4c3e56(0x233)]({'botname':_0x564eb0[_0x4c3e56(0x24b)]},_0x5cb101=>{}),updateBotManager();const _0x121945=getNormalizedPerformance();getStartingBalances(_0x121945),emitPerformance(_0x121945),proxyEmit(_0x4c3e56(0x15d)),reset();}async function storeHeadless(_0x2299dc){const _0x5000c9=_0x322b92,_0xe89aa3={...config,'headless':_0x2299dc['headless']};let _0x43c89c=dbConfig[_0x5000c9(0x20d)](_0x5000c9(0x1fa))[_0x5000c9(0x15f)]({'botID':botID})[_0x5000c9(0x26e)]();_0x43c89c&&dbConfig[_0x5000c9(0x20d)](_0x5000c9(0x1fa))[_0x5000c9(0x15f)]({'botID':botID})[_0x5000c9(0x272)](_0xe89aa3)[_0x5000c9(0x185)](),config={..._0xe89aa3},updateBotManager(),proxyEmit(_0x5000c9(0x170),emittedConfiguration());}function noslash(_0x4d392d){return _0x4d392d['replace']('/','');}function _0x4f88(_0x3e149e,_0x1f8508){const _0x6ce81e=_0x4a46();return _0x4f88=function(_0x922870,_0xc5c281){_0x922870=_0x922870-0x14b;let _0x4a4654=_0x6ce81e[_0x922870];return _0x4a4654;},_0x4f88(_0x3e149e,_0x1f8508);}async function updateNumberCoins(_0x2ca423){const _0x502c0b=_0x322b92;_0x2ca423[_0x502c0b(0x1c2)]&&_0x2ca423[_0x502c0b(0x1c2)]==_0x502c0b(0x1be)&&(_0x2ca423['eventTime']!=lastOutboundEventTime&&(lastOutboundEventTime=_0x2ca423[_0x502c0b(0x222)],currentCoins=await getCoins(),validateOrders()));if(_0x2ca423[_0x502c0b(0x1c2)]&&_0x2ca423['eventType']==_0x502c0b(0x1bf)){if(_0x2ca423['orderStatus']==_0x502c0b(0x216)){if(lastOrders)lastOrders[_0x502c0b(0x183)](async _0x2338ab=>{const _0x46338a=_0x502c0b;if(_0x2338ab[_0x46338a(0x228)]==_0x2ca423['orderId']&&_0x2338ab[_0x46338a(0x260)]==0x0){_0x2338ab['price']=_0x2ca423[_0x46338a(0x246)]/_0x2ca423[_0x46338a(0x1f4)];if(_0x2338ab[_0x46338a(0x18d)])_0x2338ab[_0x46338a(0x260)]=_0x2ca423[_0x46338a(0x1f4)]*_0x2338ab[_0x46338a(0x235)];else _0x2338ab[_0x46338a(0x260)]=_0x2ca423[_0x46338a(0x1f4)];_0x2338ab[_0x46338a(0x1e7)]={'cost':_0x2ca423[_0x46338a(0x15b)],'currency':_0x2ca423['commissionAsset']},currentCoins=await getCoins(),validateOrders(),await updateCoinResults(_0x2338ab);}});}}}async function getCoins(_0xb9bc20=!![],_0xda55c=config['basecoin']){const _0x211a5d=_0x322b92;let _0x35a831,_0x5a6741=[],_0x3edf25=[],_0x3bf699=[];try{_0x35a831=await exchange['fetchBalance'](),mybalances=_0x35a831[_0x211a5d(0x202)];if(!_0xb9bc20)for(const [_0x10471b,_0x539d2d]of Object['entries'](mybalances)){_0x3bf699[_0x211a5d(0x25e)](_0x10471b);}else config[_0x211a5d(0x15a)][_0x211a5d(0x183)](_0x2a4e66=>{const _0x235ade=_0x211a5d;if(!_0x2a4e66[_0x235ade(0x224)])_0x3bf699['push'](_0x2a4e66[_0x235ade(0x187)]);});if(_0xda55c=='')for(const [_0x2229b0,_0x9850a2]of Object['entries'](mybalances)){_0x9850a2[_0x211a5d(0x23f)]()!=0x0&&_0x3edf25[_0x211a5d(0x25e)]({'coin':_0x2229b0});}else{let _0x235cb4=0x0,_0x2cc381=![];for(const [_0x3d1b5c,_0x2a947b]of Object['entries'](mybalances)){if(_0x3bf699['includes'](_0x3d1b5c)){const _0x45dc7d=config[_0x211a5d(0x15a)][_0x211a5d(0x15f)](_0x59bce8=>_0x59bce8[_0x211a5d(0x187)]==_0x3d1b5c),_0x517b0e=_0x3d1b5c+'/'+_0xda55c,_0x2c5fbf=_0xda55c+'/'+_0x3d1b5c;_0x2cc381=![];if((_0x2a947b['toString']()!=0x0||_0x45dc7d)&&(allSymbols[_0x211a5d(0x1b2)](_0x517b0e)||_0x3d1b5c==_0xda55c)){if(_0x3d1b5c!=_0xda55c){_0x5a6741[_0x211a5d(0x25e)](_0x517b0e);const _0x2896a6=await exchange[_0x211a5d(0x236)](_0x517b0e);_0x2896a6[_0x211a5d(0x23b)]>0x0&&(_0x2cc381=!![]);}_0x3edf25['push']({'coin':_0x3d1b5c,'symbol':_0x517b0e,'reverse':![],'number':Math[_0x211a5d(0x1c5)](_0x2a947b+(_0x45dc7d&&_0x45dc7d[_0x211a5d(0x1eb)]||0x0),0x0),'order':_0x2cc381});}else{if((_0x2a947b[_0x211a5d(0x23f)]()!=0x0||_0x45dc7d)&&allSymbols[_0x211a5d(0x1b2)](_0x2c5fbf)){if(_0x3d1b5c!=_0xda55c){_0x5a6741[_0x211a5d(0x25e)](_0x2c5fbf);const _0x3ce4a4=await exchange[_0x211a5d(0x236)](_0x2c5fbf);_0x3ce4a4[_0x211a5d(0x23b)]>0x0&&(_0x2cc381=!![]);}_0x3edf25[_0x211a5d(0x25e)]({'coin':_0x3d1b5c,'symbol':_0x2c5fbf,'reverse':!![],'number':Math[_0x211a5d(0x1c5)](_0x2a947b+(_0x45dc7d&&_0x45dc7d[_0x211a5d(0x1eb)]||0x0),0x0),'order':_0x2cc381});}}}if(_0x2cc381)_0x235cb4++;}_0x235cb4==0x0&&(lockOrders&&validateOrders(_0x211a5d(0x1ce)));}}catch(_0x567b7b){if(!_0xb9bc20){if(_0x567b7b[_0x211a5d(0x23f)]()[_0x211a5d(0x1b2)](_0x211a5d(0x249)))return logHistory('error',_0x211a5d(0x26f)),![];else{if(_0x567b7b['toString']()[_0x211a5d(0x1b2)](_0x211a5d(0x21c)))return logHistory(_0x211a5d(0x166),_0x211a5d(0x232)),![];else{if(_0x567b7b[_0x211a5d(0x23f)]()[_0x211a5d(0x1b2)](_0x211a5d(0x253)))return logHistory('error',_0x211a5d(0x15c)),![];else await handleError(_0x567b7b,_0x211a5d(0x14c));}}}else await handleError(_0x567b7b,_0x211a5d(0x14c));}return _0x3edf25;}async function getPortfolio(_0x402030){const _0x2fb12b=_0x322b92;let _0x4ec91e=[],_0x1ecf5b=[],_0x2382b7,_0x369275=[],_0xa067f5,_0x4c0d6a;_0x402030[_0x2fb12b(0x1b8)]===_0x2fb12b(0x241)||_0x402030[_0x2fb12b(0x1c6)]==='************'?(_0xa067f5=config[_0x2fb12b(0x1b8)],_0x4c0d6a=config[_0x2fb12b(0x1c6)]):(_0xa067f5=_0x402030['apiKey'],_0x4c0d6a=_0x402030[_0x2fb12b(0x1c6)]);await initExchange(_0xa067f5,_0x4c0d6a);let _0x146bf9=await loadSymbols();if(_0x146bf9){_0x369275=await getCoins(![],_0x402030['basecoin']);if(_0x369275===![])proxyEmit(_0x2fb12b(0x15a),![]);else{if(_0x402030[_0x2fb12b(0x1d6)]=='')proxyEmit(_0x2fb12b(0x15a),_0x369275);else{_0x369275[_0x2fb12b(0x183)](_0x121a6e=>{const _0x46baa0=_0x2fb12b;if(_0x121a6e[_0x46baa0(0x187)]!=_0x402030[_0x46baa0(0x1d6)])_0x4ec91e[_0x46baa0(0x25e)](_0x121a6e[_0x46baa0(0x24e)]);});try{_0x1ecf5b=await exchange[_0x2fb12b(0x198)](_0x4ec91e);}catch(_0x6b4267){await handleError(_0x6b4267,'getPortfolio()');}_0x369275['forEach'](_0x37f538=>{const _0x43cafa=_0x2fb12b;_0x37f538['coin']!=_0x402030[_0x43cafa(0x1d6)]?_0x2382b7=_0x37f538[_0x43cafa(0x18d)]?0x1/_0x1ecf5b[_0x37f538[_0x43cafa(0x24e)]][_0x43cafa(0x217)]:_0x1ecf5b[_0x37f538[_0x43cafa(0x24e)]]['last']:_0x2382b7=0x1,_0x37f538[_0x43cafa(0x235)]=formatResult(_0x2382b7,0x8);}),proxyEmit(_0x2fb12b(0x15a),_0x369275);}}}else proxyEmit(_0x2fb12b(0x15a),![]);}function checkMinimums(_0x562b41){const _0x5271ad=_0x322b92;let _0x2317fc=!![];const _0x427c32=!_0x562b41[_0x5271ad(0x18d)]?markets[_0x562b41[_0x5271ad(0x24e)]]['limits'][_0x5271ad(0x1a3)][_0x5271ad(0x238)]:markets[_0x562b41[_0x5271ad(0x24e)]][_0x5271ad(0x17c)][_0x5271ad(0x1aa)]['min'],_0x1aebd9=!_0x562b41[_0x5271ad(0x18d)]?markets[_0x562b41[_0x5271ad(0x24e)]][_0x5271ad(0x17c)]['cost']['min']:markets[_0x562b41['symbol']][_0x5271ad(0x17c)][_0x5271ad(0x1a3)][_0x5271ad(0x238)];if(Math[_0x5271ad(0x17d)](_0x562b41['trade'])<_0x427c32)_0x2317fc=![];if(Math[_0x5271ad(0x17d)](_0x562b41[_0x5271ad(0x22b)])*_0x562b41[_0x5271ad(0x217)]<_0x1aebd9)_0x2317fc=![];if(_0x562b41['side']==_0x5271ad(0x19c)){let _0x15d030=config['portfolio'][_0x5271ad(0x15f)](_0x46b2b2=>_0x46b2b2['coin']==_0x562b41[_0x5271ad(0x187)]);if(_0x15d030[_0x5271ad(0x1eb)]>0x0){if(Math[_0x5271ad(0x17d)](_0x562b41[_0x5271ad(0x22b)])>_0x562b41['number']-_0x15d030[_0x5271ad(0x1eb)])_0x2317fc=![];}else{if(Math[_0x5271ad(0x17d)](_0x562b41[_0x5271ad(0x22b)])>_0x562b41[_0x5271ad(0x1a0)])_0x2317fc=![];}}if(_0x562b41[_0x5271ad(0x240)]=='buy'){let _0x471f9e=config[_0x5271ad(0x15a)][_0x5271ad(0x15f)](_0x21a94f=>_0x21a94f[_0x5271ad(0x187)]==config['basecoin']),_0x171bad=currentCoins[_0x5271ad(0x15f)](_0x82f266=>_0x82f266[_0x5271ad(0x187)]==config[_0x5271ad(0x1d6)]);if(_0x471f9e[_0x5271ad(0x1eb)]>0x0){if(Math[_0x5271ad(0x17d)](_0x562b41[_0x5271ad(0x22b)])*_0x562b41[_0x5271ad(0x217)]>_0x171bad[_0x5271ad(0x1a0)]-_0x471f9e[_0x5271ad(0x1eb)])_0x2317fc=![];}else{if(Math[_0x5271ad(0x17d)](_0x562b41[_0x5271ad(0x22b)])*_0x562b41['last']>_0x171bad['number'])_0x2317fc=![];}}return _0x2317fc;}async function getBalances(){const _0x4ff156=_0x322b92;let _0x14d778=0x0,_0x5a8ba9;const _0x31a312=config[_0x4ff156(0x19b)];if(config[_0x4ff156(0x162)]&&config['change24h']<0x0)await validate24hChanges();currentCoins['forEach'](_0x58974a=>{const _0x30715c=_0x4ff156;if(_0x58974a[_0x30715c(0x187)]!=config[_0x30715c(0x1d6)]){let _0x51ddad=global[_0x30715c(0x227)][noslash(_0x58974a[_0x30715c(0x24e)])];_0x5a8ba9=_0x58974a[_0x30715c(0x18d)]?0x1/_0x51ddad:_0x51ddad;}else _0x5a8ba9=0x1;let _0x500d8c=_0x58974a[_0x30715c(0x1a0)]*_0x5a8ba9;_0x14d778+=_0x500d8c,_0x58974a['last']=formatResult(Number(_0x5a8ba9),0x8),_0x58974a['value']=_0x500d8c;}),currentCoins[_0x4ff156(0x183)](_0x462b32=>{const _0x5c20b6=_0x4ff156;let _0x548b62=config['portfolio'][_0x5c20b6(0x15f)](_0x2bdab3=>_0x2bdab3[_0x5c20b6(0x187)]==_0x462b32[_0x5c20b6(0x187)]),_0x7286d9=Number(_0x548b62[_0x5c20b6(0x191)]),_0x5dfb72=_0x462b32[_0x5c20b6(0x26e)]/_0x14d778*0x64,_0x551d13=_0x7286d9*_0x14d778/0x64/_0x462b32['last']-_0x462b32[_0x5c20b6(0x1a0)];_0x462b32[_0x5c20b6(0x191)]=formatResult(_0x5dfb72,0x3),_0x462b32[_0x5c20b6(0x1b6)]=formatResult(_0x7286d9,0x3),_0x462b32[_0x5c20b6(0x22b)]=formatResult(_0x551d13,0x8),_0x462b32[_0x5c20b6(0x240)]='',_0x462b32[_0x5c20b6(0x194)]=![];if(_0x462b32['coin']!=config['basecoin']){if(_0x462b32[_0x5c20b6(0x191)]>_0x7286d9)_0x462b32[_0x5c20b6(0x240)]='sell',_0x462b32[_0x5c20b6(0x194)]=checkMinimums(_0x462b32);else _0x462b32['distribution']<_0x7286d9&&(_0x462b32[_0x5c20b6(0x240)]=_0x5c20b6(0x189),_0x462b32[_0x5c20b6(0x194)]=checkMinimums(_0x462b32));}_0x462b32[_0x5c20b6(0x1af)]=_0x462b32['distribution']/_0x462b32[_0x5c20b6(0x1b6)]-0x1;}),currentCoins['sort']((_0x29bb8e,_0x56039f)=>_0x29bb8e['delta']<_0x56039f[_0x4ff156(0x1af)]?0x1:_0x56039f[_0x4ff156(0x1af)]<_0x29bb8e[_0x4ff156(0x1af)]?-0x1:0x0);const _0x3cc247=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3cc247[_0x4ff156(0x192)],'usd':_0x3cc247[_0x4ff156(0x197)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x31a312},proxyEmit(_0x4ff156(0x19a),{'serverversion':serverversion,'balances':lastBalances});if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x31a312});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x31a312});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x150e92=_0x322b92;if(!lastBalances)return;let _0x2e1382=[],_0x1d6d0c,_0x1b7115=JSON[_0x150e92(0x265)](lastBalances[_0x150e92(0x15a)]);_0x1b7115[_0x150e92(0x168)]((_0x5c03dc,_0xa93e19)=>_0x5c03dc[_0x150e92(0x187)]>_0xa93e19[_0x150e92(0x187)]?0x1:_0xa93e19[_0x150e92(0x187)]>_0x5c03dc[_0x150e92(0x187)]?-0x1:0x0),_0x1b7115[_0x150e92(0x183)](_0x4a0c2c=>{const _0x5c475b=_0x150e92;let _0x34f5fc={'coin':_0x4a0c2c[_0x5c475b(0x187)],'number':_0x4a0c2c['number'],'price':_0x4a0c2c['last']};_0x2e1382[_0x5c475b(0x25e)](_0x34f5fc);});const _0xbd8869=await getFiat();_0x1d6d0c={'date':lastBalances[_0x150e92(0x160)][_0x150e92(0x14e)]('\x20')[0x0],'eur':_0xbd8869[_0x150e92(0x192)],'usd':_0xbd8869[_0x150e92(0x197)],'coins':_0x2e1382};let _0x340a18=dbPerformance['get'](_0x150e92(0x196))[_0x150e92(0x15f)]({'date':_0x1d6d0c['date']})[_0x150e92(0x26e)]();_0x340a18?_0x1d6d0c[_0x150e92(0x1f0)]!=config[_0x150e92(0x1ca)]&&dbPerformance[_0x150e92(0x20d)]('data')[_0x150e92(0x15f)]({'date':_0x1d6d0c['date']})[_0x150e92(0x272)](_0x1d6d0c)[_0x150e92(0x185)]():dbPerformance[_0x150e92(0x20d)](_0x150e92(0x196))['push'](_0x1d6d0c)[_0x150e92(0x185)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3fbe63=_0x322b92;let _0x129f34=[];if(dbPerformance[_0x3fbe63(0x16d)](_0x3fbe63(0x196))[_0x3fbe63(0x26e)]()){let _0x479adc=dbPerformance[_0x3fbe63(0x20d)]('data')['cloneDeep']()[_0x3fbe63(0x17f)]('date')[_0x3fbe63(0x26e)](),_0x41806f=[...config[_0x3fbe63(0x1b0)]];_0x41806f[_0x3fbe63(0x168)]((_0x8bd7db,_0xb83fd1)=>_0x8bd7db['date']>_0xb83fd1['date']?-0x1:_0xb83fd1['date']>_0x8bd7db[_0x3fbe63(0x1f0)]?0x1:0x0);let _0x1d8317=0x1,_0x59a4e1=[],_0x404dc1=0x0;_0x479adc[_0x3fbe63(0x1a9)]()[_0x3fbe63(0x18d)]()['forEach']((_0xff6a9d,_0x523f8c)=>{const _0x7947e3=_0x3fbe63;if(_0x41806f[_0x404dc1]){if(_0x479adc[_0x479adc[_0x7947e3(0x23b)]-_0x523f8c]&&_0x41806f[_0x404dc1][_0x7947e3(0x1f0)]==_0x479adc[_0x479adc[_0x7947e3(0x23b)]-_0x523f8c][_0x7947e3(0x1f0)]){if(_0x523f8c<_0x479adc[_0x7947e3(0x23b)]){let _0x213f45=0x0,_0x46252b=0x0;_0x479adc[_0x479adc[_0x7947e3(0x23b)]-_0x523f8c]['coins']['forEach'](_0x13b01b=>{const _0x3aea05=_0x7947e3;_0x46252b+=_0x13b01b[_0x3aea05(0x1a0)]*_0x13b01b[_0x3aea05(0x235)];}),_0x41806f[_0x404dc1][_0x7947e3(0x20f)][_0x7947e3(0x183)](_0x23d39c=>{const _0x4a1706=_0x7947e3;_0x213f45+=_0x23d39c[_0x4a1706(0x1a0)]*_0x23d39c[_0x4a1706(0x235)];}),_0x1d8317*=_0x213f45/(_0x46252b-_0x213f45)+0x1;}_0x404dc1++;}}let _0x50be5d=0x0;_0xff6a9d[_0x7947e3(0x1df)]['forEach'](_0x4e98=>{const _0x5c652f=_0x7947e3;_0x50be5d+=_0x4e98[_0x5c652f(0x1a0)]*_0x4e98[_0x5c652f(0x235)];}),_0x59a4e1[_0x479adc[_0x7947e3(0x23b)]-_0x523f8c-0x1]=_0x50be5d*(_0x1d8317-0x1);});let _0x4380ba=[];_0x41806f=[...config[_0x3fbe63(0x1b0)]]||[];let _0x470e0a=0x0;_0x404dc1=0x0,_0x479adc[_0x3fbe63(0x183)]((_0x3e124f,_0x5e799f)=>{const _0x10395e=_0x3fbe63;if(_0x41806f[_0x404dc1]){const _0x44d6ac=fns[_0x10395e(0x265)](_0x41806f[_0x404dc1][_0x10395e(0x1f0)],_0x10395e(0x26d),new Date()),_0x5da2ad=fns[_0x10395e(0x265)](_0x3e124f[_0x10395e(0x1f0)],_0x10395e(0x26d),new Date());if(fns[_0x10395e(0x199)](_0x44d6ac,_0x5da2ad)){let _0x3f982a=0x0;_0x41806f[_0x404dc1][_0x10395e(0x20f)][_0x10395e(0x183)](_0x43cf53=>{const _0x1955aa=_0x10395e;!_0x4380ba[_0x43cf53[_0x1955aa(0x187)]]?_0x4380ba[_0x43cf53[_0x1955aa(0x187)]]=_0x43cf53['number']:(_0x3f982a=_0x4380ba[_0x43cf53[_0x1955aa(0x187)]],_0x4380ba[_0x43cf53['coin']]+=_0x43cf53[_0x1955aa(0x1a0)]);const _0x709c63=_0x3e124f[_0x1955aa(0x1df)][_0x1955aa(0x15f)](_0xf9b492=>_0xf9b492[_0x1955aa(0x187)]==_0x43cf53[_0x1955aa(0x187)]);(!_0x709c63||_0x709c63[_0x1955aa(0x1a0)]==0x0)&&(_0x470e0a+=(-_0x43cf53[_0x1955aa(0x1a0)]-_0x3f982a)*_0x43cf53['price']);}),_0x404dc1++;}}_0x3e124f[_0x10395e(0x1df)][_0x10395e(0x183)]((_0x549589,_0x296ba4)=>{const _0x34ddc0=_0x10395e;_0x4380ba[_0x549589[_0x34ddc0(0x187)]]&&(_0x549589={..._0x549589,'initial':_0x4380ba[_0x549589['coin']]}),_0x3e124f[_0x34ddc0(0x1df)][_0x296ba4]=_0x549589;}),_0x129f34[_0x10395e(0x25e)]({'date':_0x3e124f[_0x10395e(0x1f0)],'eur':_0x3e124f[_0x10395e(0x192)],'usd':_0x3e124f['usd'],'offset':_0x59a4e1[_0x5e799f],'netoffset':_0x470e0a,'coins':_0x3e124f[_0x10395e(0x1df)]});});}return _0x129f34;}function emitPerformance(_0x57976b){const _0x1bc93f=_0x322b92;_0x57976b[_0x1bc93f(0x23b)]!==0x0?(proxyEmit(_0x1bc93f(0x23c),_0x57976b),lastPerformanceEmitted=getDate()):proxyEmit(_0x1bc93f(0x23c),[]);}function getPerf(_0x25029a,_0x5975d8){const _0x2f472b=_0x322b92;let _0x5636cb=0x0,_0x57de2e=0x0,_0x558cd7=0x0;_0x25029a[_0x2f472b(0x1df)]['forEach'](_0x2d8860=>{const _0x3d1497=_0x2f472b;_0x5636cb+=_0x2d8860[_0x3d1497(0x1a0)]*_0x2d8860[_0x3d1497(0x235)];});_0x5975d8&&(_0x5636cb+=_0x25029a[_0x2f472b(0x1eb)]);if(config[_0x2f472b(0x1d6)]===_0x2f472b(0x1fb)||config[_0x2f472b(0x1d6)]===_0x2f472b(0x1e2))_0x57de2e=_0x5636cb*_0x25029a[_0x2f472b(0x192)],_0x558cd7=_0x5636cb*_0x25029a[_0x2f472b(0x197)];else{if(config['basecoin']==='BUSD'||config[_0x2f472b(0x1d6)]===_0x2f472b(0x278)||config[_0x2f472b(0x1d6)]===_0x2f472b(0x22a))_0x57de2e=_0x5636cb*_0x25029a[_0x2f472b(0x192)]/_0x25029a[_0x2f472b(0x197)],_0x558cd7=_0x5636cb;else config[_0x2f472b(0x1d6)]==='EUR'&&(_0x57de2e=_0x5636cb,_0x558cd7=_0x5636cb*_0x25029a[_0x2f472b(0x197)]/_0x25029a[_0x2f472b(0x192)]);}return[_0x5636cb,_0x57de2e,_0x558cd7];}async function getStartingBalances(_0x31398c,_0x47a442=!![]){const _0x3b9f2a=_0x322b92;if(_0x31398c['length']!==0x0){const [_0x3d6745,_0x53e77f,_0x24c406]=getPerf(_0x31398c[0x0],!![]);let _0x3512a2=[];config[_0x3b9f2a(0x15a)][_0x3b9f2a(0x183)](_0x47b24c=>{const _0x75636b=_0x3b9f2a;let _0x52710d=0x0,_0x249f0b;config[_0x75636b(0x1b0)]['forEach'](_0xba73fb=>{const _0x59b900=_0x75636b;let _0x340e52=_0xba73fb[_0x59b900(0x20f)][_0x59b900(0x15f)](_0x57f0de=>_0x57f0de[_0x59b900(0x187)]==_0x47b24c[_0x59b900(0x187)]);if(_0x340e52){_0x52710d+=_0x340e52[_0x59b900(0x1a0)];if(!_0x249f0b)_0x249f0b=_0x340e52[_0x59b900(0x235)];}}),_0x3512a2[_0x75636b(0x25e)]({'coin':_0x47b24c[_0x75636b(0x187)],'number':_0x52710d,'initialprice':_0x249f0b});});const _0x5aa99a={'basecoin':_0x3d6745,'eur':_0x53e77f,'usd':_0x24c406,'coins':_0x3512a2};if(_0x47a442)proxyEmit('starting-balances',_0x5aa99a);return _0x5aa99a;}}function headlessMode(_0x4b250d){const _0x173c31=_0x322b92;let _0x56c8f5=_0x4b250d['portfolio'],_0x16e83b=_0x4b250d[_0x173c31(0x19b)],_0x29e9ee=[];for(let _0x5c4d48 of _0x56c8f5){if(_0x5c4d48[_0x173c31(0x187)]!=config['basecoin']){if(_0x5c4d48[_0x173c31(0x1af)]>=_0x16e83b/0x64){if(_0x5c4d48[_0x173c31(0x194)])_0x29e9ee[_0x173c31(0x25e)](_0x5c4d48);}else{if(_0x5c4d48[_0x173c31(0x1af)]<=-_0x16e83b/0x64){if(_0x5c4d48[_0x173c31(0x194)])_0x29e9ee['push'](_0x5c4d48);}}}}_0x29e9ee[_0x173c31(0x23b)]>0x0&&placeOrder(_0x29e9ee);}function notifyBalance(_0x125deb){const _0x320b74=_0x322b92;let _0x31cfb6=_0x125deb['portfolio'],_0x530d75=_0x125deb[_0x320b74(0x19b)],_0x4e1b06=[];for(let _0x281db8 of _0x31cfb6){if(_0x281db8['coin']!=config[_0x320b74(0x1d6)]){if(_0x281db8[_0x320b74(0x1af)]>=_0x530d75/0x64){if(_0x281db8[_0x320b74(0x194)])_0x4e1b06['push'](_0x281db8);}else{if(_0x281db8[_0x320b74(0x1af)]<=-_0x530d75/0x64){if(_0x281db8['valid'])_0x4e1b06['push'](_0x281db8);}}}}if(_0x4e1b06['length']>0x0){let _0x5e28a4=_0x4e1b06[_0x320b74(0x259)](_0x31b90d=>_0x31b90d[_0x320b74(0x187)]);_0x5e28a4[_0x320b74(0x168)]();let _0x4ad151=_0x5e28a4[_0x320b74(0x17a)](',\x20');if(lastCoinsToBalance!==_0x4ad151)logHistory(_0x320b74(0x230),_0x320b74(0x237)+_0x4ad151);lastCoinsToBalance=_0x4ad151;}}function symbolToCoin(_0x1b6910){const _0x2a4391=_0x322b92;let _0x2b0df4;if(_0x1b6910['includes']('/'+config['basecoin']))_0x2b0df4=_0x1b6910[_0x2a4391(0x25d)]('/'+config[_0x2a4391(0x1d6)],'');if(_0x1b6910[_0x2a4391(0x1b2)](config['basecoin']+'/'))_0x2b0df4=_0x1b6910['replace'](config[_0x2a4391(0x1d6)]+'/','');return _0x2b0df4;}async function validateOrders(_0x330a6f){const _0x1571b3=_0x322b92;if(_0x330a6f)validateOrdersState=_0x330a6f;let _0x2bcdc2=[],_0x14e7a2=config[_0x1571b3(0x248)]==_0x1571b3(0x1f2)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x1571b3(0x210)]*0x3c*0x3e8/validateOrderInterval;if(!lockOrders)return;lastOrders[_0x1571b3(0x183)](_0x5524d4=>{const _0x28269f=_0x1571b3;let _0x1a9ffc=![];if(_0x5524d4[_0x28269f(0x260)]>0x0)_0x1a9ffc=!![];else{let _0x2c15c6=previousCoins[_0x28269f(0x15f)](_0x44a5e5=>_0x44a5e5[_0x28269f(0x187)]==symbolToCoin(_0x5524d4[_0x28269f(0x24e)])),_0x44b23a=currentCoins[_0x28269f(0x15f)](_0x2eefed=>_0x2eefed[_0x28269f(0x187)]==symbolToCoin(_0x5524d4[_0x28269f(0x24e)])),_0x34d86c,_0x506ddb;_0x5524d4['side']==_0x28269f(0x189)&&!_0x5524d4[_0x28269f(0x18d)]||_0x5524d4[_0x28269f(0x240)]==_0x28269f(0x19c)&&_0x5524d4[_0x28269f(0x18d)]?(_0x34d86c=_0x2c15c6[_0x28269f(0x1a0)]+0.9*_0x5524d4[_0x28269f(0x260)],_0x506ddb=_0x2c15c6[_0x28269f(0x1a0)]+1.1*_0x5524d4[_0x28269f(0x260)]):(_0x34d86c=_0x2c15c6[_0x28269f(0x1a0)]-1.1*_0x5524d4[_0x28269f(0x260)],_0x506ddb=_0x2c15c6[_0x28269f(0x1a0)]-0.9*_0x5524d4[_0x28269f(0x260)]),_0x1a9ffc=_0x5524d4[_0x28269f(0x260)]!=0x0&&_0x44b23a[_0x28269f(0x1a0)]>=_0x34d86c&&_0x44b23a[_0x28269f(0x1a0)]<=_0x506ddb,_0x1a9ffc&&(_0x44b23a[_0x28269f(0x1b9)]=![]);}_0x2bcdc2['push'](_0x1a9ffc);if(_0x1a9ffc&&config[_0x28269f(0x248)]!=_0x28269f(0x1f2)){if(_0x5524d4[_0x28269f(0x18d)])logHistory(_0x28269f(0x1b9),_0x28269f(0x19f)+_0x5524d4['symbol']+'\x20'+_0x5524d4[_0x28269f(0x240)]+'\x20#'+formatResult(_0x5524d4['filled']/_0x5524d4[_0x28269f(0x235)],0x8)+'\x20@'+formatResult(_0x5524d4[_0x28269f(0x235)],0x8));else logHistory(_0x28269f(0x1b9),_0x28269f(0x19f)+_0x5524d4[_0x28269f(0x24e)]+'\x20'+_0x5524d4[_0x28269f(0x240)]+'\x20#'+formatResult(_0x5524d4[_0x28269f(0x260)],0x8)+'\x20@'+formatResult(_0x5524d4[_0x28269f(0x235)],0x8));}}),_0x2bcdc2['forEach']((_0x5b241b,_0x1001a8)=>{if(_0x5b241b)lastOrders['splice'](_0x1001a8,0x1);});const _0x4b0979=coolingDown?_0x1571b3(0x226):_0x1571b3(0x1e9);if(validateOrdersState==_0x1571b3(0x27b))validateOrdersState=_0x1571b3(0x178),_0x2bcdc2[_0x1571b3(0x1b2)](![])?config['ordertype']=='market'?logHistory(_0x1571b3(0x166),'Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused'):logHistory(_0x1571b3(0x166),_0x1571b3(0x1f1)):lockOrders=![];else{if(validateOrdersState=='ongoing'){if(_0x2bcdc2[_0x1571b3(0x1b2)](![])){}else lockOrders=![],config[_0x1571b3(0x248)]==_0x1571b3(0x1f2)?logHistory(_0x1571b3(0x230),_0x1571b3(0x1ef)+_0x4b0979):logHistory('success','Order(s)\x20filled\x20-\x20'+_0x4b0979);}else{if(validateOrdersState==_0x1571b3(0x23d))lockOrders=![],_0x2bcdc2['includes'](![])?config[_0x1571b3(0x248)]==_0x1571b3(0x1f2)?logHistory(_0x1571b3(0x230),'Order(s)\x20not\x20validated\x20after\x20'+Math[_0x1571b3(0x1ba)](_0x14e7a2*validateOrderInterval/0xea60)+_0x1571b3(0x206)+_0x4b0979):(await cancelOrders(),logHistory('success','Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x1571b3(0x1ba)](_0x14e7a2*validateOrderInterval/0xea60)+_0x1571b3(0x206)+_0x4b0979)):logHistory(_0x1571b3(0x230),_0x1571b3(0x1c3)+_0x4b0979),currentCoins=await getCoins();else{if(validateOrdersState==_0x1571b3(0x1ce)){lockOrders=![];if(config['ordertype']!='market')logHistory(_0x1571b3(0x230),_0x1571b3(0x1c3)+_0x4b0979);}}}}}async function cancelOrders(){const _0xa708ab=_0x322b92;lastOrders[_0xa708ab(0x183)](async _0x2efb60=>{const _0x3a3826=_0xa708ab;try{const _0x2b0500=await exchange[_0x3a3826(0x1c1)](_0x2efb60['orderId'],_0x2efb60[_0x3a3826(0x24e)]);}catch(_0x3a4c61){if(_0x3a4c61[_0x3a3826(0x23f)]()[_0x3a3826(0x1b2)]('OrderNotFound')){}else await handleError(_0x3a4c61,_0x3a3826(0x20b));}});}async function resetCoinResults(){const _0x2d0446=_0x322b92;dbCoinResults['get']('coins')[_0x2d0446(0x1b4)]()[_0x2d0446(0x185)]();let _0x1ae6b8=await getStartingBalances(getNormalizedPerformance(),![]);_0x1ae6b8['coins'][_0x2d0446(0x183)](_0xd384d0=>{const _0xa3aba5=_0x2d0446;if(_0xd384d0[_0xa3aba5(0x187)]!=config[_0xa3aba5(0x1d6)]){let _0x54235d={'coin':_0xd384d0[_0xa3aba5(0x187)],'number':_0xd384d0[_0xa3aba5(0x1a0)],'breakeven':formatResult(_0xd384d0[_0xa3aba5(0x271)],0x8),'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0xa3aba5(0x20d)](_0xa3aba5(0x1df))[_0xa3aba5(0x25e)](_0x54235d)[_0xa3aba5(0x185)]();}});}async function updateCoinResults(_0x2d1fcb){const _0x2081e1=_0x322b92;let _0x3d02d0,_0x507320,_0x2f3b78,_0x16ce7e,_0x2397d7,_0x6a059b;console[_0x2081e1(0x1fc)](_0x2081e1(0x252),_0x2d1fcb);let _0x277414=dbCoinResults[_0x2081e1(0x20d)](_0x2081e1(0x1df))[_0x2081e1(0x15f)]({'coin':_0x2d1fcb[_0x2081e1(0x187)]})[_0x2081e1(0x26e)]();if(!_0x277414)return;if(_0x2d1fcb[_0x2081e1(0x1e7)]&&_0x2d1fcb[_0x2081e1(0x1e7)][_0x2081e1(0x179)]==config['basecoin'])_0x3d02d0=_0x2d1fcb[_0x2081e1(0x1e7)][_0x2081e1(0x1aa)];else{if(_0x2d1fcb[_0x2081e1(0x1e7)]&&_0x2d1fcb[_0x2081e1(0x1e7)][_0x2081e1(0x179)]==_0x2081e1(0x1a4))_0x3d02d0=_0x2d1fcb[_0x2081e1(0x1e7)][_0x2081e1(0x1aa)]*global[_0x2081e1(0x227)][_0x2081e1(0x1a4)+config[_0x2081e1(0x1d6)]];else _0x3d02d0=0.001*_0x2d1fcb[_0x2081e1(0x260)];}_0x2d1fcb[_0x2081e1(0x18d)]&&(_0x6a059b={'coin':_0x2d1fcb[_0x2081e1(0x187)],'symbol':_0x2d1fcb[_0x2081e1(0x24e)],'filled':_0x2d1fcb['filled']*_0x2d1fcb[_0x2081e1(0x235)],'side':_0x2d1fcb[_0x2081e1(0x240)]=='sell'?_0x2081e1(0x189):'sell','price':0x1/_0x2d1fcb['price']},_0x2d1fcb={..._0x6a059b});_0x2d1fcb[_0x2081e1(0x240)]=='buy'?_0x2f3b78=(_0x277414[_0x2081e1(0x254)]*_0x277414['number']+_0x2d1fcb['price']*_0x2d1fcb[_0x2081e1(0x260)])/(_0x277414['number']+_0x2d1fcb[_0x2081e1(0x260)]):_0x2f3b78=(_0x277414[_0x2081e1(0x254)]*_0x277414[_0x2081e1(0x1a0)]-_0x2d1fcb[_0x2081e1(0x235)]*_0x2d1fcb['filled'])/(_0x277414[_0x2081e1(0x1a0)]-_0x2d1fcb['filled']);_0x2d1fcb[_0x2081e1(0x240)]==_0x2081e1(0x189)?_0x16ce7e=_0x277414[_0x2081e1(0x276)]:_0x16ce7e=_0x277414[_0x2081e1(0x276)]+(_0x2d1fcb[_0x2081e1(0x235)]-_0x277414[_0x2081e1(0x254)])*_0x2d1fcb['filled'];const _0x2c4c83=currentCoins[_0x2081e1(0x15f)](_0x16ecd3=>_0x16ecd3[_0x2081e1(0x187)]==_0x2d1fcb[_0x2081e1(0x187)]);_0x507320=_0x2c4c83[_0x2081e1(0x1a0)],_0x2397d7=(_0x2d1fcb['price']-_0x2f3b78)*_0x507320;let _0x424bd1={'coin':_0x2d1fcb[_0x2081e1(0x187)],'number':_0x507320,'breakeven':formatResult(_0x2f3b78,0x8),'realized':formatResult(_0x16ce7e,0x8),'unrealized':formatResult(_0x2397d7,0x8),'fees':formatResult(_0x277414['fees']+_0x3d02d0,0x8),'sells':_0x2d1fcb[_0x2081e1(0x240)]==_0x2081e1(0x19c)?_0x277414[_0x2081e1(0x24a)]+0x1:_0x277414[_0x2081e1(0x24a)],'buys':_0x2d1fcb['side']=='buy'?_0x277414[_0x2081e1(0x1e6)]+0x1:_0x277414['buys']};dbCoinResults[_0x2081e1(0x20d)](_0x2081e1(0x1df))[_0x2081e1(0x15f)]({'coin':_0x2d1fcb['coin']})[_0x2081e1(0x272)](_0x424bd1)[_0x2081e1(0x185)]();if(_0x2d1fcb[_0x2081e1(0x1e7)]&&_0x2d1fcb[_0x2081e1(0x1e7)][_0x2081e1(0x179)]==_0x2081e1(0x1a4)){const _0x22d50e=currentCoins[_0x2081e1(0x15f)](_0x93a48=>_0x93a48[_0x2081e1(0x187)]==_0x2081e1(0x1a4));_0x507320=_0x22d50e['number'];let _0x4f60d7=dbCoinResults[_0x2081e1(0x20d)]('coins')['find']({'coin':_0x2081e1(0x1a4)})[_0x2081e1(0x26e)]();_0x424bd1={..._0x4f60d7,'number':_0x507320},dbCoinResults[_0x2081e1(0x20d)](_0x2081e1(0x1df))['find']({'coin':_0x2081e1(0x1a4)})[_0x2081e1(0x272)](_0x424bd1)[_0x2081e1(0x185)]();}}async function placeOrder(_0x2367eb){const _0x5d85fb=_0x322b92,_0x141775=config[_0x5d85fb(0x248)]==_0x5d85fb(0x1f2)?_0x5d85fb(0x1f2):'limit';if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x5d85fb(0x1bc)](currentCoins));for(const _0x3f7dc4 of _0x2367eb){let _0x400c6a,_0x190680,_0x5a0f69,_0x79b567,_0x11635c,_0xa28e31=_0x3f7dc4['symbol'];try{const _0x33a1f5=await exchange[_0x5d85fb(0x198)]([_0xa28e31]),_0x1504c0=_0x33a1f5[_0xa28e31];_0x400c6a=_0x3f7dc4[_0x5d85fb(0x18d)]?0x1/_0x3f7dc4[_0x5d85fb(0x217)]:_0x3f7dc4[_0x5d85fb(0x217)],_0x190680=_0x1504c0[_0x5d85fb(0x16b)],_0x5a0f69=_0x1504c0[_0x5d85fb(0x1d5)];_0x3f7dc4[_0x5d85fb(0x18d)]?(_0x79b567=_0x3f7dc4[_0x5d85fb(0x240)]==_0x5d85fb(0x189)?'sell':_0x5d85fb(0x189),_0x11635c=Math[_0x5d85fb(0x17d)](_0x3f7dc4[_0x5d85fb(0x22b)])/_0x400c6a):(_0x79b567=_0x3f7dc4['side'],_0x11635c=Math[_0x5d85fb(0x17d)](_0x3f7dc4['trade']));_0x141775==_0x5d85fb(0x204)&&(config[_0x5d85fb(0x248)]==_0x5d85fb(0x212)&&(_0x400c6a=_0x79b567=='buy'?_0x190680:_0x5a0f69),config['ordertype']==_0x5d85fb(0x1ab)&&(_0x400c6a=_0x79b567==_0x5d85fb(0x189)?_0x5a0f69:_0x190680));_0x11635c=formatResult(_0x11635c,0x8),_0x400c6a=formatResult(_0x400c6a,0x8);const _0x264bd4=await exchange[_0x5d85fb(0x279)](_0xa28e31,_0x141775,_0x79b567,_0x11635c,_0x400c6a);lastOrders[_0x5d85fb(0x25e)]({'orderId':_0x264bd4['id'],'symbol':_0xa28e31,'coin':_0x3f7dc4['coin'],'side':_0x79b567,'reverse':_0x3f7dc4[_0x5d85fb(0x18d)],'amount':_0x3f7dc4['reverse']?_0x264bd4['amount']*_0x264bd4['price']:_0x264bd4[_0x5d85fb(0x1a3)],'filled':0x0,'price':_0x264bd4[_0x5d85fb(0x235)],'fee':_0x264bd4['fee']});const _0x2d6ec1=_0x79b567==_0x5d85fb(0x19c)?config[_0x5d85fb(0x1cc)]?String['fromCodePoint']('0x'+config[_0x5d85fb(0x1cc)])+'\x20':'':config[_0x5d85fb(0x1e5)]?String[_0x5d85fb(0x1cf)]('0x'+config[_0x5d85fb(0x1e5)])+'\x20':'',_0x563375=_0x141775==_0x5d85fb(0x1f2)?_0x5d85fb(0x1c0):config[_0x5d85fb(0x248)]==_0x5d85fb(0x212)?_0x5d85fb(0x1e1):_0x5d85fb(0x1db);if(_0x141775==_0x5d85fb(0x1f2))logHistory(_0x5d85fb(0x1b9),''+_0x2d6ec1+_0x563375+_0x5d85fb(0x1bd)+_0xa28e31+'\x20'+_0x79b567+'\x20#'+formatResult(_0x264bd4[_0x5d85fb(0x260)],0x8)+'\x20@'+formatResult(_0x264bd4[_0x5d85fb(0x235)],0x8));else logHistory(_0x5d85fb(0x1b9),''+_0x2d6ec1+_0x563375+_0x5d85fb(0x1bd)+_0xa28e31+'\x20'+_0x79b567+'\x20#'+formatResult(_0x264bd4['amount'],0x8)+'\x20@'+formatResult(_0x264bd4[_0x5d85fb(0x235)],0x8));let _0x715a33=currentCoins[_0x5d85fb(0x15f)](_0x7f9b93=>_0x7f9b93[_0x5d85fb(0x187)]==_0x3f7dc4[_0x5d85fb(0x187)]);_0x715a33['order']=!![];if(config[_0x5d85fb(0x229)]!=0x0){let _0x4b063c=null;if(cooldownTracker[_0x5d85fb(0x23b)]==config['cooldown']-0x1)_0x4b063c=cooldownTracker[_0x5d85fb(0x153)]();const _0x3f380b=getTimeStamp();cooldownTracker[_0x5d85fb(0x25e)](_0x3f380b);if(_0x4b063c){const _0x3110e3=fns[_0x5d85fb(0x188)](new Date(_0x3f380b),new Date(_0x4b063c));if(_0x3110e3<cooldownInterval){logHistory(_0x5d85fb(0x166),_0x5d85fb(0x234)+config[_0x5d85fb(0x229)]+_0x5d85fb(0x218)+cooldownInterval/0x3c+_0x5d85fb(0x21b)+cooldownPeriod/(0xe10*0x3e8)+_0x5d85fb(0x1d0)),coolingDown=!![];break;}}}}catch(_0x153644){if(_0x153644[_0x5d85fb(0x23f)]()[_0x5d85fb(0x1b2)]('MIN_NOTIONAL'))logHistory('error',_0x5d85fb(0x245)+_0xa28e31);else{if(_0x153644[_0x5d85fb(0x23f)]()[_0x5d85fb(0x1b2)](_0x5d85fb(0x1d1)))logHistory(_0x5d85fb(0x166),'Order\x20amount\x20is\x20invalid:\x20'+_0xa28e31);else await handleError(_0x153644,_0x5d85fb(0x25c),_0xa28e31);}}}if(lastOrders[_0x5d85fb(0x23b)]!=0x0){lockOrders=!![],validateOrdersState=_0x5d85fb(0x27b);const _0x4271db=config[_0x5d85fb(0x248)]==_0x5d85fb(0x1f2)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0xbd6688=_0x5d85fb;validateOrders(_0xbd6688(0x23d));},_0x4271db);}coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x5d85fb(0x230),_0x5d85fb(0x1ae)));}else{if(coolingDown)!config[_0x5d85fb(0x162)]&&logHistory(_0x5d85fb(0x166),_0x5d85fb(0x257));else lockOrders&&(!config['headless']&&(config['ordertype']==_0x5d85fb(0x1f2)?logHistory('error',_0x5d85fb(0x22e)):logHistory(_0x5d85fb(0x166),_0x5d85fb(0x21f))));}}function logHistory(_0x126333,_0x2fc0fa,_0xe5976a=''){const _0xffc541=_0x322b92;let _0x254910={'time':getTimeStamp(),'type':_0x126333,'event':_0x2fc0fa};dbLogs[_0xffc541(0x20d)](_0xffc541(0x1c9))[_0xffc541(0x25e)](_0x254910)['write']();if(_0xe5976a=='')_0xe5976a=_0x2fc0fa;proxyEmit(_0xffc541(0x177),{'log':_0x254910,'summary':_0xe5976a}),process[_0xffc541(0x233)]({'telegram':{..._0x254910,'botname':config['botname'],'showname':config[_0xffc541(0x22d)]}},_0xce1ac2=>{}),logging(''+_0x254910['event']);}function emitHistory(_0x4f1ac5={}){const _0x1d89d3=_0x322b92;Object['keys'](_0x4f1ac5)[_0x1d89d3(0x23b)]==0x0&&(_0x4f1ac5={'type':['order',_0x1d89d3(0x177)],'event':'','page':0x1});if(_0x4f1ac5[_0x1d89d3(0x1f6)][_0x1d89d3(0x1b2)]('event'))_0x4f1ac5[_0x1d89d3(0x1f6)][_0x1d89d3(0x1d3)](_0x4f1ac5[_0x1d89d3(0x1f6)]['indexOf']('event'),0x1,_0x1d89d3(0x166),_0x1d89d3(0x230));if(dbLogs[_0x1d89d3(0x16d)]('logs')[_0x1d89d3(0x26e)]()){let _0x21fe20=dbLogs[_0x1d89d3(0x20d)](_0x1d89d3(0x1c9))['filter'](_0xf5e470=>{const _0xbea214=_0x1d89d3;if(_0x4f1ac5['type']['length']==0x0)return![];else return _0x4f1ac5[_0xbea214(0x1f6)][_0xbea214(0x1b2)](_0xf5e470[_0xbea214(0x1f6)]);})[_0x1d89d3(0x221)](_0x315cf2=>{const _0xbf1eae=_0x1d89d3;if(_0x4f1ac5[_0xbf1eae(0x177)]=='')return!![];else return _0x315cf2['event']['toLowerCase']()[_0xbf1eae(0x1b2)](_0x4f1ac5['event'][_0xbf1eae(0x26a)]());})['sortBy'](_0x1d89d3(0x160)),_0x2e551d=_0x21fe20[_0x1d89d3(0x26e)]()[_0x1d89d3(0x23b)];_0x21fe20=_0x21fe20[_0x1d89d3(0x18d)]()[_0x1d89d3(0x1a9)]((_0x4f1ac5['page']-0x1)*logPageSize,_0x4f1ac5[_0x1d89d3(0x1d7)]*logPageSize-0x1)[_0x1d89d3(0x18d)]()[_0x1d89d3(0x26e)](),proxyEmit(_0x1d89d3(0x1f9),{'logs':_0x21fe20,'total':_0x2e551d});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x558b36){const _0x15e37c=_0x322b92;if(dbLogs['has']('logs')[_0x15e37c(0x26e)]()){const _0x4b4de6=dbLogs['get'](_0x15e37c(0x1c9))['sortBy'](_0x15e37c(0x160))[_0x15e37c(0x221)](_0x4c54c1=>{const _0x257610=_0x15e37c;return _0x4c54c1[_0x257610(0x1f6)]==_0x257610(0x1b9);})[_0x15e37c(0x26e)]();dbLogs[_0x15e37c(0x20d)]('logs')['remove']()[_0x15e37c(0x185)](),dbLogs[_0x15e37c(0x20d)](_0x15e37c(0x1c9))[_0x15e37c(0x272)](_0x4b4de6)[_0x15e37c(0x185)](),emitHistory(_0x558b36);}}async function pauseBot(_0x453aac=''){const _0xf49deb=_0x322b92,_0x59fd79=new Date()[_0xf49deb(0x27a)]();if(!lastBotPause)lastBotPause=new Date()[_0xf49deb(0x27a)](),consecutivePauses=0x1;else{if(_0x59fd79-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0xf49deb(0x233)]({'stop':'restart'},_0x56c8cd=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0xf49deb(0x27a)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x453aac)_0x453aac+=_0xf49deb(0x1e8);logHistory(_0xf49deb(0x166),_0x453aac+_0xf49deb(0x1d9)+pauseBotInterval/0xea60+_0xf49deb(0x18f)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function killBot(){const _0x5cfa77=_0x322b92;process[_0x5cfa77(0x233)]({'stop':_0x5cfa77(0x20e)},_0x1f1d77=>{}),await sleep(0x7d0);}async function handleError(_0x1a2015,_0x52205c,_0xce83c=''){const _0x474dbc=_0x322b92;if(_0x1a2015[_0x474dbc(0x23f)]()[_0x474dbc(0x1b2)](_0x474dbc(0x213)))await pauseBot(_0x474dbc(0x19d));else{if(_0x1a2015[_0x474dbc(0x23f)]()[_0x474dbc(0x1b2)](_0x474dbc(0x182)))await pauseBot(_0x474dbc(0x161));else{if(_0x1a2015[_0x474dbc(0x23f)]()[_0x474dbc(0x1b2)](_0x474dbc(0x1de)))await pauseBot(_0x474dbc(0x18c));else{if(_0x1a2015[_0x474dbc(0x23f)]()['includes'](_0x474dbc(0x249)))logHistory('error',_0x52205c+'\x20|\x20Binance\x20API\x20key\x20invalid'),logHistory(_0x474dbc(0x166),_0x474dbc(0x1e0)),await killBot();else{if(_0x1a2015[_0x474dbc(0x23f)]()[_0x474dbc(0x1b2)]('AuthenticationError'))logHistory(_0x474dbc(0x166),_0x52205c+_0x474dbc(0x1a7)),logHistory('error','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1a2015[_0x474dbc(0x23f)]()[_0x474dbc(0x1b2)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x474dbc(0x166),_0x52205c+'\x20|\x20Binance\x20API\x20secret\x20invalid'),logHistory(_0x474dbc(0x166),_0x474dbc(0x1e0)),await killBot();else{if(_0x1a2015[_0x474dbc(0x23f)]()[_0x474dbc(0x1b2)](_0x474dbc(0x14d)))logHistory(_0x474dbc(0x166),_0x52205c+'\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x474dbc(0x166),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),await killBot();else{if(_0x1a2015['toString']()[_0x474dbc(0x1b2)](_0x474dbc(0x180)))await pauseBot('API\x20or\x20clock\x20sync\x20issue'),process[_0x474dbc(0x233)]({'stop':_0x474dbc(0x258)},_0x16f1c9=>{});else _0x1a2015['toString']()[_0x474dbc(0x1b2)](_0x474dbc(0x1ec))?logHistory(_0x474dbc(0x166),_0x52205c+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0xce83c):(logging(_0x52205c+_0x474dbc(0x214),_0x1a2015),await pauseBot(_0x474dbc(0x1d8)));}}}}}}}}function formatResult(_0xcd1caa,_0x522b84){return _0xcd1caa?parseFloat(_0xcd1caa['toFixed'](_0x522b84)):null;}function _0x4a46(){const _0x4a94d4=['limits','abs','570504Xaksvo','sortBy','InvalidNonce','BNB/','ExchangeNotAvailable','forEach','yyyy/MM/dd\x20HH:mm:ss','write','mkdirSync','coin','differenceInSeconds','buy','\x20has\x20a\x2024h\x20drop\x20of\x20','constructor','Binance\x20not\x20responding','reverse','18aNArNE','\x20minutes','emitHistory','distribution','eur','datetime','valid','Order:\x20','data','usd','fetchTickers','isEqual','balances','threshold','sell','Binance\x20API\x20blocked','122398jcVlLb','Order\x20filled:\x20','number',':\x20Bot\x20','reconnected','amount','BNB','getSeconds','initws()','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','coinamount','slice','cost','limit-low','change24h','parseISO','Cooldown\x20ended\x20-\x20balancing\x20resumed','delta','liquidity','recreate','includes','001','remove','2.4.4','target','wsKey','apiKey','order','round','getFullYear','stringify','\x20order:\x20','outboundAccountPosition','executionReport','Market','cancelOrder','eventType','No\x20more\x20open\x20orders\x20-\x20','ccxt','max','apiSecret','11477385aAFXeA','binance','logs','startdate','27891996ilSCBX','emojisell','748UrepCQ','no\x20open\x20orders','fromCodePoint','\x20hour','Invalid\x20quantity','cancel','splice','getMonth','ask','basecoin','page','Unknown\x20error\x20occured','Pausing\x20for\x20','loadMarkets','Limit\x20(low-margin)',')\x20|\x20Error\x20details:\x20','wsMarket','RequestTimeout','coins','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Limit\x20(high-margin)','ETH','timeshift','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','emojibuy','buys','fee','\x20|\x20','balancing\x20resumed','storeConfiguration','offset','InsufficientFunds','-results.json','function','Order(s)\x20validated\x20-\x20','date','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','market','toggleBotMode','accumulatedQuantity','subscribeSpotUserDataStream','type','search','exit','event-history','bot','BTC','log','1522857cLFpHN','getMinutes','getStartingBalances','-config.json','HOT/BTC','total','spot','limit','version','\x20minutes\x20-\x20','padStart','Bot\x20','initclient','priceChangePercent','cancelOrders()','/backup/','get','kill','changes','timeout','args','limit-high','DDoSProtection','\x20|\x20Error\x20details:\x20','milliseconds','FILLED','last','\x20orders\x20in\x20less\x20than\x20','formattedMessage','loadSymbols()','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','AuthenticationError','20ESFQvz','differenceInCalendarDays','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','12opWRNS','filter','eventTime','cloneDeep','excluded','set','balancing\x20resumes\x20when\x20cooldown\x20ends','ticker','orderId','cooldown','USDC','trade','binanceus','showname','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','privateKey','success','startprice','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','send','Executed\x20','price','fetchOpenOrders','Manual\x20balancing\x20required:\x20','min','remainingSymbols','./version.json','length','performance','final','timestamp','toString','side','************','kline','startnumber','YOYOW/','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','cumulativeQuoteAssetTransactedQty','lowdb','ordertype','API-key\x20format\x20invalid','sells','botname','progress','sha256','symbol','Performance\x20recreation\x20completed\x20successfully','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','change','update\x20results:','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','breakeven','close','starttime','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','restart','map','writeFile','-performance.json','placeOrder()','replace','push',',\x20must\x20be\x20a\x203\x20digit\x20number','filled','wss://stream.binance.com:9443','cancelLoading','deleteHistoryAlerts','-events.json','parse','exchange','botID','Error:\x20Invalid\x20argument\x20','31065zeZgmE','toLowerCase','getDate','642708TFuEoc','yyyy/MM/dd','value','Binance\x20API\x20key\x20is\x20invalid','string','initialprice','assign','message','add','(((.+)+)+)+$','realized','subscribeSymbol24hrTicker','USDT','createOrder','getTime','initial','settings','placeOrder','getCoins()','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','split','lowdb/adapters/FileSync','\x20>\x20','Binance\x20not\x20available\x20(1)','format','shift','bot-','defaults','closeWs','userData','./config/','fetchOrders','portfolio','commission','Binance\x20API\x20secret\x20is\x20invalid','configuration-stored','decrypt','find','time','Binance\x20not\x20available\x20(2)','headless','storeHeadless','fetchOHLCV','findIndex','error','RSA-OAEP','sort','XEM/BUSD','HOT/EUR','bid','running','has','getHours','secure','configuration','\x20-\x20','Crypt','2.3.5','getFiat()','getCloses()','hybrid-crypto-js','event','ongoing','currency','join','Carefully\x20evaludate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'];_0x4a46=function(){return _0x4a94d4;};return _0x4a46();}function logging(_0x37373f,_0x1df520=''){const _0x4513c5=_0x322b92;if(config[_0x4513c5(0x22d)])console[_0x4513c5(0x1fc)](getTimeStamp()+':\x20'+config[_0x4513c5(0x24b)]+_0x4513c5(0x150)+_0x37373f,_0x1df520);else console['log'](getTimeStamp()+_0x4513c5(0x1a1)+botID+_0x4513c5(0x150)+_0x37373f,_0x1df520);}function getServerTime(){const _0x1f95ee=_0x322b92,_0x54d04e=new Date();return _0x54d04e[_0x1f95ee(0x1bb)]()+'/'+(_0x54d04e[_0x1f95ee(0x1d4)]()+0x1)[_0x1f95ee(0x23f)]()['padStart'](0x2,'0')+'/'+_0x54d04e[_0x1f95ee(0x26b)]()[_0x1f95ee(0x23f)]()[_0x1f95ee(0x207)](0x2,'0')+'\x20'+_0x54d04e['getHours']()['toString']()['padStart'](0x2,'0')+':'+_0x54d04e['getMinutes']()[_0x1f95ee(0x23f)]()[_0x1f95ee(0x207)](0x2,'0')+':'+_0x54d04e['getSeconds']()[_0x1f95ee(0x23f)]()[_0x1f95ee(0x207)](0x2,'0');}function getTimeStamp(){const _0x12320c=_0x322b92,_0x155358=shiftedTime();return _0x155358[_0x12320c(0x1bb)]()+'/'+(_0x155358['getMonth']()+0x1)['toString']()[_0x12320c(0x207)](0x2,'0')+'/'+_0x155358[_0x12320c(0x26b)]()[_0x12320c(0x23f)]()[_0x12320c(0x207)](0x2,'0')+'\x20'+_0x155358['getHours']()[_0x12320c(0x23f)]()[_0x12320c(0x207)](0x2,'0')+':'+_0x155358[_0x12320c(0x1fe)]()[_0x12320c(0x23f)]()[_0x12320c(0x207)](0x2,'0')+':'+_0x155358[_0x12320c(0x1a5)]()['toString']()['padStart'](0x2,'0');}function getDate(){const _0x3a97be=_0x322b92,_0x2f9e05=shiftedTime();return _0x2f9e05[_0x3a97be(0x1bb)]()+'/'+(_0x2f9e05[_0x3a97be(0x1d4)]()+0x1)[_0x3a97be(0x23f)]()['padStart'](0x2,'0')+'/'+_0x2f9e05[_0x3a97be(0x26b)]()['toString']()[_0x3a97be(0x207)](0x2,'0');}function getHour(){const _0x1e2d22=_0x322b92,_0x6dd3e1=shiftedTime();return _0x6dd3e1[_0x1e2d22(0x16e)]()[_0x1e2d22(0x23f)]()['padStart'](0x2,'0');}function sleep(_0x2b0add){return new Promise(_0x495751=>setTimeout(_0x495751,_0x2b0add));}function shiftedTime(){const _0x1ce9f3=_0x322b92,_0x2fda4d=new Date();let _0x5e62ee=_0x2fda4d;if(config&&config[_0x1ce9f3(0x1e3)]!==0x0)_0x5e62ee=fns[_0x1ce9f3(0x274)](_0x2fda4d,{'hours':config[_0x1ce9f3(0x1e3)]});return _0x5e62ee;}