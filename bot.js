const _0x34d519=_0x1a2a;(function(_0x58ae7e,_0x479dc1){const _0x2b5452=_0x1a2a,_0x4b317c=_0x58ae7e();while(!![]){try{const _0x384d69=-parseInt(_0x2b5452(0x1dd))/0x1*(parseInt(_0x2b5452(0x2a4))/0x2)+parseInt(_0x2b5452(0x23b))/0x3+parseInt(_0x2b5452(0x1c6))/0x4*(parseInt(_0x2b5452(0x1f5))/0x5)+parseInt(_0x2b5452(0x282))/0x6*(parseInt(_0x2b5452(0x2be))/0x7)+-parseInt(_0x2b5452(0x1b8))/0x8+-parseInt(_0x2b5452(0x2b5))/0x9+parseInt(_0x2b5452(0x1bc))/0xa;if(_0x384d69===_0x479dc1)break;else _0x4b317c['push'](_0x4b317c['shift']());}catch(_0x5348e7){_0x4b317c['push'](_0x4b317c['shift']());}}}(_0x782c,0x990c3));const _0x5c527a=function(){let _0x3f27e9=!![];return function(_0x3e2be6,_0x405c9c){const _0x56a23b=_0x3f27e9?function(){const _0x1c5413=_0x1a2a;if(_0x405c9c){const _0x6be99a=_0x405c9c[_0x1c5413(0x1f0)](_0x3e2be6,arguments);return _0x405c9c=null,_0x6be99a;}}:function(){};return _0x3f27e9=![],_0x56a23b;};}(),_0x11344e=_0x5c527a(this,function(){const _0x317db8=_0x1a2a;return _0x11344e[_0x317db8(0x1de)]()[_0x317db8(0x1fa)](_0x317db8(0x2cd))[_0x317db8(0x1de)]()[_0x317db8(0x2b9)](_0x11344e)['search'](_0x317db8(0x2cd));});_0x11344e();'use strict';const ccxt=require(_0x34d519(0x254)),low=require(_0x34d519(0x2a0)),FileSync=require('lowdb/adapters/FileSync'),fs=require('fs'),fns=require(_0x34d519(0x2d4)),{WebsocketClient,DefaultLogger}=require(_0x34d519(0x2a6)),Crypt=require(_0x34d519(0x1ff))[_0x34d519(0x247)];let exchange,wsClient;global[_0x34d519(0x2ad)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x34d519(0x1d2))['version'],botID=process[_0x34d519(0x1ed)][0x2]||_0x34d519(0x1d1),pattern=/^[0-9]{3}$/;if(!pattern['test'](botID))return console[_0x34d519(0x2cf)](_0x34d519(0x25c)+botID+_0x34d519(0x1e2)),process[_0x34d519(0x1cd)](0x1);const userID=process[_0x34d519(0x1ed)][0x3]||'',configpath=userID?_0x34d519(0x1df)+userID+'/':_0x34d519(0x1df);!fs[_0x34d519(0x26b)](configpath)&&fs['mkdirSync'](configpath);const configfile=configpath+_0x34d519(0x220)+botID+_0x34d519(0x1fe),logfile=configpath+'bot-'+botID+_0x34d519(0x258),performancefile=configpath+_0x34d519(0x220)+botID+_0x34d519(0x2c1),coinresultsfile=configpath+'bot-'+botID+_0x34d519(0x281),settingsfile=configpath+_0x34d519(0x25d),securefile=configpath+_0x34d519(0x23e),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x34d519(0x1da)]({'logs':[]})[_0x34d519(0x27a)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x34d519(0x1da)]({'data':[]})[_0x34d519(0x27a)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x34d519(0x1da)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x34d519(0x1da)]({'coins':[]})[_0x34d519(0x27a)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x34d519(0x2a8),'symbol':_0x34d519(0x1d4)},'usd':{'coin':_0x34d519(0x2b1),'symbol':_0x34d519(0x293)}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x6ae2f5)=>{},'debug':(..._0x44bf3c)=>{},'notice':(..._0x5b615d)=>{},'info':(..._0x1a6eb4)=>{},'warning':(..._0x5443bb)=>{},'error':async function(..._0x2fa43e){const _0x3c17ec=_0x34d519,_0x6e7e0a=new Date()[_0x3c17ec(0x1f4)]();if(!lastErrorShown||_0x6e7e0a-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x3c17ec(0x1f4)](),logHistory('error',_0x3c17ec(0x20d)+consecutivePauses+_0x3c17ec(0x1d7));let _0x5cfe8f='';if(_0x2fa43e[0x0])_0x5cfe8f+=_0x2fa43e[0x0];if(_0x2fa43e[0x1]&&_0x2fa43e[0x1][_0x3c17ec(0x2ab)]&&_0x2fa43e[0x1]['error'][_0x3c17ec(0x1d3)])_0x5cfe8f+='\x20-\x20'+_0x2fa43e[0x1]['error'][_0x3c17ec(0x1d3)];logging(_0x3c17ec(0x20d)+consecutivePauses+')\x20|\x20Error\x20details:\x20',''+_0x5cfe8f),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x34d519(0x253),'rsaStandard':_0x34d519(0x2c8)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x34d519(0x274)]!=config[_0x34d519(0x274)]&&updateTimeshift(settings[_0x34d519(0x274)]);process['send']({'started':'running'},_0x56c531=>{}),initializeProcessListeners();function proxyEmit(_0xe082a8,_0x582de2=null){process['send']({'function':_0xe082a8,'args':_0x582de2},_0x130e91=>{});}function initializeProcessListeners(){const _0x145e16=_0x34d519;process['on'](_0x145e16(0x1d3),_0x119e2e=>{const _0x148d8e=_0x145e16;switch(Object[_0x148d8e(0x204)](_0x119e2e)[0x0]){case _0x148d8e(0x274):_0x119e2e[_0x148d8e(0x274)]!=undefined&&(settings[_0x148d8e(0x274)]=_0x119e2e[_0x148d8e(0x274)],updateTimeshift(settings[_0x148d8e(0x274)]));break;case _0x148d8e(0x2b2):switch(_0x119e2e[_0x148d8e(0x2b2)]){case _0x148d8e(0x21d):initclient();break;case _0x148d8e(0x260):emitHistory(_0x119e2e[_0x148d8e(0x2b6)]);break;case _0x148d8e(0x224):getPortfolio(_0x119e2e[_0x148d8e(0x2b6)]);break;case _0x148d8e(0x1d5):storeConfiguration(_0x119e2e['args']);break;case _0x148d8e(0x21f):storeHeadless(_0x119e2e['args']);break;case _0x148d8e(0x203):getStartingBalances(getNormalizedPerformance());break;case _0x148d8e(0x1f8):placeOrder(_0x119e2e[_0x148d8e(0x2b6)]);break;case _0x148d8e(0x1ea):cancelLoading();break;}}});}function _0x782c(){const _0x14c063=['Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20',',\x20must\x20be\x20a\x203\x20digit\x20number','order','Performance\x20recreation\x20completed\x20successfully','ordertype','includes','getSeconds','InsufficientFunds','slice','cancelLoading','BTC/BUSD','type','argv','LIMIT','loadSymbols()','apply','initws()','sort','has','getTime','25umntbN','shift','fetchTickers','placeOrder','padStart','search','changes','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','cancelOrder()','-config.json','hybrid-crypto-js','availableBalance','sortBy','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','getStartingBalances','keys','send','findIndex','delta','limits','set','success','secure','settings','WebSockets(','target','\x20|\x20Unknown\x20error\x20occured','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','sells','emojisell','getFullYear','AuthenticationError','page','eur','differenceInSeconds','startnumber','Executed\x20','running','number','date','initclient','reduce','storeHeadless','bot-','Order\x20filled:\x20','cost','kill','getPortfolio','max','symbols','reverse','InvalidNonce','Limit\x20(high-margin)','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','limit-low','buys','parseISO','progress','subscribeSpotKline','buy','DDoSProtection','MIN_NOTIONAL','parse','datetime','yyyy/MM/dd','emojibuy',':\x20Bot\x20','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','closeWs','outboundAccountPosition','1138410KXoHoo','cooldown','wsKey','bb-secure.json','stringify','getPortfolio()','toLowerCase','threshold','orderType','DAI/','distribution','filled','Crypt','API-key\x20format\x20invalid','portfolio','executionReport','basecoin','fetchOHLCV','fee','privateKey','valid','botname','apiSecret','assign','sha256','ccxt','total','apiKey','startprice','-events.json','binanceus','starting-balances','bot','Error:\x20Invalid\x20argument\x20','bb-settings.json','entries','excluded','emitHistory','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','push','get','configuration-stored','Binance\x20API\x20secret\x20is\x20invalid','symbol','FILLED','add','find','balances','existsSync','round','enabled','value','amount','formattedMessage','Binance\x20API\x20key\x20is\x20invalid','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','writeFile','timeshift','timeout','.json','trade','sell','BTCBUSD','write','orderStatus','coin','cloneDeep','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','reconnected','logs','-results.json','569190maUwcM','indexOf','Order(s)\x20not\x20validated\x20after\x20','timestamp','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','remainingSymbols','remove','startdate','accumulatedQuantity','getDate','Order(s)\x20filled\x20-\x20balancing\x20resumed','min','price','join','BUSD','USDC','OrderNotFound','BTC/USDT','\x20order:\x20','fetchOrders','performance','limit','userData','eventType','RequestTimeout','abs','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','split','coins','subDays','lowdb','starting-balance-','splice','getMonth','27804qHMQZd','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','binance','forEach','BTCEUR','BTC','limit-high','error','getHours','ticker','kline','usd','cancelOrder','BTCUSDT','function','asset','side','10657431vVxuvk','args','\x20minutes\x20-\x20balancing\x20resumed','fees','constructor','exchange','recreateHistory()','realized','close','77pMAiLX','\x20orders\x20in\x20less\x20than\x20','************','-performance.json','liquidity','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','event','last','market','map','RSA-OAEP','\x20>\x20','showname','breakeven','time','(((.+)+)+)+$','HOT/EUR','log','replace','headless','format','restart','date-fns','Unfilled\x20order(s)\x20canceled\x20after\x20','2.3.5','8396904xxzYmy','getCoins()','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','length','8340990GQVJfX','orderId','configuration','offset','filter','loadMarkets','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','Pausing\x20bot\x20for\x205\x20minutes\x20(','createOrder','Limit\x20(low-margin)','671924IWCMsD','isEqual','isArray','BNB','toFixed','version','getMinutes','exit','wss://stream.binance.com:9443','Market','Invalid\x20quantity','001','./version.json','message','BTC/EUR','storeConfiguration','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','data','event-history','defaults','milliseconds','USDT','17fAIvoJ','toString','./config/','currency'];_0x782c=function(){return _0x14c063;};return _0x782c();}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x42c915=_0x34d519;if(pidBalances)clearTimeout(pidBalances);if(config[_0x42c915(0x256)]!=''){await initExchange(config[_0x42c915(0x256)],config[_0x42c915(0x251)]);let _0x2f9e77=await loadSymbols();_0x2f9e77&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x543384,_0x5f4dfb){const _0x297d06=_0x34d519,_0x332e21=ccxt[config['exchange']];let _0x2cf8a8;switch(config[_0x297d06(0x2ba)]){case'binance':_0x2cf8a8=_0x297d06(0x1ce);break;case _0x297d06(0x259):_0x2cf8a8='wss://stream.binance.us:9443';break;default:_0x2cf8a8=_0x297d06(0x1ce);}exchange=new _0x332e21({'apiKey':_0x543384,'secret':_0x5f4dfb,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x543384,'api_secret':_0x5f4dfb,'beautify':!![],'wsUrl':_0x2cf8a8},logger),config[_0x297d06(0x2ba)]==_0x297d06(0x259)&&(stablecoins={'eur':{'coin':_0x297d06(0x279),'symbol':_0x297d06(0x1eb)},'usd':{'coin':_0x297d06(0x2b1),'symbol':_0x297d06(0x293)}});}async function loadSymbols(){const _0x33bf32=_0x34d519;let _0x4bee54;try{markets=await exchange[_0x33bf32(0x1c1)]();const _0x3efafa=[_0x33bf32(0x244),'HOT/BTC',_0x33bf32(0x2ce)];allSymbols=exchange[_0x33bf32(0x226)][_0x33bf32(0x1c0)](_0x18f16e=>{const _0x29d1b9=_0x33bf32;let _0x7cf12f=![];return _0x3efafa[_0x29d1b9(0x2a7)](_0x212fba=>{const _0x40dd02=_0x29d1b9;if(_0x18f16e[_0x40dd02(0x1e6)](_0x212fba))_0x7cf12f=!![];}),!_0x7cf12f;}),_0x4bee54=!![];}catch(_0x1dcf38){await handleError(_0x1dcf38,_0x33bf32(0x1ef)),_0x4bee54=![];}return _0x4bee54;}async function initbot(){const _0x462927=_0x34d519;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x5da016=dbCoinResults[_0x462927(0x263)]('coins')[_0x462927(0x26e)]();if(_0x5da016[_0x462927(0x1bb)]==0x0)await resetCoinResults();}async function initclient(){const _0x4aa597=_0x34d519;proxyEmit(_0x4aa597(0x1be),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x4aa597(0x26a),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x44c8e8=getNormalizedPerformance();emitPerformance(_0x44c8e8),await getStartingBalances(_0x44c8e8);}function cleanws(){const _0x1a44a6=_0x34d519;wsinitialized=![];ws1&&(ws1['forEach'](_0x2527e5=>{const _0x48b02f=_0x1a2a;try{wsClient[_0x48b02f(0x239)](_0x2527e5);}catch(_0x207516){}}),ws1=[]);if(ws2){try{wsClient[_0x1a44a6(0x239)](ws2);}catch(_0x7c624b){}ws2=null;}}async function initws(){const _0x1650dd=_0x34d519;cleanws();let _0x2910fc=[];currentCoins[_0x1650dd(0x2a7)](_0xdb5c35=>{const _0x12a2da=_0x1650dd;if(_0xdb5c35['coin']!=config[_0x12a2da(0x24b)])_0x2910fc[_0x12a2da(0x262)](noslash(_0xdb5c35[_0x12a2da(0x266)]));});if(!_0x2910fc[_0x1650dd(0x1e6)](stablecoins['eur'][_0x1650dd(0x27c)]))_0x2910fc[_0x1650dd(0x262)](stablecoins['eur']['coin']);if(!_0x2910fc[_0x1650dd(0x1e6)](stablecoins['usd']['coin']))_0x2910fc[_0x1650dd(0x262)](stablecoins[_0x1650dd(0x2af)][_0x1650dd(0x27c)]);if(!_0x2910fc[_0x1650dd(0x1e6)](_0x1650dd(0x1c9)+config[_0x1650dd(0x24b)]))_0x2910fc[_0x1650dd(0x262)](_0x1650dd(0x1c9)+config[_0x1650dd(0x24b)]);try{_0x2910fc['forEach']((_0xab9309,_0x51f3c9)=>{const _0x3434bf=_0x1650dd;ws1[_0x51f3c9]=wsClient[_0x3434bf(0x22f)](_0xab9309,'1m');}),ws2=wsClient['subscribeSpotUserDataStream'](),wsClient['on'](_0x1650dd(0x270),_0x338a57=>{const _0x3b12a9=_0x1650dd;if(!Array['isArray'](_0x338a57)&&!_0x338a57[_0x3b12a9(0x23d)]['includes'](_0x3b12a9(0x298))){if(_0x338a57['eventType']===_0x3b12a9(0x2ae)){global['ticker'][_0x338a57[_0x3b12a9(0x2ae)][_0x3b12a9(0x266)]]=_0x338a57[_0x3b12a9(0x2ae)][_0x3b12a9(0x2bd)];return;}}else{if(!Array[_0x3b12a9(0x1c8)](_0x338a57)&&_0x338a57['wsKey']['includes'](_0x3b12a9(0x298))){if(_0x338a57['wsMarket'][_0x3b12a9(0x1e6)]('spot')){updateNumberCoins(_0x338a57);return;}}}}),wsClient['on'](_0x1650dd(0x27f),async _0x2ece85=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x47eb8b){await handleError(_0x47eb8b,_0x1650dd(0x1f1));}let _0x1fc7e9,_0x4baced=0x0;loading[_0x1650dd(0x287)]=[];let _0x5dd017=0x0;currentCoins[_0x1650dd(0x2a7)](_0x350abc=>{const _0x54749b=_0x1650dd;if(_0x350abc[_0x54749b(0x27c)]!=config['basecoin'])loading['remainingSymbols'][_0x54749b(0x262)](_0x350abc['symbol']);}),loadingCanceled=![];while(_0x1fc7e9!=currentCoins[_0x1650dd(0x1bb)]-0x1){_0x1fc7e9=0x0,currentCoins[_0x1650dd(0x2a7)](_0xefded7=>{const _0x44b929=_0x1650dd;_0xefded7[_0x44b929(0x27c)]!=config[_0x44b929(0x24b)]&&global[_0x44b929(0x2ad)][noslash(_0xefded7[_0x44b929(0x266)])]&&(loading[_0x44b929(0x287)]=loading[_0x44b929(0x287)][_0x44b929(0x1c0)](_0x361082=>_0x361082!=_0xefded7[_0x44b929(0x266)]),_0x1fc7e9++);}),loading[_0x1650dd(0x22e)]=Math[_0x1650dd(0x26c)](_0x1fc7e9/(currentCoins[_0x1650dd(0x1bb)]-0x1)*0x64);_0x5dd017>0x1e*0x5&&(loading[_0x1650dd(0x275)]=!![],emitLoadingProgress());if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x1fc7e9!=_0x4baced&&(_0x4baced=_0x1fc7e9,emitLoadingProgress()),_0x5dd017++,await sleep(0xc8);}if(_0x1fc7e9==currentCoins[_0x1650dd(0x1bb)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){proxyEmit('coin-loading-progress',loading);}function _0x1a2a(_0x26bd19,_0x33f076){const _0x33572a=_0x782c();return _0x1a2a=function(_0x11344e,_0x5c527a){_0x11344e=_0x11344e-0x1b8;let _0x782c5b=_0x33572a[_0x11344e];return _0x782c5b;},_0x1a2a(_0x26bd19,_0x33f076);}async function getFiat(){const _0x112217=_0x34d519;let _0x420b60=0x0,_0x50fbb2=0x0;try{_0x420b60=global[_0x112217(0x2ad)][stablecoins[_0x112217(0x216)][_0x112217(0x27c)]],_0x50fbb2=global[_0x112217(0x2ad)][stablecoins[_0x112217(0x2af)][_0x112217(0x27c)]];}catch(_0x4356e7){await handleError(_0x4356e7,'getFiat()');}return{'eur':Number(_0x420b60),'usd':Number(_0x50fbb2)};}function setStartDatePerformance(){const _0x33c379=_0x34d519;if(config&&config['liquidity'][0x0][_0x33c379(0x1fb)][_0x33c379(0x1bb)]!=0x0){const _0x290f53=config['liquidity'][0x0][_0x33c379(0x1fb)];dbPerformance['get']('data')['find']({'date':config['startdate']})['assign']({'coins':_0x290f53})[_0x33c379(0x27a)]();}}async function recreateHistory(_0x163dd5){const _0x50c0c6=_0x34d519;let _0x41f944,_0x2c5a8d=[];logHistory(_0x50c0c6(0x20a),_0x50c0c6(0x261)),_0x163dd5[_0x50c0c6(0x249)]['forEach'](_0x35a713=>{const _0x49aaa5=_0x50c0c6;if(_0x35a713[_0x49aaa5(0x27c)]!=config[_0x49aaa5(0x24b)]&&!_0x35a713[_0x49aaa5(0x25f)])_0x2c5a8d['push']({'coin':_0x35a713[_0x49aaa5(0x27c)],'symbol':_0x35a713[_0x49aaa5(0x266)]});});let _0x55994f=[];try{const _0xd185f9=fns[_0x50c0c6(0x2d2)](fns[_0x50c0c6(0x22d)](_0x163dd5[_0x50c0c6(0x289)][_0x50c0c6(0x2d0)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x238897 of _0x2c5a8d){if(_0x238897['coin']!=config['basecoin'])_0x41f944=await exchange[_0x50c0c6(0x295)](_0x238897[_0x50c0c6(0x266)],Date[_0x50c0c6(0x233)](_0xd185f9));_0x41f944['forEach'](_0x1ce6b0=>{const _0x8db013=_0x50c0c6,_0x32145a=_0x238897[_0x8db013(0x266)][_0x8db013(0x1e6)](config[_0x8db013(0x24b)]+'/'),_0x4789af=fns[_0x8db013(0x2d2)](fns[_0x8db013(0x22d)](_0x1ce6b0[_0x8db013(0x234)]),'yyyy/MM/dd\x20HH:mm:ss'),_0x46d9a3=fns['format'](fns[_0x8db013(0x22d)](_0x1ce6b0[_0x8db013(0x234)]),_0x8db013(0x235));let _0x556816;if(_0x1ce6b0[_0x8db013(0x2b4)]==_0x8db013(0x230)&&_0x32145a==![])_0x556816=_0x1ce6b0[_0x8db013(0x26f)];if(_0x1ce6b0['side']==_0x8db013(0x230)&&_0x32145a==!![])_0x556816=-_0x1ce6b0[_0x8db013(0x26f)]*_0x1ce6b0['price'];if(_0x1ce6b0[_0x8db013(0x2b4)]=='sell'&&_0x32145a==![])_0x556816=-_0x1ce6b0[_0x8db013(0x26f)];if(_0x1ce6b0[_0x8db013(0x2b4)]==_0x8db013(0x278)&&_0x32145a==!![])_0x556816=_0x1ce6b0['amount']*_0x1ce6b0[_0x8db013(0x28e)];_0x55994f[_0x8db013(0x262)]({'timestamp':_0x4789af,'date':_0x46d9a3,'coin':_0x238897[_0x8db013(0x27c)],'symbol':_0x238897[_0x8db013(0x266)],'type':_0x1ce6b0[_0x8db013(0x1ec)],'side':_0x1ce6b0[_0x8db013(0x2b4)],'reverse':_0x32145a,'amount':formatResult(_0x1ce6b0[_0x8db013(0x246)],0x8),'filled':formatResult(_0x1ce6b0[_0x8db013(0x246)],0x8),'coinamount':formatResult(_0x556816,0x8),'price':formatResult(_0x1ce6b0[_0x8db013(0x28e)],0x8)});let _0x3a94d5;if(_0x1ce6b0[_0x8db013(0x2b4)]==_0x8db013(0x230)&&_0x32145a==![])_0x3a94d5=-_0x1ce6b0['amount']*_0x1ce6b0[_0x8db013(0x28e)];if(_0x1ce6b0['side']==_0x8db013(0x230)&&_0x32145a==!![])_0x3a94d5=_0x1ce6b0[_0x8db013(0x26f)];if(_0x1ce6b0[_0x8db013(0x2b4)]=='sell'&&_0x32145a==![])_0x3a94d5=_0x1ce6b0[_0x8db013(0x26f)]*_0x1ce6b0[_0x8db013(0x28e)];if(_0x1ce6b0[_0x8db013(0x2b4)]=='sell'&&_0x32145a==!![])_0x3a94d5=-_0x1ce6b0[_0x8db013(0x26f)];_0x55994f[_0x8db013(0x262)]({'date':_0x46d9a3,'coin':config[_0x8db013(0x24b)],'coinamount':formatResult(_0x3a94d5,0x8)});});}_0x55994f[_0x50c0c6(0x1f2)]((_0x510af2,_0x1acf96)=>_0x510af2['timestamp']>_0x1acf96['timestamp']?0x1:_0x1acf96[_0x50c0c6(0x285)]>_0x510af2['timestamp']?-0x1:0x0),dbLogs['get'](_0x50c0c6(0x280))[_0x50c0c6(0x288)]()['write'](),_0x55994f[_0x50c0c6(0x2a7)](_0x3a9193=>{const _0x55b714=_0x50c0c6;let _0x53a10a;_0x3a9193[_0x55b714(0x27c)]!=config[_0x55b714(0x24b)]&&(_0x53a10a={'time':_0x3a9193[_0x55b714(0x285)],'type':_0x55b714(0x1e3),'event':'Order:\x20'+_0x3a9193[_0x55b714(0x266)]+'\x20'+_0x3a9193[_0x55b714(0x2b4)]+'\x20#'+_0x3a9193[_0x55b714(0x26f)]+'\x20@'+_0x3a9193[_0x55b714(0x28e)]},dbLogs[_0x55b714(0x263)](_0x55b714(0x280))[_0x55b714(0x262)](_0x53a10a)['write']());});const _0x245a57=fns['eachDayOfInterval']({'start':new Date(_0x163dd5[_0x50c0c6(0x289)]),'end':new Date()})[_0x50c0c6(0x2c7)](_0x25cf65=>fns[_0x50c0c6(0x2d2)](_0x25cf65,_0x50c0c6(0x235)));let _0x2aa9b5=[];_0x163dd5[_0x50c0c6(0x249)][_0x50c0c6(0x2a7)](_0x3d6d69=>{const _0xc319fa=_0x50c0c6;if(!_0x3d6d69[_0xc319fa(0x25f)]){_0x2aa9b5[_0x3d6d69[_0xc319fa(0x27c)]]=[];let _0x82e895=_0x3d6d69['startnumber'];_0x245a57['forEach']((_0x356b25,_0x452c27)=>{const _0x19168a=_0xc319fa;let _0xb21af6=_0x55994f[_0x19168a(0x1c0)](_0x272670=>_0x272670[_0x19168a(0x27c)]==_0x3d6d69[_0x19168a(0x27c)]&&_0x272670[_0x19168a(0x21c)]==_0x356b25);if(_0xb21af6[_0x19168a(0x1bb)]!=0x0){let _0x350c5e=_0xb21af6[_0x19168a(0x21e)]((_0x250c4d,_0x333f0f)=>{return _0x250c4d+=_0x333f0f['coinamount'],_0x250c4d;},0x0);_0x82e895+=_0x350c5e;}_0x2aa9b5[_0x3d6d69['coin']][_0x356b25]=_0x82e895;});}});const _0x11aef8=[..._0x2c5a8d];_0x11aef8[_0x50c0c6(0x262)]({'coin':stablecoins[_0x50c0c6(0x216)]['coin'],'symbol':stablecoins['eur'][_0x50c0c6(0x266)]}),_0x11aef8[_0x50c0c6(0x262)]({'coin':stablecoins['usd'][_0x50c0c6(0x27c)],'symbol':stablecoins['usd'][_0x50c0c6(0x266)]});let _0x316815=[];for(const _0x5eb092 of _0x11aef8){_0x316815[_0x5eb092[_0x50c0c6(0x27c)]]=await getCloses(_0x5eb092[_0x50c0c6(0x266)],new Date(_0x163dd5['startdate']));}dbPerformance[_0x50c0c6(0x263)](_0x50c0c6(0x1d8))['remove']()[_0x50c0c6(0x27a)](),_0x245a57['forEach']((_0x8ead30,_0x479696)=>{const _0x66bc28=_0x50c0c6;let _0x36205e,_0x39652a=[];_0x479696==0x0?(_0x163dd5['portfolio']['forEach'](_0x4cbaf2=>{const _0x3d5dd1=_0x1a2a;!_0x4cbaf2[_0x3d5dd1(0x25f)]&&_0x39652a['push']({'coin':_0x4cbaf2[_0x3d5dd1(0x27c)],'number':_0x4cbaf2[_0x3d5dd1(0x218)],'price':_0x4cbaf2[_0x3d5dd1(0x257)]});}),_0x36205e={'date':_0x8ead30,'eur':_0x316815[stablecoins[_0x66bc28(0x216)][_0x66bc28(0x27c)]][_0x479696],'usd':_0x316815[stablecoins[_0x66bc28(0x2af)][_0x66bc28(0x27c)]][_0x479696],'coins':_0x39652a}):(_0x163dd5[_0x66bc28(0x249)]['forEach'](_0x2f624d=>{const _0x370f9a=_0x66bc28;!_0x2f624d['excluded']&&_0x39652a[_0x370f9a(0x262)]({'coin':_0x2f624d[_0x370f9a(0x27c)],'number':_0x2aa9b5[_0x2f624d[_0x370f9a(0x27c)]][_0x8ead30],'price':_0x2f624d[_0x370f9a(0x27c)]==config['basecoin']?0x1:_0x316815[_0x2f624d['coin']][_0x479696]});}),_0x36205e={'date':_0x8ead30,'eur':_0x316815[stablecoins['eur'][_0x66bc28(0x27c)]][_0x479696],'usd':_0x316815[stablecoins['usd'][_0x66bc28(0x27c)]][_0x479696],'coins':_0x39652a}),dbPerformance[_0x66bc28(0x263)](_0x66bc28(0x1d8))[_0x66bc28(0x262)](_0x36205e)['write']();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x44f016 of _0x55994f){_0x44f016[_0x50c0c6(0x27c)]!=config[_0x50c0c6(0x24b)]&&await updateCoinResults(_0x44f016);}logHistory(_0x50c0c6(0x20a),_0x50c0c6(0x1e4));}catch(_0x25fb55){await handleError(_0x25fb55,_0x50c0c6(0x2bb));}}async function getCloses(_0x3887fe,_0x819fd8,_0x5e9d9c=undefined){const _0x998b5d=_0x34d519,_0x44bc81='1d';let _0x146186,_0x21b732;const _0x309417=fns['differenceInCalendarDays'](new Date(),_0x819fd8)+0x1;try{const _0x3d274e=exchange[_0x998b5d(0x1db)]()-_0x309417*0x18*0xe10*0x3e8;_0x146186=await exchange[_0x998b5d(0x24c)](_0x3887fe,_0x44bc81,_0x3d274e,_0x5e9d9c),_0x21b732=await exchange[_0x998b5d(0x1f7)](_0x3887fe);}catch(_0x445636){await handleError(_0x445636,'getCloses()');}let _0x11027f=ohlcvToCloses(_0x146186);return _0x11027f['push'](_0x21b732[_0x3887fe][_0x998b5d(0x2c5)]),_0x11027f;}function ohlcvToCloses(_0xecfb11){const _0x32b2f3=_0x34d519;let _0x3a36b0=[];return _0xecfb11[_0x32b2f3(0x2a7)](function(_0x1af4e5){const _0x301ab0=_0x32b2f3;_0x3a36b0[_0x301ab0(0x262)](_0x1af4e5[0x4]);}),_0x3a36b0;}function oneTimeMigration(){const _0x5f2d7c=_0x34d519;let _0x4ecba0=dbLogs[_0x5f2d7c(0x263)](_0x5f2d7c(0x1cb))[_0x5f2d7c(0x26e)]();if(_0x4ecba0!=_0x5f2d7c(0x2d6)){dbLogs['set'](_0x5f2d7c(0x1cb),_0x5f2d7c(0x2d6))[_0x5f2d7c(0x27a)]();let _0x2ac2ff=[];const _0x13a9a9=dbLogs[_0x5f2d7c(0x263)]('logs')['value']();_0x13a9a9[_0x5f2d7c(0x2a7)](_0x172389=>{const _0x2aee37=_0x5f2d7c;_0x2ac2ff[_0x2aee37(0x262)]({'time':_0x172389['time'],'type':_0x172389[_0x2aee37(0x1ec)],'event':_0x172389['event']});}),dbLogs[_0x5f2d7c(0x263)]('logs')[_0x5f2d7c(0x252)](_0x2ac2ff)[_0x5f2d7c(0x27a)]();}let _0x4172aa=dbConfig[_0x5f2d7c(0x263)]('version')[_0x5f2d7c(0x26e)]();if(_0x4172aa!=_0x5f2d7c(0x2d6)){dbConfig[_0x5f2d7c(0x209)]('version',_0x5f2d7c(0x2d6))[_0x5f2d7c(0x27a)]();let _0x33fa5a=dbConfig[_0x5f2d7c(0x263)]('bot')['find']({'botID':botID})[_0x5f2d7c(0x26e)]();if(_0x33fa5a){let _0x288958=[];_0x33fa5a[_0x5f2d7c(0x249)]['forEach'](_0x313734=>{const _0x473d2b=_0x5f2d7c;_0x288958['push']({'coin':_0x313734[_0x473d2b(0x27c)],'number':_0x313734[_0x473d2b(0x218)],'price':_0x313734[_0x473d2b(0x257)]}),delete _0x313734[_0x473d2b(0x218)],delete _0x313734[_0x473d2b(0x257)];});if(_0x288958[_0x5f2d7c(0x1bb)]!==0x0)fs[_0x5f2d7c(0x273)](configbackuppath+(_0x5f2d7c(0x2a1)+botID+_0x5f2d7c(0x276)),JSON[_0x5f2d7c(0x23f)](_0x288958,null,0x4),function(_0x355da1){if(_0x355da1){}});const _0x2f0cd2=(_0x50a628,_0x26c06f)=>{const _0x791321=_0x5f2d7c;let _0x30bae0=[];_0x26c06f[_0x791321(0x2a7)](_0x39827e=>{const _0x17a071=_0x791321,_0x2bff5e=_0x50a628[_0x17a071(0x269)](_0x5bddd6=>_0x5bddd6[_0x17a071(0x27c)]==_0x39827e[_0x17a071(0x27c)]);if(!_0x2bff5e)_0x30bae0[_0x17a071(0x262)](_0x39827e);});let _0x30a026=[];return _0x50a628[_0x791321(0x2a7)](_0x2aee9c=>{const _0x491dea=_0x791321,_0x301d72=_0x26c06f['find'](_0x4dc063=>_0x4dc063[_0x491dea(0x27c)]==_0x2aee9c['coin']);if(!_0x301d72||_0x301d72[_0x491dea(0x21b)]==0x0&&_0x2aee9c['number']!=0x0)_0x30a026[_0x491dea(0x262)](_0x2aee9c);}),{'missingDay1':_0x30bae0,'notInDay2':_0x30a026};},_0x51604f=dbPerformance[_0x5f2d7c(0x263)]('data')[_0x5f2d7c(0x27d)]()[_0x5f2d7c(0x26e)]();if(_0x51604f[_0x5f2d7c(0x1bb)]>0x1){const {missingDay1:_0x99a164,notInDay2:_0x233cfd}=_0x2f0cd2(_0x288958,_0x51604f[0x1][_0x5f2d7c(0x29e)]);_0x288958=[..._0x288958,..._0x99a164],_0x233cfd[_0x5f2d7c(0x2a7)](_0x487e1a=>{const _0x530034=_0x5f2d7c;let _0x1bafd2=_0x288958[_0x530034(0x206)](_0x590b44=>_0x590b44[_0x530034(0x27c)]==_0x487e1a[_0x530034(0x27c)]);_0x1bafd2!=-0x1&&_0x288958[_0x530034(0x2a2)](_0x1bafd2,0x1);});}_0x288958[_0x5f2d7c(0x1f2)]((_0x4beb2c,_0x3a97ef)=>_0x4beb2c[_0x5f2d7c(0x27c)]>_0x3a97ef[_0x5f2d7c(0x27c)]?0x1:_0x3a97ef[_0x5f2d7c(0x27c)]>_0x4beb2c['coin']?-0x1:0x0);let _0x5aa603=[{'date':_0x33fa5a['startdate'],'changes':_0x288958}];_0x51604f[_0x5f2d7c(0x1bb)]>0x2&&_0x51604f['forEach']((_0x4fa9ea,_0x3b0d8d)=>{const _0x29fb70=_0x5f2d7c;if(_0x3b0d8d>0x0&&_0x3b0d8d<_0x51604f[_0x29fb70(0x1bb)]-0x1){const {missingDay1:_0x7a4ebf,notInDay2:_0x12e569}=_0x2f0cd2(_0x51604f[_0x3b0d8d][_0x29fb70(0x29e)],_0x51604f[_0x3b0d8d+0x1][_0x29fb70(0x29e)]);_0x288958=[],(_0x7a4ebf['length']!=0x0||_0x12e569[_0x29fb70(0x1bb)]!=0x0)&&(_0x7a4ebf[_0x29fb70(0x1bb)]!=0x0&&_0x288958[_0x29fb70(0x262)](..._0x7a4ebf),_0x12e569['length']!=0x0&&(_0x12e569['forEach'](_0x3f45bb=>{const _0xeb4666=_0x29fb70;_0x3f45bb[_0xeb4666(0x21b)]=-_0x3f45bb['number'];}),_0x288958[_0x29fb70(0x262)](..._0x12e569)),_0x288958[_0x29fb70(0x1f2)]((_0x5ee807,_0x2fcab3)=>_0x5ee807[_0x29fb70(0x27c)]>_0x2fcab3[_0x29fb70(0x27c)]?0x1:_0x2fcab3[_0x29fb70(0x27c)]>_0x5ee807[_0x29fb70(0x27c)]?-0x1:0x0),_0x5aa603['push']({'date':_0x51604f[_0x3b0d8d+0x1]['date'],'changes':_0x288958}));}}),dbConfig[_0x5f2d7c(0x263)](_0x5f2d7c(0x25b))[_0x5f2d7c(0x269)]({'botID':botID})[_0x5f2d7c(0x252)]({..._0x33fa5a,'liquidity':_0x5aa603})[_0x5f2d7c(0x27a)]();}}config=getConfiguration(botID);let _0x4a994a=dbPerformance[_0x5f2d7c(0x263)]('version')['value']();_0x4a994a!=_0x5f2d7c(0x2d6)&&(dbPerformance['set']('version',_0x5f2d7c(0x2d6))[_0x5f2d7c(0x27a)](),setStartDatePerformance());let _0x24128a=dbCoinResults[_0x5f2d7c(0x263)](_0x5f2d7c(0x1cb))[_0x5f2d7c(0x26e)]();_0x24128a!='2.3.5'&&dbCoinResults[_0x5f2d7c(0x209)]('version',_0x5f2d7c(0x2d6))[_0x5f2d7c(0x27a)]();}function getConfiguration(_0x38b77c){const _0x432f0b=_0x34d519;let _0xc7ca3e=dbConfig[_0x432f0b(0x263)]('bot')[_0x432f0b(0x269)]({'botID':_0x38b77c})[_0x432f0b(0x26e)]();if(_0xc7ca3e){}else _0xc7ca3e={'botID':_0x38b77c,'exchange':_0x432f0b(0x2a6),'apiKey':'','apiSecret':'','basecoin':'','botname':'Bot\x20'+_0x38b77c,'showname':![],'threshold':'3','ordertype':_0x432f0b(0x2c6),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0xc7ca3e;}function emittedConfiguration(){const _0x335456=_0x34d519;let _0x1311b6;return config[_0x335456(0x256)]==''?_0x1311b6=config:_0x1311b6={...config,'apiKey':_0x335456(0x2c0),'apiSecret':_0x335456(0x2c0)},_0x1311b6;}function getSettings(){const _0x5678c3=_0x34d519;return dbSettings[_0x5678c3(0x263)](_0x5678c3(0x20c))[_0x5678c3(0x26e)]();}function getSecure(){const _0x17cb62=_0x34d519;return dbSecure[_0x17cb62(0x263)](_0x17cb62(0x20b))[_0x17cb62(0x26e)]()||{};}function updateTimeshift(_0x38e75e){const _0x65b612=_0x34d519;let _0x338920=dbConfig[_0x65b612(0x263)](_0x65b612(0x25b))['find']({'botID':botID})['value']();_0x338920&&dbConfig[_0x65b612(0x263)](_0x65b612(0x25b))['find']({'botID':botID})[_0x65b612(0x252)]({'timeshift':_0x38e75e})[_0x65b612(0x27a)](),config[_0x65b612(0x274)]=_0x38e75e,proxyEmit(_0x65b612(0x1be),emittedConfiguration());}async function storeConfiguration(_0x1601c7){const _0x38305d=_0x34d519;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x1df65a=dbConfig[_0x38305d(0x263)](_0x38305d(0x25b))[_0x38305d(0x269)]({'botID':botID})[_0x38305d(0x26e)]();_0x1601c7={..._0x1601c7,'apiKey':crypt['decrypt'](secure[_0x38305d(0x24e)],_0x1601c7['apiKey'])[_0x38305d(0x1d3)],'apiSecret':crypt['decrypt'](secure[_0x38305d(0x24e)],_0x1601c7[_0x38305d(0x251)])['message']};if(_0x1df65a){if(_0x1601c7['apiKey']=='************')_0x1601c7[_0x38305d(0x256)]=config['apiKey'];if(_0x1601c7[_0x38305d(0x251)]==_0x38305d(0x2c0))_0x1601c7[_0x38305d(0x251)]=config[_0x38305d(0x251)];dbConfig['get'](_0x38305d(0x25b))[_0x38305d(0x269)]({'botID':botID})['assign'](_0x1601c7)[_0x38305d(0x27a)]();}else dbConfig[_0x38305d(0x263)](_0x38305d(0x25b))[_0x38305d(0x262)](_0x1601c7)['write'](),process[_0x38305d(0x205)]({'status':_0x38305d(0x26d),'live':_0x38305d(0x21a)},_0x449b0d=>{});config={..._0x1601c7},setStartDatePerformance(),process[_0x38305d(0x205)]({'botname':_0x1601c7['botname']},_0x144336=>{});const _0x46e2cd=getNormalizedPerformance();getStartingBalances(_0x46e2cd),emitPerformance(_0x46e2cd),proxyEmit(_0x38305d(0x264)),reset();}async function storeHeadless(_0x412cdb){const _0x452532=_0x34d519,_0x4e07a1={...config,'headless':_0x412cdb['headless']};let _0x5b653d=dbConfig[_0x452532(0x263)]('bot')[_0x452532(0x269)]({'botID':botID})['value']();_0x5b653d&&dbConfig[_0x452532(0x263)]('bot')[_0x452532(0x269)]({'botID':botID})[_0x452532(0x252)](_0x4e07a1)[_0x452532(0x27a)](),config={..._0x4e07a1},proxyEmit(_0x452532(0x1be),emittedConfiguration());}function noslash(_0x592717){const _0x59c979=_0x34d519;return _0x592717[_0x59c979(0x2d0)]('/','');}function updateNumberCoins(_0x1c989d){const _0x25b429=_0x34d519;_0x1c989d[_0x25b429(0x299)]&&_0x1c989d[_0x25b429(0x299)]==_0x25b429(0x23a)&&_0x1c989d['balances'][_0x25b429(0x2a7)](_0x5e5af4=>{const _0x14fcbd=_0x25b429;let _0x379265=currentCoins['find'](_0x561e6b=>_0x561e6b[_0x14fcbd(0x27c)]==_0x5e5af4[_0x14fcbd(0x2b3)]),_0x54455f=config[_0x14fcbd(0x249)][_0x14fcbd(0x269)](_0x4b3c36=>_0x4b3c36['coin']==_0x5e5af4[_0x14fcbd(0x2b3)]);if(_0x379265&&_0x54455f)_0x379265[_0x14fcbd(0x21b)]=Math[_0x14fcbd(0x225)](Number(_0x5e5af4[_0x14fcbd(0x200)])+(_0x54455f[_0x14fcbd(0x1bf)]||0x0),0x0);});if(_0x1c989d[_0x25b429(0x299)]&&_0x1c989d[_0x25b429(0x299)]==_0x25b429(0x24a)){if(_0x1c989d[_0x25b429(0x243)]==_0x25b429(0x1ee)&&_0x1c989d[_0x25b429(0x27b)]==_0x25b429(0x267)){if(lastOrders)lastOrders['forEach'](_0x454d5e=>{const _0x2cfa2d=_0x25b429;if(_0x454d5e['orderId']==_0x1c989d[_0x2cfa2d(0x1bd)]){if(_0x454d5e['reverse'])_0x454d5e[_0x2cfa2d(0x246)]=_0x1c989d['accumulatedQuantity']*_0x454d5e['price'];else _0x454d5e['filled']=_0x1c989d[_0x2cfa2d(0x28a)];}});}}}async function getCoins(_0x11216b=!![],_0x20122e=config[_0x34d519(0x24b)]){const _0x47cefd=_0x34d519;let _0x4ae351,_0x50169=[],_0x5e56a0=[],_0x123b17=[];try{_0x4ae351=await exchange['fetchBalance'](),mybalances=_0x4ae351[_0x47cefd(0x255)];if(!_0x11216b)for(const [_0x2c5977,_0x4aba24]of Object[_0x47cefd(0x25e)](mybalances)){_0x123b17[_0x47cefd(0x262)](_0x2c5977);}else config[_0x47cefd(0x249)]['forEach'](_0x45ba3a=>{const _0x200d3c=_0x47cefd;if(!_0x45ba3a['excluded'])_0x123b17[_0x200d3c(0x262)](_0x45ba3a[_0x200d3c(0x27c)]);});if(_0x20122e=='')for(const [_0x9341f5,_0x4b4ac6]of Object[_0x47cefd(0x25e)](mybalances)){_0x4b4ac6['toString']()!=0x0&&_0x5e56a0[_0x47cefd(0x262)]({'coin':_0x9341f5});}else for(const [_0x412f10,_0x47f177]of Object[_0x47cefd(0x25e)](mybalances)){if(_0x123b17[_0x47cefd(0x1e6)](_0x412f10)){const _0x371717=config['portfolio'][_0x47cefd(0x269)](_0x1651a3=>_0x1651a3[_0x47cefd(0x27c)]==_0x412f10);if((_0x47f177['toString']()!=0x0||_0x371717)&&(allSymbols['includes'](_0x412f10+'/'+_0x20122e)||_0x412f10==_0x20122e))_0x5e56a0[_0x47cefd(0x262)]({'coin':_0x412f10,'symbol':_0x412f10+'/'+_0x20122e,'reverse':![],'number':Math[_0x47cefd(0x225)](_0x47f177+(_0x371717&&_0x371717[_0x47cefd(0x1bf)]||0x0),0x0)}),_0x412f10!=_0x20122e&&_0x50169['push'](_0x412f10+'/'+_0x20122e);else(_0x47f177[_0x47cefd(0x1de)]()!=0x0||_0x371717)&&allSymbols['includes'](_0x20122e+'/'+_0x412f10)&&(_0x5e56a0[_0x47cefd(0x262)]({'coin':_0x412f10,'symbol':_0x20122e+'/'+_0x412f10,'reverse':!![],'number':Math[_0x47cefd(0x225)](_0x47f177+(_0x371717&&_0x371717['offset']||0x0),0x0)}),_0x412f10!=_0x20122e&&_0x50169[_0x47cefd(0x262)](_0x20122e+'/'+_0x412f10));}}}catch(_0x438639){if(!_0x11216b){if(_0x438639[_0x47cefd(0x1de)]()[_0x47cefd(0x1e6)](_0x47cefd(0x248)))return logHistory(_0x47cefd(0x2ab),_0x47cefd(0x271)),![];else{if(_0x438639['toString']()['includes'](_0x47cefd(0x214)))return logHistory(_0x47cefd(0x2ab),_0x47cefd(0x238)),![];else{if(_0x438639[_0x47cefd(0x1de)]()['includes'](_0x47cefd(0x1c2)))return logHistory(_0x47cefd(0x2ab),_0x47cefd(0x265)),![];else await handleError(_0x438639,_0x47cefd(0x1b9));}}}else await handleError(_0x438639,'getCoins()');}return _0x5e56a0;}async function getPortfolio(_0x5f5a88){const _0x5ec37f=_0x34d519;let _0x9eed76=[],_0x53f480=[],_0x55ec23,_0x329edc=[],_0x200f56,_0xcdb596;_0x5f5a88[_0x5ec37f(0x256)]==='************'||_0x5f5a88[_0x5ec37f(0x251)]===_0x5ec37f(0x2c0)?(_0x200f56=config[_0x5ec37f(0x256)],_0xcdb596=config[_0x5ec37f(0x251)]):(_0x200f56=_0x5f5a88['apiKey'],_0xcdb596=_0x5f5a88[_0x5ec37f(0x251)]);await initExchange(_0x200f56,_0xcdb596);let _0x593f3c=await loadSymbols();if(_0x593f3c){_0x329edc=await getCoins(![],_0x5f5a88['basecoin']);if(_0x329edc===![])proxyEmit('portfolio',![]);else{if(_0x5f5a88['basecoin']=='')proxyEmit(_0x5ec37f(0x249),_0x329edc);else{_0x329edc[_0x5ec37f(0x2a7)](_0x4403b2=>{const _0x3ca301=_0x5ec37f;_0x9eed76[_0x3ca301(0x262)](_0x4403b2[_0x3ca301(0x266)]);});try{_0x53f480=await exchange[_0x5ec37f(0x1f7)](_0x9eed76);}catch(_0x45a91f){await handleError(_0x45a91f,_0x5ec37f(0x240));}_0x329edc[_0x5ec37f(0x2a7)](_0x287bab=>{const _0x9ac391=_0x5ec37f;_0x287bab['coin']!=_0x5f5a88['basecoin']?_0x55ec23=_0x287bab[_0x9ac391(0x227)]?0x1/_0x53f480[_0x287bab[_0x9ac391(0x266)]][_0x9ac391(0x2c5)]:_0x53f480[_0x287bab[_0x9ac391(0x266)]][_0x9ac391(0x2c5)]:_0x55ec23=0x1,_0x287bab[_0x9ac391(0x28e)]=formatResult(_0x55ec23,0x8);}),proxyEmit(_0x5ec37f(0x249),_0x329edc);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x51848d){const _0x36c268=_0x34d519;let _0x35509a=!![];const _0x1e57d8=!_0x51848d[_0x36c268(0x227)]?markets[_0x51848d[_0x36c268(0x266)]][_0x36c268(0x208)][_0x36c268(0x26f)][_0x36c268(0x28d)]:markets[_0x51848d[_0x36c268(0x266)]]['limits'][_0x36c268(0x222)]['min'],_0x29b5ca=!_0x51848d[_0x36c268(0x227)]?markets[_0x51848d[_0x36c268(0x266)]][_0x36c268(0x208)]['cost']['min']:markets[_0x51848d['symbol']]['limits'][_0x36c268(0x26f)][_0x36c268(0x28d)];if(Math[_0x36c268(0x29b)](_0x51848d[_0x36c268(0x277)])<_0x1e57d8)_0x35509a=![];if(Math['abs'](_0x51848d[_0x36c268(0x277)])*_0x51848d[_0x36c268(0x2c5)]<_0x29b5ca)_0x35509a=![];if(_0x51848d[_0x36c268(0x2b4)]==_0x36c268(0x278)){let _0x2b7c43=config[_0x36c268(0x249)][_0x36c268(0x269)](_0x4a370b=>_0x4a370b[_0x36c268(0x27c)]==_0x51848d['coin']);if(Math[_0x36c268(0x29b)](_0x51848d[_0x36c268(0x277)])>_0x51848d[_0x36c268(0x21b)]-_0x2b7c43[_0x36c268(0x1bf)])_0x35509a=![];}return _0x35509a;}async function getBalances(){const _0x427fc5=_0x34d519;let _0x7e251e=0x0,_0x2b6582;const _0x6880a8=config[_0x427fc5(0x242)];currentCoins[_0x427fc5(0x2a7)](_0x572020=>{const _0x254551=_0x427fc5;if(_0x572020[_0x254551(0x27c)]!=config[_0x254551(0x24b)]){let _0x460e60=global[_0x254551(0x2ad)][noslash(_0x572020['symbol'])];_0x2b6582=_0x572020['reverse']?0x1/_0x460e60:_0x460e60;}else _0x2b6582=0x1;let _0x57c36c=_0x572020[_0x254551(0x21b)]*_0x2b6582;_0x7e251e+=_0x57c36c,_0x572020[_0x254551(0x2c5)]=formatResult(Number(_0x2b6582),0x8),_0x572020['value']=_0x57c36c;}),currentCoins[_0x427fc5(0x2a7)](_0x3e4fa3=>{const _0x73caaa=_0x427fc5;let _0x47f44c=config[_0x73caaa(0x249)][_0x73caaa(0x269)](_0x5ee369=>_0x5ee369[_0x73caaa(0x27c)]==_0x3e4fa3[_0x73caaa(0x27c)]),_0x2eb19f=Number(_0x47f44c[_0x73caaa(0x245)]),_0x1d4974=_0x3e4fa3[_0x73caaa(0x26e)]/_0x7e251e*0x64,_0x4426b6=_0x2eb19f*_0x7e251e/0x64/_0x3e4fa3[_0x73caaa(0x2c5)]-_0x3e4fa3[_0x73caaa(0x21b)];_0x3e4fa3[_0x73caaa(0x245)]=formatResult(_0x1d4974,0x3),_0x3e4fa3[_0x73caaa(0x20e)]=formatResult(_0x2eb19f,0x3),_0x3e4fa3['trade']=formatResult(_0x4426b6,0x8),_0x3e4fa3[_0x73caaa(0x2b4)]='',_0x3e4fa3[_0x73caaa(0x24f)]='';if(_0x3e4fa3['coin']!=config[_0x73caaa(0x24b)]){if(_0x3e4fa3[_0x73caaa(0x245)]>_0x2eb19f)_0x3e4fa3[_0x73caaa(0x2b4)]=_0x73caaa(0x278),_0x3e4fa3[_0x73caaa(0x24f)]=checkMinimums(_0x3e4fa3);else _0x3e4fa3['distribution']<_0x2eb19f&&(_0x3e4fa3[_0x73caaa(0x2b4)]='buy',_0x3e4fa3['valid']=checkMinimums(_0x3e4fa3));}_0x3e4fa3[_0x73caaa(0x207)]=_0x3e4fa3[_0x73caaa(0x245)]/_0x3e4fa3[_0x73caaa(0x20e)]-0x1;}),currentCoins[_0x427fc5(0x1f2)]((_0x27abf3,_0xd7ee93)=>_0x27abf3['delta']<_0xd7ee93[_0x427fc5(0x207)]?0x1:_0xd7ee93[_0x427fc5(0x207)]<_0x27abf3[_0x427fc5(0x207)]?-0x1:0x0);const _0x3deea4=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x3deea4['eur'],'usd':_0x3deea4[_0x427fc5(0x2af)],'portfolio':JSON[_0x427fc5(0x23f)](currentCoins),'threshold':_0x6880a8},proxyEmit(_0x427fc5(0x26a),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x427fc5(0x2d1)])headlessMode({'portfolio':currentCoins,'threshold':_0x6880a8});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x6880a8});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2f60e5=_0x34d519;if(!lastBalances)return;let _0x174234=[],_0x34f9a4,_0xd42ac8=JSON[_0x2f60e5(0x233)](lastBalances['portfolio']);_0xd42ac8['sort']((_0x1d3192,_0x3d51bc)=>_0x1d3192[_0x2f60e5(0x27c)]>_0x3d51bc[_0x2f60e5(0x27c)]?0x1:_0x3d51bc['coin']>_0x1d3192[_0x2f60e5(0x27c)]?-0x1:0x0),_0xd42ac8[_0x2f60e5(0x2a7)](_0x3fd696=>{const _0x3ae672=_0x2f60e5;let _0x2cb1ed={'coin':_0x3fd696[_0x3ae672(0x27c)],'number':_0x3fd696['number'],'price':_0x3fd696[_0x3ae672(0x2c5)]};_0x174234[_0x3ae672(0x262)](_0x2cb1ed);});const _0x53f7f0=await getFiat();_0x34f9a4={'date':lastBalances['time'][_0x2f60e5(0x29d)]('\x20')[0x0],'eur':_0x53f7f0[_0x2f60e5(0x216)],'usd':_0x53f7f0[_0x2f60e5(0x2af)],'coins':_0x174234};let _0x5f5004=dbPerformance[_0x2f60e5(0x263)]('data')[_0x2f60e5(0x269)]({'date':_0x34f9a4['date']})[_0x2f60e5(0x26e)]();_0x5f5004?_0x34f9a4[_0x2f60e5(0x21c)]!=config['startdate']&&dbPerformance[_0x2f60e5(0x263)](_0x2f60e5(0x1d8))[_0x2f60e5(0x269)]({'date':_0x34f9a4[_0x2f60e5(0x21c)]})[_0x2f60e5(0x252)](_0x34f9a4)['write']():dbPerformance[_0x2f60e5(0x263)]('data')[_0x2f60e5(0x262)](_0x34f9a4)[_0x2f60e5(0x27a)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x15ce6e=_0x34d519;let _0x38e51a=[];if(dbPerformance[_0x15ce6e(0x1f3)](_0x15ce6e(0x1d8))[_0x15ce6e(0x26e)]()){let _0x2de378=dbPerformance[_0x15ce6e(0x263)](_0x15ce6e(0x1d8))[_0x15ce6e(0x27d)]()[_0x15ce6e(0x201)](_0x15ce6e(0x21c))[_0x15ce6e(0x26e)](),_0x7d5de4=[...config['liquidity']];_0x7d5de4['sort']((_0x198e24,_0x105765)=>_0x198e24['date']>_0x105765['date']?-0x1:_0x105765[_0x15ce6e(0x21c)]>_0x198e24[_0x15ce6e(0x21c)]?0x1:0x0);let _0x406c0f=0x1,_0x1845da=[],_0x16f0ed=0x0;_0x2de378[_0x15ce6e(0x1e9)]()[_0x15ce6e(0x227)]()[_0x15ce6e(0x2a7)]((_0x422abb,_0x394dbc)=>{const _0x41042c=_0x15ce6e;if(_0x7d5de4[_0x16f0ed]){const _0x1ae3ed=fns[_0x41042c(0x233)](_0x7d5de4[_0x16f0ed]['date'],_0x41042c(0x235),new Date()),_0x592d10=fns['parse'](_0x422abb[_0x41042c(0x21c)],_0x41042c(0x235),new Date());if(fns[_0x41042c(0x1c7)](_0x1ae3ed,fns['addDays'](_0x592d10,0x1))){if(_0x394dbc<_0x2de378[_0x41042c(0x1bb)]){let _0x56e184=0x0,_0x656d75=0x0;_0x2de378[_0x2de378[_0x41042c(0x1bb)]-_0x394dbc-0x1][_0x41042c(0x29e)][_0x41042c(0x2a7)](_0x618fde=>{const _0xe4cbf0=_0x41042c;_0x656d75+=_0x618fde[_0xe4cbf0(0x21b)]*_0x618fde['price'];}),_0x7d5de4[_0x16f0ed]['changes'][_0x41042c(0x2a7)](_0x42f3ef=>{const _0x52d013=_0x41042c;_0x56e184+=_0x42f3ef[_0x52d013(0x21b)]*_0x42f3ef[_0x52d013(0x28e)];}),_0x406c0f*=_0x56e184/_0x656d75+0x1;}_0x16f0ed++;}}let _0x4d8fa0=0x0;_0x422abb[_0x41042c(0x29e)]['forEach'](_0x30f83b=>{const _0x449534=_0x41042c;_0x4d8fa0+=_0x30f83b['number']*_0x30f83b[_0x449534(0x28e)];}),_0x1845da[_0x2de378[_0x41042c(0x1bb)]-_0x394dbc-0x1]=_0x4d8fa0*(_0x406c0f-0x1);});let _0x14e1cc=[];_0x7d5de4=[...config[_0x15ce6e(0x2c2)]]||[];let _0x263f19=0x0;_0x16f0ed=0x0,_0x2de378['forEach']((_0x3ae94f,_0x2591a2)=>{const _0x16fecb=_0x15ce6e;if(_0x7d5de4[_0x16f0ed]){const _0x59bcef=fns['parse'](_0x7d5de4[_0x16f0ed][_0x16fecb(0x21c)],_0x16fecb(0x235),new Date()),_0x11024f=fns['parse'](_0x3ae94f[_0x16fecb(0x21c)],_0x16fecb(0x235),new Date()),_0x57d44c=fns[_0x16fecb(0x2d2)](fns[_0x16fecb(0x29f)](_0x11024f,0x1),_0x16fecb(0x235));if(fns['isEqual'](_0x59bcef,_0x11024f)){let _0x1c8a9d=0x0;_0x7d5de4[_0x16f0ed][_0x16fecb(0x1fb)]['forEach'](_0x4a5c5e=>{const _0x4460cd=_0x16fecb;!_0x14e1cc[_0x4a5c5e[_0x4460cd(0x27c)]]?_0x14e1cc[_0x4a5c5e['coin']]=_0x4a5c5e[_0x4460cd(0x21b)]:(_0x1c8a9d=_0x14e1cc[_0x4a5c5e[_0x4460cd(0x27c)]],_0x14e1cc[_0x4a5c5e[_0x4460cd(0x27c)]]+=_0x4a5c5e['number']);const _0x5b6a84=_0x3ae94f[_0x4460cd(0x29e)][_0x4460cd(0x269)](_0x496f12=>_0x496f12[_0x4460cd(0x27c)]==_0x4a5c5e['coin']);(!_0x5b6a84||_0x5b6a84[_0x4460cd(0x21b)]==0x0)&&(_0x263f19+=(-_0x4a5c5e[_0x4460cd(0x21b)]-_0x1c8a9d)*_0x4a5c5e[_0x4460cd(0x28e)]);}),_0x16f0ed++;}}_0x3ae94f[_0x16fecb(0x29e)][_0x16fecb(0x2a7)]((_0xa2e902,_0x1e6a3c)=>{const _0x3bf3be=_0x16fecb;_0x14e1cc[_0xa2e902['coin']]&&(_0xa2e902={..._0xa2e902,'initial':_0x14e1cc[_0xa2e902[_0x3bf3be(0x27c)]]}),_0x3ae94f[_0x3bf3be(0x29e)][_0x1e6a3c]=_0xa2e902;}),_0x38e51a[_0x16fecb(0x262)]({'date':_0x3ae94f['date'],'eur':_0x3ae94f['eur'],'usd':_0x3ae94f[_0x16fecb(0x2af)],'offset':_0x1845da[_0x2591a2],'netoffset':_0x263f19,'coins':_0x3ae94f['coins']});});}return _0x38e51a;}function emitPerformance(_0x5f57fe){const _0x2d3d32=_0x34d519;_0x5f57fe['length']!==0x0?(proxyEmit(_0x2d3d32(0x296),_0x5f57fe),lastPerformanceEmitted=getDate()):proxyEmit(_0x2d3d32(0x296),[]);}function getPerf(_0x1b1300,_0x278aa1){const _0x12fb4c=_0x34d519;let _0x30781b=0x0,_0x304cd5=0x0,_0x47e3d5=0x0;_0x1b1300[_0x12fb4c(0x29e)][_0x12fb4c(0x2a7)](_0x17660f=>{const _0x5d0bf2=_0x12fb4c;_0x30781b+=_0x17660f[_0x5d0bf2(0x21b)]*_0x17660f['price'];});_0x278aa1&&(_0x30781b+=_0x1b1300[_0x12fb4c(0x1bf)]);if(config[_0x12fb4c(0x24b)]===_0x12fb4c(0x2a9))_0x304cd5=_0x30781b*_0x1b1300[_0x12fb4c(0x216)],_0x47e3d5=_0x30781b*_0x1b1300['usd'];else{if(config[_0x12fb4c(0x24b)]===_0x12fb4c(0x290)||config[_0x12fb4c(0x24b)]===_0x12fb4c(0x1dc)||config[_0x12fb4c(0x24b)]===_0x12fb4c(0x291))_0x304cd5=_0x30781b*_0x1b1300[_0x12fb4c(0x216)]/_0x1b1300[_0x12fb4c(0x2af)],_0x47e3d5=_0x30781b;else config[_0x12fb4c(0x24b)]==='EUR'&&(_0x304cd5=_0x30781b,_0x47e3d5=_0x30781b*_0x1b1300[_0x12fb4c(0x2af)]/_0x1b1300[_0x12fb4c(0x216)]);}return[_0x30781b,_0x304cd5,_0x47e3d5];}async function getStartingBalances(_0x556270,_0x26b3bb=!![]){const _0x56a1b3=_0x34d519;if(_0x556270['length']!==0x0){const [_0x31fa74,_0x400d92,_0x9b6a05]=getPerf(_0x556270[0x0],!![]);let _0x4a3457=[];config[_0x56a1b3(0x249)]['forEach'](_0x24205f=>{const _0x393cf4=_0x56a1b3;let _0x303bda=0x0;config[_0x393cf4(0x2c2)]['forEach'](_0x3285b4=>{const _0x476f88=_0x393cf4;let _0x414dde=_0x3285b4[_0x476f88(0x1fb)][_0x476f88(0x269)](_0x5ee6da=>_0x5ee6da[_0x476f88(0x27c)]==_0x24205f[_0x476f88(0x27c)]);if(_0x414dde)_0x303bda+=_0x414dde[_0x476f88(0x21b)];}),_0x4a3457[_0x393cf4(0x262)]({'coin':_0x24205f[_0x393cf4(0x27c)],'number':_0x303bda,'price':_0x24205f[_0x393cf4(0x28e)]});});const _0x159c47={'basecoin':_0x31fa74,'eur':_0x400d92,'usd':_0x9b6a05,'coins':_0x4a3457};if(_0x26b3bb)proxyEmit(_0x56a1b3(0x25a),_0x159c47);return _0x159c47;}}function headlessMode(_0x528153){const _0x3023e8=_0x34d519;let _0x39d205=_0x528153['portfolio'],_0xe5800f=_0x528153[_0x3023e8(0x242)],_0x43e7e9=[];for(let _0x3f448f of _0x39d205){if(_0x3f448f[_0x3023e8(0x27c)]!=config[_0x3023e8(0x24b)]){if(_0x3f448f['distribution']/_0x3f448f[_0x3023e8(0x20e)]-0x1>=_0xe5800f/0x64){if(_0x3f448f[_0x3023e8(0x24f)])_0x43e7e9[_0x3023e8(0x262)](_0x3f448f);}else{if(_0x3f448f[_0x3023e8(0x245)]/_0x3f448f[_0x3023e8(0x20e)]-0x1<=-_0xe5800f/0x64){if(_0x3f448f[_0x3023e8(0x24f)])_0x43e7e9[_0x3023e8(0x262)](_0x3f448f);}}}}_0x43e7e9[_0x3023e8(0x1bb)]>0x0&&placeOrder(_0x43e7e9);}function notifyBalance(_0xf15b2d){const _0x2af9a5=_0x34d519;let _0x5141e0=_0xf15b2d[_0x2af9a5(0x249)],_0x17b69b=_0xf15b2d[_0x2af9a5(0x242)],_0x1e887b=[];for(let _0x55668a of _0x5141e0){if(_0x55668a[_0x2af9a5(0x27c)]!=config[_0x2af9a5(0x24b)]){if(_0x55668a[_0x2af9a5(0x245)]/_0x55668a[_0x2af9a5(0x20e)]-0x1>=_0x17b69b/0x64){if(_0x55668a[_0x2af9a5(0x24f)])_0x1e887b['push'](_0x55668a);}else{if(_0x55668a['distribution']/_0x55668a[_0x2af9a5(0x20e)]-0x1<=-_0x17b69b/0x64){if(_0x55668a['valid'])_0x1e887b[_0x2af9a5(0x262)](_0x55668a);}}}}if(_0x1e887b[_0x2af9a5(0x1bb)]>0x0){let _0x594c0c=_0x1e887b[_0x2af9a5(0x2c7)](_0x50d9f3=>_0x50d9f3['coin']);_0x594c0c[_0x2af9a5(0x1f2)]();let _0xe6209d=_0x594c0c[_0x2af9a5(0x28f)](',\x20');if(lastCoinsToBalance!==_0xe6209d)logHistory(_0x2af9a5(0x20a),'Manual\x20balancing\x20required:\x20'+_0xe6209d);lastCoinsToBalance=_0xe6209d;}}function symbolToCoin(_0x52212a){const _0x55f7c8=_0x34d519;let _0x304593;if(_0x52212a[_0x55f7c8(0x1e6)]('/'+config[_0x55f7c8(0x24b)]))_0x304593=_0x52212a['replace']('/'+config['basecoin'],'');if(_0x52212a['includes'](config['basecoin']+'/'))_0x304593=_0x52212a['replace'](config[_0x55f7c8(0x24b)]+'/','');return _0x304593;}async function validateOrders(_0xf371a0=0x0){const _0x51dae4=_0x34d519;let _0x8b03fc=[],_0x3fc830=config[_0x51dae4(0x1e5)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x51dae4(0x275)]*0x3c*0x3e8/validateOrderInterval;lastOrders['forEach'](_0x28cc43=>{const _0x41ed66=_0x51dae4;let _0x20cb11=previousCoins[_0x41ed66(0x269)](_0x7a7147=>_0x7a7147[_0x41ed66(0x27c)]==symbolToCoin(_0x28cc43[_0x41ed66(0x266)])),_0x5ae88e=currentCoins[_0x41ed66(0x269)](_0x147d00=>_0x147d00[_0x41ed66(0x27c)]==symbolToCoin(_0x28cc43[_0x41ed66(0x266)])),_0xdd49d2,_0x4b884f;_0x28cc43[_0x41ed66(0x2b4)]==_0x41ed66(0x230)&&!_0x28cc43[_0x41ed66(0x227)]||_0x28cc43['side']=='sell'&&_0x28cc43[_0x41ed66(0x227)]?(_0xdd49d2=_0x20cb11[_0x41ed66(0x21b)]+0.9*_0x28cc43['filled'],_0x4b884f=_0x20cb11[_0x41ed66(0x21b)]+1.1*_0x28cc43['filled']):(_0xdd49d2=_0x20cb11[_0x41ed66(0x21b)]-1.1*_0x28cc43[_0x41ed66(0x246)],_0x4b884f=_0x20cb11[_0x41ed66(0x21b)]-0.9*_0x28cc43[_0x41ed66(0x246)]);const _0x1ec85e=_0x28cc43[_0x41ed66(0x246)]!=0x0&&_0x5ae88e[_0x41ed66(0x21b)]>=_0xdd49d2&&_0x5ae88e[_0x41ed66(0x21b)]<=_0x4b884f;_0x8b03fc['push'](_0x1ec85e);if(_0x1ec85e&&config[_0x41ed66(0x1e5)]!=_0x41ed66(0x2c6)){if(_0x28cc43['reverse'])logHistory(_0x41ed66(0x1e3),_0x41ed66(0x221)+_0x28cc43[_0x41ed66(0x266)]+'\x20'+_0x28cc43[_0x41ed66(0x2b4)]+'\x20#'+formatResult(_0x28cc43[_0x41ed66(0x246)]/_0x28cc43[_0x41ed66(0x28e)],0x8)+'\x20@'+formatResult(_0x28cc43['price'],0x8));else logHistory('order','Order\x20filled:\x20'+_0x28cc43['symbol']+'\x20'+_0x28cc43[_0x41ed66(0x2b4)]+'\x20#'+formatResult(_0x28cc43['filled'],0x8)+'\x20@'+formatResult(_0x28cc43[_0x41ed66(0x28e)],0x8));}}),_0x8b03fc[_0x51dae4(0x2a7)]((_0x55ccb6,_0x1674bf)=>{const _0x44ba4e=_0x51dae4;if(_0x55ccb6)lastOrders[_0x44ba4e(0x2a2)](_0x1674bf,0x1);});if(_0xf371a0<_0x3fc830&&_0x8b03fc[_0x51dae4(0x1e6)](![])){if(_0xf371a0==0x0){config[_0x51dae4(0x1e5)]==_0x51dae4(0x2c6)?logHistory('error',_0x51dae4(0x22a)):logHistory(_0x51dae4(0x2ab),_0x51dae4(0x2a5));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0xf371a0);},0xa*0x3e8);}else{(_0xf371a0==0x1||_0xf371a0==Math['round'](_0x3fc830/0x2)||_0xf371a0==_0x3fc830-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0xf371a0);},validateOrderInterval);}}else{lockOrders=![];if(_0xf371a0>0x0&&!_0x8b03fc['includes'](![]))config[_0x51dae4(0x1e5)]=='market'?logHistory(_0x51dae4(0x20a),'Order(s)\x20validated\x20-\x20balancing\x20resumed'):logHistory(_0x51dae4(0x20a),_0x51dae4(0x28c));else _0xf371a0>0x0&&_0x8b03fc[_0x51dae4(0x1e6)](![])&&(config[_0x51dae4(0x1e5)]==_0x51dae4(0x2c6)?logHistory(_0x51dae4(0x20a),_0x51dae4(0x284)+Math[_0x51dae4(0x26c)](_0x3fc830*validateOrderInterval/0xea60)+_0x51dae4(0x2b7)):(lastOrders[_0x51dae4(0x2a7)](async _0x1cde2d=>{const _0x36a203=_0x51dae4;try{const _0x2cb41b=await exchange[_0x36a203(0x2b0)](_0x1cde2d[_0x36a203(0x1bd)],_0x1cde2d['symbol']);}catch(_0x32b1aa){if(_0x32b1aa[_0x36a203(0x1de)]()[_0x36a203(0x1e6)](_0x36a203(0x292))){}else await handleError(_0x32b1aa,_0x36a203(0x1fd));}}),logHistory(_0x51dae4(0x20a),_0x51dae4(0x2d5)+Math[_0x51dae4(0x26c)](_0x3fc830*validateOrderInterval/0xea60)+_0x51dae4(0x2b7))));}}async function resetCoinResults(){const _0x13fc5a=_0x34d519;dbCoinResults['get'](_0x13fc5a(0x29e))[_0x13fc5a(0x288)]()[_0x13fc5a(0x27a)]();let _0x11f0e8=await getStartingBalances(getNormalizedPerformance(),![]);_0x11f0e8[_0x13fc5a(0x29e)]['forEach'](_0x39aab7=>{const _0x476b9a=_0x13fc5a;if(_0x39aab7['coin']!=config[_0x476b9a(0x24b)]){let _0x3d64d9={'coin':_0x39aab7['coin'],'number':_0x39aab7[_0x476b9a(0x21b)],'breakeven':_0x39aab7[_0x476b9a(0x28e)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x476b9a(0x29e))[_0x476b9a(0x262)](_0x3d64d9)[_0x476b9a(0x27a)]();}});}async function updateCoinResults(_0x3fe282){const _0x11696d=_0x34d519;let _0x5d8896,_0x450603,_0x28b548,_0x53c898,_0x4cfc06,_0x116fd5,_0x4f19d0=dbCoinResults[_0x11696d(0x263)](_0x11696d(0x29e))['find']({'coin':_0x3fe282['coin']})[_0x11696d(0x26e)]();if(!_0x4f19d0)return;if(_0x3fe282[_0x11696d(0x24d)]&&_0x3fe282[_0x11696d(0x24d)][_0x11696d(0x1e0)]==config[_0x11696d(0x24b)])_0x5d8896=_0x3fe282[_0x11696d(0x24d)][_0x11696d(0x222)];else{if(_0x3fe282[_0x11696d(0x24d)]&&_0x3fe282[_0x11696d(0x24d)]['currency']==_0x11696d(0x1c9))_0x5d8896=_0x3fe282['fee'][_0x11696d(0x222)]*global[_0x11696d(0x2ad)][_0x11696d(0x1c9)+config[_0x11696d(0x24b)]];else _0x5d8896=0.001*_0x3fe282['filled'];}const _0x23c7ff=_0x3fe282[_0x11696d(0x266)][_0x11696d(0x1e6)](config[_0x11696d(0x24b)]+'/');_0x23c7ff&&(_0x116fd5={'coin':_0x3fe282[_0x11696d(0x27c)],'symbol':_0x3fe282[_0x11696d(0x266)],'filled':_0x3fe282[_0x11696d(0x246)]*_0x3fe282[_0x11696d(0x28e)],'side':_0x3fe282[_0x11696d(0x2b4)]==_0x11696d(0x278)?_0x11696d(0x230):_0x11696d(0x278),'price':0x1/_0x3fe282[_0x11696d(0x28e)]},_0x3fe282={..._0x116fd5});_0x3fe282[_0x11696d(0x2b4)]==_0x11696d(0x230)?_0x28b548=(_0x4f19d0[_0x11696d(0x2cb)]*_0x4f19d0[_0x11696d(0x21b)]+_0x3fe282['price']*_0x3fe282['filled'])/(_0x4f19d0[_0x11696d(0x21b)]+_0x3fe282[_0x11696d(0x246)]):_0x28b548=(_0x4f19d0['breakeven']*_0x4f19d0[_0x11696d(0x21b)]-_0x3fe282[_0x11696d(0x28e)]*_0x3fe282[_0x11696d(0x246)])/(_0x4f19d0[_0x11696d(0x21b)]-_0x3fe282[_0x11696d(0x246)]);_0x3fe282[_0x11696d(0x2b4)]==_0x11696d(0x230)?_0x53c898=_0x4f19d0[_0x11696d(0x2bc)]:_0x53c898=_0x4f19d0[_0x11696d(0x2bc)]+(_0x3fe282[_0x11696d(0x28e)]-_0x4f19d0[_0x11696d(0x2cb)])*_0x3fe282['filled'];_0x450603=_0x3fe282[_0x11696d(0x2b4)]==_0x11696d(0x278)?_0x4f19d0[_0x11696d(0x21b)]-_0x3fe282[_0x11696d(0x246)]:_0x4f19d0[_0x11696d(0x21b)]+_0x3fe282[_0x11696d(0x246)],_0x4cfc06=(_0x3fe282[_0x11696d(0x28e)]-_0x28b548)*_0x450603;let _0x20836e={'coin':_0x3fe282[_0x11696d(0x27c)],'number':_0x450603,'breakeven':formatResult(_0x28b548,0x8),'realized':formatResult(_0x53c898,0x8),'unrealized':formatResult(_0x4cfc06,0x8),'fees':formatResult(_0x4f19d0[_0x11696d(0x2b8)]+_0x5d8896,0x8),'sells':_0x3fe282[_0x11696d(0x2b4)]=='sell'?_0x4f19d0[_0x11696d(0x211)]+0x1:_0x4f19d0[_0x11696d(0x211)],'buys':_0x3fe282[_0x11696d(0x2b4)]==_0x11696d(0x230)?_0x4f19d0[_0x11696d(0x22c)]+0x1:_0x4f19d0[_0x11696d(0x22c)]};dbCoinResults[_0x11696d(0x263)](_0x11696d(0x29e))['find']({'coin':_0x3fe282[_0x11696d(0x27c)]})[_0x11696d(0x252)](_0x20836e)[_0x11696d(0x27a)]();}async function placeOrder(_0x55331a){const _0x5afcf1=_0x34d519,_0x46e91b=config[_0x5afcf1(0x1e5)]==_0x5afcf1(0x2c6)?_0x5afcf1(0x2c6):_0x5afcf1(0x297);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x5afcf1(0x23f)](currentCoins));for(const _0x261eda of _0x55331a){let _0x57b0c9,_0x5a3904,_0x539c24,_0x3453e0,_0x438ef5,_0x5277ad=_0x261eda[_0x5afcf1(0x266)];try{const _0x30bd4f=await exchange[_0x5afcf1(0x1f7)](_0x5277ad),_0x3f789c=_0x30bd4f[_0x5277ad];_0x57b0c9=_0x3f789c[_0x5afcf1(0x2c5)],_0x5a3904=_0x3f789c['bid'],_0x539c24=_0x3f789c['ask'];_0x261eda['reverse']?(_0x3453e0=_0x261eda['side']=='buy'?_0x5afcf1(0x278):_0x5afcf1(0x230),_0x438ef5=Math['abs'](_0x261eda[_0x5afcf1(0x277)])/_0x57b0c9):(_0x3453e0=_0x261eda[_0x5afcf1(0x2b4)],_0x438ef5=Math[_0x5afcf1(0x29b)](_0x261eda[_0x5afcf1(0x277)]));_0x46e91b==_0x5afcf1(0x297)&&(config[_0x5afcf1(0x1e5)]==_0x5afcf1(0x2aa)&&(_0x57b0c9=_0x3453e0==_0x5afcf1(0x230)?_0x5a3904:_0x539c24),config[_0x5afcf1(0x1e5)]==_0x5afcf1(0x22b)&&(_0x57b0c9=_0x3453e0==_0x5afcf1(0x230)?_0x539c24:_0x5a3904));_0x438ef5=formatResult(_0x438ef5,0x8),_0x57b0c9=formatResult(_0x57b0c9,0x8);const _0x27e464=await exchange[_0x5afcf1(0x1c4)](_0x5277ad,_0x46e91b,_0x3453e0,_0x438ef5,_0x57b0c9);lastOrders['push']({'orderId':_0x27e464['id'],'symbol':_0x5277ad,'side':_0x3453e0,'reverse':_0x261eda[_0x5afcf1(0x227)],'amount':_0x261eda[_0x5afcf1(0x227)]?_0x27e464[_0x5afcf1(0x26f)]*_0x27e464['price']:_0x27e464[_0x5afcf1(0x26f)],'filled':_0x261eda[_0x5afcf1(0x227)]?_0x27e464[_0x5afcf1(0x246)]*_0x27e464[_0x5afcf1(0x28e)]:_0x27e464[_0x5afcf1(0x246)],'price':_0x27e464[_0x5afcf1(0x28e)]});const _0x3f806d=_0x3453e0==_0x5afcf1(0x278)?config['emojisell']?String['fromCodePoint']('0x'+config[_0x5afcf1(0x212)])+'\x20':'':config[_0x5afcf1(0x236)]?String['fromCodePoint']('0x'+config[_0x5afcf1(0x236)])+'\x20':'',_0xbe6745=_0x46e91b=='market'?_0x5afcf1(0x1cf):config[_0x5afcf1(0x1e5)]==_0x5afcf1(0x2aa)?_0x5afcf1(0x229):_0x5afcf1(0x1c5);if(_0x46e91b==_0x5afcf1(0x2c6))logHistory(_0x5afcf1(0x1e3),''+_0x3f806d+_0xbe6745+_0x5afcf1(0x294)+_0x5277ad+'\x20'+_0x3453e0+'\x20#'+formatResult(_0x27e464[_0x5afcf1(0x246)],0x8)+'\x20@'+formatResult(_0x27e464[_0x5afcf1(0x28e)],0x8));else logHistory(_0x5afcf1(0x1e3),''+_0x3f806d+_0xbe6745+_0x5afcf1(0x294)+_0x5277ad+'\x20'+_0x3453e0+'\x20#'+formatResult(_0x27e464['amount'],0x8)+'\x20@'+formatResult(_0x27e464[_0x5afcf1(0x28e)],0x8));_0x27e464['coin']=_0x261eda[_0x5afcf1(0x27c)],await updateCoinResults(_0x27e464);if(config[_0x5afcf1(0x23c)]!=0x0){let _0x391927=null;if(cooldownTracker['length']==config[_0x5afcf1(0x23c)]-0x1)_0x391927=cooldownTracker[_0x5afcf1(0x1f6)]();const _0x52a365=getTimeStamp();cooldownTracker[_0x5afcf1(0x262)](_0x52a365);if(_0x391927){const _0xb9467=fns[_0x5afcf1(0x217)](new Date(_0x52a365),new Date(_0x391927));_0xb9467<cooldownInterval&&(logHistory(_0x5afcf1(0x2ab),_0x5afcf1(0x219)+config[_0x5afcf1(0x23c)]+_0x5afcf1(0x2bf)+cooldownInterval/0x3c+'\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20'+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x487489){if(_0x487489[_0x5afcf1(0x1de)]()[_0x5afcf1(0x1e6)](_0x5afcf1(0x232)))logHistory(_0x5afcf1(0x2ab),_0x5afcf1(0x1e1)+_0x5277ad);else{if(_0x487489[_0x5afcf1(0x1de)]()[_0x5afcf1(0x1e6)](_0x5afcf1(0x1d0)))logHistory('error','Order\x20amount\x20is\x20invalid:\x20'+_0x5277ad);else await handleError(_0x487489,'placeOrder()');}}}if(lastOrders[_0x5afcf1(0x1bb)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x5afcf1(0x2d1)]&&(config['ordertype']==_0x5afcf1(0x2c6)?logHistory(_0x5afcf1(0x2ab),_0x5afcf1(0x29c)):logHistory('error',_0x5afcf1(0x210)));else coolingDown&&(!config[_0x5afcf1(0x2d1)]&&logHistory(_0x5afcf1(0x2ab),_0x5afcf1(0x27e)));}}function logHistory(_0x314493,_0x5bdf23,_0xdf1ae4=''){const _0x548053=_0x34d519;let _0x1d7238={'time':getTimeStamp(),'type':_0x314493,'event':_0x5bdf23};dbLogs[_0x548053(0x263)](_0x548053(0x280))[_0x548053(0x262)](_0x1d7238)['write']();if(_0xdf1ae4=='')_0xdf1ae4=_0x5bdf23;proxyEmit(_0x548053(0x2c4),{'log':_0x1d7238,'summary':_0xdf1ae4}),process[_0x548053(0x205)]({'telegram':{..._0x1d7238,'botname':config[_0x548053(0x250)],'showname':config[_0x548053(0x2ca)]}},_0x44e3ee=>{}),logging(''+_0x1d7238[_0x548053(0x2c4)]);}function emitHistory(_0x953349={}){const _0x5b1f02=_0x34d519;Object[_0x5b1f02(0x204)](_0x953349)[_0x5b1f02(0x1bb)]==0x0&&(_0x953349={'type':[_0x5b1f02(0x1e3),_0x5b1f02(0x2c4)],'event':'','page':0x1});if(_0x953349[_0x5b1f02(0x1ec)][_0x5b1f02(0x1e6)](_0x5b1f02(0x2c4)))_0x953349['type'][_0x5b1f02(0x2a2)](_0x953349[_0x5b1f02(0x1ec)][_0x5b1f02(0x283)](_0x5b1f02(0x2c4)),0x1,_0x5b1f02(0x2ab),'success');if(dbLogs[_0x5b1f02(0x1f3)](_0x5b1f02(0x280))['value']()){let _0x487a3f=dbLogs[_0x5b1f02(0x263)](_0x5b1f02(0x280))[_0x5b1f02(0x1c0)](_0x420e75=>{const _0x1990b9=_0x5b1f02;if(_0x953349[_0x1990b9(0x1ec)][_0x1990b9(0x1bb)]==0x0)return![];else return _0x953349[_0x1990b9(0x1ec)]['includes'](_0x420e75['type']);})[_0x5b1f02(0x1c0)](_0x1997ec=>{const _0x5e4afc=_0x5b1f02;if(_0x953349['event']=='')return!![];else return _0x1997ec[_0x5e4afc(0x2c4)][_0x5e4afc(0x241)]()[_0x5e4afc(0x1e6)](_0x953349[_0x5e4afc(0x2c4)][_0x5e4afc(0x241)]());})[_0x5b1f02(0x201)](_0x5b1f02(0x2cc)),_0x11f177=_0x487a3f['value']()['length'];_0x487a3f=_0x487a3f[_0x5b1f02(0x227)]()[_0x5b1f02(0x1e9)]((_0x953349[_0x5b1f02(0x215)]-0x1)*logPageSize,_0x953349[_0x5b1f02(0x215)]*logPageSize-0x1)['reverse']()[_0x5b1f02(0x26e)](),proxyEmit(_0x5b1f02(0x1d9),{'logs':_0x487a3f,'total':_0x11f177});}else proxyEmit(_0x5b1f02(0x1d9),{'logs':[],'total':0x0});}function deleteHistory(_0x3e1fe7={}){const _0x45240c=_0x34d519;Object['keys'](_0x3e1fe7)[_0x45240c(0x1bb)]==0x0&&(_0x3e1fe7={'type':[_0x45240c(0x1e3),_0x45240c(0x2c4)],'event':''});if(_0x3e1fe7['type'][_0x45240c(0x1e6)](_0x45240c(0x2c4)))_0x3e1fe7[_0x45240c(0x1ec)][_0x45240c(0x2a2)](_0x3e1fe7['type'][_0x45240c(0x283)]('event'),0x1,'error',_0x45240c(0x20a));console['log'](_0x3e1fe7);if(dbLogs[_0x45240c(0x1f3)](_0x45240c(0x280))[_0x45240c(0x26e)]()){let _0x49233e=dbLogs[_0x45240c(0x263)](_0x45240c(0x280))['sortBy']('time')[_0x45240c(0x1c0)](_0xf010ca=>{const _0x4b074b=_0x45240c;if(_0x3e1fe7['type'][_0x4b074b(0x1bb)]==0x0)return!![];else return!_0x3e1fe7[_0x4b074b(0x1ec)][_0x4b074b(0x1e6)](_0xf010ca['type']);})[_0x45240c(0x1c0)](_0x2425a5=>{const _0x134155=_0x45240c;if(_0x3e1fe7[_0x134155(0x2c4)]=='')return![];else return!_0x2425a5[_0x134155(0x2c4)][_0x134155(0x241)]()['includes'](_0x3e1fe7['event']['toLowerCase']());});console[_0x45240c(0x2cf)](JSON[_0x45240c(0x23f)](_0x49233e));}}async function pauseBot(_0x1d2c12){const _0x305d56=_0x34d519,_0x401b04=new Date()[_0x305d56(0x1f4)]();if(!lastBotPause)lastBotPause=new Date()[_0x305d56(0x1f4)](),consecutivePauses=0x1;else{if(_0x401b04-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process[_0x305d56(0x205)]({'stop':_0x305d56(0x2d3)},_0x1c23af=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x305d56(0x1f4)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory(_0x305d56(0x2ab),_0x305d56(0x1c3)+consecutivePauses+')'),await sleep(_0x1d2c12),botPaused=![],reset();}}async function handleError(_0x47b95f,_0x4c0a3b,_0x343096=''){const _0x121438=_0x34d519;if(_0x47b95f['toString']()[_0x121438(0x1e6)](_0x121438(0x231)))logHistory(_0x121438(0x2ab),_0x4c0a3b+_0x121438(0x1ba)),await pauseBot(pauseBotInterval);else{if(_0x47b95f[_0x121438(0x1de)]()[_0x121438(0x1e6)]('ExchangeNotAvailable'))logHistory(_0x121438(0x2ab),_0x4c0a3b+'\x20|\x20Binance\x20exchange\x20is\x20not\x20available'),await pauseBot(pauseBotInterval);else{if(_0x47b95f[_0x121438(0x1de)]()[_0x121438(0x1e6)](_0x121438(0x29a)))logHistory(_0x121438(0x2ab),_0x4c0a3b+_0x121438(0x202)),await pauseBot(pauseBotInterval);else{if(_0x47b95f[_0x121438(0x1de)]()['includes'](_0x121438(0x248)))logHistory(_0x121438(0x2ab),_0x4c0a3b+'\x20|\x20Binance\x20API\x20key\x20is\x20invalid'),logHistory(_0x121438(0x2ab),_0x121438(0x1fc)),process[_0x121438(0x205)]({'stop':_0x121438(0x223)},_0x15aaee=>{});else{if(_0x47b95f[_0x121438(0x1de)]()['includes']('AuthenticationError'))logHistory('error',_0x4c0a3b+_0x121438(0x2c3)),logHistory(_0x121438(0x2ab),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process['send']({'stop':'kill'},_0x16529f=>{});else{if(_0x47b95f[_0x121438(0x1de)]()['includes'](_0x121438(0x1c2)))logHistory(_0x121438(0x2ab),_0x4c0a3b+'\x20|\x20Binance\x20API\x20secret\x20is\x20invalid'),logHistory(_0x121438(0x2ab),_0x121438(0x1fc)),process[_0x121438(0x205)]({'stop':'kill'},_0x1ae601=>{});else{if(_0x47b95f[_0x121438(0x1de)]()[_0x121438(0x1e6)](_0x121438(0x272)))logHistory(_0x121438(0x2ab),_0x4c0a3b+_0x121438(0x286)),logHistory(_0x121438(0x2ab),_0x121438(0x1fc)),process['send']({'stop':_0x121438(0x223)},_0x3ff773=>{});else{if(_0x47b95f[_0x121438(0x1de)]()[_0x121438(0x1e6)](_0x121438(0x228)))logHistory(_0x121438(0x2ab),_0x4c0a3b+_0x121438(0x1d6)),await pauseBot(pauseBotInterval),process[_0x121438(0x205)]({'stop':_0x121438(0x2d3)},_0xd5e5ac=>{});else _0x47b95f[_0x121438(0x1de)]()[_0x121438(0x1e6)](_0x121438(0x1e8))?logHistory(_0x121438(0x2ab),_0x4c0a3b+'\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order'):(logHistory(_0x121438(0x2ab),_0x4c0a3b+_0x121438(0x20f)),logging(_0x4c0a3b+'\x20|\x20Error\x20details:\x20',_0x47b95f),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x59e34e,_0x44dfa7){const _0x57fb2e=_0x34d519;return parseFloat(_0x59e34e[_0x57fb2e(0x1ca)](_0x44dfa7));}function logging(_0x18305b,_0x581b76=''){const _0x2548e4=_0x34d519;if(config['showname'])console[_0x2548e4(0x2cf)](getTimeStamp()+':\x20'+config[_0x2548e4(0x250)]+_0x2548e4(0x2c9)+_0x18305b,_0x581b76);else console[_0x2548e4(0x2cf)](getTimeStamp()+_0x2548e4(0x237)+botID+_0x2548e4(0x2c9)+_0x18305b,_0x581b76);}function getServerTime(){const _0x279f44=_0x34d519,_0x490dbb=new Date();return _0x490dbb[_0x279f44(0x213)]()+'/'+(_0x490dbb[_0x279f44(0x2a3)]()+0x1)[_0x279f44(0x1de)]()['padStart'](0x2,'0')+'/'+_0x490dbb[_0x279f44(0x28b)]()[_0x279f44(0x1de)]()['padStart'](0x2,'0')+'\x20'+_0x490dbb[_0x279f44(0x2ac)]()[_0x279f44(0x1de)]()[_0x279f44(0x1f9)](0x2,'0')+':'+_0x490dbb['getMinutes']()[_0x279f44(0x1de)]()[_0x279f44(0x1f9)](0x2,'0')+':'+_0x490dbb[_0x279f44(0x1e7)]()[_0x279f44(0x1de)]()[_0x279f44(0x1f9)](0x2,'0');}function getTimeStamp(){const _0x2aa07f=_0x34d519,_0x28f44a=shiftedTime();return _0x28f44a['getFullYear']()+'/'+(_0x28f44a['getMonth']()+0x1)[_0x2aa07f(0x1de)]()['padStart'](0x2,'0')+'/'+_0x28f44a[_0x2aa07f(0x28b)]()[_0x2aa07f(0x1de)]()[_0x2aa07f(0x1f9)](0x2,'0')+'\x20'+_0x28f44a[_0x2aa07f(0x2ac)]()[_0x2aa07f(0x1de)]()['padStart'](0x2,'0')+':'+_0x28f44a[_0x2aa07f(0x1cc)]()[_0x2aa07f(0x1de)]()[_0x2aa07f(0x1f9)](0x2,'0')+':'+_0x28f44a[_0x2aa07f(0x1e7)]()[_0x2aa07f(0x1de)]()[_0x2aa07f(0x1f9)](0x2,'0');}function getDate(){const _0x7964ce=_0x34d519,_0x1dc10c=shiftedTime();return _0x1dc10c[_0x7964ce(0x213)]()+'/'+(_0x1dc10c[_0x7964ce(0x2a3)]()+0x1)[_0x7964ce(0x1de)]()[_0x7964ce(0x1f9)](0x2,'0')+'/'+_0x1dc10c[_0x7964ce(0x28b)]()[_0x7964ce(0x1de)]()[_0x7964ce(0x1f9)](0x2,'0');}function getHour(){const _0x37c2a5=_0x34d519,_0x3518d9=shiftedTime();return _0x3518d9['getHours']()[_0x37c2a5(0x1de)]()[_0x37c2a5(0x1f9)](0x2,'0');}function sleep(_0x201ebe){return new Promise(_0xb56524=>setTimeout(_0xb56524,_0x201ebe));}function shiftedTime(){const _0x4c72aa=_0x34d519,_0x28245b=new Date();let _0x50cef6=_0x28245b;if(config&&config[_0x4c72aa(0x274)]!==0x0)_0x50cef6=fns[_0x4c72aa(0x268)](_0x28245b,{'hours':config[_0x4c72aa(0x274)]});return _0x50cef6;}