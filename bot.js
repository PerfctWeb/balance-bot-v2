const _0x358df3=_0x2e54;(function(_0x4a532b,_0x2d215d){const _0x1ee667=_0x2e54,_0xc6abaf=_0x4a532b();while(!![]){try{const _0x56946a=parseInt(_0x1ee667(0xf7))/0x1+-parseInt(_0x1ee667(0x115))/0x2*(-parseInt(_0x1ee667(0xd1))/0x3)+-parseInt(_0x1ee667(0x179))/0x4*(-parseInt(_0x1ee667(0xd8))/0x5)+-parseInt(_0x1ee667(0x123))/0x6*(-parseInt(_0x1ee667(0x136))/0x7)+parseInt(_0x1ee667(0xcc))/0x8+parseInt(_0x1ee667(0x15e))/0x9*(parseInt(_0x1ee667(0x1b0))/0xa)+-parseInt(_0x1ee667(0x197))/0xb;if(_0x56946a===_0x2d215d)break;else _0xc6abaf['push'](_0xc6abaf['shift']());}catch(_0x50159a){_0xc6abaf['push'](_0xc6abaf['shift']());}}}(_0x2a73,0x4ebca));const _0x518937=function(){let _0x8c1901=!![];return function(_0x568971,_0xe12440){const _0x392142=_0x8c1901?function(){const _0x4d05d4=_0x2e54;if(_0xe12440){const _0x421883=_0xe12440[_0x4d05d4(0xbb)](_0x568971,arguments);return _0xe12440=null,_0x421883;}}:function(){};return _0x8c1901=![],_0x392142;};}(),_0x350dea=_0x518937(this,function(){const _0x949f27=_0x2e54;return _0x350dea[_0x949f27(0xb1)]()[_0x949f27(0xd5)]('(((.+)+)+)+$')[_0x949f27(0xb1)]()[_0x949f27(0x12e)](_0x350dea)[_0x949f27(0xd5)]('(((.+)+)+)+$');});_0x350dea();'use strict';const ccxt=require(_0x358df3(0x138)),low=require(_0x358df3(0xf8)),FileSync=require(_0x358df3(0x139)),fs=require('fs'),fns=require('date-fns'),{WebsocketClient,DefaultLogger}=require(_0x358df3(0x13d)),Crypt=require(_0x358df3(0x137))['Crypt'];let exchange,wsClient;global[_0x358df3(0x193)]={};let ws1=[],ws2=null,config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x358df3(0x152))[_0x358df3(0x162)],botID=process[_0x358df3(0x164)][0x2]||'001',pattern=/^[0-9]{3}$/;if(!pattern[_0x358df3(0x19f)](botID))return console['log'](_0x358df3(0x127)+botID+_0x358df3(0xaa)),process[_0x358df3(0x108)](0x1);const userID=process[_0x358df3(0x164)][0x3]||'',configpath=userID?_0x358df3(0xf4)+userID+'/':_0x358df3(0xf4);!fs[_0x358df3(0x177)](configpath)&&fs[_0x358df3(0x10f)](configpath);const configfile=configpath+_0x358df3(0xd0)+botID+_0x358df3(0xba),logfile=configpath+_0x358df3(0xd0)+botID+_0x358df3(0x149),performancefile=configpath+'bot-'+botID+_0x358df3(0x11f),coinresultsfile=configpath+_0x358df3(0xd0)+botID+_0x358df3(0x135),settingsfile=configpath+_0x358df3(0x157),securefile=configpath+_0x358df3(0xab),configbackuppath=configpath+_0x358df3(0xac),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x358df3(0xa3)]({'logs':[]})[_0x358df3(0x1a4)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[]})[_0x358df3(0x1a4)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x358df3(0xa3)]({'bot':[]})[_0x358df3(0x1a4)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x358df3(0xa3)]({'coins':[]})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':'BTCEUR','symbol':'BTC/EUR'},'usd':{'coin':_0x358df3(0xb7),'symbol':'BTC/USDT'}},lastErrorShown,lastBotPause,consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x4f46ba)=>{},'debug':(..._0xe0c864)=>{},'notice':(..._0x432756)=>{},'info':(..._0x27201d)=>{},'warning':(..._0x1c8f87)=>{},'error':async function(..._0x2cd972){const _0x42cce9=_0x358df3,_0x2b035a=new Date()['getTime']();if(!lastErrorShown||_0x2b035a-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()[_0x42cce9(0x16a)](),logHistory('error',_0x42cce9(0xeb)+consecutivePauses+_0x42cce9(0x98));let _0x155d8c='';if(_0x2cd972[0x0])_0x155d8c+=_0x2cd972[0x0];if(_0x2cd972[0x1]&&_0x2cd972[0x1][_0x42cce9(0x15f)]&&_0x2cd972[0x1][_0x42cce9(0x15f)][_0x42cce9(0x125)])_0x155d8c+='\x20-\x20'+_0x2cd972[0x1]['error']['message'];logging(_0x42cce9(0xeb)+consecutivePauses+_0x42cce9(0x11d),''+_0x155d8c),await pauseBot(pauseBotInterval);}}},crypt=new Crypt({'md':_0x358df3(0x174),'rsaStandard':_0x358df3(0x148)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings[_0x358df3(0x186)]!=config['timeshift']&&updateTimeshift(settings[_0x358df3(0x186)]);process[_0x358df3(0x187)]({'started':_0x358df3(0x8d)},_0x50fc05=>{}),initializeProcessListeners();function _0x2a73(){const _0x199a6d=['kill','BNB','order','Pausing\x20bot\x20for\x205\x20minutes\x20(','subscribeSpotKline','\x20minutes\x20-\x20balancing\x20resumed','replace','distribution','Bot\x20','subscribeSpotUserDataStream','eachDayOfInterval','fee','ordertype','executionReport','exit','cancel','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','delta','format','botname','threshold','mkdirSync','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','amount','API-key\x20format\x20invalid','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','abs','118HikvHZ','valid','getDate','timeout','placeOrder','InsufficientFunds','\x20|\x20Binance\x20API\x20blocked\x20-\x20check\x20Binance\x20API\x20key\x20settings\x20(enable\x20spot\x20trading\x20&\x20IP\x20whitelist)','getSeconds',')\x20|\x20Error\x20details:\x20','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','-performance.json','HOT/BTC','yyyy/MM/dd','BTC','1507524QUNpnH','stringify','message','\x20|\x20An\x20API\x20or\x20clock\x20sync\x20issue\x20has\x20occured','Error:\x20Invalid\x20argument\x20','fees','BTCBUSD','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','loadMarkets','set','\x20|\x20Binance\x20exchange\x20is\x20not\x20available','constructor','reduce','OrderNotFound','Binance\x20API\x20key\x20is\x20invalid','startdate','getPortfolio','emojisell','-results.json','14adkgST','hybrid-crypto-js','ccxt','lowdb/adapters/FileSync','apiSecret','addDays','.json','binance','splice','fetchOrders','\x20|\x20Your\x20computer\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','reconnected','\x20|\x20Error\x20details:\x20','outboundAccountPosition','isEqual','args','sell','getMinutes','RSA-OAEP','-events.json','\x20orders\x20in\x20less\x20than\x20','\x20|\x20Unknown\x20error\x20occured','orderStatus','Limit\x20(low-margin)','progress','configuration-stored','liquidity','findIndex','./version.json','BTC/BUSD','find','slice','limit-high','bb-settings.json','Market','\x20>\x20','filled','target','recreateHistory()','configuration','1923363BiqLLL','error','min','timestamp','version','has','argv','showname','Order(s)\x20validated\x20-\x20balancing\x20resumed','RequestTimeout','value','entries','getTime','AuthenticationError','getStartingBalances','availableBalance','Order\x20filled:\x20','join','starting-balance-','headless','apiKey','keys','sha256','placeOrder()','binanceus','existsSync','Invalid\x20quantity','15892AlChBk','data','Limit\x20(high-margin)','MIN_NOTIONAL','side','asset','getCoins()','forEach','split','price','subDays','includes','coinamount','timeshift','send','emojibuy','basecoin','number','parseISO','filter','startprice','************','max','coin','coins','closeWs','ticker','limits','startnumber','excluded','13283985lbbpzQ','assign','coin-loading-progress','formattedMessage','toFixed','Manual\x20balancing\x20required:\x20','2.3.5','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','test','offset','push','logs','orderId','write','buy','remainingSymbols','eventType','initclient','yyyy/MM/dd\x20HH:mm:ss','wsMarket','market','Order(s)\x20not\x20validated\x20after\x20','currency','realized','\x20order:\x20','10zrirkG','buys','limit-low','get','symbols','userData','running','performance','decrypt','kline','FILLED','getPortfolio()','accumulatedQuantity',':\x20Bot\x20','\x20hour','privateKey','Performance\x20recreation\x20completed\x20successfully',')\x20|\x20Binance\x20exchange\x20is\x20not\x20available','deleteHistoryAlerts','fetchTickers','trade','fetchOHLCV','Order(s)\x20filled\x20-\x20balancing\x20resumed','cooldown','length','last','milliseconds','orderType','defaults','date','cost','secure','success','breakeven','bot',',\x20must\x20be\x20a\x203\x20digit\x20number','bb-secure.json','/backup/','getHours','Executed\x20','sells','EUR','toString','spot','sort','fromCodePoint','limit','wss://stream.binance.us:9443','BTCUSDT','balances','getFiat()','-config.json','apply','differenceInCalendarDays','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','map','HOT/EUR','shift','\x20|\x20Binance\x20API\x20secret\x20is\x20invalid','InvalidNonce','isArray','time','usd','function','datetime','getFullYear','ask','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','type','3917448wDIZRR','storeHeadless','getMonth','storeConfiguration','bot-','10278wlhrqm','\x20|\x20Binance\x20exchange\x20is\x20not\x20responding','writeFile','remove','search','wss://stream.binance.com:9443','cloneDeep','30HeTfYI','reverse','BTC/USDT','indexOf','sortBy','ExchangeNotAvailable','differenceInSeconds','round','wsKey','settings','bid','log','event','close','padStart','changes','eur','page','Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','WebSockets(','restart','toLowerCase','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','Order:\x20','parse','symbol','fetchBalance','portfolio','./config/','cancelOrder()','add','98273sGETGg','lowdb','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode'];_0x2a73=function(){return _0x199a6d;};return _0x2a73();}function proxyEmit(_0x55ecd8,_0x5a4777=null){const _0x9ff346=_0x358df3;process[_0x9ff346(0x187)]({'function':_0x55ecd8,'args':_0x5a4777},_0x8d844a=>{});}function initializeProcessListeners(){process['on']('message',_0x3de990=>{const _0xcc829a=_0x2e54;switch(Object[_0xcc829a(0x173)](_0x3de990)[0x0]){case _0xcc829a(0x186):_0x3de990['timeshift']!=undefined&&(settings['timeshift']=_0x3de990[_0xcc829a(0x186)],updateTimeshift(settings[_0xcc829a(0x186)]));break;case'function':switch(_0x3de990[_0xcc829a(0xc6)]){case _0xcc829a(0x1a8):initclient();break;case'emitHistory':emitHistory(_0x3de990['args']);break;case _0xcc829a(0x99):deleteHistoryAlerts(_0x3de990[_0xcc829a(0x145)]);break;case _0xcc829a(0x133):getPortfolio(_0x3de990[_0xcc829a(0x145)]);break;case _0xcc829a(0xcf):storeConfiguration(_0x3de990['args']);break;case _0xcc829a(0xcd):storeHeadless(_0x3de990['args']);break;case _0xcc829a(0x16c):getStartingBalances(getNormalizedPerformance());break;case _0xcc829a(0x119):placeOrder(_0x3de990[_0xcc829a(0x145)]);break;case'cancelLoading':cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x4a2090=_0x358df3;if(pidBalances)clearTimeout(pidBalances);if(config[_0x4a2090(0x172)]!=''){await initExchange(config[_0x4a2090(0x172)],config[_0x4a2090(0x13a)]);let _0x4a7656=await loadSymbols();_0x4a7656&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x7264b6,_0x11b8f9){const _0x42f64f=_0x358df3,_0x4ee8dd=ccxt[config['exchange']];let _0x25c52d;switch(config['exchange']){case'binance':_0x25c52d=_0x42f64f(0xd6);break;case _0x42f64f(0x176):_0x25c52d=_0x42f64f(0xb6);break;default:_0x25c52d='wss://stream.binance.com:9443';}exchange=new _0x4ee8dd({'apiKey':_0x7264b6,'secret':_0x11b8f9,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x7264b6,'api_secret':_0x11b8f9,'beautify':!![],'wsUrl':_0x25c52d},logger),config['exchange']==_0x42f64f(0x176)&&(stablecoins={'eur':{'coin':_0x42f64f(0x129),'symbol':_0x42f64f(0x153)},'usd':{'coin':'BTCUSDT','symbol':_0x42f64f(0xda)}});}async function loadSymbols(){const _0x5d0f52=_0x358df3;let _0x2650f2;try{markets=await exchange[_0x5d0f52(0x12b)]();const _0x25f6b6=['DAI/',_0x5d0f52(0x120),_0x5d0f52(0xbf)];allSymbols=exchange[_0x5d0f52(0x1b4)]['filter'](_0x47661a=>{const _0x2af78f=_0x5d0f52;let _0x3987f0=![];return _0x25f6b6[_0x2af78f(0x180)](_0x11d4fa=>{const _0x21634c=_0x2af78f;if(_0x47661a[_0x21634c(0x184)](_0x11d4fa))_0x3987f0=!![];}),!_0x3987f0;}),_0x2650f2=!![];}catch(_0x87cf80){await handleError(_0x87cf80,'loadSymbols()'),_0x2650f2=![];}return _0x2650f2;}async function initbot(){const _0x4ab966=_0x358df3;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x5b5774=dbCoinResults['get'](_0x4ab966(0x191))[_0x4ab966(0x168)]();if(_0x5b5774[_0x4ab966(0x9f)]==0x0)await resetCoinResults();}async function initclient(){const _0x5e51e1=_0x358df3;proxyEmit(_0x5e51e1(0x15d),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x5e51e1(0xb8),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xe193f7=getNormalizedPerformance();emitPerformance(_0xe193f7),await getStartingBalances(_0xe193f7);}function cleanws(){wsinitialized=![];ws1&&(ws1['forEach'](_0x169e07=>{const _0x4bc4e8=_0x2e54;try{wsClient[_0x4bc4e8(0x192)](_0x169e07);}catch(_0x557b49){}}),ws1=[]);if(ws2){try{wsClient['closeWs'](ws2);}catch(_0x58959e){}ws2=null;}}async function initws(){const _0x2b80c7=_0x358df3;cleanws();let _0x45e026=[];currentCoins[_0x2b80c7(0x180)](_0x7d3c43=>{const _0x5f0471=_0x2b80c7;if(_0x7d3c43['coin']!=config[_0x5f0471(0x189)])_0x45e026['push'](noslash(_0x7d3c43['symbol']));});if(!_0x45e026[_0x2b80c7(0x184)](stablecoins[_0x2b80c7(0xe8)][_0x2b80c7(0x190)]))_0x45e026[_0x2b80c7(0x1a1)](stablecoins[_0x2b80c7(0xe8)][_0x2b80c7(0x190)]);if(!_0x45e026[_0x2b80c7(0x184)](stablecoins[_0x2b80c7(0xc5)][_0x2b80c7(0x190)]))_0x45e026[_0x2b80c7(0x1a1)](stablecoins['usd'][_0x2b80c7(0x190)]);if(!_0x45e026[_0x2b80c7(0x184)]('BNB'+config['basecoin']))_0x45e026['push'](_0x2b80c7(0xfb)+config['basecoin']);try{_0x45e026['forEach']((_0x455b6f,_0x30de18)=>{const _0x2e7b4f=_0x2b80c7;ws1[_0x30de18]=wsClient[_0x2e7b4f(0xfe)](_0x455b6f,'1m');}),ws2=wsClient[_0x2b80c7(0x103)](),wsClient['on'](_0x2b80c7(0x19a),_0x68ac3a=>{const _0x3c2613=_0x2b80c7;if(!Array[_0x3c2613(0xc3)](_0x68ac3a)&&!_0x68ac3a['wsKey'][_0x3c2613(0x184)](_0x3c2613(0x1b5))){if(_0x68ac3a[_0x3c2613(0x1a7)]===_0x3c2613(0x90)){global[_0x3c2613(0x193)][_0x68ac3a[_0x3c2613(0x90)][_0x3c2613(0xf1)]]=_0x68ac3a[_0x3c2613(0x90)][_0x3c2613(0xe5)];return;}}else{if(!Array[_0x3c2613(0xc3)](_0x68ac3a)&&_0x68ac3a[_0x3c2613(0xe0)]['includes'](_0x3c2613(0x1b5))){if(_0x68ac3a[_0x3c2613(0x1aa)]['includes'](_0x3c2613(0xb2))){updateNumberCoins(_0x68ac3a);return;}}}}),wsClient['on'](_0x2b80c7(0x141),async _0x1f1f4e=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x22c887){await handleError(_0x22c887,'initws()');}let _0x4fd41e,_0xd7be8d=0x0;loading['remainingSymbols']=[];let _0x4c53dc=0x0;currentCoins[_0x2b80c7(0x180)](_0x7c51b4=>{const _0x300732=_0x2b80c7;if(_0x7c51b4['coin']!=config[_0x300732(0x189)])loading[_0x300732(0x1a6)][_0x300732(0x1a1)](_0x7c51b4['symbol']);}),loadingCanceled=![];while(_0x4fd41e!=currentCoins[_0x2b80c7(0x9f)]-0x1){_0x4fd41e=0x0,currentCoins['forEach'](_0x3e6524=>{const _0x159720=_0x2b80c7;_0x3e6524['coin']!=config['basecoin']&&global[_0x159720(0x193)][noslash(_0x3e6524[_0x159720(0xf1)])]&&(loading[_0x159720(0x1a6)]=loading[_0x159720(0x1a6)][_0x159720(0x18c)](_0x44cf46=>_0x44cf46!=_0x3e6524[_0x159720(0xf1)]),_0x4fd41e++);}),loading[_0x2b80c7(0x14e)]=Math[_0x2b80c7(0xdf)](_0x4fd41e/(currentCoins[_0x2b80c7(0x9f)]-0x1)*0x64);_0x4c53dc>0x1e*0x5&&(loading[_0x2b80c7(0x118)]=!![],emitLoadingProgress());if(loadingCanceled){loading[_0x2b80c7(0x109)]=!![],emitLoadingProgress();break;}else _0x4fd41e!=_0xd7be8d&&(_0xd7be8d=_0x4fd41e,emitLoadingProgress()),_0x4c53dc++,await sleep(0xc8);}if(_0x4fd41e==currentCoins[_0x2b80c7(0x9f)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x271dd8=_0x358df3;proxyEmit(_0x271dd8(0x199),loading);}async function getFiat(){const _0x33294a=_0x358df3;let _0x2c8d1d=0x0,_0x464687=0x0;try{_0x2c8d1d=global[_0x33294a(0x193)][stablecoins['eur'][_0x33294a(0x190)]],_0x464687=global['ticker'][stablecoins[_0x33294a(0xc5)][_0x33294a(0x190)]];}catch(_0x201b5a){await handleError(_0x201b5a,_0x33294a(0xb9));}return{'eur':Number(_0x2c8d1d),'usd':Number(_0x464687)};}function setStartDatePerformance(){const _0x4ecb33=_0x358df3;if(config&&config[_0x4ecb33(0x150)][0x0][_0x4ecb33(0xe7)][_0x4ecb33(0x9f)]!=0x0){const _0xa45fb=config[_0x4ecb33(0x150)][0x0][_0x4ecb33(0xe7)];dbPerformance[_0x4ecb33(0x1b3)](_0x4ecb33(0x17a))[_0x4ecb33(0x154)]({'date':config[_0x4ecb33(0x132)]})['assign']({'coins':_0xa45fb})[_0x4ecb33(0x1a4)]();}}async function recreateHistory(_0x529acc){const _0x44b75b=_0x358df3;let _0x848689,_0x24cbd0=[];logHistory(_0x44b75b(0xa7),'Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes'),_0x529acc['portfolio'][_0x44b75b(0x180)](_0x2634ce=>{const _0x4ced6c=_0x44b75b;if(_0x2634ce[_0x4ced6c(0x190)]!=config[_0x4ced6c(0x189)]&&!_0x2634ce[_0x4ced6c(0x196)])_0x24cbd0[_0x4ced6c(0x1a1)]({'coin':_0x2634ce[_0x4ced6c(0x190)],'symbol':_0x2634ce[_0x4ced6c(0xf1)]});});let _0x59de5e=[];try{const _0x578662=fns['format'](fns[_0x44b75b(0x18b)](_0x529acc[_0x44b75b(0x132)][_0x44b75b(0x100)](/\//g,'-')),'yyyy-MM-dd\x27T\x27HH:mm:ss');for(const _0x422322 of _0x24cbd0){if(_0x422322[_0x44b75b(0x190)]!=config['basecoin'])_0x848689=await exchange[_0x44b75b(0x13f)](_0x422322[_0x44b75b(0xf1)],Date[_0x44b75b(0xf0)](_0x578662));_0x848689['forEach'](_0x208dfc=>{const _0x28afd9=_0x44b75b,_0x4a5867=_0x422322['symbol']['includes'](config[_0x28afd9(0x189)]+'/'),_0x30c7fe=fns[_0x28afd9(0x10c)](fns[_0x28afd9(0x18b)](_0x208dfc['datetime']),_0x28afd9(0x1a9)),_0x4dedef=fns[_0x28afd9(0x10c)](fns[_0x28afd9(0x18b)](_0x208dfc[_0x28afd9(0xc7)]),'yyyy/MM/dd');let _0x2fba69;if(_0x208dfc[_0x28afd9(0x17d)]==_0x28afd9(0x1a5)&&_0x4a5867==![])_0x2fba69=_0x208dfc['amount'];if(_0x208dfc[_0x28afd9(0x17d)]==_0x28afd9(0x1a5)&&_0x4a5867==!![])_0x2fba69=-_0x208dfc[_0x28afd9(0x111)]*_0x208dfc[_0x28afd9(0x182)];if(_0x208dfc['side']==_0x28afd9(0x146)&&_0x4a5867==![])_0x2fba69=-_0x208dfc[_0x28afd9(0x111)];if(_0x208dfc[_0x28afd9(0x17d)]==_0x28afd9(0x146)&&_0x4a5867==!![])_0x2fba69=_0x208dfc[_0x28afd9(0x111)]*_0x208dfc[_0x28afd9(0x182)];_0x59de5e['push']({'timestamp':_0x30c7fe,'date':_0x4dedef,'coin':_0x422322[_0x28afd9(0x190)],'symbol':_0x422322[_0x28afd9(0xf1)],'type':_0x208dfc['type'],'side':_0x208dfc[_0x28afd9(0x17d)],'reverse':_0x4a5867,'amount':formatResult(_0x208dfc[_0x28afd9(0x15a)],0x8),'filled':formatResult(_0x208dfc[_0x28afd9(0x15a)],0x8),'coinamount':formatResult(_0x2fba69,0x8),'price':formatResult(_0x208dfc['price'],0x8)});let _0x9ac2cd;if(_0x208dfc['side']==_0x28afd9(0x1a5)&&_0x4a5867==![])_0x9ac2cd=-_0x208dfc[_0x28afd9(0x111)]*_0x208dfc['price'];if(_0x208dfc[_0x28afd9(0x17d)]=='buy'&&_0x4a5867==!![])_0x9ac2cd=_0x208dfc[_0x28afd9(0x111)];if(_0x208dfc[_0x28afd9(0x17d)]==_0x28afd9(0x146)&&_0x4a5867==![])_0x9ac2cd=_0x208dfc[_0x28afd9(0x111)]*_0x208dfc[_0x28afd9(0x182)];if(_0x208dfc[_0x28afd9(0x17d)]==_0x28afd9(0x146)&&_0x4a5867==!![])_0x9ac2cd=-_0x208dfc[_0x28afd9(0x111)];_0x59de5e[_0x28afd9(0x1a1)]({'date':_0x4dedef,'coin':config[_0x28afd9(0x189)],'coinamount':formatResult(_0x9ac2cd,0x8)});});}_0x59de5e[_0x44b75b(0xb3)]((_0x4009e7,_0x46e2d2)=>_0x4009e7['timestamp']>_0x46e2d2[_0x44b75b(0x161)]?0x1:_0x46e2d2[_0x44b75b(0x161)]>_0x4009e7['timestamp']?-0x1:0x0),dbLogs[_0x44b75b(0x1b3)]('logs')[_0x44b75b(0xd4)]()['write'](),_0x59de5e[_0x44b75b(0x180)](_0x197674=>{const _0x204d34=_0x44b75b;let _0x15d436;_0x197674[_0x204d34(0x190)]!=config['basecoin']&&(_0x15d436={'time':_0x197674['timestamp'],'type':_0x204d34(0xfc),'event':_0x204d34(0xef)+_0x197674[_0x204d34(0xf1)]+'\x20'+_0x197674[_0x204d34(0x17d)]+'\x20#'+_0x197674[_0x204d34(0x111)]+'\x20@'+_0x197674[_0x204d34(0x182)]},dbLogs['get']('logs')[_0x204d34(0x1a1)](_0x15d436)[_0x204d34(0x1a4)]());});const _0x465082=fns[_0x44b75b(0x104)]({'start':new Date(_0x529acc[_0x44b75b(0x132)]),'end':new Date()})[_0x44b75b(0xbe)](_0x5112e9=>fns['format'](_0x5112e9,'yyyy/MM/dd'));let _0x324824=[];_0x529acc['portfolio'][_0x44b75b(0x180)](_0x16292b=>{const _0x360090=_0x44b75b;if(!_0x16292b[_0x360090(0x196)]){_0x324824[_0x16292b['coin']]=[];let _0x1f95f9=_0x16292b[_0x360090(0x195)];_0x465082[_0x360090(0x180)]((_0x49e755,_0x2a39d8)=>{const _0x31a2b=_0x360090;let _0x2186dc=_0x59de5e['filter'](_0x27d695=>_0x27d695[_0x31a2b(0x190)]==_0x16292b[_0x31a2b(0x190)]&&_0x27d695[_0x31a2b(0xa4)]==_0x49e755);if(_0x2186dc['length']!=0x0){let _0x192832=_0x2186dc[_0x31a2b(0x12f)]((_0x182304,_0x243d4e)=>{const _0x2a9c1a=_0x31a2b;return _0x182304+=_0x243d4e[_0x2a9c1a(0x185)],_0x182304;},0x0);_0x1f95f9+=_0x192832;}_0x324824[_0x16292b[_0x31a2b(0x190)]][_0x49e755]=_0x1f95f9;});}});const _0x59c937=[..._0x24cbd0];_0x59c937[_0x44b75b(0x1a1)]({'coin':stablecoins[_0x44b75b(0xe8)][_0x44b75b(0x190)],'symbol':stablecoins[_0x44b75b(0xe8)][_0x44b75b(0xf1)]}),_0x59c937[_0x44b75b(0x1a1)]({'coin':stablecoins['usd']['coin'],'symbol':stablecoins[_0x44b75b(0xc5)][_0x44b75b(0xf1)]});let _0x41576a=[];for(const _0xf5435e of _0x59c937){_0x41576a[_0xf5435e[_0x44b75b(0x190)]]=await getCloses(_0xf5435e['symbol'],new Date(_0x529acc[_0x44b75b(0x132)]));}dbPerformance[_0x44b75b(0x1b3)](_0x44b75b(0x17a))[_0x44b75b(0xd4)]()[_0x44b75b(0x1a4)](),_0x465082['forEach']((_0x403581,_0x1a50e1)=>{const _0x2d624c=_0x44b75b;let _0x2401ac,_0x3ed2f0=[];_0x1a50e1==0x0?(_0x529acc[_0x2d624c(0xf3)]['forEach'](_0x52a5e9=>{const _0x68a0a1=_0x2d624c;!_0x52a5e9[_0x68a0a1(0x196)]&&_0x3ed2f0[_0x68a0a1(0x1a1)]({'coin':_0x52a5e9[_0x68a0a1(0x190)],'number':_0x52a5e9[_0x68a0a1(0x195)],'price':_0x52a5e9[_0x68a0a1(0x18d)]});}),_0x2401ac={'date':_0x403581,'eur':_0x41576a[stablecoins[_0x2d624c(0xe8)][_0x2d624c(0x190)]][_0x1a50e1],'usd':_0x41576a[stablecoins[_0x2d624c(0xc5)]['coin']][_0x1a50e1],'coins':_0x3ed2f0}):(_0x529acc[_0x2d624c(0xf3)][_0x2d624c(0x180)](_0x1b18e3=>{const _0x2052bd=_0x2d624c;!_0x1b18e3[_0x2052bd(0x196)]&&_0x3ed2f0['push']({'coin':_0x1b18e3[_0x2052bd(0x190)],'number':_0x324824[_0x1b18e3['coin']][_0x403581],'price':_0x1b18e3[_0x2052bd(0x190)]==config[_0x2052bd(0x189)]?0x1:_0x41576a[_0x1b18e3[_0x2052bd(0x190)]][_0x1a50e1]});}),_0x2401ac={'date':_0x403581,'eur':_0x41576a[stablecoins[_0x2d624c(0xe8)][_0x2d624c(0x190)]][_0x1a50e1],'usd':_0x41576a[stablecoins['usd']['coin']][_0x1a50e1],'coins':_0x3ed2f0}),dbPerformance[_0x2d624c(0x1b3)]('data')[_0x2d624c(0x1a1)](_0x2401ac)[_0x2d624c(0x1a4)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x1da8d4 of _0x59de5e){_0x1da8d4['coin']!=config[_0x44b75b(0x189)]&&await updateCoinResults(_0x1da8d4);}logHistory(_0x44b75b(0xa7),_0x44b75b(0x97));}catch(_0x302f61){await handleError(_0x302f61,_0x44b75b(0x15c));}}async function getCloses(_0x1065de,_0x4afb9c,_0x2b07e6=undefined){const _0x1c2c1f=_0x358df3,_0x504152='1d';let _0x5d4a9b,_0x4957cd;const _0x1e7bda=fns[_0x1c2c1f(0xbc)](new Date(),_0x4afb9c)+0x1;try{const _0x143755=exchange[_0x1c2c1f(0xa1)]()-_0x1e7bda*0x18*0xe10*0x3e8;_0x5d4a9b=await exchange[_0x1c2c1f(0x9c)](_0x1065de,_0x504152,_0x143755,_0x2b07e6),_0x4957cd=await exchange[_0x1c2c1f(0x9a)](_0x1065de);}catch(_0x173547){await handleError(_0x173547,'getCloses()');}let _0x4247ed=ohlcvToCloses(_0x5d4a9b);return _0x4247ed[_0x1c2c1f(0x1a1)](_0x4957cd[_0x1065de]['last']),_0x4247ed;}function ohlcvToCloses(_0x5e478f){const _0x173469=_0x358df3;let _0x21f1e7=[];return _0x5e478f[_0x173469(0x180)](function(_0x1bc5d7){const _0x5946bf=_0x173469;_0x21f1e7[_0x5946bf(0x1a1)](_0x1bc5d7[0x4]);}),_0x21f1e7;}function oneTimeMigration(){const _0xf4a13f=_0x358df3;let _0x1872ec=dbLogs[_0xf4a13f(0x1b3)](_0xf4a13f(0x162))[_0xf4a13f(0x168)]();if(_0x1872ec!=_0xf4a13f(0x19d)){dbLogs[_0xf4a13f(0x12c)](_0xf4a13f(0x162),'2.3.5')[_0xf4a13f(0x1a4)]();let _0x3c522c=[];const _0x35f81f=dbLogs[_0xf4a13f(0x1b3)]('logs')[_0xf4a13f(0x168)]();_0x35f81f['forEach'](_0x39b05a=>{const _0x2a9f1f=_0xf4a13f;_0x3c522c[_0x2a9f1f(0x1a1)]({'time':_0x39b05a['time'],'type':_0x39b05a['type'],'event':_0x39b05a[_0x2a9f1f(0xe4)]});}),dbLogs['get'](_0xf4a13f(0x1a2))['assign'](_0x3c522c)[_0xf4a13f(0x1a4)]();}let _0x3893b5=dbConfig['get'](_0xf4a13f(0x162))[_0xf4a13f(0x168)]();if(_0x3893b5!=_0xf4a13f(0x19d)){dbConfig['set'](_0xf4a13f(0x162),_0xf4a13f(0x19d))['write']();let _0x4ad3ed=dbConfig[_0xf4a13f(0x1b3)](_0xf4a13f(0xa9))[_0xf4a13f(0x154)]({'botID':botID})[_0xf4a13f(0x168)]();if(_0x4ad3ed){let _0x31621f=[];_0x4ad3ed[_0xf4a13f(0xf3)][_0xf4a13f(0x180)](_0x319902=>{const _0x4187c2=_0xf4a13f;_0x31621f[_0x4187c2(0x1a1)]({'coin':_0x319902[_0x4187c2(0x190)],'number':_0x319902[_0x4187c2(0x195)],'price':_0x319902[_0x4187c2(0x18d)]}),delete _0x319902[_0x4187c2(0x195)],delete _0x319902['startprice'];});if(_0x31621f['length']!==0x0)fs[_0xf4a13f(0xd3)](configbackuppath+(_0xf4a13f(0x170)+botID+_0xf4a13f(0x13c)),JSON[_0xf4a13f(0x124)](_0x31621f,null,0x4),function(_0xbe5ef1){if(_0xbe5ef1){}});const _0x17cf56=(_0x2b9e5d,_0xa1de55)=>{const _0x38c37f=_0xf4a13f;let _0x43b0ec=[];_0xa1de55[_0x38c37f(0x180)](_0x47ba84=>{const _0x16edcc=_0x38c37f,_0x59c4b4=_0x2b9e5d[_0x16edcc(0x154)](_0x275d4c=>_0x275d4c['coin']==_0x47ba84[_0x16edcc(0x190)]);if(!_0x59c4b4)_0x43b0ec['push'](_0x47ba84);});let _0x5373f0=[];return _0x2b9e5d[_0x38c37f(0x180)](_0x504790=>{const _0x3d2de4=_0x38c37f,_0x501a80=_0xa1de55[_0x3d2de4(0x154)](_0x1f7284=>_0x1f7284[_0x3d2de4(0x190)]==_0x504790[_0x3d2de4(0x190)]);if(!_0x501a80||_0x501a80[_0x3d2de4(0x18a)]==0x0&&_0x504790[_0x3d2de4(0x18a)]!=0x0)_0x5373f0[_0x3d2de4(0x1a1)](_0x504790);}),{'missingDay1':_0x43b0ec,'notInDay2':_0x5373f0};},_0x4ff8f8=dbPerformance[_0xf4a13f(0x1b3)](_0xf4a13f(0x17a))[_0xf4a13f(0xd7)]()['value']();if(_0x4ff8f8[_0xf4a13f(0x9f)]>0x1){const {missingDay1:_0x13baa0,notInDay2:_0x3392aa}=_0x17cf56(_0x31621f,_0x4ff8f8[0x1]['coins']);_0x31621f=[..._0x31621f,..._0x13baa0],_0x3392aa[_0xf4a13f(0x180)](_0x499fc5=>{const _0x48721d=_0xf4a13f;let _0xac3db6=_0x31621f[_0x48721d(0x151)](_0x3d0675=>_0x3d0675['coin']==_0x499fc5[_0x48721d(0x190)]);_0xac3db6!=-0x1&&_0x31621f[_0x48721d(0x13e)](_0xac3db6,0x1);});}_0x31621f[_0xf4a13f(0xb3)]((_0x43397e,_0x56bceb)=>_0x43397e[_0xf4a13f(0x190)]>_0x56bceb[_0xf4a13f(0x190)]?0x1:_0x56bceb[_0xf4a13f(0x190)]>_0x43397e['coin']?-0x1:0x0);let _0x454c7a=[{'date':_0x4ad3ed[_0xf4a13f(0x132)],'changes':_0x31621f}];_0x4ff8f8['length']>0x2&&_0x4ff8f8[_0xf4a13f(0x180)]((_0x310821,_0x1a2921)=>{const _0x2abbcf=_0xf4a13f;if(_0x1a2921>0x0&&_0x1a2921<_0x4ff8f8[_0x2abbcf(0x9f)]-0x1){const {missingDay1:_0x54c4f5,notInDay2:_0x25756b}=_0x17cf56(_0x4ff8f8[_0x1a2921]['coins'],_0x4ff8f8[_0x1a2921+0x1][_0x2abbcf(0x191)]);_0x31621f=[],(_0x54c4f5[_0x2abbcf(0x9f)]!=0x0||_0x25756b[_0x2abbcf(0x9f)]!=0x0)&&(_0x54c4f5[_0x2abbcf(0x9f)]!=0x0&&_0x31621f[_0x2abbcf(0x1a1)](..._0x54c4f5),_0x25756b[_0x2abbcf(0x9f)]!=0x0&&(_0x25756b[_0x2abbcf(0x180)](_0x4efc41=>{const _0x190270=_0x2abbcf;_0x4efc41[_0x190270(0x18a)]=-_0x4efc41['number'];}),_0x31621f[_0x2abbcf(0x1a1)](..._0x25756b)),_0x31621f[_0x2abbcf(0xb3)]((_0x22085b,_0x4de74d)=>_0x22085b[_0x2abbcf(0x190)]>_0x4de74d[_0x2abbcf(0x190)]?0x1:_0x4de74d[_0x2abbcf(0x190)]>_0x22085b[_0x2abbcf(0x190)]?-0x1:0x0),_0x454c7a[_0x2abbcf(0x1a1)]({'date':_0x4ff8f8[_0x1a2921+0x1][_0x2abbcf(0xa4)],'changes':_0x31621f}));}}),dbConfig['get'](_0xf4a13f(0xa9))[_0xf4a13f(0x154)]({'botID':botID})[_0xf4a13f(0x198)]({..._0x4ad3ed,'liquidity':_0x454c7a})[_0xf4a13f(0x1a4)]();}}config=getConfiguration(botID);let _0x316a04=dbPerformance[_0xf4a13f(0x1b3)](_0xf4a13f(0x162))[_0xf4a13f(0x168)]();_0x316a04!=_0xf4a13f(0x19d)&&(dbPerformance[_0xf4a13f(0x12c)]('version',_0xf4a13f(0x19d))[_0xf4a13f(0x1a4)](),setStartDatePerformance());let _0x20750b=dbCoinResults[_0xf4a13f(0x1b3)](_0xf4a13f(0x162))[_0xf4a13f(0x168)]();_0x20750b!=_0xf4a13f(0x19d)&&dbCoinResults[_0xf4a13f(0x12c)](_0xf4a13f(0x162),'2.3.5')['write']();}function getConfiguration(_0x47ee5b){const _0x37690a=_0x358df3;let _0x57b0e6=dbConfig[_0x37690a(0x1b3)](_0x37690a(0xa9))[_0x37690a(0x154)]({'botID':_0x47ee5b})[_0x37690a(0x168)]();if(_0x57b0e6){}else _0x57b0e6={'botID':_0x47ee5b,'exchange':_0x37690a(0x13d),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x37690a(0x102)+_0x47ee5b,'showname':![],'threshold':'3','ordertype':_0x37690a(0x1ab),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings[_0x37690a(0x186)],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x57b0e6;}function emittedConfiguration(){const _0x287b79=_0x358df3;let _0x559925;return config[_0x287b79(0x172)]==''?_0x559925=config:_0x559925={...config,'apiKey':_0x287b79(0x18e),'apiSecret':_0x287b79(0x18e)},_0x559925;}function getSettings(){const _0x27a504=_0x358df3;return dbSettings['get'](_0x27a504(0xe1))[_0x27a504(0x168)]();}function getSecure(){const _0x3873c0=_0x358df3;return dbSecure[_0x3873c0(0x1b3)](_0x3873c0(0xa6))[_0x3873c0(0x168)]()||{};}function updateTimeshift(_0x577edb){const _0x36c6a7=_0x358df3;let _0x2855d9=dbConfig['get']('bot')['find']({'botID':botID})[_0x36c6a7(0x168)]();_0x2855d9&&dbConfig['get']('bot')['find']({'botID':botID})['assign']({'timeshift':_0x577edb})[_0x36c6a7(0x1a4)](),config[_0x36c6a7(0x186)]=_0x577edb,proxyEmit(_0x36c6a7(0x15d),emittedConfiguration());}async function storeConfiguration(_0x2e0191){const _0x17c270=_0x358df3;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0xfefde2=dbConfig[_0x17c270(0x1b3)](_0x17c270(0xa9))[_0x17c270(0x154)]({'botID':botID})['value']();_0x2e0191={..._0x2e0191,'apiKey':crypt[_0x17c270(0x8f)](secure[_0x17c270(0x96)],_0x2e0191[_0x17c270(0x172)])[_0x17c270(0x125)],'apiSecret':crypt[_0x17c270(0x8f)](secure[_0x17c270(0x96)],_0x2e0191[_0x17c270(0x13a)])[_0x17c270(0x125)]};if(_0xfefde2){if(_0x2e0191['apiKey']=='************')_0x2e0191['apiKey']=config['apiKey'];if(_0x2e0191['apiSecret']==_0x17c270(0x18e))_0x2e0191[_0x17c270(0x13a)]=config[_0x17c270(0x13a)];dbConfig[_0x17c270(0x1b3)](_0x17c270(0xa9))[_0x17c270(0x154)]({'botID':botID})[_0x17c270(0x198)](_0x2e0191)[_0x17c270(0x1a4)]();}else dbConfig[_0x17c270(0x1b3)](_0x17c270(0xa9))['push'](_0x2e0191)[_0x17c270(0x1a4)](),process[_0x17c270(0x187)]({'status':'enabled','live':_0x17c270(0x8d)},_0x2d6c31=>{});config={..._0x2e0191},setStartDatePerformance(),process['send']({'botname':_0x2e0191[_0x17c270(0x10d)]},_0x55e7a0=>{});const _0x25e996=getNormalizedPerformance();getStartingBalances(_0x25e996),emitPerformance(_0x25e996),proxyEmit(_0x17c270(0x14f)),reset();}async function storeHeadless(_0x1045aa){const _0x2a599c=_0x358df3,_0xa071ea={...config,'headless':_0x1045aa[_0x2a599c(0x171)]};let _0x38f906=dbConfig[_0x2a599c(0x1b3)](_0x2a599c(0xa9))[_0x2a599c(0x154)]({'botID':botID})['value']();_0x38f906&&dbConfig[_0x2a599c(0x1b3)](_0x2a599c(0xa9))['find']({'botID':botID})[_0x2a599c(0x198)](_0xa071ea)['write'](),config={..._0xa071ea},proxyEmit(_0x2a599c(0x15d),emittedConfiguration());}function _0x2e54(_0xf70258,_0x59cbdb){const _0x2b4da8=_0x2a73();return _0x2e54=function(_0x350dea,_0x518937){_0x350dea=_0x350dea-0x8d;let _0x2a7386=_0x2b4da8[_0x350dea];return _0x2a7386;},_0x2e54(_0xf70258,_0x59cbdb);}function noslash(_0x5c529b){const _0x118f10=_0x358df3;return _0x5c529b[_0x118f10(0x100)]('/','');}function updateNumberCoins(_0x172ae3){const _0x19ca06=_0x358df3;_0x172ae3[_0x19ca06(0x1a7)]&&_0x172ae3[_0x19ca06(0x1a7)]==_0x19ca06(0x143)&&_0x172ae3[_0x19ca06(0xb8)][_0x19ca06(0x180)](_0x245e7b=>{const _0x5a41a7=_0x19ca06;let _0x4ae7f0=currentCoins[_0x5a41a7(0x154)](_0x115a9b=>_0x115a9b[_0x5a41a7(0x190)]==_0x245e7b[_0x5a41a7(0x17e)]),_0x562823=config[_0x5a41a7(0xf3)][_0x5a41a7(0x154)](_0x12822f=>_0x12822f[_0x5a41a7(0x190)]==_0x245e7b[_0x5a41a7(0x17e)]);if(_0x4ae7f0&&_0x562823)_0x4ae7f0['number']=Math[_0x5a41a7(0x18f)](Number(_0x245e7b[_0x5a41a7(0x16d)])+(_0x562823[_0x5a41a7(0x1a0)]||0x0),0x0);});if(_0x172ae3[_0x19ca06(0x1a7)]&&_0x172ae3[_0x19ca06(0x1a7)]==_0x19ca06(0x107)){if(_0x172ae3[_0x19ca06(0xa2)]=='LIMIT'&&_0x172ae3[_0x19ca06(0x14c)]==_0x19ca06(0x91)){if(lastOrders)lastOrders[_0x19ca06(0x180)](_0x47b03a=>{const _0x587e94=_0x19ca06;if(_0x47b03a[_0x587e94(0x1a3)]==_0x172ae3[_0x587e94(0x1a3)]){if(_0x47b03a['reverse'])_0x47b03a[_0x587e94(0x15a)]=_0x172ae3[_0x587e94(0x93)]*_0x47b03a[_0x587e94(0x182)];else _0x47b03a['filled']=_0x172ae3['accumulatedQuantity'];}});}}}async function getCoins(_0x14a141=!![],_0x2b52c7=config[_0x358df3(0x189)]){const _0x15bfa8=_0x358df3;let _0x3e9326,_0x5d077f=[],_0x3c93b1=[],_0x39986e=[];try{_0x3e9326=await exchange[_0x15bfa8(0xf2)](),mybalances=_0x3e9326['total'];if(!_0x14a141)for(const [_0x2a1906,_0x1f5947]of Object[_0x15bfa8(0x169)](mybalances)){_0x39986e[_0x15bfa8(0x1a1)](_0x2a1906);}else config['portfolio'][_0x15bfa8(0x180)](_0x305c89=>{const _0x5ebaa3=_0x15bfa8;if(!_0x305c89[_0x5ebaa3(0x196)])_0x39986e[_0x5ebaa3(0x1a1)](_0x305c89['coin']);});if(_0x2b52c7=='')for(const [_0x1ccc47,_0xc0768]of Object[_0x15bfa8(0x169)](mybalances)){_0xc0768[_0x15bfa8(0xb1)]()!=0x0&&_0x3c93b1[_0x15bfa8(0x1a1)]({'coin':_0x1ccc47});}else for(const [_0x2d6be0,_0x513c19]of Object[_0x15bfa8(0x169)](mybalances)){if(_0x39986e[_0x15bfa8(0x184)](_0x2d6be0)){const _0x271fb8=config[_0x15bfa8(0xf3)]['find'](_0xce5a41=>_0xce5a41['coin']==_0x2d6be0);if((_0x513c19[_0x15bfa8(0xb1)]()!=0x0||_0x271fb8)&&(allSymbols[_0x15bfa8(0x184)](_0x2d6be0+'/'+_0x2b52c7)||_0x2d6be0==_0x2b52c7))_0x3c93b1[_0x15bfa8(0x1a1)]({'coin':_0x2d6be0,'symbol':_0x2d6be0+'/'+_0x2b52c7,'reverse':![],'number':Math[_0x15bfa8(0x18f)](_0x513c19+(_0x271fb8&&_0x271fb8['offset']||0x0),0x0)}),_0x2d6be0!=_0x2b52c7&&_0x5d077f[_0x15bfa8(0x1a1)](_0x2d6be0+'/'+_0x2b52c7);else(_0x513c19[_0x15bfa8(0xb1)]()!=0x0||_0x271fb8)&&allSymbols[_0x15bfa8(0x184)](_0x2b52c7+'/'+_0x2d6be0)&&(_0x3c93b1[_0x15bfa8(0x1a1)]({'coin':_0x2d6be0,'symbol':_0x2b52c7+'/'+_0x2d6be0,'reverse':!![],'number':Math[_0x15bfa8(0x18f)](_0x513c19+(_0x271fb8&&_0x271fb8[_0x15bfa8(0x1a0)]||0x0),0x0)}),_0x2d6be0!=_0x2b52c7&&_0x5d077f[_0x15bfa8(0x1a1)](_0x2b52c7+'/'+_0x2d6be0));}}}catch(_0x23ec76){if(!_0x14a141){if(_0x23ec76[_0x15bfa8(0xb1)]()[_0x15bfa8(0x184)](_0x15bfa8(0x112)))return logHistory(_0x15bfa8(0x15f),_0x15bfa8(0x131)),![];else{if(_0x23ec76[_0x15bfa8(0xb1)]()[_0x15bfa8(0x184)](_0x15bfa8(0x16b)))return logHistory(_0x15bfa8(0x15f),_0x15bfa8(0xea)),![];else{if(_0x23ec76['toString']()[_0x15bfa8(0x184)](_0x15bfa8(0xca)))return logHistory(_0x15bfa8(0x15f),'Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x23ec76,_0x15bfa8(0x17f));}}}else await handleError(_0x23ec76,_0x15bfa8(0x17f));}return _0x3c93b1;}async function getPortfolio(_0x2fcaaf){const _0xea2e34=_0x358df3;let _0x15f0a4=[],_0x14765a=[],_0x473819,_0x3354a6=[],_0x13e558,_0x260c5b;_0x2fcaaf[_0xea2e34(0x172)]==='************'||_0x2fcaaf[_0xea2e34(0x13a)]===_0xea2e34(0x18e)?(_0x13e558=config[_0xea2e34(0x172)],_0x260c5b=config['apiSecret']):(_0x13e558=_0x2fcaaf['apiKey'],_0x260c5b=_0x2fcaaf[_0xea2e34(0x13a)]);await initExchange(_0x13e558,_0x260c5b);let _0x5b6a3e=await loadSymbols();if(_0x5b6a3e){_0x3354a6=await getCoins(![],_0x2fcaaf[_0xea2e34(0x189)]);if(_0x3354a6===![])proxyEmit(_0xea2e34(0xf3),![]);else{if(_0x2fcaaf[_0xea2e34(0x189)]=='')proxyEmit(_0xea2e34(0xf3),_0x3354a6);else{_0x3354a6[_0xea2e34(0x180)](_0x1e816f=>{const _0x20d83d=_0xea2e34;_0x15f0a4[_0x20d83d(0x1a1)](_0x1e816f[_0x20d83d(0xf1)]);});try{_0x14765a=await exchange[_0xea2e34(0x9a)](_0x15f0a4);}catch(_0x46b113){await handleError(_0x46b113,_0xea2e34(0x92));}_0x3354a6[_0xea2e34(0x180)](_0x37c485=>{const _0x3d6567=_0xea2e34;_0x37c485[_0x3d6567(0x190)]!=_0x2fcaaf[_0x3d6567(0x189)]?_0x473819=_0x37c485[_0x3d6567(0xd9)]?0x1/_0x14765a[_0x37c485[_0x3d6567(0xf1)]][_0x3d6567(0xa0)]:_0x14765a[_0x37c485[_0x3d6567(0xf1)]][_0x3d6567(0xa0)]:_0x473819=0x1,_0x37c485['price']=formatResult(_0x473819,0x8);}),proxyEmit(_0xea2e34(0xf3),_0x3354a6);}}}else proxyEmit(_0xea2e34(0xf3),![]);}function checkMinimums(_0x2087d8){const _0x114bc5=_0x358df3;let _0x43f1c5=!![];const _0x10ff66=!_0x2087d8[_0x114bc5(0xd9)]?markets[_0x2087d8[_0x114bc5(0xf1)]][_0x114bc5(0x194)][_0x114bc5(0x111)][_0x114bc5(0x160)]:markets[_0x2087d8['symbol']][_0x114bc5(0x194)]['cost'][_0x114bc5(0x160)],_0x469f0e=!_0x2087d8['reverse']?markets[_0x2087d8[_0x114bc5(0xf1)]]['limits'][_0x114bc5(0xa5)][_0x114bc5(0x160)]:markets[_0x2087d8[_0x114bc5(0xf1)]][_0x114bc5(0x194)][_0x114bc5(0x111)][_0x114bc5(0x160)];if(Math[_0x114bc5(0x114)](_0x2087d8[_0x114bc5(0x9b)])<_0x10ff66)_0x43f1c5=![];if(Math[_0x114bc5(0x114)](_0x2087d8['trade'])*_0x2087d8['last']<_0x469f0e)_0x43f1c5=![];if(_0x2087d8[_0x114bc5(0x17d)]==_0x114bc5(0x146)){let _0x4a9d19=config[_0x114bc5(0xf3)][_0x114bc5(0x154)](_0x401f8e=>_0x401f8e[_0x114bc5(0x190)]==_0x2087d8[_0x114bc5(0x190)]);if(Math[_0x114bc5(0x114)](_0x2087d8[_0x114bc5(0x9b)])>_0x2087d8['number']-_0x4a9d19[_0x114bc5(0x1a0)])_0x43f1c5=![];}return _0x43f1c5;}async function getBalances(){const _0x16718e=_0x358df3;let _0x4db9dd=0x0,_0x49ac55;const _0x31d658=config[_0x16718e(0x10e)];currentCoins[_0x16718e(0x180)](_0x1bbff5=>{const _0x1469ee=_0x16718e;if(_0x1bbff5[_0x1469ee(0x190)]!=config[_0x1469ee(0x189)]){let _0x2b3f4d=global['ticker'][noslash(_0x1bbff5['symbol'])];_0x49ac55=_0x1bbff5['reverse']?0x1/_0x2b3f4d:_0x2b3f4d;}else _0x49ac55=0x1;let _0x506059=_0x1bbff5[_0x1469ee(0x18a)]*_0x49ac55;_0x4db9dd+=_0x506059,_0x1bbff5['last']=formatResult(Number(_0x49ac55),0x8),_0x1bbff5[_0x1469ee(0x168)]=_0x506059;}),currentCoins[_0x16718e(0x180)](_0x3e02ba=>{const _0x49b7f6=_0x16718e;let _0x304d98=config['portfolio'][_0x49b7f6(0x154)](_0xe4f91b=>_0xe4f91b['coin']==_0x3e02ba[_0x49b7f6(0x190)]),_0x133c4f=Number(_0x304d98[_0x49b7f6(0x101)]),_0x4fcad3=_0x3e02ba['value']/_0x4db9dd*0x64,_0x2c530d=_0x133c4f*_0x4db9dd/0x64/_0x3e02ba[_0x49b7f6(0xa0)]-_0x3e02ba[_0x49b7f6(0x18a)];_0x3e02ba['distribution']=formatResult(_0x4fcad3,0x3),_0x3e02ba['target']=formatResult(_0x133c4f,0x3),_0x3e02ba['trade']=formatResult(_0x2c530d,0x8),_0x3e02ba[_0x49b7f6(0x17d)]='',_0x3e02ba['valid']='';if(_0x3e02ba[_0x49b7f6(0x190)]!=config['basecoin']){if(_0x3e02ba[_0x49b7f6(0x101)]>_0x133c4f)_0x3e02ba[_0x49b7f6(0x17d)]=_0x49b7f6(0x146),_0x3e02ba[_0x49b7f6(0x116)]=checkMinimums(_0x3e02ba);else _0x3e02ba[_0x49b7f6(0x101)]<_0x133c4f&&(_0x3e02ba[_0x49b7f6(0x17d)]=_0x49b7f6(0x1a5),_0x3e02ba['valid']=checkMinimums(_0x3e02ba));}_0x3e02ba[_0x49b7f6(0x10b)]=_0x3e02ba[_0x49b7f6(0x101)]/_0x3e02ba[_0x49b7f6(0x15b)]-0x1;}),currentCoins[_0x16718e(0xb3)]((_0x228b7f,_0x1ab3ad)=>_0x228b7f[_0x16718e(0x10b)]<_0x1ab3ad[_0x16718e(0x10b)]?0x1:_0x1ab3ad[_0x16718e(0x10b)]<_0x228b7f[_0x16718e(0x10b)]?-0x1:0x0);const _0x23f981=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x23f981[_0x16718e(0xe8)],'usd':_0x23f981[_0x16718e(0xc5)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x31d658},proxyEmit(_0x16718e(0xb8),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x16718e(0x171)])headlessMode({'portfolio':currentCoins,'threshold':_0x31d658});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x31d658});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x2f5531=_0x358df3;if(!lastBalances)return;let _0x2efbea=[],_0x100ea6,_0x2cdce4=JSON['parse'](lastBalances[_0x2f5531(0xf3)]);_0x2cdce4['sort']((_0x998cf3,_0x1cc58d)=>_0x998cf3[_0x2f5531(0x190)]>_0x1cc58d[_0x2f5531(0x190)]?0x1:_0x1cc58d[_0x2f5531(0x190)]>_0x998cf3['coin']?-0x1:0x0),_0x2cdce4[_0x2f5531(0x180)](_0x2eb70e=>{const _0x30bdab=_0x2f5531;let _0x53214e={'coin':_0x2eb70e[_0x30bdab(0x190)],'number':_0x2eb70e[_0x30bdab(0x18a)],'price':_0x2eb70e['last']};_0x2efbea[_0x30bdab(0x1a1)](_0x53214e);});const _0x41368b=await getFiat();_0x100ea6={'date':lastBalances[_0x2f5531(0xc4)][_0x2f5531(0x181)]('\x20')[0x0],'eur':_0x41368b['eur'],'usd':_0x41368b['usd'],'coins':_0x2efbea};let _0x7dc41a=dbPerformance[_0x2f5531(0x1b3)]('data')[_0x2f5531(0x154)]({'date':_0x100ea6[_0x2f5531(0xa4)]})['value']();_0x7dc41a?_0x100ea6[_0x2f5531(0xa4)]!=config[_0x2f5531(0x132)]&&dbPerformance[_0x2f5531(0x1b3)](_0x2f5531(0x17a))[_0x2f5531(0x154)]({'date':_0x100ea6[_0x2f5531(0xa4)]})[_0x2f5531(0x198)](_0x100ea6)[_0x2f5531(0x1a4)]():dbPerformance['get']('data')[_0x2f5531(0x1a1)](_0x100ea6)[_0x2f5531(0x1a4)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4f66b4=_0x358df3;let _0x322456=[];if(dbPerformance['has']('data')[_0x4f66b4(0x168)]()){let _0x4355bc=dbPerformance[_0x4f66b4(0x1b3)](_0x4f66b4(0x17a))[_0x4f66b4(0xd7)]()['sortBy'](_0x4f66b4(0xa4))[_0x4f66b4(0x168)](),_0x482b6a=[...config['liquidity']];_0x482b6a[_0x4f66b4(0xb3)]((_0x539ccb,_0x48ac2f)=>_0x539ccb[_0x4f66b4(0xa4)]>_0x48ac2f[_0x4f66b4(0xa4)]?-0x1:_0x48ac2f[_0x4f66b4(0xa4)]>_0x539ccb[_0x4f66b4(0xa4)]?0x1:0x0);let _0x93ef5b=0x1,_0x345ea9=[],_0x42baee=0x0;_0x4355bc[_0x4f66b4(0x155)]()[_0x4f66b4(0xd9)]()['forEach']((_0x4a084e,_0x117108)=>{const _0x35f8c4=_0x4f66b4;if(_0x482b6a[_0x42baee]){const _0x4e3426=fns[_0x35f8c4(0xf0)](_0x482b6a[_0x42baee][_0x35f8c4(0xa4)],_0x35f8c4(0x121),new Date()),_0x3df25d=fns[_0x35f8c4(0xf0)](_0x4a084e[_0x35f8c4(0xa4)],'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x4e3426,fns[_0x35f8c4(0x13b)](_0x3df25d,0x1))){if(_0x117108<_0x4355bc['length']){let _0x16e2c8=0x0,_0x58f5c6=0x0;_0x4355bc[_0x4355bc['length']-_0x117108-0x1][_0x35f8c4(0x191)]['forEach'](_0x2d945b=>{const _0x2db9fd=_0x35f8c4;_0x58f5c6+=_0x2d945b[_0x2db9fd(0x18a)]*_0x2d945b['price'];}),_0x482b6a[_0x42baee][_0x35f8c4(0xe7)]['forEach'](_0x1a76fa=>{const _0x3c1df5=_0x35f8c4;_0x16e2c8+=_0x1a76fa[_0x3c1df5(0x18a)]*_0x1a76fa[_0x3c1df5(0x182)];}),_0x93ef5b*=_0x16e2c8/_0x58f5c6+0x1;}_0x42baee++;}}let _0x3ad7fe=0x0;_0x4a084e[_0x35f8c4(0x191)][_0x35f8c4(0x180)](_0x4eec38=>{const _0x37d6f9=_0x35f8c4;_0x3ad7fe+=_0x4eec38[_0x37d6f9(0x18a)]*_0x4eec38['price'];}),_0x345ea9[_0x4355bc['length']-_0x117108-0x1]=_0x3ad7fe*(_0x93ef5b-0x1);});let _0x51b0aa=[];_0x482b6a=[...config[_0x4f66b4(0x150)]]||[];let _0x5a7ca5=0x0;_0x42baee=0x0,_0x4355bc['forEach']((_0xfcecf,_0x30f82a)=>{const _0x447977=_0x4f66b4;if(_0x482b6a[_0x42baee]){const _0x2cfb3a=fns[_0x447977(0xf0)](_0x482b6a[_0x42baee]['date'],_0x447977(0x121),new Date()),_0x14e9da=fns[_0x447977(0xf0)](_0xfcecf[_0x447977(0xa4)],_0x447977(0x121),new Date()),_0x13d124=fns[_0x447977(0x10c)](fns[_0x447977(0x183)](_0x14e9da,0x1),_0x447977(0x121));if(fns[_0x447977(0x144)](_0x2cfb3a,_0x14e9da)){let _0x85def1=0x0;_0x482b6a[_0x42baee][_0x447977(0xe7)][_0x447977(0x180)](_0x3f6c54=>{const _0x2387ec=_0x447977;!_0x51b0aa[_0x3f6c54[_0x2387ec(0x190)]]?_0x51b0aa[_0x3f6c54[_0x2387ec(0x190)]]=_0x3f6c54[_0x2387ec(0x18a)]:(_0x85def1=_0x51b0aa[_0x3f6c54[_0x2387ec(0x190)]],_0x51b0aa[_0x3f6c54[_0x2387ec(0x190)]]+=_0x3f6c54['number']);const _0x2812b7=_0xfcecf['coins'][_0x2387ec(0x154)](_0x4e43b5=>_0x4e43b5[_0x2387ec(0x190)]==_0x3f6c54[_0x2387ec(0x190)]);(!_0x2812b7||_0x2812b7[_0x2387ec(0x18a)]==0x0)&&(_0x5a7ca5+=(-_0x3f6c54[_0x2387ec(0x18a)]-_0x85def1)*_0x3f6c54[_0x2387ec(0x182)]);}),_0x42baee++;}}_0xfcecf[_0x447977(0x191)][_0x447977(0x180)]((_0x3d106c,_0x42ee25)=>{const _0x5be8d1=_0x447977;_0x51b0aa[_0x3d106c[_0x5be8d1(0x190)]]&&(_0x3d106c={..._0x3d106c,'initial':_0x51b0aa[_0x3d106c[_0x5be8d1(0x190)]]}),_0xfcecf[_0x5be8d1(0x191)][_0x42ee25]=_0x3d106c;}),_0x322456[_0x447977(0x1a1)]({'date':_0xfcecf[_0x447977(0xa4)],'eur':_0xfcecf['eur'],'usd':_0xfcecf[_0x447977(0xc5)],'offset':_0x345ea9[_0x30f82a],'netoffset':_0x5a7ca5,'coins':_0xfcecf[_0x447977(0x191)]});});}return _0x322456;}function emitPerformance(_0x1d50ae){const _0x311bef=_0x358df3;_0x1d50ae['length']!==0x0?(proxyEmit('performance',_0x1d50ae),lastPerformanceEmitted=getDate()):proxyEmit(_0x311bef(0x8e),[]);}function getPerf(_0x3c9600,_0x111a5d){const _0x172c94=_0x358df3;let _0x933e7=0x0,_0x222cdc=0x0,_0x34b584=0x0;_0x3c9600[_0x172c94(0x191)][_0x172c94(0x180)](_0x47a42e=>{const _0x17be78=_0x172c94;_0x933e7+=_0x47a42e[_0x17be78(0x18a)]*_0x47a42e['price'];});_0x111a5d&&(_0x933e7+=_0x3c9600['offset']);if(config[_0x172c94(0x189)]===_0x172c94(0x122))_0x222cdc=_0x933e7*_0x3c9600[_0x172c94(0xe8)],_0x34b584=_0x933e7*_0x3c9600[_0x172c94(0xc5)];else{if(config[_0x172c94(0x189)]==='BUSD'||config[_0x172c94(0x189)]==='USDT'||config['basecoin']==='USDC')_0x222cdc=_0x933e7*_0x3c9600[_0x172c94(0xe8)]/_0x3c9600['usd'],_0x34b584=_0x933e7;else config[_0x172c94(0x189)]===_0x172c94(0xb0)&&(_0x222cdc=_0x933e7,_0x34b584=_0x933e7*_0x3c9600[_0x172c94(0xc5)]/_0x3c9600[_0x172c94(0xe8)]);}return[_0x933e7,_0x222cdc,_0x34b584];}async function getStartingBalances(_0x476975,_0x169d87=!![]){const _0x516d21=_0x358df3;if(_0x476975[_0x516d21(0x9f)]!==0x0){const [_0xd44f36,_0x17b4a0,_0x2b6190]=getPerf(_0x476975[0x0],!![]);let _0x282a53=[];config[_0x516d21(0xf3)]['forEach'](_0x41a1e7=>{const _0x3235af=_0x516d21;let _0x154597=0x0;config['liquidity'][_0x3235af(0x180)](_0x40caec=>{const _0x6a7261=_0x3235af;let _0xbd0517=_0x40caec[_0x6a7261(0xe7)][_0x6a7261(0x154)](_0xbe42f3=>_0xbe42f3[_0x6a7261(0x190)]==_0x41a1e7[_0x6a7261(0x190)]);if(_0xbd0517)_0x154597+=_0xbd0517[_0x6a7261(0x18a)];}),_0x282a53[_0x3235af(0x1a1)]({'coin':_0x41a1e7[_0x3235af(0x190)],'number':_0x154597,'price':_0x41a1e7[_0x3235af(0x182)]});});const _0x2df601={'basecoin':_0xd44f36,'eur':_0x17b4a0,'usd':_0x2b6190,'coins':_0x282a53};if(_0x169d87)proxyEmit('starting-balances',_0x2df601);return _0x2df601;}}function headlessMode(_0x475aef){const _0x5d86b2=_0x358df3;let _0x31ba26=_0x475aef[_0x5d86b2(0xf3)],_0x77aa47=_0x475aef['threshold'],_0x5aa085=[];for(let _0x5e50bb of _0x31ba26){if(_0x5e50bb[_0x5d86b2(0x190)]!=config[_0x5d86b2(0x189)]){if(_0x5e50bb[_0x5d86b2(0x101)]/_0x5e50bb['target']-0x1>=_0x77aa47/0x64){if(_0x5e50bb[_0x5d86b2(0x116)])_0x5aa085['push'](_0x5e50bb);}else{if(_0x5e50bb['distribution']/_0x5e50bb[_0x5d86b2(0x15b)]-0x1<=-_0x77aa47/0x64){if(_0x5e50bb[_0x5d86b2(0x116)])_0x5aa085[_0x5d86b2(0x1a1)](_0x5e50bb);}}}}_0x5aa085[_0x5d86b2(0x9f)]>0x0&&placeOrder(_0x5aa085);}function notifyBalance(_0x3ad8f0){const _0x2c7153=_0x358df3;let _0x21d288=_0x3ad8f0['portfolio'],_0xf04c91=_0x3ad8f0[_0x2c7153(0x10e)],_0x320e21=[];for(let _0x465fe4 of _0x21d288){if(_0x465fe4[_0x2c7153(0x190)]!=config[_0x2c7153(0x189)]){if(_0x465fe4['distribution']/_0x465fe4[_0x2c7153(0x15b)]-0x1>=_0xf04c91/0x64){if(_0x465fe4['valid'])_0x320e21[_0x2c7153(0x1a1)](_0x465fe4);}else{if(_0x465fe4[_0x2c7153(0x101)]/_0x465fe4['target']-0x1<=-_0xf04c91/0x64){if(_0x465fe4['valid'])_0x320e21[_0x2c7153(0x1a1)](_0x465fe4);}}}}if(_0x320e21[_0x2c7153(0x9f)]>0x0){let _0x4f8139=_0x320e21[_0x2c7153(0xbe)](_0x1e96ec=>_0x1e96ec[_0x2c7153(0x190)]);_0x4f8139[_0x2c7153(0xb3)]();let _0x293461=_0x4f8139[_0x2c7153(0x16f)](',\x20');if(lastCoinsToBalance!==_0x293461)logHistory(_0x2c7153(0xa7),_0x2c7153(0x19c)+_0x293461);lastCoinsToBalance=_0x293461;}}function symbolToCoin(_0x16d4d6){const _0x25ac41=_0x358df3;let _0x5c1393;if(_0x16d4d6['includes']('/'+config[_0x25ac41(0x189)]))_0x5c1393=_0x16d4d6[_0x25ac41(0x100)]('/'+config['basecoin'],'');if(_0x16d4d6[_0x25ac41(0x184)](config[_0x25ac41(0x189)]+'/'))_0x5c1393=_0x16d4d6[_0x25ac41(0x100)](config['basecoin']+'/','');return _0x5c1393;}async function validateOrders(_0x2018aa=0x0){const _0x26b98b=_0x358df3;let _0x483a18=[],_0x12d36c=config['ordertype']==_0x26b98b(0x1ab)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x26b98b(0x118)]*0x3c*0x3e8/validateOrderInterval;lastOrders[_0x26b98b(0x180)](_0x2ab10e=>{const _0x491a8d=_0x26b98b;let _0x2417af=previousCoins['find'](_0x5427e9=>_0x5427e9[_0x491a8d(0x190)]==symbolToCoin(_0x2ab10e[_0x491a8d(0xf1)])),_0x3ea89a=currentCoins[_0x491a8d(0x154)](_0x2b517d=>_0x2b517d[_0x491a8d(0x190)]==symbolToCoin(_0x2ab10e[_0x491a8d(0xf1)])),_0x4ba1cf,_0x440330;_0x2ab10e[_0x491a8d(0x17d)]=='buy'&&!_0x2ab10e['reverse']||_0x2ab10e['side']==_0x491a8d(0x146)&&_0x2ab10e[_0x491a8d(0xd9)]?(_0x4ba1cf=_0x2417af[_0x491a8d(0x18a)]+0.9*_0x2ab10e['filled'],_0x440330=_0x2417af[_0x491a8d(0x18a)]+1.1*_0x2ab10e[_0x491a8d(0x15a)]):(_0x4ba1cf=_0x2417af['number']-1.1*_0x2ab10e[_0x491a8d(0x15a)],_0x440330=_0x2417af[_0x491a8d(0x18a)]-0.9*_0x2ab10e[_0x491a8d(0x15a)]);const _0x59c4a5=_0x2ab10e[_0x491a8d(0x15a)]!=0x0&&_0x3ea89a[_0x491a8d(0x18a)]>=_0x4ba1cf&&_0x3ea89a[_0x491a8d(0x18a)]<=_0x440330;_0x483a18[_0x491a8d(0x1a1)](_0x59c4a5);if(_0x59c4a5&&config[_0x491a8d(0x106)]!=_0x491a8d(0x1ab)){if(_0x2ab10e['reverse'])logHistory('order',_0x491a8d(0x16e)+_0x2ab10e[_0x491a8d(0xf1)]+'\x20'+_0x2ab10e[_0x491a8d(0x17d)]+'\x20#'+formatResult(_0x2ab10e[_0x491a8d(0x15a)]/_0x2ab10e['price'],0x8)+'\x20@'+formatResult(_0x2ab10e[_0x491a8d(0x182)],0x8));else logHistory(_0x491a8d(0xfc),_0x491a8d(0x16e)+_0x2ab10e[_0x491a8d(0xf1)]+'\x20'+_0x2ab10e[_0x491a8d(0x17d)]+'\x20#'+formatResult(_0x2ab10e[_0x491a8d(0x15a)],0x8)+'\x20@'+formatResult(_0x2ab10e[_0x491a8d(0x182)],0x8));}}),_0x483a18[_0x26b98b(0x180)]((_0x20145a,_0x224da3)=>{const _0xa44b02=_0x26b98b;if(_0x20145a)lastOrders[_0xa44b02(0x13e)](_0x224da3,0x1);});if(_0x2018aa<_0x12d36c&&_0x483a18[_0x26b98b(0x184)](![])){if(_0x2018aa==0x0){config[_0x26b98b(0x106)]==_0x26b98b(0x1ab)?logHistory('error',_0x26b98b(0x113)):logHistory(_0x26b98b(0x15f),_0x26b98b(0x12a));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x2018aa);},0xa*0x3e8);}else{(_0x2018aa==0x1||_0x2018aa==Math[_0x26b98b(0xdf)](_0x12d36c/0x2)||_0x2018aa==_0x12d36c-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x2018aa);},validateOrderInterval);}}else{lockOrders=![];if(_0x2018aa>0x0&&!_0x483a18['includes'](![]))config['ordertype']==_0x26b98b(0x1ab)?logHistory(_0x26b98b(0xa7),_0x26b98b(0x166)):logHistory(_0x26b98b(0xa7),_0x26b98b(0x9d));else _0x2018aa>0x0&&_0x483a18[_0x26b98b(0x184)](![])&&(config['ordertype']==_0x26b98b(0x1ab)?logHistory(_0x26b98b(0xa7),_0x26b98b(0x1ac)+Math[_0x26b98b(0xdf)](_0x12d36c*validateOrderInterval/0xea60)+_0x26b98b(0xff)):(lastOrders[_0x26b98b(0x180)](async _0x21cdbc=>{const _0x3dc52d=_0x26b98b;try{const _0x1b024e=await exchange['cancelOrder'](_0x21cdbc['orderId'],_0x21cdbc['symbol']);}catch(_0x54141c){if(_0x54141c[_0x3dc52d(0xb1)]()[_0x3dc52d(0x184)](_0x3dc52d(0x130))){}else await handleError(_0x54141c,_0x3dc52d(0xf5));}}),logHistory(_0x26b98b(0xa7),'Unfilled\x20order(s)\x20canceled\x20after\x20'+Math[_0x26b98b(0xdf)](_0x12d36c*validateOrderInterval/0xea60)+_0x26b98b(0xff))));}}async function resetCoinResults(){const _0x44b988=_0x358df3;dbCoinResults[_0x44b988(0x1b3)](_0x44b988(0x191))['remove']()[_0x44b988(0x1a4)]();let _0x467386=await getStartingBalances(getNormalizedPerformance(),![]);_0x467386['coins'][_0x44b988(0x180)](_0x4652bc=>{const _0x539199=_0x44b988;if(_0x4652bc[_0x539199(0x190)]!=config[_0x539199(0x189)]){let _0xec5fc3={'coin':_0x4652bc[_0x539199(0x190)],'number':_0x4652bc[_0x539199(0x18a)],'breakeven':_0x4652bc[_0x539199(0x182)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x539199(0x1b3)](_0x539199(0x191))[_0x539199(0x1a1)](_0xec5fc3)[_0x539199(0x1a4)]();}});}async function updateCoinResults(_0x597a4a){const _0x4bc8e2=_0x358df3;let _0x1b4ce2,_0x4b72d1,_0x1a42c3,_0x31ec91,_0xf103cf,_0x263de5,_0x546c22=dbCoinResults[_0x4bc8e2(0x1b3)](_0x4bc8e2(0x191))[_0x4bc8e2(0x154)]({'coin':_0x597a4a[_0x4bc8e2(0x190)]})[_0x4bc8e2(0x168)]();if(!_0x546c22)return;if(_0x597a4a[_0x4bc8e2(0x105)]&&_0x597a4a[_0x4bc8e2(0x105)][_0x4bc8e2(0x1ad)]==config['basecoin'])_0x1b4ce2=_0x597a4a['fee'][_0x4bc8e2(0xa5)];else{if(_0x597a4a[_0x4bc8e2(0x105)]&&_0x597a4a[_0x4bc8e2(0x105)][_0x4bc8e2(0x1ad)]=='BNB')_0x1b4ce2=_0x597a4a[_0x4bc8e2(0x105)][_0x4bc8e2(0xa5)]*global[_0x4bc8e2(0x193)][_0x4bc8e2(0xfb)+config['basecoin']];else _0x1b4ce2=0.001*_0x597a4a[_0x4bc8e2(0x15a)];}const _0x4dc8b9=_0x597a4a[_0x4bc8e2(0xf1)]['includes'](config[_0x4bc8e2(0x189)]+'/');_0x4dc8b9&&(_0x263de5={'coin':_0x597a4a[_0x4bc8e2(0x190)],'symbol':_0x597a4a[_0x4bc8e2(0xf1)],'filled':_0x597a4a[_0x4bc8e2(0x15a)]*_0x597a4a[_0x4bc8e2(0x182)],'side':_0x597a4a[_0x4bc8e2(0x17d)]==_0x4bc8e2(0x146)?_0x4bc8e2(0x1a5):_0x4bc8e2(0x146),'price':0x1/_0x597a4a['price']},_0x597a4a={..._0x263de5});_0x597a4a['side']==_0x4bc8e2(0x1a5)?_0x1a42c3=(_0x546c22['breakeven']*_0x546c22[_0x4bc8e2(0x18a)]+_0x597a4a[_0x4bc8e2(0x182)]*_0x597a4a[_0x4bc8e2(0x15a)])/(_0x546c22[_0x4bc8e2(0x18a)]+_0x597a4a[_0x4bc8e2(0x15a)]):_0x1a42c3=(_0x546c22[_0x4bc8e2(0xa8)]*_0x546c22[_0x4bc8e2(0x18a)]-_0x597a4a[_0x4bc8e2(0x182)]*_0x597a4a[_0x4bc8e2(0x15a)])/(_0x546c22[_0x4bc8e2(0x18a)]-_0x597a4a[_0x4bc8e2(0x15a)]);_0x597a4a[_0x4bc8e2(0x17d)]==_0x4bc8e2(0x1a5)?_0x31ec91=_0x546c22[_0x4bc8e2(0x1ae)]:_0x31ec91=_0x546c22[_0x4bc8e2(0x1ae)]+(_0x597a4a[_0x4bc8e2(0x182)]-_0x546c22[_0x4bc8e2(0xa8)])*_0x597a4a['filled'];_0x4b72d1=_0x597a4a[_0x4bc8e2(0x17d)]==_0x4bc8e2(0x146)?_0x546c22[_0x4bc8e2(0x18a)]-_0x597a4a['filled']:_0x546c22[_0x4bc8e2(0x18a)]+_0x597a4a[_0x4bc8e2(0x15a)],_0xf103cf=(_0x597a4a[_0x4bc8e2(0x182)]-_0x1a42c3)*_0x4b72d1;let _0x2c44e5={'coin':_0x597a4a[_0x4bc8e2(0x190)],'number':_0x4b72d1,'breakeven':formatResult(_0x1a42c3,0x8),'realized':formatResult(_0x31ec91,0x8),'unrealized':formatResult(_0xf103cf,0x8),'fees':formatResult(_0x546c22[_0x4bc8e2(0x128)]+_0x1b4ce2,0x8),'sells':_0x597a4a[_0x4bc8e2(0x17d)]==_0x4bc8e2(0x146)?_0x546c22[_0x4bc8e2(0xaf)]+0x1:_0x546c22[_0x4bc8e2(0xaf)],'buys':_0x597a4a['side']==_0x4bc8e2(0x1a5)?_0x546c22['buys']+0x1:_0x546c22[_0x4bc8e2(0x1b1)]};dbCoinResults[_0x4bc8e2(0x1b3)]('coins')[_0x4bc8e2(0x154)]({'coin':_0x597a4a[_0x4bc8e2(0x190)]})['assign'](_0x2c44e5)['write']();}async function placeOrder(_0x29a907){const _0x62a7d2=_0x358df3,_0x12db47=config[_0x62a7d2(0x106)]==_0x62a7d2(0x1ab)?_0x62a7d2(0x1ab):_0x62a7d2(0xb5);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON[_0x62a7d2(0xf0)](JSON['stringify'](currentCoins));for(const _0x36b463 of _0x29a907){let _0x31477a,_0x3584e5,_0x12c958,_0x37e686,_0x4abc05,_0x1c594c=_0x36b463['symbol'];try{const _0x3a47bb=await exchange[_0x62a7d2(0x9a)](_0x1c594c),_0x20c220=_0x3a47bb[_0x1c594c];_0x31477a=_0x20c220[_0x62a7d2(0xa0)],_0x3584e5=_0x20c220[_0x62a7d2(0xe2)],_0x12c958=_0x20c220[_0x62a7d2(0xc9)];_0x36b463[_0x62a7d2(0xd9)]?(_0x37e686=_0x36b463[_0x62a7d2(0x17d)]=='buy'?_0x62a7d2(0x146):_0x62a7d2(0x1a5),_0x4abc05=Math[_0x62a7d2(0x114)](_0x36b463[_0x62a7d2(0x9b)])/_0x31477a):(_0x37e686=_0x36b463[_0x62a7d2(0x17d)],_0x4abc05=Math[_0x62a7d2(0x114)](_0x36b463['trade']));_0x12db47==_0x62a7d2(0xb5)&&(config[_0x62a7d2(0x106)]==_0x62a7d2(0x156)&&(_0x31477a=_0x37e686==_0x62a7d2(0x1a5)?_0x3584e5:_0x12c958),config[_0x62a7d2(0x106)]==_0x62a7d2(0x1b2)&&(_0x31477a=_0x37e686==_0x62a7d2(0x1a5)?_0x12c958:_0x3584e5));_0x4abc05=formatResult(_0x4abc05,0x8),_0x31477a=formatResult(_0x31477a,0x8);const _0x514474=await exchange['createOrder'](_0x1c594c,_0x12db47,_0x37e686,_0x4abc05,_0x31477a);lastOrders['push']({'orderId':_0x514474['id'],'symbol':_0x1c594c,'side':_0x37e686,'reverse':_0x36b463['reverse'],'amount':_0x36b463['reverse']?_0x514474[_0x62a7d2(0x111)]*_0x514474['price']:_0x514474[_0x62a7d2(0x111)],'filled':_0x36b463['reverse']?_0x514474['filled']*_0x514474['price']:_0x514474[_0x62a7d2(0x15a)],'price':_0x514474[_0x62a7d2(0x182)]});const _0x2bf608=_0x37e686=='sell'?config[_0x62a7d2(0x134)]?String['fromCodePoint']('0x'+config[_0x62a7d2(0x134)])+'\x20':'':config[_0x62a7d2(0x188)]?String[_0x62a7d2(0xb4)]('0x'+config['emojibuy'])+'\x20':'',_0x402aaa=_0x12db47==_0x62a7d2(0x1ab)?_0x62a7d2(0x158):config[_0x62a7d2(0x106)]==_0x62a7d2(0x156)?_0x62a7d2(0x17b):_0x62a7d2(0x14d);if(_0x12db47==_0x62a7d2(0x1ab))logHistory('order',''+_0x2bf608+_0x402aaa+_0x62a7d2(0x1af)+_0x1c594c+'\x20'+_0x37e686+'\x20#'+formatResult(_0x514474[_0x62a7d2(0x15a)],0x8)+'\x20@'+formatResult(_0x514474[_0x62a7d2(0x182)],0x8));else logHistory('order',''+_0x2bf608+_0x402aaa+_0x62a7d2(0x1af)+_0x1c594c+'\x20'+_0x37e686+'\x20#'+formatResult(_0x514474[_0x62a7d2(0x111)],0x8)+'\x20@'+formatResult(_0x514474[_0x62a7d2(0x182)],0x8));_0x514474[_0x62a7d2(0x190)]=_0x36b463['coin'],await updateCoinResults(_0x514474);if(config[_0x62a7d2(0x9e)]!=0x0){let _0x30c811=null;if(cooldownTracker[_0x62a7d2(0x9f)]==config['cooldown']-0x1)_0x30c811=cooldownTracker[_0x62a7d2(0xc0)]();const _0x1884ba=getTimeStamp();cooldownTracker[_0x62a7d2(0x1a1)](_0x1884ba);if(_0x30c811){const _0x21c659=fns[_0x62a7d2(0xde)](new Date(_0x1884ba),new Date(_0x30c811));_0x21c659<cooldownInterval&&(logHistory('error',_0x62a7d2(0xae)+config[_0x62a7d2(0x9e)]+_0x62a7d2(0x14a)+cooldownInterval/0x3c+_0x62a7d2(0x110)+cooldownPeriod/(0xe10*0x3e8)+_0x62a7d2(0x95)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x2e4ac9){if(_0x2e4ac9[_0x62a7d2(0xb1)]()[_0x62a7d2(0x184)](_0x62a7d2(0x17c)))logHistory(_0x62a7d2(0x15f),_0x62a7d2(0x10a)+_0x1c594c);else{if(_0x2e4ac9['toString']()[_0x62a7d2(0x184)](_0x62a7d2(0x178)))logHistory(_0x62a7d2(0x15f),'Order\x20amount\x20is\x20invalid:\x20'+_0x1c594c);else await handleError(_0x2e4ac9,_0x62a7d2(0x175));}}}if(lastOrders[_0x62a7d2(0x9f)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x62a7d2(0x171)]&&(config[_0x62a7d2(0x106)]=='market'?logHistory(_0x62a7d2(0x15f),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x62a7d2(0x15f),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config[_0x62a7d2(0x171)]&&logHistory(_0x62a7d2(0x15f),_0x62a7d2(0xf9)));}}function logHistory(_0x5b0557,_0x5a2f5f,_0x53aa7f=''){const _0x5a89a5=_0x358df3;let _0x5b4d58={'time':getTimeStamp(),'type':_0x5b0557,'event':_0x5a2f5f};dbLogs[_0x5a89a5(0x1b3)](_0x5a89a5(0x1a2))[_0x5a89a5(0x1a1)](_0x5b4d58)[_0x5a89a5(0x1a4)]();if(_0x53aa7f=='')_0x53aa7f=_0x5a2f5f;proxyEmit(_0x5a89a5(0xe4),{'log':_0x5b4d58,'summary':_0x53aa7f}),process[_0x5a89a5(0x187)]({'telegram':{..._0x5b4d58,'botname':config[_0x5a89a5(0x10d)],'showname':config[_0x5a89a5(0x165)]}},_0x1f42ce=>{}),logging(''+_0x5b4d58[_0x5a89a5(0xe4)]);}function emitHistory(_0x2a5047={}){const _0x30da41=_0x358df3;Object['keys'](_0x2a5047)[_0x30da41(0x9f)]==0x0&&(_0x2a5047={'type':['order',_0x30da41(0xe4)],'event':'','page':0x1});if(_0x2a5047[_0x30da41(0xcb)][_0x30da41(0x184)](_0x30da41(0xe4)))_0x2a5047['type'][_0x30da41(0x13e)](_0x2a5047[_0x30da41(0xcb)][_0x30da41(0xdb)](_0x30da41(0xe4)),0x1,_0x30da41(0x15f),_0x30da41(0xa7));if(dbLogs[_0x30da41(0x163)]('logs')[_0x30da41(0x168)]()){let _0x284b0f=dbLogs[_0x30da41(0x1b3)](_0x30da41(0x1a2))[_0x30da41(0x18c)](_0xd892a0=>{const _0x6b9b8d=_0x30da41;if(_0x2a5047[_0x6b9b8d(0xcb)][_0x6b9b8d(0x9f)]==0x0)return![];else return _0x2a5047[_0x6b9b8d(0xcb)][_0x6b9b8d(0x184)](_0xd892a0['type']);})['filter'](_0x214364=>{const _0x1441fc=_0x30da41;if(_0x2a5047[_0x1441fc(0xe4)]=='')return!![];else return _0x214364[_0x1441fc(0xe4)][_0x1441fc(0xed)]()[_0x1441fc(0x184)](_0x2a5047['event'][_0x1441fc(0xed)]());})[_0x30da41(0xdc)]('time'),_0x355474=_0x284b0f['value']()['length'];_0x284b0f=_0x284b0f[_0x30da41(0xd9)]()[_0x30da41(0x155)]((_0x2a5047[_0x30da41(0xe9)]-0x1)*logPageSize,_0x2a5047[_0x30da41(0xe9)]*logPageSize-0x1)[_0x30da41(0xd9)]()['value'](),proxyEmit('event-history',{'logs':_0x284b0f,'total':_0x355474});}else proxyEmit('event-history',{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x103fe2){const _0x45d057=_0x358df3;if(dbLogs[_0x45d057(0x163)](_0x45d057(0x1a2))[_0x45d057(0x168)]()){const _0x40c7fd=dbLogs[_0x45d057(0x1b3)]('logs')[_0x45d057(0xdc)](_0x45d057(0xc4))[_0x45d057(0x18c)](_0x4e74ff=>{const _0x13ee48=_0x45d057;return _0x4e74ff[_0x13ee48(0xcb)]=='order';})[_0x45d057(0x168)]();dbLogs[_0x45d057(0x1b3)](_0x45d057(0x1a2))[_0x45d057(0xd4)]()[_0x45d057(0x1a4)](),dbLogs[_0x45d057(0x1b3)](_0x45d057(0x1a2))[_0x45d057(0x198)](_0x40c7fd)['write'](),emitHistory(_0x103fe2);}}async function pauseBot(_0x1444c8){const _0x353e4f=_0x358df3,_0x55e36e=new Date()[_0x353e4f(0x16a)]();if(!lastBotPause)lastBotPause=new Date()[_0x353e4f(0x16a)](),consecutivePauses=0x1;else{if(_0x55e36e-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x3)process['send']({'stop':_0x353e4f(0xec)},_0x51ad1f=>{});}else consecutivePauses=0x1;lastBotPause=new Date()[_0x353e4f(0x16a)]();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws(),logHistory('error',_0x353e4f(0xfd)+consecutivePauses+')'),await sleep(_0x1444c8),botPaused=![],reset();}}async function handleError(_0x23ff56,_0x280812,_0x1e90a=''){const _0xd38479=_0x358df3;if(_0x23ff56[_0xd38479(0xb1)]()[_0xd38479(0x184)]('DDoSProtection'))logHistory(_0xd38479(0x15f),_0x280812+_0xd38479(0x11b)),await pauseBot(pauseBotInterval);else{if(_0x23ff56[_0xd38479(0xb1)]()[_0xd38479(0x184)](_0xd38479(0xdd)))logHistory(_0xd38479(0x15f),_0x280812+_0xd38479(0x12d)),await pauseBot(pauseBotInterval);else{if(_0x23ff56[_0xd38479(0xb1)]()['includes'](_0xd38479(0x167)))logHistory(_0xd38479(0x15f),_0x280812+_0xd38479(0xd2)),await pauseBot(pauseBotInterval);else{if(_0x23ff56['toString']()[_0xd38479(0x184)](_0xd38479(0x112)))logHistory(_0xd38479(0x15f),_0x280812+'\x20|\x20Binance\x20API\x20key\x20is\x20invalid'),logHistory(_0xd38479(0x15f),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process['send']({'stop':'kill'},_0x31dcb1=>{});else{if(_0x23ff56[_0xd38479(0xb1)]()[_0xd38479(0x184)](_0xd38479(0x16b)))logHistory(_0xd38479(0x15f),_0x280812+_0xd38479(0x19e)),logHistory(_0xd38479(0x15f),_0xd38479(0xbd)),process['send']({'stop':_0xd38479(0xfa)},_0x440608=>{});else{if(_0x23ff56[_0xd38479(0xb1)]()[_0xd38479(0x184)](_0xd38479(0xca)))logHistory('error',_0x280812+_0xd38479(0xc1)),logHistory(_0xd38479(0x15f),_0xd38479(0xbd)),process[_0xd38479(0x187)]({'stop':'kill'},_0x32e9ef=>{});else{if(_0x23ff56[_0xd38479(0xb1)]()[_0xd38479(0x184)](_0xd38479(0xee)))logHistory('error',_0x280812+_0xd38479(0x140)),logHistory(_0xd38479(0x15f),'Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot'),process[_0xd38479(0x187)]({'stop':_0xd38479(0xfa)},_0x415095=>{});else{if(_0x23ff56[_0xd38479(0xb1)]()['includes'](_0xd38479(0xc2)))logHistory(_0xd38479(0x15f),_0x280812+_0xd38479(0x126)),await pauseBot(pauseBotInterval),process[_0xd38479(0x187)]({'stop':_0xd38479(0xec)},_0x443131=>{});else _0x23ff56['toString']()['includes'](_0xd38479(0x11a))?logHistory('error',_0x280812+_0xd38479(0x11e)):(logHistory(_0xd38479(0x15f),_0x280812+_0xd38479(0x14b)),logging(_0x280812+_0xd38479(0x142),_0x23ff56),await pauseBot(pauseBotInterval));}}}}}}}}function formatResult(_0x157e11,_0x1324e2){const _0x25c4de=_0x358df3;return parseFloat(_0x157e11[_0x25c4de(0x19b)](_0x1324e2));}function logging(_0x55dc07,_0x3f3cd7=''){const _0x2b30d9=_0x358df3;if(config['showname'])console[_0x2b30d9(0xe3)](getTimeStamp()+':\x20'+config[_0x2b30d9(0x10d)]+_0x2b30d9(0x159)+_0x55dc07,_0x3f3cd7);else console[_0x2b30d9(0xe3)](getTimeStamp()+_0x2b30d9(0x94)+botID+_0x2b30d9(0x159)+_0x55dc07,_0x3f3cd7);}function getServerTime(){const _0x5584cf=_0x358df3,_0x5c8434=new Date();return _0x5c8434[_0x5584cf(0xc8)]()+'/'+(_0x5c8434['getMonth']()+0x1)[_0x5584cf(0xb1)]()['padStart'](0x2,'0')+'/'+_0x5c8434[_0x5584cf(0x117)]()['toString']()[_0x5584cf(0xe6)](0x2,'0')+'\x20'+_0x5c8434[_0x5584cf(0xad)]()[_0x5584cf(0xb1)]()[_0x5584cf(0xe6)](0x2,'0')+':'+_0x5c8434[_0x5584cf(0x147)]()[_0x5584cf(0xb1)]()[_0x5584cf(0xe6)](0x2,'0')+':'+_0x5c8434[_0x5584cf(0x11c)]()[_0x5584cf(0xb1)]()['padStart'](0x2,'0');}function getTimeStamp(){const _0x4f78c6=_0x358df3,_0x2ee4a4=shiftedTime();return _0x2ee4a4['getFullYear']()+'/'+(_0x2ee4a4[_0x4f78c6(0xce)]()+0x1)[_0x4f78c6(0xb1)]()[_0x4f78c6(0xe6)](0x2,'0')+'/'+_0x2ee4a4[_0x4f78c6(0x117)]()[_0x4f78c6(0xb1)]()['padStart'](0x2,'0')+'\x20'+_0x2ee4a4[_0x4f78c6(0xad)]()[_0x4f78c6(0xb1)]()[_0x4f78c6(0xe6)](0x2,'0')+':'+_0x2ee4a4[_0x4f78c6(0x147)]()[_0x4f78c6(0xb1)]()[_0x4f78c6(0xe6)](0x2,'0')+':'+_0x2ee4a4[_0x4f78c6(0x11c)]()[_0x4f78c6(0xb1)]()[_0x4f78c6(0xe6)](0x2,'0');}function getDate(){const _0x35562b=_0x358df3,_0x45f7d4=shiftedTime();return _0x45f7d4['getFullYear']()+'/'+(_0x45f7d4[_0x35562b(0xce)]()+0x1)['toString']()['padStart'](0x2,'0')+'/'+_0x45f7d4[_0x35562b(0x117)]()[_0x35562b(0xb1)]()[_0x35562b(0xe6)](0x2,'0');}function getHour(){const _0x4d4ad8=_0x358df3,_0x52d0bd=shiftedTime();return _0x52d0bd[_0x4d4ad8(0xad)]()[_0x4d4ad8(0xb1)]()['padStart'](0x2,'0');}function sleep(_0x33c27f){return new Promise(_0x514d99=>setTimeout(_0x514d99,_0x33c27f));}function shiftedTime(){const _0x4a6def=_0x358df3,_0x51040b=new Date();let _0x27a9d8=_0x51040b;if(config&&config[_0x4a6def(0x186)]!==0x0)_0x27a9d8=fns[_0x4a6def(0xf6)](_0x51040b,{'hours':config[_0x4a6def(0x186)]});return _0x27a9d8;}