const _0x7018d1=_0x4a61;(function(_0x550f6a,_0x305e43){const _0x5bcbf6=_0x4a61,_0x5b4bb4=_0x550f6a();while(!![]){try{const _0x17c9fd=parseInt(_0x5bcbf6(0x1e8))/0x1*(-parseInt(_0x5bcbf6(0x18e))/0x2)+parseInt(_0x5bcbf6(0x1bb))/0x3+-parseInt(_0x5bcbf6(0x17e))/0x4+-parseInt(_0x5bcbf6(0x166))/0x5+parseInt(_0x5bcbf6(0x2e5))/0x6+-parseInt(_0x5bcbf6(0x291))/0x7+parseInt(_0x5bcbf6(0x1d5))/0x8*(parseInt(_0x5bcbf6(0x1a4))/0x9);if(_0x17c9fd===_0x305e43)break;else _0x5b4bb4['push'](_0x5b4bb4['shift']());}catch(_0x9ac081){_0x5b4bb4['push'](_0x5b4bb4['shift']());}}}(_0x1398,0xa2250));const _0xeb1b49=function(){let _0xd69561=!![];return function(_0x48ecfa,_0x16e7ff){const _0x21892b=_0xd69561?function(){const _0xd1343=_0x4a61;if(_0x16e7ff){const _0x2cc1cf=_0x16e7ff[_0xd1343(0x2e0)](_0x48ecfa,arguments);return _0x16e7ff=null,_0x2cc1cf;}}:function(){};return _0xd69561=![],_0x21892b;};}(),_0xff11fc=_0xeb1b49(this,function(){const _0x3c392a=_0x4a61;return _0xff11fc[_0x3c392a(0x17c)]()[_0x3c392a(0x21d)](_0x3c392a(0x1ac))[_0x3c392a(0x17c)]()[_0x3c392a(0x275)](_0xff11fc)[_0x3c392a(0x21d)](_0x3c392a(0x1ac));});_0xff11fc();'use strict';const ccxt=require(_0x7018d1(0x1c6)),low=require(_0x7018d1(0x304)),FileSync=require(_0x7018d1(0x1b3)),fs=require('fs'),fns=require('date-fns'),Crypt=require(_0x7018d1(0x250))[_0x7018d1(0x175)],util=require(_0x7018d1(0x1b5)),argv=require(_0x7018d1(0x299))(process[_0x7018d1(0x1f0)][_0x7018d1(0x2ce)](0x2))[_0x7018d1(0x1f0)],path=require(_0x7018d1(0x222)),axios=require(_0x7018d1(0x2bf));let exchange,gTicker={},gChange={};const usdBasecoins=['USD',_0x7018d1(0x16c),'TUSD',_0x7018d1(0x1fc),_0x7018d1(0x256),_0x7018d1(0x269)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x7018d1(0x2b5)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x7018d1(0x1b0)],validateOrdersState,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotIntervalShort=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x7018d1(0x243)+pauseBotInterval/0xea60+_0x7018d1(0x2d6),maxPauseRetries=0x6,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,watchTransactionsInterval=0x3c*0x3e8,schedulerInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,botPaused=![],transactionDetectionOngoing=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require('./version.json')[_0x7018d1(0x2a1)],botID=process[_0x7018d1(0x1f0)][0x2]||_0x7018d1(0x1cc),pattern=/^[0-9]{3}$/;!pattern['test'](botID)&&(console[_0x7018d1(0x20c)](_0x7018d1(0x1d7)+botID+_0x7018d1(0x1f5)),killBot());const userID=process[_0x7018d1(0x1f0)][0x3]||'',configpath=userID?_0x7018d1(0x200)+userID+'/':'./config/',logspath=userID?'./logs/'+userID+'/':_0x7018d1(0x2a6),loggerfile=fs[_0x7018d1(0x16a)](logspath+'/output-000.log',{'flags':'a'});!fs['existsSync'](configpath)&&fs[_0x7018d1(0x2ac)](configpath);!fs[_0x7018d1(0x1b8)](logspath)&&fs[_0x7018d1(0x2ac)](logspath);const configfile=configpath+_0x7018d1(0x19c)+botID+_0x7018d1(0x21e),logfile=configpath+_0x7018d1(0x19c)+botID+_0x7018d1(0x19b),performancefile=configpath+_0x7018d1(0x19c)+botID+_0x7018d1(0x203),coinresultsfile=configpath+'bot-'+botID+_0x7018d1(0x160),settingsfile=configpath+_0x7018d1(0x1bf),securefile=configpath+_0x7018d1(0x2d0),configbackuppath=configpath+_0x7018d1(0x18d),adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x7018d1(0x277)]({'logs':[],'version':serverversion})['write']();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);function _0x1398(){const _0x1147da=['\x20hour','changes','timestamp','abs','version','InvalidOrder','marketcapEnabled','highest','symbol','./logs/','\x20:\x20','Exception\x20thrown\x20in\x20','pro','no\x20open\x20orders','value','mkdirSync','progress','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','market','split','\x20>\x20','RequestTimeout','2.5.0','1\x20-\x20Validate\x20orders:\x20','freeze','Bot\x20','unlinkSync','fetchClosedOrders','price','fetchBalance','sqrt','recovery','isEqual','trade','axios','UNLOCKING','\x20-\x20bot\x20already\x20running\x20in\x20manual\x20mode','loadMarkets','substring','Limit\x20(high-margin)','RETRY\x20-\x20Error\x20in\x20','type','fee','red_yellow_blue','reverse','percentage','watchTradesForSymbols()','sells','autoliquidity','slice','logs','bb-secure.json','min','liquidity','assign','event','\x20value','\x20minutes','getStartingBalances','getTime','currency','API-key\x20format\x20invalid','getPortfolio(0)','filled','Net\x20','stringify','InvalidNonce','apply','RSA-OAEP','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','data','error','5072076FpHqzc','limits','Net\x20effect','amount','offset','fetchTicker','2\x20-\x20Validate\x20orders:\x20','cancel','max','getSeconds','filter','toggleBotMode','toFixed','LOCKED','distribution','startsWith','get','\x20exchange\x20error','placeOrder()','exec','Reset\x20|\x20','Loading\x20completed','Error\x20while\x20deleting\x20files:\x20','Order\x20amount\x20is\x20invalid:\x20','has','added','toUpperCase','\x20not\x20available\x20(see:\x20hodlerhacks.com/fix/5)','slider','\x20portfolio:</b>\x20\x0a\x0a','PAXG','lowdb','format','send','find','replace','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','exchanges','getPortfolio(2)','restart','watchOrders','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','1\x20-\x20Handle\x20open\x20orders','Failed\x20to\x20load\x20coin\x20data\x20for\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(see:\x20hodlerhacks.com/fix/1)','\x20-\x20bot\x20switched\x20to\x20manual\x20mode','code','\x20minutes\x20-\x20','-results.json','function',':\x20timer\x20>','getMinutes','closed','Saving\x20configuration','5470315eZYRTy','Huobi','active','coins','createWriteStream','secure','BUSD','fetchTickers','milliseconds','</pre>','limit-high','bots','total','Pausing\x20for\x20','showConfig','Crypt','success','storeFiat','\x20rejected\x20your\x20API\x20request\x20(see:\x20hodlerhacks.com/fix/4)','\x20exchange','emojibuy','ExchangeNotAvailable','toString','change24h','2403336nbgrhk','<b>','ongoing','Resetting\x20coin\x20results:\x20','exchange\x20not\x20reloaded','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','Headless:\x20','getFullYear','round','padStart','market_cap','Error\x20details:','\x20API\x20secret\x20is\x20invalid','openOrders','random','/backup/','50686jnrIsX','recreate','sendMetricsTelegram','target','entries','push','includes','yyyy-MM-dd\x27T\x27HH:mm:ss','Executed\x20','watchTrades','Initializing\x20coin\x20results','ETH','2\x20-\x20Orders\x20unlocked','-events.json','bot-','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','net-fiat','EUR','Trigger:\x20','marketcap','detectLiquidityChange()','must\x20be\x20greater\x20than\x20minimum\x20amount','54RzVHxV','amountToPrecision','getCoins()','Waited\x20','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','splice','\x20uses\x20','exchange','(((.+)+)+)+$','event-history','\x20|\x20lock\x20orders:\x20','string','UNLOCKED','watchOrders()','excluded','lowdb/adapters/FileSync','write','util','decrypt','threshold','existsSync',':\x20Bot\x20','headless','1207524YRGWkk','canceled','\x20|\x20highest\x20fee:\x20','<pre>','bb-settings.json','%\x20(','\x20|\x20','parse','timeout','************','ORDERS.UNLOCKING','ccxt','\x20has\x20a\x2024h\x20drop\x20of\x20','-------------------------------\x0a','InsufficientFunds','ORDERS.UNLOCKED','emojisell','001','sell','side','final','\x20/\x20','getMonth','warning','ask','\x20>\x20details:','3355568hRHhop','ORDERS.LOCKED','Error:\x20Invalid\x20argument\x20','0\x20-\x20EXECUTION:\x20','limit','set','indexOf','timeshift','orderId','\x20change','getPortfolio(1)','Order(s)\x20not\x20validated\x20after\x20','botname','yyyy/MM/dd','\x20orders\x20in\x20less\x20than\x20','open','Cex','colorscheme','startnumber','24nVbhTC','Portfolio\x20change\x20detected:\x20','sendPortfolioTelegram','portfolio','restartBot','realized','heapUsed','coin','argv','CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager','\x20order:\x20','change','ordertype',',\x20must\x20be\x20a\x203\x20digit\x20number','Binance','cooldown','Transaction\x20detection\x20unblocked','pid','full','enabled','USDT','status\x20code\x20401','Invalid\x20quantity','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','./config/','order','loadSymbols()','-performance.json','basecoin','<b>Bot\x20','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','settings','remainingSymbols','watchTradesForSymbols','Resetting\x20bot\x20history','args','log','net-basecoin','marketcapsqrt','basecoinvalue','toLowerCase','onepagemode','debug','bot','sortBy','Portfolio\x20change\x20detected\x20-\x20bot\x20switched\x20to\x20manual\x20mode','bid','switch-manual','pop','performance','shift','No\x20more\x20open\x20orders\x20-\x20','stopExchange()','search','-config.json','starting-balance-','resetHistory','AuthenticationError','path','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','getHours','password','Symbol(s):\x20','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','Cryptocom','spot','buy','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','removed','Limit\x20(low-margin)','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','cancelLoading','time','2.6.23','kill','2.3.5','2\x20-\x20handling\x20FILLED\x20order:\x20','marketcapApi','BTC','\x20attempts','botID','RateLimitExceeded','fromCodePoint','floor','sort','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','showname','cloneDeep','getPortfolio','privateKey','cancelOrders()','\x20-\x20pausing\x20bot\x20for\x20','2.6.22','breakeven','status','last','/EUR','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','close','uncaughtException','writeFile','buys','Avoiding\x20continuous\x20order\x20attempts','page','hybrid-crypto-js','map','remove','message','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(see:\x20hodlerhacks.com/fix/1)','initial','USDC','startprice','Fee\x20discount\x20refund\x20detected:\x20','date','average','apiPassword','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','loading-canceled','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','orderstatus','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','BNB/','USD','delta','apiSecret','recent20','Unknown\x20error\x20occured','***','fetchOpenOrders','USDP','memoryUsage','.json','number','RETRY\x20-\x20Problem\x20resolved\x20after\x20','/USD','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(see:\x20hodlerhacks.com/fix/1)','startdate','Executing\x20bot\x20restart','update-liquidity','coin-loading-progress','configuration','constructor','\x20network\x20error','defaults','initTickers()','cancelOrder','quote','forEach','2.6.0','usd','datetime','join','balancing\x20resumes\x20when\x20cooldown\x20ends','length','eur','getDate','valid','placeOrder','initclient','createOrder','BNB','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','\x20metrics:</b>\x20\x0a\x0a','\x20-\x20','balancing\x20resumed','rightTxt','balances','apiKey','cost','5580799jHTrZJ','PermissionDenied','Exchange','configuration-stored','fiat','getCoinNumber()','Unfilled\x20order(s)\x20canceled\x20after\x20','none','yargs/yargs','leftTxt','getOpenOrders()','running'];_0x1398=function(){return _0x1147da;};return _0x1398();}dbConfig[_0x7018d1(0x277)]({'bot':[],'version':serverversion})[_0x7018d1(0x1b4)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x7018d1(0x277)]({'coins':[],'version':serverversion})['write']();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':'sha256','rsaStandard':_0x7018d1(0x2e1)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x1fcb93=>{console['log'](_0x1fcb93);},'simple':_0x4d2c1e=>{console['log'](_0x4d2c1e),loggerfile['write'](util['format'](_0x4d2c1e)+'\x0a');},'full':async(_0x1372bb,_0x19e7ed='')=>{const _0x299a2e=_0x7018d1;let _0x20c8d4;if(config['showname'])_0x20c8d4=getTimeStamp()+':\x20'+config[_0x299a2e(0x1e1)]+_0x299a2e(0x2b1)+_0x1372bb;else _0x20c8d4=getTimeStamp()+':\x20Bot\x20'+botID+_0x299a2e(0x2b1)+_0x1372bb;console['log'](_0x20c8d4),loggerfile[_0x299a2e(0x1b4)](util[_0x299a2e(0x305)](_0x20c8d4)+'\x0a'),_0x19e7ed&&(console[_0x299a2e(0x20c)](_0x19e7ed),loggerfile[_0x299a2e(0x1b4)](util[_0x299a2e(0x305)](_0x19e7ed)+'\x0a'));},'debug':async(_0x4682fa,_0xe250c4='')=>{const _0x384a91=_0x7018d1;let _0x5214c9;if(config[_0x384a91(0x23e)])_0x5214c9=getTimeStamp()+':\x20'+config[_0x384a91(0x1e1)]+'\x20>\x20[DEBUG]\x20'+_0x4682fa;else _0x5214c9=getTimeStamp()+_0x384a91(0x1b9)+botID+'\x20>\x20[DEBUG]\x20'+_0x4682fa;if(debugging)console[_0x384a91(0x20c)](_0x5214c9);loggerfile[_0x384a91(0x1b4)](util['format'](_0x5214c9)+'\x0a');if(_0xe250c4){if(debugging)console[_0x384a91(0x20c)](_0xe250c4);loggerfile[_0x384a91(0x1b4)](util['format'](_0xe250c4)+'\x0a');}}};process['on'](_0x7018d1(0x24b),function(_0x4d6bfc){const _0x14d702=_0x7018d1;handleError(_0x4d6bfc,_0x14d702(0x24b));});settings[_0x7018d1(0x1dc)]!=config[_0x7018d1(0x1dc)]&&updateTimeshift(settings['timeshift']);settings[_0x7018d1(0x211)]!=config[_0x7018d1(0x211)]&&updateOnepagemode(settings['onepagemode']);(settings[_0x7018d1(0x235)]&&!config[_0x7018d1(0x235)]||!settings[_0x7018d1(0x235)]&&config[_0x7018d1(0x235)])&&updateMarketcapApi(settings['marketcapApi']);process[_0x7018d1(0x306)]({'started':_0x7018d1(0x29c)},_0x4c67f7=>{}),initializeProcessListeners();function proxyEmit(_0x50c93b,_0x7c99cf=null){const _0x5b820d=_0x7018d1;process[_0x5b820d(0x306)]({'function':_0x50c93b,'args':_0x7c99cf},_0x3a3f67=>{});}function initializeProcessListeners(){const _0xd681d4=_0x7018d1;process['on'](_0xd681d4(0x253),_0x33df01=>{const _0x2ffcfa=_0xd681d4;switch(Object['keys'](_0x33df01)[0x0]){case _0x2ffcfa(0x1dc):_0x33df01['timeshift']!=undefined&&(settings[_0x2ffcfa(0x1dc)]=_0x33df01[_0x2ffcfa(0x1dc)],updateTimeshift(settings['timeshift']));break;case _0x2ffcfa(0x211):_0x33df01[_0x2ffcfa(0x211)]!=undefined&&(settings[_0x2ffcfa(0x211)]=_0x33df01['onepagemode'],updateOnepagemode(settings[_0x2ffcfa(0x211)]));break;case _0x2ffcfa(0x235):_0x33df01[_0x2ffcfa(0x235)]!=undefined&&(settings['marketcapApi']=_0x33df01[_0x2ffcfa(0x235)],updateMarketcapApi(settings[_0x2ffcfa(0x235)]));break;case'bots':_0x33df01['bots']!=undefined&&(bots=JSON['parse'](_0x33df01['bots']),proxyEmit(_0x2ffcfa(0x171),bots));break;case'function':switch(_0x33df01[_0x2ffcfa(0x161)]){case _0x2ffcfa(0x286):initclient();break;case _0x2ffcfa(0x2f0):toggleBotMode();break;case _0x2ffcfa(0x1ec):restartBot();break;case'emitHistory':emitHistory(_0x33df01[_0x2ffcfa(0x20b)]);break;case'deleteHistoryAlerts':deleteHistoryAlerts(_0x33df01[_0x2ffcfa(0x20b)]);break;case _0x2ffcfa(0x240):getPortfolio(_0x33df01['args']);break;case'storeConfiguration':storeConfiguration(_0x33df01[_0x2ffcfa(0x20b)]);break;case'storeHeadless':storeHeadless(_0x33df01[_0x2ffcfa(0x20b)]);break;case _0x2ffcfa(0x177):storeFiat(_0x33df01['args']);break;case _0x2ffcfa(0x220):resetHistory();break;case _0x2ffcfa(0x2d7):getStartingBalances(getNormalizedPerformance());break;case _0x2ffcfa(0x285):placeOrder(_0x33df01['args']);break;case _0x2ffcfa(0x22f):cancelLoading();break;case _0x2ffcfa(0x174):showConfig();break;case _0x2ffcfa(0x190):sendMetricsTelegram();break;case _0x2ffcfa(0x1ea):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0x35f09f=![]){const _0x54aef4=_0x7018d1;logger[_0x54aef4(0x212)](_0x54aef4(0x2f9)+(_0x35f09f?'exchange\x20reloaded':_0x54aef4(0x182))+'\x20|\x20exchange:\x20'+config[_0x54aef4(0x1ab)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x35f09f)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x54aef4(0x28f)]!=''&&config[_0x54aef4(0x28f)]!=_0x54aef4(0x267)){loadingProgress=0x0;if(_0x35f09f){if(pidCoinReloading)clearTimeout(pidCoinReloading);await initExchange();try{await loadSymbols();}catch(_0x19179a){handleErrorNoStop(_0x19179a,_0x54aef4(0x202));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x504f3d=await getCoins();[currentCoins,currentCoinsAll]=_0x504f3d,blockTransactionDetection=![],getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![];while(!coinsLoaded){await sleep(0x64);}logger['debug'](_0x54aef4(0x2fa)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x54aef4(0x281)]==0x0&&allOpenOrders[_0x54aef4(0x281)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x118e88){const _0x58ee40=_0x7018d1;let _0x2d3c2c=![];if(_0x118e88)_0x2d3c2c=!![];let _0x479860;_0x2d3c2c?_0x479860=_0x118e88[_0x58ee40(0x251)](_0x27b68f=>_0x27b68f[_0x58ee40(0x1ef)]):_0x479860=currentCoinsAll[_0x58ee40(0x251)](_0x1a476b=>_0x1a476b[_0x58ee40(0x1ef)]);if(!config['marketcapApi']||!_0x2d3c2c&&!config['marketcapEnabled']||_0x479860[_0x58ee40(0x281)]==0x0)return;let _0x500c8f=null;try{_0x500c8f=await axios[_0x58ee40(0x2f5)]('https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest',{'headers':{'X-CMC_PRO_API_KEY':settings[_0x58ee40(0x235)]},'params':{'symbol':_0x479860[_0x58ee40(0x17c)]()}});}catch(_0x5e29f1){_0x500c8f=null,_0x5e29f1[_0x58ee40(0x17c)]()[_0x58ee40(0x194)](_0x58ee40(0x1fd))?(config[_0x58ee40(0x235)]=![],updateConfig(),proxyEmit(_0x58ee40(0x274),emittedConfiguration()),logHistory(_0x58ee40(0x2e4),_0x58ee40(0x1f1))):(logHistory(_0x58ee40(0x2e4),_0x58ee40(0x22e)+schedulerInterval/(0x3c*0x3e8)+_0x58ee40(0x2d6)),logger[_0x58ee40(0x212)](_0x58ee40(0x189),_0x5e29f1[_0x58ee40(0x17c)]()+_0x58ee40(0x28b)+_0x5e29f1[_0x58ee40(0x15e)]));}if(_0x500c8f){let _0x1f2d5c=0x0;const _0x566529=_0x500c8f[_0x58ee40(0x2e3)];_0x479860['forEach'](_0x4642b4=>{const _0x4eeeb9=_0x58ee40;if(_0x566529[_0x4eeeb9(0x2e3)][_0x4642b4][0x0])_0x1f2d5c+=_0x566529[_0x4eeeb9(0x2e3)][_0x4642b4][0x0][_0x4eeeb9(0x27a)][_0x4eeeb9(0x262)]['market_cap'];}),_0x479860['forEach'](_0x532216=>{const _0x355cb6=_0x58ee40,_0x1f1e2c=_0x566529[_0x355cb6(0x2e3)][_0x532216][0x0]?_0x566529[_0x355cb6(0x2e3)][_0x532216][0x0]['quote'][_0x355cb6(0x262)][_0x355cb6(0x188)]:0x0;if(_0x2d3c2c){const _0x565d7f=_0x118e88[_0x355cb6(0x307)](_0x1f703b=>_0x1f703b[_0x355cb6(0x1ef)]==_0x532216);_0x565d7f&&(_0x565d7f[_0x355cb6(0x1a1)]=_0x1f1e2c);}else{const _0x114c39=currentCoins[_0x355cb6(0x307)](_0x8ea84a=>_0x8ea84a[_0x355cb6(0x1ef)]==_0x532216);_0x114c39&&(_0x114c39['marketcap']=_0x1f1e2c);const _0x45d971=currentCoinsAll[_0x355cb6(0x307)](_0x429d87=>_0x429d87[_0x355cb6(0x1ef)]==_0x532216);_0x45d971&&(_0x45d971[_0x355cb6(0x1a1)]=_0x1f1e2c);}}),!_0x2d3c2c&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x5a6706=_0x7018d1,_0x140220=0x2;let _0x1ea06c=0x0,_0x37ac5b=0x0,_0x159b7f=0x0,_0x36a669=0x0,_0x3a05e8=0x0;config[_0x5a6706(0x1eb)][_0x5a6706(0x27b)](_0x324b15=>{const _0x590888=_0x5a6706;if(!_0x324b15[_0x590888(0x1b2)]){_0x159b7f++,_0x1ea06c+=_0x324b15['slider'];if(_0x324b15[_0x590888(0x301)]===-0x1){_0x1ea06c++;const _0x5522b4=currentCoinsAll[_0x590888(0x307)](_0x268b3e=>_0x268b3e[_0x590888(0x1ef)]==_0x324b15[_0x590888(0x1ef)]);_0x5522b4&&(_0x36a669+=_0x5522b4[_0x590888(0x1a1)],_0x3a05e8+=Math['sqrt'](_0x5522b4[_0x590888(0x1a1)]));}if(_0x324b15['slider']!==-0x1)_0x37ac5b++;}});let _0x3f24f6;const _0x3f26c0=0x64-_0x1ea06c,_0x19fd62=_0x159b7f-_0x37ac5b;_0x3f24f6=_0x19fd62===0x0?_0x1ea06c:Math[_0x5a6706(0x2ed)](0x64,_0x1ea06c),config[_0x5a6706(0x1eb)][_0x5a6706(0x27b)](_0x45fd7a=>{const _0x5155a2=_0x5a6706,_0x23f367=currentCoinsAll['find'](_0x14918a=>_0x14918a['coin']==_0x45fd7a['coin']);_0x23f367&&(_0x45fd7a['marketcap']=_0x23f367[_0x5155a2(0x1a1)]);if(!_0x45fd7a[_0x5155a2(0x1b2)]){if(_0x3f24f6<=0x64){if(_0x45fd7a['slider']===-0x1){if(_0x36a669!==0x0&&config[_0x5155a2(0x2a3)]){if(_0x23f367){if(config[_0x5155a2(0x2a3)]==_0x5155a2(0x1a1))_0x45fd7a[_0x5155a2(0x2f3)]=(_0x3f26c0/(_0x36a669/_0x23f367[_0x5155a2(0x1a1)]))[_0x5155a2(0x2f1)](_0x140220);else config[_0x5155a2(0x2a3)]==_0x5155a2(0x20e)&&(_0x45fd7a['distribution']=(_0x3f26c0/(_0x3a05e8/Math[_0x5155a2(0x2bb)](_0x23f367[_0x5155a2(0x1a1)])))[_0x5155a2(0x2f1)](_0x140220));}}}}}}),updateConfig();}function updateConfig(){const _0x34e536=_0x7018d1;let _0x14b1c8=dbConfig[_0x34e536(0x2f5)](_0x34e536(0x213))[_0x34e536(0x307)]({'botID':botID})[_0x34e536(0x2ab)]();_0x14b1c8&&dbConfig[_0x34e536(0x2f5)](_0x34e536(0x213))[_0x34e536(0x307)]({'botID':botID})[_0x34e536(0x2d3)](config)[_0x34e536(0x1b4)]();}async function startScheduler(){const _0x8337d4=_0x7018d1,_0x598939=shiftedTime()[_0x8337d4(0x224)](),_0x5d8fb9=process[_0x8337d4(0x26a)]()[_0x8337d4(0x1ee)]/0x400/0x400;logger[_0x8337d4(0x212)]('process\x20'+process[_0x8337d4(0x1f9)]+_0x8337d4(0x1aa)+_0x5d8fb9+'\x20MB'),getMarketCap(),(_0x598939==0x6||_0x598939==0x12)&&reloadExchange(),await sleep(schedulerInterval),startScheduler();}async function restartBot(_0x569ef1=![]){const _0x468e68=_0x7018d1;logger[_0x468e68(0x212)](_0x468e68(0x271));if(!_0x569ef1){while(lockOrders!=ORDERS[_0x468e68(0x1b0)]||coolingDown){await sleep(0x3c*0x3e8);}await stopExchange();}process[_0x468e68(0x306)]({'stop':_0x468e68(0x30c)},_0x3f8202=>{});}async function stopExchange(){const _0x3ef72e=_0x7018d1;if(!exchange)return;exchangeStopped=!![];try{await exchange[_0x3ef72e(0x24a)]();}catch(_0x3e8429){await handleError(_0x3e8429,_0x3ef72e(0x21c));}}async function reloadExchange(){const _0x126b4e=_0x7018d1;logger['debug']('Executing\x20exchange\x20reload');while(lockOrders!=ORDERS[_0x126b4e(0x1b0)]||coolingDown){await sleep(0x3c*0x3e8);}await stopExchange(),reset(!![]);}async function initExchange(_0x8ae5f2=config['exchange'],_0x69d2bd=config[_0x7018d1(0x28f)],_0x450f46=config['apiSecret'],_0x3aabac=config[_0x7018d1(0x25b)]){const _0x5c7b08=_0x7018d1;await stopExchange();!supportedExchanges()['includes'](_0x8ae5f2)&&(logHistory('error','Balance\x20Bot\x20does\x20not\x20support\x20the\x20'+_0x8ae5f2+_0x5c7b08(0x179)),killBot());const _0x345f28=ccxt['pro'][_0x8ae5f2['toLowerCase']()];exchange=new _0x345f28({'apiKey':_0x69d2bd,'secret':_0x450f46,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5c7b08(0x229)}});if(_0x3aabac)exchange[_0x5c7b08(0x225)]=_0x3aabac;}function setStableCoins(){const _0x495b4a=_0x7018d1;let _0x55dd3e=config[_0x495b4a(0x204)]==_0x495b4a(0x199)?_0x495b4a(0x199):config[_0x495b4a(0x204)]==_0x495b4a(0x303)?_0x495b4a(0x303):'BTC',_0x481045=!allSymbols[_0x495b4a(0x194)](_0x55dd3e+_0x495b4a(0x26e))?_0x495b4a(0x1fc):_0x495b4a(0x262),_0x5b228c=!allSymbols[_0x495b4a(0x194)](_0x55dd3e+_0x495b4a(0x248))?_0x481045:_0x495b4a(0x19f);stablecoins={'eur':{'coin':''+_0x55dd3e+_0x5b228c,'symbol':_0x55dd3e+'/'+_0x5b228c},'usd':{'coin':''+_0x55dd3e+_0x481045,'symbol':_0x55dd3e+'/'+_0x481045}};}async function initwsCcxt(){const _0x1cfd94=_0x7018d1;initCycle++;const _0x4be51e=initCycle;let _0x16c070=[];config[_0x1cfd94(0x1eb)][_0x1cfd94(0x27b)](_0xe86cca=>{const _0x4a0093=_0x1cfd94;if(!_0xe86cca['excluded']&&_0xe86cca[_0x4a0093(0x1ef)]!=config['basecoin'])_0x16c070[_0x4a0093(0x193)](_0xe86cca[_0x4a0093(0x2a5)]);});if(!_0x16c070[_0x1cfd94(0x194)](stablecoins['eur'][_0x1cfd94(0x2a5)]))_0x16c070[_0x1cfd94(0x193)](stablecoins[_0x1cfd94(0x282)][_0x1cfd94(0x2a5)]);if(!_0x16c070['includes'](stablecoins[_0x1cfd94(0x27d)][_0x1cfd94(0x2a5)]))_0x16c070[_0x1cfd94(0x193)](stablecoins[_0x1cfd94(0x27d)]['symbol']);if(config[_0x1cfd94(0x1ab)][_0x1cfd94(0x2f4)](_0x1cfd94(0x1f6))&&config[_0x1cfd94(0x204)]!=_0x1cfd94(0x303)){if(!_0x16c070[_0x1cfd94(0x194)](_0x1cfd94(0x261)+config[_0x1cfd94(0x204)]))_0x16c070[_0x1cfd94(0x193)]('BNB/'+config[_0x1cfd94(0x204)]);}loadCoins(_0x16c070),_0x16c070=validateSymbols(_0x16c070);const _0x15ec23=async _0x46e040=>{const _0x3c928c=_0x1cfd94;let _0x54e053;try{const _0x2b19b2=await getTickers(_0x46e040);Object[_0x3c928c(0x192)](_0x2b19b2)[_0x3c928c(0x27b)](_0x4e58b1=>{const _0x323108=_0x3c928c;_0x54e053=_0x4e58b1[0x1]['symbol'],gTicker[noslash(_0x54e053)]=_0x4e58b1[0x1][_0x323108(0x247)],gChange[_0x54e053]=_0x4e58b1[0x1][_0x323108(0x2ca)];});}catch(_0x3c32e4){await handleError(_0x3c32e4,_0x3c928c(0x278),_0x54e053);}},_0x856875=async _0x4d48d7=>{const _0x26b3ab=_0x1cfd94;while(initCycle==_0x4be51e){if(!botPaused)try{const _0x5941bf=await exchange[_0x26b3ab(0x197)](_0x4d48d7);gTicker[noslash(_0x5941bf[0x0][_0x26b3ab(0x2a5)])]=_0x5941bf[0x0][_0x26b3ab(0x2b9)];}catch(_0x31aeba){if(!exchangeStopped)await handleError(_0x31aeba,'watchTrades()',_0x4d48d7);}else await sleep(0x64);}},_0x4b723e=async _0x2e6a3d=>{const _0x6506e4=_0x1cfd94;while(initCycle==_0x4be51e){if(!botPaused)try{const _0x44e16a=await exchange['watchTradesForSymbols'](_0x2e6a3d),_0x166966=_0x44e16a[_0x6506e4(0x218)]();gTicker[noslash(_0x166966[_0x6506e4(0x2a5)])]=_0x166966['price'];}catch(_0x280965){if(!exchangeStopped)await handleError(_0x280965,_0x6506e4(0x2cb),_0x2e6a3d[_0x6506e4(0x17c)]());}else await sleep(0x64);}},_0x3db438=async _0x29082f=>{const _0x5f53f7=_0x1cfd94;while(initCycle==_0x4be51e){if(!botPaused){let _0x4cca95;try{await sleep(0x3c*0x3e8);const _0x245e0a=await getTickers(_0x29082f);Object['entries'](_0x245e0a)[_0x5f53f7(0x27b)](_0x567aa2=>{_0x4cca95=_0x567aa2[0x1]['symbol'],gChange[_0x4cca95]=_0x567aa2[0x1]['percentage'];});}catch(_0xbfd4e0){if(!exchangeStopped)await handleError(_0xbfd4e0,'fetchTickers()',_0x4cca95);}}else await sleep(0x64);}},_0x2cae97=async _0x11f61a=>{const _0x352234=_0x1cfd94;while(initCycle==_0x4be51e){if(!botPaused)try{const _0x2b35e1=await exchange[_0x352234(0x30d)](_0x11f61a);initCycle==_0x4be51e&&_0x2b35e1[_0x352234(0x27b)](_0x5efca1=>{updateNumberCoinsCcxt(_0x5efca1);});}catch(_0x55a947){if(!exchangeStopped)await handleError(_0x55a947,_0x352234(0x1b1));}else await sleep(0x64);}};_0x15ec23(_0x16c070),_0x3db438(_0x16c070),exchange[_0x1cfd94(0x2fd)][_0x1cfd94(0x209)]?_0x4b723e(_0x16c070):_0x16c070['forEach'](_0x38deae=>{_0x856875(_0x38deae);}),_0x16c070[_0x1cfd94(0x27b)](_0x4667d1=>{_0x2cae97(_0x4667d1);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x524270){const _0x4d6774=_0x7018d1;let _0x3e4308={};try{if(config['exchange']!=_0x4d6774(0x228))_0x3e4308=await exchange[_0x4d6774(0x16d)](_0x524270);else for(const _0xc8be8b of _0x524270){const _0x5801f5=await exchange[_0x4d6774(0x2ea)](_0xc8be8b);_0x3e4308[_0xc8be8b]=_0x5801f5;}return _0x3e4308;}catch(_0x45586a){throw _0x45586a;}}async function detectLiquidityChange(_0x5cc9d4=0x0){const _0x6f829=_0x7018d1;transactionDetectionOngoing=!![];try{const _0x40f04b=await getCoins(_0x5cc9d4),[_0x339ea9,_0x2a4a12]=_0x40f04b;let _0xfb6501=[];currentCoins['forEach'](_0x47c085=>{const _0x52ecd2=_0x4a61,_0x29b0a7=_0x339ea9[_0x52ecd2(0x307)](_0x1e60dc=>_0x1e60dc['coin']==_0x47c085['coin']);if(_0x29b0a7){if(_0x47c085[_0x52ecd2(0x26c)]!=_0x29b0a7[_0x52ecd2(0x26c)]){let _0x35ae3a;if(_0x47c085[_0x52ecd2(0x1ef)]!=config[_0x52ecd2(0x204)]){const _0x1306e3=gTicker[noslash(_0x47c085[_0x52ecd2(0x2a5)])];_0x35ae3a=_0x47c085[_0x52ecd2(0x2c9)]?0x1/_0x1306e3:_0x1306e3;}else _0x35ae3a=0x1;_0xfb6501[_0x52ecd2(0x193)]({'coin':_0x47c085[_0x52ecd2(0x1ef)],'symbol':_0x47c085['symbol'],'price':_0x35ae3a,'number':Number(formatResult(_0x29b0a7[_0x52ecd2(0x26c)]-_0x47c085['number'],0x8)),'basecoinvalue':_0x35ae3a*(_0x29b0a7[_0x52ecd2(0x26c)]-_0x47c085['number'])});}}});if(_0xfb6501[_0x6f829(0x281)]>0x0&&!blockTransactionDetection)for(const _0xc581f0 of _0xfb6501){if(config[_0x6f829(0x2cd)]){logger['debug'](_0x6f829(0x183)+_0xc581f0['basecoinvalue']+_0x6f829(0x1bd)+lastFees[_0x6f829(0x2a4)]);if(lastFees['highest']==0x0||Math['abs'](_0xc581f0[_0x6f829(0x20f)])>lastFees[_0x6f829(0x2a4)]*1.2){if(config[_0x6f829(0x2cd)]==_0x6f829(0x272)){delete _0xc581f0[_0x6f829(0x2a5)],delete _0xc581f0[_0x6f829(0x20f)];let _0x397c67=[],_0x15c801=[...config[_0x6f829(0x2d2)]]||[],_0x2c29e5=config['liquidity'];_0x15c801[_0x6f829(0x23c)]((_0x357a04,_0x3d9ccb)=>_0x357a04[_0x6f829(0x259)]>_0x3d9ccb[_0x6f829(0x259)]?-0x1:_0x3d9ccb[_0x6f829(0x259)]>_0x357a04[_0x6f829(0x259)]?0x1:0x0);const _0xc48401=getDate();if(_0x15c801[0x0]){const _0x25a169=fns[_0x6f829(0x1c2)](_0x15c801[0x0][_0x6f829(0x259)],_0x6f829(0x1e2),new Date()),_0x490301=fns[_0x6f829(0x1c2)](_0xc48401,'yyyy/MM/dd',new Date());if(fns['isEqual'](_0x25a169,_0x490301)){_0x397c67=_0x15c801[0x0][_0x6f829(0x29e)];const _0x572ae6=_0x397c67[_0x6f829(0x307)](_0x27ee6a=>_0x27ee6a['coin']==_0xc581f0[_0x6f829(0x1ef)]);_0x572ae6?(_0x572ae6[_0x6f829(0x26c)]+=_0xc581f0['number'],_0x572ae6['number']==0x0&&(_0x397c67=_0x397c67[_0x6f829(0x2ef)](_0xb4f2d8=>{const _0x42f8f6=_0x6f829;return _0xb4f2d8[_0x42f8f6(0x1ef)]!=_0xc581f0[_0x42f8f6(0x1ef)];}))):_0x397c67[_0x6f829(0x193)](_0xc581f0);const _0x5d2a0d=_0x2c29e5[_0x6f829(0x307)](_0x22f120=>_0x22f120['date']==_0xc48401);_0x5d2a0d[_0x6f829(0x29e)]=_0x397c67;}else _0x2c29e5[_0x6f829(0x193)]({'date':_0xc48401,'changes':[_0xc581f0]});}const _0x56ea81=_0x2c29e5['find'](_0x577545=>_0x577545[_0x6f829(0x259)]==_0xc48401);if(_0x56ea81){let _0x2e7c8b=!![];_0x56ea81[_0x6f829(0x29e)][_0x6f829(0x27b)](_0x1dffd8=>{const _0x357a08=_0x6f829;if(_0x1dffd8[_0x357a08(0x26c)]!=0x0)_0x2e7c8b=![];}),_0x2e7c8b&&(_0x2c29e5=_0x2c29e5['filter'](_0x20a3f2=>{const _0x5b10e9=_0x6f829;return _0x20a3f2[_0x5b10e9(0x259)]!=_0xc48401;}));}let _0x38b34f=dbConfig[_0x6f829(0x2f5)](_0x6f829(0x213))['find']({'botID':botID})['value']();_0x38b34f&&(dbConfig[_0x6f829(0x2f5)](_0x6f829(0x213))[_0x6f829(0x307)]({'botID':botID})[_0x6f829(0x2d3)]({'liquidity':_0x2c29e5})[_0x6f829(0x1b4)](),config[_0x6f829(0x2d2)]=_0x2c29e5);logHistory('success',_0x6f829(0x1e9)+Math[_0x6f829(0x2a0)](_0xc581f0[_0x6f829(0x26c)])+'\x20'+_0xc581f0[_0x6f829(0x1ef)]+'\x20'+(_0xc581f0['number']>0x0?_0x6f829(0x2fe):'removed')+'\x20-\x20liquidity\x20settings\x20updated\x20accordingly'),proxyEmit(_0x6f829(0x274),emittedConfiguration());const _0x27f98b=getNormalizedPerformance();emitPerformance(_0x27f98b),getStartingBalances(_0x27f98b),logger[_0x6f829(0x212)]('Portfolio\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated');}else config[_0x6f829(0x2cd)]==_0x6f829(0x217)&&(config['headless']?(await storeHeadless({'headless':![]}),logHistory('success',_0x6f829(0x215)),logger['debug'](_0x6f829(0x1e9)+Math[_0x6f829(0x2a0)](_0xc581f0[_0x6f829(0x26c)])+'\x20'+_0xc581f0['coin']+'\x20'+(_0xc581f0[_0x6f829(0x26c)]>0x0?_0x6f829(0x2fe):_0x6f829(0x22c))+_0x6f829(0x15d))):logger['debug'](_0x6f829(0x1e9)+Math[_0x6f829(0x2a0)](_0xc581f0[_0x6f829(0x26c)])+'\x20'+_0xc581f0['coin']+'\x20'+(_0xc581f0[_0x6f829(0x26c)]>0x0?'added':_0x6f829(0x22c))+_0x6f829(0x2c1)));}else logger[_0x6f829(0x212)](_0x6f829(0x258)+Math[_0x6f829(0x2a0)](_0xc581f0['number'])+'\x20'+_0xc581f0['coin']+'\x20'+(_0xc581f0[_0x6f829(0x26c)]>0x0?'added':_0x6f829(0x22c)));}else logger['debug'](_0x6f829(0x1e9)+Math[_0x6f829(0x2a0)](_0xc581f0['number'])+'\x20'+_0xc581f0['coin']+'\x20'+(_0xc581f0[_0x6f829(0x26c)]>0x0?'added':'removed')+_0x6f829(0x30e));}currentCoins=_0x339ea9,currentCoinsAll=_0x2a4a12;}catch(_0x3877d8){if(!exchangeStopped)await handleError(_0x3877d8,_0x6f829(0x1a2));}transactionDetectionOngoing=![];}async function watchTransactions(){await sleep(0x14*0x3e8);while(!![]){!botPaused&&!blockTransactionDetection&&coinsLoaded?(detectLiquidityChange(),await sleep(watchTransactionsInterval)):await sleep(0x3e8);}}async function loadSymbols(){const _0x1d3fcf=_0x7018d1;try{markets=await exchange[_0x1d3fcf(0x2c2)](),allSymbols=[],Object[_0x1d3fcf(0x192)](markets)[_0x1d3fcf(0x27b)](_0x48878f=>{const _0x214c9c=_0x1d3fcf;_0x48878f[0x1][_0x214c9c(0x168)]&&_0x48878f[0x1][_0x214c9c(0x229)]&&allSymbols[_0x214c9c(0x193)](_0x48878f[0x0]);});}catch(_0x37acfc){throw _0x37acfc;}}function validateSymbols(_0x5bf5bc){let _0x5de3d5=[];return _0x5bf5bc['forEach'](_0x373821=>{const _0x4a4abf=_0x4a61;!allSymbols['includes'](_0x373821)?logHistory(_0x4a4abf(0x2e4),'Invalid\x20symbol:\x20'+_0x373821+_0x4a4abf(0x1ff)):_0x5de3d5[_0x4a4abf(0x193)](_0x373821);}),_0x5de3d5;}async function initclient(){const _0x294852=_0x7018d1;proxyEmit(_0x294852(0x274),emittedConfiguration()),proxyEmit(_0x294852(0x30a),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x5e126c=getNormalizedPerformance();emitPerformance(_0x5e126c),getStartingBalances(_0x5e126c);}async function toggleBotMode(){const _0x5b54b9=_0x7018d1;let _0x5c1e0c=dbConfig['get'](_0x5b54b9(0x213))['find']({'botID':botID})[_0x5b54b9(0x2ab)]();if(_0x5c1e0c){const _0x9ce379=!_0x5c1e0c[_0x5b54b9(0x1ba)];dbConfig[_0x5b54b9(0x2f5)]('bot')[_0x5b54b9(0x307)]({'botID':botID})[_0x5b54b9(0x2d3)]({'headless':_0x9ce379})[_0x5b54b9(0x1b4)](),config['headless']=_0x9ce379,proxyEmit('configuration',emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x2aad68=_0x7018d1;process['send']({'updatebotmanager':!![]},_0x41e35e=>{}),logger['debug'](_0x2aad68(0x184)+config[_0x2aad68(0x1ba)]);}async function loadCoins(_0x402a47){const _0x1e07fa=_0x7018d1;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x1c9f1a,_0xac5b88=0x0,_0x379511=0x0;_0x402a47[_0x1e07fa(0x27b)](_0x5017d3=>{const _0x24f49e=_0x1e07fa;loading[_0x24f49e(0x208)][_0x24f49e(0x193)](_0x5017d3);}),loadingCanceled=![];let _0x5e5cb6=![];while(_0x1c9f1a!=_0x402a47['length']+maxLoadingProgress){_0x1c9f1a=loadingProgress,_0x402a47[_0x1e07fa(0x27b)](_0x11d3d0=>{const _0x517982=_0x1e07fa;if(gTicker[noslash(_0x11d3d0)]){loading[_0x517982(0x208)]=loading[_0x517982(0x208)][_0x517982(0x2ef)](_0x18ff75=>_0x18ff75!=_0x11d3d0);if(!watchedSymbols[_0x517982(0x194)](_0x11d3d0))watchedSymbols['push'](_0x11d3d0);_0x1c9f1a++;}}),loading[_0x1e07fa(0x2ad)]=Math['round'](_0x1c9f1a/(_0x402a47['length']+maxLoadingProgress)*0x64);loading[_0x1e07fa(0x2ad)]!=0x64&&(_0x379511>0x1e*0x5&&(loading[_0x1e07fa(0x1c3)]=!![],emitLoadingProgress()),_0x379511>0x78*0x5&&!_0x5e5cb6&&(_0x5e5cb6=!![],logHistory(_0x1e07fa(0x2e4),_0x1e07fa(0x15b)+loading[_0x1e07fa(0x208)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory('error',_0x1e07fa(0x173)+loadCoinsRetryInterval/0xea60+_0x1e07fa(0x309)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{restartBot();},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x1e07fa(0x2ec)]=!![],emitLoadingProgress();break;}else _0xac5b88!=loading[_0x1e07fa(0x2ad)]&&(_0xac5b88=loading[_0x1e07fa(0x2ad)],emitLoadingProgress()),_0x379511++,await sleep(0xc8);}_0x1c9f1a==_0x402a47[_0x1e07fa(0x281)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':_0x1e07fa(0x1fb),'live':_0x1e07fa(0x29c)},_0x4dc2c1=>{}),_0x5e5cb6&&logHistory(_0x1e07fa(0x176),'All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function _0x4a61(_0x5a2a3b,_0x37a046){const _0xf84749=_0x1398();return _0x4a61=function(_0xff11fc,_0xeb1b49){_0xff11fc=_0xff11fc-0x15b;let _0x1398df=_0xf84749[_0xff11fc];return _0x1398df;},_0x4a61(_0x5a2a3b,_0x37a046);}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x4d84fc=_0x7018d1;proxyEmit(_0x4d84fc(0x274),{...emittedConfiguration(),'configstate':_0x4d84fc(0x25d)});}function emitLoadingProgress(){const _0x27fb88=_0x7018d1;proxyEmit(_0x27fb88(0x273),loading);}async function getFiat(){const _0x492ba4=_0x7018d1;let _0x1cb293=gTicker[stablecoins[_0x492ba4(0x282)][_0x492ba4(0x1ef)]],_0x107030=gTicker[stablecoins[_0x492ba4(0x27d)][_0x492ba4(0x1ef)]];return{'eur':Number(_0x1cb293),'usd':Number(_0x107030)};}function capitalize(_0x7ebe6){const _0x58226e=_0x7018d1;return _0x7ebe6['substring'](0x0,0x1)[_0x58226e(0x2ff)]()+_0x7ebe6[_0x58226e(0x2c3)](0x1);}function supportedExchanges(){const _0x1c8202=_0x7018d1,_0x2d04c0=['ws','fetchTickers',_0x1c8202(0x2ea),_0x1c8202(0x197),'watchOrders',_0x1c8202(0x279),'createOrder',_0x1c8202(0x268),_0x1c8202(0x2b8),_0x1c8202(0x2ba)];let _0xd25b03=[],_0x380594=[],_0x252404=ccxt[_0x1c8202(0x2a9)][_0x1c8202(0x30a)];_0x252404[_0x1c8202(0x27b)](_0xcda024=>{const _0x137080=_0x1c8202;try{const _0x320aea=new ccxt[(_0x137080(0x2a9))][_0xcda024]();_0x380594['push'](_0x320aea);}catch(_0x3d3999){}}),_0x380594[_0x1c8202(0x27b)](_0x528273=>{const _0x588f3e=_0x1c8202;let _0x4de094=0x0;_0x2d04c0['forEach'](_0x4d30bc=>{const _0x59c863=_0x4a61;_0x4d30bc in _0x528273['has']&&_0x528273[_0x59c863(0x2fd)][_0x4d30bc]&&_0x4de094++;}),_0x4de094==_0x2d04c0[_0x588f3e(0x281)]&&_0xd25b03[_0x588f3e(0x193)](capitalize(_0x528273['id']));});let _0x509397=[];return _0x252404[_0x1c8202(0x27b)](_0x2e1394=>{const _0x2d7570=_0x1c8202;_0x2e1394=capitalize(_0x2e1394);if(!_0xd25b03[_0x2d7570(0x194)](_0x2e1394))_0x509397[_0x2d7570(0x193)](_0x2e1394);}),_0xd25b03;}function setStartDatePerformance(){const _0x4eae41=_0x7018d1;if(config&&config[_0x4eae41(0x2d2)][0x0][_0x4eae41(0x29e)][_0x4eae41(0x281)]!=0x0){const _0x1a07d2=config[_0x4eae41(0x2d2)][0x0][_0x4eae41(0x29e)];dbPerformance['get']('data')[_0x4eae41(0x307)]({'date':config['startdate']})[_0x4eae41(0x2d3)]({'coins':_0x1a07d2})[_0x4eae41(0x1b4)]();}}async function recreateCoinResults(){const _0x4f30f9=_0x7018d1;let _0x2c5cf5,_0x2d46f4=[];try{const _0x16d7da=fns[_0x4f30f9(0x305)](fns['parseISO'](config[_0x4f30f9(0x270)][_0x4f30f9(0x308)](/\//g,'-')),_0x4f30f9(0x195));for(const _0x64de5f of currentCoins){if(_0x64de5f['coin']!=config[_0x4f30f9(0x204)]){let _0x3d8a34=0x0,_0x7cec45,_0xa56563;_0x2c5cf5=await getAllEventOrders(_0x64de5f[_0x4f30f9(0x2a5)]);if(_0x2c5cf5[_0x4f30f9(0x281)]>0x0)_0x2c5cf5[_0x4f30f9(0x27b)](_0x4b7371=>{const _0x10bbf7=_0x4f30f9,_0x566146=_0x64de5f['symbol'][_0x10bbf7(0x194)](config[_0x10bbf7(0x204)]+'/');_0x2d46f4[_0x10bbf7(0x193)]({'datetime':_0x4b7371['datetime'],'coin':_0x64de5f[_0x10bbf7(0x1ef)],'symbol':_0x64de5f[_0x10bbf7(0x2a5)],'side':_0x4b7371[_0x10bbf7(0x1ce)],'reverse':_0x566146,'amount':formatResult(_0x4b7371[_0x10bbf7(0x2dc)],0x8),'filled':formatResult(_0x4b7371[_0x10bbf7(0x2dc)],0x8),'price':formatResult(_0x4b7371['price'],0x8)}),_0x3d8a34=_0x4b7371[_0x10bbf7(0x1ce)]==_0x10bbf7(0x22a)?_0x3d8a34+_0x4b7371[_0x10bbf7(0x2dc)]:_0x3d8a34-_0x4b7371[_0x10bbf7(0x2dc)];if(!_0xa56563)_0xa56563=_0x4b7371['price'];});_0x7cec45=_0x64de5f[_0x4f30f9(0x26c)]-_0x3d8a34;let _0xcfc5c9;config[_0x4f30f9(0x2d2)][_0x4f30f9(0x27b)](_0x80a9f6=>{const _0x7fee71=_0x4f30f9;!_0xcfc5c9&&(_0xcfc5c9=_0x80a9f6[_0x7fee71(0x29e)][_0x7fee71(0x307)](_0x46a60f=>_0x46a60f[_0x7fee71(0x1ef)]==_0x64de5f[_0x7fee71(0x1ef)]),_0xcfc5c9&&(_0x7cec45=_0xcfc5c9[_0x7fee71(0x26c)],_0xa56563=_0xcfc5c9['price']));});let _0xecc628=dbCoinResults['get'](_0x4f30f9(0x169))[_0x4f30f9(0x307)]({'coin':_0x64de5f[_0x4f30f9(0x1ef)]})['value']();_0xecc628={'coin':_0x64de5f[_0x4f30f9(0x1ef)],'number':_0x7cec45,'breakeven':_0xa56563,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x4f30f9(0x2f5)](_0x4f30f9(0x169))[_0x4f30f9(0x307)]({'coin':_0x64de5f[_0x4f30f9(0x1ef)]})[_0x4f30f9(0x2d3)](_0xecc628)[_0x4f30f9(0x1b4)]();}}_0x2d46f4[_0x4f30f9(0x23c)]((_0x28d360,_0x4b9691)=>_0x28d360[_0x4f30f9(0x27e)]>_0x4b9691['datetime']?0x1:_0x4b9691['datetime']>_0x28d360[_0x4f30f9(0x27e)]?-0x1:0x0);let _0xd0b9b4=0x0;for(let _0x5db25d of _0x2d46f4){await updateCoinResults(_0x5db25d,!![]);}}catch(_0x62223e){await handleError(_0x62223e,'recreateCoinResults()');}}async function getAllEventOrders(_0x249ef6){const _0x352f07=_0x7018d1;let _0x3d5d3e=[],_0x35a5a1=dbLogs[_0x352f07(0x2f5)]('logs')[_0x352f07(0x2ef)](_0xc03d99=>{const _0x1a6696=_0x352f07,_0x22e1a2=_0xc03d99[_0x1a6696(0x2d4)][_0x1a6696(0x210)]();return _0x22e1a2[_0x1a6696(0x194)](_0x249ef6['toLowerCase']())&&(_0x22e1a2[_0x1a6696(0x194)]('market')&&_0x22e1a2[_0x1a6696(0x194)](_0x1a6696(0x201))||_0x22e1a2[_0x1a6696(0x194)]('filled')&&_0x22e1a2[_0x1a6696(0x194)](_0x1a6696(0x201)));})['sortBy'](_0x352f07(0x230))[_0x352f07(0x2ab)]();return _0x35a5a1[_0x352f07(0x27b)](_0x45a6b2=>{const _0x597dfa=_0x352f07,_0x1c4828=_0x45a6b2[_0x597dfa(0x2d4)][_0x597dfa(0x194)]('sell')?'sell':_0x597dfa(0x22a),_0x234373=/#([0-9]|\.)+\s/i,_0x12f3c3=Number(_0x234373[_0x597dfa(0x2f8)](_0x45a6b2['event'])[0x0]['slice'](0x1)),_0x3e630f=/@([0-9]|\.)+$/i,_0x522123=Number(_0x3e630f['exec'](_0x45a6b2[_0x597dfa(0x2d4)])[0x0][_0x597dfa(0x2ce)](0x1));_0x3d5d3e['push']({'datetime':_0x45a6b2[_0x597dfa(0x230)],'coin':symbolToCoin(_0x249ef6),'symbol':_0x249ef6,'side':_0x1c4828,'amount':_0x12f3c3,'filled':_0x12f3c3,'price':_0x522123});}),_0x3d5d3e;}async function getAllOrders(_0x24da3a,_0xa534b7){const _0x1ac32d=_0x7018d1;let _0x568558=[];while(_0xa534b7<exchange[_0x1ac32d(0x16e)]()){const _0x3fff6e=0x1f4;try{const _0x5e12fe=await exchange['fetchClosedOrders'](_0x24da3a,_0xa534b7,_0x3fff6e);if(_0x5e12fe[_0x1ac32d(0x281)])_0xa534b7=_0x5e12fe[_0x5e12fe['length']-0x1]['timestamp']+0x1,_0x568558=_0x568558['concat'](_0x5e12fe);else break;}catch(_0x457011){await handleError(_0x457011,'getAllOrders()',_0x24da3a);}}return _0x568558;}async function validate24hChanges(){const _0x22756a=_0x7018d1;for(const _0x4ca285 of currentCoins){if(_0x4ca285['coin']!=config[_0x22756a(0x204)]){let _0x25126f;_0x4ca285['reverse']?_0x25126f=formatResult((0x1/(gChange[_0x4ca285[_0x22756a(0x2a5)]]/0x64+0x1)-0x1)*0x64,0x3):_0x25126f=gChange[_0x4ca285[_0x22756a(0x2a5)]],_0x25126f<config[_0x22756a(0x17d)]&&(logHistory(_0x22756a(0x2e4),_0x4ca285[_0x22756a(0x1ef)]+_0x22756a(0x1c7)+_0x25126f+'%'),logHistory(_0x22756a(0x2e4),_0x22756a(0x25e)),logHistory('error',_0x22756a(0x249)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x1f8330,_0x108780){const _0x203e93=_0x7018d1;if(!_0x1f8330)return!![];const _0x5e28be=_0x108780[_0x203e93(0x2b0)]('.'),_0x5e7d20=_0x1f8330[_0x203e93(0x2b0)]('.');for(var _0x44d22a=0x0;_0x44d22a<_0x5e7d20[_0x203e93(0x281)];_0x44d22a++){const _0x55eddf=~~_0x5e7d20[_0x44d22a],_0x5a4e33=~~_0x5e28be[_0x44d22a];if(_0x55eddf<_0x5a4e33)return!![];if(_0x55eddf>_0x5a4e33)return![];}return![];}async function oneTimeMigration(){const _0x51bfe7=_0x7018d1;let _0x3a8623=dbLogs[_0x51bfe7(0x2f5)]('version')[_0x51bfe7(0x2ab)]();if(isOlderVersion(_0x3a8623,_0x51bfe7(0x233))){let _0x1116cf=[];const _0x2b0d33=dbLogs['get']('logs')['value']();_0x2b0d33[_0x51bfe7(0x27b)](_0x2bbf54=>{const _0x14997b=_0x51bfe7;_0x1116cf[_0x14997b(0x193)]({'time':_0x2bbf54[_0x14997b(0x230)],'type':_0x2bbf54[_0x14997b(0x2c6)],'event':_0x2bbf54['event']});}),dbLogs[_0x51bfe7(0x2f5)]('logs')[_0x51bfe7(0x2d3)](_0x1116cf)[_0x51bfe7(0x1b4)]();}let _0x2fe049=dbConfig['get']('version')['value']();if(isOlderVersion(_0x2fe049,'2.3.5')){let _0x6f7336=dbConfig[_0x51bfe7(0x2f5)](_0x51bfe7(0x213))['find']({'botID':botID})[_0x51bfe7(0x2ab)]();if(_0x6f7336){let _0xe683f7=[];_0x6f7336[_0x51bfe7(0x1eb)][_0x51bfe7(0x27b)](_0x135879=>{const _0xe8b144=_0x51bfe7;_0xe683f7['push']({'coin':_0x135879['coin'],'number':_0x135879[_0xe8b144(0x1e7)],'price':_0x135879[_0xe8b144(0x257)]}),delete _0x135879['startnumber'],delete _0x135879[_0xe8b144(0x257)];});if(_0xe683f7[_0x51bfe7(0x281)]!==0x0)fs[_0x51bfe7(0x24c)](configbackuppath+(_0x51bfe7(0x21f)+botID+_0x51bfe7(0x26b)),JSON[_0x51bfe7(0x2de)](_0xe683f7,null,0x4),function(_0x9d009b){if(_0x9d009b){}});const _0x3a05d5=(_0x1c1a3a,_0x3c2f83)=>{const _0x596b49=_0x51bfe7;let _0x398077=[];_0x3c2f83[_0x596b49(0x27b)](_0x5dc42b=>{const _0x5e5e22=_0x596b49,_0x104ff5=_0x1c1a3a[_0x5e5e22(0x307)](_0x120df3=>_0x120df3[_0x5e5e22(0x1ef)]==_0x5dc42b['coin']);if(!_0x104ff5)_0x398077[_0x5e5e22(0x193)](_0x5dc42b);});let _0x1ca595=[];return _0x1c1a3a[_0x596b49(0x27b)](_0x7e544d=>{const _0x25c554=_0x596b49,_0xb8d2c2=_0x3c2f83['find'](_0x26c2ea=>_0x26c2ea[_0x25c554(0x1ef)]==_0x7e544d[_0x25c554(0x1ef)]);if(!_0xb8d2c2||_0xb8d2c2[_0x25c554(0x26c)]==0x0&&_0x7e544d[_0x25c554(0x26c)]!=0x0)_0x1ca595[_0x25c554(0x193)](_0x7e544d);}),{'missingDay1':_0x398077,'notInDay2':_0x1ca595};},_0x4a27d5=dbPerformance['get'](_0x51bfe7(0x2e3))[_0x51bfe7(0x23f)]()[_0x51bfe7(0x2ab)]();if(_0x4a27d5[_0x51bfe7(0x281)]>0x1){const {missingDay1:_0x14390f,notInDay2:_0x55d717}=_0x3a05d5(_0xe683f7,_0x4a27d5[0x1][_0x51bfe7(0x169)]);_0xe683f7=[..._0xe683f7,..._0x14390f],_0x55d717['forEach'](_0x2489c4=>{const _0x3c0207=_0x51bfe7;let _0x38924d=_0xe683f7['findIndex'](_0x2a0711=>_0x2a0711[_0x3c0207(0x1ef)]==_0x2489c4[_0x3c0207(0x1ef)]);_0x38924d!=-0x1&&_0xe683f7[_0x3c0207(0x1a9)](_0x38924d,0x1);});}_0xe683f7[_0x51bfe7(0x23c)]((_0xc2f83e,_0x1748ff)=>_0xc2f83e[_0x51bfe7(0x1ef)]>_0x1748ff[_0x51bfe7(0x1ef)]?0x1:_0x1748ff[_0x51bfe7(0x1ef)]>_0xc2f83e['coin']?-0x1:0x0);let _0x27f396=[{'date':_0x6f7336['startdate'],'changes':_0xe683f7}];_0x4a27d5[_0x51bfe7(0x281)]>0x2&&_0x4a27d5['forEach']((_0x2f8203,_0x2ed02b)=>{const _0x2811ba=_0x51bfe7;if(_0x2ed02b>0x0&&_0x2ed02b<_0x4a27d5[_0x2811ba(0x281)]-0x1){const {missingDay1:_0x3d30f3,notInDay2:_0x34c5d3}=_0x3a05d5(_0x4a27d5[_0x2ed02b][_0x2811ba(0x169)],_0x4a27d5[_0x2ed02b+0x1][_0x2811ba(0x169)]);_0xe683f7=[],(_0x3d30f3[_0x2811ba(0x281)]!=0x0||_0x34c5d3[_0x2811ba(0x281)]!=0x0)&&(_0x3d30f3['length']!=0x0&&_0xe683f7[_0x2811ba(0x193)](..._0x3d30f3),_0x34c5d3['length']!=0x0&&(_0x34c5d3[_0x2811ba(0x27b)](_0x241527=>{const _0x4004b1=_0x2811ba;_0x241527[_0x4004b1(0x26c)]=-_0x241527[_0x4004b1(0x26c)];}),_0xe683f7[_0x2811ba(0x193)](..._0x34c5d3)),_0xe683f7[_0x2811ba(0x23c)]((_0x55075c,_0x4b8fd1)=>_0x55075c[_0x2811ba(0x1ef)]>_0x4b8fd1['coin']?0x1:_0x4b8fd1[_0x2811ba(0x1ef)]>_0x55075c['coin']?-0x1:0x0),_0x27f396['push']({'date':_0x4a27d5[_0x2ed02b+0x1][_0x2811ba(0x259)],'changes':_0xe683f7}));}}),dbConfig[_0x51bfe7(0x2f5)](_0x51bfe7(0x213))['find']({'botID':botID})[_0x51bfe7(0x2d3)]({..._0x6f7336,'liquidity':_0x27f396})['write']();}}if(isOlderVersion(_0x2fe049,_0x51bfe7(0x27c))){let _0x32be6a=dbConfig[_0x51bfe7(0x2f5)](_0x51bfe7(0x213))['find']({'botID':botID})[_0x51bfe7(0x2ab)]();if(_0x32be6a){const _0x4acd52=_0x32be6a[_0x51bfe7(0x1ab)],_0x49431f=_0x4acd52?capitalize(_0x4acd52):_0x51bfe7(0x1f6);dbConfig['get']('bot')['find']({'botID':botID})['assign']({'exchange':_0x49431f})[_0x51bfe7(0x1b4)]();}}if(isOlderVersion(_0x2fe049,_0x51bfe7(0x244))){let _0x4ac1eb=dbConfig[_0x51bfe7(0x2f5)]('bot')[_0x51bfe7(0x307)]({'botID':botID})[_0x51bfe7(0x2ab)]();if(_0x4ac1eb){const _0x4b071e=_0x4ac1eb['marketcapEnabled'],_0x4d2896=_0x4b071e?_0x51bfe7(0x1a1):![];dbConfig['get'](_0x51bfe7(0x213))['find']({'botID':botID})[_0x51bfe7(0x2d3)]({'marketcapEnabled':_0x4d2896})[_0x51bfe7(0x1b4)]();}}if(isOlderVersion(_0x2fe049,_0x51bfe7(0x231))){let _0x2dd9bf=dbConfig['get'](_0x51bfe7(0x213))[_0x51bfe7(0x307)]({'botID':botID})[_0x51bfe7(0x2ab)]();if(_0x2dd9bf){const _0x224845=_0x2dd9bf['autoliquidity'],_0x555bff=_0x224845?_0x51bfe7(0x272):![];dbConfig[_0x51bfe7(0x2f5)](_0x51bfe7(0x213))['find']({'botID':botID})[_0x51bfe7(0x2d3)]({'autoliquidity':_0x555bff})[_0x51bfe7(0x1b4)]();}}let _0x6b99bd=dbPerformance['get'](_0x51bfe7(0x2a1))[_0x51bfe7(0x2ab)]();isOlderVersion(_0x6b99bd,_0x51bfe7(0x233))&&setStartDatePerformance();let _0xd4fd41=dbCoinResults['get'](_0x51bfe7(0x2a1))[_0x51bfe7(0x2ab)]();if(isOlderVersion(_0xd4fd41,_0x51bfe7(0x2b3))){let _0x22f2f3=dbCoinResults['get']('coins')[_0x51bfe7(0x2ab)]();if(_0x22f2f3[_0x51bfe7(0x281)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x15b5a1=_0x7018d1;dbConfig[_0x15b5a1(0x1da)](_0x15b5a1(0x2a1),serverversion)[_0x15b5a1(0x1b4)](),dbPerformance[_0x15b5a1(0x1da)](_0x15b5a1(0x2a1),serverversion)[_0x15b5a1(0x1b4)](),dbLogs[_0x15b5a1(0x1da)](_0x15b5a1(0x2a1),serverversion)[_0x15b5a1(0x1b4)](),dbCoinResults['set'](_0x15b5a1(0x2a1),serverversion)[_0x15b5a1(0x1b4)]();}function getConfiguration(_0x4eea62){const _0x52d26d=_0x7018d1;let _0x3148b9=dbConfig[_0x52d26d(0x2f5)](_0x52d26d(0x213))[_0x52d26d(0x307)]({'botID':_0x4eea62})[_0x52d26d(0x2ab)]();if(_0x3148b9){let _0xe12c68=![];typeof _0x3148b9['threshold']==_0x52d26d(0x1af)&&(_0x3148b9={..._0x3148b9,'threshold':Number(_0x3148b9[_0x52d26d(0x1b7)])},_0xe12c68=!![]),_0x3148b9[_0x52d26d(0x17d)]==undefined&&(_0x3148b9={..._0x3148b9,'change24h':-0x14},_0xe12c68=!![]),_0x3148b9['fiat']==undefined&&(_0x3148b9={..._0x3148b9,'fiat':_0x52d26d(0x262)},_0xe12c68=!![]),_0x3148b9['onepagemode']==undefined&&(_0x3148b9={..._0x3148b9,'onepagemode':settings[_0x52d26d(0x211)]},_0xe12c68=!![]),_0x3148b9[_0x52d26d(0x1e6)]==undefined&&(_0x3148b9={..._0x3148b9,'colorscheme':'red_yellow_blue'},_0xe12c68=!![]),_0x3148b9['autoliquidity']==undefined&&(_0x3148b9={..._0x3148b9,'autoliquidity':_0x52d26d(0x272)},_0xe12c68=!![]),_0x3148b9[_0x52d26d(0x235)]==undefined&&(_0x3148b9={..._0x3148b9,'marketcapApi':settings[_0x52d26d(0x235)]?!![]:![]},_0xe12c68=!![]),_0x3148b9['marketcapEnabled']==undefined&&(_0x3148b9={..._0x3148b9,'marketcapEnabled':![]},_0xe12c68=!![]),_0xe12c68&&(_0x3148b9={'botID':_0x3148b9[_0x52d26d(0x238)],'exchange':_0x3148b9[_0x52d26d(0x1ab)],'apiKey':_0x3148b9['apiKey'],'apiSecret':_0x3148b9[_0x52d26d(0x264)],'apiPassword':_0x3148b9['apiPassword'],'basecoin':_0x3148b9[_0x52d26d(0x204)],'botname':_0x3148b9['botname'],'showname':_0x3148b9[_0x52d26d(0x23e)],'threshold':_0x3148b9['threshold'],'ordertype':_0x3148b9[_0x52d26d(0x1f4)],'timeout':_0x3148b9['timeout'],'fiat':_0x3148b9[_0x52d26d(0x295)],'startdate':_0x3148b9[_0x52d26d(0x270)],'recreate':_0x3148b9[_0x52d26d(0x18f)],'timeshift':_0x3148b9[_0x52d26d(0x1dc)],'onepagemode':_0x3148b9[_0x52d26d(0x211)],'headless':_0x3148b9['headless'],'cooldown':_0x3148b9['cooldown'],'change24h':_0x3148b9['change24h'],'emojibuy':_0x3148b9[_0x52d26d(0x17a)],'emojisell':_0x3148b9['emojisell'],'colorscheme':_0x3148b9[_0x52d26d(0x1e6)],'marketcapApi':_0x3148b9['marketcapApi'],'marketcapEnabled':_0x3148b9[_0x52d26d(0x2a3)],'portfolio':_0x3148b9[_0x52d26d(0x1eb)],'autoliquidity':_0x3148b9[_0x52d26d(0x2cd)],'liquidity':_0x3148b9[_0x52d26d(0x2d2)],'openOrders':_0x3148b9['openOrders']},dbConfig[_0x52d26d(0x2f5)]('bot')[_0x52d26d(0x252)]()[_0x52d26d(0x1b4)](),dbConfig['get'](_0x52d26d(0x213))[_0x52d26d(0x193)](_0x3148b9)[_0x52d26d(0x1b4)]());}else _0x3148b9={'botID':_0x4eea62,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x52d26d(0x2b6)+_0x4eea62,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':_0x52d26d(0x262),'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'onepagemode':settings['onepagemode'],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x52d26d(0x2c8),'marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':'update-liquidity','liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x3148b9;}function emittedConfiguration(){const _0x15dda3=_0x7018d1;let _0x529151;if(config['apiKey']=='')_0x529151={...config,'configstate':'initial'};else config[_0x15dda3(0x28f)]==_0x15dda3(0x267)?_0x529151={...config,'configstate':_0x15dda3(0x2bc)}:(_0x529151={...config,'apiKey':_0x15dda3(0x1c4),'apiSecret':_0x15dda3(0x1c4)},config[_0x15dda3(0x25b)]&&(_0x529151[_0x15dda3(0x25b)]=_0x15dda3(0x1c4)));return _0x529151;}function getSettings(){const _0x5e7856=_0x7018d1;return dbSettings[_0x5e7856(0x2f5)](_0x5e7856(0x207))[_0x5e7856(0x2ab)]();}function getSecure(){const _0x31b663=_0x7018d1;return dbSecure[_0x31b663(0x2f5)](_0x31b663(0x16b))[_0x31b663(0x2ab)]()||{};}function updateTimeshift(_0x4a23a5){const _0x10c2fe=_0x7018d1;let _0x5e1a6e=dbConfig['get'](_0x10c2fe(0x213))[_0x10c2fe(0x307)]({'botID':botID})[_0x10c2fe(0x2ab)]();_0x5e1a6e&&dbConfig[_0x10c2fe(0x2f5)](_0x10c2fe(0x213))[_0x10c2fe(0x307)]({'botID':botID})[_0x10c2fe(0x2d3)]({'timeshift':_0x4a23a5})['write'](),config['timeshift']=_0x4a23a5,proxyEmit(_0x10c2fe(0x274),emittedConfiguration());}function updateOnepagemode(_0x2426e1){const _0x4b1685=_0x7018d1;let _0x3259b=dbConfig[_0x4b1685(0x2f5)](_0x4b1685(0x213))[_0x4b1685(0x307)]({'botID':botID})[_0x4b1685(0x2ab)]();_0x3259b&&dbConfig[_0x4b1685(0x2f5)](_0x4b1685(0x213))[_0x4b1685(0x307)]({'botID':botID})[_0x4b1685(0x2d3)]({'onepagemode':_0x2426e1})[_0x4b1685(0x1b4)](),config[_0x4b1685(0x211)]=_0x2426e1,proxyEmit('configuration',emittedConfiguration());}function updateMarketcapApi(_0x20dc61){const _0x4efea8=_0x7018d1,_0xd068c5=_0x20dc61?!![]:![];let _0x3898ca=dbConfig[_0x4efea8(0x2f5)]('bot')[_0x4efea8(0x307)]({'botID':botID})['value']();_0x3898ca&&dbConfig[_0x4efea8(0x2f5)]('bot')[_0x4efea8(0x307)]({'botID':botID})['assign']({'marketcapApi':_0xd068c5})[_0x4efea8(0x1b4)](),config[_0x4efea8(0x235)]=_0xd068c5,getMarketCap(),proxyEmit(_0x4efea8(0x274),emittedConfiguration());}async function storeConfiguration(_0x43d0ab){const _0x22b587=_0x7018d1;logger['debug'](_0x22b587(0x165));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x22b587(0x212)]('Transaction\x20detection\x20blocked');let _0x2856a3=![],_0x27b17a=![],_0x362001=[];_0x43d0ab[_0x22b587(0x1eb)][_0x22b587(0x27b)](_0x31b0e0=>{const _0x45758e=_0x22b587;if(!_0x31b0e0['excluded']&&_0x31b0e0[_0x45758e(0x1ef)]!=_0x43d0ab[_0x45758e(0x204)])_0x362001[_0x45758e(0x193)](_0x31b0e0[_0x45758e(0x2a5)]);}),_0x362001[_0x22b587(0x27b)](_0x23b877=>{const _0x2563d8=_0x22b587,_0x55ea13=currentCoins['find'](_0x3830c0=>_0x3830c0[_0x2563d8(0x2a5)]==_0x23b877);!_0x55ea13&&(_0x2856a3=!![]);}),currentCoins[_0x22b587(0x27b)](_0x5b182b=>{const _0x41f4fb=_0x22b587;if(_0x5b182b[_0x41f4fb(0x1ef)]!=config[_0x41f4fb(0x204)]){const _0x5129ca=_0x362001[_0x41f4fb(0x307)](_0x298c47=>_0x298c47==_0x5b182b[_0x41f4fb(0x2a5)]);!_0x5129ca&&(_0x2856a3=!![]);}}),_0x43d0ab[_0x22b587(0x1eb)][_0x22b587(0x27b)](_0x23bb56=>{const _0x4a6c1a=_0x22b587,_0x5dd563=config[_0x4a6c1a(0x1eb)][_0x4a6c1a(0x307)](_0x5f5d96=>_0x5f5d96[_0x4a6c1a(0x1ef)]==_0x23bb56[_0x4a6c1a(0x1ef)]);if(_0x5dd563&&_0x23bb56['offset']!=_0x5dd563[_0x4a6c1a(0x2e9)])_0x27b17a=!![];});let _0x4c1d79=dbConfig[_0x22b587(0x2f5)](_0x22b587(0x213))[_0x22b587(0x307)]({'botID':botID})[_0x22b587(0x2ab)]();_0x43d0ab={..._0x43d0ab,'apiKey':crypt[_0x22b587(0x1b6)](secure['privateKey'],_0x43d0ab[_0x22b587(0x28f)])[_0x22b587(0x253)],'apiSecret':crypt[_0x22b587(0x1b6)](secure[_0x22b587(0x241)],_0x43d0ab[_0x22b587(0x264)])[_0x22b587(0x253)]};_0x43d0ab[_0x22b587(0x25b)]&&(_0x43d0ab['apiPassword']=crypt[_0x22b587(0x1b6)](secure['privateKey'],_0x43d0ab['apiPassword'])['message']);let _0x350778=![];if(_0x4c1d79){_0x43d0ab[_0x22b587(0x28f)]=='************'?_0x43d0ab[_0x22b587(0x28f)]=config['apiKey']:_0x350778=!![];_0x43d0ab[_0x22b587(0x264)]==_0x22b587(0x1c4)?_0x43d0ab[_0x22b587(0x264)]=config[_0x22b587(0x264)]:_0x350778=!![];if(_0x43d0ab['apiPassword']=='************')_0x43d0ab['apiPassword']=config[_0x22b587(0x25b)];else{if(_0x43d0ab['apiPassword'])_0x350778=!![];}dbConfig[_0x22b587(0x2f5)](_0x22b587(0x213))[_0x22b587(0x307)]({'botID':botID})[_0x22b587(0x2d3)](_0x43d0ab)['write']();}else dbConfig[_0x22b587(0x2f5)](_0x22b587(0x213))[_0x22b587(0x193)](_0x43d0ab)[_0x22b587(0x1b4)](),_0x350778=!![],process[_0x22b587(0x306)]({'status':_0x22b587(0x1fb),'live':_0x22b587(0x29c)},_0x2f4fea=>{});process[_0x22b587(0x306)]({'botname':_0x43d0ab[_0x22b587(0x1e1)]},_0x405b63=>{}),config={..._0x43d0ab},updateBotManager(),proxyEmit(_0x22b587(0x294)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x350778)await reset(!![]);else _0x2856a3||_0x27b17a?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x22b587(0x212)](_0x22b587(0x1f8));}async function storeHeadless(_0x5473e2){const _0x49aec3=_0x7018d1,_0x392ff3={...config,'headless':_0x5473e2['headless']};let _0x2114d3=dbConfig[_0x49aec3(0x2f5)]('bot')[_0x49aec3(0x307)]({'botID':botID})['value']();_0x2114d3&&dbConfig['get']('bot')[_0x49aec3(0x307)]({'botID':botID})[_0x49aec3(0x2d3)](_0x392ff3)[_0x49aec3(0x1b4)](),config={..._0x392ff3},updateBotManager(),proxyEmit(_0x49aec3(0x274),emittedConfiguration());}async function storeFiat(_0x508ede){const _0x398f9c=_0x7018d1,_0x3b3ca4={...config,'fiat':_0x508ede};let _0x5be77c=dbConfig[_0x398f9c(0x2f5)](_0x398f9c(0x213))['find']({'botID':botID})[_0x398f9c(0x2ab)]();_0x5be77c&&dbConfig[_0x398f9c(0x2f5)](_0x398f9c(0x213))[_0x398f9c(0x307)]({'botID':botID})[_0x398f9c(0x2d3)](_0x3b3ca4)[_0x398f9c(0x1b4)](),config={..._0x3b3ca4},proxyEmit(_0x398f9c(0x274),emittedConfiguration());}function resetHistory(){const _0xe67ffc=_0x7018d1;logger[_0xe67ffc(0x1fa)](_0xe67ffc(0x20a));try{if(fs[_0xe67ffc(0x1b8)](path[_0xe67ffc(0x27f)](configpath,_0xe67ffc(0x19c)+botID+'-events.json')))fs[_0xe67ffc(0x2b7)](path['join'](configpath,'bot-'+botID+_0xe67ffc(0x19b)));if(fs[_0xe67ffc(0x1b8)](path['join'](configpath,_0xe67ffc(0x19c)+botID+'-performance.json')))fs[_0xe67ffc(0x2b7)](path[_0xe67ffc(0x27f)](configpath,_0xe67ffc(0x19c)+botID+_0xe67ffc(0x203)));if(fs[_0xe67ffc(0x1b8)](path[_0xe67ffc(0x27f)](configpath,_0xe67ffc(0x19c)+botID+_0xe67ffc(0x160))))fs[_0xe67ffc(0x2b7)](path['join'](configpath,'bot-'+botID+_0xe67ffc(0x160)));}catch(_0x25bec4){if(_0x25bec4)logger[_0xe67ffc(0x1fa)](_0xe67ffc(0x2fb),_0x25bec4);}const _0x59fff1=getDate();let _0x3558e1=[];currentCoins[_0xe67ffc(0x27b)](_0x256312=>{const _0x4ffc0b=_0xe67ffc;_0x3558e1[_0x4ffc0b(0x193)]({'coin':_0x256312['coin'],'number':_0x256312[_0x4ffc0b(0x26c)],'price':_0x256312[_0x4ffc0b(0x247)]});});let _0x5262af=dbConfig[_0xe67ffc(0x2f5)](_0xe67ffc(0x213))[_0xe67ffc(0x307)]({'botID':botID})[_0xe67ffc(0x2ab)]();_0x5262af&&(dbConfig[_0xe67ffc(0x2f5)](_0xe67ffc(0x213))[_0xe67ffc(0x307)]({'botID':botID})['assign']({'liquidity':[{'date':_0x59fff1,'changes':_0x3558e1}]})[_0xe67ffc(0x1b4)](),config[_0xe67ffc(0x2d2)]=[]),restartBot(!![]);}function noslash(_0x3d218d){const _0x5bc8d9=_0x7018d1;return _0x3d218d[_0x5bc8d9(0x308)]('/','');}function updateHighestFee(_0x2a9041){const _0x574b2a=_0x7018d1;if(_0x2a9041[_0x574b2a(0x2c9)]){let _0x355208={'filled':_0x2a9041[_0x574b2a(0x2dc)]*_0x2a9041[_0x574b2a(0x2b9)],'amount':_0x2a9041[_0x574b2a(0x2dc)]*_0x2a9041[_0x574b2a(0x2b9)],'side':_0x2a9041[_0x574b2a(0x1ce)]==_0x574b2a(0x1cd)?_0x574b2a(0x22a):_0x574b2a(0x1cd),'price':0x1/_0x2a9041[_0x574b2a(0x2b9)]};_0x2a9041={..._0x2a9041,..._0x355208};}const _0x6f8d74=defaultFee*_0x2a9041['filled']*_0x2a9041[_0x574b2a(0x2b9)];lastFees['recent20'][_0x574b2a(0x281)]===0x14&&lastFees[_0x574b2a(0x265)][_0x574b2a(0x21a)](),lastFees[_0x574b2a(0x265)]['push'](_0x6f8d74),lastFees[_0x574b2a(0x2a4)]=Math[_0x574b2a(0x2ed)](...lastFees[_0x574b2a(0x265)]);}async function updateNumberCoinsCcxt(_0x591faa){const _0x2ab0f4=_0x7018d1;logger[_0x2ab0f4(0x212)](_0x2ab0f4(0x1d8)+_0x591faa[_0x2ab0f4(0x2a5)]+'\x20|\x20'+_0x591faa[_0x2ab0f4(0x246)]+_0x2ab0f4(0x1c1)+_0x591faa[_0x2ab0f4(0x2dc)]+_0x2ab0f4(0x1d0)+_0x591faa[_0x2ab0f4(0x2e8)]+_0x2ab0f4(0x1c1)+_0x591faa['id']);_0x591faa[_0x2ab0f4(0x2dc)]>0x0&&(blockTransactionDetection=!![]);let _0x9a691b=_0x591faa['status'],_0x51321e=![];currentCoins[_0x2ab0f4(0x27b)](_0x4c1adf=>{const _0x4cdd82=_0x2ab0f4;_0x4c1adf[_0x4cdd82(0x2a5)]==_0x591faa[_0x4cdd82(0x2a5)]&&(_0x51321e=!![]);});if(!_0x51321e)return;const _0x28d120=currentCoins[_0x2ab0f4(0x307)](_0x55eeaa=>_0x55eeaa[_0x2ab0f4(0x2a5)]==_0x591faa['symbol']),_0x19d347=_0x4e1e20=>{const _0x92bb35=_0x2ab0f4;if(_0x28d120)_0x28d120[_0x92bb35(0x25f)]=_0x4e1e20;};if(_0x9a691b==_0x2ab0f4(0x1e4))_0x19d347(_0x2ab0f4(0x1e4));else{if(_0x9a691b=='canceled'){_0x19d347(_0x2ab0f4(0x1bc));const _0x2b1ed0=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x2b1ed0,blockTransactionDetection=![],await getOpenOrders(),handleOpenOrders();}else{if(_0x9a691b=='closed'){let _0x51aa2a=![];if(lastOrders)for(const _0xe137e5 of lastOrders){const _0x5b8580=0xc8,_0x4573b4=0x1388;let _0x3673d2=0x0;while(!_0xe137e5['orderId']&&_0x3673d2*_0x5b8580<_0x4573b4){_0x3673d2++,await sleep(_0x5b8580);}if(_0x3673d2>0x0)logger[_0x2ab0f4(0x212)](_0x2ab0f4(0x1a7)+_0x3673d2*_0x5b8580/0x3e8+_0x2ab0f4(0x2ae));if(_0xe137e5[_0x2ab0f4(0x1dd)]==_0x591faa['id']){logger['debug']('1\x20-\x20FILLED\x20known\x20order:\x20'+_0x591faa['id']),_0x51aa2a=!![];if(_0xe137e5[_0x2ab0f4(0x2dc)]==0x0){logger[_0x2ab0f4(0x212)](_0x2ab0f4(0x234)+_0x591faa['id']);if(_0x591faa[_0x2ab0f4(0x25a)])_0xe137e5['price']=_0x591faa['average'];else{if(_0x591faa['price'])_0xe137e5['price']=_0x591faa[_0x2ab0f4(0x2b9)];else{}}_0xe137e5[_0x2ab0f4(0x2dc)]=_0x591faa[_0x2ab0f4(0x2dc)],updateHighestFee(_0xe137e5),_0x19d347(_0x2ab0f4(0x2dc)),await validateOrders();if(lockOrders==ORDERS['LOCKED']){const _0x4e71e9=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x4e71e9,blockTransactionDetection=![];}_0xe137e5['fee']={'currency':_0x591faa['fee']?_0x591faa[_0x2ab0f4(0x2c7)][_0x2ab0f4(0x2d9)]:null,'cost':_0x591faa[_0x2ab0f4(0x2c7)]?_0x591faa[_0x2ab0f4(0x2c7)]['cost']:0x0},await updateCoinResults(_0xe137e5);}}}!_0x51aa2a&&(logger['debug']('1\x20-\x20FILLED\x20unknown\x20order:\x20'+_0x591faa['id']),_0x19d347(_0x2ab0f4(0x2dc)),blockTransactionDetection=![],await detectLiquidityChange(balanceUpdateDelay),await updateOpenOrders(),handleOpenOrders());}}}if(lastBalances){let _0x4cad68=JSON[_0x2ab0f4(0x1c2)](lastBalances['portfolio']);const _0x1de676=_0x4cad68[_0x2ab0f4(0x307)](_0x93355f=>_0x93355f[_0x2ab0f4(0x2a5)]==_0x591faa['symbol']);if(_0x1de676){if(_0x9a691b=='open')_0x1de676[_0x2ab0f4(0x25f)]=_0x1de676[_0x2ab0f4(0x25f)]==_0x2ab0f4(0x2dc)?_0x2ab0f4(0x2dc):'open';else{if(_0x9a691b==_0x2ab0f4(0x1bc))_0x1de676[_0x2ab0f4(0x25f)]=_0x1de676['orderstatus']==_0x2ab0f4(0x2dc)?_0x2ab0f4(0x2dc):'canceled';else _0x9a691b==_0x2ab0f4(0x164)&&(_0x1de676[_0x2ab0f4(0x25f)]=_0x2ab0f4(0x2dc));}}lastBalances={...lastBalances,'portfolio':JSON[_0x2ab0f4(0x2de)](_0x4cad68)},proxyEmit(_0x2ab0f4(0x28e),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x143386=_0x7018d1;await getOpenOrders();let _0x20a562=![];currentCoins[_0x143386(0x27b)](_0x26f0be=>{const _0x1ba06a=_0x143386;_0x20a562=allOpenOrders[_0x1ba06a(0x307)](_0x55b482=>_0x55b482['symbol']==_0x26f0be[_0x1ba06a(0x2a5)]),_0x26f0be[_0x1ba06a(0x25f)]=_0x20a562?_0x1ba06a(0x1e4):_0x1ba06a(0x298);});}async function getCoins(_0x30d2e7=0x0,_0x32bbc9=!![],_0x3247e8=config[_0x7018d1(0x204)]){const _0x3c211e=_0x7018d1;let _0x54fa9a,_0x55b129=[],_0x3e4250=[],_0x5a6c17=[];if(_0x30d2e7)await sleep(_0x30d2e7);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x54fa9a=await exchange[_0x3c211e(0x2ba)](),mybalances=_0x54fa9a['total'];for(const [_0x562905,_0x4e88f3]of Object[_0x3c211e(0x192)](mybalances)){_0x5a6c17['push'](_0x562905);}config['portfolio'][_0x3c211e(0x27b)](_0x21c41a=>{const _0x1b6aee=_0x3c211e;!_0x5a6c17['includes'](_0x21c41a[_0x1b6aee(0x1ef)])&&(mybalances[_0x21c41a[_0x1b6aee(0x1ef)]]=0x0);});if(_0x3247e8=='')for(const [_0x3b2d8f,_0x361a5e]of Object['entries'](mybalances)){_0x361a5e!=0x0&&_0x55b129[_0x3c211e(0x193)]({'coin':_0x3b2d8f});}else for(const [_0x21f30f,_0x85e0a]of Object['entries'](mybalances)){const _0x513ec2=config[_0x3c211e(0x1eb)][_0x3c211e(0x307)](_0x1df394=>_0x1df394['coin']==_0x21f30f),_0x5772c6=_0x21f30f+'/'+_0x3247e8,_0x15ac63=_0x3247e8+'/'+_0x21f30f,_0x26563e=currentCoins[_0x3c211e(0x307)](_0x2aecaf=>_0x2aecaf[_0x3c211e(0x1ef)]==_0x21f30f);if((_0x85e0a!=0x0||_0x513ec2)&&(allSymbols['includes'](_0x5772c6)||_0x21f30f==_0x3247e8))_0x26563e?_0x55b129[_0x3c211e(0x193)]({..._0x26563e,'number':Math[_0x3c211e(0x2ed)](_0x85e0a+(_0x513ec2&&_0x513ec2[_0x3c211e(0x2e9)]||0x0),0x0)}):_0x55b129['push']({'coin':_0x21f30f,'symbol':_0x5772c6,'reverse':![],'number':Math[_0x3c211e(0x2ed)](_0x85e0a+(_0x513ec2&&_0x513ec2[_0x3c211e(0x2e9)]||0x0),0x0),'orderstatus':_0x3c211e(0x298)});else{if((_0x85e0a!=0x0||_0x513ec2)&&allSymbols[_0x3c211e(0x194)](_0x15ac63))_0x26563e?_0x55b129[_0x3c211e(0x193)]({..._0x26563e,'number':Math[_0x3c211e(0x2ed)](_0x85e0a+(_0x513ec2&&_0x513ec2[_0x3c211e(0x2e9)]||0x0),0x0)}):_0x55b129['push']({'coin':_0x21f30f,'symbol':_0x15ac63,'reverse':!![],'number':Math[_0x3c211e(0x2ed)](_0x85e0a+(_0x513ec2&&_0x513ec2[_0x3c211e(0x2e9)]||0x0),0x0),'orderstatus':_0x3c211e(0x298)});else _0x513ec2&&_0x55b129[_0x3c211e(0x193)]({'coin':_0x513ec2[_0x3c211e(0x1ef)],'symbol':_0x513ec2['symbol'],'reverse':_0x513ec2[_0x3c211e(0x2c9)],'number':0x0,'orderstatus':'none'});}}}catch(_0x1d9e1c){if(!_0x32bbc9)handleErrorNoStop(_0x1d9e1c,_0x3c211e(0x1a6));else await handleError(_0x1d9e1c,'getCoins()');}return _0x55b129[_0x3c211e(0x23c)]((_0x15454f,_0x42ba77)=>_0x15454f[_0x3c211e(0x263)]<_0x42ba77[_0x3c211e(0x263)]?0x1:_0x42ba77[_0x3c211e(0x263)]<_0x15454f[_0x3c211e(0x263)]?-0x1:0x0),_0x3e4250=cloneDeep(_0x55b129),_0x55b129=_0x55b129[_0x3c211e(0x2ef)](_0x25410b=>{const _0x3747ac=_0x3c211e,_0x508858=config[_0x3747ac(0x1eb)]['find'](_0x412900=>_0x412900['coin']==_0x25410b[_0x3747ac(0x1ef)]);return _0x508858&&!_0x508858[_0x3747ac(0x1b2)];}),[_0x55b129,_0x3e4250];}async function getCoinNumber(_0x51af6c){const _0x4ee1b6=_0x7018d1;let _0x116d22;try{const _0x1e6349=await exchange[_0x4ee1b6(0x2ba)]();_0x116d22=_0x1e6349[_0x4ee1b6(0x172)][_0x51af6c];}catch(_0xb237de){await handleError(_0xb237de,_0x4ee1b6(0x296));}return _0x116d22;}async function getOpenOrders(){const _0x3c256e=_0x7018d1;let _0x381b6a;allOpenOrders=[];try{for(const _0x3e39d8 of config['portfolio']){!_0x3e39d8[_0x3c256e(0x1b2)]&&_0x3e39d8['coin']!=config[_0x3c256e(0x204)]&&(_0x381b6a=await exchange[_0x3c256e(0x268)](_0x3e39d8['symbol']),_0x381b6a[_0x3c256e(0x281)]>0x0&&allOpenOrders[_0x3c256e(0x193)](_0x381b6a[0x0]));}}catch(_0x1583a1){await handleError(_0x1583a1,_0x3c256e(0x29b));}}async function handleOpenOrders(_0x57e4de=0x0){const _0x50d031=_0x7018d1;allOpenOrders[_0x50d031(0x281)]==0x0&&lockOrders==ORDERS[_0x50d031(0x2f2)]&&allOrdersPlaced&&(_0x57e4de==0x0?(logger['debug'](_0x50d031(0x30f)),_0x57e4de++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x50d031(0x212)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders(_0x50d031(0x2aa))));}async function testAPI(_0x45b1bd){const _0x5f55b1=_0x7018d1,_0xcf80b2=ccxt['pro'][_0x45b1bd['exchange'][_0x5f55b1(0x210)]()],_0x5e484b=new _0xcf80b2({'apiKey':_0x45b1bd[_0x5f55b1(0x28f)],'secret':_0x45b1bd[_0x5f55b1(0x264)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5f55b1(0x229)}});if(_0x45b1bd['apiPassword'])_0x5e484b['password']=_0x45b1bd[_0x5f55b1(0x25b)];try{await _0x5e484b[_0x5f55b1(0x2c2)]();}catch(_0xf7dfa9){throw _0xf7dfa9;}}function cloneDeep(_0x1f9ade){const _0x13d551=_0x7018d1;return JSON[_0x13d551(0x1c2)](JSON['stringify'](_0x1f9ade));}async function getPortfolio(_0x552965){const _0x5a93da=_0x7018d1;let _0x80da3b=[],_0x5220d1=[],_0x544663=[],_0x3db0e7;if(_0x552965[_0x5a93da(0x28f)]!==_0x5a93da(0x1c4)||_0x552965[_0x5a93da(0x264)]!=='************'||_0x552965[_0x5a93da(0x25b)]&&_0x552965[_0x5a93da(0x25b)]!==_0x5a93da(0x1c4)){if(config['exchange']){if(_0x552965[_0x5a93da(0x28f)]==_0x5a93da(0x1c4))_0x552965['apiKey']=config[_0x5a93da(0x28f)];if(_0x552965['apiSecret']==_0x5a93da(0x1c4))_0x552965[_0x5a93da(0x264)]=config[_0x5a93da(0x264)];if(_0x552965[_0x5a93da(0x25b)]==_0x5a93da(0x1c4))_0x552965[_0x5a93da(0x25b)]=config[_0x5a93da(0x25b)];try{await testAPI(_0x552965);}catch(_0x275e29){if(_0x275e29[_0x5a93da(0x17c)]()[_0x5a93da(0x194)](_0x5a93da(0x221))){logger[_0x5a93da(0x212)]('Invalid\x20API\x20key\x20or\x20secret\x20entered'),proxyEmit(_0x5a93da(0x1eb),![]);return;}else{handleError(_0x275e29,_0x5a93da(0x2db));return;}}}await initExchange(_0x552965[_0x5a93da(0x1ab)],_0x552965['apiKey'],_0x552965['apiSecret'],_0x552965[_0x5a93da(0x25b)]);try{await loadSymbols();}catch(_0x553b1a){if(_0x553b1a['toString']()[_0x5a93da(0x194)]('AuthenticationError')){proxyEmit(_0x5a93da(0x1eb),![]);return;}else{handleError(_0x553b1a,_0x5a93da(0x1df));return;}}const _0x318972=await getCoins(0x0,![],_0x552965['basecoin']);_0x544663=cloneDeep(_0x318972[0x1]);}else{const _0x54af44=await getCoins();_0x544663=cloneDeep(_0x54af44[0x1]);}if(_0x552965[_0x5a93da(0x204)]=='')proxyEmit(_0x5a93da(0x1eb),_0x544663);else{_0x544663[_0x5a93da(0x27b)](_0x3f8cfc=>{const _0x2a3543=_0x5a93da;if(_0x3f8cfc[_0x2a3543(0x1ef)]!=_0x552965['basecoin']&&allSymbols['includes'](_0x3f8cfc['symbol']))_0x80da3b['push'](_0x3f8cfc['symbol']);});if(_0x80da3b[_0x5a93da(0x281)]==0x0)logHistory(_0x5a93da(0x2e4),'Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot');else{try{_0x5220d1=await getTickers(_0x80da3b);}catch(_0x3e57bf){if(_0x3e57bf[_0x5a93da(0x17c)]()[_0x5a93da(0x194)]('AuthenticationError')){proxyEmit(_0x5a93da(0x1eb),![]);return;}else handleError(_0x3e57bf,_0x5a93da(0x30b));}_0x544663[_0x5a93da(0x27b)](_0x1fa476=>{const _0x1fe1c6=_0x5a93da;_0x1fa476[_0x1fe1c6(0x1ef)]!=_0x552965[_0x1fe1c6(0x204)]?_0x5220d1[_0x1fa476[_0x1fe1c6(0x2a5)]]?_0x3db0e7=_0x1fa476[_0x1fe1c6(0x2c9)]?0x1/_0x5220d1[_0x1fa476[_0x1fe1c6(0x2a5)]][_0x1fe1c6(0x247)]:_0x5220d1[_0x1fa476[_0x1fe1c6(0x2a5)]][_0x1fe1c6(0x247)]:_0x3db0e7=0x0:_0x3db0e7=0x1,_0x1fa476[_0x1fe1c6(0x2b9)]=formatResult(_0x3db0e7,0x8);}),await getMarketCap(_0x544663),proxyEmit(_0x5a93da(0x1eb),_0x544663);}}}function truncateTradeAmount(_0x50b9db,_0x53b5a6){const _0x565a0c=_0x7018d1;let _0x14d16c=0x0;try{_0x14d16c=exchange[_0x565a0c(0x1a5)](_0x50b9db,_0x53b5a6);}catch(_0x52b696){}return _0x14d16c;}function checkMinimums(_0x388c53){const _0x662f50=_0x7018d1;let _0x1a382c=!![];const _0x5c8563=!_0x388c53['reverse']?markets[_0x388c53['symbol']][_0x662f50(0x2e6)][_0x662f50(0x2e8)][_0x662f50(0x2d1)]:markets[_0x388c53[_0x662f50(0x2a5)]][_0x662f50(0x2e6)]['cost'][_0x662f50(0x2d1)],_0x430d98=!_0x388c53[_0x662f50(0x2c9)]?markets[_0x388c53[_0x662f50(0x2a5)]][_0x662f50(0x2e6)]['cost'][_0x662f50(0x2d1)]:markets[_0x388c53['symbol']]['limits'][_0x662f50(0x2e8)][_0x662f50(0x2d1)],_0x4579a5=truncateTradeAmount(_0x388c53[_0x662f50(0x2a5)],_0x388c53[_0x662f50(0x2be)]);_0x388c53[_0x662f50(0x2be)]=_0x4579a5;if(Math[_0x662f50(0x2a0)](_0x4579a5)<_0x5c8563)_0x1a382c=![];if(Math[_0x662f50(0x2a0)](_0x4579a5)*_0x388c53[_0x662f50(0x247)]<_0x430d98)_0x1a382c=![];if(_0x388c53[_0x662f50(0x1ce)]==_0x662f50(0x1cd)){let _0x38b9cc=config['portfolio'][_0x662f50(0x307)](_0x54951b=>_0x54951b[_0x662f50(0x1ef)]==_0x388c53[_0x662f50(0x1ef)]);if(_0x38b9cc['offset']>0x0){if(Math[_0x662f50(0x2a0)](_0x4579a5)>_0x388c53['number']-_0x38b9cc[_0x662f50(0x2e9)])_0x1a382c=![];}else{if(Math[_0x662f50(0x2a0)](_0x4579a5)>_0x388c53[_0x662f50(0x26c)])_0x1a382c=![];}}if(_0x388c53['side']=='buy'){let _0x2ef59d=config[_0x662f50(0x1eb)][_0x662f50(0x307)](_0x589a2a=>_0x589a2a[_0x662f50(0x1ef)]==config[_0x662f50(0x204)]),_0x570d76=currentCoins['find'](_0x3901a7=>_0x3901a7['coin']==config[_0x662f50(0x204)]);if(_0x2ef59d[_0x662f50(0x2e9)]>0x0){if(Math[_0x662f50(0x2a0)](_0x4579a5)*_0x388c53['last']>_0x570d76[_0x662f50(0x26c)]-_0x2ef59d[_0x662f50(0x2e9)])_0x1a382c=![];}else{if(Math[_0x662f50(0x2a0)](_0x4579a5)*_0x388c53['last']>_0x570d76[_0x662f50(0x26c)])_0x1a382c=![];}}return _0x1a382c;}async function getBalances(_0x15f38a=!![]){const _0x15133b=_0x7018d1;let _0x312762=0x0,_0x206a0;const _0x35d1ec=config['threshold'];if(config[_0x15133b(0x1ba)]&&config[_0x15133b(0x17d)]<0x0)await validate24hChanges();currentCoins[_0x15133b(0x27b)](_0xf18345=>{const _0x510ecf=_0x15133b;if(_0xf18345[_0x510ecf(0x1ef)]!=config[_0x510ecf(0x204)]){let _0x239cbb=gTicker[noslash(_0xf18345[_0x510ecf(0x2a5)])];_0x206a0=_0xf18345[_0x510ecf(0x2c9)]?0x1/_0x239cbb:_0x239cbb;}else _0x206a0=0x1;let _0x14f5c9=_0xf18345['number']*_0x206a0;_0x312762+=_0x14f5c9,_0xf18345[_0x510ecf(0x247)]=formatResult(Number(_0x206a0),0x8),_0xf18345[_0x510ecf(0x2ab)]=_0x14f5c9;}),currentCoins[_0x15133b(0x27b)](_0x221384=>{const _0x442d05=_0x15133b;let _0x63720d=config[_0x442d05(0x1eb)][_0x442d05(0x307)](_0x281f9f=>_0x281f9f[_0x442d05(0x1ef)]==_0x221384[_0x442d05(0x1ef)]),_0x548da5=Number(_0x63720d['distribution']),_0x1415cb=_0x221384[_0x442d05(0x2ab)]/_0x312762*0x64,_0x1e74c7=_0x548da5*_0x312762/0x64/_0x221384['last']-_0x221384['number'];_0x221384['distribution']=formatResult(_0x1415cb,0x3),_0x221384['target']=formatResult(_0x548da5,0x3),_0x221384[_0x442d05(0x2be)]=formatResult(_0x1e74c7,0x8),_0x221384['side']='',_0x221384[_0x442d05(0x284)]=![];if(_0x221384[_0x442d05(0x1ef)]!=config[_0x442d05(0x204)]){if(_0x221384[_0x442d05(0x2f3)]>_0x548da5)_0x221384['side']=_0x442d05(0x1cd),_0x221384['valid']=checkMinimums(_0x221384);else _0x221384[_0x442d05(0x2f3)]<_0x548da5&&(_0x221384[_0x442d05(0x1ce)]=_0x442d05(0x22a),_0x221384[_0x442d05(0x284)]=checkMinimums(_0x221384));}_0x221384[_0x442d05(0x263)]=_0x221384['distribution']/_0x221384[_0x442d05(0x191)]-0x1;if(_0x221384[_0x442d05(0x25f)]==_0x442d05(0x2dc)||_0x221384[_0x442d05(0x25f)]=='canceled')_0x221384[_0x442d05(0x25f)]=_0x442d05(0x298);}),currentCoins[_0x15133b(0x23c)]((_0x380cc9,_0x9ae8c7)=>_0x380cc9[_0x15133b(0x263)]<_0x9ae8c7[_0x15133b(0x263)]?0x1:_0x9ae8c7[_0x15133b(0x263)]<_0x380cc9[_0x15133b(0x263)]?-0x1:0x0);const _0x240f49=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x240f49[_0x15133b(0x282)],'usd':_0x240f49[_0x15133b(0x27d)],'portfolio':JSON['stringify'](currentCoins),'threshold':_0x35d1ec},proxyEmit(_0x15133b(0x28e),{'serverversion':serverversion,'balances':lastBalances});if(_0x15f38a){if(config['headless'])headlessMode({'portfolio':currentCoins,'threshold':_0x35d1ec});else{if(lockOrders==ORDERS[_0x15133b(0x1b0)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x35d1ec});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x562d6f=getNormalizedPerformance();getStartingBalances(_0x562d6f),emitPerformance(_0x562d6f);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x1fec39=_0x7018d1;if(!lastBalances)return;let _0x233500=[],_0x9b8a4c,_0x10b53a=JSON[_0x1fec39(0x1c2)](lastBalances[_0x1fec39(0x1eb)]);_0x10b53a[_0x1fec39(0x23c)]((_0x3cac57,_0x1a4f30)=>_0x3cac57[_0x1fec39(0x1ef)]>_0x1a4f30[_0x1fec39(0x1ef)]?0x1:_0x1a4f30[_0x1fec39(0x1ef)]>_0x3cac57[_0x1fec39(0x1ef)]?-0x1:0x0),_0x10b53a[_0x1fec39(0x27b)](_0x201abb=>{const _0x4bd7a7=_0x1fec39;let _0x3daf81={'coin':_0x201abb['coin'],'number':_0x201abb['number'],'price':_0x201abb[_0x4bd7a7(0x247)]};_0x233500[_0x4bd7a7(0x193)](_0x3daf81);});const _0x41db56=await getFiat();_0x9b8a4c={'date':lastBalances[_0x1fec39(0x230)][_0x1fec39(0x2b0)]('\x20')[0x0],'eur':_0x41db56[_0x1fec39(0x282)],'usd':_0x41db56[_0x1fec39(0x27d)],'coins':_0x233500};let _0x19401d=dbPerformance['get'](_0x1fec39(0x2e3))[_0x1fec39(0x307)]({'date':_0x9b8a4c[_0x1fec39(0x259)]})['value']();_0x19401d?_0x9b8a4c[_0x1fec39(0x259)]!=config[_0x1fec39(0x270)]&&dbPerformance['get'](_0x1fec39(0x2e3))['find']({'date':_0x9b8a4c[_0x1fec39(0x259)]})[_0x1fec39(0x2d3)](_0x9b8a4c)[_0x1fec39(0x1b4)]():dbPerformance[_0x1fec39(0x2f5)](_0x1fec39(0x2e3))[_0x1fec39(0x193)](_0x9b8a4c)[_0x1fec39(0x1b4)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x56bf65=_0x7018d1;let _0x1742eb=[];if(dbPerformance[_0x56bf65(0x2fd)](_0x56bf65(0x2e3))['value']()){let _0x5e3f5c=dbPerformance[_0x56bf65(0x2f5)]('data')['cloneDeep']()[_0x56bf65(0x2ef)](_0x2999cc=>{const _0x372ed6=_0x56bf65;if(_0x2999cc[_0x372ed6(0x169)][_0x372ed6(0x281)]==0x0)return![];else return!![];})[_0x56bf65(0x214)](_0x56bf65(0x259))[_0x56bf65(0x2ab)](),_0x30a616=[...config[_0x56bf65(0x2d2)]];_0x30a616[_0x56bf65(0x23c)]((_0x1eeafc,_0x4a0620)=>_0x1eeafc['date']>_0x4a0620[_0x56bf65(0x259)]?-0x1:_0x4a0620['date']>_0x1eeafc[_0x56bf65(0x259)]?0x1:0x0);let _0x5b593c=0x1,_0x1f9da3=[],_0x524816=0x0;_0x5e3f5c[_0x56bf65(0x2ce)]()['reverse']()[_0x56bf65(0x27b)]((_0x26debf,_0x2aeee2)=>{const _0x3fce55=_0x56bf65;if(_0x30a616[_0x524816]){if(_0x5e3f5c[_0x5e3f5c[_0x3fce55(0x281)]-_0x2aeee2]&&_0x30a616[_0x524816][_0x3fce55(0x259)]==_0x5e3f5c[_0x5e3f5c[_0x3fce55(0x281)]-_0x2aeee2]['date']){if(_0x2aeee2<_0x5e3f5c[_0x3fce55(0x281)]){let _0x56efce=0x0,_0x3633a6=0x0;_0x5e3f5c[_0x5e3f5c[_0x3fce55(0x281)]-_0x2aeee2][_0x3fce55(0x169)]['forEach'](_0x285a26=>{const _0x2199d1=_0x3fce55;_0x3633a6+=_0x285a26[_0x2199d1(0x26c)]*_0x285a26['price'];}),_0x30a616[_0x524816][_0x3fce55(0x29e)]['forEach'](_0x5049f8=>{const _0x576fb0=_0x3fce55;_0x56efce+=_0x5049f8[_0x576fb0(0x26c)]*_0x5049f8[_0x576fb0(0x2b9)];}),_0x5b593c*=_0x56efce/(_0x3633a6-_0x56efce)+0x1;}_0x524816++;}}let _0x419300=0x0;_0x26debf[_0x3fce55(0x169)]['forEach'](_0x3a8a8f=>{_0x419300+=_0x3a8a8f['number']*_0x3a8a8f['price'];}),_0x1f9da3[_0x5e3f5c[_0x3fce55(0x281)]-_0x2aeee2-0x1]=_0x419300*(_0x5b593c-0x1);});let _0x29a693=[];_0x30a616=[...config[_0x56bf65(0x2d2)]]||[];let _0x5e58f5=0x0;_0x524816=0x0,_0x5e3f5c[_0x56bf65(0x27b)]((_0x13855f,_0x1ef65)=>{const _0x3a81ee=_0x56bf65;if(_0x30a616[_0x524816]){const _0x5c3636=fns[_0x3a81ee(0x1c2)](_0x30a616[_0x524816][_0x3a81ee(0x259)],'yyyy/MM/dd',new Date()),_0x451207=fns[_0x3a81ee(0x1c2)](_0x13855f[_0x3a81ee(0x259)],'yyyy/MM/dd',new Date());if(fns[_0x3a81ee(0x2bd)](_0x5c3636,_0x451207)){let _0xb76d1=0x0;_0x30a616[_0x524816][_0x3a81ee(0x29e)][_0x3a81ee(0x27b)](_0x2130f3=>{const _0x13f22c=_0x3a81ee;!_0x29a693[_0x2130f3[_0x13f22c(0x1ef)]]?_0x29a693[_0x2130f3['coin']]=_0x2130f3[_0x13f22c(0x26c)]:(_0xb76d1=_0x29a693[_0x2130f3[_0x13f22c(0x1ef)]],_0x29a693[_0x2130f3[_0x13f22c(0x1ef)]]+=_0x2130f3['number']);const _0x38c90d=_0x13855f[_0x13f22c(0x169)]['find'](_0x1d9110=>_0x1d9110['coin']==_0x2130f3['coin']);(!_0x38c90d||_0x38c90d[_0x13f22c(0x26c)]==0x0)&&(_0x5e58f5+=(-_0x2130f3[_0x13f22c(0x26c)]-_0xb76d1)*_0x2130f3['price']);}),_0x524816++;}}_0x13855f[_0x3a81ee(0x169)]['forEach']((_0x4ea74f,_0x5bd027)=>{const _0x60d153=_0x3a81ee;_0x29a693[_0x4ea74f[_0x60d153(0x1ef)]]&&(_0x4ea74f['initial']=_0x29a693[_0x4ea74f['coin']]);}),_0x1742eb[_0x3a81ee(0x193)]({'date':_0x13855f[_0x3a81ee(0x259)],'eur':_0x13855f[_0x3a81ee(0x282)],'usd':_0x13855f[_0x3a81ee(0x27d)],'offset':_0x1f9da3[_0x1ef65],'netoffset':_0x5e58f5,'coins':_0x13855f[_0x3a81ee(0x169)]});});}return _0x1742eb;}function emitPerformance(_0x4cd894){const _0x271fe2=_0x7018d1;_0x4cd894['length']!==0x0?(proxyEmit(_0x271fe2(0x219),_0x4cd894),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x49e1ed,_0xc72444){const _0x488569=_0x7018d1;let _0x27029d=0x0,_0x2c4451=0x0,_0x516886=0x0;_0x49e1ed[_0x488569(0x169)][_0x488569(0x27b)](_0x57dcd4=>{const _0x5441bf=_0x488569;_0x27029d+=_0x57dcd4[_0x5441bf(0x26c)]*_0x57dcd4['price'];});_0xc72444&&(_0x27029d+=_0x49e1ed[_0x488569(0x2e9)]);if(config[_0x488569(0x204)]==='BTC'||config[_0x488569(0x204)]===_0x488569(0x199)||config[_0x488569(0x204)]===_0x488569(0x303))_0x2c4451=_0x27029d*_0x49e1ed[_0x488569(0x282)],_0x516886=_0x27029d*_0x49e1ed['usd'];else{if(usdBasecoins[_0x488569(0x194)](config[_0x488569(0x204)]))_0x2c4451=_0x27029d*_0x49e1ed[_0x488569(0x282)]/_0x49e1ed[_0x488569(0x27d)],_0x516886=_0x27029d;else config[_0x488569(0x204)]===_0x488569(0x19f)&&(_0x2c4451=_0x27029d,_0x516886=_0x27029d*_0x49e1ed[_0x488569(0x27d)]/_0x49e1ed[_0x488569(0x282)]);}return[_0x27029d,_0x2c4451,_0x516886];}function getKPIs(_0x247167,_0x56bd6f=_0x7018d1(0x19f)){const _0x1cda82=_0x7018d1,_0x267ecf=config['basecoin'],_0x47b4f4=lastBalances,_0x33e8b3=currentCoins,_0x4254d8=getNormalizedPerformance(),_0x1d3d0f=_0x247167==='basecoin'?_0x267ecf:_0x247167===_0x1cda82(0x295)||_0x247167==='net-fiat'?_0x56bd6f:_0x1cda82(0x2dd)+_0x267ecf,_0xfd5670=_0x247167===_0x1cda82(0x20d)?_0x1cda82(0x2e7):_0x247167==='net-fiat'?_0x1cda82(0x2e7):_0x1d3d0f+_0x1cda82(0x2d5),_0x40cd82=_0x247167===_0x1cda82(0x20d)||_0x247167===_0x1cda82(0x19e)?_0x1cda82(0x2e7):_0x1d3d0f+_0x1cda82(0x1de);let _0x2cf0ce=0x0;_0x33e8b3[_0x1cda82(0x27b)](_0x55b85e=>{const _0x30c7e7=_0x1cda82;_0x2cf0ce+=_0x55b85e[_0x30c7e7(0x26c)]*_0x55b85e[_0x30c7e7(0x247)];});if(_0x247167===_0x1cda82(0x295)||_0x247167===_0x1cda82(0x19e)){if(_0x267ecf==='BTC'||_0x267ecf===_0x1cda82(0x199)||_0x267ecf===_0x1cda82(0x303))_0x2cf0ce=_0x2cf0ce*(_0x56bd6f===_0x1cda82(0x19f)?_0x47b4f4[_0x1cda82(0x282)]:_0x47b4f4['usd']);else{if(usdBasecoins[_0x1cda82(0x194)](_0x267ecf))_0x2cf0ce=_0x2cf0ce*(_0x56bd6f===_0x1cda82(0x19f)?_0x47b4f4['eur']/_0x47b4f4[_0x1cda82(0x27d)]:0x1);else _0x267ecf==='EUR'&&(_0x2cf0ce=_0x2cf0ce*(_0x56bd6f===_0x1cda82(0x19f)?0x1:_0x47b4f4[_0x1cda82(0x27d)]/_0x47b4f4[_0x1cda82(0x282)]));}}let _0x38c005;if(_0x2cf0ce!==0x0){if(_0x247167===_0x1cda82(0x204))_0x38c005=(_0x2cf0ce/startingBalances[_0x1cda82(0x204)]-0x1)*0x64;else{if(_0x56bd6f===_0x1cda82(0x19f))_0x38c005=(_0x2cf0ce/startingBalances[_0x1cda82(0x282)]-0x1)*0x64;else _0x38c005=(_0x2cf0ce/startingBalances[_0x1cda82(0x27d)]-0x1)*0x64;}let _0x1f2f81=0x0;if(startingBalances[_0x1cda82(0x169)])_0x33e8b3[_0x1cda82(0x27b)](_0x1351b3=>{const _0x525918=_0x1cda82;let _0x2a19fb=startingBalances[_0x525918(0x169)]['find'](_0x845e07=>_0x845e07[_0x525918(0x1ef)]===_0x1351b3['coin']);if(_0x2a19fb&&_0x2a19fb[_0x525918(0x1ef)]&&_0x1351b3[_0x525918(0x26c)]!==0x0)_0x1f2f81+=_0x2a19fb[_0x525918(0x26c)]*_0x1351b3['last'];});let _0x4497e6=0x0;if(_0x4254d8[_0x1cda82(0x281)]!==0x0){let _0x1def03=_0x4254d8[_0x4254d8[_0x1cda82(0x281)]-0x1];_0x4497e6=_0x1def03['netoffset'];}_0x1f2f81-=_0x4497e6;_0x247167===_0x1cda82(0x20d)&&(_0x38c005=(_0x2cf0ce-_0x1f2f81)/startingBalances['basecoin']*0x64,_0x2cf0ce=_0x2cf0ce-_0x1f2f81);if(_0x247167===_0x1cda82(0x19e)){let _0x409723=_0x56bd6f===_0x1cda82(0x19f)?startingBalances[_0x1cda82(0x282)]:startingBalances['usd'];if(_0x267ecf===_0x1cda82(0x236)||_0x267ecf===_0x1cda82(0x199)||_0x267ecf===_0x1cda82(0x303))_0x1f2f81=_0x56bd6f==='EUR'?_0x1f2f81*_0x47b4f4['eur']:_0x1f2f81*_0x47b4f4[_0x1cda82(0x27d)];else{if(usdBasecoins[_0x1cda82(0x194)](_0x267ecf))_0x1f2f81=_0x56bd6f===_0x1cda82(0x19f)?_0x1f2f81*_0x47b4f4[_0x1cda82(0x282)]/_0x47b4f4['usd']:_0x1f2f81;else _0x267ecf===_0x1cda82(0x19f)&&(_0x1f2f81=_0x56bd6f===_0x1cda82(0x19f)?_0x1f2f81:_0x1f2f81*_0x47b4f4[_0x1cda82(0x27d)]/_0x47b4f4[_0x1cda82(0x282)]);}_0x38c005=(_0x2cf0ce-_0x1f2f81)/_0x409723*0x64,_0x2cf0ce=_0x2cf0ce-_0x1f2f81;}if(_0x38c005){if(_0x38c005<0x64)_0x38c005=_0x38c005[_0x1cda82(0x2f1)](0x2);else{if(_0x38c005<0x3e8)_0x38c005=_0x38c005[_0x1cda82(0x2f1)](0x1);else _0x38c005=_0x38c005[_0x1cda82(0x2f1)](0x0);}}else _0x38c005=Number('0')[_0x1cda82(0x2f1)](0x2);if(_0x2cf0ce){if(Math[_0x1cda82(0x2a0)](_0x2cf0ce)<0.000001)_0x2cf0ce=_0x2cf0ce[_0x1cda82(0x2f1)](0x2);else{if(Math[_0x1cda82(0x2a0)](_0x2cf0ce)<0.1)_0x2cf0ce=_0x2cf0ce[_0x1cda82(0x2f1)](0x6);else{if(Math[_0x1cda82(0x2a0)](_0x2cf0ce)<0x1)_0x2cf0ce=_0x2cf0ce[_0x1cda82(0x2f1)](0x5);else{if(Math[_0x1cda82(0x2a0)](_0x2cf0ce)<0xa)_0x2cf0ce=_0x2cf0ce[_0x1cda82(0x2f1)](0x4);else{if(Math['abs'](_0x2cf0ce)<0x64)_0x2cf0ce=_0x2cf0ce[_0x1cda82(0x2f1)](0x3);else{if(Math[_0x1cda82(0x2a0)](_0x2cf0ce)<0x3e8)_0x2cf0ce=_0x2cf0ce['toFixed'](0x2);else _0x2cf0ce=_0x2cf0ce[_0x1cda82(0x2f1)](0x2);}}}}}}else _0x2cf0ce=Number('0')[_0x1cda82(0x2f1)](0x2);}else _0x38c005=Number('0')[_0x1cda82(0x2f1)](0x2);return{'value':_0x2cf0ce,'change':_0x38c005,'leftTxt':_0xfd5670,'rightTxt':_0x40cd82};}async function getStartingBalances(_0x4a1289,_0x302747=!![]){const _0x4a4a03=_0x7018d1;if(_0x4a1289['length']!==0x0){const [_0xcff498,_0x1a3820,_0x16818e]=getPerf(_0x4a1289[0x0],!![]);let _0x34ee25=[];config[_0x4a4a03(0x1eb)][_0x4a4a03(0x27b)](_0x4357b0=>{const _0x132ce1=_0x4a4a03;let _0x8cacc3=0x0,_0x57128a;config[_0x132ce1(0x2d2)][_0x132ce1(0x27b)](_0x58e179=>{const _0x594074=_0x132ce1;let _0x1b4f28=_0x58e179[_0x594074(0x29e)][_0x594074(0x307)](_0xcbe3dc=>_0xcbe3dc['coin']==_0x4357b0[_0x594074(0x1ef)]);if(_0x1b4f28){_0x8cacc3+=_0x1b4f28[_0x594074(0x26c)];if(!_0x57128a)_0x57128a=_0x1b4f28[_0x594074(0x2b9)];}}),_0x34ee25[_0x132ce1(0x193)]({'coin':_0x4357b0[_0x132ce1(0x1ef)],'number':_0x8cacc3,'initialprice':_0x57128a});});const _0x19c997={'basecoin':_0xcff498,'eur':_0x1a3820,'usd':_0x16818e,'coins':_0x34ee25};if(_0x302747)proxyEmit('starting-balances',_0x19c997);startingBalances=_0x19c997;}}function headlessMode(_0x3d6c09){const _0x126db6=_0x7018d1;let _0x2d70c4=_0x3d6c09[_0x126db6(0x1eb)],_0x4b1ba6=_0x3d6c09['threshold'],_0x5bda69=[];for(let _0x2c652a of _0x2d70c4){if(_0x2c652a['coin']!=config[_0x126db6(0x204)]){if(_0x2c652a[_0x126db6(0x263)]>=_0x4b1ba6/0x64){if(_0x2c652a[_0x126db6(0x284)])_0x5bda69[_0x126db6(0x193)](_0x2c652a);}else{if(_0x2c652a['delta']<=-_0x4b1ba6/0x64){if(_0x2c652a[_0x126db6(0x284)])_0x5bda69[_0x126db6(0x193)](_0x2c652a);}}}}_0x5bda69[_0x126db6(0x281)]>0x0&&(lockOrders==ORDERS[_0x126db6(0x1b0)]&&!coolingDown&&_0x5bda69[_0x126db6(0x27b)](_0x156293=>{const _0x168a43=_0x126db6;logger[_0x168a43(0x212)](_0x168a43(0x1a0)+_0x156293['coin']+'\x20'+_0x156293[_0x168a43(0x26c)]+'\x20'+_0x156293[_0x168a43(0x247)]+'\x20'+_0x156293[_0x168a43(0x2f3)]+'%\x20'+_0x156293[_0x168a43(0x191)]+'%\x20'+(0x64*_0x156293['delta'])[_0x168a43(0x2f1)](0x2)+_0x168a43(0x1c0)+_0x4b1ba6['toFixed'](0x2)+'%)');}),placeOrder(_0x5bda69));}function notifyBalance(_0x54f310){const _0xeb4751=_0x7018d1;let _0x2f2a55=_0x54f310[_0xeb4751(0x1eb)],_0x1eaa98=_0x54f310[_0xeb4751(0x1b7)],_0x4a9bea=[];for(let _0x332e01 of _0x2f2a55){if(_0x332e01[_0xeb4751(0x1ef)]!=config['basecoin']){if(_0x332e01[_0xeb4751(0x263)]>=_0x1eaa98/0x64){if(_0x332e01['valid'])_0x4a9bea[_0xeb4751(0x193)](_0x332e01);}else{if(_0x332e01['delta']<=-_0x1eaa98/0x64){if(_0x332e01[_0xeb4751(0x284)])_0x4a9bea[_0xeb4751(0x193)](_0x332e01);}}}}if(_0x4a9bea[_0xeb4751(0x281)]>0x0){let _0x1b5ace=_0x4a9bea[_0xeb4751(0x251)](_0x4693de=>_0x4693de[_0xeb4751(0x1ef)]);_0x1b5ace[_0xeb4751(0x23c)]();let _0x5afbce=_0x1b5ace['join'](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x5afbce;}}function symbolToCoin(_0x2da7ea){const _0x159577=_0x7018d1;let _0x2bbdf8;if(_0x2da7ea[_0x159577(0x194)]('/'+config[_0x159577(0x204)]))_0x2bbdf8=_0x2da7ea[_0x159577(0x308)]('/'+config[_0x159577(0x204)],'');if(_0x2da7ea[_0x159577(0x194)](config['basecoin']+'/'))_0x2bbdf8=_0x2da7ea[_0x159577(0x308)](config[_0x159577(0x204)]+'/','');return _0x2bbdf8;}async function unlockOrders(){const _0x1d1671=_0x7018d1;if(allOrdersPlaced&&lockOrders==ORDERS[_0x1d1671(0x2f2)]){logger[_0x1d1671(0x212)]('1\x20-\x20Unlock\x20orders'),lockOrders=ORDERS[_0x1d1671(0x2c0)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x37adda=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x37adda,blockTransactionDetection=![],validateOrdersState=_0x1d1671(0x255),persistOpenOrders([]),lockOrders=ORDERS['UNLOCKED'],logger[_0x1d1671(0x212)](_0x1d1671(0x19a));}}async function validateOrders(_0x42e252){const _0x98e940=_0x7018d1;if(_0x42e252)validateOrdersState=_0x42e252;logger['debug'](_0x98e940(0x2b4)+validateOrdersState+_0x98e940(0x1ae)+(lockOrders==0x1?_0x98e940(0x1d6):lockOrders==0x2?_0x98e940(0x1c5):_0x98e940(0x1ca)));let _0x44b014=[],_0x17a373=config['ordertype']=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x98e940(0x1c3)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x98e940(0x212)](_0x98e940(0x2eb)+validateOrdersState),lastOrders[_0x98e940(0x27b)](_0x4212df=>{const _0x3d09ec=_0x98e940;let _0x45880d=![];_0x4212df[_0x3d09ec(0x2dc)]>0x0&&(_0x45880d=!![]),_0x44b014[_0x3d09ec(0x193)](_0x45880d),_0x45880d&&config[_0x3d09ec(0x1f4)]!=_0x3d09ec(0x2af)&&logHistory('order','Order\x20filled:\x20'+_0x4212df[_0x3d09ec(0x2a5)]+'\x20'+_0x4212df[_0x3d09ec(0x1ce)]+'\x20#'+formatResult(_0x4212df[_0x3d09ec(0x2dc)],0x8)+'\x20@'+formatResult(_0x4212df[_0x3d09ec(0x2b9)],0x8));}),_0x44b014[_0x98e940(0x27b)]((_0x4463e9,_0x57df6a)=>{const _0x5f38d4=_0x98e940;if(_0x4463e9)lastOrders[_0x5f38d4(0x1a9)](_0x57df6a,0x1);}),persistOpenOrders(lastOrders);const _0x353248=coolingDown?_0x98e940(0x280):_0x98e940(0x28c);if(validateOrdersState=='initial'){validateOrdersState='ongoing';if(_0x44b014[_0x98e940(0x194)](![])){if(config['ordertype']=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x98e940(0x180)){if(_0x44b014[_0x98e940(0x194)](![])){}else{if(allOrdersPlaced){if(config[_0x98e940(0x1f4)]==_0x98e940(0x2af)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x98e940(0x1cf))_0x44b014['includes'](![])&&(config[_0x98e940(0x1f4)]==_0x98e940(0x2af)?logHistory(_0x98e940(0x176),_0x98e940(0x1e0)+Math[_0x98e940(0x186)](_0x17a373*validateOrderInterval/0xea60)+_0x98e940(0x15f)+_0x353248):(await cancelOrders(),logHistory(_0x98e940(0x176),_0x98e940(0x297)+Math[_0x98e940(0x186)](_0x17a373*validateOrderInterval/0xea60)+_0x98e940(0x15f)+_0x353248))),await unlockOrders();else{if(validateOrdersState=='no\x20open\x20orders'){if(config[_0x98e940(0x1f4)]!='market')logHistory(_0x98e940(0x176),_0x98e940(0x21b)+_0x353248);await unlockOrders();}}}}}async function cancelOrders(){const _0x1349e9=_0x7018d1;lastOrders[_0x1349e9(0x27b)](async _0x997fdf=>{const _0x28f116=_0x1349e9;try{const _0x2d4c66=await exchange[_0x28f116(0x279)](_0x997fdf['orderId'],_0x997fdf[_0x28f116(0x2a5)]);}catch(_0x1c7a6b){if(_0x1c7a6b[_0x28f116(0x17c)]()[_0x28f116(0x194)]('OrderNotFound')){}else await handleError(_0x1c7a6b,_0x28f116(0x242));}});}async function initCoinResults(_0x276692){const _0x18c2f5=_0x7018d1;_0x276692?logger[_0x18c2f5(0x212)](_0x18c2f5(0x181)+_0x276692):logger[_0x18c2f5(0x212)](_0x18c2f5(0x198)),config[_0x18c2f5(0x1eb)][_0x18c2f5(0x27b)](_0x15b200=>{const _0x52920e=_0x18c2f5;if(!_0x15b200['excluded']&&_0x15b200['coin']!=config[_0x52920e(0x204)]){const _0x28d53b=currentCoins[_0x52920e(0x307)](_0x1e4663=>_0x1e4663[_0x52920e(0x1ef)]==_0x15b200['coin']),_0x159528=gTicker[noslash(_0x15b200[_0x52920e(0x2a5)])];let _0x1bfa11=_0x28d53b?_0x28d53b[_0x52920e(0x26c)]:null,_0x1bfe25=_0x15b200[_0x52920e(0x2c9)]?0x1/_0x159528:_0x159528,_0x46097c;config['liquidity'][_0x52920e(0x27b)](_0x1101ef=>{const _0x212659=_0x52920e;!_0x46097c&&(_0x46097c=_0x1101ef[_0x212659(0x29e)][_0x212659(0x307)](_0x5784ab=>_0x5784ab[_0x212659(0x1ef)]==_0x15b200[_0x212659(0x1ef)]),_0x46097c&&(_0x1bfa11=_0x46097c[_0x212659(0x26c)],_0x1bfe25=_0x46097c[_0x212659(0x2b9)]));});let _0x493e59=dbCoinResults['get']('coins')[_0x52920e(0x307)]({'coin':_0x15b200[_0x52920e(0x1ef)]})['value']();if(!_0x493e59){const _0x2f1998={'coin':_0x15b200[_0x52920e(0x1ef)],'number':_0x1bfa11,'breakeven':_0x1bfe25,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x52920e(0x2f5)]('coins')['push'](_0x2f1998)[_0x52920e(0x1b4)]();}else{if(_0x276692&&_0x15b200[_0x52920e(0x1ef)]==_0x276692){const _0x4423a1={'coin':_0x15b200[_0x52920e(0x1ef)],'number':_0x1bfa11,'breakeven':_0x1bfe25,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get']('coins')[_0x52920e(0x307)]({'coin':_0x15b200[_0x52920e(0x1ef)]})['assign'](_0x4423a1)['write']();}}}});}async function updateCoinResults(_0x2f6568,_0x5a741a=![]){const _0x31d354=_0x7018d1;let _0x55f57e,_0x103f88,_0x623b11,_0xc556ad,_0x420104,_0x49af6f,_0x56a269=dbCoinResults[_0x31d354(0x2f5)]('coins')[_0x31d354(0x307)]({'coin':_0x2f6568['coin']})[_0x31d354(0x2ab)](),_0x47f084=![];_0x56a269&&Object[_0x31d354(0x192)](_0x56a269)[_0x31d354(0x27b)](([_0x55048b,_0x1b5e46])=>{if(_0x1b5e46==null)_0x47f084=!![];});(!_0x56a269||_0x47f084)&&(await initCoinResults(_0x2f6568[_0x31d354(0x1ef)]),_0x56a269=dbCoinResults[_0x31d354(0x2f5)]('coins')['find']({'coin':_0x2f6568[_0x31d354(0x1ef)]})['value']());_0x2f6568[_0x31d354(0x2c9)]&&(_0x49af6f={'filled':_0x2f6568['filled']*_0x2f6568[_0x31d354(0x2b9)],'amount':_0x2f6568['filled']*_0x2f6568[_0x31d354(0x2b9)],'side':_0x2f6568['side']=='sell'?'buy':_0x31d354(0x1cd),'price':0x1/_0x2f6568['price']},_0x2f6568={..._0x2f6568,..._0x49af6f});_0x5a741a?_0x103f88=_0x2f6568[_0x31d354(0x1ce)]==_0x31d354(0x22a)?_0x56a269[_0x31d354(0x26c)]+_0x2f6568[_0x31d354(0x2dc)]:_0x56a269[_0x31d354(0x26c)]-_0x2f6568[_0x31d354(0x2dc)]:_0x103f88=await getCoinNumber(_0x2f6568[_0x31d354(0x1ef)]);if(_0x2f6568[_0x31d354(0x2c7)]&&_0x2f6568[_0x31d354(0x2c7)][_0x31d354(0x2d9)]==config[_0x31d354(0x204)])_0x55f57e=Number(_0x2f6568[_0x31d354(0x2c7)][_0x31d354(0x290)]);else{if(_0x2f6568[_0x31d354(0x2c7)]&&_0x2f6568[_0x31d354(0x2c7)][_0x31d354(0x2d9)]==_0x31d354(0x288)&&!_0x5a741a&&config[_0x31d354(0x204)]!=_0x31d354(0x303))_0x55f57e=Number(_0x2f6568[_0x31d354(0x2c7)]['cost'])*gTicker[_0x31d354(0x288)+config[_0x31d354(0x204)]];else _0x55f57e=defaultFee*_0x2f6568[_0x31d354(0x2dc)]*_0x2f6568[_0x31d354(0x2b9)];}_0x2f6568[_0x31d354(0x1ce)]==_0x31d354(0x22a)?(_0x623b11=_0x103f88!=0x0?(_0x56a269[_0x31d354(0x245)]*_0x56a269[_0x31d354(0x26c)]+_0x2f6568[_0x31d354(0x2b9)]*(_0x103f88-_0x56a269[_0x31d354(0x26c)])+_0x55f57e)/_0x103f88:0x0,_0xc556ad=_0x56a269[_0x31d354(0x1ed)]):(_0x623b11=_0x103f88!=0x0?(_0x56a269[_0x31d354(0x245)]*_0x56a269[_0x31d354(0x26c)]-_0x2f6568[_0x31d354(0x2b9)]*(_0x56a269[_0x31d354(0x26c)]-_0x103f88)+_0x55f57e)/_0x103f88:0x0,_0xc556ad=_0x56a269[_0x31d354(0x1ed)]+(_0x2f6568['price']-_0x56a269[_0x31d354(0x245)])*_0x2f6568[_0x31d354(0x2dc)]);_0x420104=(_0x2f6568[_0x31d354(0x2b9)]-_0x623b11-_0x55f57e/_0x2f6568[_0x31d354(0x2dc)])*_0x103f88;let _0x4a274b={'coin':_0x2f6568[_0x31d354(0x1ef)],'number':_0x103f88,'breakeven':formatResult(_0x623b11,0x8),'realized':formatResult(_0xc556ad,0x8),'unrealized':formatResult(_0x420104,0x8),'fees':formatResult(_0x56a269['fees']+_0x55f57e,0x8),'sells':_0x2f6568[_0x31d354(0x1ce)]==_0x31d354(0x1cd)?_0x56a269[_0x31d354(0x2cc)]+0x1:_0x56a269[_0x31d354(0x2cc)],'buys':_0x2f6568[_0x31d354(0x1ce)]=='buy'?_0x56a269['buys']+0x1:_0x56a269[_0x31d354(0x24d)]};dbCoinResults[_0x31d354(0x2f5)](_0x31d354(0x169))['find']({'coin':_0x2f6568[_0x31d354(0x1ef)]})[_0x31d354(0x2d3)](_0x4a274b)[_0x31d354(0x1b4)]();if(!_0x5a741a){if(_0x2f6568[_0x31d354(0x2c7)]&&_0x2f6568[_0x31d354(0x2c7)][_0x31d354(0x2d9)]==_0x31d354(0x288)){const _0x28a140=currentCoins[_0x31d354(0x307)](_0x416ba1=>_0x416ba1['coin']==_0x31d354(0x288));if(_0x28a140){let _0x1e5f4b=dbCoinResults['get']('coins')[_0x31d354(0x307)]({'coin':_0x31d354(0x288)})[_0x31d354(0x2ab)]();_0x4a274b={..._0x1e5f4b,'number':_0x28a140[_0x31d354(0x26c)]},dbCoinResults[_0x31d354(0x2f5)](_0x31d354(0x169))[_0x31d354(0x307)]({'coin':'BNB'})[_0x31d354(0x2d3)](_0x4a274b)[_0x31d354(0x1b4)]();}}}}async function placeOrder(_0x30a0df){const _0x57b234=_0x7018d1,_0x17ec51=config[_0x57b234(0x1f4)]==_0x57b234(0x2af)?'market':_0x57b234(0x1d9);if(lockOrders==ORDERS[_0x57b234(0x1b0)]&&!coolingDown){while(transactionDetectionOngoing){await sleep(0x64);}lockOrders=ORDERS[_0x57b234(0x2f2)],lastCoinsToBalance='',allOrdersPlaced=![],validateOrdersState=_0x57b234(0x255);let _0x44ab52=![];lastOrders=[];for(const _0x3b4018 of _0x30a0df){let _0x406300,_0x507c2f,_0x260cee,_0x216309,_0x15227b,_0x28f66e=_0x3b4018[_0x57b234(0x2a5)];try{const _0x2e187c=await exchange[_0x57b234(0x2ea)](_0x28f66e);_0x406300=_0x3b4018['reverse']?0x1/_0x3b4018[_0x57b234(0x247)]:_0x3b4018[_0x57b234(0x247)],_0x507c2f=_0x2e187c[_0x57b234(0x216)],_0x260cee=_0x2e187c[_0x57b234(0x1d3)];_0x3b4018['reverse']?(_0x216309=_0x3b4018[_0x57b234(0x1ce)]=='buy'?'sell':_0x57b234(0x22a),_0x15227b=Math['abs'](_0x3b4018[_0x57b234(0x2be)])/_0x406300):(_0x216309=_0x3b4018['side'],_0x15227b=Math['abs'](_0x3b4018[_0x57b234(0x2be)]));_0x17ec51==_0x57b234(0x1d9)&&(config[_0x57b234(0x1f4)]==_0x57b234(0x170)&&(_0x406300=_0x216309==_0x57b234(0x22a)?_0x507c2f:_0x260cee),config[_0x57b234(0x1f4)]=='limit-low'&&(_0x406300=_0x216309==_0x57b234(0x22a)?_0x260cee:_0x507c2f));_0x15227b=formatResult(_0x15227b,0x8),_0x406300=formatResult(_0x406300,0x8);const _0x1a4ee9=_0x216309==_0x57b234(0x1cd)?config[_0x57b234(0x1cb)]?String[_0x57b234(0x23a)]('0x'+config['emojisell'])+'\x20':'':config[_0x57b234(0x17a)]?String[_0x57b234(0x23a)]('0x'+config['emojibuy'])+'\x20':'',_0x326e99=_0x17ec51==_0x57b234(0x2af)?'Market':config['ordertype']=='limit-high'?_0x57b234(0x2c4):_0x57b234(0x22d),_0x285567=(Math[_0x57b234(0x23b)](Math[_0x57b234(0x18c)]()*0x35a4e900)+0x5f5e100)['toString']();lastOrders['push']({'customId':_0x285567,'symbol':_0x28f66e,'coin':_0x3b4018[_0x57b234(0x1ef)],'amount':_0x15227b,'price':_0x406300,'side':_0x216309,'reverse':_0x3b4018['reverse'],'filled':0x0});if(_0x17ec51=='market')logHistory(_0x57b234(0x201),''+_0x1a4ee9+_0x326e99+_0x57b234(0x1f2)+_0x28f66e+'\x20'+_0x216309+'\x20#'+formatResult(_0x15227b,0x8)+'\x20@'+formatResult(_0x406300,0x8));else logHistory('order',''+_0x1a4ee9+_0x326e99+_0x57b234(0x1f2)+_0x28f66e+'\x20'+_0x216309+'\x20#'+formatResult(_0x15227b,0x8)+'\x20@'+formatResult(_0x406300,0x8));let _0x3ebe94;_0x17ec51==_0x57b234(0x2af)?_0x216309==_0x57b234(0x22a)&&['Bybit','Bitget',_0x57b234(0x1e5),_0x57b234(0x167),'Huobipro'][_0x57b234(0x194)](config[_0x57b234(0x1ab)])?_0x3ebe94=await exchange[_0x57b234(0x287)](_0x28f66e,_0x17ec51,_0x216309,_0x15227b,_0x406300):_0x3ebe94=await exchange['createOrder'](_0x28f66e,_0x17ec51,_0x216309,_0x15227b,undefined):_0x3ebe94=await exchange['createOrder'](_0x28f66e,_0x17ec51,_0x216309,_0x15227b,_0x406300);logger[_0x57b234(0x212)]('ID:\x20'+_0x3ebe94['id']+'\x20|\x20Custom\x20ID:\x20'+_0x285567);const _0x19ebd8=lastOrders['length']-0x1;if(_0x19ebd8>=0x0&&lastOrders[_0x19ebd8]['customId']==_0x285567){lastOrders[_0x19ebd8][_0x57b234(0x1dd)]=_0x3ebe94['id'];if(_0x3ebe94[_0x57b234(0x2e8)])lastOrders[_0x19ebd8][_0x57b234(0x2e8)]=_0x3ebe94['amount'];if(_0x3ebe94[_0x57b234(0x2b9)])lastOrders[_0x19ebd8][_0x57b234(0x2b9)]=_0x3ebe94[_0x57b234(0x2b9)];lastOrders[_0x19ebd8][_0x57b234(0x2c7)]=_0x3ebe94[_0x57b234(0x2c7)];}if(config[_0x57b234(0x1f7)]!=0x0){let _0x379f07=null;if(cooldownTracker[_0x57b234(0x281)]==config[_0x57b234(0x1f7)]-0x1)_0x379f07=cooldownTracker[_0x57b234(0x21a)]();const _0xd581ef=getTimeStamp();cooldownTracker[_0x57b234(0x193)](_0xd581ef);if(_0x379f07){const _0x8f2366=fns['differenceInSeconds'](new Date(_0xd581ef),new Date(_0x379f07));if(_0x8f2366<cooldownInterval){logHistory(_0x57b234(0x2e4),_0x57b234(0x196)+config[_0x57b234(0x1f7)]+_0x57b234(0x1e3)+cooldownInterval/0x3c+_0x57b234(0x1a8)+cooldownPeriod/(0xe10*0x3e8)+_0x57b234(0x29d)),coolingDown=!![];break;}}}}catch(_0x4769bb){if(_0x4769bb[_0x57b234(0x17c)]()['includes']('MIN_NOTIONAL'))lastOrders=lastOrders[_0x57b234(0x2ef)](_0x20a48b=>_0x20a48b['symbol']!=_0x28f66e),logHistory(_0x57b234(0x2e4),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x28f66e),_0x44ab52=!![];else{if(_0x4769bb[_0x57b234(0x17c)]()[_0x57b234(0x194)](_0x57b234(0x1fe)))lastOrders=lastOrders[_0x57b234(0x2ef)](_0x36e984=>_0x36e984[_0x57b234(0x2a5)]!=_0x28f66e),logHistory(_0x57b234(0x2e4),_0x57b234(0x2fc)+_0x28f66e),_0x44ab52=!![];else{if(_0x4769bb[_0x57b234(0x17c)]()[_0x57b234(0x194)](_0x57b234(0x2a2)))lastOrders=lastOrders[_0x57b234(0x2ef)](_0x1eef3d=>_0x1eef3d[_0x57b234(0x2a5)]!=_0x28f66e),logHistory('error','Order\x20is\x20invalid:\x20'+_0x28f66e),logger[_0x57b234(0x212)](_0x4769bb),_0x44ab52=!![];else _0x4769bb[_0x57b234(0x17c)]()[_0x57b234(0x194)](_0x57b234(0x1a3))?(lastOrders=lastOrders[_0x57b234(0x2ef)](_0x2446e0=>_0x2446e0[_0x57b234(0x2a5)]!=_0x28f66e),logHistory(_0x57b234(0x2e4),_0x57b234(0x260)+_0x28f66e),_0x44ab52=!![]):(lastOrders=lastOrders['filter'](_0x44dac5=>_0x44dac5[_0x57b234(0x2a5)]!=_0x28f66e),await handleError(_0x4769bb,_0x57b234(0x2f7),_0x28f66e));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x57b234(0x281)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x172e06=config[_0x57b234(0x1f4)]==_0x57b234(0x2af)?validateOrderTimeout*0x3c*0x3e8:config['timeout']*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x172e06);}else unlockOrders();_0x44ab52&&config['headless']&&(logHistory(_0x57b234(0x2e4),_0x57b234(0x24e)+pauseBotMsg),await pauseBot(pauseBotInterval)),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x57b234(0x176),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config[_0x57b234(0x1ba)]&&logHistory(_0x57b234(0x2e4),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS['UNLOCKED']&&(!config[_0x57b234(0x1ba)]&&(config['ordertype']==_0x57b234(0x2af)?logHistory(_0x57b234(0x2e4),_0x57b234(0x223)):logHistory(_0x57b234(0x2e4),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x9a8279){const _0x54eff0=_0x7018d1,_0x5f540d={...config,'openOrders':_0x9a8279};let _0x472d6d=dbConfig[_0x54eff0(0x2f5)](_0x54eff0(0x213))[_0x54eff0(0x307)]({'botID':botID})['value']();_0x472d6d&&dbConfig[_0x54eff0(0x2f5)](_0x54eff0(0x213))[_0x54eff0(0x307)]({'botID':botID})['assign'](_0x5f540d)[_0x54eff0(0x1b4)]();}function restoreOrders(){const _0x4af217=_0x7018d1;let _0x15b5cc;config[_0x4af217(0x18b)]&&allOpenOrders[_0x4af217(0x27b)](_0x52e70b=>{const _0x5cbe9d=_0x4af217,_0x2ad6e4=config[_0x5cbe9d(0x18b)][_0x5cbe9d(0x307)](_0x35bd5c=>_0x35bd5c['orderId']==_0x52e70b['id']);_0x2ad6e4&&(lastOrders[_0x5cbe9d(0x193)](_0x2ad6e4),_0x15b5cc=_0x52e70b[_0x5cbe9d(0x29f)]);});if(lastOrders[_0x4af217(0x281)]>0x0){lockOrders=ORDERS[_0x4af217(0x2f2)],validateOrdersState=_0x4af217(0x180),allOrdersPlaced=!![];const _0x146c26=new Date()[_0x4af217(0x2d8)](),_0x155478=config['ordertype']==_0x4af217(0x2af)?validateOrderTimeout*0x3c*0x3e8:config[_0x4af217(0x1c3)]*0x3c*0x3e8;if(_0x15b5cc+_0x155478>_0x146c26){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){validateOrders('final');},_0x15b5cc+_0x155478-_0x146c26);}else validateOrders(_0x4af217(0x1cf));}}async function sendMetricsTelegram(){const _0x2f3be5=_0x7018d1;if(!coinsLoaded){process['send']({'telegrammsg':_0x2f3be5(0x289)},_0x2d804d=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x7203a4='';if(config['showname'])_0x7203a4=_0x2f3be5(0x17f)+config[_0x2f3be5(0x1e1)]+'\x20metrics:</b>\x20\x0a\x0a';else _0x7203a4='<b>Bot\x20'+botID+_0x2f3be5(0x28a);const _0x3bb4c7=getKPIs(_0x2f3be5(0x204)),_0x4e58c7=getKPIs(_0x2f3be5(0x295),config[_0x2f3be5(0x295)]),_0x284e13=getKPIs(_0x2f3be5(0x20d)),_0x385b16=getKPIs(_0x2f3be5(0x19e),config[_0x2f3be5(0x295)]);_0x7203a4+=_0x2f3be5(0x1be),_0x7203a4+=_0x3bb4c7[_0x2f3be5(0x29a)]+'\x20:\x20'+_0x3bb4c7['value']+'\x0a',_0x7203a4+=_0x3bb4c7[_0x2f3be5(0x28d)]+':\x20'+_0x3bb4c7[_0x2f3be5(0x1f3)]+'%\x0a',_0x7203a4+=_0x4e58c7[_0x2f3be5(0x29a)]+_0x2f3be5(0x2a7)+_0x4e58c7[_0x2f3be5(0x2ab)]+'\x0a',_0x7203a4+=_0x4e58c7[_0x2f3be5(0x28d)]+':\x20'+_0x4e58c7[_0x2f3be5(0x1f3)]+'%\x0a',_0x7203a4+=_0x284e13[_0x2f3be5(0x29a)]+':\x20'+_0x284e13[_0x2f3be5(0x2ab)]+'\x20('+config['basecoin']+')\x0a',_0x7203a4+=_0x284e13[_0x2f3be5(0x28d)]+':\x20'+_0x284e13[_0x2f3be5(0x1f3)]+_0x2f3be5(0x1c0)+config[_0x2f3be5(0x204)]+')\x0a',_0x7203a4+=_0x385b16[_0x2f3be5(0x29a)]+':\x20'+_0x385b16[_0x2f3be5(0x2ab)]+'\x20('+config['fiat']+')\x0a',_0x7203a4+=_0x385b16[_0x2f3be5(0x28d)]+':\x20'+_0x385b16[_0x2f3be5(0x1f3)]+_0x2f3be5(0x1c0)+config[_0x2f3be5(0x295)]+')\x0a',_0x7203a4+=_0x2f3be5(0x16f),process[_0x2f3be5(0x306)]({'telegrammsg':_0x7203a4},_0x291478=>{});}async function sendPortfolioTelegram(){const _0x352b03=_0x7018d1;if(!coinsLoaded||!currentCoins[0x0][_0x352b03(0x2f3)]){process[_0x352b03(0x306)]({'telegrammsg':_0x352b03(0x289)},_0x202681=>{});return;}let _0x3496fa='';if(config['showname'])_0x3496fa='<b>'+config[_0x352b03(0x1e1)]+_0x352b03(0x302);else _0x3496fa=_0x352b03(0x205)+botID+_0x352b03(0x302);_0x3496fa+='<pre>',_0x3496fa+=_0x352b03(0x1c8),_0x3496fa+=_0x352b03(0x25c),_0x3496fa+=_0x352b03(0x1c8),currentCoins[_0x352b03(0x27b)](_0x2b79ae=>{const _0x59852d=_0x352b03;_0x3496fa+=_0x2b79ae[_0x59852d(0x1ef)]['padEnd'](0x7)+'|\x20'+formatPad(_0x2b79ae['distribution'],0x2,0x6)+'|\x20'+formatPad(_0x2b79ae['target'],0x2,0x6)+'|\x20'+formatPad(_0x2b79ae[_0x59852d(0x263)]*0x64,0x2,0x6)+'\x0a';}),_0x3496fa+='</pre>',process[_0x352b03(0x306)]({'telegrammsg':_0x3496fa},_0x7b46c5=>{});}function formatPad(_0x56eee5,_0x485442,_0x37fb88){const _0x573ed5=_0x7018d1,_0x307bd2=formatResultString(_0x56eee5,_0x485442);return _0x307bd2?_0x307bd2['padStart'](_0x37fb88):''[_0x573ed5(0x187)](_0x37fb88);}function logHistory(_0x5edb1a,_0x2ec58f,_0x2207db=''){const _0x12e126=_0x7018d1;logger['full'](''+_0x2ec58f);let _0x54eb0f={'time':getTimeStamp(),'type':_0x5edb1a,'event':_0x2ec58f};dbLogs[_0x12e126(0x2f5)](_0x12e126(0x2cf))[_0x12e126(0x193)](_0x54eb0f)[_0x12e126(0x1b4)]();if(_0x2207db=='')_0x2207db=_0x2ec58f;proxyEmit('event',{'log':_0x54eb0f,'summary':_0x2207db}),process[_0x12e126(0x306)]({'telegram':{..._0x54eb0f,'botname':config[_0x12e126(0x1e1)],'showname':config[_0x12e126(0x23e)]}},_0x52351b=>{});}function emitHistory(_0x150339={}){const _0x15265f=_0x7018d1;Object['keys'](_0x150339)['length']==0x0&&(_0x150339={'type':[_0x15265f(0x201),_0x15265f(0x2d4)],'event':'','page':0x1});if(_0x150339['type'][_0x15265f(0x194)](_0x15265f(0x2d4)))_0x150339[_0x15265f(0x2c6)][_0x15265f(0x1a9)](_0x150339[_0x15265f(0x2c6)][_0x15265f(0x1db)](_0x15265f(0x2d4)),0x1,_0x15265f(0x2e4),_0x15265f(0x1d2),'success');if(dbLogs[_0x15265f(0x2fd)](_0x15265f(0x2cf))[_0x15265f(0x2ab)]()){let _0x2cfe32=dbLogs[_0x15265f(0x2f5)](_0x15265f(0x2cf))[_0x15265f(0x2ef)](_0x1b25b0=>{const _0x413da8=_0x15265f;if(_0x150339[_0x413da8(0x2c6)][_0x413da8(0x281)]==0x0)return![];else return _0x150339[_0x413da8(0x2c6)][_0x413da8(0x194)](_0x1b25b0['type']);})[_0x15265f(0x2ef)](_0x98e2e7=>{const _0x380cdd=_0x15265f;if(_0x150339[_0x380cdd(0x2d4)]=='')return!![];else return _0x98e2e7[_0x380cdd(0x2d4)][_0x380cdd(0x210)]()['includes'](_0x150339[_0x380cdd(0x2d4)][_0x380cdd(0x210)]());})[_0x15265f(0x214)](_0x15265f(0x230)),_0x4f4a55=_0x2cfe32[_0x15265f(0x2ab)]()[_0x15265f(0x281)];_0x2cfe32=_0x2cfe32['reverse']()['slice']((_0x150339['page']-0x1)*logPageSize,_0x150339[_0x15265f(0x24f)]*logPageSize-0x1)['reverse']()[_0x15265f(0x2ab)](),proxyEmit(_0x15265f(0x1ad),{'logs':_0x2cfe32,'total':_0x4f4a55});}else proxyEmit(_0x15265f(0x1ad),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x117996){const _0x5a74e7=_0x7018d1;if(dbLogs[_0x5a74e7(0x2fd)](_0x5a74e7(0x2cf))['value']()){const _0x4150c1=dbLogs[_0x5a74e7(0x2f5)]('logs')[_0x5a74e7(0x214)](_0x5a74e7(0x230))[_0x5a74e7(0x2ef)](_0x401cee=>{return _0x401cee['type']=='order';})['value']();dbLogs[_0x5a74e7(0x2f5)](_0x5a74e7(0x2cf))[_0x5a74e7(0x252)]()[_0x5a74e7(0x1b4)](),dbLogs[_0x5a74e7(0x2f5)](_0x5a74e7(0x2cf))[_0x5a74e7(0x2d3)](_0x4150c1)['write'](),emitHistory(_0x117996);}}async function pauseBot(_0x5452fe=pauseBotIntervalShort,_0x9ca001){const _0xc34515=_0x7018d1,_0x291951=new Date()[_0xc34515(0x2d8)]();if(!lastErrorShown||_0x291951-lastErrorShown>=_0x5452fe){lastErrorShown=_0x291951;!lastBotPause?(lastBotPause=_0x291951,consecutivePauses=0x1):(_0x291951-lastBotPause-_0x5452fe<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>maxPauseRetries&&(logHistory(_0xc34515(0x2e4),_0x9ca001+pauseBotMsg),_0x5452fe=pauseBotInterval)):consecutivePauses=0x1,lastBotPause=_0x291951);if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x5452fe),botPaused=![],reset(!![]);}}}async function killBot(){const _0x3a6c14=_0x7018d1;botPaused=!![],await sleep(0x3e8),process[_0x3a6c14(0x306)]({'stop':_0x3a6c14(0x232)},_0x1c5486=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x40dbb9,_0x7b4f3d){const _0x3c02ba=_0x7018d1;if(botPaused)return;const _0x363a03=config[_0x3c02ba(0x1ab)]||'Exchange';if(_0x7b4f3d)logger[_0x3c02ba(0x212)](_0x3c02ba(0x2a8)+_0x7b4f3d);const _0x5b7d0a=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x40dbb9[_0x3c02ba(0x17c)]()['includes'](_0x3c02ba(0x2da)))logHistory('error',_0x363a03+_0x3c02ba(0x254)),_0x5b7d0a();else{if(_0x40dbb9['toString']()[_0x3c02ba(0x194)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0x3c02ba(0x2e4),_0x363a03+_0x3c02ba(0x206)),_0x5b7d0a();else _0x40dbb9[_0x3c02ba(0x17c)]()['includes']('AuthenticationError')?(logHistory(_0x3c02ba(0x2e4),_0x363a03+_0x3c02ba(0x227)),logHistory(_0x3c02ba(0x2e4),_0x3c02ba(0x26f)),_0x5b7d0a()):await handleError(_0x40dbb9,null);}}async function handleError(_0x862b51,_0x2e1f12,_0x4f622b=''){const _0x3be9e4=_0x7018d1;if(botPaused)return;let _0x1bfb1b;const _0x2b38ee=config['exchange']||_0x3be9e4(0x293);if(_0x2e1f12)logger[_0x3be9e4(0x212)]('Exception\x20thrown\x20in\x20'+_0x2e1f12);if(_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x194)]('DDoSProtection'))_0x1bfb1b=_0x2b38ee+_0x3be9e4(0x22b),logger[_0x3be9e4(0x212)](_0x1bfb1b+_0x3be9e4(0x1d4),_0x862b51['toString']()),await pauseBot(undefined,_0x1bfb1b);else{if(_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x194)](_0x3be9e4(0x239)))_0x1bfb1b=_0x2b38ee+_0x3be9e4(0x23d),logger['debug'](_0x1bfb1b+_0x3be9e4(0x1d4),_0x862b51[_0x3be9e4(0x17c)]()),await pauseBot(undefined,_0x1bfb1b);else{if(_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x194)](_0x3be9e4(0x17b))||_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x194)]('OnMaintenance'))_0x1bfb1b=_0x2b38ee+_0x3be9e4(0x300),logger['debug'](_0x1bfb1b+'\x20>\x20details:',_0x862b51['toString']()),await pauseBot(undefined,_0x1bfb1b);else{if(_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x194)](_0x3be9e4(0x2b2)))_0x1bfb1b=_0x2b38ee+'\x20not\x20responding\x20(see:\x20hodlerhacks.com/fix/5)',logger['debug'](_0x1bfb1b+_0x3be9e4(0x1d4),_0x862b51[_0x3be9e4(0x17c)]()),await pauseBot(undefined,_0x1bfb1b);else{if(_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x194)](_0x3be9e4(0x2e2)))_0x1bfb1b=_0x2b38ee+'\x20closed\x20the\x20connection\x20(see:\x20hodlerhacks.com/fix/5)',logger[_0x3be9e4(0x212)](_0x1bfb1b+_0x3be9e4(0x1d4),_0x862b51[_0x3be9e4(0x17c)]()),await pauseBot(undefined,_0x1bfb1b);else{if(_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x210)]()[_0x3be9e4(0x194)](_0x3be9e4(0x29f))||_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x210)]()[_0x3be9e4(0x194)]('request-time'))_0x1bfb1b='Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(see:\x20hodlerhacks.com/fix/3)',logger[_0x3be9e4(0x212)](_0x1bfb1b+_0x3be9e4(0x1d4),_0x862b51['toString']()),await pauseBot(undefined,_0x1bfb1b);else{if(_0x862b51['toString']()[_0x3be9e4(0x194)](_0x3be9e4(0x2df)))_0x1bfb1b=_0x2b38ee+_0x3be9e4(0x178),logger['debug'](_0x1bfb1b+_0x3be9e4(0x1d4),_0x862b51[_0x3be9e4(0x17c)]()),await pauseBot(undefined,_0x1bfb1b);else{if(_0x862b51 instanceof ccxt['NetworkError'])_0x1bfb1b=_0x2b38ee+_0x3be9e4(0x276),logger[_0x3be9e4(0x212)](_0x1bfb1b+_0x3be9e4(0x1d4),_0x862b51[_0x3be9e4(0x17c)]()),await pauseBot(undefined,_0x1bfb1b);else{if(_0x862b51['toString']()[_0x3be9e4(0x194)](_0x3be9e4(0x2da)))logHistory(_0x3be9e4(0x2e4),_0x2b38ee+'\x20API\x20key\x20is\x20invalid'),logHistory(_0x3be9e4(0x2e4),_0x3be9e4(0x15c)),await killBot();else{if(_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x194)](_0x3be9e4(0x19d)))logHistory(_0x3be9e4(0x2e4),_0x2b38ee+_0x3be9e4(0x18a)),logHistory(_0x3be9e4(0x2e4),_0x3be9e4(0x15c)),await killBot();else{if(_0x862b51[_0x3be9e4(0x17c)]()['includes'](_0x3be9e4(0x221)))logHistory(_0x3be9e4(0x2e4),_0x2b38ee+'\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange'),logHistory(_0x3be9e4(0x2e4),_0x3be9e4(0x15c)),await killBot();else{if(_0x862b51[_0x3be9e4(0x17c)]()['includes'](_0x3be9e4(0x292)))logHistory('error',_0x2b38ee+'\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions'),logHistory(_0x3be9e4(0x2e4),_0x3be9e4(0x15c)),await killBot();else{if(_0x862b51[_0x3be9e4(0x17c)]()[_0x3be9e4(0x194)](_0x3be9e4(0x1c9)))logHistory(_0x3be9e4(0x2e4),'Insufficient\x20funds\x20to\x20execute\x20order:\x20'+_0x4f622b);else{if(_0x862b51 instanceof ccxt['ExchangeError']){logHistory(_0x3be9e4(0x2e4),_0x2b38ee+_0x3be9e4(0x2f6)),logger[_0x3be9e4(0x212)](_0x3be9e4(0x189),_0x862b51);if(_0x4f622b)logger[_0x3be9e4(0x212)](_0x3be9e4(0x226)+_0x4f622b);}else{_0x1bfb1b=_0x3be9e4(0x266),logger[_0x3be9e4(0x212)](_0x1bfb1b+_0x3be9e4(0x1d4),_0x862b51);if(_0x4f622b)logger[_0x3be9e4(0x212)](_0x3be9e4(0x226)+_0x4f622b);await pauseBot(undefined,_0x1bfb1b);}}}}}}}}}}}}}}}async function withRetry(_0x21cb6b,_0x4c342c){const _0x3a995e=_0x7018d1;let _0x59ffd9=![],_0x4f6c04=0x0,_0x1f1605,_0x2c1ebd;while(_0x4f6c04<maxRetries){try{_0x1f1605=await _0x4c342c();break;}catch(_0xb39aa1){_0x2c1ebd=_0xb39aa1,!_0x59ffd9?(_0x59ffd9=!![],logger[_0x3a995e(0x212)](_0x3a995e(0x2c5)+_0x21cb6b+':',_0xb39aa1[_0x3a995e(0x17c)]())):await sleep(retryInterval);}_0x4f6c04++;}if(_0x4f6c04==0x0)return _0x1f1605;if(_0x4f6c04>=maxRetries)throw _0x2c1ebd;else return logger[_0x3a995e(0x212)](_0x3a995e(0x26d)+_0x4f6c04+_0x3a995e(0x237)),_0x1f1605;}function formatResult(_0x4f1381,_0x23cdea){const _0x4f5256=_0x7018d1;return parseFloat(_0x4f1381[_0x4f5256(0x2f1)](_0x23cdea));}function formatResultTruncate(_0x3e339c,_0x5bf12b){let _0x536244=formatResultString(_0x3e339c,0xa),_0x929a8c=_0x536244['indexOf']('.');return _0x929a8c!=-0x1&&(_0x536244=_0x536244['slice'](0x0,_0x929a8c+_0x5bf12b+0x1)),Number(_0x536244);}function formatResultString(_0x57fcdd,_0x49088f){const _0xb7be4c=_0x7018d1;let _0x33c304;if(!(''+_0x57fcdd)[_0xb7be4c(0x194)]('e'))_0x33c304=+(Math[_0xb7be4c(0x186)](_0x57fcdd+'e+'+_0x49088f)+'e-'+_0x49088f);else{let _0x48e74c=(''+_0x57fcdd)[_0xb7be4c(0x2b0)]('e'),_0x4e80d4='';+_0x48e74c[0x1]+_0x49088f>0x0&&(_0x4e80d4='+'),_0x33c304=+(Math['round'](+_0x48e74c[0x0]+'e'+_0x4e80d4+(+_0x48e74c[0x1]+_0x49088f))+'e-'+_0x49088f);}return Number(_0x33c304)['toFixed'](_0x49088f);}function getServerTime(){const _0x1b1ce2=_0x7018d1,_0x111a61=new Date();return _0x111a61[_0x1b1ce2(0x185)]()+'/'+(_0x111a61[_0x1b1ce2(0x1d1)]()+0x1)[_0x1b1ce2(0x17c)]()['padStart'](0x2,'0')+'/'+_0x111a61['getDate']()[_0x1b1ce2(0x17c)]()[_0x1b1ce2(0x187)](0x2,'0')+'\x20'+_0x111a61[_0x1b1ce2(0x224)]()[_0x1b1ce2(0x17c)]()[_0x1b1ce2(0x187)](0x2,'0')+':'+_0x111a61[_0x1b1ce2(0x163)]()[_0x1b1ce2(0x17c)]()[_0x1b1ce2(0x187)](0x2,'0')+':'+_0x111a61[_0x1b1ce2(0x2ee)]()[_0x1b1ce2(0x17c)]()[_0x1b1ce2(0x187)](0x2,'0');}function getTimeStamp(){const _0x5c1dd7=_0x7018d1,_0x3a5e22=shiftedTime();return _0x3a5e22[_0x5c1dd7(0x185)]()+'/'+(_0x3a5e22[_0x5c1dd7(0x1d1)]()+0x1)[_0x5c1dd7(0x17c)]()['padStart'](0x2,'0')+'/'+_0x3a5e22[_0x5c1dd7(0x283)]()['toString']()[_0x5c1dd7(0x187)](0x2,'0')+'\x20'+_0x3a5e22[_0x5c1dd7(0x224)]()[_0x5c1dd7(0x17c)]()['padStart'](0x2,'0')+':'+_0x3a5e22[_0x5c1dd7(0x163)]()[_0x5c1dd7(0x17c)]()[_0x5c1dd7(0x187)](0x2,'0')+':'+_0x3a5e22[_0x5c1dd7(0x2ee)]()[_0x5c1dd7(0x17c)]()[_0x5c1dd7(0x187)](0x2,'0');}function getDate(){const _0x1c6348=_0x7018d1,_0x423505=shiftedTime();return _0x423505['getFullYear']()+'/'+(_0x423505['getMonth']()+0x1)[_0x1c6348(0x17c)]()[_0x1c6348(0x187)](0x2,'0')+'/'+_0x423505[_0x1c6348(0x283)]()['toString']()['padStart'](0x2,'0');}function getHour(){const _0xcb4b32=_0x7018d1,_0x14a389=shiftedTime();return _0x14a389[_0xcb4b32(0x224)]()[_0xcb4b32(0x17c)]()['padStart'](0x2,'0');}function sleep(_0x5ed4a7){return new Promise(_0x21770a=>setTimeout(_0x21770a,_0x5ed4a7));}function shiftedTime(){const _0x120378=_0x7018d1,_0x1399f2=new Date();let _0x1d8159=_0x1399f2;if(config&&config['timeshift']!==0x0)_0x1d8159=fns['add'](_0x1399f2,{'hours':config[_0x120378(0x1dc)]});return _0x1d8159;}function timer(_0x4ff986){const _0xaa87f0=_0x7018d1,_0x92ecde=new Date();!lasttime?console['log'](getTimeStamp()+_0xaa87f0(0x162),_0x4ff986,_0x92ecde):console[_0xaa87f0(0x20c)](getTimeStamp()+_0xaa87f0(0x162),_0x4ff986,(_0x92ecde-lasttime)/0x3e8),lasttime=_0x92ecde;}