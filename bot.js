const _0x548c23=_0x2bfc;(function(_0x32449f,_0x2d97bb){const _0x1396a7=_0x2bfc,_0x39684b=_0x32449f();while(!![]){try{const _0x2f6a07=-parseInt(_0x1396a7(0x238))/0x1*(parseInt(_0x1396a7(0x1e9))/0x2)+-parseInt(_0x1396a7(0x212))/0x3*(-parseInt(_0x1396a7(0x2de))/0x4)+parseInt(_0x1396a7(0x273))/0x5*(-parseInt(_0x1396a7(0x296))/0x6)+-parseInt(_0x1396a7(0x21d))/0x7+-parseInt(_0x1396a7(0x2ed))/0x8+parseInt(_0x1396a7(0x2c7))/0x9*(-parseInt(_0x1396a7(0x234))/0xa)+-parseInt(_0x1396a7(0x240))/0xb*(-parseInt(_0x1396a7(0x2d2))/0xc);if(_0x2f6a07===_0x2d97bb)break;else _0x39684b['push'](_0x39684b['shift']());}catch(_0x16d237){_0x39684b['push'](_0x39684b['shift']());}}}(_0x3e94,0x99bb4));const _0x916e53=function(){let _0xcc25ba=!![];return function(_0x4e6077,_0x254599){const _0x4898aa=_0xcc25ba?function(){const _0x289b40=_0x2bfc;if(_0x254599){const _0x1af9d4=_0x254599[_0x289b40(0x275)](_0x4e6077,arguments);return _0x254599=null,_0x1af9d4;}}:function(){};return _0xcc25ba=![],_0x4898aa;};}(),_0x5a5c0a=_0x916e53(this,function(){const _0x3e018f=_0x2bfc;return _0x5a5c0a[_0x3e018f(0x2e9)]()['search'](_0x3e018f(0x28d))[_0x3e018f(0x2e9)]()[_0x3e018f(0x26b)](_0x5a5c0a)[_0x3e018f(0x227)](_0x3e018f(0x28d));});_0x5a5c0a();'use strict';const ccxt=require(_0x548c23(0x2ca)),low=require(_0x548c23(0x29c)),FileSync=require(_0x548c23(0x1d6)),fs=require('fs'),fns=require(_0x548c23(0x253)),{WebsocketClient,DefaultLogger}=require(_0x548c23(0x237)),Crypt=require(_0x548c23(0x2ac))[_0x548c23(0x218)];let exchange,wsClient;global[_0x548c23(0x1d5)]={};let ws1=[],ws2=null;const exceptions=[_0x548c23(0x2f9),'HOT/BTC',_0x548c23(0x201),_0x548c23(0x26a),'NANO/',_0x548c23(0x245)];let config,markets,allSymbols,currentCoins=[],previousCoins=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,lockOrders=![],lastOrders,cooldownTracker=[],coolingDown=![];const resetInterval=0xe10*0x3e8,cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c;let initialPerformanceStored;const logPageSize=0x14;let wsinitialized=![],pidBalances,pidOrders,botPaused=![],lastCoinsToBalance='',loadingCanceled=![],loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};const serverversion=require(_0x548c23(0x293))[_0x548c23(0x223)],botID=process[_0x548c23(0x1e7)][0x2]||_0x548c23(0x2b3),pattern=/^[0-9]{3}$/;if(!pattern[_0x548c23(0x1d8)](botID))return console[_0x548c23(0x2ad)]('Error:\x20Invalid\x20argument\x20'+botID+',\x20must\x20be\x20a\x203\x20digit\x20number'),process[_0x548c23(0x220)](0x1);function _0x3e94(){const _0xc1b368=['Binance\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20make\x20sure\x20your\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','\x20|\x20Binance\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20make\x20sure\x20your\x20computer\x27s\x20/\x20server\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20in\x20Binance','availableBalance','remove','getFiat()','parse','binanceus','Pausing\x20for\x20','value','cooldown','forEach','defaults','writeFile','Manual\x20balancing\x20required:\x20','assign','getTime','apiSecret','cloneDeep','botname','HOT/EUR','fees','\x20minutes\x20-\x20balancing\x20resumed','event-history','outboundAccountPosition','Binance\x20not\x20responding','wsMarket','\x20|\x20','delta','recreateHistory()','logs','API-key\x20format\x20invalid','storeConfiguration','Waiting\x20for\x20order(s)\x20to\x20be\x20validated\x20-\x20balancing\x20paused','running','splice','subscribeSpotUserDataStream','57669IipOGc','\x20|\x20Binance\x20API\x20key\x20invalid','args','bot-','fromCodePoint','getMinutes','Crypt','stringify','symbol','balances','fee','6820436YuzmvU','BTCUSDT','LIMIT','exit','yyyy-MM-dd\x27T\x27HH:mm:ss','padStart','version','2.3.5','startdate','data','search','currency','join','\x20>\x20','side','orderType','OrderNotFound','USDC','Bot\x20','BTC','Performance\x20recreation\x20process\x20started\x20-\x20this\x20may\x20take\x20several\x20minutes','reverse','\x20|\x20Computer\x27s\x20internal\x20clock\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','54340iGeYSe','isEqual','placeOrder','binance','1ChRmih','total','fetchOHLCV','placeOrder()','milliseconds','keys','progress','sells','1573JeGjdN','target','function','coinamount','buy','YOYOW/','emojisell','replace','starting-balances','\x20|\x20Binance\x20API\x20secret\x20invalid','secure','toLowerCase','date','Order\x20filled:\x20','map','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','symbols','userData','datetime','date-fns','offset','timeshift','InsufficientFunds','coin-loading-progress','findIndex','write','initws()','yyyy/MM/dd','Invalid\x20quantity','fetchBalance','toFixed','parseISO','basecoin','startnumber','Order:\x20','Unfilled\x20order(s)\x20canceled\x20after\x20','WebSockets(','time','coins','valid','filled','spot','XEM/BUSD','constructor','event','InvalidNonce','fetchOrders','excluded','enabled','yyyy/MM/dd\x20HH:mm:ss','ordertype','462485cljnZb','-events.json','apply','Unknown\x20error\x20occured','cancelOrder','differenceInSeconds','mkdirSync',')\x20|\x20Error\x20details:\x20','limit-high','.json','last','bid','sha256','apiKey','Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead','-results.json','deleteHistoryAlerts','startprice','format','starting-balance-','isArray','sort','Binance\x20not\x20available\x20(2)','includes','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','closeWs','(((.+)+)+)+$','Executed\x20','showname','sell','entries','limit','./version.json','Order(s)\x20not\x20validated\x20after\x20','limits','42tVgpYc','error','close','RequestTimeout','storeHeadless','getMonth','lowdb','getStartingBalances','MIN_NOTIONAL','configuration','\x20orders\x20in\x20less\x20than\x20','sortBy','set','\x20-\x20','liquidity','\x20|\x20Insufficient\x20funds\x20to\x20execute\x20order','round','order','BNB','abs','getPortfolio','amount','hybrid-crypto-js','log','max','distribution','API\x20or\x20clock\x20sync\x20issue','threshold','RSA-OAEP','001','\x20hour','Limit\x20(low-margin)','ExchangeNotAvailable','privateKey','bb-settings.json','message','createOrder','usd','remainingSymbols','changes','coin','BTCBUSD','Order(s)\x20filled\x20-\x20balancing\x20resumed','restart','eur','getHours','headless','wss://stream.binance.us:9443','success','495mMmXDV','BTCEUR','push','ccxt','cost','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','Market','eventType','asset','BTC/BUSD','accumulatedQuantity','361092ySSVne','Performance\x20recreation\x20completed\x20successfully','type','emojibuy','Order\x20amount\x20is\x20invalid:\x20','find','shift','cancelOrder()','realized','Binance\x20API\x20key\x20is\x20invalid','trade','getFullYear','28NHQNRJ','breakeven','formattedMessage','wss://stream.binance.com:9443','BTC/USDT','\x20minutes','wsKey','existsSync','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','length','subscribeSpotKline','toString','decrypt','getSeconds','kline','7381048OLXVKt','bot','-config.json','DDoSProtection','timestamp','exchange','************','send','kill','number','EUR','get','DAI/','\x20order:\x20','ticker','lowdb/adapters/FileSync','timeout','test','min','portfolio','Waiting\x20for\x20order(s)\x20to\x20be\x20filled\x20-\x20balancing\x20paused','limit-low','orderId','./config/',':\x20Bot\x20','getCloses()','page','price','market','has','fetchTickers','getDate','argv','Binance\x20not\x20available\x20(1)','1929124TClYvB','settings','AuthenticationError','filter','slice'];_0x3e94=function(){return _0xc1b368;};return _0x3e94();}const userID=process['argv'][0x3]||'',configpath=userID?'./config/'+userID+'/':_0x548c23(0x1de);!fs[_0x548c23(0x2e5)](configpath)&&fs[_0x548c23(0x279)](configpath);const configfile=configpath+_0x548c23(0x215)+botID+_0x548c23(0x2ef),logfile=configpath+_0x548c23(0x215)+botID+_0x548c23(0x274),performancefile=configpath+_0x548c23(0x215)+botID+'-performance.json',coinresultsfile=configpath+_0x548c23(0x215)+botID+_0x548c23(0x282),settingsfile=configpath+_0x548c23(0x2b8),securefile=configpath+'bb-secure.json',configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x548c23(0x1f9)]({'logs':[]})[_0x548c23(0x259)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x548c23(0x1f9)]({'data':[]})['write']();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x548c23(0x1f9)]({'bot':[]})['write']();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults['defaults']({'coins':[]})[_0x548c23(0x259)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins={'eur':{'coin':_0x548c23(0x2c8),'symbol':'BTC/EUR'},'usd':{'coin':_0x548c23(0x21e),'symbol':_0x548c23(0x2e2)}},lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const logger={...DefaultLogger,'silly':(..._0x56bc9d)=>{},'debug':(..._0x38e81a)=>{},'notice':(..._0x212556)=>{},'info':(..._0x28a1e8)=>{},'warning':(..._0x3bf559)=>{},'error':async function(..._0x20f3fb){const _0x5e6b0f=_0x548c23,_0x1709f5=new Date()[_0x5e6b0f(0x1fd)]();if(!lastErrorShown||_0x1709f5-lastErrorShown>=pauseBotInterval){lastErrorShown=new Date()['getTime']();let _0x1bdaf7='';if(_0x20f3fb[0x0])_0x1bdaf7+=_0x20f3fb[0x0];if(_0x20f3fb[0x1]&&_0x20f3fb[0x1]['error']&&_0x20f3fb[0x1][_0x5e6b0f(0x297)][_0x5e6b0f(0x2b9)])_0x1bdaf7+=_0x5e6b0f(0x2a3)+_0x20f3fb[0x1][_0x5e6b0f(0x297)][_0x5e6b0f(0x2b9)];logging(_0x5e6b0f(0x264)+consecutivePauses+_0x5e6b0f(0x27a),''+_0x1bdaf7),await pauseBot(_0x5e6b0f(0x1e8));}}},crypt=new Crypt({'md':_0x548c23(0x27f),'rsaStandard':_0x548c23(0x2b2)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);settings['timeshift']!=config[_0x548c23(0x255)]&&updateTimeshift(settings[_0x548c23(0x255)]);process[_0x548c23(0x2f4)]({'started':'running'},_0x5b0975=>{}),initializeProcessListeners();function proxyEmit(_0x2c0b02,_0x2575b0=null){process['send']({'function':_0x2c0b02,'args':_0x2575b0},_0x4a1344=>{});}function initializeProcessListeners(){process['on']('message',_0x16512e=>{const _0x4bdf35=_0x2bfc;switch(Object[_0x4bdf35(0x23d)](_0x16512e)[0x0]){case _0x4bdf35(0x255):_0x16512e[_0x4bdf35(0x255)]!=undefined&&(settings['timeshift']=_0x16512e[_0x4bdf35(0x255)],updateTimeshift(settings[_0x4bdf35(0x255)]));break;case _0x4bdf35(0x242):switch(_0x16512e['function']){case'initclient':initclient();break;case'emitHistory':emitHistory(_0x16512e['args']);break;case _0x4bdf35(0x283):deleteHistoryAlerts(_0x16512e[_0x4bdf35(0x214)]);break;case _0x4bdf35(0x2aa):getPortfolio(_0x16512e[_0x4bdf35(0x214)]);break;case _0x4bdf35(0x20d):storeConfiguration(_0x16512e['args']);break;case _0x4bdf35(0x29a):storeHeadless(_0x16512e[_0x4bdf35(0x214)]);break;case _0x4bdf35(0x29d):getStartingBalances(getNormalizedPerformance());break;case _0x4bdf35(0x236):placeOrder(_0x16512e[_0x4bdf35(0x214)]);break;case'cancelLoading':cancelLoading();break;}}});}headlessStart();async function headlessStart(){reset();}async function reset(){const _0x17525f=_0x548c23;if(pidBalances)clearTimeout(pidBalances);if(config[_0x17525f(0x280)]!=''){await initExchange(config[_0x17525f(0x280)],config[_0x17525f(0x1fe)]);let _0x23f587=await loadSymbols();_0x23f587&&(currentCoins=await getCoins(),await initws(),initbot());}}async function initExchange(_0x53cf3b,_0x138e02){const _0x693817=_0x548c23,_0x92b23e=ccxt[config[_0x693817(0x2f2)]];let _0x230f64;switch(config[_0x693817(0x2f2)]){case'binance':_0x230f64=_0x693817(0x2e1);break;case _0x693817(0x1f4):_0x230f64=_0x693817(0x2c5);break;default:_0x230f64=_0x693817(0x2e1);}exchange=new _0x92b23e({'apiKey':_0x53cf3b,'secret':_0x138e02,'timeout':0x7530,'enableRateLimit':!![]}),wsClient=new WebsocketClient({'api_key':_0x53cf3b,'api_secret':_0x138e02,'beautify':!![],'wsUrl':_0x230f64},logger),config[_0x693817(0x2f2)]=='binanceus'&&(stablecoins={'eur':{'coin':_0x693817(0x2bf),'symbol':_0x693817(0x2d0)},'usd':{'coin':_0x693817(0x21e),'symbol':_0x693817(0x2e2)}});}async function loadSymbols(){const _0x4ae2d4=_0x548c23;let _0x24f2b6;try{markets=await exchange['loadMarkets'](),allSymbols=exchange[_0x4ae2d4(0x250)]['filter'](_0x236692=>{let _0x557051=![];return exceptions['forEach'](_0x249993=>{const _0x587f51=_0x2bfc;if(_0x236692[_0x587f51(0x28a)](_0x249993))_0x557051=!![];}),!_0x557051;}),_0x24f2b6=!![];}catch(_0x4fbb24){await handleError(_0x4fbb24,'loadSymbols()'),_0x24f2b6=![];}return _0x24f2b6;}async function initbot(){const _0x2c9a45=_0x548c23;while(!wsinitialized){await sleep(0xc8);}initialPerformanceStored=![],await getBalances();let _0x316ee4=dbCoinResults[_0x2c9a45(0x2f8)](_0x2c9a45(0x266))[_0x2c9a45(0x1f6)]();if(_0x316ee4[_0x2c9a45(0x2e7)]==0x0)await resetCoinResults();}async function initclient(){const _0x54775f=_0x548c23;proxyEmit(_0x54775f(0x29f),emittedConfiguration()),emitLoadingProgress();while(!wsinitialized){await sleep(0xc8);}if(lastBalances)proxyEmit(_0x54775f(0x21b),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x270fe1=getNormalizedPerformance();emitPerformance(_0x270fe1),await getStartingBalances(_0x270fe1);}function cleanws(){const _0x4c9415=_0x548c23;wsinitialized=![];ws1&&(ws1['forEach'](_0xdf1c7a=>{try{wsClient['closeWs'](_0xdf1c7a);}catch(_0x3a7321){}}),ws1=[]);if(ws2){try{wsClient[_0x4c9415(0x28c)](ws2);}catch(_0x5f5a40){}ws2=null;}}async function initws(){const _0x376321=_0x548c23;cleanws();let _0x5e5148=[];currentCoins[_0x376321(0x1f8)](_0x49608a=>{const _0x1a18ae=_0x376321;if(_0x49608a['coin']!=config[_0x1a18ae(0x260)])_0x5e5148[_0x1a18ae(0x2c9)](noslash(_0x49608a[_0x1a18ae(0x21a)]));});if(!_0x5e5148[_0x376321(0x28a)](stablecoins[_0x376321(0x2c2)][_0x376321(0x2be)]))_0x5e5148[_0x376321(0x2c9)](stablecoins[_0x376321(0x2c2)]['coin']);if(!_0x5e5148['includes'](stablecoins[_0x376321(0x2bb)]['coin']))_0x5e5148['push'](stablecoins['usd'][_0x376321(0x2be)]);if(!_0x5e5148['includes'](_0x376321(0x2a8)+config[_0x376321(0x260)]))_0x5e5148['push'](_0x376321(0x2a8)+config[_0x376321(0x260)]);try{_0x5e5148[_0x376321(0x1f8)]((_0xc379b3,_0x157cc4)=>{const _0x56556f=_0x376321;ws1[_0x157cc4]=wsClient[_0x56556f(0x2e8)](_0xc379b3,'1m');}),ws2=wsClient[_0x376321(0x211)](),wsClient['on'](_0x376321(0x2e0),_0x7c5a1b=>{const _0x2a7877=_0x376321;if(!Array['isArray'](_0x7c5a1b)&&!_0x7c5a1b[_0x2a7877(0x2e4)][_0x2a7877(0x28a)](_0x2a7877(0x251))){if(_0x7c5a1b['eventType']===_0x2a7877(0x2ec)){global[_0x2a7877(0x1d5)][_0x7c5a1b[_0x2a7877(0x2ec)]['symbol']]=_0x7c5a1b[_0x2a7877(0x2ec)][_0x2a7877(0x298)];return;}}else{if(!Array[_0x2a7877(0x287)](_0x7c5a1b)&&_0x7c5a1b['wsKey'][_0x2a7877(0x28a)](_0x2a7877(0x251))){if(_0x7c5a1b[_0x2a7877(0x207)]['includes'](_0x2a7877(0x269))){updateNumberCoins(_0x7c5a1b);return;}}}}),wsClient['on']('reconnected',async _0x4cbd8a=>{if(!botPaused)currentCoins=await getCoins();});}catch(_0x5eceef){await handleError(_0x5eceef,_0x376321(0x25a));}let _0x784039,_0x3be100=0x0;loading[_0x376321(0x2bc)]=[];let _0x42e30c=0x0;currentCoins['forEach'](_0x57f7de=>{const _0x5beb10=_0x376321;if(_0x57f7de['coin']!=config['basecoin'])loading[_0x5beb10(0x2bc)][_0x5beb10(0x2c9)](_0x57f7de[_0x5beb10(0x21a)]);}),loadingCanceled=![];while(_0x784039!=currentCoins[_0x376321(0x2e7)]-0x1){_0x784039=0x0,currentCoins[_0x376321(0x1f8)](_0x487c0d=>{const _0x4c3fea=_0x376321;_0x487c0d['coin']!=config[_0x4c3fea(0x260)]&&global[_0x4c3fea(0x1d5)][noslash(_0x487c0d[_0x4c3fea(0x21a)])]&&(loading[_0x4c3fea(0x2bc)]=loading[_0x4c3fea(0x2bc)]['filter'](_0x1b7801=>_0x1b7801!=_0x487c0d[_0x4c3fea(0x21a)]),_0x784039++);}),loading[_0x376321(0x23e)]=Math[_0x376321(0x2a6)](_0x784039/(currentCoins[_0x376321(0x2e7)]-0x1)*0x64);_0x42e30c>0x1e*0x5&&(loading[_0x376321(0x1d7)]=!![],emitLoadingProgress());if(loadingCanceled){loading['cancel']=!![],emitLoadingProgress();break;}else _0x784039!=_0x3be100&&(_0x3be100=_0x784039,emitLoadingProgress()),_0x42e30c++,await sleep(0xc8);}if(_0x784039==currentCoins[_0x376321(0x2e7)]-0x1)wsinitialized=!![];}function cancelLoading(){loadingCanceled=!![];}function emitLoadingProgress(){const _0x24b850=_0x548c23;proxyEmit(_0x24b850(0x257),loading);}async function getFiat(){const _0x311ff5=_0x548c23;let _0x50bec8=0x0,_0xf0f2dc=0x0;try{_0x50bec8=global[_0x311ff5(0x1d5)][stablecoins[_0x311ff5(0x2c2)][_0x311ff5(0x2be)]],_0xf0f2dc=global[_0x311ff5(0x1d5)][stablecoins[_0x311ff5(0x2bb)]['coin']];}catch(_0x44b57e){await handleError(_0x44b57e,_0x311ff5(0x1f2));}return{'eur':Number(_0x50bec8),'usd':Number(_0xf0f2dc)};}function setStartDatePerformance(){const _0x2d779c=_0x548c23;if(config&&config[_0x2d779c(0x2a4)][0x0]['changes'][_0x2d779c(0x2e7)]!=0x0){const _0x5ab330=config[_0x2d779c(0x2a4)][0x0]['changes'];dbPerformance[_0x2d779c(0x2f8)](_0x2d779c(0x226))['find']({'date':config[_0x2d779c(0x225)]})['assign']({'coins':_0x5ab330})[_0x2d779c(0x259)]();}}async function recreateHistory(_0x454f3f){const _0x236fa7=_0x548c23;let _0x390344,_0x1cf367=[];logHistory('success',_0x236fa7(0x231)),_0x454f3f[_0x236fa7(0x1da)]['forEach'](_0x385a55=>{const _0x717f61=_0x236fa7;if(_0x385a55['coin']!=config[_0x717f61(0x260)]&&!_0x385a55['excluded'])_0x1cf367['push']({'coin':_0x385a55[_0x717f61(0x2be)],'symbol':_0x385a55[_0x717f61(0x21a)]});});let _0x3f69b3=[];try{const _0x3b7108=fns[_0x236fa7(0x285)](fns[_0x236fa7(0x25f)](_0x454f3f[_0x236fa7(0x225)][_0x236fa7(0x247)](/\//g,'-')),_0x236fa7(0x221));for(const _0x254abd of _0x1cf367){if(_0x254abd['coin']!=config['basecoin'])_0x390344=await exchange[_0x236fa7(0x26e)](_0x254abd['symbol'],Date[_0x236fa7(0x1f3)](_0x3b7108));_0x390344['forEach'](_0x1c4e19=>{const _0x473694=_0x236fa7,_0x41f63c=_0x254abd[_0x473694(0x21a)][_0x473694(0x28a)](config[_0x473694(0x260)]+'/'),_0x2721cd=fns[_0x473694(0x285)](fns[_0x473694(0x25f)](_0x1c4e19['datetime']),_0x473694(0x271)),_0xc3d41b=fns[_0x473694(0x285)](fns[_0x473694(0x25f)](_0x1c4e19[_0x473694(0x252)]),_0x473694(0x25b));let _0x3c95e5;if(_0x1c4e19[_0x473694(0x22b)]==_0x473694(0x244)&&_0x41f63c==![])_0x3c95e5=_0x1c4e19['amount'];if(_0x1c4e19[_0x473694(0x22b)]==_0x473694(0x244)&&_0x41f63c==!![])_0x3c95e5=-_0x1c4e19[_0x473694(0x2ab)]*_0x1c4e19[_0x473694(0x1e2)];if(_0x1c4e19[_0x473694(0x22b)]=='sell'&&_0x41f63c==![])_0x3c95e5=-_0x1c4e19[_0x473694(0x2ab)];if(_0x1c4e19[_0x473694(0x22b)]==_0x473694(0x290)&&_0x41f63c==!![])_0x3c95e5=_0x1c4e19[_0x473694(0x2ab)]*_0x1c4e19[_0x473694(0x1e2)];_0x3f69b3[_0x473694(0x2c9)]({'timestamp':_0x2721cd,'date':_0xc3d41b,'coin':_0x254abd[_0x473694(0x2be)],'symbol':_0x254abd[_0x473694(0x21a)],'type':_0x1c4e19['type'],'side':_0x1c4e19[_0x473694(0x22b)],'reverse':_0x41f63c,'amount':formatResult(_0x1c4e19[_0x473694(0x268)],0x8),'filled':formatResult(_0x1c4e19[_0x473694(0x268)],0x8),'coinamount':formatResult(_0x3c95e5,0x8),'price':formatResult(_0x1c4e19[_0x473694(0x1e2)],0x8)});let _0x130e73;if(_0x1c4e19['side']==_0x473694(0x244)&&_0x41f63c==![])_0x130e73=-_0x1c4e19[_0x473694(0x2ab)]*_0x1c4e19['price'];if(_0x1c4e19['side']==_0x473694(0x244)&&_0x41f63c==!![])_0x130e73=_0x1c4e19['amount'];if(_0x1c4e19['side']=='sell'&&_0x41f63c==![])_0x130e73=_0x1c4e19[_0x473694(0x2ab)]*_0x1c4e19[_0x473694(0x1e2)];if(_0x1c4e19[_0x473694(0x22b)]==_0x473694(0x290)&&_0x41f63c==!![])_0x130e73=-_0x1c4e19[_0x473694(0x2ab)];_0x3f69b3[_0x473694(0x2c9)]({'date':_0xc3d41b,'coin':config[_0x473694(0x260)],'coinamount':formatResult(_0x130e73,0x8)});});}_0x3f69b3['sort']((_0x208204,_0xffecc8)=>_0x208204[_0x236fa7(0x2f1)]>_0xffecc8['timestamp']?0x1:_0xffecc8[_0x236fa7(0x2f1)]>_0x208204[_0x236fa7(0x2f1)]?-0x1:0x0),dbLogs[_0x236fa7(0x2f8)](_0x236fa7(0x20b))[_0x236fa7(0x1f1)]()[_0x236fa7(0x259)](),_0x3f69b3[_0x236fa7(0x1f8)](_0x1a370c=>{const _0x11ab42=_0x236fa7;let _0x18225d;_0x1a370c[_0x11ab42(0x2be)]!=config[_0x11ab42(0x260)]&&(_0x18225d={'time':_0x1a370c[_0x11ab42(0x2f1)],'type':'order','event':_0x11ab42(0x262)+_0x1a370c[_0x11ab42(0x21a)]+'\x20'+_0x1a370c[_0x11ab42(0x22b)]+'\x20#'+_0x1a370c[_0x11ab42(0x2ab)]+'\x20@'+_0x1a370c[_0x11ab42(0x1e2)]},dbLogs[_0x11ab42(0x2f8)](_0x11ab42(0x20b))[_0x11ab42(0x2c9)](_0x18225d)[_0x11ab42(0x259)]());});const _0x4b8ca8=fns['eachDayOfInterval']({'start':new Date(_0x454f3f[_0x236fa7(0x225)]),'end':new Date()})['map'](_0x5c9d51=>fns[_0x236fa7(0x285)](_0x5c9d51,_0x236fa7(0x25b)));let _0x7824ff=[];_0x454f3f[_0x236fa7(0x1da)]['forEach'](_0x196ad2=>{const _0x43a94c=_0x236fa7;if(!_0x196ad2['excluded']){_0x7824ff[_0x196ad2[_0x43a94c(0x2be)]]=[];let _0x3d2adc=_0x196ad2[_0x43a94c(0x261)];_0x4b8ca8['forEach']((_0x338ccf,_0x2dfcf0)=>{const _0x45923=_0x43a94c;let _0x138fc1=_0x3f69b3[_0x45923(0x1ec)](_0x2a8efb=>_0x2a8efb[_0x45923(0x2be)]==_0x196ad2[_0x45923(0x2be)]&&_0x2a8efb[_0x45923(0x24c)]==_0x338ccf);if(_0x138fc1['length']!=0x0){let _0x54a154=_0x138fc1['reduce']((_0x526963,_0x39a8e0)=>{const _0x220582=_0x45923;return _0x526963+=_0x39a8e0[_0x220582(0x243)],_0x526963;},0x0);_0x3d2adc+=_0x54a154;}_0x7824ff[_0x196ad2[_0x45923(0x2be)]][_0x338ccf]=_0x3d2adc;});}});const _0x25c22a=[..._0x1cf367];_0x25c22a[_0x236fa7(0x2c9)]({'coin':stablecoins[_0x236fa7(0x2c2)][_0x236fa7(0x2be)],'symbol':stablecoins[_0x236fa7(0x2c2)]['symbol']}),_0x25c22a[_0x236fa7(0x2c9)]({'coin':stablecoins[_0x236fa7(0x2bb)][_0x236fa7(0x2be)],'symbol':stablecoins[_0x236fa7(0x2bb)][_0x236fa7(0x21a)]});let _0x895e43=[];for(const _0x4dcc4b of _0x25c22a){_0x895e43[_0x4dcc4b[_0x236fa7(0x2be)]]=await getCloses(_0x4dcc4b[_0x236fa7(0x21a)],new Date(_0x454f3f[_0x236fa7(0x225)]));}dbPerformance[_0x236fa7(0x2f8)](_0x236fa7(0x226))['remove']()['write'](),_0x4b8ca8[_0x236fa7(0x1f8)]((_0x522cd5,_0x3df789)=>{const _0xf36d74=_0x236fa7;let _0x38e4a2,_0x29d929=[];_0x3df789==0x0?(_0x454f3f[_0xf36d74(0x1da)][_0xf36d74(0x1f8)](_0x545455=>{const _0xf7dfa7=_0xf36d74;!_0x545455[_0xf7dfa7(0x26f)]&&_0x29d929[_0xf7dfa7(0x2c9)]({'coin':_0x545455['coin'],'number':_0x545455['startnumber'],'price':_0x545455[_0xf7dfa7(0x284)]});}),_0x38e4a2={'date':_0x522cd5,'eur':_0x895e43[stablecoins[_0xf36d74(0x2c2)][_0xf36d74(0x2be)]][_0x3df789],'usd':_0x895e43[stablecoins[_0xf36d74(0x2bb)][_0xf36d74(0x2be)]][_0x3df789],'coins':_0x29d929}):(_0x454f3f[_0xf36d74(0x1da)][_0xf36d74(0x1f8)](_0x103777=>{const _0x532721=_0xf36d74;!_0x103777[_0x532721(0x26f)]&&_0x29d929[_0x532721(0x2c9)]({'coin':_0x103777[_0x532721(0x2be)],'number':_0x7824ff[_0x103777[_0x532721(0x2be)]][_0x522cd5],'price':_0x103777[_0x532721(0x2be)]==config['basecoin']?0x1:_0x895e43[_0x103777['coin']][_0x3df789]});}),_0x38e4a2={'date':_0x522cd5,'eur':_0x895e43[stablecoins[_0xf36d74(0x2c2)][_0xf36d74(0x2be)]][_0x3df789],'usd':_0x895e43[stablecoins['usd'][_0xf36d74(0x2be)]][_0x3df789],'coins':_0x29d929}),dbPerformance[_0xf36d74(0x2f8)](_0xf36d74(0x226))['push'](_0x38e4a2)[_0xf36d74(0x259)]();}),emitPerformance(getNormalizedPerformance()),await resetCoinResults();for(let _0x209a60 of _0x3f69b3){_0x209a60['coin']!=config[_0x236fa7(0x260)]&&await updateCoinResults(_0x209a60);}logHistory('success',_0x236fa7(0x2d3));}catch(_0x508f65){await handleError(_0x508f65,_0x236fa7(0x20a));}}async function getCloses(_0x44d3c6,_0x6c7e03,_0x1e57d8=undefined){const _0x3fdba4=_0x548c23,_0x3d7e96='1d';let _0x416f2d,_0x1bb477;const _0xcdc730=fns['differenceInCalendarDays'](new Date(),_0x6c7e03)+0x1;try{const _0x3e5a9c=exchange[_0x3fdba4(0x23c)]()-_0xcdc730*0x18*0xe10*0x3e8;_0x416f2d=await exchange[_0x3fdba4(0x23a)](_0x44d3c6,_0x3d7e96,_0x3e5a9c,_0x1e57d8),_0x1bb477=await exchange[_0x3fdba4(0x1e5)](_0x44d3c6);}catch(_0x1de725){await handleError(_0x1de725,_0x3fdba4(0x1e0));}let _0x2b1ecb=ohlcvToCloses(_0x416f2d);return _0x2b1ecb[_0x3fdba4(0x2c9)](_0x1bb477[_0x44d3c6][_0x3fdba4(0x27d)]),_0x2b1ecb;}function ohlcvToCloses(_0x54c272){const _0x31ddc1=_0x548c23;let _0x5ab9bc=[];return _0x54c272[_0x31ddc1(0x1f8)](function(_0x4bf403){const _0x31260c=_0x31ddc1;_0x5ab9bc[_0x31260c(0x2c9)](_0x4bf403[0x4]);}),_0x5ab9bc;}function oneTimeMigration(){const _0x72ab6=_0x548c23;let _0x428288=dbLogs['get'](_0x72ab6(0x223))[_0x72ab6(0x1f6)]();if(_0x428288!='2.3.5'){dbLogs[_0x72ab6(0x2a2)](_0x72ab6(0x223),_0x72ab6(0x224))[_0x72ab6(0x259)]();let _0x161db5=[];const _0xe66ba5=dbLogs[_0x72ab6(0x2f8)]('logs')[_0x72ab6(0x1f6)]();_0xe66ba5[_0x72ab6(0x1f8)](_0x2bc783=>{const _0x1f9c19=_0x72ab6;_0x161db5[_0x1f9c19(0x2c9)]({'time':_0x2bc783[_0x1f9c19(0x265)],'type':_0x2bc783['type'],'event':_0x2bc783[_0x1f9c19(0x26c)]});}),dbLogs[_0x72ab6(0x2f8)](_0x72ab6(0x20b))[_0x72ab6(0x1fc)](_0x161db5)[_0x72ab6(0x259)]();}let _0x168b0a=dbConfig[_0x72ab6(0x2f8)](_0x72ab6(0x223))[_0x72ab6(0x1f6)]();if(_0x168b0a!=_0x72ab6(0x224)){dbConfig[_0x72ab6(0x2a2)](_0x72ab6(0x223),_0x72ab6(0x224))['write']();let _0x55ccea=dbConfig[_0x72ab6(0x2f8)](_0x72ab6(0x2ee))[_0x72ab6(0x2d7)]({'botID':botID})['value']();if(_0x55ccea){let _0x5e5800=[];_0x55ccea[_0x72ab6(0x1da)][_0x72ab6(0x1f8)](_0x56f7f2=>{const _0x12045d=_0x72ab6;_0x5e5800[_0x12045d(0x2c9)]({'coin':_0x56f7f2[_0x12045d(0x2be)],'number':_0x56f7f2[_0x12045d(0x261)],'price':_0x56f7f2['startprice']}),delete _0x56f7f2[_0x12045d(0x261)],delete _0x56f7f2[_0x12045d(0x284)];});if(_0x5e5800['length']!==0x0)fs[_0x72ab6(0x1fa)](configbackuppath+(_0x72ab6(0x286)+botID+_0x72ab6(0x27c)),JSON[_0x72ab6(0x219)](_0x5e5800,null,0x4),function(_0x2398e6){if(_0x2398e6){}});const _0x1ca24c=(_0x27da4c,_0x1720f3)=>{const _0x1e1eb5=_0x72ab6;let _0x11e3d1=[];_0x1720f3[_0x1e1eb5(0x1f8)](_0x5f4dcb=>{const _0x5946c3=_0x1e1eb5,_0x2ccbae=_0x27da4c['find'](_0x262226=>_0x262226[_0x5946c3(0x2be)]==_0x5f4dcb[_0x5946c3(0x2be)]);if(!_0x2ccbae)_0x11e3d1[_0x5946c3(0x2c9)](_0x5f4dcb);});let _0x4fb249=[];return _0x27da4c[_0x1e1eb5(0x1f8)](_0x4623c6=>{const _0x296d77=_0x1e1eb5,_0x2976e5=_0x1720f3[_0x296d77(0x2d7)](_0x11361b=>_0x11361b[_0x296d77(0x2be)]==_0x4623c6[_0x296d77(0x2be)]);if(!_0x2976e5||_0x2976e5[_0x296d77(0x2f6)]==0x0&&_0x4623c6[_0x296d77(0x2f6)]!=0x0)_0x4fb249[_0x296d77(0x2c9)](_0x4623c6);}),{'missingDay1':_0x11e3d1,'notInDay2':_0x4fb249};},_0x2a4c26=dbPerformance[_0x72ab6(0x2f8)](_0x72ab6(0x226))[_0x72ab6(0x1ff)]()[_0x72ab6(0x1f6)]();if(_0x2a4c26[_0x72ab6(0x2e7)]>0x1){const {missingDay1:_0x5ad22d,notInDay2:_0x28ad2f}=_0x1ca24c(_0x5e5800,_0x2a4c26[0x1][_0x72ab6(0x266)]);_0x5e5800=[..._0x5e5800,..._0x5ad22d],_0x28ad2f['forEach'](_0x4e1c7c=>{const _0x42fc7a=_0x72ab6;let _0x2d6eff=_0x5e5800[_0x42fc7a(0x258)](_0x3be8cc=>_0x3be8cc['coin']==_0x4e1c7c[_0x42fc7a(0x2be)]);_0x2d6eff!=-0x1&&_0x5e5800[_0x42fc7a(0x210)](_0x2d6eff,0x1);});}_0x5e5800[_0x72ab6(0x288)]((_0x354c9a,_0x150020)=>_0x354c9a[_0x72ab6(0x2be)]>_0x150020[_0x72ab6(0x2be)]?0x1:_0x150020['coin']>_0x354c9a[_0x72ab6(0x2be)]?-0x1:0x0);let _0x96c1a0=[{'date':_0x55ccea[_0x72ab6(0x225)],'changes':_0x5e5800}];_0x2a4c26[_0x72ab6(0x2e7)]>0x2&&_0x2a4c26[_0x72ab6(0x1f8)]((_0x1859be,_0x2a5cfe)=>{const _0x318685=_0x72ab6;if(_0x2a5cfe>0x0&&_0x2a5cfe<_0x2a4c26[_0x318685(0x2e7)]-0x1){const {missingDay1:_0x36dfe3,notInDay2:_0x7c0909}=_0x1ca24c(_0x2a4c26[_0x2a5cfe]['coins'],_0x2a4c26[_0x2a5cfe+0x1][_0x318685(0x266)]);_0x5e5800=[],(_0x36dfe3[_0x318685(0x2e7)]!=0x0||_0x7c0909[_0x318685(0x2e7)]!=0x0)&&(_0x36dfe3['length']!=0x0&&_0x5e5800['push'](..._0x36dfe3),_0x7c0909['length']!=0x0&&(_0x7c0909['forEach'](_0x3ee93f=>{const _0x228402=_0x318685;_0x3ee93f[_0x228402(0x2f6)]=-_0x3ee93f[_0x228402(0x2f6)];}),_0x5e5800[_0x318685(0x2c9)](..._0x7c0909)),_0x5e5800[_0x318685(0x288)]((_0x4b4ef9,_0x41abd9)=>_0x4b4ef9[_0x318685(0x2be)]>_0x41abd9[_0x318685(0x2be)]?0x1:_0x41abd9[_0x318685(0x2be)]>_0x4b4ef9[_0x318685(0x2be)]?-0x1:0x0),_0x96c1a0[_0x318685(0x2c9)]({'date':_0x2a4c26[_0x2a5cfe+0x1][_0x318685(0x24c)],'changes':_0x5e5800}));}}),dbConfig[_0x72ab6(0x2f8)](_0x72ab6(0x2ee))[_0x72ab6(0x2d7)]({'botID':botID})[_0x72ab6(0x1fc)]({..._0x55ccea,'liquidity':_0x96c1a0})[_0x72ab6(0x259)]();}}config=getConfiguration(botID);let _0x5da8eb=dbPerformance[_0x72ab6(0x2f8)]('version')[_0x72ab6(0x1f6)]();_0x5da8eb!=_0x72ab6(0x224)&&(dbPerformance[_0x72ab6(0x2a2)](_0x72ab6(0x223),_0x72ab6(0x224))[_0x72ab6(0x259)](),setStartDatePerformance());let _0x39207a=dbCoinResults[_0x72ab6(0x2f8)](_0x72ab6(0x223))[_0x72ab6(0x1f6)]();_0x39207a!=_0x72ab6(0x224)&&dbCoinResults['set'](_0x72ab6(0x223),_0x72ab6(0x224))[_0x72ab6(0x259)]();}function getConfiguration(_0x3e5d5e){const _0x950d0=_0x548c23;let _0x26e211=dbConfig[_0x950d0(0x2f8)]('bot')[_0x950d0(0x2d7)]({'botID':_0x3e5d5e})['value']();if(_0x26e211){}else _0x26e211={'botID':_0x3e5d5e,'exchange':_0x950d0(0x237),'apiKey':'','apiSecret':'','basecoin':'','botname':_0x950d0(0x22f)+_0x3e5d5e,'showname':![],'threshold':'3','ordertype':_0x950d0(0x1e3),'timeout':0x14,'startdate':getDate(),'recreate':![],'timeshift':settings['timeshift'],'headless':![],'cooldown':0xa,'emojibuy':'','emojisell':'','portfolio':[],'liquidity':[{'date':getDate(),'changes':[]}]};return _0x26e211;}function emittedConfiguration(){const _0x447b11=_0x548c23;let _0x19e6a4;return config[_0x447b11(0x280)]==''?_0x19e6a4=config:_0x19e6a4={...config,'apiKey':_0x447b11(0x2f3),'apiSecret':'************'},_0x19e6a4;}function getSettings(){const _0x4a72c0=_0x548c23;return dbSettings['get'](_0x4a72c0(0x1ea))[_0x4a72c0(0x1f6)]();}function getSecure(){const _0x1d39bd=_0x548c23;return dbSecure[_0x1d39bd(0x2f8)](_0x1d39bd(0x24a))['value']()||{};}function updateTimeshift(_0x29da14){const _0x27802a=_0x548c23;let _0x40b22e=dbConfig[_0x27802a(0x2f8)](_0x27802a(0x2ee))[_0x27802a(0x2d7)]({'botID':botID})['value']();_0x40b22e&&dbConfig['get'](_0x27802a(0x2ee))['find']({'botID':botID})[_0x27802a(0x1fc)]({'timeshift':_0x29da14})[_0x27802a(0x259)](),config['timeshift']=_0x29da14,proxyEmit(_0x27802a(0x29f),emittedConfiguration());}function _0x2bfc(_0xc1ad75,_0x22ce66){const _0x385ae4=_0x3e94();return _0x2bfc=function(_0x5a5c0a,_0x916e53){_0x5a5c0a=_0x5a5c0a-0x1d4;let _0x3e9463=_0x385ae4[_0x5a5c0a];return _0x3e9463;},_0x2bfc(_0xc1ad75,_0x22ce66);}async function storeConfiguration(_0x46cf2f){const _0x1f498d=_0x548c23;loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]};let _0x210c37=dbConfig[_0x1f498d(0x2f8)]('bot')[_0x1f498d(0x2d7)]({'botID':botID})[_0x1f498d(0x1f6)]();_0x46cf2f={..._0x46cf2f,'apiKey':crypt[_0x1f498d(0x2ea)](secure['privateKey'],_0x46cf2f[_0x1f498d(0x280)])[_0x1f498d(0x2b9)],'apiSecret':crypt[_0x1f498d(0x2ea)](secure[_0x1f498d(0x2b7)],_0x46cf2f[_0x1f498d(0x1fe)])[_0x1f498d(0x2b9)]};if(_0x210c37){if(_0x46cf2f[_0x1f498d(0x280)]==_0x1f498d(0x2f3))_0x46cf2f[_0x1f498d(0x280)]=config[_0x1f498d(0x280)];if(_0x46cf2f['apiSecret']==_0x1f498d(0x2f3))_0x46cf2f[_0x1f498d(0x1fe)]=config[_0x1f498d(0x1fe)];dbConfig['get'](_0x1f498d(0x2ee))[_0x1f498d(0x2d7)]({'botID':botID})[_0x1f498d(0x1fc)](_0x46cf2f)[_0x1f498d(0x259)]();}else dbConfig['get']('bot')[_0x1f498d(0x2c9)](_0x46cf2f)[_0x1f498d(0x259)](),process[_0x1f498d(0x2f4)]({'status':_0x1f498d(0x270),'live':_0x1f498d(0x20f)},_0x529e6d=>{});config={..._0x46cf2f},setStartDatePerformance(),process[_0x1f498d(0x2f4)]({'botname':_0x46cf2f[_0x1f498d(0x200)]},_0x36c50b=>{});const _0x551746=getNormalizedPerformance();getStartingBalances(_0x551746),emitPerformance(_0x551746),proxyEmit('configuration-stored'),reset();}async function storeHeadless(_0x20f1df){const _0x33df74=_0x548c23,_0x547875={...config,'headless':_0x20f1df[_0x33df74(0x2c4)]};let _0x3f48e7=dbConfig[_0x33df74(0x2f8)]('bot')['find']({'botID':botID})[_0x33df74(0x1f6)]();_0x3f48e7&&dbConfig[_0x33df74(0x2f8)](_0x33df74(0x2ee))[_0x33df74(0x2d7)]({'botID':botID})[_0x33df74(0x1fc)](_0x547875)[_0x33df74(0x259)](),config={..._0x547875},proxyEmit(_0x33df74(0x29f),emittedConfiguration());}function noslash(_0x5e353e){const _0x533179=_0x548c23;return _0x5e353e[_0x533179(0x247)]('/','');}function updateNumberCoins(_0x1d671b){const _0xb3a347=_0x548c23;_0x1d671b['eventType']&&_0x1d671b[_0xb3a347(0x2ce)]==_0xb3a347(0x205)&&_0x1d671b[_0xb3a347(0x21b)][_0xb3a347(0x1f8)](_0x402029=>{const _0x36ff2d=_0xb3a347;let _0x2a2aa1=currentCoins['find'](_0x323107=>_0x323107[_0x36ff2d(0x2be)]==_0x402029[_0x36ff2d(0x2cf)]),_0x8ac1af=config[_0x36ff2d(0x1da)][_0x36ff2d(0x2d7)](_0x37ac87=>_0x37ac87['coin']==_0x402029[_0x36ff2d(0x2cf)]);if(_0x2a2aa1&&_0x8ac1af)_0x2a2aa1[_0x36ff2d(0x2f6)]=Math[_0x36ff2d(0x2ae)](Number(_0x402029[_0x36ff2d(0x1f0)])+(_0x8ac1af[_0x36ff2d(0x254)]||0x0),0x0);});if(_0x1d671b[_0xb3a347(0x2ce)]&&_0x1d671b['eventType']=='executionReport'){if(_0x1d671b[_0xb3a347(0x22c)]==_0xb3a347(0x21f)&&_0x1d671b['orderStatus']=='FILLED'){if(lastOrders)lastOrders[_0xb3a347(0x1f8)](_0x2dd7c2=>{const _0x28a3bd=_0xb3a347;if(_0x2dd7c2[_0x28a3bd(0x1dd)]==_0x1d671b['orderId']){if(_0x2dd7c2[_0x28a3bd(0x232)])_0x2dd7c2[_0x28a3bd(0x268)]=_0x1d671b['accumulatedQuantity']*_0x2dd7c2[_0x28a3bd(0x1e2)];else _0x2dd7c2[_0x28a3bd(0x268)]=_0x1d671b[_0x28a3bd(0x2d1)];}});}}}async function getCoins(_0x2374b3=!![],_0x2b2a76=config[_0x548c23(0x260)]){const _0x4706b6=_0x548c23;let _0x113dec,_0x2b46cb=[],_0x2f84d7=[],_0x3de85d=[];try{_0x113dec=await exchange[_0x4706b6(0x25d)](),mybalances=_0x113dec[_0x4706b6(0x239)];if(!_0x2374b3)for(const [_0x42bebd,_0x3f7191]of Object[_0x4706b6(0x291)](mybalances)){_0x3de85d[_0x4706b6(0x2c9)](_0x42bebd);}else config[_0x4706b6(0x1da)]['forEach'](_0x3e385a=>{const _0x39e877=_0x4706b6;if(!_0x3e385a[_0x39e877(0x26f)])_0x3de85d['push'](_0x3e385a['coin']);});if(_0x2b2a76=='')for(const [_0x2e7e68,_0x927111]of Object['entries'](mybalances)){_0x927111['toString']()!=0x0&&_0x2f84d7[_0x4706b6(0x2c9)]({'coin':_0x2e7e68});}else for(const [_0x345fe9,_0xc07f]of Object[_0x4706b6(0x291)](mybalances)){if(_0x3de85d[_0x4706b6(0x28a)](_0x345fe9)){const _0x1e5921=config[_0x4706b6(0x1da)][_0x4706b6(0x2d7)](_0x4920c9=>_0x4920c9[_0x4706b6(0x2be)]==_0x345fe9);if((_0xc07f[_0x4706b6(0x2e9)]()!=0x0||_0x1e5921)&&(allSymbols[_0x4706b6(0x28a)](_0x345fe9+'/'+_0x2b2a76)||_0x345fe9==_0x2b2a76))_0x2f84d7['push']({'coin':_0x345fe9,'symbol':_0x345fe9+'/'+_0x2b2a76,'reverse':![],'number':Math[_0x4706b6(0x2ae)](_0xc07f+(_0x1e5921&&_0x1e5921[_0x4706b6(0x254)]||0x0),0x0)}),_0x345fe9!=_0x2b2a76&&_0x2b46cb[_0x4706b6(0x2c9)](_0x345fe9+'/'+_0x2b2a76);else(_0xc07f[_0x4706b6(0x2e9)]()!=0x0||_0x1e5921)&&allSymbols[_0x4706b6(0x28a)](_0x2b2a76+'/'+_0x345fe9)&&(_0x2f84d7[_0x4706b6(0x2c9)]({'coin':_0x345fe9,'symbol':_0x2b2a76+'/'+_0x345fe9,'reverse':!![],'number':Math[_0x4706b6(0x2ae)](_0xc07f+(_0x1e5921&&_0x1e5921[_0x4706b6(0x254)]||0x0),0x0)}),_0x345fe9!=_0x2b2a76&&_0x2b46cb[_0x4706b6(0x2c9)](_0x2b2a76+'/'+_0x345fe9));}}}catch(_0x12adcc){if(!_0x2374b3){if(_0x12adcc[_0x4706b6(0x2e9)]()[_0x4706b6(0x28a)](_0x4706b6(0x20c)))return logHistory(_0x4706b6(0x297),_0x4706b6(0x2db)),![];else{if(_0x12adcc[_0x4706b6(0x2e9)]()[_0x4706b6(0x28a)]('AuthenticationError'))return logHistory(_0x4706b6(0x297),_0x4706b6(0x1ee)),![];else{if(_0x12adcc[_0x4706b6(0x2e9)]()['includes'](_0x4706b6(0x28b)))return logHistory('error','Binance\x20API\x20secret\x20is\x20invalid'),![];else await handleError(_0x12adcc,'getCoins()');}}}else await handleError(_0x12adcc,'getCoins()');}return _0x2f84d7;}async function getPortfolio(_0x35477f){const _0x57a730=_0x548c23;let _0x1d4919=[],_0x3a6299=[],_0x304077,_0x4bacfc=[],_0x5ee1ee,_0x5086a7;_0x35477f[_0x57a730(0x280)]===_0x57a730(0x2f3)||_0x35477f[_0x57a730(0x1fe)]==='************'?(_0x5ee1ee=config[_0x57a730(0x280)],_0x5086a7=config['apiSecret']):(_0x5ee1ee=_0x35477f['apiKey'],_0x5086a7=_0x35477f[_0x57a730(0x1fe)]);await initExchange(_0x5ee1ee,_0x5086a7);let _0x2fd73d=await loadSymbols();if(_0x2fd73d){_0x4bacfc=await getCoins(![],_0x35477f['basecoin']);if(_0x4bacfc===![])proxyEmit(_0x57a730(0x1da),![]);else{if(_0x35477f[_0x57a730(0x260)]=='')proxyEmit('portfolio',_0x4bacfc);else{_0x4bacfc[_0x57a730(0x1f8)](_0x2cf6a7=>{const _0x213116=_0x57a730;_0x1d4919[_0x213116(0x2c9)](_0x2cf6a7[_0x213116(0x21a)]);});try{_0x3a6299=await exchange['fetchTickers'](_0x1d4919);}catch(_0x3305e4){await handleError(_0x3305e4,'getPortfolio()');}_0x4bacfc[_0x57a730(0x1f8)](_0x47e713=>{const _0x318030=_0x57a730;_0x47e713[_0x318030(0x2be)]!=_0x35477f[_0x318030(0x260)]?_0x304077=_0x47e713['reverse']?0x1/_0x3a6299[_0x47e713['symbol']][_0x318030(0x27d)]:_0x3a6299[_0x47e713[_0x318030(0x21a)]]['last']:_0x304077=0x1,_0x47e713[_0x318030(0x1e2)]=formatResult(_0x304077,0x8);}),proxyEmit(_0x57a730(0x1da),_0x4bacfc);}}}else proxyEmit('portfolio',![]);}function checkMinimums(_0x3ffa61){const _0x347699=_0x548c23;let _0x121ce2=!![];const _0xa7c39a=!_0x3ffa61[_0x347699(0x232)]?markets[_0x3ffa61[_0x347699(0x21a)]]['limits'][_0x347699(0x2ab)][_0x347699(0x1d9)]:markets[_0x3ffa61[_0x347699(0x21a)]][_0x347699(0x295)][_0x347699(0x2cb)][_0x347699(0x1d9)],_0x35c942=!_0x3ffa61[_0x347699(0x232)]?markets[_0x3ffa61[_0x347699(0x21a)]][_0x347699(0x295)][_0x347699(0x2cb)]['min']:markets[_0x3ffa61[_0x347699(0x21a)]][_0x347699(0x295)][_0x347699(0x2ab)][_0x347699(0x1d9)];if(Math[_0x347699(0x2a9)](_0x3ffa61[_0x347699(0x2dc)])<_0xa7c39a)_0x121ce2=![];if(Math[_0x347699(0x2a9)](_0x3ffa61[_0x347699(0x2dc)])*_0x3ffa61[_0x347699(0x27d)]<_0x35c942)_0x121ce2=![];if(_0x3ffa61[_0x347699(0x22b)]=='sell'){let _0x4dc227=config[_0x347699(0x1da)][_0x347699(0x2d7)](_0x239f55=>_0x239f55[_0x347699(0x2be)]==_0x3ffa61[_0x347699(0x2be)]);if(Math[_0x347699(0x2a9)](_0x3ffa61['trade'])>_0x3ffa61[_0x347699(0x2f6)]-_0x4dc227[_0x347699(0x254)])_0x121ce2=![];}return _0x121ce2;}async function getBalances(){const _0x2193b9=_0x548c23;let _0x49a66e=0x0,_0x4964a1;const _0x440b55=config[_0x2193b9(0x2b1)];currentCoins[_0x2193b9(0x1f8)](_0x12a83d=>{const _0x3f43fe=_0x2193b9;if(_0x12a83d['coin']!=config[_0x3f43fe(0x260)]){let _0x1d2c00=global['ticker'][noslash(_0x12a83d[_0x3f43fe(0x21a)])];_0x4964a1=_0x12a83d['reverse']?0x1/_0x1d2c00:_0x1d2c00;}else _0x4964a1=0x1;let _0x4b3708=_0x12a83d[_0x3f43fe(0x2f6)]*_0x4964a1;_0x49a66e+=_0x4b3708,_0x12a83d['last']=formatResult(Number(_0x4964a1),0x8),_0x12a83d[_0x3f43fe(0x1f6)]=_0x4b3708;}),currentCoins['forEach'](_0x2d5af2=>{const _0x49529d=_0x2193b9;let _0x29cd09=config['portfolio']['find'](_0x545d27=>_0x545d27[_0x49529d(0x2be)]==_0x2d5af2[_0x49529d(0x2be)]),_0x1d1a02=Number(_0x29cd09[_0x49529d(0x2af)]),_0x4f5929=_0x2d5af2[_0x49529d(0x1f6)]/_0x49a66e*0x64,_0x220126=_0x1d1a02*_0x49a66e/0x64/_0x2d5af2[_0x49529d(0x27d)]-_0x2d5af2[_0x49529d(0x2f6)];_0x2d5af2[_0x49529d(0x2af)]=formatResult(_0x4f5929,0x3),_0x2d5af2['target']=formatResult(_0x1d1a02,0x3),_0x2d5af2[_0x49529d(0x2dc)]=formatResult(_0x220126,0x8),_0x2d5af2[_0x49529d(0x22b)]='',_0x2d5af2[_0x49529d(0x267)]='';if(_0x2d5af2[_0x49529d(0x2be)]!=config[_0x49529d(0x260)]){if(_0x2d5af2[_0x49529d(0x2af)]>_0x1d1a02)_0x2d5af2[_0x49529d(0x22b)]='sell',_0x2d5af2['valid']=checkMinimums(_0x2d5af2);else _0x2d5af2[_0x49529d(0x2af)]<_0x1d1a02&&(_0x2d5af2[_0x49529d(0x22b)]=_0x49529d(0x244),_0x2d5af2[_0x49529d(0x267)]=checkMinimums(_0x2d5af2));}_0x2d5af2['delta']=_0x2d5af2[_0x49529d(0x2af)]/_0x2d5af2[_0x49529d(0x241)]-0x1;}),currentCoins[_0x2193b9(0x288)]((_0x14ee76,_0x1425bc)=>_0x14ee76[_0x2193b9(0x209)]<_0x1425bc['delta']?0x1:_0x1425bc[_0x2193b9(0x209)]<_0x14ee76[_0x2193b9(0x209)]?-0x1:0x0);const _0x1d40cb=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x1d40cb[_0x2193b9(0x2c2)],'usd':_0x1d40cb['usd'],'portfolio':JSON[_0x2193b9(0x219)](currentCoins),'threshold':_0x440b55},proxyEmit(_0x2193b9(0x21b),{'serverversion':serverversion,'balances':lastBalances});if(config[_0x2193b9(0x2c4)])headlessMode({'portfolio':currentCoins,'threshold':_0x440b55});else{if(!lockOrders)notifyBalance({'portfolio':currentCoins,'threshold':_0x440b55});}!initialPerformanceStored&&(initialPerformanceStored=!![],await storePerformance(),emitPerformance(getNormalizedPerformance()));lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x39c4a8=_0x548c23;if(!lastBalances)return;let _0x55011e=[],_0x369f12,_0x259ea4=JSON[_0x39c4a8(0x1f3)](lastBalances['portfolio']);_0x259ea4[_0x39c4a8(0x288)]((_0x57c86e,_0x5bb7b2)=>_0x57c86e[_0x39c4a8(0x2be)]>_0x5bb7b2['coin']?0x1:_0x5bb7b2['coin']>_0x57c86e[_0x39c4a8(0x2be)]?-0x1:0x0),_0x259ea4[_0x39c4a8(0x1f8)](_0x3f5aca=>{const _0x276f6e=_0x39c4a8;let _0xcf4e76={'coin':_0x3f5aca['coin'],'number':_0x3f5aca['number'],'price':_0x3f5aca[_0x276f6e(0x27d)]};_0x55011e[_0x276f6e(0x2c9)](_0xcf4e76);});const _0x6ce0d0=await getFiat();_0x369f12={'date':lastBalances['time']['split']('\x20')[0x0],'eur':_0x6ce0d0[_0x39c4a8(0x2c2)],'usd':_0x6ce0d0['usd'],'coins':_0x55011e};let _0x1255fe=dbPerformance[_0x39c4a8(0x2f8)]('data')['find']({'date':_0x369f12[_0x39c4a8(0x24c)]})[_0x39c4a8(0x1f6)]();_0x1255fe?_0x369f12[_0x39c4a8(0x24c)]!=config['startdate']&&dbPerformance[_0x39c4a8(0x2f8)](_0x39c4a8(0x226))[_0x39c4a8(0x2d7)]({'date':_0x369f12[_0x39c4a8(0x24c)]})[_0x39c4a8(0x1fc)](_0x369f12)['write']():dbPerformance[_0x39c4a8(0x2f8)]('data')[_0x39c4a8(0x2c9)](_0x369f12)['write'](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x73e43f=_0x548c23;let _0x46921d=[];if(dbPerformance[_0x73e43f(0x1e4)](_0x73e43f(0x226))[_0x73e43f(0x1f6)]()){let _0x14d7aa=dbPerformance[_0x73e43f(0x2f8)]('data')[_0x73e43f(0x1ff)]()[_0x73e43f(0x2a1)](_0x73e43f(0x24c))[_0x73e43f(0x1f6)](),_0x2b746c=[...config[_0x73e43f(0x2a4)]];_0x2b746c[_0x73e43f(0x288)]((_0x4041d4,_0x4baed2)=>_0x4041d4[_0x73e43f(0x24c)]>_0x4baed2[_0x73e43f(0x24c)]?-0x1:_0x4baed2[_0x73e43f(0x24c)]>_0x4041d4[_0x73e43f(0x24c)]?0x1:0x0);let _0x4ba6ea=0x1,_0x333c41=[],_0x54d4ba=0x0;_0x14d7aa[_0x73e43f(0x1ed)]()[_0x73e43f(0x232)]()[_0x73e43f(0x1f8)]((_0x346861,_0x4d1579)=>{const _0x2d3d37=_0x73e43f;if(_0x2b746c[_0x54d4ba]){if(_0x14d7aa[_0x14d7aa['length']-_0x4d1579]&&_0x2b746c[_0x54d4ba][_0x2d3d37(0x24c)]==_0x14d7aa[_0x14d7aa[_0x2d3d37(0x2e7)]-_0x4d1579][_0x2d3d37(0x24c)]){if(_0x4d1579<_0x14d7aa[_0x2d3d37(0x2e7)]){let _0x17dca8=0x0,_0x536514=0x0;_0x14d7aa[_0x14d7aa[_0x2d3d37(0x2e7)]-_0x4d1579][_0x2d3d37(0x266)]['forEach'](_0xb0d8b=>{const _0x56aa95=_0x2d3d37;_0x536514+=_0xb0d8b[_0x56aa95(0x2f6)]*_0xb0d8b[_0x56aa95(0x1e2)];}),_0x2b746c[_0x54d4ba][_0x2d3d37(0x2bd)]['forEach'](_0x15833e=>{const _0x335ed4=_0x2d3d37;_0x17dca8+=_0x15833e['number']*_0x15833e[_0x335ed4(0x1e2)];}),_0x4ba6ea*=_0x17dca8/(_0x536514-_0x17dca8)+0x1;}_0x54d4ba++;}}let _0x1a87b3=0x0;_0x346861[_0x2d3d37(0x266)][_0x2d3d37(0x1f8)](_0x99d7b=>{const _0x590981=_0x2d3d37;_0x1a87b3+=_0x99d7b[_0x590981(0x2f6)]*_0x99d7b[_0x590981(0x1e2)];}),_0x333c41[_0x14d7aa[_0x2d3d37(0x2e7)]-_0x4d1579-0x1]=_0x1a87b3*(_0x4ba6ea-0x1);});let _0x380fb5=[];_0x2b746c=[...config[_0x73e43f(0x2a4)]]||[];let _0x36387e=0x0;_0x54d4ba=0x0,_0x14d7aa[_0x73e43f(0x1f8)]((_0x5beaba,_0x347538)=>{const _0x2ef96b=_0x73e43f;if(_0x2b746c[_0x54d4ba]){const _0x2b053c=fns[_0x2ef96b(0x1f3)](_0x2b746c[_0x54d4ba][_0x2ef96b(0x24c)],_0x2ef96b(0x25b),new Date()),_0x39831f=fns[_0x2ef96b(0x1f3)](_0x5beaba['date'],_0x2ef96b(0x25b),new Date());if(fns[_0x2ef96b(0x235)](_0x2b053c,_0x39831f)){let _0x4ae5ca=0x0;_0x2b746c[_0x54d4ba][_0x2ef96b(0x2bd)]['forEach'](_0x41aac9=>{const _0x571645=_0x2ef96b;!_0x380fb5[_0x41aac9[_0x571645(0x2be)]]?_0x380fb5[_0x41aac9['coin']]=_0x41aac9[_0x571645(0x2f6)]:(_0x4ae5ca=_0x380fb5[_0x41aac9['coin']],_0x380fb5[_0x41aac9[_0x571645(0x2be)]]+=_0x41aac9[_0x571645(0x2f6)]);const _0x2e8fba=_0x5beaba[_0x571645(0x266)][_0x571645(0x2d7)](_0x53f694=>_0x53f694[_0x571645(0x2be)]==_0x41aac9['coin']);(!_0x2e8fba||_0x2e8fba[_0x571645(0x2f6)]==0x0)&&(_0x36387e+=(-_0x41aac9[_0x571645(0x2f6)]-_0x4ae5ca)*_0x41aac9[_0x571645(0x1e2)]);}),_0x54d4ba++;}}_0x5beaba['coins'][_0x2ef96b(0x1f8)]((_0x465f58,_0x4d35d5)=>{const _0x43e0ae=_0x2ef96b;_0x380fb5[_0x465f58[_0x43e0ae(0x2be)]]&&(_0x465f58={..._0x465f58,'initial':_0x380fb5[_0x465f58[_0x43e0ae(0x2be)]]}),_0x5beaba['coins'][_0x4d35d5]=_0x465f58;}),_0x46921d['push']({'date':_0x5beaba[_0x2ef96b(0x24c)],'eur':_0x5beaba[_0x2ef96b(0x2c2)],'usd':_0x5beaba[_0x2ef96b(0x2bb)],'offset':_0x333c41[_0x347538],'netoffset':_0x36387e,'coins':_0x5beaba['coins']});});}return _0x46921d;}function emitPerformance(_0x511f7f){const _0x1287d9=_0x548c23;_0x511f7f[_0x1287d9(0x2e7)]!==0x0?(proxyEmit('performance',_0x511f7f),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x52c9ec,_0x4e3648){const _0x577da1=_0x548c23;let _0x43b7fd=0x0,_0x35ca1c=0x0,_0x1d6016=0x0;_0x52c9ec[_0x577da1(0x266)][_0x577da1(0x1f8)](_0x4b84ca=>{const _0x285244=_0x577da1;_0x43b7fd+=_0x4b84ca[_0x285244(0x2f6)]*_0x4b84ca[_0x285244(0x1e2)];});_0x4e3648&&(_0x43b7fd+=_0x52c9ec[_0x577da1(0x254)]);if(config[_0x577da1(0x260)]===_0x577da1(0x230))_0x35ca1c=_0x43b7fd*_0x52c9ec['eur'],_0x1d6016=_0x43b7fd*_0x52c9ec[_0x577da1(0x2bb)];else{if(config[_0x577da1(0x260)]==='BUSD'||config[_0x577da1(0x260)]==='USDT'||config['basecoin']===_0x577da1(0x22e))_0x35ca1c=_0x43b7fd*_0x52c9ec[_0x577da1(0x2c2)]/_0x52c9ec['usd'],_0x1d6016=_0x43b7fd;else config[_0x577da1(0x260)]===_0x577da1(0x2f7)&&(_0x35ca1c=_0x43b7fd,_0x1d6016=_0x43b7fd*_0x52c9ec[_0x577da1(0x2bb)]/_0x52c9ec[_0x577da1(0x2c2)]);}return[_0x43b7fd,_0x35ca1c,_0x1d6016];}async function getStartingBalances(_0x41a936,_0x27f9fc=!![]){const _0x1fcd4f=_0x548c23;if(_0x41a936[_0x1fcd4f(0x2e7)]!==0x0){const [_0x14b652,_0x46bfad,_0x1ead08]=getPerf(_0x41a936[0x0],!![]);let _0x34c0df=[];config[_0x1fcd4f(0x1da)][_0x1fcd4f(0x1f8)](_0x1cb9fa=>{const _0xca59fc=_0x1fcd4f;let _0x3da568=0x0;config[_0xca59fc(0x2a4)][_0xca59fc(0x1f8)](_0x507052=>{const _0x359b41=_0xca59fc;let _0x3f3644=_0x507052[_0x359b41(0x2bd)]['find'](_0x5c6ffd=>_0x5c6ffd[_0x359b41(0x2be)]==_0x1cb9fa[_0x359b41(0x2be)]);if(_0x3f3644)_0x3da568+=_0x3f3644[_0x359b41(0x2f6)];}),_0x34c0df[_0xca59fc(0x2c9)]({'coin':_0x1cb9fa[_0xca59fc(0x2be)],'number':_0x3da568,'price':_0x1cb9fa['price']});});const _0x5f137e={'basecoin':_0x14b652,'eur':_0x46bfad,'usd':_0x1ead08,'coins':_0x34c0df};if(_0x27f9fc)proxyEmit(_0x1fcd4f(0x248),_0x5f137e);return _0x5f137e;}}function headlessMode(_0x167033){const _0x152cf6=_0x548c23;let _0x549410=_0x167033[_0x152cf6(0x1da)],_0x303c03=_0x167033['threshold'],_0x554217=[];for(let _0x34ab33 of _0x549410){if(_0x34ab33[_0x152cf6(0x2be)]!=config[_0x152cf6(0x260)]){if(_0x34ab33[_0x152cf6(0x2af)]/_0x34ab33['target']-0x1>=_0x303c03/0x64){if(_0x34ab33['valid'])_0x554217['push'](_0x34ab33);}else{if(_0x34ab33[_0x152cf6(0x2af)]/_0x34ab33['target']-0x1<=-_0x303c03/0x64){if(_0x34ab33[_0x152cf6(0x267)])_0x554217[_0x152cf6(0x2c9)](_0x34ab33);}}}}_0x554217['length']>0x0&&placeOrder(_0x554217);}function notifyBalance(_0x50183d){const _0x34807f=_0x548c23;let _0x14c9bf=_0x50183d[_0x34807f(0x1da)],_0x174bc9=_0x50183d['threshold'],_0x4487cc=[];for(let _0x16f5b0 of _0x14c9bf){if(_0x16f5b0['coin']!=config[_0x34807f(0x260)]){if(_0x16f5b0['distribution']/_0x16f5b0[_0x34807f(0x241)]-0x1>=_0x174bc9/0x64){if(_0x16f5b0[_0x34807f(0x267)])_0x4487cc['push'](_0x16f5b0);}else{if(_0x16f5b0[_0x34807f(0x2af)]/_0x16f5b0[_0x34807f(0x241)]-0x1<=-_0x174bc9/0x64){if(_0x16f5b0[_0x34807f(0x267)])_0x4487cc[_0x34807f(0x2c9)](_0x16f5b0);}}}}if(_0x4487cc[_0x34807f(0x2e7)]>0x0){let _0x5ed4a0=_0x4487cc[_0x34807f(0x24e)](_0x210179=>_0x210179[_0x34807f(0x2be)]);_0x5ed4a0[_0x34807f(0x288)]();let _0x486a27=_0x5ed4a0[_0x34807f(0x229)](',\x20');if(lastCoinsToBalance!==_0x486a27)logHistory(_0x34807f(0x2c6),_0x34807f(0x1fb)+_0x486a27);lastCoinsToBalance=_0x486a27;}}function symbolToCoin(_0x51a570){const _0xb4c8b7=_0x548c23;let _0x509ca3;if(_0x51a570[_0xb4c8b7(0x28a)]('/'+config[_0xb4c8b7(0x260)]))_0x509ca3=_0x51a570[_0xb4c8b7(0x247)]('/'+config[_0xb4c8b7(0x260)],'');if(_0x51a570[_0xb4c8b7(0x28a)](config[_0xb4c8b7(0x260)]+'/'))_0x509ca3=_0x51a570[_0xb4c8b7(0x247)](config[_0xb4c8b7(0x260)]+'/','');return _0x509ca3;}async function validateOrders(_0x2bf8f2=0x0){const _0x3ae64d=_0x548c23;let _0x598769=[],_0x182724=config[_0x3ae64d(0x272)]==_0x3ae64d(0x1e3)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;lastOrders['forEach'](_0x162693=>{const _0x4675bb=_0x3ae64d;let _0x5c10d2=previousCoins[_0x4675bb(0x2d7)](_0x4d6340=>_0x4d6340['coin']==symbolToCoin(_0x162693[_0x4675bb(0x21a)])),_0x250936=currentCoins['find'](_0x38a519=>_0x38a519[_0x4675bb(0x2be)]==symbolToCoin(_0x162693[_0x4675bb(0x21a)])),_0x397b9d,_0x35b4c0;_0x162693['side']==_0x4675bb(0x244)&&!_0x162693[_0x4675bb(0x232)]||_0x162693[_0x4675bb(0x22b)]==_0x4675bb(0x290)&&_0x162693[_0x4675bb(0x232)]?(_0x397b9d=_0x5c10d2['number']+0.9*_0x162693['filled'],_0x35b4c0=_0x5c10d2['number']+1.1*_0x162693[_0x4675bb(0x268)]):(_0x397b9d=_0x5c10d2[_0x4675bb(0x2f6)]-1.1*_0x162693[_0x4675bb(0x268)],_0x35b4c0=_0x5c10d2[_0x4675bb(0x2f6)]-0.9*_0x162693[_0x4675bb(0x268)]);const _0x49f981=_0x162693[_0x4675bb(0x268)]!=0x0&&_0x250936[_0x4675bb(0x2f6)]>=_0x397b9d&&_0x250936[_0x4675bb(0x2f6)]<=_0x35b4c0;_0x598769[_0x4675bb(0x2c9)](_0x49f981);if(_0x49f981&&config[_0x4675bb(0x272)]!=_0x4675bb(0x1e3)){if(_0x162693[_0x4675bb(0x232)])logHistory(_0x4675bb(0x2a7),_0x4675bb(0x24d)+_0x162693[_0x4675bb(0x21a)]+'\x20'+_0x162693[_0x4675bb(0x22b)]+'\x20#'+formatResult(_0x162693['filled']/_0x162693[_0x4675bb(0x1e2)],0x8)+'\x20@'+formatResult(_0x162693[_0x4675bb(0x1e2)],0x8));else logHistory(_0x4675bb(0x2a7),_0x4675bb(0x24d)+_0x162693[_0x4675bb(0x21a)]+'\x20'+_0x162693[_0x4675bb(0x22b)]+'\x20#'+formatResult(_0x162693[_0x4675bb(0x268)],0x8)+'\x20@'+formatResult(_0x162693[_0x4675bb(0x1e2)],0x8));}}),_0x598769['forEach']((_0x3062e5,_0x205c97)=>{const _0x135edd=_0x3ae64d;if(_0x3062e5)lastOrders[_0x135edd(0x210)](_0x205c97,0x1);});if(_0x2bf8f2<_0x182724&&_0x598769['includes'](![])){if(_0x2bf8f2==0x0){config['ordertype']==_0x3ae64d(0x1e3)?logHistory('error',_0x3ae64d(0x20e)):logHistory(_0x3ae64d(0x297),_0x3ae64d(0x1db));if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x2bf8f2);},0xa*0x3e8);}else{(_0x2bf8f2==0x1||_0x2bf8f2==Math[_0x3ae64d(0x2a6)](_0x182724/0x2)||_0x2bf8f2==_0x182724-0x1)&&(currentCoins=await getCoins());if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(function(){validateOrders(++_0x2bf8f2);},validateOrderInterval);}}else{lockOrders=![];if(_0x2bf8f2>0x0&&!_0x598769[_0x3ae64d(0x28a)](![]))config[_0x3ae64d(0x272)]=='market'?logHistory(_0x3ae64d(0x2c6),'Order(s)\x20validated\x20-\x20balancing\x20resumed'):logHistory(_0x3ae64d(0x2c6),_0x3ae64d(0x2c0));else _0x2bf8f2>0x0&&_0x598769[_0x3ae64d(0x28a)](![])&&(config[_0x3ae64d(0x272)]==_0x3ae64d(0x1e3)?logHistory(_0x3ae64d(0x2c6),_0x3ae64d(0x294)+Math['round'](_0x182724*validateOrderInterval/0xea60)+_0x3ae64d(0x203)):(lastOrders[_0x3ae64d(0x1f8)](async _0x5208ee=>{const _0x10e64a=_0x3ae64d;try{const _0x5ce9f2=await exchange[_0x10e64a(0x277)](_0x5208ee[_0x10e64a(0x1dd)],_0x5208ee[_0x10e64a(0x21a)]);}catch(_0x372ebc){if(_0x372ebc[_0x10e64a(0x2e9)]()[_0x10e64a(0x28a)](_0x10e64a(0x22d))){}else await handleError(_0x372ebc,_0x10e64a(0x2d9));}}),logHistory(_0x3ae64d(0x2c6),_0x3ae64d(0x263)+Math[_0x3ae64d(0x2a6)](_0x182724*validateOrderInterval/0xea60)+_0x3ae64d(0x203))));}}async function resetCoinResults(){const _0x3a7508=_0x548c23;dbCoinResults[_0x3a7508(0x2f8)](_0x3a7508(0x266))['remove']()[_0x3a7508(0x259)]();let _0x45a42b=await getStartingBalances(getNormalizedPerformance(),![]);_0x45a42b[_0x3a7508(0x266)][_0x3a7508(0x1f8)](_0x1a338d=>{const _0x2c66a4=_0x3a7508;if(_0x1a338d[_0x2c66a4(0x2be)]!=config[_0x2c66a4(0x260)]){let _0x22dd32={'coin':_0x1a338d[_0x2c66a4(0x2be)],'number':_0x1a338d[_0x2c66a4(0x2f6)],'breakeven':_0x1a338d[_0x2c66a4(0x1e2)],'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2c66a4(0x2f8)](_0x2c66a4(0x266))['push'](_0x22dd32)[_0x2c66a4(0x259)]();}});}async function updateCoinResults(_0x4abf21){const _0x5e830c=_0x548c23;let _0x552459,_0x25325e,_0x5b1ea3,_0xd88bc4,_0x330446,_0x3c87ed,_0x413979=dbCoinResults[_0x5e830c(0x2f8)]('coins')[_0x5e830c(0x2d7)]({'coin':_0x4abf21[_0x5e830c(0x2be)]})[_0x5e830c(0x1f6)]();if(!_0x413979)return;if(_0x4abf21['fee']&&_0x4abf21[_0x5e830c(0x21c)]['currency']==config[_0x5e830c(0x260)])_0x552459=_0x4abf21[_0x5e830c(0x21c)]['cost'];else{if(_0x4abf21[_0x5e830c(0x21c)]&&_0x4abf21['fee'][_0x5e830c(0x228)]==_0x5e830c(0x2a8))_0x552459=_0x4abf21[_0x5e830c(0x21c)][_0x5e830c(0x2cb)]*global[_0x5e830c(0x1d5)]['BNB'+config[_0x5e830c(0x260)]];else _0x552459=0.001*_0x4abf21[_0x5e830c(0x268)];}const _0x59198e=_0x4abf21[_0x5e830c(0x21a)][_0x5e830c(0x28a)](config[_0x5e830c(0x260)]+'/');_0x59198e&&(_0x3c87ed={'coin':_0x4abf21[_0x5e830c(0x2be)],'symbol':_0x4abf21[_0x5e830c(0x21a)],'filled':_0x4abf21[_0x5e830c(0x268)]*_0x4abf21[_0x5e830c(0x1e2)],'side':_0x4abf21['side']==_0x5e830c(0x290)?_0x5e830c(0x244):_0x5e830c(0x290),'price':0x1/_0x4abf21[_0x5e830c(0x1e2)]},_0x4abf21={..._0x3c87ed});_0x4abf21['side']==_0x5e830c(0x244)?_0x5b1ea3=(_0x413979[_0x5e830c(0x2df)]*_0x413979[_0x5e830c(0x2f6)]+_0x4abf21[_0x5e830c(0x1e2)]*_0x4abf21[_0x5e830c(0x268)])/(_0x413979[_0x5e830c(0x2f6)]+_0x4abf21[_0x5e830c(0x268)]):_0x5b1ea3=(_0x413979[_0x5e830c(0x2df)]*_0x413979[_0x5e830c(0x2f6)]-_0x4abf21[_0x5e830c(0x1e2)]*_0x4abf21[_0x5e830c(0x268)])/(_0x413979['number']-_0x4abf21[_0x5e830c(0x268)]);_0x4abf21[_0x5e830c(0x22b)]=='buy'?_0xd88bc4=_0x413979[_0x5e830c(0x2da)]:_0xd88bc4=_0x413979[_0x5e830c(0x2da)]+(_0x4abf21[_0x5e830c(0x1e2)]-_0x413979['breakeven'])*_0x4abf21['filled'];_0x25325e=_0x4abf21['side']=='sell'?_0x413979[_0x5e830c(0x2f6)]-_0x4abf21[_0x5e830c(0x268)]:_0x413979[_0x5e830c(0x2f6)]+_0x4abf21[_0x5e830c(0x268)],_0x330446=(_0x4abf21[_0x5e830c(0x1e2)]-_0x5b1ea3)*_0x25325e;let _0x5f462f={'coin':_0x4abf21[_0x5e830c(0x2be)],'number':_0x25325e,'breakeven':formatResult(_0x5b1ea3,0x8),'realized':formatResult(_0xd88bc4,0x8),'unrealized':formatResult(_0x330446,0x8),'fees':formatResult(_0x413979[_0x5e830c(0x202)]+_0x552459,0x8),'sells':_0x4abf21[_0x5e830c(0x22b)]=='sell'?_0x413979[_0x5e830c(0x23f)]+0x1:_0x413979[_0x5e830c(0x23f)],'buys':_0x4abf21[_0x5e830c(0x22b)]==_0x5e830c(0x244)?_0x413979['buys']+0x1:_0x413979['buys']};dbCoinResults['get'](_0x5e830c(0x266))[_0x5e830c(0x2d7)]({'coin':_0x4abf21['coin']})['assign'](_0x5f462f)[_0x5e830c(0x259)]();}async function placeOrder(_0x324fe1){const _0x42e9ba=_0x548c23,_0x3f6aeb=config[_0x42e9ba(0x272)]==_0x42e9ba(0x1e3)?_0x42e9ba(0x1e3):_0x42e9ba(0x292);if(!lockOrders&&!coolingDown){lastOrders=[],previousCoins=JSON['parse'](JSON[_0x42e9ba(0x219)](currentCoins));for(const _0x77793c of _0x324fe1){let _0x1afd00,_0x20e800,_0x10a794,_0x54223d,_0xd0e9e8,_0x509f98=_0x77793c[_0x42e9ba(0x21a)];try{const _0x297997=await exchange[_0x42e9ba(0x1e5)](_0x509f98),_0x549f49=_0x297997[_0x509f98];_0x1afd00=_0x549f49[_0x42e9ba(0x27d)],_0x20e800=_0x549f49[_0x42e9ba(0x27e)],_0x10a794=_0x549f49['ask'];_0x77793c['reverse']?(_0x54223d=_0x77793c[_0x42e9ba(0x22b)]==_0x42e9ba(0x244)?'sell':_0x42e9ba(0x244),_0xd0e9e8=Math[_0x42e9ba(0x2a9)](_0x77793c[_0x42e9ba(0x2dc)])/_0x1afd00):(_0x54223d=_0x77793c['side'],_0xd0e9e8=Math['abs'](_0x77793c[_0x42e9ba(0x2dc)]));_0x3f6aeb==_0x42e9ba(0x292)&&(config[_0x42e9ba(0x272)]==_0x42e9ba(0x27b)&&(_0x1afd00=_0x54223d==_0x42e9ba(0x244)?_0x20e800:_0x10a794),config[_0x42e9ba(0x272)]==_0x42e9ba(0x1dc)&&(_0x1afd00=_0x54223d==_0x42e9ba(0x244)?_0x10a794:_0x20e800));_0xd0e9e8=formatResult(_0xd0e9e8,0x8),_0x1afd00=formatResult(_0x1afd00,0x8);const _0x2c37c6=await exchange[_0x42e9ba(0x2ba)](_0x509f98,_0x3f6aeb,_0x54223d,_0xd0e9e8,_0x1afd00);lastOrders[_0x42e9ba(0x2c9)]({'orderId':_0x2c37c6['id'],'symbol':_0x509f98,'side':_0x54223d,'reverse':_0x77793c[_0x42e9ba(0x232)],'amount':_0x77793c['reverse']?_0x2c37c6[_0x42e9ba(0x2ab)]*_0x2c37c6[_0x42e9ba(0x1e2)]:_0x2c37c6[_0x42e9ba(0x2ab)],'filled':_0x77793c[_0x42e9ba(0x232)]?_0x2c37c6[_0x42e9ba(0x268)]*_0x2c37c6['price']:_0x2c37c6[_0x42e9ba(0x268)],'price':_0x2c37c6[_0x42e9ba(0x1e2)]});const _0x1656ed=_0x54223d==_0x42e9ba(0x290)?config[_0x42e9ba(0x246)]?String[_0x42e9ba(0x216)]('0x'+config['emojisell'])+'\x20':'':config[_0x42e9ba(0x2d5)]?String[_0x42e9ba(0x216)]('0x'+config[_0x42e9ba(0x2d5)])+'\x20':'',_0x5d06e7=_0x3f6aeb==_0x42e9ba(0x1e3)?_0x42e9ba(0x2cd):config[_0x42e9ba(0x272)]=='limit-high'?'Limit\x20(high-margin)':_0x42e9ba(0x2b5);if(_0x3f6aeb==_0x42e9ba(0x1e3))logHistory(_0x42e9ba(0x2a7),''+_0x1656ed+_0x5d06e7+_0x42e9ba(0x1d4)+_0x509f98+'\x20'+_0x54223d+'\x20#'+formatResult(_0x2c37c6[_0x42e9ba(0x268)],0x8)+'\x20@'+formatResult(_0x2c37c6[_0x42e9ba(0x1e2)],0x8));else logHistory(_0x42e9ba(0x2a7),''+_0x1656ed+_0x5d06e7+_0x42e9ba(0x1d4)+_0x509f98+'\x20'+_0x54223d+'\x20#'+formatResult(_0x2c37c6[_0x42e9ba(0x2ab)],0x8)+'\x20@'+formatResult(_0x2c37c6[_0x42e9ba(0x1e2)],0x8));_0x2c37c6[_0x42e9ba(0x2be)]=_0x77793c['coin'],await updateCoinResults(_0x2c37c6);if(config[_0x42e9ba(0x1f7)]!=0x0){let _0x316a64=null;if(cooldownTracker[_0x42e9ba(0x2e7)]==config[_0x42e9ba(0x1f7)]-0x1)_0x316a64=cooldownTracker[_0x42e9ba(0x2d8)]();const _0x5d39e8=getTimeStamp();cooldownTracker[_0x42e9ba(0x2c9)](_0x5d39e8);if(_0x316a64){const _0x438d25=fns[_0x42e9ba(0x278)](new Date(_0x5d39e8),new Date(_0x316a64));_0x438d25<cooldownInterval&&(logHistory(_0x42e9ba(0x297),_0x42e9ba(0x28e)+config['cooldown']+_0x42e9ba(0x2a0)+cooldownInterval/0x3c+_0x42e9ba(0x2cc)+cooldownPeriod/(0xe10*0x3e8)+_0x42e9ba(0x2b4)),coolingDown=!![],await sleep(cooldownPeriod),coolingDown=![]);}}}catch(_0x408920){if(_0x408920['toString']()[_0x42e9ba(0x28a)](_0x42e9ba(0x29e)))logHistory(_0x42e9ba(0x297),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x509f98);else{if(_0x408920[_0x42e9ba(0x2e9)]()[_0x42e9ba(0x28a)](_0x42e9ba(0x25c)))logHistory(_0x42e9ba(0x297),_0x42e9ba(0x2d6)+_0x509f98);else await handleError(_0x408920,_0x42e9ba(0x23b));}}}if(lastOrders[_0x42e9ba(0x2e7)]!=0x0){lockOrders=!![];if(pidOrders)clearTimeout(pidOrders);pidOrders=setTimeout(validateOrders,0xa*0x3e8);}}else{if(lockOrders)!config[_0x42e9ba(0x2c4)]&&(config[_0x42e9ba(0x272)]==_0x42e9ba(0x1e3)?logHistory(_0x42e9ba(0x297),_0x42e9ba(0x2e6)):logHistory(_0x42e9ba(0x297),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled'));else coolingDown&&(!config['headless']&&logHistory('error','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode'));}}function logHistory(_0x1ec2b6,_0xa7df43,_0x5680f2=''){const _0x453880=_0x548c23;let _0x480916={'time':getTimeStamp(),'type':_0x1ec2b6,'event':_0xa7df43};dbLogs['get'](_0x453880(0x20b))[_0x453880(0x2c9)](_0x480916)[_0x453880(0x259)]();if(_0x5680f2=='')_0x5680f2=_0xa7df43;proxyEmit(_0x453880(0x26c),{'log':_0x480916,'summary':_0x5680f2}),process[_0x453880(0x2f4)]({'telegram':{..._0x480916,'botname':config[_0x453880(0x200)],'showname':config['showname']}},_0x59d2e9=>{}),logging(''+_0x480916[_0x453880(0x26c)]);}function emitHistory(_0x4a4373={}){const _0xa3a998=_0x548c23;Object[_0xa3a998(0x23d)](_0x4a4373)[_0xa3a998(0x2e7)]==0x0&&(_0x4a4373={'type':[_0xa3a998(0x2a7),'event'],'event':'','page':0x1});if(_0x4a4373['type']['includes'](_0xa3a998(0x26c)))_0x4a4373[_0xa3a998(0x2d4)][_0xa3a998(0x210)](_0x4a4373[_0xa3a998(0x2d4)]['indexOf'](_0xa3a998(0x26c)),0x1,_0xa3a998(0x297),_0xa3a998(0x2c6));if(dbLogs[_0xa3a998(0x1e4)](_0xa3a998(0x20b))[_0xa3a998(0x1f6)]()){let _0x5eebd3=dbLogs['get'](_0xa3a998(0x20b))['filter'](_0x27d499=>{const _0x2694e7=_0xa3a998;if(_0x4a4373[_0x2694e7(0x2d4)][_0x2694e7(0x2e7)]==0x0)return![];else return _0x4a4373[_0x2694e7(0x2d4)][_0x2694e7(0x28a)](_0x27d499['type']);})[_0xa3a998(0x1ec)](_0x44c008=>{const _0x304388=_0xa3a998;if(_0x4a4373[_0x304388(0x26c)]=='')return!![];else return _0x44c008['event'][_0x304388(0x24b)]()[_0x304388(0x28a)](_0x4a4373[_0x304388(0x26c)][_0x304388(0x24b)]());})['sortBy']('time'),_0x49a124=_0x5eebd3[_0xa3a998(0x1f6)]()['length'];_0x5eebd3=_0x5eebd3[_0xa3a998(0x232)]()['slice']((_0x4a4373[_0xa3a998(0x1e1)]-0x1)*logPageSize,_0x4a4373[_0xa3a998(0x1e1)]*logPageSize-0x1)[_0xa3a998(0x232)]()[_0xa3a998(0x1f6)](),proxyEmit(_0xa3a998(0x204),{'logs':_0x5eebd3,'total':_0x49a124});}else proxyEmit(_0xa3a998(0x204),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x287c93){const _0x36f114=_0x548c23;if(dbLogs[_0x36f114(0x1e4)](_0x36f114(0x20b))['value']()){const _0x36f304=dbLogs[_0x36f114(0x2f8)](_0x36f114(0x20b))[_0x36f114(0x2a1)](_0x36f114(0x265))['filter'](_0x6e741a=>{const _0x111b78=_0x36f114;return _0x6e741a[_0x111b78(0x2d4)]==_0x111b78(0x2a7);})[_0x36f114(0x1f6)]();dbLogs[_0x36f114(0x2f8)]('logs')[_0x36f114(0x1f1)]()[_0x36f114(0x259)](),dbLogs['get'](_0x36f114(0x20b))[_0x36f114(0x1fc)](_0x36f304)['write'](),emitHistory(_0x287c93);}}async function pauseBot(_0x3fda8e=''){const _0x10ace0=_0x548c23,_0x2c0537=new Date()[_0x10ace0(0x1fd)]();if(!lastBotPause)lastBotPause=new Date()['getTime'](),consecutivePauses=0x1;else{if(_0x2c0537-lastBotPause-pauseBotInterval<0x3c*0x3e8){consecutivePauses++;if(consecutivePauses>0x2)process[_0x10ace0(0x2f4)]({'stop':_0x10ace0(0x2c1)},_0x4970db=>{});}else consecutivePauses=0x1;lastBotPause=new Date()['getTime']();}if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);cleanws();if(_0x3fda8e)_0x3fda8e+=_0x10ace0(0x208);logHistory(_0x10ace0(0x297),_0x3fda8e+_0x10ace0(0x1f5)+pauseBotInterval/0xea60+_0x10ace0(0x2e3)),await sleep(pauseBotInterval),botPaused=![],reset();}}async function handleError(_0x320189,_0x15ede6,_0x2eb8a3=''){const _0x51cd84=_0x548c23;if(_0x320189['toString']()[_0x51cd84(0x28a)](_0x51cd84(0x2f0)))await pauseBot('Binance\x20API\x20blocked');else{if(_0x320189[_0x51cd84(0x2e9)]()[_0x51cd84(0x28a)](_0x51cd84(0x2b6)))await pauseBot(_0x51cd84(0x289));else{if(_0x320189[_0x51cd84(0x2e9)]()['includes'](_0x51cd84(0x299)))await pauseBot(_0x51cd84(0x206));else{if(_0x320189[_0x51cd84(0x2e9)]()[_0x51cd84(0x28a)](_0x51cd84(0x20c)))logHistory(_0x51cd84(0x297),_0x15ede6+_0x51cd84(0x213)),logHistory(_0x51cd84(0x297),_0x51cd84(0x24f)),process[_0x51cd84(0x2f4)]({'stop':'kill'},_0x1969b4=>{});else{if(_0x320189[_0x51cd84(0x2e9)]()[_0x51cd84(0x28a)](_0x51cd84(0x1eb)))logHistory(_0x51cd84(0x297),_0x15ede6+_0x51cd84(0x1ef)),logHistory('error',_0x51cd84(0x24f)),process[_0x51cd84(0x2f4)]({'stop':'kill'},_0x1f2d2f=>{});else{if(_0x320189['toString']()[_0x51cd84(0x28a)](_0x51cd84(0x28b)))logHistory(_0x51cd84(0x297),_0x15ede6+_0x51cd84(0x249)),logHistory(_0x51cd84(0x297),_0x51cd84(0x24f)),process['send']({'stop':_0x51cd84(0x2f5)},_0x3c7b6c=>{});else{if(_0x320189[_0x51cd84(0x2e9)]()['includes'](_0x51cd84(0x281)))logHistory(_0x51cd84(0x297),_0x15ede6+_0x51cd84(0x233)),logHistory(_0x51cd84(0x297),_0x51cd84(0x24f)),process['send']({'stop':'kill'},_0x34b9a9=>{});else{if(_0x320189[_0x51cd84(0x2e9)]()[_0x51cd84(0x28a)](_0x51cd84(0x26d)))await pauseBot(_0x51cd84(0x2b0)),process[_0x51cd84(0x2f4)]({'stop':_0x51cd84(0x2c1)},_0x54093d=>{});else _0x320189['toString']()[_0x51cd84(0x28a)](_0x51cd84(0x256))?logHistory(_0x51cd84(0x297),_0x15ede6+_0x51cd84(0x2a5)):(logging(_0x15ede6+'\x20|\x20Error\x20details:\x20',_0x320189),await pauseBot(_0x51cd84(0x276)));}}}}}}}}function formatResult(_0x56b32e,_0x42ebf3){const _0x20c630=_0x548c23;return parseFloat(_0x56b32e[_0x20c630(0x25e)](_0x42ebf3));}function logging(_0x1c8ec9,_0x2862bf=''){const _0x157904=_0x548c23;if(config[_0x157904(0x28f)])console[_0x157904(0x2ad)](getTimeStamp()+':\x20'+config['botname']+_0x157904(0x22a)+_0x1c8ec9,_0x2862bf);else console[_0x157904(0x2ad)](getTimeStamp()+_0x157904(0x1df)+botID+_0x157904(0x22a)+_0x1c8ec9,_0x2862bf);}function getServerTime(){const _0x1e3263=_0x548c23,_0x4ca7c9=new Date();return _0x4ca7c9[_0x1e3263(0x2dd)]()+'/'+(_0x4ca7c9[_0x1e3263(0x29b)]()+0x1)[_0x1e3263(0x2e9)]()[_0x1e3263(0x222)](0x2,'0')+'/'+_0x4ca7c9[_0x1e3263(0x1e6)]()[_0x1e3263(0x2e9)]()[_0x1e3263(0x222)](0x2,'0')+'\x20'+_0x4ca7c9[_0x1e3263(0x2c3)]()[_0x1e3263(0x2e9)]()[_0x1e3263(0x222)](0x2,'0')+':'+_0x4ca7c9[_0x1e3263(0x217)]()['toString']()[_0x1e3263(0x222)](0x2,'0')+':'+_0x4ca7c9['getSeconds']()[_0x1e3263(0x2e9)]()[_0x1e3263(0x222)](0x2,'0');}function getTimeStamp(){const _0x46b1d8=_0x548c23,_0x54f7ee=shiftedTime();return _0x54f7ee['getFullYear']()+'/'+(_0x54f7ee['getMonth']()+0x1)[_0x46b1d8(0x2e9)]()[_0x46b1d8(0x222)](0x2,'0')+'/'+_0x54f7ee[_0x46b1d8(0x1e6)]()['toString']()['padStart'](0x2,'0')+'\x20'+_0x54f7ee[_0x46b1d8(0x2c3)]()[_0x46b1d8(0x2e9)]()[_0x46b1d8(0x222)](0x2,'0')+':'+_0x54f7ee[_0x46b1d8(0x217)]()['toString']()[_0x46b1d8(0x222)](0x2,'0')+':'+_0x54f7ee[_0x46b1d8(0x2eb)]()[_0x46b1d8(0x2e9)]()[_0x46b1d8(0x222)](0x2,'0');}function getDate(){const _0xc56f3b=_0x548c23,_0x382b62=shiftedTime();return _0x382b62['getFullYear']()+'/'+(_0x382b62[_0xc56f3b(0x29b)]()+0x1)[_0xc56f3b(0x2e9)]()['padStart'](0x2,'0')+'/'+_0x382b62['getDate']()[_0xc56f3b(0x2e9)]()[_0xc56f3b(0x222)](0x2,'0');}function getHour(){const _0x505c7d=_0x548c23,_0x1d1b57=shiftedTime();return _0x1d1b57[_0x505c7d(0x2c3)]()[_0x505c7d(0x2e9)]()[_0x505c7d(0x222)](0x2,'0');}function sleep(_0x291c03){return new Promise(_0x668c60=>setTimeout(_0x668c60,_0x291c03));}function shiftedTime(){const _0x18e0a7=_0x548c23,_0x1ba2b3=new Date();let _0x370439=_0x1ba2b3;if(config&&config['timeshift']!==0x0)_0x370439=fns['add'](_0x1ba2b3,{'hours':config[_0x18e0a7(0x255)]});return _0x370439;}