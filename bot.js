const _0x32bb38=_0x4639;(function(_0x5e3253,_0x512427){const _0x4669db=_0x4639,_0x548257=_0x5e3253();while(!![]){try{const _0x7e1a71=-parseInt(_0x4669db(0x1ae))/0x1*(-parseInt(_0x4669db(0xf4))/0x2)+-parseInt(_0x4669db(0x260))/0x3*(parseInt(_0x4669db(0x136))/0x4)+-parseInt(_0x4669db(0xe9))/0x5*(-parseInt(_0x4669db(0x257))/0x6)+-parseInt(_0x4669db(0x1d5))/0x7+-parseInt(_0x4669db(0x1b3))/0x8+parseInt(_0x4669db(0x19b))/0x9+-parseInt(_0x4669db(0x1a4))/0xa;if(_0x7e1a71===_0x512427)break;else _0x548257['push'](_0x548257['shift']());}catch(_0x690fdd){_0x548257['push'](_0x548257['shift']());}}}(_0xf0e9,0x579c4));const _0x19902a=function(){let _0x57ae03=!![];return function(_0x5ae022,_0x482e67){const _0x1769f7=_0x57ae03?function(){const _0xdc7d71=_0x4639;if(_0x482e67){const _0x4b2008=_0x482e67[_0xdc7d71(0x216)](_0x5ae022,arguments);return _0x482e67=null,_0x4b2008;}}:function(){};return _0x57ae03=![],_0x1769f7;};}(),_0x54a401=_0x19902a(this,function(){const _0x29448b=_0x4639;return _0x54a401[_0x29448b(0x26e)]()[_0x29448b(0x152)](_0x29448b(0x17a))[_0x29448b(0x26e)]()['constructor'](_0x54a401)[_0x29448b(0x152)](_0x29448b(0x17a));});_0x54a401();'use strict';const ccxt=require(_0x32bb38(0x18b)),low=require(_0x32bb38(0x1ed)),FileSync=require(_0x32bb38(0xfb)),fs=require('fs'),fns=require(_0x32bb38(0x1b7)),Crypt=require(_0x32bb38(0xe2))[_0x32bb38(0x268)],util=require(_0x32bb38(0x10b)),argv=require(_0x32bb38(0x13d))(process[_0x32bb38(0x253)][_0x32bb38(0x265)](0x2))[_0x32bb38(0x253)],path=require(_0x32bb38(0x197));let exchange;global[_0x32bb38(0x177)]={},global[_0x32bb38(0x1c1)]={};const usdBasecoins=[_0x32bb38(0x19c),_0x32bb38(0x20d),_0x32bb38(0x117),_0x32bb38(0x17d),_0x32bb38(0xe8),_0x32bb38(0x25e)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x32bb38(0x15a)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x32bb38(0x1ca)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![]},lasttime,bots=[];const serverversion=require('./version.json')['version'],botID=process['argv'][0x2]||_0x32bb38(0x134),pattern=/^[0-9]{3}$/;!pattern[_0x32bb38(0x114)](botID)&&(console['log'](_0x32bb38(0x1ef)+botID+_0x32bb38(0x237)),killBot());const userID=process['argv'][0x3]||'',configpath=userID?_0x32bb38(0x238)+userID+'/':_0x32bb38(0x238),logspath=userID?'./logs/'+userID+'/':'./logs/',loggerfile=fs[_0x32bb38(0x19e)](logspath+_0x32bb38(0x250),{'flags':'a'});!fs[_0x32bb38(0x16d)](configpath)&&fs[_0x32bb38(0x259)](configpath);!fs[_0x32bb38(0x16d)](logspath)&&fs[_0x32bb38(0x259)](logspath);const configfile=configpath+_0x32bb38(0x1e8)+botID+_0x32bb38(0x262),logfile=configpath+_0x32bb38(0x1e8)+botID+_0x32bb38(0x156),performancefile=configpath+_0x32bb38(0x1e8)+botID+_0x32bb38(0x1a6),coinresultsfile=configpath+_0x32bb38(0x1e8)+botID+'-results.json',settingsfile=configpath+_0x32bb38(0x242),securefile=configpath+_0x32bb38(0x119),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs[_0x32bb38(0x21d)]({'logs':[],'version':serverversion})[_0x32bb38(0x1e4)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance[_0x32bb38(0x21d)]({'data':[],'version':serverversion})[_0x32bb38(0x1e4)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x32bb38(0x21d)]({'bot':[],'version':serverversion})[_0x32bb38(0x1e4)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x32bb38(0x21d)]({'coins':[],'version':serverversion})[_0x32bb38(0x1e4)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x32bb38(0x274),'rsaStandard':'RSA-OAEP'});let settings=getSettings(),secure=getSecure();function _0x4639(_0x2e43ee,_0x3511ba){const _0x56fdea=_0xf0e9();return _0x4639=function(_0x54a401,_0x19902a){_0x54a401=_0x54a401-0xe0;let _0xf0e927=_0x56fdea[_0x54a401];return _0xf0e927;},_0x4639(_0x2e43ee,_0x3511ba);}oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x6c24d0=>{console['log'](_0x6c24d0);},'simple':_0x1fb8d0=>{const _0x48ee0d=_0x32bb38;console['log'](_0x1fb8d0),loggerfile[_0x48ee0d(0x1e4)](util[_0x48ee0d(0x158)](_0x1fb8d0)+'\x0a');},'full':async(_0x557669,_0x4af7c7='')=>{const _0x143663=_0x32bb38;let _0x3e0e75;if(config['showname'])_0x3e0e75=getTimeStamp()+':\x20'+config['botname']+_0x143663(0x200)+_0x557669;else _0x3e0e75=getTimeStamp()+':\x20Bot\x20'+botID+_0x143663(0x200)+_0x557669;console['log'](_0x3e0e75),loggerfile[_0x143663(0x1e4)](util['format'](_0x3e0e75)+'\x0a'),_0x4af7c7&&(console[_0x143663(0x22f)](_0x4af7c7),loggerfile[_0x143663(0x1e4)](util[_0x143663(0x158)](_0x4af7c7)+'\x0a'));},'debug':async(_0x2d199c,_0x26fadb='')=>{const _0x108110=_0x32bb38;let _0x2acfb8;if(config['showname'])_0x2acfb8=getTimeStamp()+':\x20'+config[_0x108110(0x102)]+_0x108110(0x241)+_0x2d199c;else _0x2acfb8=getTimeStamp()+_0x108110(0x1be)+botID+'\x20>\x20[DEBUG]\x20'+_0x2d199c;if(debugging)console['log'](_0x2acfb8);loggerfile['write'](util['format'](_0x2acfb8)+'\x0a');if(_0x26fadb){if(debugging)console[_0x108110(0x22f)](_0x26fadb);loggerfile['write'](util['format'](_0x26fadb)+'\x0a');}}};process['on'](_0x32bb38(0x1c6),function(_0x3bcaae){const _0x12bc3d=_0x32bb38;logHistory('error',_0x12bc3d(0x222)),logger[_0x12bc3d(0x198)](_0x12bc3d(0x266),_0x3bcaae);});settings[_0x32bb38(0x227)]!=config['timeshift']&&updateTimeshift(settings[_0x32bb38(0x227)]);settings[_0x32bb38(0x1f4)]!=config[_0x32bb38(0x1f4)]&&updateOnepagemode(settings[_0x32bb38(0x1f4)]);process[_0x32bb38(0x236)]({'started':_0x32bb38(0x252)},_0x1f2c3b=>{}),initializeProcessListeners();function proxyEmit(_0x2809f4,_0x4d18b1=null){const _0x1d6f15=_0x32bb38;process[_0x1d6f15(0x236)]({'function':_0x2809f4,'args':_0x4d18b1},_0x3c1982=>{});}function initializeProcessListeners(){const _0x4d7f08=_0x32bb38;process['on'](_0x4d7f08(0x226),_0x1d6c14=>{const _0x2fdd06=_0x4d7f08;switch(Object[_0x2fdd06(0xf9)](_0x1d6c14)[0x0]){case'timeshift':_0x1d6c14['timeshift']!=undefined&&(settings[_0x2fdd06(0x227)]=_0x1d6c14[_0x2fdd06(0x227)],updateTimeshift(settings[_0x2fdd06(0x227)]));break;case _0x2fdd06(0x1f4):_0x1d6c14[_0x2fdd06(0x1f4)]!=undefined&&(settings[_0x2fdd06(0x1f4)]=_0x1d6c14[_0x2fdd06(0x1f4)],updateOnepagemode(settings[_0x2fdd06(0x1f4)]));break;case'bots':_0x1d6c14[_0x2fdd06(0x1a5)]!=undefined&&(bots=JSON['parse'](_0x1d6c14[_0x2fdd06(0x1a5)]),proxyEmit(_0x2fdd06(0x1a5),bots));break;case'function':switch(_0x1d6c14[_0x2fdd06(0x176)]){case _0x2fdd06(0x17f):initclient();break;case _0x2fdd06(0x24f):toggleBotMode();break;case _0x2fdd06(0xff):emitHistory(_0x1d6c14[_0x2fdd06(0x193)]);break;case _0x2fdd06(0xfe):deleteHistoryAlerts(_0x1d6c14['args']);break;case'getPortfolio':getPortfolio(_0x1d6c14[_0x2fdd06(0x193)]);break;case _0x2fdd06(0x17e):storeConfiguration(_0x1d6c14[_0x2fdd06(0x193)]);break;case'storeHeadless':storeHeadless(_0x1d6c14['args']);break;case _0x2fdd06(0x26a):storeFiat(_0x1d6c14[_0x2fdd06(0x193)]);break;case _0x2fdd06(0x27a):resetHistory();break;case _0x2fdd06(0x220):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x1d6c14[_0x2fdd06(0x193)]);break;case'cancelLoading':cancelLoading();break;case'showConfig':showConfig();break;case _0x2fdd06(0x1f9):sendMetricsTelegram();break;case _0x2fdd06(0x267):sendPortfolioTelegram();break;}}});}reset(null,!![]);async function reset(_0x35a5c8=null,_0x4df4a6=![]){const _0x57225f=_0x32bb38;logger[_0x57225f(0x198)](_0x57225f(0x234)+(_0x35a5c8&&_0x35a5c8['length']>0x0?_0x57225f(0x248)+_0x35a5c8['join'](','):'no\x20additional\x20symbols')+_0x57225f(0x23f)+(_0x4df4a6?_0x57225f(0x180):_0x57225f(0x190))+_0x57225f(0x218)+config[_0x57225f(0xf1)]);if(pidBalances)clearTimeout(pidBalances);if(!_0x4df4a6)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x57225f(0x239)]!=''&&config[_0x57225f(0x239)]!=_0x57225f(0x10f)){loadingProgress=0x0;if(_0x4df4a6){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x1949a2){handleErrorNoStop(_0x1949a2,_0x57225f(0x17c));return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}await initwsCcxt(_0x35a5c8);const _0xca0bbf=await getCoins();[currentCoins,currentCoinsAll]=_0xca0bbf,loadingProgress=0x2,exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}getBalances(![]),await updateOpenOrders();if(lastOrders[_0x57225f(0x1af)]==0x0&&allOpenOrders[_0x57225f(0x1af)]!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function stopExchange(){const _0x137c76=_0x32bb38;exchangeStopped=!![];try{await exchange[_0x137c76(0x1d8)]();}catch(_0x2c2e1c){await handleError(_0x2c2e1c,'stopExchange()');}}async function reloadExchange(){const _0x1b6aa2=_0x32bb38;logger[_0x1b6aa2(0x198)](_0x1b6aa2(0x14d));while(lockOrders!=ORDERS[_0x1b6aa2(0x1ca)]||coolingDown){await sleep(0x3c*0x3e8);}logger['debug'](_0x1b6aa2(0x20f)),exchange&&await stopExchange(),reset(null,!![]);}async function initExchange(_0x262bd5=config['exchange'],_0x4bf472=config[_0x32bb38(0x239)],_0x95c302=config[_0x32bb38(0x21a)],_0x100ae6=config['apiPassword']){const _0x3a9ad9=_0x32bb38;exchange&&await stopExchange();!supportedExchanges()['includes'](_0x262bd5)&&(logHistory('error',_0x3a9ad9(0x203)+_0x262bd5+'\x20exchange'),killBot());const _0x11ae2d=ccxt['pro'][_0x262bd5[_0x3a9ad9(0x21e)]()];exchange=new _0x11ae2d({'apiKey':_0x4bf472,'secret':_0x95c302,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':'spot'}});if(_0x100ae6)exchange[_0x3a9ad9(0x161)]=_0x100ae6;}function setStableCoins(){const _0x3c56a8=_0x32bb38;let _0x441b80=config[_0x3c56a8(0x18a)]=='ETH'?_0x3c56a8(0x256):_0x3c56a8(0xf6),_0x1273c3=!allSymbols[_0x3c56a8(0x1b1)](_0x441b80+_0x3c56a8(0x1f2))?_0x3c56a8(0x17d):_0x3c56a8(0x19c),_0x1ba175=!allSymbols[_0x3c56a8(0x1b1)](_0x441b80+'/EUR')?_0x1273c3:_0x3c56a8(0x148);stablecoins={'eur':{'coin':''+_0x441b80+_0x1ba175,'symbol':_0x441b80+'/'+_0x1ba175},'usd':{'coin':''+_0x441b80+_0x1273c3,'symbol':_0x441b80+'/'+_0x1273c3}};}async function initwsCcxt(_0x99f75c){const _0x39ff19=_0x32bb38;_0x99f75c==null&&(_0x99f75c=[],config[_0x39ff19(0x25f)]['forEach'](_0x1594ca=>{const _0xabf36=_0x39ff19;if(!_0x1594ca[_0xabf36(0x1a9)]&&_0x1594ca['coin']!=config[_0xabf36(0x18a)])_0x99f75c[_0xabf36(0x1b2)](_0x1594ca[_0xabf36(0xe0)]);}));if(!_0x99f75c[_0x39ff19(0x1b1)](stablecoins[_0x39ff19(0x12f)][_0x39ff19(0xe0)]))_0x99f75c['push'](stablecoins[_0x39ff19(0x12f)]['symbol']);if(!_0x99f75c['includes'](stablecoins[_0x39ff19(0x189)][_0x39ff19(0xe0)]))_0x99f75c[_0x39ff19(0x1b2)](stablecoins['usd'][_0x39ff19(0xe0)]);if(config['exchange'][_0x39ff19(0x22e)]('Binance')){if(!_0x99f75c[_0x39ff19(0x1b1)](_0x39ff19(0x1e9)+config[_0x39ff19(0x18a)]))_0x99f75c[_0x39ff19(0x1b2)]('BNB/'+config[_0x39ff19(0x18a)]);}loadCoins(_0x99f75c),_0x99f75c=validateSymbols(_0x99f75c);const _0xb1cd33=async _0xb2d7af=>{const _0x4f16c8=_0x39ff19;let _0x4aad7c;try{const _0xca9607=await exchange[_0x4f16c8(0x25c)](_0xb2d7af);Object['entries'](_0xca9607)[_0x4f16c8(0x23a)](_0x17eef6=>{const _0x35aeda=_0x4f16c8;_0x4aad7c=_0x17eef6[0x1]['symbol'],global['ticker'][noslash(_0x4aad7c)]=_0x17eef6[0x1][_0x35aeda(0x1e6)];});}catch(_0x401ca9){await handleError(_0x401ca9,_0x4f16c8(0x202),_0x4aad7c);}},_0x2e5084=async _0x587aa5=>{const _0x570120=_0x39ff19;while(!![]){if(!botPaused)try{const _0x4bbc6e=await exchange[_0x570120(0x165)](_0x587aa5);global[_0x570120(0x177)][noslash(_0x4bbc6e[0x0][_0x570120(0xe0)])]=_0x4bbc6e[0x0][_0x570120(0x21c)],await sleep(0x3e8);}catch(_0x729a8f){if(!exchangeStopped)await handleError(_0x729a8f,_0x570120(0x223),_0x587aa5);}else await sleep(0x64);}},_0x2ff259=async _0x4d9f91=>{const _0x1a7af3=_0x39ff19;while(!![]){if(!botPaused)try{const _0x2d3c4b=await exchange[_0x1a7af3(0x127)](_0x4d9f91);global['change'][_0x2d3c4b['symbol']]=_0x2d3c4b[_0x1a7af3(0x20c)],await sleep(0x3c*0x3e8);}catch(_0xd33871){if(!exchangeStopped)await handleError(_0xd33871,_0x1a7af3(0x25c),_0x4d9f91);}else await sleep(0x64);}},_0x456671=async _0x4b9f55=>{const _0x21bc9c=_0x39ff19;while(!![]){if(!botPaused)try{const _0x478650=await exchange['watchOrders'](_0x4b9f55);_0x478650[_0x21bc9c(0x23a)](_0x1161b4=>{updateNumberCoinsCcxt(_0x1161b4);});}catch(_0x2eae7a){if(!exchangeStopped)await handleError(_0x2eae7a,_0x21bc9c(0xf8));}else await sleep(0x64);}};_0xb1cd33(_0x99f75c),_0x99f75c[_0x39ff19(0x23a)](_0x1b4f12=>{_0x2e5084(_0x1b4f12),_0x2ff259(_0x1b4f12),_0x456671(_0x1b4f12);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function watchTransactions(){const _0x16ae0b=_0x32bb38;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x55abc0=await getCoins(),[_0xef4366,_0x492239]=_0x55abc0;let _0x187d76=[];currentCoins[_0x16ae0b(0x23a)](_0x3ec6b8=>{const _0x3e913c=_0x16ae0b,_0x7ec941=_0xef4366[_0x3e913c(0x12b)](_0x54e2cb=>_0x54e2cb[_0x3e913c(0x175)]==_0x3ec6b8[_0x3e913c(0x175)]);if(_0x7ec941){if(_0x3ec6b8['number']!=_0x7ec941[_0x3e913c(0x12e)]){let _0x181ddb;if(_0x3ec6b8[_0x3e913c(0x175)]!=config[_0x3e913c(0x18a)]){const _0x490627=global[_0x3e913c(0x177)][noslash(_0x3ec6b8['symbol'])];_0x181ddb=_0x3ec6b8[_0x3e913c(0x1fc)]?0x1/_0x490627:_0x490627;}else _0x181ddb=0x1;_0x187d76[_0x3e913c(0x1b2)]({'coin':_0x3ec6b8['coin'],'symbol':_0x3ec6b8[_0x3e913c(0xe0)],'price':_0x181ddb,'number':Number(formatResult(_0x7ec941[_0x3e913c(0x12e)]-_0x3ec6b8[_0x3e913c(0x12e)],0x8)),'basecoinvalue':_0x181ddb*(_0x7ec941['number']-_0x3ec6b8[_0x3e913c(0x12e)])});}}});if(_0x187d76[_0x16ae0b(0x1af)]==0x1&&!blockTransactionDetection){if(config[_0x16ae0b(0x1aa)]){logger[_0x16ae0b(0x198)]('Liquidity\x20change\x20|\x20basecoin\x20value:\x20'+_0x187d76[0x0][_0x16ae0b(0x19d)]+'\x20|\x20highest\x20fee:\x20'+lastFees[_0x16ae0b(0x23e)]);if(lastFees[_0x16ae0b(0x23e)]==0x0||Math[_0x16ae0b(0x232)](_0x187d76[0x0][_0x16ae0b(0x19d)])>lastFees[_0x16ae0b(0x23e)]){delete _0x187d76[0x0][_0x16ae0b(0xe0)],delete _0x187d76[0x0][_0x16ae0b(0x19d)];let _0x1dfc71=[],_0x13a1a8=[...config[_0x16ae0b(0x24e)]]||[],_0x555583=config['liquidity'];_0x13a1a8[_0x16ae0b(0x113)]((_0x75242d,_0x58fc68)=>_0x75242d[_0x16ae0b(0x1c5)]>_0x58fc68[_0x16ae0b(0x1c5)]?-0x1:_0x58fc68[_0x16ae0b(0x1c5)]>_0x75242d['date']?0x1:0x0);const _0x542f9c=getDate();if(_0x13a1a8[0x0]){const _0x549eed=fns[_0x16ae0b(0x1dd)](_0x13a1a8[0x0]['date'],_0x16ae0b(0x1d0),new Date()),_0x19b54c=fns['parse'](_0x542f9c,_0x16ae0b(0x1d0),new Date());if(fns['isEqual'](_0x549eed,_0x19b54c)){_0x1dfc71=_0x13a1a8[0x0][_0x16ae0b(0x140)];const _0x939fe3=_0x1dfc71[_0x16ae0b(0x12b)](_0x3d0509=>_0x3d0509[_0x16ae0b(0x175)]==_0x187d76[0x0][_0x16ae0b(0x175)]);_0x939fe3?(_0x939fe3['number']+=_0x187d76[0x0][_0x16ae0b(0x12e)],_0x939fe3[_0x16ae0b(0x12e)]==0x0&&(_0x1dfc71=_0x1dfc71['filter'](_0x4bc1ef=>{const _0x272292=_0x16ae0b;return _0x4bc1ef['coin']!=_0x187d76[0x0][_0x272292(0x175)];}))):_0x1dfc71['push'](_0x187d76[0x0]);const _0x340ddb=_0x555583[_0x16ae0b(0x12b)](_0x1c2129=>_0x1c2129['date']==_0x542f9c);_0x340ddb[_0x16ae0b(0x140)]=_0x1dfc71;}else _0x555583[_0x16ae0b(0x1b2)]({'date':_0x542f9c,'changes':[_0x187d76[0x0]]});}const _0x290f80=_0x555583[_0x16ae0b(0x12b)](_0x45a076=>_0x45a076['date']==_0x542f9c);if(_0x290f80){let _0x284a1b=!![];_0x290f80[_0x16ae0b(0x140)][_0x16ae0b(0x23a)](_0x54d73f=>{const _0x372fdd=_0x16ae0b;if(_0x54d73f[_0x372fdd(0x12e)]!=0x0)_0x284a1b=![];}),_0x284a1b&&(_0x555583=_0x555583[_0x16ae0b(0x122)](_0x247360=>{const _0x36f710=_0x16ae0b;return _0x247360[_0x36f710(0x1c5)]!=_0x542f9c;}));}let _0x3ee798=dbConfig[_0x16ae0b(0x15d)]('bot')[_0x16ae0b(0x12b)]({'botID':botID})[_0x16ae0b(0x258)]();_0x3ee798&&(dbConfig[_0x16ae0b(0x15d)](_0x16ae0b(0x1df))[_0x16ae0b(0x12b)]({'botID':botID})[_0x16ae0b(0x121)]({'liquidity':_0x555583})[_0x16ae0b(0x1e4)](),config[_0x16ae0b(0x24e)]=_0x555583),logHistory(_0x16ae0b(0x159),_0x16ae0b(0x1c3)+Math['abs'](_0x187d76[0x0]['number'])+'\x20'+_0x187d76[0x0][_0x16ae0b(0x175)]+'\x20'+(_0x187d76[0x0]['number']>0x0?_0x16ae0b(0x229):_0x16ae0b(0x25d))+_0x16ae0b(0x1b0)),proxyEmit(_0x16ae0b(0x279),emittedConfiguration());}else logger[_0x16ae0b(0x198)](_0x16ae0b(0x181)+Math['abs'](_0x187d76[0x0][_0x16ae0b(0x12e)])+'\x20'+_0x187d76[0x0]['coin']+'\x20'+(_0x187d76[0x0]['number']>0x0?_0x16ae0b(0x229):_0x16ae0b(0x25d)));transactionDetected=!![],currentCoins=_0xef4366,currentCoinsAll=_0x492239;}else logger[_0x16ae0b(0x198)](_0x16ae0b(0x1c3)+Math[_0x16ae0b(0x232)](_0x187d76[0x0]['number'])+'\x20'+_0x187d76[0x0][_0x16ae0b(0x175)]+'\x20'+(_0x187d76[0x0][_0x16ae0b(0x12e)]>0x0?_0x16ae0b(0x229):'removed')+_0x16ae0b(0x23c)),currentCoins=_0xef4366,currentCoinsAll=_0x492239;}await sleep(watchTransactionsInterval);}catch(_0x5cf83c){if(!exchangeStopped)await handleError(_0x5cf83c,_0x16ae0b(0x11c));}else await sleep(0x64);}}async function loadSymbols(){const _0x5d3ed3=_0x32bb38;try{markets=await exchange[_0x5d3ed3(0x1c7)](),allSymbols=[],Object['entries'](markets)[_0x5d3ed3(0x23a)](_0x134a91=>{const _0x3c48c8=_0x5d3ed3;_0x134a91[0x1][_0x3c48c8(0x275)]&&_0x134a91[0x1][_0x3c48c8(0x1c2)]&&allSymbols[_0x3c48c8(0x1b2)](_0x134a91[0x0]);});}catch(_0x280a27){throw _0x280a27;}}function validateSymbols(_0x7be0bd){const _0x1ae448=_0x32bb38;let _0x358985=[];return _0x7be0bd[_0x1ae448(0x23a)](_0x15198d=>{const _0x54ee02=_0x1ae448;!allSymbols['includes'](_0x15198d)?logHistory(_0x54ee02(0x143),_0x54ee02(0x186)+_0x15198d+_0x54ee02(0xf0)):_0x358985[_0x54ee02(0x1b2)](_0x15198d);}),_0x358985;}async function initclient(){const _0xaba731=_0x32bb38;proxyEmit(_0xaba731(0x279),emittedConfiguration()),proxyEmit('exchanges',supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit(_0xaba731(0x172),{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0x47e4cb=getNormalizedPerformance();emitPerformance(_0x47e4cb),getStartingBalances(_0x47e4cb);}async function toggleBotMode(){const _0x4383cd=_0x32bb38;let _0x156d70=dbConfig[_0x4383cd(0x15d)]('bot')[_0x4383cd(0x12b)]({'botID':botID})[_0x4383cd(0x258)]();if(_0x156d70){const _0x5756b8=!_0x156d70[_0x4383cd(0x22c)];dbConfig[_0x4383cd(0x15d)](_0x4383cd(0x1df))[_0x4383cd(0x12b)]({'botID':botID})[_0x4383cd(0x121)]({'headless':_0x5756b8})[_0x4383cd(0x1e4)](),config[_0x4383cd(0x22c)]=_0x5756b8,proxyEmit(_0x4383cd(0x279),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x1a6c7d=_0x32bb38;process[_0x1a6c7d(0x236)]({'updatebotmanager':!![]},_0x1dcb5e=>{});}async function loadCoins(_0x365da6){const _0x8484ab=_0x32bb38;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![]},emitLoadingProgress();let _0x2d1c91,_0x17387c=0x0,_0x2f0c63=0x0;_0x365da6[_0x8484ab(0x23a)](_0x208ed4=>{const _0x8c155=_0x8484ab;loading[_0x8c155(0x137)][_0x8c155(0x1b2)](_0x208ed4);}),loadingCanceled=![];let _0x44a4b7=![];while(_0x2d1c91!=_0x365da6['length']+maxLoadingProgress){_0x2d1c91=loadingProgress,_0x365da6[_0x8484ab(0x23a)](_0x240291=>{const _0x41380c=_0x8484ab;if(global[_0x41380c(0x177)][noslash(_0x240291)]){loading[_0x41380c(0x137)]=loading[_0x41380c(0x137)][_0x41380c(0x122)](_0x4d47ce=>_0x4d47ce!=_0x240291);if(!watchedSymbols[_0x41380c(0x1b1)](_0x240291))watchedSymbols['push'](_0x240291);_0x2d1c91++;}}),loading['progress']=Math['round'](_0x2d1c91/(_0x365da6[_0x8484ab(0x1af)]+maxLoadingProgress)*0x64);loading[_0x8484ab(0x210)]!=0x64&&(_0x2f0c63>0x1e*0x5&&(loading[_0x8484ab(0x247)]=!![],emitLoadingProgress()),_0x2f0c63>0x78*0x5&&!_0x44a4b7&&(loading[_0x8484ab(0x246)]=!![],emitLoadingProgress(),_0x44a4b7=!![],logHistory(_0x8484ab(0x143),_0x8484ab(0x111)+loading[_0x8484ab(0x137)][_0x8484ab(0x101)](',\x20')+_0x8484ab(0x185)),logHistory('error','Pausing\x20for\x20'+loadCoinsRetryInterval/0xea60+_0x8484ab(0x16e)),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x3f9ddc=_0x8484ab;process[_0x3f9ddc(0x236)]({'stop':'restart'},_0x3361ce=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x8484ab(0x246)]=!![],emitLoadingProgress();break;}else _0x17387c!=loading[_0x8484ab(0x210)]&&(_0x17387c=loading[_0x8484ab(0x210)],emitLoadingProgress()),_0x2f0c63++,await sleep(0xc8);}_0x2d1c91==_0x365da6[_0x8484ab(0x1af)]+maxLoadingProgress&&(coinsLoaded=!![],process[_0x8484ab(0x236)]({'status':_0x8484ab(0x1fe),'live':_0x8484ab(0x252)},_0x59e603=>{}),_0x44a4b7&&logHistory(_0x8484ab(0x159),_0x8484ab(0x1e5)));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x403470=_0x32bb38;proxyEmit(_0x403470(0x279),{...emittedConfiguration(),'configstate':_0x403470(0x23d)});}function emitLoadingProgress(){const _0xef0b7d=_0x32bb38;proxyEmit(_0xef0b7d(0x225),loading);}async function getFiat(){const _0x5c55fd=_0x32bb38;let _0x215983=global[_0x5c55fd(0x177)][stablecoins[_0x5c55fd(0x12f)][_0x5c55fd(0x175)]],_0x3e3d92=global[_0x5c55fd(0x177)][stablecoins[_0x5c55fd(0x189)][_0x5c55fd(0x175)]];return{'eur':Number(_0x215983),'usd':Number(_0x3e3d92)};}function capitalize(_0x201540){const _0x59efae=_0x32bb38;return _0x201540['substring'](0x0,0x1)[_0x59efae(0x14c)]()+_0x201540[_0x59efae(0x17b)](0x1);}function supportedExchanges(){const _0x186eb3=_0x32bb38,_0x2fe3cb=['ws',_0x186eb3(0x25c),'fetchTicker',_0x186eb3(0x165),'watchOrders','cancelOrder',_0x186eb3(0x217),_0x186eb3(0x13f),_0x186eb3(0x1ab),_0x186eb3(0x10d)];let _0x7ab1b6=[],_0x544356=[],_0x580579=ccxt['pro'][_0x186eb3(0xe1)];_0x580579[_0x186eb3(0x23a)](_0x1cff09=>{const _0x4c453d=_0x186eb3;try{const _0x4b46d4=new ccxt[(_0x4c453d(0x160))][_0x1cff09]();_0x544356[_0x4c453d(0x1b2)](_0x4b46d4);}catch(_0x309bd5){}}),_0x544356['forEach'](_0x86ad6b=>{const _0x56b858=_0x186eb3;let _0x255126=0x0;_0x2fe3cb[_0x56b858(0x23a)](_0x2de2b4=>{const _0x398a97=_0x56b858;_0x2de2b4 in _0x86ad6b[_0x398a97(0x264)]&&_0x86ad6b[_0x398a97(0x264)][_0x2de2b4]&&_0x255126++;}),_0x255126==_0x2fe3cb[_0x56b858(0x1af)]&&_0x7ab1b6[_0x56b858(0x1b2)](capitalize(_0x86ad6b['id']));});let _0x4dc5b8=[];return _0x580579[_0x186eb3(0x23a)](_0x9ad58d=>{const _0x187067=_0x186eb3;_0x9ad58d=capitalize(_0x9ad58d);if(!_0x7ab1b6[_0x187067(0x1b1)](_0x9ad58d))_0x4dc5b8[_0x187067(0x1b2)](_0x9ad58d);}),_0x7ab1b6;}function setStartDatePerformance(){const _0x59f79b=_0x32bb38;if(config&&config[_0x59f79b(0x24e)][0x0][_0x59f79b(0x140)][_0x59f79b(0x1af)]!=0x0){const _0x5e930e=config[_0x59f79b(0x24e)][0x0][_0x59f79b(0x140)];dbPerformance[_0x59f79b(0x15d)](_0x59f79b(0x22b))[_0x59f79b(0x12b)]({'date':config['startdate']})['assign']({'coins':_0x5e930e})['write']();}}async function recreateCoinResults(){const _0x54bb48=_0x32bb38;let _0xcde75,_0x2db5b2=[];try{const _0x2d0ae6=fns[_0x54bb48(0x158)](fns['parseISO'](config['startdate'][_0x54bb48(0x214)](/\//g,'-')),_0x54bb48(0x130));for(const _0xb6bf64 of currentCoins){if(_0xb6bf64['coin']!=config['basecoin']){let _0x5d4e9c=0x0,_0x32d1fd,_0x23d434;_0xcde75=await getAllEventOrders(_0xb6bf64[_0x54bb48(0xe0)]);if(_0xcde75[_0x54bb48(0x1af)]>0x0)_0xcde75['forEach'](_0x2d4d37=>{const _0x8377f0=_0x54bb48,_0x597e4e=_0xb6bf64[_0x8377f0(0xe0)][_0x8377f0(0x1b1)](config[_0x8377f0(0x18a)]+'/');_0x2db5b2[_0x8377f0(0x1b2)]({'datetime':_0x2d4d37[_0x8377f0(0x213)],'coin':_0xb6bf64['coin'],'symbol':_0xb6bf64[_0x8377f0(0xe0)],'side':_0x2d4d37['side'],'reverse':_0x597e4e,'amount':formatResult(_0x2d4d37[_0x8377f0(0xe4)],0x8),'filled':formatResult(_0x2d4d37[_0x8377f0(0xe4)],0x8),'price':formatResult(_0x2d4d37[_0x8377f0(0x21c)],0x8)}),_0x5d4e9c=_0x2d4d37[_0x8377f0(0x1ac)]==_0x8377f0(0x14e)?_0x5d4e9c+_0x2d4d37[_0x8377f0(0xe4)]:_0x5d4e9c-_0x2d4d37[_0x8377f0(0xe4)];if(!_0x23d434)_0x23d434=_0x2d4d37[_0x8377f0(0x21c)];});_0x32d1fd=_0xb6bf64[_0x54bb48(0x12e)]-_0x5d4e9c;let _0x1449cf;config['liquidity'][_0x54bb48(0x23a)](_0x57ab02=>{const _0x35f602=_0x54bb48;!_0x1449cf&&(_0x1449cf=_0x57ab02[_0x35f602(0x140)][_0x35f602(0x12b)](_0x15477c=>_0x15477c['coin']==_0xb6bf64[_0x35f602(0x175)]),_0x1449cf&&(_0x32d1fd=_0x1449cf[_0x35f602(0x12e)],_0x23d434=_0x1449cf[_0x35f602(0x21c)]));});let _0x98bb85=dbCoinResults['get']('coins')[_0x54bb48(0x12b)]({'coin':_0xb6bf64[_0x54bb48(0x175)]})[_0x54bb48(0x258)]();_0x98bb85={'coin':_0xb6bf64['coin'],'number':_0x32d1fd,'breakeven':_0x23d434,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x54bb48(0x15d)](_0x54bb48(0x188))[_0x54bb48(0x12b)]({'coin':_0xb6bf64[_0x54bb48(0x175)]})[_0x54bb48(0x121)](_0x98bb85)[_0x54bb48(0x1e4)]();}}_0x2db5b2[_0x54bb48(0x113)]((_0x1bbc2e,_0x233beb)=>_0x1bbc2e['datetime']>_0x233beb[_0x54bb48(0x213)]?0x1:_0x233beb[_0x54bb48(0x213)]>_0x1bbc2e['datetime']?-0x1:0x0);let _0x1d1ba8=0x0;for(let _0x22605e of _0x2db5b2){await updateCoinResults(_0x22605e,!![]);}}catch(_0x31ff0a){await handleError(_0x31ff0a,_0x54bb48(0x173));}}async function getAllEventOrders(_0x15eefc){const _0x4025ce=_0x32bb38;let _0x36d8d9=[],_0x344c6a=dbLogs[_0x4025ce(0x15d)](_0x4025ce(0x141))['filter'](_0x51fad8=>{const _0x55d95c=_0x4025ce,_0x51fc3b=_0x51fad8[_0x55d95c(0x270)][_0x55d95c(0x21e)]();return _0x51fc3b[_0x55d95c(0x1b1)](_0x15eefc[_0x55d95c(0x21e)]())&&(_0x51fc3b['includes'](_0x55d95c(0x1fa))&&_0x51fc3b['includes'](_0x55d95c(0x199))||_0x51fc3b[_0x55d95c(0x1b1)](_0x55d95c(0xe4))&&_0x51fc3b[_0x55d95c(0x1b1)]('order'));})[_0x4025ce(0x21b)]('time')[_0x4025ce(0x258)]();return _0x344c6a[_0x4025ce(0x23a)](_0x23e3ec=>{const _0x394dab=_0x4025ce,_0x2c6977=_0x23e3ec[_0x394dab(0x270)][_0x394dab(0x1b1)](_0x394dab(0x123))?'sell':_0x394dab(0x14e),_0x27039b=/#([0-9]|\.)+\s/i,_0x5e983a=Number(_0x27039b[_0x394dab(0x11f)](_0x23e3ec[_0x394dab(0x270)])[0x0][_0x394dab(0x265)](0x1)),_0xb6987a=/@([0-9]|\.)+$/i,_0xbdf309=Number(_0xb6987a['exec'](_0x23e3ec[_0x394dab(0x270)])[0x0][_0x394dab(0x265)](0x1));_0x36d8d9[_0x394dab(0x1b2)]({'datetime':_0x23e3ec[_0x394dab(0x1da)],'coin':symbolToCoin(_0x15eefc),'symbol':_0x15eefc,'side':_0x2c6977,'amount':_0x5e983a,'filled':_0x5e983a,'price':_0xbdf309});}),_0x36d8d9;}async function getAllOrders(_0x3ef1f8,_0x2638a8){const _0x2c00bc=_0x32bb38;let _0x53d795=[];while(_0x2638a8<exchange[_0x2c00bc(0x1ba)]()){const _0x216c5c=0x1f4;try{const _0x3b2e97=await exchange[_0x2c00bc(0x1ab)](_0x3ef1f8,_0x2638a8,_0x216c5c);if(_0x3b2e97['length'])_0x2638a8=_0x3b2e97[_0x3b2e97[_0x2c00bc(0x1af)]-0x1][_0x2c00bc(0x169)]+0x1,_0x53d795=_0x53d795['concat'](_0x3b2e97);else break;}catch(_0xebd497){await handleError(_0xebd497,_0x2c00bc(0x1c0),_0x3ef1f8);}}return _0x53d795;}async function validate24hChanges(){const _0x7f8644=_0x32bb38;for(const _0x1d8e8c of currentCoins){if(_0x1d8e8c[_0x7f8644(0x175)]!=config[_0x7f8644(0x18a)]){let _0x5a84a2;_0x1d8e8c['reverse']?_0x5a84a2=formatResult((0x1/(global[_0x7f8644(0x1c1)][noslash(_0x1d8e8c[_0x7f8644(0xe0)])]/0x64+0x1)-0x1)*0x64,0x3):_0x5a84a2=global['change'][noslash(_0x1d8e8c[_0x7f8644(0xe0)])],_0x5a84a2<config[_0x7f8644(0x240)]&&(logHistory(_0x7f8644(0x143),_0x1d8e8c[_0x7f8644(0x175)]+_0x7f8644(0xef)+_0x5a84a2+'%'),logHistory(_0x7f8644(0x143),_0x7f8644(0x103)),logHistory(_0x7f8644(0x143),_0x7f8644(0x171)),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x2cb046,_0x126433){const _0x5aa7c0=_0x32bb38;if(!_0x2cb046)return!![];const _0xce528=_0x126433[_0x5aa7c0(0x26c)]('.'),_0xd801c9=_0x2cb046['split']('.');for(var _0xad695=0x0;_0xad695<_0xd801c9[_0x5aa7c0(0x1af)];_0xad695++){const _0x275679=~~_0xd801c9[_0xad695],_0x12baf2=~~_0xce528[_0xad695];if(_0x275679<_0x12baf2)return!![];if(_0x275679>_0x12baf2)return![];}return![];}async function oneTimeMigration(){const _0x142007=_0x32bb38;let _0x5cb078=dbLogs[_0x142007(0x15d)](_0x142007(0x15c))['value']();if(isOlderVersion(_0x5cb078,_0x142007(0x191))){let _0x5d0fb5=[];const _0x1e890c=dbLogs[_0x142007(0x15d)](_0x142007(0x141))[_0x142007(0x258)]();_0x1e890c['forEach'](_0x38b9c8=>{const _0x1ebd9b=_0x142007;_0x5d0fb5[_0x1ebd9b(0x1b2)]({'time':_0x38b9c8[_0x1ebd9b(0x1da)],'type':_0x38b9c8[_0x1ebd9b(0x182)],'event':_0x38b9c8[_0x1ebd9b(0x270)]});}),dbLogs['get'](_0x142007(0x141))['assign'](_0x5d0fb5)[_0x142007(0x1e4)]();}let _0x38f689=dbConfig[_0x142007(0x15d)](_0x142007(0x15c))['value']();if(isOlderVersion(_0x38f689,'2.3.5')){let _0xa4cec4=dbConfig[_0x142007(0x15d)](_0x142007(0x1df))[_0x142007(0x12b)]({'botID':botID})[_0x142007(0x258)]();if(_0xa4cec4){let _0x6b3aaa=[];_0xa4cec4[_0x142007(0x25f)][_0x142007(0x23a)](_0x4476ad=>{const _0x469cf2=_0x142007;_0x6b3aaa['push']({'coin':_0x4476ad[_0x469cf2(0x175)],'number':_0x4476ad[_0x469cf2(0x1cb)],'price':_0x4476ad[_0x469cf2(0x20b)]}),delete _0x4476ad['startnumber'],delete _0x4476ad[_0x469cf2(0x20b)];});if(_0x6b3aaa['length']!==0x0)fs[_0x142007(0x118)](configbackuppath+('starting-balance-'+botID+_0x142007(0x243)),JSON[_0x142007(0xfd)](_0x6b3aaa,null,0x4),function(_0x547bf3){if(_0x547bf3){}});const _0x3d07ba=(_0x5b69ce,_0x4a987b)=>{const _0x31d824=_0x142007;let _0x2dc11a=[];_0x4a987b[_0x31d824(0x23a)](_0x309941=>{const _0x127873=_0x31d824,_0x2899e7=_0x5b69ce[_0x127873(0x12b)](_0x3e5eea=>_0x3e5eea[_0x127873(0x175)]==_0x309941['coin']);if(!_0x2899e7)_0x2dc11a[_0x127873(0x1b2)](_0x309941);});let _0x24ca2c=[];return _0x5b69ce['forEach'](_0x406487=>{const _0x76192f=_0x31d824,_0x54060b=_0x4a987b['find'](_0x56a70e=>_0x56a70e[_0x76192f(0x175)]==_0x406487[_0x76192f(0x175)]);if(!_0x54060b||_0x54060b[_0x76192f(0x12e)]==0x0&&_0x406487[_0x76192f(0x12e)]!=0x0)_0x24ca2c[_0x76192f(0x1b2)](_0x406487);}),{'missingDay1':_0x2dc11a,'notInDay2':_0x24ca2c};},_0x2dd31e=dbPerformance[_0x142007(0x15d)](_0x142007(0x22b))[_0x142007(0x269)]()[_0x142007(0x258)]();if(_0x2dd31e[_0x142007(0x1af)]>0x1){const {missingDay1:_0x2c8551,notInDay2:_0x46760a}=_0x3d07ba(_0x6b3aaa,_0x2dd31e[0x1][_0x142007(0x188)]);_0x6b3aaa=[..._0x6b3aaa,..._0x2c8551],_0x46760a[_0x142007(0x23a)](_0x4eb53d=>{const _0x423064=_0x142007;let _0x1403cf=_0x6b3aaa[_0x423064(0xf3)](_0x462c77=>_0x462c77[_0x423064(0x175)]==_0x4eb53d[_0x423064(0x175)]);_0x1403cf!=-0x1&&_0x6b3aaa[_0x423064(0x146)](_0x1403cf,0x1);});}_0x6b3aaa[_0x142007(0x113)]((_0x476a53,_0x3cc10f)=>_0x476a53['coin']>_0x3cc10f[_0x142007(0x175)]?0x1:_0x3cc10f['coin']>_0x476a53[_0x142007(0x175)]?-0x1:0x0);let _0x2cc333=[{'date':_0xa4cec4[_0x142007(0x115)],'changes':_0x6b3aaa}];_0x2dd31e['length']>0x2&&_0x2dd31e['forEach']((_0x1303d5,_0x484a54)=>{const _0x2ec52d=_0x142007;if(_0x484a54>0x0&&_0x484a54<_0x2dd31e[_0x2ec52d(0x1af)]-0x1){const {missingDay1:_0x50afc9,notInDay2:_0x1114d1}=_0x3d07ba(_0x2dd31e[_0x484a54][_0x2ec52d(0x188)],_0x2dd31e[_0x484a54+0x1][_0x2ec52d(0x188)]);_0x6b3aaa=[],(_0x50afc9[_0x2ec52d(0x1af)]!=0x0||_0x1114d1[_0x2ec52d(0x1af)]!=0x0)&&(_0x50afc9[_0x2ec52d(0x1af)]!=0x0&&_0x6b3aaa[_0x2ec52d(0x1b2)](..._0x50afc9),_0x1114d1[_0x2ec52d(0x1af)]!=0x0&&(_0x1114d1['forEach'](_0x3c3a30=>{const _0x268124=_0x2ec52d;_0x3c3a30[_0x268124(0x12e)]=-_0x3c3a30[_0x268124(0x12e)];}),_0x6b3aaa[_0x2ec52d(0x1b2)](..._0x1114d1)),_0x6b3aaa[_0x2ec52d(0x113)]((_0x1fa8d2,_0x269a57)=>_0x1fa8d2['coin']>_0x269a57[_0x2ec52d(0x175)]?0x1:_0x269a57['coin']>_0x1fa8d2['coin']?-0x1:0x0),_0x2cc333[_0x2ec52d(0x1b2)]({'date':_0x2dd31e[_0x484a54+0x1]['date'],'changes':_0x6b3aaa}));}}),dbConfig[_0x142007(0x15d)]('bot')[_0x142007(0x12b)]({'botID':botID})['assign']({..._0xa4cec4,'liquidity':_0x2cc333})[_0x142007(0x1e4)]();}}if(isOlderVersion(_0x38f689,_0x142007(0x1bc))){let _0x173e40=dbConfig[_0x142007(0x15d)](_0x142007(0x1df))['find']({'botID':botID})[_0x142007(0x258)]();if(_0x173e40){const _0x46dcee=_0x173e40[_0x142007(0xf1)],_0x131712=_0x46dcee?capitalize(_0x46dcee):_0x142007(0x1d2);dbConfig[_0x142007(0x15d)](_0x142007(0x1df))[_0x142007(0x12b)]({'botID':botID})[_0x142007(0x121)]({'exchange':_0x131712})['write']();}}let _0x2cb333=dbPerformance[_0x142007(0x15d)](_0x142007(0x15c))['value']();isOlderVersion(_0x2cb333,'2.3.5')&&setStartDatePerformance();let _0x15f709=dbCoinResults['get'](_0x142007(0x15c))[_0x142007(0x258)]();if(isOlderVersion(_0x15f709,_0x142007(0x25b))){let _0x4b10e1=dbCoinResults[_0x142007(0x15d)](_0x142007(0x188))[_0x142007(0x258)]();if(_0x4b10e1['length']!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x79631d=_0x32bb38;dbConfig['set'](_0x79631d(0x15c),serverversion)[_0x79631d(0x1e4)](),dbPerformance[_0x79631d(0x23b)](_0x79631d(0x15c),serverversion)[_0x79631d(0x1e4)](),dbLogs[_0x79631d(0x23b)]('version',serverversion)[_0x79631d(0x1e4)](),dbCoinResults[_0x79631d(0x23b)](_0x79631d(0x15c),serverversion)[_0x79631d(0x1e4)]();}function getConfiguration(_0x3080f0){const _0x584206=_0x32bb38;let _0x33d600=dbConfig[_0x584206(0x15d)](_0x584206(0x1df))['find']({'botID':_0x3080f0})[_0x584206(0x258)]();if(_0x33d600){let _0x29478c=![];typeof _0x33d600[_0x584206(0x135)]==_0x584206(0x20a)&&(_0x33d600={..._0x33d600,'threshold':Number(_0x33d600['threshold'])},_0x29478c=!![]),_0x33d600['change24h']==undefined&&(_0x33d600={..._0x33d600,'change24h':-0x14},_0x29478c=!![]),_0x33d600[_0x584206(0x1a8)]==undefined&&(_0x33d600={..._0x33d600,'fiat':'USD'},_0x29478c=!![]),_0x33d600['onepagemode']==undefined&&(_0x33d600={..._0x33d600,'onepagemode':settings[_0x584206(0x1f4)]},_0x29478c=!![]),_0x33d600[_0x584206(0x10a)]==undefined&&(_0x33d600={..._0x33d600,'colorscheme':_0x584206(0x1dc)},_0x29478c=!![]),_0x33d600[_0x584206(0x1aa)]==undefined&&(_0x33d600={..._0x33d600,'autoliquidity':!![]},_0x29478c=!![]),_0x29478c&&(_0x33d600={'botID':_0x33d600[_0x584206(0x100)],'exchange':_0x33d600[_0x584206(0xf1)],'apiKey':_0x33d600[_0x584206(0x239)],'apiSecret':_0x33d600[_0x584206(0x21a)],'apiPassword':_0x33d600['apiPassword'],'basecoin':_0x33d600[_0x584206(0x18a)],'botname':_0x33d600[_0x584206(0x102)],'showname':_0x33d600['showname'],'threshold':_0x33d600[_0x584206(0x135)],'ordertype':_0x33d600[_0x584206(0x273)],'timeout':_0x33d600[_0x584206(0x247)],'fiat':_0x33d600[_0x584206(0x1a8)],'startdate':_0x33d600[_0x584206(0x115)],'recreate':_0x33d600[_0x584206(0x1e1)],'timeshift':_0x33d600[_0x584206(0x227)],'onepagemode':_0x33d600[_0x584206(0x1f4)],'headless':_0x33d600[_0x584206(0x22c)],'cooldown':_0x33d600[_0x584206(0xe3)],'change24h':_0x33d600[_0x584206(0x240)],'emojibuy':_0x33d600[_0x584206(0x126)],'emojisell':_0x33d600[_0x584206(0x110)],'colorscheme':_0x33d600['colorscheme'],'portfolio':_0x33d600[_0x584206(0x25f)],'autoliquidity':_0x33d600[_0x584206(0x1aa)],'liquidity':_0x33d600[_0x584206(0x24e)],'openOrders':_0x33d600[_0x584206(0x155)]},dbConfig[_0x584206(0x15d)]('bot')[_0x584206(0xec)]()[_0x584206(0x1e4)](),dbConfig[_0x584206(0x15d)](_0x584206(0x1df))[_0x584206(0x1b2)](_0x33d600)['write']());}else _0x33d600={'botID':_0x3080f0,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':'Bot\x20'+_0x3080f0,'showname':![],'threshold':0x3,'ordertype':_0x584206(0x1fa),'timeout':0x14,'fiat':_0x584206(0x19c),'startdate':getDate(),'recreate':![],'timeshift':settings[_0x584206(0x227)],'onepagemode':settings[_0x584206(0x1f4)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':_0x584206(0x1dc),'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x33d600;}function emittedConfiguration(){const _0x4b496c=_0x32bb38;let _0x3478ba;if(config['apiKey']=='')_0x3478ba={...config,'configstate':_0x4b496c(0x178)};else config[_0x4b496c(0x239)]==_0x4b496c(0x10f)?_0x3478ba={...config,'configstate':_0x4b496c(0x1f8)}:(_0x3478ba={...config,'apiKey':_0x4b496c(0x1d1),'apiSecret':_0x4b496c(0x1d1)},config[_0x4b496c(0x187)]&&(_0x3478ba['apiPassword']='************'));return _0x3478ba;}function getSettings(){const _0x7ad26d=_0x32bb38;return dbSettings[_0x7ad26d(0x15d)](_0x7ad26d(0x1cd))[_0x7ad26d(0x258)]();}function getSecure(){const _0x589446=_0x32bb38;return dbSecure[_0x589446(0x15d)](_0x589446(0x219))['value']()||{};}function updateTimeshift(_0x3dfa1a){const _0x5d67b7=_0x32bb38;let _0x27d570=dbConfig[_0x5d67b7(0x15d)]('bot')['find']({'botID':botID})[_0x5d67b7(0x258)]();_0x27d570&&dbConfig[_0x5d67b7(0x15d)](_0x5d67b7(0x1df))[_0x5d67b7(0x12b)]({'botID':botID})['assign']({'timeshift':_0x3dfa1a})[_0x5d67b7(0x1e4)](),config[_0x5d67b7(0x227)]=_0x3dfa1a,proxyEmit(_0x5d67b7(0x279),emittedConfiguration());}function updateOnepagemode(_0x114ee9){const _0x27f6dc=_0x32bb38;let _0x40c80f=dbConfig[_0x27f6dc(0x15d)](_0x27f6dc(0x1df))[_0x27f6dc(0x12b)]({'botID':botID})[_0x27f6dc(0x258)]();_0x40c80f&&dbConfig[_0x27f6dc(0x15d)]('bot')['find']({'botID':botID})[_0x27f6dc(0x121)]({'onepagemode':_0x114ee9})[_0x27f6dc(0x1e4)](),config[_0x27f6dc(0x1f4)]=_0x114ee9,proxyEmit('configuration',emittedConfiguration());}async function storeConfiguration(_0x414ce6){const _0x4256dc=_0x32bb38;logger[_0x4256dc(0x198)](_0x4256dc(0x263));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger[_0x4256dc(0x198)](_0x4256dc(0x116));let _0x44cf57=[],_0x42977b=![],_0x2dab87=![],_0x433c46=[];_0x414ce6['portfolio'][_0x4256dc(0x23a)](_0x224010=>{const _0xc92f91=_0x4256dc;if(!_0x224010['excluded']&&_0x224010[_0xc92f91(0x175)]!=_0x414ce6['basecoin'])_0x433c46[_0xc92f91(0x1b2)](_0x224010[_0xc92f91(0xe0)]);}),_0x433c46[_0x4256dc(0x23a)](_0x33013f=>{const _0x45b20=_0x4256dc,_0x1392eb=watchedSymbols[_0x45b20(0x1b1)](_0x33013f);!_0x1392eb&&_0x44cf57[_0x45b20(0x1b2)](_0x33013f);}),_0x433c46['forEach'](_0x4954a2=>{const _0x1e29c1=_0x4256dc,_0x1f85da=currentCoins[_0x1e29c1(0x12b)](_0x38b954=>_0x38b954[_0x1e29c1(0xe0)]==_0x4954a2);!_0x1f85da&&(_0x42977b=!![]);}),currentCoins[_0x4256dc(0x23a)](_0x40ddf9=>{const _0x1f7a64=_0x4256dc;if(_0x40ddf9[_0x1f7a64(0x175)]!=config['basecoin']){const _0x48c1f5=_0x433c46[_0x1f7a64(0x12b)](_0x57b825=>_0x57b825==_0x40ddf9[_0x1f7a64(0xe0)]);!_0x48c1f5&&(_0x42977b=!![]);}}),_0x414ce6[_0x4256dc(0x25f)][_0x4256dc(0x23a)](_0xf0a292=>{const _0x26e6f9=_0x4256dc,_0x286ed5=config[_0x26e6f9(0x25f)][_0x26e6f9(0x12b)](_0x485dd6=>_0x485dd6[_0x26e6f9(0x175)]==_0xf0a292[_0x26e6f9(0x175)]);if(_0x286ed5&&_0xf0a292[_0x26e6f9(0x1ce)]!=_0x286ed5[_0x26e6f9(0x1ce)])_0x2dab87=!![];});let _0x119274=dbConfig['get']('bot')[_0x4256dc(0x12b)]({'botID':botID})[_0x4256dc(0x258)]();_0x414ce6={..._0x414ce6,'apiKey':crypt[_0x4256dc(0x1e2)](secure[_0x4256dc(0x26f)],_0x414ce6[_0x4256dc(0x239)])[_0x4256dc(0x226)],'apiSecret':crypt[_0x4256dc(0x1e2)](secure['privateKey'],_0x414ce6[_0x4256dc(0x21a)])['message']};_0x414ce6[_0x4256dc(0x187)]&&(_0x414ce6[_0x4256dc(0x187)]=crypt[_0x4256dc(0x1e2)](secure[_0x4256dc(0x26f)],_0x414ce6[_0x4256dc(0x187)])[_0x4256dc(0x226)]);let _0x1ae23b=![];if(_0x119274){_0x414ce6['apiKey']==_0x4256dc(0x1d1)?_0x414ce6[_0x4256dc(0x239)]=config[_0x4256dc(0x239)]:_0x1ae23b=!![];_0x414ce6['apiSecret']==_0x4256dc(0x1d1)?_0x414ce6[_0x4256dc(0x21a)]=config[_0x4256dc(0x21a)]:_0x1ae23b=!![];if(_0x414ce6[_0x4256dc(0x187)]=='************')_0x414ce6['apiPassword']=config[_0x4256dc(0x187)];else{if(_0x414ce6['apiPassword'])_0x1ae23b=!![];}dbConfig[_0x4256dc(0x15d)](_0x4256dc(0x1df))[_0x4256dc(0x12b)]({'botID':botID})[_0x4256dc(0x121)](_0x414ce6)[_0x4256dc(0x1e4)]();}else dbConfig[_0x4256dc(0x15d)]('bot')[_0x4256dc(0x1b2)](_0x414ce6)[_0x4256dc(0x1e4)](),_0x1ae23b=!![],process[_0x4256dc(0x236)]({'status':_0x4256dc(0x1fe),'live':_0x4256dc(0x252)},_0x3f233c=>{});process[_0x4256dc(0x236)]({'botname':_0x414ce6[_0x4256dc(0x102)]},_0xbe66d4=>{}),updateBotManager(),config={..._0x414ce6},proxyEmit(_0x4256dc(0x19f)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0x1ae23b)await reset(_0x44cf57,!![]);else _0x42977b||_0x2dab87?await reset(_0x44cf57,![]):getBalances();blockTransactionDetection=![],logger[_0x4256dc(0x198)](_0x4256dc(0x212));}async function storeHeadless(_0x47f222){const _0x2568d0=_0x32bb38,_0x5d5f26={...config,'headless':_0x47f222[_0x2568d0(0x22c)]};let _0x880e64=dbConfig[_0x2568d0(0x15d)](_0x2568d0(0x1df))[_0x2568d0(0x12b)]({'botID':botID})[_0x2568d0(0x258)]();_0x880e64&&dbConfig[_0x2568d0(0x15d)]('bot')[_0x2568d0(0x12b)]({'botID':botID})[_0x2568d0(0x121)](_0x5d5f26)[_0x2568d0(0x1e4)](),config={..._0x5d5f26},updateBotManager(),proxyEmit('configuration',emittedConfiguration());}async function storeFiat(_0x189b3f){const _0x102bf5=_0x32bb38,_0x3297bd={...config,'fiat':_0x189b3f};let _0x1b24a7=dbConfig['get']('bot')[_0x102bf5(0x12b)]({'botID':botID})[_0x102bf5(0x258)]();_0x1b24a7&&dbConfig[_0x102bf5(0x15d)](_0x102bf5(0x1df))[_0x102bf5(0x12b)]({'botID':botID})['assign'](_0x3297bd)[_0x102bf5(0x1e4)](),config={..._0x3297bd},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x326463=_0x32bb38;logger['full'](_0x326463(0x174));try{if(fs[_0x326463(0x16d)](path[_0x326463(0x101)](configpath,_0x326463(0x1e8)+botID+_0x326463(0x156))))fs[_0x326463(0x150)](path['join'](configpath,_0x326463(0x1e8)+botID+_0x326463(0x156)));if(fs[_0x326463(0x16d)](path[_0x326463(0x101)](configpath,_0x326463(0x1e8)+botID+_0x326463(0x1a6))))fs[_0x326463(0x150)](path['join'](configpath,_0x326463(0x1e8)+botID+'-performance.json'));if(fs[_0x326463(0x16d)](path[_0x326463(0x101)](configpath,_0x326463(0x1e8)+botID+_0x326463(0x1bd))))fs[_0x326463(0x150)](path[_0x326463(0x101)](configpath,_0x326463(0x1e8)+botID+'-results.json'));}catch(_0x54c023){if(_0x54c023)logger[_0x326463(0x192)]('Error\x20while\x20deleting\x20files:\x20',_0x54c023);}const _0x5865c0=getDate();let _0x4d9e15=[];currentCoins[_0x326463(0x23a)](_0x29350d=>{const _0x33f459=_0x326463;_0x4d9e15[_0x33f459(0x1b2)]({'coin':_0x29350d[_0x33f459(0x175)],'number':_0x29350d[_0x33f459(0x12e)],'price':_0x29350d[_0x33f459(0x1e6)]});});let _0x3604b3=dbConfig['get'](_0x326463(0x1df))['find']({'botID':botID})[_0x326463(0x258)]();_0x3604b3&&(dbConfig[_0x326463(0x15d)](_0x326463(0x1df))['find']({'botID':botID})[_0x326463(0x121)]({'liquidity':[{'date':_0x5865c0,'changes':_0x4d9e15}]})['write'](),config[_0x326463(0x24e)]=[]),process[_0x326463(0x236)]({'stop':'restart'},_0x1cf5cb=>{});}function noslash(_0x4d8c2d){const _0x544b4b=_0x32bb38;return _0x4d8c2d[_0x544b4b(0x214)]('/','');}function updateHighestFee(_0x45592c){const _0x1a5093=_0x32bb38;if(_0x45592c[_0x1a5093(0x1fc)]){let _0x4e1003={'filled':_0x45592c[_0x1a5093(0xe4)]*_0x45592c[_0x1a5093(0x21c)],'amount':_0x45592c[_0x1a5093(0xe4)]*_0x45592c[_0x1a5093(0x21c)],'side':_0x45592c[_0x1a5093(0x1ac)]=='sell'?_0x1a5093(0x14e):'sell','price':0x1/_0x45592c[_0x1a5093(0x21c)]};_0x45592c={..._0x45592c,..._0x4e1003};}const _0x208b59=defaultFee*_0x45592c[_0x1a5093(0xe4)]*_0x45592c[_0x1a5093(0x21c)];lastFees[_0x1a5093(0x254)][_0x1a5093(0x1af)]===0x14&&lastFees[_0x1a5093(0x254)][_0x1a5093(0x211)](),lastFees['recent20'][_0x1a5093(0x1b2)](_0x208b59),lastFees['highest']=Math['max'](...lastFees[_0x1a5093(0x254)]);}async function updateNumberCoinsCcxt(_0x3b4fc4){const _0xa46ada=_0x32bb38;logger[_0xa46ada(0x198)](_0xa46ada(0x24c)+_0x3b4fc4[_0xa46ada(0xe0)]+_0xa46ada(0x23f)+_0x3b4fc4[_0xa46ada(0x106)]+'\x20|\x20'+_0x3b4fc4['id']);let _0x5b2a76=_0x3b4fc4[_0xa46ada(0x106)],_0x3e617d=![];currentCoins[_0xa46ada(0x23a)](_0x2c6b24=>{const _0x4f1fe0=_0xa46ada;_0x2c6b24[_0x4f1fe0(0xe0)]==_0x3b4fc4['symbol']&&(_0x3e617d=!![]);});if(!_0x3e617d)return;const _0x51481d=currentCoins[_0xa46ada(0x12b)](_0x53656e=>_0x53656e[_0xa46ada(0xe0)]==_0x3b4fc4[_0xa46ada(0xe0)]),_0x4f73da=_0x3ff91e=>{const _0x38b5e9=_0xa46ada;if(_0x51481d)_0x51481d[_0x38b5e9(0x1bb)]=_0x3ff91e;};if(_0x5b2a76==_0xa46ada(0x1f6))_0x4f73da(_0xa46ada(0x1f6));else{if(_0x5b2a76==_0xa46ada(0xea)){_0x4f73da(_0xa46ada(0xea));const _0x2ec55f=await getCoins();[currentCoins,currentCoinsAll]=_0x2ec55f,await getOpenOrders(),handleOpenOrders();}else{if(_0x5b2a76==_0xa46ada(0x22a)){logger[_0xa46ada(0x198)]('1\x20-\x20FILLED:\x20'+_0x3b4fc4['symbol']+_0xa46ada(0x23f)+_0x3b4fc4[_0xa46ada(0xe4)]+'\x20|\x20'+_0x3b4fc4['id']);let _0x1340d2=![];if(lastOrders)for(const _0xe1b411 of lastOrders){const _0x291f59=0xc8,_0x15928a=0x1388;let _0x5619e1=0x0;while(!_0xe1b411[_0xa46ada(0x1b8)]&&_0x5619e1*_0x291f59<_0x15928a){_0x5619e1++,await sleep(_0x291f59);}if(_0x5619e1>0x0)logger[_0xa46ada(0x198)]('Waited\x20'+_0x5619e1*_0x291f59/0x3e8+_0xa46ada(0x251));if(_0xe1b411['orderId']==_0x3b4fc4['id']){logger[_0xa46ada(0x198)](_0xa46ada(0x205)+_0x3b4fc4['id']),_0x1340d2=!![];if(_0xe1b411[_0xa46ada(0xe4)]==0x0){logger[_0xa46ada(0x198)]('3\x20-\x20handling\x20FILLED\x20order:\x20'+_0x3b4fc4['id']);if(_0x3b4fc4[_0xa46ada(0x157)])_0xe1b411[_0xa46ada(0x21c)]=_0x3b4fc4['average'];else{if(_0x3b4fc4[_0xa46ada(0x21c)])_0xe1b411[_0xa46ada(0x21c)]=_0x3b4fc4[_0xa46ada(0x21c)];else{}}_0xe1b411['filled']=_0x3b4fc4['filled'],updateHighestFee(_0xe1b411),_0x4f73da(_0xa46ada(0xe4)),await validateOrders();if(lockOrders==ORDERS[_0xa46ada(0xe5)]){const _0x457620=await getCoins();[currentCoins,currentCoinsAll]=_0x457620;}_0xe1b411[_0xa46ada(0x162)]={'currency':_0x3b4fc4[_0xa46ada(0x162)]?_0x3b4fc4[_0xa46ada(0x162)]['currency']:null,'cost':_0x3b4fc4[_0xa46ada(0x162)]?_0x3b4fc4[_0xa46ada(0x162)][_0xa46ada(0x166)]:0x0},await updateCoinResults(_0xe1b411);}}}if(!_0x1340d2){logger[_0xa46ada(0x198)](_0xa46ada(0x1f1)+_0x3b4fc4['id']),_0x4f73da('filled');const _0x13daf6=await getCoins();[currentCoins,currentCoinsAll]=_0x13daf6,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x485177=JSON[_0xa46ada(0x1dd)](lastBalances[_0xa46ada(0x25f)]);const _0x9e0102=_0x485177[_0xa46ada(0x12b)](_0xb5c8cc=>_0xb5c8cc[_0xa46ada(0xe0)]==_0x3b4fc4[_0xa46ada(0xe0)]);if(_0x9e0102){if(_0x5b2a76==_0xa46ada(0x1f6))_0x9e0102[_0xa46ada(0x1bb)]=_0x9e0102[_0xa46ada(0x1bb)]==_0xa46ada(0xe4)?'filled':_0xa46ada(0x1f6);else{if(_0x5b2a76=='canceled')_0x9e0102[_0xa46ada(0x1bb)]=_0x9e0102[_0xa46ada(0x1bb)]==_0xa46ada(0xe4)?'filled':_0xa46ada(0xea);else _0x5b2a76==_0xa46ada(0x22a)&&(_0x9e0102[_0xa46ada(0x1bb)]=_0xa46ada(0xe4));}}lastBalances={...lastBalances,'portfolio':JSON[_0xa46ada(0xfd)](_0x485177)},proxyEmit(_0xa46ada(0x172),{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){const _0x15ac29=_0x32bb38;await getOpenOrders();let _0x5ad2b7=![];currentCoins[_0x15ac29(0x23a)](_0x4b5188=>{const _0x40344b=_0x15ac29;_0x5ad2b7=allOpenOrders['find'](_0x2cb8ee=>_0x2cb8ee['symbol']==_0x4b5188[_0x40344b(0xe0)]),_0x4b5188[_0x40344b(0x1bb)]=_0x5ad2b7?_0x40344b(0x1f6):_0x40344b(0x1bf);});}async function getCoins(_0x33d293=!![],_0x35dfa9=config[_0x32bb38(0x18a)]){const _0xfbdca4=_0x32bb38;let _0x55becb,_0x1a54fd=[],_0x4d8dda=[],_0x41f029=[],_0x59aa17=[];if(botPaused)return[currentCoins,currentCoinsAll];try{_0x55becb=await exchange['fetchBalance'](),mybalances=_0x55becb['total'];for(const [_0x5c622d,_0x217e8f]of Object[_0xfbdca4(0x128)](mybalances)){_0x59aa17[_0xfbdca4(0x1b2)](_0x5c622d);}if(_0x35dfa9=='')for(const [_0x4cfeb1,_0x4f65dd]of Object[_0xfbdca4(0x128)](mybalances)){_0x4f65dd!=0x0&&_0x4d8dda[_0xfbdca4(0x1b2)]({'coin':_0x4cfeb1});}else{let _0x52e12f=![];for(const [_0x494f70,_0x3b56c4]of Object[_0xfbdca4(0x128)](mybalances)){if(_0x59aa17['includes'](_0x494f70)){const _0x31c64e=config[_0xfbdca4(0x25f)][_0xfbdca4(0x12b)](_0x5bd5f5=>_0x5bd5f5[_0xfbdca4(0x175)]==_0x494f70),_0x3a0ce0=_0x494f70+'/'+_0x35dfa9,_0x247365=_0x35dfa9+'/'+_0x494f70,_0x2cee25=currentCoins['find'](_0x1fbf98=>_0x1fbf98[_0xfbdca4(0x175)]==_0x494f70);_0x52e12f=![];if((_0x3b56c4!=0x0||_0x31c64e)&&(allSymbols['includes'](_0x3a0ce0)||_0x494f70==_0x35dfa9))_0x494f70!=_0x35dfa9&&_0x1a54fd['push'](_0x3a0ce0),_0x4d8dda[_0xfbdca4(0x1b2)]({'coin':_0x494f70,'symbol':_0x3a0ce0,'reverse':![],'number':Math[_0xfbdca4(0x105)](_0x3b56c4+(_0x31c64e&&_0x31c64e[_0xfbdca4(0x1ce)]||0x0),0x0),'orderstatus':_0x2cee25?_0x2cee25[_0xfbdca4(0x1bb)]:_0xfbdca4(0x1bf)});else(_0x3b56c4!=0x0||_0x31c64e)&&allSymbols[_0xfbdca4(0x1b1)](_0x247365)&&(_0x494f70!=_0x35dfa9&&_0x1a54fd['push'](_0x247365),_0x4d8dda[_0xfbdca4(0x1b2)]({'coin':_0x494f70,'symbol':_0x247365,'reverse':!![],'number':Math[_0xfbdca4(0x105)](_0x3b56c4+(_0x31c64e&&_0x31c64e[_0xfbdca4(0x1ce)]||0x0),0x0),'orderstatus':_0x2cee25?_0x2cee25[_0xfbdca4(0x1bb)]:_0xfbdca4(0x1bf)}));}}}}catch(_0x2c0d0a){if(!_0x33d293)handleErrorNoStop(_0x2c0d0a,_0xfbdca4(0x13a));else await handleError(_0x2c0d0a,_0xfbdca4(0x13a));}return _0x41f029=cloneDeep(_0x4d8dda),_0x4d8dda=_0x4d8dda[_0xfbdca4(0x122)](_0x3f0c0a=>{const _0x394cd9=_0xfbdca4,_0x4e26d3=config[_0x394cd9(0x25f)][_0x394cd9(0x12b)](_0x446fe2=>_0x446fe2[_0x394cd9(0x175)]==_0x3f0c0a[_0x394cd9(0x175)]);return _0x4e26d3&&!_0x4e26d3[_0x394cd9(0x1a9)];}),[_0x4d8dda,_0x41f029];}async function getCoinNumber(_0x5d7e3b){const _0xe965ab=_0x32bb38;let _0x209903;try{const _0x65e9eb=await exchange[_0xe965ab(0x10d)]();_0x209903=_0x65e9eb['total'][_0x5d7e3b];}catch(_0x2c3b20){await handleError(_0x2c3b20,'getCoinNumber()');}return _0x209903;}async function getOpenOrders(){const _0xdfa77a=_0x32bb38;let _0x1dac37;allOpenOrders=[];try{for(const _0x12aa23 of config[_0xdfa77a(0x25f)]){!_0x12aa23[_0xdfa77a(0x1a9)]&&_0x12aa23[_0xdfa77a(0x175)]!=config[_0xdfa77a(0x18a)]&&(_0x1dac37=await exchange['fetchOpenOrders'](_0x12aa23[_0xdfa77a(0xe0)]),_0x1dac37[_0xdfa77a(0x1af)]>0x0&&allOpenOrders[_0xdfa77a(0x1b2)](_0x1dac37[0x0]));}}catch(_0x2fe398){await handleError(_0x2fe398,'getOpenOrders()');}}async function handleOpenOrders(_0x56c013=0x0){const _0x208418=_0x32bb38;allOpenOrders[_0x208418(0x1af)]==0x0&&lockOrders==ORDERS[_0x208418(0xe5)]&&allOrdersPlaced&&(_0x56c013==0x0?(logger[_0x208418(0x198)](_0x208418(0x215)),_0x56c013++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x208418(0x198)]('2\x20-\x20Handled\x20open\x20orders'),validateOrders('no\x20open\x20orders')));}async function testAPI(_0x2cc15b){const _0x327859=_0x32bb38,_0x39b96d=ccxt[_0x327859(0x160)][_0x2cc15b[_0x327859(0xf1)][_0x327859(0x21e)]()],_0x5ca404=new _0x39b96d({'apiKey':_0x2cc15b[_0x327859(0x239)],'secret':_0x2cc15b[_0x327859(0x21a)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x327859(0x1c2)}});if(_0x2cc15b[_0x327859(0x187)])_0x5ca404['password']=_0x2cc15b[_0x327859(0x187)];try{await _0x5ca404[_0x327859(0x1c7)]();}catch(_0x20f674){throw _0x20f674;}}function cloneDeep(_0x2f9881){const _0x63950e=_0x32bb38;return JSON[_0x63950e(0x1dd)](JSON['stringify'](_0x2f9881));}async function getPortfolio(_0x9cd33b){const _0x38f91e=_0x32bb38;let _0x320182=[],_0x56282a=[],_0x1d3b47=[],_0x111469;if(_0x9cd33b[_0x38f91e(0x239)]!==_0x38f91e(0x1d1)||_0x9cd33b[_0x38f91e(0x21a)]!==_0x38f91e(0x1d1)||_0x9cd33b[_0x38f91e(0x187)]&&_0x9cd33b[_0x38f91e(0x187)]!==_0x38f91e(0x1d1)){if(config[_0x38f91e(0xf1)]){if(_0x9cd33b[_0x38f91e(0x239)]==_0x38f91e(0x1d1))_0x9cd33b[_0x38f91e(0x239)]=config['apiKey'];if(_0x9cd33b[_0x38f91e(0x21a)]=='************')_0x9cd33b[_0x38f91e(0x21a)]=config[_0x38f91e(0x21a)];if(_0x9cd33b[_0x38f91e(0x187)]==_0x38f91e(0x1d1))_0x9cd33b[_0x38f91e(0x187)]=config[_0x38f91e(0x187)];try{await testAPI(_0x9cd33b);}catch(_0x4ef584){if(_0x4ef584[_0x38f91e(0x26e)]()[_0x38f91e(0x1b1)](_0x38f91e(0x1cf))){logger[_0x38f91e(0x198)](_0x38f91e(0xf2)),proxyEmit('portfolio',![]);return;}else{handleError(_0x4ef584,_0x38f91e(0x25a));return;}}}await initExchange(_0x9cd33b[_0x38f91e(0xf1)],_0x9cd33b[_0x38f91e(0x239)],_0x9cd33b[_0x38f91e(0x21a)],_0x9cd33b[_0x38f91e(0x187)]);try{await loadSymbols();}catch(_0x55b71c){if(_0x55b71c[_0x38f91e(0x26e)]()[_0x38f91e(0x1b1)](_0x38f91e(0x1cf))){proxyEmit(_0x38f91e(0x25f),![]);return;}else{handleError(_0x55b71c,_0x38f91e(0x164));return;}}const _0x56ec28=await getCoins(![],_0x9cd33b[_0x38f91e(0x18a)]);_0x1d3b47=cloneDeep(_0x56ec28[0x1]);}else _0x1d3b47=cloneDeep(currentCoinsAll);if(_0x9cd33b['basecoin']=='')proxyEmit(_0x38f91e(0x25f),_0x1d3b47);else{_0x1d3b47[_0x38f91e(0x23a)](_0x17ab8a=>{const _0x1eb4f3=_0x38f91e;if(_0x17ab8a[_0x1eb4f3(0x175)]!=_0x9cd33b[_0x1eb4f3(0x18a)])_0x320182[_0x1eb4f3(0x1b2)](_0x17ab8a[_0x1eb4f3(0xe0)]);});if(_0x320182[_0x38f91e(0x1af)]==0x0)logHistory(_0x38f91e(0x143),_0x38f91e(0x255));else{try{_0x56282a=await exchange['fetchTickers'](_0x320182);}catch(_0x35b01c){if(_0x35b01c[_0x38f91e(0x26e)]()[_0x38f91e(0x1b1)](_0x38f91e(0x1cf))){proxyEmit(_0x38f91e(0x25f),![]);return;}else{handleError(_0x35b01c,_0x38f91e(0x1d6));return;}}_0x1d3b47[_0x38f91e(0x23a)](_0x3cc446=>{const _0xcb07ac=_0x38f91e;_0x3cc446['coin']!=_0x9cd33b['basecoin']?_0x111469=_0x3cc446['reverse']?0x1/_0x56282a[_0x3cc446[_0xcb07ac(0xe0)]][_0xcb07ac(0x1e6)]:_0x56282a[_0x3cc446[_0xcb07ac(0xe0)]][_0xcb07ac(0x1e6)]:_0x111469=0x1,_0x3cc446[_0xcb07ac(0x21c)]=formatResult(_0x111469,0x8);}),proxyEmit(_0x38f91e(0x25f),_0x1d3b47);}}}function truncateTradeAmount(_0x5941ae,_0x294926){const _0x4119d8=_0x32bb38;let _0x3ff4a2=0x0;try{_0x3ff4a2=exchange[_0x4119d8(0x1f5)](_0x5941ae,_0x294926);}catch(_0x52af8d){}return _0x3ff4a2;}function checkMinimums(_0xaeedb){const _0x4bc73a=_0x32bb38;let _0x1bdb81=!![];const _0x1f3c58=!_0xaeedb['reverse']?markets[_0xaeedb[_0x4bc73a(0xe0)]][_0x4bc73a(0x15e)][_0x4bc73a(0xe6)]['min']:markets[_0xaeedb['symbol']]['limits'][_0x4bc73a(0x166)][_0x4bc73a(0x26b)],_0x12de88=!_0xaeedb[_0x4bc73a(0x1fc)]?markets[_0xaeedb['symbol']][_0x4bc73a(0x15e)]['cost'][_0x4bc73a(0x26b)]:markets[_0xaeedb[_0x4bc73a(0xe0)]][_0x4bc73a(0x15e)]['amount'][_0x4bc73a(0x26b)],_0x39ef0f=truncateTradeAmount(_0xaeedb[_0x4bc73a(0xe0)],_0xaeedb[_0x4bc73a(0x138)]);_0xaeedb[_0x4bc73a(0x138)]=_0x39ef0f;if(Math['abs'](_0x39ef0f)<_0x1f3c58)_0x1bdb81=![];if(Math['abs'](_0x39ef0f)*_0xaeedb[_0x4bc73a(0x1e6)]<_0x12de88)_0x1bdb81=![];if(_0xaeedb['side']==_0x4bc73a(0x123)){let _0x308663=config[_0x4bc73a(0x25f)][_0x4bc73a(0x12b)](_0x3fd03c=>_0x3fd03c[_0x4bc73a(0x175)]==_0xaeedb[_0x4bc73a(0x175)]);if(_0x308663['offset']>0x0){if(Math[_0x4bc73a(0x232)](_0x39ef0f)>_0xaeedb['number']-_0x308663[_0x4bc73a(0x1ce)])_0x1bdb81=![];}else{if(Math[_0x4bc73a(0x232)](_0x39ef0f)>_0xaeedb[_0x4bc73a(0x12e)])_0x1bdb81=![];}}if(_0xaeedb[_0x4bc73a(0x1ac)]==_0x4bc73a(0x14e)){let _0x489b01=config[_0x4bc73a(0x25f)]['find'](_0x1fd7e0=>_0x1fd7e0[_0x4bc73a(0x175)]==config[_0x4bc73a(0x18a)]),_0x443d4c=currentCoins[_0x4bc73a(0x12b)](_0x1ab234=>_0x1ab234[_0x4bc73a(0x175)]==config[_0x4bc73a(0x18a)]);if(_0x489b01[_0x4bc73a(0x1ce)]>0x0){if(Math[_0x4bc73a(0x232)](_0x39ef0f)*_0xaeedb[_0x4bc73a(0x1e6)]>_0x443d4c['number']-_0x489b01[_0x4bc73a(0x1ce)])_0x1bdb81=![];}else{if(Math[_0x4bc73a(0x232)](_0x39ef0f)*_0xaeedb[_0x4bc73a(0x1e6)]>_0x443d4c['number'])_0x1bdb81=![];}}return _0x1bdb81;}async function getBalances(_0x1378ff=!![]){const _0x377bec=_0x32bb38;let _0x34aeca=0x0,_0x52bf46;const _0x34d33d=config[_0x377bec(0x135)];if(config[_0x377bec(0x22c)]&&config[_0x377bec(0x240)]<0x0)await validate24hChanges();currentCoins[_0x377bec(0x23a)](_0x55b1b3=>{const _0x235241=_0x377bec;if(_0x55b1b3['coin']!=config[_0x235241(0x18a)]){let _0xb8603a=global[_0x235241(0x177)][noslash(_0x55b1b3[_0x235241(0xe0)])];_0x52bf46=_0x55b1b3[_0x235241(0x1fc)]?0x1/_0xb8603a:_0xb8603a;}else _0x52bf46=0x1;let _0x57b2b5=_0x55b1b3[_0x235241(0x12e)]*_0x52bf46;_0x34aeca+=_0x57b2b5,_0x55b1b3[_0x235241(0x1e6)]=formatResult(Number(_0x52bf46),0x8),_0x55b1b3['value']=_0x57b2b5;}),currentCoins[_0x377bec(0x23a)](_0x139549=>{const _0x52f209=_0x377bec;let _0x592939=config[_0x52f209(0x25f)]['find'](_0x4d967a=>_0x4d967a[_0x52f209(0x175)]==_0x139549[_0x52f209(0x175)]),_0x3adbf1=Number(_0x592939['distribution']),_0x11a3ae=_0x139549[_0x52f209(0x258)]/_0x34aeca*0x64,_0x42d5c8=_0x3adbf1*_0x34aeca/0x64/_0x139549[_0x52f209(0x1e6)]-_0x139549[_0x52f209(0x12e)];_0x139549['distribution']=formatResult(_0x11a3ae,0x3),_0x139549[_0x52f209(0x18e)]=formatResult(_0x3adbf1,0x3),_0x139549[_0x52f209(0x138)]=formatResult(_0x42d5c8,0x8),_0x139549['side']='',_0x139549[_0x52f209(0x1fb)]=![];if(_0x139549['coin']!=config[_0x52f209(0x18a)]){if(_0x139549[_0x52f209(0x1fd)]>_0x3adbf1)_0x139549[_0x52f209(0x1ac)]='sell',_0x139549[_0x52f209(0x1fb)]=checkMinimums(_0x139549);else _0x139549[_0x52f209(0x1fd)]<_0x3adbf1&&(_0x139549['side']='buy',_0x139549[_0x52f209(0x1fb)]=checkMinimums(_0x139549));}_0x139549[_0x52f209(0x112)]=_0x139549[_0x52f209(0x1fd)]/_0x139549[_0x52f209(0x18e)]-0x1;if(_0x139549['orderstatus']==_0x52f209(0xe4)||_0x139549['orderstatus']=='canceled')_0x139549['orderstatus']=_0x52f209(0x1bf);}),currentCoins['sort']((_0x5544f4,_0x19855e)=>_0x5544f4['delta']<_0x19855e[_0x377bec(0x112)]?0x1:_0x19855e[_0x377bec(0x112)]<_0x5544f4[_0x377bec(0x112)]?-0x1:0x0);const _0x428a9e=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x428a9e[_0x377bec(0x12f)],'usd':_0x428a9e[_0x377bec(0x189)],'portfolio':JSON[_0x377bec(0xfd)](currentCoins),'threshold':_0x34d33d},proxyEmit(_0x377bec(0x172),{'serverversion':serverversion,'balances':lastBalances});if(_0x1378ff){if(config[_0x377bec(0x22c)])headlessMode({'portfolio':currentCoins,'threshold':_0x34d33d});else{if(lockOrders==ORDERS[_0x377bec(0x1ca)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x34d33d});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x218ea3=getNormalizedPerformance();getStartingBalances(_0x218ea3),emitPerformance(_0x218ea3);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x1ec075=getNormalizedPerformance();emitPerformance(_0x1ec075),getStartingBalances(_0x1ec075),logger['debug'](_0x377bec(0x1a3));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0xb215db=_0x32bb38;if(!lastBalances)return;let _0x965e84=[],_0x26b8b9,_0x3adcc6=JSON['parse'](lastBalances[_0xb215db(0x25f)]);_0x3adcc6[_0xb215db(0x113)]((_0x8407da,_0x541f95)=>_0x8407da['coin']>_0x541f95[_0xb215db(0x175)]?0x1:_0x541f95[_0xb215db(0x175)]>_0x8407da[_0xb215db(0x175)]?-0x1:0x0),_0x3adcc6[_0xb215db(0x23a)](_0xe5b960=>{const _0x28cc60=_0xb215db;let _0x566d40={'coin':_0xe5b960[_0x28cc60(0x175)],'number':_0xe5b960['number'],'price':_0xe5b960[_0x28cc60(0x1e6)]};_0x965e84['push'](_0x566d40);});const _0x143dd2=await getFiat();_0x26b8b9={'date':lastBalances[_0xb215db(0x1da)]['split']('\x20')[0x0],'eur':_0x143dd2[_0xb215db(0x12f)],'usd':_0x143dd2[_0xb215db(0x189)],'coins':_0x965e84};let _0x276a74=dbPerformance['get'](_0xb215db(0x22b))['find']({'date':_0x26b8b9[_0xb215db(0x1c5)]})['value']();_0x276a74?_0x26b8b9[_0xb215db(0x1c5)]!=config[_0xb215db(0x115)]&&dbPerformance[_0xb215db(0x15d)](_0xb215db(0x22b))[_0xb215db(0x12b)]({'date':_0x26b8b9[_0xb215db(0x1c5)]})[_0xb215db(0x121)](_0x26b8b9)[_0xb215db(0x1e4)]():dbPerformance[_0xb215db(0x15d)](_0xb215db(0x22b))[_0xb215db(0x1b2)](_0x26b8b9)[_0xb215db(0x1e4)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x3a809c=_0x32bb38;let _0x14c623=[];if(dbPerformance['has'](_0x3a809c(0x22b))[_0x3a809c(0x258)]()){let _0x4f7929=dbPerformance[_0x3a809c(0x15d)](_0x3a809c(0x22b))[_0x3a809c(0x269)]()[_0x3a809c(0x122)](_0x58467b=>{const _0xc5598d=_0x3a809c;if(_0x58467b['coins'][_0xc5598d(0x1af)]==0x0)return![];else return!![];})[_0x3a809c(0x21b)](_0x3a809c(0x1c5))['value'](),_0x1c4f90=[...config[_0x3a809c(0x24e)]];_0x1c4f90[_0x3a809c(0x113)]((_0x507f70,_0x3a1a55)=>_0x507f70['date']>_0x3a1a55[_0x3a809c(0x1c5)]?-0x1:_0x3a1a55['date']>_0x507f70[_0x3a809c(0x1c5)]?0x1:0x0);let _0x3cb115=0x1,_0x2f068e=[],_0x747d1e=0x0;_0x4f7929['slice']()[_0x3a809c(0x1fc)]()[_0x3a809c(0x23a)]((_0x2c9438,_0xabac03)=>{const _0x1f0731=_0x3a809c;if(_0x1c4f90[_0x747d1e]){if(_0x4f7929[_0x4f7929['length']-_0xabac03]&&_0x1c4f90[_0x747d1e][_0x1f0731(0x1c5)]==_0x4f7929[_0x4f7929[_0x1f0731(0x1af)]-_0xabac03][_0x1f0731(0x1c5)]){if(_0xabac03<_0x4f7929[_0x1f0731(0x1af)]){let _0x3bf0c1=0x0,_0x3e1ff2=0x0;_0x4f7929[_0x4f7929[_0x1f0731(0x1af)]-_0xabac03][_0x1f0731(0x188)][_0x1f0731(0x23a)](_0x4cfe96=>{const _0x4204c0=_0x1f0731;_0x3e1ff2+=_0x4cfe96['number']*_0x4cfe96[_0x4204c0(0x21c)];}),_0x1c4f90[_0x747d1e][_0x1f0731(0x140)]['forEach'](_0xce0e2c=>{_0x3bf0c1+=_0xce0e2c['number']*_0xce0e2c['price'];}),_0x3cb115*=_0x3bf0c1/(_0x3e1ff2-_0x3bf0c1)+0x1;}_0x747d1e++;}}let _0x5696fc=0x0;_0x2c9438[_0x1f0731(0x188)]['forEach'](_0x2cd524=>{const _0xcae076=_0x1f0731;_0x5696fc+=_0x2cd524[_0xcae076(0x12e)]*_0x2cd524[_0xcae076(0x21c)];}),_0x2f068e[_0x4f7929['length']-_0xabac03-0x1]=_0x5696fc*(_0x3cb115-0x1);});let _0x238d5f=[];_0x1c4f90=[...config[_0x3a809c(0x24e)]]||[];let _0x3187b4=0x0;_0x747d1e=0x0,_0x4f7929['forEach']((_0x238e2d,_0x11a205)=>{const _0x26949d=_0x3a809c;if(_0x1c4f90[_0x747d1e]){const _0x517f4b=fns[_0x26949d(0x1dd)](_0x1c4f90[_0x747d1e][_0x26949d(0x1c5)],'yyyy/MM/dd',new Date()),_0x89adfe=fns[_0x26949d(0x1dd)](_0x238e2d['date'],_0x26949d(0x1d0),new Date());if(fns[_0x26949d(0x11d)](_0x517f4b,_0x89adfe)){let _0x520d14=0x0;_0x1c4f90[_0x747d1e][_0x26949d(0x140)]['forEach'](_0x540032=>{const _0x181f78=_0x26949d;!_0x238d5f[_0x540032[_0x181f78(0x175)]]?_0x238d5f[_0x540032['coin']]=_0x540032[_0x181f78(0x12e)]:(_0x520d14=_0x238d5f[_0x540032['coin']],_0x238d5f[_0x540032[_0x181f78(0x175)]]+=_0x540032['number']);const _0x38788f=_0x238e2d[_0x181f78(0x188)][_0x181f78(0x12b)](_0x1df114=>_0x1df114[_0x181f78(0x175)]==_0x540032['coin']);(!_0x38788f||_0x38788f[_0x181f78(0x12e)]==0x0)&&(_0x3187b4+=(-_0x540032[_0x181f78(0x12e)]-_0x520d14)*_0x540032[_0x181f78(0x21c)]);}),_0x747d1e++;}}_0x238e2d['coins']['forEach']((_0x412cfa,_0x386312)=>{const _0x3016ea=_0x26949d;_0x238d5f[_0x412cfa['coin']]&&(_0x412cfa['initial']=_0x238d5f[_0x412cfa[_0x3016ea(0x175)]]);}),_0x14c623[_0x26949d(0x1b2)]({'date':_0x238e2d[_0x26949d(0x1c5)],'eur':_0x238e2d[_0x26949d(0x12f)],'usd':_0x238e2d[_0x26949d(0x189)],'offset':_0x2f068e[_0x11a205],'netoffset':_0x3187b4,'coins':_0x238e2d['coins']});});}return _0x14c623;}function emitPerformance(_0x167206){const _0x3d6e7c=_0x32bb38;_0x167206['length']!==0x0?(proxyEmit(_0x3d6e7c(0x276),_0x167206),lastPerformanceEmitted=getDate()):proxyEmit(_0x3d6e7c(0x276),[]);}function getPerf(_0x50c1ac,_0x700542){const _0x42b1cc=_0x32bb38;let _0x1f3cdc=0x0,_0x1259bc=0x0,_0x46524e=0x0;_0x50c1ac['coins'][_0x42b1cc(0x23a)](_0x24ef54=>{const _0x3126a7=_0x42b1cc;_0x1f3cdc+=_0x24ef54[_0x3126a7(0x12e)]*_0x24ef54[_0x3126a7(0x21c)];});_0x700542&&(_0x1f3cdc+=_0x50c1ac[_0x42b1cc(0x1ce)]);if(config[_0x42b1cc(0x18a)]==='BTC'||config[_0x42b1cc(0x18a)]===_0x42b1cc(0x256))_0x1259bc=_0x1f3cdc*_0x50c1ac[_0x42b1cc(0x12f)],_0x46524e=_0x1f3cdc*_0x50c1ac[_0x42b1cc(0x189)];else{if(usdBasecoins[_0x42b1cc(0x1b1)](config['basecoin']))_0x1259bc=_0x1f3cdc*_0x50c1ac[_0x42b1cc(0x12f)]/_0x50c1ac['usd'],_0x46524e=_0x1f3cdc;else config[_0x42b1cc(0x18a)]===_0x42b1cc(0x148)&&(_0x1259bc=_0x1f3cdc,_0x46524e=_0x1f3cdc*_0x50c1ac[_0x42b1cc(0x189)]/_0x50c1ac['eur']);}return[_0x1f3cdc,_0x1259bc,_0x46524e];}function getKPIs(_0x24a633,_0x58899f=_0x32bb38(0x148)){const _0x2b4015=_0x32bb38,_0x5a7de4=config[_0x2b4015(0x18a)],_0xead095=lastBalances,_0x5b5dc5=currentCoins,_0x3c1a33=getNormalizedPerformance(),_0x2c6e08=_0x24a633===_0x2b4015(0x18a)?_0x5a7de4:_0x24a633==='fiat'||_0x24a633===_0x2b4015(0x168)?_0x58899f:_0x2b4015(0x1cc)+_0x5a7de4,_0x1df266=_0x24a633==='net-basecoin'?'Net\x20effect':_0x24a633===_0x2b4015(0x168)?_0x2b4015(0x1f7):_0x2c6e08+_0x2b4015(0x224),_0x115cc2=_0x24a633===_0x2b4015(0x15f)||_0x24a633==='net-fiat'?_0x2b4015(0x1f7):_0x2c6e08+'\x20change';let _0x55cf5d=0x0;_0x5b5dc5[_0x2b4015(0x23a)](_0x126360=>{const _0x1f667f=_0x2b4015;_0x55cf5d+=_0x126360[_0x1f667f(0x12e)]*_0x126360[_0x1f667f(0x1e6)];});if(_0x24a633===_0x2b4015(0x1a8)||_0x24a633==='net-fiat'){if(_0x5a7de4===_0x2b4015(0xf6)||_0x5a7de4===_0x2b4015(0x256))_0x55cf5d=_0x55cf5d*(_0x58899f===_0x2b4015(0x148)?_0xead095[_0x2b4015(0x12f)]:_0xead095[_0x2b4015(0x189)]);else{if(usdBasecoins[_0x2b4015(0x1b1)](_0x5a7de4))_0x55cf5d=_0x55cf5d*(_0x58899f===_0x2b4015(0x148)?_0xead095[_0x2b4015(0x12f)]/_0xead095[_0x2b4015(0x189)]:0x1);else _0x5a7de4===_0x2b4015(0x148)&&(_0x55cf5d=_0x55cf5d*(_0x58899f==='EUR'?0x1:_0xead095[_0x2b4015(0x189)]/_0xead095[_0x2b4015(0x12f)]));}}let _0xcf0059;if(_0x55cf5d!==0x0){if(_0x24a633==='basecoin')_0xcf0059=(_0x55cf5d/startingBalances[_0x2b4015(0x18a)]-0x1)*0x64;else{if(_0x58899f===_0x2b4015(0x148))_0xcf0059=(_0x55cf5d/startingBalances['eur']-0x1)*0x64;else _0xcf0059=(_0x55cf5d/startingBalances[_0x2b4015(0x189)]-0x1)*0x64;}let _0x1254c6=0x0;if(startingBalances[_0x2b4015(0x188)])_0x5b5dc5[_0x2b4015(0x23a)](_0xd041c8=>{const _0x54c23a=_0x2b4015;let _0x5d919e=startingBalances[_0x54c23a(0x188)]['find'](_0x3b402d=>_0x3b402d[_0x54c23a(0x175)]===_0xd041c8[_0x54c23a(0x175)]);if(_0x5d919e&&_0x5d919e[_0x54c23a(0x175)]&&_0xd041c8[_0x54c23a(0x12e)]!==0x0)_0x1254c6+=_0x5d919e[_0x54c23a(0x12e)]*_0xd041c8[_0x54c23a(0x1e6)];});let _0x47d066=0x0;if(_0x3c1a33[_0x2b4015(0x1af)]!==0x0){let _0x1d73ce=_0x3c1a33[_0x3c1a33[_0x2b4015(0x1af)]-0x1];_0x47d066=_0x1d73ce['netoffset'];}_0x1254c6-=_0x47d066;_0x24a633===_0x2b4015(0x15f)&&(_0xcf0059=(_0x55cf5d-_0x1254c6)/startingBalances[_0x2b4015(0x18a)]*0x64,_0x55cf5d=_0x55cf5d-_0x1254c6);if(_0x24a633===_0x2b4015(0x168)){let _0x447289=_0x58899f==='EUR'?startingBalances[_0x2b4015(0x12f)]:startingBalances[_0x2b4015(0x189)];if(_0x5a7de4==='BTC'||_0x5a7de4===_0x2b4015(0x256))_0x1254c6=_0x58899f===_0x2b4015(0x148)?_0x1254c6*_0xead095[_0x2b4015(0x12f)]:_0x1254c6*_0xead095[_0x2b4015(0x189)];else{if(usdBasecoins[_0x2b4015(0x1b1)](_0x5a7de4))_0x1254c6=_0x58899f===_0x2b4015(0x148)?_0x1254c6*_0xead095['eur']/_0xead095[_0x2b4015(0x189)]:_0x1254c6;else _0x5a7de4==='EUR'&&(_0x1254c6=_0x58899f===_0x2b4015(0x148)?_0x1254c6:_0x1254c6*_0xead095[_0x2b4015(0x189)]/_0xead095[_0x2b4015(0x12f)]);}_0xcf0059=(_0x55cf5d-_0x1254c6)/_0x447289*0x64,_0x55cf5d=_0x55cf5d-_0x1254c6;}if(_0xcf0059){if(_0xcf0059<0x64)_0xcf0059=_0xcf0059[_0x2b4015(0x24d)](0x2);else{if(_0xcf0059<0x3e8)_0xcf0059=_0xcf0059[_0x2b4015(0x24d)](0x1);else _0xcf0059=_0xcf0059[_0x2b4015(0x24d)](0x0);}}else _0xcf0059=Number('0')[_0x2b4015(0x24d)](0x2);if(_0x55cf5d){if(Math[_0x2b4015(0x232)](_0x55cf5d)<0.000001)_0x55cf5d=_0x55cf5d['toFixed'](0x2);else{if(Math[_0x2b4015(0x232)](_0x55cf5d)<0.1)_0x55cf5d=_0x55cf5d[_0x2b4015(0x24d)](0x6);else{if(Math[_0x2b4015(0x232)](_0x55cf5d)<0x1)_0x55cf5d=_0x55cf5d[_0x2b4015(0x24d)](0x5);else{if(Math[_0x2b4015(0x232)](_0x55cf5d)<0xa)_0x55cf5d=_0x55cf5d[_0x2b4015(0x24d)](0x4);else{if(Math[_0x2b4015(0x232)](_0x55cf5d)<0x64)_0x55cf5d=_0x55cf5d['toFixed'](0x3);else{if(Math['abs'](_0x55cf5d)<0x3e8)_0x55cf5d=_0x55cf5d[_0x2b4015(0x24d)](0x2);else _0x55cf5d=_0x55cf5d[_0x2b4015(0x24d)](0x2);}}}}}}else _0x55cf5d=Number('0')[_0x2b4015(0x24d)](0x2);}else _0xcf0059=Number('0')[_0x2b4015(0x24d)](0x2);return{'value':_0x55cf5d,'change':_0xcf0059,'leftTxt':_0x1df266,'rightTxt':_0x115cc2};}async function getStartingBalances(_0x1e6b7f,_0x582193=!![]){const _0x25f29f=_0x32bb38;if(_0x1e6b7f['length']!==0x0){const [_0x4b1f51,_0x27226a,_0x1cf079]=getPerf(_0x1e6b7f[0x0],!![]);let _0x32fabd=[];config[_0x25f29f(0x25f)][_0x25f29f(0x23a)](_0x3c8991=>{const _0x3cb55c=_0x25f29f;let _0x1d217c=0x0,_0x156677;config[_0x3cb55c(0x24e)][_0x3cb55c(0x23a)](_0x321e72=>{const _0x3e097b=_0x3cb55c;let _0x34cdc5=_0x321e72[_0x3e097b(0x140)]['find'](_0xc9f912=>_0xc9f912[_0x3e097b(0x175)]==_0x3c8991[_0x3e097b(0x175)]);if(_0x34cdc5){_0x1d217c+=_0x34cdc5[_0x3e097b(0x12e)];if(!_0x156677)_0x156677=_0x34cdc5['price'];}}),_0x32fabd[_0x3cb55c(0x1b2)]({'coin':_0x3c8991[_0x3cb55c(0x175)],'number':_0x1d217c,'initialprice':_0x156677});});const _0x55c5c8={'basecoin':_0x4b1f51,'eur':_0x27226a,'usd':_0x1cf079,'coins':_0x32fabd};if(_0x582193)proxyEmit(_0x25f29f(0x139),_0x55c5c8);startingBalances=_0x55c5c8;}}function headlessMode(_0x1d4bb9){const _0x476c25=_0x32bb38;let _0x1a89d5=_0x1d4bb9['portfolio'],_0x26802=_0x1d4bb9[_0x476c25(0x135)],_0x45cd1f=[];for(let _0x2f4988 of _0x1a89d5){if(_0x2f4988[_0x476c25(0x175)]!=config[_0x476c25(0x18a)]){if(_0x2f4988[_0x476c25(0x112)]>=_0x26802/0x64){if(_0x2f4988[_0x476c25(0x1fb)])_0x45cd1f[_0x476c25(0x1b2)](_0x2f4988);}else{if(_0x2f4988[_0x476c25(0x112)]<=-_0x26802/0x64){if(_0x2f4988[_0x476c25(0x1fb)])_0x45cd1f[_0x476c25(0x1b2)](_0x2f4988);}}}}_0x45cd1f[_0x476c25(0x1af)]>0x0&&placeOrder(_0x45cd1f);}function notifyBalance(_0xa3092b){const _0x153cb8=_0x32bb38;let _0x4796cc=_0xa3092b['portfolio'],_0x2795bc=_0xa3092b[_0x153cb8(0x135)],_0x429c2d=[];for(let _0xd7cbd4 of _0x4796cc){if(_0xd7cbd4[_0x153cb8(0x175)]!=config['basecoin']){if(_0xd7cbd4['delta']>=_0x2795bc/0x64){if(_0xd7cbd4[_0x153cb8(0x1fb)])_0x429c2d[_0x153cb8(0x1b2)](_0xd7cbd4);}else{if(_0xd7cbd4[_0x153cb8(0x112)]<=-_0x2795bc/0x64){if(_0xd7cbd4[_0x153cb8(0x1fb)])_0x429c2d[_0x153cb8(0x1b2)](_0xd7cbd4);}}}}if(_0x429c2d[_0x153cb8(0x1af)]>0x0){let _0x12077e=_0x429c2d[_0x153cb8(0x142)](_0x26db25=>_0x26db25['coin']);_0x12077e[_0x153cb8(0x113)]();let _0x4a480e=_0x12077e['join'](',\x20');if(!lastCoinsToBalance)logHistory(_0x153cb8(0x11b),'Manual\x20balancing\x20required');lastCoinsToBalance=_0x4a480e;}}function symbolToCoin(_0x3ec2ed){const _0x59b946=_0x32bb38;let _0x127402;if(_0x3ec2ed[_0x59b946(0x1b1)]('/'+config[_0x59b946(0x18a)]))_0x127402=_0x3ec2ed[_0x59b946(0x214)]('/'+config['basecoin'],'');if(_0x3ec2ed[_0x59b946(0x1b1)](config['basecoin']+'/'))_0x127402=_0x3ec2ed[_0x59b946(0x214)](config[_0x59b946(0x18a)]+'/','');return _0x127402;}async function unlockOrders(){const _0x2bdd9b=_0x32bb38;if(allOrdersPlaced&&lockOrders==ORDERS[_0x2bdd9b(0xe5)]){logger[_0x2bdd9b(0x198)](_0x2bdd9b(0x196)),lockOrders=ORDERS[_0x2bdd9b(0x26d)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x3abc10=await getCoins();[currentCoins,currentCoinsAll]=_0x3abc10,validateOrdersState='initial',persistOpenOrders([]),lockOrders=ORDERS[_0x2bdd9b(0x1ca)],logger[_0x2bdd9b(0x198)](_0x2bdd9b(0x125));}}async function validateOrders(_0x182fb1){const _0x30b1b3=_0x32bb38;if(_0x182fb1)validateOrdersState=_0x182fb1;logger[_0x30b1b3(0x198)]('1\x20-\x20Validate\x20orders:\x20'+validateOrdersState+_0x30b1b3(0xeb)+(lockOrders==0x1?'ORDERS.LOCKED':lockOrders==0x2?_0x30b1b3(0x21f):'ORDERS.UNLOCKED'));let _0x487705=[],_0x16059b=config[_0x30b1b3(0x273)]==_0x30b1b3(0x1fa)?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config[_0x30b1b3(0x247)]*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS[_0x30b1b3(0xe5)])return;logger[_0x30b1b3(0x198)](_0x30b1b3(0x228)+validateOrdersState),lastOrders[_0x30b1b3(0x23a)](_0x441f03=>{const _0x466886=_0x30b1b3;let _0x339213=![];_0x441f03[_0x466886(0xe4)]>0x0&&(_0x339213=!![]),_0x487705[_0x466886(0x1b2)](_0x339213),_0x339213&&config[_0x466886(0x273)]!=_0x466886(0x1fa)&&logHistory(_0x466886(0x199),_0x466886(0x249)+_0x441f03[_0x466886(0xe0)]+'\x20'+_0x441f03['side']+'\x20#'+formatResult(_0x441f03[_0x466886(0xe4)],0x8)+'\x20@'+formatResult(_0x441f03[_0x466886(0x21c)],0x8));}),_0x487705[_0x30b1b3(0x23a)]((_0x3a4a4d,_0x5e22c4)=>{const _0x346bd8=_0x30b1b3;if(_0x3a4a4d)lastOrders[_0x346bd8(0x146)](_0x5e22c4,0x1);}),persistOpenOrders(lastOrders);const _0x230855=coolingDown?_0x30b1b3(0x14b):_0x30b1b3(0x12a);if(validateOrdersState==_0x30b1b3(0x178)){validateOrdersState=_0x30b1b3(0xee);if(_0x487705['includes'](![])){if(config['ordertype']=='market'){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x30b1b3(0xee)){if(_0x487705[_0x30b1b3(0x1b1)](![])){}else{if(allOrdersPlaced){if(config['ordertype']==_0x30b1b3(0x1fa)){}else{}await unlockOrders();}}}else{if(validateOrdersState=='final')_0x487705[_0x30b1b3(0x1b1)](![])&&(config[_0x30b1b3(0x273)]==_0x30b1b3(0x1fa)?logHistory(_0x30b1b3(0x159),_0x30b1b3(0x245)+Math['round'](_0x16059b*validateOrderInterval/0xea60)+_0x30b1b3(0x13e)+_0x230855):(await cancelOrders(),logHistory(_0x30b1b3(0x159),_0x30b1b3(0x13c)+Math[_0x30b1b3(0x1ec)](_0x16059b*validateOrderInterval/0xea60)+'\x20minutes\x20-\x20'+_0x230855))),await unlockOrders();else{if(validateOrdersState==_0x30b1b3(0xf5)){if(config[_0x30b1b3(0x273)]!=_0x30b1b3(0x1fa))logHistory(_0x30b1b3(0x159),'No\x20more\x20open\x20orders\x20-\x20'+_0x230855);await unlockOrders();}}}}}async function cancelOrders(){const _0x57a3ec=_0x32bb38;lastOrders[_0x57a3ec(0x23a)](async _0x29bf83=>{const _0x4c8132=_0x57a3ec;try{const _0x9b4a9c=await exchange[_0x4c8132(0x27b)](_0x29bf83[_0x4c8132(0x1b8)],_0x29bf83[_0x4c8132(0xe0)]);}catch(_0x493a30){if(_0x493a30[_0x4c8132(0x26e)]()[_0x4c8132(0x1b1)](_0x4c8132(0x204))){}else await handleError(_0x493a30,_0x4c8132(0x221));}});}async function initCoinResults(_0x5c7707){const _0x4566e5=_0x32bb38;_0x5c7707?logger[_0x4566e5(0x198)](_0x4566e5(0x167)+_0x5c7707):logger[_0x4566e5(0x198)](_0x4566e5(0x271)),config['portfolio'][_0x4566e5(0x23a)](_0x171752=>{const _0x2d64c0=_0x4566e5;if(!_0x171752['excluded']&&_0x171752[_0x2d64c0(0x175)]!=config[_0x2d64c0(0x18a)]){const _0x3039a0=currentCoins['find'](_0xc956b=>_0xc956b[_0x2d64c0(0x175)]==_0x171752[_0x2d64c0(0x175)]),_0x23d414=global['ticker'][noslash(_0x171752[_0x2d64c0(0xe0)])];let _0x475b17=_0x3039a0?_0x3039a0[_0x2d64c0(0x12e)]:null,_0x519540=_0x171752[_0x2d64c0(0x1fc)]?0x1/_0x23d414:_0x23d414,_0x8fba1;config[_0x2d64c0(0x24e)]['forEach'](_0x1b0d22=>{const _0x4bd64d=_0x2d64c0;!_0x8fba1&&(_0x8fba1=_0x1b0d22[_0x4bd64d(0x140)][_0x4bd64d(0x12b)](_0xcbba7c=>_0xcbba7c[_0x4bd64d(0x175)]==_0x171752[_0x4bd64d(0x175)]),_0x8fba1&&(_0x475b17=_0x8fba1[_0x4bd64d(0x12e)],_0x519540=_0x8fba1[_0x4bd64d(0x21c)]));});let _0x1c0a39=dbCoinResults[_0x2d64c0(0x15d)](_0x2d64c0(0x188))[_0x2d64c0(0x12b)]({'coin':_0x171752[_0x2d64c0(0x175)]})[_0x2d64c0(0x258)]();if(!_0x1c0a39){const _0x1d9672={'coin':_0x171752[_0x2d64c0(0x175)],'number':_0x475b17,'breakeven':_0x519540,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults['get'](_0x2d64c0(0x188))['push'](_0x1d9672)[_0x2d64c0(0x1e4)]();}else{if(_0x5c7707&&_0x171752[_0x2d64c0(0x175)]==_0x5c7707){const _0x41de9b={'coin':_0x171752['coin'],'number':_0x475b17,'breakeven':_0x519540,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x2d64c0(0x15d)](_0x2d64c0(0x188))[_0x2d64c0(0x12b)]({'coin':_0x171752[_0x2d64c0(0x175)]})['assign'](_0x41de9b)[_0x2d64c0(0x1e4)]();}}}});}async function updateCoinResults(_0x54cf34,_0x2c0f13=![]){const _0x2d5d47=_0x32bb38;let _0x4dae74,_0x3a6b76,_0x39dda5,_0x1dfde3,_0x25107f,_0x36ac33,_0x69455c=dbCoinResults['get'](_0x2d5d47(0x188))[_0x2d5d47(0x12b)]({'coin':_0x54cf34[_0x2d5d47(0x175)]})['value'](),_0x3457e0=![];_0x69455c&&Object[_0x2d5d47(0x128)](_0x69455c)['forEach'](([_0x196406,_0x16c08b])=>{if(_0x16c08b==null)_0x3457e0=!![];});(!_0x69455c||_0x3457e0)&&(await initCoinResults(_0x54cf34['coin']),_0x69455c=dbCoinResults[_0x2d5d47(0x15d)](_0x2d5d47(0x188))[_0x2d5d47(0x12b)]({'coin':_0x54cf34[_0x2d5d47(0x175)]})[_0x2d5d47(0x258)]());_0x54cf34['reverse']&&(_0x36ac33={'filled':_0x54cf34[_0x2d5d47(0xe4)]*_0x54cf34[_0x2d5d47(0x21c)],'amount':_0x54cf34[_0x2d5d47(0xe4)]*_0x54cf34[_0x2d5d47(0x21c)],'side':_0x54cf34[_0x2d5d47(0x1ac)]==_0x2d5d47(0x123)?_0x2d5d47(0x14e):'sell','price':0x1/_0x54cf34[_0x2d5d47(0x21c)]},_0x54cf34={..._0x54cf34,..._0x36ac33});_0x2c0f13?_0x3a6b76=_0x54cf34['side']==_0x2d5d47(0x14e)?_0x69455c[_0x2d5d47(0x12e)]+_0x54cf34[_0x2d5d47(0xe4)]:_0x69455c['number']-_0x54cf34[_0x2d5d47(0xe4)]:_0x3a6b76=await getCoinNumber(_0x54cf34[_0x2d5d47(0x175)]);if(_0x54cf34['fee']&&_0x54cf34[_0x2d5d47(0x162)][_0x2d5d47(0x16a)]==config[_0x2d5d47(0x18a)])_0x4dae74=_0x54cf34[_0x2d5d47(0x162)][_0x2d5d47(0x166)];else{if(_0x54cf34[_0x2d5d47(0x162)]&&_0x54cf34['fee']['currency']==_0x2d5d47(0x207)&&!_0x2c0f13)_0x4dae74=_0x54cf34['fee'][_0x2d5d47(0x166)]*global[_0x2d5d47(0x177)]['BNB'+config[_0x2d5d47(0x18a)]];else _0x4dae74=defaultFee*_0x54cf34['filled']*_0x54cf34['price'];}_0x54cf34['side']==_0x2d5d47(0x14e)?(_0x39dda5=_0x3a6b76!=0x0?(_0x69455c['breakeven']*_0x69455c[_0x2d5d47(0x12e)]+_0x54cf34[_0x2d5d47(0x21c)]*(_0x3a6b76-_0x69455c['number'])+_0x4dae74)/_0x3a6b76:0x0,_0x1dfde3=_0x69455c[_0x2d5d47(0xfa)]):(_0x39dda5=_0x3a6b76!=0x0?(_0x69455c['breakeven']*_0x69455c[_0x2d5d47(0x12e)]-_0x54cf34[_0x2d5d47(0x21c)]*(_0x69455c[_0x2d5d47(0x12e)]-_0x3a6b76)+_0x4dae74)/_0x3a6b76:0x0,_0x1dfde3=_0x69455c[_0x2d5d47(0xfa)]+(_0x54cf34[_0x2d5d47(0x21c)]-_0x69455c[_0x2d5d47(0x133)])*_0x54cf34['filled']);_0x25107f=(_0x54cf34[_0x2d5d47(0x21c)]-_0x39dda5-_0x4dae74/_0x54cf34[_0x2d5d47(0xe4)])*_0x3a6b76;let _0x238705={'coin':_0x54cf34['coin'],'number':_0x3a6b76,'breakeven':formatResult(_0x39dda5,0x8),'realized':formatResult(_0x1dfde3,0x8),'unrealized':formatResult(_0x25107f,0x8),'fees':formatResult(_0x69455c[_0x2d5d47(0x1d9)]+_0x4dae74,0x8),'sells':_0x54cf34[_0x2d5d47(0x1ac)]==_0x2d5d47(0x123)?_0x69455c[_0x2d5d47(0x1e0)]+0x1:_0x69455c[_0x2d5d47(0x1e0)],'buys':_0x54cf34[_0x2d5d47(0x1ac)]=='buy'?_0x69455c[_0x2d5d47(0x18f)]+0x1:_0x69455c[_0x2d5d47(0x18f)]};dbCoinResults[_0x2d5d47(0x15d)](_0x2d5d47(0x188))[_0x2d5d47(0x12b)]({'coin':_0x54cf34[_0x2d5d47(0x175)]})['assign'](_0x238705)[_0x2d5d47(0x1e4)]();if(!_0x2c0f13){if(_0x54cf34[_0x2d5d47(0x162)]&&_0x54cf34[_0x2d5d47(0x162)][_0x2d5d47(0x16a)]=='BNB'){const _0x57a76c=currentCoins[_0x2d5d47(0x12b)](_0x3a40c3=>_0x3a40c3[_0x2d5d47(0x175)]==_0x2d5d47(0x207));if(_0x57a76c){let _0x28e714=dbCoinResults[_0x2d5d47(0x15d)]('coins')[_0x2d5d47(0x12b)]({'coin':_0x2d5d47(0x207)})[_0x2d5d47(0x258)]();_0x238705={..._0x28e714,'number':_0x57a76c[_0x2d5d47(0x12e)]},dbCoinResults[_0x2d5d47(0x15d)](_0x2d5d47(0x188))['find']({'coin':_0x2d5d47(0x207)})[_0x2d5d47(0x121)](_0x238705)[_0x2d5d47(0x1e4)]();}}}}async function placeOrder(_0x62b44a){const _0x4e2cc1=_0x32bb38,_0x2e6a03=config[_0x4e2cc1(0x273)]==_0x4e2cc1(0x1fa)?_0x4e2cc1(0x1fa):_0x4e2cc1(0x22d);if(lockOrders==ORDERS[_0x4e2cc1(0x1ca)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x4e2cc1(0xe5)],allOrdersPlaced=![],validateOrdersState=_0x4e2cc1(0x178);let _0x27c07b=![];lastOrders=[];for(const _0x1f30df of _0x62b44a){let _0x3eb39d,_0x2125a9,_0x5af153,_0x40726d,_0x45542e,_0x4b3330=_0x1f30df['symbol'];try{const _0x1ea114=await exchange['fetchTicker'](_0x4b3330);_0x3eb39d=_0x1f30df[_0x4e2cc1(0x1fc)]?0x1/_0x1f30df[_0x4e2cc1(0x1e6)]:_0x1f30df[_0x4e2cc1(0x1e6)],_0x2125a9=_0x1ea114[_0x4e2cc1(0x12c)],_0x5af153=_0x1ea114['ask'];_0x1f30df[_0x4e2cc1(0x1fc)]?(_0x40726d=_0x1f30df[_0x4e2cc1(0x1ac)]==_0x4e2cc1(0x14e)?'sell':_0x4e2cc1(0x14e),_0x45542e=Math['abs'](_0x1f30df['trade'])/_0x3eb39d):(_0x40726d=_0x1f30df['side'],_0x45542e=Math[_0x4e2cc1(0x232)](_0x1f30df[_0x4e2cc1(0x138)]));_0x2e6a03=='limit'&&(config[_0x4e2cc1(0x273)]==_0x4e2cc1(0x154)&&(_0x3eb39d=_0x40726d==_0x4e2cc1(0x14e)?_0x2125a9:_0x5af153),config[_0x4e2cc1(0x273)]==_0x4e2cc1(0x1b4)&&(_0x3eb39d=_0x40726d==_0x4e2cc1(0x14e)?_0x5af153:_0x2125a9));_0x45542e=formatResult(_0x45542e,0x8),_0x3eb39d=formatResult(_0x3eb39d,0x8);const _0x406fe1=_0x40726d==_0x4e2cc1(0x123)?config[_0x4e2cc1(0x110)]?String[_0x4e2cc1(0x1ad)]('0x'+config[_0x4e2cc1(0x110)])+'\x20':'':config[_0x4e2cc1(0x126)]?String[_0x4e2cc1(0x1ad)]('0x'+config[_0x4e2cc1(0x126)])+'\x20':'',_0x268d42=_0x2e6a03==_0x4e2cc1(0x1fa)?_0x4e2cc1(0x1db):config[_0x4e2cc1(0x273)]==_0x4e2cc1(0x154)?'Limit\x20(high-margin)':'Limit\x20(low-margin)',_0x19cc81=(Math[_0x4e2cc1(0x170)](Math[_0x4e2cc1(0x109)]()*0x35a4e900)+0x5f5e100)[_0x4e2cc1(0x26e)]();lastOrders[_0x4e2cc1(0x1b2)]({'customId':_0x19cc81,'symbol':_0x4b3330,'coin':_0x1f30df['coin'],'amount':_0x45542e,'price':_0x3eb39d,'side':_0x40726d,'reverse':_0x1f30df['reverse'],'filled':0x0});if(_0x2e6a03==_0x4e2cc1(0x1fa))logHistory(_0x4e2cc1(0x199),''+_0x406fe1+_0x268d42+_0x4e2cc1(0x1a1)+_0x4b3330+'\x20'+_0x40726d+'\x20#'+formatResult(_0x45542e,0x8)+'\x20@'+formatResult(_0x3eb39d,0x8));else logHistory('order',''+_0x406fe1+_0x268d42+_0x4e2cc1(0x1a1)+_0x4b3330+'\x20'+_0x40726d+'\x20#'+formatResult(_0x45542e,0x8)+'\x20@'+formatResult(_0x3eb39d,0x8));let _0x4eb6b0;_0x2e6a03==_0x4e2cc1(0x1fa)?_0x40726d==_0x4e2cc1(0x14e)&&[_0x4e2cc1(0x16c),_0x4e2cc1(0x129),_0x4e2cc1(0xfc),'Huobi','Huobipro'][_0x4e2cc1(0x1b1)](config[_0x4e2cc1(0xf1)])?_0x4eb6b0=await exchange[_0x4e2cc1(0x217)](_0x4b3330,_0x2e6a03,_0x40726d,_0x45542e,_0x3eb39d):_0x4eb6b0=await exchange[_0x4e2cc1(0x217)](_0x4b3330,_0x2e6a03,_0x40726d,_0x45542e,undefined):_0x4eb6b0=await exchange[_0x4e2cc1(0x217)](_0x4b3330,_0x2e6a03,_0x40726d,_0x45542e,_0x3eb39d);logger[_0x4e2cc1(0x198)](_0x4e2cc1(0x195)+_0x4eb6b0['id']+_0x4e2cc1(0x16b)+_0x19cc81);const _0x3015c4=lastOrders[_0x4e2cc1(0x1af)]-0x1;if(_0x3015c4>=0x0&&lastOrders[_0x3015c4][_0x4e2cc1(0x1c9)]==_0x19cc81){lastOrders[_0x3015c4][_0x4e2cc1(0x1b8)]=_0x4eb6b0['id'];if(_0x4eb6b0['amount'])lastOrders[_0x3015c4][_0x4e2cc1(0xe6)]=_0x4eb6b0['amount'];if(_0x4eb6b0['price'])lastOrders[_0x3015c4][_0x4e2cc1(0x21c)]=_0x4eb6b0[_0x4e2cc1(0x21c)];lastOrders[_0x3015c4]['fee']=_0x4eb6b0['fee'];}if(config[_0x4e2cc1(0xe3)]!=0x0){let _0x421883=null;if(cooldownTracker[_0x4e2cc1(0x1af)]==config['cooldown']-0x1)_0x421883=cooldownTracker[_0x4e2cc1(0x211)]();const _0x585e90=getTimeStamp();cooldownTracker['push'](_0x585e90);if(_0x421883){const _0x49a73d=fns[_0x4e2cc1(0xf7)](new Date(_0x585e90),new Date(_0x421883));if(_0x49a73d<cooldownInterval){logHistory(_0x4e2cc1(0x143),_0x4e2cc1(0x261)+config[_0x4e2cc1(0xe3)]+_0x4e2cc1(0x278)+cooldownInterval/0x3c+_0x4e2cc1(0x1ea)+cooldownPeriod/(0xe10*0x3e8)+_0x4e2cc1(0x1b5)),coolingDown=!![];break;}}}}catch(_0x5ef748){if(_0x5ef748[_0x4e2cc1(0x26e)]()['includes'](_0x4e2cc1(0x147)))lastOrders=lastOrders[_0x4e2cc1(0x122)](_0x5bc485=>_0x5bc485[_0x4e2cc1(0xe0)]!=_0x4b3330),logHistory(_0x4e2cc1(0x143),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x4b3330),_0x27c07b=!![];else{if(_0x5ef748['toString']()[_0x4e2cc1(0x1b1)]('Invalid\x20quantity'))lastOrders=lastOrders[_0x4e2cc1(0x122)](_0x2012a0=>_0x2012a0[_0x4e2cc1(0xe0)]!=_0x4b3330),logHistory(_0x4e2cc1(0x143),'Order\x20amount\x20is\x20invalid:\x20'+_0x4b3330),_0x27c07b=!![];else{if(_0x5ef748['toString']()[_0x4e2cc1(0x1b1)](_0x4e2cc1(0x16f)))lastOrders=lastOrders['filter'](_0x1a01b5=>_0x1a01b5[_0x4e2cc1(0xe0)]!=_0x4b3330),logHistory(_0x4e2cc1(0x143),_0x4e2cc1(0x235)+_0x4b3330),logger[_0x4e2cc1(0x198)](_0x5ef748),_0x27c07b=!![];else _0x5ef748['toString']()['includes'](_0x4e2cc1(0x1d4))?(lastOrders=lastOrders[_0x4e2cc1(0x122)](_0x68db1a=>_0x68db1a[_0x4e2cc1(0xe0)]!=_0x4b3330),logHistory(_0x4e2cc1(0x143),'Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20'+_0x4b3330),_0x27c07b=!![]):(lastOrders=lastOrders[_0x4e2cc1(0x122)](_0x206374=>_0x206374['symbol']!=_0x4b3330),await handleError(_0x5ef748,_0x4e2cc1(0xed),_0x4b3330));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x4e2cc1(0x1af)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x26d860=config[_0x4e2cc1(0x273)]==_0x4e2cc1(0x1fa)?validateOrderTimeout*0x3c*0x3e8:config[_0x4e2cc1(0x247)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x8ecdad=_0x4e2cc1;validateOrders(_0x8ecdad(0x10e));},_0x26d860);}else unlockOrders();_0x27c07b&&config[_0x4e2cc1(0x22c)]&&await pauseBot('Avoiding\x20continuous\x20order\x20attempts'),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x4e2cc1(0x159),_0x4e2cc1(0x1a0)));}else{if(coolingDown)!config['headless']&&logHistory(_0x4e2cc1(0x143),_0x4e2cc1(0x15b));else lockOrders!=ORDERS[_0x4e2cc1(0x1ca)]&&(!config['headless']&&(config['ordertype']==_0x4e2cc1(0x1fa)?logHistory(_0x4e2cc1(0x143),_0x4e2cc1(0x1c4)):logHistory(_0x4e2cc1(0x143),_0x4e2cc1(0x11e))));}}function persistOpenOrders(_0x533d48){const _0x3a764d=_0x32bb38,_0x5d869c={...config,'openOrders':_0x533d48};let _0x4475ed=dbConfig['get'](_0x3a764d(0x1df))[_0x3a764d(0x12b)]({'botID':botID})[_0x3a764d(0x258)]();_0x4475ed&&dbConfig['get'](_0x3a764d(0x1df))[_0x3a764d(0x12b)]({'botID':botID})['assign'](_0x5d869c)[_0x3a764d(0x1e4)]();}function restoreOrders(){const _0x48bcd3=_0x32bb38;let _0x5989a3;config[_0x48bcd3(0x155)]&&allOpenOrders[_0x48bcd3(0x23a)](_0x287de1=>{const _0x1833b6=_0x48bcd3,_0x4e7e7f=config[_0x1833b6(0x155)][_0x1833b6(0x12b)](_0x41f297=>_0x41f297[_0x1833b6(0x1b8)]==_0x287de1['id']);_0x4e7e7f&&(lastOrders[_0x1833b6(0x1b2)](_0x4e7e7f),_0x5989a3=_0x287de1['timestamp']);});if(lastOrders['length']>0x0){lockOrders=ORDERS[_0x48bcd3(0xe5)],validateOrdersState=_0x48bcd3(0xee),allOrdersPlaced=!![];const _0x558239=new Date()[_0x48bcd3(0x24a)](),_0x478a94=config[_0x48bcd3(0x273)]==_0x48bcd3(0x1fa)?validateOrderTimeout*0x3c*0x3e8:config[_0x48bcd3(0x247)]*0x3c*0x3e8;if(_0x5989a3+_0x478a94>_0x558239){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x139b77=_0x48bcd3;validateOrders(_0x139b77(0x10e));},_0x5989a3+_0x478a94-_0x558239);}else validateOrders(_0x48bcd3(0x10e));}}async function sendMetricsTelegram(){const _0x5f1194=_0x32bb38;if(!coinsLoaded){process[_0x5f1194(0x236)]({'telegrammsg':_0x5f1194(0x124)},_0x1aa445=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0xe751ae='';if(config[_0x5f1194(0x107)])_0xe751ae=_0x5f1194(0x179)+config[_0x5f1194(0x102)]+_0x5f1194(0x209);else _0xe751ae=_0x5f1194(0x11a)+botID+_0x5f1194(0x209);const _0x180297=getKPIs(_0x5f1194(0x18a)),_0x44ac55=getKPIs(_0x5f1194(0x1a8),config[_0x5f1194(0x1a8)]),_0x545f5f=getKPIs(_0x5f1194(0x15f)),_0x19ced3=getKPIs(_0x5f1194(0x168),config[_0x5f1194(0x1a8)]);_0xe751ae+=_0x5f1194(0x194),_0xe751ae+=_0x180297['leftTxt']+_0x5f1194(0x1eb)+_0x180297[_0x5f1194(0x258)]+'\x0a',_0xe751ae+=_0x180297[_0x5f1194(0x20e)]+':\x20'+_0x180297[_0x5f1194(0x1c1)]+'%\x0a',_0xe751ae+=_0x44ac55[_0x5f1194(0x151)]+_0x5f1194(0x1eb)+_0x44ac55[_0x5f1194(0x258)]+'\x0a',_0xe751ae+=_0x44ac55[_0x5f1194(0x20e)]+':\x20'+_0x44ac55[_0x5f1194(0x1c1)]+'%\x0a',_0xe751ae+=_0x545f5f[_0x5f1194(0x151)]+':\x20'+_0x545f5f['value']+'\x20('+config['basecoin']+')\x0a',_0xe751ae+=_0x545f5f['rightTxt']+':\x20'+_0x545f5f[_0x5f1194(0x1c1)]+'%\x20('+config[_0x5f1194(0x18a)]+')\x0a',_0xe751ae+=_0x19ced3['leftTxt']+':\x20'+_0x19ced3[_0x5f1194(0x258)]+'\x20('+config[_0x5f1194(0x1a8)]+')\x0a',_0xe751ae+=_0x19ced3[_0x5f1194(0x20e)]+':\x20'+_0x19ced3['change']+_0x5f1194(0x14a)+config[_0x5f1194(0x1a8)]+')\x0a',_0xe751ae+='</pre>',process[_0x5f1194(0x236)]({'telegrammsg':_0xe751ae},_0x3bb57e=>{});}async function sendPortfolioTelegram(){const _0x2485b8=_0x32bb38;if(!coinsLoaded){process[_0x2485b8(0x236)]({'telegrammsg':_0x2485b8(0x124)},_0x10c7f9=>{});return;}let _0x41a5c4='';if(config[_0x2485b8(0x107)])_0x41a5c4='<b>'+config[_0x2485b8(0x102)]+_0x2485b8(0x1b9);else _0x41a5c4='<b>Bot\x20'+botID+'\x20portfolio:</b>\x20\x0a\x0a';_0x41a5c4+=_0x2485b8(0x194),_0x41a5c4+=_0x2485b8(0x1d7),_0x41a5c4+=_0x2485b8(0x233),_0x41a5c4+=_0x2485b8(0x1d7),currentCoins[_0x2485b8(0x23a)](_0x16dd33=>{const _0x5779ca=_0x2485b8;_0x41a5c4+=_0x16dd33[_0x5779ca(0x175)][_0x5779ca(0x201)](0x7)+'|\x20'+formatPad(_0x16dd33[_0x5779ca(0x1fd)],0x2,0x6)+'|\x20'+formatPad(_0x16dd33['target'],0x2,0x6)+'|\x20'+formatPad(_0x16dd33[_0x5779ca(0x112)]*0x64,0x2,0x6)+'\x0a';}),_0x41a5c4+=_0x2485b8(0x244),process[_0x2485b8(0x236)]({'telegrammsg':_0x41a5c4},_0x38a748=>{});}function formatPad(_0x53069d,_0x26c9d1,_0x37f012){const _0x19e023=_0x32bb38,_0x3d3c61=formatResultString(_0x53069d,_0x26c9d1);return _0x3d3c61?_0x3d3c61['padStart'](_0x37f012):''[_0x19e023(0x19a)](_0x37f012);}function logHistory(_0x518531,_0x26b25d,_0x54071c=''){const _0x50f485=_0x32bb38;let _0x49b03a={'time':getTimeStamp(),'type':_0x518531,'event':_0x26b25d};dbLogs['get']('logs')[_0x50f485(0x1b2)](_0x49b03a)[_0x50f485(0x1e4)]();if(_0x54071c=='')_0x54071c=_0x26b25d;proxyEmit('event',{'log':_0x49b03a,'summary':_0x54071c}),process[_0x50f485(0x236)]({'telegram':{..._0x49b03a,'botname':config[_0x50f485(0x102)],'showname':config[_0x50f485(0x107)]}},_0x3cb68d=>{}),logger[_0x50f485(0x192)](''+_0x49b03a['event']);}function emitHistory(_0x25aef1={}){const _0xeb6156=_0x32bb38;Object[_0xeb6156(0xf9)](_0x25aef1)[_0xeb6156(0x1af)]==0x0&&(_0x25aef1={'type':[_0xeb6156(0x199),_0xeb6156(0x270)],'event':'','page':0x1});if(_0x25aef1[_0xeb6156(0x182)]['includes']('event'))_0x25aef1['type'][_0xeb6156(0x146)](_0x25aef1[_0xeb6156(0x182)][_0xeb6156(0x18d)](_0xeb6156(0x270)),0x1,_0xeb6156(0x143),_0xeb6156(0x11b),'success');if(dbLogs[_0xeb6156(0x264)](_0xeb6156(0x141))[_0xeb6156(0x258)]()){let _0x2cac68=dbLogs[_0xeb6156(0x15d)](_0xeb6156(0x141))[_0xeb6156(0x122)](_0x2add5a=>{const _0x529480=_0xeb6156;if(_0x25aef1[_0x529480(0x182)][_0x529480(0x1af)]==0x0)return![];else return _0x25aef1['type'][_0x529480(0x1b1)](_0x2add5a['type']);})[_0xeb6156(0x122)](_0x222ba3=>{const _0x37c598=_0xeb6156;if(_0x25aef1[_0x37c598(0x270)]=='')return!![];else return _0x222ba3['event']['toLowerCase']()[_0x37c598(0x1b1)](_0x25aef1[_0x37c598(0x270)]['toLowerCase']());})[_0xeb6156(0x21b)](_0xeb6156(0x1da)),_0x555fc5=_0x2cac68[_0xeb6156(0x258)]()[_0xeb6156(0x1af)];_0x2cac68=_0x2cac68['reverse']()[_0xeb6156(0x265)]((_0x25aef1[_0xeb6156(0x12d)]-0x1)*logPageSize,_0x25aef1['page']*logPageSize-0x1)[_0xeb6156(0x1fc)]()[_0xeb6156(0x258)](),proxyEmit('event-history',{'logs':_0x2cac68,'total':_0x555fc5});}else proxyEmit(_0xeb6156(0x206),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x5b80c5){const _0x480487=_0x32bb38;if(dbLogs[_0x480487(0x264)]('logs')[_0x480487(0x258)]()){const _0x10f7a2=dbLogs[_0x480487(0x15d)](_0x480487(0x141))[_0x480487(0x21b)](_0x480487(0x1da))[_0x480487(0x122)](_0x2e66d6=>{const _0xeed868=_0x480487;return _0x2e66d6[_0xeed868(0x182)]==_0xeed868(0x199);})['value']();dbLogs['get'](_0x480487(0x141))['remove']()[_0x480487(0x1e4)](),dbLogs[_0x480487(0x15d)]('logs')[_0x480487(0x121)](_0x10f7a2)[_0x480487(0x1e4)](),emitHistory(_0x5b80c5);}}function _0xf0e9(){const _0x1a4a24=['delta','sort','test','startdate','Transaction\x20detection\x20blocked','TUSD','writeFile','bb-secure.json','<b>Bot\x20','warning','watchTransactions','isEqual','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled','exec','restart','assign','filter','sell','Bot\x20has\x20not\x20started\x20(yet)\x20-\x20try\x20again\x20in\x20a\x20minute','2\x20-\x20Orders\x20unlocked','emojibuy','fetchTicker','entries','Bitget','balancing\x20resumed','find','bid','page','number','eur','yyyy-MM-dd\x27T\x27HH:mm:ss','\x20exchange\x20error','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','breakeven','001','threshold','8vocQfz','remainingSymbols','trade','starting-balances','getCoins()','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot','Unfilled\x20order(s)\x20canceled\x20after\x20','yargs/yargs','\x20minutes\x20-\x20','fetchOpenOrders','changes','logs','map','error','getFullYear','NetworkError','splice','MIN_NOTIONAL','EUR','\x20API\x20key\x20is\x20invalid','%\x20(','balancing\x20resumes\x20when\x20cooldown\x20ends','toUpperCase','Initiating\x20exchange\x20reload','buy','\x20network\x20error','unlinkSync','leftTxt','search','\x20not\x20available','limit-high','openOrders','-events.json','average','format','success','freeze','Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode','version','get','limits','net-basecoin','pro','password','fee','Your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock','getPortfolio(1)','watchTrades','cost','Resetting\x20coin\x20results:\x20','net-fiat','timestamp','currency','\x20|\x20Custom\x20ID:\x20','Bybit','existsSync','\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again','InvalidOrder','floor','Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again','balances','recreateCoinResults()','Resetting\x20bot\x20history','coin','function','ticker','initial','<b>','(((.+)+)+)+$','substring','loadSymbols()','USDT','storeConfiguration','initclient','exchange\x20reloaded','Fee\x20discount\x20refund\x20detected:\x20','type','\x20minutes','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','\x20-\x20bot\x20not\x20started','Invalid\x20symbol:\x20','apiPassword','coins','usd','basecoin','ccxt','\x20not\x20responding','indexOf','target','buys','exchange\x20not\x20reloaded','2.3.5','full','args','<pre>','ID:\x20','1\x20-\x20Unlock\x20orders','path','debug','order','padStart','6038064rDaQkE','USD','basecoinvalue','createWriteStream','configuration-stored','Cooldown\x20ended\x20-\x20balancing\x20resumed','\x20order:\x20','Insufficient\x20funds\x20to\x20execute\x20order:\x20','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','33760MTqZjt','bots','-performance.json','getMinutes','fiat','excluded','autoliquidity','fetchClosedOrders','side','fromCodePoint','151193XCFGsV','length','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','includes','push','5667792qBNWGI','limit-low','\x20hour','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','date-fns','orderId','\x20portfolio:</b>\x20\x0a\x0a','milliseconds','orderstatus','2.6.0','-results.json',':\x20Bot\x20','none','getAllOrders','change','spot','Portfolio\x20change\x20detected:\x20','Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated','date','uncaughtException','loadMarkets','Pausing\x20for\x20','customId','UNLOCKED','startnumber','Net\x20','settings','offset','AuthenticationError','yyyy/MM/dd','************','Binance','OnMaintenance','must\x20be\x20greater\x20than\x20minimum\x20amount','2349123JgtzEt','getPortfolio(2)','-------------------------------\x0a','close','fees','time','Market','red_yellow_blue','parse','\x20|\x20Error\x20details:','bot','sells','recreate','decrypt','Exchange','write','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started','last','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration','bot-','BNB/','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','\x20:\x20','round','lowdb','getSeconds','Error:\x20Invalid\x20argument\x20','kill','2\x20-\x20FILLED\x20unknown\x20order:\x20','/USD','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','onepagemode','amountToPrecision','open','Net\x20effect','recovery','sendMetricsTelegram','market','valid','reverse','distribution','enabled','DDoSProtection','\x20>\x20','padEnd','initTickers()','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','OrderNotFound','2\x20-\x20FILLED\x20known\x20order:\x20','event-history','BNB','add','\x20metrics:</b>\x20\x0a\x0a','string','startprice','percentage','BUSD','rightTxt','Executing\x20exchange\x20reload','progress','shift','Transaction\x20detection\x20unblocked','datetime','replace','1\x20-\x20Handle\x20open\x20orders','apply','createOrder','\x20|\x20exchange:\x20','secure','apiSecret','sortBy','price','defaults','toLowerCase','ORDERS.UNLOCKING','getStartingBalances','cancelOrders()','Unexpected\x20error\x20-\x20check\x20log\x20file\x20for\x20details','watchTrades(2)','\x20value','coin-loading-progress','message','timeshift','2\x20-\x20Validate\x20orders:\x20','added','closed','data','headless','limit','startsWith','log','RequestTimeout','getDate','abs','Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a','Reset\x20|\x20','Order\x20is\x20invalid:\x20','send',',\x20must\x20be\x20a\x203\x20digit\x20number','./config/','apiKey','forEach','set','\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled','loading-canceled','highest','\x20|\x20','change24h','\x20>\x20[DEBUG]\x20','bb-settings.json','.json','</pre>','Order(s)\x20not\x20validated\x20after\x20','cancel','timeout','additional\x20symbols\x20','Order\x20filled:\x20','getTime','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','0\x20-\x20EXECUTION:\x20','toFixed','liquidity','toggleBotMode','/output-000.log','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','running','argv','recent20','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','ETH','3913986EhZbUX','value','mkdirSync','getPortfolio(0)','2.5.0','fetchTickers','removed','USDP','portfolio','328983uFudIw','Executed\x20','-config.json','Saving\x20configuration','has','slice','Uncaught\x20Exception:','sendPortfolioTelegram','Crypt','cloneDeep','storeFiat','min','split','UNLOCKING','toString','privateKey','event','Initializing\x20coin\x20results','getHours','ordertype','sha256','active','performance','ExchangeNotAvailable','\x20orders\x20in\x20less\x20than\x20','configuration','resetHistory','cancelOrder','symbol','exchanges','hybrid-crypto-js','cooldown','filled','LOCKED','amount','API-key\x20format\x20invalid','USDC','5JbLAhm','canceled','\x20|\x20lock\x20orders:\x20','remove','placeOrder()','ongoing','\x20has\x20a\x2024h\x20drop\x20of\x20','\x20-\x20exclude\x20from\x20balancing\x20in\x20the\x20configuration','exchange','Invalid\x20API\x20key\x20or\x20secret\x20entered','findIndex','4bqCFte','no\x20open\x20orders','BTC','differenceInSeconds','watchOrders','keys','realized','lowdb/adapters/FileSync','Cex','stringify','deleteHistoryAlerts','emitHistory','botID','join','botname','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses',':\x20timer\x20>','max','status','showname','\x20closed\x20the\x20connection','random','colorscheme','util','getMonth','fetchBalance','final','***','emojisell','Failed\x20to\x20load\x20coin\x20data\x20for\x20'];_0xf0e9=function(){return _0x1a4a24;};return _0xf0e9();}async function pauseBot(_0x34f1b6=''){const _0x25743c=_0x32bb38,_0x217984=new Date()[_0x25743c(0x24a)]();if(!lastErrorShown||_0x217984-lastErrorShown>=pauseBotInterval){lastErrorShown=_0x217984;!lastBotPause?(lastBotPause=_0x217984,consecutivePauses=0x1):(_0x217984-lastBotPause-pauseBotInterval<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x25743c(0x236)]({'stop':_0x25743c(0x120)},_0x5bbad=>{})):consecutivePauses=0x1,lastBotPause=new Date()['getTime']());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange();if(_0x34f1b6)_0x34f1b6+=_0x25743c(0x23f);logHistory(_0x25743c(0x143),_0x34f1b6+_0x25743c(0x1c8)+pauseBotInterval/0xea60+_0x25743c(0x183)),await sleep(pauseBotInterval),botPaused=![],reset(null,!![]);}}}async function killBot(){const _0x2eb1c8=_0x32bb38;process[_0x2eb1c8(0x236)]({'stop':_0x2eb1c8(0x1f0)},_0x4329da=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x57246a,_0x12a8d9){const _0xa7534c=_0x32bb38;if(_0x57246a['toString']()[_0xa7534c(0x1b1)](_0xa7534c(0xe7)))logHistory(_0xa7534c(0x143),config[_0xa7534c(0xf1)]+'\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration');else{if(_0x57246a[_0xa7534c(0x26e)]()[_0xa7534c(0x1b1)](_0xa7534c(0x132)))logHistory(_0xa7534c(0x143),config['exchange']+_0xa7534c(0x1e7));else{if(_0x57246a[_0xa7534c(0x26e)]()['includes'](_0xa7534c(0x1cf)))logHistory('error',config[_0xa7534c(0xf1)]+_0xa7534c(0x1b6)),logHistory(_0xa7534c(0x143),_0xa7534c(0x184));else{await handleError(_0x57246a,_0x12a8d9);return;}}}logger['debug'](_0x12a8d9+'\x20|\x20Error\x20details:',_0x57246a);}async function handleError(_0x119bac,_0x1a569f,_0x10d8b7=''){const _0x1e6fee=_0x32bb38,_0x45476a=config[_0x1e6fee(0xf1)]||_0x1e6fee(0x1e3);if(_0x119bac[_0x1e6fee(0x26e)]()[_0x1e6fee(0x1b1)](_0x1e6fee(0x1ff))||_0x119bac[_0x1e6fee(0x26e)]()[_0x1e6fee(0x1b1)]('RateLimitExceeded'))await pauseBot(config['exchange']+'\x20blocked\x20API\x20(DDoS\x20protection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading');else{if(_0x119bac[_0x1e6fee(0x26e)]()[_0x1e6fee(0x1b1)](_0x1e6fee(0x277))||_0x119bac[_0x1e6fee(0x26e)]()['includes'](_0x1e6fee(0x1d3)))await pauseBot(config['exchange']+_0x1e6fee(0x153));else{if(_0x119bac[_0x1e6fee(0x26e)]()[_0x1e6fee(0x1b1)](_0x1e6fee(0x230)))await pauseBot(config[_0x1e6fee(0xf1)]+_0x1e6fee(0x18c));else{if(_0x119bac[_0x1e6fee(0x26e)]()['includes'](_0x1e6fee(0x1f3)))await pauseBot(config['exchange']+_0x1e6fee(0x108));else{if(_0x119bac[_0x1e6fee(0x26e)]()[_0x1e6fee(0x1b1)]('Timestamp\x20for\x20this\x20request\x20was\x201000ms\x20ahead'))logHistory(_0x1e6fee(0x143),_0x1e6fee(0x163)),logHistory(_0x1e6fee(0x143),_0x1e6fee(0x13b)),await killBot();else{if(_0x119bac[_0x1e6fee(0x26e)]()[_0x1e6fee(0x1b1)]('InvalidNonce'))logHistory(_0x1e6fee(0x143),'API\x20blocked\x20or\x20your\x20machine\x27s\x20internal\x20clock\x20is\x20out\x20of\x20sync\x20-\x20please\x20sync\x20clock'),logHistory(_0x1e6fee(0x143),_0x1e6fee(0x13b)),await killBot();else{if(_0x119bac instanceof ccxt[_0x1e6fee(0x145)])await pauseBot(config[_0x1e6fee(0xf1)]+_0x1e6fee(0x14f));else{if(_0x119bac[_0x1e6fee(0x26e)]()['includes'](_0x1e6fee(0xe7)))logHistory(_0x1e6fee(0x143),config[_0x1e6fee(0xf1)]+_0x1e6fee(0x149)),logHistory(_0x1e6fee(0x143),_0x1e6fee(0x13b)),await killBot();else{if(_0x119bac[_0x1e6fee(0x26e)]()['includes'](_0x1e6fee(0x132)))logHistory('error',config[_0x1e6fee(0xf1)]+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0x1e6fee(0x143),_0x1e6fee(0x13b)),await killBot();else{if(_0x119bac[_0x1e6fee(0x26e)]()['includes'](_0x1e6fee(0x1cf)))logHistory(_0x1e6fee(0x143),config[_0x1e6fee(0xf1)]+_0x1e6fee(0x24b)),logHistory(_0x1e6fee(0x143),_0x1e6fee(0x13b)),await killBot();else{if(_0x119bac[_0x1e6fee(0x26e)]()[_0x1e6fee(0x1b1)]('InsufficientFunds'))logHistory('error',_0x1e6fee(0x1a2)+_0x10d8b7);else _0x119bac instanceof ccxt['ExchangeError']?logHistory(_0x1e6fee(0x143),config[_0x1e6fee(0xf1)]+_0x1e6fee(0x131)):await pauseBot('Unknown\x20error\x20occured');}}}}}}}}}}logger['debug'](_0x1a569f+_0x1e6fee(0x1de),_0x119bac);}function formatResult(_0x3180ce,_0x57f673){const _0xf8be6b=_0x32bb38;return parseFloat(_0x3180ce[_0xf8be6b(0x24d)](_0x57f673));}function formatResultTruncate(_0x4fbb6c,_0x27f3e9){const _0x5611ab=_0x32bb38;let _0x4d0ef9=formatResultString(_0x4fbb6c,0xa),_0x5ddf1c=_0x4d0ef9[_0x5611ab(0x18d)]('.');return _0x5ddf1c!=-0x1&&(_0x4d0ef9=_0x4d0ef9['slice'](0x0,_0x5ddf1c+_0x27f3e9+0x1)),Number(_0x4d0ef9);}function formatResultString(_0x4d499f,_0x1bde4e){const _0x379134=_0x32bb38;let _0x30dd7a;if(!(''+_0x4d499f)['includes']('e'))_0x30dd7a=+(Math[_0x379134(0x1ec)](_0x4d499f+'e+'+_0x1bde4e)+'e-'+_0x1bde4e);else{let _0x3ced21=(''+_0x4d499f)[_0x379134(0x26c)]('e'),_0x3a8054='';+_0x3ced21[0x1]+_0x1bde4e>0x0&&(_0x3a8054='+'),_0x30dd7a=+(Math[_0x379134(0x1ec)](+_0x3ced21[0x0]+'e'+_0x3a8054+(+_0x3ced21[0x1]+_0x1bde4e))+'e-'+_0x1bde4e);}return Number(_0x30dd7a)[_0x379134(0x24d)](_0x1bde4e);}function getServerTime(){const _0x4ef91c=_0x32bb38,_0x349180=new Date();return _0x349180['getFullYear']()+'/'+(_0x349180[_0x4ef91c(0x10c)]()+0x1)[_0x4ef91c(0x26e)]()[_0x4ef91c(0x19a)](0x2,'0')+'/'+_0x349180[_0x4ef91c(0x231)]()[_0x4ef91c(0x26e)]()['padStart'](0x2,'0')+'\x20'+_0x349180['getHours']()[_0x4ef91c(0x26e)]()[_0x4ef91c(0x19a)](0x2,'0')+':'+_0x349180[_0x4ef91c(0x1a7)]()[_0x4ef91c(0x26e)]()[_0x4ef91c(0x19a)](0x2,'0')+':'+_0x349180['getSeconds']()['toString']()[_0x4ef91c(0x19a)](0x2,'0');}function getTimeStamp(){const _0x42dfea=_0x32bb38,_0x2c23b5=shiftedTime();return _0x2c23b5[_0x42dfea(0x144)]()+'/'+(_0x2c23b5[_0x42dfea(0x10c)]()+0x1)['toString']()[_0x42dfea(0x19a)](0x2,'0')+'/'+_0x2c23b5[_0x42dfea(0x231)]()[_0x42dfea(0x26e)]()['padStart'](0x2,'0')+'\x20'+_0x2c23b5[_0x42dfea(0x272)]()['toString']()[_0x42dfea(0x19a)](0x2,'0')+':'+_0x2c23b5[_0x42dfea(0x1a7)]()[_0x42dfea(0x26e)]()[_0x42dfea(0x19a)](0x2,'0')+':'+_0x2c23b5[_0x42dfea(0x1ee)]()[_0x42dfea(0x26e)]()[_0x42dfea(0x19a)](0x2,'0');}function getDate(){const _0x746c29=_0x32bb38,_0x1d76f7=shiftedTime();return _0x1d76f7[_0x746c29(0x144)]()+'/'+(_0x1d76f7[_0x746c29(0x10c)]()+0x1)[_0x746c29(0x26e)]()[_0x746c29(0x19a)](0x2,'0')+'/'+_0x1d76f7[_0x746c29(0x231)]()['toString']()[_0x746c29(0x19a)](0x2,'0');}function getHour(){const _0x36309d=_0x32bb38,_0x35d969=shiftedTime();return _0x35d969[_0x36309d(0x272)]()[_0x36309d(0x26e)]()[_0x36309d(0x19a)](0x2,'0');}function sleep(_0x199058){return new Promise(_0x5aec0c=>setTimeout(_0x5aec0c,_0x199058));}function shiftedTime(){const _0x3df17d=_0x32bb38,_0x17a47f=new Date();let _0x5703b2=_0x17a47f;if(config&&config[_0x3df17d(0x227)]!==0x0)_0x5703b2=fns[_0x3df17d(0x208)](_0x17a47f,{'hours':config[_0x3df17d(0x227)]});return _0x5703b2;}function timer(_0x4eee55){const _0x2cf1b1=_0x32bb38,_0x2bcb23=new Date();!lasttime?console['log'](getTimeStamp()+_0x2cf1b1(0x104),_0x4eee55,_0x2bcb23):console[_0x2cf1b1(0x22f)](getTimeStamp()+_0x2cf1b1(0x104),_0x4eee55,(_0x2bcb23-lasttime)/0x3e8),lasttime=_0x2bcb23;}