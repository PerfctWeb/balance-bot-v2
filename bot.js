const _0x42de4b=_0x24fb;(function(_0x1e9fef,_0x1af4f7){const _0x5e269e=_0x24fb,_0x36fea3=_0x1e9fef();while(!![]){try{const _0x42a6ea=-parseInt(_0x5e269e(0x197))/0x1+-parseInt(_0x5e269e(0x1e2))/0x2+parseInt(_0x5e269e(0x11c))/0x3+-parseInt(_0x5e269e(0x10d))/0x4+parseInt(_0x5e269e(0x154))/0x5+-parseInt(_0x5e269e(0x12b))/0x6*(parseInt(_0x5e269e(0x1fd))/0x7)+parseInt(_0x5e269e(0x186))/0x8;if(_0x42a6ea===_0x1af4f7)break;else _0x36fea3['push'](_0x36fea3['shift']());}catch(_0x5d05bb){_0x36fea3['push'](_0x36fea3['shift']());}}}(_0x205f,0x5e4ae));const _0x1c81f0=function(){let _0x5a4050=!![];return function(_0x36d4c1,_0x47ab3e){const _0x1a89a6=_0x5a4050?function(){const _0x26c690=_0x24fb;if(_0x47ab3e){const _0x24cd44=_0x47ab3e[_0x26c690(0x206)](_0x36d4c1,arguments);return _0x47ab3e=null,_0x24cd44;}}:function(){};return _0x5a4050=![],_0x1a89a6;};}(),_0x3f8262=_0x1c81f0(this,function(){const _0x53757d=_0x24fb;return _0x3f8262[_0x53757d(0x25b)]()[_0x53757d(0x1f9)](_0x53757d(0x1f0))[_0x53757d(0x25b)]()['constructor'](_0x3f8262)[_0x53757d(0x1f9)]('(((.+)+)+)+$');});_0x3f8262();'use strict';const ccxt=require('ccxt'),low=require(_0x42de4b(0x121)),FileSync=require(_0x42de4b(0x19e)),fs=require('fs'),fns=require(_0x42de4b(0x240)),Crypt=require(_0x42de4b(0x1e5))[_0x42de4b(0x10e)],util=require(_0x42de4b(0x106)),argv=require('yargs/yargs')(process[_0x42de4b(0x1e1)][_0x42de4b(0x203)](0x2))[_0x42de4b(0x1e1)],path=require('path'),axios=require(_0x42de4b(0xed));let exchange;global[_0x42de4b(0x1d4)]={},global[_0x42de4b(0x11f)]={};const usdBasecoins=[_0x42de4b(0xea),_0x42de4b(0x166),_0x42de4b(0x20c),'USDT','USDC',_0x42de4b(0x22b)],debugging=argv['d']||![];let config,markets,allSymbols,currentCoins=[],currentCoinsAll=[],watchedSymbols=[],lastBalances,mybalances,lastPerformanceEmitted,lastPerformanceStored,startingBalances;const ORDERS=Object[_0x42de4b(0x130)]({'LOCKED':0x1,'UNLOCKING':0x2,'UNLOCKED':0x3});let lockOrders=ORDERS[_0x42de4b(0x175)],validateOrdersState,transactionDetected,blockTransactionDetection=![],allOpenOrders,lastOrders=[],lastFees={'recent20':[],'highest':0x0},allOrdersPlaced=!![],cooldownTracker=[],coolingDown=![];const cooldownPeriod=0xe10*0x3e8,cooldownInterval=0x5*0x3c,getBalancesInterval=0xa*0x3e8,pauseBotInterval=0x5*0x3c*0x3e8,pauseBotMsg=_0x42de4b(0x1d1)+pauseBotInterval/0xea60+'\x20minutes',loadCoinsRetryInterval=0x3c*0x3c*0x3e8,validateOrderInterval=0xa*0x3e8,validateOrderTimeout=0x3c,reloadExchangeInterval=0xc*0xe10*0x3e8,watchTransactionsInterval=0x3c*0x3e8,marketCapInterval=0x3c*0x3c*0x3e8,retryInterval=0x3e8,maxRetries=0x5,logPageSize=0x14,defaultFee=0.001;let initialPerformanceStored,wsEventsSet=![],coinsLoaded=![],pidBalances,pidCoinReloading,pidOrdersInitialTimeout,pidOrdersTimeout,pidReloadExchange,pidScheduler,botPaused=![],lastCoinsToBalance='',recreationNeeded=![],exchangeStopped=![],loadingCanceled=![],loadingProgress;const maxLoadingProgress=0x2;let loading={'progress':-0x1,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},lasttime,bots=[],initCycle=0x0;const balanceUpdateDelay=0x3e8,serverversion=require('./version.json')[_0x42de4b(0x27f)],botID=process['argv'][0x2]||_0x42de4b(0x1fe),pattern=/^[0-9]{3}$/;!pattern[_0x42de4b(0x250)](botID)&&(console[_0x42de4b(0x187)](_0x42de4b(0x12f)+botID+_0x42de4b(0x156)),killBot());const userID=process[_0x42de4b(0x1e1)][0x3]||'',configpath=userID?_0x42de4b(0x1f5)+userID+'/':_0x42de4b(0x1f5),logspath=userID?_0x42de4b(0x1b8)+userID+'/':_0x42de4b(0x1b8),loggerfile=fs[_0x42de4b(0x255)](logspath+_0x42de4b(0x16e),{'flags':'a'});!fs[_0x42de4b(0x230)](configpath)&&fs[_0x42de4b(0x251)](configpath);!fs[_0x42de4b(0x230)](logspath)&&fs[_0x42de4b(0x251)](logspath);const configfile=configpath+_0x42de4b(0x27a)+botID+_0x42de4b(0x101),logfile=configpath+'bot-'+botID+'-events.json',performancefile=configpath+_0x42de4b(0x27a)+botID+_0x42de4b(0x189),coinresultsfile=configpath+_0x42de4b(0x27a)+botID+_0x42de4b(0x1c5),settingsfile=configpath+_0x42de4b(0x129),securefile=configpath+_0x42de4b(0x169),configbackuppath=configpath+'/backup/',adapter=new FileSync(logfile),dbLogs=low(adapter);dbLogs['defaults']({'logs':[],'version':serverversion})[_0x42de4b(0x140)]();const adapter2=new FileSync(performancefile),dbPerformance=low(adapter2);dbPerformance['defaults']({'data':[],'version':serverversion})[_0x42de4b(0x140)]();const adapter3=new FileSync(configfile),dbConfig=low(adapter3);dbConfig[_0x42de4b(0x1bb)]({'bot':[],'version':serverversion})[_0x42de4b(0x140)]();const adapter4=new FileSync(coinresultsfile),dbCoinResults=low(adapter4);dbCoinResults[_0x42de4b(0x1bb)]({'coins':[],'version':serverversion})[_0x42de4b(0x140)]();const adapter5=new FileSync(settingsfile),dbSettings=low(adapter5),adapter6=new FileSync(securefile),dbSecure=low(adapter6);let stablecoins,lastErrorShown,lastBotPause=![],consecutivePauses=0x0;const crypt=new Crypt({'md':_0x42de4b(0x17e),'rsaStandard':_0x42de4b(0x13a)});let settings=getSettings(),secure=getSecure();oneTimeMigration(),config=getConfiguration(botID);const logger={'screen':_0x593aba=>{const _0x1655e0=_0x42de4b;console[_0x1655e0(0x187)](_0x593aba);},'simple':_0x10378a=>{const _0x3a563f=_0x42de4b;console[_0x3a563f(0x187)](_0x10378a),loggerfile[_0x3a563f(0x140)](util[_0x3a563f(0x222)](_0x10378a)+'\x0a');},'full':async(_0x27a483,_0x3c757c='')=>{const _0x39db75=_0x42de4b;let _0x5e5248;if(config[_0x39db75(0x141)])_0x5e5248=getTimeStamp()+':\x20'+config['botname']+_0x39db75(0x25f)+_0x27a483;else _0x5e5248=getTimeStamp()+_0x39db75(0xf7)+botID+_0x39db75(0x25f)+_0x27a483;console[_0x39db75(0x187)](_0x5e5248),loggerfile[_0x39db75(0x140)](util['format'](_0x5e5248)+'\x0a'),_0x3c757c&&(console[_0x39db75(0x187)](_0x3c757c),loggerfile['write'](util['format'](_0x3c757c)+'\x0a'));},'debug':async(_0x2762c4,_0x1113fe='')=>{const _0x3a602d=_0x42de4b;let _0x124e57;if(config[_0x3a602d(0x141)])_0x124e57=getTimeStamp()+':\x20'+config['botname']+'\x20>\x20[DEBUG]\x20'+_0x2762c4;else _0x124e57=getTimeStamp()+_0x3a602d(0xf7)+botID+_0x3a602d(0x277)+_0x2762c4;if(debugging)console['log'](_0x124e57);loggerfile[_0x3a602d(0x140)](util[_0x3a602d(0x222)](_0x124e57)+'\x0a');if(_0x1113fe){if(debugging)console[_0x3a602d(0x187)](_0x1113fe);loggerfile[_0x3a602d(0x140)](util[_0x3a602d(0x222)](_0x1113fe)+'\x0a');}}};process['on'](_0x42de4b(0x273),function(_0x137be0){handleError(_0x137be0,'uncaughtException');});settings[_0x42de4b(0xfd)]!=config[_0x42de4b(0xfd)]&&updateTimeshift(settings[_0x42de4b(0xfd)]);settings[_0x42de4b(0x14c)]!=config[_0x42de4b(0x14c)]&&updateOnepagemode(settings[_0x42de4b(0x14c)]);(settings[_0x42de4b(0x265)]&&!config[_0x42de4b(0x265)]||!settings[_0x42de4b(0x265)]&&config['marketcapApi'])&&updateMarketcapApi(settings[_0x42de4b(0x265)]);process['send']({'started':_0x42de4b(0x202)},_0x29e257=>{}),initializeProcessListeners();function proxyEmit(_0x388312,_0xd9bc2f=null){const _0x302290=_0x42de4b;process[_0x302290(0x145)]({'function':_0x388312,'args':_0xd9bc2f},_0x2a38ed=>{});}function initializeProcessListeners(){const _0x65c796=_0x42de4b;process['on'](_0x65c796(0x163),_0x1ea26c=>{const _0x1866d8=_0x65c796;switch(Object[_0x1866d8(0x158)](_0x1ea26c)[0x0]){case _0x1866d8(0xfd):_0x1ea26c['timeshift']!=undefined&&(settings['timeshift']=_0x1ea26c[_0x1866d8(0xfd)],updateTimeshift(settings[_0x1866d8(0xfd)]));break;case _0x1866d8(0x14c):_0x1ea26c[_0x1866d8(0x14c)]!=undefined&&(settings[_0x1866d8(0x14c)]=_0x1ea26c[_0x1866d8(0x14c)],updateOnepagemode(settings[_0x1866d8(0x14c)]));break;case _0x1866d8(0x265):_0x1ea26c[_0x1866d8(0x265)]!=undefined&&(settings[_0x1866d8(0x265)]=_0x1ea26c[_0x1866d8(0x265)],updateMarketcapApi(settings[_0x1866d8(0x265)]));break;case'bots':_0x1ea26c[_0x1866d8(0x237)]!=undefined&&(bots=JSON[_0x1866d8(0x111)](_0x1ea26c[_0x1866d8(0x237)]),proxyEmit('bots',bots));break;case _0x1866d8(0x15e):switch(_0x1ea26c[_0x1866d8(0x15e)]){case _0x1866d8(0x286):initclient();break;case _0x1866d8(0x241):toggleBotMode();break;case _0x1866d8(0x1a3):emitHistory(_0x1ea26c[_0x1866d8(0x15c)]);break;case _0x1866d8(0x217):deleteHistoryAlerts(_0x1ea26c['args']);break;case _0x1866d8(0x1ac):getPortfolio(_0x1ea26c['args']);break;case'storeConfiguration':storeConfiguration(_0x1ea26c[_0x1866d8(0x15c)]);break;case _0x1866d8(0x181):storeHeadless(_0x1ea26c[_0x1866d8(0x15c)]);break;case _0x1866d8(0x194):storeFiat(_0x1ea26c[_0x1866d8(0x15c)]);break;case'resetHistory':resetHistory();break;case _0x1866d8(0x25a):getStartingBalances(getNormalizedPerformance());break;case'placeOrder':placeOrder(_0x1ea26c[_0x1866d8(0x15c)]);break;case _0x1866d8(0x142):cancelLoading();break;case _0x1866d8(0x247):showConfig();break;case'sendMetricsTelegram':sendMetricsTelegram();break;case _0x1866d8(0x260):sendPortfolioTelegram();break;}}});}startScheduler(),reset(!![]);async function reset(_0xd759e9=![]){const _0x1ec71b=_0x42de4b;logger['debug'](_0x1ec71b(0x1ab)+(_0xd759e9?'exchange\x20reloaded':_0x1ec71b(0x17d))+'\x20|\x20exchange:\x20'+config[_0x1ec71b(0x23a)]);if(pidBalances)clearTimeout(pidBalances);if(!_0xd759e9)lastCoinsToBalance='';coinsLoaded=![];if(config[_0x1ec71b(0x26c)]!=''&&config[_0x1ec71b(0x26c)]!=_0x1ec71b(0x236)){loadingProgress=0x0;if(_0xd759e9){if(pidCoinReloading)clearTimeout(pidCoinReloading);if(pidReloadExchange)clearTimeout(pidReloadExchange);await initExchange();try{await loadSymbols();}catch(_0x2a01bd){handleErrorNoStop(_0x2a01bd,'loadSymbols()');return;}loadingProgress=0x1,setStableCoins(),initialPerformanceStored=![];}const _0x4d2f8c=await getCoins();[currentCoins,currentCoinsAll]=_0x4d2f8c,getMarketCap(),loadingProgress=maxLoadingProgress,await initwsCcxt(),exchangeStopped=![],pidReloadExchange=setTimeout(reloadExchange,reloadExchangeInterval);while(!coinsLoaded){await sleep(0x64);}logger[_0x1ec71b(0x179)](_0x1ec71b(0x1cc)),getBalances(![]),await updateOpenOrders();if(lastOrders[_0x1ec71b(0x21f)]==0x0&&allOpenOrders['length']!=0x0)restoreOrders();persistOpenOrders(lastOrders),getBalances();if(recreationNeeded)await recreateCoinResults();}}async function getMarketCap(_0x32c7d5){const _0x12210c=_0x42de4b;let _0x9ef029=![];if(_0x32c7d5)_0x9ef029=!![];let _0x2ca116;_0x9ef029?_0x2ca116=_0x32c7d5['map'](_0x7ef4f2=>_0x7ef4f2[_0x12210c(0x160)]):_0x2ca116=currentCoinsAll[_0x12210c(0x124)](_0xe773b2=>_0xe773b2[_0x12210c(0x160)]);if(!config[_0x12210c(0x265)]||!_0x9ef029&&!config[_0x12210c(0x12c)]||_0x2ca116['length']==0x0)return;let _0x4aa9c7=null;try{_0x4aa9c7=await axios[_0x12210c(0x232)](_0x12210c(0x167),{'headers':{'X-CMC_PRO_API_KEY':settings[_0x12210c(0x265)]},'params':{'symbol':_0x2ca116['toString']()}});}catch(_0x9c443){_0x4aa9c7=null,_0x9c443[_0x12210c(0x25b)]()['includes'](_0x12210c(0x20b))?(config[_0x12210c(0x265)]=![],updateConfig(),proxyEmit(_0x12210c(0x185),emittedConfiguration()),logHistory(_0x12210c(0xe6),'CoinMarketCap\x20API\x20key\x20is\x20invalid\x20-\x20enter\x20your\x20API\x20key\x20in\x20the\x20Bot\x20Manager')):(logHistory('error',_0x12210c(0x1c9)+marketCapInterval/(0x3c*0x3e8)+_0x12210c(0x12a)),logger[_0x12210c(0x179)](_0x12210c(0x11a),_0x9c443[_0x12210c(0x25b)]()+_0x12210c(0x1d5)+_0x9c443['code']));}if(_0x4aa9c7){let _0x4f03f5=0x0;const _0x1738d3=_0x4aa9c7['data'];_0x2ca116[_0x12210c(0x18d)](_0x1cf1e3=>{const _0xa6d159=_0x12210c;_0x4f03f5+=_0x1738d3[_0xa6d159(0xf0)][_0x1cf1e3][0x0]['quote']['USD']['market_cap'];}),_0x2ca116[_0x12210c(0x18d)](_0x4845de=>{const _0x53623c=_0x12210c,_0x7079c5=_0x1738d3[_0x53623c(0xf0)][_0x4845de][0x0][_0x53623c(0x26a)]['USD'][_0x53623c(0x116)];if(_0x9ef029){const _0x52616c=_0x32c7d5[_0x53623c(0x266)](_0x6bd58f=>_0x6bd58f[_0x53623c(0x160)]==_0x4845de);_0x52616c&&(_0x52616c[_0x53623c(0x126)]=_0x7079c5);}else{const _0x5aa557=currentCoins[_0x53623c(0x266)](_0x39cf90=>_0x39cf90[_0x53623c(0x160)]==_0x4845de);_0x5aa557&&(_0x5aa557[_0x53623c(0x126)]=_0x7079c5);const _0x2b230f=currentCoinsAll[_0x53623c(0x266)](_0x89901b=>_0x89901b[_0x53623c(0x160)]==_0x4845de);_0x2b230f&&(_0x2b230f[_0x53623c(0x126)]=_0x7079c5);}}),!_0x9ef029&&updateTargetDistribution();}}function updateTargetDistribution(){const _0x1face6=_0x42de4b,_0x407e67=0x2;let _0x236232=0x0,_0x2ea43a=0x0,_0x49a091=0x0,_0x328e9d=0x0;config[_0x1face6(0x102)][_0x1face6(0x18d)](_0x41ed04=>{const _0x34d56e=_0x1face6;if(!_0x41ed04['excluded']){_0x49a091++,_0x236232+=_0x41ed04[_0x34d56e(0xf8)];if(_0x41ed04[_0x34d56e(0xf8)]===-0x1){_0x236232++;const _0x44c9a8=currentCoinsAll[_0x34d56e(0x266)](_0x10fc60=>_0x10fc60[_0x34d56e(0x160)]==_0x41ed04[_0x34d56e(0x160)]);_0x44c9a8&&(_0x328e9d+=_0x44c9a8[_0x34d56e(0x126)]);}if(_0x41ed04[_0x34d56e(0xf8)]!==-0x1)_0x2ea43a++;}});let _0x4c8ad3;const _0x131895=0x64-_0x236232,_0x350b14=_0x49a091-_0x2ea43a;_0x4c8ad3=_0x350b14===0x0?_0x236232:Math['max'](0x64,_0x236232),config['portfolio']['forEach'](_0x3e824d=>{const _0x207ec5=_0x1face6,_0xe46024=currentCoinsAll[_0x207ec5(0x266)](_0x5908b1=>_0x5908b1['coin']==_0x3e824d['coin']);_0xe46024&&(_0x3e824d[_0x207ec5(0x126)]=_0xe46024[_0x207ec5(0x126)]),!_0x3e824d[_0x207ec5(0x1f4)]&&(_0x4c8ad3<=0x64&&(_0x3e824d[_0x207ec5(0xf8)]===-0x1&&(_0x328e9d!==0x0&&config[_0x207ec5(0x12c)]&&(_0xe46024&&(_0x3e824d[_0x207ec5(0x19d)]=(_0x131895/(_0x328e9d/_0xe46024[_0x207ec5(0x126)]))[_0x207ec5(0x118)](_0x407e67))))));}),updateConfig();}function updateConfig(){const _0x56daed=_0x42de4b;let _0x39c09c=dbConfig['get'](_0x56daed(0x146))[_0x56daed(0x266)]({'botID':botID})['value']();_0x39c09c&&dbConfig['get'](_0x56daed(0x146))[_0x56daed(0x266)]({'botID':botID})['assign'](config)[_0x56daed(0x140)]();}function startScheduler(){getMarketCap();if(pidScheduler)clearTimeout(pidScheduler);pidScheduler=setTimeout(()=>{startScheduler();},marketCapInterval);}async function stopExchange(){const _0xa3f1=_0x42de4b;exchangeStopped=!![];try{await exchange['close']();}catch(_0x407930){await handleError(_0x407930,_0xa3f1(0x1d2));}}async function reloadExchange(){const _0x4b9feb=_0x42de4b;while(lockOrders!=ORDERS[_0x4b9feb(0x175)]||coolingDown){await sleep(0x3c*0x3e8);}logger[_0x4b9feb(0x179)](_0x4b9feb(0x1d3)),exchange&&await stopExchange(),reset(!![]);}async function initExchange(_0x4a6ffc=config[_0x42de4b(0x23a)],_0x536a12=config[_0x42de4b(0x26c)],_0x372c23=config[_0x42de4b(0x224)],_0x2829e0=config[_0x42de4b(0x18c)]){const _0x5caa05=_0x42de4b;exchange&&await stopExchange();!supportedExchanges()[_0x5caa05(0x157)](_0x4a6ffc)&&(logHistory('error',_0x5caa05(0x135)+_0x4a6ffc+_0x5caa05(0x1a9)),killBot());const _0x5211f1=ccxt['pro'][_0x4a6ffc[_0x5caa05(0x281)]()];exchange=new _0x5211f1({'apiKey':_0x536a12,'secret':_0x372c23,'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x5caa05(0x16a)}});if(_0x2829e0)exchange[_0x5caa05(0x268)]=_0x2829e0;}function setStableCoins(){const _0x135faa=_0x42de4b;let _0x3253eb=config[_0x135faa(0x155)]==_0x135faa(0xec)?'ETH':config[_0x135faa(0x155)]==_0x135faa(0xeb)?_0x135faa(0xeb):_0x135faa(0xe3),_0x3df857=!allSymbols[_0x135faa(0x157)](_0x3253eb+_0x135faa(0x12d))?_0x135faa(0x136):'USD',_0x4446ec=!allSymbols[_0x135faa(0x157)](_0x3253eb+_0x135faa(0x1b6))?_0x3df857:_0x135faa(0x1ef);stablecoins={'eur':{'coin':''+_0x3253eb+_0x4446ec,'symbol':_0x3253eb+'/'+_0x4446ec},'usd':{'coin':''+_0x3253eb+_0x3df857,'symbol':_0x3253eb+'/'+_0x3df857}};}async function initwsCcxt(){const _0x46a75d=_0x42de4b;initCycle++;const _0x55ab1d=initCycle;let _0x562924=[];config[_0x46a75d(0x102)]['forEach'](_0x469f7e=>{const _0x223c73=_0x46a75d;if(!_0x469f7e['excluded']&&_0x469f7e[_0x223c73(0x160)]!=config['basecoin'])_0x562924['push'](_0x469f7e[_0x223c73(0x119)]);});if(!_0x562924[_0x46a75d(0x157)](stablecoins[_0x46a75d(0x221)]['symbol']))_0x562924[_0x46a75d(0x25e)](stablecoins['eur'][_0x46a75d(0x119)]);if(!_0x562924['includes'](stablecoins[_0x46a75d(0x103)][_0x46a75d(0x119)]))_0x562924[_0x46a75d(0x25e)](stablecoins[_0x46a75d(0x103)][_0x46a75d(0x119)]);if(config['exchange'][_0x46a75d(0x1dd)](_0x46a75d(0x23b))&&config[_0x46a75d(0x155)]!=_0x46a75d(0xeb)){if(!_0x562924[_0x46a75d(0x157)](_0x46a75d(0x12e)+config['basecoin']))_0x562924['push'](_0x46a75d(0x12e)+config[_0x46a75d(0x155)]);}loadCoins(_0x562924),_0x562924=validateSymbols(_0x562924);const _0x536fcc=async _0x47f945=>{const _0x234dcc=_0x46a75d;let _0xdd18ea;try{const _0xd4f16a=await getTickers(_0x47f945);Object[_0x234dcc(0x23d)](_0xd4f16a)['forEach'](_0x2c4884=>{const _0x39f5e0=_0x234dcc;_0xdd18ea=_0x2c4884[0x1][_0x39f5e0(0x119)],global[_0x39f5e0(0x1d4)][noslash(_0xdd18ea)]=_0x2c4884[0x1][_0x39f5e0(0x15f)],global[_0x39f5e0(0x11f)][_0xdd18ea]=_0x2c4884[0x1]['percentage'];});}catch(_0x4804c2){await handleError(_0x4804c2,_0x234dcc(0x125),_0xdd18ea);}},_0x33bbd5=async _0x2c1b7e=>{const _0x5bce59=_0x46a75d;while(initCycle==_0x55ab1d){if(!botPaused)try{const _0x51e7f5=await exchange['watchTrades'](_0x2c1b7e);global[_0x5bce59(0x1d4)][noslash(_0x51e7f5[0x0][_0x5bce59(0x119)])]=_0x51e7f5[0x0]['price'],await sleep(0x3e8);}catch(_0x421d83){if(!exchangeStopped)await handleError(_0x421d83,_0x5bce59(0x137),_0x2c1b7e);}else await sleep(0x64);}},_0x5eec76=async _0x4f8390=>{const _0x568e41=_0x46a75d;while(initCycle==_0x55ab1d){if(!botPaused){let _0x4ff5c8;try{await sleep(0x3c*0x3e8);const _0x5b126f=await getTickers(_0x4f8390);Object[_0x568e41(0x23d)](_0x5b126f)['forEach'](_0x53f4fe=>{const _0x579f1f=_0x568e41;_0x4ff5c8=_0x53f4fe[0x1][_0x579f1f(0x119)],global[_0x579f1f(0x11f)][_0x4ff5c8]=_0x53f4fe[0x1][_0x579f1f(0xe4)];});}catch(_0x3871b6){if(!exchangeStopped)await handleError(_0x3871b6,_0x568e41(0x225),_0x4ff5c8);}}else await sleep(0x64);}},_0x280b3c=async _0x4266e7=>{const _0x55bcb2=_0x46a75d;while(initCycle==_0x55ab1d){if(!botPaused)try{const _0x19ab1c=await exchange[_0x55bcb2(0x198)](_0x4266e7);initCycle==_0x55ab1d&&_0x19ab1c[_0x55bcb2(0x18d)](_0x5a1876=>{updateNumberCoinsCcxt(_0x5a1876);});}catch(_0x31f556){if(!exchangeStopped)await handleError(_0x31f556,_0x55bcb2(0x257));}else await sleep(0x64);}};_0x536fcc(_0x562924),_0x5eec76(_0x562924),_0x562924[_0x46a75d(0x18d)](_0x2bc8bb=>{_0x33bbd5(_0x2bc8bb),_0x280b3c(_0x2bc8bb);}),!wsEventsSet&&(wsEventsSet=!![],watchTransactions());}async function getTickers(_0x294c45){const _0x581ad5=_0x42de4b;let _0x26c36f={};try{if(config[_0x581ad5(0x23a)]!=_0x581ad5(0x205))_0x26c36f=await exchange['fetchTickers'](_0x294c45);else for(const _0x3e5a55 of _0x294c45){const _0x1a4d1d=await exchange[_0x581ad5(0x1fc)](_0x3e5a55);_0x26c36f[_0x3e5a55]=_0x1a4d1d;}return _0x26c36f;}catch(_0x9ed85f){throw _0x9ed85f;}}async function watchTransactions(){const _0x30b7bb=_0x42de4b;await sleep(0x14*0x3e8),transactionDetected=![];while(!![]){if(!botPaused&&!blockTransactionDetection&&coinsLoaded)try{const _0x1f3e31=await getCoins(),[_0x289049,_0x833d10]=_0x1f3e31;let _0x207309=[];currentCoins['forEach'](_0x51d08b=>{const _0x5ce7c7=_0x24fb,_0x3e9837=_0x289049[_0x5ce7c7(0x266)](_0x38fe26=>_0x38fe26[_0x5ce7c7(0x160)]==_0x51d08b[_0x5ce7c7(0x160)]);if(_0x3e9837){if(_0x51d08b['number']!=_0x3e9837['number']){let _0x3695c0;if(_0x51d08b['coin']!=config['basecoin']){const _0x56731c=global[_0x5ce7c7(0x1d4)][noslash(_0x51d08b[_0x5ce7c7(0x119)])];_0x3695c0=_0x51d08b['reverse']?0x1/_0x56731c:_0x56731c;}else _0x3695c0=0x1;_0x207309[_0x5ce7c7(0x25e)]({'coin':_0x51d08b['coin'],'symbol':_0x51d08b[_0x5ce7c7(0x119)],'price':_0x3695c0,'number':Number(formatResult(_0x3e9837[_0x5ce7c7(0x196)]-_0x51d08b[_0x5ce7c7(0x196)],0x8)),'basecoinvalue':_0x3695c0*(_0x3e9837[_0x5ce7c7(0x196)]-_0x51d08b[_0x5ce7c7(0x196)])});}}});if(_0x207309['length']==0x1&&!blockTransactionDetection){if(config[_0x30b7bb(0x256)]){logger['debug'](_0x30b7bb(0x215)+_0x207309[0x0]['basecoinvalue']+_0x30b7bb(0x254)+lastFees['highest']);if(lastFees[_0x30b7bb(0x14e)]==0x0||Math[_0x30b7bb(0x1f8)](_0x207309[0x0][_0x30b7bb(0x122)])>lastFees[_0x30b7bb(0x14e)]){delete _0x207309[0x0][_0x30b7bb(0x119)],delete _0x207309[0x0]['basecoinvalue'];let _0xaf2c03=[],_0xd654d3=[...config[_0x30b7bb(0x234)]]||[],_0x51ec68=config[_0x30b7bb(0x234)];_0xd654d3[_0x30b7bb(0x107)]((_0x11b211,_0x139b53)=>_0x11b211[_0x30b7bb(0x1dc)]>_0x139b53[_0x30b7bb(0x1dc)]?-0x1:_0x139b53[_0x30b7bb(0x1dc)]>_0x11b211['date']?0x1:0x0);const _0x5520cd=getDate();if(_0xd654d3[0x0]){const _0x5a3523=fns[_0x30b7bb(0x111)](_0xd654d3[0x0][_0x30b7bb(0x1dc)],_0x30b7bb(0x19f),new Date()),_0xb6ce96=fns[_0x30b7bb(0x111)](_0x5520cd,_0x30b7bb(0x19f),new Date());if(fns[_0x30b7bb(0x172)](_0x5a3523,_0xb6ce96)){_0xaf2c03=_0xd654d3[0x0]['changes'];const _0x43f01c=_0xaf2c03[_0x30b7bb(0x266)](_0x1810d7=>_0x1810d7[_0x30b7bb(0x160)]==_0x207309[0x0][_0x30b7bb(0x160)]);_0x43f01c?(_0x43f01c[_0x30b7bb(0x196)]+=_0x207309[0x0]['number'],_0x43f01c['number']==0x0&&(_0xaf2c03=_0xaf2c03[_0x30b7bb(0x242)](_0x46602c=>{const _0x1b6046=_0x30b7bb;return _0x46602c[_0x1b6046(0x160)]!=_0x207309[0x0][_0x1b6046(0x160)];}))):_0xaf2c03[_0x30b7bb(0x25e)](_0x207309[0x0]);const _0x31b5ca=_0x51ec68[_0x30b7bb(0x266)](_0x4afb28=>_0x4afb28[_0x30b7bb(0x1dc)]==_0x5520cd);_0x31b5ca[_0x30b7bb(0x1e7)]=_0xaf2c03;}else _0x51ec68[_0x30b7bb(0x25e)]({'date':_0x5520cd,'changes':[_0x207309[0x0]]});}const _0x97fbd6=_0x51ec68['find'](_0x331287=>_0x331287[_0x30b7bb(0x1dc)]==_0x5520cd);if(_0x97fbd6){let _0x26f212=!![];_0x97fbd6[_0x30b7bb(0x1e7)][_0x30b7bb(0x18d)](_0x54fa84=>{const _0x38a4ed=_0x30b7bb;if(_0x54fa84[_0x38a4ed(0x196)]!=0x0)_0x26f212=![];}),_0x26f212&&(_0x51ec68=_0x51ec68[_0x30b7bb(0x242)](_0x40bd97=>{return _0x40bd97['date']!=_0x5520cd;}));}let _0x14d602=dbConfig[_0x30b7bb(0x232)](_0x30b7bb(0x146))[_0x30b7bb(0x266)]({'botID':botID})['value']();_0x14d602&&(dbConfig[_0x30b7bb(0x232)]('bot')[_0x30b7bb(0x266)]({'botID':botID})[_0x30b7bb(0x23e)]({'liquidity':_0x51ec68})['write'](),config['liquidity']=_0x51ec68),logHistory('success',_0x30b7bb(0x229)+Math[_0x30b7bb(0x1f8)](_0x207309[0x0][_0x30b7bb(0x196)])+'\x20'+_0x207309[0x0]['coin']+'\x20'+(_0x207309[0x0]['number']>0x0?_0x30b7bb(0x1e3):_0x30b7bb(0x1c8))+_0x30b7bb(0x1e4)),proxyEmit('configuration',emittedConfiguration());}else logger['debug'](_0x30b7bb(0x269)+Math['abs'](_0x207309[0x0][_0x30b7bb(0x196)])+'\x20'+_0x207309[0x0][_0x30b7bb(0x160)]+'\x20'+(_0x207309[0x0][_0x30b7bb(0x196)]>0x0?_0x30b7bb(0x1e3):'removed'));transactionDetected=!![];}else logger['debug'](_0x30b7bb(0x229)+Math['abs'](_0x207309[0x0][_0x30b7bb(0x196)])+'\x20'+_0x207309[0x0][_0x30b7bb(0x160)]+'\x20'+(_0x207309[0x0][_0x30b7bb(0x196)]>0x0?_0x30b7bb(0x1e3):_0x30b7bb(0x1c8))+'\x20-\x20but\x20auto\x20adjusting\x20liquidity\x20is\x20disabled');}currentCoins=_0x289049,currentCoinsAll=_0x833d10,await sleep(watchTransactionsInterval);}catch(_0x518e4c){if(!exchangeStopped)await handleError(_0x518e4c,_0x30b7bb(0x150));}else await sleep(0x64);}}async function loadSymbols(){const _0xc443ed=_0x42de4b;try{markets=await exchange[_0xc443ed(0x14a)](),allSymbols=[],Object[_0xc443ed(0x23d)](markets)[_0xc443ed(0x18d)](_0x353045=>{const _0x2893c6=_0xc443ed;_0x353045[0x1][_0x2893c6(0x1af)]&&_0x353045[0x1][_0x2893c6(0x16a)]&&allSymbols[_0x2893c6(0x25e)](_0x353045[0x0]);});}catch(_0x3915cc){throw _0x3915cc;}}function validateSymbols(_0x5e4e4f){let _0x51b9b8=[];return _0x5e4e4f['forEach'](_0x31408c=>{const _0x335abd=_0x24fb;!allSymbols['includes'](_0x31408c)?logHistory('error',_0x335abd(0x24c)+_0x31408c+_0x335abd(0x1e8)):_0x51b9b8[_0x335abd(0x25e)](_0x31408c);}),_0x51b9b8;}async function initclient(){const _0x3eeaf1=_0x42de4b;proxyEmit(_0x3eeaf1(0x185),emittedConfiguration()),proxyEmit(_0x3eeaf1(0x226),supportedExchanges()),emitLoadingProgress();while(!coinsLoaded){await sleep(0xc8);}if(lastBalances)proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});emitHistory();const _0xf2dd89=getNormalizedPerformance();emitPerformance(_0xf2dd89),getStartingBalances(_0xf2dd89);}async function toggleBotMode(){const _0x46b710=_0x42de4b;let _0x31cf40=dbConfig[_0x46b710(0x232)](_0x46b710(0x146))[_0x46b710(0x266)]({'botID':botID})['value']();if(_0x31cf40){const _0x288aa4=!_0x31cf40['headless'];dbConfig['get'](_0x46b710(0x146))['find']({'botID':botID})['assign']({'headless':_0x288aa4})[_0x46b710(0x140)](),config[_0x46b710(0x159)]=_0x288aa4,proxyEmit(_0x46b710(0x185),emittedConfiguration()),updateBotManager();}}function updateBotManager(){const _0x52e82d=_0x42de4b;process[_0x52e82d(0x145)]({'updatebotmanager':!![]},_0x4c877c=>{}),logger[_0x52e82d(0x179)](_0x52e82d(0x208)+config[_0x52e82d(0x159)]);}async function loadCoins(_0x352bf6){const _0x19c1f5=_0x42de4b;loading={'progress':0x0,'remainingSymbols':[],'timeout':![],'cancel':![],'error':![]},emitLoadingProgress();let _0x4a11a3,_0x199a43=0x0,_0x160103=0x0;_0x352bf6[_0x19c1f5(0x18d)](_0x4dd854=>{const _0x572399=_0x19c1f5;loading[_0x572399(0x171)]['push'](_0x4dd854);}),loadingCanceled=![];let _0x21900f=![];while(_0x4a11a3!=_0x352bf6[_0x19c1f5(0x21f)]+maxLoadingProgress){_0x4a11a3=loadingProgress,_0x352bf6[_0x19c1f5(0x18d)](_0x40e5ca=>{const _0x25a30d=_0x19c1f5;if(global[_0x25a30d(0x1d4)][noslash(_0x40e5ca)]){loading[_0x25a30d(0x171)]=loading['remainingSymbols'][_0x25a30d(0x242)](_0x1b8d7d=>_0x1b8d7d!=_0x40e5ca);if(!watchedSymbols[_0x25a30d(0x157)](_0x40e5ca))watchedSymbols[_0x25a30d(0x25e)](_0x40e5ca);_0x4a11a3++;}}),loading[_0x19c1f5(0x21b)]=Math[_0x19c1f5(0x1ee)](_0x4a11a3/(_0x352bf6[_0x19c1f5(0x21f)]+maxLoadingProgress)*0x64);loading[_0x19c1f5(0x21b)]!=0x64&&(_0x160103>0x1e*0x5&&(loading[_0x19c1f5(0x276)]=!![],emitLoadingProgress()),_0x160103>0x78*0x5&&!_0x21900f&&(_0x21900f=!![],logHistory(_0x19c1f5(0xe6),'Failed\x20to\x20load\x20coin\x20data\x20for\x20'+loading[_0x19c1f5(0x171)]['join'](',\x20')+'\x20-\x20bot\x20not\x20started'),logHistory(_0x19c1f5(0xe6),_0x19c1f5(0x16d)+loadCoinsRetryInterval/0xea60+'\x20minutes,\x20then\x20restarting\x20bot\x20to\x20try\x20again'),loadingCanceled=!![],pidCoinReloading=setTimeout(()=>{const _0x1c3080=_0x19c1f5;process[_0x1c3080(0x145)]({'stop':_0x1c3080(0x14b)},_0xf0a27b=>{});},loadCoinsRetryInterval)));if(loadingCanceled){loading[_0x19c1f5(0x24e)]=!![],emitLoadingProgress();break;}else _0x199a43!=loading['progress']&&(_0x199a43=loading[_0x19c1f5(0x21b)],emitLoadingProgress()),_0x160103++,await sleep(0xc8);}_0x4a11a3==_0x352bf6[_0x19c1f5(0x21f)]+maxLoadingProgress&&(coinsLoaded=!![],process['send']({'status':'enabled','live':_0x19c1f5(0x202)},_0x2a5441=>{}),_0x21900f&&logHistory('success','All\x20coin\x20data\x20loaded\x20-\x20bot\x20started'));}function cancelLoading(){loadingCanceled=!![];}function showConfig(){const _0x104e4b=_0x42de4b;proxyEmit(_0x104e4b(0x185),{...emittedConfiguration(),'configstate':'loading-canceled'});}function emitLoadingProgress(){const _0x1b375f=_0x42de4b;proxyEmit(_0x1b375f(0x104),loading);}async function getFiat(){const _0x3c8a26=_0x42de4b;let _0x20c4c1=global[_0x3c8a26(0x1d4)][stablecoins[_0x3c8a26(0x221)][_0x3c8a26(0x160)]],_0x37bee9=global[_0x3c8a26(0x1d4)][stablecoins[_0x3c8a26(0x103)][_0x3c8a26(0x160)]];return{'eur':Number(_0x20c4c1),'usd':Number(_0x37bee9)};}function capitalize(_0x501e6c){const _0x2e1cb6=_0x42de4b;return _0x501e6c[_0x2e1cb6(0x20e)](0x0,0x1)['toUpperCase']()+_0x501e6c[_0x2e1cb6(0x20e)](0x1);}function supportedExchanges(){const _0x2d0af7=_0x42de4b,_0xc4590a=['ws',_0x2d0af7(0x227),_0x2d0af7(0x1fc),'watchTrades',_0x2d0af7(0x198),_0x2d0af7(0x1e9),_0x2d0af7(0x19b),_0x2d0af7(0xe1),_0x2d0af7(0xf2),_0x2d0af7(0x259)];let _0x4c1b36=[],_0x20871c=[],_0x2e1ff5=ccxt['pro']['exchanges'];_0x2e1ff5[_0x2d0af7(0x18d)](_0x2704a1=>{const _0xd9e2da=_0x2d0af7;try{const _0x2acd58=new ccxt[(_0xd9e2da(0x1eb))][_0x2704a1]();_0x20871c['push'](_0x2acd58);}catch(_0x2b7cc2){}}),_0x20871c[_0x2d0af7(0x18d)](_0xaea8fe=>{const _0x309757=_0x2d0af7;let _0x557a84=0x0;_0xc4590a[_0x309757(0x18d)](_0x8a62d8=>{const _0x390f6e=_0x309757;_0x8a62d8 in _0xaea8fe[_0x390f6e(0xf3)]&&_0xaea8fe[_0x390f6e(0xf3)][_0x8a62d8]&&_0x557a84++;}),_0x557a84==_0xc4590a[_0x309757(0x21f)]&&_0x4c1b36[_0x309757(0x25e)](capitalize(_0xaea8fe['id']));});let _0x16e1f6=[];return _0x2e1ff5[_0x2d0af7(0x18d)](_0x20e33d=>{const _0x23edf4=_0x2d0af7;_0x20e33d=capitalize(_0x20e33d);if(!_0x4c1b36[_0x23edf4(0x157)](_0x20e33d))_0x16e1f6[_0x23edf4(0x25e)](_0x20e33d);}),_0x4c1b36;}function setStartDatePerformance(){const _0x46f92d=_0x42de4b;if(config&&config[_0x46f92d(0x234)][0x0][_0x46f92d(0x1e7)][_0x46f92d(0x21f)]!=0x0){const _0x139579=config[_0x46f92d(0x234)][0x0][_0x46f92d(0x1e7)];dbPerformance[_0x46f92d(0x232)](_0x46f92d(0xf0))['find']({'date':config['startdate']})[_0x46f92d(0x23e)]({'coins':_0x139579})[_0x46f92d(0x140)]();}}async function recreateCoinResults(){const _0x369e67=_0x42de4b;let _0x12e8a4,_0x33ad8c=[];try{const _0x16c645=fns['format'](fns[_0x369e67(0x17b)](config[_0x369e67(0x258)]['replace'](/\//g,'-')),_0x369e67(0x1de));for(const _0x535db4 of currentCoins){if(_0x535db4['coin']!=config[_0x369e67(0x155)]){let _0x37a1f7=0x0,_0x1fac32,_0x5c43cc;_0x12e8a4=await getAllEventOrders(_0x535db4[_0x369e67(0x119)]);if(_0x12e8a4[_0x369e67(0x21f)]>0x0)_0x12e8a4[_0x369e67(0x18d)](_0x565223=>{const _0x536ca5=_0x369e67,_0x285482=_0x535db4[_0x536ca5(0x119)]['includes'](config[_0x536ca5(0x155)]+'/');_0x33ad8c[_0x536ca5(0x25e)]({'datetime':_0x565223[_0x536ca5(0x10a)],'coin':_0x535db4[_0x536ca5(0x160)],'symbol':_0x535db4[_0x536ca5(0x119)],'side':_0x565223[_0x536ca5(0x13e)],'reverse':_0x285482,'amount':formatResult(_0x565223[_0x536ca5(0x143)],0x8),'filled':formatResult(_0x565223['filled'],0x8),'price':formatResult(_0x565223[_0x536ca5(0x216)],0x8)}),_0x37a1f7=_0x565223[_0x536ca5(0x13e)]==_0x536ca5(0x274)?_0x37a1f7+_0x565223[_0x536ca5(0x143)]:_0x37a1f7-_0x565223['filled'];if(!_0x5c43cc)_0x5c43cc=_0x565223[_0x536ca5(0x216)];});_0x1fac32=_0x535db4['number']-_0x37a1f7;let _0xd325c3;config[_0x369e67(0x234)][_0x369e67(0x18d)](_0x3075c=>{const _0xc2909d=_0x369e67;!_0xd325c3&&(_0xd325c3=_0x3075c[_0xc2909d(0x1e7)][_0xc2909d(0x266)](_0x546e65=>_0x546e65['coin']==_0x535db4[_0xc2909d(0x160)]),_0xd325c3&&(_0x1fac32=_0xd325c3[_0xc2909d(0x196)],_0x5c43cc=_0xd325c3[_0xc2909d(0x216)]));});let _0x21adda=dbCoinResults[_0x369e67(0x232)](_0x369e67(0x1ae))['find']({'coin':_0x535db4[_0x369e67(0x160)]})[_0x369e67(0x220)]();_0x21adda={'coin':_0x535db4[_0x369e67(0x160)],'number':_0x1fac32,'breakeven':_0x5c43cc,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0},dbCoinResults[_0x369e67(0x232)]('coins')[_0x369e67(0x266)]({'coin':_0x535db4[_0x369e67(0x160)]})['assign'](_0x21adda)[_0x369e67(0x140)]();}}_0x33ad8c[_0x369e67(0x107)]((_0x50df2b,_0x1fa2a9)=>_0x50df2b[_0x369e67(0x10a)]>_0x1fa2a9['datetime']?0x1:_0x1fa2a9[_0x369e67(0x10a)]>_0x50df2b[_0x369e67(0x10a)]?-0x1:0x0);let _0x11ce7d=0x0;for(let _0x1b1043 of _0x33ad8c){await updateCoinResults(_0x1b1043,!![]);}}catch(_0x33ca6f){await handleError(_0x33ca6f,'recreateCoinResults()');}}async function getAllEventOrders(_0x51b3af){const _0xdba176=_0x42de4b;let _0x3b5bd6=[],_0x18ff16=dbLogs['get'](_0xdba176(0x1f7))[_0xdba176(0x242)](_0x3906ac=>{const _0x1ca3f3=_0xdba176,_0x25a349=_0x3906ac[_0x1ca3f3(0x262)][_0x1ca3f3(0x281)]();return _0x25a349['includes'](_0x51b3af[_0x1ca3f3(0x281)]())&&(_0x25a349[_0x1ca3f3(0x157)](_0x1ca3f3(0x1c4))&&_0x25a349[_0x1ca3f3(0x157)](_0x1ca3f3(0x112))||_0x25a349[_0x1ca3f3(0x157)](_0x1ca3f3(0x143))&&_0x25a349[_0x1ca3f3(0x157)](_0x1ca3f3(0x112)));})[_0xdba176(0x161)](_0xdba176(0x10c))[_0xdba176(0x220)]();return _0x18ff16[_0xdba176(0x18d)](_0x5731a6=>{const _0x3fb8b2=_0xdba176,_0x4d7c86=_0x5731a6[_0x3fb8b2(0x262)][_0x3fb8b2(0x157)](_0x3fb8b2(0x1da))?_0x3fb8b2(0x1da):_0x3fb8b2(0x274),_0x1cdea5=/#([0-9]|\.)+\s/i,_0x365c19=Number(_0x1cdea5['exec'](_0x5731a6[_0x3fb8b2(0x262)])[0x0][_0x3fb8b2(0x203)](0x1)),_0x5a0e03=/@([0-9]|\.)+$/i,_0x2b033f=Number(_0x5a0e03[_0x3fb8b2(0x218)](_0x5731a6[_0x3fb8b2(0x262)])[0x0][_0x3fb8b2(0x203)](0x1));_0x3b5bd6[_0x3fb8b2(0x25e)]({'datetime':_0x5731a6[_0x3fb8b2(0x10c)],'coin':symbolToCoin(_0x51b3af),'symbol':_0x51b3af,'side':_0x4d7c86,'amount':_0x365c19,'filled':_0x365c19,'price':_0x2b033f});}),_0x3b5bd6;}async function getAllOrders(_0x25fcb7,_0x215a36){const _0x200dfa=_0x42de4b;let _0xaa04a9=[];while(_0x215a36<exchange[_0x200dfa(0x223)]()){const _0x421661=0x1f4;try{const _0x2e46bb=await exchange[_0x200dfa(0xf2)](_0x25fcb7,_0x215a36,_0x421661);if(_0x2e46bb[_0x200dfa(0x21f)])_0x215a36=_0x2e46bb[_0x2e46bb['length']-0x1][_0x200dfa(0x249)]+0x1,_0xaa04a9=_0xaa04a9[_0x200dfa(0xef)](_0x2e46bb);else break;}catch(_0x20494c){await handleError(_0x20494c,_0x200dfa(0x243),_0x25fcb7);}}return _0xaa04a9;}async function validate24hChanges(){const _0x45dda1=_0x42de4b;for(const _0x3834cb of currentCoins){if(_0x3834cb[_0x45dda1(0x160)]!=config['basecoin']){let _0x3de668;_0x3834cb[_0x45dda1(0x27d)]?_0x3de668=formatResult((0x1/(global['change'][_0x3834cb['symbol']]/0x64+0x1)-0x1)*0x64,0x3):_0x3de668=global['change'][_0x3834cb['symbol']],_0x3de668<config[_0x45dda1(0x17f)]&&(logHistory(_0x45dda1(0xe6),_0x3834cb[_0x45dda1(0x160)]+_0x45dda1(0x26b)+_0x3de668+'%'),logHistory(_0x45dda1(0xe6),_0x45dda1(0x1ce)),logHistory(_0x45dda1(0xe6),'Carefully\x20evaluate\x20the\x20situation\x20before\x20you\x20decide\x20to\x20switch\x20to\x20automatic\x20mode\x20again'),await storeHeadless({'headless':![]}));}}}function isOlderVersion(_0x2476ff,_0x27facf){const _0x429154=_0x42de4b;if(!_0x2476ff)return!![];const _0x2d35c8=_0x27facf[_0x429154(0x149)]('.'),_0x36da8d=_0x2476ff[_0x429154(0x149)]('.');for(var _0x384003=0x0;_0x384003<_0x36da8d['length'];_0x384003++){const _0x1a7472=~~_0x36da8d[_0x384003],_0x5c5fb9=~~_0x2d35c8[_0x384003];if(_0x1a7472<_0x5c5fb9)return!![];if(_0x1a7472>_0x5c5fb9)return![];}return![];}async function oneTimeMigration(){const _0x1c0951=_0x42de4b;let _0x280974=dbLogs['get'](_0x1c0951(0x27f))['value']();if(isOlderVersion(_0x280974,_0x1c0951(0x108))){let _0x90ddea=[];const _0x2bf15b=dbLogs[_0x1c0951(0x232)](_0x1c0951(0x1f7))[_0x1c0951(0x220)]();_0x2bf15b[_0x1c0951(0x18d)](_0x107160=>{const _0x284e31=_0x1c0951;_0x90ddea[_0x284e31(0x25e)]({'time':_0x107160['time'],'type':_0x107160[_0x284e31(0x233)],'event':_0x107160[_0x284e31(0x262)]});}),dbLogs[_0x1c0951(0x232)](_0x1c0951(0x1f7))[_0x1c0951(0x23e)](_0x90ddea)[_0x1c0951(0x140)]();}let _0x183cee=dbConfig[_0x1c0951(0x232)](_0x1c0951(0x27f))['value']();if(isOlderVersion(_0x183cee,_0x1c0951(0x108))){let _0x5623ee=dbConfig[_0x1c0951(0x232)](_0x1c0951(0x146))[_0x1c0951(0x266)]({'botID':botID})[_0x1c0951(0x220)]();if(_0x5623ee){let _0x312639=[];_0x5623ee[_0x1c0951(0x102)]['forEach'](_0x3a1aa6=>{const _0x1c4eff=_0x1c0951;_0x312639[_0x1c4eff(0x25e)]({'coin':_0x3a1aa6[_0x1c4eff(0x160)],'number':_0x3a1aa6['startnumber'],'price':_0x3a1aa6[_0x1c4eff(0x1b5)]}),delete _0x3a1aa6['startnumber'],delete _0x3a1aa6[_0x1c4eff(0x1b5)];});if(_0x312639[_0x1c0951(0x21f)]!==0x0)fs[_0x1c0951(0x13f)](configbackuppath+(_0x1c0951(0x109)+botID+'.json'),JSON[_0x1c0951(0x1d9)](_0x312639,null,0x4),function(_0x47c6b5){if(_0x47c6b5){}});const _0x250a17=(_0x4bbb16,_0x1e806b)=>{const _0x3422d5=_0x1c0951;let _0x3d9c3c=[];_0x1e806b[_0x3422d5(0x18d)](_0x73d506=>{const _0x39de27=_0x3422d5,_0x37039c=_0x4bbb16[_0x39de27(0x266)](_0x42f141=>_0x42f141[_0x39de27(0x160)]==_0x73d506[_0x39de27(0x160)]);if(!_0x37039c)_0x3d9c3c[_0x39de27(0x25e)](_0x73d506);});let _0x1cc9b5=[];return _0x4bbb16[_0x3422d5(0x18d)](_0x31f2e0=>{const _0x470971=_0x3422d5,_0x42855c=_0x1e806b[_0x470971(0x266)](_0x31b007=>_0x31b007[_0x470971(0x160)]==_0x31f2e0['coin']);if(!_0x42855c||_0x42855c[_0x470971(0x196)]==0x0&&_0x31f2e0[_0x470971(0x196)]!=0x0)_0x1cc9b5[_0x470971(0x25e)](_0x31f2e0);}),{'missingDay1':_0x3d9c3c,'notInDay2':_0x1cc9b5};},_0x4de5b4=dbPerformance[_0x1c0951(0x232)](_0x1c0951(0xf0))[_0x1c0951(0x177)]()[_0x1c0951(0x220)]();if(_0x4de5b4['length']>0x1){const {missingDay1:_0x21617a,notInDay2:_0x5fcf65}=_0x250a17(_0x312639,_0x4de5b4[0x1][_0x1c0951(0x1ae)]);_0x312639=[..._0x312639,..._0x21617a],_0x5fcf65['forEach'](_0x929807=>{const _0xf9db8d=_0x1c0951;let _0x424e7f=_0x312639['findIndex'](_0x45c3d8=>_0x45c3d8[_0xf9db8d(0x160)]==_0x929807[_0xf9db8d(0x160)]);_0x424e7f!=-0x1&&_0x312639[_0xf9db8d(0x1a6)](_0x424e7f,0x1);});}_0x312639[_0x1c0951(0x107)]((_0x520296,_0x4c5d2e)=>_0x520296[_0x1c0951(0x160)]>_0x4c5d2e[_0x1c0951(0x160)]?0x1:_0x4c5d2e[_0x1c0951(0x160)]>_0x520296[_0x1c0951(0x160)]?-0x1:0x0);let _0x4955f3=[{'date':_0x5623ee[_0x1c0951(0x258)],'changes':_0x312639}];_0x4de5b4[_0x1c0951(0x21f)]>0x2&&_0x4de5b4[_0x1c0951(0x18d)]((_0x49111a,_0x581b45)=>{const _0x319369=_0x1c0951;if(_0x581b45>0x0&&_0x581b45<_0x4de5b4[_0x319369(0x21f)]-0x1){const {missingDay1:_0x55aef5,notInDay2:_0x9c1209}=_0x250a17(_0x4de5b4[_0x581b45][_0x319369(0x1ae)],_0x4de5b4[_0x581b45+0x1][_0x319369(0x1ae)]);_0x312639=[],(_0x55aef5[_0x319369(0x21f)]!=0x0||_0x9c1209[_0x319369(0x21f)]!=0x0)&&(_0x55aef5[_0x319369(0x21f)]!=0x0&&_0x312639[_0x319369(0x25e)](..._0x55aef5),_0x9c1209['length']!=0x0&&(_0x9c1209[_0x319369(0x18d)](_0x45cdae=>{const _0xe8a1cd=_0x319369;_0x45cdae[_0xe8a1cd(0x196)]=-_0x45cdae[_0xe8a1cd(0x196)];}),_0x312639[_0x319369(0x25e)](..._0x9c1209)),_0x312639['sort']((_0xd1c58b,_0x58019f)=>_0xd1c58b[_0x319369(0x160)]>_0x58019f[_0x319369(0x160)]?0x1:_0x58019f[_0x319369(0x160)]>_0xd1c58b[_0x319369(0x160)]?-0x1:0x0),_0x4955f3['push']({'date':_0x4de5b4[_0x581b45+0x1][_0x319369(0x1dc)],'changes':_0x312639}));}}),dbConfig[_0x1c0951(0x232)](_0x1c0951(0x146))[_0x1c0951(0x266)]({'botID':botID})['assign']({..._0x5623ee,'liquidity':_0x4955f3})['write']();}}if(isOlderVersion(_0x183cee,_0x1c0951(0x1ec))){let _0x3db988=dbConfig[_0x1c0951(0x232)](_0x1c0951(0x146))[_0x1c0951(0x266)]({'botID':botID})[_0x1c0951(0x220)]();if(_0x3db988){const _0x2b0181=_0x3db988[_0x1c0951(0x23a)],_0x538965=_0x2b0181?capitalize(_0x2b0181):_0x1c0951(0x23b);dbConfig['get'](_0x1c0951(0x146))['find']({'botID':botID})[_0x1c0951(0x23e)]({'exchange':_0x538965})[_0x1c0951(0x140)]();}}let _0x5ab106=dbPerformance[_0x1c0951(0x232)]('version')[_0x1c0951(0x220)]();isOlderVersion(_0x5ab106,'2.3.5')&&setStartDatePerformance();let _0x34fc26=dbCoinResults['get'](_0x1c0951(0x27f))[_0x1c0951(0x220)]();if(isOlderVersion(_0x34fc26,_0x1c0951(0x153))){let _0x2e3ed2=dbCoinResults[_0x1c0951(0x232)](_0x1c0951(0x1ae))[_0x1c0951(0x220)]();if(_0x2e3ed2[_0x1c0951(0x21f)]!=0x0)recreationNeeded=!![];}updateFileVersions();}function updateFileVersions(){const _0x1f6813=_0x42de4b;dbConfig[_0x1f6813(0x1f2)](_0x1f6813(0x27f),serverversion)['write'](),dbPerformance[_0x1f6813(0x1f2)](_0x1f6813(0x27f),serverversion)['write'](),dbLogs[_0x1f6813(0x1f2)](_0x1f6813(0x27f),serverversion)[_0x1f6813(0x140)](),dbCoinResults[_0x1f6813(0x1f2)]('version',serverversion)[_0x1f6813(0x140)]();}function getConfiguration(_0x5f1f91){const _0x2fd1af=_0x42de4b;let _0x4539a7=dbConfig[_0x2fd1af(0x232)](_0x2fd1af(0x146))['find']({'botID':_0x5f1f91})[_0x2fd1af(0x220)]();if(_0x4539a7){let _0x24fba6=![];typeof _0x4539a7['threshold']==_0x2fd1af(0x1bd)&&(_0x4539a7={..._0x4539a7,'threshold':Number(_0x4539a7[_0x2fd1af(0x22a)])},_0x24fba6=!![]),_0x4539a7[_0x2fd1af(0x17f)]==undefined&&(_0x4539a7={..._0x4539a7,'change24h':-0x14},_0x24fba6=!![]),_0x4539a7[_0x2fd1af(0x1a5)]==undefined&&(_0x4539a7={..._0x4539a7,'fiat':_0x2fd1af(0xea)},_0x24fba6=!![]),_0x4539a7[_0x2fd1af(0x14c)]==undefined&&(_0x4539a7={..._0x4539a7,'onepagemode':settings[_0x2fd1af(0x14c)]},_0x24fba6=!![]),_0x4539a7[_0x2fd1af(0x24f)]==undefined&&(_0x4539a7={..._0x4539a7,'colorscheme':_0x2fd1af(0x162)},_0x24fba6=!![]),_0x4539a7[_0x2fd1af(0x256)]==undefined&&(_0x4539a7={..._0x4539a7,'autoliquidity':!![]},_0x24fba6=!![]),_0x4539a7[_0x2fd1af(0x265)]==undefined&&(_0x4539a7={..._0x4539a7,'marketcapApi':settings[_0x2fd1af(0x265)]?!![]:![]},_0x24fba6=!![]),_0x4539a7['marketcapEnabled']==undefined&&(_0x4539a7={..._0x4539a7,'marketcapEnabled':![]},_0x24fba6=!![]),_0x24fba6&&(_0x4539a7={'botID':_0x4539a7['botID'],'exchange':_0x4539a7[_0x2fd1af(0x23a)],'apiKey':_0x4539a7[_0x2fd1af(0x26c)],'apiSecret':_0x4539a7[_0x2fd1af(0x224)],'apiPassword':_0x4539a7[_0x2fd1af(0x18c)],'basecoin':_0x4539a7['basecoin'],'botname':_0x4539a7[_0x2fd1af(0x238)],'showname':_0x4539a7[_0x2fd1af(0x141)],'threshold':_0x4539a7['threshold'],'ordertype':_0x4539a7[_0x2fd1af(0x212)],'timeout':_0x4539a7['timeout'],'fiat':_0x4539a7[_0x2fd1af(0x1a5)],'startdate':_0x4539a7[_0x2fd1af(0x258)],'recreate':_0x4539a7[_0x2fd1af(0xfb)],'timeshift':_0x4539a7[_0x2fd1af(0xfd)],'onepagemode':_0x4539a7['onepagemode'],'headless':_0x4539a7[_0x2fd1af(0x159)],'cooldown':_0x4539a7[_0x2fd1af(0xff)],'change24h':_0x4539a7['change24h'],'emojibuy':_0x4539a7[_0x2fd1af(0x1cb)],'emojisell':_0x4539a7[_0x2fd1af(0x200)],'colorscheme':_0x4539a7[_0x2fd1af(0x24f)],'marketcapApi':_0x4539a7[_0x2fd1af(0x265)],'marketcapEnabled':_0x4539a7[_0x2fd1af(0x12c)],'portfolio':_0x4539a7['portfolio'],'autoliquidity':_0x4539a7['autoliquidity'],'liquidity':_0x4539a7[_0x2fd1af(0x234)],'openOrders':_0x4539a7[_0x2fd1af(0x100)]},dbConfig[_0x2fd1af(0x232)](_0x2fd1af(0x146))[_0x2fd1af(0x207)]()[_0x2fd1af(0x140)](),dbConfig[_0x2fd1af(0x232)](_0x2fd1af(0x146))[_0x2fd1af(0x25e)](_0x4539a7)[_0x2fd1af(0x140)]());}else _0x4539a7={'botID':_0x5f1f91,'exchange':'','apiKey':'','apiSecret':'','apiPassword':null,'basecoin':'','botname':_0x2fd1af(0x13c)+_0x5f1f91,'showname':![],'threshold':0x3,'ordertype':'market','timeout':0x14,'fiat':'USD','startdate':getDate(),'recreate':![],'timeshift':settings[_0x2fd1af(0xfd)],'onepagemode':settings[_0x2fd1af(0x14c)],'headless':![],'cooldown':0xa,'change24h':-0x14,'emojibuy':'','emojisell':'','colorscheme':'red_yellow_blue','marketcapApi':settings['marketcapApi']?!![]:![],'marketcapEnabled':![],'portfolio':[],'autoliquidity':!![],'liquidity':[{'date':getDate(),'changes':[]}],'openOrders':[]};return _0x4539a7;}function _0x205f(){const _0x4cda3f=['-performance.json','fees','trade','apiPassword','forEach','amountToPrecision','Resetting\x20bot\x20history','realized','-events.json','</pre>','ORDERS.LOCKED','storeFiat','must\x20be\x20greater\x20than\x20minimum\x20amount','number','357459wavqam','watchOrders','2\x20-\x20handling\x20FILLED\x20order:\x20','limit-low','createOrder','Exchange','distribution','lowdb/adapters/FileSync','yyyy/MM/dd','join','getCoinNumber()','none','emitHistory','Huobipro','fiat','splice','1\x20-\x20Validate\x20orders:\x20','Unknown\x20error\x20occured','\x20exchange','Order\x20amount\x20is\x20too\x20small\x20to\x20trade:\x20','Reset\x20|\x20','getPortfolio','1\x20-\x20Handle\x20open\x20orders','coins','active','Insufficient\x20funds\x20to\x20execute\x20order:\x20','cancelOrders()','cost','Order\x20is\x20invalid:\x20','net-fiat','startprice','/EUR','total','./logs/','configuration-stored','\x20network\x20error','defaults','\x20attempts','string','leftTxt','Note:\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','ORDERS.UNLOCKING','Net\x20effect','OnMaintenance','\x20metrics:</b>\x20\x0a\x0a','market','-results.json','getHours','initial','removed','CoinMarketCap\x20data\x20could\x20not\x20be\x20retrieved\x20-\x20trying\x20again\x20in\x20','final','emojibuy','Loading\x20completed','page','Switching\x20bot\x20to\x20manual\x20mode\x20to\x20prevent\x20major\x20losses','balancing\x20resumed','no\x20open\x20orders','\x20-\x20pausing\x20bot\x20for\x20','stopExchange()','Executing\x20exchange\x20reload','ticker','\x20-\x20','settings','Limit\x20(low-margin)','getSeconds','stringify','sell','%\x20(','date','startsWith','yyyy-MM-dd\x27T\x27HH:mm:ss','\x20API\x20secret\x20is\x20invalid\x20-\x20update\x20the\x20API\x20secret\x20in\x20the\x20configuration\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','No\x20more\x20open\x20orders\x20-\x20','argv','1487408mvRpsC','added','\x20-\x20liquidity\x20settings\x20updated\x20accordingly','hybrid-crypto-js','2\x20-\x20Validate\x20orders:\x20','changes','\x20-\x20exclude\x20coin\x20in\x20the\x20configuration','cancelOrder','status','pro','2.6.0','Bitget','round','EUR','(((.+)+)+)+$','limit','set','limit-high','excluded','./config/','floor','logs','abs','search','netoffset','success','fetchTicker','7xfDGjP','001','UNLOCKING','emojisell','Order\x20filled:\x20','running','slice','Trigger:\x20','Cryptocom','apply','remove','Headless:\x20','Balance\x20change\x20-\x20performance\x20and\x20starting\x20balance\x20updated','event-history','status\x20code\x20401','TUSD','\x20API\x20key\x20or\x20API\x20secret\x20are\x20invalid\x20-\x20update\x20the\x20API\x20key\x20and\x20API\x20secret\x20in\x20the\x20configuration','substring','recent20','1\x20-\x20Unlock\x20orders','\x20order:\x20','ordertype','Resetting\x20coin\x20results:\x20','Saving\x20configuration','Liquidity\x20change\x20|\x20basecoin\x20value:\x20','price','deleteHistoryAlerts','exec','\x20|\x20lock\x20orders:\x20','\x20sec\x20for\x20order\x20info\x20to\x20be\x20completed','progress','\x20blocked\x20API\x20(RateLimitExceeded)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','OrderNotFound','2\x20-\x20Orders\x20unlocked','length','value','eur','format','milliseconds','apiSecret','fetchTickers()','exchanges','fetchTickers','orderstatus','Portfolio\x20change\x20detected:\x20','threshold','USDP',':\x20timer\x20>','target','breakeven','Invalid\x20API\x20key\x20or\x20secret\x20entered','existsSync','valid','get','type','liquidity','************','***','bots','botname','warning','exchange','Binance','Bot\x20has\x20not\x20loaded\x20yet\x20-\x20try\x20again\x20in\x20a\x20minute','entries','assign','Transaction\x20detection\x20blocked','date-fns','toggleBotMode','filter','getAllOrders()','performance','BNB','ID:\x20','showConfig','getMonth','timestamp','Order\x20amount\x20is\x20invalid:\x20','sells','Invalid\x20symbol:\x20','Invalid\x20quantity','cancel','colorscheme','test','mkdirSync','NetworkError:\x20connection\x20closed\x20by\x20remote\x20server','min','\x20|\x20highest\x20fee:\x20','createWriteStream','autoliquidity','watchOrders()','startdate','fetchBalance','getStartingBalances','toString','Transaction\x20detection\x20unblocked','\x20minutes\x20-\x20starting\x20cooldown\x20period\x20of\x20','push','\x20>\x20','sendPortfolioTelegram','Cex','event','buys','replace','marketcapApi','find','MIN_NOTIONAL','password','Fee\x20discount\x20refund\x20detected:\x20','quote','\x20has\x20a\x2024h\x20drop\x20of\x20','apiKey','balances','InvalidOrder','closed','rightTxt','Waited\x20','InsufficientFunds','uncaughtException','buy','canceled','timeout','\x20>\x20[DEBUG]\x20','Stopping\x20bot\x20-\x20resolve\x20the\x20issue\x20and\x20restart\x20bot\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','offset','bot-','shift','Your\x20machine\x27s\x20internal\x20clock\x20may\x20be\x20out\x20of\x20sync\x20(info:\x20hodlerhacks.com/fix/#clock-sync)','reverse','limits','version','getPortfolio(1)','toLowerCase','\x20API\x20key\x20is\x20invalid\x20-\x20update\x20the\x20API\x20key\x20in\x20the\x20configuration\x20(info:\x20hodlerhacks.com/fix/#api-invalid)','balancing\x20resumes\x20when\x20cooldown\x20ends','Signature\x20for\x20this\x20request\x20is\x20not\x20valid','enabled','initclient','fetchOpenOrders','padEnd','BTC','percentage','currency','error','ORDERS.UNLOCKED','privateKey','\x20change','USD','PAXG','ETH','axios','getOpenOrders()','concat','data','\x20rejected\x20your\x20API\x20request\x20(info:\x20hodlerhacks.com/fix/#api-rejected)','fetchClosedOrders','has','\x20closed\x20the\x20connection\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)','Huobi','<pre>',':\x20Bot\x20','slider','getFullYear','\x20|\x20Custom\x20ID:\x20','recreate','net-basecoin','timeshift','orderId','cooldown','openOrders','-config.json','portfolio','usd','coin-loading-progress','LOCKED','util','sort','2.3.5','starting-balance-','datetime','delta','time','801720LUbrql','Crypt','ExchangeNotAvailable','full','parse','order','amount','average','2\x20-\x20Handled\x20open\x20orders','market_cap','getCoins()','toFixed','symbol','Error\x20details:','unlinkSync','971535iYbQlm','RETRY\x20-\x20Problem\x20resolved\x20after\x20','\x20blocked\x20API\x20(DDoSProtection)\x20-\x20check\x20if\x20API\x20key\x20is\x20enabled\x20for\x20spot\x20trading','change','getMinutes','lowdb','basecoinvalue','\x20not\x20responding\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)','map','initTickers()','marketcap','indexOf','<b>Bot\x20','bb-settings.json','\x20minutes','4395366NucTkW','marketcapEnabled','/USD','BNB/','Error:\x20Invalid\x20argument\x20','freeze','Avoiding\x20continuous\x20order\x20attempts','getDate','open','request-time','Balance\x20Bot\x20does\x20not\x20support\x20the\x20','USDT','watchTrades()','\x20exchange\x20error','fromCodePoint','RSA-OAEP','getTime','Bot\x20','-------------------------------\x0a','side','writeFile','write','showname','cancelLoading','filled','\x20portfolio:</b>\x20\x0a\x0a','send','bot','fee','RequestTimeout','split','loadMarkets','restart','onepagemode','add','highest','Executed\x20','watchTransactions()','padStart','\x20Permission\x20denied\x20-\x20make\x20sure\x20your\x20exhange\x20API\x20key\x20has\x20the\x20required\x20permissions','2.5.0','1070930TQidzY','basecoin',',\x20must\x20be\x20a\x203\x20digit\x20number','includes','keys','headless','\x20|\x20','ongoing','args','ask','function','last','coin','sortBy','red_yellow_blue','message','1\x20-\x20FILLED\x20unknown\x20order:\x20','0\x20-\x20EXECUTION:\x20','BUSD','https://pro-api.coinmarketcap.com/v2/cryptocurrency/quotes/latest','Order(s)\x20not\x20validated\x20after\x20','bb-secure.json','spot','Exception\x20thrown\x20in\x20','API-key\x20format\x20invalid','Pausing\x20for\x20','/output-000.log','Error\x20while\x20deleting\x20files:\x20','<b>','remainingSymbols','isEqual','Make\x20sure\x20your\x20portfolio\x20contains\x20more\x20than\x20just\x20the\x20base\x20coin,\x20then\x20restart\x20the\x20bot','Net\x20','UNLOCKED','Unfilled\x20order(s)\x20canceled\x20after\x20','cloneDeep','\x20API\x20key\x20or\x20API\x20secret\x20invalid\x20-\x20also\x20make\x20sure\x20your\x20machine\x27s\x20IP\x20address\x20is\x20whitelisted\x20for\x20this\x20API\x20key\x20on\x20the\x20exchange','debug','getPortfolio(0)','parseISO','max','exchange\x20not\x20reloaded','sha256','change24h','differenceInSeconds','storeHeadless','PermissionDenied','\x20minutes\x20-\x20','decrypt','configuration','15058760sPlGJy','log','AuthenticationError'];_0x205f=function(){return _0x4cda3f;};return _0x205f();}function emittedConfiguration(){const _0x11a3e0=_0x42de4b;let _0x3571d8;if(config[_0x11a3e0(0x26c)]=='')_0x3571d8={...config,'configstate':'initial'};else config[_0x11a3e0(0x26c)]==_0x11a3e0(0x236)?_0x3571d8={...config,'configstate':'recovery'}:(_0x3571d8={...config,'apiKey':_0x11a3e0(0x235),'apiSecret':_0x11a3e0(0x235)},config[_0x11a3e0(0x18c)]&&(_0x3571d8[_0x11a3e0(0x18c)]=_0x11a3e0(0x235)));return _0x3571d8;}function getSettings(){const _0x35704e=_0x42de4b;return dbSettings[_0x35704e(0x232)](_0x35704e(0x1d6))[_0x35704e(0x220)]();}function getSecure(){const _0x4590a9=_0x42de4b;return dbSecure[_0x4590a9(0x232)]('secure')['value']()||{};}function updateTimeshift(_0x422b5c){const _0x335253=_0x42de4b;let _0x144a21=dbConfig[_0x335253(0x232)]('bot')[_0x335253(0x266)]({'botID':botID})[_0x335253(0x220)]();_0x144a21&&dbConfig[_0x335253(0x232)](_0x335253(0x146))[_0x335253(0x266)]({'botID':botID})[_0x335253(0x23e)]({'timeshift':_0x422b5c})['write'](),config[_0x335253(0xfd)]=_0x422b5c,proxyEmit('configuration',emittedConfiguration());}function updateOnepagemode(_0x2be648){const _0x569e30=_0x42de4b;let _0x1aa4b6=dbConfig[_0x569e30(0x232)](_0x569e30(0x146))[_0x569e30(0x266)]({'botID':botID})[_0x569e30(0x220)]();_0x1aa4b6&&dbConfig[_0x569e30(0x232)](_0x569e30(0x146))[_0x569e30(0x266)]({'botID':botID})[_0x569e30(0x23e)]({'onepagemode':_0x2be648})[_0x569e30(0x140)](),config[_0x569e30(0x14c)]=_0x2be648,proxyEmit(_0x569e30(0x185),emittedConfiguration());}function updateMarketcapApi(_0x4625e3){const _0x59e74d=_0x42de4b,_0x369d95=_0x4625e3?!![]:![];let _0x2e099b=dbConfig[_0x59e74d(0x232)](_0x59e74d(0x146))[_0x59e74d(0x266)]({'botID':botID})[_0x59e74d(0x220)]();_0x2e099b&&dbConfig[_0x59e74d(0x232)](_0x59e74d(0x146))[_0x59e74d(0x266)]({'botID':botID})['assign']({'marketcapApi':_0x369d95})[_0x59e74d(0x140)](),config['marketcapApi']=_0x369d95,getMarketCap(),proxyEmit(_0x59e74d(0x185),emittedConfiguration());}async function storeConfiguration(_0x3ba696){const _0x231ec9=_0x42de4b;logger['debug'](_0x231ec9(0x214));if(pidBalances)clearTimeout(pidBalances);blockTransactionDetection=!![],logger['debug'](_0x231ec9(0x23f));let _0x466322=![],_0x50766f=![],_0x30f576=[];_0x3ba696[_0x231ec9(0x102)][_0x231ec9(0x18d)](_0x5eda9e=>{const _0x2f86f3=_0x231ec9;if(!_0x5eda9e[_0x2f86f3(0x1f4)]&&_0x5eda9e[_0x2f86f3(0x160)]!=_0x3ba696[_0x2f86f3(0x155)])_0x30f576[_0x2f86f3(0x25e)](_0x5eda9e[_0x2f86f3(0x119)]);}),_0x30f576[_0x231ec9(0x18d)](_0x21970d=>{const _0x1d283c=_0x231ec9,_0x5561d5=currentCoins[_0x1d283c(0x266)](_0xaee14=>_0xaee14[_0x1d283c(0x119)]==_0x21970d);!_0x5561d5&&(_0x466322=!![]);}),currentCoins['forEach'](_0x427052=>{const _0x2e7d97=_0x231ec9;if(_0x427052[_0x2e7d97(0x160)]!=config['basecoin']){const _0x242a95=_0x30f576[_0x2e7d97(0x266)](_0x985b65=>_0x985b65==_0x427052[_0x2e7d97(0x119)]);!_0x242a95&&(_0x466322=!![]);}}),_0x3ba696[_0x231ec9(0x102)][_0x231ec9(0x18d)](_0x3debb7=>{const _0x50d367=_0x231ec9,_0x3c60bf=config[_0x50d367(0x102)][_0x50d367(0x266)](_0x521f61=>_0x521f61['coin']==_0x3debb7[_0x50d367(0x160)]);if(_0x3c60bf&&_0x3debb7['offset']!=_0x3c60bf[_0x50d367(0x279)])_0x50766f=!![];});let _0x4b6298=dbConfig[_0x231ec9(0x232)](_0x231ec9(0x146))[_0x231ec9(0x266)]({'botID':botID})[_0x231ec9(0x220)]();_0x3ba696={..._0x3ba696,'apiKey':crypt[_0x231ec9(0x184)](secure[_0x231ec9(0xe8)],_0x3ba696[_0x231ec9(0x26c)])[_0x231ec9(0x163)],'apiSecret':crypt[_0x231ec9(0x184)](secure[_0x231ec9(0xe8)],_0x3ba696['apiSecret'])[_0x231ec9(0x163)]};_0x3ba696[_0x231ec9(0x18c)]&&(_0x3ba696['apiPassword']=crypt[_0x231ec9(0x184)](secure[_0x231ec9(0xe8)],_0x3ba696[_0x231ec9(0x18c)])[_0x231ec9(0x163)]);let _0xbfbac9=![];if(_0x4b6298){_0x3ba696[_0x231ec9(0x26c)]=='************'?_0x3ba696[_0x231ec9(0x26c)]=config[_0x231ec9(0x26c)]:_0xbfbac9=!![];_0x3ba696[_0x231ec9(0x224)]=='************'?_0x3ba696[_0x231ec9(0x224)]=config[_0x231ec9(0x224)]:_0xbfbac9=!![];if(_0x3ba696[_0x231ec9(0x18c)]==_0x231ec9(0x235))_0x3ba696['apiPassword']=config[_0x231ec9(0x18c)];else{if(_0x3ba696[_0x231ec9(0x18c)])_0xbfbac9=!![];}dbConfig['get'](_0x231ec9(0x146))[_0x231ec9(0x266)]({'botID':botID})[_0x231ec9(0x23e)](_0x3ba696)[_0x231ec9(0x140)]();}else dbConfig['get'](_0x231ec9(0x146))[_0x231ec9(0x25e)](_0x3ba696)['write'](),_0xbfbac9=!![],process[_0x231ec9(0x145)]({'status':_0x231ec9(0x285),'live':_0x231ec9(0x202)},_0x137b81=>{});process[_0x231ec9(0x145)]({'botname':_0x3ba696[_0x231ec9(0x238)]},_0x2afaa6=>{}),config={..._0x3ba696},updateBotManager(),proxyEmit(_0x231ec9(0x1b9)),setStartDatePerformance(),initialPerformanceStored=![],await initCoinResults();if(_0xbfbac9)await reset(!![]);else _0x466322||_0x50766f?await reset(![]):getBalances();blockTransactionDetection=![],logger[_0x231ec9(0x179)](_0x231ec9(0x25c));}async function storeHeadless(_0x1a4d36){const _0x137897=_0x42de4b,_0x168385={...config,'headless':_0x1a4d36['headless']};let _0x36a570=dbConfig[_0x137897(0x232)](_0x137897(0x146))[_0x137897(0x266)]({'botID':botID})[_0x137897(0x220)]();_0x36a570&&dbConfig[_0x137897(0x232)]('bot')[_0x137897(0x266)]({'botID':botID})[_0x137897(0x23e)](_0x168385)[_0x137897(0x140)](),config={..._0x168385},updateBotManager(),proxyEmit(_0x137897(0x185),emittedConfiguration());}async function storeFiat(_0x683d80){const _0x1f558a=_0x42de4b,_0xee5c4b={...config,'fiat':_0x683d80};let _0x23fb87=dbConfig[_0x1f558a(0x232)](_0x1f558a(0x146))['find']({'botID':botID})[_0x1f558a(0x220)]();_0x23fb87&&dbConfig[_0x1f558a(0x232)](_0x1f558a(0x146))[_0x1f558a(0x266)]({'botID':botID})['assign'](_0xee5c4b)[_0x1f558a(0x140)](),config={..._0xee5c4b},proxyEmit('configuration',emittedConfiguration());}function resetHistory(){const _0x11b7c1=_0x42de4b;logger['full'](_0x11b7c1(0x18f));try{if(fs['existsSync'](path[_0x11b7c1(0x1a0)](configpath,_0x11b7c1(0x27a)+botID+_0x11b7c1(0x191))))fs[_0x11b7c1(0x11b)](path['join'](configpath,_0x11b7c1(0x27a)+botID+_0x11b7c1(0x191)));if(fs[_0x11b7c1(0x230)](path[_0x11b7c1(0x1a0)](configpath,_0x11b7c1(0x27a)+botID+'-performance.json')))fs[_0x11b7c1(0x11b)](path[_0x11b7c1(0x1a0)](configpath,'bot-'+botID+_0x11b7c1(0x189)));if(fs[_0x11b7c1(0x230)](path['join'](configpath,'bot-'+botID+'-results.json')))fs['unlinkSync'](path['join'](configpath,'bot-'+botID+_0x11b7c1(0x1c5)));}catch(_0x4f43e3){if(_0x4f43e3)logger[_0x11b7c1(0x110)](_0x11b7c1(0x16f),_0x4f43e3);}const _0x1e3c0b=getDate();let _0x41c5b5=[];currentCoins[_0x11b7c1(0x18d)](_0x25e55f=>{const _0x3c7667=_0x11b7c1;_0x41c5b5[_0x3c7667(0x25e)]({'coin':_0x25e55f[_0x3c7667(0x160)],'number':_0x25e55f[_0x3c7667(0x196)],'price':_0x25e55f[_0x3c7667(0x15f)]});});let _0x559cb8=dbConfig[_0x11b7c1(0x232)](_0x11b7c1(0x146))[_0x11b7c1(0x266)]({'botID':botID})[_0x11b7c1(0x220)]();_0x559cb8&&(dbConfig[_0x11b7c1(0x232)](_0x11b7c1(0x146))[_0x11b7c1(0x266)]({'botID':botID})[_0x11b7c1(0x23e)]({'liquidity':[{'date':_0x1e3c0b,'changes':_0x41c5b5}]})[_0x11b7c1(0x140)](),config[_0x11b7c1(0x234)]=[]),process['send']({'stop':_0x11b7c1(0x14b)},_0x110790=>{});}function noslash(_0x1f60e1){const _0x4c2090=_0x42de4b;return _0x1f60e1[_0x4c2090(0x264)]('/','');}function updateHighestFee(_0x5b4d77){const _0x2c06e8=_0x42de4b;if(_0x5b4d77[_0x2c06e8(0x27d)]){let _0x3e2817={'filled':_0x5b4d77[_0x2c06e8(0x143)]*_0x5b4d77['price'],'amount':_0x5b4d77[_0x2c06e8(0x143)]*_0x5b4d77[_0x2c06e8(0x216)],'side':_0x5b4d77[_0x2c06e8(0x13e)]==_0x2c06e8(0x1da)?_0x2c06e8(0x274):'sell','price':0x1/_0x5b4d77[_0x2c06e8(0x216)]};_0x5b4d77={..._0x5b4d77,..._0x3e2817};}const _0x712873=defaultFee*_0x5b4d77[_0x2c06e8(0x143)]*_0x5b4d77[_0x2c06e8(0x216)];lastFees[_0x2c06e8(0x20f)][_0x2c06e8(0x21f)]===0x14&&lastFees['recent20'][_0x2c06e8(0x27b)](),lastFees[_0x2c06e8(0x20f)][_0x2c06e8(0x25e)](_0x712873),lastFees[_0x2c06e8(0x14e)]=Math[_0x2c06e8(0x17c)](...lastFees[_0x2c06e8(0x20f)]);}async function updateNumberCoinsCcxt(_0x5882ef){const _0x1f8982=_0x42de4b;logger[_0x1f8982(0x179)](_0x1f8982(0x165)+_0x5882ef[_0x1f8982(0x119)]+_0x1f8982(0x15a)+_0x5882ef[_0x1f8982(0x1ea)]+_0x1f8982(0x15a)+_0x5882ef[_0x1f8982(0x143)]+'\x20/\x20'+_0x5882ef[_0x1f8982(0x113)]+'\x20|\x20'+_0x5882ef['id']);let _0x5e7395=_0x5882ef['status'],_0x209a0a=![];currentCoins[_0x1f8982(0x18d)](_0x2896ae=>{const _0x560d81=_0x1f8982;_0x2896ae[_0x560d81(0x119)]==_0x5882ef[_0x560d81(0x119)]&&(_0x209a0a=!![]);});if(!_0x209a0a)return;const _0x117633=currentCoins['find'](_0x18b64e=>_0x18b64e[_0x1f8982(0x119)]==_0x5882ef[_0x1f8982(0x119)]),_0x50f549=_0x255eb4=>{const _0x4d8857=_0x1f8982;if(_0x117633)_0x117633[_0x4d8857(0x228)]=_0x255eb4;};if(_0x5e7395==_0x1f8982(0x133))_0x50f549(_0x1f8982(0x133));else{if(_0x5e7395==_0x1f8982(0x275)){_0x50f549(_0x1f8982(0x275));const _0x419bc9=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x419bc9,await getOpenOrders(),handleOpenOrders();}else{if(_0x5e7395==_0x1f8982(0x26f)){let _0x43d5d1=![];if(lastOrders)for(const _0x218969 of lastOrders){const _0x2fcd99=0xc8,_0x973beb=0x1388;let _0x19cfc8=0x0;while(!_0x218969[_0x1f8982(0xfe)]&&_0x19cfc8*_0x2fcd99<_0x973beb){_0x19cfc8++,await sleep(_0x2fcd99);}if(_0x19cfc8>0x0)logger[_0x1f8982(0x179)](_0x1f8982(0x271)+_0x19cfc8*_0x2fcd99/0x3e8+_0x1f8982(0x21a));if(_0x218969['orderId']==_0x5882ef['id']){logger[_0x1f8982(0x179)]('1\x20-\x20FILLED\x20known\x20order:\x20'+_0x5882ef['id']),_0x43d5d1=!![];if(_0x218969[_0x1f8982(0x143)]==0x0){logger['debug'](_0x1f8982(0x199)+_0x5882ef['id']);if(_0x5882ef[_0x1f8982(0x114)])_0x218969[_0x1f8982(0x216)]=_0x5882ef[_0x1f8982(0x114)];else{if(_0x5882ef[_0x1f8982(0x216)])_0x218969[_0x1f8982(0x216)]=_0x5882ef['price'];else{}}_0x218969[_0x1f8982(0x143)]=_0x5882ef[_0x1f8982(0x143)],updateHighestFee(_0x218969),_0x50f549('filled'),await validateOrders();if(lockOrders==ORDERS[_0x1f8982(0x105)]){const _0x285e97=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x285e97;}_0x218969[_0x1f8982(0x147)]={'currency':_0x5882ef['fee']?_0x5882ef[_0x1f8982(0x147)][_0x1f8982(0xe5)]:null,'cost':_0x5882ef[_0x1f8982(0x147)]?_0x5882ef['fee'][_0x1f8982(0x1b2)]:0x0},await updateCoinResults(_0x218969);}}}if(!_0x43d5d1){logger[_0x1f8982(0x179)](_0x1f8982(0x164)+_0x5882ef['id']),_0x50f549(_0x1f8982(0x143));const _0x8a14bb=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x8a14bb,await updateOpenOrders(),handleOpenOrders();}}}}if(lastBalances){let _0x3d7d10=JSON[_0x1f8982(0x111)](lastBalances['portfolio']);const _0x5b07d5=_0x3d7d10[_0x1f8982(0x266)](_0x45c6a0=>_0x45c6a0[_0x1f8982(0x119)]==_0x5882ef[_0x1f8982(0x119)]);if(_0x5b07d5){if(_0x5e7395==_0x1f8982(0x133))_0x5b07d5['orderstatus']=_0x5b07d5['orderstatus']==_0x1f8982(0x143)?_0x1f8982(0x143):_0x1f8982(0x133);else{if(_0x5e7395==_0x1f8982(0x275))_0x5b07d5[_0x1f8982(0x228)]=_0x5b07d5[_0x1f8982(0x228)]==_0x1f8982(0x143)?_0x1f8982(0x143):_0x1f8982(0x275);else _0x5e7395=='closed'&&(_0x5b07d5[_0x1f8982(0x228)]='filled');}}lastBalances={...lastBalances,'portfolio':JSON[_0x1f8982(0x1d9)](_0x3d7d10)},proxyEmit('balances',{'serverversion':serverversion,'balances':lastBalances});}}async function updateOpenOrders(){await getOpenOrders();let _0x145469=![];currentCoins['forEach'](_0x58a7c5=>{const _0x2cd59d=_0x24fb;_0x145469=allOpenOrders[_0x2cd59d(0x266)](_0xe5a82e=>_0xe5a82e['symbol']==_0x58a7c5[_0x2cd59d(0x119)]),_0x58a7c5[_0x2cd59d(0x228)]=_0x145469?_0x2cd59d(0x133):_0x2cd59d(0x1a2);});}async function getCoins(_0x5c9ec2=0x0,_0x591ec1=!![],_0x504e39=config[_0x42de4b(0x155)]){const _0x46f4f3=_0x42de4b;let _0x3768d5,_0x3473d=[],_0x36f19f=[],_0x12c469=[];if(_0x5c9ec2)await sleep(_0x5c9ec2);if(botPaused)return[currentCoins,currentCoinsAll];try{_0x3768d5=await exchange[_0x46f4f3(0x259)](),mybalances=_0x3768d5[_0x46f4f3(0x1b7)];for(const [_0x3cf250,_0x175857]of Object[_0x46f4f3(0x23d)](mybalances)){_0x12c469[_0x46f4f3(0x25e)](_0x3cf250);}config['portfolio']['forEach'](_0xd6536b=>{const _0x475a1b=_0x46f4f3;!_0x12c469[_0x475a1b(0x157)](_0xd6536b[_0x475a1b(0x160)])&&(mybalances[_0xd6536b['coin']]=0x0);});if(_0x504e39=='')for(const [_0x431bb5,_0x2ecdee]of Object['entries'](mybalances)){_0x2ecdee!=0x0&&_0x3473d[_0x46f4f3(0x25e)]({'coin':_0x431bb5});}else for(const [_0x128512,_0x52c86d]of Object['entries'](mybalances)){const _0xa0386f=config['portfolio'][_0x46f4f3(0x266)](_0x3b0847=>_0x3b0847[_0x46f4f3(0x160)]==_0x128512),_0x3de8a2=_0x128512+'/'+_0x504e39,_0x4f9f9b=_0x504e39+'/'+_0x128512,_0x2640ba=currentCoins[_0x46f4f3(0x266)](_0x47615d=>_0x47615d[_0x46f4f3(0x160)]==_0x128512);if((_0x52c86d!=0x0||_0xa0386f)&&(allSymbols[_0x46f4f3(0x157)](_0x3de8a2)||_0x128512==_0x504e39))_0x2640ba?_0x3473d[_0x46f4f3(0x25e)]({..._0x2640ba,'number':Math[_0x46f4f3(0x17c)](_0x52c86d+(_0xa0386f&&_0xa0386f['offset']||0x0),0x0)}):_0x3473d[_0x46f4f3(0x25e)]({'coin':_0x128512,'symbol':_0x3de8a2,'reverse':![],'number':Math[_0x46f4f3(0x17c)](_0x52c86d+(_0xa0386f&&_0xa0386f[_0x46f4f3(0x279)]||0x0),0x0),'orderstatus':_0x46f4f3(0x1a2)});else{if((_0x52c86d!=0x0||_0xa0386f)&&allSymbols['includes'](_0x4f9f9b))_0x2640ba?_0x3473d[_0x46f4f3(0x25e)]({..._0x2640ba,'number':Math[_0x46f4f3(0x17c)](_0x52c86d+(_0xa0386f&&_0xa0386f[_0x46f4f3(0x279)]||0x0),0x0)}):_0x3473d[_0x46f4f3(0x25e)]({'coin':_0x128512,'symbol':_0x4f9f9b,'reverse':!![],'number':Math['max'](_0x52c86d+(_0xa0386f&&_0xa0386f[_0x46f4f3(0x279)]||0x0),0x0),'orderstatus':_0x46f4f3(0x1a2)});else _0xa0386f&&_0x3473d[_0x46f4f3(0x25e)]({'coin':_0xa0386f[_0x46f4f3(0x160)],'symbol':_0xa0386f['symbol'],'reverse':_0xa0386f['reverse'],'number':0x0,'orderstatus':'none'});}}}catch(_0x432607){if(!_0x591ec1)handleErrorNoStop(_0x432607,_0x46f4f3(0x117));else await handleError(_0x432607,_0x46f4f3(0x117));}return _0x3473d[_0x46f4f3(0x107)]((_0x3f720e,_0xc0deca)=>_0x3f720e[_0x46f4f3(0x10b)]<_0xc0deca['delta']?0x1:_0xc0deca[_0x46f4f3(0x10b)]<_0x3f720e['delta']?-0x1:0x0),_0x36f19f=cloneDeep(_0x3473d),_0x3473d=_0x3473d['filter'](_0x64c329=>{const _0x5ffc0b=_0x46f4f3,_0x31b35b=config[_0x5ffc0b(0x102)][_0x5ffc0b(0x266)](_0xbdd790=>_0xbdd790[_0x5ffc0b(0x160)]==_0x64c329[_0x5ffc0b(0x160)]);return _0x31b35b&&!_0x31b35b['excluded'];}),[_0x3473d,_0x36f19f];}async function getCoinNumber(_0x3d0feb){const _0x39ea38=_0x42de4b;let _0xb35eb2;try{const _0x265ac7=await exchange[_0x39ea38(0x259)]();_0xb35eb2=_0x265ac7['total'][_0x3d0feb];}catch(_0x1ee659){await handleError(_0x1ee659,_0x39ea38(0x1a1));}return _0xb35eb2;}async function getOpenOrders(){const _0x4d0f43=_0x42de4b;let _0x5b2574;allOpenOrders=[];try{for(const _0x4d2bd8 of config[_0x4d0f43(0x102)]){!_0x4d2bd8['excluded']&&_0x4d2bd8['coin']!=config['basecoin']&&(_0x5b2574=await exchange[_0x4d0f43(0xe1)](_0x4d2bd8[_0x4d0f43(0x119)]),_0x5b2574[_0x4d0f43(0x21f)]>0x0&&allOpenOrders[_0x4d0f43(0x25e)](_0x5b2574[0x0]));}}catch(_0x42c1ed){await handleError(_0x42c1ed,_0x4d0f43(0xee));}}async function handleOpenOrders(_0x3c4d67=0x0){const _0x33bd9d=_0x42de4b;allOpenOrders['length']==0x0&&lockOrders==ORDERS[_0x33bd9d(0x105)]&&allOrdersPlaced&&(_0x3c4d67==0x0?(logger['debug'](_0x33bd9d(0x1ad)),_0x3c4d67++,await sleep(0xbb8),await getOpenOrders(),handleOpenOrders(0x1)):(logger[_0x33bd9d(0x179)](_0x33bd9d(0x115)),validateOrders(_0x33bd9d(0x1d0))));}async function testAPI(_0x1ee259){const _0x1cc491=_0x42de4b,_0x2c3785=ccxt[_0x1cc491(0x1eb)][_0x1ee259[_0x1cc491(0x23a)][_0x1cc491(0x281)]()],_0x503014=new _0x2c3785({'apiKey':_0x1ee259[_0x1cc491(0x26c)],'secret':_0x1ee259[_0x1cc491(0x224)],'timeout':0x7530,'enableRateLimit':!![],'newUpdates':!![],'options':{'defaultType':_0x1cc491(0x16a)}});if(_0x1ee259[_0x1cc491(0x18c)])_0x503014[_0x1cc491(0x268)]=_0x1ee259[_0x1cc491(0x18c)];try{await _0x503014[_0x1cc491(0x14a)]();}catch(_0xf3f170){throw _0xf3f170;}}function cloneDeep(_0x1ae029){const _0x544124=_0x42de4b;return JSON[_0x544124(0x111)](JSON['stringify'](_0x1ae029));}async function getPortfolio(_0x437aba){const _0x2d7d3a=_0x42de4b;let _0x59ef74=[],_0x376258=[],_0xfcab2c=[],_0x4773e4;if(_0x437aba[_0x2d7d3a(0x26c)]!==_0x2d7d3a(0x235)||_0x437aba[_0x2d7d3a(0x224)]!=='************'||_0x437aba[_0x2d7d3a(0x18c)]&&_0x437aba[_0x2d7d3a(0x18c)]!==_0x2d7d3a(0x235)){if(config[_0x2d7d3a(0x23a)]){if(_0x437aba[_0x2d7d3a(0x26c)]=='************')_0x437aba[_0x2d7d3a(0x26c)]=config['apiKey'];if(_0x437aba[_0x2d7d3a(0x224)]==_0x2d7d3a(0x235))_0x437aba[_0x2d7d3a(0x224)]=config[_0x2d7d3a(0x224)];if(_0x437aba[_0x2d7d3a(0x18c)]==_0x2d7d3a(0x235))_0x437aba[_0x2d7d3a(0x18c)]=config[_0x2d7d3a(0x18c)];try{await testAPI(_0x437aba);}catch(_0x69ce79){if(_0x69ce79[_0x2d7d3a(0x25b)]()['includes'](_0x2d7d3a(0x188))){logger['debug'](_0x2d7d3a(0x22f)),proxyEmit(_0x2d7d3a(0x102),![]);return;}else{handleError(_0x69ce79,_0x2d7d3a(0x17a));return;}}}await initExchange(_0x437aba[_0x2d7d3a(0x23a)],_0x437aba['apiKey'],_0x437aba[_0x2d7d3a(0x224)],_0x437aba[_0x2d7d3a(0x18c)]);try{await loadSymbols();}catch(_0x495dd4){if(_0x495dd4[_0x2d7d3a(0x25b)]()[_0x2d7d3a(0x157)](_0x2d7d3a(0x188))){proxyEmit(_0x2d7d3a(0x102),![]);return;}else{handleError(_0x495dd4,_0x2d7d3a(0x280));return;}}const _0x194a22=await getCoins(0x0,![],_0x437aba['basecoin']);_0xfcab2c=cloneDeep(_0x194a22[0x1]);}else{const _0x5dda2b=await getCoins();_0xfcab2c=cloneDeep(_0x5dda2b[0x1]);}if(_0x437aba[_0x2d7d3a(0x155)]=='')proxyEmit(_0x2d7d3a(0x102),_0xfcab2c);else{_0xfcab2c[_0x2d7d3a(0x18d)](_0x251ab1=>{const _0x3a2cef=_0x2d7d3a;if(_0x251ab1['coin']!=_0x437aba['basecoin']&&allSymbols[_0x3a2cef(0x157)](_0x251ab1[_0x3a2cef(0x119)]))_0x59ef74[_0x3a2cef(0x25e)](_0x251ab1[_0x3a2cef(0x119)]);});if(_0x59ef74[_0x2d7d3a(0x21f)]==0x0)logHistory('error',_0x2d7d3a(0x173));else{try{_0x376258=await getTickers(_0x59ef74);}catch(_0x55bcb5){if(_0x55bcb5[_0x2d7d3a(0x25b)]()['includes'](_0x2d7d3a(0x188))){proxyEmit(_0x2d7d3a(0x102),![]);return;}else handleError(_0x55bcb5,'getPortfolio(2)');}_0xfcab2c['forEach'](_0x2b2e9a=>{const _0x33f57c=_0x2d7d3a;_0x2b2e9a[_0x33f57c(0x160)]!=_0x437aba[_0x33f57c(0x155)]?_0x376258[_0x2b2e9a['symbol']]?_0x4773e4=_0x2b2e9a[_0x33f57c(0x27d)]?0x1/_0x376258[_0x2b2e9a[_0x33f57c(0x119)]][_0x33f57c(0x15f)]:_0x376258[_0x2b2e9a[_0x33f57c(0x119)]][_0x33f57c(0x15f)]:_0x4773e4=0x0:_0x4773e4=0x1,_0x2b2e9a[_0x33f57c(0x216)]=formatResult(_0x4773e4,0x8);}),await getMarketCap(_0xfcab2c),proxyEmit(_0x2d7d3a(0x102),_0xfcab2c);}}}function truncateTradeAmount(_0x398218,_0x4f0d92){const _0x3591ac=_0x42de4b;let _0x2713d9=0x0;try{_0x2713d9=exchange[_0x3591ac(0x18e)](_0x398218,_0x4f0d92);}catch(_0x480e0c){}return _0x2713d9;}function checkMinimums(_0x31234f){const _0x4419b2=_0x42de4b;let _0x454cb2=!![];const _0x2c9e58=!_0x31234f[_0x4419b2(0x27d)]?markets[_0x31234f[_0x4419b2(0x119)]][_0x4419b2(0x27e)][_0x4419b2(0x113)][_0x4419b2(0x253)]:markets[_0x31234f['symbol']][_0x4419b2(0x27e)][_0x4419b2(0x1b2)][_0x4419b2(0x253)],_0x3448e1=!_0x31234f['reverse']?markets[_0x31234f['symbol']]['limits'][_0x4419b2(0x1b2)]['min']:markets[_0x31234f[_0x4419b2(0x119)]][_0x4419b2(0x27e)]['amount'][_0x4419b2(0x253)],_0x40f34d=truncateTradeAmount(_0x31234f['symbol'],_0x31234f[_0x4419b2(0x18b)]);_0x31234f[_0x4419b2(0x18b)]=_0x40f34d;if(Math[_0x4419b2(0x1f8)](_0x40f34d)<_0x2c9e58)_0x454cb2=![];if(Math[_0x4419b2(0x1f8)](_0x40f34d)*_0x31234f['last']<_0x3448e1)_0x454cb2=![];if(_0x31234f['side']==_0x4419b2(0x1da)){let _0x5a791a=config[_0x4419b2(0x102)][_0x4419b2(0x266)](_0x25fe12=>_0x25fe12[_0x4419b2(0x160)]==_0x31234f[_0x4419b2(0x160)]);if(_0x5a791a[_0x4419b2(0x279)]>0x0){if(Math[_0x4419b2(0x1f8)](_0x40f34d)>_0x31234f[_0x4419b2(0x196)]-_0x5a791a[_0x4419b2(0x279)])_0x454cb2=![];}else{if(Math[_0x4419b2(0x1f8)](_0x40f34d)>_0x31234f[_0x4419b2(0x196)])_0x454cb2=![];}}if(_0x31234f['side']==_0x4419b2(0x274)){let _0xf9bd7a=config[_0x4419b2(0x102)][_0x4419b2(0x266)](_0x5319c6=>_0x5319c6['coin']==config[_0x4419b2(0x155)]),_0x108240=currentCoins['find'](_0x5aaa7e=>_0x5aaa7e[_0x4419b2(0x160)]==config[_0x4419b2(0x155)]);if(_0xf9bd7a[_0x4419b2(0x279)]>0x0){if(Math[_0x4419b2(0x1f8)](_0x40f34d)*_0x31234f[_0x4419b2(0x15f)]>_0x108240[_0x4419b2(0x196)]-_0xf9bd7a[_0x4419b2(0x279)])_0x454cb2=![];}else{if(Math[_0x4419b2(0x1f8)](_0x40f34d)*_0x31234f[_0x4419b2(0x15f)]>_0x108240[_0x4419b2(0x196)])_0x454cb2=![];}}return _0x454cb2;}async function getBalances(_0x1ee487=!![]){const _0x10554c=_0x42de4b;let _0x518091=0x0,_0x53541a;const _0x3acc87=config[_0x10554c(0x22a)];if(config[_0x10554c(0x159)]&&config['change24h']<0x0)await validate24hChanges();currentCoins[_0x10554c(0x18d)](_0x487541=>{const _0x120009=_0x10554c;if(_0x487541['coin']!=config['basecoin']){let _0x1625d0=global[_0x120009(0x1d4)][noslash(_0x487541[_0x120009(0x119)])];_0x53541a=_0x487541[_0x120009(0x27d)]?0x1/_0x1625d0:_0x1625d0;}else _0x53541a=0x1;let _0x508401=_0x487541['number']*_0x53541a;_0x518091+=_0x508401,_0x487541[_0x120009(0x15f)]=formatResult(Number(_0x53541a),0x8),_0x487541[_0x120009(0x220)]=_0x508401;}),currentCoins[_0x10554c(0x18d)](_0x15c68d=>{const _0x2f6676=_0x10554c;let _0x15809b=config[_0x2f6676(0x102)]['find'](_0x2724cd=>_0x2724cd[_0x2f6676(0x160)]==_0x15c68d['coin']),_0x5b8cf2=Number(_0x15809b['distribution']),_0x2633b8=_0x15c68d[_0x2f6676(0x220)]/_0x518091*0x64,_0x1d84eb=_0x5b8cf2*_0x518091/0x64/_0x15c68d['last']-_0x15c68d['number'];_0x15c68d[_0x2f6676(0x19d)]=formatResult(_0x2633b8,0x3),_0x15c68d['target']=formatResult(_0x5b8cf2,0x3),_0x15c68d[_0x2f6676(0x18b)]=formatResult(_0x1d84eb,0x8),_0x15c68d['side']='',_0x15c68d[_0x2f6676(0x231)]=![];if(_0x15c68d[_0x2f6676(0x160)]!=config[_0x2f6676(0x155)]){if(_0x15c68d[_0x2f6676(0x19d)]>_0x5b8cf2)_0x15c68d[_0x2f6676(0x13e)]=_0x2f6676(0x1da),_0x15c68d[_0x2f6676(0x231)]=checkMinimums(_0x15c68d);else _0x15c68d[_0x2f6676(0x19d)]<_0x5b8cf2&&(_0x15c68d[_0x2f6676(0x13e)]='buy',_0x15c68d[_0x2f6676(0x231)]=checkMinimums(_0x15c68d));}_0x15c68d['delta']=_0x15c68d[_0x2f6676(0x19d)]/_0x15c68d['target']-0x1;if(_0x15c68d[_0x2f6676(0x228)]==_0x2f6676(0x143)||_0x15c68d['orderstatus']==_0x2f6676(0x275))_0x15c68d['orderstatus']=_0x2f6676(0x1a2);}),currentCoins[_0x10554c(0x107)]((_0x3c4ed4,_0x4396de)=>_0x3c4ed4[_0x10554c(0x10b)]<_0x4396de[_0x10554c(0x10b)]?0x1:_0x4396de['delta']<_0x3c4ed4[_0x10554c(0x10b)]?-0x1:0x0);const _0x49aed2=await getFiat();lastBalances={'servertime':getServerTime(),'time':getTimeStamp(),'eur':_0x49aed2[_0x10554c(0x221)],'usd':_0x49aed2[_0x10554c(0x103)],'portfolio':JSON[_0x10554c(0x1d9)](currentCoins),'threshold':_0x3acc87},proxyEmit(_0x10554c(0x26d),{'serverversion':serverversion,'balances':lastBalances});if(_0x1ee487){if(config[_0x10554c(0x159)])headlessMode({'portfolio':currentCoins,'threshold':_0x3acc87});else{if(lockOrders==ORDERS[_0x10554c(0x175)]&&!coolingDown)notifyBalance({'portfolio':currentCoins,'threshold':_0x3acc87});}}if(!initialPerformanceStored){initialPerformanceStored=!![],await storePerformance();const _0x1d6525=getNormalizedPerformance();getStartingBalances(_0x1d6525),emitPerformance(_0x1d6525);}lastPerformanceStored!==getHour()&&(await storePerformance(),lastPerformanceEmitted!==getDate()&&emitPerformance(getNormalizedPerformance()));if(transactionDetected){transactionDetected=![];const _0x387d92=getNormalizedPerformance();emitPerformance(_0x387d92),getStartingBalances(_0x387d92),logger['debug'](_0x10554c(0x209));}if(pidBalances)clearTimeout(pidBalances);pidBalances=setTimeout(getBalances,getBalancesInterval);}async function storePerformance(){const _0x51d8a1=_0x42de4b;if(!lastBalances)return;let _0x29a78e=[],_0x4db477,_0x3a91fe=JSON[_0x51d8a1(0x111)](lastBalances[_0x51d8a1(0x102)]);_0x3a91fe[_0x51d8a1(0x107)]((_0x1f4091,_0x1c9337)=>_0x1f4091['coin']>_0x1c9337[_0x51d8a1(0x160)]?0x1:_0x1c9337[_0x51d8a1(0x160)]>_0x1f4091[_0x51d8a1(0x160)]?-0x1:0x0),_0x3a91fe[_0x51d8a1(0x18d)](_0xa8e787=>{const _0x3e1932=_0x51d8a1;let _0x15cc3a={'coin':_0xa8e787[_0x3e1932(0x160)],'number':_0xa8e787[_0x3e1932(0x196)],'price':_0xa8e787[_0x3e1932(0x15f)]};_0x29a78e[_0x3e1932(0x25e)](_0x15cc3a);});const _0x67877a=await getFiat();_0x4db477={'date':lastBalances[_0x51d8a1(0x10c)][_0x51d8a1(0x149)]('\x20')[0x0],'eur':_0x67877a[_0x51d8a1(0x221)],'usd':_0x67877a[_0x51d8a1(0x103)],'coins':_0x29a78e};let _0x345c79=dbPerformance['get']('data')[_0x51d8a1(0x266)]({'date':_0x4db477['date']})[_0x51d8a1(0x220)]();_0x345c79?_0x4db477[_0x51d8a1(0x1dc)]!=config[_0x51d8a1(0x258)]&&dbPerformance['get']('data')[_0x51d8a1(0x266)]({'date':_0x4db477['date']})['assign'](_0x4db477)[_0x51d8a1(0x140)]():dbPerformance[_0x51d8a1(0x232)](_0x51d8a1(0xf0))['push'](_0x4db477)[_0x51d8a1(0x140)](),lastPerformanceStored=getHour();}function getNormalizedPerformance(){const _0x4f21f8=_0x42de4b;let _0xd008ea=[];if(dbPerformance[_0x4f21f8(0xf3)](_0x4f21f8(0xf0))['value']()){let _0x1916e1=dbPerformance[_0x4f21f8(0x232)](_0x4f21f8(0xf0))[_0x4f21f8(0x177)]()[_0x4f21f8(0x242)](_0xad17aa=>{const _0x3dea3a=_0x4f21f8;if(_0xad17aa[_0x3dea3a(0x1ae)][_0x3dea3a(0x21f)]==0x0)return![];else return!![];})[_0x4f21f8(0x161)](_0x4f21f8(0x1dc))[_0x4f21f8(0x220)](),_0x1d29a7=[...config['liquidity']];_0x1d29a7['sort']((_0xd74da1,_0x31f277)=>_0xd74da1['date']>_0x31f277[_0x4f21f8(0x1dc)]?-0x1:_0x31f277[_0x4f21f8(0x1dc)]>_0xd74da1['date']?0x1:0x0);let _0x429288=0x1,_0x321b84=[],_0x186dc9=0x0;_0x1916e1['slice']()[_0x4f21f8(0x27d)]()['forEach']((_0x3091e5,_0x286cc8)=>{const _0x38a495=_0x4f21f8;if(_0x1d29a7[_0x186dc9]){if(_0x1916e1[_0x1916e1['length']-_0x286cc8]&&_0x1d29a7[_0x186dc9][_0x38a495(0x1dc)]==_0x1916e1[_0x1916e1[_0x38a495(0x21f)]-_0x286cc8]['date']){if(_0x286cc8<_0x1916e1[_0x38a495(0x21f)]){let _0x47154d=0x0,_0x775de3=0x0;_0x1916e1[_0x1916e1[_0x38a495(0x21f)]-_0x286cc8][_0x38a495(0x1ae)]['forEach'](_0x150256=>{const _0x576283=_0x38a495;_0x775de3+=_0x150256['number']*_0x150256[_0x576283(0x216)];}),_0x1d29a7[_0x186dc9][_0x38a495(0x1e7)][_0x38a495(0x18d)](_0xc83ecc=>{const _0x3c18ce=_0x38a495;_0x47154d+=_0xc83ecc[_0x3c18ce(0x196)]*_0xc83ecc[_0x3c18ce(0x216)];}),_0x429288*=_0x47154d/(_0x775de3-_0x47154d)+0x1;}_0x186dc9++;}}let _0xdb639e=0x0;_0x3091e5['coins'][_0x38a495(0x18d)](_0xd6b78=>{const _0x10fe51=_0x38a495;_0xdb639e+=_0xd6b78[_0x10fe51(0x196)]*_0xd6b78[_0x10fe51(0x216)];}),_0x321b84[_0x1916e1[_0x38a495(0x21f)]-_0x286cc8-0x1]=_0xdb639e*(_0x429288-0x1);});let _0x3f69d5=[];_0x1d29a7=[...config[_0x4f21f8(0x234)]]||[];let _0x44c0e2=0x0;_0x186dc9=0x0,_0x1916e1[_0x4f21f8(0x18d)]((_0x229cf0,_0x565c6c)=>{const _0x1bf83f=_0x4f21f8;if(_0x1d29a7[_0x186dc9]){const _0x20e876=fns[_0x1bf83f(0x111)](_0x1d29a7[_0x186dc9][_0x1bf83f(0x1dc)],_0x1bf83f(0x19f),new Date()),_0x9ac66a=fns[_0x1bf83f(0x111)](_0x229cf0[_0x1bf83f(0x1dc)],'yyyy/MM/dd',new Date());if(fns[_0x1bf83f(0x172)](_0x20e876,_0x9ac66a)){let _0x23e942=0x0;_0x1d29a7[_0x186dc9][_0x1bf83f(0x1e7)][_0x1bf83f(0x18d)](_0x1ea80b=>{const _0x1fcaa1=_0x1bf83f;!_0x3f69d5[_0x1ea80b['coin']]?_0x3f69d5[_0x1ea80b[_0x1fcaa1(0x160)]]=_0x1ea80b[_0x1fcaa1(0x196)]:(_0x23e942=_0x3f69d5[_0x1ea80b['coin']],_0x3f69d5[_0x1ea80b[_0x1fcaa1(0x160)]]+=_0x1ea80b[_0x1fcaa1(0x196)]);const _0x7f2635=_0x229cf0[_0x1fcaa1(0x1ae)]['find'](_0xc41327=>_0xc41327['coin']==_0x1ea80b['coin']);(!_0x7f2635||_0x7f2635[_0x1fcaa1(0x196)]==0x0)&&(_0x44c0e2+=(-_0x1ea80b[_0x1fcaa1(0x196)]-_0x23e942)*_0x1ea80b[_0x1fcaa1(0x216)]);}),_0x186dc9++;}}_0x229cf0[_0x1bf83f(0x1ae)][_0x1bf83f(0x18d)]((_0x1003dd,_0x2c22f5)=>{const _0x35ad2f=_0x1bf83f;_0x3f69d5[_0x1003dd['coin']]&&(_0x1003dd['initial']=_0x3f69d5[_0x1003dd[_0x35ad2f(0x160)]]);}),_0xd008ea[_0x1bf83f(0x25e)]({'date':_0x229cf0[_0x1bf83f(0x1dc)],'eur':_0x229cf0[_0x1bf83f(0x221)],'usd':_0x229cf0[_0x1bf83f(0x103)],'offset':_0x321b84[_0x565c6c],'netoffset':_0x44c0e2,'coins':_0x229cf0[_0x1bf83f(0x1ae)]});});}return _0xd008ea;}function emitPerformance(_0x147f1c){const _0x322b11=_0x42de4b;_0x147f1c[_0x322b11(0x21f)]!==0x0?(proxyEmit(_0x322b11(0x244),_0x147f1c),lastPerformanceEmitted=getDate()):proxyEmit('performance',[]);}function getPerf(_0x24a716,_0x2fbcae){const _0x4b5cfe=_0x42de4b;let _0x205814=0x0,_0x593239=0x0,_0x5a0a77=0x0;_0x24a716[_0x4b5cfe(0x1ae)][_0x4b5cfe(0x18d)](_0x57b24c=>{const _0x45925a=_0x4b5cfe;_0x205814+=_0x57b24c[_0x45925a(0x196)]*_0x57b24c[_0x45925a(0x216)];});_0x2fbcae&&(_0x205814+=_0x24a716[_0x4b5cfe(0x279)]);if(config[_0x4b5cfe(0x155)]===_0x4b5cfe(0xe3)||config[_0x4b5cfe(0x155)]==='ETH'||config[_0x4b5cfe(0x155)]===_0x4b5cfe(0xeb))_0x593239=_0x205814*_0x24a716[_0x4b5cfe(0x221)],_0x5a0a77=_0x205814*_0x24a716['usd'];else{if(usdBasecoins[_0x4b5cfe(0x157)](config[_0x4b5cfe(0x155)]))_0x593239=_0x205814*_0x24a716[_0x4b5cfe(0x221)]/_0x24a716['usd'],_0x5a0a77=_0x205814;else config[_0x4b5cfe(0x155)]==='EUR'&&(_0x593239=_0x205814,_0x5a0a77=_0x205814*_0x24a716[_0x4b5cfe(0x103)]/_0x24a716[_0x4b5cfe(0x221)]);}return[_0x205814,_0x593239,_0x5a0a77];}function getKPIs(_0x12bc26,_0x5b7547=_0x42de4b(0x1ef)){const _0x397764=_0x42de4b,_0x140964=config[_0x397764(0x155)],_0x5d4ce5=lastBalances,_0x721202=currentCoins,_0xe928f6=getNormalizedPerformance(),_0x16cc28=_0x12bc26==='basecoin'?_0x140964:_0x12bc26==='fiat'||_0x12bc26==='net-fiat'?_0x5b7547:_0x397764(0x174)+_0x140964,_0x2fd227=_0x12bc26===_0x397764(0xfc)?_0x397764(0x1c1):_0x12bc26===_0x397764(0x1b4)?_0x397764(0x1c1):_0x16cc28+'\x20value',_0x402668=_0x12bc26===_0x397764(0xfc)||_0x12bc26===_0x397764(0x1b4)?_0x397764(0x1c1):_0x16cc28+_0x397764(0xe9);let _0x530878=0x0;_0x721202['forEach'](_0x4afab0=>{const _0x304eb3=_0x397764;_0x530878+=_0x4afab0[_0x304eb3(0x196)]*_0x4afab0[_0x304eb3(0x15f)];});if(_0x12bc26===_0x397764(0x1a5)||_0x12bc26==='net-fiat'){if(_0x140964===_0x397764(0xe3)||_0x140964===_0x397764(0xec)||_0x140964===_0x397764(0xeb))_0x530878=_0x530878*(_0x5b7547===_0x397764(0x1ef)?_0x5d4ce5[_0x397764(0x221)]:_0x5d4ce5[_0x397764(0x103)]);else{if(usdBasecoins[_0x397764(0x157)](_0x140964))_0x530878=_0x530878*(_0x5b7547===_0x397764(0x1ef)?_0x5d4ce5[_0x397764(0x221)]/_0x5d4ce5[_0x397764(0x103)]:0x1);else _0x140964==='EUR'&&(_0x530878=_0x530878*(_0x5b7547===_0x397764(0x1ef)?0x1:_0x5d4ce5[_0x397764(0x103)]/_0x5d4ce5[_0x397764(0x221)]));}}let _0x4b2fd9;if(_0x530878!==0x0){if(_0x12bc26===_0x397764(0x155))_0x4b2fd9=(_0x530878/startingBalances['basecoin']-0x1)*0x64;else{if(_0x5b7547==='EUR')_0x4b2fd9=(_0x530878/startingBalances['eur']-0x1)*0x64;else _0x4b2fd9=(_0x530878/startingBalances[_0x397764(0x103)]-0x1)*0x64;}let _0x4b3b98=0x0;if(startingBalances['coins'])_0x721202[_0x397764(0x18d)](_0x246a07=>{const _0x52d3df=_0x397764;let _0x29ef07=startingBalances['coins']['find'](_0x51b73c=>_0x51b73c['coin']===_0x246a07['coin']);if(_0x29ef07&&_0x29ef07[_0x52d3df(0x160)]&&_0x246a07[_0x52d3df(0x196)]!==0x0)_0x4b3b98+=_0x29ef07['number']*_0x246a07[_0x52d3df(0x15f)];});let _0x293983=0x0;if(_0xe928f6[_0x397764(0x21f)]!==0x0){let _0x331ded=_0xe928f6[_0xe928f6[_0x397764(0x21f)]-0x1];_0x293983=_0x331ded[_0x397764(0x1fa)];}_0x4b3b98-=_0x293983;_0x12bc26===_0x397764(0xfc)&&(_0x4b2fd9=(_0x530878-_0x4b3b98)/startingBalances[_0x397764(0x155)]*0x64,_0x530878=_0x530878-_0x4b3b98);if(_0x12bc26===_0x397764(0x1b4)){let _0x148b13=_0x5b7547===_0x397764(0x1ef)?startingBalances[_0x397764(0x221)]:startingBalances[_0x397764(0x103)];if(_0x140964===_0x397764(0xe3)||_0x140964==='ETH'||_0x140964===_0x397764(0xeb))_0x4b3b98=_0x5b7547===_0x397764(0x1ef)?_0x4b3b98*_0x5d4ce5[_0x397764(0x221)]:_0x4b3b98*_0x5d4ce5[_0x397764(0x103)];else{if(usdBasecoins[_0x397764(0x157)](_0x140964))_0x4b3b98=_0x5b7547===_0x397764(0x1ef)?_0x4b3b98*_0x5d4ce5['eur']/_0x5d4ce5[_0x397764(0x103)]:_0x4b3b98;else _0x140964===_0x397764(0x1ef)&&(_0x4b3b98=_0x5b7547===_0x397764(0x1ef)?_0x4b3b98:_0x4b3b98*_0x5d4ce5[_0x397764(0x103)]/_0x5d4ce5[_0x397764(0x221)]);}_0x4b2fd9=(_0x530878-_0x4b3b98)/_0x148b13*0x64,_0x530878=_0x530878-_0x4b3b98;}if(_0x4b2fd9){if(_0x4b2fd9<0x64)_0x4b2fd9=_0x4b2fd9['toFixed'](0x2);else{if(_0x4b2fd9<0x3e8)_0x4b2fd9=_0x4b2fd9[_0x397764(0x118)](0x1);else _0x4b2fd9=_0x4b2fd9['toFixed'](0x0);}}else _0x4b2fd9=Number('0')[_0x397764(0x118)](0x2);if(_0x530878){if(Math[_0x397764(0x1f8)](_0x530878)<0.000001)_0x530878=_0x530878['toFixed'](0x2);else{if(Math['abs'](_0x530878)<0.1)_0x530878=_0x530878[_0x397764(0x118)](0x6);else{if(Math['abs'](_0x530878)<0x1)_0x530878=_0x530878['toFixed'](0x5);else{if(Math[_0x397764(0x1f8)](_0x530878)<0xa)_0x530878=_0x530878['toFixed'](0x4);else{if(Math['abs'](_0x530878)<0x64)_0x530878=_0x530878[_0x397764(0x118)](0x3);else{if(Math[_0x397764(0x1f8)](_0x530878)<0x3e8)_0x530878=_0x530878[_0x397764(0x118)](0x2);else _0x530878=_0x530878[_0x397764(0x118)](0x2);}}}}}}else _0x530878=Number('0')['toFixed'](0x2);}else _0x4b2fd9=Number('0')[_0x397764(0x118)](0x2);return{'value':_0x530878,'change':_0x4b2fd9,'leftTxt':_0x2fd227,'rightTxt':_0x402668};}function _0x24fb(_0x10a6ef,_0x844127){const _0x204b01=_0x205f();return _0x24fb=function(_0x3f8262,_0x1c81f0){_0x3f8262=_0x3f8262-0xe1;let _0x205fab=_0x204b01[_0x3f8262];return _0x205fab;},_0x24fb(_0x10a6ef,_0x844127);}async function getStartingBalances(_0x3cf1f5,_0x1b3a82=!![]){const _0x2404cf=_0x42de4b;if(_0x3cf1f5[_0x2404cf(0x21f)]!==0x0){const [_0x1949e7,_0x3e8b1c,_0xf493ff]=getPerf(_0x3cf1f5[0x0],!![]);let _0xe8d90c=[];config['portfolio'][_0x2404cf(0x18d)](_0x447f89=>{const _0x2d9370=_0x2404cf;let _0x2fca4d=0x0,_0x1c9514;config[_0x2d9370(0x234)][_0x2d9370(0x18d)](_0x45e2d8=>{const _0x4d8a28=_0x2d9370;let _0x307d1e=_0x45e2d8[_0x4d8a28(0x1e7)][_0x4d8a28(0x266)](_0x35e132=>_0x35e132[_0x4d8a28(0x160)]==_0x447f89[_0x4d8a28(0x160)]);if(_0x307d1e){_0x2fca4d+=_0x307d1e[_0x4d8a28(0x196)];if(!_0x1c9514)_0x1c9514=_0x307d1e[_0x4d8a28(0x216)];}}),_0xe8d90c[_0x2d9370(0x25e)]({'coin':_0x447f89[_0x2d9370(0x160)],'number':_0x2fca4d,'initialprice':_0x1c9514});});const _0xc92258={'basecoin':_0x1949e7,'eur':_0x3e8b1c,'usd':_0xf493ff,'coins':_0xe8d90c};if(_0x1b3a82)proxyEmit('starting-balances',_0xc92258);startingBalances=_0xc92258;}}function headlessMode(_0x5716eb){const _0x239f23=_0x42de4b;let _0x155770=_0x5716eb['portfolio'],_0x405987=_0x5716eb['threshold'],_0x477239=[];for(let _0x158daf of _0x155770){if(_0x158daf[_0x239f23(0x160)]!=config['basecoin']){if(_0x158daf['delta']>=_0x405987/0x64){if(_0x158daf['valid'])_0x477239[_0x239f23(0x25e)](_0x158daf);}else{if(_0x158daf['delta']<=-_0x405987/0x64){if(_0x158daf[_0x239f23(0x231)])_0x477239[_0x239f23(0x25e)](_0x158daf);}}}}_0x477239[_0x239f23(0x21f)]>0x0&&(lockOrders==ORDERS[_0x239f23(0x175)]&&!coolingDown&&_0x477239[_0x239f23(0x18d)](_0x309020=>{const _0x16c8f1=_0x239f23;logger[_0x16c8f1(0x179)](_0x16c8f1(0x204)+_0x309020[_0x16c8f1(0x160)]+'\x20'+_0x309020['number']+'\x20'+_0x309020[_0x16c8f1(0x15f)]+'\x20'+_0x309020['distribution']+'%\x20'+_0x309020[_0x16c8f1(0x22d)]+'%\x20'+(0x64*_0x309020[_0x16c8f1(0x10b)])[_0x16c8f1(0x118)](0x2)+'%\x20('+_0x405987[_0x16c8f1(0x118)](0x2)+'%)');}),placeOrder(_0x477239));}function notifyBalance(_0x5a9c1c){const _0x5e011a=_0x42de4b;let _0x50fb6b=_0x5a9c1c[_0x5e011a(0x102)],_0x278ca6=_0x5a9c1c[_0x5e011a(0x22a)],_0x19b7eb=[];for(let _0x539547 of _0x50fb6b){if(_0x539547['coin']!=config[_0x5e011a(0x155)]){if(_0x539547[_0x5e011a(0x10b)]>=_0x278ca6/0x64){if(_0x539547[_0x5e011a(0x231)])_0x19b7eb['push'](_0x539547);}else{if(_0x539547['delta']<=-_0x278ca6/0x64){if(_0x539547['valid'])_0x19b7eb['push'](_0x539547);}}}}if(_0x19b7eb[_0x5e011a(0x21f)]>0x0){let _0x39c7d2=_0x19b7eb[_0x5e011a(0x124)](_0x12e344=>_0x12e344[_0x5e011a(0x160)]);_0x39c7d2['sort']();let _0x3f7f82=_0x39c7d2[_0x5e011a(0x1a0)](',\x20');if(!lastCoinsToBalance)logHistory('warning','Manual\x20balancing\x20required');lastCoinsToBalance=_0x3f7f82;}}function symbolToCoin(_0xdda743){const _0x2e2dee=_0x42de4b;let _0x25c0bc;if(_0xdda743[_0x2e2dee(0x157)]('/'+config[_0x2e2dee(0x155)]))_0x25c0bc=_0xdda743[_0x2e2dee(0x264)]('/'+config[_0x2e2dee(0x155)],'');if(_0xdda743['includes'](config['basecoin']+'/'))_0x25c0bc=_0xdda743['replace'](config[_0x2e2dee(0x155)]+'/','');return _0x25c0bc;}async function unlockOrders(){const _0x212aba=_0x42de4b;if(allOrdersPlaced&&lockOrders==ORDERS[_0x212aba(0x105)]){logger[_0x212aba(0x179)](_0x212aba(0x210)),lockOrders=ORDERS[_0x212aba(0x1ff)];if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);const _0x17fdd8=await getCoins(balanceUpdateDelay);[currentCoins,currentCoinsAll]=_0x17fdd8,validateOrdersState=_0x212aba(0x1c7),persistOpenOrders([]),lockOrders=ORDERS[_0x212aba(0x175)],logger[_0x212aba(0x179)](_0x212aba(0x21e));}}async function validateOrders(_0x47036a){const _0x6b569d=_0x42de4b;if(_0x47036a)validateOrdersState=_0x47036a;logger[_0x6b569d(0x179)](_0x6b569d(0x1a7)+validateOrdersState+_0x6b569d(0x219)+(lockOrders==0x1?_0x6b569d(0x193):lockOrders==0x2?_0x6b569d(0x1c0):_0x6b569d(0xe7)));let _0x38b366=[],_0x39a824=config[_0x6b569d(0x212)]=='market'?validateOrderTimeout*0x3c*0x3e8/validateOrderInterval:config['timeout']*0x3c*0x3e8/validateOrderInterval;if(lockOrders!=ORDERS['LOCKED'])return;logger[_0x6b569d(0x179)](_0x6b569d(0x1e6)+validateOrdersState),lastOrders[_0x6b569d(0x18d)](_0x424e9f=>{const _0x58d408=_0x6b569d;let _0x154fda=![];_0x424e9f[_0x58d408(0x143)]>0x0&&(_0x154fda=!![]),_0x38b366[_0x58d408(0x25e)](_0x154fda),_0x154fda&&config[_0x58d408(0x212)]!='market'&&logHistory(_0x58d408(0x112),_0x58d408(0x201)+_0x424e9f['symbol']+'\x20'+_0x424e9f[_0x58d408(0x13e)]+'\x20#'+formatResult(_0x424e9f[_0x58d408(0x143)],0x8)+'\x20@'+formatResult(_0x424e9f[_0x58d408(0x216)],0x8));}),_0x38b366['forEach']((_0x1ebb5f,_0x7b1fe8)=>{const _0x4e9e9f=_0x6b569d;if(_0x1ebb5f)lastOrders[_0x4e9e9f(0x1a6)](_0x7b1fe8,0x1);}),persistOpenOrders(lastOrders);const _0x356fa4=coolingDown?_0x6b569d(0x283):_0x6b569d(0x1cf);if(validateOrdersState==_0x6b569d(0x1c7)){validateOrdersState='ongoing';if(_0x38b366[_0x6b569d(0x157)](![])){if(config[_0x6b569d(0x212)]==_0x6b569d(0x1c4)){}else{}}else await unlockOrders();}else{if(validateOrdersState==_0x6b569d(0x15b)){if(_0x38b366['includes'](![])){}else{if(allOrdersPlaced){if(config[_0x6b569d(0x212)]==_0x6b569d(0x1c4)){}else{}await unlockOrders();}}}else{if(validateOrdersState==_0x6b569d(0x1ca))_0x38b366[_0x6b569d(0x157)](![])&&(config[_0x6b569d(0x212)]==_0x6b569d(0x1c4)?logHistory(_0x6b569d(0x1fb),_0x6b569d(0x168)+Math[_0x6b569d(0x1ee)](_0x39a824*validateOrderInterval/0xea60)+_0x6b569d(0x183)+_0x356fa4):(await cancelOrders(),logHistory(_0x6b569d(0x1fb),_0x6b569d(0x176)+Math[_0x6b569d(0x1ee)](_0x39a824*validateOrderInterval/0xea60)+_0x6b569d(0x183)+_0x356fa4))),await unlockOrders();else{if(validateOrdersState==_0x6b569d(0x1d0)){if(config['ordertype']!=_0x6b569d(0x1c4))logHistory('success',_0x6b569d(0x1e0)+_0x356fa4);await unlockOrders();}}}}}async function cancelOrders(){const _0x565f5b=_0x42de4b;lastOrders[_0x565f5b(0x18d)](async _0x177574=>{const _0x52fd17=_0x565f5b;try{const _0x48278a=await exchange[_0x52fd17(0x1e9)](_0x177574[_0x52fd17(0xfe)],_0x177574[_0x52fd17(0x119)]);}catch(_0x1aecab){if(_0x1aecab[_0x52fd17(0x25b)]()[_0x52fd17(0x157)](_0x52fd17(0x21d))){}else await handleError(_0x1aecab,_0x52fd17(0x1b1));}});}async function initCoinResults(_0x1d292d){const _0x54048b=_0x42de4b;_0x1d292d?logger[_0x54048b(0x179)](_0x54048b(0x213)+_0x1d292d):logger['debug']('Initializing\x20coin\x20results'),config['portfolio']['forEach'](_0x276083=>{const _0x16cc6a=_0x54048b;if(!_0x276083['excluded']&&_0x276083['coin']!=config['basecoin']){const _0x24addc=currentCoins[_0x16cc6a(0x266)](_0x2a2d1d=>_0x2a2d1d[_0x16cc6a(0x160)]==_0x276083[_0x16cc6a(0x160)]),_0x5a8d4d=global[_0x16cc6a(0x1d4)][noslash(_0x276083['symbol'])];let _0x9fae56=_0x24addc?_0x24addc[_0x16cc6a(0x196)]:null,_0x526599=_0x276083[_0x16cc6a(0x27d)]?0x1/_0x5a8d4d:_0x5a8d4d,_0x61206a;config[_0x16cc6a(0x234)][_0x16cc6a(0x18d)](_0x273a42=>{const _0x588f89=_0x16cc6a;!_0x61206a&&(_0x61206a=_0x273a42[_0x588f89(0x1e7)][_0x588f89(0x266)](_0x2f973=>_0x2f973[_0x588f89(0x160)]==_0x276083['coin']),_0x61206a&&(_0x9fae56=_0x61206a[_0x588f89(0x196)],_0x526599=_0x61206a['price']));});let _0x26c47c=dbCoinResults[_0x16cc6a(0x232)](_0x16cc6a(0x1ae))['find']({'coin':_0x276083['coin']})[_0x16cc6a(0x220)]();if(!_0x26c47c){const _0x45241d={'coin':_0x276083[_0x16cc6a(0x160)],'number':_0x9fae56,'breakeven':_0x526599,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x16cc6a(0x232)]('coins')['push'](_0x45241d)['write']();}else{if(_0x1d292d&&_0x276083[_0x16cc6a(0x160)]==_0x1d292d){const _0x42a37f={'coin':_0x276083['coin'],'number':_0x9fae56,'breakeven':_0x526599,'realized':0x0,'unrealized':0x0,'fees':0x0,'sells':0x0,'buys':0x0};dbCoinResults[_0x16cc6a(0x232)](_0x16cc6a(0x1ae))[_0x16cc6a(0x266)]({'coin':_0x276083[_0x16cc6a(0x160)]})['assign'](_0x42a37f)['write']();}}}});}async function updateCoinResults(_0x486289,_0xc1c65c=![]){const _0x5a3461=_0x42de4b;let _0x3f418d,_0x76f6e5,_0xf3095,_0x295e62,_0x53574b,_0x4eec12,_0x216113=dbCoinResults[_0x5a3461(0x232)](_0x5a3461(0x1ae))[_0x5a3461(0x266)]({'coin':_0x486289[_0x5a3461(0x160)]})['value'](),_0x677c3c=![];_0x216113&&Object['entries'](_0x216113)[_0x5a3461(0x18d)](([_0xaddb20,_0x2f96f5])=>{if(_0x2f96f5==null)_0x677c3c=!![];});(!_0x216113||_0x677c3c)&&(await initCoinResults(_0x486289[_0x5a3461(0x160)]),_0x216113=dbCoinResults[_0x5a3461(0x232)]('coins')[_0x5a3461(0x266)]({'coin':_0x486289['coin']})[_0x5a3461(0x220)]());_0x486289[_0x5a3461(0x27d)]&&(_0x4eec12={'filled':_0x486289[_0x5a3461(0x143)]*_0x486289[_0x5a3461(0x216)],'amount':_0x486289['filled']*_0x486289[_0x5a3461(0x216)],'side':_0x486289['side']=='sell'?'buy':'sell','price':0x1/_0x486289[_0x5a3461(0x216)]},_0x486289={..._0x486289,..._0x4eec12});_0xc1c65c?_0x76f6e5=_0x486289[_0x5a3461(0x13e)]==_0x5a3461(0x274)?_0x216113['number']+_0x486289[_0x5a3461(0x143)]:_0x216113[_0x5a3461(0x196)]-_0x486289[_0x5a3461(0x143)]:_0x76f6e5=await getCoinNumber(_0x486289[_0x5a3461(0x160)]);if(_0x486289[_0x5a3461(0x147)]&&_0x486289[_0x5a3461(0x147)][_0x5a3461(0xe5)]==config['basecoin'])_0x3f418d=Number(_0x486289[_0x5a3461(0x147)][_0x5a3461(0x1b2)]);else{if(_0x486289['fee']&&_0x486289['fee'][_0x5a3461(0xe5)]=='BNB'&&!_0xc1c65c&&config['basecoin']!=_0x5a3461(0xeb))_0x3f418d=Number(_0x486289[_0x5a3461(0x147)][_0x5a3461(0x1b2)])*global[_0x5a3461(0x1d4)][_0x5a3461(0x245)+config[_0x5a3461(0x155)]];else _0x3f418d=defaultFee*_0x486289[_0x5a3461(0x143)]*_0x486289[_0x5a3461(0x216)];}_0x486289[_0x5a3461(0x13e)]=='buy'?(_0xf3095=_0x76f6e5!=0x0?(_0x216113['breakeven']*_0x216113['number']+_0x486289['price']*(_0x76f6e5-_0x216113[_0x5a3461(0x196)])+_0x3f418d)/_0x76f6e5:0x0,_0x295e62=_0x216113['realized']):(_0xf3095=_0x76f6e5!=0x0?(_0x216113['breakeven']*_0x216113[_0x5a3461(0x196)]-_0x486289[_0x5a3461(0x216)]*(_0x216113[_0x5a3461(0x196)]-_0x76f6e5)+_0x3f418d)/_0x76f6e5:0x0,_0x295e62=_0x216113[_0x5a3461(0x190)]+(_0x486289['price']-_0x216113[_0x5a3461(0x22e)])*_0x486289[_0x5a3461(0x143)]);_0x53574b=(_0x486289[_0x5a3461(0x216)]-_0xf3095-_0x3f418d/_0x486289['filled'])*_0x76f6e5;let _0x18fc01={'coin':_0x486289['coin'],'number':_0x76f6e5,'breakeven':formatResult(_0xf3095,0x8),'realized':formatResult(_0x295e62,0x8),'unrealized':formatResult(_0x53574b,0x8),'fees':formatResult(_0x216113[_0x5a3461(0x18a)]+_0x3f418d,0x8),'sells':_0x486289['side']==_0x5a3461(0x1da)?_0x216113[_0x5a3461(0x24b)]+0x1:_0x216113[_0x5a3461(0x24b)],'buys':_0x486289[_0x5a3461(0x13e)]==_0x5a3461(0x274)?_0x216113[_0x5a3461(0x263)]+0x1:_0x216113[_0x5a3461(0x263)]};dbCoinResults[_0x5a3461(0x232)](_0x5a3461(0x1ae))[_0x5a3461(0x266)]({'coin':_0x486289[_0x5a3461(0x160)]})[_0x5a3461(0x23e)](_0x18fc01)[_0x5a3461(0x140)]();if(!_0xc1c65c){if(_0x486289[_0x5a3461(0x147)]&&_0x486289[_0x5a3461(0x147)][_0x5a3461(0xe5)]==_0x5a3461(0x245)){const _0x24794e=currentCoins[_0x5a3461(0x266)](_0x6127fe=>_0x6127fe[_0x5a3461(0x160)]=='BNB');if(_0x24794e){let _0x481491=dbCoinResults[_0x5a3461(0x232)]('coins')[_0x5a3461(0x266)]({'coin':_0x5a3461(0x245)})['value']();_0x18fc01={..._0x481491,'number':_0x24794e[_0x5a3461(0x196)]},dbCoinResults[_0x5a3461(0x232)](_0x5a3461(0x1ae))[_0x5a3461(0x266)]({'coin':'BNB'})[_0x5a3461(0x23e)](_0x18fc01)[_0x5a3461(0x140)]();}}}}async function placeOrder(_0x5bbfc4){const _0x171fa6=_0x42de4b,_0xc1aa9b=config['ordertype']==_0x171fa6(0x1c4)?_0x171fa6(0x1c4):_0x171fa6(0x1f1);if(lockOrders==ORDERS[_0x171fa6(0x175)]&&!coolingDown){lastCoinsToBalance='',lockOrders=ORDERS[_0x171fa6(0x105)],allOrdersPlaced=![],validateOrdersState=_0x171fa6(0x1c7);let _0x3de489=![];lastOrders=[];for(const _0x316e83 of _0x5bbfc4){let _0xd2a9cf,_0x5eed8e,_0x4d5bfb,_0x15c6c0,_0x24d2a2,_0x418b84=_0x316e83['symbol'];try{const _0x108570=await exchange[_0x171fa6(0x1fc)](_0x418b84);_0xd2a9cf=_0x316e83[_0x171fa6(0x27d)]?0x1/_0x316e83[_0x171fa6(0x15f)]:_0x316e83[_0x171fa6(0x15f)],_0x5eed8e=_0x108570['bid'],_0x4d5bfb=_0x108570[_0x171fa6(0x15d)];_0x316e83[_0x171fa6(0x27d)]?(_0x15c6c0=_0x316e83['side']==_0x171fa6(0x274)?'sell':_0x171fa6(0x274),_0x24d2a2=Math['abs'](_0x316e83[_0x171fa6(0x18b)])/_0xd2a9cf):(_0x15c6c0=_0x316e83['side'],_0x24d2a2=Math[_0x171fa6(0x1f8)](_0x316e83[_0x171fa6(0x18b)]));_0xc1aa9b==_0x171fa6(0x1f1)&&(config[_0x171fa6(0x212)]==_0x171fa6(0x1f3)&&(_0xd2a9cf=_0x15c6c0==_0x171fa6(0x274)?_0x5eed8e:_0x4d5bfb),config[_0x171fa6(0x212)]==_0x171fa6(0x19a)&&(_0xd2a9cf=_0x15c6c0==_0x171fa6(0x274)?_0x4d5bfb:_0x5eed8e));_0x24d2a2=formatResult(_0x24d2a2,0x8),_0xd2a9cf=formatResult(_0xd2a9cf,0x8);const _0x2b0d18=_0x15c6c0==_0x171fa6(0x1da)?config[_0x171fa6(0x200)]?String['fromCodePoint']('0x'+config[_0x171fa6(0x200)])+'\x20':'':config['emojibuy']?String[_0x171fa6(0x139)]('0x'+config[_0x171fa6(0x1cb)])+'\x20':'',_0x3c88e3=_0xc1aa9b==_0x171fa6(0x1c4)?'Market':config[_0x171fa6(0x212)]==_0x171fa6(0x1f3)?'Limit\x20(high-margin)':_0x171fa6(0x1d7),_0xa40909=(Math[_0x171fa6(0x1f6)](Math['random']()*0x35a4e900)+0x5f5e100)[_0x171fa6(0x25b)]();lastOrders[_0x171fa6(0x25e)]({'customId':_0xa40909,'symbol':_0x418b84,'coin':_0x316e83[_0x171fa6(0x160)],'amount':_0x24d2a2,'price':_0xd2a9cf,'side':_0x15c6c0,'reverse':_0x316e83['reverse'],'filled':0x0});if(_0xc1aa9b==_0x171fa6(0x1c4))logHistory(_0x171fa6(0x112),''+_0x2b0d18+_0x3c88e3+_0x171fa6(0x211)+_0x418b84+'\x20'+_0x15c6c0+'\x20#'+formatResult(_0x24d2a2,0x8)+'\x20@'+formatResult(_0xd2a9cf,0x8));else logHistory(_0x171fa6(0x112),''+_0x2b0d18+_0x3c88e3+_0x171fa6(0x211)+_0x418b84+'\x20'+_0x15c6c0+'\x20#'+formatResult(_0x24d2a2,0x8)+'\x20@'+formatResult(_0xd2a9cf,0x8));let _0x1efcc7;_0xc1aa9b=='market'?_0x15c6c0==_0x171fa6(0x274)&&['Bybit',_0x171fa6(0x1ed),_0x171fa6(0x261),_0x171fa6(0xf5),_0x171fa6(0x1a4)]['includes'](config['exchange'])?_0x1efcc7=await exchange[_0x171fa6(0x19b)](_0x418b84,_0xc1aa9b,_0x15c6c0,_0x24d2a2,_0xd2a9cf):_0x1efcc7=await exchange[_0x171fa6(0x19b)](_0x418b84,_0xc1aa9b,_0x15c6c0,_0x24d2a2,undefined):_0x1efcc7=await exchange[_0x171fa6(0x19b)](_0x418b84,_0xc1aa9b,_0x15c6c0,_0x24d2a2,_0xd2a9cf);logger[_0x171fa6(0x179)](_0x171fa6(0x246)+_0x1efcc7['id']+_0x171fa6(0xfa)+_0xa40909);const _0x178c5b=lastOrders[_0x171fa6(0x21f)]-0x1;if(_0x178c5b>=0x0&&lastOrders[_0x178c5b]['customId']==_0xa40909){lastOrders[_0x178c5b][_0x171fa6(0xfe)]=_0x1efcc7['id'];if(_0x1efcc7['amount'])lastOrders[_0x178c5b]['amount']=_0x1efcc7[_0x171fa6(0x113)];if(_0x1efcc7[_0x171fa6(0x216)])lastOrders[_0x178c5b][_0x171fa6(0x216)]=_0x1efcc7[_0x171fa6(0x216)];lastOrders[_0x178c5b][_0x171fa6(0x147)]=_0x1efcc7[_0x171fa6(0x147)];}if(config[_0x171fa6(0xff)]!=0x0){let _0x9a3500=null;if(cooldownTracker[_0x171fa6(0x21f)]==config[_0x171fa6(0xff)]-0x1)_0x9a3500=cooldownTracker[_0x171fa6(0x27b)]();const _0x7489aa=getTimeStamp();cooldownTracker[_0x171fa6(0x25e)](_0x7489aa);if(_0x9a3500){const _0x3b6c0b=fns[_0x171fa6(0x180)](new Date(_0x7489aa),new Date(_0x9a3500));if(_0x3b6c0b<cooldownInterval){logHistory(_0x171fa6(0xe6),_0x171fa6(0x14f)+config[_0x171fa6(0xff)]+'\x20orders\x20in\x20less\x20than\x20'+cooldownInterval/0x3c+_0x171fa6(0x25d)+cooldownPeriod/(0xe10*0x3e8)+'\x20hour'),coolingDown=!![];break;}}}}catch(_0xaadb08){if(_0xaadb08[_0x171fa6(0x25b)]()[_0x171fa6(0x157)](_0x171fa6(0x267)))lastOrders=lastOrders[_0x171fa6(0x242)](_0x26a31d=>_0x26a31d[_0x171fa6(0x119)]!=_0x418b84),logHistory(_0x171fa6(0xe6),_0x171fa6(0x1aa)+_0x418b84),_0x3de489=!![];else{if(_0xaadb08['toString']()[_0x171fa6(0x157)](_0x171fa6(0x24d)))lastOrders=lastOrders[_0x171fa6(0x242)](_0x30be06=>_0x30be06['symbol']!=_0x418b84),logHistory(_0x171fa6(0xe6),_0x171fa6(0x24a)+_0x418b84),_0x3de489=!![];else{if(_0xaadb08[_0x171fa6(0x25b)]()[_0x171fa6(0x157)](_0x171fa6(0x26e)))lastOrders=lastOrders['filter'](_0x12ca39=>_0x12ca39[_0x171fa6(0x119)]!=_0x418b84),logHistory('error',_0x171fa6(0x1b3)+_0x418b84),logger[_0x171fa6(0x179)](_0xaadb08),_0x3de489=!![];else _0xaadb08['toString']()[_0x171fa6(0x157)](_0x171fa6(0x195))?(lastOrders=lastOrders[_0x171fa6(0x242)](_0x23176c=>_0x23176c[_0x171fa6(0x119)]!=_0x418b84),logHistory(_0x171fa6(0xe6),_0x171fa6(0x1aa)+_0x418b84),_0x3de489=!![]):(lastOrders=lastOrders[_0x171fa6(0x242)](_0x20dc60=>_0x20dc60[_0x171fa6(0x119)]!=_0x418b84),await handleError(_0xaadb08,'placeOrder()',_0x418b84));}}}}allOrdersPlaced=!![],persistOpenOrders(lastOrders);if(lastOrders[_0x171fa6(0x21f)]>0x0){if(pidOrdersInitialTimeout)clearTimeout(pidOrdersInitialTimeout);pidOrdersInitialTimeout=setTimeout(function(){validateOrders();},0x1f40);const _0x2dfc80=config['ordertype']==_0x171fa6(0x1c4)?validateOrderTimeout*0x3c*0x3e8:config[_0x171fa6(0x276)]*0x3c*0x3e8;if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x205897=_0x171fa6;validateOrders(_0x205897(0x1ca));},_0x2dfc80);}else unlockOrders();_0x3de489&&config[_0x171fa6(0x159)]&&(logHistory(_0x171fa6(0xe6),_0x171fa6(0x131)+pauseBotMsg),await pauseBot()),coolingDown&&(await sleep(cooldownPeriod),coolingDown=![],logHistory(_0x171fa6(0x1fb),'Cooldown\x20ended\x20-\x20balancing\x20resumed'));}else{if(coolingDown)!config['headless']&&logHistory(_0x171fa6(0xe6),'Ordering\x20not\x20possible\x20while\x20in\x20cooldown\x20mode');else lockOrders!=ORDERS[_0x171fa6(0x175)]&&(!config['headless']&&(config[_0x171fa6(0x212)]==_0x171fa6(0x1c4)?logHistory(_0x171fa6(0xe6),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20validated'):logHistory(_0x171fa6(0xe6),'Ordering\x20not\x20possible\x20while\x20waiting\x20for\x20previous\x20order(s)\x20to\x20be\x20filled')));}}function persistOpenOrders(_0x5867b1){const _0x3a4f07=_0x42de4b,_0x17566c={...config,'openOrders':_0x5867b1};let _0xa2440a=dbConfig[_0x3a4f07(0x232)](_0x3a4f07(0x146))[_0x3a4f07(0x266)]({'botID':botID})[_0x3a4f07(0x220)]();_0xa2440a&&dbConfig[_0x3a4f07(0x232)](_0x3a4f07(0x146))[_0x3a4f07(0x266)]({'botID':botID})[_0x3a4f07(0x23e)](_0x17566c)[_0x3a4f07(0x140)]();}function restoreOrders(){const _0x548f3d=_0x42de4b;let _0x2a9419;config[_0x548f3d(0x100)]&&allOpenOrders[_0x548f3d(0x18d)](_0x2ffc74=>{const _0x3af2a1=_0x548f3d,_0x3e0fe6=config[_0x3af2a1(0x100)]['find'](_0x3f9b85=>_0x3f9b85[_0x3af2a1(0xfe)]==_0x2ffc74['id']);_0x3e0fe6&&(lastOrders[_0x3af2a1(0x25e)](_0x3e0fe6),_0x2a9419=_0x2ffc74['timestamp']);});if(lastOrders[_0x548f3d(0x21f)]>0x0){lockOrders=ORDERS[_0x548f3d(0x105)],validateOrdersState=_0x548f3d(0x15b),allOrdersPlaced=!![];const _0x8a11b6=new Date()['getTime'](),_0x2a488d=config[_0x548f3d(0x212)]==_0x548f3d(0x1c4)?validateOrderTimeout*0x3c*0x3e8:config[_0x548f3d(0x276)]*0x3c*0x3e8;if(_0x2a9419+_0x2a488d>_0x8a11b6){if(pidOrdersTimeout)clearTimeout(pidOrdersTimeout);pidOrdersTimeout=setTimeout(function(){const _0x1e8511=_0x548f3d;validateOrders(_0x1e8511(0x1ca));},_0x2a9419+_0x2a488d-_0x8a11b6);}else validateOrders(_0x548f3d(0x1ca));}}async function sendMetricsTelegram(){const _0x585982=_0x42de4b;if(!coinsLoaded){process[_0x585982(0x145)]({'telegrammsg':_0x585982(0x23c)},_0x3230b1=>{});return;}if(!startingBalances)await getStartingBalances(getNormalizedPerformance());let _0x1881be='';if(config[_0x585982(0x141)])_0x1881be=_0x585982(0x170)+config[_0x585982(0x238)]+_0x585982(0x1c3);else _0x1881be=_0x585982(0x128)+botID+_0x585982(0x1c3);const _0x568a6d=getKPIs(_0x585982(0x155)),_0x4915a1=getKPIs(_0x585982(0x1a5),config[_0x585982(0x1a5)]),_0x2fbc6e=getKPIs(_0x585982(0xfc)),_0x33314e=getKPIs(_0x585982(0x1b4),config[_0x585982(0x1a5)]);_0x1881be+=_0x585982(0xf6),_0x1881be+=_0x568a6d[_0x585982(0x1be)]+'\x20:\x20'+_0x568a6d[_0x585982(0x220)]+'\x0a',_0x1881be+=_0x568a6d[_0x585982(0x270)]+':\x20'+_0x568a6d[_0x585982(0x11f)]+'%\x0a',_0x1881be+=_0x4915a1[_0x585982(0x1be)]+'\x20:\x20'+_0x4915a1[_0x585982(0x220)]+'\x0a',_0x1881be+=_0x4915a1[_0x585982(0x270)]+':\x20'+_0x4915a1[_0x585982(0x11f)]+'%\x0a',_0x1881be+=_0x2fbc6e[_0x585982(0x1be)]+':\x20'+_0x2fbc6e['value']+'\x20('+config['basecoin']+')\x0a',_0x1881be+=_0x2fbc6e[_0x585982(0x270)]+':\x20'+_0x2fbc6e[_0x585982(0x11f)]+_0x585982(0x1db)+config[_0x585982(0x155)]+')\x0a',_0x1881be+=_0x33314e[_0x585982(0x1be)]+':\x20'+_0x33314e[_0x585982(0x220)]+'\x20('+config[_0x585982(0x1a5)]+')\x0a',_0x1881be+=_0x33314e[_0x585982(0x270)]+':\x20'+_0x33314e[_0x585982(0x11f)]+'%\x20('+config[_0x585982(0x1a5)]+')\x0a',_0x1881be+=_0x585982(0x192),process[_0x585982(0x145)]({'telegrammsg':_0x1881be},_0x56bdc9=>{});}async function sendPortfolioTelegram(){const _0x1a7b7e=_0x42de4b;if(!coinsLoaded||!currentCoins[0x0][_0x1a7b7e(0x19d)]){process[_0x1a7b7e(0x145)]({'telegrammsg':_0x1a7b7e(0x23c)},_0xbcd40d=>{});return;}let _0x36feb6='';if(config[_0x1a7b7e(0x141)])_0x36feb6=_0x1a7b7e(0x170)+config[_0x1a7b7e(0x238)]+_0x1a7b7e(0x144);else _0x36feb6=_0x1a7b7e(0x128)+botID+_0x1a7b7e(0x144);_0x36feb6+=_0x1a7b7e(0xf6),_0x36feb6+=_0x1a7b7e(0x13d),_0x36feb6+='Coin\x20\x20\x20|\x20\x20Distr|\x20Target|\x20\x20Delta\x20\x0a',_0x36feb6+=_0x1a7b7e(0x13d),currentCoins[_0x1a7b7e(0x18d)](_0x35134f=>{const _0x3e7495=_0x1a7b7e;_0x36feb6+=_0x35134f[_0x3e7495(0x160)][_0x3e7495(0xe2)](0x7)+'|\x20'+formatPad(_0x35134f[_0x3e7495(0x19d)],0x2,0x6)+'|\x20'+formatPad(_0x35134f[_0x3e7495(0x22d)],0x2,0x6)+'|\x20'+formatPad(_0x35134f['delta']*0x64,0x2,0x6)+'\x0a';}),_0x36feb6+='</pre>',process[_0x1a7b7e(0x145)]({'telegrammsg':_0x36feb6},_0x88adc1=>{});}function formatPad(_0x4c4a1e,_0x38956b,_0x55ee36){const _0x1ddac9=_0x42de4b,_0x59b472=formatResultString(_0x4c4a1e,_0x38956b);return _0x59b472?_0x59b472[_0x1ddac9(0x151)](_0x55ee36):''[_0x1ddac9(0x151)](_0x55ee36);}function logHistory(_0x1b3f26,_0x267d2c,_0x446e59=''){const _0x596935=_0x42de4b;logger[_0x596935(0x110)](''+_0x267d2c);let _0x20d407={'time':getTimeStamp(),'type':_0x1b3f26,'event':_0x267d2c};dbLogs[_0x596935(0x232)](_0x596935(0x1f7))[_0x596935(0x25e)](_0x20d407)[_0x596935(0x140)]();if(_0x446e59=='')_0x446e59=_0x267d2c;proxyEmit(_0x596935(0x262),{'log':_0x20d407,'summary':_0x446e59}),process[_0x596935(0x145)]({'telegram':{..._0x20d407,'botname':config[_0x596935(0x238)],'showname':config['showname']}},_0x4825b5=>{});}function emitHistory(_0x4e3e07={}){const _0x5c107f=_0x42de4b;Object[_0x5c107f(0x158)](_0x4e3e07)['length']==0x0&&(_0x4e3e07={'type':[_0x5c107f(0x112),_0x5c107f(0x262)],'event':'','page':0x1});if(_0x4e3e07[_0x5c107f(0x233)][_0x5c107f(0x157)]('event'))_0x4e3e07[_0x5c107f(0x233)]['splice'](_0x4e3e07[_0x5c107f(0x233)]['indexOf'](_0x5c107f(0x262)),0x1,_0x5c107f(0xe6),_0x5c107f(0x239),_0x5c107f(0x1fb));if(dbLogs[_0x5c107f(0xf3)](_0x5c107f(0x1f7))['value']()){let _0x7403ce=dbLogs['get']('logs')[_0x5c107f(0x242)](_0x3bc3dc=>{const _0x5b96f8=_0x5c107f;if(_0x4e3e07[_0x5b96f8(0x233)][_0x5b96f8(0x21f)]==0x0)return![];else return _0x4e3e07['type']['includes'](_0x3bc3dc[_0x5b96f8(0x233)]);})[_0x5c107f(0x242)](_0x1072fd=>{const _0x23aeec=_0x5c107f;if(_0x4e3e07[_0x23aeec(0x262)]=='')return!![];else return _0x1072fd['event'][_0x23aeec(0x281)]()[_0x23aeec(0x157)](_0x4e3e07['event'][_0x23aeec(0x281)]());})[_0x5c107f(0x161)]('time'),_0x3b94d2=_0x7403ce[_0x5c107f(0x220)]()[_0x5c107f(0x21f)];_0x7403ce=_0x7403ce[_0x5c107f(0x27d)]()[_0x5c107f(0x203)]((_0x4e3e07[_0x5c107f(0x1cd)]-0x1)*logPageSize,_0x4e3e07[_0x5c107f(0x1cd)]*logPageSize-0x1)['reverse']()[_0x5c107f(0x220)](),proxyEmit('event-history',{'logs':_0x7403ce,'total':_0x3b94d2});}else proxyEmit(_0x5c107f(0x20a),{'logs':[],'total':0x0});}function deleteHistoryAlerts(_0x230cea){const _0x3b8e8a=_0x42de4b;if(dbLogs[_0x3b8e8a(0xf3)]('logs')['value']()){const _0x4a7013=dbLogs['get']('logs')[_0x3b8e8a(0x161)](_0x3b8e8a(0x10c))[_0x3b8e8a(0x242)](_0x1b11f3=>{const _0x38cdc3=_0x3b8e8a;return _0x1b11f3['type']==_0x38cdc3(0x112);})[_0x3b8e8a(0x220)]();dbLogs['get'](_0x3b8e8a(0x1f7))[_0x3b8e8a(0x207)]()[_0x3b8e8a(0x140)](),dbLogs[_0x3b8e8a(0x232)]('logs')['assign'](_0x4a7013)[_0x3b8e8a(0x140)](),emitHistory(_0x230cea);}}async function pauseBot(_0x351c7e=pauseBotInterval){const _0x2cf822=_0x42de4b,_0x4a502f=new Date()[_0x2cf822(0x13b)]();if(!lastErrorShown||_0x4a502f-lastErrorShown>=_0x351c7e){lastErrorShown=_0x4a502f;!lastBotPause?(lastBotPause=_0x4a502f,consecutivePauses=0x1):(_0x4a502f-lastBotPause-_0x351c7e<0x3c*0x3e8?(consecutivePauses++,consecutivePauses>0x2&&process[_0x2cf822(0x145)]({'stop':'restart'},_0x2747c1=>{})):consecutivePauses=0x1,lastBotPause=new Date()[_0x2cf822(0x13b)]());if(!botPaused){botPaused=!![];if(pidBalances)clearTimeout(pidBalances);coinsLoaded=![],await stopExchange(),await sleep(_0x351c7e),botPaused=![],reset(!![]);}}}async function killBot(){const _0x1c35ea=_0x42de4b;botPaused=!![],await sleep(0x3e8),process[_0x1c35ea(0x145)]({'stop':'kill'},_0xb0d8df=>{}),await sleep(0x7d0);}async function handleErrorNoStop(_0x3cebe5,_0x3edd2e){const _0x36266f=_0x42de4b;if(botPaused)return;const _0xa36c34=config[_0x36266f(0x23a)]||'Exchange';if(_0x3edd2e)logger[_0x36266f(0x179)](_0x36266f(0x16b)+_0x3edd2e);const _0x44b617=()=>{loading['error']=!![],emitLoadingProgress();};if(_0x3cebe5[_0x36266f(0x25b)]()['includes'](_0x36266f(0x16c)))logHistory('error',_0xa36c34+_0x36266f(0x282)),_0x44b617();else{if(_0x3cebe5[_0x36266f(0x25b)]()[_0x36266f(0x157)](_0x36266f(0x284)))logHistory(_0x36266f(0xe6),_0xa36c34+_0x36266f(0x1df)),_0x44b617();else _0x3cebe5[_0x36266f(0x25b)]()[_0x36266f(0x157)](_0x36266f(0x188))?(logHistory(_0x36266f(0xe6),_0xa36c34+_0x36266f(0x20d)),logHistory(_0x36266f(0xe6),_0x36266f(0x1bf)),_0x44b617()):await handleError(_0x3cebe5,null);}}async function handleError(_0x39ab04,_0x16b379,_0x3a65c5=''){const _0xe87fd2=_0x42de4b;if(botPaused)return;const _0x19a2cb=config['exchange']||_0xe87fd2(0x19c);if(_0x16b379)logger[_0xe87fd2(0x179)]('Exception\x20thrown\x20in\x20'+_0x16b379);if(_0x39ab04[_0xe87fd2(0x25b)]()[_0xe87fd2(0x157)]('DDoSProtection'))logHistory(_0xe87fd2(0xe6),_0x19a2cb+_0xe87fd2(0x11e)+pauseBotMsg),logger[_0xe87fd2(0x179)]('Error\x20details:',_0x39ab04),await pauseBot();else{if(_0x39ab04['toString']()[_0xe87fd2(0x157)]('RateLimitExceeded'))logHistory('error',_0x19a2cb+_0xe87fd2(0x21c)+pauseBotMsg),logger[_0xe87fd2(0x179)](_0xe87fd2(0x11a),_0x39ab04),await pauseBot();else{if(_0x39ab04[_0xe87fd2(0x25b)]()['includes'](_0xe87fd2(0x10f))||_0x39ab04['toString']()[_0xe87fd2(0x157)](_0xe87fd2(0x1c2)))logHistory(_0xe87fd2(0xe6),_0x19a2cb+'\x20not\x20available\x20(info:\x20hodlerhacks.com/fix/#exchange-unavailable)'+pauseBotMsg),await pauseBot();else{if(_0x39ab04[_0xe87fd2(0x25b)]()['includes'](_0xe87fd2(0x148)))logHistory(_0xe87fd2(0xe6),_0x19a2cb+_0xe87fd2(0x123)+pauseBotMsg),await pauseBot();else{if(_0x39ab04[_0xe87fd2(0x25b)]()[_0xe87fd2(0x157)](_0xe87fd2(0x252)))logHistory(_0xe87fd2(0xe6),_0x19a2cb+_0xe87fd2(0xf4)+pauseBotMsg),await pauseBot();else{if(_0x39ab04[_0xe87fd2(0x25b)]()[_0xe87fd2(0x281)]()[_0xe87fd2(0x157)](_0xe87fd2(0x249))||_0x39ab04['toString']()[_0xe87fd2(0x281)]()[_0xe87fd2(0x157)](_0xe87fd2(0x134)))logHistory(_0xe87fd2(0xe6),_0xe87fd2(0x27c)+pauseBotMsg),logger[_0xe87fd2(0x179)](_0xe87fd2(0x11a),_0x39ab04['toString']()),await pauseBot();else{if(_0x39ab04[_0xe87fd2(0x25b)]()[_0xe87fd2(0x157)]('InvalidNonce'))logHistory(_0xe87fd2(0xe6),_0x19a2cb+_0xe87fd2(0xf1)+pauseBotMsg),logger[_0xe87fd2(0x179)](_0xe87fd2(0x11a),_0x39ab04),await pauseBot();else{if(_0x39ab04 instanceof ccxt['NetworkError'])logHistory(_0xe87fd2(0xe6),_0x19a2cb+_0xe87fd2(0x1ba)+pauseBotMsg),logger[_0xe87fd2(0x179)]('Error\x20details:',_0x39ab04),await pauseBot();else{if(_0x39ab04[_0xe87fd2(0x25b)]()[_0xe87fd2(0x157)](_0xe87fd2(0x16c)))logHistory('error',_0x19a2cb+'\x20API\x20key\x20is\x20invalid'),logHistory(_0xe87fd2(0xe6),_0xe87fd2(0x278)),await killBot();else{if(_0x39ab04[_0xe87fd2(0x25b)]()[_0xe87fd2(0x157)]('Signature\x20for\x20this\x20request\x20is\x20not\x20valid'))logHistory(_0xe87fd2(0xe6),_0x19a2cb+'\x20API\x20secret\x20is\x20invalid'),logHistory(_0xe87fd2(0xe6),_0xe87fd2(0x278)),await killBot();else{if(_0x39ab04['toString']()[_0xe87fd2(0x157)](_0xe87fd2(0x188)))logHistory(_0xe87fd2(0xe6),_0x19a2cb+_0xe87fd2(0x178)),logHistory(_0xe87fd2(0xe6),_0xe87fd2(0x278)),await killBot();else{if(_0x39ab04[_0xe87fd2(0x25b)]()[_0xe87fd2(0x157)](_0xe87fd2(0x182)))logHistory(_0xe87fd2(0xe6),_0x19a2cb+_0xe87fd2(0x152)),logHistory('error',_0xe87fd2(0x278)),await killBot();else{if(_0x39ab04['toString']()[_0xe87fd2(0x157)](_0xe87fd2(0x272)))logHistory('error',_0xe87fd2(0x1b0)+_0x3a65c5);else _0x39ab04 instanceof ccxt['ExchangeError']?(logHistory(_0xe87fd2(0xe6),_0x19a2cb+_0xe87fd2(0x138)),logger[_0xe87fd2(0x179)](_0xe87fd2(0x11a),_0x39ab04)):(logHistory(_0xe87fd2(0xe6),_0xe87fd2(0x1a8)+pauseBotMsg),logger[_0xe87fd2(0x179)](_0xe87fd2(0x11a),_0x39ab04),await pauseBot());}}}}}}}}}}}}}async function withRetry(_0x56ac96,_0x163f85){const _0x1592a4=_0x42de4b;let _0x4d6002=![],_0x234920=0x0,_0x4a39f8,_0xcad009;while(_0x234920<maxRetries){try{_0x4a39f8=await _0x163f85();break;}catch(_0x288f03){_0xcad009=_0x288f03,!_0x4d6002?(_0x4d6002=!![],logger['debug']('RETRY\x20-\x20Error\x20in\x20'+_0x56ac96+':',_0x288f03['toString']())):await sleep(retryInterval);}_0x234920++;}if(_0x234920==0x0)return _0x4a39f8;if(_0x234920>=maxRetries)throw _0xcad009;else return logger[_0x1592a4(0x179)](_0x1592a4(0x11d)+_0x234920+_0x1592a4(0x1bc)),_0x4a39f8;}function formatResult(_0x3150b7,_0x5a2b51){return parseFloat(_0x3150b7['toFixed'](_0x5a2b51));}function formatResultTruncate(_0xeeb06a,_0x152447){const _0x4730c3=_0x42de4b;let _0x3ad91d=formatResultString(_0xeeb06a,0xa),_0x416c37=_0x3ad91d[_0x4730c3(0x127)]('.');return _0x416c37!=-0x1&&(_0x3ad91d=_0x3ad91d[_0x4730c3(0x203)](0x0,_0x416c37+_0x152447+0x1)),Number(_0x3ad91d);}function formatResultString(_0x1c68a5,_0x17c41f){const _0x4f637a=_0x42de4b;let _0x51a355;if(!(''+_0x1c68a5)[_0x4f637a(0x157)]('e'))_0x51a355=+(Math[_0x4f637a(0x1ee)](_0x1c68a5+'e+'+_0x17c41f)+'e-'+_0x17c41f);else{let _0x44e3ad=(''+_0x1c68a5)[_0x4f637a(0x149)]('e'),_0x3a7576='';+_0x44e3ad[0x1]+_0x17c41f>0x0&&(_0x3a7576='+'),_0x51a355=+(Math[_0x4f637a(0x1ee)](+_0x44e3ad[0x0]+'e'+_0x3a7576+(+_0x44e3ad[0x1]+_0x17c41f))+'e-'+_0x17c41f);}return Number(_0x51a355)[_0x4f637a(0x118)](_0x17c41f);}function getServerTime(){const _0x94b6fa=_0x42de4b,_0x4d86c4=new Date();return _0x4d86c4[_0x94b6fa(0xf9)]()+'/'+(_0x4d86c4[_0x94b6fa(0x248)]()+0x1)[_0x94b6fa(0x25b)]()['padStart'](0x2,'0')+'/'+_0x4d86c4[_0x94b6fa(0x132)]()[_0x94b6fa(0x25b)]()[_0x94b6fa(0x151)](0x2,'0')+'\x20'+_0x4d86c4['getHours']()[_0x94b6fa(0x25b)]()[_0x94b6fa(0x151)](0x2,'0')+':'+_0x4d86c4['getMinutes']()[_0x94b6fa(0x25b)]()[_0x94b6fa(0x151)](0x2,'0')+':'+_0x4d86c4['getSeconds']()['toString']()[_0x94b6fa(0x151)](0x2,'0');}function getTimeStamp(){const _0x4ff8d9=_0x42de4b,_0x3b3186=shiftedTime();return _0x3b3186[_0x4ff8d9(0xf9)]()+'/'+(_0x3b3186[_0x4ff8d9(0x248)]()+0x1)[_0x4ff8d9(0x25b)]()[_0x4ff8d9(0x151)](0x2,'0')+'/'+_0x3b3186['getDate']()[_0x4ff8d9(0x25b)]()[_0x4ff8d9(0x151)](0x2,'0')+'\x20'+_0x3b3186['getHours']()[_0x4ff8d9(0x25b)]()[_0x4ff8d9(0x151)](0x2,'0')+':'+_0x3b3186[_0x4ff8d9(0x120)]()['toString']()['padStart'](0x2,'0')+':'+_0x3b3186[_0x4ff8d9(0x1d8)]()[_0x4ff8d9(0x25b)]()[_0x4ff8d9(0x151)](0x2,'0');}function getDate(){const _0x1d6e4e=_0x42de4b,_0x2a5b48=shiftedTime();return _0x2a5b48[_0x1d6e4e(0xf9)]()+'/'+(_0x2a5b48[_0x1d6e4e(0x248)]()+0x1)[_0x1d6e4e(0x25b)]()[_0x1d6e4e(0x151)](0x2,'0')+'/'+_0x2a5b48['getDate']()[_0x1d6e4e(0x25b)]()[_0x1d6e4e(0x151)](0x2,'0');}function getHour(){const _0x48be95=_0x42de4b,_0x21a39e=shiftedTime();return _0x21a39e[_0x48be95(0x1c6)]()[_0x48be95(0x25b)]()[_0x48be95(0x151)](0x2,'0');}function sleep(_0x1639e5){return new Promise(_0xc113e2=>setTimeout(_0xc113e2,_0x1639e5));}function shiftedTime(){const _0x5d4c29=_0x42de4b,_0x1fc751=new Date();let _0x26e2e5=_0x1fc751;if(config&&config[_0x5d4c29(0xfd)]!==0x0)_0x26e2e5=fns[_0x5d4c29(0x14d)](_0x1fc751,{'hours':config[_0x5d4c29(0xfd)]});return _0x26e2e5;}function timer(_0x3ceb65){const _0x52bd56=_0x42de4b,_0x510611=new Date();!lasttime?console[_0x52bd56(0x187)](getTimeStamp()+_0x52bd56(0x22c),_0x3ceb65,_0x510611):console[_0x52bd56(0x187)](getTimeStamp()+_0x52bd56(0x22c),_0x3ceb65,(_0x510611-lasttime)/0x3e8),lasttime=_0x510611;}