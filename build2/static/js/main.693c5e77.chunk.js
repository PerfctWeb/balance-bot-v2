(this["webpackJsonpbb-manager"]=this["webpackJsonpbb-manager"]||[]).push([[0],{109:function(e,t){},163:function(e){e.exports=JSON.parse('{"version":"2.1.1"}')},202:function(e,t,a){},203:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),o=a.n(r),i=(a(202),a(203),a(41)),s=a(8),l=a(5),d=a(311),j=a(331),b=a(329),u=a(316),h=a(342),O=a(328),x=a(313),m=a(334),g=a(323),f=a(326),p=a(324),v=a(325),w=a(340),y=a(330),k=a(52),C=a(335),S=a(266),I=a(333),T=a(332),F=a(262),P=a(337),B=a(336),D=a(92),A=a.n(D),N=a(341),E=a(338),q=a(348),W=a(166),L=a.n(W),R=a(165),z=a.n(R),U=a(263),H=a(259),M=a(346),Y=a(265),K=a(321),G=a(345),J=a(339),_=a(320),V=a(315),$=a(160),Q=a.n($),X=a(1),Z=Object(d.a)((function(e){return{cardHeader:{backgroundColor:"#000"},content:{padding:e.spacing(2)}}}));function ee(e){var t=Z(),a=e.bot,c=e.mode,r=Object(n.useState)(a.status),o=Object(s.a)(r,2),i=o[0],l=o[1],d=Object(n.useState)(""),j=Object(s.a)(d,2),b=j[0],O=j[1],m=Object(n.useState)(a.status),g=Object(s.a)(m,2),f=g[0],p=g[1];Object(n.useEffect)((function(){var e;return l(a.status),O(a.live),e="new"===a.status?"new":"new-disabled"===a.status||"disabled"===a.status?"disabled":""===a.live?"enabled":"stopped"===a.live?Object(X.jsxs)("span",{children:[Object(X.jsxs)("span",{children:[a.status," / "]}),Object(X.jsx)("span",{style:{color:"#f00"},children:"stopped"})]}):"enabled / running",p(e),function(){}}),[a]);return Object(X.jsx)(x.a,{item:!0,xs:12,sm:6,md:4,children:Object(X.jsxs)(V.a,{children:[Object(X.jsxs)(x.a,{container:!0,direction:"row",children:[Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(h.a,{className:t.cardHeader,children:Object(X.jsx)(k.a,{gutterBottom:!0,variant:"button",component:"h2",children:Object(X.jsx)(h.a,{color:"#FFF",ml:2,mr:2,children:a.botname})})})}),Object(X.jsx)(x.a,{item:!0,xs:12,className:t.content,children:Object(X.jsxs)(k.a,{variant:"button",children:[Object(X.jsxs)("div",{children:["Bot ID: ",Object(X.jsx)("b",{children:a.botID})]}),Object(X.jsx)("div",{children:Object(X.jsxs)("span",{children:["Status: ",Object(X.jsx)("b",{children:f})]})})]})})]}),Object(X.jsxs)(x.a,{container:!0,direction:"row",className:t.content,children:[Object(X.jsx)(x.a,{item:!0,xs:7,children:Object(X.jsx)(u.a,{variant:"contained",onClick:function(){e.callback(a.botID,"dashboard")},disabled:"disabled"===i||"running"!==b,children:"Dashboard"})}),Object(X.jsx)(x.a,{item:!0,xs:2,children:Object(X.jsx)(u.a,{size:"small",color:"primary",onClick:function(){var t;"enabled"===i?t="disabled":"new"===i?t="new-disabled":"new-disabled"===i?t="new":"disabled"===i&&(t="enabled"),l(t),O(""),e.callback(a.botID,"status",t)},children:Object(X.jsx)(Q.a,{color:"disabled"===i||"new-disabled"===i?"disabled":"light"===c?"primary":"secondary"})})}),Object(X.jsx)(x.a,{item:!0,xs:2,children:Object(X.jsx)(u.a,{size:"small",color:"light"===c?"primary":"secondary",onClick:function(){e.callback(a.botID,"delete")},children:Object(X.jsx)(A.a,{})})}),Object(X.jsx)(x.a,{item:!0,xs:1})]})]})})}var te,ae=a(174),ne=a(327),ce=a(343),re=a(349),oe=a(115),ie=a.n(oe),se=Object(l.a)((function(e){return{tooltip:{backgroundColor:"light"===e.palette.type?"#FFFFFF":"#000000",color:"light"===e.palette.type?"#000000":"#FFFFFF",maxWidth:800,fontSize:e.typography.pxToRem(14),border:"1px solid #888888"}}}))(q.a),le=a(322),de=a(168),je=function(e,t){var a=c.a.useState(localStorage.getItem(e)||t),n=Object(s.a)(a,2),r=n[0],o=n[1];return c.a.useEffect((function(){localStorage.setItem(e,r)}),[r]),[r,o]},be=Object(n.createContext)(),ue=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(X.jsx)(be.Provider,{value:[c,r],children:e.children})},he=Object(n.createContext)(),Oe=function(e){var t=Object(n.useState)({status:"disconnected",serverversion:"0.0",servertime:"---",access:{allow:!1,reason:"initial state",token:null},externalip:"",publicKey:"",loginNow:!1}),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(X.jsx)(he.Provider,{value:[c,r],children:e.children})},xe=Object(n.createContext)(),me=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(X.jsx)(xe.Provider,{value:[c,r],children:e.children})},ge=a(162),fe=a.n(ge),pe=a(93),ve=localStorage.getItem("uuid"),we=localStorage.getItem("publicKey"),ye=new pe.Crypt({md:"sha256",rsaStandard:"RSA-OAEP"}),ke=fe()("/",{auth:{encryptedUuid:(te=new Date,!!(ve&&we&&we.includes("-----BEGIN PUBLIC KEY-----"))&&ye.encrypt(we,"".concat(ve,"@").concat(te.getTime())))}}),Ce=a(258),Se=a(116),Ie=a.n(Se),Te=a(169),Fe=a(164),Pe=a(347),Be=a(167),De=a(319),Ae=a(97),Ne=a(113),Ee=a.n(Ne),qe=a(114),We=a.n(qe),Le=a(163),Re=a(344);function ze(){return Object(X.jsx)(h.a,{color:"#FFF",children:Object(X.jsxs)(k.a,{variant:"body2",align:"center",children:["Copyright \xa9 ",Object(X.jsx)(_.a,{color:"inherit",href:"https://hodlerhacks.com/",children:"hodlerhacks.com"})," ",(new Date).getFullYear()]})})}var Ue=Object(l.a)({checked:{},track:{backgroundColor:"#999"}})(K.a),He=(Object(de.a)({typography:{overline:{lineHeight:"16px"}}}),Object(l.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:12}}}))(q.a));function Me(){var e=je("mode","light"),t=Object(s.a)(e,2),a=t[0],r=t[1],o=je("publicKey",""),D=Object(s.a)(o,2),N=D[0],q=D[1],W=je("badge","false"),L=Object(s.a)(W,2),R=L[0],K=L[1],V=je("uuid",""),$=Object(s.a)(V,2),Q=$[0],Z=$[1],te=localStorage.getItem("latest-version"),re=Object(n.useContext)(be),oe=Object(s.a)(re,2),ue=oe[0],Oe=oe[1],me=Object(n.useContext)(he),ge=Object(s.a)(me,2),fe=ge[0],ve=fe.status,we=fe.serverversion,ye=fe.servertime,Se=fe.access,Ie=fe.externalip,Ne=fe.publicKey,qe=fe.loginNow,Me=ge[1],Ke=Object(n.useContext)(xe),Ge=Object(s.a)(Ke,2),Je=Ge[0],_e=Ge[1],Ve=Object(Ae.b)().enqueueSnackbar,$e=Le.version,Qe=Object(n.useState)(!1),Xe=Object(s.a)(Qe,2),Ze=Xe[0],et=Xe[1],tt=Object(n.useState)(!1),at=Object(s.a)(tt,2),nt=at[0],ct=at[1],rt=Object(n.useState)(!0),ot=Object(s.a)(rt,2),it=ot[0],st=ot[1],lt=Object(n.useState)(!1),dt=Object(s.a)(lt,2),jt=dt[0],bt=dt[1],ut=Object(n.useState)(!1),ht=Object(s.a)(ut,2),Ot=ht[0],xt=ht[1],mt=Object(n.useState)(!1),gt=Object(s.a)(mt,2),ft=gt[0],pt=gt[1],vt=Object(n.useState)({}),wt=Object(s.a)(vt,2),yt=wt[0],kt=wt[1],Ct=Object(n.useState)(""),St=Object(s.a)(Ct,2),It=St[0],Tt=St[1],Ft=Object(n.useState)(!1),Pt=Object(s.a)(Ft,2),Bt=Pt[0],Dt=Pt[1],At=Object(n.useState)(),Nt=Object(s.a)(At,2),Et=Nt[0],qt=Nt[1],Wt=Object(n.useState)(),Lt=Object(s.a)(Wt,2),Rt=Lt[0],zt=Lt[1],Ut=Object(n.useState)(Je.timeshift||"0"),Ht=Object(s.a)(Ut,2),Mt=Ht[0],Yt=Ht[1],Kt=Object(n.useState)(Je.telegramToken||""),Gt=Object(s.a)(Kt,2),Jt=Gt[0],_t=Gt[1],Vt=Object(n.useState)(Je.telegramUsername||""),$t=Object(s.a)(Vt,2),Qt=$t[0],Xt=$t[1],Zt=Object(n.useState)(Je.loginRequired||!1),ea=Object(s.a)(Zt,2),ta=ea[0],aa=ea[1],na=Object(n.useState)(Je.bbUsername||""),ca=Object(s.a)(na,2),ra=ca[0],oa=ca[1],ia=Object(n.useState)(Je.bbPassword||""),sa=Object(s.a)(ia,2),la=sa[0],da=sa[1],ja=Object(n.useState)(Je.f2aRequired||!1),ba=Object(s.a)(ja,2),ua=ba[0],ha=ba[1],Oa=Object(n.useState)(Je.whitelistEnabled||!1),xa=Object(s.a)(Oa,2),ma=xa[0],ga=xa[1],fa=Object(n.useState)(Je.whitelist||[]),pa=Object(s.a)(fa,2),va=pa[0],wa=pa[1],ya=Object(n.useState)(Je.temporaryAccessAllowed||!1),ka=Object(s.a)(ya,2),Ca=ka[0],Sa=ka[1],Ia=Object(n.useState)(""),Ta=Object(s.a)(Ia,2),Fa=Ta[0],Pa=Ta[1],Ba=Object(n.useState)(!1),Da=Object(s.a)(Ba,2),Aa=Da[0],Na=Da[1],Ea=Object(n.useState)("initial state"),qa=Object(s.a)(Ea,2),Wa=qa[0],La=qa[1],Ra=Object(n.useState)(""),za=Object(s.a)(Ra,2),Ua=za[0],Ha=za[1],Ma=Object(n.useState)(""),Ya=Object(s.a)(Ma,2),Ka=Ya[0],Ga=Ya[1],Ja=Object(n.useState)(0),_a=Object(s.a)(Ja,2),Va=_a[0],$a=_a[1],Qa=Object(n.useState)(0),Xa=Object(s.a)(Qa,2),Za=Xa[0],en=Xa[1],tn=new pe.Crypt({md:"sha256",rsaStandard:"RSA-OAEP"});Object(n.useEffect)((function(){return document.title="BB | Bot Manager",""===Q&&(Z(Object(Re.a)()),setTimeout((function(){window.location.reload()}),500)),window.addEventListener("storage",(function(){var e=localStorage.getItem("mode");r(e)})),function(){}}),[]),Object(n.useEffect)((function(){return Yt(Je.timeshift||"0"),_t(Je.telegramToken||""),Xt(Je.telegramUsername||""),ga(Je.whitelistEnabled||!1),aa(Je.loginRequired||!1),oa(Je.bbUsername||""),da(Je.bbPassword||""),ha(Je.f2aRequired||!1),wa(Je.whitelist||[]),Sa(Je.temporaryAccessAllowed||!1),function(){}}),[Je]);var an=Math.min(480,function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useLayoutEffect)((function(){function e(){c(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}()),nn=an-50,cn=Object(d.a)((function(e){return{root:{display:"flex"},logo:{maxWidth:60,padding:10},heroContent:{backgroundColor:"light"===a?"#fff":"#000",padding:e.spacing(4,0,2)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)},card:{height:"100%",display:"flex",flexDirection:"column"},cardHeader:{backgroundColor:"#000"},cardContent:{flexGrow:1},form:{width:"100%",marginTop:e.spacing(1)},footer:{padding:e.spacing(2),marginTop:"auto",backgroundColor:"#000000"},bottomPush:{position:"fixed",width:"100%",bottom:0,paddingBottom:0},backdrop:{zIndex:e.zIndex.drawer+2,color:"#fff"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:an,flexShrink:0},drawerPaper:{width:an},drawerContainer:{overflow:"auto"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1),width:"80px"},textinput:{width:nn}}}))(),rn=Object(de.a)({palette:{type:a}}),on=Object(l.a)({root:{"&:hover":{backgroundColor:"transparent"},"&:click":{backgroundColor:"#f00"}}})(u.a);Object(n.useEffect)((function(){return xt("disconnected"===ve&&null!==ue),function(){}}),[ve]),Object(n.useEffect)((function(){return void 0!==N&&Ne&&Ne.includes("-----BEGIN PUBLIC KEY-----")&&(Ne!==N?(q(Ne),setTimeout((function(){window.location.reload()}),500)):"starting"===ve&&window.location.reload()),function(){}}),[Ne,N,ve]),Object(n.useEffect)((function(){return Se&&(!1===Se.allow&&"2FA required"===Se.reason?(Na(!1),La("Add your client's IP address to the IP whitelist, or temporarily allow access throught your Telegram bot")):!1===Se.allow&&"temporary access not allowed"===Se.reason?(Na(!1),La("Add your client's IP address to the IP whitelist")):!1===Se.allow&&"access timeout"===Se.reason?(Na(!1),La("Your access has timed out")):!1===Se.allow&&"2FA login required"===Se.reason?(Na(!1),La("2FA required - approve login through your Telegram bot")):!1===Se.allow&&"invalid credentials"===Se.reason?(Na(!1),La("Incorrect username or password")):!1===Se.allow&&"logged out"===Se.reason?(Na(!1),La("You've logged out")):!1===Se.allow&&"initial state"===Se.reason?(Na(!1),La("initial state")):!1===Se.allow&&"reload"===Se.reason?hn():Na(!0)),function(){}}),[Se]),Object(n.useEffect)((function(){return pt(we&&"0.0"!==we&&we!==$e),function(){}}),[we]),Object(n.useEffect)((function(){return ke.on("bots",(function(e){Oe(e),st(!1)})),ke.on("notification",(function(e){Ve(e,{variant:"error",autoHideDuration:8e3})})),function(){ke.off("bots"),ke.off("telegram")}}),[]),Object(n.useEffect)((function(){var e=50,t=50;return te>$e&&(e+=140),Se&&Se.token&&(e+=50,t+=50),$a(e),en(t),function(){}}),[te,$e,Se]);var sn=function(){bt(!1)},ln=function(e,t,a){if("delete"===t)!function(e){var t=ue.find((function(t){return t.botID===e}));kt({botID:e,botname:t.botname}),Tt(""),bt(!0)}(e);else if("dashboard"===t){var n,c="bot".concat(e),r=window.location.href;r.includes(":5000")&&(r=r.replace(":5000",":4000")),n=r+c,window.open(n,"_blank")}else{var o=ue.find((function(t){return t.botID===e}));o.status=a,o.live="stopped",ke&&(ke.emit("update-bot",o,Se.token),Oe(ue))}},dn=function(e){r("light"===a?"dark":"light")},jn=function(){Dt(!0)},bn=function(){Dt(!1)},un=function(){Yt(Je.timeshift),_t(Je.telegramToken),Xt(Je.telegramUsername),aa(Je.loginRequired),oa(Je.bbUsername),da(Je.bbPassword),ha(Je.f2aRequired),ga(Je.whitelistEnabled),wa(Je.whitelist),Sa(Je.temporaryAccessAllowed),bn()},hn=function(){window.location.reload()},On=function(e){var t=new Date,a=Object(Be.a)(ye,"yyyy/MM/dd HH:mm:ss",new Date),n=Object(Te.a)(a,t),c=Object(Fe.a)(t,n),r=c.getHours().toString().padStart(2,"0")+":"+c.getMinutes().toString().padStart(2,"0"),o=c;return 0!==e&&(o=Object(Pe.a)(c,{hours:e})),[r,o.getHours().toString().padStart(2,"0")+":"+o.getMinutes().toString().padStart(2,"0")]};Object(n.useEffect)((function(){return qt(On(Mt)[0]),zt(On(Mt)[1]),function(){}}),[ye,Mt]);var xn=function(e){ha(e.target.checked)},mn=function(e){Sa(e.target.checked)},gn=function(e){var t=null,a=null;if(We.a.isValid(e)){var n=We.a.parse(e);"ipv6"===n.kind()?(n.isIPv4MappedAddress()&&(t=n.toIPv4Address().toString()),a=n.toString()):(t=n.toString(),a=n.toIPv4MappedAddress().toString())}return{show:t||a,store:a}},fn=function(){ke&&ke.emit("logout",Se.token),Me({status:ve,serverversion:we,servertime:ye,access:{allow:!1,reason:"logged out",token:null},externalip:Ie,publicKey:Ne,loginNow:qe})},pn=function(){et(!1)},vn=function(){ct(!1)},wn=function(e){"username"===e.target.id&&Ha(e.target.value),"password"===e.target.id&&Ga(e.target.value)};return Object(X.jsx)(le.a,{theme:rn,children:Ot?Object(X.jsxs)(g.a,{open:!0,fullWidth:!0,maxWidth:"sm",children:[Object(X.jsxs)(p.a,{children:[Object(X.jsx)(v.a,{children:Object(X.jsx)(k.a,{variant:"overline",color:"secondary",children:"Disconnected from server"})}),Object(X.jsx)(v.a,{children:Object(X.jsx)(k.a,{variant:"overline",children:"The connection with the server has been lost. You may have opened the application from another browser or device."})})]}),Object(X.jsx)(f.a,{children:Object(X.jsx)(u.a,{variant:"contained",onClick:hn,color:"secondary",children:"Reconnect"})})]}):Aa||"initial state"!==Wa?ft||!Aa||qe?Aa&&!qe?Object(X.jsxs)(g.a,{open:!0,fullWidth:!0,maxWidth:"sm",children:[Object(X.jsx)(p.a,{children:Object(X.jsxs)(v.a,{children:[Object(X.jsx)(k.a,{variant:"overline",color:"secondary",children:"New version has been installed"}),Object(X.jsx)(v.a,{}),Object(X.jsx)(k.a,{variant:"overline",children:"Please refresh the browser window to load the latest version"})]})}),Object(X.jsx)(f.a,{children:Object(X.jsx)(u.a,{variant:"contained",onClick:hn,color:"secondary",children:"Refresh"})})]}):qe?Object(X.jsxs)(c.a.Fragment,{children:[Object(X.jsx)(O.a,{}),Object(X.jsxs)(g.a,{open:!0,fullWidth:!0,maxWidth:"sm",children:[Object(X.jsx)(w.a,{children:"Log in"}),Object(X.jsxs)(p.a,{children:[Object(X.jsx)(m.a,{color:"light"===a?"primary":"secondary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:wn}),Object(X.jsx)(m.a,{color:"light"===a?"primary":"secondary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:wn}),Object(X.jsx)(h.a,{m:3}),Object(X.jsx)(u.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){var e=(new Date).getTime();ke&&ke.emit("login",{username:Ua,password:tn.encrypt(Ne,"".concat(Ka,"@").concat(e))})},children:"Log In"}),Object(X.jsx)(h.a,{m:3}),Object(X.jsx)(u.a,{fullWidth:!0,onClick:function(){ke&&ke.emit("reset-password"),Ve("See your Telegram bot to reset password",{variant:"success",autoHideDuration:8e3})},color:"default",style:{fontSize:"10px"},children:"Forgot password"})]})]})]}):Object(X.jsxs)(g.a,{open:!0,fullWidth:!0,maxWidth:"sm",children:[Object(X.jsxs)(p.a,{children:[Object(X.jsx)(v.a,{children:Object(X.jsx)(k.a,{variant:"overline",color:"secondary",children:"Access Denied"})}),Object(X.jsx)(v.a,{children:Object(X.jsx)(k.a,{variant:"overline",children:Wa})})]}),Object(X.jsx)(f.a,{children:Object(X.jsx)(u.a,{variant:"contained",onClick:hn,color:"secondary",children:"Back"})})]}):Object(X.jsxs)(c.a.Fragment,{children:[Object(X.jsx)(ae.a,{className:cn.backdrop,open:it,children:Object(X.jsx)(ne.a,{color:"inherit"})}),Object(X.jsx)(O.a,{}),Object(X.jsx)(b.a,{position:"relative",className:cn.appBar,children:Object(X.jsxs)(y.a,{children:[Object(X.jsx)("img",{src:"/logo192.png",alt:"Balance Bot Logo",className:cn.logo}),Object(X.jsxs)(x.a,{container:!0,direction:"row",alignItems:"center",nowrap:"true",children:[Object(X.jsxs)(x.a,{item:!0,xs:!0,zeroMinWidth:!0,children:[Object(X.jsx)(h.a,{mt:1.5,children:Object(X.jsx)(k.a,{variant:"h6",color:"inherit",noWrap:!0,children:"Balance Bot"})}),Object(X.jsx)(h.a,{mt:-1,style:{color:"#959FD6"},children:Object(X.jsxs)(k.a,{variant:"caption",color:"inherit",noWrap:!0,children:["v",$e]})})]}),Object(X.jsx)(G.a,{xsDown:!0,children:Object(X.jsx)(Ye,{wdt:Va,update:te>$e,logout:Se&&Se.token,onLogout:fn,badge:R,openDrawer:jn})}),Object(X.jsx)(G.a,{smUp:!0,children:Object(X.jsx)(Ye,{wdt:Za,update:te>$e,logout:Se&&Se.token,onLogout:fn,badge:R,openDrawer:jn})})]})]})}),Object(X.jsxs)(j.a,{className:cn.drawer,anchor:"right",open:Bt,onClose:un,classes:{paper:cn.drawerPaper},children:[Object(X.jsx)(y.a,{}),Object(X.jsx)("div",{style:{padding:20},children:Object(X.jsxs)(x.a,{container:!0,spacing:3,children:["true"===R&&Object(X.jsx)(ce.a,{severity:"error",children:"Configure your Telegram bot when enabling login / IP whitelist"}),Object(X.jsx)(x.a,{item:!0,xs:10,children:Object(X.jsx)(k.a,{variant:"h4",children:"General Settings"})}),Object(X.jsxs)(x.a,{item:!0,xs:1,children:[Object(X.jsx)(De.a,{onClickAway:pn,children:Object(X.jsx)(se,{interactive:!0,title:Object(X.jsx)(c.a.Fragment,{children:Object(X.jsxs)(h.a,{m:2,children:[Object(X.jsx)("div",{children:Object(X.jsx)("b",{children:"Server timezone adjustment"})}),Object(X.jsx)("div",{children:"If you're hosting Balance Bot in the cloud, and the server's timezone is different from your local timezone, you can use this setting to adjust for that so that timestamps for orders and other events are provided in your local timezone. This setting will be applied to all your individual bots."}),Object(X.jsx)("div",{children:"\xa0"}),Object(X.jsx)("div",{children:Object(X.jsx)("b",{children:"Telegram Bot"})}),Object(X.jsx)("div",{children:"You can receive notifications from Bot Manager and your bot(s) on Telegram. To do so, take the following steps:"}),Object(X.jsx)("div",{children:"\xa0"}),Object(X.jsxs)("div",{children:["1. Create a Telegram bot by sending '/newbot' to the BotFather (Telegram's uber bot): ",Object(X.jsx)(_.a,{href:"https://t.me/botfather",target:"_blank",rel:"noopener",color:"secondary",children:"https://t.me/botfather"})]}),Object(X.jsx)("div",{children:"2. Answer BotFather's questions, i.e. pick a name and a username for your bot"}),Object(X.jsx)("div",{children:"3. Copy the token provided by BotFather and paste it here in the settings"}),Object(X.jsx)("div",{children:"4. Enter your personal Telegram username (your name on Telegram preceded by @, NOT the username for your Telegram bot) here in the settings"}),Object(X.jsxs)("div",{children:["5. Open your Telegram bot using the link provided by BotFather: ",Object(X.jsx)(_.a,{href:"#",color:"secondary",children:"t.me/[botname]"})]}),Object(X.jsx)("div",{children:"6. Tap the 'start' button at the bottom, or type '/start' for further instructions"})]})}),onClose:pn,open:Ze,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,children:Object(X.jsx)(Ce.a,{onClick:Ze?pn:function(){et(!0)},children:Object(X.jsx)(ie.a,{color:"secondary"})})})}),Object(X.jsx)(x.a,{item:!0,xs:1})]}),Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsxs)(H.a,{className:cn.formControl,children:[Object(X.jsx)(S.a,{id:"server-timezone",children:"Adjust for server timezone"}),Object(X.jsxs)(Y.a,{labelId:"server-timezone",value:Mt,onChange:function(e){Yt(e.target.value),zt(On(e.target.value)[1])},className:cn.textinput,children:[Object(X.jsx)(I.a,{value:12,children:"+12:00"}),Object(X.jsx)(I.a,{value:11,children:"+11:00"}),Object(X.jsx)(I.a,{value:10,children:"+10:00"}),Object(X.jsx)(I.a,{value:9,children:"+09:00"}),Object(X.jsx)(I.a,{value:8,children:"+08:00"}),Object(X.jsx)(I.a,{value:7,children:"+07:00"}),Object(X.jsx)(I.a,{value:6,children:"+06:00"}),Object(X.jsx)(I.a,{value:5,children:"+05:00"}),Object(X.jsx)(I.a,{value:4,children:"+04:00"}),Object(X.jsx)(I.a,{value:3,children:"+03:00"}),Object(X.jsx)(I.a,{value:2,children:"+02:00"}),Object(X.jsx)(I.a,{value:1,children:"+01:00"}),Object(X.jsx)(I.a,{value:0,children:"No adjustment"}),Object(X.jsx)(I.a,{value:-1,children:"-01:00"}),Object(X.jsx)(I.a,{value:-2,children:"-02:00"}),Object(X.jsx)(I.a,{value:-3,children:"-03:00"}),Object(X.jsx)(I.a,{value:-4,children:"-04:00"}),Object(X.jsx)(I.a,{value:-5,children:"-05:00"}),Object(X.jsx)(I.a,{value:-6,children:"-06:00"}),Object(X.jsx)(I.a,{value:-7,children:"-07:00"}),Object(X.jsx)(I.a,{value:-8,children:"-08:00"}),Object(X.jsx)(I.a,{value:-9,children:"-09:00"}),Object(X.jsx)(I.a,{value:-10,children:"-10:00"}),Object(X.jsx)(I.a,{value:-11,children:"-11:00"}),Object(X.jsx)(I.a,{value:-12,children:"-12:00"})]}),Object(X.jsxs)(U.a,{children:["Current server time: ",Et," - Adjusted server time: ",Rt]})]})}),Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(m.a,{id:"telegram-token",name:"telegram-token",label:"Telegram Token",helperText:"Token for your Telegram bot as provided by BotFather",type:"password",value:Jt,onChange:function(e){_t(e.target.value)},className:cn.textinput,autoComplete:"off"})}),Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(m.a,{id:"telegram-username",name:"telegram-username",label:"Telegram Username",helperText:"Your Telegram username",value:Qt,onChange:function(e){Xt(e.target.value)},className:cn.textinput})}),Object(X.jsx)(x.a,{item:!0,xs:10,children:Object(X.jsx)(k.a,{variant:"h4",children:"Security Settings"})}),Object(X.jsxs)(x.a,{item:!0,xs:1,children:[Object(X.jsx)(De.a,{onClickAway:vn,children:Object(X.jsx)(se,{interactive:!0,title:Object(X.jsx)(c.a.Fragment,{children:Object(X.jsxs)(h.a,{m:2,children:[Object(X.jsx)("div",{children:Object(X.jsx)("b",{children:"Security Settings"})}),Object(X.jsx)("div",{children:"If you're running Balance Bot in the cloud, it is highly recommended to only allow access from selected IP addresses (like your home IP address). Alternatively, or additionally, you may want to require login before getting access. You should use at least one of these options to prevent others from accessing your Balance Bot deployment."}),Object(X.jsx)("div",{children:"\xa0"}),Object(X.jsx)("div",{children:Object(X.jsx)("b",{children:"Require login to access"})}),Object(X.jsx)("div",{children:"Check this option to require logging in using a username and password. For improved security, after logging in, your session will expire after 60 minutes. Optionally, you can activate Two Factor Authentication (2FA) through your Telegram bot (requires Telegram configuration, see General Settings above)."}),Object(X.jsx)("div",{children:"\xa0"}),Object(X.jsx)("div",{children:Object(X.jsx)("b",{children:"Enable IP whitelist"})}),Object(X.jsx)("div",{children:"Check this option to allow access to Balance Bot from selected IP addresses only, and add your trusted IP address(es) to the IP whitelist. By default, your current IP address is added to the IP whitelist when enabling the option, to prevent you from being locked out."}),Object(X.jsx)("div",{children:"\xa0"}),Object(X.jsx)("div",{children:Object(X.jsx)("b",{children:"Allow temporary access"})}),Object(X.jsx)("div",{children:"There may be occassions when you want to access Balance Bot from an IP address that is not whitelisted. By checking the temporary access option, if you're trying to access Balance Bot from a non-whitelisted IP address, you will receive a message in your Telegram Bot and you can approve temporary access from that IP address (requires Telegram configuration, see General Settings above). If you have login enabled, you will be asked for your username and password instead."}),Object(X.jsx)("div",{children:"\xa0"}),Object(X.jsx)("div",{children:"Note: for security reasons, it is NOT recommended to access Balance Bot over public wifi networks."})]})}),onClose:vn,open:nt,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,children:Object(X.jsx)(Ce.a,{onClick:nt?vn:function(){ct(!0)},children:Object(X.jsx)(ie.a,{color:"secondary"})})})}),Object(X.jsx)(x.a,{item:!0,xs:1})]}),Object(X.jsx)(h.a,{pl:2,mt:-2,children:Object(X.jsx)(k.a,{variant:"overline",color:"secondary",children:"For security reasons, don't use public wifi networks"})}),Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(C.a,{control:Object(X.jsx)(M.a,{color:"secondary",name:"login-required",checked:ta,onChange:function(e){aa(e.target.checked)}}),label:"Require login to access"})}),Object(X.jsxs)(h.a,{p:2,display:ta?"inline":"none",bgcolor:"dark"===a?"#757575":"#e0e0e0",width:"100%",children:[Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(m.a,{id:"bb-username",name:"bb-username",label:"Username",helperText:"Your Balance Bot username",value:ra,onChange:function(e){oa(e.target.value)},className:cn.textinput,disabled:!ta,autoComplete:"off"})}),Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(m.a,{id:"bb-password",name:"bb-password",label:"Password",helperText:"Your Balance Bot password",type:"password",value:la,onChange:function(e){da(e.target.value)},className:cn.textinput,disabled:!ta,autoComplete:"off"})}),Object(X.jsx)(x.a,{item:!0,xs:12,children:""===Jt||""===Qt?Object(X.jsx)(He,{title:"Requires Telegram bot to be set up",children:Object(X.jsx)(C.a,{control:Object(X.jsx)(M.a,{color:"secondary",name:"f2a-required",disabled:!0,checked:ua,onChange:xn}),label:"Require 2FA through Telegram bot to log in"})}):Object(X.jsx)(C.a,{control:Object(X.jsx)(M.a,{color:"secondary",name:"f2a-required",disabled:!1,checked:ua,onChange:xn}),label:"Require 2FA through Telegram bot to log in"})})]}),Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(C.a,{control:Object(X.jsx)(M.a,{color:"secondary",name:"whitelist-enabled",checked:ma,onChange:function(e){if(e.target.checked&&!va.includes(gn(Ie).store)){var t=va;t.push(gn(Ie).store),wa(t)}ga(e.target.checked)}}),label:"Enable IP whitelist"})}),Object(X.jsxs)(h.a,{p:2,display:ma?"inline":"none",bgcolor:"dark"===a?"#757575":"#e0e0e0",width:"100%",children:[Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(k.a,{variant:"overline",color:"textSecondary",children:"IP Whitelist"})}),Object(X.jsx)(x.a,{item:!0,xs:12,children:Object(X.jsx)(T.a,{dense:!0,children:va.map((function(e){return e===gn(Ie).store?Object(X.jsxs)(F.a,{children:[Object(X.jsx)(B.a,{primary:gn(e).show}),Object(X.jsx)(P.a,{children:Object(X.jsx)(u.a,{color:"secondary",edge:"end",size:"small",disableFocusRipple:!0,disableRipple:!0,disabled:!0,children:"Current IP"})})]},e):Object(X.jsxs)(F.a,{children:[Object(X.jsx)(B.a,{primary:gn(e).show}),Object(X.jsx)(P.a,{children:Object(X.jsx)(Ce.a,{edge:"end",size:"small",onClick:function(){return function(e){var t=va;t=t.filter((function(t){return t!==e})),wa(t)}(e)},children:Object(X.jsx)(A.a,{})})})]},e)}))})}),Object(X.jsxs)(x.a,{item:!0,container:!0,justify:"space-between",xs:12,children:[Object(X.jsx)(x.a,{item:!0,xs:9,children:Object(X.jsx)(m.a,{id:"new-ip",name:"new-ip",label:"IP Address",value:Fa,onChange:function(e){/^[0-9,a-f,.,:]*$/.test(e.target.value)&&Pa(e.target.value)},className:cn.textinput})}),Object(X.jsx)(x.a,{item:!0,xs:1,children:Object(X.jsx)(E.a,{size:"small",color:"secondary",onClick:function(){if(va.includes(gn(Fa).store))Ve("IP address already whitelisted",{variant:"error",autoHideDuration:8e3});else if(Ee.a.v4({exact:!0}).test(Fa)||Ee.a.v6({exact:!0}).test(Fa)){var e=va;e.push(gn(Fa).store),Pa(""),wa(e)}else Ve("Invalid IP address",{variant:"error",autoHideDuration:8e3})},children:Object(X.jsx)(z.a,{})})})]}),Object(X.jsx)(x.a,{item:!0,xs:12,children:""===Jt||""===Qt?Object(X.jsx)(He,{title:"Requires Telegram bot to be set up",children:Object(X.jsx)(C.a,{control:Object(X.jsx)(M.a,{color:"secondary",name:"temporary-access-allowed",disabled:!0,checked:Ca,onChange:mn}),label:"Allow controlled temporary access from other IPs"})}):Object(X.jsx)(C.a,{control:Object(X.jsx)(M.a,{color:"secondary",name:"temporary-access-allowed",disabled:!1,checked:Ca,onChange:mn}),label:"Allow controlled temporary access from other IPs"})})]}),Object(X.jsx)(x.a,{item:!0,xs:3,children:Object(X.jsx)(u.a,{variant:"contained",color:"primary",onClick:un,className:cn.button,children:"Cancel"})}),Object(X.jsx)(x.a,{item:!0,xs:3,children:Object(X.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(){if(!ta||""!==ra&&""!==la){var e={timeshift:Mt,telegramToken:Jt,telegramUsername:Qt,loginRequired:ta,bbUsername:ra,bbPassword:la,f2aRequired:ua,whitelistEnabled:ma,whitelist:va,temporaryAccessAllowed:Ca},t=(new Date).getTime(),a=e;"************"!==la&&(a=""!==la?Object(i.a)(Object(i.a)({},a),{},{bbPassword:tn.encrypt(Ne,"".concat(la,"@").concat(t))}):Object(i.a)(Object(i.a)({},a),{},{bbPassword:""})),"************"!==Jt&&(a=""!==Jt?Object(i.a)(Object(i.a)({},a),{},{telegramToken:tn.encrypt(Ne,"".concat(Jt,"@").concat(t))}):Object(i.a)(Object(i.a)({},a),{},{telegramToken:""})),ke&&ke.emit("store-settings",a,Se.token),""!==e.telegramToken&&(e.telegramToken="************"),""!==e.bbPassword&&(e.bbPassword="************"),_e(e),!e.loginRequired&&!e.whitelistEnabled||""!==e.telegramToken&&""!==e.telegramUsername?K("false"):K("true"),bn()}else Ve("Please enter a username and password",{variant:"error",autoHideDuration:8e3})},className:cn.button,children:"Save"})})]})})]}),Object(X.jsxs)("main",{children:[Object(X.jsx)("div",{className:cn.heroContent,children:Object(X.jsxs)(J.a,{maxWidth:"sm",children:[Object(X.jsx)(k.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Bot Manager"}),Object(X.jsx)(k.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Create, start, stop or delete your bots"}),Object(X.jsx)("div",{className:cn.heroButtons,children:Object(X.jsx)(x.a,{container:!0,spacing:2,justify:"center",children:Object(X.jsx)(x.a,{item:!0,children:Object(X.jsx)(u.a,{variant:"contained",color:"primary",onClick:function(){st(!0),ke&&ke.emit("add-bot",Se.token)},children:"Add new bot"})})})})]})}),Object(X.jsxs)(J.a,{className:cn.cardGrid,maxWidth:"md",children:[Object(X.jsx)(x.a,{container:!0,spacing:4,children:ue&&ue.length>0&&ue.map((function(e){return Object(X.jsx)(ee,{bot:e,mode:a,callback:ln},e.botID)}))}),Object(X.jsx)(h.a,{mb:4})]})]}),Object(X.jsx)("div",{className:cn.bottomPush,children:Object(X.jsx)("footer",{className:cn.footer,children:Object(X.jsxs)(x.a,{container:!0,alignItems:"center",children:[Object(X.jsxs)(x.a,{container:!0,item:!0,xs:12,sm:6,md:3,alignItems:"center",justify:"flex-start",children:[Object(X.jsx)(x.a,{item:!0,children:Object(X.jsx)(C.a,{onChange:dn,value:a,control:Object(X.jsx)(Ue,{checked:"dark"===a,color:"secondary"}),label:Object(X.jsx)(k.a,{variant:"button",children:Object(X.jsx)(h.a,{color:"#FFF",children:"Light"})}),labelPlacement:"start"})}),Object(X.jsx)(x.a,{item:!0,children:Object(X.jsx)(on,{disableRipple:!0,onClick:dn,children:Object(X.jsx)(k.a,{variant:"button",children:Object(X.jsx)(h.a,{color:"#FFF",children:"Dark"})})})})]}),Object(X.jsxs)(G.a,{xsDown:!0,children:[Object(X.jsx)(x.a,{item:!0,xs:!1,sm:6,md:6,children:Object(X.jsx)(ze,{})}),Object(X.jsx)(G.a,{xsDown:!0,children:Object(X.jsx)(x.a,{item:!0,xs:!1,md:3})})]})]})})}),Object(X.jsxs)(g.a,{open:jt,onClose:sn,children:[Object(X.jsx)(w.a,{children:"Confirm Delete"}),Object(X.jsxs)(p.a,{children:[Object(X.jsxs)(v.a,{children:["Warning: your bot, its configuration, and all its data will be deleted. Enter the bot name to confirm deletion: ",Object(X.jsx)("b",{children:yt.botname})]}),Object(X.jsx)(m.a,{autoFocus:!0,color:"light"===a?"primary":"secondary",margin:"dense",id:"botname",label:"Bot name",type:"text",value:It,onChange:function(e){Tt(e.target.value)},fullWidth:!0})]}),Object(X.jsxs)(f.a,{children:[Object(X.jsx)(u.a,{variant:"contained",onClick:sn,color:"light"===a?"primary":"secondary",children:"Cancel"}),Object(X.jsx)(u.a,{variant:"contained",onClick:function(e){It===yt.botname&&(bt(!1),ke&&ke.emit("delete-bot",yt.botID,Se.token))},color:"light"===a?"primary":"secondary",children:"Delete bot"})]})]})]}):Object(X.jsx)("div",{})})}var Ye=function(e){var t=e.wdt,a=e.update,n=e.logout,c=e.onLogout,r=e.badge,o=e.openDrawer;return Object(X.jsxs)(x.a,{item:!0,xs:!0,container:!0,direction:"row",alignItems:"center",justify:"flex-end",style:{maxWidth:t},children:[a&&Object(X.jsx)(G.a,{xsDown:!0,children:Object(X.jsx)(x.a,{item:!0,style:{width:"130px"},children:Object(X.jsx)(re.a,{label:"Update Available",style:{backgroundColor:"#959FD6",color:"white"}})})}),Object(X.jsx)(x.a,{item:!0,children:Object(X.jsx)(He,{title:"Settings",children:Object(X.jsx)(Ce.a,{onClick:o,children:"false"===r?Object(X.jsx)(Ie.a,{style:{color:"#fff"}}):Object(X.jsx)(N.a,{badgeContent:"!",color:"secondary",children:Object(X.jsx)(Ie.a,{style:{color:"#fff"}})})})})}),n&&Object(X.jsx)(x.a,{item:!0,style:{width:"48px"},children:Object(X.jsx)(He,{title:"Logout",children:Object(X.jsx)(Ce.a,{onClick:c,children:Object(X.jsx)(L.a,{style:{color:"#ffffff"}})})})})]})};function Ke(){var e=Object(n.useContext)(he),t=Object(s.a)(e,2),a=t[0],c=(a.status,a.servertime,t[1]),r=Object(n.useContext)(be),o=Object(s.a)(r,2),i=(o[0],o[1]),l=Object(n.useContext)(xe),d=Object(s.a)(l,2),j=(d[0],d[1]);return Object(n.useEffect)((function(){return ke.on("status",(function(e){c({status:e.status,serverversion:e.serverversion,servertime:e.servertime,access:e.access,externalip:e.externalip,publicKey:e.publicKey,loginNow:e.loginNow})})),ke.on("bots",(function(e){i(e)})),ke.on("settings",(function(e){j(e)})),ke.on("disconnect",(function(e){c({status:"disconnected"})})),function(){ke.disconnect()}}),[]),null}var Ge=function(){return Object(X.jsx)(Ae.a,{maxSnack:5,children:Object(X.jsx)(ue,{children:Object(X.jsx)(Oe,{children:Object(X.jsxs)(me,{children:[Object(X.jsx)(Ke,{}),Object(X.jsx)(O.a,{}),Object(X.jsx)(Me,{})]})})})})},Je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,351)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(X.jsx)(c.a.StrictMode,{children:Object(X.jsx)(Ge,{})}),document.getElementById("root")),Je()}},[[255,1,2]]]);
//# sourceMappingURL=main.693c5e77.chunk.js.map