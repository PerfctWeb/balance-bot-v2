(this["webpackJsonpbb-dashboard"]=this["webpackJsonpbb-dashboard"]||[]).push([[0],{1e3:function(e,t){},1002:function(e,t){},1021:function(e,t){},1033:function(e,t){},1036:function(e,t){},1063:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(33),r=n.n(i),o=(n(681),n(682),n(34)),s=n.n(o),l=n(603),d=n(100),j=n(8),b=n(88),h=n(9),u=n(197),x=n(1178),O=n(1184),p=n(1183),m=n(1179),g=n(1156),f=n(1100),v=n(157),y=n(1186),w=n(1167),k=n(426),C=n(1105),F=n(1107),S=n(1185),N=n(51),I=n(206),B=n(1173),T=n(1106),E=n(179),P=n(1188),W=n(1192),L=n(643),R=n(1102),A=n(1195),D=n(1104),M=n(178),z=n(429),U=n(631),Y=n.n(U),G=n(177),H=function(e,t){var n=c.a.useState(localStorage.getItem(e)||t),a=Object(j.a)(n,2),i=a[0],r=a[1];return c.a.useEffect((function(){localStorage.setItem(e,i)}),[i]),[i,r]},q=n(1),J=Object(a.createContext)(),K=function(e){var t=H("fiat","EUR")[0],n=Object(a.useState)(t),c=Object(j.a)(n,2),i=c[0],r=c[1];return Object(q.jsx)(J.Provider,{value:[i,r],children:e.children})},X=Object(a.createContext)(),Z=function(e){var t=Object(a.useState)({}),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(q.jsx)(X.Provider,{value:[c,i],children:e.children})},_=Object(a.createContext)(),V=function(e){var t=Object(a.useState)({status:"disconnected",updated:"---",serverversion:"0.0",servertime:"---",access:{allow:!1,reason:"initial state",token:null},publicKey:"",loginNow:!1}),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(q.jsx)(_.Provider,{value:[c,i],children:e.children})},Q=Object(a.createContext)(),$=function(e){var t=Object(a.useState)({}),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(q.jsx)(Q.Provider,{value:[c,i],children:e.children})},ee=n(136),te=n(622),ne=n.n(te),ae=n(624),ce=n.n(ae),ie=n(623),re=n.n(ie),oe=n(625),se=n.n(oe),le=n(626),de=n.n(le),je=n(627),be=n.n(je),he=n(12),ue=n(71),xe=n(6),Oe=n(17),pe=n(1158),me=n(1159),ge=n(1155),fe=n(1157),ve=n(1153),ye=n(1154),we=n(1194),ke=n(433),Ce=n(607),Fe=n.n(Ce),Se=n(44),Ne=[{id:"coin",align:"left",width:"60px",disablePadding:!0,label:"Coin"},{id:"amount",align:"right",width:"100px",disablePadding:!1,label:"Amount"},{id:"price",align:"right",width:"110px",disablePadding:!1,label:"BTC Price"},{id:"value",align:"right",width:"110px",disablePadding:!1,label:"BTC Value"},{id:"distribution",align:"right",width:"80px",disablePadding:!1,label:"Portfolio %"},{id:"target",align:"right",width:"80px",disablePadding:!1,label:"Target %"},{id:"trade",align:"center",width:"100px",disablePadding:!1,label:"Trade"},{id:"side",align:"center",width:"100px",disablePadding:!1,label:"Order Side"}],Ie=Object(b.a)((function(e){return{headcolor:"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"}}}));function Be(e){var t,n=e.onSelectAllClick,a=e.numSelected,c=e.rowCount,i=e.headless,r=Ie();return t=i?null:Object(q.jsx)(ke.a,{indeterminate:a>0&&a<c,checked:c>0&&a===c,onChange:n,inputProps:{"aria-label":"select coins"}}),Object(q.jsx)(ve.a,{children:Object(q.jsxs)(ye.a,{className:r.headcolor,children:[Object(q.jsx)(ge.a,{padding:"checkbox",children:t}),Ne.map((function(e){return Object(q.jsx)(ge.a,{align:e.align,padding:e.disablePadding?"none":"default",style:{minWidth:e.width},children:Object(q.jsx)(we.a,{children:e.label})},e.id)}))]})})}var Te=Object(b.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Oe.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ee=function(e){var t=Te(),n=e.selected,a=e.headless,c=e.portfolio,i=e.handleOrder,r=e.setSelected,o=n.length;return Object(q.jsxs)(g.a,{className:Object(xe.a)(t.root,Object(ue.a)({},t.highlight,o>0)),children:[o>0?Object(q.jsxs)(v.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[o," ",1===o?"coin":"coins"," selected: ",n.join()]}):Object(q.jsx)(v.a,{className:t.title,variant:"subtitle1",id:"tableTitle",component:"div",children:a?"Running in automatic mode":"Select coins to manually submit order"}),o>0&&Object(q.jsx)(M.a,{variant:"contained",color:"secondary",style:{width:"220px"},startIcon:Object(q.jsx)(Fe.a,{}),onClick:function(){r([]);for(var e=[],t=function(t){var a=c.find((function(e){return e.coin===n[t]}));"BTC"!==a.coin&&e.push(a)},a=0;a<n.length;a++)t(a);i(e)},children:"Submit Order"})]})},Pe=Object(b.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750,"& .MuiTableCell-sizeSmall":{paddingTop:"9px",paddingBottom:"9px"}},tableRow:{height:50},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function We(e,t){var n;if((""+e).includes("e")){var a=(""+e).split("e"),c="";+a[1]+t>0&&(c="+"),n=+(Math.round(+a[0]+"e"+c+(+a[1]+t))+"e-"+t)}else n=+(Math.round(e+"e+"+t)+"e-"+t);return Number(n).toFixed(t)}function Le(e){var t=Pe(),n=Object(a.useState)([]),c=Object(j.a)(n,2),i=c[0],r=c[1],o=Object(Se.a)(),s=e.balances,l=s.threshold,d=Object(a.useContext)(X)[0].headless||!1,b=e.onOrder,h=s.portfolio?JSON.parse(s.portfolio):[],u=!1;return Object(q.jsx)("div",{className:t.root,children:Object(q.jsxs)(E.a,{className:t.paper,children:[Object(q.jsx)(Ee,{selected:i,headless:d,portfolio:h,handleOrder:b,setSelected:r}),Object(q.jsx)(fe.a,{children:Object(q.jsxs)(pe.a,{className:t.table,size:"small",children:[Object(q.jsx)(Be,{classes:t,numSelected:i.length,onSelectAllClick:function(e){if(0!==i.length)r([]);else{var t=h.map((function(e){return e.coin})).filter((function(e){return"BTC"!==e}));r(t)}},rowCount:h.length,headless:d}),Object(q.jsx)(me.a,{children:h.map((function(e,n){var a,c,s=(a=e.coin,-1!==i.indexOf(a)),j="enhanced-table-checkbox-".concat(n),b=Object(q.jsx)("div",{style:{color:"#999999",width:"120px"},children:"-"}),h=We(e.trade,8),x=Object(q.jsx)(A.a,{label:h,style:{backgroundColor:o.palette.text.disabled,color:"white",width:"120px"}}),O=e.side;return e.reverse&&(O+=" (reverse)"),"sell"===e.side?e.distribution/e.target-1>=l/100?(b=Object(q.jsx)(A.a,{label:O,style:{backgroundColor:o.palette.error.dark,color:"white",width:"120px"}}),e.valid||(x=Object(q.jsx)(A.a,{label:h,style:{backgroundColor:o.palette.warning.dark,color:"white",width:"120px"}}),u=!0)):b=Object(q.jsx)(A.a,{label:O,style:{backgroundColor:o.palette.text.disabled,color:"white",width:"120px"}}):"buy"===e.side&&(e.distribution/e.target-1<=-l/100?(b=Object(q.jsx)(A.a,{label:O,style:{backgroundColor:o.palette.success.dark,color:"white",width:"120px"}}),e.valid||(x=Object(q.jsx)(A.a,{label:h,style:{backgroundColor:o.palette.warning.dark,color:"white",width:"120px"}}),u=!0)):b=Object(q.jsx)(A.a,{label:O,style:{backgroundColor:o.palette.text.disabled,color:"white",width:"120px"}})),c=d||"BTC"===e.coin?null:Object(q.jsx)(ke.a,{checked:s,inputProps:{"aria-labelledby":j}}),Object(q.jsxs)(ye.a,{className:t.tableRow,hover:!0,onClick:function(t){return function(e,t){if(!d&&"BTC"!==t){var n=i.indexOf(t),a=[];-1===n?a=a.concat(i,t):0===n?a=a.concat(i.slice(1)):n===i.length-1?a=a.concat(i.slice(0,-1)):n>0&&(a=a.concat(i.slice(0,n),i.slice(n+1))),r(a)}}(0,e.coin)},role:"checkbox","aria-checked":s,tabIndex:-1,selected:s,children:[Object(q.jsx)(ge.a,{padding:"checkbox",children:c}),Object(q.jsx)(ge.a,{component:"th",id:j,scope:"row",padding:"none",children:e.coin}),Object(q.jsx)(ge.a,{align:"right",children:e.number}),Object(q.jsx)(ge.a,{align:"right",children:We(e.last,8)}),Object(q.jsx)(ge.a,{align:"right",children:We(e.value,8)}),Object(q.jsx)(ge.a,{align:"right",children:We(e.distribution,3)}),Object(q.jsx)(ge.a,{align:"right",children:We(e.target,3)}),Object(q.jsx)(ge.a,{align:"right",children:x}),Object(q.jsx)(ge.a,{align:"center",children:b})]},e.coin)}))})]})}),u&&Object(q.jsx)(g.a,{children:Object(q.jsx)(v.a,{className:t.title,variant:"subtitle1",style:{color:o.palette.warning.dark},component:"div",children:"Trade amounts indicated in orange are too small to execute - consider increasing your balancing budget or hold fewer coins"})})]})})}var Re=n(633);function Ae(e){var t=Object(Se.a)().palette.type,n=e.balances,a=(n.portfolio?JSON.parse(n.portfolio):[]).map((function(e){return{id:e.coin,label:e.coin,value:e.distribution}}));return Object(q.jsx)(Re.a,{theme:{tooltip:{color:"light"===t?"#000000":"#FFFFFF",container:{background:"light"===t?"#FFFFFF":"#000000"}}},data:a,margin:{top:20,right:80,bottom:20,left:80},innerRadius:.5,padAngle:1,cornerRadius:7,colors:{scheme:"red_yellow_blue"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker","0.2"]]},radialLabelsSkipAngle:10,radialLabelsTextColor:"light"===t?"#000000":"#FFFFFF",radialLabelsLinkColor:{from:"color"},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:"light"===t?"#000000":"#FFFFFF"})}var De,Me=n(613),ze=n.n(Me),Ue=n(201),Ye=localStorage.getItem("uuid"),Ge=localStorage.getItem("publicKey"),He=new Ue.Crypt({md:"sha256",rsaStandard:"RSA-OAEP"}),qe=ze()("/",{auth:{encryptedUuid:(De=new Date,!!(Ye&&Ge&&Ge.includes("-----BEGIN PUBLIC KEY-----"))&&He.encrypt(Ge,"".concat(Ye,"@").concat(De.getTime())))}}),Je=Object(a.createContext)(),Ke=function(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(q.jsx)(Je.Provider,{value:[c,i],children:e.children})},Xe=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),height:"68px",minWidth:"340px"}}}));function Ze(){var e,t=Xe(),n=Object(Se.a)(),c=Object(a.useContext)(_)[0],i=c.status,r=c.updated;return e="connected"===i?Object(q.jsx)(A.a,{label:i,style:{backgroundColor:n.palette.success.dark,color:"white",width:"90px"}}):Object(q.jsx)(A.a,{label:i,style:{backgroundColor:n.palette.error.dark,color:"white",width:"110px"}}),Object(q.jsx)(E.a,{className:t.paper,children:Object(q.jsxs)(w.a,{container:!0,alignItems:"center",children:[Object(q.jsxs)(w.a,{container:!0,item:!0,alignItems:"center",xs:7,children:[Object(q.jsx)(w.a,{item:!0,xs:4,children:Object(q.jsx)(v.a,{children:"Status: "})}),Object(q.jsx)(w.a,{item:!0,xs:8,children:e})]}),Object(q.jsx)(w.a,{container:!0,item:!0,alignItems:"center",xs:5,children:Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsxs)(v.a,{children:["Updated: ",Object(q.jsx)("b",{children:r&&r.split(" ")[1]})]})})})]})})}var _e=n(1169),Ve=n(1170),Qe=n(1193),$e=n(615),et=n.n($e),tt=n(614),nt=n.n(tt),at=n(1095),ct=n(1168),it=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(0),height:"68px",minWidth:"340px"},stepper:{padding:e.spacing(1)}}}));function rt(e){var t=it(),n=Object(a.useContext)(X)[0],c="--",i="----/--/--";if(0!==(e.data||[]).length){var r=new Date(n.startdate),o=function(){var e=new Date,t=e;return n.timeshift&&0!==n.timeshift&&(t=Object(ct.a)(e,{hours:n.timeshift})),t}().getTime()-r.getTime();c=Math.round(o/864e5),i=r.getFullYear()+"/"+(r.getMonth()+1).toString().padStart(2,"0")+"/"+r.getDate().toString().padStart(2,"0")}return Object(q.jsx)(E.a,{className:t.paper,children:Object(q.jsxs)(w.a,{container:!0,alignItems:"center",children:[Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(v.a,{align:"right",children:i})}),Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsxs)(_e.a,{className:t.stepper,alternativeLabel:!0,activeStep:1,connector:Object(q.jsx)(ot,{}),children:[Object(q.jsx)(Ve.a,{children:Object(q.jsx)(Qe.a,{StepIconComponent:lt})},0),Object(q.jsx)(Ve.a,{children:Object(q.jsx)(Qe.a,{StepIconComponent:lt})},1)]})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsxs)(v.a,{children:[Object(q.jsx)("b",{children:c})," ",1===c?"day":"days"]})})]})})}var ot=Object(h.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(at.a),st=Object(b.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function lt(e){var t,n=st(),a=e.active,c=e.completed,i={1:Object(q.jsx)(nt.a,{}),2:Object(q.jsx)(et.a,{})};return Object(q.jsx)("div",{className:Object(xe.a)(n.root,(t={},Object(ue.a)(t,n.active,a),Object(ue.a)(t,n.completed,c),t)),children:i[String(e.icon)]})}var dt=Object(a.createContext)(),jt=function(e){var t=Object(a.useState)([]),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(q.jsx)(dt.Provider,{value:[c,i],children:e.children})};function bt(e){var t=Object(a.useContext)(dt)[0],n=Object(a.useState)({value:"0",change:"0"}),c=Object(j.a)(n,2),i=c[0],r=c[1],o=e.balances,s=e.type,l=Object(a.useContext)(J)[0],d="btc"===s?"BTC":"fiat"===s||"net-fiat"===s?l:"Net BTC",b="net-btc"===s?"Net effect (BTC)":"net-fiat"===s?"Net effect (".concat(d,")"):"".concat(d," value"),h="net-btc"===s||"net-fiat"===s?"Net effect (%)":"".concat(d," change");return Object(a.useEffect)((function(){var e,n=o.portfolio?JSON.parse(o.portfolio):[],a=0;if(n.forEach((function(e){a+=e.number*e.last})),"fiat"!==s&&"net-fiat"!==s||(a*="EUR"===l?o.eur:o.usd),0!==a){e="btc"===s?100*(a/t.btc-1):"EUR"===l?100*(a/t.eur-1):100*(a/t.usd-1);var c=0;if(t.coins&&n.forEach((function(e){var n=t.coins.find((function(t){return t.coin===e.coin}));n&&n.coin&&(c+=n.number*e.last)})),"net-btc"===s&&(e=(a-c)/t.btc*100,a-=c),"net-fiat"===s){var i="EUR"===l?t.eur:t.usd;c="EUR"===l?c*o.eur:c*o.usd,e=(a-c)/i*100,a-=c}e=e?e<100?e.toFixed(2):e<1e3?e.toFixed(1):e.toFixed(0):"0",a=a?Math.abs(a)<.1?a.toFixed(6):Math.abs(a)<1?a.toFixed(5):Math.abs(a)<10?a.toFixed(4):Math.abs(a)<100?a.toFixed(3):(Math.abs(a),a.toFixed(2)):"0"}else e="0";r({value:a,change:e})}),[o,t,l]),Object(q.jsxs)(w.a,{container:!0,alignItems:"center",children:[Object(q.jsxs)(w.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(v.a,{variant:"h4",children:i.value})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(v.a,{children:b})})]}),Object(q.jsxs)(w.a,{container:!0,item:!0,direction:"column",alignItems:"center",xs:6,children:[Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsxs)(v.a,{variant:"h4",children:[i.change,"%"]})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(v.a,{children:h})})]})]})}var ht=n(1171),ut=n(1199),xt=n(1189),Ot=Object(h.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(ge.a),pt=Object(h.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(ye.a),mt=Object(b.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},errortext:{color:"#ff0000"}}}));function gt(){var e=mt(),t=Object(a.useContext)(_)[0].access,n=Object(a.useState)({rows:[],total:0}),c=Object(j.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)({type:["order","event"],event:"",page:"1"}),s=Object(j.a)(o,2),l=s[0],d=s[1],b=Object(a.useState)({logs:[],total:0}),h=Object(j.a)(b,2),u=h[0],x=h[1];Object(a.useEffect)((function(){return function(e){var t=[];e.logs.reverse().forEach((function(e){"order"!==e.type&&(e.type="event"),t.push({time:e.time,type:e.type,event:e.event})})),r({rows:t,total:e.total})}(u),function(){}}),[u]);Object(a.useEffect)((function(){return qe.on("event-history",(function(e){e.logs.forEach((function(e){"order"!==e.type&&(e.type="event")})),x({logs:e.logs,total:e.total})})),qe.on("event",(function(e){"order"!==e.log.type&&(e.log.type="event"),e.log,e.summary,qe&&t.allow&&qe.emit("get-logs",l,t.token)})),function(){qe.off("event-history")}}),[]),Object(a.useEffect)((function(){return qe&&t.allow&&qe.emit("get-logs",l,t.token),function(){}}),[l]);return Object(q.jsxs)(E.a,{pt:2,children:[Object(q.jsxs)(w.a,{container:!0,style:{height:"60px"},alignItems:"center",children:[Object(q.jsx)(P.a,{p:1,children:Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsxs)(ut.a,{value:l.type,onChange:function(e,t){d({type:t,event:l.event,page:l.page})},"aria-label":"type selection",children:[Object(q.jsx)(ht.a,{value:"order","aria-label":"order",style:{height:"30px"},children:Object(q.jsx)(v.a,{variant:"overline",noWrap:!0,children:"Orders"})}),Object(q.jsx)(ht.a,{value:"event","aria-label":"event",style:{height:"30px"},children:Object(q.jsx)(v.a,{variant:"overline",noWrap:!0,children:"Alerts"})})]})})}),Object(q.jsx)(w.a,{item:!0,xs:2,children:Object(q.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(q.jsx)(k.a,{id:"event-filter",label:"Filter events",color:"secondary",onChange:function(e){d({type:l.type,event:e.target.value,page:l.page})}})})}),Object(q.jsx)(w.a,{item:!0,xs:7})]}),Object(q.jsx)(fe.a,{component:E.a,children:Object(q.jsxs)(pe.a,{className:e.table,size:"small","aria-label":"customized table",children:[Object(q.jsx)(ve.a,{children:Object(q.jsxs)(ye.a,{children:[Object(q.jsx)(Ot,{style:{width:"170px"},children:"Time"}),Object(q.jsx)(Ot,{children:"Event"})]})}),Object(q.jsx)(me.a,{children:i.rows.map((function(t,n){return Object(q.jsxs)(pt,{children:[Object(q.jsx)(Ot,{component:"th",scope:"row",children:Object(q.jsx)(v.a,{variant:"caption",children:t.time})}),Object(q.jsx)(Ot,{children:"event"===t.type?Object(q.jsx)(v.a,{variant:"body2",className:e.errortext,children:t.event}):Object(q.jsx)(v.a,{variant:"body2",children:t.event})})]},n)}))})]})}),Object(q.jsx)(P.a,{display:"flex",justifyContent:"flex-end",children:Object(q.jsx)(xt.a,{count:Math.ceil(i.total/20),shape:"rounded",onChange:function(e,t){d({type:l.type,event:l.event,page:t})}})})]})}var ft=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function vt(e){return Object(q.jsxs)(P.a,{position:"relative",display:"inline-flex",children:[Object(q.jsx)(R.a,Object(he.a)({variant:"determinate",size:90},e)),Object(q.jsx)(P.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(q.jsx)(v.a,{variant:"h5",component:"div",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var yt=function(e){var t=ft(),n=Object(a.useContext)(Q)[0],c=Object(a.useContext)(Je)[0],i=Object(a.useContext)(dt)[0],r=Object(a.useContext)(_)[0].access,o=Object(a.useState)(!0),s=Object(j.a)(o,2),l=s[0],d=s[1],b=Object(a.useState)(-1),h=Object(j.a)(b,2),u=h[0],x=h[1];return Object(a.useEffect)((function(){return qe.on("coin-loading-progress",(function(e){x(e)})),function(){}}),[]),Object(a.useEffect)((function(){return qe&&0===i.length&&r.allow&&qe.emit("get-starting-balances",r.token),function(){}}),[]),Object(a.useEffect)((function(){return d(0===Object.keys(n).length&&-1!==u),function(){}}),[n,u]),Object(q.jsxs)("div",{className:t.root,children:[Object(q.jsx)(L.a,{className:t.backdrop,open:l,children:Object(q.jsxs)(w.a,{container:!0,spacing:3,direction:"column",alignItems:"center",children:[Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(v.a,{variant:"h5",noWrap:!0,children:"Loading coin data"})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(vt,{color:"inherit",variant:"determinate",value:u})})]})}),Object(q.jsxs)(w.a,{container:!0,spacing:3,alignItems:"flex-start",children:[Object(q.jsx)(w.a,{item:!0,xs:12,md:4,lg:3,children:Object(q.jsx)(v.a,{variant:"h3",noWrap:!0,children:"Portfolio"})}),Object(q.jsx)(W.a,{mdDown:!0,children:Object(q.jsx)(w.a,{item:!0,lg:3})}),Object(q.jsx)(W.a,{xsDown:!0,children:Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(q.jsx)(rt,{data:c})})}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(q.jsx)(Ze,{})}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,md:6,lg:3,children:Object(q.jsx)(E.a,{style:{height:"100px",minWidth:"340px"},className:t.paper,children:Object(q.jsx)(bt,{balances:n,type:"btc"})})}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,md:6,lg:3,children:Object(q.jsx)(E.a,{style:{height:"100px",minWidth:"340px"},className:t.paper,children:Object(q.jsx)(bt,{balances:n,type:"fiat"})})}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,md:6,lg:3,children:Object(q.jsx)(E.a,{style:{height:"100px",minWidth:"340px"},className:t.paper,children:Object(q.jsx)(bt,{balances:n,type:"net-btc"})})}),Object(q.jsx)(w.a,{item:!0,xs:12,sm:6,md:6,lg:3,children:Object(q.jsx)(E.a,{style:{height:"100px",minWidth:"340px"},className:t.paper,children:Object(q.jsx)(bt,{balances:n,type:"net-fiat"})})}),Object(q.jsxs)(W.a,{xsDown:!0,children:[Object(q.jsx)(w.a,{item:!0,md:12,lg:8,children:Object(q.jsx)(Le,{balances:n,onOrder:function(e){qe&&r.allow&&qe.emit("place-order",e,r.token)}})}),Object(q.jsx)(w.a,{container:!0,item:!0,md:12,lg:4,children:Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(E.a,{style:{height:"500px"},className:t.paper,children:Object(q.jsx)(Ae,{balances:n})})})})]}),Object(q.jsx)(W.a,{lgUp:!0,children:Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(gt,{})})})]})]})},wt=n(236),kt=(n(840),n(1190));function Ct(e){var t=Object(Se.a)().palette.type,n=e.data1,c=e.data2,i=Object(a.useState)(""),r=Object(j.a)(i,2),o=r[0],s=r[1];Object(a.useEffect)((function(){return n&&s(n[0].id),function(){}}),[n]);var l=!1;n&&n[0].data.length>1&&(l=!0);var d=function(){return{axis:{ticks:{line:{stroke:"light"===t?"#000000":"#FFFFFF"},text:{fill:"light"===t?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===t?"#000000":"#FFFFFF"}}}};return Object(q.jsxs)("div",{className:"wrapper",children:[Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:o})}),Object(q.jsx)("div",{className:"secondGraph",children:n&&l?Object(q.jsx)(wt.a,{data:n,tooltip:function(e){return Object(q.jsxs)("div",{style:{background:"light"===t?"#FFFFFF":"#000000",boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",padding:"6px 10px 6px 10px"},children:[Object(q.jsxs)("div",{style:{color:"rgb(211,47,47)"},children:["\u2589 ",e.point.serieId,":\xa0"]}),Object(q.jsxs)("div",{style:{color:"light"===t?"#000000":"#FFFFFF"},children:[e.point.data.xFormatted," | ",Object(q.jsx)("strong",{children:e.point.data.yFormatted})]})]})},theme:d(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",colors:["rgb(255,255,255,0)"],axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:n[0].id,legendOffset:-80,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,useMesh:!0,crosshairType:"cross"}):null}),Object(q.jsx)("div",{className:"graphContainer",children:c&&l?Object(q.jsx)(wt.a,{data:c,theme:d(),margin:{top:40,right:90,bottom:50,left:90},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.6f",curve:"monotoneX",lineWidth:4,colors:["rgb(211,47,47)"],axisTop:null,axisBottom:null,axisRight:{legend:c[0].id,legendOffset:70,legendPosition:"middle"},axisLeft:null,enablePoints:!1,enableGridX:!1,enableGridY:!1,useMesh:!0,crosshairType:"cross"}):Object(q.jsx)(kt.a,{severity:"info",children:"Not enough data yet to show graphs - check again later"})})]})}var Ft=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),St=function(){var e=Ft(),t=Object(a.useContext)(Q)[0],n=Object(a.useContext)(Je)[0],c=Object(a.useContext)(dt)[0],i=Object(a.useContext)(J)[0],r=Object(a.useState)({}),o=Object(j.a)(r,2),s=o[0],l=o[1],d=Object(a.useState)({}),b=Object(j.a)(d,2),h=b[0],u=b[1],x=Object(a.useContext)(_)[0].access,O=Object(a.useState)(!0),p=Object(j.a)(O,2),m=p[0],g=p[1];Object(a.useEffect)((function(){return qe&&0===c.length&&x.allow&&qe.emit("get-starting-balances",x.token),function(){}}),[]),Object(a.useEffect)((function(){return g(0===Object.keys(t).length),function(){}}),[t]);var f=[],y=[],k=[],C=[],F=[],S=[],N=[],I=[],B={},T={},P=[];Object(a.useEffect)((function(){return W(),function(){}}),[t,n,c,i]);var W=function(){var e=t.portfolio?JSON.parse(t.portfolio):[];c.coins?e.forEach((function(e,t){var n=c.coins.find((function(t){return t.coin===e.coin}));P[t]={coin:e.coin,initial:n&&n.coin?n.number:0}})):e.forEach((function(e,t){P[t]={coin:e.coin,initial:0}}));var a=0,r=0;0!==c.length&&(a=c.btc,r="EUR"===i?c.eur:c.usd,0!==n.length&&(n.forEach((function(e){var t="EUR"===i?e.eur:e.usd,n=0,c=0;e.coins.forEach((function(e){n+=e.number*e.price,c+=e.number*e.price*t}));var o=0,s=0;e.coins.forEach((function(e){P.find((function(t){return t.coin===e.coin}))&&(0===P.find((function(t){return t.coin===e.coin})).initial&&(P.find((function(t){return t.coin===e.coin})).initial=e.number),o+=P.find((function(t){return t.coin===e.coin})).initial*e.price,s+=P.find((function(t){return t.coin===e.coin})).initial*e.price*t)})),f.push({x:e.date,y:n}),k.push({x:e.date,y:100*(n/a-1)}),y.push({x:e.date,y:c}),C.push({x:e.date,y:100*(c/r-1)}),F.push({x:e.date,y:n-o}),S.push({x:e.date,y:(n-o)/a*100}),N.push({x:e.date,y:c-s}),I.push({x:e.date,y:(c-s)/r*100})})),B.btc=[{id:"Total Value (BTC)",data:f}],T.btc=[{id:"BTC Change (%)",data:k}],B.fiat=[{id:"Total Value (".concat(i,")"),data:y}],T.fiat=[{id:"".concat(i," Change (%)"),data:C}],B.net=[{id:"Net Balancing Effect (BTC)",data:F}],T.net=[{id:"Net Balancing Effect (%)",data:S}],B.netfiat=[{id:"Net Balancing Effect (".concat(i,")"),data:N}],T.netfiat=[{id:"Net Balancing Effect (%)",data:I}],l(B),u(T)))};return Object(q.jsxs)("div",{className:e.root,children:[Object(q.jsx)(L.a,{className:e.backdrop,open:m,children:Object(q.jsx)(R.a,{color:"inherit"})}),Object(q.jsxs)(w.a,{container:!0,spacing:3,children:[Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsx)(v.a,{variant:"h3",noWrap:!0,children:"Performance"})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(rt,{data:n})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(Ze,{})}),Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsx)(E.a,{style:{height:"360px"},className:e.paper,children:Object(q.jsx)(Ct,{data1:s.btc,data2:h.btc,type:"btc"})})}),Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsx)(E.a,{style:{height:"360px"},className:e.paper,children:Object(q.jsx)(Ct,{data1:s.fiat,data2:h.fiat,type:"fiat"})})}),Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsx)(E.a,{style:{height:"360px"},className:e.paper,children:Object(q.jsx)(Ct,{data1:s.net,data2:h.net,type:"net-result"})})}),Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsx)(E.a,{style:{height:"360px"},className:e.paper,children:Object(q.jsx)(Ct,{data1:s.netfiat,data2:h.netfiat,type:"net-result-fiat"})})})]})]})};function Nt(e){var t=Object(Se.a)().palette.type,n=e.performance,a=e.balances,c=a.portfolio?JSON.parse(a.portfolio):[],i=[],r=[],o=[];c.forEach((function(e,t){i.push(e.coin),o[t]={coin:e.coin,initial:0,data:[]}})),n!==[]&&i.forEach((function(e,t){"BTC"!==e&&(n.forEach((function(n){n.coins.forEach((function(a){a.coin===e&&(0===o[t].initial&&(o[t].initial=a.price),o[t].data.push({x:n.date,y:100*(a.price/o[t].initial-1)}))}))})),r.push({id:e,data:o[t].data}))}));var s=!1;0!==r.length&&r[0].data.length>1&&(s=!0);return Object(q.jsxs)("div",{className:"wrapper",children:[Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:e.title})}),Object(q.jsx)("div",{className:"graphContainerCoins",children:s?Object(q.jsx)(wt.a,{data:r,tooltip:function(e){return Object(q.jsxs)("div",{style:{background:"light"===t?"#FFFFFF":"#000000",boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",padding:"6px 10px 6px 10px"},children:[Object(q.jsxs)("span",{style:{color:e.point.color},children:["\u2589 ",e.point.serieId,":\xa0"]}),Object(q.jsxs)("span",{style:{color:"light"===t?"#000000":"#FFFFFF"},children:[e.point.data.xFormatted," | ",Object(q.jsx)("strong",{children:e.point.data.yFormatted}),"%"]})]})},theme:{axis:{ticks:{line:{stroke:"light"===t?"#000000":"#FFFFFF"},text:{fill:"light"===t?"#000000":"#FFFFFF"}},legend:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},crosshair:{line:{stroke:"light"===t?"#000000":"#FFFFFF"}},legends:{text:{fill:"light"===t?"#000000":"#FFFFFF"}}},margin:{top:50,right:110,bottom:50,left:80},xScale:{type:"time",format:"%Y/%m/%d",useUTC:!1,precision:"day"},xFormat:"time:%Y/%m/%d",yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"monotoneX",lineWidth:4,colors:{scheme:"red_yellow_blue"},axisTop:null,axisRight:null,axisBottom:null,axisLeft:{legend:"Change (%)",legendOffset:-70,legendPosition:"middle"},enablePoints:!1,enableGridX:!1,enableGridY:!1,useMesh:!0,crosshairType:"cross",legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",itemTextColor:"#ff0000",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}):Object(q.jsx)(kt.a,{severity:"info",children:"Not enough data yet to show graphs - check again later"})})]})}var It=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Bt=function(){var e=It(),t=Object(a.useContext)(Q)[0],n=Object(a.useContext)(Je)[0],c=Object(a.useContext)(dt)[0],i=Object(a.useContext)(_)[0].access,r=Object(a.useState)(!0),o=Object(j.a)(r,2),s=o[0],l=o[1];return Object(a.useEffect)((function(){return qe&&0===c.length&&i.allow&&qe.emit("get-starting-balances",i.token),function(){}}),[]),Object(a.useEffect)((function(){return l(0===Object.keys(t).length),function(){}}),[t]),Object(q.jsxs)("div",{className:e.root,children:[Object(q.jsx)(L.a,{className:e.backdrop,open:s,children:Object(q.jsx)(R.a,{color:"inherit"})}),Object(q.jsxs)(w.a,{container:!0,spacing:3,children:[Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsx)(v.a,{variant:"h3",noWrap:!0,children:"Coin Analysis"})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(rt,{data:n})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(Ze,{})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(E.a,{style:{height:"700px"},className:e.paper,children:Object(q.jsx)(Nt,{performance:n,balances:t,title:"Coin BTC Price Changes (%)"})})})]})]})},Tt=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),Et=function(e){var t=Tt(),n=Object(a.useContext)(Je)[0];return Object(q.jsx)("div",{className:t.root,children:Object(q.jsxs)(w.a,{container:!0,spacing:3,children:[Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsx)(v.a,{variant:"h3",noWrap:!0,children:"Event History"})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(rt,{data:n})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(Ze,{})}),Object(q.jsx)(w.a,{item:!0,xs:9,children:Object(q.jsx)(gt,{})}),Object(q.jsx)(w.a,{item:!0,xs:3})]})})},Pt=Object(a.createContext)(),Wt=function(e){var t=Object(a.useState)({}),n=Object(j.a)(t,2),c=n[0],i=n[1];return Object(q.jsx)(Pt.Provider,{value:[c,i],children:e.children})},Lt=n(151),Rt=n.n(Lt),At=Object(h.a)((function(e){return{tooltip:{backgroundColor:"light"===e.palette.type?"#FFFFFF":"#000000",color:"light"===e.palette.type?"#000000":"#FFFFFF",maxWidth:800,fontSize:e.typography.pxToRem(14),border:"1px solid #888888"}}}))(z.a),Dt=n(637);function Mt(e){var t=Object(Se.a)().palette.type,n=Object(a.useContext)(Pt),i=Object(j.a)(n,2),r=i[0],o=(i[1],Object(a.useState)(r.apiKey||"")),s=Object(j.a)(o,2),l=s[0],d=s[1],b=Object(a.useState)(r.apiSecret||""),h=Object(j.a)(b,2),u=h[0],x=h[1],O=function(t){e.callback({field:t.target.id,input:t.target.value}),"apiKey"===t.target.id&&d(t.target.value),"apiSecret"===t.target.id&&x(t.target.value)},p=Object(a.useState)(!1),m=Object(j.a)(p,2),g=m[0],f=m[1],y=function(){f(!1)};return Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsxs)(w.a,{container:!0,alignItems:"flex-end",children:[Object(q.jsx)(w.a,{item:!0,xs:11,children:Object(q.jsx)(v.a,{variant:"h6",gutterBottom:!0,children:"Exchange API Details"})}),Object(q.jsx)(w.a,{item:!0,xs:1,children:Object(q.jsx)(Dt.a,{onClickAway:y,children:Object(q.jsx)(At,{mode:t,title:Object(q.jsx)(c.a.Fragment,{children:Object(q.jsxs)(P.a,{m:2,children:["If you haven't done so already, logon to your exchange, go to API Management and create a new API key. ",Object(q.jsx)("b",{children:"Make sure the API key is enabled for spot trading"}),". Then enter the API key and API secret here.",Object(q.jsx)("div",{children:"\xa0"}),"Also, ",Object(q.jsx)("b",{children:"make sure your server's IP address is added to the API key's IP whitelist (if enabled)"}),". You can find the IP whitelist under API Management, where you've created your API key. If you run Balance Bot on your PC, then use the IP address of your internet connection, which you can find e.g. here ",Object(q.jsx)(B.a,{href:"https://www.whatsmyip.org/",target:"_blank",rel:"noopener",color:"secondary",children:"www.whatsmyip.org"}),". If you run Balance Bot in the cloud, then use the IP address of your cloud server.",Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsxs)("div",{children:[Object(q.jsx)("i",{children:"Note: "}),"you only need to enter the API details once, as they will be stored on the server for later use. If you want to change the configuration settings at a later point, you can just click the Next button and reuse the API details that you've already configured previously. If you want to change to a different API key, you can entering the new details here."]})]})}),onClose:y,open:g,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,children:Object(q.jsx)(G.a,{onClick:g?y:function(){f(!0)},children:Object(q.jsx)(Rt.a,{color:"secondary"})})})})})]}),Object(q.jsx)("form",{style:{minWidth:"100%"},children:Object(q.jsxs)(w.a,{container:!0,spacing:3,children:[Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(k.a,{required:!0,id:"apiKey",name:"apiKey",label:"API Key",type:"password",value:l,onChange:O,fullWidth:!0})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(k.a,{required:!0,id:"apiSecret",name:"apiSecret",label:"API Secret",type:"password",value:u,onChange:O,fullWidth:!0})})]})}),Object(q.jsxs)(w.a,{item:!0,xs:12,children:[Object(q.jsx)(P.a,{m:4}),Object(q.jsx)(P.a,{m:0,children:Object(q.jsx)(v.a,{variant:"overline",color:"secondary",children:"> Make sure your API key is enabled for spot trading"})}),Object(q.jsx)(P.a,{m:0,children:Object(q.jsx)(v.a,{variant:"overline",color:"secondary",children:"> Make sure your server's IP address is added to the API key's IP whitelist (if enabled)"})})]})]})}var zt=n(30),Ut=n(1196),Yt=n(1174),Gt="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",Ht=Object(h.a)({root:{height:2,padding:"15px 0"},thumb:{height:28,width:28,boxShadow:Gt,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:Gt}}},active:{},valueLabel:{left:"calc(-50% + 12px)",top:9,"& *":{background:"transparent",color:"#FFFFFF"}},track:{height:3},rail:{height:2,opacity:.5,backgroundColor:"secondary"},mark:{backgroundColor:"secondary",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(Ut.a),qt=[{id:"coin",align:"left",disablePadding:!0,label:"Coin"},{id:"change",align:"center",disablePadding:!1,label:"Change Distribution (%)"},{id:"distribution",align:"left",disablePadding:!1,label:""},{id:"notifications",align:"left",disablePadding:!1,label:""}],Jt=[{value:-1,label:""},{value:100,label:""}],Kt=Object(b.a)((function(e){return{headcolor:"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"},headheight:{height:44}}}));function Xt(e){var t,n=e.onSelectAllClick,a=e.numSelected,c=e.rowCount,i=Kt();return t=Object(q.jsx)(ke.a,{indeterminate:a>0&&a<c,checked:c>0&&a===c,onChange:n,inputProps:{"aria-label":"select coins"}}),Object(q.jsx)(ve.a,{children:Object(q.jsxs)(ye.a,{className:"".concat(i.headcolor," ").concat(i.headheight),children:[Object(q.jsx)(ge.a,{padding:"checkbox",children:t}),qt.map((function(e){return Object(q.jsx)(ge.a,{align:e.align,padding:e.disablePadding?"none":"default",children:Object(q.jsx)(we.a,{children:e.label})},e.id)}))]})})}var Zt=Object(b.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Oe.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),_t=function(e){var t=Zt(),n=e.selected,a=(e.portfolio,e.setSelected,n.length);return Object(q.jsx)(g.a,{className:Object(xe.a)(t.root,Object(ue.a)({},t.highlight,a>0)),children:a>0?Object(q.jsxs)(v.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[1===a?"Coin":"Coins"," ",Object(q.jsx)("i",{children:"excluded"})," from balancing: ",n.join()]}):Object(q.jsxs)(v.a,{className:t.title,variant:"subtitle1",id:"tableTitle",component:"div",children:["Select coins to be ",Object(q.jsx)("i",{children:"excluded"})," from balancing"]})})},Vt=Object(b.a)((function(e){return{root:{width:"100%"},paper:{width:"800px",marginBottom:e.spacing(2)},table:{maxWidth:800,minWidth:800,"& .MuiTableCell-sizeSmall":{paddingTop:"6px",paddingBottom:"0px"}},cell:{width:50},cell2:{width:120},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Qt(e){var t=Vt(),n=Object(a.useContext)(Pt),i=Object(j.a)(n,2),r=i[0],o=(i[1],r.portfolio?r.portfolio:[]),s=Object(a.useState)(o),l=Object(j.a)(s,2),d=l[0],b=l[1],h=Object(a.useState)(!1),u=Object(j.a)(h,2),x=u[0],O=u[1],p=[];o.forEach((function(e){e.excluded&&p.push(e.coin)}));var m=Object(a.useState)(p),g=Object(j.a)(m,2),f=g[0],y=g[1],k=function(t){e.callback({field:"portfolio",input:t})};Object(a.useEffect)((function(){return qe.on("portfolio",(function(e){if(!1!==e){var t=e.length;e.forEach((function(e){var n=r.portfolio.find((function(t){return t.coin===e.coin}));n?(e.slider=n.slider,e.distribution=n.distribution,e.excluded=n.excluded,e.startnumber=n.startnumber,e.startprice=n.startprice):(0!==r.portfolio.length?(e.slider=-1,e.distribution=0,e.excluded=!0,y((function(t){return[].concat(Object(zt.a)(t),[e.coin])}))):(e.slider=-1,e.distribution=(100/t).toFixed(3),e.excluded=!1),e.startnumber=e.number,e.startprice=e.price)})),O(!0),b(e),k(e)}})),function(){}}),[]);var C=function(e){if("BTC"!==e){var t=f.indexOf(e),n=Object(zt.a)(d),a=n.find((function(t){return t.coin===e}));a.excluded=-1===t,b(n);var c=[];-1===t?c=c.concat(f,e):0===t?c=c.concat(f.slice(1)):t===f.length-1?c=c.concat(f.slice(0,-1)):t>0&&(c=c.concat(f.slice(0,t),f.slice(t+1))),y(c),F(a.slider,a.coin,c)}},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,a=Object(zt.a)(d),c=a.find((function(e){return e.coin===t}));c.slider=e;var i,r=0,o=0;a.forEach((function(e){-1===n.indexOf(e.coin)&&(r+=e.slider,-1===e.slider&&r++,-1!==e.slider&&o++)}));var s=100-r,l=a.length-o-n.length;i=0===l?r:Math.max(100,r),a.forEach((function(e){e.excluded=!1,-1!==n.indexOf(e.coin)?(e.distribution=(0).toFixed(3),e.excluded=!0):i<=100?-1===e.slider?e.distribution=(s/l).toFixed(3):e.distribution=(e.slider/i*100).toFixed(3):-1===e.slider?e.distribution=(0).toFixed(3):e.distribution=(e.slider/i*100).toFixed(3)})),b(a),k(a)},S=function(e){return-1===e?"=":e},N=Object(a.useState)(!1),I=Object(j.a)(N,2),B=I[0],T=I[1],W=function(){T(!1)};return Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsxs)(w.a,{container:!0,alignItems:"flex-end",children:[Object(q.jsx)(w.a,{item:!0,xs:11,children:Object(q.jsx)(v.a,{variant:"h6",gutterBottom:!0,children:"Coin Settings"})}),Object(q.jsx)(w.a,{item:!0,xs:1,children:Object(q.jsx)(Dt.a,{onClickAway:W,children:Object(q.jsx)(At,{title:Object(q.jsx)(c.a.Fragment,{children:Object(q.jsxs)(P.a,{m:2,children:[Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Exclude coins"})}),Object(q.jsx)("div",{children:"Use the checkboxes on the left to exclude coins in your account from balancing. Balance Bot will completely ignore selected coins."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Coin distribution"})}),Object(q.jsx)("div",{children:"By default, all coins are balanced with an equal distribution. If you'd like to change the target distribution of your coins, use the sliders. Coins with their slider all the way to the left will get an even distribution up to a total of 100%."})]})}),onClose:W,open:B,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,children:Object(q.jsx)(G.a,{onClick:B?W:function(){T(!0)},children:Object(q.jsx)(Rt.a,{color:"secondary"})})})})})]}),Object(q.jsx)(w.a,{container:!0,spacing:3,children:Object(q.jsx)(E.a,{className:t.paper,elevation:0,children:x?Object(q.jsxs)("div",{children:[Object(q.jsx)(_t,{selected:f,portfolio:d,setSelected:y}),Object(q.jsxs)(pe.a,{className:t.table,size:"small","aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(q.jsx)(Xt,{classes:t,numSelected:f.length,onSelectAllClick:function(e){var t=[];0===f.length&&(t=d.map((function(e){return e.coin})).filter((function(e){return"BTC"!==e}))),y(t),d.forEach((function(e){F(e.slider,e.coin,t)}))},rowCount:d.length}),Object(q.jsx)(me.a,{children:d.map((function(e,n){var a,c=function(e){return-1!==f.indexOf(e)}(e.coin),i="enhanced-table-checkbox-".concat(n);return a="BTC"!==e.coin?Object(q.jsx)(ke.a,{checked:c,inputProps:{"aria-labelledby":i}}):null,Object(q.jsxs)(ye.a,{hover:!0,role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(q.jsx)(ge.a,{padding:"checkbox",onClick:function(t){return C(e.coin)},children:a}),Object(q.jsx)(ge.a,{component:"th",id:i,scope:"row",padding:"none",onClick:function(t){return C(e.coin)},children:e.coin}),Object(q.jsx)(ge.a,{align:"right",children:Object(q.jsx)(Ht,{value:e.slider,step:1,valueLabelDisplay:"on",marks:Jt,min:-1,valueLabelFormat:function(e){return Object(q.jsx)("div",{children:S(e)})},onChange:function(t,n){return F(n,e.coin)}})}),Object(q.jsxs)(ge.a,{component:"th",className:t.cell,id:i,scope:"row",padding:"none",align:"left",onClick:function(t){return C(e.coin)},children:[e.distribution,"%"]}),Object(q.jsx)(ge.a,{component:"th",className:t.cell2,id:i,scope:"row",padding:"none",align:"left",children:"BTC"===e.coin&&0===parseFloat(e.distribution)?Object(q.jsx)(v.a,{variant:"overline",color:"secondary",children:"Cannot be 0%"}):null})]},e.coin)}))})]})]}):Object(q.jsxs)("div",{children:[Object(q.jsx)(P.a,{pt:4}),Object(q.jsx)(v.a,{children:"Loading account data..."}),Object(q.jsx)(P.a,{pt:4}),Object(q.jsx)(Yt.a,{animation:"wave"}),Object(q.jsx)(Yt.a,{animation:"wave"}),Object(q.jsx)(Yt.a,{animation:"wave"})]})})})]})}var $t=n(620),en=n(619),tn=n.n(en),nn=n(634),an=n(632),cn=n(72),rn=n(1187),on=[{field:"coin",headerName:"Coin",width:350,editable:!1},{field:"startnumber",headerName:"Number",type:"number",width:200,editable:!0,valueFormatter:function(e){var t=e.value;return Number(t)}},{field:"startprice",headerName:"Price (BTC)",type:"number",width:200,editable:!0,valueFormatter:function(e){var t=e.value;return Number(t)}}],sn=Object(b.a)((function(e){return{root:{width:"100%"},header:{"& .MuiDataGrid-colCell":"light"===e.palette.type?{backgroundColor:"#aaaaaa"}:{backgroundColor:"#777777"}},paper:{width:"100%",marginBottom:e.spacing(2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function ln(e){var t=sn(),n=[],i=Object(a.useContext)(Pt),r=Object(j.a)(i,2),o=r[0],s=(r[1],o.portfolio),l=Object(a.useState)(s),d=Object(j.a)(l,2),b=d[0],h=d[1],u=Object(a.useState)(o.startdate),x=Object(j.a)(u,2),O=x[0],p=x[1],m=Object(a.useState)(o.recreate),g=Object(j.a)(m,2),f=g[0],y=g[1],k=Object(a.useState)(!1),C=Object(j.a)(k,2),F=C[0];C[1],Object(a.useContext)(_)[0].access;s.forEach((function(e){e.excluded||n.push({id:e.coin,coin:e.coin,startnumber:Number(e.startnumber.toFixed(8)),startprice:Number(e.startprice.toFixed(8))})}));var S=Object(a.useState)(n),N=Object(j.a)(S,2),I=N[0],B=N[1],T=function(e){p(e)},W=function(t){p(t);var n=Object(nn.a)(t,"yyyy/MM/dd");e.callback({field:"startdate",input:n})},A=function(t){var n=t.target.checked;e.callback({field:"recreate",input:n}),y(n)},z=function(){n=[],b.forEach((function(e){n.push({id:e.coin,coin:e.coin,startnumber:Number(e.number.toFixed(8)),startprice:Number(e.price.toFixed(8))})})),B(n);var t=Object(zt.a)(b);t.forEach((function(e){var t=n.find((function(t){return t.coin===e.coin}));e.startnumber=t.startnumber,e.startprice=t.startprice})),h(t),e.callback({field:"portfolio",input:t})};function U(){return Object(q.jsxs)(w.a,{container:!0,alignItems:"flex-end",children:[Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(cn.a,{utils:an.a,children:Object(q.jsx)(rn.a,{disableToolbar:"true",variant:"inline",format:"yyyy/MM/dd",margin:"normal",id:"date-picker-inline",label:"Set start date",value:O,disableFuture:"true",onChange:T,onAccept:W})})}),Object(q.jsxs)(w.a,{container:!0,alignItems:"center",justify:"space-between",children:[Object(q.jsx)(w.a,{item:!0,children:Object(q.jsx)(D.a,{control:Object(q.jsx)(ke.a,{color:"secondary",name:"rewrite",value:"yes",checked:f,onChange:A}),label:"Recreate performance history"})}),Object(q.jsx)(w.a,{item:!0,children:Object(q.jsx)(M.a,{variant:"contained",color:"primary",startIcon:Object(q.jsx)(tn.a,{}),onClick:z,children:"Use current balance"})})]})]})}var Y=Object(a.useState)(!1),H=Object(j.a)(Y,2),J=H[0],K=H[1],X=function(){K(!1)};return Object(q.jsxs)("div",{children:[Object(q.jsx)(L.a,{className:t.backdrop,open:F,children:Object(q.jsx)(R.a,{color:"inherit"})}),Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsxs)(w.a,{container:!0,alignItems:"flex-end",children:[Object(q.jsx)(w.a,{item:!0,xs:11,children:Object(q.jsx)(v.a,{variant:"h6",gutterBottom:!0,children:"Starting Balance"})}),Object(q.jsx)(w.a,{item:!0,xs:1,children:Object(q.jsx)(Dt.a,{onClickAway:X,children:Object(q.jsx)(At,{title:Object(q.jsx)(c.a.Fragment,{children:Object(q.jsxs)(P.a,{m:2,children:[Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Use of starting balance"})}),Object(q.jsx)("div",{children:"Balance Bot uses the starting balance to determine the performance of your balancing portfolio. It compares the current portfolio value with the starting portfolio value to calculate the change."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Default starting balance"})}),Object(q.jsx)("div",{children:"By default, Balance Bot will check the number of coins in your account and their prices upon first-time configuration, and use these to calculate the starting balance."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Customize starting balance"})}),Object(q.jsx)("div",{children:"If you started balancing at an earlier point in time, you can manually set the starting balance for your account. Do so by filling in the number of coins and their prices at which you purchased those coins. Simply click on the cells in the table to edit."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:"Alternatively, when clicking the 'use current balance' button, Balance Bot will use the current balance to fill the table. This may be useful if you've added or removed crypto to/from your portfolio and you want to reset the performance measurements."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Recreate performance history"})}),Object(q.jsxs)("div",{children:["Balance Bot can 'recreate history' by analyzing trades that were executed as of the start date, and use that information to create performance graphs for that period. Tick the 'Recreate performance history' checkbox to confirm that you want to do so. Make sure to set the start date right ",Object(q.jsx)("b",{children:"after"})," the date when you bought the coins in your portfolio, to avoid these purchases to be counted twice."]}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:"Depending on the start date and your trade history, it may take several minutes to recreate your performance history and until this is visible on the performance screen. You will receive a notification message once the process has completed."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsxs)("div",{children:[Object(q.jsx)("i",{children:"Note: "}),"Recreating the performance history will also recreate your event history, including all executed orders since the start date, but excluding error messages that may have been logged in the past."]})]})}),onClose:X,open:J,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,children:Object(q.jsx)(G.a,{onClick:J?X:function(){K(!0)},children:Object(q.jsx)(Rt.a,{color:"secondary"})})})})})]}),Object(q.jsxs)("div",{style:{width:"752px"},children:[Object(q.jsx)(U,{}),Object(q.jsx)(P.a,{pt:3,children:Object(q.jsx)(w.a,{container:!0,children:Object(q.jsx)(E.a,{className:t.paper,elevation:0,children:Object(q.jsx)("div",{style:{width:"752px"},children:Object(q.jsx)($t.a,{className:t.header,rows:I,columns:on,autoHeight:!0,density:"compact",disableColumnSelector:!0,disableColumnMenu:!0,hideFooter:!0,hideFooterPagination:!0,hideFooterRowCount:!0,onEditCellChangeCommitted:function(t){var n=Object(zt.a)(b);n.find((function(e){return e.coin===t.id}))[t.field]=Number(t.props.value),h(n),e.callback({field:"portfolio",input:n})}})})})})})]})]})]})}var dn=n(304),jn=n(208),bn=n(1101),hn=n(306),un=n(158),xn=Object(b.a)((function(e){return{formControl:{minWidth:"100%"},selectEmpty:{marginTop:e.spacing(2)},textinput:{width:"380px"}}}));function On(e){var t=xn(),n=Object(a.useContext)(Pt),i=Object(j.a)(n,2),r=i[0],o=(i[1],Object(a.useState)(r.botname||"")),s=Object(j.a)(o,2),l=s[0],d=s[1],b=Object(a.useState)(r.threshold||"3"),h=Object(j.a)(b,2),u=h[0],x=h[1],O=Object(a.useState)(r.ordertype||"market"),p=Object(j.a)(O,2),m=p[0],g=p[1],f=Object(a.useState)(r.timeout||20),y=Object(j.a)(f,2),C=y[0],F=y[1],S=Object(a.useState)(r.headless||!1),N=Object(j.a)(S,2),I=N[0],B=N[1],T=Object(a.useState)(r.cooldown||0),E=Object(j.a)(T,2),W=E[0],L=E[1],R=Object(a.useState)(!1),A=Object(j.a)(R,2),M=A[0],z=A[1],U=function(){z(!1)};return Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsxs)(w.a,{container:!0,alignItems:"flex-end",children:[Object(q.jsx)(w.a,{item:!0,xs:11,children:Object(q.jsx)(v.a,{variant:"h6",gutterBottom:!0,children:"General Settings"})}),Object(q.jsx)(w.a,{item:!0,xs:1,children:Object(q.jsx)(Dt.a,{onClickAway:U,children:Object(q.jsx)(At,{title:Object(q.jsx)(c.a.Fragment,{children:Object(q.jsxs)(P.a,{m:2,children:[Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Bot Name"})}),Object(q.jsx)("div",{children:"Give your bot a descriptive name. This is especially useful if you run multiple bots, so you can easily recognize each."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Balancing Threshold"})}),Object(q.jsx)("div",{children:"The balancing threshold is used by Balance Bot to determine when to sell/buy coins. The threshold is the relative deviation from the target distribution at which point the bot will place an order to restore the coin to the target distribution."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Order Type"})}),Object(q.jsx)("div",{children:"Market Orders get executed immediately, but the price is not guaranteed. Limit Orders have a preset price, but it may take time before the order is filled. If the order is not filled after the select time out period, the order is canceled. High-Margin uses the ask price when selling, and the bid price when buying. Low-Margin uses the bid price when selling, and the ask price when buying. High-Margin limit orders may take longer to get filled, but at a better price."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Cooldown Trigger"})}),Object(q.jsx)("div",{children:"At times of high price volatility, Balance Bot may perform many trades to keep your portfolio balanced. This may not be preferred, because of the resulting trading fees. To avoid such situation, you may choose to trigger a 1 hour cooldown period, which kicks in when the set number of trades are performed within a 5 minute period."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:Object(q.jsx)("b",{children:"Automatic Mode"})}),Object(q.jsx)("div",{children:"You can operate your bot manually. In this mode, you will need to keep an eye on the dashboard and place manual orders when the dashboard indicates that a coin should be bought or sold. This is useful if you want to have full control, typically when you use Balance Bot for the first time and you want to get a feel for how it works."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsx)("div",{children:"Enabling automatic mode is a lot more practical though, as Balance Bot will run 24/7 and place orders automatically to keep your portfolio balanced."}),Object(q.jsx)("div",{children:"\xa0"}),Object(q.jsxs)("div",{children:[Object(q.jsx)("i",{children:"Note: "}),"You don't need to keep your browser open to run your bot in automatic mode. The application will keep running in the background. You can open the application in the browser at any time to check the status of your bot."]})]})}),onClose:U,open:M,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,children:Object(q.jsx)(G.a,{onClick:M?U:function(){z(!0)},children:Object(q.jsx)(Rt.a,{color:"secondary"})})})})})]}),Object(q.jsxs)(w.a,{container:!0,spacing:3,children:[Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(k.a,{required:!0,id:"botname",name:"botname",label:"Bot Name",helperText:"Give your bot a name",value:l,onChange:function(t){e.callback({field:t.target.id,input:t.target.value}),d(t.target.value)},className:t.textinput})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(k.a,{required:!0,id:"threshold",name:"threshold",label:"Balancing Threshold (%)",helperText:"At what deviation from the target distribution should be rebalanced",value:u,onChange:function(t){/^[0-9]*\.?[0-9]*$/.test(t.target.value)&&(e.callback({field:t.target.id,input:t.target.value}),x(t.target.value))},className:t.textinput})}),Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsxs)(jn.a,{children:[Object(q.jsx)(hn.a,{children:"Order Type"}),Object(q.jsxs)(dn.a,{labelId:"order-type",name:"ordertype",value:m,onChange:function(t){e.callback({field:t.target.name,input:t.target.value}),g(t.target.value)},className:t.textinput,children:[Object(q.jsx)(un.a,{value:"market",children:"Market Order"}),Object(q.jsx)(un.a,{value:"limit-high",children:"Limit Order > High-Margin"}),Object(q.jsx)(un.a,{value:"limit-low",children:"Limit Order > Low-Margin"})]}),Object(q.jsx)(bn.a,{children:"Select the order type to be used for trades"})]})}),Object(q.jsx)(w.a,{item:!0,xs:6,children:Object(q.jsxs)(jn.a,{children:[Object(q.jsx)(hn.a,{children:"Limit Order Time Out"}),Object(q.jsxs)(dn.a,{labelId:"limit-time-out",name:"timeout",value:C,onChange:function(t){e.callback({field:t.target.name,input:t.target.value}),F(t.target.value)},className:t.textinput,disabled:"market"===m,children:[Object(q.jsx)(un.a,{value:10,children:"10 minutes"}),Object(q.jsx)(un.a,{value:20,children:"20 minutes"}),Object(q.jsx)(un.a,{value:30,children:"30 minutes"}),Object(q.jsx)(un.a,{value:60,children:"60 minutes"}),Object(q.jsx)(un.a,{value:90,children:"90 minutes"}),Object(q.jsx)(un.a,{value:120,children:"120 minutes"})]}),Object(q.jsx)(bn.a,{children:"Select the maximum wait time for limit orders to be filled"})]})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(k.a,{required:!0,id:"cooldown",name:"cooldown",label:"Cooldown Trigger",helperText:"After how many orders within 5 minutes should Balance Bot go into 'cooldown' mode (set to 0 to disable)",value:W,onChange:function(t){/^[0-9]*$/.test(t.target.value)&&(e.callback({field:t.target.id,input:t.target.value}),L(t.target.value))},className:t.textinput})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(D.a,{control:Object(q.jsx)(ke.a,{color:"secondary",name:"headless",checked:I,onChange:function(t){e.callback({field:"headless",input:t.target.checked}),B(t.target.checked)}}),label:"Run bot in automatic mode"})})]})]})}var pn=Object(b.a)((function(e){return{layout:{width:"1000px",marginLeft:e.spacing(2),marginRight:e.spacing(2)},paper:Object(ue.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),mn=["Exchange API","Coin Settings","Starting Balance","General Settings"];function gn(){var e=pn(),t=Object(a.useContext)(X),n=Object(j.a)(t,2),i=n[0],r=n[1],o=Object(ee.b)(),s=o.enqueueSnackbar,l=o.closeSnackbar,d=Object(a.useState)(0),b=Object(j.a)(d,2),h=b[0],u=b[1],x=Object(a.useContext)(Pt),O=Object(j.a)(x,2),p=O[0],g=O[1],f=Object(a.useContext)(dt),y=Object(j.a)(f,2),w=(y[0],y[1]),k=Object(a.useState)(!1),C=Object(j.a)(k,2),F=C[0],S=C[1],N=Object(a.useContext)(_)[0],I=N.access,B=N.publicKey,T=new Ue.Crypt({md:"sha256",rsaStandard:"RSA-OAEP"});Object(a.useEffect)((function(){return g(Object(he.a)(Object(he.a)({},i),{},{recreate:!1})),function(){}}),[]);var P=function(e){return Object(q.jsx)(c.a.Fragment,{children:Object(q.jsx)(M.a,{style:{color:"#bbbbbb"},onClick:function(){l(e)},children:"Dismiss"})})};Object(a.useEffect)((function(){return qe.on("portfolio",(function(e){!1===e&&u(0)})),function(){}}),[]),Object(a.useEffect)((function(){return qe.on("configuration-stored",(function(){r((function(e){return Object(he.a)(Object(he.a)({},e),{},{apiKey:"************",apiSecret:"************"})})),w([]),S(!1),u(4)})),function(){qe.off("configuration-stored")}}),[]);var W=function(e){var t=p;t[e.field]=e.input,g(t)},A=function(){qe&&I.allow&&qe.emit("get-portfolio",{apiKey:p.apiKey,apiSecret:p.apiSecret},I.token)},D=function(){if(qe&&I.allow){var e=Object(he.a)(Object(he.a)({},p),{},{apiKey:T.encrypt(B,p.apiKey),apiSecret:T.encrypt(B,p.apiSecret)});qe.emit("store-configuration",e,I.token),r(p)}};return Object(q.jsxs)("div",{children:[Object(q.jsx)(L.a,{className:e.backdrop,open:F,onClick:function(){S(!1)},children:Object(q.jsx)(R.a,{color:"inherit"})}),Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)(m.a,{}),Object(q.jsx)("main",{className:e.layout,children:Object(q.jsxs)(E.a,{className:e.paper,children:[Object(q.jsx)(_e.a,{activeStep:h,className:e.stepper,children:mn.map((function(e){return Object(q.jsx)(Ve.a,{children:Object(q.jsx)(Qe.a,{children:e})},e)}))}),Object(q.jsx)(c.a.Fragment,{children:h===mn.length?Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)(v.a,{variant:"h5",gutterBottom:!0,children:"Configuration has been saved"}),Object(q.jsx)(v.a,{variant:"subtitle1",children:"You can now leave this page"})]}):Object(q.jsxs)(c.a.Fragment,{children:[function(e){switch(e){case 0:return Object(q.jsx)(Mt,{callback:W});case 1:return Object(q.jsx)(Qt,{callback:W});case 2:return Object(q.jsx)(ln,{callback:W});case 3:return Object(q.jsx)(On,{callback:W});default:throw new Error("Unknown step")}}(h),Object(q.jsxs)("div",{className:e.buttons,children:[0!==h&&Object(q.jsx)(M.a,{onClick:function(){2===h&&A(),u(h-1)},className:e.button,children:"Back"}),Object(q.jsx)(M.a,{variant:"contained",color:"primary",onClick:function(){var e=!1;if(0===h&&A(),1===h){var t=p.portfolio.find((function(e){return e.coin="BTC"}));0===Number(t.distribution)&&(e=!0)}3===h&&(0===p.botname.length&&(e=!0,s("Bot name must be defined",{variant:"error",autoHideDuration:8e3,action:P})),0===Number(p.threshold)&&(e=!0,s("Threshold must be defined",{variant:"error",autoHideDuration:8e3,action:P})),""===p.cooldown&&(e=!0,s("Cooldown trigger must be defined",{variant:"error",autoHideDuration:8e3,action:P})),e||(S(!0),D())),3===h||e||u(h+1)},className:e.button,children:h===mn.length-1?"Save Configuation":"Next"})]})]})})]})})]})]})}var fn,vn=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),yn=function(){var e=vn();return Object(q.jsx)("div",{className:e.root,children:Object(q.jsxs)(w.a,{container:!0,spacing:3,children:[Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(v.a,{variant:"h3",noWrap:!0,children:"Configuration"})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(gn,{})})]})})},wn=n(621),kn=n.n(wn),Cn=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2)}}})),Fn={BTC:{logo:"/logo-btc.png",address:"1NS1gD6BjM2zud7W9sVvDsesoq6NfNpqrb",network:"Bitcoin (BTC)",qr:"/qr-btc.png"},"ETH / PAXG":{logo:"/logo-eth.png",address:"0x03a03ad6123d85d3015b5d6bc2064e73acbff85b",network:"Ethereum (ETH / ERC20)",qr:"/qr-eth.png"},"BNB / BUSD / USDT / ETH":{logo:"/logo-bnb.png",address:"0x03a03ad6123d85d3015b5d6bc2064e73acbff85b",network:"Binance Smart Chain (BEP20)",qr:"/qr-bnb.png"}},Sn=function(e){var t=e.type,n=Cn();return Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(E.a,{style:{height:"160px",width:"1000px"},className:n.paper,children:Object(q.jsxs)(w.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)("img",{src:Fn[t].logo,alt:"logo-"+t,height:"120px"})}),Object(q.jsxs)(w.a,{item:!0,xs:6,children:[Object(q.jsxs)("p",{children:[Object(q.jsx)("b",{children:t})," deposit address:"]}),Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:Fn[t].address})}),Object(q.jsxs)("p",{children:["Network Name: ",Object(q.jsx)("b",{children:Fn[t].network})]})]}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)("img",{src:Fn[t].qr,alt:"QR-"+t})})]})})})},Nn=function(e){var t=Cn();return Object(q.jsx)("div",{className:t.root,children:Object(q.jsxs)(w.a,{container:!0,item:!0,spacing:3,direction:"column",justify:"flex-start",alignItems:"flex-start",children:[Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsx)(v.a,{variant:"h3",noWrap:!0,children:"Support Us"})}),Object(q.jsx)(w.a,{item:!0,xs:12,children:Object(q.jsxs)(E.a,{style:{width:"1000px"},className:t.paper,children:[Object(q.jsxs)("p",{children:["We hope that you're enjoying Balance Bot. The Balance Bot team develops the application in their spare time, and they're not getting paid for the work they do. Their wish is to ",Object(q.jsx)("b",{children:"keep Balance Bot for free forever"}),". And you can help."]}),Object(q.jsxs)("p",{children:["If you're an enthusiastic Balance Bot user, please considering contributing through the options below. Thank you so much! ",Object(q.jsx)(kn.a,{fontSize:"small",color:"secondary"})]}),Object(q.jsxs)("p",{children:["The deposit addresses below are all on Binance, which makes it possible to transfer coins ",Object(q.jsx)("b",{children:"without transaction fees"})," from your own Binance account. For more information, see ",Object(q.jsx)(B.a,{href:"https://www.binance.com/en/support/faq/360037037312",target:"_blank",rel:"noopener",color:"secondary",children:"here"}),". Note: Binance does show a transaction fee, but it will not be charged."]}),Object(q.jsxs)("p",{children:["Donations are anonymous, but feel free to let us know about your generosity and ",Object(q.jsx)(B.a,{href:"https://t.me/hodlerhacks",target:"_blank",rel:"noopener",color:"secondary",children:"send us a message"}),"."]})]})}),Object(q.jsx)(Sn,{type:"BTC"}),Object(q.jsx)(Sn,{type:"ETH / PAXG"}),Object(q.jsx)(Sn,{type:"BNB / BUSD / USDT / ETH"})]})})},In=[{path:"portfolio",sidebarName:"Portfolio",icon:ne.a,component:yt},{path:"performance",sidebarName:"Performance",icon:re.a,component:St},{path:"coins",sidebarName:"Coin Analysis",icon:ce.a,component:Bt},{path:"history",sidebarName:"Event History",icon:se.a,component:Et}],Bn=[{path:"configuration",sidebarName:"Configuration",icon:de.a,component:yn},{path:"support",sidebarName:"Support Us",icon:be.a,component:Nn}],Tn=n(391),En=n(1175),Pn=n(1177),Wn=n(1176),Ln=n(1181),Rn=n(1182),An=n(628),Dn=n(629),Mn=n(630),zn=n.n(Mn),Un=n(392),Yn=n.n(Un),Gn=n(1180),Hn=Object(b.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},logo:{maxWidth:60,padding:10},drawer:{width:240,flexShrink:0},drawerPaper:{width:240,height:"100%"},drawerContainer:{overflow:"auto"},settingsPaper:{width:"100%",height:"100%"},content:{justify:"flex-start",alignItems:"flex-start",flexGrow:1,padding:e.spacing(2)},form:{width:"100%",marginTop:e.spacing(1)},footer:{marginTop:"auto",backgroundColor:"#000000"},bottomPush:{position:"fixed",width:"100%",bottom:0,paddingBottom:0,zIndex:e.zIndex.drawer+1},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},bottomPush2:{position:"fixed",bottom:0,paddingBottom:80},smallScreenToggles:{maxWidth:"100%",bottom:0,paddingBottom:80,paddingTop:10}}}));function qn(){return Object(q.jsx)(P.a,{color:"#FFF",height:54,p:2,children:Object(q.jsxs)(v.a,{variant:"body2",align:"center",children:["Copyright \xa9 ",Object(q.jsx)(B.a,{style:{color:"#ffffff",textDecoration:"none"},href:"https://hodlerhacks.com/",target:"_blank",rel:"noopener",children:"hodlerhacks.com"})," ",(new Date).getFullYear()]})})}var Jn=Object(h.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:12}}}))(z.a);function Kn(){var e=Object(N.h)(),t=Dn.version,n=H("mode","light"),i=Object(j.a)(n,2),r=i[0],o=i[1],b=H("fiat","EUR"),B=Object(j.a)(b,2),A=(B[0],B[1]),z=H("last-msg",0),U=Object(j.a)(z,2),Y=U[0],G=U[1],K=H("latest-version",t),Z=Object(j.a)(K,2),V=Z[0],$=Z[1],te=Object(a.useContext)(J),ne=Object(j.a)(te,2),ae=ne[0],ce=ne[1],ie=Object(a.useContext)(X),re=Object(j.a)(ie,2),oe=re[0],se=(re[1],Object(a.useState)("manual")),le=Object(j.a)(se,2),de=le[0],je=le[1],be=Object(a.useContext)(_),he=Object(j.a)(be,2),ue=he[0],xe=ue.status,Oe=ue.serverversion,pe=ue.servertime,me=ue.access,ge=ue.publicKey,fe=ue.loginNow,ve=he[1],ye=Object(a.useContext)(Q)[0],we=Yn.a.enc.Base64.parse(An.v).toString(Yn.a.enc.Utf8),ke=we.split("."),Ce=ke[0]+"."+ke[1],Fe=we,Se=Object(a.useState)(!1),Ne=Object(j.a)(Se,2),Ie=Ne[0],Be=Ne[1],Te=Object(a.useState)(!0),Ee=Object(j.a)(Te,2),Pe=Ee[0],We=Ee[1],Le=Object(a.useState)(!1),Re=Object(j.a)(Le,2),Ae=Re[0],De=Re[1],Me=Object(a.useState)(!1),ze=Object(j.a)(Me,2),Ye=ze[0],Ge=ze[1],He=Object(a.useState)({number:0,title:"",message:"",lock:!1}),Je=Object(j.a)(He,2),Ke=Je[0],Xe=Je[1],Ze=Object(a.useState)([]),_e=Object(j.a)(Ze,2),Ve=_e[0],Qe=_e[1],$e=Object(a.useState)("sm"),et=Object(j.a)($e,2),tt=et[0],nt=et[1],at=Object(a.useState)(window.location.pathname.includes("/configuration")),ct=Object(j.a)(at,2),it=ct[0],rt=ct[1],ot=Object(a.useState)(!1),st=Object(j.a)(ot,2),lt=st[0],dt=st[1],jt=Object(a.useState)("initial state"),bt=Object(j.a)(jt,2),ht=bt[0],ut=bt[1],xt=Object(a.useState)(""),Ot=Object(j.a)(xt,2),pt=Ot[0],mt=Ot[1],gt=Object(a.useState)(""),ft=Object(j.a)(gt,2),vt=ft[0],yt=ft[1],wt=Object(a.useState)(0),kt=Object(j.a)(wt,2),Ct=kt[0],Ft=kt[1],St=Object(a.useState)(0),Nt=Object(j.a)(St,2),It=Nt[0],Bt=Nt[1],Tt=function(){var e=window.location.pathname.match(/bot[0-9]{3}/);return e?e[0]:null},Et=Object(a.useState)(Tt()),Pt=Object(j.a)(Et,2),Wt=Pt[0],Lt=Pt[1],Rt=function(e){return Wt?Object(N.f)("/:bot/:page",{bot:Wt,page:e}):""},At=new Ue.Crypt({md:"sha256",rsaStandard:"RSA-OAEP"}),Dt=new Date,Mt=Dt,zt=Object(a.useRef)(Y);zt.current=Y;var Ut=function(){setTimeout((function(){Zt(zt.current)}),36e5)},Yt=function(){window.location.reload()};Object(a.useEffect)((function(){return Ge("disconnected"===xe&&0!==Object.keys(oe).length),function(){}}),[xe]),Object(a.useEffect)((function(){return document.title="BB | Bot Dashboard",window.addEventListener("storage",(function(){var e=localStorage.getItem("mode");o(e);var t=localStorage.getItem("fiat");ce(t)})),function(){}}),[]),Object(a.useEffect)((function(){return"starting"===xe&&window.location.reload(),We("connected"!==xe||0===Object.keys(oe).length),function(){}}),[xe,oe,ye]),Object(a.useEffect)((function(){return je(oe.headless?"auto":"manual"),function(){}}),[oe]),Object(a.useEffect)((function(){var t=e.listen((function(e){rt("/configuration"===e.pathname),Lt(Tt())}));return function(){t()}}),[e]),Object(a.useEffect)((function(){return Be(Oe&&"0.0"!==Oe&&Oe!==t),function(){}}),[Oe]),Object(a.useEffect)((function(){var e=0,n=0;return V>t&&(e+=140),me&&me.token&&(e+=50,n+=50),Ft(e),Bt(n),function(){}}),[V,t,me]);var Gt=Hn(),Ht=function(e){o("light"===r?"dark":"light")},qt=function(e){"EUR"===ae?(ce("USD"),A("USD")):(ce("EUR"),A("EUR"))},Jt=function(e){var t="auto"===de?"manual":"auto",n="auto"===t;je(t),qe&&me.allow&&qe.emit("store-headless",{headless:n},me.token)};Object(a.useEffect)((function(){return me&&(!1===me.allow&&"2FA required"===me.reason?(dt(!1),ut("Add your client's IP address to the IP whitelist, or temporarily allow access throught your Telegram bot")):!1===me.allow&&"temporary access not allowed"===me.reason?(dt(!1),ut("Add your client's IP address to the IP whitelist")):!1===me.allow&&"access timeout"===me.reason?(dt(!1),ut("Your access has timed out")):!1===me.allow&&"2FA login required"===me.reason?(dt(!1),ut("2FA required - approve login through your Telegram bot")):!1===me.allow&&"invalid credentials"===me.reason?(dt(!1),ut("Incorrect username or password")):!1===me.allow&&"logged out"===me.reason?(dt(!1),ut("You've logged out")):!1===me.allow&&"initial state"===me.reason?(dt(!1),ut("initial state")):!1===me.allow&&"reload"===me.reason?Yt():dt(!0)),function(){}}),[me]);var Kt=Object(u.a)({palette:{type:r}}),Xt=Object(h.a)({root:{"&:hover":{backgroundColor:"transparent"},"&:click":{backgroundColor:"#f00"},justifyContent:"flex-start"}})(M.a);function Zt(e){return _t.apply(this,arguments)}function _t(){return(_t=Object(d.a)(s.a.mark((function e(t){var n,a,c,i,r,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Date,a=Object(Gn.a)(n,Dt),!(Dt!==Mt&&a<4)){e.next=6;break}Ut(),e.next=22;break;case 6:return Dt=new Date,"https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master",c=new Tn.GraphQLClient("https://api-eu-central-1.graphcms.com/v2/ckoytzv3lotky01w59glace7y/master"),i={authorization:"Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImdjbXMtbWFpbi1wcm9kdWN0aW9uIn0.eyJ2ZXJzaW9uIjozLCJpYXQiOjE2MjE2NjgzMzgsImF1ZCI6WyJodHRwczovL2FwaS1ldS1jZW50cmFsLTEuZ3JhcGhjbXMuY29tL3YyL2Nrb3l0enYzbG90a3kwMXc1OWdsYWNlN3kvbWFzdGVyIiwiaHR0cHM6Ly9tYW5hZ2VtZW50LW5leHQuZ3JhcGhjbXMuY29tIl0sImlzcyI6Imh0dHBzOi8vbWFuYWdlbWVudC5ncmFwaGNtcy5jb20vIiwic3ViIjoiYjZlOTBmODAtZmEzYS00ODJmLWE0NTAtMTY3YTFmZTliNzIzIiwianRpIjoiY2tvemZnaWE0Mno4bTAxdzU5bHU5ZTA3NSJ9.cEJ5isSubzX1ymlpkfyvfgZ6zyUMFiFOVaD4N84NoEOxwGZ8DtYM1k4DlCjoeCcTR8Ftr43bIGDxR4apANAG_-wf9Nge9T2MAuKa9z2sCWA5jnYtTHYU-x1Hx_ShpHAl1wPjrSpTMquV3bRlKQBm6EQTreoaQZgBXY25ClLbVzXFcohcDn3RGi3hHVRvxNLr0F7ETwFJnbowm9UX66vz2SP-5-u-CBKUxSipKMO5za0MZiIWoprSdE0f22xVXp8up3k_6-5x22mS88P2OFgMXoA-UBFS8nz6jRE_fRULzCouKYyJG3oQ10ovuZ1M729GQ0rMv9fkJroVKyS4i8KgglwPPBwQbaD2LCJXINKXYC65DmKyJ9UjWxQ9Lv6akcnkT7CkeqEqzwLnCEQgZEmJS_PBFDu40LMS8UbnwDcntJznA8rH_jsD7IkMdyRyXmns6fbLOc91Q1idBCk-VqUzkL0FzfscCVpkg1J7kGtGeW4YEWhWyPze4ZO4IxM9WRoSsCDUOx3EXklA0WSdR2M6IRnoFL-qoawOLQaaPACy8-QGmaAL6N6fuMIHUWavOTYnyLip0oyy74sUHz4S4sx4mAf5pexlvDcxM_6RIRnCQ84THsM2KwpoWkpR-F2s4pIyfYYn-4R7MNENfPGxNm4INjBYrCOWyZN_vXHGBa4uw2U"},r={last:parseInt(t),bbm:Ce},o=Object(Tn.gql)(fn||(fn=Object(l.a)(['\n        query getMessages($bbm: String!, $last: Int!) {\n              messages(where: {\n                number_gt: $last\n                OR: [\n                  {bbvReceive: "any"},\n                  {bbvReceive_contains: $bbm}\n                ]\n                archived_not: true\n              }, orderBy: number_ASC) {\n                id\n                number\n                bbvReceive\n                bbvNew\n                title\n                message\n                dialogWidth\n                lock\n              }\n            }\n        ']))),e.prev=12,e.next=15,c.request(o,r,i);case 15:d=e.sent,Qe(d.messages),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(12);case 21:Ut();case 22:case"end":return e.stop()}}),e,null,[[12,19]])})))).apply(this,arguments)}Object(a.useEffect)((function(){if(Ve.length>0){var e=Ve[0];if(e.bbvNew&&$(e.bbvNew),2!==(e.bbvReceive.match(/\./g)||[]).length||e.bbvReceive===Fe){var t=!1;if(e.bbvNew&&Fe>=e.bbvNew&&(t=!0),t){G(e.number);var n=Ve.slice(1,Ve.length);Qe(n)}else{if(null===e.dialogWidth){var a=e.message.length;nt(a<400?"sm":a<800?"md":a<3e3?"lg":"xl")}else nt(e.dialogWidth);var c={number:e.number,title:e.title,message:e.message,width:e.dialogWidth,lock:e.lock,updated:t};Xe(c),De(!0)}}else{var i=Ve.slice(1,Ve.length);Qe(i)}}}),[Ve]),Object(a.useEffect)((function(){Zt(Y)}),[]);var Vt=function(e){"username"===e.target.id&&mt(e.target.value),"password"===e.target.id&&yt(e.target.value)},Qt=function(){qe&&qe.emit("logout",me.token),ve({status:xe,serverversion:Oe,servertime:pe,access:{allow:!1,reason:"logged out",token:null},publicKey:ge,loginNow:fe})},$t=Object(ee.b)(),en=$t.enqueueSnackbar,tn=$t.closeSnackbar,nn=function(e){return Object(q.jsx)(c.a.Fragment,{children:Object(q.jsx)(M.a,{style:{color:"#bbbbbb"},onClick:function(){tn(e)},children:"Dismiss"})})};return Object(q.jsxs)(x.a,{theme:Kt,children:[Ye?Object(q.jsxs)(En.a,{open:!0,fullWidth:!0,maxWidth:"sm",children:[Object(q.jsxs)(Wn.a,{children:[Object(q.jsx)(Ln.a,{children:Object(q.jsx)(v.a,{variant:"overline",color:"secondary",children:"Disconnected from server"})}),Object(q.jsx)(Ln.a,{children:Object(q.jsx)(v.a,{variant:"overline",children:"The connection with the server has been lost. You may have opened the application from another browser or device, or the bot has stopped running."})})]}),Object(q.jsx)(Pn.a,{children:Object(q.jsx)(M.a,{variant:"contained",onClick:Yt,color:"secondary",children:"Reconnect"})})]}):lt||"initial state"!==ht?Ie||!lt||fe?lt&&!fe?Object(q.jsxs)(En.a,{open:!0,fullWidth:!0,maxWidth:"sm",children:[Object(q.jsx)(Wn.a,{children:Object(q.jsxs)(Ln.a,{children:[Object(q.jsx)(v.a,{variant:"overline",color:"secondary",children:"New version has been installed"}),Object(q.jsx)(Ln.a,{}),Object(q.jsx)(v.a,{variant:"overline",children:"Please refresh the browser window to load the latest version"})]})}),Object(q.jsx)(Pn.a,{children:Object(q.jsx)(M.a,{variant:"contained",onClick:Yt,color:"secondary",children:"Refresh"})})]}):fe?Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)(m.a,{}),Object(q.jsxs)(En.a,{open:!0,fullWidth:!0,maxWidth:"sm",children:[Object(q.jsx)(Rn.a,{children:"Log In"}),Object(q.jsxs)(Wn.a,{children:[Object(q.jsx)(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:Vt}),Object(q.jsx)(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:Vt}),Object(q.jsx)(P.a,{m:3}),Object(q.jsx)(M.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){var e=(new Date).getTime();qe&&qe.emit("login",{username:pt,password:At.encrypt(ge,"".concat(vt,"@").concat(e))})},children:"Log In"}),Object(q.jsx)(P.a,{m:3}),Object(q.jsx)(M.a,{fullWidth:!0,onClick:function(){qe&&qe.emit("reset-password"),en("See your Telegram bot to reset password",{variant:"success",autoHideDuration:8e3,action:nn})},color:"default",style:{fontSize:"10px"},children:"Forgot password"})]})]})]}):Object(q.jsxs)(En.a,{open:!0,fullWidth:!0,maxWidth:"sm",children:[Object(q.jsxs)(Wn.a,{children:[Object(q.jsx)(Ln.a,{children:Object(q.jsx)(v.a,{variant:"overline",color:"secondary",children:"Access Denied"})}),Object(q.jsx)(Ln.a,{children:Object(q.jsx)(v.a,{variant:"overline",children:ht})})]}),Object(q.jsx)(Pn.a,{children:Object(q.jsx)(M.a,{variant:"contained",onClick:Yt,color:"secondary",children:"Back"})})]}):Object(q.jsxs)(c.a.Fragment,{children:[Object(q.jsx)(L.a,{className:Gt.backdrop,open:Pe,children:Object(q.jsx)(R.a,{color:"inherit"})}),Object(q.jsxs)(En.a,{open:Ae,fullWidth:!0,maxWidth:tt,children:[Object(q.jsx)(Rn.a,{id:"dialog-title",children:Ke.title}),Object(q.jsx)(Wn.a,{children:Object(q.jsx)(Ln.a,{id:"dialog-description",children:Object(q.jsx)(zn.a,{linkTarget:"_blank",children:Ke.message})})}),Object(q.jsx)(Pn.a,{children:Object(q.jsx)(M.a,{variant:"contained",id:Ke.number,onClick:function(e){var t=e.target.parentElement.id;G(t),De(!1);var n=Ve.slice(1,Ve.length);Qe(n)},color:"secondary",disabled:Ke.lock,children:"Close"})})]}),Object(q.jsxs)("div",{className:Gt.root,children:[Object(q.jsx)(m.a,{}),Object(q.jsx)(p.a,{position:"fixed",className:Gt.appBar,children:Object(q.jsxs)(g.a,{children:[Object(q.jsx)("img",{src:"/logo192.png",alt:"Balance Bot Logo",className:Gt.logo}),Object(q.jsxs)(w.a,{container:!0,direction:"row",alignItems:"center",nowrap:"true",children:[Object(q.jsxs)(w.a,{item:!0,xs:!0,zeroMinWidth:!0,children:[Object(q.jsx)(P.a,{mt:1.5,children:Object(q.jsxs)(v.a,{variant:"h6",color:"inherit",noWrap:!0,children:["Balance Bot | ",oe.botname]})}),Object(q.jsx)(P.a,{mt:-1,style:{color:"#959FD6"},children:Object(q.jsxs)(v.a,{variant:"caption",color:"inherit",noWrap:!0,children:["v",t]})})]}),Object(q.jsx)(W.a,{xsDown:!0,children:Object(q.jsx)(Xn,{wdt:Ct,update:V>t,logout:me&&me.token,onLogout:Qt})}),Object(q.jsx)(W.a,{smUp:!0,children:Object(q.jsx)(Xn,{wdt:It,update:V>t,logout:me&&me.token,onLogout:Qt})})]})]})}),Object(q.jsx)(W.a,{mdDown:!0,children:Object(q.jsx)(O.a,{className:Gt.drawer,variant:"permanent",children:Object(q.jsx)(E.a,{className:Gt.drawerPaper,children:Object(q.jsxs)(w.a,{container:!0,direction:"column",children:[Object(q.jsxs)(w.a,{item:!0,xs:12,children:[Object(q.jsx)(g.a,{}),""!==oe.apiKey?Object(q.jsxs)("div",{className:Gt.drawerContainer,children:[Object(q.jsx)(f.a,{children:In.map((function(e,t){return Object(q.jsx)(I.b,{to:Rt(e.path),style:{textDecoration:"none"},children:Object(q.jsxs)(C.a,{button:!0,children:[Object(q.jsx)(F.a,{children:Object(q.jsx)(e.icon,{})}),Object(q.jsx)(S.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))}),Object(q.jsx)(y.a,{}),Bn.map((function(e,t){return Object(q.jsx)(I.b,{to:Rt(e.path),style:{textDecoration:"none"},children:Object(q.jsxs)(C.a,{button:!0,children:[Object(q.jsx)(F.a,{children:Object(q.jsx)(e.icon,{})}),Object(q.jsx)(S.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))]}):Object(q.jsxs)("div",{className:Gt.drawerContainer,children:[Object(q.jsx)(f.a,{children:In.map((function(e,t){return Object(q.jsx)(N.a,{to:Rt("configuration"),style:{textDecoration:"none"},children:Object(q.jsxs)(C.a,{button:!0,children:[Object(q.jsx)(F.a,{children:Object(q.jsx)(e.icon,{})}),Object(q.jsx)(S.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))}),Object(q.jsx)(y.a,{}),Bn.slice(0,1).map((function(e,t){return Object(q.jsx)(I.b,{to:Rt(e.path),style:{textDecoration:"none"},children:Object(q.jsxs)(C.a,{button:!0,children:[Object(q.jsx)(F.a,{children:Object(q.jsx)(e.icon,{})}),Object(q.jsx)(S.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)})),Bn.slice(1,Bn.length).map((function(e,t){return Object(q.jsx)(N.a,{to:Rt("configuration"),style:{textDecoration:"none"},children:Object(q.jsxs)(C.a,{button:!0,children:[Object(q.jsx)(F.a,{children:Object(q.jsx)(e.icon,{})}),Object(q.jsx)(S.a,{primary:e.sidebarName,primaryTypographyProps:{variant:"button",color:"textPrimary"}})]},e.sidebarName)},t)}))]})]}),Object(q.jsx)("div",{className:Gt.bottomPush2,children:Object(q.jsxs)(P.a,{pl:1,children:[Object(q.jsxs)(w.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"flex-end",style:{width:"200px"},children:[Object(q.jsx)(w.a,{item:!0,xs:8,children:Object(q.jsx)(D.a,{onChange:Ht,value:r,control:Object(q.jsx)(T.a,{checked:"dark"===r,color:"secondary"}),label:Object(q.jsx)(v.a,{variant:"button",children:"Light\xa0\xa0\xa0\xa0"}),labelPlacement:"start"})}),Object(q.jsx)(w.a,{item:!0,xs:4,children:Object(q.jsx)(Xt,{disableRipple:!0,onClick:Ht,children:Object(q.jsx)(v.a,{variant:"button",children:"Dark"})})})]}),Object(q.jsxs)(w.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"flex-end",style:{width:"200px"},children:[Object(q.jsx)(w.a,{item:!0,xs:8,children:Object(q.jsx)(D.a,{onChange:qt,value:ae,control:Object(q.jsx)(T.a,{checked:"EUR"===ae,color:"secondary"}),label:Object(q.jsx)(v.a,{variant:"button",children:"USD\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),labelPlacement:"start"})}),Object(q.jsx)(w.a,{item:!0,xs:4,children:Object(q.jsx)(Xt,{disableRipple:!0,onClick:qt,children:Object(q.jsx)(v.a,{variant:"button",children:"EUR"})})})]}),Object(q.jsxs)(w.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"flex-end",style:{width:"200px"},children:[Object(q.jsx)(w.a,{item:!0,xs:8,children:Object(q.jsx)(D.a,{disabled:it,onChange:Jt,value:de,control:Object(q.jsx)(T.a,{checked:"auto"===de,color:"secondary"}),label:Object(q.jsx)(v.a,{variant:"button",children:"Manual"}),labelPlacement:"start"})}),Object(q.jsx)(w.a,{item:!0,xs:4,children:Object(q.jsx)(Xt,{disableRipple:!0,onClick:Jt,children:Object(q.jsx)(v.a,{variant:"button",children:"Auto"})})})]})]})})]})})})}),Object(q.jsxs)("main",{className:Gt.content,children:[Object(q.jsx)(g.a,{}),Object(q.jsxs)(N.d,{children:[Object(q.jsx)(N.b,{exact:!0,path:"/:bot",children:""!==oe.apiKey?Object(q.jsx)(N.a,{to:Rt("portfolio")}):Object(q.jsx)(N.a,{to:Rt("configuration")})}),In.map((function(e,t){return Object(q.jsx)(N.b,{exact:!0,path:"/:bot/"+e.path,component:e.component},t)})),Bn.map((function(e,t){return Object(q.jsx)(N.b,{exact:!0,path:"/:bot/"+e.path,component:e.component},t)}))]}),Object(q.jsx)(W.a,{lgUp:!0,children:Object(q.jsx)("div",{className:Gt.smallScreenToggles,children:Object(q.jsx)(E.a,{className:Gt.settingsPaper,children:Object(q.jsx)(P.a,{pl:1,children:Object(q.jsxs)(w.a,{container:!0,direction:"column",children:[Object(q.jsxs)(w.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"flex-end",style:{maxWidth:"220px"},children:[Object(q.jsx)(w.a,{item:!0,xs:7,children:Object(q.jsx)(D.a,{onChange:Ht,value:r,control:Object(q.jsx)(T.a,{checked:"dark"===r,color:"secondary"}),label:Object(q.jsx)(v.a,{variant:"button",children:"Light\xa0\xa0\xa0\xa0"}),labelPlacement:"start"})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(Xt,{disableRipple:!0,onClick:Ht,children:Object(q.jsx)(v.a,{variant:"button",children:"Dark"})})}),Object(q.jsx)(w.a,{item:!0,xs:2})]}),Object(q.jsxs)(w.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"flex-end",style:{maxWidth:"220px"},children:[Object(q.jsx)(w.a,{item:!0,xs:7,children:Object(q.jsx)(D.a,{onChange:qt,value:ae,control:Object(q.jsx)(T.a,{checked:"EUR"===ae,color:"secondary"}),label:Object(q.jsx)(v.a,{variant:"button",children:"USD\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),labelPlacement:"start"})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(Xt,{disableRipple:!0,onClick:qt,children:Object(q.jsx)(v.a,{variant:"button",children:"EUR"})})}),Object(q.jsx)(w.a,{item:!0,xs:2})]}),Object(q.jsxs)(w.a,{container:!0,item:!0,xs:12,alignItems:"center",justify:"flex-end",style:{maxWidth:"220px"},children:[Object(q.jsx)(w.a,{item:!0,xs:7,children:Object(q.jsx)(D.a,{disabled:it,onChange:Jt,value:de,control:Object(q.jsx)(T.a,{checked:"auto"===de,color:"secondary"}),label:Object(q.jsx)(v.a,{variant:"button",children:"Manual"}),labelPlacement:"start"})}),Object(q.jsx)(w.a,{item:!0,xs:3,children:Object(q.jsx)(Xt,{disableRipple:!0,onClick:Jt,children:Object(q.jsx)(v.a,{variant:"button",children:"Auto"})})}),Object(q.jsx)(w.a,{item:!0,xs:2})]})]})})})})})]})]})]}):Object(q.jsx)("div",{}),Object(q.jsx)("div",{className:Gt.bottomPush,children:Object(q.jsx)("footer",{className:Gt.footer,children:Object(q.jsx)(w.a,{container:!0,alignItems:"center",children:Object(q.jsx)(w.a,{item:!0,xs:!1,sm:12,md:12,children:Object(q.jsx)(qn,{})})})})})]})}var Xn=function(e){var t=e.wdt,n=e.update,a=e.logout,c=e.onLogout;return Object(q.jsxs)(w.a,{item:!0,xs:!0,container:!0,direction:"row",alignItems:"center",justify:"flex-end",style:{maxWidth:t},children:[n&&Object(q.jsx)(W.a,{xsDown:!0,children:Object(q.jsx)(w.a,{item:!0,style:{width:"130px"},children:Object(q.jsx)(A.a,{label:"Update Available",style:{backgroundColor:"#959FD6",color:"white"}})})}),a&&Object(q.jsx)(w.a,{item:!0,style:{width:"48px"},children:Object(q.jsx)(Jn,{title:"Logout",children:Object(q.jsx)(G.a,{onClick:c,children:Object(q.jsx)(Y.a,{style:{color:"#ffffff"}})})})})]})},Zn=n(644);function _n(){var e=Object(a.useContext)(_)[1],t=Object(a.useContext)(Q),n=Object(j.a)(t,2),i=n[0],r=n[1],o=Object(a.useContext)(Je),s=Object(j.a)(o,2),l=s[0],d=s[1],b=Object(a.useContext)(X),h=Object(j.a)(b,2),u=(h[0],h[1]),x=Object(a.useContext)(Pt),O=Object(j.a)(x,2),p=(O[0],O[1]),m=Object(a.useContext)(dt)[1],g=Object(ee.b)(),f=g.enqueueSnackbar,v=g.closeSnackbar,y=function(e){return Object(q.jsx)(c.a.Fragment,{children:Object(q.jsx)(M.a,{style:{color:"#bbbbbb"},onClick:function(){v(e)},children:"Dismiss"})})};return Object(a.useEffect)((function(){return function(){var e=i.portfolio?JSON.parse(i.portfolio):[],t=[];if(e.forEach((function(e){t.push({coin:e.coin,number:e.number,price:e.last})})),0!==l.length){var n=Object(zt.a)(l);n[n.length-1].coins=t,n[n.length-1].eur=i.eur,n[n.length-1].usd=i.usd,d(n)}}(),function(){}}),[i]),Object(a.useEffect)((function(){return qe.on("status",(function(t){e((function(e){return Object(he.a)(Object(he.a)({},e),{},{status:t.status,serverversion:t.serverversion,servertime:t.servertime,access:t.access,publicKey:t.publicKey,loginNow:t.loginNow})}))})),qe.on("balances",(function(t){r(t.balances),e((function(e){return Object(he.a)(Object(he.a)({},e),{},{status:"connected",updated:t.balances.time})}))})),qe.on("performance",(function(e){d(e)})),qe.on("configuration",(function(e){u(e),p(Object(he.a)(Object(he.a)({},e),{},{recreate:!1}))})),qe.on("starting-balances",(function(e){m(e)})),qe.on("event",(function(e){!function(e,t){var n="order"===e.type?"info":e.type;f(t,{variant:n,autoHideDuration:8e3,action:y})}(e.log,e.summary)})),qe.on("disconnect",(function(t){e((function(e){return Object(he.a)(Object(he.a)({},e),{},{status:"disconnected"})}))})),function(){qe.disconnect()}}),[]),null}var Vn=function(){return Object(a.useEffect)((function(){var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-XBDNDRB9LJ",document.body.appendChild(e);var t=document.createElement("script");t.text="window.dataLayer = window.dataLayer || [];\n    function gtag() { dataLayer.push(arguments); }\n    gtag('js', new Date());\n    gtag('config', 'G-XBDNDRB9LJ');",document.body.appendChild(t)}),[]),Object(q.jsx)(I.a,{children:Object(q.jsx)(ee.a,{maxSnack:5,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Zn.a,children:Object(q.jsx)(V,{children:Object(q.jsx)($,{children:Object(q.jsx)(Ke,{children:Object(q.jsx)(Z,{children:Object(q.jsx)(Wt,{children:Object(q.jsx)(jt,{children:Object(q.jsxs)(K,{children:[Object(q.jsx)(_n,{}),Object(q.jsx)(m.a,{}),Object(q.jsx)(Kn,{})]})})})})})})})})})};r.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(Vn,{})}),document.getElementById("root"))},345:function(e,t){},628:function(e){e.exports=JSON.parse('{"v":"Mi4xLjQ="}')},629:function(e){e.exports=JSON.parse('{"version":"2.1.4"}')},681:function(e,t,n){},682:function(e,t,n){},840:function(e,t,n){},952:function(e,t){},954:function(e,t){},965:function(e,t){},967:function(e,t){},992:function(e,t){},994:function(e,t){},995:function(e,t){}},[[1063,1,2]]]);
//# sourceMappingURL=main.840fbe50.chunk.js.map